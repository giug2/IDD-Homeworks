<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2204.09272] Is Non-IID Data a Threat in Federated Online Learning to Rank?</title><meta property="og:description" content="In this perspective paper we study the effect of non independent and identically distributed (non-IID) data on federated online learning to rank (FOLTR) and chart directions for future work in this new and largely unex…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Is Non-IID Data a Threat in Federated Online Learning to Rank?">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Is Non-IID Data a Threat in Federated Online Learning to Rank?">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2204.09272">

<!--Generated on Mon Mar 11 11:22:11 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="federated online learning to rank,  data heterogeneity,  non-IID data">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Is Non-IID Data a Threat in Federated Online Learning to Rank?</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shuyi Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id1.1.id1" class="ltx_text ltx_affiliation_institution">The University of Queensland</span><span id="id2.2.id2" class="ltx_text ltx_affiliation_streetaddress">4072 St Lucia</span><span id="id3.3.id3" class="ltx_text ltx_affiliation_city">Brisbane</span><span id="id4.4.id4" class="ltx_text ltx_affiliation_state">QLD</span><span id="id5.5.id5" class="ltx_text ltx_affiliation_country">Australia</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:shuyi.wang@uq.edu.au">shuyi.wang@uq.edu.au</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Guido Zuccon
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id6.1.id1" class="ltx_text ltx_affiliation_institution">The University of Queensland</span><span id="id7.2.id2" class="ltx_text ltx_affiliation_streetaddress">4072 St Lucia</span><span id="id8.3.id3" class="ltx_text ltx_affiliation_city">Brisbane</span><span id="id9.4.id4" class="ltx_text ltx_affiliation_state">QLD</span><span id="id10.5.id5" class="ltx_text ltx_affiliation_country">Australia</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:g.zuccon@uq.edu.au">g.zuccon@uq.edu.au</a>
</span></span></span>
</div>
<div class="ltx_dates">(2022)</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id11.id1" class="ltx_p">In this perspective paper we study the effect of non independent and identically distributed (non-IID) data on federated online learning to rank (FOLTR) and chart directions for future work in this new and largely unexplored research area of Information Retrieval. In the FOLTR process, clients participate in a federation to jointly create an effective ranker from the implicit click signal originating in each client, without the need to share data (documents, queries, clicks). A well-known factor that affects the performance of federated learning systems, and that poses serious challenges to these approaches, is that there may be some type of bias in the way data is distributed across clients. While FOLTR systems are on their own rights a type of federated learning system, the presence and effect of non-IID data in FOLTR has not been studied. To this aim, we first enumerate possible data distribution settings that may showcase data bias across clients and thus give rise to the non-IID problem. Then, we study the impact of each setting on the performance of the current state-of-the-art FOLTR approach, the Federated Pairwise Differentiable Gradient Descent (FPDGD), and we highlight which data distributions may pose a problem for FOLTR methods. We also explore how common approaches proposed in the federated learning literature address non-IID issues in FOLTR. This allows us to unveil new research gaps that, we argue, future research in FOLTR should consider. This is an important contribution to the current state of FOLTR field because, for FOLTR systems to be deployed, the factors affecting their performance, including the impact of non-IID data, need to be thoroughly understood.</p>
</div>
<div class="ltx_keywords">federated online learning to rank, data heterogeneity, non-IID data
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_journalyear"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2022</span></span></span><span id="id2" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span id="id3" class="ltx_note ltx_note_frontmatter ltx_role_conference"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval; July 11–15, 2022; Madrid, Spain</span></span></span><span id="id4" class="ltx_note ltx_note_frontmatter ltx_role_booktitle"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR ’22), July 11–15, 2022, Madrid, Spain</span></span></span><span id="id5" class="ltx_note ltx_note_frontmatter ltx_role_price"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">price: </span>15.00</span></span></span><span id="id6" class="ltx_note ltx_note_frontmatter ltx_role_doi"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3477495.3531709</span></span></span><span id="id7" class="ltx_note ltx_note_frontmatter ltx_role_isbn"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-8732-3/22/07</span></span></span><span id="id8" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Learning to rank</span></span></span><span id="id9" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Combination, fusion and federated search</span></span></span><span id="id10" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Collaborative search</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Online learning to rank (OLTR) <cite class="ltx_cite ltx_citemacro_citep">(Hofmann, <a href="#bib.bib19" title="" class="ltx_ref">2013</a>; Oosterhuis and
de Rijke, <a href="#bib.bib32" title="" class="ltx_ref">2018</a>; Zhuang and Zuccon, <a href="#bib.bib55" title="" class="ltx_ref">2020</a>; Oosterhuis and
de Rijke, <a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite> aims to learn effective rankers from users search interactions, i.e., queries and clicks on search engine result pages (SERPs), by iteratively training and updating a production ranker through online interventions. The use of clicks, rather than relevance labels, reduces the high cost and time required to collect labels from editorial teams; it also better aligns with the user’s true preferences than labels provided by third-party judges. The execution of this training process online rather than offline (e.g., as in counterfactual LTR <cite class="ltx_cite ltx_citemacro_citep">(Jagerman
et al<span class="ltx_text">.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2019</a>)</cite>) addresses issues associated with rapid changes in query intents <cite class="ltx_cite ltx_citemacro_citep">(Zhuang and Zuccon, <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Traditional OLTR solutions assume the ranker resides on a central server that controls the production of SERPs, including the online intervention made to explore the ranker’s parameter space based on the index and that logs every user interaction (queries, clicks). This architecture, however, is inadequate for search contexts where the data is private or confidential and cannot be shared with the central search service or where users demand their interactions to be private, i.e. not to share clicks on SERPs with the server. Federated OLTR <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite> (FOLTR) has been canvassed as a solution to such situations. In FOLTR, private user data is kept on the user’s device. The data is used locally within the user device to learn updates to a globally shared ranker. Local updates from all clients in the federated system are then shared to a central server<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>We note that while the use of a single central server is common among federated learning methods (and certainly is the only setup investigated so far for FOLTR), alternative setups are possible and include peer-to-peer federated systems with no central servers <cite class="ltx_cite ltx_citemacro_citep">(Lalitha et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2019</a>; Roy et al<span class="ltx_text">.</span>, <a href="#bib.bib38" title="" class="ltx_ref">2019</a>; Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2021b</a>)</cite>, and federated systems with multiple central servers.</span></span></span> (thus without sharing of actual user data), which is responsible for the aggregation of the local updates, the consequent update of the global model and the sharing of the new global model with the clients (see Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2. Federated Learning in IR ‣ 2. Related Work ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> for a concrete example of a FOLTR system). The object of FOLTR is to federatively create a ranker that is more effective than each of the individual rankers users could create on each of the users private data – and ideally this federated ranker should perform as well as a ranker that is created using all user data in a centralised manner.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Research on the effectiveness of the FOLTR paradigm and the factors that affect its performance is still limited to date, with only a couple of proposed and empirically investigated methods <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2021d</a>, <a href="#bib.bib44" title="" class="ltx_ref">a</a>)</cite>. Importantly, research on FOLTR has fully ignored a key issue affecting the performance of federated learning (FL) systems: the presence of bias in how the training data is divided across the clients that join the federation. In other words, the fact that clients may hold non-independent and identically distributed (non-IID) data <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.2" class="ltx_p">Non-IID data can pose severe threat to the effectiveness of a federated learning method. Models trained federatively in the presence of non-IID data across the clients that participate in the federation, in fact, display significantly lower effectiveness, and at times experience difficulties for the model to converge <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>.
Effectiveness degradation can mainly be attributed to the weight divergence between the local models resulting from the non-IID distribution of the data across the clients <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>. Local models with the same initial parameters will converge to different models because of the heterogeneity of the local data distributions. This divergence will increase as more communication rounds of the federated learning algorithm are performed. This slows down or even impedes model convergence, worsening the performance of the global model. An illustration of the phenomenon of model divergence for both IID and non-IID data in federated learning is given in Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The ideal global model (<math id="S1.p4.1.m1.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="S1.p4.1.m1.1a"><msub id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml"><mi id="S1.p4.1.m1.1.1.2" xref="S1.p4.1.m1.1.1.2.cmml">θ</mi><mi id="S1.p4.1.m1.1.1.3" xref="S1.p4.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><apply id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S1.p4.1.m1.1.1.1.cmml" xref="S1.p4.1.m1.1.1">subscript</csymbol><ci id="S1.p4.1.m1.1.1.2.cmml" xref="S1.p4.1.m1.1.1.2">𝜃</ci><ci id="S1.p4.1.m1.1.1.3.cmml" xref="S1.p4.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">\theta_{t}</annotation></semantics></math>, under centralised learning) and actual global model (<math id="S1.p4.2.m2.1" class="ltx_Math" alttext="\theta^{avg}_{t}" display="inline"><semantics id="S1.p4.2.m2.1a"><msubsup id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml"><mi id="S1.p4.2.m2.1.1.2.2" xref="S1.p4.2.m2.1.1.2.2.cmml">θ</mi><mi id="S1.p4.2.m2.1.1.3" xref="S1.p4.2.m2.1.1.3.cmml">t</mi><mrow id="S1.p4.2.m2.1.1.2.3" xref="S1.p4.2.m2.1.1.2.3.cmml"><mi id="S1.p4.2.m2.1.1.2.3.2" xref="S1.p4.2.m2.1.1.2.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S1.p4.2.m2.1.1.2.3.1" xref="S1.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S1.p4.2.m2.1.1.2.3.3" xref="S1.p4.2.m2.1.1.2.3.3.cmml">v</mi><mo lspace="0em" rspace="0em" id="S1.p4.2.m2.1.1.2.3.1a" xref="S1.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S1.p4.2.m2.1.1.2.3.4" xref="S1.p4.2.m2.1.1.2.3.4.cmml">g</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S1.p4.2.m2.1b"><apply id="S1.p4.2.m2.1.1.cmml" xref="S1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S1.p4.2.m2.1.1.1.cmml" xref="S1.p4.2.m2.1.1">subscript</csymbol><apply id="S1.p4.2.m2.1.1.2.cmml" xref="S1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S1.p4.2.m2.1.1.2.1.cmml" xref="S1.p4.2.m2.1.1">superscript</csymbol><ci id="S1.p4.2.m2.1.1.2.2.cmml" xref="S1.p4.2.m2.1.1.2.2">𝜃</ci><apply id="S1.p4.2.m2.1.1.2.3.cmml" xref="S1.p4.2.m2.1.1.2.3"><times id="S1.p4.2.m2.1.1.2.3.1.cmml" xref="S1.p4.2.m2.1.1.2.3.1"></times><ci id="S1.p4.2.m2.1.1.2.3.2.cmml" xref="S1.p4.2.m2.1.1.2.3.2">𝑎</ci><ci id="S1.p4.2.m2.1.1.2.3.3.cmml" xref="S1.p4.2.m2.1.1.2.3.3">𝑣</ci><ci id="S1.p4.2.m2.1.1.2.3.4.cmml" xref="S1.p4.2.m2.1.1.2.3.4">𝑔</ci></apply></apply><ci id="S1.p4.2.m2.1.1.3.cmml" xref="S1.p4.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.2.m2.1c">\theta^{avg}_{t}</annotation></semantics></math>, average model created through FedAvg <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>) coincide when data is IID, but diverge when data is non-IID, showing that this is a sizeable problem when the data is non-IID.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2204.09272/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="438" height="192" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Illustration of the model divergence problem in FL, adapted from <cite class="ltx_cite ltx_citemacro_citet">Zhu
et al<span class="ltx_text">.</span> (<a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>. <math id="S1.F1.5.m1.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="S1.F1.5.m1.1b"><msub id="S1.F1.5.m1.1.1" xref="S1.F1.5.m1.1.1.cmml"><mi id="S1.F1.5.m1.1.1.2" xref="S1.F1.5.m1.1.1.2.cmml">θ</mi><mi id="S1.F1.5.m1.1.1.3" xref="S1.F1.5.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S1.F1.5.m1.1c"><apply id="S1.F1.5.m1.1.1.cmml" xref="S1.F1.5.m1.1.1"><csymbol cd="ambiguous" id="S1.F1.5.m1.1.1.1.cmml" xref="S1.F1.5.m1.1.1">subscript</csymbol><ci id="S1.F1.5.m1.1.1.2.cmml" xref="S1.F1.5.m1.1.1.2">𝜃</ci><ci id="S1.F1.5.m1.1.1.3.cmml" xref="S1.F1.5.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.5.m1.1d">\theta_{t}</annotation></semantics></math> is the ideal global model under centralised learning, and <math id="S1.F1.6.m2.1" class="ltx_Math" alttext="\theta^{avg}_{t}" display="inline"><semantics id="S1.F1.6.m2.1b"><msubsup id="S1.F1.6.m2.1.1" xref="S1.F1.6.m2.1.1.cmml"><mi id="S1.F1.6.m2.1.1.2.2" xref="S1.F1.6.m2.1.1.2.2.cmml">θ</mi><mi id="S1.F1.6.m2.1.1.3" xref="S1.F1.6.m2.1.1.3.cmml">t</mi><mrow id="S1.F1.6.m2.1.1.2.3" xref="S1.F1.6.m2.1.1.2.3.cmml"><mi id="S1.F1.6.m2.1.1.2.3.2" xref="S1.F1.6.m2.1.1.2.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S1.F1.6.m2.1.1.2.3.1" xref="S1.F1.6.m2.1.1.2.3.1.cmml">​</mo><mi id="S1.F1.6.m2.1.1.2.3.3" xref="S1.F1.6.m2.1.1.2.3.3.cmml">v</mi><mo lspace="0em" rspace="0em" id="S1.F1.6.m2.1.1.2.3.1b" xref="S1.F1.6.m2.1.1.2.3.1.cmml">​</mo><mi id="S1.F1.6.m2.1.1.2.3.4" xref="S1.F1.6.m2.1.1.2.3.4.cmml">g</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S1.F1.6.m2.1c"><apply id="S1.F1.6.m2.1.1.cmml" xref="S1.F1.6.m2.1.1"><csymbol cd="ambiguous" id="S1.F1.6.m2.1.1.1.cmml" xref="S1.F1.6.m2.1.1">subscript</csymbol><apply id="S1.F1.6.m2.1.1.2.cmml" xref="S1.F1.6.m2.1.1"><csymbol cd="ambiguous" id="S1.F1.6.m2.1.1.2.1.cmml" xref="S1.F1.6.m2.1.1">superscript</csymbol><ci id="S1.F1.6.m2.1.1.2.2.cmml" xref="S1.F1.6.m2.1.1.2.2">𝜃</ci><apply id="S1.F1.6.m2.1.1.2.3.cmml" xref="S1.F1.6.m2.1.1.2.3"><times id="S1.F1.6.m2.1.1.2.3.1.cmml" xref="S1.F1.6.m2.1.1.2.3.1"></times><ci id="S1.F1.6.m2.1.1.2.3.2.cmml" xref="S1.F1.6.m2.1.1.2.3.2">𝑎</ci><ci id="S1.F1.6.m2.1.1.2.3.3.cmml" xref="S1.F1.6.m2.1.1.2.3.3">𝑣</ci><ci id="S1.F1.6.m2.1.1.2.3.4.cmml" xref="S1.F1.6.m2.1.1.2.3.4">𝑔</ci></apply></apply><ci id="S1.F1.6.m2.1.1.3.cmml" xref="S1.F1.6.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.6.m2.1d">\theta^{avg}_{t}</annotation></semantics></math> is the average model created from the local models of Client 1 (<math id="S1.F1.7.m3.1" class="ltx_Math" alttext="\theta^{1}_{t}" display="inline"><semantics id="S1.F1.7.m3.1b"><msubsup id="S1.F1.7.m3.1.1" xref="S1.F1.7.m3.1.1.cmml"><mi id="S1.F1.7.m3.1.1.2.2" xref="S1.F1.7.m3.1.1.2.2.cmml">θ</mi><mi id="S1.F1.7.m3.1.1.3" xref="S1.F1.7.m3.1.1.3.cmml">t</mi><mn id="S1.F1.7.m3.1.1.2.3" xref="S1.F1.7.m3.1.1.2.3.cmml">1</mn></msubsup><annotation-xml encoding="MathML-Content" id="S1.F1.7.m3.1c"><apply id="S1.F1.7.m3.1.1.cmml" xref="S1.F1.7.m3.1.1"><csymbol cd="ambiguous" id="S1.F1.7.m3.1.1.1.cmml" xref="S1.F1.7.m3.1.1">subscript</csymbol><apply id="S1.F1.7.m3.1.1.2.cmml" xref="S1.F1.7.m3.1.1"><csymbol cd="ambiguous" id="S1.F1.7.m3.1.1.2.1.cmml" xref="S1.F1.7.m3.1.1">superscript</csymbol><ci id="S1.F1.7.m3.1.1.2.2.cmml" xref="S1.F1.7.m3.1.1.2.2">𝜃</ci><cn type="integer" id="S1.F1.7.m3.1.1.2.3.cmml" xref="S1.F1.7.m3.1.1.2.3">1</cn></apply><ci id="S1.F1.7.m3.1.1.3.cmml" xref="S1.F1.7.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.7.m3.1d">\theta^{1}_{t}</annotation></semantics></math>) and Client 2 (<math id="S1.F1.8.m4.1" class="ltx_Math" alttext="\theta^{2}_{t}" display="inline"><semantics id="S1.F1.8.m4.1b"><msubsup id="S1.F1.8.m4.1.1" xref="S1.F1.8.m4.1.1.cmml"><mi id="S1.F1.8.m4.1.1.2.2" xref="S1.F1.8.m4.1.1.2.2.cmml">θ</mi><mi id="S1.F1.8.m4.1.1.3" xref="S1.F1.8.m4.1.1.3.cmml">t</mi><mn id="S1.F1.8.m4.1.1.2.3" xref="S1.F1.8.m4.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S1.F1.8.m4.1c"><apply id="S1.F1.8.m4.1.1.cmml" xref="S1.F1.8.m4.1.1"><csymbol cd="ambiguous" id="S1.F1.8.m4.1.1.1.cmml" xref="S1.F1.8.m4.1.1">subscript</csymbol><apply id="S1.F1.8.m4.1.1.2.cmml" xref="S1.F1.8.m4.1.1"><csymbol cd="ambiguous" id="S1.F1.8.m4.1.1.2.1.cmml" xref="S1.F1.8.m4.1.1">superscript</csymbol><ci id="S1.F1.8.m4.1.1.2.2.cmml" xref="S1.F1.8.m4.1.1.2.2">𝜃</ci><cn type="integer" id="S1.F1.8.m4.1.1.2.3.cmml" xref="S1.F1.8.m4.1.1.2.3">2</cn></apply><ci id="S1.F1.8.m4.1.1.3.cmml" xref="S1.F1.8.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.8.m4.1d">\theta^{2}_{t}</annotation></semantics></math>) through FedAvg <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>.</figcaption>
</figure>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">This perspective paper <span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>In this paper, if not specified otherwise, we only consider horizontal FL <cite class="ltx_cite ltx_citemacro_citep">(Yang
et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2019</a>)</cite> and we believe our framework can be applied to both cross-device and cross-silo federated learning <cite class="ltx_cite ltx_citemacro_citep">(Kairouz
et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2021</a>)</cite>.</span></span></span> provides a systematic understanding of when non-IID data may occur in the FOLTR setting and the impact of non-IID data in such cases. This crucial research sheds light on the factors that need to be considered when devising and deploying FOLTR methods. It also details the experimental conditions for simulating non-IID data in FOLTR, paving the way for the development and adaptation to OLTR of existing and new methods for dealing with non-IID data. With this regard, we also show how some of the methods proposed in the federated learning literature to deal with non-IID data can be cast in the FOLTR framework and the gaps that still exist in effectively addressing non-IID data in FOLTR.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Federated Learning with non-IID data</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Zhu et al. have compiled a comprehensive survey on the impact of non-IID data on federated learning  <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>, also reviewing the current research on handling these challenges.
Early work from Zhao et al. <cite class="ltx_cite ltx_citemacro_citep">(Zhao
et al<span class="ltx_text">.</span>, <a href="#bib.bib53" title="" class="ltx_ref">2018</a>)</cite> shows a deterioration of the accuracy of federated learning if non-IID or heterogeneous data is present; they also provide a solution to this problem by creating a small subset of globally shared data between all clients (local devices).
Li et al. <cite class="ltx_cite ltx_citemacro_citep">(Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2020a</a>)</cite> analyse the convergence of the federated learning algorithm <code id="S2.SS1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">FedAvg</code> <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite> (which is a component of the FOLTR method we rely upon for investigation <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>) on non-IID data and empirically show that data heterogeneity slows down the convergence. This raised attention to the presence of non-IID data in federated learning.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Generally speaking, existing approaches for handling non-IID issues in federated learning can be classified into three categories: data-based approaches, algorithm-based approaches, and system-based approaches <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>.
Data sharing <cite class="ltx_cite ltx_citemacro_citep">(Zhao
et al<span class="ltx_text">.</span>, <a href="#bib.bib53" title="" class="ltx_ref">2018</a>)</cite> and data augmentation <cite class="ltx_cite ltx_citemacro_citep">(Duan et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2019</a>)</cite> are two kinds of typical data-based approaches. While they achieve state-of-the-art performance, they fundamentally conflict with the objective of federated learning: that of not sharing data across clients. This is because, for example, methods such as data sharing require a subset of private data to be shared across all clients. While proposals have been made to use synthetic, rather than real, data for the data sharing mechanism <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2021b</a>)</cite> it is unclear (1) what the effectiveness loss of the sharing of synthetic data in place of real data is, and (2) whether the sharing of synthetic data could still jeopardise privacy as this synthetic data is typically generated from real data, and thus analysis of the synthetic data may reveal key aspects of and information contained in the real data.
Algorithm-based approaches mainly focus on personalisation methods like local fine-tuning of a neural model <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2019</a>)</cite> and Personalized FedAvg (Per-FedAvg) <cite class="ltx_cite ltx_citemacro_citep">(Fallah
et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2020</a>)</cite> – which are both limited mainly to neural models – or the casting of the federated learning process into a multi-task learning problem <cite class="ltx_cite ltx_citemacro_citep">(Smith
et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2017</a>)</cite>.
System based approaches adopt clustering <cite class="ltx_cite ltx_citemacro_citep">(Sattler
et al<span class="ltx_text">.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2020</a>)</cite> and tree-based structure <cite class="ltx_cite ltx_citemacro_citep">(Ghosh
et al<span class="ltx_text">.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite> to deal with non-IID data.
Limitations exist among all proposed approaches, and this is still a much unexplored line of research.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Federated Learning in IR</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">We provide an overview of the use of federated learning in OLTR in section 3. That section also introduces the FOLTR method used in the empirical experimentation in this paper: the Federated Pairwise Differentiable Gradient Descent (FPDGD) method <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>, which is the current state-of-the-art in FOLTR.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Aside from its usage in OLTR, recent works have applied federated learning in other IR contexts. Zong et al. <cite class="ltx_cite ltx_citemacro_citep">(Zong
et al<span class="ltx_text">.</span>, <a href="#bib.bib57" title="" class="ltx_ref">2021</a>)</cite> provide a solution for cross-modal retrieval in a distributed data storage scenario, which uses federated learning to reduce the potential privacy risks and the high maintenance costs encountered when dealing with a large amount of training data. Wang et al. <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2021c</a>)</cite> study learning to rank (but not OLTR) in a cross-silo federated learning setting; this work is aimed at helping companies that have access to limited labelled data to collaboratively build a document retrieval system efficiently.
Hartmann et al. <cite class="ltx_cite ltx_citemacro_citep">(Hartmann et al<span class="ltx_text">.</span>, <a href="#bib.bib17" title="" class="ltx_ref">2019</a>)</cite> use federated learning to improve the ranking of suggestions
in the Firefox URL bar, so that the training of the ranker on user interactions is performed in a privacy-preserving way; they show that this federated approach improves on the suggestions produced by the previously employed heuristics in Firefox.
Yang et al.  <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2018</a>)</cite> describe the use of federated learning for search query suggestions in the Google Virtual Keyboard (GBoard) product. Here, a baseline model identifies relevant query suggestions given a user query; candidate suggestions are then filtered using a triggering model learnt using federated learning.
Closest to FOLTR is the work of  <cite class="ltx_cite ltx_citemacro_citet">Li and Ouyang (<a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>, who devise an offline federated learning method for counterfactual learning to rank from historic click logs.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">Aside from the previous examples, federated learning has also seen adoption in the area of personalised search <cite class="ltx_cite ltx_citemacro_citep">(Ghorab
et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2013</a>)</cite>, which aims to return search results that cater to the specific user’s interests. While feature-based <cite class="ltx_cite ltx_citemacro_citep">(Carman
et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2010</a>; Bennett et al<span class="ltx_text">.</span>, <a href="#bib.bib5" title="" class="ltx_ref">2012</a>; Harvey
et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2013</a>)</cite> and deep learning-based <cite class="ltx_cite ltx_citemacro_citep">(Song
et al<span class="ltx_text">.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2014</a>; Ge
et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2018</a>; Yao
et al<span class="ltx_text">.</span>, <a href="#bib.bib51" title="" class="ltx_ref">2020</a>)</cite> methods are widely used in this area, user data privacy has been often overlooked – this is particularly the case when considering the user’s query logs which are collected by the central server to create the personalised ranker. To tackle this issue, Yao et al. <cite class="ltx_cite ltx_citemacro_citep">(Yao et al<span class="ltx_text">.</span>, <a href="#bib.bib50" title="" class="ltx_ref">2021</a>)</cite> recently proposed a privacy protection enhanced personalised search framework which adapts federated learning to the state-of-the-art personalised search model. While not directly related to the OLTR context we consider here, these related lines of research could benefit from the investigations and considerations reported in this paper, as the problem of non-IID data in these previous contexts has also been ignored.</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2204.09272/assets/images/FOLTR.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="568" height="385" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Schematic representation of the FOLTR setting.
 </figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>FOLTR Framework and FPDGD</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">We next briefly describe the FOLTR framework, including the Federated Pairwise Differentiable Gradient Descent (FPDGD) method <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>, which represents the current state-of-the-art in FOLTR and that we use as a representative method in our experiments to investigate the effect of non-IID data on FOLTR.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.8" class="ltx_p">The federated online learning to rank setting is pictured in Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2. Federated Learning in IR ‣ 2. Related Work ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Searchable data is stored by each client ( <svg id="S3.p2.1.pic1" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.1.pic1.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">1</span></foreignObject></g></g></svg>) and not shared with the centralised server or other clients. Different clients may hold all, a portion of, none of the same searchable data. Queries and user’s clicks occur at a client side ( <svg id="S3.p2.2.pic2" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.2.pic2.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">2</span></foreignObject></g></g></svg> and  <svg id="S3.p2.3.pic3" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.3.pic3.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">3</span></foreignObject></g></g></svg>) and are not communicated to the centralised server or other clients: search is indeed entirely performed on the user device ( <svg id="S3.p2.4.pic4" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.4.pic4.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">2</span></foreignObject></g></g></svg>). Each client exploits search interactions to perform local model updates to the ranker; for FPDGD, the routine executed by the client is shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 3. FOLTR Framework and FPDGD ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, and the PDGD update is shown in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 3. FOLTR Framework and FPDGD ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Each client considers <math id="S3.p2.5.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.p2.5.m1.1a"><mi id="S3.p2.5.m1.1.1" xref="S3.p2.5.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m1.1b"><ci id="S3.p2.5.m1.1.1.cmml" xref="S3.p2.5.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m1.1c">B</annotation></semantics></math> interactions before updating the local ranker using the PDGD gradients.
These local updates are then shared with the central server ( <svg id="S3.p2.6.pic5" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.6.pic5.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">5</span></foreignObject></g></g></svg>), which in turn combines the ranker updates from the clients to produce a revised ranker ( <svg id="S3.p2.7.pic6" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.7.pic6.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">6</span></foreignObject></g></g></svg>); for FPDGD, this is achieved according to the server routine in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 3. FOLTR Framework and FPDGD ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The new global model is then distributed to the user’s device ( <svg id="S3.p2.8.pic7" class="ltx_picture" height="12.46" overflow="visible" version="1.1" width="12.46"><g transform="translate(0,12.46) matrix(1 0 0 -1 0 0) translate(6.23,0) translate(0,6.23)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.23 0 C 6.23 3.44 3.44 6.23 0 6.23 C -3.44 6.23 -6.23 3.44 -6.23 0 C -6.23 -3.44 -3.44 -6.23 0 -6.23 C 3.44 -6.23 6.23 -3.44 6.23 0 Z M 0 0" style="stroke:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.11 -4.01)" fill="#000000" stroke="#000000"><foreignObject width="6.23" height="8.03" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.p2.8.pic7.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;color:#FFFFFF;">7</span></foreignObject></g></g></svg>).</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.22.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> FederatedAveraging PDGD. 
<br class="ltx_break"><math id="alg1.11.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="alg1.11.m1.1b"><mo id="alg1.11.m1.1.1" xref="alg1.11.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="alg1.11.m1.1c"><ci id="alg1.11.m1.1.1.cmml" xref="alg1.11.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.m1.1d">\bullet</annotation></semantics></math> set of clients participating training: <math id="alg1.12.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg1.12.m2.1b"><mi id="alg1.12.m2.1.1" xref="alg1.12.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg1.12.m2.1c"><ci id="alg1.12.m2.1.1.cmml" xref="alg1.12.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.m2.1d">C</annotation></semantics></math>, each client is indexed by <math id="alg1.13.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg1.13.m3.1b"><mi id="alg1.13.m3.1.1" xref="alg1.13.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg1.13.m3.1c"><ci id="alg1.13.m3.1.1.cmml" xref="alg1.13.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.m3.1d">c</annotation></semantics></math>; 
<br class="ltx_break"><math id="alg1.14.m4.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="alg1.14.m4.1b"><mo id="alg1.14.m4.1.1" xref="alg1.14.m4.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="alg1.14.m4.1c"><ci id="alg1.14.m4.1.1.cmml" xref="alg1.14.m4.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.m4.1d">\bullet</annotation></semantics></math> number of local interactions for client <math id="alg1.15.m5.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg1.15.m5.1b"><mi id="alg1.15.m5.1.1" xref="alg1.15.m5.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg1.15.m5.1c"><ci id="alg1.15.m5.1.1.cmml" xref="alg1.15.m5.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.m5.1d">c</annotation></semantics></math>: <math id="alg1.16.m6.1" class="ltx_Math" alttext="n_{c}" display="inline"><semantics id="alg1.16.m6.1b"><msub id="alg1.16.m6.1.1" xref="alg1.16.m6.1.1.cmml"><mi id="alg1.16.m6.1.1.2" xref="alg1.16.m6.1.1.2.cmml">n</mi><mi id="alg1.16.m6.1.1.3" xref="alg1.16.m6.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.16.m6.1c"><apply id="alg1.16.m6.1.1.cmml" xref="alg1.16.m6.1.1"><csymbol cd="ambiguous" id="alg1.16.m6.1.1.1.cmml" xref="alg1.16.m6.1.1">subscript</csymbol><ci id="alg1.16.m6.1.1.2.cmml" xref="alg1.16.m6.1.1.2">𝑛</ci><ci id="alg1.16.m6.1.1.3.cmml" xref="alg1.16.m6.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.m6.1d">n_{c}</annotation></semantics></math> (<math id="alg1.17.m7.1" class="ltx_Math" alttext="\sum_{c=1}^{|C|}n_{c}=n" display="inline"><semantics id="alg1.17.m7.1b"><mrow id="alg1.17.m7.1.2" xref="alg1.17.m7.1.2.cmml"><mrow id="alg1.17.m7.1.2.2" xref="alg1.17.m7.1.2.2.cmml"><msubsup id="alg1.17.m7.1.2.2.1" xref="alg1.17.m7.1.2.2.1.cmml"><mo id="alg1.17.m7.1.2.2.1.2.2" xref="alg1.17.m7.1.2.2.1.2.2.cmml">∑</mo><mrow id="alg1.17.m7.1.2.2.1.2.3" xref="alg1.17.m7.1.2.2.1.2.3.cmml"><mi id="alg1.17.m7.1.2.2.1.2.3.2" xref="alg1.17.m7.1.2.2.1.2.3.2.cmml">c</mi><mo id="alg1.17.m7.1.2.2.1.2.3.1" xref="alg1.17.m7.1.2.2.1.2.3.1.cmml">=</mo><mn id="alg1.17.m7.1.2.2.1.2.3.3" xref="alg1.17.m7.1.2.2.1.2.3.3.cmml">1</mn></mrow><mrow id="alg1.17.m7.1.1.1.3" xref="alg1.17.m7.1.1.1.2.cmml"><mo stretchy="false" id="alg1.17.m7.1.1.1.3.1" xref="alg1.17.m7.1.1.1.2.1.cmml">|</mo><mi id="alg1.17.m7.1.1.1.1" xref="alg1.17.m7.1.1.1.1.cmml">C</mi><mo stretchy="false" id="alg1.17.m7.1.1.1.3.2" xref="alg1.17.m7.1.1.1.2.1.cmml">|</mo></mrow></msubsup><msub id="alg1.17.m7.1.2.2.2" xref="alg1.17.m7.1.2.2.2.cmml"><mi id="alg1.17.m7.1.2.2.2.2" xref="alg1.17.m7.1.2.2.2.2.cmml">n</mi><mi id="alg1.17.m7.1.2.2.2.3" xref="alg1.17.m7.1.2.2.2.3.cmml">c</mi></msub></mrow><mo id="alg1.17.m7.1.2.1" xref="alg1.17.m7.1.2.1.cmml">=</mo><mi id="alg1.17.m7.1.2.3" xref="alg1.17.m7.1.2.3.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.17.m7.1c"><apply id="alg1.17.m7.1.2.cmml" xref="alg1.17.m7.1.2"><eq id="alg1.17.m7.1.2.1.cmml" xref="alg1.17.m7.1.2.1"></eq><apply id="alg1.17.m7.1.2.2.cmml" xref="alg1.17.m7.1.2.2"><apply id="alg1.17.m7.1.2.2.1.cmml" xref="alg1.17.m7.1.2.2.1"><csymbol cd="ambiguous" id="alg1.17.m7.1.2.2.1.1.cmml" xref="alg1.17.m7.1.2.2.1">superscript</csymbol><apply id="alg1.17.m7.1.2.2.1.2.cmml" xref="alg1.17.m7.1.2.2.1"><csymbol cd="ambiguous" id="alg1.17.m7.1.2.2.1.2.1.cmml" xref="alg1.17.m7.1.2.2.1">subscript</csymbol><sum id="alg1.17.m7.1.2.2.1.2.2.cmml" xref="alg1.17.m7.1.2.2.1.2.2"></sum><apply id="alg1.17.m7.1.2.2.1.2.3.cmml" xref="alg1.17.m7.1.2.2.1.2.3"><eq id="alg1.17.m7.1.2.2.1.2.3.1.cmml" xref="alg1.17.m7.1.2.2.1.2.3.1"></eq><ci id="alg1.17.m7.1.2.2.1.2.3.2.cmml" xref="alg1.17.m7.1.2.2.1.2.3.2">𝑐</ci><cn type="integer" id="alg1.17.m7.1.2.2.1.2.3.3.cmml" xref="alg1.17.m7.1.2.2.1.2.3.3">1</cn></apply></apply><apply id="alg1.17.m7.1.1.1.2.cmml" xref="alg1.17.m7.1.1.1.3"><abs id="alg1.17.m7.1.1.1.2.1.cmml" xref="alg1.17.m7.1.1.1.3.1"></abs><ci id="alg1.17.m7.1.1.1.1.cmml" xref="alg1.17.m7.1.1.1.1">𝐶</ci></apply></apply><apply id="alg1.17.m7.1.2.2.2.cmml" xref="alg1.17.m7.1.2.2.2"><csymbol cd="ambiguous" id="alg1.17.m7.1.2.2.2.1.cmml" xref="alg1.17.m7.1.2.2.2">subscript</csymbol><ci id="alg1.17.m7.1.2.2.2.2.cmml" xref="alg1.17.m7.1.2.2.2.2">𝑛</ci><ci id="alg1.17.m7.1.2.2.2.3.cmml" xref="alg1.17.m7.1.2.2.2.3">𝑐</ci></apply></apply><ci id="alg1.17.m7.1.2.3.cmml" xref="alg1.17.m7.1.2.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.m7.1d">\sum_{c=1}^{|C|}n_{c}=n</annotation></semantics></math>) 
<br class="ltx_break"><math id="alg1.18.m8.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="alg1.18.m8.1b"><mo id="alg1.18.m8.1.1" xref="alg1.18.m8.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="alg1.18.m8.1c"><ci id="alg1.18.m8.1.1.cmml" xref="alg1.18.m8.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.m8.1d">\bullet</annotation></semantics></math> local interaction set: <math id="alg1.19.m9.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.19.m9.1b"><mi id="alg1.19.m9.1.1" xref="alg1.19.m9.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.19.m9.1c"><ci id="alg1.19.m9.1.1.cmml" xref="alg1.19.m9.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.m9.1d">B</annotation></semantics></math>, model weights: <math id="alg1.20.m10.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg1.20.m10.1b"><mi id="alg1.20.m10.1.1" xref="alg1.20.m10.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg1.20.m10.1c"><ci id="alg1.20.m10.1.1.cmml" xref="alg1.20.m10.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.m10.1d">\theta</annotation></semantics></math>.</figcaption>
<div id="alg1.23" class="ltx_listing ltx_listing">
<div id="alg1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>   <span id="alg1.l0.2" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg1.l1" class="ltx_listingline">  initialize <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="alg1.l1.m1.1a"><msub id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">θ</mi><mn id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝜃</ci><cn type="integer" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\theta_{0}</annotation></semantics></math>; scoring function: <math id="alg1.l1.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="alg1.l1.m2.1a"><mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">f</annotation></semantics></math>; learning rate: <math id="alg1.l1.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\eta</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">for</span> each round <math id="alg1.l2.m1.2" class="ltx_Math" alttext="t=1,\dots\infty" display="inline"><semantics id="alg1.l2.m1.2a"><mrow id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml"><mi id="alg1.l2.m1.2.2.3" xref="alg1.l2.m1.2.2.3.cmml">t</mi><mo id="alg1.l2.m1.2.2.2" xref="alg1.l2.m1.2.2.2.cmml">=</mo><mrow id="alg1.l2.m1.2.2.1.1" xref="alg1.l2.m1.2.2.1.2.cmml"><mn id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">1</mn><mo id="alg1.l2.m1.2.2.1.1.2" xref="alg1.l2.m1.2.2.1.2.cmml">,</mo><mrow id="alg1.l2.m1.2.2.1.1.1" xref="alg1.l2.m1.2.2.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l2.m1.2.2.1.1.1.2" xref="alg1.l2.m1.2.2.1.1.1.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.2.2.1.1.1.1" xref="alg1.l2.m1.2.2.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="alg1.l2.m1.2.2.1.1.1.3" xref="alg1.l2.m1.2.2.1.1.1.3.cmml">∞</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.2b"><apply id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2"><eq id="alg1.l2.m1.2.2.2.cmml" xref="alg1.l2.m1.2.2.2"></eq><ci id="alg1.l2.m1.2.2.3.cmml" xref="alg1.l2.m1.2.2.3">𝑡</ci><list id="alg1.l2.m1.2.2.1.2.cmml" xref="alg1.l2.m1.2.2.1.1"><cn type="integer" id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">1</cn><apply id="alg1.l2.m1.2.2.1.1.1.cmml" xref="alg1.l2.m1.2.2.1.1.1"><times id="alg1.l2.m1.2.2.1.1.1.1.cmml" xref="alg1.l2.m1.2.2.1.1.1.1"></times><ci id="alg1.l2.m1.2.2.1.1.1.2.cmml" xref="alg1.l2.m1.2.2.1.1.1.2">…</ci><infinity id="alg1.l2.m1.2.2.1.1.1.3.cmml" xref="alg1.l2.m1.2.2.1.1.1.3"></infinity></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.2c">t=1,\dots\infty</annotation></semantics></math> <span id="alg1.l2.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">     <span id="alg1.l3.1" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l3.m1.1" class="ltx_Math" alttext="c\in C" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">c</mi><mo id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">∈</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><in id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></in><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑐</ci><ci id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">c\in C</annotation></semantics></math> <span id="alg1.l3.2" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">        <math id="alg1.l4.m1.4" class="ltx_Math" alttext="\theta_{t+1}^{c},n_{c}\leftarrow\text{ClientUpdate}(c,\theta_{t})" display="inline"><semantics id="alg1.l4.m1.4a"><mrow id="alg1.l4.m1.4.4" xref="alg1.l4.m1.4.4.cmml"><mrow id="alg1.l4.m1.3.3.2.2" xref="alg1.l4.m1.3.3.2.3.cmml"><msubsup id="alg1.l4.m1.2.2.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.2.2" xref="alg1.l4.m1.2.2.1.1.1.2.2.cmml">θ</mi><mrow id="alg1.l4.m1.2.2.1.1.1.2.3" xref="alg1.l4.m1.2.2.1.1.1.2.3.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.2.3.2" xref="alg1.l4.m1.2.2.1.1.1.2.3.2.cmml">t</mi><mo id="alg1.l4.m1.2.2.1.1.1.2.3.1" xref="alg1.l4.m1.2.2.1.1.1.2.3.1.cmml">+</mo><mn id="alg1.l4.m1.2.2.1.1.1.2.3.3" xref="alg1.l4.m1.2.2.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l4.m1.2.2.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.1.3.cmml">c</mi></msubsup><mo id="alg1.l4.m1.3.3.2.2.3" xref="alg1.l4.m1.3.3.2.3.cmml">,</mo><msub id="alg1.l4.m1.3.3.2.2.2" xref="alg1.l4.m1.3.3.2.2.2.cmml"><mi id="alg1.l4.m1.3.3.2.2.2.2" xref="alg1.l4.m1.3.3.2.2.2.2.cmml">n</mi><mi id="alg1.l4.m1.3.3.2.2.2.3" xref="alg1.l4.m1.3.3.2.2.2.3.cmml">c</mi></msub></mrow><mo stretchy="false" id="alg1.l4.m1.4.4.4" xref="alg1.l4.m1.4.4.4.cmml">←</mo><mrow id="alg1.l4.m1.4.4.3" xref="alg1.l4.m1.4.4.3.cmml"><mtext id="alg1.l4.m1.4.4.3.3" xref="alg1.l4.m1.4.4.3.3a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="alg1.l4.m1.4.4.3.2" xref="alg1.l4.m1.4.4.3.2.cmml">​</mo><mrow id="alg1.l4.m1.4.4.3.1.1" xref="alg1.l4.m1.4.4.3.1.2.cmml"><mo stretchy="false" id="alg1.l4.m1.4.4.3.1.1.2" xref="alg1.l4.m1.4.4.3.1.2.cmml">(</mo><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">c</mi><mo id="alg1.l4.m1.4.4.3.1.1.3" xref="alg1.l4.m1.4.4.3.1.2.cmml">,</mo><msub id="alg1.l4.m1.4.4.3.1.1.1" xref="alg1.l4.m1.4.4.3.1.1.1.cmml"><mi id="alg1.l4.m1.4.4.3.1.1.1.2" xref="alg1.l4.m1.4.4.3.1.1.1.2.cmml">θ</mi><mi id="alg1.l4.m1.4.4.3.1.1.1.3" xref="alg1.l4.m1.4.4.3.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l4.m1.4.4.3.1.1.4" xref="alg1.l4.m1.4.4.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.4b"><apply id="alg1.l4.m1.4.4.cmml" xref="alg1.l4.m1.4.4"><ci id="alg1.l4.m1.4.4.4.cmml" xref="alg1.l4.m1.4.4.4">←</ci><list id="alg1.l4.m1.3.3.2.3.cmml" xref="alg1.l4.m1.3.3.2.2"><apply id="alg1.l4.m1.2.2.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1">superscript</csymbol><apply id="alg1.l4.m1.2.2.1.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.1.1.2.1.cmml" xref="alg1.l4.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.l4.m1.2.2.1.1.1.2.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.2.2">𝜃</ci><apply id="alg1.l4.m1.2.2.1.1.1.2.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.2.3"><plus id="alg1.l4.m1.2.2.1.1.1.2.3.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.2.3.1"></plus><ci id="alg1.l4.m1.2.2.1.1.1.2.3.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.l4.m1.2.2.1.1.1.2.3.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.l4.m1.2.2.1.1.1.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.3">𝑐</ci></apply><apply id="alg1.l4.m1.3.3.2.2.2.cmml" xref="alg1.l4.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l4.m1.3.3.2.2.2.1.cmml" xref="alg1.l4.m1.3.3.2.2.2">subscript</csymbol><ci id="alg1.l4.m1.3.3.2.2.2.2.cmml" xref="alg1.l4.m1.3.3.2.2.2.2">𝑛</ci><ci id="alg1.l4.m1.3.3.2.2.2.3.cmml" xref="alg1.l4.m1.3.3.2.2.2.3">𝑐</ci></apply></list><apply id="alg1.l4.m1.4.4.3.cmml" xref="alg1.l4.m1.4.4.3"><times id="alg1.l4.m1.4.4.3.2.cmml" xref="alg1.l4.m1.4.4.3.2"></times><ci id="alg1.l4.m1.4.4.3.3a.cmml" xref="alg1.l4.m1.4.4.3.3"><mtext id="alg1.l4.m1.4.4.3.3.cmml" xref="alg1.l4.m1.4.4.3.3">ClientUpdate</mtext></ci><interval closure="open" id="alg1.l4.m1.4.4.3.1.2.cmml" xref="alg1.l4.m1.4.4.3.1.1"><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝑐</ci><apply id="alg1.l4.m1.4.4.3.1.1.1.cmml" xref="alg1.l4.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l4.m1.4.4.3.1.1.1">subscript</csymbol><ci id="alg1.l4.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l4.m1.4.4.3.1.1.1.2">𝜃</ci><ci id="alg1.l4.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l4.m1.4.4.3.1.1.1.3">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.4c">\theta_{t+1}^{c},n_{c}\leftarrow\text{ClientUpdate}(c,\theta_{t})</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">     <math id="alg1.l5.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\sum_{c=1}^{|C|}\frac{n_{c}}{n}\theta_{t+1}^{c}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.2" xref="alg1.l5.m1.1.2.cmml"><msub id="alg1.l5.m1.1.2.2" xref="alg1.l5.m1.1.2.2.cmml"><mi id="alg1.l5.m1.1.2.2.2" xref="alg1.l5.m1.1.2.2.2.cmml">θ</mi><mrow id="alg1.l5.m1.1.2.2.3" xref="alg1.l5.m1.1.2.2.3.cmml"><mi id="alg1.l5.m1.1.2.2.3.2" xref="alg1.l5.m1.1.2.2.3.2.cmml">t</mi><mo id="alg1.l5.m1.1.2.2.3.1" xref="alg1.l5.m1.1.2.2.3.1.cmml">+</mo><mn id="alg1.l5.m1.1.2.2.3.3" xref="alg1.l5.m1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="alg1.l5.m1.1.2.1" xref="alg1.l5.m1.1.2.1.cmml">←</mo><mrow id="alg1.l5.m1.1.2.3" xref="alg1.l5.m1.1.2.3.cmml"><msubsup id="alg1.l5.m1.1.2.3.1" xref="alg1.l5.m1.1.2.3.1.cmml"><mo id="alg1.l5.m1.1.2.3.1.2.2" xref="alg1.l5.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="alg1.l5.m1.1.2.3.1.2.3" xref="alg1.l5.m1.1.2.3.1.2.3.cmml"><mi id="alg1.l5.m1.1.2.3.1.2.3.2" xref="alg1.l5.m1.1.2.3.1.2.3.2.cmml">c</mi><mo id="alg1.l5.m1.1.2.3.1.2.3.1" xref="alg1.l5.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="alg1.l5.m1.1.2.3.1.2.3.3" xref="alg1.l5.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mrow id="alg1.l5.m1.1.1.1.3" xref="alg1.l5.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l5.m1.1.1.1.3.1" xref="alg1.l5.m1.1.1.1.2.1.cmml">|</mo><mi id="alg1.l5.m1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.cmml">C</mi><mo stretchy="false" id="alg1.l5.m1.1.1.1.3.2" xref="alg1.l5.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup><mrow id="alg1.l5.m1.1.2.3.2" xref="alg1.l5.m1.1.2.3.2.cmml"><mfrac id="alg1.l5.m1.1.2.3.2.2" xref="alg1.l5.m1.1.2.3.2.2.cmml"><msub id="alg1.l5.m1.1.2.3.2.2.2" xref="alg1.l5.m1.1.2.3.2.2.2.cmml"><mi id="alg1.l5.m1.1.2.3.2.2.2.2" xref="alg1.l5.m1.1.2.3.2.2.2.2.cmml">n</mi><mi id="alg1.l5.m1.1.2.3.2.2.2.3" xref="alg1.l5.m1.1.2.3.2.2.2.3.cmml">c</mi></msub><mi id="alg1.l5.m1.1.2.3.2.2.3" xref="alg1.l5.m1.1.2.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.2.3.2.1" xref="alg1.l5.m1.1.2.3.2.1.cmml">​</mo><msubsup id="alg1.l5.m1.1.2.3.2.3" xref="alg1.l5.m1.1.2.3.2.3.cmml"><mi id="alg1.l5.m1.1.2.3.2.3.2.2" xref="alg1.l5.m1.1.2.3.2.3.2.2.cmml">θ</mi><mrow id="alg1.l5.m1.1.2.3.2.3.2.3" xref="alg1.l5.m1.1.2.3.2.3.2.3.cmml"><mi id="alg1.l5.m1.1.2.3.2.3.2.3.2" xref="alg1.l5.m1.1.2.3.2.3.2.3.2.cmml">t</mi><mo id="alg1.l5.m1.1.2.3.2.3.2.3.1" xref="alg1.l5.m1.1.2.3.2.3.2.3.1.cmml">+</mo><mn id="alg1.l5.m1.1.2.3.2.3.2.3.3" xref="alg1.l5.m1.1.2.3.2.3.2.3.3.cmml">1</mn></mrow><mi id="alg1.l5.m1.1.2.3.2.3.3" xref="alg1.l5.m1.1.2.3.2.3.3.cmml">c</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.2.cmml" xref="alg1.l5.m1.1.2"><ci id="alg1.l5.m1.1.2.1.cmml" xref="alg1.l5.m1.1.2.1">←</ci><apply id="alg1.l5.m1.1.2.2.cmml" xref="alg1.l5.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.2.1.cmml" xref="alg1.l5.m1.1.2.2">subscript</csymbol><ci id="alg1.l5.m1.1.2.2.2.cmml" xref="alg1.l5.m1.1.2.2.2">𝜃</ci><apply id="alg1.l5.m1.1.2.2.3.cmml" xref="alg1.l5.m1.1.2.2.3"><plus id="alg1.l5.m1.1.2.2.3.1.cmml" xref="alg1.l5.m1.1.2.2.3.1"></plus><ci id="alg1.l5.m1.1.2.2.3.2.cmml" xref="alg1.l5.m1.1.2.2.3.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.1.2.2.3.3.cmml" xref="alg1.l5.m1.1.2.2.3.3">1</cn></apply></apply><apply id="alg1.l5.m1.1.2.3.cmml" xref="alg1.l5.m1.1.2.3"><apply id="alg1.l5.m1.1.2.3.1.cmml" xref="alg1.l5.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.3.1.1.cmml" xref="alg1.l5.m1.1.2.3.1">superscript</csymbol><apply id="alg1.l5.m1.1.2.3.1.2.cmml" xref="alg1.l5.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.3.1.2.1.cmml" xref="alg1.l5.m1.1.2.3.1">subscript</csymbol><sum id="alg1.l5.m1.1.2.3.1.2.2.cmml" xref="alg1.l5.m1.1.2.3.1.2.2"></sum><apply id="alg1.l5.m1.1.2.3.1.2.3.cmml" xref="alg1.l5.m1.1.2.3.1.2.3"><eq id="alg1.l5.m1.1.2.3.1.2.3.1.cmml" xref="alg1.l5.m1.1.2.3.1.2.3.1"></eq><ci id="alg1.l5.m1.1.2.3.1.2.3.2.cmml" xref="alg1.l5.m1.1.2.3.1.2.3.2">𝑐</ci><cn type="integer" id="alg1.l5.m1.1.2.3.1.2.3.3.cmml" xref="alg1.l5.m1.1.2.3.1.2.3.3">1</cn></apply></apply><apply id="alg1.l5.m1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.3"><abs id="alg1.l5.m1.1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.1.3.1"></abs><ci id="alg1.l5.m1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1">𝐶</ci></apply></apply><apply id="alg1.l5.m1.1.2.3.2.cmml" xref="alg1.l5.m1.1.2.3.2"><times id="alg1.l5.m1.1.2.3.2.1.cmml" xref="alg1.l5.m1.1.2.3.2.1"></times><apply id="alg1.l5.m1.1.2.3.2.2.cmml" xref="alg1.l5.m1.1.2.3.2.2"><divide id="alg1.l5.m1.1.2.3.2.2.1.cmml" xref="alg1.l5.m1.1.2.3.2.2"></divide><apply id="alg1.l5.m1.1.2.3.2.2.2.cmml" xref="alg1.l5.m1.1.2.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.3.2.2.2.1.cmml" xref="alg1.l5.m1.1.2.3.2.2.2">subscript</csymbol><ci id="alg1.l5.m1.1.2.3.2.2.2.2.cmml" xref="alg1.l5.m1.1.2.3.2.2.2.2">𝑛</ci><ci id="alg1.l5.m1.1.2.3.2.2.2.3.cmml" xref="alg1.l5.m1.1.2.3.2.2.2.3">𝑐</ci></apply><ci id="alg1.l5.m1.1.2.3.2.2.3.cmml" xref="alg1.l5.m1.1.2.3.2.2.3">𝑛</ci></apply><apply id="alg1.l5.m1.1.2.3.2.3.cmml" xref="alg1.l5.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.3.2.3.1.cmml" xref="alg1.l5.m1.1.2.3.2.3">superscript</csymbol><apply id="alg1.l5.m1.1.2.3.2.3.2.cmml" xref="alg1.l5.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.3.2.3.2.1.cmml" xref="alg1.l5.m1.1.2.3.2.3">subscript</csymbol><ci id="alg1.l5.m1.1.2.3.2.3.2.2.cmml" xref="alg1.l5.m1.1.2.3.2.3.2.2">𝜃</ci><apply id="alg1.l5.m1.1.2.3.2.3.2.3.cmml" xref="alg1.l5.m1.1.2.3.2.3.2.3"><plus id="alg1.l5.m1.1.2.3.2.3.2.3.1.cmml" xref="alg1.l5.m1.1.2.3.2.3.2.3.1"></plus><ci id="alg1.l5.m1.1.2.3.2.3.2.3.2.cmml" xref="alg1.l5.m1.1.2.3.2.3.2.3.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.1.2.3.2.3.2.3.3.cmml" xref="alg1.l5.m1.1.2.3.2.3.2.3.3">1</cn></apply></apply><ci id="alg1.l5.m1.1.2.3.2.3.3.cmml" xref="alg1.l5.m1.1.2.3.2.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">\theta_{t+1}\leftarrow\sum_{c=1}^{|C|}\frac{n_{c}}{n}\theta_{t+1}^{c}</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">  
</div>
<div id="alg1.l6a" class="ltx_listingline">   <span id="alg1.l6a.1" class="ltx_text ltx_font_bold">ClientUpdate(<math id="alg1.l6a.1.m1.2" class="ltx_Math" alttext="c,\theta_{t}" display="inline"><semantics id="alg1.l6a.1.m1.2a"><mrow id="alg1.l6a.1.m1.2.2.1" xref="alg1.l6a.1.m1.2.2.2.cmml"><mi id="alg1.l6a.1.m1.1.1" xref="alg1.l6a.1.m1.1.1.cmml">c</mi><mo id="alg1.l6a.1.m1.2.2.1.2" xref="alg1.l6a.1.m1.2.2.2.cmml">,</mo><msub id="alg1.l6a.1.m1.2.2.1.1" xref="alg1.l6a.1.m1.2.2.1.1.cmml"><mi id="alg1.l6a.1.m1.2.2.1.1.2" xref="alg1.l6a.1.m1.2.2.1.1.2.cmml">θ</mi><mi id="alg1.l6a.1.m1.2.2.1.1.3" xref="alg1.l6a.1.m1.2.2.1.1.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6a.1.m1.2b"><list id="alg1.l6a.1.m1.2.2.2.cmml" xref="alg1.l6a.1.m1.2.2.1"><ci id="alg1.l6a.1.m1.1.1.cmml" xref="alg1.l6a.1.m1.1.1">𝑐</ci><apply id="alg1.l6a.1.m1.2.2.1.1.cmml" xref="alg1.l6a.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l6a.1.m1.2.2.1.1.1.cmml" xref="alg1.l6a.1.m1.2.2.1.1">subscript</csymbol><ci id="alg1.l6a.1.m1.2.2.1.1.2.cmml" xref="alg1.l6a.1.m1.2.2.1.1.2">𝜃</ci><ci id="alg1.l6a.1.m1.2.2.1.1.3.cmml" xref="alg1.l6a.1.m1.2.2.1.1.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6a.1.m1.2c">c,\theta_{t}</annotation></semantics></math>):</span>   // <em id="alg1.l6a.2" class="ltx_emph ltx_font_italic">Run on client <math id="alg1.l6a.2.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg1.l6a.2.m1.1a"><mi id="alg1.l6a.2.m1.1.1" xref="alg1.l6a.2.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg1.l6a.2.m1.1b"><ci id="alg1.l6a.2.m1.1.1.cmml" xref="alg1.l6a.2.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6a.2.m1.1c">c</annotation></semantics></math></em>

</div>
<div id="alg1.l7" class="ltx_listingline">  <span id="alg1.l7.1" class="ltx_text ltx_font_bold">for</span> each local update <math id="alg1.l7.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l7.m1.1a"><mi id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><ci id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">i</annotation></semantics></math> from <math id="alg1.l7.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg1.l7.m2.1a"><mn id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><cn type="integer" id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">1</annotation></semantics></math> to <math id="alg1.l7.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.l7.m3.1a"><mi id="alg1.l7.m3.1.1" xref="alg1.l7.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m3.1b"><ci id="alg1.l7.m3.1.1.cmml" xref="alg1.l7.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m3.1c">B</annotation></semantics></math> <span id="alg1.l7.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l8" class="ltx_listingline">     <math id="alg1.l8.m1.1" class="ltx_Math" alttext="\theta_{t+1}^{c}\leftarrow\theta_{t}+\eta\nabla f_{\theta_{t}}^{c}" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msubsup id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml"><mi id="alg1.l8.m1.1.1.2.2.2" xref="alg1.l8.m1.1.1.2.2.2.cmml">θ</mi><mrow id="alg1.l8.m1.1.1.2.2.3" xref="alg1.l8.m1.1.1.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.2.2.3.2" xref="alg1.l8.m1.1.1.2.2.3.2.cmml">t</mi><mo id="alg1.l8.m1.1.1.2.2.3.1" xref="alg1.l8.m1.1.1.2.2.3.1.cmml">+</mo><mn id="alg1.l8.m1.1.1.2.2.3.3" xref="alg1.l8.m1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">←</mo><mrow id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><msub id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2.cmml"><mi id="alg1.l8.m1.1.1.3.2.2" xref="alg1.l8.m1.1.1.3.2.2.cmml">θ</mi><mi id="alg1.l8.m1.1.1.3.2.3" xref="alg1.l8.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="alg1.l8.m1.1.1.3.1" xref="alg1.l8.m1.1.1.3.1.cmml">+</mo><mrow id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml"><mi id="alg1.l8.m1.1.1.3.3.2" xref="alg1.l8.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l8.m1.1.1.3.3.1" xref="alg1.l8.m1.1.1.3.3.1.cmml">​</mo><mrow id="alg1.l8.m1.1.1.3.3.3" xref="alg1.l8.m1.1.1.3.3.3.cmml"><mo rspace="0.167em" id="alg1.l8.m1.1.1.3.3.3.1" xref="alg1.l8.m1.1.1.3.3.3.1.cmml">∇</mo><msubsup id="alg1.l8.m1.1.1.3.3.3.2" xref="alg1.l8.m1.1.1.3.3.3.2.cmml"><mi id="alg1.l8.m1.1.1.3.3.3.2.2.2" xref="alg1.l8.m1.1.1.3.3.3.2.2.2.cmml">f</mi><msub id="alg1.l8.m1.1.1.3.3.3.2.2.3" xref="alg1.l8.m1.1.1.3.3.3.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.3.3.3.2.2.3.2" xref="alg1.l8.m1.1.1.3.3.3.2.2.3.2.cmml">θ</mi><mi id="alg1.l8.m1.1.1.3.3.3.2.2.3.3" xref="alg1.l8.m1.1.1.3.3.3.2.2.3.3.cmml">t</mi></msub><mi id="alg1.l8.m1.1.1.3.3.3.2.3" xref="alg1.l8.m1.1.1.3.3.3.2.3.cmml">c</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><ci id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1">←</ci><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1.2">superscript</csymbol><apply id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.2.1.cmml" xref="alg1.l8.m1.1.1.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.2.cmml" xref="alg1.l8.m1.1.1.2.2.2">𝜃</ci><apply id="alg1.l8.m1.1.1.2.2.3.cmml" xref="alg1.l8.m1.1.1.2.2.3"><plus id="alg1.l8.m1.1.1.2.2.3.1.cmml" xref="alg1.l8.m1.1.1.2.2.3.1"></plus><ci id="alg1.l8.m1.1.1.2.2.3.2.cmml" xref="alg1.l8.m1.1.1.2.2.3.2">𝑡</ci><cn type="integer" id="alg1.l8.m1.1.1.2.2.3.3.cmml" xref="alg1.l8.m1.1.1.2.2.3.3">1</cn></apply></apply><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝑐</ci></apply><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><plus id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3.1"></plus><apply id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.2.1.cmml" xref="alg1.l8.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.3.2.2.cmml" xref="alg1.l8.m1.1.1.3.2.2">𝜃</ci><ci id="alg1.l8.m1.1.1.3.2.3.cmml" xref="alg1.l8.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3"><times id="alg1.l8.m1.1.1.3.3.1.cmml" xref="alg1.l8.m1.1.1.3.3.1"></times><ci id="alg1.l8.m1.1.1.3.3.2.cmml" xref="alg1.l8.m1.1.1.3.3.2">𝜂</ci><apply id="alg1.l8.m1.1.1.3.3.3.cmml" xref="alg1.l8.m1.1.1.3.3.3"><ci id="alg1.l8.m1.1.1.3.3.3.1.cmml" xref="alg1.l8.m1.1.1.3.3.3.1">∇</ci><apply id="alg1.l8.m1.1.1.3.3.3.2.cmml" xref="alg1.l8.m1.1.1.3.3.3.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.3.3.2.1.cmml" xref="alg1.l8.m1.1.1.3.3.3.2">superscript</csymbol><apply id="alg1.l8.m1.1.1.3.3.3.2.2.cmml" xref="alg1.l8.m1.1.1.3.3.3.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.3.3.2.2.1.cmml" xref="alg1.l8.m1.1.1.3.3.3.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.3.3.3.2.2.2.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.2.2">𝑓</ci><apply id="alg1.l8.m1.1.1.3.3.3.2.2.3.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.3.3.2.2.3.1.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.2.3">subscript</csymbol><ci id="alg1.l8.m1.1.1.3.3.3.2.2.3.2.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.2.3.2">𝜃</ci><ci id="alg1.l8.m1.1.1.3.3.3.2.2.3.3.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.2.3.3">𝑡</ci></apply></apply><ci id="alg1.l8.m1.1.1.3.3.3.2.3.cmml" xref="alg1.l8.m1.1.1.3.3.3.2.3">𝑐</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\theta_{t+1}^{c}\leftarrow\theta_{t}+\eta\nabla f_{\theta_{t}}^{c}</annotation></semantics></math> <span id="alg1.l8.1" class="ltx_text" style="float:right;"><span id="alg1.l8.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">//PDGD update shown in Algorithm. <a href="#alg2" title="Algorithm 2 ‣ 3. FOLTR Framework and FPDGD ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a></span>
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">  return (<math id="alg1.l9.m1.2" class="ltx_Math" alttext="\theta_{t+1}^{c},n_{c}" display="inline"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.3.cmml"><msubsup id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.2.2" xref="alg1.l9.m1.1.1.1.1.2.2.cmml">θ</mi><mrow id="alg1.l9.m1.1.1.1.1.2.3" xref="alg1.l9.m1.1.1.1.1.2.3.cmml"><mi id="alg1.l9.m1.1.1.1.1.2.3.2" xref="alg1.l9.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="alg1.l9.m1.1.1.1.1.2.3.1" xref="alg1.l9.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="alg1.l9.m1.1.1.1.1.2.3.3" xref="alg1.l9.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l9.m1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.3.cmml">c</mi></msubsup><mo id="alg1.l9.m1.2.2.2.3" xref="alg1.l9.m1.2.2.3.cmml">,</mo><msub id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.cmml">n</mi><mi id="alg1.l9.m1.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.3.cmml">c</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><list id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.2"><apply id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">superscript</csymbol><apply id="alg1.l9.m1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.2.2">𝜃</ci><apply id="alg1.l9.m1.1.1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.1.1.2.3"><plus id="alg1.l9.m1.1.1.1.1.2.3.1.cmml" xref="alg1.l9.m1.1.1.1.1.2.3.1"></plus><ci id="alg1.l9.m1.1.1.1.1.2.3.2.cmml" xref="alg1.l9.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.l9.m1.1.1.1.1.2.3.3.cmml" xref="alg1.l9.m1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.l9.m1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.3">𝑐</ci></apply><apply id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2">𝑛</ci><ci id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.3">𝑐</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">\theta_{t+1}^{c},n_{c}</annotation></semantics></math>) to server

</div>
</div>
</figure>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Pairwise Differentiable Gradient Descent(PDGD) <cite class="ltx_cite ltx_citemacro_citep">(Oosterhuis and
de Rijke, <a href="#bib.bib32" title="" class="ltx_ref">2018</a>)</cite></figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <span id="alg2.l1.2" class="ltx_text ltx_font_bold">Input</span>: initial weights: <math id="alg2.l1.m1.1" class="ltx_Math" alttext="\mathbf{\theta}_{1}" display="inline"><semantics id="alg2.l1.m1.1a"><msub id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml"><mi id="alg2.l1.m1.1.1.2" xref="alg2.l1.m1.1.1.2.cmml">θ</mi><mn id="alg2.l1.m1.1.1.3" xref="alg2.l1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><apply id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1"><csymbol cd="ambiguous" id="alg2.l1.m1.1.1.1.cmml" xref="alg2.l1.m1.1.1">subscript</csymbol><ci id="alg2.l1.m1.1.1.2.cmml" xref="alg2.l1.m1.1.1.2">𝜃</ci><cn type="integer" id="alg2.l1.m1.1.1.3.cmml" xref="alg2.l1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">\mathbf{\theta}_{1}</annotation></semantics></math>; scoring function: <math id="alg2.l1.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="alg2.l1.m2.1a"><mi id="alg2.l1.m2.1.1" xref="alg2.l1.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m2.1b"><ci id="alg2.l1.m2.1.1.cmml" xref="alg2.l1.m2.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m2.1c">f</annotation></semantics></math>; learning rate <math id="alg2.l1.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg2.l1.m3.1a"><mi id="alg2.l1.m3.1.1" xref="alg2.l1.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m3.1b"><ci id="alg2.l1.m3.1.1.cmml" xref="alg2.l1.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m3.1c">\eta</annotation></semantics></math>. 

</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  <span id="alg2.l2.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l2.m1.2" class="ltx_Math" alttext="t\leftarrow 1,\ldots B" display="inline"><semantics id="alg2.l2.m1.2a"><mrow id="alg2.l2.m1.2.2" xref="alg2.l2.m1.2.2.cmml"><mi id="alg2.l2.m1.2.2.3" xref="alg2.l2.m1.2.2.3.cmml">t</mi><mo stretchy="false" id="alg2.l2.m1.2.2.2" xref="alg2.l2.m1.2.2.2.cmml">←</mo><mrow id="alg2.l2.m1.2.2.1.1" xref="alg2.l2.m1.2.2.1.2.cmml"><mn id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml">1</mn><mo id="alg2.l2.m1.2.2.1.1.2" xref="alg2.l2.m1.2.2.1.2.cmml">,</mo><mrow id="alg2.l2.m1.2.2.1.1.1" xref="alg2.l2.m1.2.2.1.1.1.cmml"><mi mathvariant="normal" id="alg2.l2.m1.2.2.1.1.1.2" xref="alg2.l2.m1.2.2.1.1.1.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.2.2.1.1.1.1" xref="alg2.l2.m1.2.2.1.1.1.1.cmml">​</mo><mi id="alg2.l2.m1.2.2.1.1.1.3" xref="alg2.l2.m1.2.2.1.1.1.3.cmml">B</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.2b"><apply id="alg2.l2.m1.2.2.cmml" xref="alg2.l2.m1.2.2"><ci id="alg2.l2.m1.2.2.2.cmml" xref="alg2.l2.m1.2.2.2">←</ci><ci id="alg2.l2.m1.2.2.3.cmml" xref="alg2.l2.m1.2.2.3">𝑡</ci><list id="alg2.l2.m1.2.2.1.2.cmml" xref="alg2.l2.m1.2.2.1.1"><cn type="integer" id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1">1</cn><apply id="alg2.l2.m1.2.2.1.1.1.cmml" xref="alg2.l2.m1.2.2.1.1.1"><times id="alg2.l2.m1.2.2.1.1.1.1.cmml" xref="alg2.l2.m1.2.2.1.1.1.1"></times><ci id="alg2.l2.m1.2.2.1.1.1.2.cmml" xref="alg2.l2.m1.2.2.1.1.1.2">…</ci><ci id="alg2.l2.m1.2.2.1.1.1.3.cmml" xref="alg2.l2.m1.2.2.1.1.1.3">𝐵</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.2c">t\leftarrow 1,\ldots B</annotation></semantics></math>  <span id="alg2.l2.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <math id="alg2.l3.m1.1" class="ltx_Math" alttext="q_{t}\leftarrow\mathit{receive\_query}(t)" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.2" xref="alg2.l3.m1.1.2.cmml"><msub id="alg2.l3.m1.1.2.2" xref="alg2.l3.m1.1.2.2.cmml"><mi id="alg2.l3.m1.1.2.2.2" xref="alg2.l3.m1.1.2.2.2.cmml">q</mi><mi id="alg2.l3.m1.1.2.2.3" xref="alg2.l3.m1.1.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l3.m1.1.2.1" xref="alg2.l3.m1.1.2.1.cmml">←</mo><mrow id="alg2.l3.m1.1.2.3" xref="alg2.l3.m1.1.2.3.cmml"><mi id="alg2.l3.m1.1.2.3.2" xref="alg2.l3.m1.1.2.3.2.cmml">𝑟𝑒𝑐𝑒𝑖𝑣𝑒</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.2.3.1" xref="alg2.l3.m1.1.2.3.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l3.m1.1.2.3.3" xref="alg2.l3.m1.1.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.2.3.1a" xref="alg2.l3.m1.1.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.2.3.4" xref="alg2.l3.m1.1.2.3.4.cmml">𝑞𝑢𝑒𝑟𝑦</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.2.3.1b" xref="alg2.l3.m1.1.2.3.1.cmml">​</mo><mrow id="alg2.l3.m1.1.2.3.5.2" xref="alg2.l3.m1.1.2.3.cmml"><mo stretchy="false" id="alg2.l3.m1.1.2.3.5.2.1" xref="alg2.l3.m1.1.2.3.cmml">(</mo><mi id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml">t</mi><mo stretchy="false" id="alg2.l3.m1.1.2.3.5.2.2" xref="alg2.l3.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.2.cmml" xref="alg2.l3.m1.1.2"><ci id="alg2.l3.m1.1.2.1.cmml" xref="alg2.l3.m1.1.2.1">←</ci><apply id="alg2.l3.m1.1.2.2.cmml" xref="alg2.l3.m1.1.2.2"><csymbol cd="ambiguous" id="alg2.l3.m1.1.2.2.1.cmml" xref="alg2.l3.m1.1.2.2">subscript</csymbol><ci id="alg2.l3.m1.1.2.2.2.cmml" xref="alg2.l3.m1.1.2.2.2">𝑞</ci><ci id="alg2.l3.m1.1.2.2.3.cmml" xref="alg2.l3.m1.1.2.2.3">𝑡</ci></apply><apply id="alg2.l3.m1.1.2.3.cmml" xref="alg2.l3.m1.1.2.3"><times id="alg2.l3.m1.1.2.3.1.cmml" xref="alg2.l3.m1.1.2.3.1"></times><ci id="alg2.l3.m1.1.2.3.2.cmml" xref="alg2.l3.m1.1.2.3.2">𝑟𝑒𝑐𝑒𝑖𝑣𝑒</ci><ci id="alg2.l3.m1.1.2.3.3.cmml" xref="alg2.l3.m1.1.2.3.3">_</ci><ci id="alg2.l3.m1.1.2.3.4.cmml" xref="alg2.l3.m1.1.2.3.4">𝑞𝑢𝑒𝑟𝑦</ci><ci id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">q_{t}\leftarrow\mathit{receive\_query}(t)</annotation></semantics></math><span id="alg2.l3.2" class="ltx_text" style="float:right;"><span id="alg2.l3.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// obtain a query from a user</span> 
</span>
</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <math id="alg2.l4.m1.1" class="ltx_Math" alttext="D_{t}\leftarrow\mathit{preselect\_documents}(q_{t})" display="inline"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><msub id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml"><mi id="alg2.l4.m1.1.1.3.2" xref="alg2.l4.m1.1.1.3.2.cmml">D</mi><mi id="alg2.l4.m1.1.1.3.3" xref="alg2.l4.m1.1.1.3.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">←</mo><mrow id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml"><mi id="alg2.l4.m1.1.1.1.3" xref="alg2.l4.m1.1.1.1.3.cmml">𝑝𝑟𝑒𝑠𝑒𝑙𝑒𝑐𝑡</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m1.1.1.1.2" xref="alg2.l4.m1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="alg2.l4.m1.1.1.1.4" xref="alg2.l4.m1.1.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m1.1.1.1.2a" xref="alg2.l4.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l4.m1.1.1.1.5" xref="alg2.l4.m1.1.1.1.5.cmml">𝑑𝑜𝑐𝑢𝑚𝑒𝑛𝑡𝑠</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m1.1.1.1.2b" xref="alg2.l4.m1.1.1.1.2.cmml">​</mo><mrow id="alg2.l4.m1.1.1.1.1.1" xref="alg2.l4.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l4.m1.1.1.1.1.1.2" xref="alg2.l4.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.l4.m1.1.1.1.1.1.1" xref="alg2.l4.m1.1.1.1.1.1.1.cmml"><mi id="alg2.l4.m1.1.1.1.1.1.1.2" xref="alg2.l4.m1.1.1.1.1.1.1.2.cmml">q</mi><mi id="alg2.l4.m1.1.1.1.1.1.1.3" xref="alg2.l4.m1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l4.m1.1.1.1.1.1.3" xref="alg2.l4.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">←</ci><apply id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l4.m1.1.1.3.1.cmml" xref="alg2.l4.m1.1.1.3">subscript</csymbol><ci id="alg2.l4.m1.1.1.3.2.cmml" xref="alg2.l4.m1.1.1.3.2">𝐷</ci><ci id="alg2.l4.m1.1.1.3.3.cmml" xref="alg2.l4.m1.1.1.3.3">𝑡</ci></apply><apply id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1"><times id="alg2.l4.m1.1.1.1.2.cmml" xref="alg2.l4.m1.1.1.1.2"></times><ci id="alg2.l4.m1.1.1.1.3.cmml" xref="alg2.l4.m1.1.1.1.3">𝑝𝑟𝑒𝑠𝑒𝑙𝑒𝑐𝑡</ci><ci id="alg2.l4.m1.1.1.1.4.cmml" xref="alg2.l4.m1.1.1.1.4">_</ci><ci id="alg2.l4.m1.1.1.1.5.cmml" xref="alg2.l4.m1.1.1.1.5">𝑑𝑜𝑐𝑢𝑚𝑒𝑛𝑡𝑠</ci><apply id="alg2.l4.m1.1.1.1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l4.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l4.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l4.m1.1.1.1.1.1.1.2">𝑞</ci><ci id="alg2.l4.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l4.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">D_{t}\leftarrow\mathit{preselect\_documents}(q_{t})</annotation></semantics></math><span id="alg2.l4.2" class="ltx_text" style="float:right;"><span id="alg2.l4.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// preselect documents for query</span> 
</span>
</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <math id="alg2.l5.m1.2" class="ltx_Math" alttext="\mathbf{R}_{t}\leftarrow\mathit{sample\_list}(f_{\theta_{t}},D_{t})" display="inline"><semantics id="alg2.l5.m1.2a"><mrow id="alg2.l5.m1.2.2" xref="alg2.l5.m1.2.2.cmml"><msub id="alg2.l5.m1.2.2.4" xref="alg2.l5.m1.2.2.4.cmml"><mi id="alg2.l5.m1.2.2.4.2" xref="alg2.l5.m1.2.2.4.2.cmml">𝐑</mi><mi id="alg2.l5.m1.2.2.4.3" xref="alg2.l5.m1.2.2.4.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l5.m1.2.2.3" xref="alg2.l5.m1.2.2.3.cmml">←</mo><mrow id="alg2.l5.m1.2.2.2" xref="alg2.l5.m1.2.2.2.cmml"><mi id="alg2.l5.m1.2.2.2.4" xref="alg2.l5.m1.2.2.2.4.cmml">𝑠𝑎𝑚𝑝𝑙𝑒</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.2.2.2.3" xref="alg2.l5.m1.2.2.2.3.cmml">​</mo><mi mathvariant="normal" id="alg2.l5.m1.2.2.2.5" xref="alg2.l5.m1.2.2.2.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.2.2.2.3a" xref="alg2.l5.m1.2.2.2.3.cmml">​</mo><mi id="alg2.l5.m1.2.2.2.6" xref="alg2.l5.m1.2.2.2.6.cmml">𝑙𝑖𝑠𝑡</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.2.2.2.3b" xref="alg2.l5.m1.2.2.2.3.cmml">​</mo><mrow id="alg2.l5.m1.2.2.2.2.2" xref="alg2.l5.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg2.l5.m1.2.2.2.2.2.3" xref="alg2.l5.m1.2.2.2.2.3.cmml">(</mo><msub id="alg2.l5.m1.1.1.1.1.1.1" xref="alg2.l5.m1.1.1.1.1.1.1.cmml"><mi id="alg2.l5.m1.1.1.1.1.1.1.2" xref="alg2.l5.m1.1.1.1.1.1.1.2.cmml">f</mi><msub id="alg2.l5.m1.1.1.1.1.1.1.3" xref="alg2.l5.m1.1.1.1.1.1.1.3.cmml"><mi id="alg2.l5.m1.1.1.1.1.1.1.3.2" xref="alg2.l5.m1.1.1.1.1.1.1.3.2.cmml">θ</mi><mi id="alg2.l5.m1.1.1.1.1.1.1.3.3" xref="alg2.l5.m1.1.1.1.1.1.1.3.3.cmml">t</mi></msub></msub><mo id="alg2.l5.m1.2.2.2.2.2.4" xref="alg2.l5.m1.2.2.2.2.3.cmml">,</mo><msub id="alg2.l5.m1.2.2.2.2.2.2" xref="alg2.l5.m1.2.2.2.2.2.2.cmml"><mi id="alg2.l5.m1.2.2.2.2.2.2.2" xref="alg2.l5.m1.2.2.2.2.2.2.2.cmml">D</mi><mi id="alg2.l5.m1.2.2.2.2.2.2.3" xref="alg2.l5.m1.2.2.2.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l5.m1.2.2.2.2.2.5" xref="alg2.l5.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.2b"><apply id="alg2.l5.m1.2.2.cmml" xref="alg2.l5.m1.2.2"><ci id="alg2.l5.m1.2.2.3.cmml" xref="alg2.l5.m1.2.2.3">←</ci><apply id="alg2.l5.m1.2.2.4.cmml" xref="alg2.l5.m1.2.2.4"><csymbol cd="ambiguous" id="alg2.l5.m1.2.2.4.1.cmml" xref="alg2.l5.m1.2.2.4">subscript</csymbol><ci id="alg2.l5.m1.2.2.4.2.cmml" xref="alg2.l5.m1.2.2.4.2">𝐑</ci><ci id="alg2.l5.m1.2.2.4.3.cmml" xref="alg2.l5.m1.2.2.4.3">𝑡</ci></apply><apply id="alg2.l5.m1.2.2.2.cmml" xref="alg2.l5.m1.2.2.2"><times id="alg2.l5.m1.2.2.2.3.cmml" xref="alg2.l5.m1.2.2.2.3"></times><ci id="alg2.l5.m1.2.2.2.4.cmml" xref="alg2.l5.m1.2.2.2.4">𝑠𝑎𝑚𝑝𝑙𝑒</ci><ci id="alg2.l5.m1.2.2.2.5.cmml" xref="alg2.l5.m1.2.2.2.5">_</ci><ci id="alg2.l5.m1.2.2.2.6.cmml" xref="alg2.l5.m1.2.2.2.6">𝑙𝑖𝑠𝑡</ci><interval closure="open" id="alg2.l5.m1.2.2.2.2.3.cmml" xref="alg2.l5.m1.2.2.2.2.2"><apply id="alg2.l5.m1.1.1.1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l5.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l5.m1.1.1.1.1.1.1.2">𝑓</ci><apply id="alg2.l5.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l5.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l5.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="alg2.l5.m1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l5.m1.1.1.1.1.1.1.3.2">𝜃</ci><ci id="alg2.l5.m1.1.1.1.1.1.1.3.3.cmml" xref="alg2.l5.m1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply><apply id="alg2.l5.m1.2.2.2.2.2.2.cmml" xref="alg2.l5.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l5.m1.2.2.2.2.2.2.1.cmml" xref="alg2.l5.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg2.l5.m1.2.2.2.2.2.2.2.cmml" xref="alg2.l5.m1.2.2.2.2.2.2.2">𝐷</ci><ci id="alg2.l5.m1.2.2.2.2.2.2.3.cmml" xref="alg2.l5.m1.2.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.2c">\mathbf{R}_{t}\leftarrow\mathit{sample\_list}(f_{\theta_{t}},D_{t})</annotation></semantics></math> <span id="alg2.l5.2" class="ltx_text" style="float:right;"><span id="alg2.l5.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// sample list</span> 
</span>
</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <math id="alg2.l6.m1.1" class="ltx_Math" alttext="\mathbf{c}_{t}\leftarrow\mathit{receive\_clicks}(\mathbf{R}_{t})" display="inline"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><msub id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml"><mi id="alg2.l6.m1.1.1.3.2" xref="alg2.l6.m1.1.1.3.2.cmml">𝐜</mi><mi id="alg2.l6.m1.1.1.3.3" xref="alg2.l6.m1.1.1.3.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2.cmml">←</mo><mrow id="alg2.l6.m1.1.1.1" xref="alg2.l6.m1.1.1.1.cmml"><mi id="alg2.l6.m1.1.1.1.3" xref="alg2.l6.m1.1.1.1.3.cmml">𝑟𝑒𝑐𝑒𝑖𝑣𝑒</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.2" xref="alg2.l6.m1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="alg2.l6.m1.1.1.1.4" xref="alg2.l6.m1.1.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.2a" xref="alg2.l6.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l6.m1.1.1.1.5" xref="alg2.l6.m1.1.1.1.5.cmml">𝑐𝑙𝑖𝑐𝑘𝑠</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.2b" xref="alg2.l6.m1.1.1.1.2.cmml">​</mo><mrow id="alg2.l6.m1.1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l6.m1.1.1.1.1.1.2" xref="alg2.l6.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.l6.m1.1.1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.1.1.cmml"><mi id="alg2.l6.m1.1.1.1.1.1.1.2" xref="alg2.l6.m1.1.1.1.1.1.1.2.cmml">𝐑</mi><mi id="alg2.l6.m1.1.1.1.1.1.1.3" xref="alg2.l6.m1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg2.l6.m1.1.1.1.1.1.3" xref="alg2.l6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><ci id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2">←</ci><apply id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l6.m1.1.1.3.1.cmml" xref="alg2.l6.m1.1.1.3">subscript</csymbol><ci id="alg2.l6.m1.1.1.3.2.cmml" xref="alg2.l6.m1.1.1.3.2">𝐜</ci><ci id="alg2.l6.m1.1.1.3.3.cmml" xref="alg2.l6.m1.1.1.3.3">𝑡</ci></apply><apply id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1"><times id="alg2.l6.m1.1.1.1.2.cmml" xref="alg2.l6.m1.1.1.1.2"></times><ci id="alg2.l6.m1.1.1.1.3.cmml" xref="alg2.l6.m1.1.1.1.3">𝑟𝑒𝑐𝑒𝑖𝑣𝑒</ci><ci id="alg2.l6.m1.1.1.1.4.cmml" xref="alg2.l6.m1.1.1.1.4">_</ci><ci id="alg2.l6.m1.1.1.1.5.cmml" xref="alg2.l6.m1.1.1.1.5">𝑐𝑙𝑖𝑐𝑘𝑠</ci><apply id="alg2.l6.m1.1.1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l6.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.2">𝐑</ci><ci id="alg2.l6.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">\mathbf{c}_{t}\leftarrow\mathit{receive\_clicks}(\mathbf{R}_{t})</annotation></semantics></math> <span id="alg2.l6.2" class="ltx_text" style="float:right;"><span id="alg2.l6.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// show result list to the user</span> 
</span>
</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <math id="alg2.l7.m1.1" class="ltx_Math" alttext="\nabla f_{\theta_{t}}\leftarrow\mathbf{0}" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml"><mrow id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml"><mo rspace="0.167em" id="alg2.l7.m1.1.1.2.1" xref="alg2.l7.m1.1.1.2.1.cmml">∇</mo><msub id="alg2.l7.m1.1.1.2.2" xref="alg2.l7.m1.1.1.2.2.cmml"><mi id="alg2.l7.m1.1.1.2.2.2" xref="alg2.l7.m1.1.1.2.2.2.cmml">f</mi><msub id="alg2.l7.m1.1.1.2.2.3" xref="alg2.l7.m1.1.1.2.2.3.cmml"><mi id="alg2.l7.m1.1.1.2.2.3.2" xref="alg2.l7.m1.1.1.2.2.3.2.cmml">θ</mi><mi id="alg2.l7.m1.1.1.2.2.3.3" xref="alg2.l7.m1.1.1.2.2.3.3.cmml">t</mi></msub></msub></mrow><mo stretchy="false" id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml">←</mo><mn id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml">𝟎</mn></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1"><ci id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1">←</ci><apply id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2"><ci id="alg2.l7.m1.1.1.2.1.cmml" xref="alg2.l7.m1.1.1.2.1">∇</ci><apply id="alg2.l7.m1.1.1.2.2.cmml" xref="alg2.l7.m1.1.1.2.2"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.2.2.1.cmml" xref="alg2.l7.m1.1.1.2.2">subscript</csymbol><ci id="alg2.l7.m1.1.1.2.2.2.cmml" xref="alg2.l7.m1.1.1.2.2.2">𝑓</ci><apply id="alg2.l7.m1.1.1.2.2.3.cmml" xref="alg2.l7.m1.1.1.2.2.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.2.2.3.1.cmml" xref="alg2.l7.m1.1.1.2.2.3">subscript</csymbol><ci id="alg2.l7.m1.1.1.2.2.3.2.cmml" xref="alg2.l7.m1.1.1.2.2.3.2">𝜃</ci><ci id="alg2.l7.m1.1.1.2.2.3.3.cmml" xref="alg2.l7.m1.1.1.2.2.3.3">𝑡</ci></apply></apply></apply><cn type="integer" id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">\nabla f_{\theta_{t}}\leftarrow\mathbf{0}</annotation></semantics></math> <span id="alg2.l7.2" class="ltx_text" style="float:right;"><span id="alg2.l7.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// initialize gradient</span> 
</span>
</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <span id="alg2.l8.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l8.m1.1" class="ltx_Math" alttext="d_{k}&gt;_{\mathbf{c}}d_{l}\in\mathbf{c}_{t}" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><msub id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml"><mi id="alg2.l8.m1.1.1.2.2" xref="alg2.l8.m1.1.1.2.2.cmml">d</mi><mi id="alg2.l8.m1.1.1.2.3" xref="alg2.l8.m1.1.1.2.3.cmml">k</mi></msub><msub id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml"><mo id="alg2.l8.m1.1.1.3.2" xref="alg2.l8.m1.1.1.3.2.cmml">&gt;</mo><mi id="alg2.l8.m1.1.1.3.3" xref="alg2.l8.m1.1.1.3.3.cmml">𝐜</mi></msub><msub id="alg2.l8.m1.1.1.4" xref="alg2.l8.m1.1.1.4.cmml"><mi id="alg2.l8.m1.1.1.4.2" xref="alg2.l8.m1.1.1.4.2.cmml">d</mi><mi id="alg2.l8.m1.1.1.4.3" xref="alg2.l8.m1.1.1.4.3.cmml">l</mi></msub><mo id="alg2.l8.m1.1.1.5" xref="alg2.l8.m1.1.1.5.cmml">∈</mo><msub id="alg2.l8.m1.1.1.6" xref="alg2.l8.m1.1.1.6.cmml"><mi id="alg2.l8.m1.1.1.6.2" xref="alg2.l8.m1.1.1.6.2.cmml">𝐜</mi><mi id="alg2.l8.m1.1.1.6.3" xref="alg2.l8.m1.1.1.6.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><and id="alg2.l8.m1.1.1a.cmml" xref="alg2.l8.m1.1.1"></and><apply id="alg2.l8.m1.1.1b.cmml" xref="alg2.l8.m1.1.1"><apply id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.3.1.cmml" xref="alg2.l8.m1.1.1.3">subscript</csymbol><gt id="alg2.l8.m1.1.1.3.2.cmml" xref="alg2.l8.m1.1.1.3.2"></gt><ci id="alg2.l8.m1.1.1.3.3.cmml" xref="alg2.l8.m1.1.1.3.3">𝐜</ci></apply><apply id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.2.1.cmml" xref="alg2.l8.m1.1.1.2">subscript</csymbol><ci id="alg2.l8.m1.1.1.2.2.cmml" xref="alg2.l8.m1.1.1.2.2">𝑑</ci><ci id="alg2.l8.m1.1.1.2.3.cmml" xref="alg2.l8.m1.1.1.2.3">𝑘</ci></apply><apply id="alg2.l8.m1.1.1.4.cmml" xref="alg2.l8.m1.1.1.4"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.4.1.cmml" xref="alg2.l8.m1.1.1.4">subscript</csymbol><ci id="alg2.l8.m1.1.1.4.2.cmml" xref="alg2.l8.m1.1.1.4.2">𝑑</ci><ci id="alg2.l8.m1.1.1.4.3.cmml" xref="alg2.l8.m1.1.1.4.3">𝑙</ci></apply></apply><apply id="alg2.l8.m1.1.1c.cmml" xref="alg2.l8.m1.1.1"><in id="alg2.l8.m1.1.1.5.cmml" xref="alg2.l8.m1.1.1.5"></in><share href="#alg2.l8.m1.1.1.4.cmml" id="alg2.l8.m1.1.1d.cmml" xref="alg2.l8.m1.1.1"></share><apply id="alg2.l8.m1.1.1.6.cmml" xref="alg2.l8.m1.1.1.6"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.6.1.cmml" xref="alg2.l8.m1.1.1.6">subscript</csymbol><ci id="alg2.l8.m1.1.1.6.2.cmml" xref="alg2.l8.m1.1.1.6.2">𝐜</ci><ci id="alg2.l8.m1.1.1.6.3.cmml" xref="alg2.l8.m1.1.1.6.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">d_{k}&gt;_{\mathbf{c}}d_{l}\in\mathbf{c}_{t}</annotation></semantics></math> <span id="alg2.l8.3" class="ltx_text ltx_font_bold">do</span>

 

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>        <math id="alg2.l9.m1.4" class="ltx_Math" alttext="w\leftarrow\rho(d_{k},d_{l},R,D)" display="inline"><semantics id="alg2.l9.m1.4a"><mrow id="alg2.l9.m1.4.4" xref="alg2.l9.m1.4.4.cmml"><mi id="alg2.l9.m1.4.4.4" xref="alg2.l9.m1.4.4.4.cmml">w</mi><mo stretchy="false" id="alg2.l9.m1.4.4.3" xref="alg2.l9.m1.4.4.3.cmml">←</mo><mrow id="alg2.l9.m1.4.4.2" xref="alg2.l9.m1.4.4.2.cmml"><mi id="alg2.l9.m1.4.4.2.4" xref="alg2.l9.m1.4.4.2.4.cmml">ρ</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.4.4.2.3" xref="alg2.l9.m1.4.4.2.3.cmml">​</mo><mrow id="alg2.l9.m1.4.4.2.2.2" xref="alg2.l9.m1.4.4.2.2.3.cmml"><mo stretchy="false" id="alg2.l9.m1.4.4.2.2.2.3" xref="alg2.l9.m1.4.4.2.2.3.cmml">(</mo><msub id="alg2.l9.m1.3.3.1.1.1.1" xref="alg2.l9.m1.3.3.1.1.1.1.cmml"><mi id="alg2.l9.m1.3.3.1.1.1.1.2" xref="alg2.l9.m1.3.3.1.1.1.1.2.cmml">d</mi><mi id="alg2.l9.m1.3.3.1.1.1.1.3" xref="alg2.l9.m1.3.3.1.1.1.1.3.cmml">k</mi></msub><mo id="alg2.l9.m1.4.4.2.2.2.4" xref="alg2.l9.m1.4.4.2.2.3.cmml">,</mo><msub id="alg2.l9.m1.4.4.2.2.2.2" xref="alg2.l9.m1.4.4.2.2.2.2.cmml"><mi id="alg2.l9.m1.4.4.2.2.2.2.2" xref="alg2.l9.m1.4.4.2.2.2.2.2.cmml">d</mi><mi id="alg2.l9.m1.4.4.2.2.2.2.3" xref="alg2.l9.m1.4.4.2.2.2.2.3.cmml">l</mi></msub><mo id="alg2.l9.m1.4.4.2.2.2.5" xref="alg2.l9.m1.4.4.2.2.3.cmml">,</mo><mi id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml">R</mi><mo id="alg2.l9.m1.4.4.2.2.2.6" xref="alg2.l9.m1.4.4.2.2.3.cmml">,</mo><mi id="alg2.l9.m1.2.2" xref="alg2.l9.m1.2.2.cmml">D</mi><mo stretchy="false" id="alg2.l9.m1.4.4.2.2.2.7" xref="alg2.l9.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.4b"><apply id="alg2.l9.m1.4.4.cmml" xref="alg2.l9.m1.4.4"><ci id="alg2.l9.m1.4.4.3.cmml" xref="alg2.l9.m1.4.4.3">←</ci><ci id="alg2.l9.m1.4.4.4.cmml" xref="alg2.l9.m1.4.4.4">𝑤</ci><apply id="alg2.l9.m1.4.4.2.cmml" xref="alg2.l9.m1.4.4.2"><times id="alg2.l9.m1.4.4.2.3.cmml" xref="alg2.l9.m1.4.4.2.3"></times><ci id="alg2.l9.m1.4.4.2.4.cmml" xref="alg2.l9.m1.4.4.2.4">𝜌</ci><vector id="alg2.l9.m1.4.4.2.2.3.cmml" xref="alg2.l9.m1.4.4.2.2.2"><apply id="alg2.l9.m1.3.3.1.1.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l9.m1.3.3.1.1.1.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.1.1">subscript</csymbol><ci id="alg2.l9.m1.3.3.1.1.1.1.2.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.2">𝑑</ci><ci id="alg2.l9.m1.3.3.1.1.1.1.3.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.3">𝑘</ci></apply><apply id="alg2.l9.m1.4.4.2.2.2.2.cmml" xref="alg2.l9.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l9.m1.4.4.2.2.2.2.1.cmml" xref="alg2.l9.m1.4.4.2.2.2.2">subscript</csymbol><ci id="alg2.l9.m1.4.4.2.2.2.2.2.cmml" xref="alg2.l9.m1.4.4.2.2.2.2.2">𝑑</ci><ci id="alg2.l9.m1.4.4.2.2.2.2.3.cmml" xref="alg2.l9.m1.4.4.2.2.2.2.3">𝑙</ci></apply><ci id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1">𝑅</ci><ci id="alg2.l9.m1.2.2.cmml" xref="alg2.l9.m1.2.2">𝐷</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.4c">w\leftarrow\rho(d_{k},d_{l},R,D)</annotation></semantics></math> <span id="alg2.l9.2" class="ltx_text" style="float:right;"><span id="alg2.l9.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// initialize pair weight</span> 
</span>
</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>        <math id="alg2.l10.m1.5" class="ltx_Math" alttext="w\leftarrow w\frac{e^{f_{\theta_{t}}(\mathbf{d}_{k})}e^{f_{\theta_{t}}(\mathbf{d}_{l})}}{(e^{f_{\theta_{t}}(\mathbf{d}_{k})}+e^{f_{\theta_{t}}(\mathbf{d}_{l})})^{2}}" display="inline"><semantics id="alg2.l10.m1.5a"><mrow id="alg2.l10.m1.5.6" xref="alg2.l10.m1.5.6.cmml"><mi id="alg2.l10.m1.5.6.2" xref="alg2.l10.m1.5.6.2.cmml">w</mi><mo stretchy="false" id="alg2.l10.m1.5.6.1" xref="alg2.l10.m1.5.6.1.cmml">←</mo><mrow id="alg2.l10.m1.5.6.3" xref="alg2.l10.m1.5.6.3.cmml"><mi id="alg2.l10.m1.5.6.3.2" xref="alg2.l10.m1.5.6.3.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg2.l10.m1.5.6.3.1" xref="alg2.l10.m1.5.6.3.1.cmml">​</mo><mfrac id="alg2.l10.m1.5.5" xref="alg2.l10.m1.5.5.cmml"><mrow id="alg2.l10.m1.2.2.2" xref="alg2.l10.m1.2.2.2.cmml"><msup id="alg2.l10.m1.2.2.2.4" xref="alg2.l10.m1.2.2.2.4.cmml"><mi id="alg2.l10.m1.2.2.2.4.2" xref="alg2.l10.m1.2.2.2.4.2.cmml">e</mi><mrow id="alg2.l10.m1.1.1.1.1.1" xref="alg2.l10.m1.1.1.1.1.1.cmml"><msub id="alg2.l10.m1.1.1.1.1.1.3" xref="alg2.l10.m1.1.1.1.1.1.3.cmml"><mi id="alg2.l10.m1.1.1.1.1.1.3.2" xref="alg2.l10.m1.1.1.1.1.1.3.2.cmml">f</mi><msub id="alg2.l10.m1.1.1.1.1.1.3.3" xref="alg2.l10.m1.1.1.1.1.1.3.3.cmml"><mi id="alg2.l10.m1.1.1.1.1.1.3.3.2" xref="alg2.l10.m1.1.1.1.1.1.3.3.2.cmml">θ</mi><mi id="alg2.l10.m1.1.1.1.1.1.3.3.3" xref="alg2.l10.m1.1.1.1.1.1.3.3.3.cmml">t</mi></msub></msub><mo lspace="0em" rspace="0em" id="alg2.l10.m1.1.1.1.1.1.2" xref="alg2.l10.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="alg2.l10.m1.1.1.1.1.1.1.1" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l10.m1.1.1.1.1.1.1.1.2" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.l10.m1.1.1.1.1.1.1.1.1" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.cmml"><mi id="alg2.l10.m1.1.1.1.1.1.1.1.1.2" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l10.m1.1.1.1.1.1.1.1.1.3" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="alg2.l10.m1.1.1.1.1.1.1.1.3" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msup><mo lspace="0em" rspace="0em" id="alg2.l10.m1.2.2.2.3" xref="alg2.l10.m1.2.2.2.3.cmml">​</mo><msup id="alg2.l10.m1.2.2.2.5" xref="alg2.l10.m1.2.2.2.5.cmml"><mi id="alg2.l10.m1.2.2.2.5.2" xref="alg2.l10.m1.2.2.2.5.2.cmml">e</mi><mrow id="alg2.l10.m1.2.2.2.2.1" xref="alg2.l10.m1.2.2.2.2.1.cmml"><msub id="alg2.l10.m1.2.2.2.2.1.3" xref="alg2.l10.m1.2.2.2.2.1.3.cmml"><mi id="alg2.l10.m1.2.2.2.2.1.3.2" xref="alg2.l10.m1.2.2.2.2.1.3.2.cmml">f</mi><msub id="alg2.l10.m1.2.2.2.2.1.3.3" xref="alg2.l10.m1.2.2.2.2.1.3.3.cmml"><mi id="alg2.l10.m1.2.2.2.2.1.3.3.2" xref="alg2.l10.m1.2.2.2.2.1.3.3.2.cmml">θ</mi><mi id="alg2.l10.m1.2.2.2.2.1.3.3.3" xref="alg2.l10.m1.2.2.2.2.1.3.3.3.cmml">t</mi></msub></msub><mo lspace="0em" rspace="0em" id="alg2.l10.m1.2.2.2.2.1.2" xref="alg2.l10.m1.2.2.2.2.1.2.cmml">​</mo><mrow id="alg2.l10.m1.2.2.2.2.1.1.1" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l10.m1.2.2.2.2.1.1.1.2" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.cmml">(</mo><msub id="alg2.l10.m1.2.2.2.2.1.1.1.1" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.cmml"><mi id="alg2.l10.m1.2.2.2.2.1.1.1.1.2" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l10.m1.2.2.2.2.1.1.1.1.3" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.3.cmml">l</mi></msub><mo stretchy="false" id="alg2.l10.m1.2.2.2.2.1.1.1.3" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></msup></mrow><msup id="alg2.l10.m1.5.5.5" xref="alg2.l10.m1.5.5.5.cmml"><mrow id="alg2.l10.m1.5.5.5.3.1" xref="alg2.l10.m1.5.5.5.3.1.1.cmml"><mo stretchy="false" id="alg2.l10.m1.5.5.5.3.1.2" xref="alg2.l10.m1.5.5.5.3.1.1.cmml">(</mo><mrow id="alg2.l10.m1.5.5.5.3.1.1" xref="alg2.l10.m1.5.5.5.3.1.1.cmml"><msup id="alg2.l10.m1.5.5.5.3.1.1.2" xref="alg2.l10.m1.5.5.5.3.1.1.2.cmml"><mi id="alg2.l10.m1.5.5.5.3.1.1.2.2" xref="alg2.l10.m1.5.5.5.3.1.1.2.2.cmml">e</mi><mrow id="alg2.l10.m1.3.3.3.1.1" xref="alg2.l10.m1.3.3.3.1.1.cmml"><msub id="alg2.l10.m1.3.3.3.1.1.3" xref="alg2.l10.m1.3.3.3.1.1.3.cmml"><mi id="alg2.l10.m1.3.3.3.1.1.3.2" xref="alg2.l10.m1.3.3.3.1.1.3.2.cmml">f</mi><msub id="alg2.l10.m1.3.3.3.1.1.3.3" xref="alg2.l10.m1.3.3.3.1.1.3.3.cmml"><mi id="alg2.l10.m1.3.3.3.1.1.3.3.2" xref="alg2.l10.m1.3.3.3.1.1.3.3.2.cmml">θ</mi><mi id="alg2.l10.m1.3.3.3.1.1.3.3.3" xref="alg2.l10.m1.3.3.3.1.1.3.3.3.cmml">t</mi></msub></msub><mo lspace="0em" rspace="0em" id="alg2.l10.m1.3.3.3.1.1.2" xref="alg2.l10.m1.3.3.3.1.1.2.cmml">​</mo><mrow id="alg2.l10.m1.3.3.3.1.1.1.1" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l10.m1.3.3.3.1.1.1.1.2" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.cmml">(</mo><msub id="alg2.l10.m1.3.3.3.1.1.1.1.1" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.cmml"><mi id="alg2.l10.m1.3.3.3.1.1.1.1.1.2" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l10.m1.3.3.3.1.1.1.1.1.3" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="alg2.l10.m1.3.3.3.1.1.1.1.3" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></msup><mo id="alg2.l10.m1.5.5.5.3.1.1.1" xref="alg2.l10.m1.5.5.5.3.1.1.1.cmml">+</mo><msup id="alg2.l10.m1.5.5.5.3.1.1.3" xref="alg2.l10.m1.5.5.5.3.1.1.3.cmml"><mi id="alg2.l10.m1.5.5.5.3.1.1.3.2" xref="alg2.l10.m1.5.5.5.3.1.1.3.2.cmml">e</mi><mrow id="alg2.l10.m1.4.4.4.2.1" xref="alg2.l10.m1.4.4.4.2.1.cmml"><msub id="alg2.l10.m1.4.4.4.2.1.3" xref="alg2.l10.m1.4.4.4.2.1.3.cmml"><mi id="alg2.l10.m1.4.4.4.2.1.3.2" xref="alg2.l10.m1.4.4.4.2.1.3.2.cmml">f</mi><msub id="alg2.l10.m1.4.4.4.2.1.3.3" xref="alg2.l10.m1.4.4.4.2.1.3.3.cmml"><mi id="alg2.l10.m1.4.4.4.2.1.3.3.2" xref="alg2.l10.m1.4.4.4.2.1.3.3.2.cmml">θ</mi><mi id="alg2.l10.m1.4.4.4.2.1.3.3.3" xref="alg2.l10.m1.4.4.4.2.1.3.3.3.cmml">t</mi></msub></msub><mo lspace="0em" rspace="0em" id="alg2.l10.m1.4.4.4.2.1.2" xref="alg2.l10.m1.4.4.4.2.1.2.cmml">​</mo><mrow id="alg2.l10.m1.4.4.4.2.1.1.1" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l10.m1.4.4.4.2.1.1.1.2" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.cmml">(</mo><msub id="alg2.l10.m1.4.4.4.2.1.1.1.1" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.cmml"><mi id="alg2.l10.m1.4.4.4.2.1.1.1.1.2" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l10.m1.4.4.4.2.1.1.1.1.3" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.3.cmml">l</mi></msub><mo stretchy="false" id="alg2.l10.m1.4.4.4.2.1.1.1.3" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.cmml">)</mo></mrow></mrow></msup></mrow><mo stretchy="false" id="alg2.l10.m1.5.5.5.3.1.3" xref="alg2.l10.m1.5.5.5.3.1.1.cmml">)</mo></mrow><mn id="alg2.l10.m1.5.5.5.5" xref="alg2.l10.m1.5.5.5.5.cmml">2</mn></msup></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.5b"><apply id="alg2.l10.m1.5.6.cmml" xref="alg2.l10.m1.5.6"><ci id="alg2.l10.m1.5.6.1.cmml" xref="alg2.l10.m1.5.6.1">←</ci><ci id="alg2.l10.m1.5.6.2.cmml" xref="alg2.l10.m1.5.6.2">𝑤</ci><apply id="alg2.l10.m1.5.6.3.cmml" xref="alg2.l10.m1.5.6.3"><times id="alg2.l10.m1.5.6.3.1.cmml" xref="alg2.l10.m1.5.6.3.1"></times><ci id="alg2.l10.m1.5.6.3.2.cmml" xref="alg2.l10.m1.5.6.3.2">𝑤</ci><apply id="alg2.l10.m1.5.5.cmml" xref="alg2.l10.m1.5.5"><divide id="alg2.l10.m1.5.5.6.cmml" xref="alg2.l10.m1.5.5"></divide><apply id="alg2.l10.m1.2.2.2.cmml" xref="alg2.l10.m1.2.2.2"><times id="alg2.l10.m1.2.2.2.3.cmml" xref="alg2.l10.m1.2.2.2.3"></times><apply id="alg2.l10.m1.2.2.2.4.cmml" xref="alg2.l10.m1.2.2.2.4"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.4.1.cmml" xref="alg2.l10.m1.2.2.2.4">superscript</csymbol><ci id="alg2.l10.m1.2.2.2.4.2.cmml" xref="alg2.l10.m1.2.2.2.4.2">𝑒</ci><apply id="alg2.l10.m1.1.1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1.1.1"><times id="alg2.l10.m1.1.1.1.1.1.2.cmml" xref="alg2.l10.m1.1.1.1.1.1.2"></times><apply id="alg2.l10.m1.1.1.1.1.1.3.cmml" xref="alg2.l10.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l10.m1.1.1.1.1.1.3.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.3">subscript</csymbol><ci id="alg2.l10.m1.1.1.1.1.1.3.2.cmml" xref="alg2.l10.m1.1.1.1.1.1.3.2">𝑓</ci><apply id="alg2.l10.m1.1.1.1.1.1.3.3.cmml" xref="alg2.l10.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="alg2.l10.m1.1.1.1.1.1.3.3.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.3.3">subscript</csymbol><ci id="alg2.l10.m1.1.1.1.1.1.3.3.2.cmml" xref="alg2.l10.m1.1.1.1.1.1.3.3.2">𝜃</ci><ci id="alg2.l10.m1.1.1.1.1.1.3.3.3.cmml" xref="alg2.l10.m1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l10.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.2">𝐝</ci><ci id="alg2.l10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="alg2.l10.m1.2.2.2.5.cmml" xref="alg2.l10.m1.2.2.2.5"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.5.1.cmml" xref="alg2.l10.m1.2.2.2.5">superscript</csymbol><ci id="alg2.l10.m1.2.2.2.5.2.cmml" xref="alg2.l10.m1.2.2.2.5.2">𝑒</ci><apply id="alg2.l10.m1.2.2.2.2.1.cmml" xref="alg2.l10.m1.2.2.2.2.1"><times id="alg2.l10.m1.2.2.2.2.1.2.cmml" xref="alg2.l10.m1.2.2.2.2.1.2"></times><apply id="alg2.l10.m1.2.2.2.2.1.3.cmml" xref="alg2.l10.m1.2.2.2.2.1.3"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.2.1.3.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.3">subscript</csymbol><ci id="alg2.l10.m1.2.2.2.2.1.3.2.cmml" xref="alg2.l10.m1.2.2.2.2.1.3.2">𝑓</ci><apply id="alg2.l10.m1.2.2.2.2.1.3.3.cmml" xref="alg2.l10.m1.2.2.2.2.1.3.3"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.2.1.3.3.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.3.3">subscript</csymbol><ci id="alg2.l10.m1.2.2.2.2.1.3.3.2.cmml" xref="alg2.l10.m1.2.2.2.2.1.3.3.2">𝜃</ci><ci id="alg2.l10.m1.2.2.2.2.1.3.3.3.cmml" xref="alg2.l10.m1.2.2.2.2.1.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l10.m1.2.2.2.2.1.1.1.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.2.1.1.1.1.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.1">subscript</csymbol><ci id="alg2.l10.m1.2.2.2.2.1.1.1.1.2.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.2">𝐝</ci><ci id="alg2.l10.m1.2.2.2.2.1.1.1.1.3.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.1.1.3">𝑙</ci></apply></apply></apply></apply><apply id="alg2.l10.m1.5.5.5.cmml" xref="alg2.l10.m1.5.5.5"><csymbol cd="ambiguous" id="alg2.l10.m1.5.5.5.4.cmml" xref="alg2.l10.m1.5.5.5">superscript</csymbol><apply id="alg2.l10.m1.5.5.5.3.1.1.cmml" xref="alg2.l10.m1.5.5.5.3.1"><plus id="alg2.l10.m1.5.5.5.3.1.1.1.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.1"></plus><apply id="alg2.l10.m1.5.5.5.3.1.1.2.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.2"><csymbol cd="ambiguous" id="alg2.l10.m1.5.5.5.3.1.1.2.1.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.2">superscript</csymbol><ci id="alg2.l10.m1.5.5.5.3.1.1.2.2.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.2.2">𝑒</ci><apply id="alg2.l10.m1.3.3.3.1.1.cmml" xref="alg2.l10.m1.3.3.3.1.1"><times id="alg2.l10.m1.3.3.3.1.1.2.cmml" xref="alg2.l10.m1.3.3.3.1.1.2"></times><apply id="alg2.l10.m1.3.3.3.1.1.3.cmml" xref="alg2.l10.m1.3.3.3.1.1.3"><csymbol cd="ambiguous" id="alg2.l10.m1.3.3.3.1.1.3.1.cmml" xref="alg2.l10.m1.3.3.3.1.1.3">subscript</csymbol><ci id="alg2.l10.m1.3.3.3.1.1.3.2.cmml" xref="alg2.l10.m1.3.3.3.1.1.3.2">𝑓</ci><apply id="alg2.l10.m1.3.3.3.1.1.3.3.cmml" xref="alg2.l10.m1.3.3.3.1.1.3.3"><csymbol cd="ambiguous" id="alg2.l10.m1.3.3.3.1.1.3.3.1.cmml" xref="alg2.l10.m1.3.3.3.1.1.3.3">subscript</csymbol><ci id="alg2.l10.m1.3.3.3.1.1.3.3.2.cmml" xref="alg2.l10.m1.3.3.3.1.1.3.3.2">𝜃</ci><ci id="alg2.l10.m1.3.3.3.1.1.3.3.3.cmml" xref="alg2.l10.m1.3.3.3.1.1.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l10.m1.3.3.3.1.1.1.1.1.cmml" xref="alg2.l10.m1.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.3.3.3.1.1.1.1.1.1.cmml" xref="alg2.l10.m1.3.3.3.1.1.1.1">subscript</csymbol><ci id="alg2.l10.m1.3.3.3.1.1.1.1.1.2.cmml" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.2">𝐝</ci><ci id="alg2.l10.m1.3.3.3.1.1.1.1.1.3.cmml" xref="alg2.l10.m1.3.3.3.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="alg2.l10.m1.5.5.5.3.1.1.3.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.3"><csymbol cd="ambiguous" id="alg2.l10.m1.5.5.5.3.1.1.3.1.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.3">superscript</csymbol><ci id="alg2.l10.m1.5.5.5.3.1.1.3.2.cmml" xref="alg2.l10.m1.5.5.5.3.1.1.3.2">𝑒</ci><apply id="alg2.l10.m1.4.4.4.2.1.cmml" xref="alg2.l10.m1.4.4.4.2.1"><times id="alg2.l10.m1.4.4.4.2.1.2.cmml" xref="alg2.l10.m1.4.4.4.2.1.2"></times><apply id="alg2.l10.m1.4.4.4.2.1.3.cmml" xref="alg2.l10.m1.4.4.4.2.1.3"><csymbol cd="ambiguous" id="alg2.l10.m1.4.4.4.2.1.3.1.cmml" xref="alg2.l10.m1.4.4.4.2.1.3">subscript</csymbol><ci id="alg2.l10.m1.4.4.4.2.1.3.2.cmml" xref="alg2.l10.m1.4.4.4.2.1.3.2">𝑓</ci><apply id="alg2.l10.m1.4.4.4.2.1.3.3.cmml" xref="alg2.l10.m1.4.4.4.2.1.3.3"><csymbol cd="ambiguous" id="alg2.l10.m1.4.4.4.2.1.3.3.1.cmml" xref="alg2.l10.m1.4.4.4.2.1.3.3">subscript</csymbol><ci id="alg2.l10.m1.4.4.4.2.1.3.3.2.cmml" xref="alg2.l10.m1.4.4.4.2.1.3.3.2">𝜃</ci><ci id="alg2.l10.m1.4.4.4.2.1.3.3.3.cmml" xref="alg2.l10.m1.4.4.4.2.1.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l10.m1.4.4.4.2.1.1.1.1.cmml" xref="alg2.l10.m1.4.4.4.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.4.4.4.2.1.1.1.1.1.cmml" xref="alg2.l10.m1.4.4.4.2.1.1.1">subscript</csymbol><ci id="alg2.l10.m1.4.4.4.2.1.1.1.1.2.cmml" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.2">𝐝</ci><ci id="alg2.l10.m1.4.4.4.2.1.1.1.1.3.cmml" xref="alg2.l10.m1.4.4.4.2.1.1.1.1.3">𝑙</ci></apply></apply></apply></apply><cn type="integer" id="alg2.l10.m1.5.5.5.5.cmml" xref="alg2.l10.m1.5.5.5.5">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.5c">w\leftarrow w\frac{e^{f_{\theta_{t}}(\mathbf{d}_{k})}e^{f_{\theta_{t}}(\mathbf{d}_{l})}}{(e^{f_{\theta_{t}}(\mathbf{d}_{k})}+e^{f_{\theta_{t}}(\mathbf{d}_{l})})^{2}}</annotation></semantics></math>
<span id="alg2.l10.2" class="ltx_text" style="float:right;"><span id="alg2.l10.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// pair gradient</span> 
</span>
</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>        <math id="alg2.l11.m1.1" class="ltx_Math" alttext="\nabla f_{\theta_{t}}\leftarrow\nabla f_{\theta_{t}}+w(f^{\prime}_{\theta_{t}}(\mathbf{d}_{k})-f^{\prime}_{\theta_{t}}(\mathbf{d}_{l}))" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml"><mrow id="alg2.l11.m1.1.1.3" xref="alg2.l11.m1.1.1.3.cmml"><mo rspace="0.167em" id="alg2.l11.m1.1.1.3.1" xref="alg2.l11.m1.1.1.3.1.cmml">∇</mo><msub id="alg2.l11.m1.1.1.3.2" xref="alg2.l11.m1.1.1.3.2.cmml"><mi id="alg2.l11.m1.1.1.3.2.2" xref="alg2.l11.m1.1.1.3.2.2.cmml">f</mi><msub id="alg2.l11.m1.1.1.3.2.3" xref="alg2.l11.m1.1.1.3.2.3.cmml"><mi id="alg2.l11.m1.1.1.3.2.3.2" xref="alg2.l11.m1.1.1.3.2.3.2.cmml">θ</mi><mi id="alg2.l11.m1.1.1.3.2.3.3" xref="alg2.l11.m1.1.1.3.2.3.3.cmml">t</mi></msub></msub></mrow><mo stretchy="false" id="alg2.l11.m1.1.1.2" xref="alg2.l11.m1.1.1.2.cmml">←</mo><mrow id="alg2.l11.m1.1.1.1" xref="alg2.l11.m1.1.1.1.cmml"><mrow id="alg2.l11.m1.1.1.1.3" xref="alg2.l11.m1.1.1.1.3.cmml"><mo rspace="0.167em" id="alg2.l11.m1.1.1.1.3.1" xref="alg2.l11.m1.1.1.1.3.1.cmml">∇</mo><msub id="alg2.l11.m1.1.1.1.3.2" xref="alg2.l11.m1.1.1.1.3.2.cmml"><mi id="alg2.l11.m1.1.1.1.3.2.2" xref="alg2.l11.m1.1.1.1.3.2.2.cmml">f</mi><msub id="alg2.l11.m1.1.1.1.3.2.3" xref="alg2.l11.m1.1.1.1.3.2.3.cmml"><mi id="alg2.l11.m1.1.1.1.3.2.3.2" xref="alg2.l11.m1.1.1.1.3.2.3.2.cmml">θ</mi><mi id="alg2.l11.m1.1.1.1.3.2.3.3" xref="alg2.l11.m1.1.1.1.3.2.3.3.cmml">t</mi></msub></msub></mrow><mo id="alg2.l11.m1.1.1.1.2" xref="alg2.l11.m1.1.1.1.2.cmml">+</mo><mrow id="alg2.l11.m1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.cmml"><mi id="alg2.l11.m1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.2.cmml">​</mo><mrow id="alg2.l11.m1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l11.m1.1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.cmml"><mrow id="alg2.l11.m1.1.1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.cmml"><msubsup id="alg2.l11.m1.1.1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.2.cmml">f</mi><msub id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">θ</mi><mi id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">t</mi></msub><mo id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.3.cmml">′</mo></msubsup><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg2.l11.m1.1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="alg2.l11.m1.1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.cmml"><msubsup id="alg2.l11.m1.1.1.1.1.1.1.1.2.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.2.cmml">f</mi><msub id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.2.cmml">θ</mi><mi id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.3.cmml">t</mi></msub><mo id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.3.cmml">′</mo></msubsup><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.1.1.1.1.1.2.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.2.cmml">​</mo><mrow id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><msub id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.2.cmml">𝐝</mi><mi id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.3.cmml">l</mi></msub><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1"><ci id="alg2.l11.m1.1.1.2.cmml" xref="alg2.l11.m1.1.1.2">←</ci><apply id="alg2.l11.m1.1.1.3.cmml" xref="alg2.l11.m1.1.1.3"><ci id="alg2.l11.m1.1.1.3.1.cmml" xref="alg2.l11.m1.1.1.3.1">∇</ci><apply id="alg2.l11.m1.1.1.3.2.cmml" xref="alg2.l11.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.3.2.1.cmml" xref="alg2.l11.m1.1.1.3.2">subscript</csymbol><ci id="alg2.l11.m1.1.1.3.2.2.cmml" xref="alg2.l11.m1.1.1.3.2.2">𝑓</ci><apply id="alg2.l11.m1.1.1.3.2.3.cmml" xref="alg2.l11.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.3.2.3.1.cmml" xref="alg2.l11.m1.1.1.3.2.3">subscript</csymbol><ci id="alg2.l11.m1.1.1.3.2.3.2.cmml" xref="alg2.l11.m1.1.1.3.2.3.2">𝜃</ci><ci id="alg2.l11.m1.1.1.3.2.3.3.cmml" xref="alg2.l11.m1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="alg2.l11.m1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1"><plus id="alg2.l11.m1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.2"></plus><apply id="alg2.l11.m1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.3"><ci id="alg2.l11.m1.1.1.1.3.1.cmml" xref="alg2.l11.m1.1.1.1.3.1">∇</ci><apply id="alg2.l11.m1.1.1.1.3.2.cmml" xref="alg2.l11.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.3.2.1.cmml" xref="alg2.l11.m1.1.1.1.3.2">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.3.2.2.cmml" xref="alg2.l11.m1.1.1.1.3.2.2">𝑓</ci><apply id="alg2.l11.m1.1.1.1.3.2.3.cmml" xref="alg2.l11.m1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.3.2.3.1.cmml" xref="alg2.l11.m1.1.1.1.3.2.3">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.3.2.3.2.cmml" xref="alg2.l11.m1.1.1.1.3.2.3.2">𝜃</ci><ci id="alg2.l11.m1.1.1.1.3.2.3.3.cmml" xref="alg2.l11.m1.1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="alg2.l11.m1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1"><times id="alg2.l11.m1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.2"></times><ci id="alg2.l11.m1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.3">𝑤</ci><apply id="alg2.l11.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1"><minus id="alg2.l11.m1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.3"></minus><apply id="alg2.l11.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1"><times id="alg2.l11.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.2"></times><apply id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.2">𝑓</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.2.3">′</ci></apply><apply id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.2">𝜃</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝐝</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="alg2.l11.m1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2"><times id="alg2.l11.m1.1.1.1.1.1.1.1.2.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.2"></times><apply id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3">subscript</csymbol><apply id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3">superscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.2">𝑓</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.2.3">′</ci></apply><apply id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.2">𝜃</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.3.3.3">𝑡</ci></apply></apply><apply id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.2">𝐝</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.1.2.1.1.1.3">𝑙</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">\nabla f_{\theta_{t}}\leftarrow\nabla f_{\theta_{t}}+w(f^{\prime}_{\theta_{t}}(\mathbf{d}_{k})-f^{\prime}_{\theta_{t}}(\mathbf{d}_{l}))</annotation></semantics></math>
<span id="alg2.l11.2" class="ltx_text" style="float:right;"><span id="alg2.l11.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// model gradient</span> 
</span>
</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>     <math id="alg2.l12.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\theta_{t}+\eta\nabla f_{\theta_{t}}" display="inline"><semantics id="alg2.l12.m1.1a"><mrow id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml"><msub id="alg2.l12.m1.1.1.2" xref="alg2.l12.m1.1.1.2.cmml"><mi id="alg2.l12.m1.1.1.2.2" xref="alg2.l12.m1.1.1.2.2.cmml">θ</mi><mrow id="alg2.l12.m1.1.1.2.3" xref="alg2.l12.m1.1.1.2.3.cmml"><mi id="alg2.l12.m1.1.1.2.3.2" xref="alg2.l12.m1.1.1.2.3.2.cmml">t</mi><mo id="alg2.l12.m1.1.1.2.3.1" xref="alg2.l12.m1.1.1.2.3.1.cmml">+</mo><mn id="alg2.l12.m1.1.1.2.3.3" xref="alg2.l12.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg2.l12.m1.1.1.1" xref="alg2.l12.m1.1.1.1.cmml">←</mo><mrow id="alg2.l12.m1.1.1.3" xref="alg2.l12.m1.1.1.3.cmml"><msub id="alg2.l12.m1.1.1.3.2" xref="alg2.l12.m1.1.1.3.2.cmml"><mi id="alg2.l12.m1.1.1.3.2.2" xref="alg2.l12.m1.1.1.3.2.2.cmml">θ</mi><mi id="alg2.l12.m1.1.1.3.2.3" xref="alg2.l12.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="alg2.l12.m1.1.1.3.1" xref="alg2.l12.m1.1.1.3.1.cmml">+</mo><mrow id="alg2.l12.m1.1.1.3.3" xref="alg2.l12.m1.1.1.3.3.cmml"><mi id="alg2.l12.m1.1.1.3.3.2" xref="alg2.l12.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg2.l12.m1.1.1.3.3.1" xref="alg2.l12.m1.1.1.3.3.1.cmml">​</mo><mrow id="alg2.l12.m1.1.1.3.3.3" xref="alg2.l12.m1.1.1.3.3.3.cmml"><mo rspace="0.167em" id="alg2.l12.m1.1.1.3.3.3.1" xref="alg2.l12.m1.1.1.3.3.3.1.cmml">∇</mo><msub id="alg2.l12.m1.1.1.3.3.3.2" xref="alg2.l12.m1.1.1.3.3.3.2.cmml"><mi id="alg2.l12.m1.1.1.3.3.3.2.2" xref="alg2.l12.m1.1.1.3.3.3.2.2.cmml">f</mi><msub id="alg2.l12.m1.1.1.3.3.3.2.3" xref="alg2.l12.m1.1.1.3.3.3.2.3.cmml"><mi id="alg2.l12.m1.1.1.3.3.3.2.3.2" xref="alg2.l12.m1.1.1.3.3.3.2.3.2.cmml">θ</mi><mi id="alg2.l12.m1.1.1.3.3.3.2.3.3" xref="alg2.l12.m1.1.1.3.3.3.2.3.3.cmml">t</mi></msub></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.1b"><apply id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1"><ci id="alg2.l12.m1.1.1.1.cmml" xref="alg2.l12.m1.1.1.1">←</ci><apply id="alg2.l12.m1.1.1.2.cmml" xref="alg2.l12.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l12.m1.1.1.2.1.cmml" xref="alg2.l12.m1.1.1.2">subscript</csymbol><ci id="alg2.l12.m1.1.1.2.2.cmml" xref="alg2.l12.m1.1.1.2.2">𝜃</ci><apply id="alg2.l12.m1.1.1.2.3.cmml" xref="alg2.l12.m1.1.1.2.3"><plus id="alg2.l12.m1.1.1.2.3.1.cmml" xref="alg2.l12.m1.1.1.2.3.1"></plus><ci id="alg2.l12.m1.1.1.2.3.2.cmml" xref="alg2.l12.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg2.l12.m1.1.1.2.3.3.cmml" xref="alg2.l12.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg2.l12.m1.1.1.3.cmml" xref="alg2.l12.m1.1.1.3"><plus id="alg2.l12.m1.1.1.3.1.cmml" xref="alg2.l12.m1.1.1.3.1"></plus><apply id="alg2.l12.m1.1.1.3.2.cmml" xref="alg2.l12.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l12.m1.1.1.3.2.1.cmml" xref="alg2.l12.m1.1.1.3.2">subscript</csymbol><ci id="alg2.l12.m1.1.1.3.2.2.cmml" xref="alg2.l12.m1.1.1.3.2.2">𝜃</ci><ci id="alg2.l12.m1.1.1.3.2.3.cmml" xref="alg2.l12.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg2.l12.m1.1.1.3.3.cmml" xref="alg2.l12.m1.1.1.3.3"><times id="alg2.l12.m1.1.1.3.3.1.cmml" xref="alg2.l12.m1.1.1.3.3.1"></times><ci id="alg2.l12.m1.1.1.3.3.2.cmml" xref="alg2.l12.m1.1.1.3.3.2">𝜂</ci><apply id="alg2.l12.m1.1.1.3.3.3.cmml" xref="alg2.l12.m1.1.1.3.3.3"><ci id="alg2.l12.m1.1.1.3.3.3.1.cmml" xref="alg2.l12.m1.1.1.3.3.3.1">∇</ci><apply id="alg2.l12.m1.1.1.3.3.3.2.cmml" xref="alg2.l12.m1.1.1.3.3.3.2"><csymbol cd="ambiguous" id="alg2.l12.m1.1.1.3.3.3.2.1.cmml" xref="alg2.l12.m1.1.1.3.3.3.2">subscript</csymbol><ci id="alg2.l12.m1.1.1.3.3.3.2.2.cmml" xref="alg2.l12.m1.1.1.3.3.3.2.2">𝑓</ci><apply id="alg2.l12.m1.1.1.3.3.3.2.3.cmml" xref="alg2.l12.m1.1.1.3.3.3.2.3"><csymbol cd="ambiguous" id="alg2.l12.m1.1.1.3.3.3.2.3.1.cmml" xref="alg2.l12.m1.1.1.3.3.3.2.3">subscript</csymbol><ci id="alg2.l12.m1.1.1.3.3.3.2.3.2.cmml" xref="alg2.l12.m1.1.1.3.3.3.2.3.2">𝜃</ci><ci id="alg2.l12.m1.1.1.3.3.3.2.3.3.cmml" xref="alg2.l12.m1.1.1.3.3.3.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.1c">\theta_{t+1}\leftarrow\theta_{t}+\eta\nabla f_{\theta_{t}}</annotation></semantics></math>
<span id="alg2.l12.2" class="ltx_text" style="float:right;"><span id="alg2.l12.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">// update the ranking model</span> 
</span>
</div>
</div>
</figure>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Types of non-IID Data in FOLTR</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.8" class="ltx_p">We consider training a ranker for the OLTR system as a supervised learning task in an FL setup, with each client holding a subset of the data. Each data sample is denoted as <math id="S4.p1.1.m1.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S4.p1.1.m1.2a"><mrow id="S4.p1.1.m1.2.3.2" xref="S4.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S4.p1.1.m1.2.3.2.1" xref="S4.p1.1.m1.2.3.1.cmml">(</mo><mi id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">x</mi><mo id="S4.p1.1.m1.2.3.2.2" xref="S4.p1.1.m1.2.3.1.cmml">,</mo><mi id="S4.p1.1.m1.2.2" xref="S4.p1.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="S4.p1.1.m1.2.3.2.3" xref="S4.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.2b"><interval closure="open" id="S4.p1.1.m1.2.3.1.cmml" xref="S4.p1.1.m1.2.3.2"><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">𝑥</ci><ci id="S4.p1.1.m1.2.2.cmml" xref="S4.p1.1.m1.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.2c">(x,y)</annotation></semantics></math>, where <math id="S4.p1.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p1.2.m2.1a"><mi id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><ci id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">x</annotation></semantics></math> is the feature representation of the data and <math id="S4.p1.3.m3.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.p1.3.m3.1a"><mi id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><ci id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">y</annotation></semantics></math> is the label. The local distribution of the dataset in client <math id="S4.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p1.4.m4.1a"><mi id="S4.p1.4.m4.1.1" xref="S4.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p1.4.m4.1b"><ci id="S4.p1.4.m4.1.1.cmml" xref="S4.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.4.m4.1c">i</annotation></semantics></math> is denoted as <math id="S4.p1.5.m5.2" class="ltx_Math" alttext="P_{i}(x,y)" display="inline"><semantics id="S4.p1.5.m5.2a"><mrow id="S4.p1.5.m5.2.3" xref="S4.p1.5.m5.2.3.cmml"><msub id="S4.p1.5.m5.2.3.2" xref="S4.p1.5.m5.2.3.2.cmml"><mi id="S4.p1.5.m5.2.3.2.2" xref="S4.p1.5.m5.2.3.2.2.cmml">P</mi><mi id="S4.p1.5.m5.2.3.2.3" xref="S4.p1.5.m5.2.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.p1.5.m5.2.3.1" xref="S4.p1.5.m5.2.3.1.cmml">​</mo><mrow id="S4.p1.5.m5.2.3.3.2" xref="S4.p1.5.m5.2.3.3.1.cmml"><mo stretchy="false" id="S4.p1.5.m5.2.3.3.2.1" xref="S4.p1.5.m5.2.3.3.1.cmml">(</mo><mi id="S4.p1.5.m5.1.1" xref="S4.p1.5.m5.1.1.cmml">x</mi><mo id="S4.p1.5.m5.2.3.3.2.2" xref="S4.p1.5.m5.2.3.3.1.cmml">,</mo><mi id="S4.p1.5.m5.2.2" xref="S4.p1.5.m5.2.2.cmml">y</mi><mo stretchy="false" id="S4.p1.5.m5.2.3.3.2.3" xref="S4.p1.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.5.m5.2b"><apply id="S4.p1.5.m5.2.3.cmml" xref="S4.p1.5.m5.2.3"><times id="S4.p1.5.m5.2.3.1.cmml" xref="S4.p1.5.m5.2.3.1"></times><apply id="S4.p1.5.m5.2.3.2.cmml" xref="S4.p1.5.m5.2.3.2"><csymbol cd="ambiguous" id="S4.p1.5.m5.2.3.2.1.cmml" xref="S4.p1.5.m5.2.3.2">subscript</csymbol><ci id="S4.p1.5.m5.2.3.2.2.cmml" xref="S4.p1.5.m5.2.3.2.2">𝑃</ci><ci id="S4.p1.5.m5.2.3.2.3.cmml" xref="S4.p1.5.m5.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S4.p1.5.m5.2.3.3.1.cmml" xref="S4.p1.5.m5.2.3.3.2"><ci id="S4.p1.5.m5.1.1.cmml" xref="S4.p1.5.m5.1.1">𝑥</ci><ci id="S4.p1.5.m5.2.2.cmml" xref="S4.p1.5.m5.2.2">𝑦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.5.m5.2c">P_{i}(x,y)</annotation></semantics></math>. The presence of non-IID data can be represented as the difference between local data distributions: that is, for different clients <math id="S4.p1.6.m6.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p1.6.m6.1a"><mi id="S4.p1.6.m6.1.1" xref="S4.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p1.6.m6.1b"><ci id="S4.p1.6.m6.1.1.cmml" xref="S4.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.6.m6.1c">i</annotation></semantics></math> and <math id="S4.p1.7.m7.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S4.p1.7.m7.1a"><mi id="S4.p1.7.m7.1.1" xref="S4.p1.7.m7.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.p1.7.m7.1b"><ci id="S4.p1.7.m7.1.1.cmml" xref="S4.p1.7.m7.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.7.m7.1c">j</annotation></semantics></math>, <math id="S4.p1.8.m8.4" class="ltx_Math" alttext="P_{i}(x,y)\neq P_{j}(x,y)" display="inline"><semantics id="S4.p1.8.m8.4a"><mrow id="S4.p1.8.m8.4.5" xref="S4.p1.8.m8.4.5.cmml"><mrow id="S4.p1.8.m8.4.5.2" xref="S4.p1.8.m8.4.5.2.cmml"><msub id="S4.p1.8.m8.4.5.2.2" xref="S4.p1.8.m8.4.5.2.2.cmml"><mi id="S4.p1.8.m8.4.5.2.2.2" xref="S4.p1.8.m8.4.5.2.2.2.cmml">P</mi><mi id="S4.p1.8.m8.4.5.2.2.3" xref="S4.p1.8.m8.4.5.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.p1.8.m8.4.5.2.1" xref="S4.p1.8.m8.4.5.2.1.cmml">​</mo><mrow id="S4.p1.8.m8.4.5.2.3.2" xref="S4.p1.8.m8.4.5.2.3.1.cmml"><mo stretchy="false" id="S4.p1.8.m8.4.5.2.3.2.1" xref="S4.p1.8.m8.4.5.2.3.1.cmml">(</mo><mi id="S4.p1.8.m8.1.1" xref="S4.p1.8.m8.1.1.cmml">x</mi><mo id="S4.p1.8.m8.4.5.2.3.2.2" xref="S4.p1.8.m8.4.5.2.3.1.cmml">,</mo><mi id="S4.p1.8.m8.2.2" xref="S4.p1.8.m8.2.2.cmml">y</mi><mo stretchy="false" id="S4.p1.8.m8.4.5.2.3.2.3" xref="S4.p1.8.m8.4.5.2.3.1.cmml">)</mo></mrow></mrow><mo id="S4.p1.8.m8.4.5.1" xref="S4.p1.8.m8.4.5.1.cmml">≠</mo><mrow id="S4.p1.8.m8.4.5.3" xref="S4.p1.8.m8.4.5.3.cmml"><msub id="S4.p1.8.m8.4.5.3.2" xref="S4.p1.8.m8.4.5.3.2.cmml"><mi id="S4.p1.8.m8.4.5.3.2.2" xref="S4.p1.8.m8.4.5.3.2.2.cmml">P</mi><mi id="S4.p1.8.m8.4.5.3.2.3" xref="S4.p1.8.m8.4.5.3.2.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S4.p1.8.m8.4.5.3.1" xref="S4.p1.8.m8.4.5.3.1.cmml">​</mo><mrow id="S4.p1.8.m8.4.5.3.3.2" xref="S4.p1.8.m8.4.5.3.3.1.cmml"><mo stretchy="false" id="S4.p1.8.m8.4.5.3.3.2.1" xref="S4.p1.8.m8.4.5.3.3.1.cmml">(</mo><mi id="S4.p1.8.m8.3.3" xref="S4.p1.8.m8.3.3.cmml">x</mi><mo id="S4.p1.8.m8.4.5.3.3.2.2" xref="S4.p1.8.m8.4.5.3.3.1.cmml">,</mo><mi id="S4.p1.8.m8.4.4" xref="S4.p1.8.m8.4.4.cmml">y</mi><mo stretchy="false" id="S4.p1.8.m8.4.5.3.3.2.3" xref="S4.p1.8.m8.4.5.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.8.m8.4b"><apply id="S4.p1.8.m8.4.5.cmml" xref="S4.p1.8.m8.4.5"><neq id="S4.p1.8.m8.4.5.1.cmml" xref="S4.p1.8.m8.4.5.1"></neq><apply id="S4.p1.8.m8.4.5.2.cmml" xref="S4.p1.8.m8.4.5.2"><times id="S4.p1.8.m8.4.5.2.1.cmml" xref="S4.p1.8.m8.4.5.2.1"></times><apply id="S4.p1.8.m8.4.5.2.2.cmml" xref="S4.p1.8.m8.4.5.2.2"><csymbol cd="ambiguous" id="S4.p1.8.m8.4.5.2.2.1.cmml" xref="S4.p1.8.m8.4.5.2.2">subscript</csymbol><ci id="S4.p1.8.m8.4.5.2.2.2.cmml" xref="S4.p1.8.m8.4.5.2.2.2">𝑃</ci><ci id="S4.p1.8.m8.4.5.2.2.3.cmml" xref="S4.p1.8.m8.4.5.2.2.3">𝑖</ci></apply><interval closure="open" id="S4.p1.8.m8.4.5.2.3.1.cmml" xref="S4.p1.8.m8.4.5.2.3.2"><ci id="S4.p1.8.m8.1.1.cmml" xref="S4.p1.8.m8.1.1">𝑥</ci><ci id="S4.p1.8.m8.2.2.cmml" xref="S4.p1.8.m8.2.2">𝑦</ci></interval></apply><apply id="S4.p1.8.m8.4.5.3.cmml" xref="S4.p1.8.m8.4.5.3"><times id="S4.p1.8.m8.4.5.3.1.cmml" xref="S4.p1.8.m8.4.5.3.1"></times><apply id="S4.p1.8.m8.4.5.3.2.cmml" xref="S4.p1.8.m8.4.5.3.2"><csymbol cd="ambiguous" id="S4.p1.8.m8.4.5.3.2.1.cmml" xref="S4.p1.8.m8.4.5.3.2">subscript</csymbol><ci id="S4.p1.8.m8.4.5.3.2.2.cmml" xref="S4.p1.8.m8.4.5.3.2.2">𝑃</ci><ci id="S4.p1.8.m8.4.5.3.2.3.cmml" xref="S4.p1.8.m8.4.5.3.2.3">𝑗</ci></apply><interval closure="open" id="S4.p1.8.m8.4.5.3.3.1.cmml" xref="S4.p1.8.m8.4.5.3.3.2"><ci id="S4.p1.8.m8.3.3.cmml" xref="S4.p1.8.m8.3.3">𝑥</ci><ci id="S4.p1.8.m8.4.4.cmml" xref="S4.p1.8.m8.4.4">𝑦</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.8.m8.4c">P_{i}(x,y)\neq P_{j}(x,y)</annotation></semantics></math>.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.2" class="ltx_p">In federated learning, data across clients may not be IID due to different reasons: Kairouz et al. <cite class="ltx_cite ltx_citemacro_citep">(Kairouz
et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2021</a>)</cite> and Zhu et al. <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite> assert this can be due to how features <math id="S4.p2.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p2.1.m1.1a"><mi id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><ci id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">x</annotation></semantics></math> and labels <math id="S4.p2.2.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.p2.2.m2.1a"><mi id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">y</annotation></semantics></math> are distributed. However, the translation of these categories to FOLTR is not straightforward. In the following sections, we put forward several situations in which data specific to FOLTR could be distributed in a non-IID manner across clients. Specifically, we consider data in the FOLTR process may not be IID because of biases across clients due to:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Type 1:</span> document preferences (Section <a href="#S5" title="5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>)</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Type 2:</span> document label distribution skewness (Section <a href="#S6" title="6. TYPE 2: Document label distribution skewness ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>)</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Type 3:</span> click preferences (Section <a href="#S7" title="7. Other Data Types ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p"><span id="S4.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Type 4:</span> data quantity (Section <a href="#S7" title="7. Other Data Types ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)</p>
</div>
</li>
</ul>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Summary of non-IID data types in FOLTR. </figcaption>
<table id="S4.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.1.1.1" class="ltx_tr">
<th id="S4.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.1.1.1.1.1" class="ltx_text ltx_font_bold">Data type</span></th>
<th id="S4.T1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.1.1.1.2.1" class="ltx_text ltx_font_bold">Key characteristic</span></th>
<th id="S4.T1.1.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.1.1.1.3.1" class="ltx_text ltx_font_bold">When it happens in FOLTR</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.1.2.1" class="ltx_tr">
<td id="S4.T1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_t">Type 1</td>
<td id="S4.T1.1.2.1.2" class="ltx_td ltx_align_left ltx_border_t">Document Preferences</td>
<td id="S4.T1.1.2.1.3" class="ltx_td ltx_align_left ltx_border_t">
<table id="S4.T1.1.2.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.1.2.1.3.1.1" class="ltx_tr">
<td id="S4.T1.1.2.1.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Different clients have different preferred candidate documents, although they are</td>
</tr>
<tr id="S4.T1.1.2.1.3.1.2" class="ltx_tr">
<td id="S4.T1.1.2.1.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">searching for the same query.</td>
</tr>
</table>
</td>
</tr>
<tr id="S4.T1.1.3.2" class="ltx_tr">
<td id="S4.T1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_t">Type 2</td>
<td id="S4.T1.1.3.2.2" class="ltx_td ltx_align_left ltx_border_t">Document Label Distribution</td>
<td id="S4.T1.1.3.2.3" class="ltx_td ltx_align_left ltx_border_t">
<table id="S4.T1.1.3.2.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.1.3.2.3.1.1" class="ltx_tr">
<td id="S4.T1.1.3.2.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Different clients hold candidate documents with different label distribution while</td>
</tr>
<tr id="S4.T1.1.3.2.3.1.2" class="ltx_tr">
<td id="S4.T1.1.3.2.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">the conditional feature distirbution is the shared.</td>
</tr>
</table>
</td>
</tr>
<tr id="S4.T1.1.4.3" class="ltx_tr">
<td id="S4.T1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_t">Type 3</td>
<td id="S4.T1.1.4.3.2" class="ltx_td ltx_align_left ltx_border_t">Click Preferences</td>
<td id="S4.T1.1.4.3.3" class="ltx_td ltx_align_left ltx_border_t">
<table id="S4.T1.1.4.3.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.1.4.3.3.1.1" class="ltx_tr">
<td id="S4.T1.1.4.3.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Different clients have various preferred click behaviours when searching for the</td>
</tr>
<tr id="S4.T1.1.4.3.3.1.2" class="ltx_tr">
<td id="S4.T1.1.4.3.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">same query.</td>
</tr>
</table>
</td>
</tr>
<tr id="S4.T1.1.5.4" class="ltx_tr">
<td id="S4.T1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">Type 4</td>
<td id="S4.T1.1.5.4.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">Data Quantity</td>
<td id="S4.T1.1.5.4.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">
<table id="S4.T1.1.5.4.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.1.5.4.3.1.1" class="ltx_tr">
<td id="S4.T1.1.5.4.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Different clients have different frequency on issuing queries and interacting with</td>
</tr>
<tr id="S4.T1.1.5.4.3.1.2" class="ltx_tr">
<td id="S4.T1.1.5.4.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">the searching system.</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">The last data type, Type 4, i.e., the situation in which different clients hold different quantities of data (and in particular interaction data such as queries and clicks), does not necessarily imply that the data is non-IID. However, we note this case is often studied in the FL literature alongside non-IID data <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>; Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2022</a>)</cite>, and thus we include this situation in our considerations of the non-IID problem. Each data type is defined and investigated in the next sections; in addition we provide a summary overview of the data types in Table <a href="#S4.T1" title="Table 1 ‣ 4. Types of non-IID Data in FOLTR ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S4.p4" class="ltx_para">
<p id="S4.p4.3" class="ltx_p">We also note that commonly in federated learning, non-IID data occurs because the data is distributed across clients according to its features. In other words, the marginal distribution of the features belonging to the data held by each client may vary, i.e. for different clients <math id="S4.p4.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p4.1.m1.1a"><mi id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><ci id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">i</annotation></semantics></math> and <math id="S4.p4.2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S4.p4.2.m2.1a"><mi id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><ci id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">j</annotation></semantics></math>, <math id="S4.p4.3.m3.2" class="ltx_Math" alttext="P_{i}(x)\neq P_{j}(x)" display="inline"><semantics id="S4.p4.3.m3.2a"><mrow id="S4.p4.3.m3.2.3" xref="S4.p4.3.m3.2.3.cmml"><mrow id="S4.p4.3.m3.2.3.2" xref="S4.p4.3.m3.2.3.2.cmml"><msub id="S4.p4.3.m3.2.3.2.2" xref="S4.p4.3.m3.2.3.2.2.cmml"><mi id="S4.p4.3.m3.2.3.2.2.2" xref="S4.p4.3.m3.2.3.2.2.2.cmml">P</mi><mi id="S4.p4.3.m3.2.3.2.2.3" xref="S4.p4.3.m3.2.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.p4.3.m3.2.3.2.1" xref="S4.p4.3.m3.2.3.2.1.cmml">​</mo><mrow id="S4.p4.3.m3.2.3.2.3.2" xref="S4.p4.3.m3.2.3.2.cmml"><mo stretchy="false" id="S4.p4.3.m3.2.3.2.3.2.1" xref="S4.p4.3.m3.2.3.2.cmml">(</mo><mi id="S4.p4.3.m3.1.1" xref="S4.p4.3.m3.1.1.cmml">x</mi><mo stretchy="false" id="S4.p4.3.m3.2.3.2.3.2.2" xref="S4.p4.3.m3.2.3.2.cmml">)</mo></mrow></mrow><mo id="S4.p4.3.m3.2.3.1" xref="S4.p4.3.m3.2.3.1.cmml">≠</mo><mrow id="S4.p4.3.m3.2.3.3" xref="S4.p4.3.m3.2.3.3.cmml"><msub id="S4.p4.3.m3.2.3.3.2" xref="S4.p4.3.m3.2.3.3.2.cmml"><mi id="S4.p4.3.m3.2.3.3.2.2" xref="S4.p4.3.m3.2.3.3.2.2.cmml">P</mi><mi id="S4.p4.3.m3.2.3.3.2.3" xref="S4.p4.3.m3.2.3.3.2.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S4.p4.3.m3.2.3.3.1" xref="S4.p4.3.m3.2.3.3.1.cmml">​</mo><mrow id="S4.p4.3.m3.2.3.3.3.2" xref="S4.p4.3.m3.2.3.3.cmml"><mo stretchy="false" id="S4.p4.3.m3.2.3.3.3.2.1" xref="S4.p4.3.m3.2.3.3.cmml">(</mo><mi id="S4.p4.3.m3.2.2" xref="S4.p4.3.m3.2.2.cmml">x</mi><mo stretchy="false" id="S4.p4.3.m3.2.3.3.3.2.2" xref="S4.p4.3.m3.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.3.m3.2b"><apply id="S4.p4.3.m3.2.3.cmml" xref="S4.p4.3.m3.2.3"><neq id="S4.p4.3.m3.2.3.1.cmml" xref="S4.p4.3.m3.2.3.1"></neq><apply id="S4.p4.3.m3.2.3.2.cmml" xref="S4.p4.3.m3.2.3.2"><times id="S4.p4.3.m3.2.3.2.1.cmml" xref="S4.p4.3.m3.2.3.2.1"></times><apply id="S4.p4.3.m3.2.3.2.2.cmml" xref="S4.p4.3.m3.2.3.2.2"><csymbol cd="ambiguous" id="S4.p4.3.m3.2.3.2.2.1.cmml" xref="S4.p4.3.m3.2.3.2.2">subscript</csymbol><ci id="S4.p4.3.m3.2.3.2.2.2.cmml" xref="S4.p4.3.m3.2.3.2.2.2">𝑃</ci><ci id="S4.p4.3.m3.2.3.2.2.3.cmml" xref="S4.p4.3.m3.2.3.2.2.3">𝑖</ci></apply><ci id="S4.p4.3.m3.1.1.cmml" xref="S4.p4.3.m3.1.1">𝑥</ci></apply><apply id="S4.p4.3.m3.2.3.3.cmml" xref="S4.p4.3.m3.2.3.3"><times id="S4.p4.3.m3.2.3.3.1.cmml" xref="S4.p4.3.m3.2.3.3.1"></times><apply id="S4.p4.3.m3.2.3.3.2.cmml" xref="S4.p4.3.m3.2.3.3.2"><csymbol cd="ambiguous" id="S4.p4.3.m3.2.3.3.2.1.cmml" xref="S4.p4.3.m3.2.3.3.2">subscript</csymbol><ci id="S4.p4.3.m3.2.3.3.2.2.cmml" xref="S4.p4.3.m3.2.3.3.2.2">𝑃</ci><ci id="S4.p4.3.m3.2.3.3.2.3.cmml" xref="S4.p4.3.m3.2.3.3.2.3">𝑗</ci></apply><ci id="S4.p4.3.m3.2.2.cmml" xref="S4.p4.3.m3.2.2">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.3.m3.2c">P_{i}(x)\neq P_{j}(x)</annotation></semantics></math>. This situation may occur in horizontal federated learning settings (also called homogeneous FL) <cite class="ltx_cite ltx_citemacro_citep">(Yang
et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2019</a>)</cite>, where each client holds different and overlapping datasets. In this case, the non-IID divergence is usually caused by inconsistent data distributions, e.g., feature imbalance of the training data local to each client. However, this case does not seem applicable to FOLTR (thus is not further studied in this paper). In FOLTR, each data item is represented by the feature vector of a query-document pair and its relevance label.
The features often consist of variations of query-dependent features such as TF-IDF scores, BM25 scores, query length, as well as query-independent features such as PageRank, URL lengths, and so on <cite class="ltx_cite ltx_citemacro_citep">(Qin and Liu, <a href="#bib.bib35" title="" class="ltx_ref">2013</a>)</cite>. In this case, bias in the feature distribution across clients would be rare as most features are dependent on the query-document pair.</p>
</div>
<div id="S4.p5" class="ltx_para">
<p id="S4.p5.1" class="ltx_p">Next, we describe the non-IID data types we put forward in this paper and analyse their impact on FOLTR. We empirically find that only Type 1 and partially also Type 2 data have a strong impact on the FOLTR. We thus predominantly focus our attention on these two data types while providing only a definition and a brief account of the remaining two data types in the paper due to space: we do, however, report all experiments results, thorough analysis and considerations in an online appendix available at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Type 1: Document preferences</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.2" class="ltx_p"><em id="S5.p1.2.1" class="ltx_emph ltx_font_italic">Document preference skewness</em> (Type 1) considers the situation when the conditional distribution <math id="S5.p1.1.m1.1" class="ltx_Math" alttext="P_{i}(y|x)" display="inline"><semantics id="S5.p1.1.m1.1a"><mrow id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml"><msub id="S5.p1.1.m1.1.1.3" xref="S5.p1.1.m1.1.1.3.cmml"><mi id="S5.p1.1.m1.1.1.3.2" xref="S5.p1.1.m1.1.1.3.2.cmml">P</mi><mi id="S5.p1.1.m1.1.1.3.3" xref="S5.p1.1.m1.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S5.p1.1.m1.1.1.2" xref="S5.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S5.p1.1.m1.1.1.1.1" xref="S5.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.p1.1.m1.1.1.1.1.2" xref="S5.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S5.p1.1.m1.1.1.1.1.1" xref="S5.p1.1.m1.1.1.1.1.1.cmml"><mi id="S5.p1.1.m1.1.1.1.1.1.2" xref="S5.p1.1.m1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S5.p1.1.m1.1.1.1.1.1.1" xref="S5.p1.1.m1.1.1.1.1.1.1.cmml">|</mo><mi id="S5.p1.1.m1.1.1.1.1.1.3" xref="S5.p1.1.m1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S5.p1.1.m1.1.1.1.1.3" xref="S5.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><apply id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1"><times id="S5.p1.1.m1.1.1.2.cmml" xref="S5.p1.1.m1.1.1.2"></times><apply id="S5.p1.1.m1.1.1.3.cmml" xref="S5.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.p1.1.m1.1.1.3.1.cmml" xref="S5.p1.1.m1.1.1.3">subscript</csymbol><ci id="S5.p1.1.m1.1.1.3.2.cmml" xref="S5.p1.1.m1.1.1.3.2">𝑃</ci><ci id="S5.p1.1.m1.1.1.3.3.cmml" xref="S5.p1.1.m1.1.1.3.3">𝑖</ci></apply><apply id="S5.p1.1.m1.1.1.1.1.1.cmml" xref="S5.p1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S5.p1.1.m1.1.1.1.1.1.1.cmml" xref="S5.p1.1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.p1.1.m1.1.1.1.1.1.2">𝑦</ci><ci id="S5.p1.1.m1.1.1.1.1.1.3.cmml" xref="S5.p1.1.m1.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">P_{i}(y|x)</annotation></semantics></math> varies across the clients though <math id="S5.p1.2.m2.1" class="ltx_Math" alttext="P_{i}(x)" display="inline"><semantics id="S5.p1.2.m2.1a"><mrow id="S5.p1.2.m2.1.2" xref="S5.p1.2.m2.1.2.cmml"><msub id="S5.p1.2.m2.1.2.2" xref="S5.p1.2.m2.1.2.2.cmml"><mi id="S5.p1.2.m2.1.2.2.2" xref="S5.p1.2.m2.1.2.2.2.cmml">P</mi><mi id="S5.p1.2.m2.1.2.2.3" xref="S5.p1.2.m2.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S5.p1.2.m2.1.2.1" xref="S5.p1.2.m2.1.2.1.cmml">​</mo><mrow id="S5.p1.2.m2.1.2.3.2" xref="S5.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S5.p1.2.m2.1.2.3.2.1" xref="S5.p1.2.m2.1.2.cmml">(</mo><mi id="S5.p1.2.m2.1.1" xref="S5.p1.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.2.m2.1.2.3.2.2" xref="S5.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b"><apply id="S5.p1.2.m2.1.2.cmml" xref="S5.p1.2.m2.1.2"><times id="S5.p1.2.m2.1.2.1.cmml" xref="S5.p1.2.m2.1.2.1"></times><apply id="S5.p1.2.m2.1.2.2.cmml" xref="S5.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S5.p1.2.m2.1.2.2.1.cmml" xref="S5.p1.2.m2.1.2.2">subscript</csymbol><ci id="S5.p1.2.m2.1.2.2.2.cmml" xref="S5.p1.2.m2.1.2.2.2">𝑃</ci><ci id="S5.p1.2.m2.1.2.2.3.cmml" xref="S5.p1.2.m2.1.2.2.3">𝑖</ci></apply><ci id="S5.p1.2.m2.1.1.cmml" xref="S5.p1.2.m2.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">P_{i}(x)</annotation></semantics></math> remains the same. This happens when different clients have different preferred candidate documents, although they are searching for the same query. As OLTR requires the user’s implicit feedback as an optimization objective, which might be highly related to individual preferences, this setting appears to be of very likely occurrence.</p>
</div>
<figure id="S5.F3" class="ltx_figure"><img src="/html/2204.09272/assets/images/intent-change_FPDGD_clients4_batch5_updates10000_non_iid_intent_change_CCM_linear_and_neural16.png" id="S5.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Offline performance (nDCG@10) on Type 1 data; results averaged across dataset splits and experimental runs.</figcaption>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Simulating Type 1 non-IID Data</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">The mechanism we use to simulate non-IID data of Type 1 and IID data to baseline the FOLTR effectiveness relies on a recent work that empirically studied and demonstrated how OLTR methods adapt when user’s search intents change overtime <cite class="ltx_cite ltx_citemacro_citep">(Zhuang and Zuccon, <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite>. In particular, <cite class="ltx_cite ltx_citemacro_citet">Zhuang and Zuccon (<a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> created a collection for OLTR with several explicit intent types by adapting an existing TREC collection, as no dataset is available for studying this OLTR problem. Derived from ClueWeb09 and the TREC Web Track 2009 to 2012 <cite class="ltx_cite ltx_citemacro_citep">(Clarke
et al<span class="ltx_text">.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2012</a>)</cite>, this intent change collection consists of 200 queries with 4 intents each and, on average, 512 candidate documents per query. Furthermore, query-document pairs’ relevance judgements are provided per intent. We believe this is an appropriate collection to adapt to study the effect of Type 1 non-IID data on FOLTR. We can regard each intent as a type of user preference. As the average number of relevant documents per intent varies largely across all intent types, the learning difficulty of optimizing a ranker among different intents also varies. To avoid this bias, we follow Zhuang and Zuccon <cite class="ltx_cite ltx_citemacro_citep">(Zhuang and Zuccon, <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> and we re-label the original intent number for each query through random shuffling: this is possible because all intent types are independent across queries. In our experiments, we repeat this process of re-balancing 5 times, thus giving rise to results averaged across 5 FOLTR experiments. We refer to Zhuang and Zuccon <cite class="ltx_cite ltx_citemacro_citep">(Zhuang and Zuccon, <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> for further details on the dataset creation, and we further highlight that we have made available an implementation of the dataset creation procedure along with the actual dataset at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.5" class="ltx_p">To simulate non-IID data, after randomly shuffling all intents across 4 types, we let each intent represent one client preference. The client preferences differ from each other for the same query-document pair so as the corresponding relevance judgements. The federated setup involves 4 clients (represented by 4 types of intent) and the local updating time <math id="S5.SS1.p2.1.m1.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S5.SS1.p2.1.m1.1a"><mrow id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.2.cmml">B</mi><mo id="S5.SS1.p2.1.m1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><eq id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1"></eq><ci id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2">𝐵</ci><cn type="integer" id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">B=5</annotation></semantics></math> with fixed global communication times <math id="S5.SS1.p2.2.m2.2" class="ltx_Math" alttext="T=10,000" display="inline"><semantics id="S5.SS1.p2.2.m2.2a"><mrow id="S5.SS1.p2.2.m2.2.3" xref="S5.SS1.p2.2.m2.2.3.cmml"><mi id="S5.SS1.p2.2.m2.2.3.2" xref="S5.SS1.p2.2.m2.2.3.2.cmml">T</mi><mo id="S5.SS1.p2.2.m2.2.3.1" xref="S5.SS1.p2.2.m2.2.3.1.cmml">=</mo><mrow id="S5.SS1.p2.2.m2.2.3.3.2" xref="S5.SS1.p2.2.m2.2.3.3.1.cmml"><mn id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml">10</mn><mo id="S5.SS1.p2.2.m2.2.3.3.2.1" xref="S5.SS1.p2.2.m2.2.3.3.1.cmml">,</mo><mn id="S5.SS1.p2.2.m2.2.2" xref="S5.SS1.p2.2.m2.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.2b"><apply id="S5.SS1.p2.2.m2.2.3.cmml" xref="S5.SS1.p2.2.m2.2.3"><eq id="S5.SS1.p2.2.m2.2.3.1.cmml" xref="S5.SS1.p2.2.m2.2.3.1"></eq><ci id="S5.SS1.p2.2.m2.2.3.2.cmml" xref="S5.SS1.p2.2.m2.2.3.2">𝑇</ci><list id="S5.SS1.p2.2.m2.2.3.3.1.cmml" xref="S5.SS1.p2.2.m2.2.3.3.2"><cn type="integer" id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">10</cn><cn type="integer" id="S5.SS1.p2.2.m2.2.2.cmml" xref="S5.SS1.p2.2.m2.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.2c">T=10,000</annotation></semantics></math>. These settings are similar to those used in previous work on FOLTR <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2021d</a>, <a href="#bib.bib44" title="" class="ltx_ref">a</a>)</cite> – in particular we refer the interested reader to the work of Wang et al. <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2021d</a>)</cite> to understand the relationships between number of clients, number of local updates <math id="S5.SS1.p2.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S5.SS1.p2.3.m3.1a"><mi id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><ci id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">B</annotation></semantics></math>, and FOLTR effectiveness.
For the implicit feedback in FOLTR, we simulate user clicks based on the popular <em id="S5.SS1.p2.5.1" class="ltx_emph ltx_font_italic">Simplified Dynamic Bayesian Network</em> (SDBN) click mode <cite class="ltx_cite ltx_citemacro_citep">(Chapelle and
Zhang, <a href="#bib.bib8" title="" class="ltx_ref">2009</a>)</cite>, following settings in previous work on OLTR <cite class="ltx_cite ltx_citemacro_citep">(Oosterhuis
et al<span class="ltx_text">.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2016</a>; Oosterhuis and
de Rijke, <a href="#bib.bib32" title="" class="ltx_ref">2018</a>; Zhuang and Zuccon, <a href="#bib.bib55" title="" class="ltx_ref">2020</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>. We limit SERP to 10 documents and use <math id="S5.SS1.p2.4.m4.1" class="ltx_Math" alttext="nDCG@10" display="inline"><semantics id="S5.SS1.p2.4.m4.1a"><mrow id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2" xref="S5.SS1.p2.4.m4.1.1.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.4.m4.1.1.1" xref="S5.SS1.p2.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.4.m4.1.1.1a" xref="S5.SS1.p2.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.4.m4.1.1.4" xref="S5.SS1.p2.4.m4.1.1.4.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.4.m4.1.1.1b" xref="S5.SS1.p2.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.4.m4.1.1.5" xref="S5.SS1.p2.4.m4.1.1.5.cmml">G</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.4.m4.1.1.1c" xref="S5.SS1.p2.4.m4.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S5.SS1.p2.4.m4.1.1.6" xref="S5.SS1.p2.4.m4.1.1.6.cmml">@</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.4.m4.1.1.1d" xref="S5.SS1.p2.4.m4.1.1.1.cmml">​</mo><mn id="S5.SS1.p2.4.m4.1.1.7" xref="S5.SS1.p2.4.m4.1.1.7.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><times id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1.1"></times><ci id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2">𝑛</ci><ci id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3">𝐷</ci><ci id="S5.SS1.p2.4.m4.1.1.4.cmml" xref="S5.SS1.p2.4.m4.1.1.4">𝐶</ci><ci id="S5.SS1.p2.4.m4.1.1.5.cmml" xref="S5.SS1.p2.4.m4.1.1.5">𝐺</ci><ci id="S5.SS1.p2.4.m4.1.1.6.cmml" xref="S5.SS1.p2.4.m4.1.1.6">@</ci><cn type="integer" id="S5.SS1.p2.4.m4.1.1.7.cmml" xref="S5.SS1.p2.4.m4.1.1.7">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">nDCG@10</annotation></semantics></math> for offline evaluation, cumulative discounted <math id="S5.SS1.p2.5.m5.1" class="ltx_Math" alttext="nDCG@10" display="inline"><semantics id="S5.SS1.p2.5.m5.1a"><mrow id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2" xref="S5.SS1.p2.5.m5.1.1.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.5.m5.1.1.1" xref="S5.SS1.p2.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.5.m5.1.1.1a" xref="S5.SS1.p2.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.5.m5.1.1.4" xref="S5.SS1.p2.5.m5.1.1.4.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.5.m5.1.1.1b" xref="S5.SS1.p2.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS1.p2.5.m5.1.1.5" xref="S5.SS1.p2.5.m5.1.1.5.cmml">G</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.5.m5.1.1.1c" xref="S5.SS1.p2.5.m5.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S5.SS1.p2.5.m5.1.1.6" xref="S5.SS1.p2.5.m5.1.1.6.cmml">@</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.5.m5.1.1.1d" xref="S5.SS1.p2.5.m5.1.1.1.cmml">​</mo><mn id="S5.SS1.p2.5.m5.1.1.7" xref="S5.SS1.p2.5.m5.1.1.7.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><times id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1.1"></times><ci id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2">𝑛</ci><ci id="S5.SS1.p2.5.m5.1.1.3.cmml" xref="S5.SS1.p2.5.m5.1.1.3">𝐷</ci><ci id="S5.SS1.p2.5.m5.1.1.4.cmml" xref="S5.SS1.p2.5.m5.1.1.4">𝐶</ci><ci id="S5.SS1.p2.5.m5.1.1.5.cmml" xref="S5.SS1.p2.5.m5.1.1.5">𝐺</ci><ci id="S5.SS1.p2.5.m5.1.1.6.cmml" xref="S5.SS1.p2.5.m5.1.1.6">@</ci><cn type="integer" id="S5.SS1.p2.5.m5.1.1.7.cmml" xref="S5.SS1.p2.5.m5.1.1.7">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">nDCG@10</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Oosterhuis and
de Rijke, <a href="#bib.bib32" title="" class="ltx_ref">2018</a>)</cite> for online evaluation. We train a linear ranker and a neural ranker on the intent-change dataset. As in <cite class="ltx_cite ltx_citemacro_citet">Zhuang and Zuccon (<a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite>, given that no held-out test set is available, we evaluate both online and offline performance on the original training set across all 4 intent types and average all results. For the IID setting, we merge all intents and mark a document as relevant as long as it is judged relevant for at least one of the intent types. Each client randomly picks a query from the training set and clicks documents based on the same preferences during the federated training with IID data. Other settings remain the same as the non-IID experiments.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Impact of Type 1 non-IID Data</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">The offline performance related to Type 1 data is shown in Figure <a href="#S5.F3" title="Figure 3 ‣ 5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>; the corresponding online performance is shown in Table <a href="#S5.T2" title="Table 2 ‣ 5.2. Impact of Type 1 non-IID Data ‣ 5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
From the offline performance, it is clear that the presence of non-IID data negatively impacts the performance of the learnt ranker, compared to those obtained when data is IID. In terms of online performance, rankers obtained in the presence of non-IID data are also worse than when trained with IID data. This can be explained as follows. Since each client has its preference (intent), the relevant documents are judged in different ways; this leads to the divergence of each client’s local ranker update, as exemplified in Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">In summary, we find that if data is distributed in a non-IID manner across clients according to Type 1, the effectiveness of FOLTR (and specifically of FPDGD) is seriously affected.</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Online performance on Type 1 data, averaged across dataset splits and experimental runs. Significant differences between IID and non-IID are indicated by <sup id="S5.T2.12.1" class="ltx_sup"><span id="S5.T2.12.1.1" class="ltx_text ltx_font_italic">▲</span></sup> (p <math id="S5.T2.4.m2.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S5.T2.4.m2.1b"><mo id="S5.T2.4.m2.1.1" xref="S5.T2.4.m2.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S5.T2.4.m2.1c"><lt id="S5.T2.4.m2.1.1.cmml" xref="S5.T2.4.m2.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.4.m2.1d">&lt;</annotation></semantics></math> 0.05)</figcaption>
<table id="S5.T2.10" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T2.10.7.1" class="ltx_tr">
<th id="S5.T2.10.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t">ranker</th>
<th id="S5.T2.10.7.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t">data types</th>
<th id="S5.T2.10.7.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><em id="S5.T2.10.7.1.3.1" class="ltx_emph ltx_font_italic">perfect</em></th>
<th id="S5.T2.10.7.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><em id="S5.T2.10.7.1.4.1" class="ltx_emph ltx_font_italic">navigational</em></th>
<th id="S5.T2.10.7.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><em id="S5.T2.10.7.1.5.1" class="ltx_emph ltx_font_italic">informational</em></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T2.7.3" class="ltx_tr">
<th id="S5.T2.7.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><em id="S5.T2.7.3.4.1" class="ltx_emph ltx_font_italic">linear</em></th>
<th id="S5.T2.7.3.5" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">IID</th>
<td id="S5.T2.5.1.1" class="ltx_td ltx_align_center ltx_border_t">1002.36 <sup id="S5.T2.5.1.1.1" class="ltx_sup"><span id="S5.T2.5.1.1.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
<td id="S5.T2.6.2.2" class="ltx_td ltx_align_center ltx_border_t">872.12 <sup id="S5.T2.6.2.2.1" class="ltx_sup"><span id="S5.T2.6.2.2.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
<td id="S5.T2.7.3.3" class="ltx_td ltx_align_center ltx_border_t">894.95 <sup id="S5.T2.7.3.3.1" class="ltx_sup"><span id="S5.T2.7.3.3.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
</tr>
<tr id="S5.T2.10.8.1" class="ltx_tr">
<th id="S5.T2.10.8.1.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S5.T2.10.8.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">non-IID</th>
<td id="S5.T2.10.8.1.3" class="ltx_td ltx_align_center">648.71</td>
<td id="S5.T2.10.8.1.4" class="ltx_td ltx_align_center">546.25</td>
<td id="S5.T2.10.8.1.5" class="ltx_td ltx_align_center">566.23</td>
</tr>
<tr id="S5.T2.10.6" class="ltx_tr">
<th id="S5.T2.10.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><em id="S5.T2.10.6.4.1" class="ltx_emph ltx_font_italic">neural</em></th>
<th id="S5.T2.10.6.5" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">IID</th>
<td id="S5.T2.8.4.1" class="ltx_td ltx_align_center ltx_border_t">1061.57 <sup id="S5.T2.8.4.1.1" class="ltx_sup"><span id="S5.T2.8.4.1.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
<td id="S5.T2.9.5.2" class="ltx_td ltx_align_center ltx_border_t">834.08 <sup id="S5.T2.9.5.2.1" class="ltx_sup"><span id="S5.T2.9.5.2.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
<td id="S5.T2.10.6.3" class="ltx_td ltx_align_center ltx_border_t">842.87 <sup id="S5.T2.10.6.3.1" class="ltx_sup"><span id="S5.T2.10.6.3.1.1" class="ltx_text ltx_font_italic" style="font-size:50%;">▲</span></sup>
</td>
</tr>
<tr id="S5.T2.10.9.2" class="ltx_tr">
<th id="S5.T2.10.9.2.1" class="ltx_td ltx_th ltx_th_row ltx_border_b"></th>
<th id="S5.T2.10.9.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b">non-IID</th>
<td id="S5.T2.10.9.2.3" class="ltx_td ltx_align_center ltx_border_b">668.38</td>
<td id="S5.T2.10.9.2.4" class="ltx_td ltx_align_center ltx_border_b">505.64</td>
<td id="S5.T2.10.9.2.5" class="ltx_td ltx_align_center ltx_border_b">490.29</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Dealing with Type 1 non-IID Data</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">The employed state-of-the-art FPDGD method is based on the FedAvg algorithm. The fact that FPDGD is affected by non-IID data may be due to the underlying federation algorithm, i.e. FedAvg itself. In federated learning literature, variations of this federation algorithm have been proposed to tackle the non-IID data problem directly. We select two of such methods, FedProx <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2020b</a>)</cite> and FedPer <cite class="ltx_cite ltx_citemacro_citep">(Arivazhagan et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2019</a>)</cite>, and adapt them to the FPDGD method.</p>
</div>
<figure id="S5.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/intent-change_FPDGD_clients4_batch5_updates10000_non_iid_intent_change_CCM_linear_fedprox_all.png" id="S5.F4.sf1.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F4.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">intent-change (linear ranker) - FedProx</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/intent-change_FPDGD_clients4_batch5_updates10000_non_iid_intent_change_CCM_neural16_fedprox_all.png" id="S5.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F4.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">intent-change (neural ranker) - FedProx</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/intent-change_FPDGD_clients4_batch5_updates10000_non_iid_intent_change_CCM_neural16_personal_smooth.png" id="S5.F4.sf3.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf3.3.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F4.sf3.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">intent-change (neural ranker) - FedPer</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Offline performance on Type 1 data for FedProx and FedPer; results averaged across dataset splits and experimental runs.
</figcaption>
</figure>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.5" class="ltx_p">FedProx <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2020b</a>)</cite> improves the local objective of FedAvg. Specifically, it introduces an additional <math id="S5.SS3.p2.1.m1.1" class="ltx_Math" alttext="L_{2}" display="inline"><semantics id="S5.SS3.p2.1.m1.1a"><msub id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml"><mi id="S5.SS3.p2.1.m1.1.1.2" xref="S5.SS3.p2.1.m1.1.1.2.cmml">L</mi><mn id="S5.SS3.p2.1.m1.1.1.3" xref="S5.SS3.p2.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><apply id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.1.m1.1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p2.1.m1.1.1.2.cmml" xref="S5.SS3.p2.1.m1.1.1.2">𝐿</ci><cn type="integer" id="S5.SS3.p2.1.m1.1.1.3.cmml" xref="S5.SS3.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">L_{2}</annotation></semantics></math> regularisation term (weighted according to a hyper-parameter <math id="S5.SS3.p2.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">\mu</annotation></semantics></math>) in the local objective function to limit the distance between the local model and the global model. We provide details of our adaptation of FedProx to FPDGD in the online appendix; the use of FedProx adds little computational overhead. However, the main drawback is that the hyper-parameter <math id="S5.SS3.p2.3.m3.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.SS3.p2.3.m3.1a"><mi id="S5.SS3.p2.3.m3.1.1" xref="S5.SS3.p2.3.m3.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.1b"><ci id="S5.SS3.p2.3.m3.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.1c">\mu</annotation></semantics></math> needs to be carefully tuned: a large <math id="S5.SS3.p2.4.m4.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.SS3.p2.4.m4.1a"><mi id="S5.SS3.p2.4.m4.1.1" xref="S5.SS3.p2.4.m4.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m4.1b"><ci id="S5.SS3.p2.4.m4.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m4.1c">\mu</annotation></semantics></math> may slow the convergence by forcing the updates to get close to the initial point, while a small <math id="S5.SS3.p2.5.m5.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.SS3.p2.5.m5.1a"><mi id="S5.SS3.p2.5.m5.1.1" xref="S5.SS3.p2.5.m5.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.5.m5.1b"><ci id="S5.SS3.p2.5.m5.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.5.m5.1c">\mu</annotation></semantics></math> may not make much difference compared to the use of FedAvg.</p>
</div>
<div id="S5.SS3.p3" class="ltx_para">
<p id="S5.SS3.p3.1" class="ltx_p">FedPer <cite class="ltx_cite ltx_citemacro_citep">(Arivazhagan et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2019</a>)</cite> tackles the presence of non-IID exclusively for deep neural networks by separating them into base layers and personalisation layers.
The base layers are trained collaboratively through FedAvg, where all clients share the same base layers. Instead, the personalisation layers are trained locally using the clients’ local data with stochastic gradient descent (SGD). This procedure works as follows: after initialisation, each client merges and updates its base and personalised layers locally using an SGD style algorithm. Each client only sends its base layers to the global server. The server updates the globally-shared base layers using FedAvg and sends back again the updated ones to each client. Intuitively, the base layers are updated globally to learn common high-level representations. In contrast, the distinct personalisation layers never leave the local device and capture the personalisation aspects required by the clients. Except for the training and the maintenance of the local personalisation layers, FedPer is quite similar to FedAvg. FedPer, however, reduces the communication costs as only part of the whole model is transferred and has shown enhanced learning performance under highly skewed non-IID data <cite class="ltx_cite ltx_citemacro_citep">(Arivazhagan et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="S5.SS3.p4" class="ltx_para">
<p id="S5.SS3.p4.1" class="ltx_p">Our experimental results on FedProx and FedPer are shown in Figure <a href="#S5.F4" title="Figure 4 ‣ 5.3. Dealing with Type 1 non-IID Data ‣ 5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>; for FedProx we explored <math id="S5.SS3.p4.1.m1.5" class="ltx_Math" alttext="\mu\in\{0.001,0.01,0.1,1,10\}" display="inline"><semantics id="S5.SS3.p4.1.m1.5a"><mrow id="S5.SS3.p4.1.m1.5.6" xref="S5.SS3.p4.1.m1.5.6.cmml"><mi id="S5.SS3.p4.1.m1.5.6.2" xref="S5.SS3.p4.1.m1.5.6.2.cmml">μ</mi><mo id="S5.SS3.p4.1.m1.5.6.1" xref="S5.SS3.p4.1.m1.5.6.1.cmml">∈</mo><mrow id="S5.SS3.p4.1.m1.5.6.3.2" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml"><mo stretchy="false" id="S5.SS3.p4.1.m1.5.6.3.2.1" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">{</mo><mn id="S5.SS3.p4.1.m1.1.1" xref="S5.SS3.p4.1.m1.1.1.cmml">0.001</mn><mo id="S5.SS3.p4.1.m1.5.6.3.2.2" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS3.p4.1.m1.2.2" xref="S5.SS3.p4.1.m1.2.2.cmml">0.01</mn><mo id="S5.SS3.p4.1.m1.5.6.3.2.3" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS3.p4.1.m1.3.3" xref="S5.SS3.p4.1.m1.3.3.cmml">0.1</mn><mo id="S5.SS3.p4.1.m1.5.6.3.2.4" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS3.p4.1.m1.4.4" xref="S5.SS3.p4.1.m1.4.4.cmml">1</mn><mo id="S5.SS3.p4.1.m1.5.6.3.2.5" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS3.p4.1.m1.5.5" xref="S5.SS3.p4.1.m1.5.5.cmml">10</mn><mo stretchy="false" id="S5.SS3.p4.1.m1.5.6.3.2.6" xref="S5.SS3.p4.1.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.1.m1.5b"><apply id="S5.SS3.p4.1.m1.5.6.cmml" xref="S5.SS3.p4.1.m1.5.6"><in id="S5.SS3.p4.1.m1.5.6.1.cmml" xref="S5.SS3.p4.1.m1.5.6.1"></in><ci id="S5.SS3.p4.1.m1.5.6.2.cmml" xref="S5.SS3.p4.1.m1.5.6.2">𝜇</ci><set id="S5.SS3.p4.1.m1.5.6.3.1.cmml" xref="S5.SS3.p4.1.m1.5.6.3.2"><cn type="float" id="S5.SS3.p4.1.m1.1.1.cmml" xref="S5.SS3.p4.1.m1.1.1">0.001</cn><cn type="float" id="S5.SS3.p4.1.m1.2.2.cmml" xref="S5.SS3.p4.1.m1.2.2">0.01</cn><cn type="float" id="S5.SS3.p4.1.m1.3.3.cmml" xref="S5.SS3.p4.1.m1.3.3">0.1</cn><cn type="integer" id="S5.SS3.p4.1.m1.4.4.cmml" xref="S5.SS3.p4.1.m1.4.4">1</cn><cn type="integer" id="S5.SS3.p4.1.m1.5.5.cmml" xref="S5.SS3.p4.1.m1.5.5">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.1.m1.5c">\mu\in\{0.001,0.01,0.1,1,10\}</annotation></semantics></math>. The results clearly show that these federated learning methods, which successfully deal with non-IID data in general machine learning tasks, are not effective in the FOLTR context. In fact, not only do these methods not overcome the gap in effectiveness between IID and non-IID setups, but they even only provide limited improvements, if any, compared to FPDGD with FedAvg. This is an important finding because: (1) it shows a realistic case in which non-IID data largely affects FOLTR effectiveness, and (2) it shows that current methods developed in general FL for non-IID data do not work in FOLTR. Thus, a strong need for new methods specialised in the FOLTR settings emerges from these findings.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>TYPE 2: Document label distribution skewness</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.9" class="ltx_p"><em id="S6.p1.9.1" class="ltx_emph ltx_font_italic">Document label distribution skewness</em> (Type 2) is a widely recognised type of non-IID data type in federated learning. In this setting, the label distributions <math id="S6.p1.1.m1.1" class="ltx_Math" alttext="P_{i}(y)" display="inline"><semantics id="S6.p1.1.m1.1a"><mrow id="S6.p1.1.m1.1.2" xref="S6.p1.1.m1.1.2.cmml"><msub id="S6.p1.1.m1.1.2.2" xref="S6.p1.1.m1.1.2.2.cmml"><mi id="S6.p1.1.m1.1.2.2.2" xref="S6.p1.1.m1.1.2.2.2.cmml">P</mi><mi id="S6.p1.1.m1.1.2.2.3" xref="S6.p1.1.m1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S6.p1.1.m1.1.2.1" xref="S6.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S6.p1.1.m1.1.2.3.2" xref="S6.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S6.p1.1.m1.1.2.3.2.1" xref="S6.p1.1.m1.1.2.cmml">(</mo><mi id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml">y</mi><mo stretchy="false" id="S6.p1.1.m1.1.2.3.2.2" xref="S6.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b"><apply id="S6.p1.1.m1.1.2.cmml" xref="S6.p1.1.m1.1.2"><times id="S6.p1.1.m1.1.2.1.cmml" xref="S6.p1.1.m1.1.2.1"></times><apply id="S6.p1.1.m1.1.2.2.cmml" xref="S6.p1.1.m1.1.2.2"><csymbol cd="ambiguous" id="S6.p1.1.m1.1.2.2.1.cmml" xref="S6.p1.1.m1.1.2.2">subscript</csymbol><ci id="S6.p1.1.m1.1.2.2.2.cmml" xref="S6.p1.1.m1.1.2.2.2">𝑃</ci><ci id="S6.p1.1.m1.1.2.2.3.cmml" xref="S6.p1.1.m1.1.2.2.3">𝑖</ci></apply><ci id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">P_{i}(y)</annotation></semantics></math> in each client are different while the conditional feature distribution <math id="S6.p1.2.m2.1" class="ltx_Math" alttext="P_{i}(x|y)" display="inline"><semantics id="S6.p1.2.m2.1a"><mrow id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml"><msub id="S6.p1.2.m2.1.1.3" xref="S6.p1.2.m2.1.1.3.cmml"><mi id="S6.p1.2.m2.1.1.3.2" xref="S6.p1.2.m2.1.1.3.2.cmml">P</mi><mi id="S6.p1.2.m2.1.1.3.3" xref="S6.p1.2.m2.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S6.p1.2.m2.1.1.2" xref="S6.p1.2.m2.1.1.2.cmml">​</mo><mrow id="S6.p1.2.m2.1.1.1.1" xref="S6.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.p1.2.m2.1.1.1.1.2" xref="S6.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S6.p1.2.m2.1.1.1.1.1" xref="S6.p1.2.m2.1.1.1.1.1.cmml"><mi id="S6.p1.2.m2.1.1.1.1.1.2" xref="S6.p1.2.m2.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S6.p1.2.m2.1.1.1.1.1.1" xref="S6.p1.2.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S6.p1.2.m2.1.1.1.1.1.3" xref="S6.p1.2.m2.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S6.p1.2.m2.1.1.1.1.3" xref="S6.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.2.m2.1b"><apply id="S6.p1.2.m2.1.1.cmml" xref="S6.p1.2.m2.1.1"><times id="S6.p1.2.m2.1.1.2.cmml" xref="S6.p1.2.m2.1.1.2"></times><apply id="S6.p1.2.m2.1.1.3.cmml" xref="S6.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S6.p1.2.m2.1.1.3.1.cmml" xref="S6.p1.2.m2.1.1.3">subscript</csymbol><ci id="S6.p1.2.m2.1.1.3.2.cmml" xref="S6.p1.2.m2.1.1.3.2">𝑃</ci><ci id="S6.p1.2.m2.1.1.3.3.cmml" xref="S6.p1.2.m2.1.1.3.3">𝑖</ci></apply><apply id="S6.p1.2.m2.1.1.1.1.1.cmml" xref="S6.p1.2.m2.1.1.1.1"><csymbol cd="latexml" id="S6.p1.2.m2.1.1.1.1.1.1.cmml" xref="S6.p1.2.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S6.p1.2.m2.1.1.1.1.1.2.cmml" xref="S6.p1.2.m2.1.1.1.1.1.2">𝑥</ci><ci id="S6.p1.2.m2.1.1.1.1.1.3.cmml" xref="S6.p1.2.m2.1.1.1.1.1.3">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.2.m2.1c">P_{i}(x|y)</annotation></semantics></math> is shared across the clients. In terms of FOLTR, this is equivalent to the following situation. Assume a document is evaluated across the <math id="S6.p1.3.m3.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S6.p1.3.m3.1a"><mi id="S6.p1.3.m3.1.1" xref="S6.p1.3.m3.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S6.p1.3.m3.1b"><ci id="S6.p1.3.m3.1.1.cmml" xref="S6.p1.3.m3.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.3.m3.1c">r</annotation></semantics></math>-level relevance grades, from <em id="S6.p1.9.2" class="ltx_emph ltx_font_italic">not relevant</em> (0) to <em id="S6.p1.9.3" class="ltx_emph ltx_font_italic">perfectly relevant</em> (<math id="S6.p1.4.m4.1" class="ltx_Math" alttext="r-1" display="inline"><semantics id="S6.p1.4.m4.1a"><mrow id="S6.p1.4.m4.1.1" xref="S6.p1.4.m4.1.1.cmml"><mi id="S6.p1.4.m4.1.1.2" xref="S6.p1.4.m4.1.1.2.cmml">r</mi><mo id="S6.p1.4.m4.1.1.1" xref="S6.p1.4.m4.1.1.1.cmml">−</mo><mn id="S6.p1.4.m4.1.1.3" xref="S6.p1.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.4.m4.1b"><apply id="S6.p1.4.m4.1.1.cmml" xref="S6.p1.4.m4.1.1"><minus id="S6.p1.4.m4.1.1.1.cmml" xref="S6.p1.4.m4.1.1.1"></minus><ci id="S6.p1.4.m4.1.1.2.cmml" xref="S6.p1.4.m4.1.1.2">𝑟</ci><cn type="integer" id="S6.p1.4.m4.1.1.3.cmml" xref="S6.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.4.m4.1c">r-1</annotation></semantics></math>); then the label distribution on each client is such that, for client <math id="S6.p1.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S6.p1.5.m5.1a"><mi id="S6.p1.5.m5.1.1" xref="S6.p1.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S6.p1.5.m5.1b"><ci id="S6.p1.5.m5.1.1.cmml" xref="S6.p1.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.5.m5.1c">i</annotation></semantics></math>, the probability of holding documents with relevance label <math id="S6.p1.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.p1.6.m6.1a"><mi id="S6.p1.6.m6.1.1" xref="S6.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.p1.6.m6.1b"><ci id="S6.p1.6.m6.1.1.cmml" xref="S6.p1.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.6.m6.1c">k</annotation></semantics></math> is <math id="S6.p1.7.m7.1" class="ltx_Math" alttext="P_{i}(R=k)=p_{k}" display="inline"><semantics id="S6.p1.7.m7.1a"><mrow id="S6.p1.7.m7.1.1" xref="S6.p1.7.m7.1.1.cmml"><mrow id="S6.p1.7.m7.1.1.1" xref="S6.p1.7.m7.1.1.1.cmml"><msub id="S6.p1.7.m7.1.1.1.3" xref="S6.p1.7.m7.1.1.1.3.cmml"><mi id="S6.p1.7.m7.1.1.1.3.2" xref="S6.p1.7.m7.1.1.1.3.2.cmml">P</mi><mi id="S6.p1.7.m7.1.1.1.3.3" xref="S6.p1.7.m7.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S6.p1.7.m7.1.1.1.2" xref="S6.p1.7.m7.1.1.1.2.cmml">​</mo><mrow id="S6.p1.7.m7.1.1.1.1.1" xref="S6.p1.7.m7.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.p1.7.m7.1.1.1.1.1.2" xref="S6.p1.7.m7.1.1.1.1.1.1.cmml">(</mo><mrow id="S6.p1.7.m7.1.1.1.1.1.1" xref="S6.p1.7.m7.1.1.1.1.1.1.cmml"><mi id="S6.p1.7.m7.1.1.1.1.1.1.2" xref="S6.p1.7.m7.1.1.1.1.1.1.2.cmml">R</mi><mo id="S6.p1.7.m7.1.1.1.1.1.1.1" xref="S6.p1.7.m7.1.1.1.1.1.1.1.cmml">=</mo><mi id="S6.p1.7.m7.1.1.1.1.1.1.3" xref="S6.p1.7.m7.1.1.1.1.1.1.3.cmml">k</mi></mrow><mo stretchy="false" id="S6.p1.7.m7.1.1.1.1.1.3" xref="S6.p1.7.m7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S6.p1.7.m7.1.1.2" xref="S6.p1.7.m7.1.1.2.cmml">=</mo><msub id="S6.p1.7.m7.1.1.3" xref="S6.p1.7.m7.1.1.3.cmml"><mi id="S6.p1.7.m7.1.1.3.2" xref="S6.p1.7.m7.1.1.3.2.cmml">p</mi><mi id="S6.p1.7.m7.1.1.3.3" xref="S6.p1.7.m7.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.7.m7.1b"><apply id="S6.p1.7.m7.1.1.cmml" xref="S6.p1.7.m7.1.1"><eq id="S6.p1.7.m7.1.1.2.cmml" xref="S6.p1.7.m7.1.1.2"></eq><apply id="S6.p1.7.m7.1.1.1.cmml" xref="S6.p1.7.m7.1.1.1"><times id="S6.p1.7.m7.1.1.1.2.cmml" xref="S6.p1.7.m7.1.1.1.2"></times><apply id="S6.p1.7.m7.1.1.1.3.cmml" xref="S6.p1.7.m7.1.1.1.3"><csymbol cd="ambiguous" id="S6.p1.7.m7.1.1.1.3.1.cmml" xref="S6.p1.7.m7.1.1.1.3">subscript</csymbol><ci id="S6.p1.7.m7.1.1.1.3.2.cmml" xref="S6.p1.7.m7.1.1.1.3.2">𝑃</ci><ci id="S6.p1.7.m7.1.1.1.3.3.cmml" xref="S6.p1.7.m7.1.1.1.3.3">𝑖</ci></apply><apply id="S6.p1.7.m7.1.1.1.1.1.1.cmml" xref="S6.p1.7.m7.1.1.1.1.1"><eq id="S6.p1.7.m7.1.1.1.1.1.1.1.cmml" xref="S6.p1.7.m7.1.1.1.1.1.1.1"></eq><ci id="S6.p1.7.m7.1.1.1.1.1.1.2.cmml" xref="S6.p1.7.m7.1.1.1.1.1.1.2">𝑅</ci><ci id="S6.p1.7.m7.1.1.1.1.1.1.3.cmml" xref="S6.p1.7.m7.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S6.p1.7.m7.1.1.3.cmml" xref="S6.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S6.p1.7.m7.1.1.3.1.cmml" xref="S6.p1.7.m7.1.1.3">subscript</csymbol><ci id="S6.p1.7.m7.1.1.3.2.cmml" xref="S6.p1.7.m7.1.1.3.2">𝑝</ci><ci id="S6.p1.7.m7.1.1.3.3.cmml" xref="S6.p1.7.m7.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.7.m7.1c">P_{i}(R=k)=p_{k}</annotation></semantics></math>, where <math id="S6.p1.8.m8.1" class="ltx_Math" alttext="\sum_{k=0}^{r-1}p_{k}=1" display="inline"><semantics id="S6.p1.8.m8.1a"><mrow id="S6.p1.8.m8.1.1" xref="S6.p1.8.m8.1.1.cmml"><mrow id="S6.p1.8.m8.1.1.2" xref="S6.p1.8.m8.1.1.2.cmml"><msubsup id="S6.p1.8.m8.1.1.2.1" xref="S6.p1.8.m8.1.1.2.1.cmml"><mo id="S6.p1.8.m8.1.1.2.1.2.2" xref="S6.p1.8.m8.1.1.2.1.2.2.cmml">∑</mo><mrow id="S6.p1.8.m8.1.1.2.1.2.3" xref="S6.p1.8.m8.1.1.2.1.2.3.cmml"><mi id="S6.p1.8.m8.1.1.2.1.2.3.2" xref="S6.p1.8.m8.1.1.2.1.2.3.2.cmml">k</mi><mo id="S6.p1.8.m8.1.1.2.1.2.3.1" xref="S6.p1.8.m8.1.1.2.1.2.3.1.cmml">=</mo><mn id="S6.p1.8.m8.1.1.2.1.2.3.3" xref="S6.p1.8.m8.1.1.2.1.2.3.3.cmml">0</mn></mrow><mrow id="S6.p1.8.m8.1.1.2.1.3" xref="S6.p1.8.m8.1.1.2.1.3.cmml"><mi id="S6.p1.8.m8.1.1.2.1.3.2" xref="S6.p1.8.m8.1.1.2.1.3.2.cmml">r</mi><mo id="S6.p1.8.m8.1.1.2.1.3.1" xref="S6.p1.8.m8.1.1.2.1.3.1.cmml">−</mo><mn id="S6.p1.8.m8.1.1.2.1.3.3" xref="S6.p1.8.m8.1.1.2.1.3.3.cmml">1</mn></mrow></msubsup><msub id="S6.p1.8.m8.1.1.2.2" xref="S6.p1.8.m8.1.1.2.2.cmml"><mi id="S6.p1.8.m8.1.1.2.2.2" xref="S6.p1.8.m8.1.1.2.2.2.cmml">p</mi><mi id="S6.p1.8.m8.1.1.2.2.3" xref="S6.p1.8.m8.1.1.2.2.3.cmml">k</mi></msub></mrow><mo id="S6.p1.8.m8.1.1.1" xref="S6.p1.8.m8.1.1.1.cmml">=</mo><mn id="S6.p1.8.m8.1.1.3" xref="S6.p1.8.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.8.m8.1b"><apply id="S6.p1.8.m8.1.1.cmml" xref="S6.p1.8.m8.1.1"><eq id="S6.p1.8.m8.1.1.1.cmml" xref="S6.p1.8.m8.1.1.1"></eq><apply id="S6.p1.8.m8.1.1.2.cmml" xref="S6.p1.8.m8.1.1.2"><apply id="S6.p1.8.m8.1.1.2.1.cmml" xref="S6.p1.8.m8.1.1.2.1"><csymbol cd="ambiguous" id="S6.p1.8.m8.1.1.2.1.1.cmml" xref="S6.p1.8.m8.1.1.2.1">superscript</csymbol><apply id="S6.p1.8.m8.1.1.2.1.2.cmml" xref="S6.p1.8.m8.1.1.2.1"><csymbol cd="ambiguous" id="S6.p1.8.m8.1.1.2.1.2.1.cmml" xref="S6.p1.8.m8.1.1.2.1">subscript</csymbol><sum id="S6.p1.8.m8.1.1.2.1.2.2.cmml" xref="S6.p1.8.m8.1.1.2.1.2.2"></sum><apply id="S6.p1.8.m8.1.1.2.1.2.3.cmml" xref="S6.p1.8.m8.1.1.2.1.2.3"><eq id="S6.p1.8.m8.1.1.2.1.2.3.1.cmml" xref="S6.p1.8.m8.1.1.2.1.2.3.1"></eq><ci id="S6.p1.8.m8.1.1.2.1.2.3.2.cmml" xref="S6.p1.8.m8.1.1.2.1.2.3.2">𝑘</ci><cn type="integer" id="S6.p1.8.m8.1.1.2.1.2.3.3.cmml" xref="S6.p1.8.m8.1.1.2.1.2.3.3">0</cn></apply></apply><apply id="S6.p1.8.m8.1.1.2.1.3.cmml" xref="S6.p1.8.m8.1.1.2.1.3"><minus id="S6.p1.8.m8.1.1.2.1.3.1.cmml" xref="S6.p1.8.m8.1.1.2.1.3.1"></minus><ci id="S6.p1.8.m8.1.1.2.1.3.2.cmml" xref="S6.p1.8.m8.1.1.2.1.3.2">𝑟</ci><cn type="integer" id="S6.p1.8.m8.1.1.2.1.3.3.cmml" xref="S6.p1.8.m8.1.1.2.1.3.3">1</cn></apply></apply><apply id="S6.p1.8.m8.1.1.2.2.cmml" xref="S6.p1.8.m8.1.1.2.2"><csymbol cd="ambiguous" id="S6.p1.8.m8.1.1.2.2.1.cmml" xref="S6.p1.8.m8.1.1.2.2">subscript</csymbol><ci id="S6.p1.8.m8.1.1.2.2.2.cmml" xref="S6.p1.8.m8.1.1.2.2.2">𝑝</ci><ci id="S6.p1.8.m8.1.1.2.2.3.cmml" xref="S6.p1.8.m8.1.1.2.2.3">𝑘</ci></apply></apply><cn type="integer" id="S6.p1.8.m8.1.1.3.cmml" xref="S6.p1.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.8.m8.1c">\sum_{k=0}^{r-1}p_{k}=1</annotation></semantics></math>, <math id="S6.p1.9.m9.4" class="ltx_Math" alttext="\forall k,p_{k}\in[0,1]" display="inline"><semantics id="S6.p1.9.m9.4a"><mrow id="S6.p1.9.m9.4.4" xref="S6.p1.9.m9.4.4.cmml"><mrow id="S6.p1.9.m9.4.4.2.2" xref="S6.p1.9.m9.4.4.2.3.cmml"><mrow id="S6.p1.9.m9.3.3.1.1.1" xref="S6.p1.9.m9.3.3.1.1.1.cmml"><mo rspace="0.167em" id="S6.p1.9.m9.3.3.1.1.1.1" xref="S6.p1.9.m9.3.3.1.1.1.1.cmml">∀</mo><mi id="S6.p1.9.m9.3.3.1.1.1.2" xref="S6.p1.9.m9.3.3.1.1.1.2.cmml">k</mi></mrow><mo id="S6.p1.9.m9.4.4.2.2.3" xref="S6.p1.9.m9.4.4.2.3.cmml">,</mo><msub id="S6.p1.9.m9.4.4.2.2.2" xref="S6.p1.9.m9.4.4.2.2.2.cmml"><mi id="S6.p1.9.m9.4.4.2.2.2.2" xref="S6.p1.9.m9.4.4.2.2.2.2.cmml">p</mi><mi id="S6.p1.9.m9.4.4.2.2.2.3" xref="S6.p1.9.m9.4.4.2.2.2.3.cmml">k</mi></msub></mrow><mo id="S6.p1.9.m9.4.4.3" xref="S6.p1.9.m9.4.4.3.cmml">∈</mo><mrow id="S6.p1.9.m9.4.4.4.2" xref="S6.p1.9.m9.4.4.4.1.cmml"><mo stretchy="false" id="S6.p1.9.m9.4.4.4.2.1" xref="S6.p1.9.m9.4.4.4.1.cmml">[</mo><mn id="S6.p1.9.m9.1.1" xref="S6.p1.9.m9.1.1.cmml">0</mn><mo id="S6.p1.9.m9.4.4.4.2.2" xref="S6.p1.9.m9.4.4.4.1.cmml">,</mo><mn id="S6.p1.9.m9.2.2" xref="S6.p1.9.m9.2.2.cmml">1</mn><mo stretchy="false" id="S6.p1.9.m9.4.4.4.2.3" xref="S6.p1.9.m9.4.4.4.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.9.m9.4b"><apply id="S6.p1.9.m9.4.4.cmml" xref="S6.p1.9.m9.4.4"><in id="S6.p1.9.m9.4.4.3.cmml" xref="S6.p1.9.m9.4.4.3"></in><list id="S6.p1.9.m9.4.4.2.3.cmml" xref="S6.p1.9.m9.4.4.2.2"><apply id="S6.p1.9.m9.3.3.1.1.1.cmml" xref="S6.p1.9.m9.3.3.1.1.1"><csymbol cd="latexml" id="S6.p1.9.m9.3.3.1.1.1.1.cmml" xref="S6.p1.9.m9.3.3.1.1.1.1">for-all</csymbol><ci id="S6.p1.9.m9.3.3.1.1.1.2.cmml" xref="S6.p1.9.m9.3.3.1.1.1.2">𝑘</ci></apply><apply id="S6.p1.9.m9.4.4.2.2.2.cmml" xref="S6.p1.9.m9.4.4.2.2.2"><csymbol cd="ambiguous" id="S6.p1.9.m9.4.4.2.2.2.1.cmml" xref="S6.p1.9.m9.4.4.2.2.2">subscript</csymbol><ci id="S6.p1.9.m9.4.4.2.2.2.2.cmml" xref="S6.p1.9.m9.4.4.2.2.2.2">𝑝</ci><ci id="S6.p1.9.m9.4.4.2.2.2.3.cmml" xref="S6.p1.9.m9.4.4.2.2.2.3">𝑘</ci></apply></list><interval closure="closed" id="S6.p1.9.m9.4.4.4.1.cmml" xref="S6.p1.9.m9.4.4.4.2"><cn type="integer" id="S6.p1.9.m9.1.1.cmml" xref="S6.p1.9.m9.1.1">0</cn><cn type="integer" id="S6.p1.9.m9.2.2.cmml" xref="S6.p1.9.m9.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.9.m9.4c">\forall k,p_{k}\in[0,1]</annotation></semantics></math></p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">In practice, this may be represented by a situation like the following. Several hospitals are collaboratively creating a FOLTR ranker for clinical-decision-support <cite class="ltx_cite ltx_citemacro_citep">(Roberts
et al<span class="ltx_text">.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2015</a>; Roberts et al<span class="ltx_text">.</span>, <a href="#bib.bib36" title="" class="ltx_ref">2016</a>)</cite>. Certain hospitals hold a significantly larger portion of highly relevant health records for a certain disease, while some only a small fraction. In this circumstance, the document label distribution is skewed. Under the context of email search <cite class="ltx_cite ltx_citemacro_citep">(Narang et al<span class="ltx_text">.</span>, <a href="#bib.bib31" title="" class="ltx_ref">2017</a>)</cite>, different clients might have unique strategies for managing personal emails <cite class="ltx_cite ltx_citemacro_citep">(Whittaker and
Sidner, <a href="#bib.bib47" title="" class="ltx_ref">1996</a>)</cite>. Some clients frequently clean up their inboxes and use folders to organise emails. In contrast, some hardly use folders or delete irrelevant messages, resulting in different label distribution when following a learning-to-rank approach.</p>
</div>
<figure id="S6.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch_all_updates10000_non_iid_label_dist_skew_CCM_linear.png" id="S6.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S6.F5.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch_all_updates10000_non_iid_label_dist_skew_CCM_neural64.png" id="S6.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S6.F5.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (neural ranker)</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Offline performance (nDCG@10) on MSLR-WEB10k for Type 2 (<math id="S6.F5.3.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.F5.3.m1.1b"><mrow id="S6.F5.3.m1.1.1" xref="S6.F5.3.m1.1.1.cmml"><mrow id="S6.F5.3.m1.1.1.2" xref="S6.F5.3.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.F5.3.m1.1.1.2.2" xref="S6.F5.3.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.F5.3.m1.1.1.2.1" xref="S6.F5.3.m1.1.1.2.1.cmml">​</mo><mi id="S6.F5.3.m1.1.1.2.3" xref="S6.F5.3.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.F5.3.m1.1.1.1" xref="S6.F5.3.m1.1.1.1.cmml">=</mo><mn id="S6.F5.3.m1.1.1.3" xref="S6.F5.3.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F5.3.m1.1c"><apply id="S6.F5.3.m1.1.1.cmml" xref="S6.F5.3.m1.1.1"><eq id="S6.F5.3.m1.1.1.1.cmml" xref="S6.F5.3.m1.1.1.1"></eq><apply id="S6.F5.3.m1.1.1.2.cmml" xref="S6.F5.3.m1.1.1.2"><times id="S6.F5.3.m1.1.1.2.1.cmml" xref="S6.F5.3.m1.1.1.2.1"></times><ci id="S6.F5.3.m1.1.1.2.2.cmml" xref="S6.F5.3.m1.1.1.2.2">#</ci><ci id="S6.F5.3.m1.1.1.2.3.cmml" xref="S6.F5.3.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.F5.3.m1.1.1.3.cmml" xref="S6.F5.3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F5.3.m1.1d">\#R=1</annotation></semantics></math>), under three instantiations of SDBN click model and three local updates setting (<math id="S6.F5.4.m2.3" class="ltx_Math" alttext="B\in\{2,5,10\}" display="inline"><semantics id="S6.F5.4.m2.3b"><mrow id="S6.F5.4.m2.3.4" xref="S6.F5.4.m2.3.4.cmml"><mi id="S6.F5.4.m2.3.4.2" xref="S6.F5.4.m2.3.4.2.cmml">B</mi><mo id="S6.F5.4.m2.3.4.1" xref="S6.F5.4.m2.3.4.1.cmml">∈</mo><mrow id="S6.F5.4.m2.3.4.3.2" xref="S6.F5.4.m2.3.4.3.1.cmml"><mo stretchy="false" id="S6.F5.4.m2.3.4.3.2.1" xref="S6.F5.4.m2.3.4.3.1.cmml">{</mo><mn id="S6.F5.4.m2.1.1" xref="S6.F5.4.m2.1.1.cmml">2</mn><mo id="S6.F5.4.m2.3.4.3.2.2" xref="S6.F5.4.m2.3.4.3.1.cmml">,</mo><mn id="S6.F5.4.m2.2.2" xref="S6.F5.4.m2.2.2.cmml">5</mn><mo id="S6.F5.4.m2.3.4.3.2.3" xref="S6.F5.4.m2.3.4.3.1.cmml">,</mo><mn id="S6.F5.4.m2.3.3" xref="S6.F5.4.m2.3.3.cmml">10</mn><mo stretchy="false" id="S6.F5.4.m2.3.4.3.2.4" xref="S6.F5.4.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.F5.4.m2.3c"><apply id="S6.F5.4.m2.3.4.cmml" xref="S6.F5.4.m2.3.4"><in id="S6.F5.4.m2.3.4.1.cmml" xref="S6.F5.4.m2.3.4.1"></in><ci id="S6.F5.4.m2.3.4.2.cmml" xref="S6.F5.4.m2.3.4.2">𝐵</ci><set id="S6.F5.4.m2.3.4.3.1.cmml" xref="S6.F5.4.m2.3.4.3.2"><cn type="integer" id="S6.F5.4.m2.1.1.cmml" xref="S6.F5.4.m2.1.1">2</cn><cn type="integer" id="S6.F5.4.m2.2.2.cmml" xref="S6.F5.4.m2.2.2">5</cn><cn type="integer" id="S6.F5.4.m2.3.3.cmml" xref="S6.F5.4.m2.3.3">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F5.4.m2.3d">B\in\{2,5,10\}</annotation></semantics></math>); results averaged across all dataset splits and experimental runs.
</figcaption>
</figure>
<figure id="S6.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew_V1_CCM_linear_with_c2.png" id="S6.F6.sf1.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S6.F6.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew_CCM_neural64_with_c2.png" id="S6.F6.sf2.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S6.F6.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (neural ranker)</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Offline performance (nDCG@10) on MSLR-WEB10k for Type 2 (<math id="S6.F6.3.m1.1" class="ltx_Math" alttext="\#R=2" display="inline"><semantics id="S6.F6.3.m1.1b"><mrow id="S6.F6.3.m1.1.1" xref="S6.F6.3.m1.1.1.cmml"><mrow id="S6.F6.3.m1.1.1.2" xref="S6.F6.3.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.F6.3.m1.1.1.2.2" xref="S6.F6.3.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.F6.3.m1.1.1.2.1" xref="S6.F6.3.m1.1.1.2.1.cmml">​</mo><mi id="S6.F6.3.m1.1.1.2.3" xref="S6.F6.3.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.F6.3.m1.1.1.1" xref="S6.F6.3.m1.1.1.1.cmml">=</mo><mn id="S6.F6.3.m1.1.1.3" xref="S6.F6.3.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F6.3.m1.1c"><apply id="S6.F6.3.m1.1.1.cmml" xref="S6.F6.3.m1.1.1"><eq id="S6.F6.3.m1.1.1.1.cmml" xref="S6.F6.3.m1.1.1.1"></eq><apply id="S6.F6.3.m1.1.1.2.cmml" xref="S6.F6.3.m1.1.1.2"><times id="S6.F6.3.m1.1.1.2.1.cmml" xref="S6.F6.3.m1.1.1.2.1"></times><ci id="S6.F6.3.m1.1.1.2.2.cmml" xref="S6.F6.3.m1.1.1.2.2">#</ci><ci id="S6.F6.3.m1.1.1.2.3.cmml" xref="S6.F6.3.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.F6.3.m1.1.1.3.cmml" xref="S6.F6.3.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F6.3.m1.1d">\#R=2</annotation></semantics></math>), under three instantiations of SDBN click model with local updates setting (<math id="S6.F6.4.m2.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S6.F6.4.m2.1b"><mrow id="S6.F6.4.m2.1.1" xref="S6.F6.4.m2.1.1.cmml"><mi id="S6.F6.4.m2.1.1.2" xref="S6.F6.4.m2.1.1.2.cmml">B</mi><mo id="S6.F6.4.m2.1.1.1" xref="S6.F6.4.m2.1.1.1.cmml">=</mo><mn id="S6.F6.4.m2.1.1.3" xref="S6.F6.4.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F6.4.m2.1c"><apply id="S6.F6.4.m2.1.1.cmml" xref="S6.F6.4.m2.1.1"><eq id="S6.F6.4.m2.1.1.1.cmml" xref="S6.F6.4.m2.1.1.1"></eq><ci id="S6.F6.4.m2.1.1.2.cmml" xref="S6.F6.4.m2.1.1.2">𝐵</ci><cn type="integer" id="S6.F6.4.m2.1.1.3.cmml" xref="S6.F6.4.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F6.4.m2.1d">B=5</annotation></semantics></math>); results averaged across all dataset splits and experimental runs.
</figcaption>
</figure>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>Simulating Type 2 non-IID Data</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.4" class="ltx_p">In this section, we discuss how we synthetically simulate Type 2 non-IID data and IID data to baseline in the FOLTR effectiveness. For these experiments, we use the popular datasets MSLR-WEB10k <cite class="ltx_cite ltx_citemacro_citep">(Qin and Liu, <a href="#bib.bib35" title="" class="ltx_ref">2013</a>)</cite> (10,000 queries), Yahoo <cite class="ltx_cite ltx_citemacro_citep">(Chapelle and
Chang, <a href="#bib.bib7" title="" class="ltx_ref">2011</a>)</cite> (29,900 queries) and Istella-S <cite class="ltx_cite ltx_citemacro_citep">(Lucchese et al<span class="ltx_text">.</span>, <a href="#bib.bib28" title="" class="ltx_ref">2016</a>)</cite> (33,018 queries). We report the results for MSLR-WEB10k in the paper; results on the other datasets are similar and are provided in the online appendix.
We simulate <math id="S6.SS1.p1.1.m1.1" class="ltx_Math" alttext="|C|" display="inline"><semantics id="S6.SS1.p1.1.m1.1a"><mrow id="S6.SS1.p1.1.m1.1.2.2" xref="S6.SS1.p1.1.m1.1.2.1.cmml"><mo stretchy="false" id="S6.SS1.p1.1.m1.1.2.2.1" xref="S6.SS1.p1.1.m1.1.2.1.1.cmml">|</mo><mi id="S6.SS1.p1.1.m1.1.1" xref="S6.SS1.p1.1.m1.1.1.cmml">C</mi><mo stretchy="false" id="S6.SS1.p1.1.m1.1.2.2.2" xref="S6.SS1.p1.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.1.m1.1b"><apply id="S6.SS1.p1.1.m1.1.2.1.cmml" xref="S6.SS1.p1.1.m1.1.2.2"><abs id="S6.SS1.p1.1.m1.1.2.1.1.cmml" xref="S6.SS1.p1.1.m1.1.2.2.1"></abs><ci id="S6.SS1.p1.1.m1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.1.m1.1c">|C|</annotation></semantics></math> clients with each client performing <math id="S6.SS1.p1.2.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.SS1.p1.2.m2.1a"><mi id="S6.SS1.p1.2.m2.1.1" xref="S6.SS1.p1.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.2.m2.1b"><ci id="S6.SS1.p1.2.m2.1.1.cmml" xref="S6.SS1.p1.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.2.m2.1c">B</annotation></semantics></math> interactions (queries) locally to contribute to each global model update and restrict the global communication times <math id="S6.SS1.p1.3.m3.2" class="ltx_Math" alttext="T=10,000" display="inline"><semantics id="S6.SS1.p1.3.m3.2a"><mrow id="S6.SS1.p1.3.m3.2.3" xref="S6.SS1.p1.3.m3.2.3.cmml"><mi id="S6.SS1.p1.3.m3.2.3.2" xref="S6.SS1.p1.3.m3.2.3.2.cmml">T</mi><mo id="S6.SS1.p1.3.m3.2.3.1" xref="S6.SS1.p1.3.m3.2.3.1.cmml">=</mo><mrow id="S6.SS1.p1.3.m3.2.3.3.2" xref="S6.SS1.p1.3.m3.2.3.3.1.cmml"><mn id="S6.SS1.p1.3.m3.1.1" xref="S6.SS1.p1.3.m3.1.1.cmml">10</mn><mo id="S6.SS1.p1.3.m3.2.3.3.2.1" xref="S6.SS1.p1.3.m3.2.3.3.1.cmml">,</mo><mn id="S6.SS1.p1.3.m3.2.2" xref="S6.SS1.p1.3.m3.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.3.m3.2b"><apply id="S6.SS1.p1.3.m3.2.3.cmml" xref="S6.SS1.p1.3.m3.2.3"><eq id="S6.SS1.p1.3.m3.2.3.1.cmml" xref="S6.SS1.p1.3.m3.2.3.1"></eq><ci id="S6.SS1.p1.3.m3.2.3.2.cmml" xref="S6.SS1.p1.3.m3.2.3.2">𝑇</ci><list id="S6.SS1.p1.3.m3.2.3.3.1.cmml" xref="S6.SS1.p1.3.m3.2.3.3.2"><cn type="integer" id="S6.SS1.p1.3.m3.1.1.cmml" xref="S6.SS1.p1.3.m3.1.1">10</cn><cn type="integer" id="S6.SS1.p1.3.m3.2.2.cmml" xref="S6.SS1.p1.3.m3.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.3.m3.2c">T=10,000</annotation></semantics></math>.
For simulating querying behaviour, for each client participating in the federated OLTR, we sample <math id="S6.SS1.p1.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.SS1.p1.4.m4.1a"><mi id="S6.SS1.p1.4.m4.1.1" xref="S6.SS1.p1.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.4.m4.1b"><ci id="S6.SS1.p1.4.m4.1.1.cmml" xref="S6.SS1.p1.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.4.m4.1c">B</annotation></semantics></math> queries randomly, in line with previous work on FOLTR <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>. For each query, we use the local ranking model (i.e. that held by the client) to rank documents; we limit SERP to 10 documents.
For the click behaviour, we rely on the same SDBN click models as Section <a href="#S5" title="5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. We train both a linear ranker and a neural ranker same as Wang et al. <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.4" class="ltx_p">We specifically consider two types of non-IID data for Type 2: non-IID subtype 1 and non-IID subtype 2. The main difference between the two types is the number of different labels (i.e. the graded relevance assessments) in each client’s local dataset. Following similar partitioning strategies by Li et al. <cite class="ltx_cite ltx_citemacro_citep">(Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2022</a>)</cite>, suppose each client only has data samples for <math id="S6.SS1.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.SS1.p2.1.m1.1a"><mi id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><ci id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">k</annotation></semantics></math> different labels. We first generate all possible <math id="S6.SS1.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.SS1.p2.2.m2.1a"><mi id="S6.SS1.p2.2.m2.1.1" xref="S6.SS1.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.2.m2.1b"><ci id="S6.SS1.p2.2.m2.1.1.cmml" xref="S6.SS1.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.2.m2.1c">k</annotation></semantics></math>-combinations of the relevance set <math id="S6.SS1.p2.3.m3.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S6.SS1.p2.3.m3.1a"><mi id="S6.SS1.p2.3.m3.1.1" xref="S6.SS1.p2.3.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.3.m3.1b"><ci id="S6.SS1.p2.3.m3.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.3.m3.1c">R</annotation></semantics></math> and randomly assign to <math id="S6.SS1.p2.4.m4.2" class="ltx_Math" alttext="\binom{R}{k}" display="inline"><semantics id="S6.SS1.p2.4.m4.2a"><mrow id="S6.SS1.p2.4.m4.2.2.4" xref="S6.SS1.p2.4.m4.2.2.3.cmml"><mo id="S6.SS1.p2.4.m4.2.2.4.1" xref="S6.SS1.p2.4.m4.2.2.3.1.cmml">(</mo><mfrac linethickness="0pt" id="S6.SS1.p2.4.m4.2.2.2.2" xref="S6.SS1.p2.4.m4.2.2.3.cmml"><mi id="S6.SS1.p2.4.m4.1.1.1.1.1.1" xref="S6.SS1.p2.4.m4.1.1.1.1.1.1.cmml">R</mi><mi id="S6.SS1.p2.4.m4.2.2.2.2.2.1" xref="S6.SS1.p2.4.m4.2.2.2.2.2.1.cmml">k</mi></mfrac><mo id="S6.SS1.p2.4.m4.2.2.4.2" xref="S6.SS1.p2.4.m4.2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.4.m4.2b"><apply id="S6.SS1.p2.4.m4.2.2.3.cmml" xref="S6.SS1.p2.4.m4.2.2.4"><csymbol cd="latexml" id="S6.SS1.p2.4.m4.2.2.3.1.cmml" xref="S6.SS1.p2.4.m4.2.2.4.1">binomial</csymbol><ci id="S6.SS1.p2.4.m4.1.1.1.1.1.1.cmml" xref="S6.SS1.p2.4.m4.1.1.1.1.1.1">𝑅</ci><ci id="S6.SS1.p2.4.m4.2.2.2.2.2.1.cmml" xref="S6.SS1.p2.4.m4.2.2.2.2.2.1">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.4.m4.2c">\binom{R}{k}</annotation></semantics></math> clients. Then, for the query-document pairs of each label, we randomly and equally divide them into the clients who own the label. In this way, the number of labels in each client is fixed, and there is no overlap between the samples of different clients.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.8" class="ltx_p">In non-IID subtype 1, each client only holds query-document pairs from one specific value of relevance label. We use <math id="S6.SS1.p3.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS1.p3.1.m1.1a"><mrow id="S6.SS1.p3.1.m1.1.1" xref="S6.SS1.p3.1.m1.1.1.cmml"><mrow id="S6.SS1.p3.1.m1.1.1.2" xref="S6.SS1.p3.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS1.p3.1.m1.1.1.2.2" xref="S6.SS1.p3.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p3.1.m1.1.1.2.1" xref="S6.SS1.p3.1.m1.1.1.2.1.cmml">​</mo><mi id="S6.SS1.p3.1.m1.1.1.2.3" xref="S6.SS1.p3.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS1.p3.1.m1.1.1.1" xref="S6.SS1.p3.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS1.p3.1.m1.1.1.3" xref="S6.SS1.p3.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.1.m1.1b"><apply id="S6.SS1.p3.1.m1.1.1.cmml" xref="S6.SS1.p3.1.m1.1.1"><eq id="S6.SS1.p3.1.m1.1.1.1.cmml" xref="S6.SS1.p3.1.m1.1.1.1"></eq><apply id="S6.SS1.p3.1.m1.1.1.2.cmml" xref="S6.SS1.p3.1.m1.1.1.2"><times id="S6.SS1.p3.1.m1.1.1.2.1.cmml" xref="S6.SS1.p3.1.m1.1.1.2.1"></times><ci id="S6.SS1.p3.1.m1.1.1.2.2.cmml" xref="S6.SS1.p3.1.m1.1.1.2.2">#</ci><ci id="S6.SS1.p3.1.m1.1.1.2.3.cmml" xref="S6.SS1.p3.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS1.p3.1.m1.1.1.3.cmml" xref="S6.SS1.p3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.1.m1.1c">\#R=1</annotation></semantics></math> to denote this partitioning strategy. This federated setup involves <math id="S6.SS1.p3.2.m2.1" class="ltx_Math" alttext="|C|=5" display="inline"><semantics id="S6.SS1.p3.2.m2.1a"><mrow id="S6.SS1.p3.2.m2.1.2" xref="S6.SS1.p3.2.m2.1.2.cmml"><mrow id="S6.SS1.p3.2.m2.1.2.2.2" xref="S6.SS1.p3.2.m2.1.2.2.1.cmml"><mo stretchy="false" id="S6.SS1.p3.2.m2.1.2.2.2.1" xref="S6.SS1.p3.2.m2.1.2.2.1.1.cmml">|</mo><mi id="S6.SS1.p3.2.m2.1.1" xref="S6.SS1.p3.2.m2.1.1.cmml">C</mi><mo stretchy="false" id="S6.SS1.p3.2.m2.1.2.2.2.2" xref="S6.SS1.p3.2.m2.1.2.2.1.1.cmml">|</mo></mrow><mo id="S6.SS1.p3.2.m2.1.2.1" xref="S6.SS1.p3.2.m2.1.2.1.cmml">=</mo><mn id="S6.SS1.p3.2.m2.1.2.3" xref="S6.SS1.p3.2.m2.1.2.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.2.m2.1b"><apply id="S6.SS1.p3.2.m2.1.2.cmml" xref="S6.SS1.p3.2.m2.1.2"><eq id="S6.SS1.p3.2.m2.1.2.1.cmml" xref="S6.SS1.p3.2.m2.1.2.1"></eq><apply id="S6.SS1.p3.2.m2.1.2.2.1.cmml" xref="S6.SS1.p3.2.m2.1.2.2.2"><abs id="S6.SS1.p3.2.m2.1.2.2.1.1.cmml" xref="S6.SS1.p3.2.m2.1.2.2.2.1"></abs><ci id="S6.SS1.p3.2.m2.1.1.cmml" xref="S6.SS1.p3.2.m2.1.1">𝐶</ci></apply><cn type="integer" id="S6.SS1.p3.2.m2.1.2.3.cmml" xref="S6.SS1.p3.2.m2.1.2.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.2.m2.1c">|C|=5</annotation></semantics></math> clients. We also vary the local updating time <math id="S6.SS1.p3.3.m3.3" class="ltx_Math" alttext="B\in\{2,5,10\}" display="inline"><semantics id="S6.SS1.p3.3.m3.3a"><mrow id="S6.SS1.p3.3.m3.3.4" xref="S6.SS1.p3.3.m3.3.4.cmml"><mi id="S6.SS1.p3.3.m3.3.4.2" xref="S6.SS1.p3.3.m3.3.4.2.cmml">B</mi><mo id="S6.SS1.p3.3.m3.3.4.1" xref="S6.SS1.p3.3.m3.3.4.1.cmml">∈</mo><mrow id="S6.SS1.p3.3.m3.3.4.3.2" xref="S6.SS1.p3.3.m3.3.4.3.1.cmml"><mo stretchy="false" id="S6.SS1.p3.3.m3.3.4.3.2.1" xref="S6.SS1.p3.3.m3.3.4.3.1.cmml">{</mo><mn id="S6.SS1.p3.3.m3.1.1" xref="S6.SS1.p3.3.m3.1.1.cmml">2</mn><mo id="S6.SS1.p3.3.m3.3.4.3.2.2" xref="S6.SS1.p3.3.m3.3.4.3.1.cmml">,</mo><mn id="S6.SS1.p3.3.m3.2.2" xref="S6.SS1.p3.3.m3.2.2.cmml">5</mn><mo id="S6.SS1.p3.3.m3.3.4.3.2.3" xref="S6.SS1.p3.3.m3.3.4.3.1.cmml">,</mo><mn id="S6.SS1.p3.3.m3.3.3" xref="S6.SS1.p3.3.m3.3.3.cmml">10</mn><mo stretchy="false" id="S6.SS1.p3.3.m3.3.4.3.2.4" xref="S6.SS1.p3.3.m3.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.3.m3.3b"><apply id="S6.SS1.p3.3.m3.3.4.cmml" xref="S6.SS1.p3.3.m3.3.4"><in id="S6.SS1.p3.3.m3.3.4.1.cmml" xref="S6.SS1.p3.3.m3.3.4.1"></in><ci id="S6.SS1.p3.3.m3.3.4.2.cmml" xref="S6.SS1.p3.3.m3.3.4.2">𝐵</ci><set id="S6.SS1.p3.3.m3.3.4.3.1.cmml" xref="S6.SS1.p3.3.m3.3.4.3.2"><cn type="integer" id="S6.SS1.p3.3.m3.1.1.cmml" xref="S6.SS1.p3.3.m3.1.1">2</cn><cn type="integer" id="S6.SS1.p3.3.m3.2.2.cmml" xref="S6.SS1.p3.3.m3.2.2">5</cn><cn type="integer" id="S6.SS1.p3.3.m3.3.3.cmml" xref="S6.SS1.p3.3.m3.3.3">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.3.m3.3c">B\in\{2,5,10\}</annotation></semantics></math> to investigate the impact of local updating with a fixed global communication time <math id="S6.SS1.p3.4.m4.2" class="ltx_Math" alttext="T=10,000" display="inline"><semantics id="S6.SS1.p3.4.m4.2a"><mrow id="S6.SS1.p3.4.m4.2.3" xref="S6.SS1.p3.4.m4.2.3.cmml"><mi id="S6.SS1.p3.4.m4.2.3.2" xref="S6.SS1.p3.4.m4.2.3.2.cmml">T</mi><mo id="S6.SS1.p3.4.m4.2.3.1" xref="S6.SS1.p3.4.m4.2.3.1.cmml">=</mo><mrow id="S6.SS1.p3.4.m4.2.3.3.2" xref="S6.SS1.p3.4.m4.2.3.3.1.cmml"><mn id="S6.SS1.p3.4.m4.1.1" xref="S6.SS1.p3.4.m4.1.1.cmml">10</mn><mo id="S6.SS1.p3.4.m4.2.3.3.2.1" xref="S6.SS1.p3.4.m4.2.3.3.1.cmml">,</mo><mn id="S6.SS1.p3.4.m4.2.2" xref="S6.SS1.p3.4.m4.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.4.m4.2b"><apply id="S6.SS1.p3.4.m4.2.3.cmml" xref="S6.SS1.p3.4.m4.2.3"><eq id="S6.SS1.p3.4.m4.2.3.1.cmml" xref="S6.SS1.p3.4.m4.2.3.1"></eq><ci id="S6.SS1.p3.4.m4.2.3.2.cmml" xref="S6.SS1.p3.4.m4.2.3.2">𝑇</ci><list id="S6.SS1.p3.4.m4.2.3.3.1.cmml" xref="S6.SS1.p3.4.m4.2.3.3.2"><cn type="integer" id="S6.SS1.p3.4.m4.1.1.cmml" xref="S6.SS1.p3.4.m4.1.1">10</cn><cn type="integer" id="S6.SS1.p3.4.m4.2.2.cmml" xref="S6.SS1.p3.4.m4.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.4.m4.2c">T=10,000</annotation></semantics></math>. For non-IID subtype 2, each client holds data samples from two relevance labels – we denote this as <math id="S6.SS1.p3.5.m5.1" class="ltx_Math" alttext="\#R=2" display="inline"><semantics id="S6.SS1.p3.5.m5.1a"><mrow id="S6.SS1.p3.5.m5.1.1" xref="S6.SS1.p3.5.m5.1.1.cmml"><mrow id="S6.SS1.p3.5.m5.1.1.2" xref="S6.SS1.p3.5.m5.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS1.p3.5.m5.1.1.2.2" xref="S6.SS1.p3.5.m5.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p3.5.m5.1.1.2.1" xref="S6.SS1.p3.5.m5.1.1.2.1.cmml">​</mo><mi id="S6.SS1.p3.5.m5.1.1.2.3" xref="S6.SS1.p3.5.m5.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS1.p3.5.m5.1.1.1" xref="S6.SS1.p3.5.m5.1.1.1.cmml">=</mo><mn id="S6.SS1.p3.5.m5.1.1.3" xref="S6.SS1.p3.5.m5.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.5.m5.1b"><apply id="S6.SS1.p3.5.m5.1.1.cmml" xref="S6.SS1.p3.5.m5.1.1"><eq id="S6.SS1.p3.5.m5.1.1.1.cmml" xref="S6.SS1.p3.5.m5.1.1.1"></eq><apply id="S6.SS1.p3.5.m5.1.1.2.cmml" xref="S6.SS1.p3.5.m5.1.1.2"><times id="S6.SS1.p3.5.m5.1.1.2.1.cmml" xref="S6.SS1.p3.5.m5.1.1.2.1"></times><ci id="S6.SS1.p3.5.m5.1.1.2.2.cmml" xref="S6.SS1.p3.5.m5.1.1.2.2">#</ci><ci id="S6.SS1.p3.5.m5.1.1.2.3.cmml" xref="S6.SS1.p3.5.m5.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS1.p3.5.m5.1.1.3.cmml" xref="S6.SS1.p3.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.5.m5.1c">\#R=2</annotation></semantics></math>. We simulate <math id="S6.SS1.p3.6.m6.1" class="ltx_Math" alttext="|C|=10" display="inline"><semantics id="S6.SS1.p3.6.m6.1a"><mrow id="S6.SS1.p3.6.m6.1.2" xref="S6.SS1.p3.6.m6.1.2.cmml"><mrow id="S6.SS1.p3.6.m6.1.2.2.2" xref="S6.SS1.p3.6.m6.1.2.2.1.cmml"><mo stretchy="false" id="S6.SS1.p3.6.m6.1.2.2.2.1" xref="S6.SS1.p3.6.m6.1.2.2.1.1.cmml">|</mo><mi id="S6.SS1.p3.6.m6.1.1" xref="S6.SS1.p3.6.m6.1.1.cmml">C</mi><mo stretchy="false" id="S6.SS1.p3.6.m6.1.2.2.2.2" xref="S6.SS1.p3.6.m6.1.2.2.1.1.cmml">|</mo></mrow><mo id="S6.SS1.p3.6.m6.1.2.1" xref="S6.SS1.p3.6.m6.1.2.1.cmml">=</mo><mn id="S6.SS1.p3.6.m6.1.2.3" xref="S6.SS1.p3.6.m6.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.6.m6.1b"><apply id="S6.SS1.p3.6.m6.1.2.cmml" xref="S6.SS1.p3.6.m6.1.2"><eq id="S6.SS1.p3.6.m6.1.2.1.cmml" xref="S6.SS1.p3.6.m6.1.2.1"></eq><apply id="S6.SS1.p3.6.m6.1.2.2.1.cmml" xref="S6.SS1.p3.6.m6.1.2.2.2"><abs id="S6.SS1.p3.6.m6.1.2.2.1.1.cmml" xref="S6.SS1.p3.6.m6.1.2.2.2.1"></abs><ci id="S6.SS1.p3.6.m6.1.1.cmml" xref="S6.SS1.p3.6.m6.1.1">𝐶</ci></apply><cn type="integer" id="S6.SS1.p3.6.m6.1.2.3.cmml" xref="S6.SS1.p3.6.m6.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.6.m6.1c">|C|=10</annotation></semantics></math> clients and for fair comparison between the two non-IID subtypes, we also simulate <math id="S6.SS1.p3.7.m7.1" class="ltx_Math" alttext="|C|=10" display="inline"><semantics id="S6.SS1.p3.7.m7.1a"><mrow id="S6.SS1.p3.7.m7.1.2" xref="S6.SS1.p3.7.m7.1.2.cmml"><mrow id="S6.SS1.p3.7.m7.1.2.2.2" xref="S6.SS1.p3.7.m7.1.2.2.1.cmml"><mo stretchy="false" id="S6.SS1.p3.7.m7.1.2.2.2.1" xref="S6.SS1.p3.7.m7.1.2.2.1.1.cmml">|</mo><mi id="S6.SS1.p3.7.m7.1.1" xref="S6.SS1.p3.7.m7.1.1.cmml">C</mi><mo stretchy="false" id="S6.SS1.p3.7.m7.1.2.2.2.2" xref="S6.SS1.p3.7.m7.1.2.2.1.1.cmml">|</mo></mrow><mo id="S6.SS1.p3.7.m7.1.2.1" xref="S6.SS1.p3.7.m7.1.2.1.cmml">=</mo><mn id="S6.SS1.p3.7.m7.1.2.3" xref="S6.SS1.p3.7.m7.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.7.m7.1b"><apply id="S6.SS1.p3.7.m7.1.2.cmml" xref="S6.SS1.p3.7.m7.1.2"><eq id="S6.SS1.p3.7.m7.1.2.1.cmml" xref="S6.SS1.p3.7.m7.1.2.1"></eq><apply id="S6.SS1.p3.7.m7.1.2.2.1.cmml" xref="S6.SS1.p3.7.m7.1.2.2.2"><abs id="S6.SS1.p3.7.m7.1.2.2.1.1.cmml" xref="S6.SS1.p3.7.m7.1.2.2.2.1"></abs><ci id="S6.SS1.p3.7.m7.1.1.cmml" xref="S6.SS1.p3.7.m7.1.1">𝐶</ci></apply><cn type="integer" id="S6.SS1.p3.7.m7.1.2.3.cmml" xref="S6.SS1.p3.7.m7.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.7.m7.1c">|C|=10</annotation></semantics></math> clients for <math id="S6.SS1.p3.8.m8.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS1.p3.8.m8.1a"><mrow id="S6.SS1.p3.8.m8.1.1" xref="S6.SS1.p3.8.m8.1.1.cmml"><mrow id="S6.SS1.p3.8.m8.1.1.2" xref="S6.SS1.p3.8.m8.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS1.p3.8.m8.1.1.2.2" xref="S6.SS1.p3.8.m8.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p3.8.m8.1.1.2.1" xref="S6.SS1.p3.8.m8.1.1.2.1.cmml">​</mo><mi id="S6.SS1.p3.8.m8.1.1.2.3" xref="S6.SS1.p3.8.m8.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS1.p3.8.m8.1.1.1" xref="S6.SS1.p3.8.m8.1.1.1.cmml">=</mo><mn id="S6.SS1.p3.8.m8.1.1.3" xref="S6.SS1.p3.8.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p3.8.m8.1b"><apply id="S6.SS1.p3.8.m8.1.1.cmml" xref="S6.SS1.p3.8.m8.1.1"><eq id="S6.SS1.p3.8.m8.1.1.1.cmml" xref="S6.SS1.p3.8.m8.1.1.1"></eq><apply id="S6.SS1.p3.8.m8.1.1.2.cmml" xref="S6.SS1.p3.8.m8.1.1.2"><times id="S6.SS1.p3.8.m8.1.1.2.1.cmml" xref="S6.SS1.p3.8.m8.1.1.2.1"></times><ci id="S6.SS1.p3.8.m8.1.1.2.2.cmml" xref="S6.SS1.p3.8.m8.1.1.2.2">#</ci><ci id="S6.SS1.p3.8.m8.1.1.2.3.cmml" xref="S6.SS1.p3.8.m8.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS1.p3.8.m8.1.1.3.cmml" xref="S6.SS1.p3.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p3.8.m8.1c">\#R=1</annotation></semantics></math> (with each label distributed on two different clients).</p>
</div>
<div id="S6.SS1.p4" class="ltx_para">
<p id="S6.SS1.p4.1" class="ltx_p">The IID experimental setting is the same as the non-IID in terms of federation, ranker parameters and evaluation procedure, except that each client now randomly picks a query from the whole training set with all graded judgements during the training period.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Impact of Type 2 non-IID Data</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.4" class="ltx_p">The offline performance for <math id="S6.SS2.p1.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS2.p1.1.m1.1a"><mrow id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml"><mrow id="S6.SS2.p1.1.m1.1.1.2" xref="S6.SS2.p1.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p1.1.m1.1.1.2.2" xref="S6.SS2.p1.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.1.m1.1.1.2.1" xref="S6.SS2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.1.m1.1.1.2.3" xref="S6.SS2.p1.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p1.1.m1.1.1.1" xref="S6.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.p1.1.m1.1.1.3" xref="S6.SS2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.1b"><apply id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1"><eq id="S6.SS2.p1.1.m1.1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1.1"></eq><apply id="S6.SS2.p1.1.m1.1.1.2.cmml" xref="S6.SS2.p1.1.m1.1.1.2"><times id="S6.SS2.p1.1.m1.1.1.2.1.cmml" xref="S6.SS2.p1.1.m1.1.1.2.1"></times><ci id="S6.SS2.p1.1.m1.1.1.2.2.cmml" xref="S6.SS2.p1.1.m1.1.1.2.2">#</ci><ci id="S6.SS2.p1.1.m1.1.1.2.3.cmml" xref="S6.SS2.p1.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p1.1.m1.1.1.3.cmml" xref="S6.SS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.1c">\#R=1</annotation></semantics></math> on MSLR-WEB10k is shown in Figure <a href="#S6.F5" title="Figure 5 ‣ 6. TYPE 2: Document label distribution skewness ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and the corresponding online performance is shown in Table <a href="#S6.T3" title="Table 3 ‣ 6.2. Impact of Type 2 non-IID Data ‣ 6. TYPE 2: Document label distribution skewness ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. From the offline results, it is clear that the rankers learned with non-IID data under-fit the generalized held-out test set under all three settings of local updating times (<math id="S6.SS2.p1.2.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.SS2.p1.2.m2.1a"><mi id="S6.SS2.p1.2.m2.1.1" xref="S6.SS2.p1.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.2.m2.1b"><ci id="S6.SS2.p1.2.m2.1.1.cmml" xref="S6.SS2.p1.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.2.m2.1c">B</annotation></semantics></math>). For the <em id="S6.SS2.p1.4.1" class="ltx_emph ltx_font_italic">perfect</em> click model, a larger number of <math id="S6.SS2.p1.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.SS2.p1.3.m3.1a"><mi id="S6.SS2.p1.3.m3.1.1" xref="S6.SS2.p1.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.3.m3.1b"><ci id="S6.SS2.p1.3.m3.1.1.cmml" xref="S6.SS2.p1.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.3.m3.1c">B</annotation></semantics></math> achieves better test performance. However, when it comes to noisier clicks (<em id="S6.SS2.p1.4.2" class="ltx_emph ltx_font_italic">navigational</em> or <em id="S6.SS2.p1.4.3" class="ltx_emph ltx_font_italic">informational</em>), the trend is reversed, although differences are minimal and the model performance fluctuates.
For the online results, all non-IID settings appear to over-fit the maximum value (<math id="S6.SS2.p1.4.m4.1" class="ltx_Math" alttext="online\_ndcg=1589.23" display="inline"><semantics id="S6.SS2.p1.4.m4.1a"><mrow id="S6.SS2.p1.4.m4.1.1" xref="S6.SS2.p1.4.m4.1.1.cmml"><mrow id="S6.SS2.p1.4.m4.1.1.2" xref="S6.SS2.p1.4.m4.1.1.2.cmml"><mi id="S6.SS2.p1.4.m4.1.1.2.2" xref="S6.SS2.p1.4.m4.1.1.2.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.3" xref="S6.SS2.p1.4.m4.1.1.2.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1a" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.4" xref="S6.SS2.p1.4.m4.1.1.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1b" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.5" xref="S6.SS2.p1.4.m4.1.1.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1c" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.6" xref="S6.SS2.p1.4.m4.1.1.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1d" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.7" xref="S6.SS2.p1.4.m4.1.1.2.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1e" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S6.SS2.p1.4.m4.1.1.2.8" xref="S6.SS2.p1.4.m4.1.1.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1f" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.9" xref="S6.SS2.p1.4.m4.1.1.2.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1g" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.10" xref="S6.SS2.p1.4.m4.1.1.2.10.cmml">d</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1h" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.11" xref="S6.SS2.p1.4.m4.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p1.4.m4.1.1.2.1i" xref="S6.SS2.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p1.4.m4.1.1.2.12" xref="S6.SS2.p1.4.m4.1.1.2.12.cmml">g</mi></mrow><mo id="S6.SS2.p1.4.m4.1.1.1" xref="S6.SS2.p1.4.m4.1.1.1.cmml">=</mo><mn id="S6.SS2.p1.4.m4.1.1.3" xref="S6.SS2.p1.4.m4.1.1.3.cmml">1589.23</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.4.m4.1b"><apply id="S6.SS2.p1.4.m4.1.1.cmml" xref="S6.SS2.p1.4.m4.1.1"><eq id="S6.SS2.p1.4.m4.1.1.1.cmml" xref="S6.SS2.p1.4.m4.1.1.1"></eq><apply id="S6.SS2.p1.4.m4.1.1.2.cmml" xref="S6.SS2.p1.4.m4.1.1.2"><times id="S6.SS2.p1.4.m4.1.1.2.1.cmml" xref="S6.SS2.p1.4.m4.1.1.2.1"></times><ci id="S6.SS2.p1.4.m4.1.1.2.2.cmml" xref="S6.SS2.p1.4.m4.1.1.2.2">𝑜</ci><ci id="S6.SS2.p1.4.m4.1.1.2.3.cmml" xref="S6.SS2.p1.4.m4.1.1.2.3">𝑛</ci><ci id="S6.SS2.p1.4.m4.1.1.2.4.cmml" xref="S6.SS2.p1.4.m4.1.1.2.4">𝑙</ci><ci id="S6.SS2.p1.4.m4.1.1.2.5.cmml" xref="S6.SS2.p1.4.m4.1.1.2.5">𝑖</ci><ci id="S6.SS2.p1.4.m4.1.1.2.6.cmml" xref="S6.SS2.p1.4.m4.1.1.2.6">𝑛</ci><ci id="S6.SS2.p1.4.m4.1.1.2.7.cmml" xref="S6.SS2.p1.4.m4.1.1.2.7">𝑒</ci><ci id="S6.SS2.p1.4.m4.1.1.2.8.cmml" xref="S6.SS2.p1.4.m4.1.1.2.8">_</ci><ci id="S6.SS2.p1.4.m4.1.1.2.9.cmml" xref="S6.SS2.p1.4.m4.1.1.2.9">𝑛</ci><ci id="S6.SS2.p1.4.m4.1.1.2.10.cmml" xref="S6.SS2.p1.4.m4.1.1.2.10">𝑑</ci><ci id="S6.SS2.p1.4.m4.1.1.2.11.cmml" xref="S6.SS2.p1.4.m4.1.1.2.11">𝑐</ci><ci id="S6.SS2.p1.4.m4.1.1.2.12.cmml" xref="S6.SS2.p1.4.m4.1.1.2.12">𝑔</ci></apply><cn type="float" id="S6.SS2.p1.4.m4.1.1.3.cmml" xref="S6.SS2.p1.4.m4.1.1.3">1589.23</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.4.m4.1c">online\_ndcg=1589.23</annotation></semantics></math>) as each client’s local data only contains data from one relevance label.</p>
</div>
<figure id="S6.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table">Table 3. </span>Online performance on MSLR-WEB10k for Type 2 (<math id="S6.T3.2.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.T3.2.m1.1b"><mrow id="S6.T3.2.m1.1.1" xref="S6.T3.2.m1.1.1.cmml"><mrow id="S6.T3.2.m1.1.1.2" xref="S6.T3.2.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.T3.2.m1.1.1.2.2" xref="S6.T3.2.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.T3.2.m1.1.1.2.1" xref="S6.T3.2.m1.1.1.2.1.cmml">​</mo><mi id="S6.T3.2.m1.1.1.2.3" xref="S6.T3.2.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.T3.2.m1.1.1.1" xref="S6.T3.2.m1.1.1.1.cmml">=</mo><mn id="S6.T3.2.m1.1.1.3" xref="S6.T3.2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.2.m1.1c"><apply id="S6.T3.2.m1.1.1.cmml" xref="S6.T3.2.m1.1.1"><eq id="S6.T3.2.m1.1.1.1.cmml" xref="S6.T3.2.m1.1.1.1"></eq><apply id="S6.T3.2.m1.1.1.2.cmml" xref="S6.T3.2.m1.1.1.2"><times id="S6.T3.2.m1.1.1.2.1.cmml" xref="S6.T3.2.m1.1.1.2.1"></times><ci id="S6.T3.2.m1.1.1.2.2.cmml" xref="S6.T3.2.m1.1.1.2.2">#</ci><ci id="S6.T3.2.m1.1.1.2.3.cmml" xref="S6.T3.2.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.T3.2.m1.1.1.3.cmml" xref="S6.T3.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.2.m1.1d">\#R=1</annotation></semantics></math>), averaged across dataset splits and experimental runs.</figcaption>
<table id="S6.T3.8" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T3.8.7.1" class="ltx_tr">
<th id="S6.T3.8.7.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S6.T3.8.7.1.2" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_t"></th>
<th id="S6.T3.8.7.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="3"><em id="S6.T3.8.7.1.3.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">linear ranker</em></th>
<th id="S6.T3.8.7.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="3"><em id="S6.T3.8.7.1.4.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">neural ranker</em></th>
</tr>
<tr id="S6.T3.8.6" class="ltx_tr">
<th id="S6.T3.8.6.7" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S6.T3.8.6.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t"><span id="S6.T3.8.6.8.1" class="ltx_text" style="font-size:80%;">click</span></th>
<th id="S6.T3.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.3.1.1.m1.1" class="ltx_Math" alttext="B=2" display="inline"><semantics id="S6.T3.3.1.1.m1.1a"><mrow id="S6.T3.3.1.1.m1.1.1" xref="S6.T3.3.1.1.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.3.1.1.m1.1.1.2" xref="S6.T3.3.1.1.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.3.1.1.m1.1.1.1" xref="S6.T3.3.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.3.1.1.m1.1.1.3" xref="S6.T3.3.1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.3.1.1.m1.1b"><apply id="S6.T3.3.1.1.m1.1.1.cmml" xref="S6.T3.3.1.1.m1.1.1"><eq id="S6.T3.3.1.1.m1.1.1.1.cmml" xref="S6.T3.3.1.1.m1.1.1.1"></eq><ci id="S6.T3.3.1.1.m1.1.1.2.cmml" xref="S6.T3.3.1.1.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.3.1.1.m1.1.1.3.cmml" xref="S6.T3.3.1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.1.1.m1.1c">B=2</annotation></semantics></math></th>
<th id="S6.T3.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.4.2.2.m1.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S6.T3.4.2.2.m1.1a"><mrow id="S6.T3.4.2.2.m1.1.1" xref="S6.T3.4.2.2.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.4.2.2.m1.1.1.2" xref="S6.T3.4.2.2.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.4.2.2.m1.1.1.1" xref="S6.T3.4.2.2.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.4.2.2.m1.1.1.3" xref="S6.T3.4.2.2.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.4.2.2.m1.1b"><apply id="S6.T3.4.2.2.m1.1.1.cmml" xref="S6.T3.4.2.2.m1.1.1"><eq id="S6.T3.4.2.2.m1.1.1.1.cmml" xref="S6.T3.4.2.2.m1.1.1.1"></eq><ci id="S6.T3.4.2.2.m1.1.1.2.cmml" xref="S6.T3.4.2.2.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.4.2.2.m1.1.1.3.cmml" xref="S6.T3.4.2.2.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.2.2.m1.1c">B=5</annotation></semantics></math></th>
<th id="S6.T3.5.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.5.3.3.m1.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S6.T3.5.3.3.m1.1a"><mrow id="S6.T3.5.3.3.m1.1.1" xref="S6.T3.5.3.3.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.5.3.3.m1.1.1.2" xref="S6.T3.5.3.3.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.5.3.3.m1.1.1.1" xref="S6.T3.5.3.3.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.5.3.3.m1.1.1.3" xref="S6.T3.5.3.3.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.5.3.3.m1.1b"><apply id="S6.T3.5.3.3.m1.1.1.cmml" xref="S6.T3.5.3.3.m1.1.1"><eq id="S6.T3.5.3.3.m1.1.1.1.cmml" xref="S6.T3.5.3.3.m1.1.1.1"></eq><ci id="S6.T3.5.3.3.m1.1.1.2.cmml" xref="S6.T3.5.3.3.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.5.3.3.m1.1.1.3.cmml" xref="S6.T3.5.3.3.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.3.3.m1.1c">B=10</annotation></semantics></math></th>
<th id="S6.T3.6.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.6.4.4.m1.1" class="ltx_Math" alttext="B=2" display="inline"><semantics id="S6.T3.6.4.4.m1.1a"><mrow id="S6.T3.6.4.4.m1.1.1" xref="S6.T3.6.4.4.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.6.4.4.m1.1.1.2" xref="S6.T3.6.4.4.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.6.4.4.m1.1.1.1" xref="S6.T3.6.4.4.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.6.4.4.m1.1.1.3" xref="S6.T3.6.4.4.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.6.4.4.m1.1b"><apply id="S6.T3.6.4.4.m1.1.1.cmml" xref="S6.T3.6.4.4.m1.1.1"><eq id="S6.T3.6.4.4.m1.1.1.1.cmml" xref="S6.T3.6.4.4.m1.1.1.1"></eq><ci id="S6.T3.6.4.4.m1.1.1.2.cmml" xref="S6.T3.6.4.4.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.6.4.4.m1.1.1.3.cmml" xref="S6.T3.6.4.4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.6.4.4.m1.1c">B=2</annotation></semantics></math></th>
<th id="S6.T3.7.5.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.7.5.5.m1.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S6.T3.7.5.5.m1.1a"><mrow id="S6.T3.7.5.5.m1.1.1" xref="S6.T3.7.5.5.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.7.5.5.m1.1.1.2" xref="S6.T3.7.5.5.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.7.5.5.m1.1.1.1" xref="S6.T3.7.5.5.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.7.5.5.m1.1.1.3" xref="S6.T3.7.5.5.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.7.5.5.m1.1b"><apply id="S6.T3.7.5.5.m1.1.1.cmml" xref="S6.T3.7.5.5.m1.1.1"><eq id="S6.T3.7.5.5.m1.1.1.1.cmml" xref="S6.T3.7.5.5.m1.1.1.1"></eq><ci id="S6.T3.7.5.5.m1.1.1.2.cmml" xref="S6.T3.7.5.5.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.7.5.5.m1.1.1.3.cmml" xref="S6.T3.7.5.5.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.7.5.5.m1.1c">B=5</annotation></semantics></math></th>
<th id="S6.T3.8.6.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S6.T3.8.6.6.m1.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S6.T3.8.6.6.m1.1a"><mrow id="S6.T3.8.6.6.m1.1.1" xref="S6.T3.8.6.6.m1.1.1.cmml"><mi mathsize="80%" id="S6.T3.8.6.6.m1.1.1.2" xref="S6.T3.8.6.6.m1.1.1.2.cmml">B</mi><mo mathsize="80%" id="S6.T3.8.6.6.m1.1.1.1" xref="S6.T3.8.6.6.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="S6.T3.8.6.6.m1.1.1.3" xref="S6.T3.8.6.6.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.8.6.6.m1.1b"><apply id="S6.T3.8.6.6.m1.1.1.cmml" xref="S6.T3.8.6.6.m1.1.1"><eq id="S6.T3.8.6.6.m1.1.1.1.cmml" xref="S6.T3.8.6.6.m1.1.1.1"></eq><ci id="S6.T3.8.6.6.m1.1.1.2.cmml" xref="S6.T3.8.6.6.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.T3.8.6.6.m1.1.1.3.cmml" xref="S6.T3.8.6.6.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.6.6.m1.1c">B=10</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T3.8.8.1" class="ltx_tr">
<th id="S6.T3.8.8.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S6.T3.8.8.1.1.1" class="ltx_text" style="font-size:80%;">IID</span></th>
<th id="S6.T3.8.8.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t"><em id="S6.T3.8.8.1.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">per.</em></th>
<td id="S6.T3.8.8.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.3.1" class="ltx_text" style="font-size:80%;">742.10</span></td>
<td id="S6.T3.8.8.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.4.1" class="ltx_text" style="font-size:80%;">778.56</span></td>
<td id="S6.T3.8.8.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.5.1" class="ltx_text" style="font-size:80%;">798.05</span></td>
<td id="S6.T3.8.8.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.6.1" class="ltx_text" style="font-size:80%;">716.55</span></td>
<td id="S6.T3.8.8.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.7.1" class="ltx_text" style="font-size:80%;">781.18</span></td>
<td id="S6.T3.8.8.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.8.1.8.1" class="ltx_text" style="font-size:80%;">815.8</span></td>
</tr>
<tr id="S6.T3.8.9.2" class="ltx_tr">
<th id="S6.T3.8.9.2.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S6.T3.8.9.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row"><em id="S6.T3.8.9.2.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">nav.</em></th>
<td id="S6.T3.8.9.2.3" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.3.1" class="ltx_text" style="font-size:80%;">698.25</span></td>
<td id="S6.T3.8.9.2.4" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.4.1" class="ltx_text" style="font-size:80%;">743.35</span></td>
<td id="S6.T3.8.9.2.5" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.5.1" class="ltx_text" style="font-size:80%;">771.04</span></td>
<td id="S6.T3.8.9.2.6" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.6.1" class="ltx_text" style="font-size:80%;">649.83</span></td>
<td id="S6.T3.8.9.2.7" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.7.1" class="ltx_text" style="font-size:80%;">728.96</span></td>
<td id="S6.T3.8.9.2.8" class="ltx_td ltx_align_center"><span id="S6.T3.8.9.2.8.1" class="ltx_text" style="font-size:80%;">775.87</span></td>
</tr>
<tr id="S6.T3.8.10.3" class="ltx_tr">
<th id="S6.T3.8.10.3.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S6.T3.8.10.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row"><em id="S6.T3.8.10.3.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">inf.</em></th>
<td id="S6.T3.8.10.3.3" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.3.1" class="ltx_text" style="font-size:80%;">672.23</span></td>
<td id="S6.T3.8.10.3.4" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.4.1" class="ltx_text" style="font-size:80%;">722.23</span></td>
<td id="S6.T3.8.10.3.5" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.5.1" class="ltx_text" style="font-size:80%;">757.10</span></td>
<td id="S6.T3.8.10.3.6" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.6.1" class="ltx_text" style="font-size:80%;">612.76</span></td>
<td id="S6.T3.8.10.3.7" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.7.1" class="ltx_text" style="font-size:80%;">693.35</span></td>
<td id="S6.T3.8.10.3.8" class="ltx_td ltx_align_center"><span id="S6.T3.8.10.3.8.1" class="ltx_text" style="font-size:80%;">748.64</span></td>
</tr>
<tr id="S6.T3.8.11.4" class="ltx_tr">
<th id="S6.T3.8.11.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S6.T3.8.11.4.1.1" class="ltx_text" style="font-size:80%;">non-IID</span></th>
<th id="S6.T3.8.11.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t"><em id="S6.T3.8.11.4.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">per.</em></th>
<td id="S6.T3.8.11.4.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.3.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.11.4.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.4.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.11.4.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.5.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.11.4.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.6.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.11.4.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.7.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.11.4.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.8.11.4.8.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
</tr>
<tr id="S6.T3.8.12.5" class="ltx_tr">
<th id="S6.T3.8.12.5.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S6.T3.8.12.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row"><em id="S6.T3.8.12.5.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">nav.</em></th>
<td id="S6.T3.8.12.5.3" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.3.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.12.5.4" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.4.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.12.5.5" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.5.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.12.5.6" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.6.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.12.5.7" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.7.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.12.5.8" class="ltx_td ltx_align_center"><span id="S6.T3.8.12.5.8.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
</tr>
<tr id="S6.T3.8.13.6" class="ltx_tr">
<th id="S6.T3.8.13.6.1" class="ltx_td ltx_th ltx_th_row ltx_border_b"></th>
<th id="S6.T3.8.13.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b"><em id="S6.T3.8.13.6.2.1" class="ltx_emph ltx_font_italic" style="font-size:80%;">inf.</em></th>
<td id="S6.T3.8.13.6.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.3.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.13.6.4" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.4.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.13.6.5" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.5.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.13.6.6" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.6.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.13.6.7" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.7.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
<td id="S6.T3.8.13.6.8" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.8.13.6.8.1" class="ltx_text" style="font-size:80%;">1589.23</span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S6.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F7.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew1_CCM_linear_methods.png" id="S6.F7.sf1.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F7.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S6.F7.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F7.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew1_CCM_neural64_data_sharing_10percent.png" id="S6.F7.sf2.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F7.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S6.F7.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (neural ranker) - data sharing</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F7.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew1_CCM_neural64_methods.png" id="S6.F7.sf3.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S6.F7.sf3.3.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S6.F7.sf3.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (neural ranker) - FedProx &amp; FedPer</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>Offline performance on MSLR-10k when using Data-sharing, FedProx and FedPer on Type 2 non-IID data (with <math id="S6.F7.2.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.F7.2.m1.1b"><mrow id="S6.F7.2.m1.1.1" xref="S6.F7.2.m1.1.1.cmml"><mrow id="S6.F7.2.m1.1.1.2" xref="S6.F7.2.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.F7.2.m1.1.1.2.2" xref="S6.F7.2.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.F7.2.m1.1.1.2.1" xref="S6.F7.2.m1.1.1.2.1.cmml">​</mo><mi id="S6.F7.2.m1.1.1.2.3" xref="S6.F7.2.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.F7.2.m1.1.1.1" xref="S6.F7.2.m1.1.1.1.cmml">=</mo><mn id="S6.F7.2.m1.1.1.3" xref="S6.F7.2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F7.2.m1.1c"><apply id="S6.F7.2.m1.1.1.cmml" xref="S6.F7.2.m1.1.1"><eq id="S6.F7.2.m1.1.1.1.cmml" xref="S6.F7.2.m1.1.1.1"></eq><apply id="S6.F7.2.m1.1.1.2.cmml" xref="S6.F7.2.m1.1.1.2"><times id="S6.F7.2.m1.1.1.2.1.cmml" xref="S6.F7.2.m1.1.1.2.1"></times><ci id="S6.F7.2.m1.1.1.2.2.cmml" xref="S6.F7.2.m1.1.1.2.2">#</ci><ci id="S6.F7.2.m1.1.1.2.3.cmml" xref="S6.F7.2.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.F7.2.m1.1.1.3.cmml" xref="S6.F7.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F7.2.m1.1d">\#R=1</annotation></semantics></math>); results averaged across dataset splits and experimental runs.
</figcaption>
</figure>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.3" class="ltx_p">Offline results for <math id="S6.SS2.p2.1.m1.1" class="ltx_Math" alttext="\#R=2" display="inline"><semantics id="S6.SS2.p2.1.m1.1a"><mrow id="S6.SS2.p2.1.m1.1.1" xref="S6.SS2.p2.1.m1.1.1.cmml"><mrow id="S6.SS2.p2.1.m1.1.1.2" xref="S6.SS2.p2.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p2.1.m1.1.1.2.2" xref="S6.SS2.p2.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p2.1.m1.1.1.2.1" xref="S6.SS2.p2.1.m1.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p2.1.m1.1.1.2.3" xref="S6.SS2.p2.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p2.1.m1.1.1.1" xref="S6.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.p2.1.m1.1.1.3" xref="S6.SS2.p2.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p2.1.m1.1b"><apply id="S6.SS2.p2.1.m1.1.1.cmml" xref="S6.SS2.p2.1.m1.1.1"><eq id="S6.SS2.p2.1.m1.1.1.1.cmml" xref="S6.SS2.p2.1.m1.1.1.1"></eq><apply id="S6.SS2.p2.1.m1.1.1.2.cmml" xref="S6.SS2.p2.1.m1.1.1.2"><times id="S6.SS2.p2.1.m1.1.1.2.1.cmml" xref="S6.SS2.p2.1.m1.1.1.2.1"></times><ci id="S6.SS2.p2.1.m1.1.1.2.2.cmml" xref="S6.SS2.p2.1.m1.1.1.2.2">#</ci><ci id="S6.SS2.p2.1.m1.1.1.2.3.cmml" xref="S6.SS2.p2.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p2.1.m1.1.1.3.cmml" xref="S6.SS2.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p2.1.m1.1c">\#R=2</annotation></semantics></math> are shown in Figure <a href="#S6.F6" title="Figure 6 ‣ 6. TYPE 2: Document label distribution skewness ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. In this case, the effectiveness of the learnt rankers is much higher than for <math id="S6.SS2.p2.2.m2.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS2.p2.2.m2.1a"><mrow id="S6.SS2.p2.2.m2.1.1" xref="S6.SS2.p2.2.m2.1.1.cmml"><mrow id="S6.SS2.p2.2.m2.1.1.2" xref="S6.SS2.p2.2.m2.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p2.2.m2.1.1.2.2" xref="S6.SS2.p2.2.m2.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p2.2.m2.1.1.2.1" xref="S6.SS2.p2.2.m2.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p2.2.m2.1.1.2.3" xref="S6.SS2.p2.2.m2.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p2.2.m2.1.1.1" xref="S6.SS2.p2.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS2.p2.2.m2.1.1.3" xref="S6.SS2.p2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p2.2.m2.1b"><apply id="S6.SS2.p2.2.m2.1.1.cmml" xref="S6.SS2.p2.2.m2.1.1"><eq id="S6.SS2.p2.2.m2.1.1.1.cmml" xref="S6.SS2.p2.2.m2.1.1.1"></eq><apply id="S6.SS2.p2.2.m2.1.1.2.cmml" xref="S6.SS2.p2.2.m2.1.1.2"><times id="S6.SS2.p2.2.m2.1.1.2.1.cmml" xref="S6.SS2.p2.2.m2.1.1.2.1"></times><ci id="S6.SS2.p2.2.m2.1.1.2.2.cmml" xref="S6.SS2.p2.2.m2.1.1.2.2">#</ci><ci id="S6.SS2.p2.2.m2.1.1.2.3.cmml" xref="S6.SS2.p2.2.m2.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p2.2.m2.1.1.3.cmml" xref="S6.SS2.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p2.2.m2.1c">\#R=1</annotation></semantics></math>: a diversity in labels held by a client prevents major losses in FOLTR effectiveness. This result is also consistent with previous results in general federated learning with non-IID data: Li et al. <cite class="ltx_cite ltx_citemacro_citep">(Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2022</a>)</cite> found that the most challenging setting is when each client only has data samples from a single class (label). We further note that another reason for the performance gap is the pairwise loss used in FPDGD <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>: when each client only has one relevance label, it is hard to infer preferences between document pairs (as they both have the same label). However, given labels from two levels of relevance (<math id="S6.SS2.p2.3.m3.1" class="ltx_Math" alttext="\#R=2" display="inline"><semantics id="S6.SS2.p2.3.m3.1a"><mrow id="S6.SS2.p2.3.m3.1.1" xref="S6.SS2.p2.3.m3.1.1.cmml"><mrow id="S6.SS2.p2.3.m3.1.1.2" xref="S6.SS2.p2.3.m3.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p2.3.m3.1.1.2.2" xref="S6.SS2.p2.3.m3.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p2.3.m3.1.1.2.1" xref="S6.SS2.p2.3.m3.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p2.3.m3.1.1.2.3" xref="S6.SS2.p2.3.m3.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p2.3.m3.1.1.1" xref="S6.SS2.p2.3.m3.1.1.1.cmml">=</mo><mn id="S6.SS2.p2.3.m3.1.1.3" xref="S6.SS2.p2.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p2.3.m3.1b"><apply id="S6.SS2.p2.3.m3.1.1.cmml" xref="S6.SS2.p2.3.m3.1.1"><eq id="S6.SS2.p2.3.m3.1.1.1.cmml" xref="S6.SS2.p2.3.m3.1.1.1"></eq><apply id="S6.SS2.p2.3.m3.1.1.2.cmml" xref="S6.SS2.p2.3.m3.1.1.2"><times id="S6.SS2.p2.3.m3.1.1.2.1.cmml" xref="S6.SS2.p2.3.m3.1.1.2.1"></times><ci id="S6.SS2.p2.3.m3.1.1.2.2.cmml" xref="S6.SS2.p2.3.m3.1.1.2.2">#</ci><ci id="S6.SS2.p2.3.m3.1.1.2.3.cmml" xref="S6.SS2.p2.3.m3.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p2.3.m3.1.1.3.cmml" xref="S6.SS2.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p2.3.m3.1c">\#R=2</annotation></semantics></math>), pairwise differences can be effectively inferred. This suggests that the results obtained here for Type 2 data may not generalise to other FOLTR methods beyond FPDGD if they do not rely on the pairwise preference mechanism. We further note, however, that FPDGD is the current state-of-the-art method and that the only available alternative <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>)</cite> displays highly variable and sensibly worse performance compared to FPDGD <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2021d</a>, <a href="#bib.bib46" title="" class="ltx_ref">c</a>)</cite>. Therefore, new methods of FOLTR must also be validated in the presence of Type 2 data.</p>
</div>
<div id="S6.SS2.p3" class="ltx_para">
<p id="S6.SS2.p3.2" class="ltx_p">In summary, we find that if data is distributed in a non-IID manner across clients according to Type 2, the effectiveness of FOLTR (and specifically of FPDGD) is seriously affected in the case of <math id="S6.SS2.p3.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS2.p3.1.m1.1a"><mrow id="S6.SS2.p3.1.m1.1.1" xref="S6.SS2.p3.1.m1.1.1.cmml"><mrow id="S6.SS2.p3.1.m1.1.1.2" xref="S6.SS2.p3.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p3.1.m1.1.1.2.2" xref="S6.SS2.p3.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p3.1.m1.1.1.2.1" xref="S6.SS2.p3.1.m1.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p3.1.m1.1.1.2.3" xref="S6.SS2.p3.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p3.1.m1.1.1.1" xref="S6.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.p3.1.m1.1.1.3" xref="S6.SS2.p3.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p3.1.m1.1b"><apply id="S6.SS2.p3.1.m1.1.1.cmml" xref="S6.SS2.p3.1.m1.1.1"><eq id="S6.SS2.p3.1.m1.1.1.1.cmml" xref="S6.SS2.p3.1.m1.1.1.1"></eq><apply id="S6.SS2.p3.1.m1.1.1.2.cmml" xref="S6.SS2.p3.1.m1.1.1.2"><times id="S6.SS2.p3.1.m1.1.1.2.1.cmml" xref="S6.SS2.p3.1.m1.1.1.2.1"></times><ci id="S6.SS2.p3.1.m1.1.1.2.2.cmml" xref="S6.SS2.p3.1.m1.1.1.2.2">#</ci><ci id="S6.SS2.p3.1.m1.1.1.2.3.cmml" xref="S6.SS2.p3.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p3.1.m1.1.1.3.cmml" xref="S6.SS2.p3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p3.1.m1.1c">\#R=1</annotation></semantics></math>; however, if <math id="S6.SS2.p3.2.m2.1" class="ltx_Math" alttext="\#R=2" display="inline"><semantics id="S6.SS2.p3.2.m2.1a"><mrow id="S6.SS2.p3.2.m2.1.1" xref="S6.SS2.p3.2.m2.1.1.cmml"><mrow id="S6.SS2.p3.2.m2.1.1.2" xref="S6.SS2.p3.2.m2.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS2.p3.2.m2.1.1.2.2" xref="S6.SS2.p3.2.m2.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS2.p3.2.m2.1.1.2.1" xref="S6.SS2.p3.2.m2.1.1.2.1.cmml">​</mo><mi id="S6.SS2.p3.2.m2.1.1.2.3" xref="S6.SS2.p3.2.m2.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS2.p3.2.m2.1.1.1" xref="S6.SS2.p3.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS2.p3.2.m2.1.1.3" xref="S6.SS2.p3.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p3.2.m2.1b"><apply id="S6.SS2.p3.2.m2.1.1.cmml" xref="S6.SS2.p3.2.m2.1.1"><eq id="S6.SS2.p3.2.m2.1.1.1.cmml" xref="S6.SS2.p3.2.m2.1.1.1"></eq><apply id="S6.SS2.p3.2.m2.1.1.2.cmml" xref="S6.SS2.p3.2.m2.1.1.2"><times id="S6.SS2.p3.2.m2.1.1.2.1.cmml" xref="S6.SS2.p3.2.m2.1.1.2.1"></times><ci id="S6.SS2.p3.2.m2.1.1.2.2.cmml" xref="S6.SS2.p3.2.m2.1.1.2.2">#</ci><ci id="S6.SS2.p3.2.m2.1.1.2.3.cmml" xref="S6.SS2.p3.2.m2.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS2.p3.2.m2.1.1.3.cmml" xref="S6.SS2.p3.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p3.2.m2.1c">\#R=2</annotation></semantics></math> then gaps in effectiveness compared to IID settings are minimal.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span>Dealing with Type 2 non-IID Data</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.5" class="ltx_p">To mitigate the effect of Type 2 non-IID data, we investigate three existing methods from the federated learning literature: Data-sharing, FedProx and FedPer. FedProx and FedPer have been described in Section <a href="#S5.SS3" title="5.3. Dealing with Type 1 non-IID Data ‣ 5. Type 1: Document preferences ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.3</span></a>.
Data-sharing was first proposed by <cite class="ltx_cite ltx_citemacro_citet">Zhao
et al<span class="ltx_text">.</span> (<a href="#bib.bib53" title="" class="ltx_ref">2018</a>)</cite>. They attribute the performance reduction observed on non-IID data to the weight divergence, which is further affected by the divergence between the local data distribution and the overall distribution. They then introduce a straightforward idea to improve FedAvg: slightly reduce the divergence that causes the global model to underperform. This can be achieved as follows. A globally shared dataset <math id="S6.SS3.p1.1.m1.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S6.SS3.p1.1.m1.1a"><mi id="S6.SS3.p1.1.m1.1.1" xref="S6.SS3.p1.1.m1.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.1.m1.1b"><ci id="S6.SS3.p1.1.m1.1.1.cmml" xref="S6.SS3.p1.1.m1.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.1.m1.1c">G</annotation></semantics></math> characterised by the overall data distribution is centralised on the server, and a warm-up global model is trained from <math id="S6.SS3.p1.2.m2.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S6.SS3.p1.2.m2.1a"><mi id="S6.SS3.p1.2.m2.1.1" xref="S6.SS3.p1.2.m2.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.2.m2.1b"><ci id="S6.SS3.p1.2.m2.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.2.m2.1c">G</annotation></semantics></math>. Then, a random <math id="S6.SS3.p1.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S6.SS3.p1.3.m3.1a"><mi id="S6.SS3.p1.3.m3.1.1" xref="S6.SS3.p1.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.3.m3.1b"><ci id="S6.SS3.p1.3.m3.1.1.cmml" xref="S6.SS3.p1.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.3.m3.1c">\alpha</annotation></semantics></math> proportion of <math id="S6.SS3.p1.4.m4.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S6.SS3.p1.4.m4.1a"><mi id="S6.SS3.p1.4.m4.1.1" xref="S6.SS3.p1.4.m4.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.4.m4.1b"><ci id="S6.SS3.p1.4.m4.1.1.cmml" xref="S6.SS3.p1.4.m4.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.4.m4.1c">G</annotation></semantics></math> is sent to all clients to update the local model by both local training data and the shared data from <math id="S6.SS3.p1.5.m5.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S6.SS3.p1.5.m5.1a"><mi id="S6.SS3.p1.5.m5.1.1" xref="S6.SS3.p1.5.m5.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.5.m5.1b"><ci id="S6.SS3.p1.5.m5.1.1.cmml" xref="S6.SS3.p1.5.m5.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.5.m5.1c">G</annotation></semantics></math>. Lastly, the server aggregates the local models from the clients and updates the global model with FedAvg. Experimental results on machine learning tasks show that data sharing can significantly enhance the global model performance in the presence of non-IID data. However, the shortcomings are also pronounced. It is challenging to collect uniformly distributed global datasets in real-world scenarios because either the global server needs some prior knowledge about the local data distributions or each client needs to share parts of the local data (violating the privacy requirement underlying FL).</p>
</div>
<div id="S6.SS3.p2" class="ltx_para">
<p id="S6.SS3.p2.4" class="ltx_p">Figure <a href="#S6.F7" title="Figure 7 ‣ 6.2. Impact of Type 2 non-IID Data ‣ 6. TYPE 2: Document label distribution skewness ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> reports the results for Data-sharing, FedProx and FedPer on MSLR-10k dataset under label distribution skewness <math id="S6.SS3.p2.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS3.p2.1.m1.1a"><mrow id="S6.SS3.p2.1.m1.1.1" xref="S6.SS3.p2.1.m1.1.1.cmml"><mrow id="S6.SS3.p2.1.m1.1.1.2" xref="S6.SS3.p2.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS3.p2.1.m1.1.1.2.2" xref="S6.SS3.p2.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS3.p2.1.m1.1.1.2.1" xref="S6.SS3.p2.1.m1.1.1.2.1.cmml">​</mo><mi id="S6.SS3.p2.1.m1.1.1.2.3" xref="S6.SS3.p2.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS3.p2.1.m1.1.1.1" xref="S6.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS3.p2.1.m1.1.1.3" xref="S6.SS3.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p2.1.m1.1b"><apply id="S6.SS3.p2.1.m1.1.1.cmml" xref="S6.SS3.p2.1.m1.1.1"><eq id="S6.SS3.p2.1.m1.1.1.1.cmml" xref="S6.SS3.p2.1.m1.1.1.1"></eq><apply id="S6.SS3.p2.1.m1.1.1.2.cmml" xref="S6.SS3.p2.1.m1.1.1.2"><times id="S6.SS3.p2.1.m1.1.1.2.1.cmml" xref="S6.SS3.p2.1.m1.1.1.2.1"></times><ci id="S6.SS3.p2.1.m1.1.1.2.2.cmml" xref="S6.SS3.p2.1.m1.1.1.2.2">#</ci><ci id="S6.SS3.p2.1.m1.1.1.2.3.cmml" xref="S6.SS3.p2.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS3.p2.1.m1.1.1.3.cmml" xref="S6.SS3.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p2.1.m1.1c">\#R=1</annotation></semantics></math>. We randomly select 10% of the entire dataset as the globally shared data and simulate <math id="S6.SS3.p2.2.m2.1" class="ltx_Math" alttext="|C|=5" display="inline"><semantics id="S6.SS3.p2.2.m2.1a"><mrow id="S6.SS3.p2.2.m2.1.2" xref="S6.SS3.p2.2.m2.1.2.cmml"><mrow id="S6.SS3.p2.2.m2.1.2.2.2" xref="S6.SS3.p2.2.m2.1.2.2.1.cmml"><mo stretchy="false" id="S6.SS3.p2.2.m2.1.2.2.2.1" xref="S6.SS3.p2.2.m2.1.2.2.1.1.cmml">|</mo><mi id="S6.SS3.p2.2.m2.1.1" xref="S6.SS3.p2.2.m2.1.1.cmml">C</mi><mo stretchy="false" id="S6.SS3.p2.2.m2.1.2.2.2.2" xref="S6.SS3.p2.2.m2.1.2.2.1.1.cmml">|</mo></mrow><mo id="S6.SS3.p2.2.m2.1.2.1" xref="S6.SS3.p2.2.m2.1.2.1.cmml">=</mo><mn id="S6.SS3.p2.2.m2.1.2.3" xref="S6.SS3.p2.2.m2.1.2.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p2.2.m2.1b"><apply id="S6.SS3.p2.2.m2.1.2.cmml" xref="S6.SS3.p2.2.m2.1.2"><eq id="S6.SS3.p2.2.m2.1.2.1.cmml" xref="S6.SS3.p2.2.m2.1.2.1"></eq><apply id="S6.SS3.p2.2.m2.1.2.2.1.cmml" xref="S6.SS3.p2.2.m2.1.2.2.2"><abs id="S6.SS3.p2.2.m2.1.2.2.1.1.cmml" xref="S6.SS3.p2.2.m2.1.2.2.2.1"></abs><ci id="S6.SS3.p2.2.m2.1.1.cmml" xref="S6.SS3.p2.2.m2.1.1">𝐶</ci></apply><cn type="integer" id="S6.SS3.p2.2.m2.1.2.3.cmml" xref="S6.SS3.p2.2.m2.1.2.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p2.2.m2.1c">|C|=5</annotation></semantics></math> clients with <math id="S6.SS3.p2.3.m3.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S6.SS3.p2.3.m3.1a"><mrow id="S6.SS3.p2.3.m3.1.1" xref="S6.SS3.p2.3.m3.1.1.cmml"><mi id="S6.SS3.p2.3.m3.1.1.2" xref="S6.SS3.p2.3.m3.1.1.2.cmml">B</mi><mo id="S6.SS3.p2.3.m3.1.1.1" xref="S6.SS3.p2.3.m3.1.1.1.cmml">=</mo><mn id="S6.SS3.p2.3.m3.1.1.3" xref="S6.SS3.p2.3.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p2.3.m3.1b"><apply id="S6.SS3.p2.3.m3.1.1.cmml" xref="S6.SS3.p2.3.m3.1.1"><eq id="S6.SS3.p2.3.m3.1.1.1.cmml" xref="S6.SS3.p2.3.m3.1.1.1"></eq><ci id="S6.SS3.p2.3.m3.1.1.2.cmml" xref="S6.SS3.p2.3.m3.1.1.2">𝐵</ci><cn type="integer" id="S6.SS3.p2.3.m3.1.1.3.cmml" xref="S6.SS3.p2.3.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p2.3.m3.1c">B=5</annotation></semantics></math> local updates before each global update.
Results show that the global performance can be significantly enhanced with data-sharing for both linear and neural rankers. On the other hand, neither FedProx nor FedPer provides statistically significant gains over the basic FPDGD on Type 2 non-IID data (with <math id="S6.SS3.p2.4.m4.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S6.SS3.p2.4.m4.1a"><mrow id="S6.SS3.p2.4.m4.1.1" xref="S6.SS3.p2.4.m4.1.1.cmml"><mrow id="S6.SS3.p2.4.m4.1.1.2" xref="S6.SS3.p2.4.m4.1.1.2.cmml"><mi mathvariant="normal" id="S6.SS3.p2.4.m4.1.1.2.2" xref="S6.SS3.p2.4.m4.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S6.SS3.p2.4.m4.1.1.2.1" xref="S6.SS3.p2.4.m4.1.1.2.1.cmml">​</mo><mi id="S6.SS3.p2.4.m4.1.1.2.3" xref="S6.SS3.p2.4.m4.1.1.2.3.cmml">R</mi></mrow><mo id="S6.SS3.p2.4.m4.1.1.1" xref="S6.SS3.p2.4.m4.1.1.1.cmml">=</mo><mn id="S6.SS3.p2.4.m4.1.1.3" xref="S6.SS3.p2.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p2.4.m4.1b"><apply id="S6.SS3.p2.4.m4.1.1.cmml" xref="S6.SS3.p2.4.m4.1.1"><eq id="S6.SS3.p2.4.m4.1.1.1.cmml" xref="S6.SS3.p2.4.m4.1.1.1"></eq><apply id="S6.SS3.p2.4.m4.1.1.2.cmml" xref="S6.SS3.p2.4.m4.1.1.2"><times id="S6.SS3.p2.4.m4.1.1.2.1.cmml" xref="S6.SS3.p2.4.m4.1.1.2.1"></times><ci id="S6.SS3.p2.4.m4.1.1.2.2.cmml" xref="S6.SS3.p2.4.m4.1.1.2.2">#</ci><ci id="S6.SS3.p2.4.m4.1.1.2.3.cmml" xref="S6.SS3.p2.4.m4.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S6.SS3.p2.4.m4.1.1.3.cmml" xref="S6.SS3.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p2.4.m4.1c">\#R=1</annotation></semantics></math>).</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Other Data Types</h2>

<section id="S7.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.1. </span>Type 3: Click Preferences</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p id="S7.SS1.p1.1" class="ltx_p">Next, we consider as a source of non-IID data the noise and biases caused by the different click preferences arising from different clients that participate in the FOLTR training; we term this type of non-IID data as <em id="S7.SS1.p1.1.1" class="ltx_emph ltx_font_italic">click preference skewness</em> (Type 3).</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p id="S7.SS1.p2.3" class="ltx_p">The mechanism to emulate non-IID data of Type 3 and IID data baseline in our FOLTR experiments is as follows.
We study two widely used click models: the <em id="S7.SS1.p2.3.1" class="ltx_emph ltx_font_italic">Simplified Dynamic Bayesian Network</em> (SDBN) click model <cite class="ltx_cite ltx_citemacro_citep">(Chapelle and
Zhang, <a href="#bib.bib8" title="" class="ltx_ref">2009</a>)</cite> and the <em id="S7.SS1.p2.3.2" class="ltx_emph ltx_font_italic">Position-Based Model</em> (PBM) <cite class="ltx_cite ltx_citemacro_citep">(Craswell
et al<span class="ltx_text">.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2008</a>)</cite>. For non-IID settings in SDBN, each client chooses one of three widely-used instantiations of SDBN, namely <em id="S7.SS1.p2.3.3" class="ltx_emph ltx_font_italic">perfect, navigational, informational</em>. For the non-IID settings with PBM, we generate 5 instantiations based on varying the <math id="S7.SS1.p2.1.m1.5" class="ltx_Math" alttext="\eta\in\{0,0.5,1,1.5,2\}" display="inline"><semantics id="S7.SS1.p2.1.m1.5a"><mrow id="S7.SS1.p2.1.m1.5.6" xref="S7.SS1.p2.1.m1.5.6.cmml"><mi id="S7.SS1.p2.1.m1.5.6.2" xref="S7.SS1.p2.1.m1.5.6.2.cmml">η</mi><mo id="S7.SS1.p2.1.m1.5.6.1" xref="S7.SS1.p2.1.m1.5.6.1.cmml">∈</mo><mrow id="S7.SS1.p2.1.m1.5.6.3.2" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml"><mo stretchy="false" id="S7.SS1.p2.1.m1.5.6.3.2.1" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">{</mo><mn id="S7.SS1.p2.1.m1.1.1" xref="S7.SS1.p2.1.m1.1.1.cmml">0</mn><mo id="S7.SS1.p2.1.m1.5.6.3.2.2" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">,</mo><mn id="S7.SS1.p2.1.m1.2.2" xref="S7.SS1.p2.1.m1.2.2.cmml">0.5</mn><mo id="S7.SS1.p2.1.m1.5.6.3.2.3" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">,</mo><mn id="S7.SS1.p2.1.m1.3.3" xref="S7.SS1.p2.1.m1.3.3.cmml">1</mn><mo id="S7.SS1.p2.1.m1.5.6.3.2.4" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">,</mo><mn id="S7.SS1.p2.1.m1.4.4" xref="S7.SS1.p2.1.m1.4.4.cmml">1.5</mn><mo id="S7.SS1.p2.1.m1.5.6.3.2.5" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">,</mo><mn id="S7.SS1.p2.1.m1.5.5" xref="S7.SS1.p2.1.m1.5.5.cmml">2</mn><mo stretchy="false" id="S7.SS1.p2.1.m1.5.6.3.2.6" xref="S7.SS1.p2.1.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.1.m1.5b"><apply id="S7.SS1.p2.1.m1.5.6.cmml" xref="S7.SS1.p2.1.m1.5.6"><in id="S7.SS1.p2.1.m1.5.6.1.cmml" xref="S7.SS1.p2.1.m1.5.6.1"></in><ci id="S7.SS1.p2.1.m1.5.6.2.cmml" xref="S7.SS1.p2.1.m1.5.6.2">𝜂</ci><set id="S7.SS1.p2.1.m1.5.6.3.1.cmml" xref="S7.SS1.p2.1.m1.5.6.3.2"><cn type="integer" id="S7.SS1.p2.1.m1.1.1.cmml" xref="S7.SS1.p2.1.m1.1.1">0</cn><cn type="float" id="S7.SS1.p2.1.m1.2.2.cmml" xref="S7.SS1.p2.1.m1.2.2">0.5</cn><cn type="integer" id="S7.SS1.p2.1.m1.3.3.cmml" xref="S7.SS1.p2.1.m1.3.3">1</cn><cn type="float" id="S7.SS1.p2.1.m1.4.4.cmml" xref="S7.SS1.p2.1.m1.4.4">1.5</cn><cn type="integer" id="S7.SS1.p2.1.m1.5.5.cmml" xref="S7.SS1.p2.1.m1.5.5">2</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.1.m1.5c">\eta\in\{0,0.5,1,1.5,2\}</annotation></semantics></math> parameter: each client is represented by one click type. Thus the federated setup involves 3 clients for SDBN clicks and 5 for PBM. We set the local updating time <math id="S7.SS1.p2.2.m2.1" class="ltx_Math" alttext="B=5" display="inline"><semantics id="S7.SS1.p2.2.m2.1a"><mrow id="S7.SS1.p2.2.m2.1.1" xref="S7.SS1.p2.2.m2.1.1.cmml"><mi id="S7.SS1.p2.2.m2.1.1.2" xref="S7.SS1.p2.2.m2.1.1.2.cmml">B</mi><mo id="S7.SS1.p2.2.m2.1.1.1" xref="S7.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S7.SS1.p2.2.m2.1.1.3" xref="S7.SS1.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.2.m2.1b"><apply id="S7.SS1.p2.2.m2.1.1.cmml" xref="S7.SS1.p2.2.m2.1.1"><eq id="S7.SS1.p2.2.m2.1.1.1.cmml" xref="S7.SS1.p2.2.m2.1.1.1"></eq><ci id="S7.SS1.p2.2.m2.1.1.2.cmml" xref="S7.SS1.p2.2.m2.1.1.2">𝐵</ci><cn type="integer" id="S7.SS1.p2.2.m2.1.1.3.cmml" xref="S7.SS1.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.2.m2.1c">B=5</annotation></semantics></math> with fixed global communication times <math id="S7.SS1.p2.3.m3.2" class="ltx_Math" alttext="T=10,000" display="inline"><semantics id="S7.SS1.p2.3.m3.2a"><mrow id="S7.SS1.p2.3.m3.2.3" xref="S7.SS1.p2.3.m3.2.3.cmml"><mi id="S7.SS1.p2.3.m3.2.3.2" xref="S7.SS1.p2.3.m3.2.3.2.cmml">T</mi><mo id="S7.SS1.p2.3.m3.2.3.1" xref="S7.SS1.p2.3.m3.2.3.1.cmml">=</mo><mrow id="S7.SS1.p2.3.m3.2.3.3.2" xref="S7.SS1.p2.3.m3.2.3.3.1.cmml"><mn id="S7.SS1.p2.3.m3.1.1" xref="S7.SS1.p2.3.m3.1.1.cmml">10</mn><mo id="S7.SS1.p2.3.m3.2.3.3.2.1" xref="S7.SS1.p2.3.m3.2.3.3.1.cmml">,</mo><mn id="S7.SS1.p2.3.m3.2.2" xref="S7.SS1.p2.3.m3.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.3.m3.2b"><apply id="S7.SS1.p2.3.m3.2.3.cmml" xref="S7.SS1.p2.3.m3.2.3"><eq id="S7.SS1.p2.3.m3.2.3.1.cmml" xref="S7.SS1.p2.3.m3.2.3.1"></eq><ci id="S7.SS1.p2.3.m3.2.3.2.cmml" xref="S7.SS1.p2.3.m3.2.3.2">𝑇</ci><list id="S7.SS1.p2.3.m3.2.3.3.1.cmml" xref="S7.SS1.p2.3.m3.2.3.3.2"><cn type="integer" id="S7.SS1.p2.3.m3.1.1.cmml" xref="S7.SS1.p2.3.m3.1.1">10</cn><cn type="integer" id="S7.SS1.p2.3.m3.2.2.cmml" xref="S7.SS1.p2.3.m3.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.3.m3.2c">T=10,000</annotation></semantics></math>. In the IID setting, at every time, each client is simulated based on a click model randomly picked from all click models instantiations detailed above and used in the non-IID setting; this provides a fair comparison between the IID and non-IID settings. We experiment on MSLR-WEB10k, Yahoo and Istella-S.</p>
</div>
<div id="S7.SS1.p3" class="ltx_para">
<p id="S7.SS1.p3.1" class="ltx_p">For both online and offline performance, and all datasets, our experimental results show that the difference between non-IID and IID data for Type 3 is not significant; for further details we refer the reader to the Appendix in this paper and the online appendix at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</p>
</div>
</section>
<section id="S7.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.2. </span>Type 4: Data Quantity</h3>

<div id="S7.SS2.p1" class="ltx_para">
<p id="S7.SS2.p1.1" class="ltx_p">Finally, we consider the case of <em id="S7.SS2.p1.1.1" class="ltx_emph ltx_font_italic">data quantity skewness</em> (Type 4); this occurs when the number of training data varies across different clients. It is a common scenario in real-world applications. For example, in FOLTR, some clients tend to issue more queries and interact more with the searching system than others. Thus, they have more data for training than others.
The situation represented by Type 4 may occur in combination with the other data types. In our empirical experiments, we have studied Type 4 data both on its own and combined with the document preferences skew (Type 1) and the document label distribution skew with <math id="S7.SS2.p1.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S7.SS2.p1.1.m1.1a"><mrow id="S7.SS2.p1.1.m1.1.1" xref="S7.SS2.p1.1.m1.1.1.cmml"><mrow id="S7.SS2.p1.1.m1.1.1.2" xref="S7.SS2.p1.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S7.SS2.p1.1.m1.1.1.2.2" xref="S7.SS2.p1.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S7.SS2.p1.1.m1.1.1.2.1" xref="S7.SS2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S7.SS2.p1.1.m1.1.1.2.3" xref="S7.SS2.p1.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S7.SS2.p1.1.m1.1.1.1" xref="S7.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S7.SS2.p1.1.m1.1.1.3" xref="S7.SS2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.1.m1.1b"><apply id="S7.SS2.p1.1.m1.1.1.cmml" xref="S7.SS2.p1.1.m1.1.1"><eq id="S7.SS2.p1.1.m1.1.1.1.cmml" xref="S7.SS2.p1.1.m1.1.1.1"></eq><apply id="S7.SS2.p1.1.m1.1.1.2.cmml" xref="S7.SS2.p1.1.m1.1.1.2"><times id="S7.SS2.p1.1.m1.1.1.2.1.cmml" xref="S7.SS2.p1.1.m1.1.1.2.1"></times><ci id="S7.SS2.p1.1.m1.1.1.2.2.cmml" xref="S7.SS2.p1.1.m1.1.1.2.2">#</ci><ci id="S7.SS2.p1.1.m1.1.1.2.3.cmml" xref="S7.SS2.p1.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S7.SS2.p1.1.m1.1.1.3.cmml" xref="S7.SS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.1.m1.1c">\#R=1</annotation></semantics></math> (Type 2).</p>
</div>
<div id="S7.SS2.p2" class="ltx_para">
<p id="S7.SS2.p2.3" class="ltx_p">Type 4 data is simulated by assigning different numbers of queries (<math id="S7.SS2.p2.1.m1.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S7.SS2.p2.1.m1.1a"><mi id="S7.SS2.p2.1.m1.1.1" xref="S7.SS2.p2.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p2.1.m1.1b"><ci id="S7.SS2.p2.1.m1.1.1.cmml" xref="S7.SS2.p2.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p2.1.m1.1c">Q</annotation></semantics></math>) to each client during the same local updating period, thus leading to different local updating times for each client. The number of queries varies in {1, 3, 5, 7, 9} and we simulate <math id="S7.SS2.p2.2.m2.1" class="ltx_Math" alttext="|C|=5" display="inline"><semantics id="S7.SS2.p2.2.m2.1a"><mrow id="S7.SS2.p2.2.m2.1.2" xref="S7.SS2.p2.2.m2.1.2.cmml"><mrow id="S7.SS2.p2.2.m2.1.2.2.2" xref="S7.SS2.p2.2.m2.1.2.2.1.cmml"><mo stretchy="false" id="S7.SS2.p2.2.m2.1.2.2.2.1" xref="S7.SS2.p2.2.m2.1.2.2.1.1.cmml">|</mo><mi id="S7.SS2.p2.2.m2.1.1" xref="S7.SS2.p2.2.m2.1.1.cmml">C</mi><mo stretchy="false" id="S7.SS2.p2.2.m2.1.2.2.2.2" xref="S7.SS2.p2.2.m2.1.2.2.1.1.cmml">|</mo></mrow><mo id="S7.SS2.p2.2.m2.1.2.1" xref="S7.SS2.p2.2.m2.1.2.1.cmml">=</mo><mn id="S7.SS2.p2.2.m2.1.2.3" xref="S7.SS2.p2.2.m2.1.2.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS2.p2.2.m2.1b"><apply id="S7.SS2.p2.2.m2.1.2.cmml" xref="S7.SS2.p2.2.m2.1.2"><eq id="S7.SS2.p2.2.m2.1.2.1.cmml" xref="S7.SS2.p2.2.m2.1.2.1"></eq><apply id="S7.SS2.p2.2.m2.1.2.2.1.cmml" xref="S7.SS2.p2.2.m2.1.2.2.2"><abs id="S7.SS2.p2.2.m2.1.2.2.1.1.cmml" xref="S7.SS2.p2.2.m2.1.2.2.2.1"></abs><ci id="S7.SS2.p2.2.m2.1.1.cmml" xref="S7.SS2.p2.2.m2.1.1">𝐶</ci></apply><cn type="integer" id="S7.SS2.p2.2.m2.1.2.3.cmml" xref="S7.SS2.p2.2.m2.1.2.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p2.2.m2.1c">|C|=5</annotation></semantics></math> clients in total with fixed global communication times <math id="S7.SS2.p2.3.m3.2" class="ltx_Math" alttext="T=10,000" display="inline"><semantics id="S7.SS2.p2.3.m3.2a"><mrow id="S7.SS2.p2.3.m3.2.3" xref="S7.SS2.p2.3.m3.2.3.cmml"><mi id="S7.SS2.p2.3.m3.2.3.2" xref="S7.SS2.p2.3.m3.2.3.2.cmml">T</mi><mo id="S7.SS2.p2.3.m3.2.3.1" xref="S7.SS2.p2.3.m3.2.3.1.cmml">=</mo><mrow id="S7.SS2.p2.3.m3.2.3.3.2" xref="S7.SS2.p2.3.m3.2.3.3.1.cmml"><mn id="S7.SS2.p2.3.m3.1.1" xref="S7.SS2.p2.3.m3.1.1.cmml">10</mn><mo id="S7.SS2.p2.3.m3.2.3.3.2.1" xref="S7.SS2.p2.3.m3.2.3.3.1.cmml">,</mo><mn id="S7.SS2.p2.3.m3.2.2" xref="S7.SS2.p2.3.m3.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS2.p2.3.m3.2b"><apply id="S7.SS2.p2.3.m3.2.3.cmml" xref="S7.SS2.p2.3.m3.2.3"><eq id="S7.SS2.p2.3.m3.2.3.1.cmml" xref="S7.SS2.p2.3.m3.2.3.1"></eq><ci id="S7.SS2.p2.3.m3.2.3.2.cmml" xref="S7.SS2.p2.3.m3.2.3.2">𝑇</ci><list id="S7.SS2.p2.3.m3.2.3.3.1.cmml" xref="S7.SS2.p2.3.m3.2.3.3.2"><cn type="integer" id="S7.SS2.p2.3.m3.1.1.cmml" xref="S7.SS2.p2.3.m3.1.1">10</cn><cn type="integer" id="S7.SS2.p2.3.m3.2.2.cmml" xref="S7.SS2.p2.3.m3.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p2.3.m3.2c">T=10,000</annotation></semantics></math>. Experiments are carried out on MSLR-WEB10k, Yahoo and Istella-S.</p>
</div>
<div id="S7.SS2.p3" class="ltx_para">
<p id="S7.SS2.p3.1" class="ltx_p">When mixing other non-IID types with Type 4, we follow the same experimental settings of previous non-IID types, and we also assign different numbers of queries to each client (from {1, 3, 5, 7, 9}) during the same local updating period. Instead, in the IID simulation, each client has 5 iterations of searching for different queries. For both IID and non-IID, we use SDBN click models for click simulation and train a linear ranker using FPDGD on MSLR-WEB10k for Type 1 with <math id="S7.SS2.p3.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="S7.SS2.p3.1.m1.1a"><mrow id="S7.SS2.p3.1.m1.1.1" xref="S7.SS2.p3.1.m1.1.1.cmml"><mrow id="S7.SS2.p3.1.m1.1.1.2" xref="S7.SS2.p3.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S7.SS2.p3.1.m1.1.1.2.2" xref="S7.SS2.p3.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S7.SS2.p3.1.m1.1.1.2.1" xref="S7.SS2.p3.1.m1.1.1.2.1.cmml">​</mo><mi id="S7.SS2.p3.1.m1.1.1.2.3" xref="S7.SS2.p3.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="S7.SS2.p3.1.m1.1.1.1" xref="S7.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="S7.SS2.p3.1.m1.1.1.3" xref="S7.SS2.p3.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS2.p3.1.m1.1b"><apply id="S7.SS2.p3.1.m1.1.1.cmml" xref="S7.SS2.p3.1.m1.1.1"><eq id="S7.SS2.p3.1.m1.1.1.1.cmml" xref="S7.SS2.p3.1.m1.1.1.1"></eq><apply id="S7.SS2.p3.1.m1.1.1.2.cmml" xref="S7.SS2.p3.1.m1.1.1.2"><times id="S7.SS2.p3.1.m1.1.1.2.1.cmml" xref="S7.SS2.p3.1.m1.1.1.2.1"></times><ci id="S7.SS2.p3.1.m1.1.1.2.2.cmml" xref="S7.SS2.p3.1.m1.1.1.2.2">#</ci><ci id="S7.SS2.p3.1.m1.1.1.2.3.cmml" xref="S7.SS2.p3.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="S7.SS2.p3.1.m1.1.1.3.cmml" xref="S7.SS2.p3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p3.1.m1.1c">\#R=1</annotation></semantics></math>, and the dataset from <cite class="ltx_cite ltx_citemacro_citet">Zhuang and Zuccon (<a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> for Type 2.</p>
</div>
<div id="S7.SS2.p4" class="ltx_para">
<p id="S7.SS2.p4.1" class="ltx_p">Empirical results<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>In the Appendix in this paper and in the online appendix at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</span></span></span> show that if data is distributed in a non-IID manner across clients according to Type 4, the effectiveness of FPDGD is not impacted. We stress that this result may be specific to FPDGD because it uses the FedAvg paradigm and does not generalise to other FOLTR methods.</p>
</div>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8. </span>Outlook and Discussion</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">In this paper, we provide a new perspective on the problem of data distribution across clients for federated online learning to rank. Next, we summarise the our key findings and draw directions for future research.</p>
</div>
<div id="S8.p2" class="ltx_para">
<p id="S8.p2.1" class="ltx_p"><span id="S8.p2.1.1" class="ltx_text ltx_font_bold">Impact of non-IID data. </span>We found that the presence of non-IID characteristics in the distribution of document preferences (Type 1) and specific cases of document labels (Type 2) have severe effects on the effectiveness of FPDGD. Conversely, if data is distributed across clients in a non-IID manner concerning click preferences (Type 3) or data quantity (Type 4), no significant effects on the quality of FPDGD are observed. These findings contribute an understanding of under which data distributions it is safe to use FOLTR and when it is not. We believe this paper will encourage researchers to include non-IID data settings when evaluating new FOLTR methods.</p>
</div>
<div id="S8.p3" class="ltx_para">
<p id="S8.p3.1" class="ltx_p"><span id="S8.p3.1.1" class="ltx_text ltx_font_bold">Calling for FOLTR methods to address non-IID issues. </span>Our paper charts directions to direct future work on non-IID data in FOLTR concerning the creation of techniques that provide remedies to Type 1 and 2, while deeming solutions for Type 3 and 4 data less critical. Importantly, we show that existing solutions employed in general federated learning to mitigate the non-IID data problem do not apply to the FOLTR setting, despite some of these non-IID cases (and especially Type 1) being likely to occur across many FOLTR systems. Thus, researching how to address non-IID data in FOLTR is a worthwhile area of investigation.</p>
</div>
<div id="S8.p4" class="ltx_para">
<p id="S8.p4.1" class="ltx_p"><span id="S8.p4.1.1" class="ltx_text ltx_font_bold">Privacy should be a high priority when dealing with non-IID data. </span>Our analysis found that only the data-sharing technique could address to significant extents Type 2 non-IID data. However, this and similar methods, although performing well, require the prior knowledge about the users’ local data distributions – and thus require users to share private data, largely defeating the purpose of federated learning.
We note that recent work has considered the sharing of synthetic, rather than real, data <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2021b</a>)</cite>. In such a setting, real data would be used by each client to generate synthetic data, and the synthetic data only would be shared in the federation. However, we could not find evidence of the loss in effectiveness associated with the use of synthetic rather than real data in the data-sharing scheme. Furthermore, it is unclear what the privacy guarantees are in such a synthetic data sharing scheme. Specifically, we wonder whether the use of synthetic data could jeopardise privacy as this synthetic data is generated from the real data: thus analysis of the synthetic data may reveal key aspects of and information contained in the real data.
Thus, how to guarantee user’s privacy needs when designing effective FOLTR algorithms on non-IID data is still an open question.</p>
</div>
<div id="S8.p5" class="ltx_para">
<p id="S8.p5.1" class="ltx_p"><span id="S8.p5.1.1" class="ltx_text ltx_font_bold">Real-world datasets and benchmarks for FOLTR with non-IID data are need. </span>The experiments put forward in this perspective paper to substantiate our views on the non-IID data problem in FOLTR are based on simulations. While simulations are prevalent in information retrieval and especially in its evaluation <cite class="ltx_cite ltx_citemacro_citep">(Cooper, <a href="#bib.bib10" title="" class="ltx_ref">1973</a>; Azzopardi, <a href="#bib.bib3" title="" class="ltx_ref">2016</a>; Maxwell and
Azzopardi, <a href="#bib.bib29" title="" class="ltx_ref">2016</a>; Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib52" title="" class="ltx_ref">2017</a>; Balog et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2021</a>)</cite>, a key aspect we had to simulate was the nature of the non-IID data, including their distributions. On one hand, this allows us to carefully control the experiments; on the other it limits the generalisability of the findings to real non-IID data that may occur in FOLTR settings. We therefore want to conclude with a call for action for information retrieval practitioners in this area: there is the pressing need for FOLTR benchmark datasets that provide standard simulations on real-world non-IID scenarios as well as standard hyper-parameter settings so that future FOLTR algorithms can be fairly studied.</p>
</div>
</section>
<section id="S9" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">9. </span>Conclusion</h2>

<div id="S9.p1" class="ltx_para">
<p id="S9.p1.1" class="ltx_p">The goal of FOLTR is to learn an effective ranker in a federated (without the need for searchable and interaction data to reside on a central server) and online (by exploiting users clicks on SERPs as they occur) manner. In such a FOLTR setup, user data and interactions reside with the user’s client, and not in a central server. Clients then do not need to share such data. Instead, they only share ranker updates with a central server whose responsibility is to collect such updates from the clients and aggregate them into a global model. The global model is then pushed back to the clients in an iterative manner as search interactions occur.</p>
</div>
<div id="S9.p2" class="ltx_para">
<p id="S9.p2.1" class="ltx_p">Despite federated learning receiving substantial attention, research in FOLTR is still in its early stages, with only two methods available at the time of writing <cite class="ltx_cite ltx_citemacro_citep">(Kharitonov, <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>. Importantly, studies that have proposed FOLTR methods have ignored an important issue that has been shown to affect the performance of federated learning systems <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>: that of the data not being distributed across the federated clients in an identical and independent manner (non-IID data). This paper provides the first analysis of the impact of non-IID data on FOLTR and it charts directions for future research. Our findings and observations may be valid also in other contexts that consider to create a ranker from interaction data in a federated manner, e.g., in federated counterfactual leaning to rank <cite class="ltx_cite ltx_citemacro_citep">(Li and Ouyang, <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S9.p3" class="ltx_para">
<p id="S9.p3.1" class="ltx_p">We make code, experimental details and results available at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
We would like to thank the anonymous reviewers for their insightful feedback in further shaping the paper. We would also like to thank Dr Bevan Koopman and Dr Harrisen Scells for their thoughtful comments on earlier drafts of this paper.

</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">        




</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arivazhagan et al<span id="bib.bib2.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Manoj Ghuhan Arivazhagan,
Vinay Aggarwal, Aaditya Kumar Singh,
and Sunav Choudhary. 2019.

</span>
<span class="ltx_bibblock">Federated learning with personalization layers.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1912.00818</em>
(2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azzopardi (2016)</span>
<span class="ltx_bibblock">
Leif Azzopardi.
2016.

</span>
<span class="ltx_bibblock">Simulation of interaction: A tutorial on modelling
and simulating user interaction and search behaviour. In
<em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 39th International ACM SIGIR
conference on Research and Development in Information Retrieval</em>.
1227–1230.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Balog et al<span id="bib.bib4.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Krisztian Balog, David
Maxwell, Paul Thomas, Shuo Zhang, and
Bloomberg London. 2021.

</span>
<span class="ltx_bibblock">Report on the 1st Simulation for Information
Retrieval Workshop (Sim4IR 2021) at SIGIR 2021.

</span>
<span class="ltx_bibblock">(2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bennett et al<span id="bib.bib5.2.2.1" class="ltx_text">.</span> (2012)</span>
<span class="ltx_bibblock">
Paul N Bennett, Ryen W
White, Wei Chu, Susan T Dumais,
Peter Bailey, Fedor Borisyuk, and
Xiaoyuan Cui. 2012.

</span>
<span class="ltx_bibblock">Modeling the impact of short-and long-term behavior
on search personalization. In <em id="bib.bib5.3.1" class="ltx_emph ltx_font_italic">International ACM
SIGIR Conference on Research and Development in Information Retrieval</em>.
185–194.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carman
et al<span id="bib.bib6.2.2.1" class="ltx_text">.</span> (2010)</span>
<span class="ltx_bibblock">
Mark J Carman, Fabio
Crestani, Morgan Harvey, and Mark
Baillie. 2010.

</span>
<span class="ltx_bibblock">Towards query log based personalization using topic
models. In <em id="bib.bib6.3.1" class="ltx_emph ltx_font_italic">International Conference on Information
and Knowledge Management</em>. 1849–1852.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chapelle and
Chang (2011)</span>
<span class="ltx_bibblock">
Olivier Chapelle and Yi
Chang. 2011.

</span>
<span class="ltx_bibblock">Yahoo! learning to rank challenge overview. In
<em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Yahoo! Learning to Rank
Challenge</em>. PMLR, 1–24.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chapelle and
Zhang (2009)</span>
<span class="ltx_bibblock">
Olivier Chapelle and Ya
Zhang. 2009.

</span>
<span class="ltx_bibblock">A dynamic bayesian network click model for web
search ranking. In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">International Conference on
World Wide Web</em>. 1–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clarke
et al<span id="bib.bib9.2.2.1" class="ltx_text">.</span> (2012)</span>
<span class="ltx_bibblock">
Charles L Clarke, Nick
Craswell, and Ellen M Voorhees.
2012.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.3.1" class="ltx_emph ltx_font_italic">Overview of the TREC 2012 web track</em>.

</span>
<span class="ltx_bibblock">Technical Report.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cooper (1973)</span>
<span class="ltx_bibblock">
Michael D Cooper.
1973.

</span>
<span class="ltx_bibblock">A simulation model of an information retrieval
system.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Information Storage and Retrieval</em>
9, 1 (1973),
13–32.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Craswell
et al<span id="bib.bib11.2.2.1" class="ltx_text">.</span> (2008)</span>
<span class="ltx_bibblock">
Nick Craswell, Onno
Zoeter, Michael Taylor, and Bill
Ramsey. 2008.

</span>
<span class="ltx_bibblock">An experimental comparison of click position-bias
models. In <em id="bib.bib11.3.1" class="ltx_emph ltx_font_italic">International Conference on Web Search
and Data Mining</em>. 87–94.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Duan et al<span id="bib.bib12.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Moming Duan, Duo Liu,
Xianzhang Chen, Yujuan Tan,
Jinting Ren, Lei Qiao, and
Liang Liang. 2019.

</span>
<span class="ltx_bibblock">Astraea: Self-balancing federated learning for
improving classification accuracy of mobile deep learning applications. In
<em id="bib.bib12.3.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Computer
Design</em>. IEEE, 246–254.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fallah
et al<span id="bib.bib13.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Alireza Fallah, Aryan
Mokhtari, and Asuman Ozdaglar.
2020.

</span>
<span class="ltx_bibblock">Personalized federated learning with theoretical
guarantees: A model-agnostic meta-learning approach.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing
Systems</em> 33 (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ge
et al<span id="bib.bib14.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Songwei Ge, Zhicheng Dou,
Zhengbao Jiang, Jian-Yun Nie, and
Ji-Rong Wen. 2018.

</span>
<span class="ltx_bibblock">Personalizing search results using hierarchical RNN
with query-aware attention. In <em id="bib.bib14.3.1" class="ltx_emph ltx_font_italic">International
Conference on Information and Knowledge Management</em>.
347–356.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghorab
et al<span id="bib.bib15.2.2.1" class="ltx_text">.</span> (2013)</span>
<span class="ltx_bibblock">
M Rami Ghorab, Dong Zhou,
Alexander O’connor, and Vincent Wade.
2013.

</span>
<span class="ltx_bibblock">Personalised information retrieval: survey and
classification.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.3.1" class="ltx_emph ltx_font_italic">User Modeling and User-Adapted Interaction</em>
23, 4 (2013),
381–443.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh
et al<span id="bib.bib16.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Avishek Ghosh, Jichan
Chung, Dong Yin, and Kannan
Ramchandran. 2020.

</span>
<span class="ltx_bibblock">An efficient framework for clustered federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2006.04088</em>
(2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hartmann et al<span id="bib.bib17.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Florian Hartmann, Sunah
Suh, Arkadiusz Komarzewski, Tim D Smith,
and Ilana Segall. 2019.

</span>
<span class="ltx_bibblock">Federated learning for ranking browser history
suggestions.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1911.11807</em>
(2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Harvey
et al<span id="bib.bib18.2.2.1" class="ltx_text">.</span> (2013)</span>
<span class="ltx_bibblock">
Morgan Harvey, Fabio
Crestani, and Mark J Carman.
2013.

</span>
<span class="ltx_bibblock">Building user profiles from topic models for
personalised search. In <em id="bib.bib18.3.1" class="ltx_emph ltx_font_italic">International Conference
on Information and Knowledge Management</em>. 2309–2314.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hofmann (2013)</span>
<span class="ltx_bibblock">
Katja Hofmann.
2013.

</span>
<span class="ltx_bibblock">Fast and reliable online learning to rank for
information retrieval. In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">ACM SIGIR Forum</em>,
Vol. 47. ACM New York, NY, USA, 140–140.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jagerman
et al<span id="bib.bib20.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Rolf Jagerman, Harrie
Oosterhuis, and Maarten de Rijke.
2019.

</span>
<span class="ltx_bibblock">To model or to intervene: A comparison of
counterfactual and online learning to rank from user interactions. In
<em id="bib.bib20.3.1" class="ltx_emph ltx_font_italic">International ACM SIGIR Conference on Research and
Development in Information Retrieval</em>. 15–24.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz
et al<span id="bib.bib21.3.3.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan
McMahan, Brendan Avent, Aurélien
Bellet, Mehdi Bennis, Arjun Nitin
Bhagoji, Kallista Bonawitz, Zachary
Charles, Graham Cormode, Rachel
Cummings, et al<span id="bib.bib21.4.1" class="ltx_text">.</span> 2021.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.5.1" class="ltx_emph ltx_font_italic">Foundations and Trends® in
Machine Learning</em> 14, 1–2
(2021), 1–210.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kharitonov (2019)</span>
<span class="ltx_bibblock">
Eugene Kharitonov.
2019.

</span>
<span class="ltx_bibblock">Federated online learning to rank with evolution
strategies. In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">International Conference on Web
Search and Data Mining</em>. 249–257.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lalitha et al<span id="bib.bib23.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Anusha Lalitha,
Osman Cihan Kilinc, Tara Javidi, and
Farinaz Koushanfar. 2019.

</span>
<span class="ltx_bibblock">Peer-to-peer federated learning on graphs.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1901.11173</em>
(2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li and Ouyang (2021)</span>
<span class="ltx_bibblock">
Chang Li and Hua
Ouyang. 2021.

</span>
<span class="ltx_bibblock">Federated Unbiased Learning to Rank.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2105.04761</em>
(2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li
et al<span id="bib.bib25.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Qinbin Li, Yiqun Diao,
Quan Chen, and Bingsheng He.
2022.

</span>
<span class="ltx_bibblock">Federated Learning on Non-IID Data Silos: An
Experimental Study. In <em id="bib.bib25.3.1" class="ltx_emph ltx_font_italic">IEEE International
Conference on Data Engineering</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span id="bib.bib26.2.2.1" class="ltx_text">.</span> (2020b)</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu,
Manzil Zaheer, Maziar Sanjabi,
Ameet Talwalkar, and Virginia Smith.
2020b.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.3.1" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning and Systems</em>
2 (2020), 429–450.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li
et al<span id="bib.bib27.2.2.1" class="ltx_text">.</span> (2020a)</span>
<span class="ltx_bibblock">
Xiang Li, Kaixuan Huang,
Wenhao Yang, Shusen Wang, and
Zhihua Zhang. 2020a.

</span>
<span class="ltx_bibblock">On the Convergence of FedAvg on Non-IID Data. In
<em id="bib.bib27.3.1" class="ltx_emph ltx_font_italic">8th International Conference on Learning
Representations</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lucchese et al<span id="bib.bib28.2.2.1" class="ltx_text">.</span> (2016)</span>
<span class="ltx_bibblock">
Claudio Lucchese,
Franco Maria Nardini, Salvatore Orlando,
Raffaele Perego, Fabrizio Silvestri,
and Salvatore Trani. 2016.

</span>
<span class="ltx_bibblock">Post-learning optimization of tree ensembles for
efficient ranking. In <em id="bib.bib28.3.1" class="ltx_emph ltx_font_italic">International ACM SIGIR
Conference on Research and Development in Information Retrieval</em>.
949–952.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Maxwell and
Azzopardi (2016)</span>
<span class="ltx_bibblock">
David Maxwell and Leif
Azzopardi. 2016.

</span>
<span class="ltx_bibblock">Simulating interactive information retrieval:
Simiir: A framework for the simulation of interaction. In
<em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 39th International ACM SIGIR
conference on Research and Development in Information Retrieval</em>.
1141–1144.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al<span id="bib.bib30.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider
Moore, Daniel Ramage, Seth Hampson,
and Blaise Aguera y Arcas.
2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks
from decentralized data. In <em id="bib.bib30.3.1" class="ltx_emph ltx_font_italic">International
Conference on Artificial Intelligence and Statistics</em>. PMLR,
1273–1282.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Narang et al<span id="bib.bib31.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Kanika Narang, Susan T
Dumais, Nick Craswell, Dan Liebling,
and Qingyao Ai. 2017.

</span>
<span class="ltx_bibblock">Large-scale analysis of email search and
organizational strategies. In <em id="bib.bib31.3.1" class="ltx_emph ltx_font_italic">ACM SIGIR Conference
on Human Information Interaction and Retrieval</em>. 215–223.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oosterhuis and
de Rijke (2018)</span>
<span class="ltx_bibblock">
Harrie Oosterhuis and
Maarten de Rijke. 2018.

</span>
<span class="ltx_bibblock">Differentiable unbiased online learning to rank.
In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">International Conference on Information and
Knowledge Management</em>. 1293–1302.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oosterhuis and
de Rijke (2021)</span>
<span class="ltx_bibblock">
Harrie Oosterhuis and
Maarten de Rijke. 2021.

</span>
<span class="ltx_bibblock">Unifying Online and Counterfactual Learning to
Rank: A Novel Counterfactual Estimator that Effectively Utilizes Online
Interventions. In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">International Conference on Web
Search and Data Mining</em>. 463–471.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oosterhuis
et al<span id="bib.bib34.2.2.1" class="ltx_text">.</span> (2016)</span>
<span class="ltx_bibblock">
Harrie Oosterhuis, Anne
Schuth, and Maarten de Rijke.
2016.

</span>
<span class="ltx_bibblock">Probabilistic multileave gradient descent. In
<em id="bib.bib34.3.1" class="ltx_emph ltx_font_italic">European Conference on Information Retrieval</em>.
Springer, 661–668.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin and Liu (2013)</span>
<span class="ltx_bibblock">
Tao Qin and Tie-Yan
Liu. 2013.

</span>
<span class="ltx_bibblock">Introducing LETOR 4.0 datasets.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1306.2597</em>
(2013).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roberts et al<span id="bib.bib36.2.2.1" class="ltx_text">.</span> (2016)</span>
<span class="ltx_bibblock">
Kirk Roberts, Matthew
Simpson, Dina Demner-Fushman, Ellen
Voorhees, and William Hersh.
2016.

</span>
<span class="ltx_bibblock">State-of-the-art in biomedical literature retrieval
for clinical cases: a survey of the TREC 2014 CDS track.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.3.1" class="ltx_emph ltx_font_italic">Information Retrieval Journal</em>
19, 1 (2016),
113–148.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roberts
et al<span id="bib.bib37.2.2.1" class="ltx_text">.</span> (2015)</span>
<span class="ltx_bibblock">
Kirk Roberts, Matthew S
Simpson, Ellen M Voorhees, and
William R Hersh. 2015.

</span>
<span class="ltx_bibblock">Overview of the TREC 2015 Clinical Decision Support
Track. In <em id="bib.bib37.3.1" class="ltx_emph ltx_font_italic">Text REtrieval Conference</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roy et al<span id="bib.bib38.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Abhijit Guha Roy, Shayan
Siddiqui, Sebastian Pölsterl, Nassir
Navab, and Christian Wachinger.
2019.

</span>
<span class="ltx_bibblock">Braintorrent: A peer-to-peer environment for
decentralized federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1905.06731</em>
(2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sattler
et al<span id="bib.bib39.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Felix Sattler,
Klaus-Robert Müller, and Wojciech
Samek. 2020.

</span>
<span class="ltx_bibblock">Clustered federated learning: Model-agnostic
distributed multitask optimization under privacy constraints.

</span>
<span class="ltx_bibblock"><em id="bib.bib39.3.1" class="ltx_emph ltx_font_italic">IEEE transactions on neural networks and
learning systems</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Smith
et al<span id="bib.bib40.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Virginia Smith, Chao-Kai
Chiang, Maziar Sanjabi, and Ameet
Talwalkar. 2017.

</span>
<span class="ltx_bibblock">Federated multi-task learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1705.10467</em>
(2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song
et al<span id="bib.bib41.2.2.1" class="ltx_text">.</span> (2014)</span>
<span class="ltx_bibblock">
Yang Song, Hongning Wang,
and Xiaodong He. 2014.

</span>
<span class="ltx_bibblock">Adapting deep ranknet for personalized search. In
<em id="bib.bib41.3.1" class="ltx_emph ltx_font_italic">International Conference on Web Search and Data
Mining</em>. 83–92.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib42.2.2.1" class="ltx_text">.</span> (2021b)</span>
<span class="ltx_bibblock">
Han Wang, Luis
Muñoz-González, David Eklund, and
Shahid Raza. 2021b.

</span>
<span class="ltx_bibblock">Non-IID data re-balancing at IoT edge with
peer-to-peer federated learning for anomaly detection. In
<em id="bib.bib42.3.1" class="ltx_emph ltx_font_italic">Proceedings of the 14th ACM Conference on Security
and Privacy in Wireless and Mobile Networks</em>. 153–163.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib43.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Kangkang Wang, Rajiv
Mathews, Chloé Kiddon, Hubert
Eichner, Françoise Beaufays, and
Daniel Ramage. 2019.

</span>
<span class="ltx_bibblock">Federated evaluation of on-device personalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1910.10252</em>
(2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span id="bib.bib44.2.2.1" class="ltx_text">.</span> (2021a)</span>
<span class="ltx_bibblock">
Shuyi Wang, Bing Liu,
Shengyao Zhuang, and Guido Zuccon.
2021a.

</span>
<span class="ltx_bibblock">Effective and Privacy-preserving Federated Online
Learning to Rank. In <em id="bib.bib44.3.1" class="ltx_emph ltx_font_italic">ICTIR ’21: The 2021 ACM
SIGIR International Conference on the Theory of Information Retrieval</em>.
3–12.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span id="bib.bib45.2.2.1" class="ltx_text">.</span> (2021d)</span>
<span class="ltx_bibblock">
Shuyi Wang, Shengyao
Zhuang, and Guido Zuccon.
2021d.

</span>
<span class="ltx_bibblock">Federated Online Learning to Rank with Evolution
Strategies: A Reproducibility Study. In <em id="bib.bib45.3.1" class="ltx_emph ltx_font_italic">European
Conference on Information Retrieval</em>. Springer, 134–149.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span id="bib.bib46.2.2.1" class="ltx_text">.</span> (2021c)</span>
<span class="ltx_bibblock">
Yansheng Wang, Yongxin
Tong, Dingyuan Shi, and Ke Xu.
2021c.

</span>
<span class="ltx_bibblock">An Efficient Approach for Cross-Silo Federated
Learning to Rank. In <em id="bib.bib46.3.1" class="ltx_emph ltx_font_italic">International Conference on
Data Engineering</em>. IEEE, 1128–1139.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Whittaker and
Sidner (1996)</span>
<span class="ltx_bibblock">
Steve Whittaker and
Candace Sidner. 1996.

</span>
<span class="ltx_bibblock">Email overload: exploring personal information
management of email. In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">Conference on Human
Factors in Computing Systems: Common Ground</em>. 276–283.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang
et al<span id="bib.bib48.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Qiang Yang, Yang Liu,
Tianjian Chen, and Yongxin Tong.
2019.

</span>
<span class="ltx_bibblock">Federated machine learning: Concept and
applications.

</span>
<span class="ltx_bibblock"><em id="bib.bib48.3.1" class="ltx_emph ltx_font_italic">ACM Transactions on Intelligent Systems and
Technology (TIST)</em> 10, 2
(2019), 1–19.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span id="bib.bib49.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Timothy Yang, Galen
Andrew, Hubert Eichner, Haicheng Sun,
Wei Li, Nicholas Kong,
Daniel Ramage, and Françoise
Beaufays. 2018.

</span>
<span class="ltx_bibblock">Applied federated learning: Improving google
keyboard query suggestions.

</span>
<span class="ltx_bibblock"><em id="bib.bib49.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.02903</em>
(2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al<span id="bib.bib50.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Jing Yao, Zhicheng Dou,
and Ji-Rong Wen. 2021.

</span>
<span class="ltx_bibblock">FedPS: A Privacy Protection Enhanced Personalized
Search Framework. In <em id="bib.bib50.3.1" class="ltx_emph ltx_font_italic">The Web Conference 2021</em>.
3757–3766.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao
et al<span id="bib.bib51.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Jing Yao, Zhicheng Dou,
Jun Xu, and Ji-Rong Wen.
2020.

</span>
<span class="ltx_bibblock">RLPer: A Reinforcement Learning Model for
Personalized Search. In <em id="bib.bib51.3.1" class="ltx_emph ltx_font_italic">The Web Conference 2020</em>.
2298–2308.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang
et al<span id="bib.bib52.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Yinan Zhang, Xueqing Liu,
and ChengXiang Zhai. 2017.

</span>
<span class="ltx_bibblock">Information retrieval evaluation as search
simulation: A general formal framework for ir evaluation. In
<em id="bib.bib52.3.1" class="ltx_emph ltx_font_italic">Proceedings of the ACM SIGIR International
Conference on Theory of Information Retrieval</em>. 193–200.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao
et al<span id="bib.bib53.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Yue Zhao, Meng Li,
Liangzhen Lai, Naveen Suda,
Damon Civin, and Vikas Chandra.
2018.

</span>
<span class="ltx_bibblock">Federated learning with non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1806.00582</em>
(2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu
et al<span id="bib.bib54.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Hangyu Zhu, Jinjin Xu,
Shiqing Liu, and Yaochu Jin.
2021.

</span>
<span class="ltx_bibblock">Federated learning on non-IID data: A survey.

</span>
<span class="ltx_bibblock"><em id="bib.bib54.3.1" class="ltx_emph ltx_font_italic">Neurocomputing</em> 465
(2021), 371–390.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang and Zuccon (2020)</span>
<span class="ltx_bibblock">
Shengyao Zhuang and
Guido Zuccon. 2020.

</span>
<span class="ltx_bibblock">Counterfactual Online Learning to Rank. In
<em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">European Conference on Information Retrieval</em>.
Springer, 415–430.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang and Zuccon (2021)</span>
<span class="ltx_bibblock">
Shengyao Zhuang and
Guido Zuccon. 2021.

</span>
<span class="ltx_bibblock">How do Online Learning to Rank Methods Adapt to
Changes of Intent?. In <em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">International ACM SIGIR
Conference on Research and Development in Information Retrieval</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zong
et al<span id="bib.bib57.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Linlin Zong, Qiujie Xie,
Jiahui Zhou, Peiran Wu,
Xianchao Zhang, and Bo Xu.
2021.

</span>
<span class="ltx_bibblock">FedCMR: Federated Cross-Modal Retrieval. In
<em id="bib.bib57.3.1" class="ltx_emph ltx_font_italic">International ACM SIGIR Conference on Research and
Development in Information Retrieval</em>. 1672–1676.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Appendix</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">Table <a href="#Sx1.T4" title="Table 4 ‣ Appendix ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> reports the values of the parameters of the <em id="Sx1.p1.1.1" class="ltx_emph ltx_font_italic">SDBN</em> click models we used in the experiments.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p id="Sx1.p2.1" class="ltx_p">Figure <a href="#Sx1.F8" title="Figure 8 ‣ Appendix ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> reports the results of our experiments for non-IID data type 3: click preferences.</p>
</div>
<div id="Sx1.p3" class="ltx_para">
<p id="Sx1.p3.1" class="ltx_p">Figure <a href="#Sx1.F9" title="Figure 9 ‣ Appendix ‣ Is Non-IID Data a Threat in Federated Online Learning to Rank?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> reports the results of our experiments for non-IID data type 4: data quantity.</p>
</div>
<div id="Sx1.p4" class="ltx_para">
<p id="Sx1.p4.1" class="ltx_p">For both type 3 and type 4 data experiments, as well as for other data types, the interested reader can find additional analysis and figures in the online appendix available at <a target="_blank" href="https://github.com/ielab/non-iid-foltr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/ielab/non-iid-foltr</a>.</p>
</div>
<figure id="Sx1.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>Instantiations of SDBN click model for simulating user behaviour in experiments. <math id="Sx1.T4.1.m1.1" class="ltx_Math" alttext="rel(d)" display="inline"><semantics id="Sx1.T4.1.m1.1b"><mrow id="Sx1.T4.1.m1.1.2" xref="Sx1.T4.1.m1.1.2.cmml"><mi id="Sx1.T4.1.m1.1.2.2" xref="Sx1.T4.1.m1.1.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.1.m1.1.2.1" xref="Sx1.T4.1.m1.1.2.1.cmml">​</mo><mi id="Sx1.T4.1.m1.1.2.3" xref="Sx1.T4.1.m1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.1.m1.1.2.1b" xref="Sx1.T4.1.m1.1.2.1.cmml">​</mo><mi id="Sx1.T4.1.m1.1.2.4" xref="Sx1.T4.1.m1.1.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.1.m1.1.2.1c" xref="Sx1.T4.1.m1.1.2.1.cmml">​</mo><mrow id="Sx1.T4.1.m1.1.2.5.2" xref="Sx1.T4.1.m1.1.2.cmml"><mo stretchy="false" id="Sx1.T4.1.m1.1.2.5.2.1" xref="Sx1.T4.1.m1.1.2.cmml">(</mo><mi id="Sx1.T4.1.m1.1.1" xref="Sx1.T4.1.m1.1.1.cmml">d</mi><mo stretchy="false" id="Sx1.T4.1.m1.1.2.5.2.2" xref="Sx1.T4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx1.T4.1.m1.1c"><apply id="Sx1.T4.1.m1.1.2.cmml" xref="Sx1.T4.1.m1.1.2"><times id="Sx1.T4.1.m1.1.2.1.cmml" xref="Sx1.T4.1.m1.1.2.1"></times><ci id="Sx1.T4.1.m1.1.2.2.cmml" xref="Sx1.T4.1.m1.1.2.2">𝑟</ci><ci id="Sx1.T4.1.m1.1.2.3.cmml" xref="Sx1.T4.1.m1.1.2.3">𝑒</ci><ci id="Sx1.T4.1.m1.1.2.4.cmml" xref="Sx1.T4.1.m1.1.2.4">𝑙</ci><ci id="Sx1.T4.1.m1.1.1.cmml" xref="Sx1.T4.1.m1.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx1.T4.1.m1.1d">rel(d)</annotation></semantics></math> denotes the relevance label for document <math id="Sx1.T4.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="Sx1.T4.2.m2.1b"><mi id="Sx1.T4.2.m2.1.1" xref="Sx1.T4.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="Sx1.T4.2.m2.1c"><ci id="Sx1.T4.2.m2.1.1.cmml" xref="Sx1.T4.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx1.T4.2.m2.1d">d</annotation></semantics></math>. Note that in the intent-change dataset, only two-levels of relevance are used. We demonstrate the values for intent-change in bracket.</figcaption>
<table id="Sx1.T4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="Sx1.T4.3.1" class="ltx_tr">
<th id="Sx1.T4.3.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.3.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.3.1.2.1.1" class="ltx_p" style="width:42.7pt;"></span>
</span>
</th>
<th id="Sx1.T4.3.1.1" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t" colspan="5"><math id="Sx1.T4.3.1.1.m1.2" class="ltx_Math" alttext="P(\mathit{click}=1\mid rel(d))" display="inline"><semantics id="Sx1.T4.3.1.1.m1.2a"><mrow id="Sx1.T4.3.1.1.m1.2.2" xref="Sx1.T4.3.1.1.m1.2.2.cmml"><mi id="Sx1.T4.3.1.1.m1.2.2.3" xref="Sx1.T4.3.1.1.m1.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.3.1.1.m1.2.2.2" xref="Sx1.T4.3.1.1.m1.2.2.2.cmml">​</mo><mrow id="Sx1.T4.3.1.1.m1.2.2.1.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="Sx1.T4.3.1.1.m1.2.2.1.1.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="Sx1.T4.3.1.1.m1.2.2.1.1.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.cmml"><mi id="Sx1.T4.3.1.1.m1.2.2.1.1.1.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.2.cmml">𝑐𝑙𝑖𝑐𝑘</mi><mo id="Sx1.T4.3.1.1.m1.2.2.1.1.1.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.1.cmml">=</mo><mrow id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.cmml"><mn id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.2.cmml">1</mn><mo id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.1.cmml">∣</mo><mrow id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.cmml"><mi id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.3" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1a" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.4" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1b" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mrow id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.5.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.cmml"><mo stretchy="false" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.5.2.1" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.cmml">(</mo><mi id="Sx1.T4.3.1.1.m1.1.1" xref="Sx1.T4.3.1.1.m1.1.1.cmml">d</mi><mo stretchy="false" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.5.2.2" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo stretchy="false" id="Sx1.T4.3.1.1.m1.2.2.1.1.3" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx1.T4.3.1.1.m1.2b"><apply id="Sx1.T4.3.1.1.m1.2.2.cmml" xref="Sx1.T4.3.1.1.m1.2.2"><times id="Sx1.T4.3.1.1.m1.2.2.2.cmml" xref="Sx1.T4.3.1.1.m1.2.2.2"></times><ci id="Sx1.T4.3.1.1.m1.2.2.3.cmml" xref="Sx1.T4.3.1.1.m1.2.2.3">𝑃</ci><apply id="Sx1.T4.3.1.1.m1.2.2.1.1.1.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1"><eq id="Sx1.T4.3.1.1.m1.2.2.1.1.1.1.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.1"></eq><ci id="Sx1.T4.3.1.1.m1.2.2.1.1.1.2.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.2">𝑐𝑙𝑖𝑐𝑘</ci><apply id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3"><csymbol cd="latexml" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.1.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.1">conditional</csymbol><cn type="integer" id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.2.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.2">1</cn><apply id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3"><times id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.1"></times><ci id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.2.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.2">𝑟</ci><ci id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.3.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.3">𝑒</ci><ci id="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.4.cmml" xref="Sx1.T4.3.1.1.m1.2.2.1.1.1.3.3.4">𝑙</ci><ci id="Sx1.T4.3.1.1.m1.1.1.cmml" xref="Sx1.T4.3.1.1.m1.1.1">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx1.T4.3.1.1.m1.2c">P(\mathit{click}=1\mid rel(d))</annotation></semantics></math></th>
</tr>
<tr id="Sx1.T4.4.3.1" class="ltx_tr">
<th id="Sx1.T4.4.3.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="Sx1.T4.4.3.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.3.1.1.1.1.1" class="ltx_emph ltx_font_italic">rel(d)</em></span>
</span>
</th>
<th id="Sx1.T4.4.3.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.3.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.2.1.1" class="ltx_p" style="width:37.0pt;">0</span>
</span>
</th>
<th id="Sx1.T4.4.3.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.3.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.3.1.1" class="ltx_p" style="width:32.7pt;">1</span>
</span>
</th>
<th id="Sx1.T4.4.3.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.3.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.4.1.1" class="ltx_p" style="width:21.3pt;">2</span>
</span>
</th>
<th id="Sx1.T4.4.3.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.3.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.5.1.1" class="ltx_p" style="width:21.3pt;">3</span>
</span>
</th>
<th id="Sx1.T4.4.3.1.6" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.3.1.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.3.1.6.1.1" class="ltx_p" style="width:24.2pt;">4</span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="Sx1.T4.4.4.1" class="ltx_tr">
<td id="Sx1.T4.4.4.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.4.1.1.1.1.1" class="ltx_emph ltx_font_italic">perfect</em></span>
</span>
</td>
<td id="Sx1.T4.4.4.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.2.1.1" class="ltx_p" style="width:37.0pt;">0.0 (0.0)</span>
</span>
</td>
<td id="Sx1.T4.4.4.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.3.1.1" class="ltx_p" style="width:32.7pt;">0.2 (1.0)</span>
</span>
</td>
<td id="Sx1.T4.4.4.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.4.1.1" class="ltx_p" style="width:21.3pt;">0.4 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.4.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.5.1.1" class="ltx_p" style="width:21.3pt;">0.8 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.4.1.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.4.1.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.4.1.6.1.1" class="ltx_p" style="width:24.2pt;">1.0 (-)</span>
</span>
</td>
</tr>
<tr id="Sx1.T4.4.5.2" class="ltx_tr">
<td id="Sx1.T4.4.5.2.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.5.2.1.1.1.1" class="ltx_emph ltx_font_italic">navigational</em></span>
</span>
</td>
<td id="Sx1.T4.4.5.2.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.2.1.1" class="ltx_p" style="width:37.0pt;">0.05 (0.05)</span>
</span>
</td>
<td id="Sx1.T4.4.5.2.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.3.1.1" class="ltx_p" style="width:32.7pt;">0.3 (0.95)</span>
</span>
</td>
<td id="Sx1.T4.4.5.2.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.4.1.1" class="ltx_p" style="width:21.3pt;">0.5 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.5.2.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.5.1.1" class="ltx_p" style="width:21.3pt;">0.7 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.5.2.6" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.5.2.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.5.2.6.1.1" class="ltx_p" style="width:24.2pt;">0.95 (-)</span>
</span>
</td>
</tr>
<tr id="Sx1.T4.4.6.3" class="ltx_tr">
<td id="Sx1.T4.4.6.3.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.6.3.1.1.1.1" class="ltx_emph ltx_font_italic">informational</em></span>
</span>
</td>
<td id="Sx1.T4.4.6.3.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.2.1.1" class="ltx_p" style="width:37.0pt;">0.4 (0.3)</span>
</span>
</td>
<td id="Sx1.T4.4.6.3.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.3.1.1" class="ltx_p" style="width:32.7pt;">0.6 (0.7)</span>
</span>
</td>
<td id="Sx1.T4.4.6.3.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.4.1.1" class="ltx_p" style="width:21.3pt;">0.7 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.6.3.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.5.1.1" class="ltx_p" style="width:21.3pt;">0.8 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.6.3.6" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.6.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.6.3.6.1.1" class="ltx_p" style="width:24.2pt;">0.9 (-)</span>
</span>
</td>
</tr>
<tr id="Sx1.T4.4.2" class="ltx_tr">
<th id="Sx1.T4.4.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="Sx1.T4.4.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.2.2.1.1" class="ltx_p" style="width:42.7pt;"></span>
</span>
</th>
<th id="Sx1.T4.4.2.1" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_tt" colspan="5"><math id="Sx1.T4.4.2.1.m1.2" class="ltx_math_unparsed" alttext="P(\mathit{stop}=1\mid click=1,rel(d))" display="inline"><semantics id="Sx1.T4.4.2.1.m1.2a"><mrow id="Sx1.T4.4.2.1.m1.2b"><mi id="Sx1.T4.4.2.1.m1.2.3">P</mi><mrow id="Sx1.T4.4.2.1.m1.2.4"><mo stretchy="false" id="Sx1.T4.4.2.1.m1.2.4.1">(</mo><mi id="Sx1.T4.4.2.1.m1.2.4.2">𝑠𝑡𝑜𝑝</mi><mo id="Sx1.T4.4.2.1.m1.2.4.3">=</mo><mn id="Sx1.T4.4.2.1.m1.2.4.4">1</mn><mo lspace="0em" rspace="0.167em" id="Sx1.T4.4.2.1.m1.2.4.5">∣</mo><mi id="Sx1.T4.4.2.1.m1.2.4.6">c</mi><mi id="Sx1.T4.4.2.1.m1.2.4.7">l</mi><mi id="Sx1.T4.4.2.1.m1.2.4.8">i</mi><mi id="Sx1.T4.4.2.1.m1.2.4.9">c</mi><mi id="Sx1.T4.4.2.1.m1.2.4.10">k</mi><mo id="Sx1.T4.4.2.1.m1.2.4.11">=</mo><mn id="Sx1.T4.4.2.1.m1.2.2">1</mn><mo id="Sx1.T4.4.2.1.m1.2.4.12">,</mo><mi id="Sx1.T4.4.2.1.m1.2.4.13">r</mi><mi id="Sx1.T4.4.2.1.m1.2.4.14">e</mi><mi id="Sx1.T4.4.2.1.m1.2.4.15">l</mi><mrow id="Sx1.T4.4.2.1.m1.2.4.16"><mo stretchy="false" id="Sx1.T4.4.2.1.m1.2.4.16.1">(</mo><mi id="Sx1.T4.4.2.1.m1.1.1">d</mi><mo stretchy="false" id="Sx1.T4.4.2.1.m1.2.4.16.2">)</mo></mrow><mo stretchy="false" id="Sx1.T4.4.2.1.m1.2.4.17">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="Sx1.T4.4.2.1.m1.2c">P(\mathit{stop}=1\mid click=1,rel(d))</annotation></semantics></math></th>
</tr>
<tr id="Sx1.T4.4.7.4" class="ltx_tr">
<th id="Sx1.T4.4.7.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="Sx1.T4.4.7.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.7.4.1.1.1.1" class="ltx_emph ltx_font_italic">rel(d)</em></span>
</span>
</th>
<th id="Sx1.T4.4.7.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.7.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.2.1.1" class="ltx_p" style="width:37.0pt;">0</span>
</span>
</th>
<th id="Sx1.T4.4.7.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.7.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.3.1.1" class="ltx_p" style="width:32.7pt;">1</span>
</span>
</th>
<th id="Sx1.T4.4.7.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.7.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.4.1.1" class="ltx_p" style="width:21.3pt;">2</span>
</span>
</th>
<th id="Sx1.T4.4.7.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.7.4.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.5.1.1" class="ltx_p" style="width:21.3pt;">3</span>
</span>
</th>
<th id="Sx1.T4.4.7.4.6" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t">
<span id="Sx1.T4.4.7.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.7.4.6.1.1" class="ltx_p" style="width:24.2pt;">4</span>
</span>
</th>
</tr>
<tr id="Sx1.T4.4.8.5" class="ltx_tr">
<td id="Sx1.T4.4.8.5.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.8.5.1.1.1.1" class="ltx_emph ltx_font_italic">perfect</em></span>
</span>
</td>
<td id="Sx1.T4.4.8.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.2.1.1" class="ltx_p" style="width:37.0pt;">0.0 (0.0)</span>
</span>
</td>
<td id="Sx1.T4.4.8.5.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.3.1.1" class="ltx_p" style="width:32.7pt;">0.0 (0.0)</span>
</span>
</td>
<td id="Sx1.T4.4.8.5.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.4.1.1" class="ltx_p" style="width:21.3pt;">0.0 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.8.5.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.5.1.1" class="ltx_p" style="width:21.3pt;">0.0 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.8.5.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="Sx1.T4.4.8.5.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.8.5.6.1.1" class="ltx_p" style="width:24.2pt;">0.0 (-)</span>
</span>
</td>
</tr>
<tr id="Sx1.T4.4.9.6" class="ltx_tr">
<td id="Sx1.T4.4.9.6.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.9.6.1.1.1.1" class="ltx_emph ltx_font_italic">navigational</em></span>
</span>
</td>
<td id="Sx1.T4.4.9.6.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.2.1.1" class="ltx_p" style="width:37.0pt;">0.2 (0.2)</span>
</span>
</td>
<td id="Sx1.T4.4.9.6.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.3.1.1" class="ltx_p" style="width:32.7pt;">0.3 (0.9)</span>
</span>
</td>
<td id="Sx1.T4.4.9.6.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.4.1.1" class="ltx_p" style="width:21.3pt;">0.5 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.9.6.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.5.1.1" class="ltx_p" style="width:21.3pt;">0.7 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.9.6.6" class="ltx_td ltx_align_justify ltx_align_top">
<span id="Sx1.T4.4.9.6.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.9.6.6.1.1" class="ltx_p" style="width:24.2pt;">0.9 (-)</span>
</span>
</td>
</tr>
<tr id="Sx1.T4.4.10.7" class="ltx_tr">
<td id="Sx1.T4.4.10.7.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.1.1.1" class="ltx_p" style="width:42.7pt;"><em id="Sx1.T4.4.10.7.1.1.1.1" class="ltx_emph ltx_font_italic">informational</em></span>
</span>
</td>
<td id="Sx1.T4.4.10.7.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.2.1.1" class="ltx_p" style="width:37.0pt;">0.1 (0.1)</span>
</span>
</td>
<td id="Sx1.T4.4.10.7.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.3.1.1" class="ltx_p" style="width:32.7pt;">0.2 (0.5)</span>
</span>
</td>
<td id="Sx1.T4.4.10.7.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.4.1.1" class="ltx_p" style="width:21.3pt;">0.3 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.10.7.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.5.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.5.1.1" class="ltx_p" style="width:21.3pt;">0.4 (-)</span>
</span>
</td>
<td id="Sx1.T4.4.10.7.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b">
<span id="Sx1.T4.4.10.7.6.1" class="ltx_inline-block ltx_align_top">
<span id="Sx1.T4.4.10.7.6.1.1" class="ltx_p" style="width:24.2pt;">0.5 (-)</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<figure id="Sx1.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="Sx1.F8.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients3_batch5_updates10000_non_iid_click_pref_skew_CCM_linear-v2.png" id="Sx1.F8.sf1.g1" class="ltx_graphics ltx_img_landscape" width="275" height="156" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F8.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="Sx1.F8.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker) under SDBN clicks</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="Sx1.F8.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_click_pref_skew_PBM_linear-v2.png" id="Sx1.F8.sf2.g1" class="ltx_graphics ltx_img_landscape" width="275" height="156" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F8.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="Sx1.F8.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker) under PBM clicks</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8. </span>Offline performance (nDCG@10) on MSLR-WEB10k for Type 3, separately under SDBN and PBM click model; results averaged across all dataset splits and experimental runs.
</figcaption>
</figure>
<figure id="Sx1.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F9.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_data_quan_skew_CCM_linear.png" id="Sx1.F9.sf1.g1" class="ltx_graphics ltx_img_landscape" width="667" height="144" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F9.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="Sx1.F9.sf1.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F9.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/intent-change_FPDGD_clients4_batch5_updates10000_non_iid_intent_change_CCM_linear_mixed.png" id="Sx1.F9.sf2.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F9.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="Sx1.F9.sf2.4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">intent-change (linear ranker) mixed with type 1</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F9.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2204.09272/assets/images/MSLR10K_FPDGD_clients5_batch5_updates10000_non_iid_label_dist_skew_CCM_linear_mixed.png" id="Sx1.F9.sf3.g1" class="ltx_graphics ltx_img_landscape" width="667" height="145" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F9.sf3.4.2.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="Sx1.F9.sf3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;">MSLR-WEB10k (linear ranker) mixed with type 2 (<math id="Sx1.F9.sf3.2.1.m1.1" class="ltx_Math" alttext="\#R=1" display="inline"><semantics id="Sx1.F9.sf3.2.1.m1.1b"><mrow id="Sx1.F9.sf3.2.1.m1.1.1" xref="Sx1.F9.sf3.2.1.m1.1.1.cmml"><mrow id="Sx1.F9.sf3.2.1.m1.1.1.2" xref="Sx1.F9.sf3.2.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="Sx1.F9.sf3.2.1.m1.1.1.2.2" xref="Sx1.F9.sf3.2.1.m1.1.1.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="Sx1.F9.sf3.2.1.m1.1.1.2.1" xref="Sx1.F9.sf3.2.1.m1.1.1.2.1.cmml">​</mo><mi id="Sx1.F9.sf3.2.1.m1.1.1.2.3" xref="Sx1.F9.sf3.2.1.m1.1.1.2.3.cmml">R</mi></mrow><mo id="Sx1.F9.sf3.2.1.m1.1.1.1" xref="Sx1.F9.sf3.2.1.m1.1.1.1.cmml">=</mo><mn id="Sx1.F9.sf3.2.1.m1.1.1.3" xref="Sx1.F9.sf3.2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx1.F9.sf3.2.1.m1.1c"><apply id="Sx1.F9.sf3.2.1.m1.1.1.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1"><eq id="Sx1.F9.sf3.2.1.m1.1.1.1.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.1"></eq><apply id="Sx1.F9.sf3.2.1.m1.1.1.2.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.2"><times id="Sx1.F9.sf3.2.1.m1.1.1.2.1.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.2.1"></times><ci id="Sx1.F9.sf3.2.1.m1.1.1.2.2.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.2.2">#</ci><ci id="Sx1.F9.sf3.2.1.m1.1.1.2.3.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.2.3">𝑅</ci></apply><cn type="integer" id="Sx1.F9.sf3.2.1.m1.1.1.3.cmml" xref="Sx1.F9.sf3.2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx1.F9.sf3.2.1.m1.1d">\#R=1</annotation></semantics></math>)</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9. </span>Offline performance (nDCG@10) on MSLR-WEB10k and intent-change for Type 4, under three instantiations of SDBN click model; results averaged across all dataset splits and experimental runs.
</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2204.09271" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2204.09272" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2204.09272">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2204.09272" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2204.09273" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 11:22:11 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
