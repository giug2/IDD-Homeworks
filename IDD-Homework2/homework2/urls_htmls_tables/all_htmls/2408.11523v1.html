<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding</title>
<!--Generated on Wed Aug 21 09:56:58 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Recommendation System,  Large Language Model,  Contrastive Learning" lang="en" name="keywords"/>
<base href="/html/2408.11523v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S1" title="In LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S2" title="In LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S2.SS1" title="In 2. Related Work ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Large Language Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S2.SS2" title="In 2. Related Work ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>LLM in Recommend System</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3" title="In LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3.SS1" title="In 3. Methodology ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Continual Pretraining Task Design</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3.SS2" title="In 3. Methodology ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Text Embedding via Contrastive Learning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3.SS3" title="In 3. Methodology ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Information Alignment in RS</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4" title="In LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS1" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experiment Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS2" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Performance Comparison</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS3" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS4" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Hyperparameter Analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS5" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Case Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.SS6" title="In 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Online A/B Test</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S5" title="In LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhizhong Wan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:wanzhizhong@meituan.com">wanzhizhong@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0005-8624-9249" title="ORCID identifier">0009-0005-8624-9249</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Bin Yin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:yinbin05@meituan.com">yinbin05@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0007-3228-2670" title="ORCID identifier">0009-0007-3228-2670</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junjie Xie
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xiejunjie02@meituan.com">xiejunjie02@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0009-2793-0092" title="ORCID identifier">0009-0009-2793-0092</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Fei Jiang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:jiangfei05@meituan.com">jiangfei05@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-7019-140X" title="ORCID identifier">0000-0002-7019-140X</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiang Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:lixiang245@meituan.com">lixiang245@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2834-8765" title="ORCID identifier">0000-0003-2834-8765</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wei Lin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:linwei31@meituan.com">linwei31@meituan.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2851-820X" title="ORCID identifier">0000-0003-2851-820X</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Meituan</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">China</span>
</span></span></span>
</div>
<div class="ltx_dates">(2024; 29 April 2024; 22 July 2024; 19 August 2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id19.id1">Click-Through Rate (CTR) prediction is crucial for Recommendation System(RS), aiming to provide personalized recommendation services for users in many aspects such as food delivery, e-commerce and so on. However, traditional RS relies on collaborative signals, which lacks semantic understanding to real-time scenes. We also noticed that a major challenge in utilizing Large Language Models (LLMs) for practical recommendation purposes is their efficiency in dealing with long text input. To break through the problems above, we propose Large Language Model Aided Real-time Scene Recommendation(LARR), adopt LLMs for semantic understanding, utilizing real-time scene information in RS without requiring LLM to process the entire real-time scene text directly, thereby enhancing the efficiency of LLM-based CTR modeling. Specifically, recommendation domain-specific knowledge is injected into LLM and then RS employs an aggregation encoder to build real-time scene information from separate LLM’s outputs. Firstly, a LLM is continual pretrained on corpus built from recommendation data with the aid of special tokens. Subsequently, the LLM is fine-tuned via contrastive learning on three kinds of sample construction strategies. Through this step, LLM is transformed into a text embedding model. Finally, LLM’s separate outputs for different scene features are aggregated by an encoder, aligning to collaborative signals in RS, enhancing the performance of recommendation model.</p>
</div>
<div class="ltx_keywords">Recommendation System, Large Language Model, Contrastive Learning
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>18th ACM Conference on Recommender Systems; October 14–18, 2024; Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>18th ACM Conference on Recommender Systems (RecSys ’24), October 14–18, 2024, Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3640457.3688135</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0505-2/24/10</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Artificial intelligence</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">As an important task in field of recommendation systems (RS), Click-Through Rate (CTR) prediction aims to forecast whether a user will click on a certain product, content, or advertisement. In the domain of RS, models need to analyze data such as user characteristics and item features to predict the probability of a user clicking on a specific objective, thereby helping to optimize the effectiveness of recommendation strategies.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">In the context of food delivery service, the volume of data that needs to be processed each day reaches hundreds of millions. Unlike typical e-commerce recommendations or content recommendations, food delivery recommendations place a stronger emphasis on analyzing real-time scenes such as geographical location, mealtime, weather, etc. Among them, there exist strong correlations and rich semantics. Consider a specific scene: a user traveling to another city arrives late at night while many restaurants are already closed, and it is raining heavily with low temperatures. Due to the user’s unfamiliarity with the surrounding environment and the poor weather conditions, there is a high probability that he will order a takeout from a nearby restaurant. What’s more, he’s more likely to order some hot food or local specialties.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Points of Interest (POI) is a concept we define based on food delivery recommendations, aimed at abstracting the focus of user interest. It can be understood as a collection of POIs, environment, and geographic locations. Traditional recommendation models use feature crossing to handle POIs in real-time scene data. For correlated and important features, common feature crossing methods include manual explicit crossing followed by logistic regression <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib6" title="">2016</a>)</cite>, explicit low-order crossing <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib6" title="">2016</a>)</cite>, or directly using deep learning for automatic high-order crossing <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib13" title="">[n. d.]</a>; Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib16" title="">2019</a>; Tang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib30" title="">2020</a>)</cite>. However, regardless of which method is used, the essence of feature crossing is based on the co-occurrence probability of strongly correlated features to determine whether a user will click, lacking an understanding of the POI in the scene’s semantic information.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Large Language Models (LLMs) possess extensive semantic knowledge and excellent reasoning capabilities <cite class="ltx_cite ltx_citemacro_citep">(Hua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib15" title="">2023</a>; He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib14" title="">2023</a>)</cite>, which can effectively understand the semantic information in real-time scenes. However, in the field of RS, LLMs still face some difficulties. In particular, LLMs in their original form may not possess in-depth knowledge specific to the recommendation domain, which could affect their comprehensive understanding of POI and user information. At the same time, LLMs typically do not directly handle the cross-feature signals present in traditional recommendation models, which may limit their ability to accurately capture and understand user needs.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">The unique recommendation scene of food delivery presents us with two core challenges:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Typical RS treats each food delivery POI as mapped unique id token as inputs of the recommendation model to predict user behavior. However, this approach treats all POI equally without considering semantic information of POIs, such as the menu similarity of food delivery, relevance of restaurant’s main business direction to the scene and so on. For instance, pizza shops with different names would be treated as two unrelated POIs in a normal RS, neglecting the fact that both of them primarily sell pizza. During summer, people tend to order something cold rather than taste spicy and hot food.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">Industrial RS needs to serve for millions of users, unacceptable time consuming of LLM’s inference stays a unsolved problem in the exploring of combination with RS and LLM. Real-time scenes are composed of many individual scene features, with combinations of different scene features giving rise to an exponential number of different real-time scenes. To understand real-time scenes, LLMs need to process combinations of scene feature texts during serving, which seems that LLMs have to be involved in inference, leading to service latency. How to efficiently utilize LLMs to handle real-time scenes is an urgent problem to be solved.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S1.p5.2">To address the two problems mentioned above, inspired by recent work in the LLM field <cite class="ltx_cite ltx_citemacro_citep">(Neelakantan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib25" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib20" title="">2023a</a>)</cite> and recommendation system domain <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib12" title="">2022</a>; Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib8" title="">2022</a>)</cite>, we propose a three-stage model LARR (Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding). Figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">1</span></a> uses an intuitive example to show how LARR works.</p>
</div>
<figure class="ltx_figure" id="S1.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="345" id="S1.F1.g1" src="extracted/5804842/intuitive_fig.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">How LLM understands the real-time scenes and help Recommendation System work.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S1.F1.4">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S1.F1.5">intuitive fig 1</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">The LLM, infused with recommendation domain knowledge, processes various scene information based on its knowledge, such as user profiles, geographic locations, weather, etc. The LLM contemplates the input information according to its existing knowledge, assisting the recommendation system in providing recommendation services. In the example of Figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">1</span></a>, LLM receives input information including user profiles, geographic locations, environment, user history and so on. Because LLM is injected with recommendation domain knowledge in advance, LLM knows what style of food the user may like, which kind of food is more popular in current environment, where to find tasty shops nearby. From the user profile (likes desserts/hotpot), LLM knows ice-cream or spicy hot pot is ok; furthermore, since it is very hot, hot pot is obviously not quite suitable, ice cream or a cold drink would be a better choice. There are three stores A, B, and C selling desserts around the input geographic location, and their takeout information is… Like this, step by step, the LLM finally summarizes useful information and contributes to RS in recommending takeout for the user.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Our core contributions are as follows:</p>
<ul class="ltx_itemize" id="S1.I2">
<li class="ltx_item" id="S1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i1.p1">
<p class="ltx_p" id="S1.I2.i1.p1.1">Based on food delivery domain-specific recommendation data, We employ a LLM to deal with the semantic problem of how to correctly understand the POI in food delivery real-time scene. We continue pretraining and fine-tuning the LLM, infusing them with knowledge of recommendation field, promoting the LLMs’ understanding of food delivery real-time scenes.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i2.p1">
<p class="ltx_p" id="S1.I2.i2.p1.1">We propose a novel industrial-friendly recommendation framework, LARR, which can effectively integrate the semantic information of food delivery real-time scenes without LLM’s participation in inference. We use a bidirectional encoder to aggregate the separate real-time scene embedding produced by LLM to extract the semantic information of real-time scenes, since the semantic associations between various scene features have already been implicitly encoded into the LLM’s output vectors.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i3.p1">
<p class="ltx_p" id="S1.I2.i3.p1.1">We conducted extensive offline and online experiments on the food delivery dataset from Meituan Waimai, validating that our method can fully understand the semantic information of real-time scenes and effectively integrate multimodal features, enhancing the recommendation results to align the semantic information understood by large language models about the food delivery real-time scene with the recommendation models based on collaborative signals.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Large Language Model</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Substantial work <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib9" title="">2018</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib38" title="">2019</a>; Lewis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib17" title="">2019</a>)</cite> has shown that Pre-trained models (PTMs) on a large corpus can learn universal language representations, which are beneficial for downstream NLP tasks and can avoid training a new model from scratch <cite class="ltx_cite ltx_citemacro_citep">(QIU et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib27" title="">2017</a>)</cite>. Large language models (LLMs) mainly refer to transformer-based <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib32" title="">2017</a>)</cite> neural language models that contain tens to hundreds of billions of parameters <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib39" title="">2023</a>)</cite>. Those language models are pre-trained on massive text data, such as PaLM <cite class="ltx_cite ltx_citemacro_citep">(Chowdhery et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib7" title="">2023</a>)</cite>, LLaMA <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib31" title="">2023</a>)</cite>, and GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib2" title="">2023</a>)</cite>. Compared to PLMs, LLMs are not only significantly larger in model size but also demonstrate superior language understanding and generation capabilities, more importantly, they exhibit emergent abilities <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib33" title="">2022</a>)</cite> that are absent in smaller-scale language models.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">LLMs have already drawn a lot of attention due to the strong performance on a wide range of natural language tasks, many researchers in other fileds try to combine LLM with domain-specific work to promote their progress and has achieved success <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib19" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib18" title="">2023c</a>; Xi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib35" title="">2023</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>LLM in Recommend System</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Traditional recommendation models are designed to leverage a huge amount of ID tokens to train, which is an ID paradigm, with the majority of parameters concentrated in the embedding layer <cite class="ltx_cite ltx_citemacro_citep">(Lian et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib22" title="">2018</a>; Tang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib30" title="">2020</a>)</cite>. In contrast, LLMs would use a tokenizer to segment the text into vocab tokens to reduce the size of the vocabulary at the very first of input, which is a tokenization paradigm, with the bulk of parameters being concentrated in the network itself. Recommendation models excel in memorization, while LLMs demonstrate superior capabilities in logical reasoning and generalization. A 6-billion parameter LLM such as ChatGLM-3 <cite class="ltx_cite ltx_citemacro_citep">(Du et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib10" title="">2022</a>)</cite> has a vocabulary less than 65,000 tokens, a scale that is significantly smaller than the number of ID tokens in a recommendation model of the same scale <cite class="ltx_cite ltx_citemacro_citep">(Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib24" title="">2018</a>)</cite>. It’s apparent that simple integration of recommendation systems with LLMs is infeasible. If ID tokens are directly used as input, tokenization may establish connections between unrelated IDs (e.g., ’id_499’ tokenized into ’id’, ’_’, ’4’, ’9’, ’9’, creating overlapping embeddings with IDs containing the digits 4 and 9, which does not meet our expectations). Alternatively, regard the ID tokens as special tokens of LLM’s vocabulary, that is, without tokenization on ID input, would face gap problem between ID tokens representing user/item collaborative information and pre-trained vocab tokens holding content semantics information <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib5" title="">2023</a>)</cite>. Moreover, the typically vast number of ID tokens could dilute the LLM’s own vocabulary, inject noise into the vocab tokens, and result in poor learning of the ID tokens.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">Despite the challenges mentioned above associated with applying language models to the field of recommendation, researchers continue to dedicate efforts to applying language models to Recommender Systems (RS), due to the astonishing capabilities demonstrated by LLMs <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib34" title="">2024</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib21" title="">2023b</a>)</cite>.
The researchers of P5 <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib12" title="">2022</a>)</cite> proposed a unified text-to-text paradigm recommendation model based on T5 <cite class="ltx_cite ltx_citemacro_citep">(Raffel et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib28" title="">2020</a>)</cite>, hoping to handle rating prediction task, sequential recommendation task and more downstream tasks by zero-shot or few-shots. An embedding method called whole-word embedding whose design inspiration is very similar to position embedding is introduced to address ID-related gap problem mentioned above.
M6-rec <cite class="ltx_cite ltx_citemacro_citep">(Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib8" title="">2022</a>)</cite> converts all recommend downstream tasks into language understanding or generation tasks by representing user behavior data and candidates data if necessary as natural language plain texts for fine-tuning based on M6 <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib23" title="">2021</a>)</cite>.
CLLM4Rec <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib40" title="">2023</a>)</cite> propose a novel soft/hard prompting strategy, mutually-regularized pre-training two LLMs and two set of id tokens on two corpora to facilitate language modeling on RS-specific corpora with heterogeneous user/item collaborative tokens and content tokens.</p>
</div>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">As an unsupervised method, Contrastive Learning (CL) assumes some observed pairs of text that are more semantically similar than randomly sampled text. By maximazing their mutual information, neural network could learn useful embeddings for downstream tasks <cite class="ltx_cite ltx_citemacro_citep">(Arora et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib3" title="">2019</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib37" title="">2023</a>)</cite>. OpenAI has attempted to convert pre-trained language models into vector models for text and code using contrastive learning, achieving notable results <cite class="ltx_cite ltx_citemacro_citep">(Neelakantan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib25" title="">2022</a>)</cite>.
RLMRec <cite class="ltx_cite ltx_citemacro_citep">(Ren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib29" title="">2023</a>)</cite> has proven that contrastive learning between the semantic embeddings from LLMs and the collaborative embeddings from recommender systems could capture their shared information and alleviate the noise information.
ControlRec <cite class="ltx_cite ltx_citemacro_citep">(Qiu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib26" title="">2023</a>)</cite> uses contrastive learning for heterogeneous feature matching to align the ID representations with the natural language in the semantic space.
Li proposed a two-stage model, CTRL <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib20" title="">2023a</a>)</cite>. In the first stage, an LLM is used to encode textual data and a lightweight collaborative model is used to encode tabular data, cross-modal contrastive learning is employed to fine-grained align knowledge of the two modalities. In the second stage, the lightweight collaborative model is fine-tuned on downstream tasks. During inference, CTRL only deploys the collaborative model, with the LLM not being involved in computation, making it an industrial-friendly model architecture.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Methodology</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we will then introduce the framework of LARR, which comprises three stages, with the overall structure illustrated in Fig  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3.F2" title="Figure 2 ‣ 3. Methodology ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">2</span></a>.
The first stage is the continual pretraining stage, where we construct natural language texts corpus from the Meituan Waimai dataset. Then we continue pretraining the LLM that has been pre-trained on general corpora based on corpus to inject the domain-specific knowledge.
In the second stage, we additionally add billions of user profile and user history behavior data into the corpus, which is proven to be useful <cite class="ltx_cite ltx_citemacro_citep">(Feng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib11" title="">2024</a>)</cite>, constructing 3 kinds of contrastive learning positive and negative samples, transforming the LLM into a text embedding model, enabling the LLM to fully understand the semantics of real-time scenes.
The final third stage is the multi-modal alignment stage, where contrastive learning is used to maximize the mutual information between semantic embeddings and collaborative embeddings, aligning the takeout scene semantic information understood by the LLM with the collaborative signals extracted by the fine-tuning model from ID tokens, cross features, and statistical features. The aligned semantic information will enhance performance of recommendation system.</p>
</div>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="623" id="S3.F2.g1" src="extracted/5804842/model_overview_thin.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.2.1.1" style="font-size:90%;">Figure 2</span>. </span><span class="ltx_text" id="S3.F2.3.2" style="font-size:90%;">Model overview including 3 stages. In stage 1, The LLM undergoes a continual pretraining task on shop-related corpus; In stage 2, LLM is fine-tuned and transformed into a text embedding model via contrastive learning on 3 types of positive samples; In stage 3, alignment is applying on LLM’s semantic embedding and RS’s collaborative embedding for enhancing the performance of the recommendation results.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F2.4">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F2.5">Model overview fig 2</p>
</div>
</div>
</figure>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Continual Pretraining Task Design</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">To facilitate LLM’s understanding in food delivery domain-specific knowledge from the natural language perspective, we first construct a corpus using datasets relevant to all POIs. Following this, we perform continual pretraining task on the LLM which had already been pre-trained on generic corpora, using this corpus to enhance its understanding of domain-specific knowledge.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">How to use id tokens in LLM efficiently remains an unsolved problem for a long-time. In industrial scene, encoding the ids of millions of different POIs as whole words is impractical due to the high time and memory costs involved. Moreover, simply treating POI id tokens as indivisible inputs to the LLM brings a semantic and collaborative signal gap, as mentioned in section 2.2; segmenting and encoding ids could also introduce unintended connections between id tokens. Consequently, we abandoned the use of id token as LLM inputs and instead used unique natural language description texts to represent id features. We noted that a POI can be uniquely identified by its its name and geographical location, which is equivalent to an id feature. The advantage of using name and geographical location to represent a POI is apparently: natural language input makes it easier for LLM to understand. It retains the uniqueness of id inputs while avoiding the semantic meaninglessness of id inputs.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.3">Specifically, assuming that there are <math alttext="N_{p}" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><msub id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mi id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">N</mi><mi id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">𝑁</ci><ci id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">N_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> POIs, we merge name, geographical location, introduction, and statistical information to form a description <math alttext="D_{i}" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><msub id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml">D</mi><mi id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2">𝐷</ci><ci id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for each POI <math alttext="POI_{i}" class="ltx_Math" display="inline" id="S3.SS1.p3.3.m3.1"><semantics id="S3.SS1.p3.3.m3.1a"><mrow id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml"><mi id="S3.SS1.p3.3.m3.1.1.2" xref="S3.SS1.p3.3.m3.1.1.2.cmml">P</mi><mo id="S3.SS1.p3.3.m3.1.1.1" xref="S3.SS1.p3.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p3.3.m3.1.1.3" xref="S3.SS1.p3.3.m3.1.1.3.cmml">O</mi><mo id="S3.SS1.p3.3.m3.1.1.1a" xref="S3.SS1.p3.3.m3.1.1.1.cmml">⁢</mo><msub id="S3.SS1.p3.3.m3.1.1.4" xref="S3.SS1.p3.3.m3.1.1.4.cmml"><mi id="S3.SS1.p3.3.m3.1.1.4.2" xref="S3.SS1.p3.3.m3.1.1.4.2.cmml">I</mi><mi id="S3.SS1.p3.3.m3.1.1.4.3" xref="S3.SS1.p3.3.m3.1.1.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><apply id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1"><times id="S3.SS1.p3.3.m3.1.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1.1"></times><ci id="S3.SS1.p3.3.m3.1.1.2.cmml" xref="S3.SS1.p3.3.m3.1.1.2">𝑃</ci><ci id="S3.SS1.p3.3.m3.1.1.3.cmml" xref="S3.SS1.p3.3.m3.1.1.3">𝑂</ci><apply id="S3.SS1.p3.3.m3.1.1.4.cmml" xref="S3.SS1.p3.3.m3.1.1.4"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.4.1.cmml" xref="S3.SS1.p3.3.m3.1.1.4">subscript</csymbol><ci id="S3.SS1.p3.3.m3.1.1.4.2.cmml" xref="S3.SS1.p3.3.m3.1.1.4.2">𝐼</ci><ci id="S3.SS1.p3.3.m3.1.1.4.3.cmml" xref="S3.SS1.p3.3.m3.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">POI_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.3.m3.1d">italic_P italic_O italic_I start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="D=\{D_{i}\mid i\in\mathbb{N},0\leq i\leq N_{p}\}" class="ltx_Math" display="block" id="S3.E1.m1.2"><semantics id="S3.E1.m1.2a"><mrow id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml"><mi id="S3.E1.m1.2.2.4" xref="S3.E1.m1.2.2.4.cmml">D</mi><mo id="S3.E1.m1.2.2.3" xref="S3.E1.m1.2.2.3.cmml">=</mo><mrow id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.3.cmml"><mo id="S3.E1.m1.2.2.2.2.3" stretchy="false" xref="S3.E1.m1.2.2.2.3.1.cmml">{</mo><msub id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">D</mi><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" id="S3.E1.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.E1.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.3.cmml"><mrow id="S3.E1.m1.2.2.2.2.2.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.1.2" xref="S3.E1.m1.2.2.2.2.2.1.1.2.cmml">i</mi><mo id="S3.E1.m1.2.2.2.2.2.1.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.1.cmml">∈</mo><mi id="S3.E1.m1.2.2.2.2.2.1.1.3" xref="S3.E1.m1.2.2.2.2.2.1.1.3.cmml">ℕ</mi></mrow><mo id="S3.E1.m1.2.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E1.m1.2.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.2.cmml"><mn id="S3.E1.m1.2.2.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.2.2.cmml">0</mn><mo id="S3.E1.m1.2.2.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.2.2.2.3.cmml">≤</mo><mi id="S3.E1.m1.2.2.2.2.2.2.2.4" xref="S3.E1.m1.2.2.2.2.2.2.2.4.cmml">i</mi><mo id="S3.E1.m1.2.2.2.2.2.2.2.5" xref="S3.E1.m1.2.2.2.2.2.2.2.5.cmml">≤</mo><msub id="S3.E1.m1.2.2.2.2.2.2.2.6" xref="S3.E1.m1.2.2.2.2.2.2.2.6.cmml"><mi id="S3.E1.m1.2.2.2.2.2.2.2.6.2" xref="S3.E1.m1.2.2.2.2.2.2.2.6.2.cmml">N</mi><mi id="S3.E1.m1.2.2.2.2.2.2.2.6.3" xref="S3.E1.m1.2.2.2.2.2.2.2.6.3.cmml">p</mi></msub></mrow></mrow><mo id="S3.E1.m1.2.2.2.2.5" stretchy="false" xref="S3.E1.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.2b"><apply id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2"><eq id="S3.E1.m1.2.2.3.cmml" xref="S3.E1.m1.2.2.3"></eq><ci id="S3.E1.m1.2.2.4.cmml" xref="S3.E1.m1.2.2.4">𝐷</ci><apply id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2"><csymbol cd="latexml" id="S3.E1.m1.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2">𝐷</ci><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.3a.cmml" xref="S3.E1.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.2.2.2.2.2.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1"><in id="S3.E1.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1"></in><ci id="S3.E1.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2">𝑖</ci><ci id="S3.E1.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.3">ℕ</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2"><and id="S3.E1.m1.2.2.2.2.2.2.2a.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2"></and><apply id="S3.E1.m1.2.2.2.2.2.2.2b.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2"><leq id="S3.E1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.3"></leq><cn id="S3.E1.m1.2.2.2.2.2.2.2.2.cmml" type="integer" xref="S3.E1.m1.2.2.2.2.2.2.2.2">0</cn><ci id="S3.E1.m1.2.2.2.2.2.2.2.4.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.4">𝑖</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.2.2c.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2"><leq id="S3.E1.m1.2.2.2.2.2.2.2.5.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.5"></leq><share href="https://arxiv.org/html/2408.11523v1#S3.E1.m1.2.2.2.2.2.2.2.4.cmml" id="S3.E1.m1.2.2.2.2.2.2.2d.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2"></share><apply id="S3.E1.m1.2.2.2.2.2.2.2.6.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.6"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.2.2.6.1.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.6">subscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.2.2.6.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.6.2">𝑁</ci><ci id="S3.E1.m1.2.2.2.2.2.2.2.6.3.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2.6.3">𝑝</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.2c">D=\{D_{i}\mid i\in\mathbb{N},0\leq i\leq N_{p}\}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.2d">italic_D = { italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∣ italic_i ∈ blackboard_N , 0 ≤ italic_i ≤ italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.5">The description <math alttext="D_{i}" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><msub id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mi id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">D</mi><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">𝐷</ci><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is cut into <math alttext="n_{k}" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><msub id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml"><mi id="S3.SS1.p4.2.m2.1.1.2" xref="S3.SS1.p4.2.m2.1.1.2.cmml">n</mi><mi id="S3.SS1.p4.2.m2.1.1.3" xref="S3.SS1.p4.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><apply id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p4.2.m2.1.1.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2">𝑛</ci><ci id="S3.SS1.p4.2.m2.1.1.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">n_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> different slices and we named each slice a keyword, such as name, location, tag name… The <math alttext="i^{th}" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.1"><semantics id="S3.SS1.p4.3.m3.1a"><msup id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml"><mi id="S3.SS1.p4.3.m3.1.1.2" xref="S3.SS1.p4.3.m3.1.1.2.cmml">i</mi><mrow id="S3.SS1.p4.3.m3.1.1.3" xref="S3.SS1.p4.3.m3.1.1.3.cmml"><mi id="S3.SS1.p4.3.m3.1.1.3.2" xref="S3.SS1.p4.3.m3.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p4.3.m3.1.1.3.1" xref="S3.SS1.p4.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p4.3.m3.1.1.3.3" xref="S3.SS1.p4.3.m3.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><apply id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.p4.3.m3.1.1.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2">𝑖</ci><apply id="S3.SS1.p4.3.m3.1.1.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3"><times id="S3.SS1.p4.3.m3.1.1.3.1.cmml" xref="S3.SS1.p4.3.m3.1.1.3.1"></times><ci id="S3.SS1.p4.3.m3.1.1.3.2.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2">𝑡</ci><ci id="S3.SS1.p4.3.m3.1.1.3.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">i^{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.3.m3.1d">italic_i start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> restaurant’s description <math alttext="D_{i}" class="ltx_Math" display="inline" id="S3.SS1.p4.4.m4.1"><semantics id="S3.SS1.p4.4.m4.1a"><msub id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml"><mi id="S3.SS1.p4.4.m4.1.1.2" xref="S3.SS1.p4.4.m4.1.1.2.cmml">D</mi><mi id="S3.SS1.p4.4.m4.1.1.3" xref="S3.SS1.p4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><apply id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.1.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p4.4.m4.1.1.2.cmml" xref="S3.SS1.p4.4.m4.1.1.2">𝐷</ci><ci id="S3.SS1.p4.4.m4.1.1.3.cmml" xref="S3.SS1.p4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> could be formulated as a text set <math alttext="t_{i}" class="ltx_Math" display="inline" id="S3.SS1.p4.5.m5.1"><semantics id="S3.SS1.p4.5.m5.1a"><msub id="S3.SS1.p4.5.m5.1.1" xref="S3.SS1.p4.5.m5.1.1.cmml"><mi id="S3.SS1.p4.5.m5.1.1.2" xref="S3.SS1.p4.5.m5.1.1.2.cmml">t</mi><mi id="S3.SS1.p4.5.m5.1.1.3" xref="S3.SS1.p4.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.5.m5.1b"><apply id="S3.SS1.p4.5.m5.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.5.m5.1.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p4.5.m5.1.1.2.cmml" xref="S3.SS1.p4.5.m5.1.1.2">𝑡</ci><ci id="S3.SS1.p4.5.m5.1.1.3.cmml" xref="S3.SS1.p4.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.5.m5.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.5.m5.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="t_{i}=\{{t_{i}}^{k}\mid k\in\mathbb{N},0\leq k\leq n_{k}\}" class="ltx_Math" display="block" id="S3.E2.m1.2"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml"><msub id="S3.E2.m1.2.2.4" xref="S3.E2.m1.2.2.4.cmml"><mi id="S3.E2.m1.2.2.4.2" xref="S3.E2.m1.2.2.4.2.cmml">t</mi><mi id="S3.E2.m1.2.2.4.3" xref="S3.E2.m1.2.2.4.3.cmml">i</mi></msub><mo id="S3.E2.m1.2.2.3" xref="S3.E2.m1.2.2.3.cmml">=</mo><mrow id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.3.cmml"><mo id="S3.E2.m1.2.2.2.2.3" stretchy="false" xref="S3.E2.m1.2.2.2.3.1.cmml">{</mo><mmultiscripts id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.2.2" xref="S3.E2.m1.1.1.1.1.1.2.2.cmml">t</mi><mi id="S3.E2.m1.1.1.1.1.1.2.3" xref="S3.E2.m1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S3.E2.m1.1.1.1.1.1a" xref="S3.E2.m1.1.1.1.1.1.cmml"></mrow><mrow id="S3.E2.m1.1.1.1.1.1b" xref="S3.E2.m1.1.1.1.1.1.cmml"></mrow><mi id="S3.E2.m1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.3.cmml">k</mi></mmultiscripts><mo fence="true" id="S3.E2.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.E2.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S3.E2.m1.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.3.cmml"><mrow id="S3.E2.m1.2.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.2.1.1.cmml"><mi id="S3.E2.m1.2.2.2.2.2.1.1.2" xref="S3.E2.m1.2.2.2.2.2.1.1.2.cmml">k</mi><mo id="S3.E2.m1.2.2.2.2.2.1.1.1" xref="S3.E2.m1.2.2.2.2.2.1.1.1.cmml">∈</mo><mi id="S3.E2.m1.2.2.2.2.2.1.1.3" xref="S3.E2.m1.2.2.2.2.2.1.1.3.cmml">ℕ</mi></mrow><mo id="S3.E2.m1.2.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E2.m1.2.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.2.cmml"><mn id="S3.E2.m1.2.2.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.2.2.cmml">0</mn><mo id="S3.E2.m1.2.2.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.2.2.3.cmml">≤</mo><mi id="S3.E2.m1.2.2.2.2.2.2.2.4" xref="S3.E2.m1.2.2.2.2.2.2.2.4.cmml">k</mi><mo id="S3.E2.m1.2.2.2.2.2.2.2.5" xref="S3.E2.m1.2.2.2.2.2.2.2.5.cmml">≤</mo><msub id="S3.E2.m1.2.2.2.2.2.2.2.6" xref="S3.E2.m1.2.2.2.2.2.2.2.6.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.2.6.2" xref="S3.E2.m1.2.2.2.2.2.2.2.6.2.cmml">n</mi><mi id="S3.E2.m1.2.2.2.2.2.2.2.6.3" xref="S3.E2.m1.2.2.2.2.2.2.2.6.3.cmml">k</mi></msub></mrow></mrow><mo id="S3.E2.m1.2.2.2.2.5" stretchy="false" xref="S3.E2.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2"><eq id="S3.E2.m1.2.2.3.cmml" xref="S3.E2.m1.2.2.3"></eq><apply id="S3.E2.m1.2.2.4.cmml" xref="S3.E2.m1.2.2.4"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.4.1.cmml" xref="S3.E2.m1.2.2.4">subscript</csymbol><ci id="S3.E2.m1.2.2.4.2.cmml" xref="S3.E2.m1.2.2.4.2">𝑡</ci><ci id="S3.E2.m1.2.2.4.3.cmml" xref="S3.E2.m1.2.2.4.3">𝑖</ci></apply><apply id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2"><csymbol cd="latexml" id="S3.E2.m1.2.2.2.3.1.cmml" xref="S3.E2.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S3.E2.m1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.2.2">𝑡</ci><ci id="S3.E2.m1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E2.m1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E2.m1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.3a.cmml" xref="S3.E2.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.2.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1"><in id="S3.E2.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1.1"></in><ci id="S3.E2.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1.2">𝑘</ci><ci id="S3.E2.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1.3">ℕ</ci></apply><apply id="S3.E2.m1.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2"><and id="S3.E2.m1.2.2.2.2.2.2.2a.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2"></and><apply id="S3.E2.m1.2.2.2.2.2.2.2b.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2"><leq id="S3.E2.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.3"></leq><cn id="S3.E2.m1.2.2.2.2.2.2.2.2.cmml" type="integer" xref="S3.E2.m1.2.2.2.2.2.2.2.2">0</cn><ci id="S3.E2.m1.2.2.2.2.2.2.2.4.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.4">𝑘</ci></apply><apply id="S3.E2.m1.2.2.2.2.2.2.2c.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2"><leq id="S3.E2.m1.2.2.2.2.2.2.2.5.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.5"></leq><share href="https://arxiv.org/html/2408.11523v1#S3.E2.m1.2.2.2.2.2.2.2.4.cmml" id="S3.E2.m1.2.2.2.2.2.2.2d.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2"></share><apply id="S3.E2.m1.2.2.2.2.2.2.2.6.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.6"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.2.2.6.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.6">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.2.2.2.6.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.6.2">𝑛</ci><ci id="S3.E2.m1.2.2.2.2.2.2.2.6.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.6.3">𝑘</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">t_{i}=\{{t_{i}}^{k}\mid k\in\mathbb{N},0\leq k\leq n_{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.2d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = { italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ∣ italic_k ∈ blackboard_N , 0 ≤ italic_k ≤ italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="D_{i}=[{t_{i}}^{0},{t_{i}}^{1},...{t_{i}}^{n_{k}}]" class="ltx_Math" display="block" id="S3.E3.m1.3"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml"><msub id="S3.E3.m1.3.3.5" xref="S3.E3.m1.3.3.5.cmml"><mi id="S3.E3.m1.3.3.5.2" xref="S3.E3.m1.3.3.5.2.cmml">D</mi><mi id="S3.E3.m1.3.3.5.3" xref="S3.E3.m1.3.3.5.3.cmml">i</mi></msub><mo id="S3.E3.m1.3.3.4" xref="S3.E3.m1.3.3.4.cmml">=</mo><mrow id="S3.E3.m1.3.3.3.3" xref="S3.E3.m1.3.3.3.4.cmml"><mo id="S3.E3.m1.3.3.3.3.4" stretchy="false" xref="S3.E3.m1.3.3.3.4.cmml">[</mo><mmultiscripts id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.2.2.cmml">t</mi><mi id="S3.E3.m1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S3.E3.m1.1.1.1.1.1a" xref="S3.E3.m1.1.1.1.1.1.cmml"></mrow><mrow id="S3.E3.m1.1.1.1.1.1b" xref="S3.E3.m1.1.1.1.1.1.cmml"></mrow><mn id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml">0</mn></mmultiscripts><mo id="S3.E3.m1.3.3.3.3.5" xref="S3.E3.m1.3.3.3.4.cmml">,</mo><mmultiscripts id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.cmml">t</mi><mi id="S3.E3.m1.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">i</mi><mrow id="S3.E3.m1.2.2.2.2.2a" xref="S3.E3.m1.2.2.2.2.2.cmml"></mrow><mrow id="S3.E3.m1.2.2.2.2.2b" xref="S3.E3.m1.2.2.2.2.2.cmml"></mrow><mn id="S3.E3.m1.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.3.cmml">1</mn></mmultiscripts><mo id="S3.E3.m1.3.3.3.3.6" xref="S3.E3.m1.3.3.3.4.cmml">,</mo><mrow id="S3.E3.m1.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.cmml"><mi id="S3.E3.m1.3.3.3.3.3.2" mathvariant="normal" xref="S3.E3.m1.3.3.3.3.3.2.cmml">…</mi><mo id="S3.E3.m1.3.3.3.3.3.1" xref="S3.E3.m1.3.3.3.3.3.1.cmml">⁢</mo><mmultiscripts id="S3.E3.m1.3.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.3.cmml"><mi id="S3.E3.m1.3.3.3.3.3.3.2.2" xref="S3.E3.m1.3.3.3.3.3.3.2.2.cmml">t</mi><mi id="S3.E3.m1.3.3.3.3.3.3.2.3" xref="S3.E3.m1.3.3.3.3.3.3.2.3.cmml">i</mi><mrow id="S3.E3.m1.3.3.3.3.3.3a" xref="S3.E3.m1.3.3.3.3.3.3.cmml"></mrow><mrow id="S3.E3.m1.3.3.3.3.3.3b" xref="S3.E3.m1.3.3.3.3.3.3.cmml"></mrow><msub id="S3.E3.m1.3.3.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.3.3.cmml"><mi id="S3.E3.m1.3.3.3.3.3.3.3.2" xref="S3.E3.m1.3.3.3.3.3.3.3.2.cmml">n</mi><mi id="S3.E3.m1.3.3.3.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.3.3.3.cmml">k</mi></msub></mmultiscripts></mrow><mo id="S3.E3.m1.3.3.3.3.7" stretchy="false" xref="S3.E3.m1.3.3.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3"><eq id="S3.E3.m1.3.3.4.cmml" xref="S3.E3.m1.3.3.4"></eq><apply id="S3.E3.m1.3.3.5.cmml" xref="S3.E3.m1.3.3.5"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.5.1.cmml" xref="S3.E3.m1.3.3.5">subscript</csymbol><ci id="S3.E3.m1.3.3.5.2.cmml" xref="S3.E3.m1.3.3.5.2">𝐷</ci><ci id="S3.E3.m1.3.3.5.3.cmml" xref="S3.E3.m1.3.3.5.3">𝑖</ci></apply><list id="S3.E3.m1.3.3.3.4.cmml" xref="S3.E3.m1.3.3.3.3"><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2.2">𝑡</ci><ci id="S3.E3.m1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.2.3">𝑖</ci></apply><cn id="S3.E3.m1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.3">0</cn></apply><apply id="S3.E3.m1.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.E3.m1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2">𝑡</ci><ci id="S3.E3.m1.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3">𝑖</ci></apply><cn id="S3.E3.m1.2.2.2.2.2.3.cmml" type="integer" xref="S3.E3.m1.2.2.2.2.2.3">1</cn></apply><apply id="S3.E3.m1.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3"><times id="S3.E3.m1.3.3.3.3.3.1.cmml" xref="S3.E3.m1.3.3.3.3.3.1"></times><ci id="S3.E3.m1.3.3.3.3.3.2.cmml" xref="S3.E3.m1.3.3.3.3.3.2">…</ci><apply id="S3.E3.m1.3.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.3.3.1.cmml" xref="S3.E3.m1.3.3.3.3.3.3">superscript</csymbol><apply id="S3.E3.m1.3.3.3.3.3.3.2.cmml" xref="S3.E3.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.3.3.2.1.cmml" xref="S3.E3.m1.3.3.3.3.3.3">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.3.3.2.2.cmml" xref="S3.E3.m1.3.3.3.3.3.3.2.2">𝑡</ci><ci id="S3.E3.m1.3.3.3.3.3.3.2.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3.2.3">𝑖</ci></apply><apply id="S3.E3.m1.3.3.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.3.3.3.1.cmml" xref="S3.E3.m1.3.3.3.3.3.3.3">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.3.3.3.2.cmml" xref="S3.E3.m1.3.3.3.3.3.3.3.2">𝑛</ci><ci id="S3.E3.m1.3.3.3.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3.3.3">𝑘</ci></apply></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">D_{i}=[{t_{i}}^{0},{t_{i}}^{1},...{t_{i}}^{n_{k}}]</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.3d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , … italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p4.8">where <math alttext="[...]" class="ltx_Math" display="inline" id="S3.SS1.p4.6.m1.1"><semantics id="S3.SS1.p4.6.m1.1a"><mrow id="S3.SS1.p4.6.m1.1.2.2" xref="S3.SS1.p4.6.m1.1.2.1.cmml"><mo id="S3.SS1.p4.6.m1.1.2.2.1" stretchy="false" xref="S3.SS1.p4.6.m1.1.2.1.1.cmml">[</mo><mi id="S3.SS1.p4.6.m1.1.1" mathvariant="normal" xref="S3.SS1.p4.6.m1.1.1.cmml">…</mi><mo id="S3.SS1.p4.6.m1.1.2.2.2" stretchy="false" xref="S3.SS1.p4.6.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.6.m1.1b"><apply id="S3.SS1.p4.6.m1.1.2.1.cmml" xref="S3.SS1.p4.6.m1.1.2.2"><csymbol cd="latexml" id="S3.SS1.p4.6.m1.1.2.1.1.cmml" xref="S3.SS1.p4.6.m1.1.2.2.1">delimited-[]</csymbol><ci id="S3.SS1.p4.6.m1.1.1.cmml" xref="S3.SS1.p4.6.m1.1.1">…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.6.m1.1c">[...]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.6.m1.1d">[ … ]</annotation></semantics></math> is concatenation between different text and <math alttext="{t_{i}}^{k}" class="ltx_Math" display="inline" id="S3.SS1.p4.7.m2.1"><semantics id="S3.SS1.p4.7.m2.1a"><mmultiscripts id="S3.SS1.p4.7.m2.1.1" xref="S3.SS1.p4.7.m2.1.1.cmml"><mi id="S3.SS1.p4.7.m2.1.1.2.2" xref="S3.SS1.p4.7.m2.1.1.2.2.cmml">t</mi><mi id="S3.SS1.p4.7.m2.1.1.2.3" xref="S3.SS1.p4.7.m2.1.1.2.3.cmml">i</mi><mrow id="S3.SS1.p4.7.m2.1.1a" xref="S3.SS1.p4.7.m2.1.1.cmml"></mrow><mrow id="S3.SS1.p4.7.m2.1.1b" xref="S3.SS1.p4.7.m2.1.1.cmml"></mrow><mi id="S3.SS1.p4.7.m2.1.1.3" xref="S3.SS1.p4.7.m2.1.1.3.cmml">k</mi></mmultiscripts><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.7.m2.1b"><apply id="S3.SS1.p4.7.m2.1.1.cmml" xref="S3.SS1.p4.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.7.m2.1.1.1.cmml" xref="S3.SS1.p4.7.m2.1.1">superscript</csymbol><apply id="S3.SS1.p4.7.m2.1.1.2.cmml" xref="S3.SS1.p4.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.7.m2.1.1.2.1.cmml" xref="S3.SS1.p4.7.m2.1.1">subscript</csymbol><ci id="S3.SS1.p4.7.m2.1.1.2.2.cmml" xref="S3.SS1.p4.7.m2.1.1.2.2">𝑡</ci><ci id="S3.SS1.p4.7.m2.1.1.2.3.cmml" xref="S3.SS1.p4.7.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p4.7.m2.1.1.3.cmml" xref="S3.SS1.p4.7.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.7.m2.1c">{t_{i}}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.7.m2.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> is a discrete text feature, <math alttext="{t_{i}}" class="ltx_Math" display="inline" id="S3.SS1.p4.8.m3.1"><semantics id="S3.SS1.p4.8.m3.1a"><msub id="S3.SS1.p4.8.m3.1.1" xref="S3.SS1.p4.8.m3.1.1.cmml"><mi id="S3.SS1.p4.8.m3.1.1.2" xref="S3.SS1.p4.8.m3.1.1.2.cmml">t</mi><mi id="S3.SS1.p4.8.m3.1.1.3" xref="S3.SS1.p4.8.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.8.m3.1b"><apply id="S3.SS1.p4.8.m3.1.1.cmml" xref="S3.SS1.p4.8.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.8.m3.1.1.1.cmml" xref="S3.SS1.p4.8.m3.1.1">subscript</csymbol><ci id="S3.SS1.p4.8.m3.1.1.2.cmml" xref="S3.SS1.p4.8.m3.1.1.2">𝑡</ci><ci id="S3.SS1.p4.8.m3.1.1.3.cmml" xref="S3.SS1.p4.8.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.8.m3.1c">{t_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.8.m3.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the aggregation of a bunch of discrete text features.</p>
</div>
<div class="ltx_para" id="S3.SS1.p5">
<p class="ltx_p" id="S3.SS1.p5.2">Through the descriptive text, the LLM could capture the similarity among different POIs. Since the language model was pre-trained on general corpora, thus there are some gap between the pretraining and continual pretraining corpora. To address this problem, we introduce some special tokens to assist the LLM in better understanding the content during the continual pretraining stage. To be specific, we use a set of special token <math alttext="sp" class="ltx_Math" display="inline" id="S3.SS1.p5.1.m1.1"><semantics id="S3.SS1.p5.1.m1.1a"><mrow id="S3.SS1.p5.1.m1.1.1" xref="S3.SS1.p5.1.m1.1.1.cmml"><mi id="S3.SS1.p5.1.m1.1.1.2" xref="S3.SS1.p5.1.m1.1.1.2.cmml">s</mi><mo id="S3.SS1.p5.1.m1.1.1.1" xref="S3.SS1.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p5.1.m1.1.1.3" xref="S3.SS1.p5.1.m1.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.1.m1.1b"><apply id="S3.SS1.p5.1.m1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1"><times id="S3.SS1.p5.1.m1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1.1"></times><ci id="S3.SS1.p5.1.m1.1.1.2.cmml" xref="S3.SS1.p5.1.m1.1.1.2">𝑠</ci><ci id="S3.SS1.p5.1.m1.1.1.3.cmml" xref="S3.SS1.p5.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.1.m1.1c">sp</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.1.m1.1d">italic_s italic_p</annotation></semantics></math> for <math alttext="n_{k}" class="ltx_Math" display="inline" id="S3.SS1.p5.2.m2.1"><semantics id="S3.SS1.p5.2.m2.1a"><msub id="S3.SS1.p5.2.m2.1.1" xref="S3.SS1.p5.2.m2.1.1.cmml"><mi id="S3.SS1.p5.2.m2.1.1.2" xref="S3.SS1.p5.2.m2.1.1.2.cmml">n</mi><mi id="S3.SS1.p5.2.m2.1.1.3" xref="S3.SS1.p5.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.2.m2.1b"><apply id="S3.SS1.p5.2.m2.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.2.m2.1.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p5.2.m2.1.1.2.cmml" xref="S3.SS1.p5.2.m2.1.1.2">𝑛</ci><ci id="S3.SS1.p5.2.m2.1.1.3.cmml" xref="S3.SS1.p5.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.2.m2.1c">n_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.2.m2.1d">italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> keywords in description to wrap key information.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="sp_{p}=\{(sp^{bos}_{k},sp^{eos}_{k})\mid k\in\mathbb{N},0\leq k\leq n_{k}\}" class="ltx_Math" display="block" id="S3.E4.m1.2"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml"><mrow id="S3.E4.m1.2.2.4" xref="S3.E4.m1.2.2.4.cmml"><mi id="S3.E4.m1.2.2.4.2" xref="S3.E4.m1.2.2.4.2.cmml">s</mi><mo id="S3.E4.m1.2.2.4.1" xref="S3.E4.m1.2.2.4.1.cmml">⁢</mo><msub id="S3.E4.m1.2.2.4.3" xref="S3.E4.m1.2.2.4.3.cmml"><mi id="S3.E4.m1.2.2.4.3.2" xref="S3.E4.m1.2.2.4.3.2.cmml">p</mi><mi id="S3.E4.m1.2.2.4.3.3" xref="S3.E4.m1.2.2.4.3.3.cmml">p</mi></msub></mrow><mo id="S3.E4.m1.2.2.3" xref="S3.E4.m1.2.2.3.cmml">=</mo><mrow id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.3.cmml"><mo id="S3.E4.m1.2.2.2.2.3" stretchy="false" xref="S3.E4.m1.2.2.2.3.1.cmml">{</mo><mrow id="S3.E4.m1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.3.cmml"><mo id="S3.E4.m1.1.1.1.1.1.2.3" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.3.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.cmml">s</mi><mo id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">⁢</mo><msubsup id="S3.E4.m1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.2.cmml">p</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.3.cmml">k</mi><mrow id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.2.cmml">b</mi><mo id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1a" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.4" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E4.m1.1.1.1.1.1.2.4" xref="S3.E4.m1.1.1.1.1.1.3.cmml">,</mo><mrow id="S3.E4.m1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E4.m1.1.1.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.1.2.2.1.cmml">⁢</mo><msubsup id="S3.E4.m1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.2.2.3.2.2" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.2.cmml">p</mi><mi id="S3.E4.m1.1.1.1.1.1.2.2.3.3" xref="S3.E4.m1.1.1.1.1.1.2.2.3.3.cmml">k</mi><mrow id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.2" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.2.cmml">e</mi><mo id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.3" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.3.cmml">o</mi><mo id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1a" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.4" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E4.m1.1.1.1.1.1.2.5" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.E4.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.E4.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S3.E4.m1.2.2.2.2.2.2" xref="S3.E4.m1.2.2.2.2.2.3.cmml"><mrow id="S3.E4.m1.2.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.2.1.1.cmml"><mi id="S3.E4.m1.2.2.2.2.2.1.1.2" xref="S3.E4.m1.2.2.2.2.2.1.1.2.cmml">k</mi><mo id="S3.E4.m1.2.2.2.2.2.1.1.1" xref="S3.E4.m1.2.2.2.2.2.1.1.1.cmml">∈</mo><mi id="S3.E4.m1.2.2.2.2.2.1.1.3" xref="S3.E4.m1.2.2.2.2.2.1.1.3.cmml">ℕ</mi></mrow><mo id="S3.E4.m1.2.2.2.2.2.2.3" xref="S3.E4.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E4.m1.2.2.2.2.2.2.2" xref="S3.E4.m1.2.2.2.2.2.2.2.cmml"><mn id="S3.E4.m1.2.2.2.2.2.2.2.2" xref="S3.E4.m1.2.2.2.2.2.2.2.2.cmml">0</mn><mo id="S3.E4.m1.2.2.2.2.2.2.2.3" xref="S3.E4.m1.2.2.2.2.2.2.2.3.cmml">≤</mo><mi id="S3.E4.m1.2.2.2.2.2.2.2.4" xref="S3.E4.m1.2.2.2.2.2.2.2.4.cmml">k</mi><mo id="S3.E4.m1.2.2.2.2.2.2.2.5" xref="S3.E4.m1.2.2.2.2.2.2.2.5.cmml">≤</mo><msub id="S3.E4.m1.2.2.2.2.2.2.2.6" xref="S3.E4.m1.2.2.2.2.2.2.2.6.cmml"><mi id="S3.E4.m1.2.2.2.2.2.2.2.6.2" xref="S3.E4.m1.2.2.2.2.2.2.2.6.2.cmml">n</mi><mi id="S3.E4.m1.2.2.2.2.2.2.2.6.3" xref="S3.E4.m1.2.2.2.2.2.2.2.6.3.cmml">k</mi></msub></mrow></mrow><mo id="S3.E4.m1.2.2.2.2.5" stretchy="false" xref="S3.E4.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2"><eq id="S3.E4.m1.2.2.3.cmml" xref="S3.E4.m1.2.2.3"></eq><apply id="S3.E4.m1.2.2.4.cmml" xref="S3.E4.m1.2.2.4"><times id="S3.E4.m1.2.2.4.1.cmml" xref="S3.E4.m1.2.2.4.1"></times><ci id="S3.E4.m1.2.2.4.2.cmml" xref="S3.E4.m1.2.2.4.2">𝑠</ci><apply id="S3.E4.m1.2.2.4.3.cmml" xref="S3.E4.m1.2.2.4.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.4.3.1.cmml" xref="S3.E4.m1.2.2.4.3">subscript</csymbol><ci id="S3.E4.m1.2.2.4.3.2.cmml" xref="S3.E4.m1.2.2.4.3.2">𝑝</ci><ci id="S3.E4.m1.2.2.4.3.3.cmml" xref="S3.E4.m1.2.2.4.3.3">𝑝</ci></apply></apply><apply id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2"><csymbol cd="latexml" id="S3.E4.m1.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.2.2.3">conditional-set</csymbol><interval closure="open" id="S3.E4.m1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.2"><apply id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1"></times><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.2">𝑝</ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3"><times id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.3">𝑜</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.4.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2"><times id="S3.E4.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.1"></times><ci id="S3.E4.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.2">𝑠</ci><apply id="S3.E4.m1.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3">superscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.2">𝑝</ci><apply id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3"><times id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.1"></times><ci id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.2">𝑒</ci><ci id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.3">𝑜</ci><ci id="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.4.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.E4.m1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.2.2.3.3">𝑘</ci></apply></apply></interval><apply id="S3.E4.m1.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.2.3a.cmml" xref="S3.E4.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E4.m1.2.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.2.1.1"><in id="S3.E4.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.2.2.2.1.1.1"></in><ci id="S3.E4.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.2.2.2.1.1.2">𝑘</ci><ci id="S3.E4.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.2.2.2.1.1.3">ℕ</ci></apply><apply id="S3.E4.m1.2.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2"><and id="S3.E4.m1.2.2.2.2.2.2.2a.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2"></and><apply id="S3.E4.m1.2.2.2.2.2.2.2b.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2"><leq id="S3.E4.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.3"></leq><cn id="S3.E4.m1.2.2.2.2.2.2.2.2.cmml" type="integer" xref="S3.E4.m1.2.2.2.2.2.2.2.2">0</cn><ci id="S3.E4.m1.2.2.2.2.2.2.2.4.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.4">𝑘</ci></apply><apply id="S3.E4.m1.2.2.2.2.2.2.2c.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2"><leq id="S3.E4.m1.2.2.2.2.2.2.2.5.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.5"></leq><share href="https://arxiv.org/html/2408.11523v1#S3.E4.m1.2.2.2.2.2.2.2.4.cmml" id="S3.E4.m1.2.2.2.2.2.2.2d.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2"></share><apply id="S3.E4.m1.2.2.2.2.2.2.2.6.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.6"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.2.2.2.6.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.6">subscript</csymbol><ci id="S3.E4.m1.2.2.2.2.2.2.2.6.2.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.6.2">𝑛</ci><ci id="S3.E4.m1.2.2.2.2.2.2.2.6.3.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.6.3">𝑘</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">sp_{p}=\{(sp^{bos}_{k},sp^{eos}_{k})\mid k\in\mathbb{N},0\leq k\leq n_{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.2d">italic_s italic_p start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT = { ( italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∣ italic_k ∈ blackboard_N , 0 ≤ italic_k ≤ italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p6">
<p class="ltx_p" id="S3.SS1.p6.7">For example, ¡POI_name¿ and ¡/POI_name¿ would be added at the very first and the very last of the <math alttext="0^{th}" class="ltx_Math" display="inline" id="S3.SS1.p6.1.m1.1"><semantics id="S3.SS1.p6.1.m1.1a"><msup id="S3.SS1.p6.1.m1.1.1" xref="S3.SS1.p6.1.m1.1.1.cmml"><mn id="S3.SS1.p6.1.m1.1.1.2" xref="S3.SS1.p6.1.m1.1.1.2.cmml">0</mn><mrow id="S3.SS1.p6.1.m1.1.1.3" xref="S3.SS1.p6.1.m1.1.1.3.cmml"><mi id="S3.SS1.p6.1.m1.1.1.3.2" xref="S3.SS1.p6.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p6.1.m1.1.1.3.1" xref="S3.SS1.p6.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p6.1.m1.1.1.3.3" xref="S3.SS1.p6.1.m1.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.1.m1.1b"><apply id="S3.SS1.p6.1.m1.1.1.cmml" xref="S3.SS1.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.1.m1.1.1.1.cmml" xref="S3.SS1.p6.1.m1.1.1">superscript</csymbol><cn id="S3.SS1.p6.1.m1.1.1.2.cmml" type="integer" xref="S3.SS1.p6.1.m1.1.1.2">0</cn><apply id="S3.SS1.p6.1.m1.1.1.3.cmml" xref="S3.SS1.p6.1.m1.1.1.3"><times id="S3.SS1.p6.1.m1.1.1.3.1.cmml" xref="S3.SS1.p6.1.m1.1.1.3.1"></times><ci id="S3.SS1.p6.1.m1.1.1.3.2.cmml" xref="S3.SS1.p6.1.m1.1.1.3.2">𝑡</ci><ci id="S3.SS1.p6.1.m1.1.1.3.3.cmml" xref="S3.SS1.p6.1.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.1.m1.1c">0^{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.1.m1.1d">0 start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> keyword POI name respectively, the former special token is <math alttext="sp^{bos}_{0}" class="ltx_Math" display="inline" id="S3.SS1.p6.2.m2.1"><semantics id="S3.SS1.p6.2.m2.1a"><mrow id="S3.SS1.p6.2.m2.1.1" xref="S3.SS1.p6.2.m2.1.1.cmml"><mi id="S3.SS1.p6.2.m2.1.1.2" xref="S3.SS1.p6.2.m2.1.1.2.cmml">s</mi><mo id="S3.SS1.p6.2.m2.1.1.1" xref="S3.SS1.p6.2.m2.1.1.1.cmml">⁢</mo><msubsup id="S3.SS1.p6.2.m2.1.1.3" xref="S3.SS1.p6.2.m2.1.1.3.cmml"><mi id="S3.SS1.p6.2.m2.1.1.3.2.2" xref="S3.SS1.p6.2.m2.1.1.3.2.2.cmml">p</mi><mn id="S3.SS1.p6.2.m2.1.1.3.3" xref="S3.SS1.p6.2.m2.1.1.3.3.cmml">0</mn><mrow id="S3.SS1.p6.2.m2.1.1.3.2.3" xref="S3.SS1.p6.2.m2.1.1.3.2.3.cmml"><mi id="S3.SS1.p6.2.m2.1.1.3.2.3.2" xref="S3.SS1.p6.2.m2.1.1.3.2.3.2.cmml">b</mi><mo id="S3.SS1.p6.2.m2.1.1.3.2.3.1" xref="S3.SS1.p6.2.m2.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p6.2.m2.1.1.3.2.3.3" xref="S3.SS1.p6.2.m2.1.1.3.2.3.3.cmml">o</mi><mo id="S3.SS1.p6.2.m2.1.1.3.2.3.1a" xref="S3.SS1.p6.2.m2.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p6.2.m2.1.1.3.2.3.4" xref="S3.SS1.p6.2.m2.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.2.m2.1b"><apply id="S3.SS1.p6.2.m2.1.1.cmml" xref="S3.SS1.p6.2.m2.1.1"><times id="S3.SS1.p6.2.m2.1.1.1.cmml" xref="S3.SS1.p6.2.m2.1.1.1"></times><ci id="S3.SS1.p6.2.m2.1.1.2.cmml" xref="S3.SS1.p6.2.m2.1.1.2">𝑠</ci><apply id="S3.SS1.p6.2.m2.1.1.3.cmml" xref="S3.SS1.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.2.m2.1.1.3.1.cmml" xref="S3.SS1.p6.2.m2.1.1.3">subscript</csymbol><apply id="S3.SS1.p6.2.m2.1.1.3.2.cmml" xref="S3.SS1.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.2.m2.1.1.3.2.1.cmml" xref="S3.SS1.p6.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS1.p6.2.m2.1.1.3.2.2.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.2">𝑝</ci><apply id="S3.SS1.p6.2.m2.1.1.3.2.3.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.3"><times id="S3.SS1.p6.2.m2.1.1.3.2.3.1.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.3.1"></times><ci id="S3.SS1.p6.2.m2.1.1.3.2.3.2.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.3.2">𝑏</ci><ci id="S3.SS1.p6.2.m2.1.1.3.2.3.3.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.3.3">𝑜</ci><ci id="S3.SS1.p6.2.m2.1.1.3.2.3.4.cmml" xref="S3.SS1.p6.2.m2.1.1.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS1.p6.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS1.p6.2.m2.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.2.m2.1c">sp^{bos}_{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.2.m2.1d">italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> indicating that the following information pertains to the restaurant’s name while the trailing one is is <math alttext="sp^{eos}_{0}" class="ltx_Math" display="inline" id="S3.SS1.p6.3.m3.1"><semantics id="S3.SS1.p6.3.m3.1a"><mrow id="S3.SS1.p6.3.m3.1.1" xref="S3.SS1.p6.3.m3.1.1.cmml"><mi id="S3.SS1.p6.3.m3.1.1.2" xref="S3.SS1.p6.3.m3.1.1.2.cmml">s</mi><mo id="S3.SS1.p6.3.m3.1.1.1" xref="S3.SS1.p6.3.m3.1.1.1.cmml">⁢</mo><msubsup id="S3.SS1.p6.3.m3.1.1.3" xref="S3.SS1.p6.3.m3.1.1.3.cmml"><mi id="S3.SS1.p6.3.m3.1.1.3.2.2" xref="S3.SS1.p6.3.m3.1.1.3.2.2.cmml">p</mi><mn id="S3.SS1.p6.3.m3.1.1.3.3" xref="S3.SS1.p6.3.m3.1.1.3.3.cmml">0</mn><mrow id="S3.SS1.p6.3.m3.1.1.3.2.3" xref="S3.SS1.p6.3.m3.1.1.3.2.3.cmml"><mi id="S3.SS1.p6.3.m3.1.1.3.2.3.2" xref="S3.SS1.p6.3.m3.1.1.3.2.3.2.cmml">e</mi><mo id="S3.SS1.p6.3.m3.1.1.3.2.3.1" xref="S3.SS1.p6.3.m3.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p6.3.m3.1.1.3.2.3.3" xref="S3.SS1.p6.3.m3.1.1.3.2.3.3.cmml">o</mi><mo id="S3.SS1.p6.3.m3.1.1.3.2.3.1a" xref="S3.SS1.p6.3.m3.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p6.3.m3.1.1.3.2.3.4" xref="S3.SS1.p6.3.m3.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.3.m3.1b"><apply id="S3.SS1.p6.3.m3.1.1.cmml" xref="S3.SS1.p6.3.m3.1.1"><times id="S3.SS1.p6.3.m3.1.1.1.cmml" xref="S3.SS1.p6.3.m3.1.1.1"></times><ci id="S3.SS1.p6.3.m3.1.1.2.cmml" xref="S3.SS1.p6.3.m3.1.1.2">𝑠</ci><apply id="S3.SS1.p6.3.m3.1.1.3.cmml" xref="S3.SS1.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.3.m3.1.1.3.1.cmml" xref="S3.SS1.p6.3.m3.1.1.3">subscript</csymbol><apply id="S3.SS1.p6.3.m3.1.1.3.2.cmml" xref="S3.SS1.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.3.m3.1.1.3.2.1.cmml" xref="S3.SS1.p6.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS1.p6.3.m3.1.1.3.2.2.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.2">𝑝</ci><apply id="S3.SS1.p6.3.m3.1.1.3.2.3.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.3"><times id="S3.SS1.p6.3.m3.1.1.3.2.3.1.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.3.1"></times><ci id="S3.SS1.p6.3.m3.1.1.3.2.3.2.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.3.2">𝑒</ci><ci id="S3.SS1.p6.3.m3.1.1.3.2.3.3.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.3.3">𝑜</ci><ci id="S3.SS1.p6.3.m3.1.1.3.2.3.4.cmml" xref="S3.SS1.p6.3.m3.1.1.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS1.p6.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS1.p6.3.m3.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.3.m3.1c">sp^{eos}_{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.3.m3.1d">italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>, signaling the end of the name input.
With the help of special token set <math alttext="sp" class="ltx_Math" display="inline" id="S3.SS1.p6.4.m4.1"><semantics id="S3.SS1.p6.4.m4.1a"><mrow id="S3.SS1.p6.4.m4.1.1" xref="S3.SS1.p6.4.m4.1.1.cmml"><mi id="S3.SS1.p6.4.m4.1.1.2" xref="S3.SS1.p6.4.m4.1.1.2.cmml">s</mi><mo id="S3.SS1.p6.4.m4.1.1.1" xref="S3.SS1.p6.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p6.4.m4.1.1.3" xref="S3.SS1.p6.4.m4.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.4.m4.1b"><apply id="S3.SS1.p6.4.m4.1.1.cmml" xref="S3.SS1.p6.4.m4.1.1"><times id="S3.SS1.p6.4.m4.1.1.1.cmml" xref="S3.SS1.p6.4.m4.1.1.1"></times><ci id="S3.SS1.p6.4.m4.1.1.2.cmml" xref="S3.SS1.p6.4.m4.1.1.2">𝑠</ci><ci id="S3.SS1.p6.4.m4.1.1.3.cmml" xref="S3.SS1.p6.4.m4.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.4.m4.1c">sp</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.4.m4.1d">italic_s italic_p</annotation></semantics></math>, We split the original description of each POI into <math alttext="D_{i}=[x_{i},y_{i}]" class="ltx_Math" display="inline" id="S3.SS1.p6.5.m5.2"><semantics id="S3.SS1.p6.5.m5.2a"><mrow id="S3.SS1.p6.5.m5.2.2" xref="S3.SS1.p6.5.m5.2.2.cmml"><msub id="S3.SS1.p6.5.m5.2.2.4" xref="S3.SS1.p6.5.m5.2.2.4.cmml"><mi id="S3.SS1.p6.5.m5.2.2.4.2" xref="S3.SS1.p6.5.m5.2.2.4.2.cmml">D</mi><mi id="S3.SS1.p6.5.m5.2.2.4.3" xref="S3.SS1.p6.5.m5.2.2.4.3.cmml">i</mi></msub><mo id="S3.SS1.p6.5.m5.2.2.3" xref="S3.SS1.p6.5.m5.2.2.3.cmml">=</mo><mrow id="S3.SS1.p6.5.m5.2.2.2.2" xref="S3.SS1.p6.5.m5.2.2.2.3.cmml"><mo id="S3.SS1.p6.5.m5.2.2.2.2.3" stretchy="false" xref="S3.SS1.p6.5.m5.2.2.2.3.cmml">[</mo><msub id="S3.SS1.p6.5.m5.1.1.1.1.1" xref="S3.SS1.p6.5.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.p6.5.m5.1.1.1.1.1.2" xref="S3.SS1.p6.5.m5.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p6.5.m5.1.1.1.1.1.3" xref="S3.SS1.p6.5.m5.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p6.5.m5.2.2.2.2.4" xref="S3.SS1.p6.5.m5.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p6.5.m5.2.2.2.2.2" xref="S3.SS1.p6.5.m5.2.2.2.2.2.cmml"><mi id="S3.SS1.p6.5.m5.2.2.2.2.2.2" xref="S3.SS1.p6.5.m5.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS1.p6.5.m5.2.2.2.2.2.3" xref="S3.SS1.p6.5.m5.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p6.5.m5.2.2.2.2.5" stretchy="false" xref="S3.SS1.p6.5.m5.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.5.m5.2b"><apply id="S3.SS1.p6.5.m5.2.2.cmml" xref="S3.SS1.p6.5.m5.2.2"><eq id="S3.SS1.p6.5.m5.2.2.3.cmml" xref="S3.SS1.p6.5.m5.2.2.3"></eq><apply id="S3.SS1.p6.5.m5.2.2.4.cmml" xref="S3.SS1.p6.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p6.5.m5.2.2.4.1.cmml" xref="S3.SS1.p6.5.m5.2.2.4">subscript</csymbol><ci id="S3.SS1.p6.5.m5.2.2.4.2.cmml" xref="S3.SS1.p6.5.m5.2.2.4.2">𝐷</ci><ci id="S3.SS1.p6.5.m5.2.2.4.3.cmml" xref="S3.SS1.p6.5.m5.2.2.4.3">𝑖</ci></apply><interval closure="closed" id="S3.SS1.p6.5.m5.2.2.2.3.cmml" xref="S3.SS1.p6.5.m5.2.2.2.2"><apply id="S3.SS1.p6.5.m5.1.1.1.1.1.cmml" xref="S3.SS1.p6.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p6.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.5.m5.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p6.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.5.m5.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p6.5.m5.2.2.2.2.2.cmml" xref="S3.SS1.p6.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p6.5.m5.2.2.2.2.2.1.cmml" xref="S3.SS1.p6.5.m5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p6.5.m5.2.2.2.2.2.2.cmml" xref="S3.SS1.p6.5.m5.2.2.2.2.2.2">𝑦</ci><ci id="S3.SS1.p6.5.m5.2.2.2.2.2.3.cmml" xref="S3.SS1.p6.5.m5.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.5.m5.2c">D_{i}=[x_{i},y_{i}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.5.m5.2d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ]</annotation></semantics></math> for LLM. The text input <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p6.6.m6.1"><semantics id="S3.SS1.p6.6.m6.1a"><msub id="S3.SS1.p6.6.m6.1.1" xref="S3.SS1.p6.6.m6.1.1.cmml"><mi id="S3.SS1.p6.6.m6.1.1.2" xref="S3.SS1.p6.6.m6.1.1.2.cmml">x</mi><mi id="S3.SS1.p6.6.m6.1.1.3" xref="S3.SS1.p6.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.6.m6.1b"><apply id="S3.SS1.p6.6.m6.1.1.cmml" xref="S3.SS1.p6.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.6.m6.1.1.1.cmml" xref="S3.SS1.p6.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p6.6.m6.1.1.2.cmml" xref="S3.SS1.p6.6.m6.1.1.2">𝑥</ci><ci id="S3.SS1.p6.6.m6.1.1.3.cmml" xref="S3.SS1.p6.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.6.m6.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.6.m6.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and expected text output <math alttext="y_{i}" class="ltx_Math" display="inline" id="S3.SS1.p6.7.m7.1"><semantics id="S3.SS1.p6.7.m7.1a"><msub id="S3.SS1.p6.7.m7.1.1" xref="S3.SS1.p6.7.m7.1.1.cmml"><mi id="S3.SS1.p6.7.m7.1.1.2" xref="S3.SS1.p6.7.m7.1.1.2.cmml">y</mi><mi id="S3.SS1.p6.7.m7.1.1.3" xref="S3.SS1.p6.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.7.m7.1b"><apply id="S3.SS1.p6.7.m7.1.1.cmml" xref="S3.SS1.p6.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.7.m7.1.1.1.cmml" xref="S3.SS1.p6.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p6.7.m7.1.1.2.cmml" xref="S3.SS1.p6.7.m7.1.1.2">𝑦</ci><ci id="S3.SS1.p6.7.m7.1.1.3.cmml" xref="S3.SS1.p6.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.7.m7.1c">y_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.7.m7.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> could be formulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="x_{i}=[sp^{bos}_{0},t_{i}^{0},sp^{eos}_{0},sp^{bos}_{1},t_{i}^{1},sp^{eos}_{1}]" class="ltx_Math" display="block" id="S3.E5.m1.6"><semantics id="S3.E5.m1.6a"><mrow id="S3.E5.m1.6.6" xref="S3.E5.m1.6.6.cmml"><msub id="S3.E5.m1.6.6.8" xref="S3.E5.m1.6.6.8.cmml"><mi id="S3.E5.m1.6.6.8.2" xref="S3.E5.m1.6.6.8.2.cmml">x</mi><mi id="S3.E5.m1.6.6.8.3" xref="S3.E5.m1.6.6.8.3.cmml">i</mi></msub><mo id="S3.E5.m1.6.6.7" xref="S3.E5.m1.6.6.7.cmml">=</mo><mrow id="S3.E5.m1.6.6.6.6" xref="S3.E5.m1.6.6.6.7.cmml"><mo id="S3.E5.m1.6.6.6.6.7" stretchy="false" xref="S3.E5.m1.6.6.6.7.cmml">[</mo><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">s</mi><mo id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">⁢</mo><msubsup id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.1.3.2.2.cmml">p</mi><mn id="S3.E5.m1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3.cmml">0</mn><mrow id="S3.E5.m1.1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.2.3.2" xref="S3.E5.m1.1.1.1.1.1.3.2.3.2.cmml">b</mi><mo id="S3.E5.m1.1.1.1.1.1.3.2.3.1" xref="S3.E5.m1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.1.1.1.1.1.3.2.3.3" xref="S3.E5.m1.1.1.1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.E5.m1.1.1.1.1.1.3.2.3.1a" xref="S3.E5.m1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.1.1.1.1.1.3.2.3.4" xref="S3.E5.m1.1.1.1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E5.m1.6.6.6.6.8" xref="S3.E5.m1.6.6.6.7.cmml">,</mo><msubsup id="S3.E5.m1.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.cmml"><mi id="S3.E5.m1.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.cmml">t</mi><mi id="S3.E5.m1.2.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.2.3.cmml">i</mi><mn id="S3.E5.m1.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.3.cmml">0</mn></msubsup><mo id="S3.E5.m1.6.6.6.6.9" xref="S3.E5.m1.6.6.6.7.cmml">,</mo><mrow id="S3.E5.m1.3.3.3.3.3" xref="S3.E5.m1.3.3.3.3.3.cmml"><mi id="S3.E5.m1.3.3.3.3.3.2" xref="S3.E5.m1.3.3.3.3.3.2.cmml">s</mi><mo id="S3.E5.m1.3.3.3.3.3.1" xref="S3.E5.m1.3.3.3.3.3.1.cmml">⁢</mo><msubsup id="S3.E5.m1.3.3.3.3.3.3" xref="S3.E5.m1.3.3.3.3.3.3.cmml"><mi id="S3.E5.m1.3.3.3.3.3.3.2.2" xref="S3.E5.m1.3.3.3.3.3.3.2.2.cmml">p</mi><mn id="S3.E5.m1.3.3.3.3.3.3.3" xref="S3.E5.m1.3.3.3.3.3.3.3.cmml">0</mn><mrow id="S3.E5.m1.3.3.3.3.3.3.2.3" xref="S3.E5.m1.3.3.3.3.3.3.2.3.cmml"><mi id="S3.E5.m1.3.3.3.3.3.3.2.3.2" xref="S3.E5.m1.3.3.3.3.3.3.2.3.2.cmml">e</mi><mo id="S3.E5.m1.3.3.3.3.3.3.2.3.1" xref="S3.E5.m1.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.3.3.3.3.3.3.2.3.3" xref="S3.E5.m1.3.3.3.3.3.3.2.3.3.cmml">o</mi><mo id="S3.E5.m1.3.3.3.3.3.3.2.3.1a" xref="S3.E5.m1.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.3.3.3.3.3.3.2.3.4" xref="S3.E5.m1.3.3.3.3.3.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E5.m1.6.6.6.6.10" xref="S3.E5.m1.6.6.6.7.cmml">,</mo><mrow id="S3.E5.m1.4.4.4.4.4" xref="S3.E5.m1.4.4.4.4.4.cmml"><mi id="S3.E5.m1.4.4.4.4.4.2" xref="S3.E5.m1.4.4.4.4.4.2.cmml">s</mi><mo id="S3.E5.m1.4.4.4.4.4.1" xref="S3.E5.m1.4.4.4.4.4.1.cmml">⁢</mo><msubsup id="S3.E5.m1.4.4.4.4.4.3" xref="S3.E5.m1.4.4.4.4.4.3.cmml"><mi id="S3.E5.m1.4.4.4.4.4.3.2.2" xref="S3.E5.m1.4.4.4.4.4.3.2.2.cmml">p</mi><mn id="S3.E5.m1.4.4.4.4.4.3.3" xref="S3.E5.m1.4.4.4.4.4.3.3.cmml">1</mn><mrow id="S3.E5.m1.4.4.4.4.4.3.2.3" xref="S3.E5.m1.4.4.4.4.4.3.2.3.cmml"><mi id="S3.E5.m1.4.4.4.4.4.3.2.3.2" xref="S3.E5.m1.4.4.4.4.4.3.2.3.2.cmml">b</mi><mo id="S3.E5.m1.4.4.4.4.4.3.2.3.1" xref="S3.E5.m1.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.4.4.4.4.4.3.2.3.3" xref="S3.E5.m1.4.4.4.4.4.3.2.3.3.cmml">o</mi><mo id="S3.E5.m1.4.4.4.4.4.3.2.3.1a" xref="S3.E5.m1.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.4.4.4.4.4.3.2.3.4" xref="S3.E5.m1.4.4.4.4.4.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E5.m1.6.6.6.6.11" xref="S3.E5.m1.6.6.6.7.cmml">,</mo><msubsup id="S3.E5.m1.5.5.5.5.5" xref="S3.E5.m1.5.5.5.5.5.cmml"><mi id="S3.E5.m1.5.5.5.5.5.2.2" xref="S3.E5.m1.5.5.5.5.5.2.2.cmml">t</mi><mi id="S3.E5.m1.5.5.5.5.5.2.3" xref="S3.E5.m1.5.5.5.5.5.2.3.cmml">i</mi><mn id="S3.E5.m1.5.5.5.5.5.3" xref="S3.E5.m1.5.5.5.5.5.3.cmml">1</mn></msubsup><mo id="S3.E5.m1.6.6.6.6.12" xref="S3.E5.m1.6.6.6.7.cmml">,</mo><mrow id="S3.E5.m1.6.6.6.6.6" xref="S3.E5.m1.6.6.6.6.6.cmml"><mi id="S3.E5.m1.6.6.6.6.6.2" xref="S3.E5.m1.6.6.6.6.6.2.cmml">s</mi><mo id="S3.E5.m1.6.6.6.6.6.1" xref="S3.E5.m1.6.6.6.6.6.1.cmml">⁢</mo><msubsup id="S3.E5.m1.6.6.6.6.6.3" xref="S3.E5.m1.6.6.6.6.6.3.cmml"><mi id="S3.E5.m1.6.6.6.6.6.3.2.2" xref="S3.E5.m1.6.6.6.6.6.3.2.2.cmml">p</mi><mn id="S3.E5.m1.6.6.6.6.6.3.3" xref="S3.E5.m1.6.6.6.6.6.3.3.cmml">1</mn><mrow id="S3.E5.m1.6.6.6.6.6.3.2.3" xref="S3.E5.m1.6.6.6.6.6.3.2.3.cmml"><mi id="S3.E5.m1.6.6.6.6.6.3.2.3.2" xref="S3.E5.m1.6.6.6.6.6.3.2.3.2.cmml">e</mi><mo id="S3.E5.m1.6.6.6.6.6.3.2.3.1" xref="S3.E5.m1.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.6.6.6.6.6.3.2.3.3" xref="S3.E5.m1.6.6.6.6.6.3.2.3.3.cmml">o</mi><mo id="S3.E5.m1.6.6.6.6.6.3.2.3.1a" xref="S3.E5.m1.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.E5.m1.6.6.6.6.6.3.2.3.4" xref="S3.E5.m1.6.6.6.6.6.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E5.m1.6.6.6.6.13" stretchy="false" xref="S3.E5.m1.6.6.6.7.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.6b"><apply id="S3.E5.m1.6.6.cmml" xref="S3.E5.m1.6.6"><eq id="S3.E5.m1.6.6.7.cmml" xref="S3.E5.m1.6.6.7"></eq><apply id="S3.E5.m1.6.6.8.cmml" xref="S3.E5.m1.6.6.8"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.8.1.cmml" xref="S3.E5.m1.6.6.8">subscript</csymbol><ci id="S3.E5.m1.6.6.8.2.cmml" xref="S3.E5.m1.6.6.8.2">𝑥</ci><ci id="S3.E5.m1.6.6.8.3.cmml" xref="S3.E5.m1.6.6.8.3">𝑖</ci></apply><list id="S3.E5.m1.6.6.6.7.cmml" xref="S3.E5.m1.6.6.6.6"><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"></times><ci id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.2">𝑝</ci><apply id="S3.E5.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3"><times id="S3.E5.m1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E5.m1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.E5.m1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3.3">𝑜</ci><ci id="S3.E5.m1.1.1.1.1.1.3.2.3.4.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E5.m1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E5.m1.1.1.1.1.1.3.3">0</cn></apply></apply><apply id="S3.E5.m1.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.E5.m1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2">𝑡</ci><ci id="S3.E5.m1.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.2.3">𝑖</ci></apply><cn id="S3.E5.m1.2.2.2.2.2.3.cmml" type="integer" xref="S3.E5.m1.2.2.2.2.2.3">0</cn></apply><apply id="S3.E5.m1.3.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3.3"><times id="S3.E5.m1.3.3.3.3.3.1.cmml" xref="S3.E5.m1.3.3.3.3.3.1"></times><ci id="S3.E5.m1.3.3.3.3.3.2.cmml" xref="S3.E5.m1.3.3.3.3.3.2">𝑠</ci><apply id="S3.E5.m1.3.3.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.3.3.1.cmml" xref="S3.E5.m1.3.3.3.3.3.3">subscript</csymbol><apply id="S3.E5.m1.3.3.3.3.3.3.2.cmml" xref="S3.E5.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.3.3.2.1.cmml" xref="S3.E5.m1.3.3.3.3.3.3">superscript</csymbol><ci id="S3.E5.m1.3.3.3.3.3.3.2.2.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.2">𝑝</ci><apply id="S3.E5.m1.3.3.3.3.3.3.2.3.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.3"><times id="S3.E5.m1.3.3.3.3.3.3.2.3.1.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.3.1"></times><ci id="S3.E5.m1.3.3.3.3.3.3.2.3.2.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.3.2">𝑒</ci><ci id="S3.E5.m1.3.3.3.3.3.3.2.3.3.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.3.3">𝑜</ci><ci id="S3.E5.m1.3.3.3.3.3.3.2.3.4.cmml" xref="S3.E5.m1.3.3.3.3.3.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E5.m1.3.3.3.3.3.3.3.cmml" type="integer" xref="S3.E5.m1.3.3.3.3.3.3.3">0</cn></apply></apply><apply id="S3.E5.m1.4.4.4.4.4.cmml" xref="S3.E5.m1.4.4.4.4.4"><times id="S3.E5.m1.4.4.4.4.4.1.cmml" xref="S3.E5.m1.4.4.4.4.4.1"></times><ci id="S3.E5.m1.4.4.4.4.4.2.cmml" xref="S3.E5.m1.4.4.4.4.4.2">𝑠</ci><apply id="S3.E5.m1.4.4.4.4.4.3.cmml" xref="S3.E5.m1.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.4.3.1.cmml" xref="S3.E5.m1.4.4.4.4.4.3">subscript</csymbol><apply id="S3.E5.m1.4.4.4.4.4.3.2.cmml" xref="S3.E5.m1.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.4.3.2.1.cmml" xref="S3.E5.m1.4.4.4.4.4.3">superscript</csymbol><ci id="S3.E5.m1.4.4.4.4.4.3.2.2.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.2">𝑝</ci><apply id="S3.E5.m1.4.4.4.4.4.3.2.3.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.3"><times id="S3.E5.m1.4.4.4.4.4.3.2.3.1.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.3.1"></times><ci id="S3.E5.m1.4.4.4.4.4.3.2.3.2.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.3.2">𝑏</ci><ci id="S3.E5.m1.4.4.4.4.4.3.2.3.3.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.3.3">𝑜</ci><ci id="S3.E5.m1.4.4.4.4.4.3.2.3.4.cmml" xref="S3.E5.m1.4.4.4.4.4.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E5.m1.4.4.4.4.4.3.3.cmml" type="integer" xref="S3.E5.m1.4.4.4.4.4.3.3">1</cn></apply></apply><apply id="S3.E5.m1.5.5.5.5.5.cmml" xref="S3.E5.m1.5.5.5.5.5"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.5.1.cmml" xref="S3.E5.m1.5.5.5.5.5">superscript</csymbol><apply id="S3.E5.m1.5.5.5.5.5.2.cmml" xref="S3.E5.m1.5.5.5.5.5"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.5.2.1.cmml" xref="S3.E5.m1.5.5.5.5.5">subscript</csymbol><ci id="S3.E5.m1.5.5.5.5.5.2.2.cmml" xref="S3.E5.m1.5.5.5.5.5.2.2">𝑡</ci><ci id="S3.E5.m1.5.5.5.5.5.2.3.cmml" xref="S3.E5.m1.5.5.5.5.5.2.3">𝑖</ci></apply><cn id="S3.E5.m1.5.5.5.5.5.3.cmml" type="integer" xref="S3.E5.m1.5.5.5.5.5.3">1</cn></apply><apply id="S3.E5.m1.6.6.6.6.6.cmml" xref="S3.E5.m1.6.6.6.6.6"><times id="S3.E5.m1.6.6.6.6.6.1.cmml" xref="S3.E5.m1.6.6.6.6.6.1"></times><ci id="S3.E5.m1.6.6.6.6.6.2.cmml" xref="S3.E5.m1.6.6.6.6.6.2">𝑠</ci><apply id="S3.E5.m1.6.6.6.6.6.3.cmml" xref="S3.E5.m1.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.6.6.6.3.1.cmml" xref="S3.E5.m1.6.6.6.6.6.3">subscript</csymbol><apply id="S3.E5.m1.6.6.6.6.6.3.2.cmml" xref="S3.E5.m1.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.6.6.6.3.2.1.cmml" xref="S3.E5.m1.6.6.6.6.6.3">superscript</csymbol><ci id="S3.E5.m1.6.6.6.6.6.3.2.2.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.2">𝑝</ci><apply id="S3.E5.m1.6.6.6.6.6.3.2.3.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.3"><times id="S3.E5.m1.6.6.6.6.6.3.2.3.1.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.3.1"></times><ci id="S3.E5.m1.6.6.6.6.6.3.2.3.2.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.3.2">𝑒</ci><ci id="S3.E5.m1.6.6.6.6.6.3.2.3.3.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.3.3">𝑜</ci><ci id="S3.E5.m1.6.6.6.6.6.3.2.3.4.cmml" xref="S3.E5.m1.6.6.6.6.6.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E5.m1.6.6.6.6.6.3.3.cmml" type="integer" xref="S3.E5.m1.6.6.6.6.6.3.3">1</cn></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.6c">x_{i}=[sp^{bos}_{0},t_{i}^{0},sp^{eos}_{0},sp^{bos}_{1},t_{i}^{1},sp^{eos}_{1}]</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.6d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{i}=[sp^{bos}_{2},t_{i}^{2},sp^{eos}_{2},sp^{bos}_{3},t_{i}^{3},sp^{eos}_{3}%
...sp^{bos}_{n_{k}},t_{i}^{n_{k}},sp^{eos}_{n_{k}}]" class="ltx_Math" display="block" id="S3.E6.m1.8"><semantics id="S3.E6.m1.8a"><mrow id="S3.E6.m1.8.8" xref="S3.E6.m1.8.8.cmml"><msub id="S3.E6.m1.8.8.10" xref="S3.E6.m1.8.8.10.cmml"><mi id="S3.E6.m1.8.8.10.2" xref="S3.E6.m1.8.8.10.2.cmml">y</mi><mi id="S3.E6.m1.8.8.10.3" xref="S3.E6.m1.8.8.10.3.cmml">i</mi></msub><mo id="S3.E6.m1.8.8.9" xref="S3.E6.m1.8.8.9.cmml">=</mo><mrow id="S3.E6.m1.8.8.8.8" xref="S3.E6.m1.8.8.8.9.cmml"><mo id="S3.E6.m1.8.8.8.8.9" stretchy="false" xref="S3.E6.m1.8.8.8.9.cmml">[</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml">s</mi><mo id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">⁢</mo><msubsup id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.1.3.2.2.cmml">p</mi><mn id="S3.E6.m1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.cmml">2</mn><mrow id="S3.E6.m1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.1.1.1.1.1.3.2.3.2.cmml">b</mi><mo id="S3.E6.m1.1.1.1.1.1.3.2.3.1" xref="S3.E6.m1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.1.1.1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.E6.m1.1.1.1.1.1.3.2.3.1a" xref="S3.E6.m1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.2.3.4" xref="S3.E6.m1.1.1.1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E6.m1.8.8.8.8.10" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><msubsup id="S3.E6.m1.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.cmml"><mi id="S3.E6.m1.2.2.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.2.2.cmml">t</mi><mi id="S3.E6.m1.2.2.2.2.2.2.3" xref="S3.E6.m1.2.2.2.2.2.2.3.cmml">i</mi><mn id="S3.E6.m1.2.2.2.2.2.3" xref="S3.E6.m1.2.2.2.2.2.3.cmml">2</mn></msubsup><mo id="S3.E6.m1.8.8.8.8.11" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><mrow id="S3.E6.m1.3.3.3.3.3" xref="S3.E6.m1.3.3.3.3.3.cmml"><mi id="S3.E6.m1.3.3.3.3.3.2" xref="S3.E6.m1.3.3.3.3.3.2.cmml">s</mi><mo id="S3.E6.m1.3.3.3.3.3.1" xref="S3.E6.m1.3.3.3.3.3.1.cmml">⁢</mo><msubsup id="S3.E6.m1.3.3.3.3.3.3" xref="S3.E6.m1.3.3.3.3.3.3.cmml"><mi id="S3.E6.m1.3.3.3.3.3.3.2.2" xref="S3.E6.m1.3.3.3.3.3.3.2.2.cmml">p</mi><mn id="S3.E6.m1.3.3.3.3.3.3.3" xref="S3.E6.m1.3.3.3.3.3.3.3.cmml">2</mn><mrow id="S3.E6.m1.3.3.3.3.3.3.2.3" xref="S3.E6.m1.3.3.3.3.3.3.2.3.cmml"><mi id="S3.E6.m1.3.3.3.3.3.3.2.3.2" xref="S3.E6.m1.3.3.3.3.3.3.2.3.2.cmml">e</mi><mo id="S3.E6.m1.3.3.3.3.3.3.2.3.1" xref="S3.E6.m1.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.3.3.3.3.3.3.2.3.3" xref="S3.E6.m1.3.3.3.3.3.3.2.3.3.cmml">o</mi><mo id="S3.E6.m1.3.3.3.3.3.3.2.3.1a" xref="S3.E6.m1.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.3.3.3.3.3.3.2.3.4" xref="S3.E6.m1.3.3.3.3.3.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E6.m1.8.8.8.8.12" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><mrow id="S3.E6.m1.4.4.4.4.4" xref="S3.E6.m1.4.4.4.4.4.cmml"><mi id="S3.E6.m1.4.4.4.4.4.2" xref="S3.E6.m1.4.4.4.4.4.2.cmml">s</mi><mo id="S3.E6.m1.4.4.4.4.4.1" xref="S3.E6.m1.4.4.4.4.4.1.cmml">⁢</mo><msubsup id="S3.E6.m1.4.4.4.4.4.3" xref="S3.E6.m1.4.4.4.4.4.3.cmml"><mi id="S3.E6.m1.4.4.4.4.4.3.2.2" xref="S3.E6.m1.4.4.4.4.4.3.2.2.cmml">p</mi><mn id="S3.E6.m1.4.4.4.4.4.3.3" xref="S3.E6.m1.4.4.4.4.4.3.3.cmml">3</mn><mrow id="S3.E6.m1.4.4.4.4.4.3.2.3" xref="S3.E6.m1.4.4.4.4.4.3.2.3.cmml"><mi id="S3.E6.m1.4.4.4.4.4.3.2.3.2" xref="S3.E6.m1.4.4.4.4.4.3.2.3.2.cmml">b</mi><mo id="S3.E6.m1.4.4.4.4.4.3.2.3.1" xref="S3.E6.m1.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.4.4.4.4.4.3.2.3.3" xref="S3.E6.m1.4.4.4.4.4.3.2.3.3.cmml">o</mi><mo id="S3.E6.m1.4.4.4.4.4.3.2.3.1a" xref="S3.E6.m1.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.4.4.4.4.4.3.2.3.4" xref="S3.E6.m1.4.4.4.4.4.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E6.m1.8.8.8.8.13" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><msubsup id="S3.E6.m1.5.5.5.5.5" xref="S3.E6.m1.5.5.5.5.5.cmml"><mi id="S3.E6.m1.5.5.5.5.5.2.2" xref="S3.E6.m1.5.5.5.5.5.2.2.cmml">t</mi><mi id="S3.E6.m1.5.5.5.5.5.2.3" xref="S3.E6.m1.5.5.5.5.5.2.3.cmml">i</mi><mn id="S3.E6.m1.5.5.5.5.5.3" xref="S3.E6.m1.5.5.5.5.5.3.cmml">3</mn></msubsup><mo id="S3.E6.m1.8.8.8.8.14" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><mrow id="S3.E6.m1.6.6.6.6.6" xref="S3.E6.m1.6.6.6.6.6.cmml"><mi id="S3.E6.m1.6.6.6.6.6.2" xref="S3.E6.m1.6.6.6.6.6.2.cmml">s</mi><mo id="S3.E6.m1.6.6.6.6.6.1" xref="S3.E6.m1.6.6.6.6.6.1.cmml">⁢</mo><msubsup id="S3.E6.m1.6.6.6.6.6.3" xref="S3.E6.m1.6.6.6.6.6.3.cmml"><mi id="S3.E6.m1.6.6.6.6.6.3.2.2" xref="S3.E6.m1.6.6.6.6.6.3.2.2.cmml">p</mi><mn id="S3.E6.m1.6.6.6.6.6.3.3" xref="S3.E6.m1.6.6.6.6.6.3.3.cmml">3</mn><mrow id="S3.E6.m1.6.6.6.6.6.3.2.3" xref="S3.E6.m1.6.6.6.6.6.3.2.3.cmml"><mi id="S3.E6.m1.6.6.6.6.6.3.2.3.2" xref="S3.E6.m1.6.6.6.6.6.3.2.3.2.cmml">e</mi><mo id="S3.E6.m1.6.6.6.6.6.3.2.3.1" xref="S3.E6.m1.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.3.2.3.3" xref="S3.E6.m1.6.6.6.6.6.3.2.3.3.cmml">o</mi><mo id="S3.E6.m1.6.6.6.6.6.3.2.3.1a" xref="S3.E6.m1.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.3.2.3.4" xref="S3.E6.m1.6.6.6.6.6.3.2.3.4.cmml">s</mi></mrow></msubsup><mo id="S3.E6.m1.6.6.6.6.6.1a" xref="S3.E6.m1.6.6.6.6.6.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.4" mathvariant="normal" xref="S3.E6.m1.6.6.6.6.6.4.cmml">…</mi><mo id="S3.E6.m1.6.6.6.6.6.1b" xref="S3.E6.m1.6.6.6.6.6.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.5" xref="S3.E6.m1.6.6.6.6.6.5.cmml">s</mi><mo id="S3.E6.m1.6.6.6.6.6.1c" xref="S3.E6.m1.6.6.6.6.6.1.cmml">⁢</mo><msubsup id="S3.E6.m1.6.6.6.6.6.6" xref="S3.E6.m1.6.6.6.6.6.6.cmml"><mi id="S3.E6.m1.6.6.6.6.6.6.2.2" xref="S3.E6.m1.6.6.6.6.6.6.2.2.cmml">p</mi><msub id="S3.E6.m1.6.6.6.6.6.6.3" xref="S3.E6.m1.6.6.6.6.6.6.3.cmml"><mi id="S3.E6.m1.6.6.6.6.6.6.3.2" xref="S3.E6.m1.6.6.6.6.6.6.3.2.cmml">n</mi><mi id="S3.E6.m1.6.6.6.6.6.6.3.3" xref="S3.E6.m1.6.6.6.6.6.6.3.3.cmml">k</mi></msub><mrow id="S3.E6.m1.6.6.6.6.6.6.2.3" xref="S3.E6.m1.6.6.6.6.6.6.2.3.cmml"><mi id="S3.E6.m1.6.6.6.6.6.6.2.3.2" xref="S3.E6.m1.6.6.6.6.6.6.2.3.2.cmml">b</mi><mo id="S3.E6.m1.6.6.6.6.6.6.2.3.1" xref="S3.E6.m1.6.6.6.6.6.6.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.6.2.3.3" xref="S3.E6.m1.6.6.6.6.6.6.2.3.3.cmml">o</mi><mo id="S3.E6.m1.6.6.6.6.6.6.2.3.1a" xref="S3.E6.m1.6.6.6.6.6.6.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.6.6.6.2.3.4" xref="S3.E6.m1.6.6.6.6.6.6.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E6.m1.8.8.8.8.15" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><msubsup id="S3.E6.m1.7.7.7.7.7" xref="S3.E6.m1.7.7.7.7.7.cmml"><mi id="S3.E6.m1.7.7.7.7.7.2.2" xref="S3.E6.m1.7.7.7.7.7.2.2.cmml">t</mi><mi id="S3.E6.m1.7.7.7.7.7.2.3" xref="S3.E6.m1.7.7.7.7.7.2.3.cmml">i</mi><msub id="S3.E6.m1.7.7.7.7.7.3" xref="S3.E6.m1.7.7.7.7.7.3.cmml"><mi id="S3.E6.m1.7.7.7.7.7.3.2" xref="S3.E6.m1.7.7.7.7.7.3.2.cmml">n</mi><mi id="S3.E6.m1.7.7.7.7.7.3.3" xref="S3.E6.m1.7.7.7.7.7.3.3.cmml">k</mi></msub></msubsup><mo id="S3.E6.m1.8.8.8.8.16" xref="S3.E6.m1.8.8.8.9.cmml">,</mo><mrow id="S3.E6.m1.8.8.8.8.8" xref="S3.E6.m1.8.8.8.8.8.cmml"><mi id="S3.E6.m1.8.8.8.8.8.2" xref="S3.E6.m1.8.8.8.8.8.2.cmml">s</mi><mo id="S3.E6.m1.8.8.8.8.8.1" xref="S3.E6.m1.8.8.8.8.8.1.cmml">⁢</mo><msubsup id="S3.E6.m1.8.8.8.8.8.3" xref="S3.E6.m1.8.8.8.8.8.3.cmml"><mi id="S3.E6.m1.8.8.8.8.8.3.2.2" xref="S3.E6.m1.8.8.8.8.8.3.2.2.cmml">p</mi><msub id="S3.E6.m1.8.8.8.8.8.3.3" xref="S3.E6.m1.8.8.8.8.8.3.3.cmml"><mi id="S3.E6.m1.8.8.8.8.8.3.3.2" xref="S3.E6.m1.8.8.8.8.8.3.3.2.cmml">n</mi><mi id="S3.E6.m1.8.8.8.8.8.3.3.3" xref="S3.E6.m1.8.8.8.8.8.3.3.3.cmml">k</mi></msub><mrow id="S3.E6.m1.8.8.8.8.8.3.2.3" xref="S3.E6.m1.8.8.8.8.8.3.2.3.cmml"><mi id="S3.E6.m1.8.8.8.8.8.3.2.3.2" xref="S3.E6.m1.8.8.8.8.8.3.2.3.2.cmml">e</mi><mo id="S3.E6.m1.8.8.8.8.8.3.2.3.1" xref="S3.E6.m1.8.8.8.8.8.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.8.8.8.8.8.3.2.3.3" xref="S3.E6.m1.8.8.8.8.8.3.2.3.3.cmml">o</mi><mo id="S3.E6.m1.8.8.8.8.8.3.2.3.1a" xref="S3.E6.m1.8.8.8.8.8.3.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.8.8.8.8.8.3.2.3.4" xref="S3.E6.m1.8.8.8.8.8.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E6.m1.8.8.8.8.17" stretchy="false" xref="S3.E6.m1.8.8.8.9.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.8b"><apply id="S3.E6.m1.8.8.cmml" xref="S3.E6.m1.8.8"><eq id="S3.E6.m1.8.8.9.cmml" xref="S3.E6.m1.8.8.9"></eq><apply id="S3.E6.m1.8.8.10.cmml" xref="S3.E6.m1.8.8.10"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.10.1.cmml" xref="S3.E6.m1.8.8.10">subscript</csymbol><ci id="S3.E6.m1.8.8.10.2.cmml" xref="S3.E6.m1.8.8.10.2">𝑦</ci><ci id="S3.E6.m1.8.8.10.3.cmml" xref="S3.E6.m1.8.8.10.3">𝑖</ci></apply><list id="S3.E6.m1.8.8.8.9.cmml" xref="S3.E6.m1.8.8.8.8"><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"></times><ci id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.2">𝑝</ci><apply id="S3.E6.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3"><times id="S3.E6.m1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.E6.m1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3.3">𝑜</ci><ci id="S3.E6.m1.1.1.1.1.1.3.2.3.4.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E6.m1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E6.m1.1.1.1.1.1.3.3">2</cn></apply></apply><apply id="S3.E6.m1.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.E6.m1.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E6.m1.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2.2">𝑡</ci><ci id="S3.E6.m1.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.2.2.3">𝑖</ci></apply><cn id="S3.E6.m1.2.2.2.2.2.3.cmml" type="integer" xref="S3.E6.m1.2.2.2.2.2.3">2</cn></apply><apply id="S3.E6.m1.3.3.3.3.3.cmml" xref="S3.E6.m1.3.3.3.3.3"><times id="S3.E6.m1.3.3.3.3.3.1.cmml" xref="S3.E6.m1.3.3.3.3.3.1"></times><ci id="S3.E6.m1.3.3.3.3.3.2.cmml" xref="S3.E6.m1.3.3.3.3.3.2">𝑠</ci><apply id="S3.E6.m1.3.3.3.3.3.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.3.3.3.3.1.cmml" xref="S3.E6.m1.3.3.3.3.3.3">subscript</csymbol><apply id="S3.E6.m1.3.3.3.3.3.3.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.3.3.3.3.2.1.cmml" xref="S3.E6.m1.3.3.3.3.3.3">superscript</csymbol><ci id="S3.E6.m1.3.3.3.3.3.3.2.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2">𝑝</ci><apply id="S3.E6.m1.3.3.3.3.3.3.2.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.3"><times id="S3.E6.m1.3.3.3.3.3.3.2.3.1.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.3.1"></times><ci id="S3.E6.m1.3.3.3.3.3.3.2.3.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.3.2">𝑒</ci><ci id="S3.E6.m1.3.3.3.3.3.3.2.3.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.3.3">𝑜</ci><ci id="S3.E6.m1.3.3.3.3.3.3.2.3.4.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E6.m1.3.3.3.3.3.3.3.cmml" type="integer" xref="S3.E6.m1.3.3.3.3.3.3.3">2</cn></apply></apply><apply id="S3.E6.m1.4.4.4.4.4.cmml" xref="S3.E6.m1.4.4.4.4.4"><times id="S3.E6.m1.4.4.4.4.4.1.cmml" xref="S3.E6.m1.4.4.4.4.4.1"></times><ci id="S3.E6.m1.4.4.4.4.4.2.cmml" xref="S3.E6.m1.4.4.4.4.4.2">𝑠</ci><apply id="S3.E6.m1.4.4.4.4.4.3.cmml" xref="S3.E6.m1.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.4.4.3.1.cmml" xref="S3.E6.m1.4.4.4.4.4.3">subscript</csymbol><apply id="S3.E6.m1.4.4.4.4.4.3.2.cmml" xref="S3.E6.m1.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.4.4.3.2.1.cmml" xref="S3.E6.m1.4.4.4.4.4.3">superscript</csymbol><ci id="S3.E6.m1.4.4.4.4.4.3.2.2.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.2">𝑝</ci><apply id="S3.E6.m1.4.4.4.4.4.3.2.3.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.3"><times id="S3.E6.m1.4.4.4.4.4.3.2.3.1.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.3.1"></times><ci id="S3.E6.m1.4.4.4.4.4.3.2.3.2.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.3.2">𝑏</ci><ci id="S3.E6.m1.4.4.4.4.4.3.2.3.3.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.3.3">𝑜</ci><ci id="S3.E6.m1.4.4.4.4.4.3.2.3.4.cmml" xref="S3.E6.m1.4.4.4.4.4.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E6.m1.4.4.4.4.4.3.3.cmml" type="integer" xref="S3.E6.m1.4.4.4.4.4.3.3">3</cn></apply></apply><apply id="S3.E6.m1.5.5.5.5.5.cmml" xref="S3.E6.m1.5.5.5.5.5"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.5.5.5.1.cmml" xref="S3.E6.m1.5.5.5.5.5">superscript</csymbol><apply id="S3.E6.m1.5.5.5.5.5.2.cmml" xref="S3.E6.m1.5.5.5.5.5"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.5.5.5.2.1.cmml" xref="S3.E6.m1.5.5.5.5.5">subscript</csymbol><ci id="S3.E6.m1.5.5.5.5.5.2.2.cmml" xref="S3.E6.m1.5.5.5.5.5.2.2">𝑡</ci><ci id="S3.E6.m1.5.5.5.5.5.2.3.cmml" xref="S3.E6.m1.5.5.5.5.5.2.3">𝑖</ci></apply><cn id="S3.E6.m1.5.5.5.5.5.3.cmml" type="integer" xref="S3.E6.m1.5.5.5.5.5.3">3</cn></apply><apply id="S3.E6.m1.6.6.6.6.6.cmml" xref="S3.E6.m1.6.6.6.6.6"><times id="S3.E6.m1.6.6.6.6.6.1.cmml" xref="S3.E6.m1.6.6.6.6.6.1"></times><ci id="S3.E6.m1.6.6.6.6.6.2.cmml" xref="S3.E6.m1.6.6.6.6.6.2">𝑠</ci><apply id="S3.E6.m1.6.6.6.6.6.3.cmml" xref="S3.E6.m1.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.3.1.cmml" xref="S3.E6.m1.6.6.6.6.6.3">subscript</csymbol><apply id="S3.E6.m1.6.6.6.6.6.3.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.3.2.1.cmml" xref="S3.E6.m1.6.6.6.6.6.3">superscript</csymbol><ci id="S3.E6.m1.6.6.6.6.6.3.2.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2">𝑝</ci><apply id="S3.E6.m1.6.6.6.6.6.3.2.3.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.3"><times id="S3.E6.m1.6.6.6.6.6.3.2.3.1.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.3.1"></times><ci id="S3.E6.m1.6.6.6.6.6.3.2.3.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.3.2">𝑒</ci><ci id="S3.E6.m1.6.6.6.6.6.3.2.3.3.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.3.3">𝑜</ci><ci id="S3.E6.m1.6.6.6.6.6.3.2.3.4.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.E6.m1.6.6.6.6.6.3.3.cmml" type="integer" xref="S3.E6.m1.6.6.6.6.6.3.3">3</cn></apply><ci id="S3.E6.m1.6.6.6.6.6.4.cmml" xref="S3.E6.m1.6.6.6.6.6.4">…</ci><ci id="S3.E6.m1.6.6.6.6.6.5.cmml" xref="S3.E6.m1.6.6.6.6.6.5">𝑠</ci><apply id="S3.E6.m1.6.6.6.6.6.6.cmml" xref="S3.E6.m1.6.6.6.6.6.6"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.6.1.cmml" xref="S3.E6.m1.6.6.6.6.6.6">subscript</csymbol><apply id="S3.E6.m1.6.6.6.6.6.6.2.cmml" xref="S3.E6.m1.6.6.6.6.6.6"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.6.2.1.cmml" xref="S3.E6.m1.6.6.6.6.6.6">superscript</csymbol><ci id="S3.E6.m1.6.6.6.6.6.6.2.2.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.2">𝑝</ci><apply id="S3.E6.m1.6.6.6.6.6.6.2.3.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.3"><times id="S3.E6.m1.6.6.6.6.6.6.2.3.1.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.3.1"></times><ci id="S3.E6.m1.6.6.6.6.6.6.2.3.2.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.3.2">𝑏</ci><ci id="S3.E6.m1.6.6.6.6.6.6.2.3.3.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.3.3">𝑜</ci><ci id="S3.E6.m1.6.6.6.6.6.6.2.3.4.cmml" xref="S3.E6.m1.6.6.6.6.6.6.2.3.4">𝑠</ci></apply></apply><apply id="S3.E6.m1.6.6.6.6.6.6.3.cmml" xref="S3.E6.m1.6.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.6.3.1.cmml" xref="S3.E6.m1.6.6.6.6.6.6.3">subscript</csymbol><ci id="S3.E6.m1.6.6.6.6.6.6.3.2.cmml" xref="S3.E6.m1.6.6.6.6.6.6.3.2">𝑛</ci><ci id="S3.E6.m1.6.6.6.6.6.6.3.3.cmml" xref="S3.E6.m1.6.6.6.6.6.6.3.3">𝑘</ci></apply></apply></apply><apply id="S3.E6.m1.7.7.7.7.7.cmml" xref="S3.E6.m1.7.7.7.7.7"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.7.7.7.1.cmml" xref="S3.E6.m1.7.7.7.7.7">superscript</csymbol><apply id="S3.E6.m1.7.7.7.7.7.2.cmml" xref="S3.E6.m1.7.7.7.7.7"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.7.7.7.2.1.cmml" xref="S3.E6.m1.7.7.7.7.7">subscript</csymbol><ci id="S3.E6.m1.7.7.7.7.7.2.2.cmml" xref="S3.E6.m1.7.7.7.7.7.2.2">𝑡</ci><ci id="S3.E6.m1.7.7.7.7.7.2.3.cmml" xref="S3.E6.m1.7.7.7.7.7.2.3">𝑖</ci></apply><apply id="S3.E6.m1.7.7.7.7.7.3.cmml" xref="S3.E6.m1.7.7.7.7.7.3"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.7.7.7.3.1.cmml" xref="S3.E6.m1.7.7.7.7.7.3">subscript</csymbol><ci id="S3.E6.m1.7.7.7.7.7.3.2.cmml" xref="S3.E6.m1.7.7.7.7.7.3.2">𝑛</ci><ci id="S3.E6.m1.7.7.7.7.7.3.3.cmml" xref="S3.E6.m1.7.7.7.7.7.3.3">𝑘</ci></apply></apply><apply id="S3.E6.m1.8.8.8.8.8.cmml" xref="S3.E6.m1.8.8.8.8.8"><times id="S3.E6.m1.8.8.8.8.8.1.cmml" xref="S3.E6.m1.8.8.8.8.8.1"></times><ci id="S3.E6.m1.8.8.8.8.8.2.cmml" xref="S3.E6.m1.8.8.8.8.8.2">𝑠</ci><apply id="S3.E6.m1.8.8.8.8.8.3.cmml" xref="S3.E6.m1.8.8.8.8.8.3"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.8.8.8.3.1.cmml" xref="S3.E6.m1.8.8.8.8.8.3">subscript</csymbol><apply id="S3.E6.m1.8.8.8.8.8.3.2.cmml" xref="S3.E6.m1.8.8.8.8.8.3"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.8.8.8.3.2.1.cmml" xref="S3.E6.m1.8.8.8.8.8.3">superscript</csymbol><ci id="S3.E6.m1.8.8.8.8.8.3.2.2.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.2">𝑝</ci><apply id="S3.E6.m1.8.8.8.8.8.3.2.3.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.3"><times id="S3.E6.m1.8.8.8.8.8.3.2.3.1.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.3.1"></times><ci id="S3.E6.m1.8.8.8.8.8.3.2.3.2.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.3.2">𝑒</ci><ci id="S3.E6.m1.8.8.8.8.8.3.2.3.3.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.3.3">𝑜</ci><ci id="S3.E6.m1.8.8.8.8.8.3.2.3.4.cmml" xref="S3.E6.m1.8.8.8.8.8.3.2.3.4">𝑠</ci></apply></apply><apply id="S3.E6.m1.8.8.8.8.8.3.3.cmml" xref="S3.E6.m1.8.8.8.8.8.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.8.8.8.3.3.1.cmml" xref="S3.E6.m1.8.8.8.8.8.3.3">subscript</csymbol><ci id="S3.E6.m1.8.8.8.8.8.3.3.2.cmml" xref="S3.E6.m1.8.8.8.8.8.3.3.2">𝑛</ci><ci id="S3.E6.m1.8.8.8.8.8.3.3.3.cmml" xref="S3.E6.m1.8.8.8.8.8.3.3.3">𝑘</ci></apply></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.8c">y_{i}=[sp^{bos}_{2},t_{i}^{2},sp^{eos}_{2},sp^{bos}_{3},t_{i}^{3},sp^{eos}_{3}%
...sp^{bos}_{n_{k}},t_{i}^{n_{k}},sp^{eos}_{n_{k}}]</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.8d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 3 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT … italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p6.8">where <math alttext="[...]" class="ltx_Math" display="inline" id="S3.SS1.p6.8.m1.1"><semantics id="S3.SS1.p6.8.m1.1a"><mrow id="S3.SS1.p6.8.m1.1.2.2" xref="S3.SS1.p6.8.m1.1.2.1.cmml"><mo id="S3.SS1.p6.8.m1.1.2.2.1" stretchy="false" xref="S3.SS1.p6.8.m1.1.2.1.1.cmml">[</mo><mi id="S3.SS1.p6.8.m1.1.1" mathvariant="normal" xref="S3.SS1.p6.8.m1.1.1.cmml">…</mi><mo id="S3.SS1.p6.8.m1.1.2.2.2" stretchy="false" xref="S3.SS1.p6.8.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.8.m1.1b"><apply id="S3.SS1.p6.8.m1.1.2.1.cmml" xref="S3.SS1.p6.8.m1.1.2.2"><csymbol cd="latexml" id="S3.SS1.p6.8.m1.1.2.1.1.cmml" xref="S3.SS1.p6.8.m1.1.2.2.1">delimited-[]</csymbol><ci id="S3.SS1.p6.8.m1.1.1.cmml" xref="S3.SS1.p6.8.m1.1.1">…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.8.m1.1c">[...]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p6.8.m1.1d">[ … ]</annotation></semantics></math> means concatenation between different text.</p>
</div>
<div class="ltx_para" id="S3.SS1.p7">
<p class="ltx_p" id="S3.SS1.p7.2">We denote the LLM parameters as <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS1.p7.1.m1.1"><semantics id="S3.SS1.p7.1.m1.1a"><mi id="S3.SS1.p7.1.m1.1.1" xref="S3.SS1.p7.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.1.m1.1b"><ci id="S3.SS1.p7.1.m1.1.1.cmml" xref="S3.SS1.p7.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p7.1.m1.1d">italic_θ</annotation></semantics></math> and employ a generative loss <math alttext="L_{cp}" class="ltx_Math" display="inline" id="S3.SS1.p7.2.m2.1"><semantics id="S3.SS1.p7.2.m2.1a"><msub id="S3.SS1.p7.2.m2.1.1" xref="S3.SS1.p7.2.m2.1.1.cmml"><mi id="S3.SS1.p7.2.m2.1.1.2" xref="S3.SS1.p7.2.m2.1.1.2.cmml">L</mi><mrow id="S3.SS1.p7.2.m2.1.1.3" xref="S3.SS1.p7.2.m2.1.1.3.cmml"><mi id="S3.SS1.p7.2.m2.1.1.3.2" xref="S3.SS1.p7.2.m2.1.1.3.2.cmml">c</mi><mo id="S3.SS1.p7.2.m2.1.1.3.1" xref="S3.SS1.p7.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p7.2.m2.1.1.3.3" xref="S3.SS1.p7.2.m2.1.1.3.3.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.2.m2.1b"><apply id="S3.SS1.p7.2.m2.1.1.cmml" xref="S3.SS1.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.1.1.1.cmml" xref="S3.SS1.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p7.2.m2.1.1.2.cmml" xref="S3.SS1.p7.2.m2.1.1.2">𝐿</ci><apply id="S3.SS1.p7.2.m2.1.1.3.cmml" xref="S3.SS1.p7.2.m2.1.1.3"><times id="S3.SS1.p7.2.m2.1.1.3.1.cmml" xref="S3.SS1.p7.2.m2.1.1.3.1"></times><ci id="S3.SS1.p7.2.m2.1.1.3.2.cmml" xref="S3.SS1.p7.2.m2.1.1.3.2">𝑐</ci><ci id="S3.SS1.p7.2.m2.1.1.3.3.cmml" xref="S3.SS1.p7.2.m2.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.2.m2.1c">L_{cp}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p7.2.m2.1d">italic_L start_POSTSUBSCRIPT italic_c italic_p end_POSTSUBSCRIPT</annotation></semantics></math> for continual pretraining.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{1}=-\frac{1}{|N_{p}|}\sum_{x_{i},y_{i}\in N_{p}}^{|N_{p}|}\sum_{s=1}^{|y_{i%
}|}log(P_{\theta}({y_{i}}_{s}|x_{i},{y_{i}}_{&lt;s}))" class="ltx_Math" display="block" id="S3.E7.m1.6"><semantics id="S3.E7.m1.6a"><mrow id="S3.E7.m1.6.6" xref="S3.E7.m1.6.6.cmml"><msub id="S3.E7.m1.6.6.3" xref="S3.E7.m1.6.6.3.cmml"><mi id="S3.E7.m1.6.6.3.2" xref="S3.E7.m1.6.6.3.2.cmml">L</mi><mn id="S3.E7.m1.6.6.3.3" xref="S3.E7.m1.6.6.3.3.cmml">1</mn></msub><mo id="S3.E7.m1.6.6.2" xref="S3.E7.m1.6.6.2.cmml">=</mo><mrow id="S3.E7.m1.6.6.1" xref="S3.E7.m1.6.6.1.cmml"><mo id="S3.E7.m1.6.6.1a" xref="S3.E7.m1.6.6.1.cmml">−</mo><mrow id="S3.E7.m1.6.6.1.1" xref="S3.E7.m1.6.6.1.1.cmml"><mfrac id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml"><mn id="S3.E7.m1.1.1.3" xref="S3.E7.m1.1.1.3.cmml">1</mn><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.2.cmml"><mo id="S3.E7.m1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.2.cmml">N</mi><mi id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E7.m1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S3.E7.m1.6.6.1.1.2" xref="S3.E7.m1.6.6.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.6.6.1.1.1" xref="S3.E7.m1.6.6.1.1.1.cmml"><munderover id="S3.E7.m1.6.6.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.2.cmml"><mo id="S3.E7.m1.6.6.1.1.1.2.2.2" movablelimits="false" rspace="0em" xref="S3.E7.m1.6.6.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E7.m1.3.3.2" xref="S3.E7.m1.3.3.2.cmml"><mrow id="S3.E7.m1.3.3.2.2.2" xref="S3.E7.m1.3.3.2.2.3.cmml"><msub id="S3.E7.m1.2.2.1.1.1.1" xref="S3.E7.m1.2.2.1.1.1.1.cmml"><mi id="S3.E7.m1.2.2.1.1.1.1.2" xref="S3.E7.m1.2.2.1.1.1.1.2.cmml">x</mi><mi id="S3.E7.m1.2.2.1.1.1.1.3" xref="S3.E7.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E7.m1.3.3.2.2.2.3" xref="S3.E7.m1.3.3.2.2.3.cmml">,</mo><msub id="S3.E7.m1.3.3.2.2.2.2" xref="S3.E7.m1.3.3.2.2.2.2.cmml"><mi id="S3.E7.m1.3.3.2.2.2.2.2" xref="S3.E7.m1.3.3.2.2.2.2.2.cmml">y</mi><mi id="S3.E7.m1.3.3.2.2.2.2.3" xref="S3.E7.m1.3.3.2.2.2.2.3.cmml">i</mi></msub></mrow><mo id="S3.E7.m1.3.3.2.3" xref="S3.E7.m1.3.3.2.3.cmml">∈</mo><msub id="S3.E7.m1.3.3.2.4" xref="S3.E7.m1.3.3.2.4.cmml"><mi id="S3.E7.m1.3.3.2.4.2" xref="S3.E7.m1.3.3.2.4.2.cmml">N</mi><mi id="S3.E7.m1.3.3.2.4.3" xref="S3.E7.m1.3.3.2.4.3.cmml">p</mi></msub></mrow><mrow id="S3.E7.m1.4.4.1.1" xref="S3.E7.m1.4.4.1.2.cmml"><mo id="S3.E7.m1.4.4.1.1.2" stretchy="false" xref="S3.E7.m1.4.4.1.2.1.cmml">|</mo><msub id="S3.E7.m1.4.4.1.1.1" xref="S3.E7.m1.4.4.1.1.1.cmml"><mi id="S3.E7.m1.4.4.1.1.1.2" xref="S3.E7.m1.4.4.1.1.1.2.cmml">N</mi><mi id="S3.E7.m1.4.4.1.1.1.3" xref="S3.E7.m1.4.4.1.1.1.3.cmml">p</mi></msub><mo id="S3.E7.m1.4.4.1.1.3" stretchy="false" xref="S3.E7.m1.4.4.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E7.m1.6.6.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.cmml"><munderover id="S3.E7.m1.6.6.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.2.cmml"><mo id="S3.E7.m1.6.6.1.1.1.1.2.2.2" movablelimits="false" xref="S3.E7.m1.6.6.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.2.2.3" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.2.2.3.2" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.2.cmml">s</mi><mo id="S3.E7.m1.6.6.1.1.1.1.2.2.3.1" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E7.m1.6.6.1.1.1.1.2.2.3.3" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E7.m1.5.5.1.1" xref="S3.E7.m1.5.5.1.2.cmml"><mo id="S3.E7.m1.5.5.1.1.2" stretchy="false" xref="S3.E7.m1.5.5.1.2.1.cmml">|</mo><msub id="S3.E7.m1.5.5.1.1.1" xref="S3.E7.m1.5.5.1.1.1.cmml"><mi id="S3.E7.m1.5.5.1.1.1.2" xref="S3.E7.m1.5.5.1.1.1.2.cmml">y</mi><mi id="S3.E7.m1.5.5.1.1.1.3" xref="S3.E7.m1.5.5.1.1.1.3.cmml">i</mi></msub><mo id="S3.E7.m1.5.5.1.1.3" stretchy="false" xref="S3.E7.m1.5.5.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E7.m1.6.6.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.3.cmml">l</mi><mo id="S3.E7.m1.6.6.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E7.m1.6.6.1.1.1.1.1.4" xref="S3.E7.m1.6.6.1.1.1.1.1.4.cmml">o</mi><mo id="S3.E7.m1.6.6.1.1.1.1.1.2a" xref="S3.E7.m1.6.6.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E7.m1.6.6.1.1.1.1.1.5" xref="S3.E7.m1.6.6.1.1.1.1.1.5.cmml">g</mi><mo id="S3.E7.m1.6.6.1.1.1.1.1.2b" xref="S3.E7.m1.6.6.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml">P</mi><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mmultiscripts id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.2.cmml">y</mi><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.3.cmml">i</mi><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4a" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.cmml"></mrow><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml">s</mi><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4b" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.cmml"></mrow></mmultiscripts><mo fence="false" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><mmultiscripts id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml">y</mi><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.3.cmml">i</mi><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2a" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"></mrow><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml"></mi><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">&lt;</mo><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">s</mi></mrow><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2b" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"></mrow></mmultiscripts></mrow></mrow><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.6.6.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.6b"><apply id="S3.E7.m1.6.6.cmml" xref="S3.E7.m1.6.6"><eq id="S3.E7.m1.6.6.2.cmml" xref="S3.E7.m1.6.6.2"></eq><apply id="S3.E7.m1.6.6.3.cmml" xref="S3.E7.m1.6.6.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.3.1.cmml" xref="S3.E7.m1.6.6.3">subscript</csymbol><ci id="S3.E7.m1.6.6.3.2.cmml" xref="S3.E7.m1.6.6.3.2">𝐿</ci><cn id="S3.E7.m1.6.6.3.3.cmml" type="integer" xref="S3.E7.m1.6.6.3.3">1</cn></apply><apply id="S3.E7.m1.6.6.1.cmml" xref="S3.E7.m1.6.6.1"><minus id="S3.E7.m1.6.6.1.2.cmml" xref="S3.E7.m1.6.6.1"></minus><apply id="S3.E7.m1.6.6.1.1.cmml" xref="S3.E7.m1.6.6.1.1"><times id="S3.E7.m1.6.6.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.2"></times><apply id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1"><divide id="S3.E7.m1.1.1.2.cmml" xref="S3.E7.m1.1.1"></divide><cn id="S3.E7.m1.1.1.3.cmml" type="integer" xref="S3.E7.m1.1.1.3">1</cn><apply id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1"><abs id="S3.E7.m1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.2"></abs><apply id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.2">𝑁</ci><ci id="S3.E7.m1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3">𝑝</ci></apply></apply></apply><apply id="S3.E7.m1.6.6.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1"><apply id="S3.E7.m1.6.6.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.2">superscript</csymbol><apply id="S3.E7.m1.6.6.1.1.1.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.2.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.2">subscript</csymbol><sum id="S3.E7.m1.6.6.1.1.1.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.2.2.2"></sum><apply id="S3.E7.m1.3.3.2.cmml" xref="S3.E7.m1.3.3.2"><in id="S3.E7.m1.3.3.2.3.cmml" xref="S3.E7.m1.3.3.2.3"></in><list id="S3.E7.m1.3.3.2.2.3.cmml" xref="S3.E7.m1.3.3.2.2.2"><apply id="S3.E7.m1.2.2.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.1.1.2">𝑥</ci><ci id="S3.E7.m1.2.2.1.1.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E7.m1.3.3.2.2.2.2.cmml" xref="S3.E7.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.2.2.2.2.1.cmml" xref="S3.E7.m1.3.3.2.2.2.2">subscript</csymbol><ci id="S3.E7.m1.3.3.2.2.2.2.2.cmml" xref="S3.E7.m1.3.3.2.2.2.2.2">𝑦</ci><ci id="S3.E7.m1.3.3.2.2.2.2.3.cmml" xref="S3.E7.m1.3.3.2.2.2.2.3">𝑖</ci></apply></list><apply id="S3.E7.m1.3.3.2.4.cmml" xref="S3.E7.m1.3.3.2.4"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.2.4.1.cmml" xref="S3.E7.m1.3.3.2.4">subscript</csymbol><ci id="S3.E7.m1.3.3.2.4.2.cmml" xref="S3.E7.m1.3.3.2.4.2">𝑁</ci><ci id="S3.E7.m1.3.3.2.4.3.cmml" xref="S3.E7.m1.3.3.2.4.3">𝑝</ci></apply></apply></apply><apply id="S3.E7.m1.4.4.1.2.cmml" xref="S3.E7.m1.4.4.1.1"><abs id="S3.E7.m1.4.4.1.2.1.cmml" xref="S3.E7.m1.4.4.1.1.2"></abs><apply id="S3.E7.m1.4.4.1.1.1.cmml" xref="S3.E7.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.4.4.1.1.1.1.cmml" xref="S3.E7.m1.4.4.1.1.1">subscript</csymbol><ci id="S3.E7.m1.4.4.1.1.1.2.cmml" xref="S3.E7.m1.4.4.1.1.1.2">𝑁</ci><ci id="S3.E7.m1.4.4.1.1.1.3.cmml" xref="S3.E7.m1.4.4.1.1.1.3">𝑝</ci></apply></apply></apply><apply id="S3.E7.m1.6.6.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1"><apply id="S3.E7.m1.6.6.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2">superscript</csymbol><apply id="S3.E7.m1.6.6.1.1.1.1.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.2.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2">subscript</csymbol><sum id="S3.E7.m1.6.6.1.1.1.1.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2.2.2"></sum><apply id="S3.E7.m1.6.6.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3"><eq id="S3.E7.m1.6.6.1.1.1.1.2.2.3.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.1"></eq><ci id="S3.E7.m1.6.6.1.1.1.1.2.2.3.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.2">𝑠</ci><cn id="S3.E7.m1.6.6.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E7.m1.6.6.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E7.m1.5.5.1.2.cmml" xref="S3.E7.m1.5.5.1.1"><abs id="S3.E7.m1.5.5.1.2.1.cmml" xref="S3.E7.m1.5.5.1.1.2"></abs><apply id="S3.E7.m1.5.5.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.2.cmml" xref="S3.E7.m1.5.5.1.1.1.2">𝑦</ci><ci id="S3.E7.m1.5.5.1.1.1.3.cmml" xref="S3.E7.m1.5.5.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S3.E7.m1.6.6.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1"><times id="S3.E7.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.2"></times><ci id="S3.E7.m1.6.6.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.3">𝑙</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.4.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.4">𝑜</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.5.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.5">𝑔</ci><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1"><times id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.2">𝑃</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4">subscript</csymbol><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.2">𝑦</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.2.3">𝑖</ci></apply><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.4.3">𝑠</ci></apply><list id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2"><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2">𝑦</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.3">𝑖</ci></apply><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3"><lt id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></lt><csymbol cd="latexml" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2">absent</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3">𝑠</ci></apply></apply></list></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.6c">L_{1}=-\frac{1}{|N_{p}|}\sum_{x_{i},y_{i}\in N_{p}}^{|N_{p}|}\sum_{s=1}^{|y_{i%
}|}log(P_{\theta}({y_{i}}_{s}|x_{i},{y_{i}}_{&lt;s}))</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.6d">italic_L start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG | italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT italic_s = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT italic_l italic_o italic_g ( italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUBSCRIPT &lt; italic_s end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p7.4">The input of LLM consists of restaurant’s name and location <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p7.3.m1.1"><semantics id="S3.SS1.p7.3.m1.1a"><msub id="S3.SS1.p7.3.m1.1.1" xref="S3.SS1.p7.3.m1.1.1.cmml"><mi id="S3.SS1.p7.3.m1.1.1.2" xref="S3.SS1.p7.3.m1.1.1.2.cmml">x</mi><mi id="S3.SS1.p7.3.m1.1.1.3" xref="S3.SS1.p7.3.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.3.m1.1b"><apply id="S3.SS1.p7.3.m1.1.1.cmml" xref="S3.SS1.p7.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m1.1.1.1.cmml" xref="S3.SS1.p7.3.m1.1.1">subscript</csymbol><ci id="S3.SS1.p7.3.m1.1.1.2.cmml" xref="S3.SS1.p7.3.m1.1.1.2">𝑥</ci><ci id="S3.SS1.p7.3.m1.1.1.3.cmml" xref="S3.SS1.p7.3.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.3.m1.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p7.3.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, aiming to predict other detail information <math alttext="y_{i}" class="ltx_Math" display="inline" id="S3.SS1.p7.4.m2.1"><semantics id="S3.SS1.p7.4.m2.1a"><msub id="S3.SS1.p7.4.m2.1.1" xref="S3.SS1.p7.4.m2.1.1.cmml"><mi id="S3.SS1.p7.4.m2.1.1.2" xref="S3.SS1.p7.4.m2.1.1.2.cmml">y</mi><mi id="S3.SS1.p7.4.m2.1.1.3" xref="S3.SS1.p7.4.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.4.m2.1b"><apply id="S3.SS1.p7.4.m2.1.1.cmml" xref="S3.SS1.p7.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.4.m2.1.1.1.cmml" xref="S3.SS1.p7.4.m2.1.1">subscript</csymbol><ci id="S3.SS1.p7.4.m2.1.1.2.cmml" xref="S3.SS1.p7.4.m2.1.1.2">𝑦</ci><ci id="S3.SS1.p7.4.m2.1.1.3.cmml" xref="S3.SS1.p7.4.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.4.m2.1c">y_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p7.4.m2.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> such as POI’s introduction, main dishes offered…
During the training process, the model learned the associations between similar dishes and built connections among geographical locations, POI names, menu and so on.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Text Embedding via Contrastive Learning</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">There is a huge gap between the normal decoder-only architecture of LLM and text embedding models, because language models train and infer in a way of autoregressive approach. To efficiently leverage the semantic information from the LLM, a critical problem we faced is how to transform the LM into a text embedding model. Common methods for converting a language model into one that could encode a sentence into a embedding include using the output embedding corresponding to some special tokens as the sentence embedding, or directly use some pooling methods on embeddings of all words in sentence to obtain the sentence embedding. Inspired by OpenAI <cite class="ltx_cite ltx_citemacro_citep">(Neelakantan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib25" title="">2022</a>)</cite>, we decide to adopt contrastive learning to convert the LLM into a text embedding model. In NLP field, contrastive learning methods usually construct positive sample pairs by applying corruptions such as dropout on text to generate positive sample pairs, random sampling for negative sample pairs. However, in RS, the importance of user, POI pairs in the food delivery context is very high, so we do not simply use corruption. Instead, we constructed positive and negative sample pairs from three perspectives: user-user, POI-POI, and user-POI.</p>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="198" id="S3.F3.g1" src="extracted/5804842/chapter3_2.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F3.2.1.1" style="font-size:90%;">Figure 3</span>. </span><span class="ltx_text" id="S3.F3.3.2" style="font-size:90%;">Positive pairs construction. Red curves represent alignment procedure.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F3.4">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F3.5">samples fig 3</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.2">As is shown in figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S3.F3" title="Figure 3 ‣ 3.2. Text Embedding via Contrastive Learning ‣ 3. Methodology ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">3</span></a>, the LLM tends to in classify three kinds of input is positive or not in contrastive learning procedure. First of all, because of user-side text is added, we utilize a set special tokens <math alttext="sp_{u}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mrow id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">s</mi><mo id="S3.SS2.p2.1.m1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml"><mi id="S3.SS2.p2.1.m1.1.1.3.2" xref="S3.SS2.p2.1.m1.1.1.3.2.cmml">p</mi><mi id="S3.SS2.p2.1.m1.1.1.3.3" xref="S3.SS2.p2.1.m1.1.1.3.3.cmml">u</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><times id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1"></times><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝑠</ci><apply id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.1.m1.1.1.3.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">sp_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_s italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> for user-side text similar to <math alttext="sp_{p}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">s</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml">p</mi><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">p</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><times id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></times><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑠</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">sp_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_s italic_p start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> in section 3.1.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="sp_{u}=\{(sp^{bos}_{k},sp^{eos}_{k})\mid k\in\mathbb{N},n_{k}+1\leq k\leq n_{k%
}+n_{q}\}" class="ltx_Math" display="block" id="S3.E8.m1.2"><semantics id="S3.E8.m1.2a"><mrow id="S3.E8.m1.2.2" xref="S3.E8.m1.2.2.cmml"><mrow id="S3.E8.m1.2.2.4" xref="S3.E8.m1.2.2.4.cmml"><mi id="S3.E8.m1.2.2.4.2" xref="S3.E8.m1.2.2.4.2.cmml">s</mi><mo id="S3.E8.m1.2.2.4.1" xref="S3.E8.m1.2.2.4.1.cmml">⁢</mo><msub id="S3.E8.m1.2.2.4.3" xref="S3.E8.m1.2.2.4.3.cmml"><mi id="S3.E8.m1.2.2.4.3.2" xref="S3.E8.m1.2.2.4.3.2.cmml">p</mi><mi id="S3.E8.m1.2.2.4.3.3" xref="S3.E8.m1.2.2.4.3.3.cmml">u</mi></msub></mrow><mo id="S3.E8.m1.2.2.3" xref="S3.E8.m1.2.2.3.cmml">=</mo><mrow id="S3.E8.m1.2.2.2.2" xref="S3.E8.m1.2.2.2.3.cmml"><mo id="S3.E8.m1.2.2.2.2.3" stretchy="false" xref="S3.E8.m1.2.2.2.3.1.cmml">{</mo><mrow id="S3.E8.m1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.3.cmml"><mo id="S3.E8.m1.1.1.1.1.1.2.3" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.3.cmml">(</mo><mrow id="S3.E8.m1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.1.1.2.cmml">s</mi><mo id="S3.E8.m1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.1.cmml">⁢</mo><msubsup id="S3.E8.m1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.1.3.2.2" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.2.cmml">p</mi><mi id="S3.E8.m1.1.1.1.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.1.1.1.3.3.cmml">k</mi><mrow id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.2.cmml">b</mi><mo id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1a" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.4" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E8.m1.1.1.1.1.1.2.4" xref="S3.E8.m1.1.1.1.1.1.3.cmml">,</mo><mrow id="S3.E8.m1.1.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.E8.m1.1.1.1.1.1.2.2.2" xref="S3.E8.m1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E8.m1.1.1.1.1.1.2.2.1" xref="S3.E8.m1.1.1.1.1.1.2.2.1.cmml">⁢</mo><msubsup id="S3.E8.m1.1.1.1.1.1.2.2.3" xref="S3.E8.m1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.2.2.3.2.2" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.2.cmml">p</mi><mi id="S3.E8.m1.1.1.1.1.1.2.2.3.3" xref="S3.E8.m1.1.1.1.1.1.2.2.3.3.cmml">k</mi><mrow id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.2" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.2.cmml">e</mi><mo id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.3" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.3.cmml">o</mi><mo id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1a" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.4" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.E8.m1.1.1.1.1.1.2.5" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.E8.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.E8.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S3.E8.m1.2.2.2.2.2.2" xref="S3.E8.m1.2.2.2.2.2.3.cmml"><mrow id="S3.E8.m1.2.2.2.2.2.1.1" xref="S3.E8.m1.2.2.2.2.2.1.1.cmml"><mi id="S3.E8.m1.2.2.2.2.2.1.1.2" xref="S3.E8.m1.2.2.2.2.2.1.1.2.cmml">k</mi><mo id="S3.E8.m1.2.2.2.2.2.1.1.1" xref="S3.E8.m1.2.2.2.2.2.1.1.1.cmml">∈</mo><mi id="S3.E8.m1.2.2.2.2.2.1.1.3" xref="S3.E8.m1.2.2.2.2.2.1.1.3.cmml">ℕ</mi></mrow><mo id="S3.E8.m1.2.2.2.2.2.2.3" xref="S3.E8.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E8.m1.2.2.2.2.2.2.2" xref="S3.E8.m1.2.2.2.2.2.2.2.cmml"><mrow id="S3.E8.m1.2.2.2.2.2.2.2.2" xref="S3.E8.m1.2.2.2.2.2.2.2.2.cmml"><msub id="S3.E8.m1.2.2.2.2.2.2.2.2.2" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E8.m1.2.2.2.2.2.2.2.2.2.2" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2.2.cmml">n</mi><mi id="S3.E8.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.E8.m1.2.2.2.2.2.2.2.2.1" xref="S3.E8.m1.2.2.2.2.2.2.2.2.1.cmml">+</mo><mn id="S3.E8.m1.2.2.2.2.2.2.2.2.3" xref="S3.E8.m1.2.2.2.2.2.2.2.2.3.cmml">1</mn></mrow><mo id="S3.E8.m1.2.2.2.2.2.2.2.3" xref="S3.E8.m1.2.2.2.2.2.2.2.3.cmml">≤</mo><mi id="S3.E8.m1.2.2.2.2.2.2.2.4" xref="S3.E8.m1.2.2.2.2.2.2.2.4.cmml">k</mi><mo id="S3.E8.m1.2.2.2.2.2.2.2.5" xref="S3.E8.m1.2.2.2.2.2.2.2.5.cmml">≤</mo><mrow id="S3.E8.m1.2.2.2.2.2.2.2.6" xref="S3.E8.m1.2.2.2.2.2.2.2.6.cmml"><msub id="S3.E8.m1.2.2.2.2.2.2.2.6.2" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2.cmml"><mi id="S3.E8.m1.2.2.2.2.2.2.2.6.2.2" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2.2.cmml">n</mi><mi id="S3.E8.m1.2.2.2.2.2.2.2.6.2.3" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2.3.cmml">k</mi></msub><mo id="S3.E8.m1.2.2.2.2.2.2.2.6.1" xref="S3.E8.m1.2.2.2.2.2.2.2.6.1.cmml">+</mo><msub id="S3.E8.m1.2.2.2.2.2.2.2.6.3" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3.cmml"><mi id="S3.E8.m1.2.2.2.2.2.2.2.6.3.2" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3.2.cmml">n</mi><mi id="S3.E8.m1.2.2.2.2.2.2.2.6.3.3" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3.3.cmml">q</mi></msub></mrow></mrow></mrow><mo id="S3.E8.m1.2.2.2.2.5" stretchy="false" xref="S3.E8.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.2b"><apply id="S3.E8.m1.2.2.cmml" xref="S3.E8.m1.2.2"><eq id="S3.E8.m1.2.2.3.cmml" xref="S3.E8.m1.2.2.3"></eq><apply id="S3.E8.m1.2.2.4.cmml" xref="S3.E8.m1.2.2.4"><times id="S3.E8.m1.2.2.4.1.cmml" xref="S3.E8.m1.2.2.4.1"></times><ci id="S3.E8.m1.2.2.4.2.cmml" xref="S3.E8.m1.2.2.4.2">𝑠</ci><apply id="S3.E8.m1.2.2.4.3.cmml" xref="S3.E8.m1.2.2.4.3"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.4.3.1.cmml" xref="S3.E8.m1.2.2.4.3">subscript</csymbol><ci id="S3.E8.m1.2.2.4.3.2.cmml" xref="S3.E8.m1.2.2.4.3.2">𝑝</ci><ci id="S3.E8.m1.2.2.4.3.3.cmml" xref="S3.E8.m1.2.2.4.3.3">𝑢</ci></apply></apply><apply id="S3.E8.m1.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.2"><csymbol cd="latexml" id="S3.E8.m1.2.2.2.3.1.cmml" xref="S3.E8.m1.2.2.2.2.3">conditional-set</csymbol><interval closure="open" id="S3.E8.m1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.2"><apply id="S3.E8.m1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1"><times id="S3.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1"></times><ci id="S3.E8.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E8.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E8.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.2">𝑝</ci><apply id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3"><times id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.3">𝑜</ci><ci id="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.4.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.E8.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.E8.m1.1.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2"><times id="S3.E8.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.1"></times><ci id="S3.E8.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.2">𝑠</ci><apply id="S3.E8.m1.1.1.1.1.1.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3">subscript</csymbol><apply id="S3.E8.m1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.2">𝑝</ci><apply id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3"><times id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.1"></times><ci id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.2">𝑒</ci><ci id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.3">𝑜</ci><ci id="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.4.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.E8.m1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.2.2.3.3">𝑘</ci></apply></apply></interval><apply id="S3.E8.m1.2.2.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.2.3a.cmml" xref="S3.E8.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E8.m1.2.2.2.2.2.1.1.cmml" xref="S3.E8.m1.2.2.2.2.2.1.1"><in id="S3.E8.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E8.m1.2.2.2.2.2.1.1.1"></in><ci id="S3.E8.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.E8.m1.2.2.2.2.2.1.1.2">𝑘</ci><ci id="S3.E8.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.E8.m1.2.2.2.2.2.1.1.3">ℕ</ci></apply><apply id="S3.E8.m1.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2"><and id="S3.E8.m1.2.2.2.2.2.2.2a.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2"></and><apply id="S3.E8.m1.2.2.2.2.2.2.2b.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2"><leq id="S3.E8.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.3"></leq><apply id="S3.E8.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2"><plus id="S3.E8.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2.1"></plus><apply id="S3.E8.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E8.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2.2">𝑛</ci><ci id="S3.E8.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.2.2.3">𝑘</ci></apply><cn id="S3.E8.m1.2.2.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.E8.m1.2.2.2.2.2.2.2.2.3">1</cn></apply><ci id="S3.E8.m1.2.2.2.2.2.2.2.4.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.4">𝑘</ci></apply><apply id="S3.E8.m1.2.2.2.2.2.2.2c.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2"><leq id="S3.E8.m1.2.2.2.2.2.2.2.5.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.5"></leq><share href="https://arxiv.org/html/2408.11523v1#S3.E8.m1.2.2.2.2.2.2.2.4.cmml" id="S3.E8.m1.2.2.2.2.2.2.2d.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2"></share><apply id="S3.E8.m1.2.2.2.2.2.2.2.6.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6"><plus id="S3.E8.m1.2.2.2.2.2.2.2.6.1.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.1"></plus><apply id="S3.E8.m1.2.2.2.2.2.2.2.6.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.2.2.2.6.2.1.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2">subscript</csymbol><ci id="S3.E8.m1.2.2.2.2.2.2.2.6.2.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2.2">𝑛</ci><ci id="S3.E8.m1.2.2.2.2.2.2.2.6.2.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.2.3">𝑘</ci></apply><apply id="S3.E8.m1.2.2.2.2.2.2.2.6.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.2.2.2.6.3.1.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3">subscript</csymbol><ci id="S3.E8.m1.2.2.2.2.2.2.2.6.3.2.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3.2">𝑛</ci><ci id="S3.E8.m1.2.2.2.2.2.2.2.6.3.3.cmml" xref="S3.E8.m1.2.2.2.2.2.2.2.6.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.2c">sp_{u}=\{(sp^{bos}_{k},sp^{eos}_{k})\mid k\in\mathbb{N},n_{k}+1\leq k\leq n_{k%
}+n_{q}\}</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.2d">italic_s italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { ( italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∣ italic_k ∈ blackboard_N , italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT + 1 ≤ italic_k ≤ italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT + italic_n start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.4">The <math alttext="n_{q}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m1.1"><semantics id="S3.SS2.p2.3.m1.1a"><msub id="S3.SS2.p2.3.m1.1.1" xref="S3.SS2.p2.3.m1.1.1.cmml"><mi id="S3.SS2.p2.3.m1.1.1.2" xref="S3.SS2.p2.3.m1.1.1.2.cmml">n</mi><mi id="S3.SS2.p2.3.m1.1.1.3" xref="S3.SS2.p2.3.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m1.1b"><apply id="S3.SS2.p2.3.m1.1.1.cmml" xref="S3.SS2.p2.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m1.1.1.1.cmml" xref="S3.SS2.p2.3.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m1.1.1.2.cmml" xref="S3.SS2.p2.3.m1.1.1.2">𝑛</ci><ci id="S3.SS2.p2.3.m1.1.1.3.cmml" xref="S3.SS2.p2.3.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m1.1c">n_{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m1.1d">italic_n start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> represents the number of keywords in user-related text. We denote the union of two sets as <math alttext="sp" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m2.1"><semantics id="S3.SS2.p2.4.m2.1a"><mrow id="S3.SS2.p2.4.m2.1.1" xref="S3.SS2.p2.4.m2.1.1.cmml"><mi id="S3.SS2.p2.4.m2.1.1.2" xref="S3.SS2.p2.4.m2.1.1.2.cmml">s</mi><mo id="S3.SS2.p2.4.m2.1.1.1" xref="S3.SS2.p2.4.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.4.m2.1.1.3" xref="S3.SS2.p2.4.m2.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m2.1b"><apply id="S3.SS2.p2.4.m2.1.1.cmml" xref="S3.SS2.p2.4.m2.1.1"><times id="S3.SS2.p2.4.m2.1.1.1.cmml" xref="S3.SS2.p2.4.m2.1.1.1"></times><ci id="S3.SS2.p2.4.m2.1.1.2.cmml" xref="S3.SS2.p2.4.m2.1.1.2">𝑠</ci><ci id="S3.SS2.p2.4.m2.1.1.3.cmml" xref="S3.SS2.p2.4.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m2.1c">sp</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m2.1d">italic_s italic_p</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="sp=sp_{p}\cup sp_{u}" class="ltx_Math" display="block" id="S3.E9.m1.1"><semantics id="S3.E9.m1.1a"><mrow id="S3.E9.m1.1.1" xref="S3.E9.m1.1.1.cmml"><mrow id="S3.E9.m1.1.1.2" xref="S3.E9.m1.1.1.2.cmml"><mi id="S3.E9.m1.1.1.2.2" xref="S3.E9.m1.1.1.2.2.cmml">s</mi><mo id="S3.E9.m1.1.1.2.1" xref="S3.E9.m1.1.1.2.1.cmml">⁢</mo><mi id="S3.E9.m1.1.1.2.3" xref="S3.E9.m1.1.1.2.3.cmml">p</mi></mrow><mo id="S3.E9.m1.1.1.1" xref="S3.E9.m1.1.1.1.cmml">=</mo><mrow id="S3.E9.m1.1.1.3" xref="S3.E9.m1.1.1.3.cmml"><mrow id="S3.E9.m1.1.1.3.2" xref="S3.E9.m1.1.1.3.2.cmml"><mi id="S3.E9.m1.1.1.3.2.2" xref="S3.E9.m1.1.1.3.2.2.cmml">s</mi><mo id="S3.E9.m1.1.1.3.2.1" xref="S3.E9.m1.1.1.3.2.1.cmml">⁢</mo><msub id="S3.E9.m1.1.1.3.2.3" xref="S3.E9.m1.1.1.3.2.3.cmml"><mi id="S3.E9.m1.1.1.3.2.3.2" xref="S3.E9.m1.1.1.3.2.3.2.cmml">p</mi><mi id="S3.E9.m1.1.1.3.2.3.3" xref="S3.E9.m1.1.1.3.2.3.3.cmml">p</mi></msub></mrow><mo id="S3.E9.m1.1.1.3.1" xref="S3.E9.m1.1.1.3.1.cmml">∪</mo><mrow id="S3.E9.m1.1.1.3.3" xref="S3.E9.m1.1.1.3.3.cmml"><mi id="S3.E9.m1.1.1.3.3.2" xref="S3.E9.m1.1.1.3.3.2.cmml">s</mi><mo id="S3.E9.m1.1.1.3.3.1" xref="S3.E9.m1.1.1.3.3.1.cmml">⁢</mo><msub id="S3.E9.m1.1.1.3.3.3" xref="S3.E9.m1.1.1.3.3.3.cmml"><mi id="S3.E9.m1.1.1.3.3.3.2" xref="S3.E9.m1.1.1.3.3.3.2.cmml">p</mi><mi id="S3.E9.m1.1.1.3.3.3.3" xref="S3.E9.m1.1.1.3.3.3.3.cmml">u</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.1b"><apply id="S3.E9.m1.1.1.cmml" xref="S3.E9.m1.1.1"><eq id="S3.E9.m1.1.1.1.cmml" xref="S3.E9.m1.1.1.1"></eq><apply id="S3.E9.m1.1.1.2.cmml" xref="S3.E9.m1.1.1.2"><times id="S3.E9.m1.1.1.2.1.cmml" xref="S3.E9.m1.1.1.2.1"></times><ci id="S3.E9.m1.1.1.2.2.cmml" xref="S3.E9.m1.1.1.2.2">𝑠</ci><ci id="S3.E9.m1.1.1.2.3.cmml" xref="S3.E9.m1.1.1.2.3">𝑝</ci></apply><apply id="S3.E9.m1.1.1.3.cmml" xref="S3.E9.m1.1.1.3"><union id="S3.E9.m1.1.1.3.1.cmml" xref="S3.E9.m1.1.1.3.1"></union><apply id="S3.E9.m1.1.1.3.2.cmml" xref="S3.E9.m1.1.1.3.2"><times id="S3.E9.m1.1.1.3.2.1.cmml" xref="S3.E9.m1.1.1.3.2.1"></times><ci id="S3.E9.m1.1.1.3.2.2.cmml" xref="S3.E9.m1.1.1.3.2.2">𝑠</ci><apply id="S3.E9.m1.1.1.3.2.3.cmml" xref="S3.E9.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.3.2.3.1.cmml" xref="S3.E9.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.E9.m1.1.1.3.2.3.2.cmml" xref="S3.E9.m1.1.1.3.2.3.2">𝑝</ci><ci id="S3.E9.m1.1.1.3.2.3.3.cmml" xref="S3.E9.m1.1.1.3.2.3.3">𝑝</ci></apply></apply><apply id="S3.E9.m1.1.1.3.3.cmml" xref="S3.E9.m1.1.1.3.3"><times id="S3.E9.m1.1.1.3.3.1.cmml" xref="S3.E9.m1.1.1.3.3.1"></times><ci id="S3.E9.m1.1.1.3.3.2.cmml" xref="S3.E9.m1.1.1.3.3.2">𝑠</ci><apply id="S3.E9.m1.1.1.3.3.3.cmml" xref="S3.E9.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.3.3.3.1.cmml" xref="S3.E9.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.E9.m1.1.1.3.3.3.2.cmml" xref="S3.E9.m1.1.1.3.3.3.2">𝑝</ci><ci id="S3.E9.m1.1.1.3.3.3.3.cmml" xref="S3.E9.m1.1.1.3.3.3.3">𝑢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.1c">sp=sp_{p}\cup sp_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.1d">italic_s italic_p = italic_s italic_p start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ∪ italic_s italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.6">Here, set <math alttext="sp" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m1.1"><semantics id="S3.SS2.p2.5.m1.1a"><mrow id="S3.SS2.p2.5.m1.1.1" xref="S3.SS2.p2.5.m1.1.1.cmml"><mi id="S3.SS2.p2.5.m1.1.1.2" xref="S3.SS2.p2.5.m1.1.1.2.cmml">s</mi><mo id="S3.SS2.p2.5.m1.1.1.1" xref="S3.SS2.p2.5.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.5.m1.1.1.3" xref="S3.SS2.p2.5.m1.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m1.1b"><apply id="S3.SS2.p2.5.m1.1.1.cmml" xref="S3.SS2.p2.5.m1.1.1"><times id="S3.SS2.p2.5.m1.1.1.1.cmml" xref="S3.SS2.p2.5.m1.1.1.1"></times><ci id="S3.SS2.p2.5.m1.1.1.2.cmml" xref="S3.SS2.p2.5.m1.1.1.2">𝑠</ci><ci id="S3.SS2.p2.5.m1.1.1.3.cmml" xref="S3.SS2.p2.5.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m1.1c">sp</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m1.1d">italic_s italic_p</annotation></semantics></math> has <math alttext="n_{k}+n_{q}" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m2.1"><semantics id="S3.SS2.p2.6.m2.1a"><mrow id="S3.SS2.p2.6.m2.1.1" xref="S3.SS2.p2.6.m2.1.1.cmml"><msub id="S3.SS2.p2.6.m2.1.1.2" xref="S3.SS2.p2.6.m2.1.1.2.cmml"><mi id="S3.SS2.p2.6.m2.1.1.2.2" xref="S3.SS2.p2.6.m2.1.1.2.2.cmml">n</mi><mi id="S3.SS2.p2.6.m2.1.1.2.3" xref="S3.SS2.p2.6.m2.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS2.p2.6.m2.1.1.1" xref="S3.SS2.p2.6.m2.1.1.1.cmml">+</mo><msub id="S3.SS2.p2.6.m2.1.1.3" xref="S3.SS2.p2.6.m2.1.1.3.cmml"><mi id="S3.SS2.p2.6.m2.1.1.3.2" xref="S3.SS2.p2.6.m2.1.1.3.2.cmml">n</mi><mi id="S3.SS2.p2.6.m2.1.1.3.3" xref="S3.SS2.p2.6.m2.1.1.3.3.cmml">q</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m2.1b"><apply id="S3.SS2.p2.6.m2.1.1.cmml" xref="S3.SS2.p2.6.m2.1.1"><plus id="S3.SS2.p2.6.m2.1.1.1.cmml" xref="S3.SS2.p2.6.m2.1.1.1"></plus><apply id="S3.SS2.p2.6.m2.1.1.2.cmml" xref="S3.SS2.p2.6.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m2.1.1.2.1.cmml" xref="S3.SS2.p2.6.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.6.m2.1.1.2.2.cmml" xref="S3.SS2.p2.6.m2.1.1.2.2">𝑛</ci><ci id="S3.SS2.p2.6.m2.1.1.2.3.cmml" xref="S3.SS2.p2.6.m2.1.1.2.3">𝑘</ci></apply><apply id="S3.SS2.p2.6.m2.1.1.3.cmml" xref="S3.SS2.p2.6.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m2.1.1.3.1.cmml" xref="S3.SS2.p2.6.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.6.m2.1.1.3.2.cmml" xref="S3.SS2.p2.6.m2.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.6.m2.1.1.3.3.cmml" xref="S3.SS2.p2.6.m2.1.1.3.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m2.1c">n_{k}+n_{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m2.1d">italic_n start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT + italic_n start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> elements.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.7">We define a LLM-based score functiona <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msub id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑠</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> for evaluating the similarity of inputs. The score functiona <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">s</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑠</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> would calculate the similarity of two input text base on <math alttext="P_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><msub id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">P</mi><mi id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">𝑃</ci><ci id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">P_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math>. Similar to continual pretraining stage, the description <math alttext="z" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><mi id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_z</annotation></semantics></math> of POI or user is divided into several segments, interspersed with special tokens in <math alttext="SP" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mrow id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml">S</mi><mo id="S3.SS2.p3.5.m5.1.1.1" xref="S3.SS2.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><times id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1.1"></times><ci id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">𝑆</ci><ci id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">SP</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_S italic_P</annotation></semantics></math>. Assuming that there’s a series of text input <math alttext="z=[sp^{bos}_{0},z^{0},sp^{eos}_{0},sp^{bos}_{1},z^{1},sp^{eos}_{1}...sp^{bos}_%
{l},z^{l},sp^{eos}_{l}]" class="ltx_Math" display="inline" id="S3.SS2.p3.6.m6.8"><semantics id="S3.SS2.p3.6.m6.8a"><mrow id="S3.SS2.p3.6.m6.8.8" xref="S3.SS2.p3.6.m6.8.8.cmml"><mi id="S3.SS2.p3.6.m6.8.8.10" xref="S3.SS2.p3.6.m6.8.8.10.cmml">z</mi><mo id="S3.SS2.p3.6.m6.8.8.9" xref="S3.SS2.p3.6.m6.8.8.9.cmml">=</mo><mrow id="S3.SS2.p3.6.m6.8.8.8.8" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml"><mo id="S3.SS2.p3.6.m6.8.8.8.8.9" stretchy="false" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">[</mo><mrow id="S3.SS2.p3.6.m6.1.1.1.1.1" xref="S3.SS2.p3.6.m6.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.6.m6.1.1.1.1.1.2" xref="S3.SS2.p3.6.m6.1.1.1.1.1.2.cmml">s</mi><mo id="S3.SS2.p3.6.m6.1.1.1.1.1.1" xref="S3.SS2.p3.6.m6.1.1.1.1.1.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.1.1.1.1.1.3" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.2" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.2.cmml">p</mi><mn id="S3.SS2.p3.6.m6.1.1.1.1.1.3.3" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.3.cmml">0</mn><mrow id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.cmml"><mi id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.2" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.2.cmml">b</mi><mo id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.3" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1a" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.4" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.SS2.p3.6.m6.8.8.8.8.10" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><msup id="S3.SS2.p3.6.m6.2.2.2.2.2" xref="S3.SS2.p3.6.m6.2.2.2.2.2.cmml"><mi id="S3.SS2.p3.6.m6.2.2.2.2.2.2" xref="S3.SS2.p3.6.m6.2.2.2.2.2.2.cmml">z</mi><mn id="S3.SS2.p3.6.m6.2.2.2.2.2.3" xref="S3.SS2.p3.6.m6.2.2.2.2.2.3.cmml">0</mn></msup><mo id="S3.SS2.p3.6.m6.8.8.8.8.11" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><mrow id="S3.SS2.p3.6.m6.3.3.3.3.3" xref="S3.SS2.p3.6.m6.3.3.3.3.3.cmml"><mi id="S3.SS2.p3.6.m6.3.3.3.3.3.2" xref="S3.SS2.p3.6.m6.3.3.3.3.3.2.cmml">s</mi><mo id="S3.SS2.p3.6.m6.3.3.3.3.3.1" xref="S3.SS2.p3.6.m6.3.3.3.3.3.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.3.3.3.3.3.3" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.cmml"><mi id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.2" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.2.cmml">p</mi><mn id="S3.SS2.p3.6.m6.3.3.3.3.3.3.3" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.3.cmml">0</mn><mrow id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.cmml"><mi id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.2" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.2.cmml">e</mi><mo id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.3" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1a" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.4" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.SS2.p3.6.m6.8.8.8.8.12" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><mrow id="S3.SS2.p3.6.m6.4.4.4.4.4" xref="S3.SS2.p3.6.m6.4.4.4.4.4.cmml"><mi id="S3.SS2.p3.6.m6.4.4.4.4.4.2" xref="S3.SS2.p3.6.m6.4.4.4.4.4.2.cmml">s</mi><mo id="S3.SS2.p3.6.m6.4.4.4.4.4.1" xref="S3.SS2.p3.6.m6.4.4.4.4.4.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.4.4.4.4.4.3" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.cmml"><mi id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.2" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.2.cmml">p</mi><mn id="S3.SS2.p3.6.m6.4.4.4.4.4.3.3" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.3.cmml">1</mn><mrow id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.cmml"><mi id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.2" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.2.cmml">b</mi><mo id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.3" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1a" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.4" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.SS2.p3.6.m6.8.8.8.8.13" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><msup id="S3.SS2.p3.6.m6.5.5.5.5.5" xref="S3.SS2.p3.6.m6.5.5.5.5.5.cmml"><mi id="S3.SS2.p3.6.m6.5.5.5.5.5.2" xref="S3.SS2.p3.6.m6.5.5.5.5.5.2.cmml">z</mi><mn id="S3.SS2.p3.6.m6.5.5.5.5.5.3" xref="S3.SS2.p3.6.m6.5.5.5.5.5.3.cmml">1</mn></msup><mo id="S3.SS2.p3.6.m6.8.8.8.8.14" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><mrow id="S3.SS2.p3.6.m6.6.6.6.6.6" xref="S3.SS2.p3.6.m6.6.6.6.6.6.cmml"><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.2" xref="S3.SS2.p3.6.m6.6.6.6.6.6.2.cmml">s</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.1" xref="S3.SS2.p3.6.m6.6.6.6.6.6.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.6.6.6.6.6.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.cmml"><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.2" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.2.cmml">p</mi><mn id="S3.SS2.p3.6.m6.6.6.6.6.6.3.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.3.cmml">1</mn><mrow id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.cmml"><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.2" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.2.cmml">e</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1a" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.4" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.4.cmml">s</mi></mrow></msubsup><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.1a" xref="S3.SS2.p3.6.m6.6.6.6.6.6.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.4" mathvariant="normal" xref="S3.SS2.p3.6.m6.6.6.6.6.6.4.cmml">…</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.1b" xref="S3.SS2.p3.6.m6.6.6.6.6.6.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.5" xref="S3.SS2.p3.6.m6.6.6.6.6.6.5.cmml">s</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.1c" xref="S3.SS2.p3.6.m6.6.6.6.6.6.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.6.6.6.6.6.6" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.cmml"><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.2" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.2.cmml">p</mi><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.6.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.3.cmml">l</mi><mrow id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.cmml"><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.2" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.2.cmml">b</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.3" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1a" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.4" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.SS2.p3.6.m6.8.8.8.8.15" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><msup id="S3.SS2.p3.6.m6.7.7.7.7.7" xref="S3.SS2.p3.6.m6.7.7.7.7.7.cmml"><mi id="S3.SS2.p3.6.m6.7.7.7.7.7.2" xref="S3.SS2.p3.6.m6.7.7.7.7.7.2.cmml">z</mi><mi id="S3.SS2.p3.6.m6.7.7.7.7.7.3" xref="S3.SS2.p3.6.m6.7.7.7.7.7.3.cmml">l</mi></msup><mo id="S3.SS2.p3.6.m6.8.8.8.8.16" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">,</mo><mrow id="S3.SS2.p3.6.m6.8.8.8.8.8" xref="S3.SS2.p3.6.m6.8.8.8.8.8.cmml"><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.2" xref="S3.SS2.p3.6.m6.8.8.8.8.8.2.cmml">s</mi><mo id="S3.SS2.p3.6.m6.8.8.8.8.8.1" xref="S3.SS2.p3.6.m6.8.8.8.8.8.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.6.m6.8.8.8.8.8.3" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.cmml"><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.2" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.2.cmml">p</mi><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.3.3" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.3.cmml">l</mi><mrow id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.cmml"><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.2" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.2.cmml">e</mi><mo id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.3" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.3.cmml">o</mi><mo id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1a" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.4" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><mo id="S3.SS2.p3.6.m6.8.8.8.8.17" stretchy="false" xref="S3.SS2.p3.6.m6.8.8.8.9.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.8b"><apply id="S3.SS2.p3.6.m6.8.8.cmml" xref="S3.SS2.p3.6.m6.8.8"><eq id="S3.SS2.p3.6.m6.8.8.9.cmml" xref="S3.SS2.p3.6.m6.8.8.9"></eq><ci id="S3.SS2.p3.6.m6.8.8.10.cmml" xref="S3.SS2.p3.6.m6.8.8.10">𝑧</ci><list id="S3.SS2.p3.6.m6.8.8.8.9.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8"><apply id="S3.SS2.p3.6.m6.1.1.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1"><times id="S3.SS2.p3.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.1"></times><ci id="S3.SS2.p3.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.2">𝑠</ci><apply id="S3.SS2.p3.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3">subscript</csymbol><apply id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.1.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.2.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3"><times id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.1"></times><ci id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.2.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.3.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.4.cmml" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS2.p3.6.m6.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.1.1.1.1.1.3.3">0</cn></apply></apply><apply id="S3.SS2.p3.6.m6.2.2.2.2.2.cmml" xref="S3.SS2.p3.6.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.2.2.2.2.2.1.cmml" xref="S3.SS2.p3.6.m6.2.2.2.2.2">superscript</csymbol><ci id="S3.SS2.p3.6.m6.2.2.2.2.2.2.cmml" xref="S3.SS2.p3.6.m6.2.2.2.2.2.2">𝑧</ci><cn id="S3.SS2.p3.6.m6.2.2.2.2.2.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.2.2.2.2.2.3">0</cn></apply><apply id="S3.SS2.p3.6.m6.3.3.3.3.3.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3"><times id="S3.SS2.p3.6.m6.3.3.3.3.3.1.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.1"></times><ci id="S3.SS2.p3.6.m6.3.3.3.3.3.2.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.2">𝑠</ci><apply id="S3.SS2.p3.6.m6.3.3.3.3.3.3.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.3.3.3.3.3.3.1.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3">subscript</csymbol><apply id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.1.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3">superscript</csymbol><ci id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.2.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3"><times id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.1"></times><ci id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.2.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.2">𝑒</ci><ci id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.3.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.4.cmml" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS2.p3.6.m6.3.3.3.3.3.3.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.3.3.3.3.3.3.3">0</cn></apply></apply><apply id="S3.SS2.p3.6.m6.4.4.4.4.4.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4"><times id="S3.SS2.p3.6.m6.4.4.4.4.4.1.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.1"></times><ci id="S3.SS2.p3.6.m6.4.4.4.4.4.2.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.2">𝑠</ci><apply id="S3.SS2.p3.6.m6.4.4.4.4.4.3.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.4.4.4.4.4.3.1.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3">subscript</csymbol><apply id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.1.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3">superscript</csymbol><ci id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.2.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3"><times id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.1"></times><ci id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.2.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.2">𝑏</ci><ci id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.3.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.4.cmml" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS2.p3.6.m6.4.4.4.4.4.3.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.4.4.4.4.4.3.3">1</cn></apply></apply><apply id="S3.SS2.p3.6.m6.5.5.5.5.5.cmml" xref="S3.SS2.p3.6.m6.5.5.5.5.5"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.5.5.5.5.5.1.cmml" xref="S3.SS2.p3.6.m6.5.5.5.5.5">superscript</csymbol><ci id="S3.SS2.p3.6.m6.5.5.5.5.5.2.cmml" xref="S3.SS2.p3.6.m6.5.5.5.5.5.2">𝑧</ci><cn id="S3.SS2.p3.6.m6.5.5.5.5.5.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.5.5.5.5.5.3">1</cn></apply><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6"><times id="S3.SS2.p3.6.m6.6.6.6.6.6.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.1"></times><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.2">𝑠</ci><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.6.6.6.6.6.3.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3">subscript</csymbol><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3">superscript</csymbol><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3"><times id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.1"></times><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.2">𝑒</ci><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.4.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.2.3.4">𝑠</ci></apply></apply><cn id="S3.SS2.p3.6.m6.6.6.6.6.6.3.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.6.6.6.6.6.3.3">1</cn></apply><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.4.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.4">…</ci><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.5.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.5">𝑠</ci><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.6.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.6.6.6.6.6.6.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6">subscript</csymbol><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6">superscript</csymbol><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3"><times id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.1"></times><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.2.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.2">𝑏</ci><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.4.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.2.3.4">𝑠</ci></apply></apply><ci id="S3.SS2.p3.6.m6.6.6.6.6.6.6.3.cmml" xref="S3.SS2.p3.6.m6.6.6.6.6.6.6.3">𝑙</ci></apply></apply><apply id="S3.SS2.p3.6.m6.7.7.7.7.7.cmml" xref="S3.SS2.p3.6.m6.7.7.7.7.7"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.7.7.7.7.7.1.cmml" xref="S3.SS2.p3.6.m6.7.7.7.7.7">superscript</csymbol><ci id="S3.SS2.p3.6.m6.7.7.7.7.7.2.cmml" xref="S3.SS2.p3.6.m6.7.7.7.7.7.2">𝑧</ci><ci id="S3.SS2.p3.6.m6.7.7.7.7.7.3.cmml" xref="S3.SS2.p3.6.m6.7.7.7.7.7.3">𝑙</ci></apply><apply id="S3.SS2.p3.6.m6.8.8.8.8.8.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8"><times id="S3.SS2.p3.6.m6.8.8.8.8.8.1.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.1"></times><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.2.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.2">𝑠</ci><apply id="S3.SS2.p3.6.m6.8.8.8.8.8.3.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.8.8.8.8.8.3.1.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3">subscript</csymbol><apply id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.1.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3">superscript</csymbol><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.2.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.2">𝑝</ci><apply id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3"><times id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.1"></times><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.2.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.2">𝑒</ci><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.3.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.3">𝑜</ci><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.4.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.SS2.p3.6.m6.8.8.8.8.8.3.3.cmml" xref="S3.SS2.p3.6.m6.8.8.8.8.8.3.3">𝑙</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.8c">z=[sp^{bos}_{0},z^{0},sp^{eos}_{0},sp^{bos}_{1},z^{1},sp^{eos}_{1}...sp^{bos}_%
{l},z^{l},sp^{eos}_{l}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.6.m6.8d">italic_z = [ italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_z start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_z start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT … italic_s italic_p start_POSTSUPERSCRIPT italic_b italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT , italic_z start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT , italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ]</annotation></semantics></math>, it would be first tokenized into a series of tokens and mapping to a series of token embedding <math alttext="\mathbf{Z}=[\mathbf{z_{0}},\mathbf{z_{1}}...\mathbf{z_{m}}]" class="ltx_Math" display="inline" id="S3.SS2.p3.7.m7.2"><semantics id="S3.SS2.p3.7.m7.2a"><mrow id="S3.SS2.p3.7.m7.2.2" xref="S3.SS2.p3.7.m7.2.2.cmml"><mi id="S3.SS2.p3.7.m7.2.2.4" xref="S3.SS2.p3.7.m7.2.2.4.cmml">𝐙</mi><mo id="S3.SS2.p3.7.m7.2.2.3" xref="S3.SS2.p3.7.m7.2.2.3.cmml">=</mo><mrow id="S3.SS2.p3.7.m7.2.2.2.2" xref="S3.SS2.p3.7.m7.2.2.2.3.cmml"><mo id="S3.SS2.p3.7.m7.2.2.2.2.3" stretchy="false" xref="S3.SS2.p3.7.m7.2.2.2.3.cmml">[</mo><msub id="S3.SS2.p3.7.m7.1.1.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.7.m7.1.1.1.1.1.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.2.cmml">𝐳</mi><mn id="S3.SS2.p3.7.m7.1.1.1.1.1.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.3.cmml">𝟎</mn></msub><mo id="S3.SS2.p3.7.m7.2.2.2.2.4" xref="S3.SS2.p3.7.m7.2.2.2.3.cmml">,</mo><mrow id="S3.SS2.p3.7.m7.2.2.2.2.2" xref="S3.SS2.p3.7.m7.2.2.2.2.2.cmml"><msub id="S3.SS2.p3.7.m7.2.2.2.2.2.2" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p3.7.m7.2.2.2.2.2.2.2" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2.2.cmml">𝐳</mi><mn id="S3.SS2.p3.7.m7.2.2.2.2.2.2.3" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2.3.cmml">𝟏</mn></msub><mo id="S3.SS2.p3.7.m7.2.2.2.2.2.1" xref="S3.SS2.p3.7.m7.2.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS2.p3.7.m7.2.2.2.2.2.3" mathvariant="normal" xref="S3.SS2.p3.7.m7.2.2.2.2.2.3.cmml">…</mi><mo id="S3.SS2.p3.7.m7.2.2.2.2.2.1a" xref="S3.SS2.p3.7.m7.2.2.2.2.2.1.cmml">⁢</mo><msub id="S3.SS2.p3.7.m7.2.2.2.2.2.4" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4.cmml"><mi id="S3.SS2.p3.7.m7.2.2.2.2.2.4.2" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4.2.cmml">𝐳</mi><mi id="S3.SS2.p3.7.m7.2.2.2.2.2.4.3" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4.3.cmml">𝐦</mi></msub></mrow><mo id="S3.SS2.p3.7.m7.2.2.2.2.5" stretchy="false" xref="S3.SS2.p3.7.m7.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.2b"><apply id="S3.SS2.p3.7.m7.2.2.cmml" xref="S3.SS2.p3.7.m7.2.2"><eq id="S3.SS2.p3.7.m7.2.2.3.cmml" xref="S3.SS2.p3.7.m7.2.2.3"></eq><ci id="S3.SS2.p3.7.m7.2.2.4.cmml" xref="S3.SS2.p3.7.m7.2.2.4">𝐙</ci><interval closure="closed" id="S3.SS2.p3.7.m7.2.2.2.3.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2"><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.2">𝐳</ci><cn id="S3.SS2.p3.7.m7.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p3.7.m7.1.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.p3.7.m7.2.2.2.2.2.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2"><times id="S3.SS2.p3.7.m7.2.2.2.2.2.1.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.1"></times><apply id="S3.SS2.p3.7.m7.2.2.2.2.2.2.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.7.m7.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2.2">𝐳</ci><cn id="S3.SS2.p3.7.m7.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.SS2.p3.7.m7.2.2.2.2.2.2.3">1</cn></apply><ci id="S3.SS2.p3.7.m7.2.2.2.2.2.3.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.3">…</ci><apply id="S3.SS2.p3.7.m7.2.2.2.2.2.4.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.2.2.2.2.2.4.1.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4">subscript</csymbol><ci id="S3.SS2.p3.7.m7.2.2.2.2.2.4.2.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4.2">𝐳</ci><ci id="S3.SS2.p3.7.m7.2.2.2.2.2.4.3.cmml" xref="S3.SS2.p3.7.m7.2.2.2.2.2.4.3">𝐦</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.2c">\mathbf{Z}=[\mathbf{z_{0}},\mathbf{z_{1}}...\mathbf{z_{m}}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.7.m7.2d">bold_Z = [ bold_z start_POSTSUBSCRIPT bold_0 end_POSTSUBSCRIPT , bold_z start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT … bold_z start_POSTSUBSCRIPT bold_m end_POSTSUBSCRIPT ]</annotation></semantics></math>, then sending to LLM after padding.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{h}_{z}=MLP(LLM_{\theta}(z)_{m})" class="ltx_Math" display="block" id="S3.E10.m1.2"><semantics id="S3.E10.m1.2a"><mrow id="S3.E10.m1.2.2" xref="S3.E10.m1.2.2.cmml"><msub id="S3.E10.m1.2.2.3" xref="S3.E10.m1.2.2.3.cmml"><mi id="S3.E10.m1.2.2.3.2" xref="S3.E10.m1.2.2.3.2.cmml">𝐡</mi><mi id="S3.E10.m1.2.2.3.3" xref="S3.E10.m1.2.2.3.3.cmml">z</mi></msub><mo id="S3.E10.m1.2.2.2" xref="S3.E10.m1.2.2.2.cmml">=</mo><mrow id="S3.E10.m1.2.2.1" xref="S3.E10.m1.2.2.1.cmml"><mi id="S3.E10.m1.2.2.1.3" xref="S3.E10.m1.2.2.1.3.cmml">M</mi><mo id="S3.E10.m1.2.2.1.2" xref="S3.E10.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E10.m1.2.2.1.4" xref="S3.E10.m1.2.2.1.4.cmml">L</mi><mo id="S3.E10.m1.2.2.1.2a" xref="S3.E10.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E10.m1.2.2.1.5" xref="S3.E10.m1.2.2.1.5.cmml">P</mi><mo id="S3.E10.m1.2.2.1.2b" xref="S3.E10.m1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E10.m1.2.2.1.1.1" xref="S3.E10.m1.2.2.1.1.1.1.cmml"><mo id="S3.E10.m1.2.2.1.1.1.2" stretchy="false" xref="S3.E10.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.2.2.1.1.1.1" xref="S3.E10.m1.2.2.1.1.1.1.cmml"><mi id="S3.E10.m1.2.2.1.1.1.1.2" xref="S3.E10.m1.2.2.1.1.1.1.2.cmml">L</mi><mo id="S3.E10.m1.2.2.1.1.1.1.1" xref="S3.E10.m1.2.2.1.1.1.1.1.cmml">⁢</mo><mi id="S3.E10.m1.2.2.1.1.1.1.3" xref="S3.E10.m1.2.2.1.1.1.1.3.cmml">L</mi><mo id="S3.E10.m1.2.2.1.1.1.1.1a" xref="S3.E10.m1.2.2.1.1.1.1.1.cmml">⁢</mo><msub id="S3.E10.m1.2.2.1.1.1.1.4" xref="S3.E10.m1.2.2.1.1.1.1.4.cmml"><mi id="S3.E10.m1.2.2.1.1.1.1.4.2" xref="S3.E10.m1.2.2.1.1.1.1.4.2.cmml">M</mi><mi id="S3.E10.m1.2.2.1.1.1.1.4.3" xref="S3.E10.m1.2.2.1.1.1.1.4.3.cmml">θ</mi></msub><mo id="S3.E10.m1.2.2.1.1.1.1.1b" xref="S3.E10.m1.2.2.1.1.1.1.1.cmml">⁢</mo><msub id="S3.E10.m1.2.2.1.1.1.1.5" xref="S3.E10.m1.2.2.1.1.1.1.5.cmml"><mrow id="S3.E10.m1.2.2.1.1.1.1.5.2.2" xref="S3.E10.m1.2.2.1.1.1.1.5.cmml"><mo id="S3.E10.m1.2.2.1.1.1.1.5.2.2.1" stretchy="false" xref="S3.E10.m1.2.2.1.1.1.1.5.cmml">(</mo><mi id="S3.E10.m1.1.1" xref="S3.E10.m1.1.1.cmml">z</mi><mo id="S3.E10.m1.2.2.1.1.1.1.5.2.2.2" stretchy="false" xref="S3.E10.m1.2.2.1.1.1.1.5.cmml">)</mo></mrow><mi id="S3.E10.m1.2.2.1.1.1.1.5.3" xref="S3.E10.m1.2.2.1.1.1.1.5.3.cmml">m</mi></msub></mrow><mo id="S3.E10.m1.2.2.1.1.1.3" stretchy="false" xref="S3.E10.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.2b"><apply id="S3.E10.m1.2.2.cmml" xref="S3.E10.m1.2.2"><eq id="S3.E10.m1.2.2.2.cmml" xref="S3.E10.m1.2.2.2"></eq><apply id="S3.E10.m1.2.2.3.cmml" xref="S3.E10.m1.2.2.3"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.3.1.cmml" xref="S3.E10.m1.2.2.3">subscript</csymbol><ci id="S3.E10.m1.2.2.3.2.cmml" xref="S3.E10.m1.2.2.3.2">𝐡</ci><ci id="S3.E10.m1.2.2.3.3.cmml" xref="S3.E10.m1.2.2.3.3">𝑧</ci></apply><apply id="S3.E10.m1.2.2.1.cmml" xref="S3.E10.m1.2.2.1"><times id="S3.E10.m1.2.2.1.2.cmml" xref="S3.E10.m1.2.2.1.2"></times><ci id="S3.E10.m1.2.2.1.3.cmml" xref="S3.E10.m1.2.2.1.3">𝑀</ci><ci id="S3.E10.m1.2.2.1.4.cmml" xref="S3.E10.m1.2.2.1.4">𝐿</ci><ci id="S3.E10.m1.2.2.1.5.cmml" xref="S3.E10.m1.2.2.1.5">𝑃</ci><apply id="S3.E10.m1.2.2.1.1.1.1.cmml" xref="S3.E10.m1.2.2.1.1.1"><times id="S3.E10.m1.2.2.1.1.1.1.1.cmml" xref="S3.E10.m1.2.2.1.1.1.1.1"></times><ci id="S3.E10.m1.2.2.1.1.1.1.2.cmml" xref="S3.E10.m1.2.2.1.1.1.1.2">𝐿</ci><ci id="S3.E10.m1.2.2.1.1.1.1.3.cmml" xref="S3.E10.m1.2.2.1.1.1.1.3">𝐿</ci><apply id="S3.E10.m1.2.2.1.1.1.1.4.cmml" xref="S3.E10.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.1.1.1.1.4.1.cmml" xref="S3.E10.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E10.m1.2.2.1.1.1.1.4.2.cmml" xref="S3.E10.m1.2.2.1.1.1.1.4.2">𝑀</ci><ci id="S3.E10.m1.2.2.1.1.1.1.4.3.cmml" xref="S3.E10.m1.2.2.1.1.1.1.4.3">𝜃</ci></apply><apply id="S3.E10.m1.2.2.1.1.1.1.5.cmml" xref="S3.E10.m1.2.2.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.1.1.1.1.5.1.cmml" xref="S3.E10.m1.2.2.1.1.1.1.5">subscript</csymbol><ci id="S3.E10.m1.1.1.cmml" xref="S3.E10.m1.1.1">𝑧</ci><ci id="S3.E10.m1.2.2.1.1.1.1.5.3.cmml" xref="S3.E10.m1.2.2.1.1.1.1.5.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.2c">\mathbf{h}_{z}=MLP(LLM_{\theta}(z)_{m})</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.2d">bold_h start_POSTSUBSCRIPT italic_z end_POSTSUBSCRIPT = italic_M italic_L italic_P ( italic_L italic_L italic_M start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_z ) start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.8">where <math alttext="MLP" class="ltx_Math" display="inline" id="S3.SS2.p3.8.m1.1"><semantics id="S3.SS2.p3.8.m1.1a"><mrow id="S3.SS2.p3.8.m1.1.1" xref="S3.SS2.p3.8.m1.1.1.cmml"><mi id="S3.SS2.p3.8.m1.1.1.2" xref="S3.SS2.p3.8.m1.1.1.2.cmml">M</mi><mo id="S3.SS2.p3.8.m1.1.1.1" xref="S3.SS2.p3.8.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.8.m1.1.1.3" xref="S3.SS2.p3.8.m1.1.1.3.cmml">L</mi><mo id="S3.SS2.p3.8.m1.1.1.1a" xref="S3.SS2.p3.8.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.8.m1.1.1.4" xref="S3.SS2.p3.8.m1.1.1.4.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m1.1b"><apply id="S3.SS2.p3.8.m1.1.1.cmml" xref="S3.SS2.p3.8.m1.1.1"><times id="S3.SS2.p3.8.m1.1.1.1.cmml" xref="S3.SS2.p3.8.m1.1.1.1"></times><ci id="S3.SS2.p3.8.m1.1.1.2.cmml" xref="S3.SS2.p3.8.m1.1.1.2">𝑀</ci><ci id="S3.SS2.p3.8.m1.1.1.3.cmml" xref="S3.SS2.p3.8.m1.1.1.3">𝐿</ci><ci id="S3.SS2.p3.8.m1.1.1.4.cmml" xref="S3.SS2.p3.8.m1.1.1.4">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m1.1c">MLP</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.8.m1.1d">italic_M italic_L italic_P</annotation></semantics></math> is a linear layer to project the embedding of last token in last hidden layer to a continuous vector space for scoring.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s_{\theta}(z_{1},z_{2})=s(\mathbf{h}_{z_{1}},\mathbf{h}_{z_{2}})" class="ltx_Math" display="block" id="S3.E11.m1.4"><semantics id="S3.E11.m1.4a"><mrow id="S3.E11.m1.4.4" xref="S3.E11.m1.4.4.cmml"><mrow id="S3.E11.m1.2.2.2" xref="S3.E11.m1.2.2.2.cmml"><msub id="S3.E11.m1.2.2.2.4" xref="S3.E11.m1.2.2.2.4.cmml"><mi id="S3.E11.m1.2.2.2.4.2" xref="S3.E11.m1.2.2.2.4.2.cmml">s</mi><mi id="S3.E11.m1.2.2.2.4.3" xref="S3.E11.m1.2.2.2.4.3.cmml">θ</mi></msub><mo id="S3.E11.m1.2.2.2.3" xref="S3.E11.m1.2.2.2.3.cmml">⁢</mo><mrow id="S3.E11.m1.2.2.2.2.2" xref="S3.E11.m1.2.2.2.2.3.cmml"><mo id="S3.E11.m1.2.2.2.2.2.3" stretchy="false" xref="S3.E11.m1.2.2.2.2.3.cmml">(</mo><msub id="S3.E11.m1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.cmml"><mi id="S3.E11.m1.1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.1.2.cmml">z</mi><mn id="S3.E11.m1.1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E11.m1.2.2.2.2.2.4" xref="S3.E11.m1.2.2.2.2.3.cmml">,</mo><msub id="S3.E11.m1.2.2.2.2.2.2" xref="S3.E11.m1.2.2.2.2.2.2.cmml"><mi id="S3.E11.m1.2.2.2.2.2.2.2" xref="S3.E11.m1.2.2.2.2.2.2.2.cmml">z</mi><mn id="S3.E11.m1.2.2.2.2.2.2.3" xref="S3.E11.m1.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.E11.m1.2.2.2.2.2.5" stretchy="false" xref="S3.E11.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E11.m1.4.4.5" xref="S3.E11.m1.4.4.5.cmml">=</mo><mrow id="S3.E11.m1.4.4.4" xref="S3.E11.m1.4.4.4.cmml"><mi id="S3.E11.m1.4.4.4.4" xref="S3.E11.m1.4.4.4.4.cmml">s</mi><mo id="S3.E11.m1.4.4.4.3" xref="S3.E11.m1.4.4.4.3.cmml">⁢</mo><mrow id="S3.E11.m1.4.4.4.2.2" xref="S3.E11.m1.4.4.4.2.3.cmml"><mo id="S3.E11.m1.4.4.4.2.2.3" stretchy="false" xref="S3.E11.m1.4.4.4.2.3.cmml">(</mo><msub id="S3.E11.m1.3.3.3.1.1.1" xref="S3.E11.m1.3.3.3.1.1.1.cmml"><mi id="S3.E11.m1.3.3.3.1.1.1.2" xref="S3.E11.m1.3.3.3.1.1.1.2.cmml">𝐡</mi><msub id="S3.E11.m1.3.3.3.1.1.1.3" xref="S3.E11.m1.3.3.3.1.1.1.3.cmml"><mi id="S3.E11.m1.3.3.3.1.1.1.3.2" xref="S3.E11.m1.3.3.3.1.1.1.3.2.cmml">z</mi><mn id="S3.E11.m1.3.3.3.1.1.1.3.3" xref="S3.E11.m1.3.3.3.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="S3.E11.m1.4.4.4.2.2.4" xref="S3.E11.m1.4.4.4.2.3.cmml">,</mo><msub id="S3.E11.m1.4.4.4.2.2.2" xref="S3.E11.m1.4.4.4.2.2.2.cmml"><mi id="S3.E11.m1.4.4.4.2.2.2.2" xref="S3.E11.m1.4.4.4.2.2.2.2.cmml">𝐡</mi><msub id="S3.E11.m1.4.4.4.2.2.2.3" xref="S3.E11.m1.4.4.4.2.2.2.3.cmml"><mi id="S3.E11.m1.4.4.4.2.2.2.3.2" xref="S3.E11.m1.4.4.4.2.2.2.3.2.cmml">z</mi><mn id="S3.E11.m1.4.4.4.2.2.2.3.3" xref="S3.E11.m1.4.4.4.2.2.2.3.3.cmml">2</mn></msub></msub><mo id="S3.E11.m1.4.4.4.2.2.5" stretchy="false" xref="S3.E11.m1.4.4.4.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.4b"><apply id="S3.E11.m1.4.4.cmml" xref="S3.E11.m1.4.4"><eq id="S3.E11.m1.4.4.5.cmml" xref="S3.E11.m1.4.4.5"></eq><apply id="S3.E11.m1.2.2.2.cmml" xref="S3.E11.m1.2.2.2"><times id="S3.E11.m1.2.2.2.3.cmml" xref="S3.E11.m1.2.2.2.3"></times><apply id="S3.E11.m1.2.2.2.4.cmml" xref="S3.E11.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.4.1.cmml" xref="S3.E11.m1.2.2.2.4">subscript</csymbol><ci id="S3.E11.m1.2.2.2.4.2.cmml" xref="S3.E11.m1.2.2.2.4.2">𝑠</ci><ci id="S3.E11.m1.2.2.2.4.3.cmml" xref="S3.E11.m1.2.2.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E11.m1.2.2.2.2.3.cmml" xref="S3.E11.m1.2.2.2.2.2"><apply id="S3.E11.m1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1.1.2">𝑧</ci><cn id="S3.E11.m1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E11.m1.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E11.m1.2.2.2.2.2.2.cmml" xref="S3.E11.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.2.2.2.1.cmml" xref="S3.E11.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E11.m1.2.2.2.2.2.2.2.cmml" xref="S3.E11.m1.2.2.2.2.2.2.2">𝑧</ci><cn id="S3.E11.m1.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.E11.m1.2.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S3.E11.m1.4.4.4.cmml" xref="S3.E11.m1.4.4.4"><times id="S3.E11.m1.4.4.4.3.cmml" xref="S3.E11.m1.4.4.4.3"></times><ci id="S3.E11.m1.4.4.4.4.cmml" xref="S3.E11.m1.4.4.4.4">𝑠</ci><interval closure="open" id="S3.E11.m1.4.4.4.2.3.cmml" xref="S3.E11.m1.4.4.4.2.2"><apply id="S3.E11.m1.3.3.3.1.1.1.cmml" xref="S3.E11.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.3.3.3.1.1.1.1.cmml" xref="S3.E11.m1.3.3.3.1.1.1">subscript</csymbol><ci id="S3.E11.m1.3.3.3.1.1.1.2.cmml" xref="S3.E11.m1.3.3.3.1.1.1.2">𝐡</ci><apply id="S3.E11.m1.3.3.3.1.1.1.3.cmml" xref="S3.E11.m1.3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.3.3.3.1.1.1.3.1.cmml" xref="S3.E11.m1.3.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.3.3.3.1.1.1.3.2.cmml" xref="S3.E11.m1.3.3.3.1.1.1.3.2">𝑧</ci><cn id="S3.E11.m1.3.3.3.1.1.1.3.3.cmml" type="integer" xref="S3.E11.m1.3.3.3.1.1.1.3.3">1</cn></apply></apply><apply id="S3.E11.m1.4.4.4.2.2.2.cmml" xref="S3.E11.m1.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.4.4.4.2.2.2.1.cmml" xref="S3.E11.m1.4.4.4.2.2.2">subscript</csymbol><ci id="S3.E11.m1.4.4.4.2.2.2.2.cmml" xref="S3.E11.m1.4.4.4.2.2.2.2">𝐡</ci><apply id="S3.E11.m1.4.4.4.2.2.2.3.cmml" xref="S3.E11.m1.4.4.4.2.2.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.4.4.4.2.2.2.3.1.cmml" xref="S3.E11.m1.4.4.4.2.2.2.3">subscript</csymbol><ci id="S3.E11.m1.4.4.4.2.2.2.3.2.cmml" xref="S3.E11.m1.4.4.4.2.2.2.3.2">𝑧</ci><cn id="S3.E11.m1.4.4.4.2.2.2.3.3.cmml" type="integer" xref="S3.E11.m1.4.4.4.2.2.2.3.3">2</cn></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.4c">s_{\theta}(z_{1},z_{2})=s(\mathbf{h}_{z_{1}},\mathbf{h}_{z_{2}})</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m1.4d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_z start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) = italic_s ( bold_h start_POSTSUBSCRIPT italic_z start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT , bold_h start_POSTSUBSCRIPT italic_z start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.12">Here, <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p3.9.m1.1"><semantics id="S3.SS2.p3.9.m1.1a"><mi id="S3.SS2.p3.9.m1.1.1" xref="S3.SS2.p3.9.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m1.1b"><ci id="S3.SS2.p3.9.m1.1.1.cmml" xref="S3.SS2.p3.9.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.9.m1.1d">italic_s</annotation></semantics></math> could be a similarity function such as cosine similarity; or negative form of the output of a distance function such as cosine distance. It could be symmetric or asymmetric. If <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p3.10.m2.1"><semantics id="S3.SS2.p3.10.m2.1a"><mi id="S3.SS2.p3.10.m2.1.1" xref="S3.SS2.p3.10.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.10.m2.1b"><ci id="S3.SS2.p3.10.m2.1.1.cmml" xref="S3.SS2.p3.10.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.10.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.10.m2.1d">italic_s</annotation></semantics></math> is symmetric, then <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p3.11.m3.1"><semantics id="S3.SS2.p3.11.m3.1a"><msub id="S3.SS2.p3.11.m3.1.1" xref="S3.SS2.p3.11.m3.1.1.cmml"><mi id="S3.SS2.p3.11.m3.1.1.2" xref="S3.SS2.p3.11.m3.1.1.2.cmml">s</mi><mi id="S3.SS2.p3.11.m3.1.1.3" xref="S3.SS2.p3.11.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.11.m3.1b"><apply id="S3.SS2.p3.11.m3.1.1.cmml" xref="S3.SS2.p3.11.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m3.1.1.1.cmml" xref="S3.SS2.p3.11.m3.1.1">subscript</csymbol><ci id="S3.SS2.p3.11.m3.1.1.2.cmml" xref="S3.SS2.p3.11.m3.1.1.2">𝑠</ci><ci id="S3.SS2.p3.11.m3.1.1.3.cmml" xref="S3.SS2.p3.11.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.11.m3.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.11.m3.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> is symmetric; otherwise <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p3.12.m4.1"><semantics id="S3.SS2.p3.12.m4.1a"><msub id="S3.SS2.p3.12.m4.1.1" xref="S3.SS2.p3.12.m4.1.1.cmml"><mi id="S3.SS2.p3.12.m4.1.1.2" xref="S3.SS2.p3.12.m4.1.1.2.cmml">s</mi><mi id="S3.SS2.p3.12.m4.1.1.3" xref="S3.SS2.p3.12.m4.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.12.m4.1b"><apply id="S3.SS2.p3.12.m4.1.1.cmml" xref="S3.SS2.p3.12.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.12.m4.1.1.1.cmml" xref="S3.SS2.p3.12.m4.1.1">subscript</csymbol><ci id="S3.SS2.p3.12.m4.1.1.2.cmml" xref="S3.SS2.p3.12.m4.1.1.2">𝑠</ci><ci id="S3.SS2.p3.12.m4.1.1.3.cmml" xref="S3.SS2.p3.12.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.12.m4.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.12.m4.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> asymmetric.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.2"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.2.1">USER-USER</span> In user-user contrastive learning, we focus on user’s profile text descriptions <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">U</mi><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝑈</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">U_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> (such as nicknames, gender, etc.) and the user’s action text descriptions <math alttext="U_{a}" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">U</mi><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝑈</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">U_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> (such as historical actions, environments, click and order price statistics…).</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.3">These two types of text descriptions are positive samples for the same user and negative samples for different users. During training, we adopt a contrastive learning approach, with the loss being the Info NCE Loss. For user-user contrastive loss <math alttext="L^{UU}" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><msup id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.2.cmml">L</mi><mrow id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.2" xref="S3.SS2.p5.1.m1.1.1.3.2.cmml">U</mi><mo id="S3.SS2.p5.1.m1.1.1.3.1" xref="S3.SS2.p5.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.1.m1.1.1.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.cmml">U</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2">𝐿</ci><apply id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3"><times id="S3.SS2.p5.1.m1.1.1.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.1"></times><ci id="S3.SS2.p5.1.m1.1.1.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2">𝑈</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3">𝑈</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">L^{UU}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT</annotation></semantics></math>, considering the general situation, we assume that <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m2.1"><semantics id="S3.SS2.p5.2.m2.1a"><msub id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">s</mi><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2">𝑠</ci><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> is asymmetric. As a result, the form of contrastive loss is symmetrical and the sub loss <math alttext="L^{UU}_{pa}" class="ltx_Math" display="inline" id="S3.SS2.p5.3.m3.1"><semantics id="S3.SS2.p5.3.m3.1a"><msubsup id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2.2" xref="S3.SS2.p5.3.m3.1.1.2.2.cmml">L</mi><mrow id="S3.SS2.p5.3.m3.1.1.3" xref="S3.SS2.p5.3.m3.1.1.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.3.2" xref="S3.SS2.p5.3.m3.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p5.3.m3.1.1.3.1" xref="S3.SS2.p5.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.3.m3.1.1.3.3" xref="S3.SS2.p5.3.m3.1.1.3.3.cmml">a</mi></mrow><mrow id="S3.SS2.p5.3.m3.1.1.2.3" xref="S3.SS2.p5.3.m3.1.1.2.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2.3.2" xref="S3.SS2.p5.3.m3.1.1.2.3.2.cmml">U</mi><mo id="S3.SS2.p5.3.m3.1.1.2.3.1" xref="S3.SS2.p5.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.3.m3.1.1.2.3.3" xref="S3.SS2.p5.3.m3.1.1.2.3.3.cmml">U</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><apply id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p5.3.m3.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.2.1.cmml" xref="S3.SS2.p5.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.2.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2.2">𝐿</ci><apply id="S3.SS2.p5.3.m3.1.1.2.3.cmml" xref="S3.SS2.p5.3.m3.1.1.2.3"><times id="S3.SS2.p5.3.m3.1.1.2.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.2.3.1"></times><ci id="S3.SS2.p5.3.m3.1.1.2.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2.3.2">𝑈</ci><ci id="S3.SS2.p5.3.m3.1.1.2.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.2.3.3">𝑈</ci></apply></apply><apply id="S3.SS2.p5.3.m3.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3"><times id="S3.SS2.p5.3.m3.1.1.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.3.1"></times><ci id="S3.SS2.p5.3.m3.1.1.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.3.2">𝑝</ci><ci id="S3.SS2.p5.3.m3.1.1.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">L^{UU}_{pa}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.3.m3.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p italic_a end_POSTSUBSCRIPT</annotation></semantics></math> could be fomulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(12)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{UU}_{pa}=-\frac{1}{N_{u}}\sum_{i=1}^{N_{u}}\frac{exp(s_{\theta}(U_{p},U_{a}%
+)/\tau)}{exp(s_{\theta}(U_{p},U_{a}+)/\tau)+\sum exp(s_{\theta}(U_{p},U_{a}-)%
/\tau)}" class="ltx_Math" display="block" id="S3.E12.m1.3"><semantics id="S3.E12.m1.3a"><mrow id="S3.E12.m1.3.4" xref="S3.E12.m1.3.4.cmml"><msubsup id="S3.E12.m1.3.4.2" xref="S3.E12.m1.3.4.2.cmml"><mi id="S3.E12.m1.3.4.2.2.2" xref="S3.E12.m1.3.4.2.2.2.cmml">L</mi><mrow id="S3.E12.m1.3.4.2.3" xref="S3.E12.m1.3.4.2.3.cmml"><mi id="S3.E12.m1.3.4.2.3.2" xref="S3.E12.m1.3.4.2.3.2.cmml">p</mi><mo id="S3.E12.m1.3.4.2.3.1" xref="S3.E12.m1.3.4.2.3.1.cmml">⁢</mo><mi id="S3.E12.m1.3.4.2.3.3" xref="S3.E12.m1.3.4.2.3.3.cmml">a</mi></mrow><mrow id="S3.E12.m1.3.4.2.2.3" xref="S3.E12.m1.3.4.2.2.3.cmml"><mi id="S3.E12.m1.3.4.2.2.3.2" xref="S3.E12.m1.3.4.2.2.3.2.cmml">U</mi><mo id="S3.E12.m1.3.4.2.2.3.1" xref="S3.E12.m1.3.4.2.2.3.1.cmml">⁢</mo><mi id="S3.E12.m1.3.4.2.2.3.3" xref="S3.E12.m1.3.4.2.2.3.3.cmml">U</mi></mrow></msubsup><mo id="S3.E12.m1.3.4.1" xref="S3.E12.m1.3.4.1.cmml">=</mo><mrow id="S3.E12.m1.3.4.3" xref="S3.E12.m1.3.4.3.cmml"><mo id="S3.E12.m1.3.4.3a" xref="S3.E12.m1.3.4.3.cmml">−</mo><mrow id="S3.E12.m1.3.4.3.2" xref="S3.E12.m1.3.4.3.2.cmml"><mfrac id="S3.E12.m1.3.4.3.2.2" xref="S3.E12.m1.3.4.3.2.2.cmml"><mn id="S3.E12.m1.3.4.3.2.2.2" xref="S3.E12.m1.3.4.3.2.2.2.cmml">1</mn><msub id="S3.E12.m1.3.4.3.2.2.3" xref="S3.E12.m1.3.4.3.2.2.3.cmml"><mi id="S3.E12.m1.3.4.3.2.2.3.2" xref="S3.E12.m1.3.4.3.2.2.3.2.cmml">N</mi><mi id="S3.E12.m1.3.4.3.2.2.3.3" xref="S3.E12.m1.3.4.3.2.2.3.3.cmml">u</mi></msub></mfrac><mo id="S3.E12.m1.3.4.3.2.1" xref="S3.E12.m1.3.4.3.2.1.cmml">⁢</mo><mrow id="S3.E12.m1.3.4.3.2.3" xref="S3.E12.m1.3.4.3.2.3.cmml"><munderover id="S3.E12.m1.3.4.3.2.3.1" xref="S3.E12.m1.3.4.3.2.3.1.cmml"><mo id="S3.E12.m1.3.4.3.2.3.1.2.2" movablelimits="false" xref="S3.E12.m1.3.4.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E12.m1.3.4.3.2.3.1.2.3" xref="S3.E12.m1.3.4.3.2.3.1.2.3.cmml"><mi id="S3.E12.m1.3.4.3.2.3.1.2.3.2" xref="S3.E12.m1.3.4.3.2.3.1.2.3.2.cmml">i</mi><mo id="S3.E12.m1.3.4.3.2.3.1.2.3.1" xref="S3.E12.m1.3.4.3.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E12.m1.3.4.3.2.3.1.2.3.3" xref="S3.E12.m1.3.4.3.2.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E12.m1.3.4.3.2.3.1.3" xref="S3.E12.m1.3.4.3.2.3.1.3.cmml"><mi id="S3.E12.m1.3.4.3.2.3.1.3.2" xref="S3.E12.m1.3.4.3.2.3.1.3.2.cmml">N</mi><mi id="S3.E12.m1.3.4.3.2.3.1.3.3" xref="S3.E12.m1.3.4.3.2.3.1.3.3.cmml">u</mi></msub></munderover><mfrac id="S3.E12.m1.3.3" xref="S3.E12.m1.3.3.cmml"><mrow id="S3.E12.m1.1.1.1" xref="S3.E12.m1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.3" xref="S3.E12.m1.1.1.1.3.cmml">e</mi><mo id="S3.E12.m1.1.1.1.2" xref="S3.E12.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E12.m1.1.1.1.4" xref="S3.E12.m1.1.1.1.4.cmml">x</mi><mo id="S3.E12.m1.1.1.1.2a" xref="S3.E12.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E12.m1.1.1.1.5" xref="S3.E12.m1.1.1.1.5.cmml">p</mi><mo id="S3.E12.m1.1.1.1.2b" xref="S3.E12.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.cmml"><mo id="S3.E12.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E12.m1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.1.2.cmml"><msub id="S3.E12.m1.1.1.1.1.1.1.2.4" xref="S3.E12.m1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.2.4.2" xref="S3.E12.m1.1.1.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E12.m1.1.1.1.1.1.1.2.4.3" xref="S3.E12.m1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E12.m1.1.1.1.1.1.1.2.3" xref="S3.E12.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.2.2.2" xref="S3.E12.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S3.E12.m1.1.1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E12.m1.1.1.1.1.1.1.2.2.2.4" xref="S3.E12.m1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">a</mi></msub><mo id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E12.m1.1.1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.1.3.cmml">/</mo><mi id="S3.E12.m1.1.1.1.1.1.1.4" xref="S3.E12.m1.1.1.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E12.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E12.m1.3.3.3" xref="S3.E12.m1.3.3.3.cmml"><mrow id="S3.E12.m1.2.2.2.1" xref="S3.E12.m1.2.2.2.1.cmml"><mi id="S3.E12.m1.2.2.2.1.3" xref="S3.E12.m1.2.2.2.1.3.cmml">e</mi><mo id="S3.E12.m1.2.2.2.1.2" xref="S3.E12.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E12.m1.2.2.2.1.4" xref="S3.E12.m1.2.2.2.1.4.cmml">x</mi><mo id="S3.E12.m1.2.2.2.1.2a" xref="S3.E12.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E12.m1.2.2.2.1.5" xref="S3.E12.m1.2.2.2.1.5.cmml">p</mi><mo id="S3.E12.m1.2.2.2.1.2b" xref="S3.E12.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.2.2.2.1.1.1" xref="S3.E12.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E12.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E12.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.2.2.2.1.1.1.1" xref="S3.E12.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E12.m1.2.2.2.1.1.1.1.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.cmml"><msub id="S3.E12.m1.2.2.2.1.1.1.1.2.4" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4.cmml"><mi id="S3.E12.m1.2.2.2.1.1.1.1.2.4.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E12.m1.2.2.2.1.1.1.1.2.4.3" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E12.m1.2.2.2.1.1.1.1.2.3" xref="S3.E12.m1.2.2.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.4" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml">a</mi></msub><mo id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.2.2.2.1.1.1.1.3" xref="S3.E12.m1.2.2.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E12.m1.2.2.2.1.1.1.1.4" xref="S3.E12.m1.2.2.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E12.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E12.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.3.3.3.3" rspace="0.055em" xref="S3.E12.m1.3.3.3.3.cmml">+</mo><mrow id="S3.E12.m1.3.3.3.2" xref="S3.E12.m1.3.3.3.2.cmml"><mo id="S3.E12.m1.3.3.3.2.2" xref="S3.E12.m1.3.3.3.2.2.cmml">∑</mo><mrow id="S3.E12.m1.3.3.3.2.1" xref="S3.E12.m1.3.3.3.2.1.cmml"><mi id="S3.E12.m1.3.3.3.2.1.3" xref="S3.E12.m1.3.3.3.2.1.3.cmml">e</mi><mo id="S3.E12.m1.3.3.3.2.1.2" xref="S3.E12.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E12.m1.3.3.3.2.1.4" xref="S3.E12.m1.3.3.3.2.1.4.cmml">x</mi><mo id="S3.E12.m1.3.3.3.2.1.2a" xref="S3.E12.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E12.m1.3.3.3.2.1.5" xref="S3.E12.m1.3.3.3.2.1.5.cmml">p</mi><mo id="S3.E12.m1.3.3.3.2.1.2b" xref="S3.E12.m1.3.3.3.2.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.3.3.3.2.1.1.1" xref="S3.E12.m1.3.3.3.2.1.1.1.1.cmml"><mo id="S3.E12.m1.3.3.3.2.1.1.1.2" stretchy="false" xref="S3.E12.m1.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.3.3.3.2.1.1.1.1" xref="S3.E12.m1.3.3.3.2.1.1.1.1.cmml"><mrow id="S3.E12.m1.3.3.3.2.1.1.1.1.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.cmml"><msub id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.cmml"><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.3" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.2.3" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.4" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml">a</mi></msub><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml">−</mo></mrow><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.3.3.3.2.1.1.1.1.3" xref="S3.E12.m1.3.3.3.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E12.m1.3.3.3.2.1.1.1.1.4" xref="S3.E12.m1.3.3.3.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E12.m1.3.3.3.2.1.1.1.3" stretchy="false" xref="S3.E12.m1.3.3.3.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.3b"><apply id="S3.E12.m1.3.4.cmml" xref="S3.E12.m1.3.4"><eq id="S3.E12.m1.3.4.1.cmml" xref="S3.E12.m1.3.4.1"></eq><apply id="S3.E12.m1.3.4.2.cmml" xref="S3.E12.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.2.1.cmml" xref="S3.E12.m1.3.4.2">subscript</csymbol><apply id="S3.E12.m1.3.4.2.2.cmml" xref="S3.E12.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.2.2.1.cmml" xref="S3.E12.m1.3.4.2">superscript</csymbol><ci id="S3.E12.m1.3.4.2.2.2.cmml" xref="S3.E12.m1.3.4.2.2.2">𝐿</ci><apply id="S3.E12.m1.3.4.2.2.3.cmml" xref="S3.E12.m1.3.4.2.2.3"><times id="S3.E12.m1.3.4.2.2.3.1.cmml" xref="S3.E12.m1.3.4.2.2.3.1"></times><ci id="S3.E12.m1.3.4.2.2.3.2.cmml" xref="S3.E12.m1.3.4.2.2.3.2">𝑈</ci><ci id="S3.E12.m1.3.4.2.2.3.3.cmml" xref="S3.E12.m1.3.4.2.2.3.3">𝑈</ci></apply></apply><apply id="S3.E12.m1.3.4.2.3.cmml" xref="S3.E12.m1.3.4.2.3"><times id="S3.E12.m1.3.4.2.3.1.cmml" xref="S3.E12.m1.3.4.2.3.1"></times><ci id="S3.E12.m1.3.4.2.3.2.cmml" xref="S3.E12.m1.3.4.2.3.2">𝑝</ci><ci id="S3.E12.m1.3.4.2.3.3.cmml" xref="S3.E12.m1.3.4.2.3.3">𝑎</ci></apply></apply><apply id="S3.E12.m1.3.4.3.cmml" xref="S3.E12.m1.3.4.3"><minus id="S3.E12.m1.3.4.3.1.cmml" xref="S3.E12.m1.3.4.3"></minus><apply id="S3.E12.m1.3.4.3.2.cmml" xref="S3.E12.m1.3.4.3.2"><times id="S3.E12.m1.3.4.3.2.1.cmml" xref="S3.E12.m1.3.4.3.2.1"></times><apply id="S3.E12.m1.3.4.3.2.2.cmml" xref="S3.E12.m1.3.4.3.2.2"><divide id="S3.E12.m1.3.4.3.2.2.1.cmml" xref="S3.E12.m1.3.4.3.2.2"></divide><cn id="S3.E12.m1.3.4.3.2.2.2.cmml" type="integer" xref="S3.E12.m1.3.4.3.2.2.2">1</cn><apply id="S3.E12.m1.3.4.3.2.2.3.cmml" xref="S3.E12.m1.3.4.3.2.2.3"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.3.2.2.3.1.cmml" xref="S3.E12.m1.3.4.3.2.2.3">subscript</csymbol><ci id="S3.E12.m1.3.4.3.2.2.3.2.cmml" xref="S3.E12.m1.3.4.3.2.2.3.2">𝑁</ci><ci id="S3.E12.m1.3.4.3.2.2.3.3.cmml" xref="S3.E12.m1.3.4.3.2.2.3.3">𝑢</ci></apply></apply><apply id="S3.E12.m1.3.4.3.2.3.cmml" xref="S3.E12.m1.3.4.3.2.3"><apply id="S3.E12.m1.3.4.3.2.3.1.cmml" xref="S3.E12.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.3.2.3.1.1.cmml" xref="S3.E12.m1.3.4.3.2.3.1">superscript</csymbol><apply id="S3.E12.m1.3.4.3.2.3.1.2.cmml" xref="S3.E12.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.3.2.3.1.2.1.cmml" xref="S3.E12.m1.3.4.3.2.3.1">subscript</csymbol><sum id="S3.E12.m1.3.4.3.2.3.1.2.2.cmml" xref="S3.E12.m1.3.4.3.2.3.1.2.2"></sum><apply id="S3.E12.m1.3.4.3.2.3.1.2.3.cmml" xref="S3.E12.m1.3.4.3.2.3.1.2.3"><eq id="S3.E12.m1.3.4.3.2.3.1.2.3.1.cmml" xref="S3.E12.m1.3.4.3.2.3.1.2.3.1"></eq><ci id="S3.E12.m1.3.4.3.2.3.1.2.3.2.cmml" xref="S3.E12.m1.3.4.3.2.3.1.2.3.2">𝑖</ci><cn id="S3.E12.m1.3.4.3.2.3.1.2.3.3.cmml" type="integer" xref="S3.E12.m1.3.4.3.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E12.m1.3.4.3.2.3.1.3.cmml" xref="S3.E12.m1.3.4.3.2.3.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.3.4.3.2.3.1.3.1.cmml" xref="S3.E12.m1.3.4.3.2.3.1.3">subscript</csymbol><ci id="S3.E12.m1.3.4.3.2.3.1.3.2.cmml" xref="S3.E12.m1.3.4.3.2.3.1.3.2">𝑁</ci><ci id="S3.E12.m1.3.4.3.2.3.1.3.3.cmml" xref="S3.E12.m1.3.4.3.2.3.1.3.3">𝑢</ci></apply></apply><apply id="S3.E12.m1.3.3.cmml" xref="S3.E12.m1.3.3"><divide id="S3.E12.m1.3.3.4.cmml" xref="S3.E12.m1.3.3"></divide><apply id="S3.E12.m1.1.1.1.cmml" xref="S3.E12.m1.1.1.1"><times id="S3.E12.m1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.2"></times><ci id="S3.E12.m1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.3">𝑒</ci><ci id="S3.E12.m1.1.1.1.4.cmml" xref="S3.E12.m1.1.1.1.4">𝑥</ci><ci id="S3.E12.m1.1.1.1.5.cmml" xref="S3.E12.m1.1.1.1.5">𝑝</ci><apply id="S3.E12.m1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1"><divide id="S3.E12.m1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.3"></divide><apply id="S3.E12.m1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2"><times id="S3.E12.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.3"></times><apply id="S3.E12.m1.1.1.1.1.1.1.2.4.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E12.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E12.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2"><apply id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.2.3">𝑎</ci></apply><plus id="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E12.m1.1.1.1.1.1.1.4.cmml" xref="S3.E12.m1.1.1.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E12.m1.3.3.3.cmml" xref="S3.E12.m1.3.3.3"><plus id="S3.E12.m1.3.3.3.3.cmml" xref="S3.E12.m1.3.3.3.3"></plus><apply id="S3.E12.m1.2.2.2.1.cmml" xref="S3.E12.m1.2.2.2.1"><times id="S3.E12.m1.2.2.2.1.2.cmml" xref="S3.E12.m1.2.2.2.1.2"></times><ci id="S3.E12.m1.2.2.2.1.3.cmml" xref="S3.E12.m1.2.2.2.1.3">𝑒</ci><ci id="S3.E12.m1.2.2.2.1.4.cmml" xref="S3.E12.m1.2.2.2.1.4">𝑥</ci><ci id="S3.E12.m1.2.2.2.1.5.cmml" xref="S3.E12.m1.2.2.2.1.5">𝑝</ci><apply id="S3.E12.m1.2.2.2.1.1.1.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1"><divide id="S3.E12.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.3"></divide><apply id="S3.E12.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2"><times id="S3.E12.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.3"></times><apply id="S3.E12.m1.2.2.2.1.1.1.1.2.4.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E12.m1.2.2.2.1.1.1.1.2.4.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E12.m1.2.2.2.1.1.1.1.2.4.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E12.m1.2.2.2.1.1.1.1.2.4.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E12.m1.2.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2"><apply id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.2.3">𝑎</ci></apply><plus id="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E12.m1.2.2.2.1.1.1.1.4.cmml" xref="S3.E12.m1.2.2.2.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E12.m1.3.3.3.2.cmml" xref="S3.E12.m1.3.3.3.2"><sum id="S3.E12.m1.3.3.3.2.2.cmml" xref="S3.E12.m1.3.3.3.2.2"></sum><apply id="S3.E12.m1.3.3.3.2.1.cmml" xref="S3.E12.m1.3.3.3.2.1"><times id="S3.E12.m1.3.3.3.2.1.2.cmml" xref="S3.E12.m1.3.3.3.2.1.2"></times><ci id="S3.E12.m1.3.3.3.2.1.3.cmml" xref="S3.E12.m1.3.3.3.2.1.3">𝑒</ci><ci id="S3.E12.m1.3.3.3.2.1.4.cmml" xref="S3.E12.m1.3.3.3.2.1.4">𝑥</ci><ci id="S3.E12.m1.3.3.3.2.1.5.cmml" xref="S3.E12.m1.3.3.3.2.1.5">𝑝</ci><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1"><divide id="S3.E12.m1.3.3.3.2.1.1.1.1.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.3"></divide><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2"><times id="S3.E12.m1.3.3.3.2.1.1.1.1.2.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.3"></times><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2"><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3">𝑎</ci></apply><minus id="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.2.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E12.m1.3.3.3.2.1.1.1.1.4.cmml" xref="S3.E12.m1.3.3.3.2.1.1.1.1.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.3c">L^{UU}_{pa}=-\frac{1}{N_{u}}\sum_{i=1}^{N_{u}}\frac{exp(s_{\theta}(U_{p},U_{a}%
+)/\tau)}{exp(s_{\theta}(U_{p},U_{a}+)/\tau)+\sum exp(s_{\theta}(U_{p},U_{a}-)%
/\tau)}</annotation><annotation encoding="application/x-llamapun" id="S3.E12.m1.3d">italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p italic_a end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUPERSCRIPT divide start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT + ) / italic_τ ) end_ARG start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT + ) / italic_τ ) + ∑ italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT - ) / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E13">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(13)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{UU}_{ap}=-\frac{1}{N_{u}}\sum_{i=1}^{N_{u}}\frac{exp(s_{\theta}(U_{a},U_{p}%
+)/\tau)}{exp(s_{\theta}(U_{a},U_{p}+)/\tau)+\sum exp(s_{\theta}(U_{a},U_{p}-)%
/\tau)}" class="ltx_Math" display="block" id="S3.E13.m1.3"><semantics id="S3.E13.m1.3a"><mrow id="S3.E13.m1.3.4" xref="S3.E13.m1.3.4.cmml"><msubsup id="S3.E13.m1.3.4.2" xref="S3.E13.m1.3.4.2.cmml"><mi id="S3.E13.m1.3.4.2.2.2" xref="S3.E13.m1.3.4.2.2.2.cmml">L</mi><mrow id="S3.E13.m1.3.4.2.3" xref="S3.E13.m1.3.4.2.3.cmml"><mi id="S3.E13.m1.3.4.2.3.2" xref="S3.E13.m1.3.4.2.3.2.cmml">a</mi><mo id="S3.E13.m1.3.4.2.3.1" xref="S3.E13.m1.3.4.2.3.1.cmml">⁢</mo><mi id="S3.E13.m1.3.4.2.3.3" xref="S3.E13.m1.3.4.2.3.3.cmml">p</mi></mrow><mrow id="S3.E13.m1.3.4.2.2.3" xref="S3.E13.m1.3.4.2.2.3.cmml"><mi id="S3.E13.m1.3.4.2.2.3.2" xref="S3.E13.m1.3.4.2.2.3.2.cmml">U</mi><mo id="S3.E13.m1.3.4.2.2.3.1" xref="S3.E13.m1.3.4.2.2.3.1.cmml">⁢</mo><mi id="S3.E13.m1.3.4.2.2.3.3" xref="S3.E13.m1.3.4.2.2.3.3.cmml">U</mi></mrow></msubsup><mo id="S3.E13.m1.3.4.1" xref="S3.E13.m1.3.4.1.cmml">=</mo><mrow id="S3.E13.m1.3.4.3" xref="S3.E13.m1.3.4.3.cmml"><mo id="S3.E13.m1.3.4.3a" xref="S3.E13.m1.3.4.3.cmml">−</mo><mrow id="S3.E13.m1.3.4.3.2" xref="S3.E13.m1.3.4.3.2.cmml"><mfrac id="S3.E13.m1.3.4.3.2.2" xref="S3.E13.m1.3.4.3.2.2.cmml"><mn id="S3.E13.m1.3.4.3.2.2.2" xref="S3.E13.m1.3.4.3.2.2.2.cmml">1</mn><msub id="S3.E13.m1.3.4.3.2.2.3" xref="S3.E13.m1.3.4.3.2.2.3.cmml"><mi id="S3.E13.m1.3.4.3.2.2.3.2" xref="S3.E13.m1.3.4.3.2.2.3.2.cmml">N</mi><mi id="S3.E13.m1.3.4.3.2.2.3.3" xref="S3.E13.m1.3.4.3.2.2.3.3.cmml">u</mi></msub></mfrac><mo id="S3.E13.m1.3.4.3.2.1" xref="S3.E13.m1.3.4.3.2.1.cmml">⁢</mo><mrow id="S3.E13.m1.3.4.3.2.3" xref="S3.E13.m1.3.4.3.2.3.cmml"><munderover id="S3.E13.m1.3.4.3.2.3.1" xref="S3.E13.m1.3.4.3.2.3.1.cmml"><mo id="S3.E13.m1.3.4.3.2.3.1.2.2" movablelimits="false" xref="S3.E13.m1.3.4.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E13.m1.3.4.3.2.3.1.2.3" xref="S3.E13.m1.3.4.3.2.3.1.2.3.cmml"><mi id="S3.E13.m1.3.4.3.2.3.1.2.3.2" xref="S3.E13.m1.3.4.3.2.3.1.2.3.2.cmml">i</mi><mo id="S3.E13.m1.3.4.3.2.3.1.2.3.1" xref="S3.E13.m1.3.4.3.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E13.m1.3.4.3.2.3.1.2.3.3" xref="S3.E13.m1.3.4.3.2.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E13.m1.3.4.3.2.3.1.3" xref="S3.E13.m1.3.4.3.2.3.1.3.cmml"><mi id="S3.E13.m1.3.4.3.2.3.1.3.2" xref="S3.E13.m1.3.4.3.2.3.1.3.2.cmml">N</mi><mi id="S3.E13.m1.3.4.3.2.3.1.3.3" xref="S3.E13.m1.3.4.3.2.3.1.3.3.cmml">u</mi></msub></munderover><mfrac id="S3.E13.m1.3.3" xref="S3.E13.m1.3.3.cmml"><mrow id="S3.E13.m1.1.1.1" xref="S3.E13.m1.1.1.1.cmml"><mi id="S3.E13.m1.1.1.1.3" xref="S3.E13.m1.1.1.1.3.cmml">e</mi><mo id="S3.E13.m1.1.1.1.2" xref="S3.E13.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E13.m1.1.1.1.4" xref="S3.E13.m1.1.1.1.4.cmml">x</mi><mo id="S3.E13.m1.1.1.1.2a" xref="S3.E13.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E13.m1.1.1.1.5" xref="S3.E13.m1.1.1.1.5.cmml">p</mi><mo id="S3.E13.m1.1.1.1.2b" xref="S3.E13.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E13.m1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.cmml"><mo id="S3.E13.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E13.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E13.m1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.2.cmml"><msub id="S3.E13.m1.1.1.1.1.1.1.2.4" xref="S3.E13.m1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.2.4.2" xref="S3.E13.m1.1.1.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E13.m1.1.1.1.1.1.1.2.4.3" xref="S3.E13.m1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E13.m1.1.1.1.1.1.1.2.3" xref="S3.E13.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.2.2.2" xref="S3.E13.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S3.E13.m1.1.1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E13.m1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">a</mi></msub><mo id="S3.E13.m1.1.1.1.1.1.1.2.2.2.4" xref="S3.E13.m1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E13.m1.1.1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E13.m1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.3.cmml">/</mo><mi id="S3.E13.m1.1.1.1.1.1.1.4" xref="S3.E13.m1.1.1.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E13.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E13.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E13.m1.3.3.3" xref="S3.E13.m1.3.3.3.cmml"><mrow id="S3.E13.m1.2.2.2.1" xref="S3.E13.m1.2.2.2.1.cmml"><mi id="S3.E13.m1.2.2.2.1.3" xref="S3.E13.m1.2.2.2.1.3.cmml">e</mi><mo id="S3.E13.m1.2.2.2.1.2" xref="S3.E13.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E13.m1.2.2.2.1.4" xref="S3.E13.m1.2.2.2.1.4.cmml">x</mi><mo id="S3.E13.m1.2.2.2.1.2a" xref="S3.E13.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E13.m1.2.2.2.1.5" xref="S3.E13.m1.2.2.2.1.5.cmml">p</mi><mo id="S3.E13.m1.2.2.2.1.2b" xref="S3.E13.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E13.m1.2.2.2.1.1.1" xref="S3.E13.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E13.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E13.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.2.2.2.1.1.1.1" xref="S3.E13.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E13.m1.2.2.2.1.1.1.1.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.cmml"><msub id="S3.E13.m1.2.2.2.1.1.1.1.2.4" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4.cmml"><mi id="S3.E13.m1.2.2.2.1.1.1.1.2.4.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E13.m1.2.2.2.1.1.1.1.2.4.3" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E13.m1.2.2.2.1.1.1.1.2.3" xref="S3.E13.m1.2.2.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml">a</mi></msub><mo id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.4" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.2.2.2.1.1.1.1.3" xref="S3.E13.m1.2.2.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E13.m1.2.2.2.1.1.1.1.4" xref="S3.E13.m1.2.2.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E13.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E13.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.3.3.3.3" rspace="0.055em" xref="S3.E13.m1.3.3.3.3.cmml">+</mo><mrow id="S3.E13.m1.3.3.3.2" xref="S3.E13.m1.3.3.3.2.cmml"><mo id="S3.E13.m1.3.3.3.2.2" xref="S3.E13.m1.3.3.3.2.2.cmml">∑</mo><mrow id="S3.E13.m1.3.3.3.2.1" xref="S3.E13.m1.3.3.3.2.1.cmml"><mi id="S3.E13.m1.3.3.3.2.1.3" xref="S3.E13.m1.3.3.3.2.1.3.cmml">e</mi><mo id="S3.E13.m1.3.3.3.2.1.2" xref="S3.E13.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E13.m1.3.3.3.2.1.4" xref="S3.E13.m1.3.3.3.2.1.4.cmml">x</mi><mo id="S3.E13.m1.3.3.3.2.1.2a" xref="S3.E13.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E13.m1.3.3.3.2.1.5" xref="S3.E13.m1.3.3.3.2.1.5.cmml">p</mi><mo id="S3.E13.m1.3.3.3.2.1.2b" xref="S3.E13.m1.3.3.3.2.1.2.cmml">⁢</mo><mrow id="S3.E13.m1.3.3.3.2.1.1.1" xref="S3.E13.m1.3.3.3.2.1.1.1.1.cmml"><mo id="S3.E13.m1.3.3.3.2.1.1.1.2" stretchy="false" xref="S3.E13.m1.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.3.3.3.2.1.1.1.1" xref="S3.E13.m1.3.3.3.2.1.1.1.1.cmml"><mrow id="S3.E13.m1.3.3.3.2.1.1.1.1.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.cmml"><msub id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.cmml"><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.3" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.2.3" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml">a</mi></msub><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.4" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml">−</mo></mrow><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.3.3.3.2.1.1.1.1.3" xref="S3.E13.m1.3.3.3.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E13.m1.3.3.3.2.1.1.1.1.4" xref="S3.E13.m1.3.3.3.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E13.m1.3.3.3.2.1.1.1.3" stretchy="false" xref="S3.E13.m1.3.3.3.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m1.3b"><apply id="S3.E13.m1.3.4.cmml" xref="S3.E13.m1.3.4"><eq id="S3.E13.m1.3.4.1.cmml" xref="S3.E13.m1.3.4.1"></eq><apply id="S3.E13.m1.3.4.2.cmml" xref="S3.E13.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.2.1.cmml" xref="S3.E13.m1.3.4.2">subscript</csymbol><apply id="S3.E13.m1.3.4.2.2.cmml" xref="S3.E13.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.2.2.1.cmml" xref="S3.E13.m1.3.4.2">superscript</csymbol><ci id="S3.E13.m1.3.4.2.2.2.cmml" xref="S3.E13.m1.3.4.2.2.2">𝐿</ci><apply id="S3.E13.m1.3.4.2.2.3.cmml" xref="S3.E13.m1.3.4.2.2.3"><times id="S3.E13.m1.3.4.2.2.3.1.cmml" xref="S3.E13.m1.3.4.2.2.3.1"></times><ci id="S3.E13.m1.3.4.2.2.3.2.cmml" xref="S3.E13.m1.3.4.2.2.3.2">𝑈</ci><ci id="S3.E13.m1.3.4.2.2.3.3.cmml" xref="S3.E13.m1.3.4.2.2.3.3">𝑈</ci></apply></apply><apply id="S3.E13.m1.3.4.2.3.cmml" xref="S3.E13.m1.3.4.2.3"><times id="S3.E13.m1.3.4.2.3.1.cmml" xref="S3.E13.m1.3.4.2.3.1"></times><ci id="S3.E13.m1.3.4.2.3.2.cmml" xref="S3.E13.m1.3.4.2.3.2">𝑎</ci><ci id="S3.E13.m1.3.4.2.3.3.cmml" xref="S3.E13.m1.3.4.2.3.3">𝑝</ci></apply></apply><apply id="S3.E13.m1.3.4.3.cmml" xref="S3.E13.m1.3.4.3"><minus id="S3.E13.m1.3.4.3.1.cmml" xref="S3.E13.m1.3.4.3"></minus><apply id="S3.E13.m1.3.4.3.2.cmml" xref="S3.E13.m1.3.4.3.2"><times id="S3.E13.m1.3.4.3.2.1.cmml" xref="S3.E13.m1.3.4.3.2.1"></times><apply id="S3.E13.m1.3.4.3.2.2.cmml" xref="S3.E13.m1.3.4.3.2.2"><divide id="S3.E13.m1.3.4.3.2.2.1.cmml" xref="S3.E13.m1.3.4.3.2.2"></divide><cn id="S3.E13.m1.3.4.3.2.2.2.cmml" type="integer" xref="S3.E13.m1.3.4.3.2.2.2">1</cn><apply id="S3.E13.m1.3.4.3.2.2.3.cmml" xref="S3.E13.m1.3.4.3.2.2.3"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.3.2.2.3.1.cmml" xref="S3.E13.m1.3.4.3.2.2.3">subscript</csymbol><ci id="S3.E13.m1.3.4.3.2.2.3.2.cmml" xref="S3.E13.m1.3.4.3.2.2.3.2">𝑁</ci><ci id="S3.E13.m1.3.4.3.2.2.3.3.cmml" xref="S3.E13.m1.3.4.3.2.2.3.3">𝑢</ci></apply></apply><apply id="S3.E13.m1.3.4.3.2.3.cmml" xref="S3.E13.m1.3.4.3.2.3"><apply id="S3.E13.m1.3.4.3.2.3.1.cmml" xref="S3.E13.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.3.2.3.1.1.cmml" xref="S3.E13.m1.3.4.3.2.3.1">superscript</csymbol><apply id="S3.E13.m1.3.4.3.2.3.1.2.cmml" xref="S3.E13.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.3.2.3.1.2.1.cmml" xref="S3.E13.m1.3.4.3.2.3.1">subscript</csymbol><sum id="S3.E13.m1.3.4.3.2.3.1.2.2.cmml" xref="S3.E13.m1.3.4.3.2.3.1.2.2"></sum><apply id="S3.E13.m1.3.4.3.2.3.1.2.3.cmml" xref="S3.E13.m1.3.4.3.2.3.1.2.3"><eq id="S3.E13.m1.3.4.3.2.3.1.2.3.1.cmml" xref="S3.E13.m1.3.4.3.2.3.1.2.3.1"></eq><ci id="S3.E13.m1.3.4.3.2.3.1.2.3.2.cmml" xref="S3.E13.m1.3.4.3.2.3.1.2.3.2">𝑖</ci><cn id="S3.E13.m1.3.4.3.2.3.1.2.3.3.cmml" type="integer" xref="S3.E13.m1.3.4.3.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E13.m1.3.4.3.2.3.1.3.cmml" xref="S3.E13.m1.3.4.3.2.3.1.3"><csymbol cd="ambiguous" id="S3.E13.m1.3.4.3.2.3.1.3.1.cmml" xref="S3.E13.m1.3.4.3.2.3.1.3">subscript</csymbol><ci id="S3.E13.m1.3.4.3.2.3.1.3.2.cmml" xref="S3.E13.m1.3.4.3.2.3.1.3.2">𝑁</ci><ci id="S3.E13.m1.3.4.3.2.3.1.3.3.cmml" xref="S3.E13.m1.3.4.3.2.3.1.3.3">𝑢</ci></apply></apply><apply id="S3.E13.m1.3.3.cmml" xref="S3.E13.m1.3.3"><divide id="S3.E13.m1.3.3.4.cmml" xref="S3.E13.m1.3.3"></divide><apply id="S3.E13.m1.1.1.1.cmml" xref="S3.E13.m1.1.1.1"><times id="S3.E13.m1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.2"></times><ci id="S3.E13.m1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.3">𝑒</ci><ci id="S3.E13.m1.1.1.1.4.cmml" xref="S3.E13.m1.1.1.1.4">𝑥</ci><ci id="S3.E13.m1.1.1.1.5.cmml" xref="S3.E13.m1.1.1.1.5">𝑝</ci><apply id="S3.E13.m1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1"><divide id="S3.E13.m1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.3"></divide><apply id="S3.E13.m1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2"><times id="S3.E13.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.3"></times><apply id="S3.E13.m1.1.1.1.1.1.1.2.4.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E13.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E13.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2"><apply id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.3">𝑎</ci></apply><apply id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3">𝑝</ci></apply><plus id="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E13.m1.1.1.1.1.1.1.4.cmml" xref="S3.E13.m1.1.1.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E13.m1.3.3.3.cmml" xref="S3.E13.m1.3.3.3"><plus id="S3.E13.m1.3.3.3.3.cmml" xref="S3.E13.m1.3.3.3.3"></plus><apply id="S3.E13.m1.2.2.2.1.cmml" xref="S3.E13.m1.2.2.2.1"><times id="S3.E13.m1.2.2.2.1.2.cmml" xref="S3.E13.m1.2.2.2.1.2"></times><ci id="S3.E13.m1.2.2.2.1.3.cmml" xref="S3.E13.m1.2.2.2.1.3">𝑒</ci><ci id="S3.E13.m1.2.2.2.1.4.cmml" xref="S3.E13.m1.2.2.2.1.4">𝑥</ci><ci id="S3.E13.m1.2.2.2.1.5.cmml" xref="S3.E13.m1.2.2.2.1.5">𝑝</ci><apply id="S3.E13.m1.2.2.2.1.1.1.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1"><divide id="S3.E13.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.3"></divide><apply id="S3.E13.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2"><times id="S3.E13.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.3"></times><apply id="S3.E13.m1.2.2.2.1.1.1.1.2.4.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.2.2.2.1.1.1.1.2.4.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E13.m1.2.2.2.1.1.1.1.2.4.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E13.m1.2.2.2.1.1.1.1.2.4.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E13.m1.2.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2"><apply id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.1.1.1.1.3">𝑎</ci></apply><apply id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.2.3">𝑝</ci></apply><plus id="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E13.m1.2.2.2.1.1.1.1.4.cmml" xref="S3.E13.m1.2.2.2.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E13.m1.3.3.3.2.cmml" xref="S3.E13.m1.3.3.3.2"><sum id="S3.E13.m1.3.3.3.2.2.cmml" xref="S3.E13.m1.3.3.3.2.2"></sum><apply id="S3.E13.m1.3.3.3.2.1.cmml" xref="S3.E13.m1.3.3.3.2.1"><times id="S3.E13.m1.3.3.3.2.1.2.cmml" xref="S3.E13.m1.3.3.3.2.1.2"></times><ci id="S3.E13.m1.3.3.3.2.1.3.cmml" xref="S3.E13.m1.3.3.3.2.1.3">𝑒</ci><ci id="S3.E13.m1.3.3.3.2.1.4.cmml" xref="S3.E13.m1.3.3.3.2.1.4">𝑥</ci><ci id="S3.E13.m1.3.3.3.2.1.5.cmml" xref="S3.E13.m1.3.3.3.2.1.5">𝑝</ci><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1"><divide id="S3.E13.m1.3.3.3.2.1.1.1.1.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.3"></divide><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2"><times id="S3.E13.m1.3.3.3.2.1.1.1.1.2.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.3"></times><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2"><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.1.1.1.1.3">𝑎</ci></apply><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3">𝑝</ci></apply><minus id="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.2.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E13.m1.3.3.3.2.1.1.1.1.4.cmml" xref="S3.E13.m1.3.3.3.2.1.1.1.1.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m1.3c">L^{UU}_{ap}=-\frac{1}{N_{u}}\sum_{i=1}^{N_{u}}\frac{exp(s_{\theta}(U_{a},U_{p}%
+)/\tau)}{exp(s_{\theta}(U_{a},U_{p}+)/\tau)+\sum exp(s_{\theta}(U_{a},U_{p}-)%
/\tau)}</annotation><annotation encoding="application/x-llamapun" id="S3.E13.m1.3d">italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_a italic_p end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUPERSCRIPT divide start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT + ) / italic_τ ) end_ARG start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT + ) / italic_τ ) + ∑ italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT - ) / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p5.6">here <math alttext="s_{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p5.4.m1.1"><semantics id="S3.SS2.p5.4.m1.1a"><msub id="S3.SS2.p5.4.m1.1.1" xref="S3.SS2.p5.4.m1.1.1.cmml"><mi id="S3.SS2.p5.4.m1.1.1.2" xref="S3.SS2.p5.4.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.p5.4.m1.1.1.3" xref="S3.SS2.p5.4.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m1.1b"><apply id="S3.SS2.p5.4.m1.1.1.cmml" xref="S3.SS2.p5.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m1.1.1.1.cmml" xref="S3.SS2.p5.4.m1.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m1.1.1.2.cmml" xref="S3.SS2.p5.4.m1.1.1.2">𝑠</ci><ci id="S3.SS2.p5.4.m1.1.1.3.cmml" xref="S3.SS2.p5.4.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m1.1c">s_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.4.m1.1d">italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> is a score function for evaluating the similarity of inputs.symbol <math alttext="+" class="ltx_Math" display="inline" id="S3.SS2.p5.5.m2.1"><semantics id="S3.SS2.p5.5.m2.1a"><mo id="S3.SS2.p5.5.m2.1.1" xref="S3.SS2.p5.5.m2.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m2.1b"><plus id="S3.SS2.p5.5.m2.1.1.cmml" xref="S3.SS2.p5.5.m2.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m2.1c">+</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.5.m2.1d">+</annotation></semantics></math> means corresponding positive sample and <math alttext="-" class="ltx_Math" display="inline" id="S3.SS2.p5.6.m3.1"><semantics id="S3.SS2.p5.6.m3.1a"><mo id="S3.SS2.p5.6.m3.1.1" xref="S3.SS2.p5.6.m3.1.1.cmml">−</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m3.1b"><minus id="S3.SS2.p5.6.m3.1.1.cmml" xref="S3.SS2.p5.6.m3.1.1"></minus></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m3.1c">-</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.6.m3.1d">-</annotation></semantics></math> is negative samples that using in-batch negative sampling strategy.</p>
</div>
<div class="ltx_para" id="S3.SS2.p6">
<p class="ltx_p" id="S3.SS2.p6.4">The final loss of user-user contrastive loss is average of <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS2.p6.1.m1.1"><semantics id="S3.SS2.p6.1.m1.1a"><msub id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml"><mi id="S3.SS2.p6.1.m1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.2.cmml">U</mi><mi id="S3.SS2.p6.1.m1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><apply id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.2">𝑈</ci><ci id="S3.SS2.p6.1.m1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">U_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.1.m1.1d">italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="U_{a}" class="ltx_Math" display="inline" id="S3.SS2.p6.2.m2.1"><semantics id="S3.SS2.p6.2.m2.1a"><msub id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml"><mi id="S3.SS2.p6.2.m2.1.1.2" xref="S3.SS2.p6.2.m2.1.1.2.cmml">U</mi><mi id="S3.SS2.p6.2.m2.1.1.3" xref="S3.SS2.p6.2.m2.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><apply id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.2.m2.1.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p6.2.m2.1.1.2.cmml" xref="S3.SS2.p6.2.m2.1.1.2">𝑈</ci><ci id="S3.SS2.p6.2.m2.1.1.3.cmml" xref="S3.SS2.p6.2.m2.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">U_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.2.m2.1d">italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="U_{a}" class="ltx_Math" display="inline" id="S3.SS2.p6.3.m3.1"><semantics id="S3.SS2.p6.3.m3.1a"><msub id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml"><mi id="S3.SS2.p6.3.m3.1.1.2" xref="S3.SS2.p6.3.m3.1.1.2.cmml">U</mi><mi id="S3.SS2.p6.3.m3.1.1.3" xref="S3.SS2.p6.3.m3.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><apply id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.3.m3.1.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p6.3.m3.1.1.2.cmml" xref="S3.SS2.p6.3.m3.1.1.2">𝑈</ci><ci id="S3.SS2.p6.3.m3.1.1.3.cmml" xref="S3.SS2.p6.3.m3.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">U_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.3.m3.1d">italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS2.p6.4.m4.1"><semantics id="S3.SS2.p6.4.m4.1a"><msub id="S3.SS2.p6.4.m4.1.1" xref="S3.SS2.p6.4.m4.1.1.cmml"><mi id="S3.SS2.p6.4.m4.1.1.2" xref="S3.SS2.p6.4.m4.1.1.2.cmml">U</mi><mi id="S3.SS2.p6.4.m4.1.1.3" xref="S3.SS2.p6.4.m4.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.4.m4.1b"><apply id="S3.SS2.p6.4.m4.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p6.4.m4.1.1.2.cmml" xref="S3.SS2.p6.4.m4.1.1.2">𝑈</ci><ci id="S3.SS2.p6.4.m4.1.1.3.cmml" xref="S3.SS2.p6.4.m4.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.4.m4.1c">U_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.4.m4.1d">italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E14">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(14)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{UU}=\frac{L^{UU}_{pa}+L^{UU}_{ap}}{2}" class="ltx_Math" display="block" id="S3.E14.m1.1"><semantics id="S3.E14.m1.1a"><mrow id="S3.E14.m1.1.1" xref="S3.E14.m1.1.1.cmml"><msup id="S3.E14.m1.1.1.2" xref="S3.E14.m1.1.1.2.cmml"><mi id="S3.E14.m1.1.1.2.2" xref="S3.E14.m1.1.1.2.2.cmml">L</mi><mrow id="S3.E14.m1.1.1.2.3" xref="S3.E14.m1.1.1.2.3.cmml"><mi id="S3.E14.m1.1.1.2.3.2" xref="S3.E14.m1.1.1.2.3.2.cmml">U</mi><mo id="S3.E14.m1.1.1.2.3.1" xref="S3.E14.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E14.m1.1.1.2.3.3" xref="S3.E14.m1.1.1.2.3.3.cmml">U</mi></mrow></msup><mo id="S3.E14.m1.1.1.1" xref="S3.E14.m1.1.1.1.cmml">=</mo><mfrac id="S3.E14.m1.1.1.3" xref="S3.E14.m1.1.1.3.cmml"><mrow id="S3.E14.m1.1.1.3.2" xref="S3.E14.m1.1.1.3.2.cmml"><msubsup id="S3.E14.m1.1.1.3.2.2" xref="S3.E14.m1.1.1.3.2.2.cmml"><mi id="S3.E14.m1.1.1.3.2.2.2.2" xref="S3.E14.m1.1.1.3.2.2.2.2.cmml">L</mi><mrow id="S3.E14.m1.1.1.3.2.2.3" xref="S3.E14.m1.1.1.3.2.2.3.cmml"><mi id="S3.E14.m1.1.1.3.2.2.3.2" xref="S3.E14.m1.1.1.3.2.2.3.2.cmml">p</mi><mo id="S3.E14.m1.1.1.3.2.2.3.1" xref="S3.E14.m1.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S3.E14.m1.1.1.3.2.2.3.3" xref="S3.E14.m1.1.1.3.2.2.3.3.cmml">a</mi></mrow><mrow id="S3.E14.m1.1.1.3.2.2.2.3" xref="S3.E14.m1.1.1.3.2.2.2.3.cmml"><mi id="S3.E14.m1.1.1.3.2.2.2.3.2" xref="S3.E14.m1.1.1.3.2.2.2.3.2.cmml">U</mi><mo id="S3.E14.m1.1.1.3.2.2.2.3.1" xref="S3.E14.m1.1.1.3.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E14.m1.1.1.3.2.2.2.3.3" xref="S3.E14.m1.1.1.3.2.2.2.3.3.cmml">U</mi></mrow></msubsup><mo id="S3.E14.m1.1.1.3.2.1" xref="S3.E14.m1.1.1.3.2.1.cmml">+</mo><msubsup id="S3.E14.m1.1.1.3.2.3" xref="S3.E14.m1.1.1.3.2.3.cmml"><mi id="S3.E14.m1.1.1.3.2.3.2.2" xref="S3.E14.m1.1.1.3.2.3.2.2.cmml">L</mi><mrow id="S3.E14.m1.1.1.3.2.3.3" xref="S3.E14.m1.1.1.3.2.3.3.cmml"><mi id="S3.E14.m1.1.1.3.2.3.3.2" xref="S3.E14.m1.1.1.3.2.3.3.2.cmml">a</mi><mo id="S3.E14.m1.1.1.3.2.3.3.1" xref="S3.E14.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E14.m1.1.1.3.2.3.3.3" xref="S3.E14.m1.1.1.3.2.3.3.3.cmml">p</mi></mrow><mrow id="S3.E14.m1.1.1.3.2.3.2.3" xref="S3.E14.m1.1.1.3.2.3.2.3.cmml"><mi id="S3.E14.m1.1.1.3.2.3.2.3.2" xref="S3.E14.m1.1.1.3.2.3.2.3.2.cmml">U</mi><mo id="S3.E14.m1.1.1.3.2.3.2.3.1" xref="S3.E14.m1.1.1.3.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E14.m1.1.1.3.2.3.2.3.3" xref="S3.E14.m1.1.1.3.2.3.2.3.3.cmml">U</mi></mrow></msubsup></mrow><mn id="S3.E14.m1.1.1.3.3" xref="S3.E14.m1.1.1.3.3.cmml">2</mn></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.1b"><apply id="S3.E14.m1.1.1.cmml" xref="S3.E14.m1.1.1"><eq id="S3.E14.m1.1.1.1.cmml" xref="S3.E14.m1.1.1.1"></eq><apply id="S3.E14.m1.1.1.2.cmml" xref="S3.E14.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.2.1.cmml" xref="S3.E14.m1.1.1.2">superscript</csymbol><ci id="S3.E14.m1.1.1.2.2.cmml" xref="S3.E14.m1.1.1.2.2">𝐿</ci><apply id="S3.E14.m1.1.1.2.3.cmml" xref="S3.E14.m1.1.1.2.3"><times id="S3.E14.m1.1.1.2.3.1.cmml" xref="S3.E14.m1.1.1.2.3.1"></times><ci id="S3.E14.m1.1.1.2.3.2.cmml" xref="S3.E14.m1.1.1.2.3.2">𝑈</ci><ci id="S3.E14.m1.1.1.2.3.3.cmml" xref="S3.E14.m1.1.1.2.3.3">𝑈</ci></apply></apply><apply id="S3.E14.m1.1.1.3.cmml" xref="S3.E14.m1.1.1.3"><divide id="S3.E14.m1.1.1.3.1.cmml" xref="S3.E14.m1.1.1.3"></divide><apply id="S3.E14.m1.1.1.3.2.cmml" xref="S3.E14.m1.1.1.3.2"><plus id="S3.E14.m1.1.1.3.2.1.cmml" xref="S3.E14.m1.1.1.3.2.1"></plus><apply id="S3.E14.m1.1.1.3.2.2.cmml" xref="S3.E14.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.3.2.2.1.cmml" xref="S3.E14.m1.1.1.3.2.2">subscript</csymbol><apply id="S3.E14.m1.1.1.3.2.2.2.cmml" xref="S3.E14.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.3.2.2.2.1.cmml" xref="S3.E14.m1.1.1.3.2.2">superscript</csymbol><ci id="S3.E14.m1.1.1.3.2.2.2.2.cmml" xref="S3.E14.m1.1.1.3.2.2.2.2">𝐿</ci><apply id="S3.E14.m1.1.1.3.2.2.2.3.cmml" xref="S3.E14.m1.1.1.3.2.2.2.3"><times id="S3.E14.m1.1.1.3.2.2.2.3.1.cmml" xref="S3.E14.m1.1.1.3.2.2.2.3.1"></times><ci id="S3.E14.m1.1.1.3.2.2.2.3.2.cmml" xref="S3.E14.m1.1.1.3.2.2.2.3.2">𝑈</ci><ci id="S3.E14.m1.1.1.3.2.2.2.3.3.cmml" xref="S3.E14.m1.1.1.3.2.2.2.3.3">𝑈</ci></apply></apply><apply id="S3.E14.m1.1.1.3.2.2.3.cmml" xref="S3.E14.m1.1.1.3.2.2.3"><times id="S3.E14.m1.1.1.3.2.2.3.1.cmml" xref="S3.E14.m1.1.1.3.2.2.3.1"></times><ci id="S3.E14.m1.1.1.3.2.2.3.2.cmml" xref="S3.E14.m1.1.1.3.2.2.3.2">𝑝</ci><ci id="S3.E14.m1.1.1.3.2.2.3.3.cmml" xref="S3.E14.m1.1.1.3.2.2.3.3">𝑎</ci></apply></apply><apply id="S3.E14.m1.1.1.3.2.3.cmml" xref="S3.E14.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.3.2.3.1.cmml" xref="S3.E14.m1.1.1.3.2.3">subscript</csymbol><apply id="S3.E14.m1.1.1.3.2.3.2.cmml" xref="S3.E14.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.3.2.3.2.1.cmml" xref="S3.E14.m1.1.1.3.2.3">superscript</csymbol><ci id="S3.E14.m1.1.1.3.2.3.2.2.cmml" xref="S3.E14.m1.1.1.3.2.3.2.2">𝐿</ci><apply id="S3.E14.m1.1.1.3.2.3.2.3.cmml" xref="S3.E14.m1.1.1.3.2.3.2.3"><times id="S3.E14.m1.1.1.3.2.3.2.3.1.cmml" xref="S3.E14.m1.1.1.3.2.3.2.3.1"></times><ci id="S3.E14.m1.1.1.3.2.3.2.3.2.cmml" xref="S3.E14.m1.1.1.3.2.3.2.3.2">𝑈</ci><ci id="S3.E14.m1.1.1.3.2.3.2.3.3.cmml" xref="S3.E14.m1.1.1.3.2.3.2.3.3">𝑈</ci></apply></apply><apply id="S3.E14.m1.1.1.3.2.3.3.cmml" xref="S3.E14.m1.1.1.3.2.3.3"><times id="S3.E14.m1.1.1.3.2.3.3.1.cmml" xref="S3.E14.m1.1.1.3.2.3.3.1"></times><ci id="S3.E14.m1.1.1.3.2.3.3.2.cmml" xref="S3.E14.m1.1.1.3.2.3.3.2">𝑎</ci><ci id="S3.E14.m1.1.1.3.2.3.3.3.cmml" xref="S3.E14.m1.1.1.3.2.3.3.3">𝑝</ci></apply></apply></apply><cn id="S3.E14.m1.1.1.3.3.cmml" type="integer" xref="S3.E14.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.1c">L^{UU}=\frac{L^{UU}_{pa}+L^{UU}_{ap}}{2}</annotation><annotation encoding="application/x-llamapun" id="S3.E14.m1.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT = divide start_ARG italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p italic_a end_POSTSUBSCRIPT + italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_a italic_p end_POSTSUBSCRIPT end_ARG start_ARG 2 end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p7">
<p class="ltx_p" id="S3.SS2.p7.3"><span class="ltx_text ltx_font_bold" id="S3.SS2.p7.3.1">POI-POI</span> POI-POI contrastive learning considers the POI’s food delivery business text description <math alttext="P_{d}" class="ltx_Math" display="inline" id="S3.SS2.p7.1.m1.1"><semantics id="S3.SS2.p7.1.m1.1a"><msub id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml"><mi id="S3.SS2.p7.1.m1.1.1.2" xref="S3.SS2.p7.1.m1.1.1.2.cmml">P</mi><mi id="S3.SS2.p7.1.m1.1.1.3" xref="S3.SS2.p7.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><apply id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2">𝑃</ci><ci id="S3.SS2.p7.1.m1.1.1.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">P_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p7.1.m1.1d">italic_P start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> (such as name, location, menu) and the POI’s basic information text description <math alttext="P_{b}" class="ltx_Math" display="inline" id="S3.SS2.p7.2.m2.1"><semantics id="S3.SS2.p7.2.m2.1a"><msub id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2" xref="S3.SS2.p7.2.m2.1.1.2.cmml">P</mi><mi id="S3.SS2.p7.2.m2.1.1.3" xref="S3.SS2.p7.2.m2.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><apply id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2">𝑃</ci><ci id="S3.SS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">P_{b}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p7.2.m2.1d">italic_P start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT</annotation></semantics></math> (such as shop normal introduction and some tags). Descriptions of the same POI are positive sample pairs, while those of different POIs form negative sample pairs. Similarly, the sub loss <math alttext="L^{PP}_{db}" class="ltx_Math" display="inline" id="S3.SS2.p7.3.m3.1"><semantics id="S3.SS2.p7.3.m3.1a"><msubsup id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml"><mi id="S3.SS2.p7.3.m3.1.1.2.2" xref="S3.SS2.p7.3.m3.1.1.2.2.cmml">L</mi><mrow id="S3.SS2.p7.3.m3.1.1.3" xref="S3.SS2.p7.3.m3.1.1.3.cmml"><mi id="S3.SS2.p7.3.m3.1.1.3.2" xref="S3.SS2.p7.3.m3.1.1.3.2.cmml">d</mi><mo id="S3.SS2.p7.3.m3.1.1.3.1" xref="S3.SS2.p7.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p7.3.m3.1.1.3.3" xref="S3.SS2.p7.3.m3.1.1.3.3.cmml">b</mi></mrow><mrow id="S3.SS2.p7.3.m3.1.1.2.3" xref="S3.SS2.p7.3.m3.1.1.2.3.cmml"><mi id="S3.SS2.p7.3.m3.1.1.2.3.2" xref="S3.SS2.p7.3.m3.1.1.2.3.2.cmml">P</mi><mo id="S3.SS2.p7.3.m3.1.1.2.3.1" xref="S3.SS2.p7.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p7.3.m3.1.1.2.3.3" xref="S3.SS2.p7.3.m3.1.1.2.3.3.cmml">P</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.1b"><apply id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p7.3.m3.1.1.2.cmml" xref="S3.SS2.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.2.1.cmml" xref="S3.SS2.p7.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p7.3.m3.1.1.2.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2.2">𝐿</ci><apply id="S3.SS2.p7.3.m3.1.1.2.3.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3"><times id="S3.SS2.p7.3.m3.1.1.2.3.1.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3.1"></times><ci id="S3.SS2.p7.3.m3.1.1.2.3.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3.2">𝑃</ci><ci id="S3.SS2.p7.3.m3.1.1.2.3.3.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3.3">𝑃</ci></apply></apply><apply id="S3.SS2.p7.3.m3.1.1.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3"><times id="S3.SS2.p7.3.m3.1.1.3.1.cmml" xref="S3.SS2.p7.3.m3.1.1.3.1"></times><ci id="S3.SS2.p7.3.m3.1.1.3.2.cmml" xref="S3.SS2.p7.3.m3.1.1.3.2">𝑑</ci><ci id="S3.SS2.p7.3.m3.1.1.3.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3.3">𝑏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.1c">L^{PP}_{db}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p7.3.m3.1d">italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d italic_b end_POSTSUBSCRIPT</annotation></semantics></math> POI-POI contrastive loss is as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E15">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(15)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{PP}_{db}=-\frac{1}{N_{p}}\sum_{i=1}^{N_{p}}\frac{exp(s_{\theta}(P_{d},P_{b}%
+)/\tau)}{exp(s_{\theta}(P_{d},P_{b}+)/\tau)+\sum exp(s_{\theta}(P_{d},P_{b}-)%
/\tau)}" class="ltx_Math" display="block" id="S3.E15.m1.3"><semantics id="S3.E15.m1.3a"><mrow id="S3.E15.m1.3.4" xref="S3.E15.m1.3.4.cmml"><msubsup id="S3.E15.m1.3.4.2" xref="S3.E15.m1.3.4.2.cmml"><mi id="S3.E15.m1.3.4.2.2.2" xref="S3.E15.m1.3.4.2.2.2.cmml">L</mi><mrow id="S3.E15.m1.3.4.2.3" xref="S3.E15.m1.3.4.2.3.cmml"><mi id="S3.E15.m1.3.4.2.3.2" xref="S3.E15.m1.3.4.2.3.2.cmml">d</mi><mo id="S3.E15.m1.3.4.2.3.1" xref="S3.E15.m1.3.4.2.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.4.2.3.3" xref="S3.E15.m1.3.4.2.3.3.cmml">b</mi></mrow><mrow id="S3.E15.m1.3.4.2.2.3" xref="S3.E15.m1.3.4.2.2.3.cmml"><mi id="S3.E15.m1.3.4.2.2.3.2" xref="S3.E15.m1.3.4.2.2.3.2.cmml">P</mi><mo id="S3.E15.m1.3.4.2.2.3.1" xref="S3.E15.m1.3.4.2.2.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.4.2.2.3.3" xref="S3.E15.m1.3.4.2.2.3.3.cmml">P</mi></mrow></msubsup><mo id="S3.E15.m1.3.4.1" xref="S3.E15.m1.3.4.1.cmml">=</mo><mrow id="S3.E15.m1.3.4.3" xref="S3.E15.m1.3.4.3.cmml"><mo id="S3.E15.m1.3.4.3a" xref="S3.E15.m1.3.4.3.cmml">−</mo><mrow id="S3.E15.m1.3.4.3.2" xref="S3.E15.m1.3.4.3.2.cmml"><mfrac id="S3.E15.m1.3.4.3.2.2" xref="S3.E15.m1.3.4.3.2.2.cmml"><mn id="S3.E15.m1.3.4.3.2.2.2" xref="S3.E15.m1.3.4.3.2.2.2.cmml">1</mn><msub id="S3.E15.m1.3.4.3.2.2.3" xref="S3.E15.m1.3.4.3.2.2.3.cmml"><mi id="S3.E15.m1.3.4.3.2.2.3.2" xref="S3.E15.m1.3.4.3.2.2.3.2.cmml">N</mi><mi id="S3.E15.m1.3.4.3.2.2.3.3" xref="S3.E15.m1.3.4.3.2.2.3.3.cmml">p</mi></msub></mfrac><mo id="S3.E15.m1.3.4.3.2.1" xref="S3.E15.m1.3.4.3.2.1.cmml">⁢</mo><mrow id="S3.E15.m1.3.4.3.2.3" xref="S3.E15.m1.3.4.3.2.3.cmml"><munderover id="S3.E15.m1.3.4.3.2.3.1" xref="S3.E15.m1.3.4.3.2.3.1.cmml"><mo id="S3.E15.m1.3.4.3.2.3.1.2.2" movablelimits="false" xref="S3.E15.m1.3.4.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E15.m1.3.4.3.2.3.1.2.3" xref="S3.E15.m1.3.4.3.2.3.1.2.3.cmml"><mi id="S3.E15.m1.3.4.3.2.3.1.2.3.2" xref="S3.E15.m1.3.4.3.2.3.1.2.3.2.cmml">i</mi><mo id="S3.E15.m1.3.4.3.2.3.1.2.3.1" xref="S3.E15.m1.3.4.3.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E15.m1.3.4.3.2.3.1.2.3.3" xref="S3.E15.m1.3.4.3.2.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E15.m1.3.4.3.2.3.1.3" xref="S3.E15.m1.3.4.3.2.3.1.3.cmml"><mi id="S3.E15.m1.3.4.3.2.3.1.3.2" xref="S3.E15.m1.3.4.3.2.3.1.3.2.cmml">N</mi><mi id="S3.E15.m1.3.4.3.2.3.1.3.3" xref="S3.E15.m1.3.4.3.2.3.1.3.3.cmml">p</mi></msub></munderover><mfrac id="S3.E15.m1.3.3" xref="S3.E15.m1.3.3.cmml"><mrow id="S3.E15.m1.1.1.1" xref="S3.E15.m1.1.1.1.cmml"><mi id="S3.E15.m1.1.1.1.3" xref="S3.E15.m1.1.1.1.3.cmml">e</mi><mo id="S3.E15.m1.1.1.1.2" xref="S3.E15.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E15.m1.1.1.1.4" xref="S3.E15.m1.1.1.1.4.cmml">x</mi><mo id="S3.E15.m1.1.1.1.2a" xref="S3.E15.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E15.m1.1.1.1.5" xref="S3.E15.m1.1.1.1.5.cmml">p</mi><mo id="S3.E15.m1.1.1.1.2b" xref="S3.E15.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.cmml"><mo id="S3.E15.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E15.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E15.m1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E15.m1.1.1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.1.1.2.cmml"><msub id="S3.E15.m1.1.1.1.1.1.1.2.4" xref="S3.E15.m1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.2.4.2" xref="S3.E15.m1.1.1.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E15.m1.1.1.1.1.1.1.2.4.3" xref="S3.E15.m1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E15.m1.1.1.1.1.1.1.2.3" xref="S3.E15.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E15.m1.1.1.1.1.1.1.2.2.2" xref="S3.E15.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S3.E15.m1.1.1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E15.m1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">P</mi><mi id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.E15.m1.1.1.1.1.1.1.2.2.2.4" xref="S3.E15.m1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mi id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">b</mi></msub><mo id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E15.m1.1.1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E15.m1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E15.m1.1.1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.1.1.3.cmml">/</mo><mi id="S3.E15.m1.1.1.1.1.1.1.4" xref="S3.E15.m1.1.1.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E15.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E15.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E15.m1.3.3.3" xref="S3.E15.m1.3.3.3.cmml"><mrow id="S3.E15.m1.2.2.2.1" xref="S3.E15.m1.2.2.2.1.cmml"><mi id="S3.E15.m1.2.2.2.1.3" xref="S3.E15.m1.2.2.2.1.3.cmml">e</mi><mo id="S3.E15.m1.2.2.2.1.2" xref="S3.E15.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E15.m1.2.2.2.1.4" xref="S3.E15.m1.2.2.2.1.4.cmml">x</mi><mo id="S3.E15.m1.2.2.2.1.2a" xref="S3.E15.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E15.m1.2.2.2.1.5" xref="S3.E15.m1.2.2.2.1.5.cmml">p</mi><mo id="S3.E15.m1.2.2.2.1.2b" xref="S3.E15.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.2.2.2.1.1.1" xref="S3.E15.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E15.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E15.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E15.m1.2.2.2.1.1.1.1" xref="S3.E15.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E15.m1.2.2.2.1.1.1.1.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.cmml"><msub id="S3.E15.m1.2.2.2.1.1.1.1.2.4" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4.cmml"><mi id="S3.E15.m1.2.2.2.1.1.1.1.2.4.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E15.m1.2.2.2.1.1.1.1.2.4.3" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E15.m1.2.2.2.1.1.1.1.2.3" xref="S3.E15.m1.2.2.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml">P</mi><mi id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.4" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mi id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml">b</mi></msub><mo id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E15.m1.2.2.2.1.1.1.1.3" xref="S3.E15.m1.2.2.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E15.m1.2.2.2.1.1.1.1.4" xref="S3.E15.m1.2.2.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E15.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E15.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E15.m1.3.3.3.3" rspace="0.055em" xref="S3.E15.m1.3.3.3.3.cmml">+</mo><mrow id="S3.E15.m1.3.3.3.2" xref="S3.E15.m1.3.3.3.2.cmml"><mo id="S3.E15.m1.3.3.3.2.2" xref="S3.E15.m1.3.3.3.2.2.cmml">∑</mo><mrow id="S3.E15.m1.3.3.3.2.1" xref="S3.E15.m1.3.3.3.2.1.cmml"><mi id="S3.E15.m1.3.3.3.2.1.3" xref="S3.E15.m1.3.3.3.2.1.3.cmml">e</mi><mo id="S3.E15.m1.3.3.3.2.1.2" xref="S3.E15.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E15.m1.3.3.3.2.1.4" xref="S3.E15.m1.3.3.3.2.1.4.cmml">x</mi><mo id="S3.E15.m1.3.3.3.2.1.2a" xref="S3.E15.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E15.m1.3.3.3.2.1.5" xref="S3.E15.m1.3.3.3.2.1.5.cmml">p</mi><mo id="S3.E15.m1.3.3.3.2.1.2b" xref="S3.E15.m1.3.3.3.2.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.3.3.3.2.1.1.1" xref="S3.E15.m1.3.3.3.2.1.1.1.1.cmml"><mo id="S3.E15.m1.3.3.3.2.1.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.E15.m1.3.3.3.2.1.1.1.1" xref="S3.E15.m1.3.3.3.2.1.1.1.1.cmml"><mrow id="S3.E15.m1.3.3.3.2.1.1.1.1.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.cmml"><msub id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.cmml"><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.3" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.2.3" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml">P</mi><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.4" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml">b</mi></msub><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml">−</mo></mrow><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E15.m1.3.3.3.2.1.1.1.1.3" xref="S3.E15.m1.3.3.3.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E15.m1.3.3.3.2.1.1.1.1.4" xref="S3.E15.m1.3.3.3.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E15.m1.3.3.3.2.1.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.3.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.3b"><apply id="S3.E15.m1.3.4.cmml" xref="S3.E15.m1.3.4"><eq id="S3.E15.m1.3.4.1.cmml" xref="S3.E15.m1.3.4.1"></eq><apply id="S3.E15.m1.3.4.2.cmml" xref="S3.E15.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.2.1.cmml" xref="S3.E15.m1.3.4.2">subscript</csymbol><apply id="S3.E15.m1.3.4.2.2.cmml" xref="S3.E15.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.2.2.1.cmml" xref="S3.E15.m1.3.4.2">superscript</csymbol><ci id="S3.E15.m1.3.4.2.2.2.cmml" xref="S3.E15.m1.3.4.2.2.2">𝐿</ci><apply id="S3.E15.m1.3.4.2.2.3.cmml" xref="S3.E15.m1.3.4.2.2.3"><times id="S3.E15.m1.3.4.2.2.3.1.cmml" xref="S3.E15.m1.3.4.2.2.3.1"></times><ci id="S3.E15.m1.3.4.2.2.3.2.cmml" xref="S3.E15.m1.3.4.2.2.3.2">𝑃</ci><ci id="S3.E15.m1.3.4.2.2.3.3.cmml" xref="S3.E15.m1.3.4.2.2.3.3">𝑃</ci></apply></apply><apply id="S3.E15.m1.3.4.2.3.cmml" xref="S3.E15.m1.3.4.2.3"><times id="S3.E15.m1.3.4.2.3.1.cmml" xref="S3.E15.m1.3.4.2.3.1"></times><ci id="S3.E15.m1.3.4.2.3.2.cmml" xref="S3.E15.m1.3.4.2.3.2">𝑑</ci><ci id="S3.E15.m1.3.4.2.3.3.cmml" xref="S3.E15.m1.3.4.2.3.3">𝑏</ci></apply></apply><apply id="S3.E15.m1.3.4.3.cmml" xref="S3.E15.m1.3.4.3"><minus id="S3.E15.m1.3.4.3.1.cmml" xref="S3.E15.m1.3.4.3"></minus><apply id="S3.E15.m1.3.4.3.2.cmml" xref="S3.E15.m1.3.4.3.2"><times id="S3.E15.m1.3.4.3.2.1.cmml" xref="S3.E15.m1.3.4.3.2.1"></times><apply id="S3.E15.m1.3.4.3.2.2.cmml" xref="S3.E15.m1.3.4.3.2.2"><divide id="S3.E15.m1.3.4.3.2.2.1.cmml" xref="S3.E15.m1.3.4.3.2.2"></divide><cn id="S3.E15.m1.3.4.3.2.2.2.cmml" type="integer" xref="S3.E15.m1.3.4.3.2.2.2">1</cn><apply id="S3.E15.m1.3.4.3.2.2.3.cmml" xref="S3.E15.m1.3.4.3.2.2.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.3.2.2.3.1.cmml" xref="S3.E15.m1.3.4.3.2.2.3">subscript</csymbol><ci id="S3.E15.m1.3.4.3.2.2.3.2.cmml" xref="S3.E15.m1.3.4.3.2.2.3.2">𝑁</ci><ci id="S3.E15.m1.3.4.3.2.2.3.3.cmml" xref="S3.E15.m1.3.4.3.2.2.3.3">𝑝</ci></apply></apply><apply id="S3.E15.m1.3.4.3.2.3.cmml" xref="S3.E15.m1.3.4.3.2.3"><apply id="S3.E15.m1.3.4.3.2.3.1.cmml" xref="S3.E15.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.3.2.3.1.1.cmml" xref="S3.E15.m1.3.4.3.2.3.1">superscript</csymbol><apply id="S3.E15.m1.3.4.3.2.3.1.2.cmml" xref="S3.E15.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.3.2.3.1.2.1.cmml" xref="S3.E15.m1.3.4.3.2.3.1">subscript</csymbol><sum id="S3.E15.m1.3.4.3.2.3.1.2.2.cmml" xref="S3.E15.m1.3.4.3.2.3.1.2.2"></sum><apply id="S3.E15.m1.3.4.3.2.3.1.2.3.cmml" xref="S3.E15.m1.3.4.3.2.3.1.2.3"><eq id="S3.E15.m1.3.4.3.2.3.1.2.3.1.cmml" xref="S3.E15.m1.3.4.3.2.3.1.2.3.1"></eq><ci id="S3.E15.m1.3.4.3.2.3.1.2.3.2.cmml" xref="S3.E15.m1.3.4.3.2.3.1.2.3.2">𝑖</ci><cn id="S3.E15.m1.3.4.3.2.3.1.2.3.3.cmml" type="integer" xref="S3.E15.m1.3.4.3.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E15.m1.3.4.3.2.3.1.3.cmml" xref="S3.E15.m1.3.4.3.2.3.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.4.3.2.3.1.3.1.cmml" xref="S3.E15.m1.3.4.3.2.3.1.3">subscript</csymbol><ci id="S3.E15.m1.3.4.3.2.3.1.3.2.cmml" xref="S3.E15.m1.3.4.3.2.3.1.3.2">𝑁</ci><ci id="S3.E15.m1.3.4.3.2.3.1.3.3.cmml" xref="S3.E15.m1.3.4.3.2.3.1.3.3">𝑝</ci></apply></apply><apply id="S3.E15.m1.3.3.cmml" xref="S3.E15.m1.3.3"><divide id="S3.E15.m1.3.3.4.cmml" xref="S3.E15.m1.3.3"></divide><apply id="S3.E15.m1.1.1.1.cmml" xref="S3.E15.m1.1.1.1"><times id="S3.E15.m1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.2"></times><ci id="S3.E15.m1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.3">𝑒</ci><ci id="S3.E15.m1.1.1.1.4.cmml" xref="S3.E15.m1.1.1.1.4">𝑥</ci><ci id="S3.E15.m1.1.1.1.5.cmml" xref="S3.E15.m1.1.1.1.5">𝑝</ci><apply id="S3.E15.m1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1"><divide id="S3.E15.m1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3"></divide><apply id="S3.E15.m1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2"><times id="S3.E15.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.3"></times><apply id="S3.E15.m1.1.1.1.1.1.1.2.4.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E15.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E15.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2"><apply id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.2">𝑃</ci><ci id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.3">𝑑</ci></apply><apply id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2">𝑃</ci><ci id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.2.3">𝑏</ci></apply><plus id="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E15.m1.1.1.1.1.1.1.4.cmml" xref="S3.E15.m1.1.1.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E15.m1.3.3.3.cmml" xref="S3.E15.m1.3.3.3"><plus id="S3.E15.m1.3.3.3.3.cmml" xref="S3.E15.m1.3.3.3.3"></plus><apply id="S3.E15.m1.2.2.2.1.cmml" xref="S3.E15.m1.2.2.2.1"><times id="S3.E15.m1.2.2.2.1.2.cmml" xref="S3.E15.m1.2.2.2.1.2"></times><ci id="S3.E15.m1.2.2.2.1.3.cmml" xref="S3.E15.m1.2.2.2.1.3">𝑒</ci><ci id="S3.E15.m1.2.2.2.1.4.cmml" xref="S3.E15.m1.2.2.2.1.4">𝑥</ci><ci id="S3.E15.m1.2.2.2.1.5.cmml" xref="S3.E15.m1.2.2.2.1.5">𝑝</ci><apply id="S3.E15.m1.2.2.2.1.1.1.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1"><divide id="S3.E15.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.3"></divide><apply id="S3.E15.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2"><times id="S3.E15.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.3"></times><apply id="S3.E15.m1.2.2.2.1.1.1.1.2.4.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E15.m1.2.2.2.1.1.1.1.2.4.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E15.m1.2.2.2.1.1.1.1.2.4.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E15.m1.2.2.2.1.1.1.1.2.4.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E15.m1.2.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2"><apply id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.2">𝑃</ci><ci id="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.1.1.1.1.3">𝑑</ci></apply><apply id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.2">𝑃</ci><ci id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.2.3">𝑏</ci></apply><plus id="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E15.m1.2.2.2.1.1.1.1.4.cmml" xref="S3.E15.m1.2.2.2.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E15.m1.3.3.3.2.cmml" xref="S3.E15.m1.3.3.3.2"><sum id="S3.E15.m1.3.3.3.2.2.cmml" xref="S3.E15.m1.3.3.3.2.2"></sum><apply id="S3.E15.m1.3.3.3.2.1.cmml" xref="S3.E15.m1.3.3.3.2.1"><times id="S3.E15.m1.3.3.3.2.1.2.cmml" xref="S3.E15.m1.3.3.3.2.1.2"></times><ci id="S3.E15.m1.3.3.3.2.1.3.cmml" xref="S3.E15.m1.3.3.3.2.1.3">𝑒</ci><ci id="S3.E15.m1.3.3.3.2.1.4.cmml" xref="S3.E15.m1.3.3.3.2.1.4">𝑥</ci><ci id="S3.E15.m1.3.3.3.2.1.5.cmml" xref="S3.E15.m1.3.3.3.2.1.5">𝑝</ci><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1"><divide id="S3.E15.m1.3.3.3.2.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.3"></divide><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2"><times id="S3.E15.m1.3.3.3.2.1.1.1.1.2.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.3"></times><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.2">𝑠</ci><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2"><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.2">𝑃</ci><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.1.1.1.1.3">𝑑</ci></apply><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2">𝑃</ci><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3">𝑏</ci></apply><minus id="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.2.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E15.m1.3.3.3.2.1.1.1.1.4.cmml" xref="S3.E15.m1.3.3.3.2.1.1.1.1.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.3c">L^{PP}_{db}=-\frac{1}{N_{p}}\sum_{i=1}^{N_{p}}\frac{exp(s_{\theta}(P_{d},P_{b}%
+)/\tau)}{exp(s_{\theta}(P_{d},P_{b}+)/\tau)+\sum exp(s_{\theta}(P_{d},P_{b}-)%
/\tau)}</annotation><annotation encoding="application/x-llamapun" id="S3.E15.m1.3d">italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d italic_b end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUPERSCRIPT divide start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_P start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT + ) / italic_τ ) end_ARG start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_P start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT + ) / italic_τ ) + ∑ italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_P start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT - ) / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p8">
<p class="ltx_p" id="S3.SS2.p8.2">The POI-POI contrastive loss <math alttext="L^{PP}" class="ltx_Math" display="inline" id="S3.SS2.p8.1.m1.1"><semantics id="S3.SS2.p8.1.m1.1a"><msup id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.2.cmml">L</mi><mrow id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.2" xref="S3.SS2.p8.1.m1.1.1.3.2.cmml">P</mi><mo id="S3.SS2.p8.1.m1.1.1.3.1" xref="S3.SS2.p8.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p8.1.m1.1.1.3.3" xref="S3.SS2.p8.1.m1.1.1.3.3.cmml">P</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2">𝐿</ci><apply id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3"><times id="S3.SS2.p8.1.m1.1.1.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2">𝑃</ci><ci id="S3.SS2.p8.1.m1.1.1.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">L^{PP}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.1.m1.1d">italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> is just like what <math alttext="L^{uu}" class="ltx_Math" display="inline" id="S3.SS2.p8.2.m2.1"><semantics id="S3.SS2.p8.2.m2.1a"><msup id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml"><mi id="S3.SS2.p8.2.m2.1.1.2" xref="S3.SS2.p8.2.m2.1.1.2.cmml">L</mi><mrow id="S3.SS2.p8.2.m2.1.1.3" xref="S3.SS2.p8.2.m2.1.1.3.cmml"><mi id="S3.SS2.p8.2.m2.1.1.3.2" xref="S3.SS2.p8.2.m2.1.1.3.2.cmml">u</mi><mo id="S3.SS2.p8.2.m2.1.1.3.1" xref="S3.SS2.p8.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p8.2.m2.1.1.3.3" xref="S3.SS2.p8.2.m2.1.1.3.3.cmml">u</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><apply id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.2">𝐿</ci><apply id="S3.SS2.p8.2.m2.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.3"><times id="S3.SS2.p8.2.m2.1.1.3.1.cmml" xref="S3.SS2.p8.2.m2.1.1.3.1"></times><ci id="S3.SS2.p8.2.m2.1.1.3.2.cmml" xref="S3.SS2.p8.2.m2.1.1.3.2">𝑢</ci><ci id="S3.SS2.p8.2.m2.1.1.3.3.cmml" xref="S3.SS2.p8.2.m2.1.1.3.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">L^{uu}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.2.m2.1d">italic_L start_POSTSUPERSCRIPT italic_u italic_u end_POSTSUPERSCRIPT</annotation></semantics></math> organizes:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E16">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(16)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{PP}=\frac{L^{PP}_{db}+L^{PP}_{bd}}{2}" class="ltx_Math" display="block" id="S3.E16.m1.1"><semantics id="S3.E16.m1.1a"><mrow id="S3.E16.m1.1.1" xref="S3.E16.m1.1.1.cmml"><msup id="S3.E16.m1.1.1.2" xref="S3.E16.m1.1.1.2.cmml"><mi id="S3.E16.m1.1.1.2.2" xref="S3.E16.m1.1.1.2.2.cmml">L</mi><mrow id="S3.E16.m1.1.1.2.3" xref="S3.E16.m1.1.1.2.3.cmml"><mi id="S3.E16.m1.1.1.2.3.2" xref="S3.E16.m1.1.1.2.3.2.cmml">P</mi><mo id="S3.E16.m1.1.1.2.3.1" xref="S3.E16.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E16.m1.1.1.2.3.3" xref="S3.E16.m1.1.1.2.3.3.cmml">P</mi></mrow></msup><mo id="S3.E16.m1.1.1.1" xref="S3.E16.m1.1.1.1.cmml">=</mo><mfrac id="S3.E16.m1.1.1.3" xref="S3.E16.m1.1.1.3.cmml"><mrow id="S3.E16.m1.1.1.3.2" xref="S3.E16.m1.1.1.3.2.cmml"><msubsup id="S3.E16.m1.1.1.3.2.2" xref="S3.E16.m1.1.1.3.2.2.cmml"><mi id="S3.E16.m1.1.1.3.2.2.2.2" xref="S3.E16.m1.1.1.3.2.2.2.2.cmml">L</mi><mrow id="S3.E16.m1.1.1.3.2.2.3" xref="S3.E16.m1.1.1.3.2.2.3.cmml"><mi id="S3.E16.m1.1.1.3.2.2.3.2" xref="S3.E16.m1.1.1.3.2.2.3.2.cmml">d</mi><mo id="S3.E16.m1.1.1.3.2.2.3.1" xref="S3.E16.m1.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S3.E16.m1.1.1.3.2.2.3.3" xref="S3.E16.m1.1.1.3.2.2.3.3.cmml">b</mi></mrow><mrow id="S3.E16.m1.1.1.3.2.2.2.3" xref="S3.E16.m1.1.1.3.2.2.2.3.cmml"><mi id="S3.E16.m1.1.1.3.2.2.2.3.2" xref="S3.E16.m1.1.1.3.2.2.2.3.2.cmml">P</mi><mo id="S3.E16.m1.1.1.3.2.2.2.3.1" xref="S3.E16.m1.1.1.3.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E16.m1.1.1.3.2.2.2.3.3" xref="S3.E16.m1.1.1.3.2.2.2.3.3.cmml">P</mi></mrow></msubsup><mo id="S3.E16.m1.1.1.3.2.1" xref="S3.E16.m1.1.1.3.2.1.cmml">+</mo><msubsup id="S3.E16.m1.1.1.3.2.3" xref="S3.E16.m1.1.1.3.2.3.cmml"><mi id="S3.E16.m1.1.1.3.2.3.2.2" xref="S3.E16.m1.1.1.3.2.3.2.2.cmml">L</mi><mrow id="S3.E16.m1.1.1.3.2.3.3" xref="S3.E16.m1.1.1.3.2.3.3.cmml"><mi id="S3.E16.m1.1.1.3.2.3.3.2" xref="S3.E16.m1.1.1.3.2.3.3.2.cmml">b</mi><mo id="S3.E16.m1.1.1.3.2.3.3.1" xref="S3.E16.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E16.m1.1.1.3.2.3.3.3" xref="S3.E16.m1.1.1.3.2.3.3.3.cmml">d</mi></mrow><mrow id="S3.E16.m1.1.1.3.2.3.2.3" xref="S3.E16.m1.1.1.3.2.3.2.3.cmml"><mi id="S3.E16.m1.1.1.3.2.3.2.3.2" xref="S3.E16.m1.1.1.3.2.3.2.3.2.cmml">P</mi><mo id="S3.E16.m1.1.1.3.2.3.2.3.1" xref="S3.E16.m1.1.1.3.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E16.m1.1.1.3.2.3.2.3.3" xref="S3.E16.m1.1.1.3.2.3.2.3.3.cmml">P</mi></mrow></msubsup></mrow><mn id="S3.E16.m1.1.1.3.3" xref="S3.E16.m1.1.1.3.3.cmml">2</mn></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E16.m1.1b"><apply id="S3.E16.m1.1.1.cmml" xref="S3.E16.m1.1.1"><eq id="S3.E16.m1.1.1.1.cmml" xref="S3.E16.m1.1.1.1"></eq><apply id="S3.E16.m1.1.1.2.cmml" xref="S3.E16.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E16.m1.1.1.2.1.cmml" xref="S3.E16.m1.1.1.2">superscript</csymbol><ci id="S3.E16.m1.1.1.2.2.cmml" xref="S3.E16.m1.1.1.2.2">𝐿</ci><apply id="S3.E16.m1.1.1.2.3.cmml" xref="S3.E16.m1.1.1.2.3"><times id="S3.E16.m1.1.1.2.3.1.cmml" xref="S3.E16.m1.1.1.2.3.1"></times><ci id="S3.E16.m1.1.1.2.3.2.cmml" xref="S3.E16.m1.1.1.2.3.2">𝑃</ci><ci id="S3.E16.m1.1.1.2.3.3.cmml" xref="S3.E16.m1.1.1.2.3.3">𝑃</ci></apply></apply><apply id="S3.E16.m1.1.1.3.cmml" xref="S3.E16.m1.1.1.3"><divide id="S3.E16.m1.1.1.3.1.cmml" xref="S3.E16.m1.1.1.3"></divide><apply id="S3.E16.m1.1.1.3.2.cmml" xref="S3.E16.m1.1.1.3.2"><plus id="S3.E16.m1.1.1.3.2.1.cmml" xref="S3.E16.m1.1.1.3.2.1"></plus><apply id="S3.E16.m1.1.1.3.2.2.cmml" xref="S3.E16.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E16.m1.1.1.3.2.2.1.cmml" xref="S3.E16.m1.1.1.3.2.2">subscript</csymbol><apply id="S3.E16.m1.1.1.3.2.2.2.cmml" xref="S3.E16.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E16.m1.1.1.3.2.2.2.1.cmml" xref="S3.E16.m1.1.1.3.2.2">superscript</csymbol><ci id="S3.E16.m1.1.1.3.2.2.2.2.cmml" xref="S3.E16.m1.1.1.3.2.2.2.2">𝐿</ci><apply id="S3.E16.m1.1.1.3.2.2.2.3.cmml" xref="S3.E16.m1.1.1.3.2.2.2.3"><times id="S3.E16.m1.1.1.3.2.2.2.3.1.cmml" xref="S3.E16.m1.1.1.3.2.2.2.3.1"></times><ci id="S3.E16.m1.1.1.3.2.2.2.3.2.cmml" xref="S3.E16.m1.1.1.3.2.2.2.3.2">𝑃</ci><ci id="S3.E16.m1.1.1.3.2.2.2.3.3.cmml" xref="S3.E16.m1.1.1.3.2.2.2.3.3">𝑃</ci></apply></apply><apply id="S3.E16.m1.1.1.3.2.2.3.cmml" xref="S3.E16.m1.1.1.3.2.2.3"><times id="S3.E16.m1.1.1.3.2.2.3.1.cmml" xref="S3.E16.m1.1.1.3.2.2.3.1"></times><ci id="S3.E16.m1.1.1.3.2.2.3.2.cmml" xref="S3.E16.m1.1.1.3.2.2.3.2">𝑑</ci><ci id="S3.E16.m1.1.1.3.2.2.3.3.cmml" xref="S3.E16.m1.1.1.3.2.2.3.3">𝑏</ci></apply></apply><apply id="S3.E16.m1.1.1.3.2.3.cmml" xref="S3.E16.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E16.m1.1.1.3.2.3.1.cmml" xref="S3.E16.m1.1.1.3.2.3">subscript</csymbol><apply id="S3.E16.m1.1.1.3.2.3.2.cmml" xref="S3.E16.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E16.m1.1.1.3.2.3.2.1.cmml" xref="S3.E16.m1.1.1.3.2.3">superscript</csymbol><ci id="S3.E16.m1.1.1.3.2.3.2.2.cmml" xref="S3.E16.m1.1.1.3.2.3.2.2">𝐿</ci><apply id="S3.E16.m1.1.1.3.2.3.2.3.cmml" xref="S3.E16.m1.1.1.3.2.3.2.3"><times id="S3.E16.m1.1.1.3.2.3.2.3.1.cmml" xref="S3.E16.m1.1.1.3.2.3.2.3.1"></times><ci id="S3.E16.m1.1.1.3.2.3.2.3.2.cmml" xref="S3.E16.m1.1.1.3.2.3.2.3.2">𝑃</ci><ci id="S3.E16.m1.1.1.3.2.3.2.3.3.cmml" xref="S3.E16.m1.1.1.3.2.3.2.3.3">𝑃</ci></apply></apply><apply id="S3.E16.m1.1.1.3.2.3.3.cmml" xref="S3.E16.m1.1.1.3.2.3.3"><times id="S3.E16.m1.1.1.3.2.3.3.1.cmml" xref="S3.E16.m1.1.1.3.2.3.3.1"></times><ci id="S3.E16.m1.1.1.3.2.3.3.2.cmml" xref="S3.E16.m1.1.1.3.2.3.3.2">𝑏</ci><ci id="S3.E16.m1.1.1.3.2.3.3.3.cmml" xref="S3.E16.m1.1.1.3.2.3.3.3">𝑑</ci></apply></apply></apply><cn id="S3.E16.m1.1.1.3.3.cmml" type="integer" xref="S3.E16.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E16.m1.1c">L^{PP}=\frac{L^{PP}_{db}+L^{PP}_{bd}}{2}</annotation><annotation encoding="application/x-llamapun" id="S3.E16.m1.1d">italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT = divide start_ARG italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d italic_b end_POSTSUBSCRIPT + italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_b italic_d end_POSTSUBSCRIPT end_ARG start_ARG 2 end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p8.3"><span class="ltx_text ltx_font_bold" id="S3.SS2.p8.3.1">USER-POI</span> The user-POI pairs are based on user’s comprehensive text description <math alttext="U" class="ltx_Math" display="inline" id="S3.SS2.p8.3.m1.1"><semantics id="S3.SS2.p8.3.m1.1a"><mi id="S3.SS2.p8.3.m1.1.1" xref="S3.SS2.p8.3.m1.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m1.1b"><ci id="S3.SS2.p8.3.m1.1.1.cmml" xref="S3.SS2.p8.3.m1.1.1">𝑈</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m1.1c">U</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.3.m1.1d">italic_U</annotation></semantics></math> (including user profile and user history texts):</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E17">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(17)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="U=[U_{p},U_{a}]" class="ltx_Math" display="block" id="S3.E17.m1.2"><semantics id="S3.E17.m1.2a"><mrow id="S3.E17.m1.2.2" xref="S3.E17.m1.2.2.cmml"><mi id="S3.E17.m1.2.2.4" xref="S3.E17.m1.2.2.4.cmml">U</mi><mo id="S3.E17.m1.2.2.3" xref="S3.E17.m1.2.2.3.cmml">=</mo><mrow id="S3.E17.m1.2.2.2.2" xref="S3.E17.m1.2.2.2.3.cmml"><mo id="S3.E17.m1.2.2.2.2.3" stretchy="false" xref="S3.E17.m1.2.2.2.3.cmml">[</mo><msub id="S3.E17.m1.1.1.1.1.1" xref="S3.E17.m1.1.1.1.1.1.cmml"><mi id="S3.E17.m1.1.1.1.1.1.2" xref="S3.E17.m1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E17.m1.1.1.1.1.1.3" xref="S3.E17.m1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E17.m1.2.2.2.2.4" xref="S3.E17.m1.2.2.2.3.cmml">,</mo><msub id="S3.E17.m1.2.2.2.2.2" xref="S3.E17.m1.2.2.2.2.2.cmml"><mi id="S3.E17.m1.2.2.2.2.2.2" xref="S3.E17.m1.2.2.2.2.2.2.cmml">U</mi><mi id="S3.E17.m1.2.2.2.2.2.3" xref="S3.E17.m1.2.2.2.2.2.3.cmml">a</mi></msub><mo id="S3.E17.m1.2.2.2.2.5" stretchy="false" xref="S3.E17.m1.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E17.m1.2b"><apply id="S3.E17.m1.2.2.cmml" xref="S3.E17.m1.2.2"><eq id="S3.E17.m1.2.2.3.cmml" xref="S3.E17.m1.2.2.3"></eq><ci id="S3.E17.m1.2.2.4.cmml" xref="S3.E17.m1.2.2.4">𝑈</ci><interval closure="closed" id="S3.E17.m1.2.2.2.3.cmml" xref="S3.E17.m1.2.2.2.2"><apply id="S3.E17.m1.1.1.1.1.1.cmml" xref="S3.E17.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E17.m1.1.1.1.1.1.1.cmml" xref="S3.E17.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E17.m1.1.1.1.1.1.2.cmml" xref="S3.E17.m1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E17.m1.1.1.1.1.1.3.cmml" xref="S3.E17.m1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E17.m1.2.2.2.2.2.cmml" xref="S3.E17.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E17.m1.2.2.2.2.2.1.cmml" xref="S3.E17.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E17.m1.2.2.2.2.2.2.cmml" xref="S3.E17.m1.2.2.2.2.2.2">𝑈</ci><ci id="S3.E17.m1.2.2.2.2.2.3.cmml" xref="S3.E17.m1.2.2.2.2.2.3">𝑎</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E17.m1.2c">U=[U_{p},U_{a}]</annotation><annotation encoding="application/x-llamapun" id="S3.E17.m1.2d">italic_U = [ italic_U start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p9">
<p class="ltx_p" id="S3.SS2.p9.1">The POI’s comprehensive text description <math alttext="P" class="ltx_Math" display="inline" id="S3.SS2.p9.1.m1.1"><semantics id="S3.SS2.p9.1.m1.1a"><mi id="S3.SS2.p9.1.m1.1.1" xref="S3.SS2.p9.1.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.1.m1.1b"><ci id="S3.SS2.p9.1.m1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.1.m1.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p9.1.m1.1d">italic_P</annotation></semantics></math> (including food delivery business text and basic information text):</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E18">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(18)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P=[P_{d},P_{b}]" class="ltx_Math" display="block" id="S3.E18.m1.2"><semantics id="S3.E18.m1.2a"><mrow id="S3.E18.m1.2.2" xref="S3.E18.m1.2.2.cmml"><mi id="S3.E18.m1.2.2.4" xref="S3.E18.m1.2.2.4.cmml">P</mi><mo id="S3.E18.m1.2.2.3" xref="S3.E18.m1.2.2.3.cmml">=</mo><mrow id="S3.E18.m1.2.2.2.2" xref="S3.E18.m1.2.2.2.3.cmml"><mo id="S3.E18.m1.2.2.2.2.3" stretchy="false" xref="S3.E18.m1.2.2.2.3.cmml">[</mo><msub id="S3.E18.m1.1.1.1.1.1" xref="S3.E18.m1.1.1.1.1.1.cmml"><mi id="S3.E18.m1.1.1.1.1.1.2" xref="S3.E18.m1.1.1.1.1.1.2.cmml">P</mi><mi id="S3.E18.m1.1.1.1.1.1.3" xref="S3.E18.m1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.E18.m1.2.2.2.2.4" xref="S3.E18.m1.2.2.2.3.cmml">,</mo><msub id="S3.E18.m1.2.2.2.2.2" xref="S3.E18.m1.2.2.2.2.2.cmml"><mi id="S3.E18.m1.2.2.2.2.2.2" xref="S3.E18.m1.2.2.2.2.2.2.cmml">P</mi><mi id="S3.E18.m1.2.2.2.2.2.3" xref="S3.E18.m1.2.2.2.2.2.3.cmml">b</mi></msub><mo id="S3.E18.m1.2.2.2.2.5" stretchy="false" xref="S3.E18.m1.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E18.m1.2b"><apply id="S3.E18.m1.2.2.cmml" xref="S3.E18.m1.2.2"><eq id="S3.E18.m1.2.2.3.cmml" xref="S3.E18.m1.2.2.3"></eq><ci id="S3.E18.m1.2.2.4.cmml" xref="S3.E18.m1.2.2.4">𝑃</ci><interval closure="closed" id="S3.E18.m1.2.2.2.3.cmml" xref="S3.E18.m1.2.2.2.2"><apply id="S3.E18.m1.1.1.1.1.1.cmml" xref="S3.E18.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E18.m1.1.1.1.1.1.1.cmml" xref="S3.E18.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E18.m1.1.1.1.1.1.2.cmml" xref="S3.E18.m1.1.1.1.1.1.2">𝑃</ci><ci id="S3.E18.m1.1.1.1.1.1.3.cmml" xref="S3.E18.m1.1.1.1.1.1.3">𝑑</ci></apply><apply id="S3.E18.m1.2.2.2.2.2.cmml" xref="S3.E18.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E18.m1.2.2.2.2.2.1.cmml" xref="S3.E18.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E18.m1.2.2.2.2.2.2.cmml" xref="S3.E18.m1.2.2.2.2.2.2">𝑃</ci><ci id="S3.E18.m1.2.2.2.2.2.3.cmml" xref="S3.E18.m1.2.2.2.2.2.3">𝑏</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E18.m1.2c">P=[P_{d},P_{b}]</annotation><annotation encoding="application/x-llamapun" id="S3.E18.m1.2d">italic_P = [ italic_P start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p10">
<p class="ltx_p" id="S3.SS2.p10.1">If a user paid for delivery in a POI, the comprehensive text descriptions of that user and POI constitute a positive sample pair; otherwise, they are a negative sample pair.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E19">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(19)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{UP}_{up}=-\frac{1}{N_{seq}}\sum_{i=1}^{N_{seq}}\frac{exp(s_{\theta}(U,P+)/%
\tau)}{exp(s_{\theta}(U,P+)/\tau)+\sum exp(s_{\theta}(U,P-)/\tau)}" class="ltx_Math" display="block" id="S3.E19.m1.6"><semantics id="S3.E19.m1.6a"><mrow id="S3.E19.m1.6.7" xref="S3.E19.m1.6.7.cmml"><msubsup id="S3.E19.m1.6.7.2" xref="S3.E19.m1.6.7.2.cmml"><mi id="S3.E19.m1.6.7.2.2.2" xref="S3.E19.m1.6.7.2.2.2.cmml">L</mi><mrow id="S3.E19.m1.6.7.2.3" xref="S3.E19.m1.6.7.2.3.cmml"><mi id="S3.E19.m1.6.7.2.3.2" xref="S3.E19.m1.6.7.2.3.2.cmml">u</mi><mo id="S3.E19.m1.6.7.2.3.1" xref="S3.E19.m1.6.7.2.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.2.3.3" xref="S3.E19.m1.6.7.2.3.3.cmml">p</mi></mrow><mrow id="S3.E19.m1.6.7.2.2.3" xref="S3.E19.m1.6.7.2.2.3.cmml"><mi id="S3.E19.m1.6.7.2.2.3.2" xref="S3.E19.m1.6.7.2.2.3.2.cmml">U</mi><mo id="S3.E19.m1.6.7.2.2.3.1" xref="S3.E19.m1.6.7.2.2.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.2.2.3.3" xref="S3.E19.m1.6.7.2.2.3.3.cmml">P</mi></mrow></msubsup><mo id="S3.E19.m1.6.7.1" xref="S3.E19.m1.6.7.1.cmml">=</mo><mrow id="S3.E19.m1.6.7.3" xref="S3.E19.m1.6.7.3.cmml"><mo id="S3.E19.m1.6.7.3a" xref="S3.E19.m1.6.7.3.cmml">−</mo><mrow id="S3.E19.m1.6.7.3.2" xref="S3.E19.m1.6.7.3.2.cmml"><mfrac id="S3.E19.m1.6.7.3.2.2" xref="S3.E19.m1.6.7.3.2.2.cmml"><mn id="S3.E19.m1.6.7.3.2.2.2" xref="S3.E19.m1.6.7.3.2.2.2.cmml">1</mn><msub id="S3.E19.m1.6.7.3.2.2.3" xref="S3.E19.m1.6.7.3.2.2.3.cmml"><mi id="S3.E19.m1.6.7.3.2.2.3.2" xref="S3.E19.m1.6.7.3.2.2.3.2.cmml">N</mi><mrow id="S3.E19.m1.6.7.3.2.2.3.3" xref="S3.E19.m1.6.7.3.2.2.3.3.cmml"><mi id="S3.E19.m1.6.7.3.2.2.3.3.2" xref="S3.E19.m1.6.7.3.2.2.3.3.2.cmml">s</mi><mo id="S3.E19.m1.6.7.3.2.2.3.3.1" xref="S3.E19.m1.6.7.3.2.2.3.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.3.2.2.3.3.3" xref="S3.E19.m1.6.7.3.2.2.3.3.3.cmml">e</mi><mo id="S3.E19.m1.6.7.3.2.2.3.3.1a" xref="S3.E19.m1.6.7.3.2.2.3.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.3.2.2.3.3.4" xref="S3.E19.m1.6.7.3.2.2.3.3.4.cmml">q</mi></mrow></msub></mfrac><mo id="S3.E19.m1.6.7.3.2.1" xref="S3.E19.m1.6.7.3.2.1.cmml">⁢</mo><mrow id="S3.E19.m1.6.7.3.2.3" xref="S3.E19.m1.6.7.3.2.3.cmml"><munderover id="S3.E19.m1.6.7.3.2.3.1" xref="S3.E19.m1.6.7.3.2.3.1.cmml"><mo id="S3.E19.m1.6.7.3.2.3.1.2.2" movablelimits="false" xref="S3.E19.m1.6.7.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E19.m1.6.7.3.2.3.1.2.3" xref="S3.E19.m1.6.7.3.2.3.1.2.3.cmml"><mi id="S3.E19.m1.6.7.3.2.3.1.2.3.2" xref="S3.E19.m1.6.7.3.2.3.1.2.3.2.cmml">i</mi><mo id="S3.E19.m1.6.7.3.2.3.1.2.3.1" xref="S3.E19.m1.6.7.3.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E19.m1.6.7.3.2.3.1.2.3.3" xref="S3.E19.m1.6.7.3.2.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E19.m1.6.7.3.2.3.1.3" xref="S3.E19.m1.6.7.3.2.3.1.3.cmml"><mi id="S3.E19.m1.6.7.3.2.3.1.3.2" xref="S3.E19.m1.6.7.3.2.3.1.3.2.cmml">N</mi><mrow id="S3.E19.m1.6.7.3.2.3.1.3.3" xref="S3.E19.m1.6.7.3.2.3.1.3.3.cmml"><mi id="S3.E19.m1.6.7.3.2.3.1.3.3.2" xref="S3.E19.m1.6.7.3.2.3.1.3.3.2.cmml">s</mi><mo id="S3.E19.m1.6.7.3.2.3.1.3.3.1" xref="S3.E19.m1.6.7.3.2.3.1.3.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.3.2.3.1.3.3.3" xref="S3.E19.m1.6.7.3.2.3.1.3.3.3.cmml">e</mi><mo id="S3.E19.m1.6.7.3.2.3.1.3.3.1a" xref="S3.E19.m1.6.7.3.2.3.1.3.3.1.cmml">⁢</mo><mi id="S3.E19.m1.6.7.3.2.3.1.3.3.4" xref="S3.E19.m1.6.7.3.2.3.1.3.3.4.cmml">q</mi></mrow></msub></munderover><mfrac id="S3.E19.m1.6.6" xref="S3.E19.m1.6.6.cmml"><mrow id="S3.E19.m1.2.2.2" xref="S3.E19.m1.2.2.2.cmml"><mi id="S3.E19.m1.2.2.2.4" xref="S3.E19.m1.2.2.2.4.cmml">e</mi><mo id="S3.E19.m1.2.2.2.3" xref="S3.E19.m1.2.2.2.3.cmml">⁢</mo><mi id="S3.E19.m1.2.2.2.5" xref="S3.E19.m1.2.2.2.5.cmml">x</mi><mo id="S3.E19.m1.2.2.2.3a" xref="S3.E19.m1.2.2.2.3.cmml">⁢</mo><mi id="S3.E19.m1.2.2.2.6" xref="S3.E19.m1.2.2.2.6.cmml">p</mi><mo id="S3.E19.m1.2.2.2.3b" xref="S3.E19.m1.2.2.2.3.cmml">⁢</mo><mrow id="S3.E19.m1.2.2.2.2.1" xref="S3.E19.m1.2.2.2.2.1.1.cmml"><mo id="S3.E19.m1.2.2.2.2.1.2" stretchy="false" xref="S3.E19.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.E19.m1.2.2.2.2.1.1" xref="S3.E19.m1.2.2.2.2.1.1.cmml"><mrow id="S3.E19.m1.2.2.2.2.1.1.1" xref="S3.E19.m1.2.2.2.2.1.1.1.cmml"><msub id="S3.E19.m1.2.2.2.2.1.1.1.3" xref="S3.E19.m1.2.2.2.2.1.1.1.3.cmml"><mi id="S3.E19.m1.2.2.2.2.1.1.1.3.2" xref="S3.E19.m1.2.2.2.2.1.1.1.3.2.cmml">s</mi><mi id="S3.E19.m1.2.2.2.2.1.1.1.3.3" xref="S3.E19.m1.2.2.2.2.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E19.m1.2.2.2.2.1.1.1.2" xref="S3.E19.m1.2.2.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E19.m1.2.2.2.2.1.1.1.1.1" xref="S3.E19.m1.2.2.2.2.1.1.1.1.2.cmml"><mo id="S3.E19.m1.2.2.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E19.m1.2.2.2.2.1.1.1.1.2.cmml">(</mo><mi id="S3.E19.m1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.cmml">U</mi><mo id="S3.E19.m1.2.2.2.2.1.1.1.1.1.3" xref="S3.E19.m1.2.2.2.2.1.1.1.1.2.cmml">,</mo><mrow id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.2" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.2.cmml">P</mi><mo id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.3" rspace="0em" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.3.cmml">+</mo></mrow><mo id="S3.E19.m1.2.2.2.2.1.1.1.1.1.4" stretchy="false" xref="S3.E19.m1.2.2.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E19.m1.2.2.2.2.1.1.2" xref="S3.E19.m1.2.2.2.2.1.1.2.cmml">/</mo><mi id="S3.E19.m1.2.2.2.2.1.1.3" xref="S3.E19.m1.2.2.2.2.1.1.3.cmml">τ</mi></mrow><mo id="S3.E19.m1.2.2.2.2.1.3" stretchy="false" xref="S3.E19.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E19.m1.6.6.6" xref="S3.E19.m1.6.6.6.cmml"><mrow id="S3.E19.m1.5.5.5.3" xref="S3.E19.m1.5.5.5.3.cmml"><mi id="S3.E19.m1.5.5.5.3.3" xref="S3.E19.m1.5.5.5.3.3.cmml">e</mi><mo id="S3.E19.m1.5.5.5.3.2" xref="S3.E19.m1.5.5.5.3.2.cmml">⁢</mo><mi id="S3.E19.m1.5.5.5.3.4" xref="S3.E19.m1.5.5.5.3.4.cmml">x</mi><mo id="S3.E19.m1.5.5.5.3.2a" xref="S3.E19.m1.5.5.5.3.2.cmml">⁢</mo><mi id="S3.E19.m1.5.5.5.3.5" xref="S3.E19.m1.5.5.5.3.5.cmml">p</mi><mo id="S3.E19.m1.5.5.5.3.2b" xref="S3.E19.m1.5.5.5.3.2.cmml">⁢</mo><mrow id="S3.E19.m1.5.5.5.3.1.1" xref="S3.E19.m1.5.5.5.3.1.1.1.cmml"><mo id="S3.E19.m1.5.5.5.3.1.1.2" stretchy="false" xref="S3.E19.m1.5.5.5.3.1.1.1.cmml">(</mo><mrow id="S3.E19.m1.5.5.5.3.1.1.1" xref="S3.E19.m1.5.5.5.3.1.1.1.cmml"><mrow id="S3.E19.m1.5.5.5.3.1.1.1.1" xref="S3.E19.m1.5.5.5.3.1.1.1.1.cmml"><msub id="S3.E19.m1.5.5.5.3.1.1.1.1.3" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3.cmml"><mi id="S3.E19.m1.5.5.5.3.1.1.1.1.3.2" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3.2.cmml">s</mi><mi id="S3.E19.m1.5.5.5.3.1.1.1.1.3.3" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E19.m1.5.5.5.3.1.1.1.1.2" xref="S3.E19.m1.5.5.5.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.2.cmml"><mo id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E19.m1.3.3.3.1" xref="S3.E19.m1.3.3.3.1.cmml">U</mi><mo id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.3" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.2" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.2.cmml">P</mi><mo id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.3" rspace="0em" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.3.cmml">+</mo></mrow><mo id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.4" stretchy="false" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E19.m1.5.5.5.3.1.1.1.2" xref="S3.E19.m1.5.5.5.3.1.1.1.2.cmml">/</mo><mi id="S3.E19.m1.5.5.5.3.1.1.1.3" xref="S3.E19.m1.5.5.5.3.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E19.m1.5.5.5.3.1.1.3" stretchy="false" xref="S3.E19.m1.5.5.5.3.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E19.m1.6.6.6.5" rspace="0.055em" xref="S3.E19.m1.6.6.6.5.cmml">+</mo><mrow id="S3.E19.m1.6.6.6.4" xref="S3.E19.m1.6.6.6.4.cmml"><mo id="S3.E19.m1.6.6.6.4.2" xref="S3.E19.m1.6.6.6.4.2.cmml">∑</mo><mrow id="S3.E19.m1.6.6.6.4.1" xref="S3.E19.m1.6.6.6.4.1.cmml"><mi id="S3.E19.m1.6.6.6.4.1.3" xref="S3.E19.m1.6.6.6.4.1.3.cmml">e</mi><mo id="S3.E19.m1.6.6.6.4.1.2" xref="S3.E19.m1.6.6.6.4.1.2.cmml">⁢</mo><mi id="S3.E19.m1.6.6.6.4.1.4" xref="S3.E19.m1.6.6.6.4.1.4.cmml">x</mi><mo id="S3.E19.m1.6.6.6.4.1.2a" xref="S3.E19.m1.6.6.6.4.1.2.cmml">⁢</mo><mi id="S3.E19.m1.6.6.6.4.1.5" xref="S3.E19.m1.6.6.6.4.1.5.cmml">p</mi><mo id="S3.E19.m1.6.6.6.4.1.2b" xref="S3.E19.m1.6.6.6.4.1.2.cmml">⁢</mo><mrow id="S3.E19.m1.6.6.6.4.1.1.1" xref="S3.E19.m1.6.6.6.4.1.1.1.1.cmml"><mo id="S3.E19.m1.6.6.6.4.1.1.1.2" stretchy="false" xref="S3.E19.m1.6.6.6.4.1.1.1.1.cmml">(</mo><mrow id="S3.E19.m1.6.6.6.4.1.1.1.1" xref="S3.E19.m1.6.6.6.4.1.1.1.1.cmml"><mrow id="S3.E19.m1.6.6.6.4.1.1.1.1.1" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.cmml"><msub id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.cmml"><mi id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.2" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.2.cmml">s</mi><mi id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.3" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.1.2" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.2.cmml"><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E19.m1.4.4.4.2" xref="S3.E19.m1.4.4.4.2.cmml">U</mi><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.3" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.2" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.2.cmml">P</mi><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.3" rspace="0em" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.3.cmml">−</mo></mrow><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E19.m1.6.6.6.4.1.1.1.1.2" xref="S3.E19.m1.6.6.6.4.1.1.1.1.2.cmml">/</mo><mi id="S3.E19.m1.6.6.6.4.1.1.1.1.3" xref="S3.E19.m1.6.6.6.4.1.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E19.m1.6.6.6.4.1.1.1.3" stretchy="false" xref="S3.E19.m1.6.6.6.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E19.m1.6b"><apply id="S3.E19.m1.6.7.cmml" xref="S3.E19.m1.6.7"><eq id="S3.E19.m1.6.7.1.cmml" xref="S3.E19.m1.6.7.1"></eq><apply id="S3.E19.m1.6.7.2.cmml" xref="S3.E19.m1.6.7.2"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.2.1.cmml" xref="S3.E19.m1.6.7.2">subscript</csymbol><apply id="S3.E19.m1.6.7.2.2.cmml" xref="S3.E19.m1.6.7.2"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.2.2.1.cmml" xref="S3.E19.m1.6.7.2">superscript</csymbol><ci id="S3.E19.m1.6.7.2.2.2.cmml" xref="S3.E19.m1.6.7.2.2.2">𝐿</ci><apply id="S3.E19.m1.6.7.2.2.3.cmml" xref="S3.E19.m1.6.7.2.2.3"><times id="S3.E19.m1.6.7.2.2.3.1.cmml" xref="S3.E19.m1.6.7.2.2.3.1"></times><ci id="S3.E19.m1.6.7.2.2.3.2.cmml" xref="S3.E19.m1.6.7.2.2.3.2">𝑈</ci><ci id="S3.E19.m1.6.7.2.2.3.3.cmml" xref="S3.E19.m1.6.7.2.2.3.3">𝑃</ci></apply></apply><apply id="S3.E19.m1.6.7.2.3.cmml" xref="S3.E19.m1.6.7.2.3"><times id="S3.E19.m1.6.7.2.3.1.cmml" xref="S3.E19.m1.6.7.2.3.1"></times><ci id="S3.E19.m1.6.7.2.3.2.cmml" xref="S3.E19.m1.6.7.2.3.2">𝑢</ci><ci id="S3.E19.m1.6.7.2.3.3.cmml" xref="S3.E19.m1.6.7.2.3.3">𝑝</ci></apply></apply><apply id="S3.E19.m1.6.7.3.cmml" xref="S3.E19.m1.6.7.3"><minus id="S3.E19.m1.6.7.3.1.cmml" xref="S3.E19.m1.6.7.3"></minus><apply id="S3.E19.m1.6.7.3.2.cmml" xref="S3.E19.m1.6.7.3.2"><times id="S3.E19.m1.6.7.3.2.1.cmml" xref="S3.E19.m1.6.7.3.2.1"></times><apply id="S3.E19.m1.6.7.3.2.2.cmml" xref="S3.E19.m1.6.7.3.2.2"><divide id="S3.E19.m1.6.7.3.2.2.1.cmml" xref="S3.E19.m1.6.7.3.2.2"></divide><cn id="S3.E19.m1.6.7.3.2.2.2.cmml" type="integer" xref="S3.E19.m1.6.7.3.2.2.2">1</cn><apply id="S3.E19.m1.6.7.3.2.2.3.cmml" xref="S3.E19.m1.6.7.3.2.2.3"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.3.2.2.3.1.cmml" xref="S3.E19.m1.6.7.3.2.2.3">subscript</csymbol><ci id="S3.E19.m1.6.7.3.2.2.3.2.cmml" xref="S3.E19.m1.6.7.3.2.2.3.2">𝑁</ci><apply id="S3.E19.m1.6.7.3.2.2.3.3.cmml" xref="S3.E19.m1.6.7.3.2.2.3.3"><times id="S3.E19.m1.6.7.3.2.2.3.3.1.cmml" xref="S3.E19.m1.6.7.3.2.2.3.3.1"></times><ci id="S3.E19.m1.6.7.3.2.2.3.3.2.cmml" xref="S3.E19.m1.6.7.3.2.2.3.3.2">𝑠</ci><ci id="S3.E19.m1.6.7.3.2.2.3.3.3.cmml" xref="S3.E19.m1.6.7.3.2.2.3.3.3">𝑒</ci><ci id="S3.E19.m1.6.7.3.2.2.3.3.4.cmml" xref="S3.E19.m1.6.7.3.2.2.3.3.4">𝑞</ci></apply></apply></apply><apply id="S3.E19.m1.6.7.3.2.3.cmml" xref="S3.E19.m1.6.7.3.2.3"><apply id="S3.E19.m1.6.7.3.2.3.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.3.2.3.1.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1">superscript</csymbol><apply id="S3.E19.m1.6.7.3.2.3.1.2.cmml" xref="S3.E19.m1.6.7.3.2.3.1"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.3.2.3.1.2.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1">subscript</csymbol><sum id="S3.E19.m1.6.7.3.2.3.1.2.2.cmml" xref="S3.E19.m1.6.7.3.2.3.1.2.2"></sum><apply id="S3.E19.m1.6.7.3.2.3.1.2.3.cmml" xref="S3.E19.m1.6.7.3.2.3.1.2.3"><eq id="S3.E19.m1.6.7.3.2.3.1.2.3.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1.2.3.1"></eq><ci id="S3.E19.m1.6.7.3.2.3.1.2.3.2.cmml" xref="S3.E19.m1.6.7.3.2.3.1.2.3.2">𝑖</ci><cn id="S3.E19.m1.6.7.3.2.3.1.2.3.3.cmml" type="integer" xref="S3.E19.m1.6.7.3.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E19.m1.6.7.3.2.3.1.3.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.6.7.3.2.3.1.3.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3">subscript</csymbol><ci id="S3.E19.m1.6.7.3.2.3.1.3.2.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.2">𝑁</ci><apply id="S3.E19.m1.6.7.3.2.3.1.3.3.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.3"><times id="S3.E19.m1.6.7.3.2.3.1.3.3.1.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.3.1"></times><ci id="S3.E19.m1.6.7.3.2.3.1.3.3.2.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.3.2">𝑠</ci><ci id="S3.E19.m1.6.7.3.2.3.1.3.3.3.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.3.3">𝑒</ci><ci id="S3.E19.m1.6.7.3.2.3.1.3.3.4.cmml" xref="S3.E19.m1.6.7.3.2.3.1.3.3.4">𝑞</ci></apply></apply></apply><apply id="S3.E19.m1.6.6.cmml" xref="S3.E19.m1.6.6"><divide id="S3.E19.m1.6.6.7.cmml" xref="S3.E19.m1.6.6"></divide><apply id="S3.E19.m1.2.2.2.cmml" xref="S3.E19.m1.2.2.2"><times id="S3.E19.m1.2.2.2.3.cmml" xref="S3.E19.m1.2.2.2.3"></times><ci id="S3.E19.m1.2.2.2.4.cmml" xref="S3.E19.m1.2.2.2.4">𝑒</ci><ci id="S3.E19.m1.2.2.2.5.cmml" xref="S3.E19.m1.2.2.2.5">𝑥</ci><ci id="S3.E19.m1.2.2.2.6.cmml" xref="S3.E19.m1.2.2.2.6">𝑝</ci><apply id="S3.E19.m1.2.2.2.2.1.1.cmml" xref="S3.E19.m1.2.2.2.2.1"><divide id="S3.E19.m1.2.2.2.2.1.1.2.cmml" xref="S3.E19.m1.2.2.2.2.1.1.2"></divide><apply id="S3.E19.m1.2.2.2.2.1.1.1.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1"><times id="S3.E19.m1.2.2.2.2.1.1.1.2.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.2"></times><apply id="S3.E19.m1.2.2.2.2.1.1.1.3.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.2.2.2.2.1.1.1.3.1.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E19.m1.2.2.2.2.1.1.1.3.2.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.3.2">𝑠</ci><ci id="S3.E19.m1.2.2.2.2.1.1.1.3.3.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.3.3">𝜃</ci></apply><interval closure="open" id="S3.E19.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1"><ci id="S3.E19.m1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1">𝑈</ci><apply id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1">limit-from</csymbol><ci id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.2">𝑃</ci><plus id="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.2.2.2.2.1.1.1.1.1.1.3"></plus></apply></interval></apply><ci id="S3.E19.m1.2.2.2.2.1.1.3.cmml" xref="S3.E19.m1.2.2.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S3.E19.m1.6.6.6.cmml" xref="S3.E19.m1.6.6.6"><plus id="S3.E19.m1.6.6.6.5.cmml" xref="S3.E19.m1.6.6.6.5"></plus><apply id="S3.E19.m1.5.5.5.3.cmml" xref="S3.E19.m1.5.5.5.3"><times id="S3.E19.m1.5.5.5.3.2.cmml" xref="S3.E19.m1.5.5.5.3.2"></times><ci id="S3.E19.m1.5.5.5.3.3.cmml" xref="S3.E19.m1.5.5.5.3.3">𝑒</ci><ci id="S3.E19.m1.5.5.5.3.4.cmml" xref="S3.E19.m1.5.5.5.3.4">𝑥</ci><ci id="S3.E19.m1.5.5.5.3.5.cmml" xref="S3.E19.m1.5.5.5.3.5">𝑝</ci><apply id="S3.E19.m1.5.5.5.3.1.1.1.cmml" xref="S3.E19.m1.5.5.5.3.1.1"><divide id="S3.E19.m1.5.5.5.3.1.1.1.2.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.2"></divide><apply id="S3.E19.m1.5.5.5.3.1.1.1.1.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1"><times id="S3.E19.m1.5.5.5.3.1.1.1.1.2.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.2"></times><apply id="S3.E19.m1.5.5.5.3.1.1.1.1.3.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.5.5.5.3.1.1.1.1.3.1.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E19.m1.5.5.5.3.1.1.1.1.3.2.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3.2">𝑠</ci><ci id="S3.E19.m1.5.5.5.3.1.1.1.1.3.3.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.3.3">𝜃</ci></apply><interval closure="open" id="S3.E19.m1.5.5.5.3.1.1.1.1.1.2.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1"><ci id="S3.E19.m1.3.3.3.1.cmml" xref="S3.E19.m1.3.3.3.1">𝑈</ci><apply id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1">limit-from</csymbol><ci id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.2">𝑃</ci><plus id="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.1.1.1.1.3"></plus></apply></interval></apply><ci id="S3.E19.m1.5.5.5.3.1.1.1.3.cmml" xref="S3.E19.m1.5.5.5.3.1.1.1.3">𝜏</ci></apply></apply><apply id="S3.E19.m1.6.6.6.4.cmml" xref="S3.E19.m1.6.6.6.4"><sum id="S3.E19.m1.6.6.6.4.2.cmml" xref="S3.E19.m1.6.6.6.4.2"></sum><apply id="S3.E19.m1.6.6.6.4.1.cmml" xref="S3.E19.m1.6.6.6.4.1"><times id="S3.E19.m1.6.6.6.4.1.2.cmml" xref="S3.E19.m1.6.6.6.4.1.2"></times><ci id="S3.E19.m1.6.6.6.4.1.3.cmml" xref="S3.E19.m1.6.6.6.4.1.3">𝑒</ci><ci id="S3.E19.m1.6.6.6.4.1.4.cmml" xref="S3.E19.m1.6.6.6.4.1.4">𝑥</ci><ci id="S3.E19.m1.6.6.6.4.1.5.cmml" xref="S3.E19.m1.6.6.6.4.1.5">𝑝</ci><apply id="S3.E19.m1.6.6.6.4.1.1.1.1.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1"><divide id="S3.E19.m1.6.6.6.4.1.1.1.1.2.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.2"></divide><apply id="S3.E19.m1.6.6.6.4.1.1.1.1.1.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1"><times id="S3.E19.m1.6.6.6.4.1.1.1.1.1.2.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.2"></times><apply id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.1.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.2.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.2">𝑠</ci><ci id="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.3.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.3.3">𝜃</ci></apply><interval closure="open" id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1"><ci id="S3.E19.m1.4.4.4.2.cmml" xref="S3.E19.m1.4.4.4.2">𝑈</ci><apply id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1">limit-from</csymbol><ci id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.2">𝑃</ci><minus id="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.1.1.1.1.3"></minus></apply></interval></apply><ci id="S3.E19.m1.6.6.6.4.1.1.1.1.3.cmml" xref="S3.E19.m1.6.6.6.4.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E19.m1.6c">L^{UP}_{up}=-\frac{1}{N_{seq}}\sum_{i=1}^{N_{seq}}\frac{exp(s_{\theta}(U,P+)/%
\tau)}{exp(s_{\theta}(U,P+)/\tau)+\sum exp(s_{\theta}(U,P-)/\tau)}</annotation><annotation encoding="application/x-llamapun" id="S3.E19.m1.6d">italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_p end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_s italic_e italic_q end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_s italic_e italic_q end_POSTSUBSCRIPT end_POSTSUPERSCRIPT divide start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U , italic_P + ) / italic_τ ) end_ARG start_ARG italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U , italic_P + ) / italic_τ ) + ∑ italic_e italic_x italic_p ( italic_s start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_U , italic_P - ) / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p11">
<p class="ltx_p" id="S3.SS2.p11.3">To make it symmetric, <math alttext="L^{UP}" class="ltx_Math" display="inline" id="S3.SS2.p11.1.m1.1"><semantics id="S3.SS2.p11.1.m1.1a"><msup id="S3.SS2.p11.1.m1.1.1" xref="S3.SS2.p11.1.m1.1.1.cmml"><mi id="S3.SS2.p11.1.m1.1.1.2" xref="S3.SS2.p11.1.m1.1.1.2.cmml">L</mi><mrow id="S3.SS2.p11.1.m1.1.1.3" xref="S3.SS2.p11.1.m1.1.1.3.cmml"><mi id="S3.SS2.p11.1.m1.1.1.3.2" xref="S3.SS2.p11.1.m1.1.1.3.2.cmml">U</mi><mo id="S3.SS2.p11.1.m1.1.1.3.1" xref="S3.SS2.p11.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p11.1.m1.1.1.3.3" xref="S3.SS2.p11.1.m1.1.1.3.3.cmml">P</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.1.m1.1b"><apply id="S3.SS2.p11.1.m1.1.1.cmml" xref="S3.SS2.p11.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.1.m1.1.1.1.cmml" xref="S3.SS2.p11.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p11.1.m1.1.1.2.cmml" xref="S3.SS2.p11.1.m1.1.1.2">𝐿</ci><apply id="S3.SS2.p11.1.m1.1.1.3.cmml" xref="S3.SS2.p11.1.m1.1.1.3"><times id="S3.SS2.p11.1.m1.1.1.3.1.cmml" xref="S3.SS2.p11.1.m1.1.1.3.1"></times><ci id="S3.SS2.p11.1.m1.1.1.3.2.cmml" xref="S3.SS2.p11.1.m1.1.1.3.2">𝑈</ci><ci id="S3.SS2.p11.1.m1.1.1.3.3.cmml" xref="S3.SS2.p11.1.m1.1.1.3.3">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.1.m1.1c">L^{UP}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p11.1.m1.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> is arithmetic mean of <math alttext="L^{UP}_{up}" class="ltx_Math" display="inline" id="S3.SS2.p11.2.m2.1"><semantics id="S3.SS2.p11.2.m2.1a"><msubsup id="S3.SS2.p11.2.m2.1.1" xref="S3.SS2.p11.2.m2.1.1.cmml"><mi id="S3.SS2.p11.2.m2.1.1.2.2" xref="S3.SS2.p11.2.m2.1.1.2.2.cmml">L</mi><mrow id="S3.SS2.p11.2.m2.1.1.3" xref="S3.SS2.p11.2.m2.1.1.3.cmml"><mi id="S3.SS2.p11.2.m2.1.1.3.2" xref="S3.SS2.p11.2.m2.1.1.3.2.cmml">u</mi><mo id="S3.SS2.p11.2.m2.1.1.3.1" xref="S3.SS2.p11.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p11.2.m2.1.1.3.3" xref="S3.SS2.p11.2.m2.1.1.3.3.cmml">p</mi></mrow><mrow id="S3.SS2.p11.2.m2.1.1.2.3" xref="S3.SS2.p11.2.m2.1.1.2.3.cmml"><mi id="S3.SS2.p11.2.m2.1.1.2.3.2" xref="S3.SS2.p11.2.m2.1.1.2.3.2.cmml">U</mi><mo id="S3.SS2.p11.2.m2.1.1.2.3.1" xref="S3.SS2.p11.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p11.2.m2.1.1.2.3.3" xref="S3.SS2.p11.2.m2.1.1.2.3.3.cmml">P</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.2.m2.1b"><apply id="S3.SS2.p11.2.m2.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.2.m2.1.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p11.2.m2.1.1.2.cmml" xref="S3.SS2.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.2.m2.1.1.2.1.cmml" xref="S3.SS2.p11.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p11.2.m2.1.1.2.2.cmml" xref="S3.SS2.p11.2.m2.1.1.2.2">𝐿</ci><apply id="S3.SS2.p11.2.m2.1.1.2.3.cmml" xref="S3.SS2.p11.2.m2.1.1.2.3"><times id="S3.SS2.p11.2.m2.1.1.2.3.1.cmml" xref="S3.SS2.p11.2.m2.1.1.2.3.1"></times><ci id="S3.SS2.p11.2.m2.1.1.2.3.2.cmml" xref="S3.SS2.p11.2.m2.1.1.2.3.2">𝑈</ci><ci id="S3.SS2.p11.2.m2.1.1.2.3.3.cmml" xref="S3.SS2.p11.2.m2.1.1.2.3.3">𝑃</ci></apply></apply><apply id="S3.SS2.p11.2.m2.1.1.3.cmml" xref="S3.SS2.p11.2.m2.1.1.3"><times id="S3.SS2.p11.2.m2.1.1.3.1.cmml" xref="S3.SS2.p11.2.m2.1.1.3.1"></times><ci id="S3.SS2.p11.2.m2.1.1.3.2.cmml" xref="S3.SS2.p11.2.m2.1.1.3.2">𝑢</ci><ci id="S3.SS2.p11.2.m2.1.1.3.3.cmml" xref="S3.SS2.p11.2.m2.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.2.m2.1c">L^{UP}_{up}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p11.2.m2.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="L^{UP}_{pu}" class="ltx_Math" display="inline" id="S3.SS2.p11.3.m3.1"><semantics id="S3.SS2.p11.3.m3.1a"><msubsup id="S3.SS2.p11.3.m3.1.1" xref="S3.SS2.p11.3.m3.1.1.cmml"><mi id="S3.SS2.p11.3.m3.1.1.2.2" xref="S3.SS2.p11.3.m3.1.1.2.2.cmml">L</mi><mrow id="S3.SS2.p11.3.m3.1.1.3" xref="S3.SS2.p11.3.m3.1.1.3.cmml"><mi id="S3.SS2.p11.3.m3.1.1.3.2" xref="S3.SS2.p11.3.m3.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p11.3.m3.1.1.3.1" xref="S3.SS2.p11.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p11.3.m3.1.1.3.3" xref="S3.SS2.p11.3.m3.1.1.3.3.cmml">u</mi></mrow><mrow id="S3.SS2.p11.3.m3.1.1.2.3" xref="S3.SS2.p11.3.m3.1.1.2.3.cmml"><mi id="S3.SS2.p11.3.m3.1.1.2.3.2" xref="S3.SS2.p11.3.m3.1.1.2.3.2.cmml">U</mi><mo id="S3.SS2.p11.3.m3.1.1.2.3.1" xref="S3.SS2.p11.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p11.3.m3.1.1.2.3.3" xref="S3.SS2.p11.3.m3.1.1.2.3.3.cmml">P</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.3.m3.1b"><apply id="S3.SS2.p11.3.m3.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.3.m3.1.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p11.3.m3.1.1.2.cmml" xref="S3.SS2.p11.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.3.m3.1.1.2.1.cmml" xref="S3.SS2.p11.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p11.3.m3.1.1.2.2.cmml" xref="S3.SS2.p11.3.m3.1.1.2.2">𝐿</ci><apply id="S3.SS2.p11.3.m3.1.1.2.3.cmml" xref="S3.SS2.p11.3.m3.1.1.2.3"><times id="S3.SS2.p11.3.m3.1.1.2.3.1.cmml" xref="S3.SS2.p11.3.m3.1.1.2.3.1"></times><ci id="S3.SS2.p11.3.m3.1.1.2.3.2.cmml" xref="S3.SS2.p11.3.m3.1.1.2.3.2">𝑈</ci><ci id="S3.SS2.p11.3.m3.1.1.2.3.3.cmml" xref="S3.SS2.p11.3.m3.1.1.2.3.3">𝑃</ci></apply></apply><apply id="S3.SS2.p11.3.m3.1.1.3.cmml" xref="S3.SS2.p11.3.m3.1.1.3"><times id="S3.SS2.p11.3.m3.1.1.3.1.cmml" xref="S3.SS2.p11.3.m3.1.1.3.1"></times><ci id="S3.SS2.p11.3.m3.1.1.3.2.cmml" xref="S3.SS2.p11.3.m3.1.1.3.2">𝑝</ci><ci id="S3.SS2.p11.3.m3.1.1.3.3.cmml" xref="S3.SS2.p11.3.m3.1.1.3.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.3.m3.1c">L^{UP}_{pu}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p11.3.m3.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p italic_u end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E20">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(20)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{UP}=\frac{L^{UP}_{up}+L^{UP}_{pu}}{2}" class="ltx_Math" display="block" id="S3.E20.m1.1"><semantics id="S3.E20.m1.1a"><mrow id="S3.E20.m1.1.1" xref="S3.E20.m1.1.1.cmml"><msup id="S3.E20.m1.1.1.2" xref="S3.E20.m1.1.1.2.cmml"><mi id="S3.E20.m1.1.1.2.2" xref="S3.E20.m1.1.1.2.2.cmml">L</mi><mrow id="S3.E20.m1.1.1.2.3" xref="S3.E20.m1.1.1.2.3.cmml"><mi id="S3.E20.m1.1.1.2.3.2" xref="S3.E20.m1.1.1.2.3.2.cmml">U</mi><mo id="S3.E20.m1.1.1.2.3.1" xref="S3.E20.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E20.m1.1.1.2.3.3" xref="S3.E20.m1.1.1.2.3.3.cmml">P</mi></mrow></msup><mo id="S3.E20.m1.1.1.1" xref="S3.E20.m1.1.1.1.cmml">=</mo><mfrac id="S3.E20.m1.1.1.3" xref="S3.E20.m1.1.1.3.cmml"><mrow id="S3.E20.m1.1.1.3.2" xref="S3.E20.m1.1.1.3.2.cmml"><msubsup id="S3.E20.m1.1.1.3.2.2" xref="S3.E20.m1.1.1.3.2.2.cmml"><mi id="S3.E20.m1.1.1.3.2.2.2.2" xref="S3.E20.m1.1.1.3.2.2.2.2.cmml">L</mi><mrow id="S3.E20.m1.1.1.3.2.2.3" xref="S3.E20.m1.1.1.3.2.2.3.cmml"><mi id="S3.E20.m1.1.1.3.2.2.3.2" xref="S3.E20.m1.1.1.3.2.2.3.2.cmml">u</mi><mo id="S3.E20.m1.1.1.3.2.2.3.1" xref="S3.E20.m1.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S3.E20.m1.1.1.3.2.2.3.3" xref="S3.E20.m1.1.1.3.2.2.3.3.cmml">p</mi></mrow><mrow id="S3.E20.m1.1.1.3.2.2.2.3" xref="S3.E20.m1.1.1.3.2.2.2.3.cmml"><mi id="S3.E20.m1.1.1.3.2.2.2.3.2" xref="S3.E20.m1.1.1.3.2.2.2.3.2.cmml">U</mi><mo id="S3.E20.m1.1.1.3.2.2.2.3.1" xref="S3.E20.m1.1.1.3.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E20.m1.1.1.3.2.2.2.3.3" xref="S3.E20.m1.1.1.3.2.2.2.3.3.cmml">P</mi></mrow></msubsup><mo id="S3.E20.m1.1.1.3.2.1" xref="S3.E20.m1.1.1.3.2.1.cmml">+</mo><msubsup id="S3.E20.m1.1.1.3.2.3" xref="S3.E20.m1.1.1.3.2.3.cmml"><mi id="S3.E20.m1.1.1.3.2.3.2.2" xref="S3.E20.m1.1.1.3.2.3.2.2.cmml">L</mi><mrow id="S3.E20.m1.1.1.3.2.3.3" xref="S3.E20.m1.1.1.3.2.3.3.cmml"><mi id="S3.E20.m1.1.1.3.2.3.3.2" xref="S3.E20.m1.1.1.3.2.3.3.2.cmml">p</mi><mo id="S3.E20.m1.1.1.3.2.3.3.1" xref="S3.E20.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E20.m1.1.1.3.2.3.3.3" xref="S3.E20.m1.1.1.3.2.3.3.3.cmml">u</mi></mrow><mrow id="S3.E20.m1.1.1.3.2.3.2.3" xref="S3.E20.m1.1.1.3.2.3.2.3.cmml"><mi id="S3.E20.m1.1.1.3.2.3.2.3.2" xref="S3.E20.m1.1.1.3.2.3.2.3.2.cmml">U</mi><mo id="S3.E20.m1.1.1.3.2.3.2.3.1" xref="S3.E20.m1.1.1.3.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E20.m1.1.1.3.2.3.2.3.3" xref="S3.E20.m1.1.1.3.2.3.2.3.3.cmml">P</mi></mrow></msubsup></mrow><mn id="S3.E20.m1.1.1.3.3" xref="S3.E20.m1.1.1.3.3.cmml">2</mn></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E20.m1.1b"><apply id="S3.E20.m1.1.1.cmml" xref="S3.E20.m1.1.1"><eq id="S3.E20.m1.1.1.1.cmml" xref="S3.E20.m1.1.1.1"></eq><apply id="S3.E20.m1.1.1.2.cmml" xref="S3.E20.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E20.m1.1.1.2.1.cmml" xref="S3.E20.m1.1.1.2">superscript</csymbol><ci id="S3.E20.m1.1.1.2.2.cmml" xref="S3.E20.m1.1.1.2.2">𝐿</ci><apply id="S3.E20.m1.1.1.2.3.cmml" xref="S3.E20.m1.1.1.2.3"><times id="S3.E20.m1.1.1.2.3.1.cmml" xref="S3.E20.m1.1.1.2.3.1"></times><ci id="S3.E20.m1.1.1.2.3.2.cmml" xref="S3.E20.m1.1.1.2.3.2">𝑈</ci><ci id="S3.E20.m1.1.1.2.3.3.cmml" xref="S3.E20.m1.1.1.2.3.3">𝑃</ci></apply></apply><apply id="S3.E20.m1.1.1.3.cmml" xref="S3.E20.m1.1.1.3"><divide id="S3.E20.m1.1.1.3.1.cmml" xref="S3.E20.m1.1.1.3"></divide><apply id="S3.E20.m1.1.1.3.2.cmml" xref="S3.E20.m1.1.1.3.2"><plus id="S3.E20.m1.1.1.3.2.1.cmml" xref="S3.E20.m1.1.1.3.2.1"></plus><apply id="S3.E20.m1.1.1.3.2.2.cmml" xref="S3.E20.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E20.m1.1.1.3.2.2.1.cmml" xref="S3.E20.m1.1.1.3.2.2">subscript</csymbol><apply id="S3.E20.m1.1.1.3.2.2.2.cmml" xref="S3.E20.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E20.m1.1.1.3.2.2.2.1.cmml" xref="S3.E20.m1.1.1.3.2.2">superscript</csymbol><ci id="S3.E20.m1.1.1.3.2.2.2.2.cmml" xref="S3.E20.m1.1.1.3.2.2.2.2">𝐿</ci><apply id="S3.E20.m1.1.1.3.2.2.2.3.cmml" xref="S3.E20.m1.1.1.3.2.2.2.3"><times id="S3.E20.m1.1.1.3.2.2.2.3.1.cmml" xref="S3.E20.m1.1.1.3.2.2.2.3.1"></times><ci id="S3.E20.m1.1.1.3.2.2.2.3.2.cmml" xref="S3.E20.m1.1.1.3.2.2.2.3.2">𝑈</ci><ci id="S3.E20.m1.1.1.3.2.2.2.3.3.cmml" xref="S3.E20.m1.1.1.3.2.2.2.3.3">𝑃</ci></apply></apply><apply id="S3.E20.m1.1.1.3.2.2.3.cmml" xref="S3.E20.m1.1.1.3.2.2.3"><times id="S3.E20.m1.1.1.3.2.2.3.1.cmml" xref="S3.E20.m1.1.1.3.2.2.3.1"></times><ci id="S3.E20.m1.1.1.3.2.2.3.2.cmml" xref="S3.E20.m1.1.1.3.2.2.3.2">𝑢</ci><ci id="S3.E20.m1.1.1.3.2.2.3.3.cmml" xref="S3.E20.m1.1.1.3.2.2.3.3">𝑝</ci></apply></apply><apply id="S3.E20.m1.1.1.3.2.3.cmml" xref="S3.E20.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E20.m1.1.1.3.2.3.1.cmml" xref="S3.E20.m1.1.1.3.2.3">subscript</csymbol><apply id="S3.E20.m1.1.1.3.2.3.2.cmml" xref="S3.E20.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E20.m1.1.1.3.2.3.2.1.cmml" xref="S3.E20.m1.1.1.3.2.3">superscript</csymbol><ci id="S3.E20.m1.1.1.3.2.3.2.2.cmml" xref="S3.E20.m1.1.1.3.2.3.2.2">𝐿</ci><apply id="S3.E20.m1.1.1.3.2.3.2.3.cmml" xref="S3.E20.m1.1.1.3.2.3.2.3"><times id="S3.E20.m1.1.1.3.2.3.2.3.1.cmml" xref="S3.E20.m1.1.1.3.2.3.2.3.1"></times><ci id="S3.E20.m1.1.1.3.2.3.2.3.2.cmml" xref="S3.E20.m1.1.1.3.2.3.2.3.2">𝑈</ci><ci id="S3.E20.m1.1.1.3.2.3.2.3.3.cmml" xref="S3.E20.m1.1.1.3.2.3.2.3.3">𝑃</ci></apply></apply><apply id="S3.E20.m1.1.1.3.2.3.3.cmml" xref="S3.E20.m1.1.1.3.2.3.3"><times id="S3.E20.m1.1.1.3.2.3.3.1.cmml" xref="S3.E20.m1.1.1.3.2.3.3.1"></times><ci id="S3.E20.m1.1.1.3.2.3.3.2.cmml" xref="S3.E20.m1.1.1.3.2.3.3.2">𝑝</ci><ci id="S3.E20.m1.1.1.3.2.3.3.3.cmml" xref="S3.E20.m1.1.1.3.2.3.3.3">𝑢</ci></apply></apply></apply><cn id="S3.E20.m1.1.1.3.3.cmml" type="integer" xref="S3.E20.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E20.m1.1c">L^{UP}=\frac{L^{UP}_{up}+L^{UP}_{pu}}{2}</annotation><annotation encoding="application/x-llamapun" id="S3.E20.m1.1d">italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT = divide start_ARG italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_p end_POSTSUBSCRIPT + italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p italic_u end_POSTSUBSCRIPT end_ARG start_ARG 2 end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p12">
<p class="ltx_p" id="S3.SS2.p12.1">Through the design of these three types of sample pairs, model can not only deeply understand the personalized characteristics of users’ but also the delivery information of POIs’ on user-user and POI-POI contrastive learning respectively. As <math alttext="U_{a}" class="ltx_Math" display="inline" id="S3.SS2.p12.1.m1.1"><semantics id="S3.SS2.p12.1.m1.1a"><msub id="S3.SS2.p12.1.m1.1.1" xref="S3.SS2.p12.1.m1.1.1.cmml"><mi id="S3.SS2.p12.1.m1.1.1.2" xref="S3.SS2.p12.1.m1.1.1.2.cmml">U</mi><mi id="S3.SS2.p12.1.m1.1.1.3" xref="S3.SS2.p12.1.m1.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p12.1.m1.1b"><apply id="S3.SS2.p12.1.m1.1.1.cmml" xref="S3.SS2.p12.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p12.1.m1.1.1.1.cmml" xref="S3.SS2.p12.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p12.1.m1.1.1.2.cmml" xref="S3.SS2.p12.1.m1.1.1.2">𝑈</ci><ci id="S3.SS2.p12.1.m1.1.1.3.cmml" xref="S3.SS2.p12.1.m1.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p12.1.m1.1c">U_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p12.1.m1.1d">italic_U start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> records each delivery order and corresponding environment, LLM could precisely align user demands with POI offerings in complex and ever-changing environments.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E21">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(21)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{2}=\lambda_{1}*L^{UU}+\lambda_{2}*L^{PP}+\lambda_{3}*L^{UP}" class="ltx_Math" display="block" id="S3.E21.m1.1"><semantics id="S3.E21.m1.1a"><mrow id="S3.E21.m1.1.1" xref="S3.E21.m1.1.1.cmml"><msub id="S3.E21.m1.1.1.2" xref="S3.E21.m1.1.1.2.cmml"><mi id="S3.E21.m1.1.1.2.2" xref="S3.E21.m1.1.1.2.2.cmml">L</mi><mn id="S3.E21.m1.1.1.2.3" xref="S3.E21.m1.1.1.2.3.cmml">2</mn></msub><mo id="S3.E21.m1.1.1.1" xref="S3.E21.m1.1.1.1.cmml">=</mo><mrow id="S3.E21.m1.1.1.3" xref="S3.E21.m1.1.1.3.cmml"><mrow id="S3.E21.m1.1.1.3.2" xref="S3.E21.m1.1.1.3.2.cmml"><msub id="S3.E21.m1.1.1.3.2.2" xref="S3.E21.m1.1.1.3.2.2.cmml"><mi id="S3.E21.m1.1.1.3.2.2.2" xref="S3.E21.m1.1.1.3.2.2.2.cmml">λ</mi><mn id="S3.E21.m1.1.1.3.2.2.3" xref="S3.E21.m1.1.1.3.2.2.3.cmml">1</mn></msub><mo id="S3.E21.m1.1.1.3.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E21.m1.1.1.3.2.1.cmml">∗</mo><msup id="S3.E21.m1.1.1.3.2.3" xref="S3.E21.m1.1.1.3.2.3.cmml"><mi id="S3.E21.m1.1.1.3.2.3.2" xref="S3.E21.m1.1.1.3.2.3.2.cmml">L</mi><mrow id="S3.E21.m1.1.1.3.2.3.3" xref="S3.E21.m1.1.1.3.2.3.3.cmml"><mi id="S3.E21.m1.1.1.3.2.3.3.2" xref="S3.E21.m1.1.1.3.2.3.3.2.cmml">U</mi><mo id="S3.E21.m1.1.1.3.2.3.3.1" xref="S3.E21.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E21.m1.1.1.3.2.3.3.3" xref="S3.E21.m1.1.1.3.2.3.3.3.cmml">U</mi></mrow></msup></mrow><mo id="S3.E21.m1.1.1.3.1" xref="S3.E21.m1.1.1.3.1.cmml">+</mo><mrow id="S3.E21.m1.1.1.3.3" xref="S3.E21.m1.1.1.3.3.cmml"><msub id="S3.E21.m1.1.1.3.3.2" xref="S3.E21.m1.1.1.3.3.2.cmml"><mi id="S3.E21.m1.1.1.3.3.2.2" xref="S3.E21.m1.1.1.3.3.2.2.cmml">λ</mi><mn id="S3.E21.m1.1.1.3.3.2.3" xref="S3.E21.m1.1.1.3.3.2.3.cmml">2</mn></msub><mo id="S3.E21.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E21.m1.1.1.3.3.1.cmml">∗</mo><msup id="S3.E21.m1.1.1.3.3.3" xref="S3.E21.m1.1.1.3.3.3.cmml"><mi id="S3.E21.m1.1.1.3.3.3.2" xref="S3.E21.m1.1.1.3.3.3.2.cmml">L</mi><mrow id="S3.E21.m1.1.1.3.3.3.3" xref="S3.E21.m1.1.1.3.3.3.3.cmml"><mi id="S3.E21.m1.1.1.3.3.3.3.2" xref="S3.E21.m1.1.1.3.3.3.3.2.cmml">P</mi><mo id="S3.E21.m1.1.1.3.3.3.3.1" xref="S3.E21.m1.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S3.E21.m1.1.1.3.3.3.3.3" xref="S3.E21.m1.1.1.3.3.3.3.3.cmml">P</mi></mrow></msup></mrow><mo id="S3.E21.m1.1.1.3.1a" xref="S3.E21.m1.1.1.3.1.cmml">+</mo><mrow id="S3.E21.m1.1.1.3.4" xref="S3.E21.m1.1.1.3.4.cmml"><msub id="S3.E21.m1.1.1.3.4.2" xref="S3.E21.m1.1.1.3.4.2.cmml"><mi id="S3.E21.m1.1.1.3.4.2.2" xref="S3.E21.m1.1.1.3.4.2.2.cmml">λ</mi><mn id="S3.E21.m1.1.1.3.4.2.3" xref="S3.E21.m1.1.1.3.4.2.3.cmml">3</mn></msub><mo id="S3.E21.m1.1.1.3.4.1" lspace="0.222em" rspace="0.222em" xref="S3.E21.m1.1.1.3.4.1.cmml">∗</mo><msup id="S3.E21.m1.1.1.3.4.3" xref="S3.E21.m1.1.1.3.4.3.cmml"><mi id="S3.E21.m1.1.1.3.4.3.2" xref="S3.E21.m1.1.1.3.4.3.2.cmml">L</mi><mrow id="S3.E21.m1.1.1.3.4.3.3" xref="S3.E21.m1.1.1.3.4.3.3.cmml"><mi id="S3.E21.m1.1.1.3.4.3.3.2" xref="S3.E21.m1.1.1.3.4.3.3.2.cmml">U</mi><mo id="S3.E21.m1.1.1.3.4.3.3.1" xref="S3.E21.m1.1.1.3.4.3.3.1.cmml">⁢</mo><mi id="S3.E21.m1.1.1.3.4.3.3.3" xref="S3.E21.m1.1.1.3.4.3.3.3.cmml">P</mi></mrow></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E21.m1.1b"><apply id="S3.E21.m1.1.1.cmml" xref="S3.E21.m1.1.1"><eq id="S3.E21.m1.1.1.1.cmml" xref="S3.E21.m1.1.1.1"></eq><apply id="S3.E21.m1.1.1.2.cmml" xref="S3.E21.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.2.1.cmml" xref="S3.E21.m1.1.1.2">subscript</csymbol><ci id="S3.E21.m1.1.1.2.2.cmml" xref="S3.E21.m1.1.1.2.2">𝐿</ci><cn id="S3.E21.m1.1.1.2.3.cmml" type="integer" xref="S3.E21.m1.1.1.2.3">2</cn></apply><apply id="S3.E21.m1.1.1.3.cmml" xref="S3.E21.m1.1.1.3"><plus id="S3.E21.m1.1.1.3.1.cmml" xref="S3.E21.m1.1.1.3.1"></plus><apply id="S3.E21.m1.1.1.3.2.cmml" xref="S3.E21.m1.1.1.3.2"><times id="S3.E21.m1.1.1.3.2.1.cmml" xref="S3.E21.m1.1.1.3.2.1"></times><apply id="S3.E21.m1.1.1.3.2.2.cmml" xref="S3.E21.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.2.2.1.cmml" xref="S3.E21.m1.1.1.3.2.2">subscript</csymbol><ci id="S3.E21.m1.1.1.3.2.2.2.cmml" xref="S3.E21.m1.1.1.3.2.2.2">𝜆</ci><cn id="S3.E21.m1.1.1.3.2.2.3.cmml" type="integer" xref="S3.E21.m1.1.1.3.2.2.3">1</cn></apply><apply id="S3.E21.m1.1.1.3.2.3.cmml" xref="S3.E21.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.2.3.1.cmml" xref="S3.E21.m1.1.1.3.2.3">superscript</csymbol><ci id="S3.E21.m1.1.1.3.2.3.2.cmml" xref="S3.E21.m1.1.1.3.2.3.2">𝐿</ci><apply id="S3.E21.m1.1.1.3.2.3.3.cmml" xref="S3.E21.m1.1.1.3.2.3.3"><times id="S3.E21.m1.1.1.3.2.3.3.1.cmml" xref="S3.E21.m1.1.1.3.2.3.3.1"></times><ci id="S3.E21.m1.1.1.3.2.3.3.2.cmml" xref="S3.E21.m1.1.1.3.2.3.3.2">𝑈</ci><ci id="S3.E21.m1.1.1.3.2.3.3.3.cmml" xref="S3.E21.m1.1.1.3.2.3.3.3">𝑈</ci></apply></apply></apply><apply id="S3.E21.m1.1.1.3.3.cmml" xref="S3.E21.m1.1.1.3.3"><times id="S3.E21.m1.1.1.3.3.1.cmml" xref="S3.E21.m1.1.1.3.3.1"></times><apply id="S3.E21.m1.1.1.3.3.2.cmml" xref="S3.E21.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.3.2.1.cmml" xref="S3.E21.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.E21.m1.1.1.3.3.2.2.cmml" xref="S3.E21.m1.1.1.3.3.2.2">𝜆</ci><cn id="S3.E21.m1.1.1.3.3.2.3.cmml" type="integer" xref="S3.E21.m1.1.1.3.3.2.3">2</cn></apply><apply id="S3.E21.m1.1.1.3.3.3.cmml" xref="S3.E21.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.3.3.1.cmml" xref="S3.E21.m1.1.1.3.3.3">superscript</csymbol><ci id="S3.E21.m1.1.1.3.3.3.2.cmml" xref="S3.E21.m1.1.1.3.3.3.2">𝐿</ci><apply id="S3.E21.m1.1.1.3.3.3.3.cmml" xref="S3.E21.m1.1.1.3.3.3.3"><times id="S3.E21.m1.1.1.3.3.3.3.1.cmml" xref="S3.E21.m1.1.1.3.3.3.3.1"></times><ci id="S3.E21.m1.1.1.3.3.3.3.2.cmml" xref="S3.E21.m1.1.1.3.3.3.3.2">𝑃</ci><ci id="S3.E21.m1.1.1.3.3.3.3.3.cmml" xref="S3.E21.m1.1.1.3.3.3.3.3">𝑃</ci></apply></apply></apply><apply id="S3.E21.m1.1.1.3.4.cmml" xref="S3.E21.m1.1.1.3.4"><times id="S3.E21.m1.1.1.3.4.1.cmml" xref="S3.E21.m1.1.1.3.4.1"></times><apply id="S3.E21.m1.1.1.3.4.2.cmml" xref="S3.E21.m1.1.1.3.4.2"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.4.2.1.cmml" xref="S3.E21.m1.1.1.3.4.2">subscript</csymbol><ci id="S3.E21.m1.1.1.3.4.2.2.cmml" xref="S3.E21.m1.1.1.3.4.2.2">𝜆</ci><cn id="S3.E21.m1.1.1.3.4.2.3.cmml" type="integer" xref="S3.E21.m1.1.1.3.4.2.3">3</cn></apply><apply id="S3.E21.m1.1.1.3.4.3.cmml" xref="S3.E21.m1.1.1.3.4.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.3.4.3.1.cmml" xref="S3.E21.m1.1.1.3.4.3">superscript</csymbol><ci id="S3.E21.m1.1.1.3.4.3.2.cmml" xref="S3.E21.m1.1.1.3.4.3.2">𝐿</ci><apply id="S3.E21.m1.1.1.3.4.3.3.cmml" xref="S3.E21.m1.1.1.3.4.3.3"><times id="S3.E21.m1.1.1.3.4.3.3.1.cmml" xref="S3.E21.m1.1.1.3.4.3.3.1"></times><ci id="S3.E21.m1.1.1.3.4.3.3.2.cmml" xref="S3.E21.m1.1.1.3.4.3.3.2">𝑈</ci><ci id="S3.E21.m1.1.1.3.4.3.3.3.cmml" xref="S3.E21.m1.1.1.3.4.3.3.3">𝑃</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E21.m1.1c">L_{2}=\lambda_{1}*L^{UU}+\lambda_{2}*L^{PP}+\lambda_{3}*L^{UP}</annotation><annotation encoding="application/x-llamapun" id="S3.E21.m1.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_λ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∗ italic_L start_POSTSUPERSCRIPT italic_U italic_U end_POSTSUPERSCRIPT + italic_λ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∗ italic_L start_POSTSUPERSCRIPT italic_P italic_P end_POSTSUPERSCRIPT + italic_λ start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT ∗ italic_L start_POSTSUPERSCRIPT italic_U italic_P end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p12.2"><math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p12.2.m1.1"><semantics id="S3.SS2.p12.2.m1.1a"><mi id="S3.SS2.p12.2.m1.1.1" xref="S3.SS2.p12.2.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p12.2.m1.1b"><ci id="S3.SS2.p12.2.m1.1.1.cmml" xref="S3.SS2.p12.2.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p12.2.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p12.2.m1.1d">italic_λ</annotation></semantics></math> here is for scaling the separate loss.</p>
</div>
<div class="ltx_para" id="S3.SS2.p13">
<p class="ltx_p" id="S3.SS2.p13.1">In inference, features that have appeared for users and POIs are sequentially fed into the LLM to infer and produce the corresponding description vectors from the feature level. The reason for not producing LLM vectors at the text level (aggregation of features) is due to the consideration that some features may change during the serving stage, such as weather, time slots, statistical features, etc. The cost of exhaustively generating all possible feature combination texts is exponential. Additionally, the user’s long interaction sequence is also used to produce interaction sequence vectors.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Information Alignment in RS</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">In this section, contrastive learning is applied to alignment, maximizing the mutual information between the semantic information of the food delivery scene understood by LLM and the collaborative signals extracted from ID tokens, cross features, and statistical features by the RS model. The alignment not only extracts the shared information between semantic and collaborative signals but also reduces the noise from both, significantly enhancing the performance of the recommendation.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.3">Specifically, our RS utilizes real-time scene embedding produced by the LLM after continual pretraining in stage 1 and fine-tuning in stage 2. Throughout this process, all parameters of the LLM are frozen, meaning the LLM acts like an encoder, converting a scene description into continuous vector representations to aid the training of the recommendation model. Since we want the model to be industry-friendly, the LLM should avoid participating in real-time inference as much as possible. We select <math alttext="r" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_r</annotation></semantics></math> real-time scene text features and decide to deal with scene text <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">s</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝑠</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> one by one, storing them in advance for the recommendation model to utilize, where <math alttext="0\leq i\leq r" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><mrow id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mn id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">0</mn><mo id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">≤</mo><mi id="S3.SS3.p2.3.m3.1.1.4" xref="S3.SS3.p2.3.m3.1.1.4.cmml">i</mi><mo id="S3.SS3.p2.3.m3.1.1.5" xref="S3.SS3.p2.3.m3.1.1.5.cmml">≤</mo><mi id="S3.SS3.p2.3.m3.1.1.6" xref="S3.SS3.p2.3.m3.1.1.6.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><and id="S3.SS3.p2.3.m3.1.1a.cmml" xref="S3.SS3.p2.3.m3.1.1"></and><apply id="S3.SS3.p2.3.m3.1.1b.cmml" xref="S3.SS3.p2.3.m3.1.1"><leq id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3"></leq><cn id="S3.SS3.p2.3.m3.1.1.2.cmml" type="integer" xref="S3.SS3.p2.3.m3.1.1.2">0</cn><ci id="S3.SS3.p2.3.m3.1.1.4.cmml" xref="S3.SS3.p2.3.m3.1.1.4">𝑖</ci></apply><apply id="S3.SS3.p2.3.m3.1.1c.cmml" xref="S3.SS3.p2.3.m3.1.1"><leq id="S3.SS3.p2.3.m3.1.1.5.cmml" xref="S3.SS3.p2.3.m3.1.1.5"></leq><share href="https://arxiv.org/html/2408.11523v1#S3.SS3.p2.3.m3.1.1.4.cmml" id="S3.SS3.p2.3.m3.1.1d.cmml" xref="S3.SS3.p2.3.m3.1.1"></share><ci id="S3.SS3.p2.3.m3.1.1.6.cmml" xref="S3.SS3.p2.3.m3.1.1.6">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">0\leq i\leq r</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">0 ≤ italic_i ≤ italic_r</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E22">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(22)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{h}_{i}=LLM_{\theta}(s_{i})_{sp^{eos}_{i}}" class="ltx_Math" display="block" id="S3.E22.m1.1"><semantics id="S3.E22.m1.1a"><mrow id="S3.E22.m1.1.1" xref="S3.E22.m1.1.1.cmml"><msub id="S3.E22.m1.1.1.3" xref="S3.E22.m1.1.1.3.cmml"><mi id="S3.E22.m1.1.1.3.2" xref="S3.E22.m1.1.1.3.2.cmml">𝐡</mi><mi id="S3.E22.m1.1.1.3.3" xref="S3.E22.m1.1.1.3.3.cmml">i</mi></msub><mo id="S3.E22.m1.1.1.2" xref="S3.E22.m1.1.1.2.cmml">=</mo><mrow id="S3.E22.m1.1.1.1" xref="S3.E22.m1.1.1.1.cmml"><mi id="S3.E22.m1.1.1.1.3" xref="S3.E22.m1.1.1.1.3.cmml">L</mi><mo id="S3.E22.m1.1.1.1.2" xref="S3.E22.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E22.m1.1.1.1.4" xref="S3.E22.m1.1.1.1.4.cmml">L</mi><mo id="S3.E22.m1.1.1.1.2a" xref="S3.E22.m1.1.1.1.2.cmml">⁢</mo><msub id="S3.E22.m1.1.1.1.5" xref="S3.E22.m1.1.1.1.5.cmml"><mi id="S3.E22.m1.1.1.1.5.2" xref="S3.E22.m1.1.1.1.5.2.cmml">M</mi><mi id="S3.E22.m1.1.1.1.5.3" xref="S3.E22.m1.1.1.1.5.3.cmml">θ</mi></msub><mo id="S3.E22.m1.1.1.1.2b" xref="S3.E22.m1.1.1.1.2.cmml">⁢</mo><msub id="S3.E22.m1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.cmml"><mrow id="S3.E22.m1.1.1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E22.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E22.m1.1.1.1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E22.m1.1.1.1.1.1.1.1.2" xref="S3.E22.m1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.E22.m1.1.1.1.1.1.1.1.3" xref="S3.E22.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E22.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.E22.m1.1.1.1.1.3" xref="S3.E22.m1.1.1.1.1.3.cmml"><mi id="S3.E22.m1.1.1.1.1.3.2" xref="S3.E22.m1.1.1.1.1.3.2.cmml">s</mi><mo id="S3.E22.m1.1.1.1.1.3.1" xref="S3.E22.m1.1.1.1.1.3.1.cmml">⁢</mo><msubsup id="S3.E22.m1.1.1.1.1.3.3" xref="S3.E22.m1.1.1.1.1.3.3.cmml"><mi id="S3.E22.m1.1.1.1.1.3.3.2.2" xref="S3.E22.m1.1.1.1.1.3.3.2.2.cmml">p</mi><mi id="S3.E22.m1.1.1.1.1.3.3.3" xref="S3.E22.m1.1.1.1.1.3.3.3.cmml">i</mi><mrow id="S3.E22.m1.1.1.1.1.3.3.2.3" xref="S3.E22.m1.1.1.1.1.3.3.2.3.cmml"><mi id="S3.E22.m1.1.1.1.1.3.3.2.3.2" xref="S3.E22.m1.1.1.1.1.3.3.2.3.2.cmml">e</mi><mo id="S3.E22.m1.1.1.1.1.3.3.2.3.1" xref="S3.E22.m1.1.1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E22.m1.1.1.1.1.3.3.2.3.3" xref="S3.E22.m1.1.1.1.1.3.3.2.3.3.cmml">o</mi><mo id="S3.E22.m1.1.1.1.1.3.3.2.3.1a" xref="S3.E22.m1.1.1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S3.E22.m1.1.1.1.1.3.3.2.3.4" xref="S3.E22.m1.1.1.1.1.3.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E22.m1.1b"><apply id="S3.E22.m1.1.1.cmml" xref="S3.E22.m1.1.1"><eq id="S3.E22.m1.1.1.2.cmml" xref="S3.E22.m1.1.1.2"></eq><apply id="S3.E22.m1.1.1.3.cmml" xref="S3.E22.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.3.1.cmml" xref="S3.E22.m1.1.1.3">subscript</csymbol><ci id="S3.E22.m1.1.1.3.2.cmml" xref="S3.E22.m1.1.1.3.2">𝐡</ci><ci id="S3.E22.m1.1.1.3.3.cmml" xref="S3.E22.m1.1.1.3.3">𝑖</ci></apply><apply id="S3.E22.m1.1.1.1.cmml" xref="S3.E22.m1.1.1.1"><times id="S3.E22.m1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.2"></times><ci id="S3.E22.m1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.3">𝐿</ci><ci id="S3.E22.m1.1.1.1.4.cmml" xref="S3.E22.m1.1.1.1.4">𝐿</ci><apply id="S3.E22.m1.1.1.1.5.cmml" xref="S3.E22.m1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.5.1.cmml" xref="S3.E22.m1.1.1.1.5">subscript</csymbol><ci id="S3.E22.m1.1.1.1.5.2.cmml" xref="S3.E22.m1.1.1.1.5.2">𝑀</ci><ci id="S3.E22.m1.1.1.1.5.3.cmml" xref="S3.E22.m1.1.1.1.5.3">𝜃</ci></apply><apply id="S3.E22.m1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.1">subscript</csymbol><apply id="S3.E22.m1.1.1.1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E22.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E22.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E22.m1.1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.1.3"><times id="S3.E22.m1.1.1.1.1.3.1.cmml" xref="S3.E22.m1.1.1.1.1.3.1"></times><ci id="S3.E22.m1.1.1.1.1.3.2.cmml" xref="S3.E22.m1.1.1.1.1.3.2">𝑠</ci><apply id="S3.E22.m1.1.1.1.1.3.3.cmml" xref="S3.E22.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.3.3.1.cmml" xref="S3.E22.m1.1.1.1.1.3.3">subscript</csymbol><apply id="S3.E22.m1.1.1.1.1.3.3.2.cmml" xref="S3.E22.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E22.m1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.E22.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.2">𝑝</ci><apply id="S3.E22.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.3"><times id="S3.E22.m1.1.1.1.1.3.3.2.3.1.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.3.1"></times><ci id="S3.E22.m1.1.1.1.1.3.3.2.3.2.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.3.2">𝑒</ci><ci id="S3.E22.m1.1.1.1.1.3.3.2.3.3.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.3.3">𝑜</ci><ci id="S3.E22.m1.1.1.1.1.3.3.2.3.4.cmml" xref="S3.E22.m1.1.1.1.1.3.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.E22.m1.1.1.1.1.3.3.3.cmml" xref="S3.E22.m1.1.1.1.1.3.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E22.m1.1c">\mathbf{h}_{i}=LLM_{\theta}(s_{i})_{sp^{eos}_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.E22.m1.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_L italic_L italic_M start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p2.5">Here <math alttext="sp^{eos}_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m1.1"><semantics id="S3.SS3.p2.4.m1.1a"><mrow id="S3.SS3.p2.4.m1.1.1" xref="S3.SS3.p2.4.m1.1.1.cmml"><mi id="S3.SS3.p2.4.m1.1.1.2" xref="S3.SS3.p2.4.m1.1.1.2.cmml">s</mi><mo id="S3.SS3.p2.4.m1.1.1.1" xref="S3.SS3.p2.4.m1.1.1.1.cmml">⁢</mo><msubsup id="S3.SS3.p2.4.m1.1.1.3" xref="S3.SS3.p2.4.m1.1.1.3.cmml"><mi id="S3.SS3.p2.4.m1.1.1.3.2.2" xref="S3.SS3.p2.4.m1.1.1.3.2.2.cmml">p</mi><mi id="S3.SS3.p2.4.m1.1.1.3.3" xref="S3.SS3.p2.4.m1.1.1.3.3.cmml">i</mi><mrow id="S3.SS3.p2.4.m1.1.1.3.2.3" xref="S3.SS3.p2.4.m1.1.1.3.2.3.cmml"><mi id="S3.SS3.p2.4.m1.1.1.3.2.3.2" xref="S3.SS3.p2.4.m1.1.1.3.2.3.2.cmml">e</mi><mo id="S3.SS3.p2.4.m1.1.1.3.2.3.1" xref="S3.SS3.p2.4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.4.m1.1.1.3.2.3.3" xref="S3.SS3.p2.4.m1.1.1.3.2.3.3.cmml">o</mi><mo id="S3.SS3.p2.4.m1.1.1.3.2.3.1a" xref="S3.SS3.p2.4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.4.m1.1.1.3.2.3.4" xref="S3.SS3.p2.4.m1.1.1.3.2.3.4.cmml">s</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m1.1b"><apply id="S3.SS3.p2.4.m1.1.1.cmml" xref="S3.SS3.p2.4.m1.1.1"><times id="S3.SS3.p2.4.m1.1.1.1.cmml" xref="S3.SS3.p2.4.m1.1.1.1"></times><ci id="S3.SS3.p2.4.m1.1.1.2.cmml" xref="S3.SS3.p2.4.m1.1.1.2">𝑠</ci><apply id="S3.SS3.p2.4.m1.1.1.3.cmml" xref="S3.SS3.p2.4.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m1.1.1.3.1.cmml" xref="S3.SS3.p2.4.m1.1.1.3">subscript</csymbol><apply id="S3.SS3.p2.4.m1.1.1.3.2.cmml" xref="S3.SS3.p2.4.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m1.1.1.3.2.1.cmml" xref="S3.SS3.p2.4.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.p2.4.m1.1.1.3.2.2.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.2">𝑝</ci><apply id="S3.SS3.p2.4.m1.1.1.3.2.3.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.3"><times id="S3.SS3.p2.4.m1.1.1.3.2.3.1.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.3.1"></times><ci id="S3.SS3.p2.4.m1.1.1.3.2.3.2.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.3.2">𝑒</ci><ci id="S3.SS3.p2.4.m1.1.1.3.2.3.3.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.3.3">𝑜</ci><ci id="S3.SS3.p2.4.m1.1.1.3.2.3.4.cmml" xref="S3.SS3.p2.4.m1.1.1.3.2.3.4">𝑠</ci></apply></apply><ci id="S3.SS3.p2.4.m1.1.1.3.3.cmml" xref="S3.SS3.p2.4.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m1.1c">sp^{eos}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m1.1d">italic_s italic_p start_POSTSUPERSCRIPT italic_e italic_o italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the position of corresponding key real-time scene feature’s end special token. We use the embedding of end special token in last hidden layer to represent real-time scene text. In reality, we selected 10 real-time scene text, that is, <math alttext="r" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m2.1"><semantics id="S3.SS3.p2.5.m2.1a"><mi id="S3.SS3.p2.5.m2.1.1" xref="S3.SS3.p2.5.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m2.1b"><ci id="S3.SS3.p2.5.m2.1.1.cmml" xref="S3.SS3.p2.5.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m2.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m2.1d">italic_r</annotation></semantics></math> is set to 10.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.2">We employ a bidirectional transformer encoder <math alttext="\xi" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><mi id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">ξ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">𝜉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">\xi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">italic_ξ</annotation></semantics></math> to tackle the problems that discrete real-time embeddings lack interaction. Since the LLM’s outputs have already implicitly encoded the semantic associations between different scene features, so interactions provided by <math alttext="\xi" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mi id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">ξ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">𝜉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">\xi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_ξ</annotation></semantics></math> is necessary.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.5">These semantic embeddings produced by LLM are stacked into a sequence and fed into <math alttext="\xi" class="ltx_Math" display="inline" id="S3.SS3.p4.1.m1.1"><semantics id="S3.SS3.p4.1.m1.1a"><mi id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml">ξ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><ci id="S3.SS3.p4.1.m1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1">𝜉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">\xi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.1.m1.1d">italic_ξ</annotation></semantics></math> for further aggregation and processing. To more effectively aggregate scene information, we introduced a trick at the beginning of the input sequence, a trainable aggregation token <math alttext="&lt;agg&gt;" class="ltx_Math" display="inline" id="S3.SS3.p4.2.m2.1"><semantics id="S3.SS3.p4.2.m2.1a"><mrow id="S3.SS3.p4.2.m2.1.1.1" xref="S3.SS3.p4.2.m2.1.1.2.cmml"><mo fence="true" id="S3.SS3.p4.2.m2.1.1.1.2" rspace="0em" xref="S3.SS3.p4.2.m2.1.1.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p4.2.m2.1.1.1.1" xref="S3.SS3.p4.2.m2.1.1.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.1.1.2" xref="S3.SS3.p4.2.m2.1.1.1.1.2.cmml">a</mi><mo id="S3.SS3.p4.2.m2.1.1.1.1.1" xref="S3.SS3.p4.2.m2.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.p4.2.m2.1.1.1.1.3" xref="S3.SS3.p4.2.m2.1.1.1.1.3.cmml">g</mi><mo id="S3.SS3.p4.2.m2.1.1.1.1.1a" xref="S3.SS3.p4.2.m2.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.p4.2.m2.1.1.1.1.4" xref="S3.SS3.p4.2.m2.1.1.1.1.4.cmml">g</mi></mrow><mo fence="true" id="S3.SS3.p4.2.m2.1.1.1.3" lspace="0em" xref="S3.SS3.p4.2.m2.1.1.2.1.cmml">&gt;</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.1"><csymbol cd="latexml" id="S3.SS3.p4.2.m2.1.1.2.1.cmml" xref="S3.SS3.p4.2.m2.1.1.1.2">expectation</csymbol><apply id="S3.SS3.p4.2.m2.1.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1.1.1"><times id="S3.SS3.p4.2.m2.1.1.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1.1.1.1"></times><ci id="S3.SS3.p4.2.m2.1.1.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.1.1.2">𝑎</ci><ci id="S3.SS3.p4.2.m2.1.1.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.1.1.3">𝑔</ci><ci id="S3.SS3.p4.2.m2.1.1.1.1.4.cmml" xref="S3.SS3.p4.2.m2.1.1.1.1.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">&lt;agg&gt;</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.2.m2.1d">&lt; italic_a italic_g italic_g &gt;</annotation></semantics></math>, corresponding to a vector <math alttext="\mathbf{agg}" class="ltx_Math" display="inline" id="S3.SS3.p4.3.m3.1"><semantics id="S3.SS3.p4.3.m3.1a"><mi id="S3.SS3.p4.3.m3.1.1" xref="S3.SS3.p4.3.m3.1.1.cmml">𝐚𝐠𝐠</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m3.1b"><ci id="S3.SS3.p4.3.m3.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1">𝐚𝐠𝐠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.1c">\mathbf{agg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.3.m3.1d">bold_agg</annotation></semantics></math> that has the same dimension with real-time scene embedding. This special token plays a crucial role in aggregating all scene keyword and is trained within the transformer encoder to capture and integrate key information from different scene embedding. After processing of transformer encoder <math alttext="\xi" class="ltx_Math" display="inline" id="S3.SS3.p4.4.m4.1"><semantics id="S3.SS3.p4.4.m4.1a"><mi id="S3.SS3.p4.4.m4.1.1" xref="S3.SS3.p4.4.m4.1.1.cmml">ξ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m4.1b"><ci id="S3.SS3.p4.4.m4.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1">𝜉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m4.1c">\xi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.4.m4.1d">italic_ξ</annotation></semantics></math>, pooling method and a projection head (a normal MLP) is applied to the output embedding sequence, the result is denoted as <math alttext="\mathbf{e}_{s}" class="ltx_Math" display="inline" id="S3.SS3.p4.5.m5.1"><semantics id="S3.SS3.p4.5.m5.1a"><msub id="S3.SS3.p4.5.m5.1.1" xref="S3.SS3.p4.5.m5.1.1.cmml"><mi id="S3.SS3.p4.5.m5.1.1.2" xref="S3.SS3.p4.5.m5.1.1.2.cmml">𝐞</mi><mi id="S3.SS3.p4.5.m5.1.1.3" xref="S3.SS3.p4.5.m5.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.5.m5.1b"><apply id="S3.SS3.p4.5.m5.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.5.m5.1.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p4.5.m5.1.1.2.cmml" xref="S3.SS3.p4.5.m5.1.1.2">𝐞</ci><ci id="S3.SS3.p4.5.m5.1.1.3.cmml" xref="S3.SS3.p4.5.m5.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.5.m5.1c">\mathbf{e}_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.5.m5.1d">bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, the real-time scene embedding with scene semantic information.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E23">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(23)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{e}_{s}=MLP(pooling(\xi([\mathbf{agg},\mathbf{h}_{0},\mathbf{h}_{1}...%
\mathbf{h}_{r}])))" class="ltx_Math" display="block" id="S3.E23.m1.2"><semantics id="S3.E23.m1.2a"><mrow id="S3.E23.m1.2.2" xref="S3.E23.m1.2.2.cmml"><msub id="S3.E23.m1.2.2.3" xref="S3.E23.m1.2.2.3.cmml"><mi id="S3.E23.m1.2.2.3.2" xref="S3.E23.m1.2.2.3.2.cmml">𝐞</mi><mi id="S3.E23.m1.2.2.3.3" xref="S3.E23.m1.2.2.3.3.cmml">s</mi></msub><mo id="S3.E23.m1.2.2.2" xref="S3.E23.m1.2.2.2.cmml">=</mo><mrow id="S3.E23.m1.2.2.1" xref="S3.E23.m1.2.2.1.cmml"><mi id="S3.E23.m1.2.2.1.3" xref="S3.E23.m1.2.2.1.3.cmml">M</mi><mo id="S3.E23.m1.2.2.1.2" xref="S3.E23.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.4" xref="S3.E23.m1.2.2.1.4.cmml">L</mi><mo id="S3.E23.m1.2.2.1.2a" xref="S3.E23.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.5" xref="S3.E23.m1.2.2.1.5.cmml">P</mi><mo id="S3.E23.m1.2.2.1.2b" xref="S3.E23.m1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E23.m1.2.2.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.cmml"><mo id="S3.E23.m1.2.2.1.1.1.2" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E23.m1.2.2.1.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.cmml"><mi id="S3.E23.m1.2.2.1.1.1.1.3" xref="S3.E23.m1.2.2.1.1.1.1.3.cmml">p</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.4" xref="S3.E23.m1.2.2.1.1.1.1.4.cmml">o</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2a" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.5" xref="S3.E23.m1.2.2.1.1.1.1.5.cmml">o</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2b" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.6" xref="S3.E23.m1.2.2.1.1.1.1.6.cmml">l</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2c" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.7" xref="S3.E23.m1.2.2.1.1.1.1.7.cmml">i</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2d" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.8" xref="S3.E23.m1.2.2.1.1.1.1.8.cmml">n</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2e" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.9" xref="S3.E23.m1.2.2.1.1.1.1.9.cmml">g</mi><mo id="S3.E23.m1.2.2.1.1.1.1.2f" xref="S3.E23.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E23.m1.2.2.1.1.1.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E23.m1.2.2.1.1.1.1.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.3.cmml">ξ</mi><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml"><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">[</mo><mi id="S3.E23.m1.1.1" xref="S3.E23.m1.1.1.cmml">𝐚𝐠𝐠</mi><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.4" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐡</mi><mn id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.5" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">,</mo><mrow id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><msub id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">𝐡</mi><mn id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">⁢</mo><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.3" mathvariant="normal" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">…</mi><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1a" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">⁢</mo><msub id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.cmml"><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.2" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.2.cmml">𝐡</mi><mi id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.3" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.3.cmml">r</mi></msub></mrow><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.6" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E23.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E23.m1.2.2.1.1.1.3" stretchy="false" xref="S3.E23.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E23.m1.2b"><apply id="S3.E23.m1.2.2.cmml" xref="S3.E23.m1.2.2"><eq id="S3.E23.m1.2.2.2.cmml" xref="S3.E23.m1.2.2.2"></eq><apply id="S3.E23.m1.2.2.3.cmml" xref="S3.E23.m1.2.2.3"><csymbol cd="ambiguous" id="S3.E23.m1.2.2.3.1.cmml" xref="S3.E23.m1.2.2.3">subscript</csymbol><ci id="S3.E23.m1.2.2.3.2.cmml" xref="S3.E23.m1.2.2.3.2">𝐞</ci><ci id="S3.E23.m1.2.2.3.3.cmml" xref="S3.E23.m1.2.2.3.3">𝑠</ci></apply><apply id="S3.E23.m1.2.2.1.cmml" xref="S3.E23.m1.2.2.1"><times id="S3.E23.m1.2.2.1.2.cmml" xref="S3.E23.m1.2.2.1.2"></times><ci id="S3.E23.m1.2.2.1.3.cmml" xref="S3.E23.m1.2.2.1.3">𝑀</ci><ci id="S3.E23.m1.2.2.1.4.cmml" xref="S3.E23.m1.2.2.1.4">𝐿</ci><ci id="S3.E23.m1.2.2.1.5.cmml" xref="S3.E23.m1.2.2.1.5">𝑃</ci><apply id="S3.E23.m1.2.2.1.1.1.1.cmml" xref="S3.E23.m1.2.2.1.1.1"><times id="S3.E23.m1.2.2.1.1.1.1.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.2"></times><ci id="S3.E23.m1.2.2.1.1.1.1.3.cmml" xref="S3.E23.m1.2.2.1.1.1.1.3">𝑝</ci><ci id="S3.E23.m1.2.2.1.1.1.1.4.cmml" xref="S3.E23.m1.2.2.1.1.1.1.4">𝑜</ci><ci id="S3.E23.m1.2.2.1.1.1.1.5.cmml" xref="S3.E23.m1.2.2.1.1.1.1.5">𝑜</ci><ci id="S3.E23.m1.2.2.1.1.1.1.6.cmml" xref="S3.E23.m1.2.2.1.1.1.1.6">𝑙</ci><ci id="S3.E23.m1.2.2.1.1.1.1.7.cmml" xref="S3.E23.m1.2.2.1.1.1.1.7">𝑖</ci><ci id="S3.E23.m1.2.2.1.1.1.1.8.cmml" xref="S3.E23.m1.2.2.1.1.1.1.8">𝑛</ci><ci id="S3.E23.m1.2.2.1.1.1.1.9.cmml" xref="S3.E23.m1.2.2.1.1.1.1.9">𝑔</ci><apply id="S3.E23.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1"><times id="S3.E23.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.2"></times><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.3">𝜉</ci><list id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2"><ci id="S3.E23.m1.1.1.cmml" xref="S3.E23.m1.1.1">𝐚𝐠𝐠</ci><apply id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐡</ci><cn id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2"><times id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.1"></times><apply id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.2">𝐡</ci><cn id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.2.3">1</cn></apply><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.3">…</ci><apply id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.1.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.2.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.2">𝐡</ci><ci id="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.3.cmml" xref="S3.E23.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.4.3">𝑟</ci></apply></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E23.m1.2c">\mathbf{e}_{s}=MLP(pooling(\xi([\mathbf{agg},\mathbf{h}_{0},\mathbf{h}_{1}...%
\mathbf{h}_{r}])))</annotation><annotation encoding="application/x-llamapun" id="S3.E23.m1.2d">bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT = italic_M italic_L italic_P ( italic_p italic_o italic_o italic_l italic_i italic_n italic_g ( italic_ξ ( [ bold_agg , bold_h start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , bold_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT … bold_h start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ] ) ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p4.7">Here <math alttext="MLP" class="ltx_Math" display="inline" id="S3.SS3.p4.6.m1.1"><semantics id="S3.SS3.p4.6.m1.1a"><mrow id="S3.SS3.p4.6.m1.1.1" xref="S3.SS3.p4.6.m1.1.1.cmml"><mi id="S3.SS3.p4.6.m1.1.1.2" xref="S3.SS3.p4.6.m1.1.1.2.cmml">M</mi><mo id="S3.SS3.p4.6.m1.1.1.1" xref="S3.SS3.p4.6.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.p4.6.m1.1.1.3" xref="S3.SS3.p4.6.m1.1.1.3.cmml">L</mi><mo id="S3.SS3.p4.6.m1.1.1.1a" xref="S3.SS3.p4.6.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.p4.6.m1.1.1.4" xref="S3.SS3.p4.6.m1.1.1.4.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.6.m1.1b"><apply id="S3.SS3.p4.6.m1.1.1.cmml" xref="S3.SS3.p4.6.m1.1.1"><times id="S3.SS3.p4.6.m1.1.1.1.cmml" xref="S3.SS3.p4.6.m1.1.1.1"></times><ci id="S3.SS3.p4.6.m1.1.1.2.cmml" xref="S3.SS3.p4.6.m1.1.1.2">𝑀</ci><ci id="S3.SS3.p4.6.m1.1.1.3.cmml" xref="S3.SS3.p4.6.m1.1.1.3">𝐿</ci><ci id="S3.SS3.p4.6.m1.1.1.4.cmml" xref="S3.SS3.p4.6.m1.1.1.4">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.6.m1.1c">MLP</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.6.m1.1d">italic_M italic_L italic_P</annotation></semantics></math> projects the semantic embedding into the vector space of recommendation model and aligns the dimensions of pooling result and alignment objective. <math alttext="r" class="ltx_Math" display="inline" id="S3.SS3.p4.7.m2.1"><semantics id="S3.SS3.p4.7.m2.1a"><mi id="S3.SS3.p4.7.m2.1.1" xref="S3.SS3.p4.7.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.7.m2.1b"><ci id="S3.SS3.p4.7.m2.1.1.cmml" xref="S3.SS3.p4.7.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.7.m2.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.7.m2.1d">italic_r</annotation></semantics></math> represents the number of real-time scene texts, as mentioned above.</p>
</div>
<div class="ltx_para" id="S3.SS3.p5">
<p class="ltx_p" id="S3.SS3.p5.3">Then we align <math alttext="\mathbf{e}_{s}" class="ltx_Math" display="inline" id="S3.SS3.p5.1.m1.1"><semantics id="S3.SS3.p5.1.m1.1a"><msub id="S3.SS3.p5.1.m1.1.1" xref="S3.SS3.p5.1.m1.1.1.cmml"><mi id="S3.SS3.p5.1.m1.1.1.2" xref="S3.SS3.p5.1.m1.1.1.2.cmml">𝐞</mi><mi id="S3.SS3.p5.1.m1.1.1.3" xref="S3.SS3.p5.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.1.m1.1b"><apply id="S3.SS3.p5.1.m1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.1.m1.1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p5.1.m1.1.1.2.cmml" xref="S3.SS3.p5.1.m1.1.1.2">𝐞</ci><ci id="S3.SS3.p5.1.m1.1.1.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.1.m1.1c">\mathbf{e}_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.1.m1.1d">bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> with target embedding <math alttext="\mathbf{e}_{t}" class="ltx_Math" display="inline" id="S3.SS3.p5.2.m2.1"><semantics id="S3.SS3.p5.2.m2.1a"><msub id="S3.SS3.p5.2.m2.1.1" xref="S3.SS3.p5.2.m2.1.1.cmml"><mi id="S3.SS3.p5.2.m2.1.1.2" xref="S3.SS3.p5.2.m2.1.1.2.cmml">𝐞</mi><mi id="S3.SS3.p5.2.m2.1.1.3" xref="S3.SS3.p5.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.2.m2.1b"><apply id="S3.SS3.p5.2.m2.1.1.cmml" xref="S3.SS3.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.2.m2.1.1.1.cmml" xref="S3.SS3.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p5.2.m2.1.1.2.cmml" xref="S3.SS3.p5.2.m2.1.1.2">𝐞</ci><ci id="S3.SS3.p5.2.m2.1.1.3.cmml" xref="S3.SS3.p5.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.2.m2.1c">\mathbf{e}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.2.m2.1d">bold_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> produced by recommendation model. <math alttext="\mathbf{e}_{t}" class="ltx_Math" display="inline" id="S3.SS3.p5.3.m3.1"><semantics id="S3.SS3.p5.3.m3.1a"><msub id="S3.SS3.p5.3.m3.1.1" xref="S3.SS3.p5.3.m3.1.1.cmml"><mi id="S3.SS3.p5.3.m3.1.1.2" xref="S3.SS3.p5.3.m3.1.1.2.cmml">𝐞</mi><mi id="S3.SS3.p5.3.m3.1.1.3" xref="S3.SS3.p5.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.3.m3.1b"><apply id="S3.SS3.p5.3.m3.1.1.cmml" xref="S3.SS3.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.3.m3.1.1.1.cmml" xref="S3.SS3.p5.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p5.3.m3.1.1.2.cmml" xref="S3.SS3.p5.3.m3.1.1.2">𝐞</ci><ci id="S3.SS3.p5.3.m3.1.1.3.cmml" xref="S3.SS3.p5.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.3.m3.1c">\mathbf{e}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.3.m3.1d">bold_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the concatenation of user embedding and POI embedding in recommendation system. The procedure of alignment could be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E24">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(24)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L^{st}_{cl}=-\frac{1}{N}\sum_{i=1}^{N}\frac{exp(s(\mathbf{e}_{s},\mathbf{e}_{t%
}+)/\tau)}{exp(s(\mathbf{e}_{s},\mathbf{e}_{t}+)/\tau)+\sum exp(s(\mathbf{e}_{%
s},\mathbf{e}_{t}-)/\tau)}" class="ltx_Math" display="block" id="S3.E24.m1.3"><semantics id="S3.E24.m1.3a"><mrow id="S3.E24.m1.3.4" xref="S3.E24.m1.3.4.cmml"><msubsup id="S3.E24.m1.3.4.2" xref="S3.E24.m1.3.4.2.cmml"><mi id="S3.E24.m1.3.4.2.2.2" xref="S3.E24.m1.3.4.2.2.2.cmml">L</mi><mrow id="S3.E24.m1.3.4.2.3" xref="S3.E24.m1.3.4.2.3.cmml"><mi id="S3.E24.m1.3.4.2.3.2" xref="S3.E24.m1.3.4.2.3.2.cmml">c</mi><mo id="S3.E24.m1.3.4.2.3.1" xref="S3.E24.m1.3.4.2.3.1.cmml">⁢</mo><mi id="S3.E24.m1.3.4.2.3.3" xref="S3.E24.m1.3.4.2.3.3.cmml">l</mi></mrow><mrow id="S3.E24.m1.3.4.2.2.3" xref="S3.E24.m1.3.4.2.2.3.cmml"><mi id="S3.E24.m1.3.4.2.2.3.2" xref="S3.E24.m1.3.4.2.2.3.2.cmml">s</mi><mo id="S3.E24.m1.3.4.2.2.3.1" xref="S3.E24.m1.3.4.2.2.3.1.cmml">⁢</mo><mi id="S3.E24.m1.3.4.2.2.3.3" xref="S3.E24.m1.3.4.2.2.3.3.cmml">t</mi></mrow></msubsup><mo id="S3.E24.m1.3.4.1" xref="S3.E24.m1.3.4.1.cmml">=</mo><mrow id="S3.E24.m1.3.4.3" xref="S3.E24.m1.3.4.3.cmml"><mo id="S3.E24.m1.3.4.3a" xref="S3.E24.m1.3.4.3.cmml">−</mo><mrow id="S3.E24.m1.3.4.3.2" xref="S3.E24.m1.3.4.3.2.cmml"><mfrac id="S3.E24.m1.3.4.3.2.2" xref="S3.E24.m1.3.4.3.2.2.cmml"><mn id="S3.E24.m1.3.4.3.2.2.2" xref="S3.E24.m1.3.4.3.2.2.2.cmml">1</mn><mi id="S3.E24.m1.3.4.3.2.2.3" xref="S3.E24.m1.3.4.3.2.2.3.cmml">N</mi></mfrac><mo id="S3.E24.m1.3.4.3.2.1" xref="S3.E24.m1.3.4.3.2.1.cmml">⁢</mo><mrow id="S3.E24.m1.3.4.3.2.3" xref="S3.E24.m1.3.4.3.2.3.cmml"><munderover id="S3.E24.m1.3.4.3.2.3.1" xref="S3.E24.m1.3.4.3.2.3.1.cmml"><mo id="S3.E24.m1.3.4.3.2.3.1.2.2" movablelimits="false" xref="S3.E24.m1.3.4.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E24.m1.3.4.3.2.3.1.2.3" xref="S3.E24.m1.3.4.3.2.3.1.2.3.cmml"><mi id="S3.E24.m1.3.4.3.2.3.1.2.3.2" xref="S3.E24.m1.3.4.3.2.3.1.2.3.2.cmml">i</mi><mo id="S3.E24.m1.3.4.3.2.3.1.2.3.1" xref="S3.E24.m1.3.4.3.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E24.m1.3.4.3.2.3.1.2.3.3" xref="S3.E24.m1.3.4.3.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E24.m1.3.4.3.2.3.1.3" xref="S3.E24.m1.3.4.3.2.3.1.3.cmml">N</mi></munderover><mfrac id="S3.E24.m1.3.3" xref="S3.E24.m1.3.3.cmml"><mrow id="S3.E24.m1.1.1.1" xref="S3.E24.m1.1.1.1.cmml"><mi id="S3.E24.m1.1.1.1.3" xref="S3.E24.m1.1.1.1.3.cmml">e</mi><mo id="S3.E24.m1.1.1.1.2" xref="S3.E24.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E24.m1.1.1.1.4" xref="S3.E24.m1.1.1.1.4.cmml">x</mi><mo id="S3.E24.m1.1.1.1.2a" xref="S3.E24.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E24.m1.1.1.1.5" xref="S3.E24.m1.1.1.1.5.cmml">p</mi><mo id="S3.E24.m1.1.1.1.2b" xref="S3.E24.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E24.m1.1.1.1.1.1" xref="S3.E24.m1.1.1.1.1.1.1.cmml"><mo id="S3.E24.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E24.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E24.m1.1.1.1.1.1.1" xref="S3.E24.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E24.m1.1.1.1.1.1.1.2" xref="S3.E24.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.E24.m1.1.1.1.1.1.1.2.4" xref="S3.E24.m1.1.1.1.1.1.1.2.4.cmml">s</mi><mo id="S3.E24.m1.1.1.1.1.1.1.2.3" xref="S3.E24.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E24.m1.1.1.1.1.1.1.2.2.2" xref="S3.E24.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S3.E24.m1.1.1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E24.m1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐞</mi><mi id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo id="S3.E24.m1.1.1.1.1.1.1.2.2.2.4" xref="S3.E24.m1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">𝐞</mi><mi id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E24.m1.1.1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E24.m1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E24.m1.1.1.1.1.1.1.3" xref="S3.E24.m1.1.1.1.1.1.1.3.cmml">/</mo><mi id="S3.E24.m1.1.1.1.1.1.1.4" xref="S3.E24.m1.1.1.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E24.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E24.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E24.m1.3.3.3" xref="S3.E24.m1.3.3.3.cmml"><mrow id="S3.E24.m1.2.2.2.1" xref="S3.E24.m1.2.2.2.1.cmml"><mi id="S3.E24.m1.2.2.2.1.3" xref="S3.E24.m1.2.2.2.1.3.cmml">e</mi><mo id="S3.E24.m1.2.2.2.1.2" xref="S3.E24.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E24.m1.2.2.2.1.4" xref="S3.E24.m1.2.2.2.1.4.cmml">x</mi><mo id="S3.E24.m1.2.2.2.1.2a" xref="S3.E24.m1.2.2.2.1.2.cmml">⁢</mo><mi id="S3.E24.m1.2.2.2.1.5" xref="S3.E24.m1.2.2.2.1.5.cmml">p</mi><mo id="S3.E24.m1.2.2.2.1.2b" xref="S3.E24.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E24.m1.2.2.2.1.1.1" xref="S3.E24.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E24.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E24.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E24.m1.2.2.2.1.1.1.1" xref="S3.E24.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E24.m1.2.2.2.1.1.1.1.2" xref="S3.E24.m1.2.2.2.1.1.1.1.2.cmml"><mi id="S3.E24.m1.2.2.2.1.1.1.1.2.4" xref="S3.E24.m1.2.2.2.1.1.1.1.2.4.cmml">s</mi><mo id="S3.E24.m1.2.2.2.1.1.1.1.2.3" xref="S3.E24.m1.2.2.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml">𝐞</mi><mi id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.4" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml">𝐞</mi><mi id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml">+</mo></mrow><mo id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E24.m1.2.2.2.1.1.1.1.3" xref="S3.E24.m1.2.2.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E24.m1.2.2.2.1.1.1.1.4" xref="S3.E24.m1.2.2.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E24.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E24.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E24.m1.3.3.3.3" rspace="0.055em" xref="S3.E24.m1.3.3.3.3.cmml">+</mo><mrow id="S3.E24.m1.3.3.3.2" xref="S3.E24.m1.3.3.3.2.cmml"><mo id="S3.E24.m1.3.3.3.2.2" xref="S3.E24.m1.3.3.3.2.2.cmml">∑</mo><mrow id="S3.E24.m1.3.3.3.2.1" xref="S3.E24.m1.3.3.3.2.1.cmml"><mi id="S3.E24.m1.3.3.3.2.1.3" xref="S3.E24.m1.3.3.3.2.1.3.cmml">e</mi><mo id="S3.E24.m1.3.3.3.2.1.2" xref="S3.E24.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E24.m1.3.3.3.2.1.4" xref="S3.E24.m1.3.3.3.2.1.4.cmml">x</mi><mo id="S3.E24.m1.3.3.3.2.1.2a" xref="S3.E24.m1.3.3.3.2.1.2.cmml">⁢</mo><mi id="S3.E24.m1.3.3.3.2.1.5" xref="S3.E24.m1.3.3.3.2.1.5.cmml">p</mi><mo id="S3.E24.m1.3.3.3.2.1.2b" xref="S3.E24.m1.3.3.3.2.1.2.cmml">⁢</mo><mrow id="S3.E24.m1.3.3.3.2.1.1.1" xref="S3.E24.m1.3.3.3.2.1.1.1.1.cmml"><mo id="S3.E24.m1.3.3.3.2.1.1.1.2" stretchy="false" xref="S3.E24.m1.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.E24.m1.3.3.3.2.1.1.1.1" xref="S3.E24.m1.3.3.3.2.1.1.1.1.cmml"><mrow id="S3.E24.m1.3.3.3.2.1.1.1.1.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.cmml"><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.2.4" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.4.cmml">s</mi><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.2.3" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml">𝐞</mi><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.3" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.4" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml">𝐞</mi><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.3" rspace="0em" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml">−</mo></mrow><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E24.m1.3.3.3.2.1.1.1.1.3" xref="S3.E24.m1.3.3.3.2.1.1.1.1.3.cmml">/</mo><mi id="S3.E24.m1.3.3.3.2.1.1.1.1.4" xref="S3.E24.m1.3.3.3.2.1.1.1.1.4.cmml">τ</mi></mrow><mo id="S3.E24.m1.3.3.3.2.1.1.1.3" stretchy="false" xref="S3.E24.m1.3.3.3.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E24.m1.3b"><apply id="S3.E24.m1.3.4.cmml" xref="S3.E24.m1.3.4"><eq id="S3.E24.m1.3.4.1.cmml" xref="S3.E24.m1.3.4.1"></eq><apply id="S3.E24.m1.3.4.2.cmml" xref="S3.E24.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E24.m1.3.4.2.1.cmml" xref="S3.E24.m1.3.4.2">subscript</csymbol><apply id="S3.E24.m1.3.4.2.2.cmml" xref="S3.E24.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E24.m1.3.4.2.2.1.cmml" xref="S3.E24.m1.3.4.2">superscript</csymbol><ci id="S3.E24.m1.3.4.2.2.2.cmml" xref="S3.E24.m1.3.4.2.2.2">𝐿</ci><apply id="S3.E24.m1.3.4.2.2.3.cmml" xref="S3.E24.m1.3.4.2.2.3"><times id="S3.E24.m1.3.4.2.2.3.1.cmml" xref="S3.E24.m1.3.4.2.2.3.1"></times><ci id="S3.E24.m1.3.4.2.2.3.2.cmml" xref="S3.E24.m1.3.4.2.2.3.2">𝑠</ci><ci id="S3.E24.m1.3.4.2.2.3.3.cmml" xref="S3.E24.m1.3.4.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.E24.m1.3.4.2.3.cmml" xref="S3.E24.m1.3.4.2.3"><times id="S3.E24.m1.3.4.2.3.1.cmml" xref="S3.E24.m1.3.4.2.3.1"></times><ci id="S3.E24.m1.3.4.2.3.2.cmml" xref="S3.E24.m1.3.4.2.3.2">𝑐</ci><ci id="S3.E24.m1.3.4.2.3.3.cmml" xref="S3.E24.m1.3.4.2.3.3">𝑙</ci></apply></apply><apply id="S3.E24.m1.3.4.3.cmml" xref="S3.E24.m1.3.4.3"><minus id="S3.E24.m1.3.4.3.1.cmml" xref="S3.E24.m1.3.4.3"></minus><apply id="S3.E24.m1.3.4.3.2.cmml" xref="S3.E24.m1.3.4.3.2"><times id="S3.E24.m1.3.4.3.2.1.cmml" xref="S3.E24.m1.3.4.3.2.1"></times><apply id="S3.E24.m1.3.4.3.2.2.cmml" xref="S3.E24.m1.3.4.3.2.2"><divide id="S3.E24.m1.3.4.3.2.2.1.cmml" xref="S3.E24.m1.3.4.3.2.2"></divide><cn id="S3.E24.m1.3.4.3.2.2.2.cmml" type="integer" xref="S3.E24.m1.3.4.3.2.2.2">1</cn><ci id="S3.E24.m1.3.4.3.2.2.3.cmml" xref="S3.E24.m1.3.4.3.2.2.3">𝑁</ci></apply><apply id="S3.E24.m1.3.4.3.2.3.cmml" xref="S3.E24.m1.3.4.3.2.3"><apply id="S3.E24.m1.3.4.3.2.3.1.cmml" xref="S3.E24.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E24.m1.3.4.3.2.3.1.1.cmml" xref="S3.E24.m1.3.4.3.2.3.1">superscript</csymbol><apply id="S3.E24.m1.3.4.3.2.3.1.2.cmml" xref="S3.E24.m1.3.4.3.2.3.1"><csymbol cd="ambiguous" id="S3.E24.m1.3.4.3.2.3.1.2.1.cmml" xref="S3.E24.m1.3.4.3.2.3.1">subscript</csymbol><sum id="S3.E24.m1.3.4.3.2.3.1.2.2.cmml" xref="S3.E24.m1.3.4.3.2.3.1.2.2"></sum><apply id="S3.E24.m1.3.4.3.2.3.1.2.3.cmml" xref="S3.E24.m1.3.4.3.2.3.1.2.3"><eq id="S3.E24.m1.3.4.3.2.3.1.2.3.1.cmml" xref="S3.E24.m1.3.4.3.2.3.1.2.3.1"></eq><ci id="S3.E24.m1.3.4.3.2.3.1.2.3.2.cmml" xref="S3.E24.m1.3.4.3.2.3.1.2.3.2">𝑖</ci><cn id="S3.E24.m1.3.4.3.2.3.1.2.3.3.cmml" type="integer" xref="S3.E24.m1.3.4.3.2.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E24.m1.3.4.3.2.3.1.3.cmml" xref="S3.E24.m1.3.4.3.2.3.1.3">𝑁</ci></apply><apply id="S3.E24.m1.3.3.cmml" xref="S3.E24.m1.3.3"><divide id="S3.E24.m1.3.3.4.cmml" xref="S3.E24.m1.3.3"></divide><apply id="S3.E24.m1.1.1.1.cmml" xref="S3.E24.m1.1.1.1"><times id="S3.E24.m1.1.1.1.2.cmml" xref="S3.E24.m1.1.1.1.2"></times><ci id="S3.E24.m1.1.1.1.3.cmml" xref="S3.E24.m1.1.1.1.3">𝑒</ci><ci id="S3.E24.m1.1.1.1.4.cmml" xref="S3.E24.m1.1.1.1.4">𝑥</ci><ci id="S3.E24.m1.1.1.1.5.cmml" xref="S3.E24.m1.1.1.1.5">𝑝</ci><apply id="S3.E24.m1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.1.1.1.1.1"><divide id="S3.E24.m1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.3"></divide><apply id="S3.E24.m1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2"><times id="S3.E24.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.3"></times><ci id="S3.E24.m1.1.1.1.1.1.1.2.4.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.4">𝑠</ci><interval closure="open" id="S3.E24.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2"><apply id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.2">𝐞</ci><ci id="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.2">𝐞</ci><ci id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.2.3">𝑡</ci></apply><plus id="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E24.m1.1.1.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E24.m1.1.1.1.1.1.1.4.cmml" xref="S3.E24.m1.1.1.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E24.m1.3.3.3.cmml" xref="S3.E24.m1.3.3.3"><plus id="S3.E24.m1.3.3.3.3.cmml" xref="S3.E24.m1.3.3.3.3"></plus><apply id="S3.E24.m1.2.2.2.1.cmml" xref="S3.E24.m1.2.2.2.1"><times id="S3.E24.m1.2.2.2.1.2.cmml" xref="S3.E24.m1.2.2.2.1.2"></times><ci id="S3.E24.m1.2.2.2.1.3.cmml" xref="S3.E24.m1.2.2.2.1.3">𝑒</ci><ci id="S3.E24.m1.2.2.2.1.4.cmml" xref="S3.E24.m1.2.2.2.1.4">𝑥</ci><ci id="S3.E24.m1.2.2.2.1.5.cmml" xref="S3.E24.m1.2.2.2.1.5">𝑝</ci><apply id="S3.E24.m1.2.2.2.1.1.1.1.cmml" xref="S3.E24.m1.2.2.2.1.1.1"><divide id="S3.E24.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.3"></divide><apply id="S3.E24.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2"><times id="S3.E24.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.3"></times><ci id="S3.E24.m1.2.2.2.1.1.1.1.2.4.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.4">𝑠</ci><interval closure="open" id="S3.E24.m1.2.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2"><apply id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.2">𝐞</ci><ci id="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.2">𝐞</ci><ci id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.2.3">𝑡</ci></apply><plus id="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E24.m1.2.2.2.1.1.1.1.4.cmml" xref="S3.E24.m1.2.2.2.1.1.1.1.4">𝜏</ci></apply></apply><apply id="S3.E24.m1.3.3.3.2.cmml" xref="S3.E24.m1.3.3.3.2"><sum id="S3.E24.m1.3.3.3.2.2.cmml" xref="S3.E24.m1.3.3.3.2.2"></sum><apply id="S3.E24.m1.3.3.3.2.1.cmml" xref="S3.E24.m1.3.3.3.2.1"><times id="S3.E24.m1.3.3.3.2.1.2.cmml" xref="S3.E24.m1.3.3.3.2.1.2"></times><ci id="S3.E24.m1.3.3.3.2.1.3.cmml" xref="S3.E24.m1.3.3.3.2.1.3">𝑒</ci><ci id="S3.E24.m1.3.3.3.2.1.4.cmml" xref="S3.E24.m1.3.3.3.2.1.4">𝑥</ci><ci id="S3.E24.m1.3.3.3.2.1.5.cmml" xref="S3.E24.m1.3.3.3.2.1.5">𝑝</ci><apply id="S3.E24.m1.3.3.3.2.1.1.1.1.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1"><divide id="S3.E24.m1.3.3.3.2.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.3"></divide><apply id="S3.E24.m1.3.3.3.2.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2"><times id="S3.E24.m1.3.3.3.2.1.1.1.1.2.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.3"></times><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.2.4.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.4">𝑠</ci><interval closure="open" id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2"><apply id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.2">𝐞</ci><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2">limit-from</csymbol><apply id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.2">𝐞</ci><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.2.3">𝑡</ci></apply><minus id="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.2.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E24.m1.3.3.3.2.1.1.1.1.4.cmml" xref="S3.E24.m1.3.3.3.2.1.1.1.1.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E24.m1.3c">L^{st}_{cl}=-\frac{1}{N}\sum_{i=1}^{N}\frac{exp(s(\mathbf{e}_{s},\mathbf{e}_{t%
}+)/\tau)}{exp(s(\mathbf{e}_{s},\mathbf{e}_{t}+)/\tau)+\sum exp(s(\mathbf{e}_{%
s},\mathbf{e}_{t}-)/\tau)}</annotation><annotation encoding="application/x-llamapun" id="S3.E24.m1.3d">italic_L start_POSTSUPERSCRIPT italic_s italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT divide start_ARG italic_e italic_x italic_p ( italic_s ( bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , bold_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT + ) / italic_τ ) end_ARG start_ARG italic_e italic_x italic_p ( italic_s ( bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , bold_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT + ) / italic_τ ) + ∑ italic_e italic_x italic_p ( italic_s ( bold_e start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , bold_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT - ) / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p5.6">Here <math alttext="s" class="ltx_Math" display="inline" id="S3.SS3.p5.4.m1.1"><semantics id="S3.SS3.p5.4.m1.1a"><mi id="S3.SS3.p5.4.m1.1.1" xref="S3.SS3.p5.4.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.4.m1.1b"><ci id="S3.SS3.p5.4.m1.1.1.cmml" xref="S3.SS3.p5.4.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.4.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.4.m1.1d">italic_s</annotation></semantics></math> is the similarity scoring function. Considering the different symmetry properties of <math alttext="s" class="ltx_Math" display="inline" id="S3.SS3.p5.5.m2.1"><semantics id="S3.SS3.p5.5.m2.1a"><mi id="S3.SS3.p5.5.m2.1.1" xref="S3.SS3.p5.5.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.5.m2.1b"><ci id="S3.SS3.p5.5.m2.1.1.cmml" xref="S3.SS3.p5.5.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.5.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.5.m2.1d">italic_s</annotation></semantics></math>, <math alttext="N" class="ltx_Math" display="inline" id="S3.SS3.p5.6.m3.1"><semantics id="S3.SS3.p5.6.m3.1a"><mi id="S3.SS3.p5.6.m3.1.1" xref="S3.SS3.p5.6.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.6.m3.1b"><ci id="S3.SS3.p5.6.m3.1.1.cmml" xref="S3.SS3.p5.6.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.6.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p5.6.m3.1d">italic_N</annotation></semantics></math> is batch size. total loss is the sum of two symmetric sub losses.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E25">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(25)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{cl}=\frac{L^{st}_{cl}+L^{ts}_{cl}}{2}" class="ltx_Math" display="block" id="S3.E25.m1.1"><semantics id="S3.E25.m1.1a"><mrow id="S3.E25.m1.1.1" xref="S3.E25.m1.1.1.cmml"><msub id="S3.E25.m1.1.1.2" xref="S3.E25.m1.1.1.2.cmml"><mi id="S3.E25.m1.1.1.2.2" xref="S3.E25.m1.1.1.2.2.cmml">L</mi><mrow id="S3.E25.m1.1.1.2.3" xref="S3.E25.m1.1.1.2.3.cmml"><mi id="S3.E25.m1.1.1.2.3.2" xref="S3.E25.m1.1.1.2.3.2.cmml">c</mi><mo id="S3.E25.m1.1.1.2.3.1" xref="S3.E25.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E25.m1.1.1.2.3.3" xref="S3.E25.m1.1.1.2.3.3.cmml">l</mi></mrow></msub><mo id="S3.E25.m1.1.1.1" xref="S3.E25.m1.1.1.1.cmml">=</mo><mfrac id="S3.E25.m1.1.1.3" xref="S3.E25.m1.1.1.3.cmml"><mrow id="S3.E25.m1.1.1.3.2" xref="S3.E25.m1.1.1.3.2.cmml"><msubsup id="S3.E25.m1.1.1.3.2.2" xref="S3.E25.m1.1.1.3.2.2.cmml"><mi id="S3.E25.m1.1.1.3.2.2.2.2" xref="S3.E25.m1.1.1.3.2.2.2.2.cmml">L</mi><mrow id="S3.E25.m1.1.1.3.2.2.3" xref="S3.E25.m1.1.1.3.2.2.3.cmml"><mi id="S3.E25.m1.1.1.3.2.2.3.2" xref="S3.E25.m1.1.1.3.2.2.3.2.cmml">c</mi><mo id="S3.E25.m1.1.1.3.2.2.3.1" xref="S3.E25.m1.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S3.E25.m1.1.1.3.2.2.3.3" xref="S3.E25.m1.1.1.3.2.2.3.3.cmml">l</mi></mrow><mrow id="S3.E25.m1.1.1.3.2.2.2.3" xref="S3.E25.m1.1.1.3.2.2.2.3.cmml"><mi id="S3.E25.m1.1.1.3.2.2.2.3.2" xref="S3.E25.m1.1.1.3.2.2.2.3.2.cmml">s</mi><mo id="S3.E25.m1.1.1.3.2.2.2.3.1" xref="S3.E25.m1.1.1.3.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E25.m1.1.1.3.2.2.2.3.3" xref="S3.E25.m1.1.1.3.2.2.2.3.3.cmml">t</mi></mrow></msubsup><mo id="S3.E25.m1.1.1.3.2.1" xref="S3.E25.m1.1.1.3.2.1.cmml">+</mo><msubsup id="S3.E25.m1.1.1.3.2.3" xref="S3.E25.m1.1.1.3.2.3.cmml"><mi id="S3.E25.m1.1.1.3.2.3.2.2" xref="S3.E25.m1.1.1.3.2.3.2.2.cmml">L</mi><mrow id="S3.E25.m1.1.1.3.2.3.3" xref="S3.E25.m1.1.1.3.2.3.3.cmml"><mi id="S3.E25.m1.1.1.3.2.3.3.2" xref="S3.E25.m1.1.1.3.2.3.3.2.cmml">c</mi><mo id="S3.E25.m1.1.1.3.2.3.3.1" xref="S3.E25.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E25.m1.1.1.3.2.3.3.3" xref="S3.E25.m1.1.1.3.2.3.3.3.cmml">l</mi></mrow><mrow id="S3.E25.m1.1.1.3.2.3.2.3" xref="S3.E25.m1.1.1.3.2.3.2.3.cmml"><mi id="S3.E25.m1.1.1.3.2.3.2.3.2" xref="S3.E25.m1.1.1.3.2.3.2.3.2.cmml">t</mi><mo id="S3.E25.m1.1.1.3.2.3.2.3.1" xref="S3.E25.m1.1.1.3.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E25.m1.1.1.3.2.3.2.3.3" xref="S3.E25.m1.1.1.3.2.3.2.3.3.cmml">s</mi></mrow></msubsup></mrow><mn id="S3.E25.m1.1.1.3.3" xref="S3.E25.m1.1.1.3.3.cmml">2</mn></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E25.m1.1b"><apply id="S3.E25.m1.1.1.cmml" xref="S3.E25.m1.1.1"><eq id="S3.E25.m1.1.1.1.cmml" xref="S3.E25.m1.1.1.1"></eq><apply id="S3.E25.m1.1.1.2.cmml" xref="S3.E25.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E25.m1.1.1.2.1.cmml" xref="S3.E25.m1.1.1.2">subscript</csymbol><ci id="S3.E25.m1.1.1.2.2.cmml" xref="S3.E25.m1.1.1.2.2">𝐿</ci><apply id="S3.E25.m1.1.1.2.3.cmml" xref="S3.E25.m1.1.1.2.3"><times id="S3.E25.m1.1.1.2.3.1.cmml" xref="S3.E25.m1.1.1.2.3.1"></times><ci id="S3.E25.m1.1.1.2.3.2.cmml" xref="S3.E25.m1.1.1.2.3.2">𝑐</ci><ci id="S3.E25.m1.1.1.2.3.3.cmml" xref="S3.E25.m1.1.1.2.3.3">𝑙</ci></apply></apply><apply id="S3.E25.m1.1.1.3.cmml" xref="S3.E25.m1.1.1.3"><divide id="S3.E25.m1.1.1.3.1.cmml" xref="S3.E25.m1.1.1.3"></divide><apply id="S3.E25.m1.1.1.3.2.cmml" xref="S3.E25.m1.1.1.3.2"><plus id="S3.E25.m1.1.1.3.2.1.cmml" xref="S3.E25.m1.1.1.3.2.1"></plus><apply id="S3.E25.m1.1.1.3.2.2.cmml" xref="S3.E25.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E25.m1.1.1.3.2.2.1.cmml" xref="S3.E25.m1.1.1.3.2.2">subscript</csymbol><apply id="S3.E25.m1.1.1.3.2.2.2.cmml" xref="S3.E25.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E25.m1.1.1.3.2.2.2.1.cmml" xref="S3.E25.m1.1.1.3.2.2">superscript</csymbol><ci id="S3.E25.m1.1.1.3.2.2.2.2.cmml" xref="S3.E25.m1.1.1.3.2.2.2.2">𝐿</ci><apply id="S3.E25.m1.1.1.3.2.2.2.3.cmml" xref="S3.E25.m1.1.1.3.2.2.2.3"><times id="S3.E25.m1.1.1.3.2.2.2.3.1.cmml" xref="S3.E25.m1.1.1.3.2.2.2.3.1"></times><ci id="S3.E25.m1.1.1.3.2.2.2.3.2.cmml" xref="S3.E25.m1.1.1.3.2.2.2.3.2">𝑠</ci><ci id="S3.E25.m1.1.1.3.2.2.2.3.3.cmml" xref="S3.E25.m1.1.1.3.2.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.E25.m1.1.1.3.2.2.3.cmml" xref="S3.E25.m1.1.1.3.2.2.3"><times id="S3.E25.m1.1.1.3.2.2.3.1.cmml" xref="S3.E25.m1.1.1.3.2.2.3.1"></times><ci id="S3.E25.m1.1.1.3.2.2.3.2.cmml" xref="S3.E25.m1.1.1.3.2.2.3.2">𝑐</ci><ci id="S3.E25.m1.1.1.3.2.2.3.3.cmml" xref="S3.E25.m1.1.1.3.2.2.3.3">𝑙</ci></apply></apply><apply id="S3.E25.m1.1.1.3.2.3.cmml" xref="S3.E25.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E25.m1.1.1.3.2.3.1.cmml" xref="S3.E25.m1.1.1.3.2.3">subscript</csymbol><apply id="S3.E25.m1.1.1.3.2.3.2.cmml" xref="S3.E25.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E25.m1.1.1.3.2.3.2.1.cmml" xref="S3.E25.m1.1.1.3.2.3">superscript</csymbol><ci id="S3.E25.m1.1.1.3.2.3.2.2.cmml" xref="S3.E25.m1.1.1.3.2.3.2.2">𝐿</ci><apply id="S3.E25.m1.1.1.3.2.3.2.3.cmml" xref="S3.E25.m1.1.1.3.2.3.2.3"><times id="S3.E25.m1.1.1.3.2.3.2.3.1.cmml" xref="S3.E25.m1.1.1.3.2.3.2.3.1"></times><ci id="S3.E25.m1.1.1.3.2.3.2.3.2.cmml" xref="S3.E25.m1.1.1.3.2.3.2.3.2">𝑡</ci><ci id="S3.E25.m1.1.1.3.2.3.2.3.3.cmml" xref="S3.E25.m1.1.1.3.2.3.2.3.3">𝑠</ci></apply></apply><apply id="S3.E25.m1.1.1.3.2.3.3.cmml" xref="S3.E25.m1.1.1.3.2.3.3"><times id="S3.E25.m1.1.1.3.2.3.3.1.cmml" xref="S3.E25.m1.1.1.3.2.3.3.1"></times><ci id="S3.E25.m1.1.1.3.2.3.3.2.cmml" xref="S3.E25.m1.1.1.3.2.3.3.2">𝑐</ci><ci id="S3.E25.m1.1.1.3.2.3.3.3.cmml" xref="S3.E25.m1.1.1.3.2.3.3.3">𝑙</ci></apply></apply></apply><cn id="S3.E25.m1.1.1.3.3.cmml" type="integer" xref="S3.E25.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E25.m1.1c">L_{cl}=\frac{L^{st}_{cl}+L^{ts}_{cl}}{2}</annotation><annotation encoding="application/x-llamapun" id="S3.E25.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT = divide start_ARG italic_L start_POSTSUPERSCRIPT italic_s italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT + italic_L start_POSTSUPERSCRIPT italic_t italic_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT end_ARG start_ARG 2 end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS3.p6">
<p class="ltx_p" id="S3.SS3.p6.1">This design not only improves the quality of both representations but also enables the model to more accurately grasp the connection between user needs and real-time scenes, leading to a significant improvement in recommendation results.
With this approach, our recommendation system can provide more personalized and precise recommendations in real-time scenes.</p>
</div>
<div class="ltx_para" id="S3.SS3.p7">
<p class="ltx_p" id="S3.SS3.p7.3">During training, the loss is a weighted sum of the recommendation CTR loss <math alttext="L_{ctr}" class="ltx_Math" display="inline" id="S3.SS3.p7.1.m1.1"><semantics id="S3.SS3.p7.1.m1.1a"><msub id="S3.SS3.p7.1.m1.1.1" xref="S3.SS3.p7.1.m1.1.1.cmml"><mi id="S3.SS3.p7.1.m1.1.1.2" xref="S3.SS3.p7.1.m1.1.1.2.cmml">L</mi><mrow id="S3.SS3.p7.1.m1.1.1.3" xref="S3.SS3.p7.1.m1.1.1.3.cmml"><mi id="S3.SS3.p7.1.m1.1.1.3.2" xref="S3.SS3.p7.1.m1.1.1.3.2.cmml">c</mi><mo id="S3.SS3.p7.1.m1.1.1.3.1" xref="S3.SS3.p7.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p7.1.m1.1.1.3.3" xref="S3.SS3.p7.1.m1.1.1.3.3.cmml">t</mi><mo id="S3.SS3.p7.1.m1.1.1.3.1a" xref="S3.SS3.p7.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p7.1.m1.1.1.3.4" xref="S3.SS3.p7.1.m1.1.1.3.4.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.1.m1.1b"><apply id="S3.SS3.p7.1.m1.1.1.cmml" xref="S3.SS3.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.1.m1.1.1.1.cmml" xref="S3.SS3.p7.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p7.1.m1.1.1.2.cmml" xref="S3.SS3.p7.1.m1.1.1.2">𝐿</ci><apply id="S3.SS3.p7.1.m1.1.1.3.cmml" xref="S3.SS3.p7.1.m1.1.1.3"><times id="S3.SS3.p7.1.m1.1.1.3.1.cmml" xref="S3.SS3.p7.1.m1.1.1.3.1"></times><ci id="S3.SS3.p7.1.m1.1.1.3.2.cmml" xref="S3.SS3.p7.1.m1.1.1.3.2">𝑐</ci><ci id="S3.SS3.p7.1.m1.1.1.3.3.cmml" xref="S3.SS3.p7.1.m1.1.1.3.3">𝑡</ci><ci id="S3.SS3.p7.1.m1.1.1.3.4.cmml" xref="S3.SS3.p7.1.m1.1.1.3.4">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.1.m1.1c">L_{ctr}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p7.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_t italic_r end_POSTSUBSCRIPT</annotation></semantics></math> and the contrastive learning loss <math alttext="L_{cl}" class="ltx_Math" display="inline" id="S3.SS3.p7.2.m2.1"><semantics id="S3.SS3.p7.2.m2.1a"><msub id="S3.SS3.p7.2.m2.1.1" xref="S3.SS3.p7.2.m2.1.1.cmml"><mi id="S3.SS3.p7.2.m2.1.1.2" xref="S3.SS3.p7.2.m2.1.1.2.cmml">L</mi><mrow id="S3.SS3.p7.2.m2.1.1.3" xref="S3.SS3.p7.2.m2.1.1.3.cmml"><mi id="S3.SS3.p7.2.m2.1.1.3.2" xref="S3.SS3.p7.2.m2.1.1.3.2.cmml">c</mi><mo id="S3.SS3.p7.2.m2.1.1.3.1" xref="S3.SS3.p7.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p7.2.m2.1.1.3.3" xref="S3.SS3.p7.2.m2.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.2.m2.1b"><apply id="S3.SS3.p7.2.m2.1.1.cmml" xref="S3.SS3.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.2.m2.1.1.1.cmml" xref="S3.SS3.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p7.2.m2.1.1.2.cmml" xref="S3.SS3.p7.2.m2.1.1.2">𝐿</ci><apply id="S3.SS3.p7.2.m2.1.1.3.cmml" xref="S3.SS3.p7.2.m2.1.1.3"><times id="S3.SS3.p7.2.m2.1.1.3.1.cmml" xref="S3.SS3.p7.2.m2.1.1.3.1"></times><ci id="S3.SS3.p7.2.m2.1.1.3.2.cmml" xref="S3.SS3.p7.2.m2.1.1.3.2">𝑐</ci><ci id="S3.SS3.p7.2.m2.1.1.3.3.cmml" xref="S3.SS3.p7.2.m2.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.2.m2.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p7.2.m2.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. <math alttext="L_{ctr}" class="ltx_Math" display="inline" id="S3.SS3.p7.3.m3.1"><semantics id="S3.SS3.p7.3.m3.1a"><msub id="S3.SS3.p7.3.m3.1.1" xref="S3.SS3.p7.3.m3.1.1.cmml"><mi id="S3.SS3.p7.3.m3.1.1.2" xref="S3.SS3.p7.3.m3.1.1.2.cmml">L</mi><mrow id="S3.SS3.p7.3.m3.1.1.3" xref="S3.SS3.p7.3.m3.1.1.3.cmml"><mi id="S3.SS3.p7.3.m3.1.1.3.2" xref="S3.SS3.p7.3.m3.1.1.3.2.cmml">c</mi><mo id="S3.SS3.p7.3.m3.1.1.3.1" xref="S3.SS3.p7.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p7.3.m3.1.1.3.3" xref="S3.SS3.p7.3.m3.1.1.3.3.cmml">t</mi><mo id="S3.SS3.p7.3.m3.1.1.3.1a" xref="S3.SS3.p7.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p7.3.m3.1.1.3.4" xref="S3.SS3.p7.3.m3.1.1.3.4.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.3.m3.1b"><apply id="S3.SS3.p7.3.m3.1.1.cmml" xref="S3.SS3.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.3.m3.1.1.1.cmml" xref="S3.SS3.p7.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p7.3.m3.1.1.2.cmml" xref="S3.SS3.p7.3.m3.1.1.2">𝐿</ci><apply id="S3.SS3.p7.3.m3.1.1.3.cmml" xref="S3.SS3.p7.3.m3.1.1.3"><times id="S3.SS3.p7.3.m3.1.1.3.1.cmml" xref="S3.SS3.p7.3.m3.1.1.3.1"></times><ci id="S3.SS3.p7.3.m3.1.1.3.2.cmml" xref="S3.SS3.p7.3.m3.1.1.3.2">𝑐</ci><ci id="S3.SS3.p7.3.m3.1.1.3.3.cmml" xref="S3.SS3.p7.3.m3.1.1.3.3">𝑡</ci><ci id="S3.SS3.p7.3.m3.1.1.3.4.cmml" xref="S3.SS3.p7.3.m3.1.1.3.4">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.3.m3.1c">L_{ctr}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p7.3.m3.1d">italic_L start_POSTSUBSCRIPT italic_c italic_t italic_r end_POSTSUBSCRIPT</annotation></semantics></math> is BCE which is widely-used.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E26">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(26)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{3}=\beta_{1}*L_{ctr}+\beta_{2}*L_{cl}" class="ltx_Math" display="block" id="S3.E26.m1.1"><semantics id="S3.E26.m1.1a"><mrow id="S3.E26.m1.1.1" xref="S3.E26.m1.1.1.cmml"><msub id="S3.E26.m1.1.1.2" xref="S3.E26.m1.1.1.2.cmml"><mi id="S3.E26.m1.1.1.2.2" xref="S3.E26.m1.1.1.2.2.cmml">L</mi><mn id="S3.E26.m1.1.1.2.3" xref="S3.E26.m1.1.1.2.3.cmml">3</mn></msub><mo id="S3.E26.m1.1.1.1" xref="S3.E26.m1.1.1.1.cmml">=</mo><mrow id="S3.E26.m1.1.1.3" xref="S3.E26.m1.1.1.3.cmml"><mrow id="S3.E26.m1.1.1.3.2" xref="S3.E26.m1.1.1.3.2.cmml"><msub id="S3.E26.m1.1.1.3.2.2" xref="S3.E26.m1.1.1.3.2.2.cmml"><mi id="S3.E26.m1.1.1.3.2.2.2" xref="S3.E26.m1.1.1.3.2.2.2.cmml">β</mi><mn id="S3.E26.m1.1.1.3.2.2.3" xref="S3.E26.m1.1.1.3.2.2.3.cmml">1</mn></msub><mo id="S3.E26.m1.1.1.3.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E26.m1.1.1.3.2.1.cmml">∗</mo><msub id="S3.E26.m1.1.1.3.2.3" xref="S3.E26.m1.1.1.3.2.3.cmml"><mi id="S3.E26.m1.1.1.3.2.3.2" xref="S3.E26.m1.1.1.3.2.3.2.cmml">L</mi><mrow id="S3.E26.m1.1.1.3.2.3.3" xref="S3.E26.m1.1.1.3.2.3.3.cmml"><mi id="S3.E26.m1.1.1.3.2.3.3.2" xref="S3.E26.m1.1.1.3.2.3.3.2.cmml">c</mi><mo id="S3.E26.m1.1.1.3.2.3.3.1" xref="S3.E26.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E26.m1.1.1.3.2.3.3.3" xref="S3.E26.m1.1.1.3.2.3.3.3.cmml">t</mi><mo id="S3.E26.m1.1.1.3.2.3.3.1a" xref="S3.E26.m1.1.1.3.2.3.3.1.cmml">⁢</mo><mi id="S3.E26.m1.1.1.3.2.3.3.4" xref="S3.E26.m1.1.1.3.2.3.3.4.cmml">r</mi></mrow></msub></mrow><mo id="S3.E26.m1.1.1.3.1" xref="S3.E26.m1.1.1.3.1.cmml">+</mo><mrow id="S3.E26.m1.1.1.3.3" xref="S3.E26.m1.1.1.3.3.cmml"><msub id="S3.E26.m1.1.1.3.3.2" xref="S3.E26.m1.1.1.3.3.2.cmml"><mi id="S3.E26.m1.1.1.3.3.2.2" xref="S3.E26.m1.1.1.3.3.2.2.cmml">β</mi><mn id="S3.E26.m1.1.1.3.3.2.3" xref="S3.E26.m1.1.1.3.3.2.3.cmml">2</mn></msub><mo id="S3.E26.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E26.m1.1.1.3.3.1.cmml">∗</mo><msub id="S3.E26.m1.1.1.3.3.3" xref="S3.E26.m1.1.1.3.3.3.cmml"><mi id="S3.E26.m1.1.1.3.3.3.2" xref="S3.E26.m1.1.1.3.3.3.2.cmml">L</mi><mrow id="S3.E26.m1.1.1.3.3.3.3" xref="S3.E26.m1.1.1.3.3.3.3.cmml"><mi id="S3.E26.m1.1.1.3.3.3.3.2" xref="S3.E26.m1.1.1.3.3.3.3.2.cmml">c</mi><mo id="S3.E26.m1.1.1.3.3.3.3.1" xref="S3.E26.m1.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S3.E26.m1.1.1.3.3.3.3.3" xref="S3.E26.m1.1.1.3.3.3.3.3.cmml">l</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E26.m1.1b"><apply id="S3.E26.m1.1.1.cmml" xref="S3.E26.m1.1.1"><eq id="S3.E26.m1.1.1.1.cmml" xref="S3.E26.m1.1.1.1"></eq><apply id="S3.E26.m1.1.1.2.cmml" xref="S3.E26.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E26.m1.1.1.2.1.cmml" xref="S3.E26.m1.1.1.2">subscript</csymbol><ci id="S3.E26.m1.1.1.2.2.cmml" xref="S3.E26.m1.1.1.2.2">𝐿</ci><cn id="S3.E26.m1.1.1.2.3.cmml" type="integer" xref="S3.E26.m1.1.1.2.3">3</cn></apply><apply id="S3.E26.m1.1.1.3.cmml" xref="S3.E26.m1.1.1.3"><plus id="S3.E26.m1.1.1.3.1.cmml" xref="S3.E26.m1.1.1.3.1"></plus><apply id="S3.E26.m1.1.1.3.2.cmml" xref="S3.E26.m1.1.1.3.2"><times id="S3.E26.m1.1.1.3.2.1.cmml" xref="S3.E26.m1.1.1.3.2.1"></times><apply id="S3.E26.m1.1.1.3.2.2.cmml" xref="S3.E26.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E26.m1.1.1.3.2.2.1.cmml" xref="S3.E26.m1.1.1.3.2.2">subscript</csymbol><ci id="S3.E26.m1.1.1.3.2.2.2.cmml" xref="S3.E26.m1.1.1.3.2.2.2">𝛽</ci><cn id="S3.E26.m1.1.1.3.2.2.3.cmml" type="integer" xref="S3.E26.m1.1.1.3.2.2.3">1</cn></apply><apply id="S3.E26.m1.1.1.3.2.3.cmml" xref="S3.E26.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E26.m1.1.1.3.2.3.1.cmml" xref="S3.E26.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.E26.m1.1.1.3.2.3.2.cmml" xref="S3.E26.m1.1.1.3.2.3.2">𝐿</ci><apply id="S3.E26.m1.1.1.3.2.3.3.cmml" xref="S3.E26.m1.1.1.3.2.3.3"><times id="S3.E26.m1.1.1.3.2.3.3.1.cmml" xref="S3.E26.m1.1.1.3.2.3.3.1"></times><ci id="S3.E26.m1.1.1.3.2.3.3.2.cmml" xref="S3.E26.m1.1.1.3.2.3.3.2">𝑐</ci><ci id="S3.E26.m1.1.1.3.2.3.3.3.cmml" xref="S3.E26.m1.1.1.3.2.3.3.3">𝑡</ci><ci id="S3.E26.m1.1.1.3.2.3.3.4.cmml" xref="S3.E26.m1.1.1.3.2.3.3.4">𝑟</ci></apply></apply></apply><apply id="S3.E26.m1.1.1.3.3.cmml" xref="S3.E26.m1.1.1.3.3"><times id="S3.E26.m1.1.1.3.3.1.cmml" xref="S3.E26.m1.1.1.3.3.1"></times><apply id="S3.E26.m1.1.1.3.3.2.cmml" xref="S3.E26.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E26.m1.1.1.3.3.2.1.cmml" xref="S3.E26.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.E26.m1.1.1.3.3.2.2.cmml" xref="S3.E26.m1.1.1.3.3.2.2">𝛽</ci><cn id="S3.E26.m1.1.1.3.3.2.3.cmml" type="integer" xref="S3.E26.m1.1.1.3.3.2.3">2</cn></apply><apply id="S3.E26.m1.1.1.3.3.3.cmml" xref="S3.E26.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E26.m1.1.1.3.3.3.1.cmml" xref="S3.E26.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.E26.m1.1.1.3.3.3.2.cmml" xref="S3.E26.m1.1.1.3.3.3.2">𝐿</ci><apply id="S3.E26.m1.1.1.3.3.3.3.cmml" xref="S3.E26.m1.1.1.3.3.3.3"><times id="S3.E26.m1.1.1.3.3.3.3.1.cmml" xref="S3.E26.m1.1.1.3.3.3.3.1"></times><ci id="S3.E26.m1.1.1.3.3.3.3.2.cmml" xref="S3.E26.m1.1.1.3.3.3.3.2">𝑐</ci><ci id="S3.E26.m1.1.1.3.3.3.3.3.cmml" xref="S3.E26.m1.1.1.3.3.3.3.3">𝑙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E26.m1.1c">L_{3}=\beta_{1}*L_{ctr}+\beta_{2}*L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S3.E26.m1.1d">italic_L start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT = italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∗ italic_L start_POSTSUBSCRIPT italic_c italic_t italic_r end_POSTSUBSCRIPT + italic_β start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∗ italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiment</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experiment Setup</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">Dataset. </span> Our evaluation is conducted on a real-world dataset from Meituan Waimai. For the Click-Through Rate (CTR) prediction task, as shown in Table  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.T1" title="Table 1 ‣ 4.1. Experiment Setup ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">1</span></a>, we perform negative sampling on the log data collected from April 1st to April 7th, 2024, yielding approximately 3.5 billion training samples. For the test set, we uniformly sample the data from the subsequent day, April 8th, 2024, resulting in 84 million samples. Specifically, the input traditional features include user statistical features, real-time contextual features, user-POI cross-statistical features, POI statistical features, and the label, among others. Semantic features comprise descriptions of user foundational information, POI foundational information, as well as statistical descriptions of both user and POI.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.2.1.1" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" id="S4.T1.3.2" style="font-size:90%;">Statistics of the dataset.</span></figcaption>
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.4.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.4.1.1.1">Field</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.4.1.1.2">Size</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.4.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.2.1.1">#Users</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.2.1.2">0.24 billion</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.3.2">
<td class="ltx_td ltx_align_center" id="S4.T1.4.3.2.1">#PoIs</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.3.2.2">4.37 million</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.4.3">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.4.4.3.1">#Records</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.4.4.3.2">3.5 billion</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">During the continual pretraining phase, we select information from 4 million POIs to construct approximately 1B training corpora, which is then mixed with 9B Chinese corpora from Wudao <cite class="ltx_cite ltx_citemacro_citep">(Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib36" title="">2021</a>)</cite>, forming a total of 10 billion pre-training textual corpora. In the fine-tuning phase, we extract 1 million samples from the historical behaviors of 2 million users for model fine-tuning. Additionally, all user and POI information data has been anonymized during the training of the LLM.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.2.1.1" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" id="S4.T2.3.2" style="font-size:90%;">Performance comparison between our LARR and
baselines</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T2.4">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.4.1.1">
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.T2.4.1.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.1.2">Model</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.1.3">CTR AUC</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.1.4">CTCVR AUC</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.1.5">CTR GAUC</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.1.6">CTCVR GAUC</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.2.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.4.2.2.1" rowspan="2"><span class="ltx_text" id="S4.T2.4.2.2.1.1">Traditional Feature Learning Models</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.2.2.2">Wide&amp;Deep</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.2.2.3">0.7912</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.2.2.4">0.8894</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.2.2.5">0.7011</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.2.2.6">0.6869</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.3.3">
<td class="ltx_td ltx_align_center" id="S4.T2.4.3.3.1">DeepFM</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.3.3.2">0.7918</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.3.3.3">0.8896</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.3.3.4">0.7009</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.3.3.5">0.6865</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4.4">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.4.4.4.1" rowspan="3"><span class="ltx_text" id="S4.T2.4.4.4.1.1">Context-Aware Recommendation Models</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.2">P5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.3">0.7439</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.4">0.8363</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.5">0.6422</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.6">0.6318</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.5.5">
<td class="ltx_td ltx_align_center" id="S4.T2.4.5.5.1">PLE</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.5.5.2">0.7983</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.5.5.3">0.8947</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.5.5.4">0.7088</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.5.5.5">0.6939</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.6.6">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.4.6.6.1">LARR</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.4.6.6.2"><span class="ltx_text ltx_font_bold" id="S4.T2.4.6.6.2.1">0.8030</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.4.6.6.3"><span class="ltx_text ltx_font_bold" id="S4.T2.4.6.6.3.1">0.8978</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.4.6.6.4"><span class="ltx_text ltx_font_bold" id="S4.T2.4.6.6.4.1">0.7107</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.4.6.6.5"><span class="ltx_text ltx_font_bold" id="S4.T2.4.6.6.5.1">0.6955</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Baseline. </span>To evaluate the performance of our experiments, we have selected a variety of classic experimental baselines, encompassing both traditional and semantic models. Specifically:</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">Wide&amp;Deep</span> <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib6" title="">2016</a>)</cite> is a machine learning model that integrates linear components (Wide) for handling sparse input features with deep neural networks (Deep) to learn feature interactions. It aims to leverage both memorization and generalization and is widely used in recommendation systems.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">DeepFM</span> <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib13" title="">[n. d.]</a>)</cite> is a recommendation model that combines Factorization Machines (FM) with deep neural networks, designed to retain the advantages of FM while automatically learning high-order feature interactions.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">P5</span> <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib12" title="">2022</a>)</cite> is a model based on the language model T5 that transforms the recommendation task into a text generation task. Additionally, given that P5 is a generative model, we fine-tuned it using the food delivery dataset to fulfill tasks such as CTR prediction.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">PLE</span> <cite class="ltx_cite ltx_citemacro_citep">(Tang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib30" title="">2020</a>)</cite> is a multi-task model based on the Mixed Model of Experts (MMOE) structure, which also serves as the baseline model in our model.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i5.p1">
<p class="ltx_p" id="S4.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i5.p1.1.1">LARR</span> is our proposed model, opts for the PLE model as the foundation for the traditional model component, and Baichuan2-7B <cite class="ltx_cite ltx_citemacro_citep">(Baichuan, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib4" title="">2023</a>)</cite> for the semantic model part, with the aim of fully understanding the semantic information of real-time scenes and effectively integrating multimodal features to enhance recommendation results.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">Parameter Setting</span> To evaluate performance, we utilize Click-Through Rate (CTR AUC) and Conversion Rate (CTCVR AUC) as evaluation metrics, along with Group AUC (GAUC) for assessment.Our backbone LLM utilizes the open-sourced Baichuan2-7B <cite class="ltx_cite ltx_citemacro_citep">(Baichuan, <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#bib.bib4" title="">2023</a>)</cite>. As detailed in Section 3, the backbone LLM first constructs a descriptive language corpus for all POIs on Meituan, upon which it performs continual pretraining. The epoch is set to 1, with a learning rate of 1e-4. The continual pretraining runs for approximately 96 hours on 32 A100-80G GPUs. Upon completion of continual pretraining, contrastive learning is conducted from three dimensions: ”user-user,” ”POI-POI,” and ”user-POI” to construct the vector model, encoding scene features into 128-dimensional vectors and stacking them into sequences. A 1-layer transformer encoder is employed to aggregate the encoded scene vectors, producing real-time scene information. During the alignment phase, an MLP is used as the projection head to project real-time scene information into the vector space of the alignment target. The projected vectors and alignment targets undergo contrastive learning with Info-NCE loss, treating vectors from the same sample as positive and those from different samples as negative. The temperature is set to 0.1, and the loss balancing coefficient is set to 0.05. The projected vectors and alignment targets, after concatenation, are used for CTR and CTCVR prediction. For fair comparison across all methods, we chose the following parameter configurations: a batch size of 2400, training for one epoch, with a learning rate of 8e-4. The tests run on 8 A100 GPUs, and for other parameters, we follow the best results from the original papers or source codes.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Performance Comparison</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In this section, we provide a detailed comparison of the performance of our model, LARR, against various baselines. As shown in Table  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.T2" title="Table 2 ‣ 4.1. Experiment Setup ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">2</span></a>, an analysis of the experimental results reveals the following findings:</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">Firstly, we observe that traditional recommendation system models, such as Wide&amp;Deep and DeepFM, generally underperform more advanced deep learning models like PLE. This phenomenon suggests that complex deep network structures have significant advantages in learning feature interactions and capturing complex user interest patterns. By introducing deeper and more intricate interactions, these networks can more finely mine the underlying motivations behind user behavior, thereby achieving better accuracy in recommendations.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">Secondly, our experimental results indicate that the semantic model P5 does not perform well in the food delivery recommendation task. This may suggest that in recommendation systems, traditional statistical features can sometimes more directly reflect the actual interests of users compared to semantic features. Although semantic models can provide rich contextual information, statistical analysis of user historical behavior may more directly and effectively reveal user preferences in practical recommendation scenes.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">Finally, our model, LARR, outperforms all baseline models. Compared to the PLE model, LARR achieves a significant 0.58% improvement in CTR AUC and also gains an 0.34% increase in CTCVR AUC. These results not only confirm the superiority of our model but also emphasize the effectiveness of LARR in integrating the semantic information of real-time scenes with recommendation modality information. Through this integration, LARR can capture users’ immediate needs and potential interests more accurately, significantly enhancing the overall performance and user satisfaction of the recommendation.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Ablation Study</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">We introduce a novel multimodal information fusion framework, LARR. Initially, based on Food Delivery recommendation data, we perform continual pretraining and fine-tuning on LLMs to infuse domain knowledge and enhance the LLMs’ understanding of real-time scenes.
Subsequently, in the CTR task, we effectively integrate the real-time semantic information with recommendation modality information, thereby improving recommendation results. To verify the effectiveness of these designs, we conducted ablation studies.</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">LARR-PLE</span> Variant: The model variant that completely removes the LLM module, essentially the original PLE model.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">LARR-noCPT</span> Variant: The model variant that omits the continual pretraining phase of the LLM.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">LARR-noFT</span> Variant: The model variant that excludes the vector fine-tuning phase of the LLM.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i4.p1.1.1">LARR-noAL</span> Variant: The model variant that removes the multimodal feature alignment stage, relying solely on a simple feature concatenation strategy.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i5.p1">
<p class="ltx_p" id="S4.I2.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i5.p1.1.1">LARR</span> Complete: The complete LARR framework.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T3.2.1.1" style="font-size:90%;">Table 3</span>. </span><span class="ltx_text" id="S4.T3.3.2" style="font-size:90%;">Performance comparison of LARR and different
variants.</span></figcaption>
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.4.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.4.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.4.1.1.2">CTR AUC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.4.1.1.3">CTCVR AUC</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.4.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.1.1">LARR-PLE</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.1.2">0.7983</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.1.3">0.8947</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.3.2">
<td class="ltx_td ltx_align_center" id="S4.T3.4.3.2.1">LARR-noCPT</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.3.2.2">0.8017</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.3.2.3">0.8969</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.4.3">
<td class="ltx_td ltx_align_center" id="S4.T3.4.4.3.1">LARR-noFT</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.4.3.2">0.7985</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.4.3.3">0.8948</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.5.4">
<td class="ltx_td ltx_align_center" id="S4.T3.4.5.4.1">LARR-noAL</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.5.4.2">0.8007</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.5.4.3">0.8961</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.6.5">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.6.5.1">LARR-Complete</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.6.5.2"><span class="ltx_text ltx_font_bold" id="S4.T3.4.6.5.2.1">0.8030</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.6.5.3"><span class="ltx_text ltx_font_bold" id="S4.T3.4.6.5.3.1">0.8978</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">The results are illustrated in the figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.T3" title="Table 3 ‣ 4.3. Ablation Study ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">3</span></a>.
The improvement of LARR Complete over LARR-noCPT Variant indicates that domain-specific continual pretraining of LLMs can significantly enhance the model’s understanding of domain knowledge, thus capturing the semantic information of user and POI more accurately. The comparison between LARR Complete and LARR-noFT Variant demonstrates that the base model of LLM, without vector fine-tuning, does not yield ideal results; however, an LLM that has undergone vector fine-tuning can more effectively understand the personalized features of users and POIs, generating more expressive feature vectors. The comparison between LARR Complete and LARR-noAL Variant underscores the importance of multimodal feature alignment. Simple feature concatenation cannot compensate for the spatial differences between semantic features and traditional collaborative features, whereas a carefully designed multimodal alignment mechanism can achieve effective integration of features from different modalities. Ultimately, LARR Complete surpasses all variants on all metrics, validating the effectiveness of our adopted strategies in enhancing recommendation quality. Overall, the success of LARR is attributed to its profound understanding of complex user behaviors and diverse POI features in real-time scenes, as well as its efficient capability to fuse multimodal information. Our research offers fresh perspectives on how to leverage large language models and contrastive learning to enhance recommendation results.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Hyperparameter Analysis</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In Section 4.4, our aim is to align the deep semantic information of food delivery scenes as understood by LLMs with the collaborative signals extracted from ID tokens, cross-features, and statistical features by the conventional fine-tuning models. We seek to extract the shared information between semantic and collaborative data to enhance model performance. During the alignment phase of the model, we focus on two key hyperparameters: the temperature coefficient and the negative sample sampling ratio. The temperature coefficient plays a crucial role in the loss function of contrastive learning, adjusting the sensitivity of the loss and influencing the model’s ability to distinguish between positive and negative samples. A lower temperature coefficient increases the difficulty for the model to differentiate samples, causing it to focus more on challenging sample pairs. Conversely, the negative sample sampling ratio controls the ratio of negative to positive samples during the contrastive learning process. In this section, we conduct experimental analysis on these two hyperparameters with respect to CTR AUC, with results depicted in Figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.F4" title="Figure 4 ‣ 4.4. Hyperparameter Analysis ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">4</span></a></p>
</div>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="414" id="S4.F4.sf1.g1" src="extracted/5804842/temperature.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F4.sf1.3.2" style="font-size:90%;">Temperature Coefficient vs CTR AUC</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="414" id="S4.F4.sf2.g1" src="extracted/5804842/negative.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F4.sf2.3.2" style="font-size:90%;">Negative Sampling Ratio vs CTR AUC</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.2.1.1" style="font-size:90%;">Figure 4</span>. </span><span class="ltx_text" id="S4.F4.3.2" style="font-size:90%;">Hyperparameter Analysis</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">Figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.F4.sf1" title="In Figure 4 ‣ 4.4. Hyperparameter Analysis ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">4(a)</span></a> illustrates the relationship between the temperature coefficient and experimental performance. We find that when the temperature coefficient is set to 0.1, the model achieves optimal performance, indicating that at this specific setting, the model can effectively learn from the data and improve its discrimination ability. However, if the temperature coefficient is set too low or too high, the learning efficiency of the model is impacted, leading to decreased performance. On the other hand, the experimental results regarding the negative sample sampling ratio, as shown in Figure  <a class="ltx_ref" href="https://arxiv.org/html/2408.11523v1#S4.F4.sf2" title="In Figure 4 ‣ 4.4. Hyperparameter Analysis ‣ 4. Experiment ‣ LARR: Large Language Model Aided Real-time Scene Recommendation with Semantic Understanding"><span class="ltx_text ltx_ref_tag">4(b)</span></a>, indicate that introducing negative sample sampling in our setup does not lead to the anticipated performance improvement. Instead, we observe a decline in model performance after employing negative sample sampling. This may be due to the fact that, in certain data and tasks, increasing the number of negative samples does not provide additional information but may instead introduce noise or cause the model to overly focus on negative samples, thereby affecting the model’s learning efficiency with positive samples.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Case Study</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">We present a case study to further demonstrate the model’s proficiency. Given that out-of-area ordering (where users place orders from locations other than their usual residence for various reasons) has always been an important scenario in food delivery services, we are particularly interested in whether the model can generate good recommendations for out-of-area users based on relevant semantics. We selected some random users who have never been to Guangdong, with the scene of ”user visiting Guangdong for vacation”, designed a simple recall experiment to observe the details of the top 10 POIs in terms of recall scores. A typical result is as follows, with each response presented as location; main dish. Sensitive information such as POI names and details have been omitted.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">Top1: Guangzhou; Rice Noodle Roll</p>
</div>
<div class="ltx_para" id="S4.SS5.p3">
<p class="ltx_p" id="S4.SS5.p3.1">Top2:. Chaoshan; Stir-fried Beef Rice Noodles</p>
</div>
<div class="ltx_para" id="S4.SS5.p4">
<p class="ltx_p" id="S4.SS5.p4.1">Top3:. Guangzhou; Stir-fried Beef Rice Noodles</p>
</div>
<div class="ltx_para" id="S4.SS5.p5">
<p class="ltx_p" id="S4.SS5.p5.1">Top4:. Shenzhen; Seafood Claypot Congee</p>
</div>
<div class="ltx_para" id="S4.SS5.p6">
<p class="ltx_p" id="S4.SS5.p6.1">Top5: Guangzhou; Cantonese Barbecue</p>
</div>
<div class="ltx_para" id="S4.SS5.p7">
<p class="ltx_p" id="S4.SS5.p7.1">Top6: Guangzhou; Claypot Rice</p>
</div>
<div class="ltx_para" id="S4.SS5.p8">
<p class="ltx_p" id="S4.SS5.p8.1">Top7: Guangzhou; Rice Noodle Roll</p>
</div>
<div class="ltx_para" id="S4.SS5.p9">
<p class="ltx_p" id="S4.SS5.p9.1">Top8: Guangzhou; Sweet Soup</p>
</div>
<div class="ltx_para" id="S4.SS5.p10">
<p class="ltx_p" id="S4.SS5.p10.1">Top9: Dongguan; Sweet Soup</p>
</div>
<div class="ltx_para" id="S4.SS5.p11">
<p class="ltx_p" id="S4.SS5.p11.1">Top10: Foshan; Claypot Rice</p>
</div>
<div class="ltx_para" id="S4.SS5.p12">
<p class="ltx_p" id="S4.SS5.p12.1">In this case, Guangdong appeared the most frequently (5 times), with recalled POI primarily offering dishes such as Rice Noodle Roll, Stir-fried Beef Rice Noodles, Cantonese Barbecue, Claypot Rice, and Sweet Soup. ChaoShan, Shenzhen, Dongguan, and Foshan each appeared once or twice. This geographical distribution reflects the culinary diversity and popularity of Guangzhou as the capital city of Guangdong Province, which aligns with our survey findings that these dishes are representative of Guangdong’s regional specialties.</p>
</div>
<div class="ltx_para" id="S4.SS5.p13">
<p class="ltx_p" id="S4.SS5.p13.1">The recall results cover a variety of classic Cantonese dishes, indicating that the model performs well in capturing local characteristics. The recall results show that the model can identify multiple different types of dishes and accurately match them to the provided scene text, this diversity is positive for enhancing user satisfaction and meeting a wider range of user needs.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>Online A/B Test</h3>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.1">LARR demonstrated its practical value in an online A/B test within the Meituan recommendation system. During the testing period from April 15th to April 21st, 2024, LARR achieved a 2.5% increase in CTR and a 1.2% growth in GMV (Gross Merchandise Volume) compared to the current baseline model. These results confirm the effectiveness of LARR in understanding user needs and enhancing user experience. The increase in CTR indicates a higher acceptance of recommended content by users, which may be attributed to LARR’s more accurate capture of user interests, thus providing recommendations that better align with user expectations. The growth in GMV directly reflects the positive impact of LARR on conversion rates and business revenue. This online test verified the practicality and effectiveness of LARR within the Meituan recommendation system.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">To tackle the lack of understanding of semantic information in RS and the efficiency challenges in LLM-based CTR models, this paper proposes a novel LARR method. LARR continues to pretrain and fine-tune the LLM on some corpora with an enlarged vocabulary, using contrastive learning to align semantic signals and collaborative signals, leverage shared information, and reduce noise. Extensive online and offline experimental results demonstrate that LARR achieves low latency and enhances CTR performance, offering fresh insights for the practical deployment of LLM-based CTR models.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al<span class="ltx_text" id="bib.bib2.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.4.1">arXiv preprint arXiv:2303.08774</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arora et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Sanjeev Arora, Hrishikesh Khandeparkar, Mikhail Khodak, Orestis Plevrakis, and Nikunj Saunshi. 2019.

</span>
<span class="ltx_bibblock">A theoretical analysis of contrastive unsupervised representation learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">36th International Conference on Machine Learning, ICML 2019</em>. International Machine Learning Society (IMLS), 9904–9923.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Baichuan (2023)</span>
<span class="ltx_bibblock">
Baichuan. 2023.

</span>
<span class="ltx_bibblock">Baichuan 2: Open Large-scale Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2309.10305</em> (2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2309.10305" title="">https://arxiv.org/abs/2309.10305</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Tallrec: An effective and efficient tuning framework to align large language model with recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the 17th ACM Conference on Recommender Systems</em>. 1007–1014.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Heng-Tze Cheng, Levent Koc, Jeremiah Harmsen, Tal Shaked, Tushar Chandra, Hrishi Aradhye, Glen Anderson, Greg Corrado, Wei Chai, Mustafa Ispir, et al<span class="ltx_text" id="bib.bib6.3.1">.</span> 2016.

</span>
<span class="ltx_bibblock">Wide &amp; deep learning for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib6.4.1">Proceedings of the 1st workshop on deep learning for recommender systems</em>. 7–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhery et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, et al<span class="ltx_text" id="bib.bib7.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Palm: Scaling language modeling with pathways.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.4.1">Journal of Machine Learning Research</em> 24, 240 (2023), 1–113.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zeyu Cui, Jianxin Ma, Chang Zhou, Jingren Zhou, and Hongxia Yang. 2022.

</span>
<span class="ltx_bibblock">M6-rec: Generative pretrained language models are open-ended recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">arXiv preprint arXiv:2205.08084</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2018.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">arXiv preprint arXiv:1810.04805</em> (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang, and Jie Tang. 2022.

</span>
<span class="ltx_bibblock">GLM: General Language Model Pretraining with Autoregressive Blank Infilling. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>. 320–335.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Zhichao Feng, Junjiie Xie, Kaiyuan Li, Yu Qin, Pengfei Wang, Qianzhong Li, Bin Yin, Xiang Li, Wei Lin, and Shangguang Wang. 2024.

</span>
<span class="ltx_bibblock">Context-based Fast Recommendation Strategy for Long User Behavior Sequence in Meituan Waimai.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">arXiv preprint arXiv:2403.12566</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang Liu, Zuohui Fu, Yingqiang Ge, and Yongfeng Zhang. 2022.

</span>
<span class="ltx_bibblock">Recommendation as Language Processing (RLP): A Unified Pretrain, Personalized Prompt &amp; Predict Paradigm (P5). In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">16th ACM Conference on Recommender Systems, RecSys 2022</em>. Association for Computing Machinery, Inc, 299–315.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> ([n. d.])</span>
<span class="ltx_bibblock">
Huifeng Guo, Ruiming Tang, Yunming Ye, Zhenguo Li, and Xiuqiang He. [n. d.].

</span>
<span class="ltx_bibblock">DeepFM: A Factorization-Machine based Neural Network for CTR Prediction.

</span>
<span class="ltx_bibblock">([n. d.]).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhankui He, Zhouhang Xie, Rahul Jha, Harald Steck, Dawen Liang, Yesu Feng, Bodhisattwa Prasad Majumder, Nathan Kallus, and Julian McAuley. 2023.

</span>
<span class="ltx_bibblock">Large language models as zero-shot conversational recommenders. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">Proceedings of the 32nd ACM international conference on information and knowledge management</em>. 720–730.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hua et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wenyue Hua, Lei Li, Shuyuan Xu, Li Chen, and Yongfeng Zhang. 2023.

</span>
<span class="ltx_bibblock">Tutorial on large language models for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of the 17th ACM Conference on Recommender Systems</em>. 1281–1283.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Tongwen Huang, Zhiqi Zhang, and Junlin Zhang. 2019.

</span>
<span class="ltx_bibblock">FiBiNET: combining feature importance and bilinear feature interaction for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of the 13th ACM conference on recommender systems</em>. 169–177.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Mike Lewis, Yinhan Liu, Naman Goyal, Marjan Ghazvininejad, Abdelrahman Mohamed, Omer Levy, Ves Stoyanov, and Luke Zettlemoyer. 2019.

</span>
<span class="ltx_bibblock">Bart: Denoising sequence-to-sequence pre-training for natural language generation, translation, and comprehension.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">arXiv preprint arXiv:1910.13461</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Junnan Li, Dongxu Li, Silvio Savarese, and Steven Hoi. 2023c.

</span>
<span class="ltx_bibblock">Blip-2: Bootstrapping language-image pre-training with frozen image encoders and large language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">International conference on machine learning</em>. PMLR, 19730–19742.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Junnan Li, Dongxu Li, Caiming Xiong, and Steven Hoi. 2022.

</span>
<span class="ltx_bibblock">Blip: Bootstrapping language-image pre-training for unified vision-language understanding and generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">International conference on machine learning</em>. PMLR, 12888–12900.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Xiangyang Li, Bo Chen, Lu Hou, and Ruiming Tang. 2023a.

</span>
<span class="ltx_bibblock">Ctrl: Connect tabular and language model for ctr prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">arXiv preprint arXiv:2306.02841</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Xinhang Li, Chong Chen, Xiangyu Zhao, Yong Zhang, and Chunxiao Xing. 2023b.

</span>
<span class="ltx_bibblock">E4SRec: An elegant effective efficient extensible solution of large language models for sequential recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">arXiv preprint arXiv:2312.02443</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jianxun Lian, Xiaohuan Zhou, Fuzheng Zhang, Zhongxia Chen, Xing Xie, and Guangzhong Sun. 2018.

</span>
<span class="ltx_bibblock">xdeepfm: Combining explicit and implicit feature interactions for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 1754–1763.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Junyang Lin, Rui Men, An Yang, Chang Zhou, Ming Ding, Yichang Zhang, Peng Wang, Ang Wang, Le Jiang, Xianyan Jia, et al<span class="ltx_text" id="bib.bib23.3.1">.</span> 2021.

</span>
<span class="ltx_bibblock">M6: A chinese multimodal pretrainer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.4.1">arXiv preprint arXiv:2103.00823</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jiaqi Ma, Zhe Zhao, Xinyang Yi, Jilin Chen, Lichan Hong, and Ed H Chi. 2018.

</span>
<span class="ltx_bibblock">Modeling task relationships in multi-task learning with multi-gate mixture-of-experts. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 1930–1939.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Neelakantan et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Arvind Neelakantan, Tao Xu, Raul Puri, Alec Radford, Jesse Michael Han, Jerry Tworek, Qiming Yuan, Nikolas Tezak, Jong Wook Kim, Chris Hallacy, et al<span class="ltx_text" id="bib.bib25.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Text and code embeddings by contrastive pre-training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.4.1">arXiv preprint arXiv:2201.10005</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiu et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Junyan Qiu, Haitao Wang, Zhaolin Hong, Yiping Yang, Qiang Liu, and Xingxing Wang. 2023.

</span>
<span class="ltx_bibblock">ControlRec: Bridging the semantic gap between language model and personalized recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">arXiv preprint arXiv:2311.16441</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">QIU et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
XiPeng QIU, TianXiang SUN, YiGe XU, YunFan SHAO, Ning DAI, and XuanJing HUANG. 2017.

</span>
<span class="ltx_bibblock">Pre-trained models for natural language processing: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">SCIENCE CHINA Information Sciences</em> 60 (2017), 110100.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, and Peter J Liu. 2020.

</span>
<span class="ltx_bibblock">Exploring the limits of transfer learning with a unified text-to-text transformer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Journal of machine learning research</em> 21, 140 (2020), 1–67.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xubin Ren, Wei Wei, Lianghao Xia, Lixin Su, Suqi Cheng, Junfeng Wang, Dawei Yin, and Chao Huang. 2023.

</span>
<span class="ltx_bibblock">Representation learning with large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">arXiv preprint arXiv:2310.15950</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Hongyan Tang, Junning Liu, Ming Zhao, and Xudong Gong. 2020.

</span>
<span class="ltx_bibblock">Progressive layered extraction (ple): A novel multi-task learning (mtl) model for personalized recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">Proceedings of the 14th ACM Conference on Recommender Systems</em>. 269–278.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et al<span class="ltx_text" id="bib.bib31.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.4.1">arXiv preprint arXiv:2302.13971</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin. 2017.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Advances in neural information processing systems</em> 30 (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Yi Tay, Rishi Bommasani, Colin Raffel, Barret Zoph, Sebastian Borgeaud, Dani Yogatama, Maarten Bosma, Denny Zhou, Donald Metzler, et al<span class="ltx_text" id="bib.bib33.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Emergent abilities of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.4.1">arXiv preprint arXiv:2206.07682</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Wei Wei, Xubin Ren, Jiabin Tang, Qinyong Wang, Lixin Su, Suqi Cheng, Junfeng Wang, Dawei Yin, and Chao Huang. 2024.

</span>
<span class="ltx_bibblock">Llmrec: Large language models with graph augmentation for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">Proceedings of the 17th ACM International Conference on Web Search and Data Mining</em>. 806–815.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xi et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhiheng Xi, Wenxiang Chen, Xin Guo, Wei He, Yiwen Ding, Boyang Hong, Ming Zhang, Junzhe Wang, Senjie Jin, Enyu Zhou, et al<span class="ltx_text" id="bib.bib35.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">The rise and potential of large language model based agents: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.4.1">arXiv preprint arXiv:2309.07864</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Sha Yuan, Hanyu Zhao, Zhengxiao Du, Ming Ding, Xiao Liu, Yukuo Cen, Xu Zou, Zhilin Yang, and Jie Tang. 2021.

</span>
<span class="ltx_bibblock">Wudaocorpora: A super large-scale chinese corpora for pre-training language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">AI Open</em> 2 (2021), 65–68.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yichi Zhang, Guisheng Yin, and Yuxin Dong. 2023.

</span>
<span class="ltx_bibblock">Contrastive learning with frequency-domain interest trends for sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of the 17th ACM Conference on Recommender Systems</em>. 141–150.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Zhengyan Zhang, Xu Han, Zhiyuan Liu, Xin Jiang, Maosong Sun, and Qun Liu. 2019.

</span>
<span class="ltx_bibblock">ERNIE: Enhanced language representation with informative entities.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">arXiv preprint arXiv:1905.07129</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wayne Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et al<span class="ltx_text" id="bib.bib39.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.4.1">arXiv preprint arXiv:2303.18223</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yaochen Zhu, Liang Wu, Qi Guo, Liangjie Hong, and Jundong Li. 2023.

</span>
<span class="ltx_bibblock">Collaborative large language model for recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">arXiv preprint arXiv:2311.01343</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Aug 21 09:56:58 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
