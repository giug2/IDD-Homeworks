<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1712.00871] Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1712.00871">

<!--Generated on Sun Mar  3 18:59:14 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chris Culnane, Benjamin I. P. Rubinstein, Vanessa Teague
</span><span class="ltx_author_notes">School of Computing and Information Systems, University of Melbourne, Australia. 
<br class="ltx_break">Email <span id="id1.1.id1" class="ltx_text ltx_font_typewriter">{cculnane, brubinstein, vjteague}@unimelb.edu.au</span></span></span>
</div>

<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Summary</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">In the course of a survey of privacy-preserving record linkage, we reviewed the approach taken by the UK Office for National Statistics (ONS) as described in their series of reports “Beyond 2011”. Our review identifies a number of matters of concern.
Some of the issues discovered are sufficiently severe to present a risk to privacy. The issues discovered are as follows, in order of severity, from least to most severe:</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<ol id="Sx1.I1" class="ltx_enumerate">
<li id="Sx1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="Sx1.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i1.p1.1" class="ltx_p">Incorrect cryptographic assumptions have been made, in combination with incorrect statements regarding the required entropy for HMAC keys. The consequence is an overstatement of the security of the solution;</p>
</div>
</li>
<li id="Sx1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="Sx1.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i2.p1.1" class="ltx_p">The provision of similarity tables with HMAC’d names exposes the approach to frequency attacks; and</p>
</div>
</li>
<li id="Sx1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="Sx1.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i3.p1.1" class="ltx_p">Plaintext similarity scores provide an index to HMAC’d names, permitting plaintext recovery of names.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Note on Statistical Research Environment</h2>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">Our analysis has been performed without access to the underlying data or the Statistical Research Environment (SRE). As such, it reflects on the methods described in the “Beyond 2011” series only, and specifically focuses on the fact that sole reliance on HMAC’ing in combination with similarity tables is not an appropriate method for protecting data. As noted in the ONS M10 paper <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, the SRE itself should provide protection of the data, through physical, security and procedural controls - for example restrictions on what can and cannot be taken into the SRE. The Environment itself should be fully isolated from all other systems and networks, and should include protective monitoring measures. It is important to note that as such, the underlying data remains protected by the SRE and its corresponding controls – the attacks are not technically difficult, so they could potentially be run within the SRE. The data should be protected by procedural controls on the basis that it is identifiable. This demonstrates the value of SRE based access to data, in that even when one procedure is shown to contain a flaw (in this case, the use of similarity tables), the other layers of protection allow the underlying data to remain protected.</p>
</div>
<div id="Sx2.p2" class="ltx_para">
<p id="Sx2.p2.1" class="ltx_p">Our motivation for raising the issues contained within this report is twofold, firstly, to correct the narrative around the security offered by hashing, HMACs, and similarity tables. This is important as a misunderstanding can propagate more widely and lead to incorrect decisions being taken when protecting data outside of an SRE. Secondly, to correct the incorrect assertion that the data protection methods provided by the HMAC and similarity tables are secure against all currently-feasible attacks and thus can be deployed outside of an SRE to provide protection. As we shall show the methods are susceptible to both existing and new attacks, and should not be deployed outside an SRE.</p>
</div>
<div id="Sx2.p3" class="ltx_para">
<p id="Sx2.p3.1" class="ltx_p">We would like to emphasise the attacks contained within this report do not constitute an attack against the SRE itself, they are an attack against a particular set of data protection techniques deployed within the SRE.</p>
</div>
<div id="Sx2.p4" class="ltx_para">
<p id="Sx2.p4.1" class="ltx_p">We would like to thank the ONS for their constructive response to our analysis.
It is commendable that the ONS has published its methodology, and we hope that our analysis is exactly the sort of constructive participation that should happen between academia and government. It is a good thing when weaknesses are identified, because then they can be corrected, and the methodology improved before it is used in an inappropriate way. This process bears witness to openness and transparency being drivers for better security and privacy. Rather than being criticised for making a mistake, the ONS should be commended for making enough details of their methodology public to allow independent scientists to identify weaknesses and have them corrected—this is in the best interests of the privacy of citizens.</p>
</div>
</section>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Incorrect cryptographic assumptions</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">When analysing cryptographic protocols it is essential to be precise about both the components that make up that protocol, and the corresponding assumptions associated with those components. Usage of the correct terminology is absolutely critical to performing an accurate security analysis. Different cryptographic primitives provide different properties under different assumptions. Incorrect usage of terminology can lead to a critical misunderstanding of the cryptographic properties being offered. It is also of equal importance when composing multiple protocols together, to ensure that one protocol/process does not undermine the security of another.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The M9 document <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> makes the following statement:</p>
</div>
<div id="S1.p3" class="ltx_para">
<blockquote id="S1.p3.1" class="ltx_quote ltx_displayquote">
<p id="S1.p3.1.1" class="ltx_p"><span id="S1.p3.1.1.1" class="ltx_text ltx_inline-quote">“We have used a cryptographic hash function to anonymise person identifying information
including names, dates of birth and addresses. The hash function, which converts a field into a
condensed representation of fixed value, is a one-way process that is irreversible – once the
hashing algorithm is applied it is not possible to get back to the original information without
significant effort and the use of tools that are not available in the research environment.”</span></p>
</blockquote>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">There are two issues with this statement; firstly, cryptographic hashes only approximate one-way functions under certain assumptions, which are not met in the case of the ONS approach. Secondly, the approach does not strictly use a hash function, it uses an HMAC.</p>
</div>
<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Hashes and one-way functions</h3>

<div id="S1.SS1.p1" class="ltx_para">
<p id="S1.SS1.p1.1" class="ltx_p">Most of the security analysis contained within M9 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and M10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> is incorrectly based on the assumption that hashing is a perfect one-way function. However, a cryptographic hash function only approximates a one-way function if the set of pre-images is sufficiently large to prevent brute-force attacks, and if the input is drawn uniformly at random. In layperson’s terms, this means that the set of all possible inputs is sufficiently large to make it infeasible to try them all, and that all items are equally likely to appear.</p>
</div>
<div id="S1.SS1.p2" class="ltx_para">
<p id="S1.SS1.p2.1" class="ltx_p">In terms of what would be considered sufficiently large, it should be equivalent to the security level for a symmetric cipher, <span id="S1.SS1.p2.1.1" class="ltx_text ltx_font_italic">i.e.</span> 112 bits of entropy at the very minimum. This equates to <math id="S1.SS1.p2.1.m1.1" class="ltx_Math" alttext="2^{112}" display="inline"><semantics id="S1.SS1.p2.1.m1.1a"><msup id="S1.SS1.p2.1.m1.1.1" xref="S1.SS1.p2.1.m1.1.1.cmml"><mn id="S1.SS1.p2.1.m1.1.1.2" xref="S1.SS1.p2.1.m1.1.1.2.cmml">2</mn><mn id="S1.SS1.p2.1.m1.1.1.3" xref="S1.SS1.p2.1.m1.1.1.3.cmml">112</mn></msup><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.1.m1.1b"><apply id="S1.SS1.p2.1.m1.1.1.cmml" xref="S1.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S1.SS1.p2.1.m1.1.1.1.cmml" xref="S1.SS1.p2.1.m1.1.1">superscript</csymbol><cn type="integer" id="S1.SS1.p2.1.m1.1.1.2.cmml" xref="S1.SS1.p2.1.m1.1.1.2">2</cn><cn type="integer" id="S1.SS1.p2.1.m1.1.1.3.cmml" xref="S1.SS1.p2.1.m1.1.1.3">112</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.1.m1.1c">2^{112}</annotation></semantics></math> different possible inputs, that are all equally likely to appear. It should be obvious that none of the ONS entries come even close to this size. As such, a hash function alone would be susceptible to a brute-force attack in what is generally referred to as a dictionary attack.</p>
</div>
<div id="S1.SS1.p3" class="ltx_para">
<p id="S1.SS1.p3.1" class="ltx_p">A dictionary attack consists of generating hashes of many, if not all, possible inputs and then matching them to the dataset to effectively reverse the contents. In the case of names this is quite trivial, given that the set of possible names is relatively small in cryptographic terms, and is largely considered to be in the public domain.</p>
</div>
</section>
<section id="S1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.2 </span>HMACs vs hashes</h3>

<div id="S1.SS2.p1" class="ltx_para">
<p id="S1.SS2.p1.1" class="ltx_p">It might seem like distinguishing between an HMAC and a hash is little more than pedantry, but it is not: their security properties are very different. The use of the key in the HMAC prevents dictionary attacks, since an attacker is unable to reconstruct the values without access to the key. It is the entropy and secrecy of the key that is crucial, as opposed to access to software that can construct hashes or HMACs. This is important, since there is a false assumption that the setup in the Statistical Research Environment (SRE) does not provide access to such software. The reality is that access to hashing and HMACs is near ubiquitous, they are provided as part of Microsoft’s Cryptographic API, and are included in many software packages including R. As such, the assertion that users of the SRE do not have access to such tools is incorrect.</p>
</div>
<div id="S1.SS2.p2" class="ltx_para">
<p id="S1.SS2.p2.1" class="ltx_p">The underlying hash function in an HMAC must provide a combination of collision resistance and near random output. What is critical to the security of an HMAC is the entropy of the key. Both the NIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> and RFC 2104 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> specification of the HMAC algorithm make this clear. The key should be generated to the same standard as a symmetric encryption key. The M10 document <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> states that:</p>
</div>
<div id="S1.SS2.p3" class="ltx_para">
<blockquote id="S1.SS2.p3.1" class="ltx_quote ltx_displayquote">
<p id="S1.SS2.p3.1.1" class="ltx_p"><span id="S1.SS2.p3.1.1.1" class="ltx_text ltx_inline-quote">“…provided the keys are handled appropriately, their entropy is not a critical factor in the final hash strength, and thus deterministic pseudorandom number generators could be used…”</span></p>
</blockquote>
</div>
<div id="S1.SS2.p4" class="ltx_para">
<p id="S1.SS2.p4.1" class="ltx_p">This statement is fundamentally incorrect. The security of the HMAC is dependent on the entropy of the key. If someone re-used this technique, believing the statement to be true, and used a predictable key in their HMAC, then the protection would be no better than an ordinary hash function. If an attacker could guess the key, then a dictionary attack would be straightforward and result in all names (or other inputs) being easily reversed.</p>
</div>
<div id="S1.SS2.p5" class="ltx_para">
<p id="S1.SS2.p5.1" class="ltx_p">linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:I’ve changed this a bit to be more explicit about why it’s bad. At the risk of channelling Jeff, this language was rather emotive. I’d leave out “The quoted statement undermines the credibility of the security analysis.” It’s true, but I think it speaks for itself.</p>
</div>
</section>
<section id="S1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.3 </span>HMACs and frequency</h3>

<div id="S1.SS3.p1" class="ltx_para">
<p id="S1.SS3.p1.1" class="ltx_p">If the key is generated carefully, the use of an HMAC instead of a hash function protects against the problem of having only a small input set. However, the use of an HMAC does not solve the second problem of having a non-uniform distribution in the input set. HMACs, like hash functions, are deterministic, and as such, the same input will generate the same output when performed with the same key. In the case of the generated matching keys this is not such an issue, since they are largely unique<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>the linking keys are still susceptible to frequency attacks in certain situations. For example, where a linking key is non-unique it could present an attack vector for frequency attacks.</span></span></span>. However, the use of an HMAC containing just first or last name in the similarity table is extremely susceptible to frequency attack, and undermines the security of the entire approach. We will discuss this further in the next section.</p>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Similarity tables at risk of frequency attack</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">M10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> contains the statement that</p>
</div>
<div id="S2.p2" class="ltx_para">
<blockquote id="S2.p2.1" class="ltx_quote ltx_displayquote">
<p id="S2.p2.1.1" class="ltx_p"><span id="S2.p2.1.1.1" class="ltx_text ltx_inline-quote">“…the approach described in this paper is designed to resist all currently-feasible attacks on the basis that the same approach may be used in future (and/or elsewhere) in less controlled environments.”</span></p>
</blockquote>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">This is not correct. The issue is that the protocol generates HMACs that contain just first or last name. This is essential for the operation of the proposed fuzzy matching protocols. However, this very requirement creates a security weakness, namely, vulnerability to a frequency attack that would break the semantic security of the scheme, and allow plaintext recovery of the HMAC. The simplest example of this is the popularity of the surname “Smith”. It is so overwhelmingly popular that simply analysing the frequency of the HMAC tags would reveal which one represented “Smith”. The same would be true for first name and potentially to some degree for date of birth.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">From a security point of view we would not distinguish between the recovery of one cipher text and the recovery of all. A single recovery would be deemed unacceptable. Even if such a recovery was deemed acceptable, the composition of the rest of the protocol results in this single piece of information being leveraged to gain further information, as we shall elaborate on in the next section.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Similarity scores allow recovery of names</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">The provision of a similarity table with plaintext similarity scores critically undermines the privacy of the scheme, facilitating large-scale recovery of names with minimal effort.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Similarity leakage</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The similarity tables provide plaintext similarity scores, which has the unintended consequence of providing an index to reverse the corresponding names. Since the similarity scores are calculated using a reproducible function, using publicly accessible information (e.g. a list of last names), there is nothing to prevent the scores being recalculated independently outside of the SRE. Once reconstructed it becomes a simple task of matching the plaintext similarity scores to be able to recover the plaintext name.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">By way of an example, we calculated the similarity table for the list of Australian last names (approximately 351,070 names). As described in the supplement to M13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, a threshold of 25 was used for the SPEDIS<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>SPEDIS is an SAS proprietary string comparison method.</span></span></span> scores of first and last name. We applied the same threshold of 25, meaning we discarded any similarity entry with a score over 25. We then sorted the similarity scores into ascending order and compared the uniqueness of each of these sets. If an ordered set of similarity scores is unique amongst other rows in the table it indicates that it can be used as a sort of fingerprint, or index, to the corresponding name in the similarity table available in the SRE. We discovered over 56% of the sets of similarity scores are unique.
linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:I feel that this needs one more sentence of explanation. I know what you mean, but take is slightly slower and explain that you’re trying to re-identify names, that the sorted list of similarities forms a sort of fingerprint, and that those fingerprints are easily calculated and often unique… or something like that … or maybe forget about fingerprints and use an example name. “As an example, the name “Smith” has well-known near neighbours “Smythe” (distance 2), “Saith” (distance 1), “Nasmith” (distance 7) or whatever… There are unlikely to be any other names with exactly that pattern of distances to the same number of neighbours.
linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:Added an additional line
As such, by just reconstructing the similarity table it is possible to identify and reverse over half the HMACs. Note: the HMAC key is not required to construct the similarity table, only knowledge of the list of names, which is generally available. Furthermore, in many cases the set of similarity scores that would need to be remembered, in order to act as a unique index, is small enough to be within the capabilities of the average person.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Composition of weaknesses</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Even in the situation where an entire similarity table could not be reconstructed, information is still leaked. If we combine the ability to recover a single surname, or first name, via a frequency attack, with the similarity table, we can recover further names. Knowing a single entry, i.e. “Smith” acts as the start of a chain of recovery of all similar names, which gradually expands to recover many more names. In our example of Australian name data, the “Smith” entry contains 207 similarity scores, 206 excluding the exact match to “Smith” itself. Of these 206, 196 are immediately unique by looking at their respective sets of similarity scores. As such, in a single iteration we have recovered 196 names from just knowing which entry relates to “Smith”. The same process can be repeated again for the 196, and again and again for the subsequent similarities in an iterative process. Depending on the threshold selected, and the range of names, it may even be possible to recover the majority of the entries in the similarity table. Again, this does not require knowledge of the HMAC key.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Additional Name Entries</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">As a result of discussions with the ONS it became apparent that the ONS similarity table contains entries containing common name errors, for example, typographic errors and scanning errors. Such errors could lead to errors like the letter “B” being replaced by an “8”. This raised the question of whether the addition of these names would make the recovery of plaintexts harder, given that there are a greater number of similarity scores and therefore a greater chance that the set of similarity scores for a particular entry is not unique in the larger ONS set.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">The manner in which the “error” names are included may allow for their immediate exclusion, for example, if the “error” names are only included in the right hand column - i.e. incoming names, but not included in the left hand column, a simple set intersection will allow those “error” names to be excluded and any protection they may provide eliminated. If the “error” names are included in the left hand column as well this would seem to risk accuracy of matching, in that the best match will be the same error, not necessarily the same individual. Typographic and scanning errors are likely to be transient and not specific and recurring for a particular individual. As such, the errors will match but the underlying records will not. It would seem better for linking accuracy to undertake a cleaning and repair process prior to entry and comparison in the similarity table. Furthermore, if the errors do not appear in an actual dataset, for example, if one dataset contains high quality names (i.e. the census) a set intersection between the HMACs in that dataset and the similarity table will exclude the vast majority of the “error” names.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Graph Isomorphism</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">Putting to one side whether the inclusion of “error” names is viable, the question of whether only having access to a partial list of names is a valid one, and one which we examine further in this section. In Section <a href="#S3.SS1" title="3.1 Similarity leakage ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a> we took a quick and simple approach to recover plaintext names, we mentioned the notion of chaining together similarity scores, but did not expand on the how to undertake such an action. In essence the similarity table describes a graph in which each node represents an HMAC’d name, and the weighted edges between nodes represent their similarity scores. An example of such a graph is shown in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, in this example we have labelled the nodes with the names, but that is just for clarity, in the case of the similarity table those labels would be either blank of the HMAC value.linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:This section is great and the pic is really clear.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/1712.00871/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="184" height="220" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Example Similarity Table Graph</figcaption>
</figure>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">The task of recovering plaintexts thus switches from being just finding unique subsets of similarity scores, to a graph isomorphism problem, in particular a subgraph isomorphism problem. In that we can construct a labelled subgraph of names we know to exist and then evaluate whether there is an isomorphism between it and some part of the larger graph constructed from the similarity table. In this way we handle the situation where we do not know all names in the similarity table graph, for example, where “error” names have been included. The establishing of the isomorphism, based on the edge weights, will allow us to transfer the node label in the subgraph to the similarity table graph and thus recover the plaintexts represented by those nodes. An example of this process is shown in Figure <a href="#S3.F2" title="Figure 2 ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a></p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/1712.00871/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="183" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Example of Subgraph Isomorphism</figcaption>
</figure>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.1" class="ltx_p">In order to simulate having only partial knowledge of the similarity table graph we created a number of samples, of sizes varying from 10% through to 90% in increments of 10%. Each sample was selected independently at random by selecting the respective percentage of names and then only keeping similarity scores for those sampled names. We assume that an attacker can be certain they are constructing a strict subgraph of the ONS similarity table. This is a reasonable assumption, since knowledge of names that are in existence is generally available to the public, <span id="S3.SS4.p3.1.1" class="ltx_text ltx_font_italic">i.e.</span> telephone book. What is not public knowledge is exactly what additions have been made, but we can be fairly certain names have not been removed.</p>
</div>
<section id="S3.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.1 </span>Graph Connectivity</h4>

<div id="S3.SS4.SSS1.p1" class="ltx_para">
<p id="S3.SS4.SSS1.p1.1" class="ltx_p">Due to the SPEDIS similarity score being asymmetric - that is the similarity score between A and B may not be equal to B and A - the graph will also be asymmetric, i.e. there will be nodes that have incoming edges but not outgoing ones. This is shown in our example in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> for “EDMUND-JONES” and “EDMONDS-WILSON”, both of which have no outgoing connections other than to themselves. All nodes have a connection to themselves with a similarity score of 0 - to allow exact matching. We have included them in the representation, but they can ignored, since they will never play a part in identifying a specific node, since all nodes have exactly the same zero weighted edge.</p>
</div>
<div id="S3.SS4.SSS1.p2" class="ltx_para">
<p id="S3.SS4.SSS1.p2.1" class="ltx_p">We evaluated the number and size of connected components within the various samples tables we had constructed. A connected component is a grouping of nodes that have edges between them. Figure 1 represents a connected component of 4 nodes. When evaluating the connectivity of our different sample sizes it became apparent that the graphs constructed from the similarity scores exhibited similar characteristics. In particular, graphs would have a significant number of singletons (nodes with no connections to other nodes) followed by a small number of groups, not exceeding 102, followed by a single very large connected component containing the vast majority of nodes. Singleton nodes are effectively protected, since singletons are indistinguishable from each other due to them having no defining edges.linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:Singletons, of course, are difficult to re-identify because they have no distinguishing edges. Oh never mind it says that below. Perhaps put the explanation before the statistics.linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:Moved singleton sentence up to here At least 93% of the nodes were accounted for by either being singletons or in a single large connected component. As the size of the sample, and thus the graph grew, the number of singletons rapidly dropped, both in real terms and a proportion of the nodes. Correspondingly, the size of the single largest connected component also grew.</p>
</div>
<div id="S3.SS4.SSS1.p3" class="ltx_para">
<p id="S3.SS4.SSS1.p3.1" class="ltx_p">Figure <a href="#S3.F3" title="Figure 3 ‣ 3.4.1 Graph Connectivity ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the rapid decline in percentage of nodes that are singletons as the sample size increases. For a sample size of 10% (39,052 nodes) just over 21% of nodes are singletons. Conversely, for a 90% sample (351,471 nodes) less than than 1% of nodes are singletons.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/1712.00871/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="233" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Graph of number of singletons vs. sample size</figcaption>
</figure>
<div id="S3.SS4.SSS1.p4" class="ltx_para">
<p id="S3.SS4.SSS1.p4.1" class="ltx_p">Correspondingly, Figure <a href="#S3.F4" title="Figure 4 ‣ 3.4.1 Graph Connectivity ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the percentage of all nodes that are contained in the single largest connected component. We can see that the 10% sample has a single connected component containing over 72% of all nodes. At a 90% sample rate over 99% of nodes are contained within a single connected component. This level of connectivity is useful for performing the attack. A single very large connected component presents a substantial amount of information, particularly in terms of edge weights, edge direction, and intra-connectivity, providing many features to perform the graph matching on.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/1712.00871/assets/x4.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="233" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Graph of percentage of nodes in a single connected components vs. sample size</figcaption>
</figure>
<div id="S3.SS4.SSS1.p5" class="ltx_para">
<p id="S3.SS4.SSS1.p5.1" class="ltx_p">The trend shown by the connectivity results indicates that as the number of nodes grows the level of connectivity increases and the number of singletons fall. As such, it is possible that the addition of additional “error” names improves connectivity, possibly even providing connectivity to nodes that were previously singletons. As such, when viewed as a graph, the additional nodes may make secrecy of the names worse and aid in performing the plaintext recovery. We can only speculate on this due to not having access to the actual similarity tables, however, the trend is strong in the sampling we have done and as such we would expect the same result to be true for the inclusion of “error” names.</p>
</div>
</section>
<section id="S3.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.2 </span>Subgraph Matching</h4>

<div id="S3.SS4.SSS2.p1" class="ltx_para">
<p id="S3.SS4.SSS2.p1.1" class="ltx_p">The process for matching the subgraph to similarity table graph is iterative. The first step is to identify any nodes within the graph that are unique and can obviously be identified. In order to achieve this we first search for any nodes that have a unique set of inbound and outbound edges in the subgraph. By unique we refer to a node having a unique frequency distribution of inbound and outbound edge weights. Referring back to Figure <a href="#S3.F1" title="Figure 1 ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, “EDMUND” has a frequency of 1 for the inbound weight of 8, a frequency of 1 for the outbound weights of 17 and 5. This is very similar to finding nodes that have unique sets of similarity scores in the similarity table, the only addition is that we now also consider inbound links.</p>
</div>
<div id="S3.SS4.SSS2.p2" class="ltx_para">
<p id="S3.SS4.SSS2.p2.1" class="ltx_p">Once we have found the nodes that are unique in the subgraph we start to look for those nodes in the similarity table graph. We optimise to only looking at those unique in the subgraph because we know if it is not unique in the subgraph it definitely will not be unique in the larger similarity table graph and therefore will not be useful for finding unique nodes in the first pass. For each unique node in the subgraph we check if it is also unique in the larger similarity table graph. If it is unique we consider it to be a match and assign the node from the subgraph to the corresponding node in the similarity table graph. At the same time we adjust the referencing on the incoming and outgoing edges to indicate that this is now a known node - this will be important in the later stages. We continue this for all the unique nodes in the subgraph. If a unique node is found to not be unique in the larger similarity table graph we just ignore it. We do not try and find the set of all possible nodes, since we stop looking as soon as we find a duplicate - this is to optimise the search process to make it more efficient.</p>
</div>
<div id="S3.SS4.SSS2.p3" class="ltx_para">
<p id="S3.SS4.SSS2.p3.1" class="ltx_p">Having labelled all the nodes in the similarity table graph that we can in the first iteration, we move to evaluate each of those newly labelled nodes. For each newly labelled node we compare the outgoing edges, which lead to unlabelled node, with the outgoing edges of corresponding node in our subgraph. If any edge weight is unique for both nodes we can subsequently label the target node of that edge. If there are multiple matching edges with the same weight, we compare the frequency distribution of edge weights for the target node of each edge. In doing this we are checking if there is only a single edge that leads to a target node that provides a sufficient set of edge weights to be a match for corresponding node in the subgraph. If a unique edge is found we subsequently label the target node. Again, we update the inbound and outbound links of the corresponding nodes and queue up the newly labelled node for evaluation. We continue this until we have run out of newly labelled nodes to examine. We then repeat until we complete an iteration without making any changes<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>In our experiments this was generally after the first iteration</span></span></span>.</p>
</div>
</section>
<section id="S3.SS4.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.3 </span>Evaluation of accuracy</h4>

<div id="S3.SS4.SSS3.p1" class="ltx_para">
<p id="S3.SS4.SSS3.p1.1" class="ltx_p">Throughout the matching process we only evaluate edge weights and treat the nodes as unlabelled. Having completed our subgraph matching we move to compare all the matches we have assigned for correctness. In order to do this we compare the underlying name for the respective matched nodes in the subgraph and similarity table graph. If they match it is considered a true positive, if they were to not match it would be considered a false positive. In this context we have knowledge of both names since we constructed both graphs. Knowledge of the name in the similarity table graph is only required to evaluate the accuracy of our proposed attack, it is not required to perform the attack itself.
linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:Note that in a real attack this would not be possible—we are able to do this evaluation because we generated both graphs with knowledge of the real names.linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:Added a line about this only being for evaluation and knowledge of names is not required to perform the attack</p>
</div>
<div id="S3.SS4.SSS3.p2" class="ltx_para">
<p id="S3.SS4.SSS3.p2.1" class="ltx_p">Table <a href="#S3.T1" title="Table 1 ‣ 3.4.3 Evaluation of accuracy ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the results for the various sample sizes. The percentage of recovered names constitutes the percentage of the subgraph which has been matched. As can be seen, even when we know only 40% of similarity table we are still recovering 69% of those names, which exceeds the 56% we were previously recovering with just the simple set comparison of similarity scores. When we know 90% of the similarity table we are able to recover over 90% of the names. As we shall discuss in Section <a href="#S3.SS4.SSS4" title="3.4.4 Further Improvements ‣ 3.4 Graph Isomorphism ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.4.4</span></a>, the current subgraph matching is far from exhaustive, and as such it is likely we could further improve those results. We have not done so currently because the results for the simple approach overwhelmingly demonstrate the vulnerability of the similarity table. linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:What fraction is this of the non-singleton nodes?linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:I can calculate this, I have it it in the larger table, but didn’t think it was that relevant. We don’t distinguish between singleton and non-singleton in terms of our desire to recover. The number of singletons as a percentage of the total nodes drops from about 20% to 1%</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.1.1.1" class="ltx_tr">
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Sample Size</span></th>
<th id="S3.T1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.2.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.2.1.1" class="ltx_p"><span id="S3.T1.1.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Subgraph</span></span>
<span id="S3.T1.1.1.1.2.1.2" class="ltx_p"><span id="S3.T1.1.1.1.2.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Nodes</span></span>
</span>
</th>
<th id="S3.T1.1.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.3.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.3.1.1" class="ltx_p"><span id="S3.T1.1.1.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Unique in</span></span>
<span id="S3.T1.1.1.1.3.1.2" class="ltx_p"><span id="S3.T1.1.1.1.3.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">subgraph</span></span>
</span>
</th>
<th id="S3.T1.1.1.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.4.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.4.1.1" class="ltx_p"><span id="S3.T1.1.1.1.4.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Unique in</span></span>
<span id="S3.T1.1.1.1.4.1.2" class="ltx_p"><span id="S3.T1.1.1.1.4.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">similarity</span></span>
<span id="S3.T1.1.1.1.4.1.3" class="ltx_p"><span id="S3.T1.1.1.1.4.1.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">graph</span></span>
</span>
</th>
<th id="S3.T1.1.1.1.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S3.T1.1.1.1.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Matches</span></th>
<th id="S3.T1.1.1.1.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.6.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.6.1.1" class="ltx_p"><span id="S3.T1.1.1.1.6.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">True</span></span>
<span id="S3.T1.1.1.1.6.1.2" class="ltx_p"><span id="S3.T1.1.1.1.6.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Positives</span></span>
</span>
</th>
<th id="S3.T1.1.1.1.7" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.7.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.7.1.1" class="ltx_p"><span id="S3.T1.1.1.1.7.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">False</span></span>
<span id="S3.T1.1.1.1.7.1.2" class="ltx_p"><span id="S3.T1.1.1.1.7.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Positives</span></span>
</span>
</th>
<th id="S3.T1.1.1.1.8" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S3.T1.1.1.1.8.1" class="ltx_inline-block">
<span id="S3.T1.1.1.1.8.1.1" class="ltx_p"><span id="S3.T1.1.1.1.8.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Percentage</span></span>
<span id="S3.T1.1.1.1.8.1.2" class="ltx_p"><span id="S3.T1.1.1.1.8.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Recovered</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.1.2.1" class="ltx_tr">
<td id="S3.T1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.1.1" class="ltx_text" style="font-size:90%;">100%</span></td>
<td id="S3.T1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.2.1" class="ltx_text" style="font-size:90%;">390,523</span></td>
<td id="S3.T1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.3.1" class="ltx_text" style="font-size:90%;">22,381</span></td>
<td id="S3.T1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.4.1" class="ltx_text" style="font-size:90%;">22,381</span></td>
<td id="S3.T1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.5.1" class="ltx_text" style="font-size:90%;">362,934</span></td>
<td id="S3.T1.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.6.1" class="ltx_text" style="font-size:90%;">362,934</span></td>
<td id="S3.T1.1.2.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.2.1.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.2.1.8.1" class="ltx_text" style="font-size:90%;">93%</span></td>
</tr>
<tr id="S3.T1.1.3.2" class="ltx_tr">
<td id="S3.T1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.1.1" class="ltx_text" style="font-size:90%;">90%</span></td>
<td id="S3.T1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.2.1" class="ltx_text" style="font-size:90%;">351,471</span></td>
<td id="S3.T1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.3.1" class="ltx_text" style="font-size:90%;">20,301</span></td>
<td id="S3.T1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.4.1" class="ltx_text" style="font-size:90%;">15,517</span></td>
<td id="S3.T1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.5.1" class="ltx_text" style="font-size:90%;">321,348</span></td>
<td id="S3.T1.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.6.1" class="ltx_text" style="font-size:90%;">321,348</span></td>
<td id="S3.T1.1.3.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.3.2.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.3.2.8.1" class="ltx_text" style="font-size:90%;">91%</span></td>
</tr>
<tr id="S3.T1.1.4.3" class="ltx_tr">
<td id="S3.T1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.1.1" class="ltx_text" style="font-size:90%;">80%</span></td>
<td id="S3.T1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.2.1" class="ltx_text" style="font-size:90%;">312,418</span></td>
<td id="S3.T1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.3.1" class="ltx_text" style="font-size:90%;">19,686</span></td>
<td id="S3.T1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.4.1" class="ltx_text" style="font-size:90%;">10,113</span></td>
<td id="S3.T1.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.5.1" class="ltx_text" style="font-size:90%;">279,769</span></td>
<td id="S3.T1.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.6.1" class="ltx_text" style="font-size:90%;">279,769</span></td>
<td id="S3.T1.1.4.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.4.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.4.3.8.1" class="ltx_text" style="font-size:90%;">90%</span></td>
</tr>
<tr id="S3.T1.1.5.4" class="ltx_tr">
<td id="S3.T1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.1.1" class="ltx_text" style="font-size:90%;">70%</span></td>
<td id="S3.T1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.2.1" class="ltx_text" style="font-size:90%;">273,366</span></td>
<td id="S3.T1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.3.1" class="ltx_text" style="font-size:90%;">20,680</span></td>
<td id="S3.T1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.4.1" class="ltx_text" style="font-size:90%;">6,057</span></td>
<td id="S3.T1.1.5.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.5.1" class="ltx_text" style="font-size:90%;">237,402</span></td>
<td id="S3.T1.1.5.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.6.1" class="ltx_text" style="font-size:90%;">237,402</span></td>
<td id="S3.T1.1.5.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.5.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.5.4.8.1" class="ltx_text" style="font-size:90%;">87%</span></td>
</tr>
<tr id="S3.T1.1.6.5" class="ltx_tr">
<td id="S3.T1.1.6.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.1.1" class="ltx_text" style="font-size:90%;">60%</span></td>
<td id="S3.T1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.2.1" class="ltx_text" style="font-size:90%;">234,314</span></td>
<td id="S3.T1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.3.1" class="ltx_text" style="font-size:90%;">19,657</span></td>
<td id="S3.T1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.4.1" class="ltx_text" style="font-size:90%;">3,251</span></td>
<td id="S3.T1.1.6.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.5.1" class="ltx_text" style="font-size:90%;">194,958</span></td>
<td id="S3.T1.1.6.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.6.1" class="ltx_text" style="font-size:90%;">194,958</span></td>
<td id="S3.T1.1.6.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.6.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.6.5.8.1" class="ltx_text" style="font-size:90%;">83%</span></td>
</tr>
<tr id="S3.T1.1.7.6" class="ltx_tr">
<td id="S3.T1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.1.1" class="ltx_text" style="font-size:90%;">50%</span></td>
<td id="S3.T1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.2.1" class="ltx_text" style="font-size:90%;">195,262</span></td>
<td id="S3.T1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.3.1" class="ltx_text" style="font-size:90%;">17,046</span></td>
<td id="S3.T1.1.7.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.4.1" class="ltx_text" style="font-size:90%;">1,530</span></td>
<td id="S3.T1.1.7.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.5.1" class="ltx_text" style="font-size:90%;">151,814</span></td>
<td id="S3.T1.1.7.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.6.1" class="ltx_text" style="font-size:90%;">151,814</span></td>
<td id="S3.T1.1.7.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.7.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.7.6.8.1" class="ltx_text" style="font-size:90%;">78%</span></td>
</tr>
<tr id="S3.T1.1.8.7" class="ltx_tr">
<td id="S3.T1.1.8.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.1.1" class="ltx_text" style="font-size:90%;">40%</span></td>
<td id="S3.T1.1.8.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.2.1" class="ltx_text" style="font-size:90%;">156,209</span></td>
<td id="S3.T1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.3.1" class="ltx_text" style="font-size:90%;">14,047</span></td>
<td id="S3.T1.1.8.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.4.1" class="ltx_text" style="font-size:90%;">533</span></td>
<td id="S3.T1.1.8.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.5.1" class="ltx_text" style="font-size:90%;">108,256</span></td>
<td id="S3.T1.1.8.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.6.1" class="ltx_text" style="font-size:90%;">108,256</span></td>
<td id="S3.T1.1.8.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.8.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.8.7.8.1" class="ltx_text" style="font-size:90%;">69%</span></td>
</tr>
<tr id="S3.T1.1.9.8" class="ltx_tr">
<td id="S3.T1.1.9.8.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.1.1" class="ltx_text" style="font-size:90%;">30%</span></td>
<td id="S3.T1.1.9.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.2.1" class="ltx_text" style="font-size:90%;">117,157</span></td>
<td id="S3.T1.1.9.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.3.1" class="ltx_text" style="font-size:90%;">11,331</span></td>
<td id="S3.T1.1.9.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.4.1" class="ltx_text" style="font-size:90%;">136</span></td>
<td id="S3.T1.1.9.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.5.1" class="ltx_text" style="font-size:90%;">64,391</span></td>
<td id="S3.T1.1.9.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.6.1" class="ltx_text" style="font-size:90%;">64,391</span></td>
<td id="S3.T1.1.9.8.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.9.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.9.8.8.1" class="ltx_text" style="font-size:90%;">55%</span></td>
</tr>
<tr id="S3.T1.1.10.9" class="ltx_tr">
<td id="S3.T1.1.10.9.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.1.1" class="ltx_text" style="font-size:90%;">20%</span></td>
<td id="S3.T1.1.10.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.2.1" class="ltx_text" style="font-size:90%;">78,105</span></td>
<td id="S3.T1.1.10.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.3.1" class="ltx_text" style="font-size:90%;">7,205</span></td>
<td id="S3.T1.1.10.9.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.4.1" class="ltx_text" style="font-size:90%;">23</span></td>
<td id="S3.T1.1.10.9.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.5.1" class="ltx_text" style="font-size:90%;">24,191</span></td>
<td id="S3.T1.1.10.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.6.1" class="ltx_text" style="font-size:90%;">24,191</span></td>
<td id="S3.T1.1.10.9.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.10.9.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.1.10.9.8.1" class="ltx_text" style="font-size:90%;">31%</span></td>
</tr>
<tr id="S3.T1.1.11.10" class="ltx_tr">
<td id="S3.T1.1.11.10.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.1.1" class="ltx_text" style="font-size:90%;">10%</span></td>
<td id="S3.T1.1.11.10.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.2.1" class="ltx_text" style="font-size:90%;">39,052</span></td>
<td id="S3.T1.1.11.10.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.3.1" class="ltx_text" style="font-size:90%;">3,079</span></td>
<td id="S3.T1.1.11.10.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.4.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.11.10.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.5.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.11.10.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.6.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.11.10.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.7.1" class="ltx_text" style="font-size:90%;">0</span></td>
<td id="S3.T1.1.11.10.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.1.11.10.8.1" class="ltx_text" style="font-size:90%;">0%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Subgraph Matching Results</figcaption>
</figure>
<div id="S3.SS4.SSS3.p3" class="ltx_para">
<p id="S3.SS4.SSS3.p3.1" class="ltx_p">The result for 10% is zero due to not being able to identify a single node to start the search from. A more thorough subgraph matching could look beyond single node uniqueness to find a starting point, at the cost of additional computation cost. As such, it should not be seen as providing protection from recovery, it just represents a more computationally expensive recovery process, although the percentage of recovered names will be lower, as would be consistent with the trend of reduced recovery as the subgraph size gets smaller. It should be noted that a sample size of 10% is also unrealistically small for something as commonly known as name, even taking into consideration a noisy set of names. linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:Note that 10% is a very small fraction, probably not at all relevant to the real case of an attacker with a list of known names attempting to re-identify a noisy set.linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:added a comment about that</p>
</div>
<div id="S3.SS4.SSS3.p4" class="ltx_para">
<p id="S3.SS4.SSS3.p4.1" class="ltx_p">Another result of particular interest is that for 20%. In this result we were only able to identify 23 initial unique nodes to start from. However, the level of connectivity meant that from just those 23 initial nodes we were able to recover 24,191 names in total. This ties back to Section <a href="#S3.SS2" title="3.2 Composition of weaknesses ‣ 3 Similarity scores allow recovery of names ‣ Vulnerabilities in the use of similarity tables in combination with pseudonymisation to preserve data privacy in the UK Office for National Statistics’ Privacy-Preserving Record Linkage" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> regarding the risk from the composition of a frequency attack with the similarity table. Currently we do not use frequency information in our analysis, if we did we would be able to identify at least one starting node, and probably many more - for example, identifying the top 50 nodes in terms of frequency and then only looking for unique nodes within that subset.</p>
</div>
</section>
<section id="S3.SS4.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.4 </span>Further Improvements</h4>

<div id="S3.SS4.SSS4.p1" class="ltx_para">
<p id="S3.SS4.SSS4.p1.1" class="ltx_p">Our subgraph matching is currently quite simplistic and far from exhaustive, it is heavily optimised to improve performance and simplify implementation. As such there are a number of steps that could be taken to improve the matching further:</p>
</div>
<div id="S3.SS4.SSS4.p2" class="ltx_para">
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.2" class="ltx_p">Implement probabilistic matching, for example, where we have <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">n</annotation></semantics></math> edges that contain a possible match each one represents a 1 in <math id="S3.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">n</annotation></semantics></math> chance of being correct. We could further make estimates of node labelling by evaluating the probabilities further.linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:Not really relevant for this draft, but I’d suggest combining this idea with the next bullet point. i.e. if you get multiple matches, explore further down the tree/graph to see which ones are consistent upon further examination.linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:absolutely, I think there is a lot more we could do to improve things further</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p">Evaluate at further depths where multiple matching edges are found. Currently we don’t explore below a depth of 1, yet we know from the connected component analysis that there is a vast quantity of connectivity information to explore for uniqueness. We have not currently implemented this due to limitations in time and computation resources.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p">Evaluate incoming links as well as outgoing edges when trying to find subsequent labels. Currently we only look to label target nodes for outgoing edges for a newly labelled node, we could easily extend this to include incoming edges as well.</p>
</div>
</li>
</ol>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion and recommendations</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Currently the impact of the weaknesses in the ONS approach is limited by the strict restrictions enforced on accessing the SRE. However, the similarity tables in combination with HMAC’ing remain flawed as a method for preserving privacy of data. If there are insufficient additional controls provided by an SRE, the use of this approach to safeguarding data could lead to the risk of large scale recovery of names. Additionally, the M10 report <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> states “…the approach described in this paper is designed to resist all currently-feasible attacks on the basis that the same approach may be used in future (and/or elsewhere) in less controlled environments.” In reality, the system’s security is derived from the current SRE restrictions and not the cryptographic protocol, and must be considered in the ONS’s current review of protecting data.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">Incorrect usage of cryptographic terms, and a lack of comprehension of cryptographic properties leads to an invalid analysis, and the proposal of a flawed approach mistakenly presented as a secure process. As ONS reports are influential, an important secondary risk is propagation of critical misconceptions by report readers, potentially including other government departments.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">In summary, the use of HMACs in combination with the use of similarity tables is not an appropriate method for preserving the privacy of data outside of an SRE.</p>
</div>
<div id="S4.p4" class="ltx_para">
<p id="S4.p4.1" class="ltx_p">The portion of the approach that uses HMAC linking keys provides reasonable protection, when deployed with suitable assumptions over uniqueness. However, when composed with similarity matching, the scheme as a whole, outside of an SRE, becomes susceptible to a number of practical attacks against privacy. As such we make the following recommendations:</p>
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">The procedural protections around the SRE should be reviewed to take into account that the data is  re-identifiable using public information;</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">The incorrect statement regarding the necessary entropy of an HMAC key should be corrected; and</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">Terminology throughout the reports should be updated to be consistent and accurate, notably, distinguishing between HMACs and hashes, and the associated security analysis updated.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p">The similarity table technique should not be used outside of an SRE.</p>
</div>
</li>
</ol>
</div>
<div id="S4.p5" class="ltx_para">
<p id="S4.p5.1" class="ltx_p">Again we thank the ONS for their responsible conduct in making their methodological details public to facilitate this kind of analysis.
Entities that are transparent about their processes and honest about their mistakes, and who work successfully to correct them, deserve more public trust than the rest.</p>
</div>
<div id="S4.p6" class="ltx_para">
<p id="S4.p6.1" class="ltx_p">linecolor=green,backgroundcolor=green!25,bordercolor=green,]VJT:Do we want to say very very clearly that none of this should be given to anyone outside the SRE?linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,]CJC:Yes, added an additional bullet point</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Office for National Statistics UK [2013a]</span>
<span class="ltx_bibblock">
Office for National Statistics UK.

</span>
<span class="ltx_bibblock">Beyond 2011 safeguarding data for research: Our policy M10,
2013a.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Office for National Statistics UK [2013b]</span>
<span class="ltx_bibblock">
Office for National Statistics UK.

</span>
<span class="ltx_bibblock">Beyond 2011 matching anonymous data M9, 2013b.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Turner [2008]</span>
<span class="ltx_bibblock">
JM Turner.

</span>
<span class="ltx_bibblock">198-1: The keyed-hash message authentication code (HMAC).

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">National Institute of Standards and Technology, Federal
Information Processing Standards</em>, 2008.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krawczyk et al. [1997]</span>
<span class="ltx_bibblock">
Hugo Krawczyk, Mihir Bellare, and Ran Canetti.

</span>
<span class="ltx_bibblock">Rfc 2104: HMAC: Keyed-hashing for message authentication, 1997.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Office for National Statistics UK [2015]</span>
<span class="ltx_bibblock">
Office for National Statistics UK.

</span>
<span class="ltx_bibblock">Beyond 2011 detailed statistical research report - supplement to
paper M13, 2015.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1712.00870" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1712.00871" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1712.00871">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1712.00871" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1712.00872" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun Mar  3 18:59:14 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
