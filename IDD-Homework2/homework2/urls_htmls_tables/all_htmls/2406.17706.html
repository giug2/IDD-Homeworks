<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.17706] FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model</title><meta property="og:description" content="Large language models (LLMs) show amazing performance on many domain-specific tasks after fine-tuning with some appropriate data. However, many domain-specific data are privately distributed across multiple owners. Thu…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.17706">

<!--Generated on Fri Jul  5 18:00:16 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Federated Learning; Large Language Models">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Feijie Wu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id3.1.id1" class="ltx_text ltx_affiliation_institution">Purdue University</span><span id="id4.2.id2" class="ltx_text ltx_affiliation_city"></span><span id="id5.3.id3" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:wu1977@purdue.edu">wu1977@purdue.edu</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zitao Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id6.1.id1" class="ltx_text ltx_affiliation_institution">Alibaba Group</span><span id="id7.2.id2" class="ltx_text ltx_affiliation_city"></span><span id="id8.3.id3" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zitao.l@alibaba-inc.com">zitao.l@alibaba-inc.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yaliang Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id9.1.id1" class="ltx_text ltx_affiliation_institution">Alibaba Group</span><span id="id10.2.id2" class="ltx_text ltx_affiliation_city"></span><span id="id11.3.id3" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yaliang.li@alibaba-inc.com">yaliang.li@alibaba-inc.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Bolin Ding
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id12.1.id1" class="ltx_text ltx_affiliation_institution">Alibaba Group</span><span id="id13.2.id2" class="ltx_text ltx_affiliation_city"></span><span id="id14.3.id3" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:bolin.ding@alibaba-inc.com">bolin.ding@alibaba-inc.com</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jing Gao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id15.1.id1" class="ltx_text ltx_affiliation_institution">Purdue University</span><span id="id16.2.id2" class="ltx_text ltx_affiliation_city"></span><span id="id17.3.id3" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jinggao@purdue.edu">jinggao@purdue.edu</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id2.2" class="ltx_p">Large language models (LLMs) show amazing performance on many domain-specific tasks after fine-tuning with some appropriate data. However, many domain-specific data are privately distributed across multiple owners. Thus, this dilemma raises the interest in how to perform LLM fine-tuning in federated learning (FL). However, confronted with limited computation and communication capacities, FL clients struggle to fine-tune an LLM effectively. To this end, we introduce <span id="id2.2.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>, a resource-efficient LLM fine-tuning approach to FL. Specifically, our method involves the server generating a compressed LLM and aligning its performance with the full model. Subsequently, the clients fine-tune a lightweight yet important part of the compressed model, referred to as an adapter. Notice that as the server has no access to the private data owned by the clients, the data used for alignment by the server has a different distribution from the one used for fine-tuning by clients. We formulate the problem into a bi-level optimization problem to minimize the negative effect of data discrepancy and derive the updating rules for the server and clients. We conduct extensive experiments on LLaMA-2, empirically showing that the adapter has exceptional performance when reintegrated into the global LLM. The results also indicate that the proposed <span id="id2.2.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> significantly reduces resource consumption compared to existing benchmarks, all while achieving comparable performance levels.</p>
</div>
<div class="ltx_keywords">Federated Learning; Large Language Models
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_journalyear"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span id="id2" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span id="id3" class="ltx_note ltx_note_frontmatter ltx_role_conference"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 30th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining; August 25–29, 2024; Barcelona, Spain</span></span></span><span id="id4" class="ltx_note ltx_note_frontmatter ltx_role_booktitle"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 30th ACM SIGKDD Conference on Knowledge
Discovery and Data Mining (KDD ’24), August 25–29, 2024, Barcelona,
Spain</span></span></span><span id="id5" class="ltx_note ltx_note_frontmatter ltx_role_doi"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3637528.3671897</span></span></span><span id="id6" class="ltx_note ltx_note_frontmatter ltx_role_isbn"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0490-1/24/08</span></span></span><span id="id7" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Distributed algorithms</span></span></span><span id="id8" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Natural language generation</span></span></span><span id="id9" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Language models</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">The recent advancements in large language models (LLMs) have demonstrated incredible performance in various tasks, such as question-answering and problem-solving. This success owes to the pretraining on large datasets, covering a wide range of linguistic patterns and general knowledge. However, in specific domains such as legal advice <cite class="ltx_cite ltx_citemacro_citep">(Nay et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2024</a>; Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite> and medical diagnosis <cite class="ltx_cite ltx_citemacro_citep">(Thirunavukarasu et al<span class="ltx_text">.</span>, <a href="#bib.bib33" title="" class="ltx_ref">2023</a>; Singhal et al<span class="ltx_text">.</span>, <a href="#bib.bib28" title="" class="ltx_ref">2023</a>; Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2023c</a>)</cite>, LLMs may not provide professional responses because the terminology and context significantly differ from general language use. To address this limitation and enable the generation of domain-specific content, it becomes imperative to fine-tune LLMs with relevant data. This fine-tuning process allows the models to learn from the specific instances and nuances of the target application, ensuring their capability within specialized fields. The quality and quantity of the task-specific data are directly related to the performance of the fine-tuned model on downstream tasks: large and well-labeled data can significantly improve the model, while small and irrelevant data can only benefit the model marginally. However, there are many cases where task-specific data are possessed by multiple data parties, while each of them may have a limited number of samples that can be used to fine-tune LLMs. For example, a hospital in a rural area may only have a limited number of lung cancer cases recorded in its own system; if an LLM is only fine-tuned on one set of those cases, it may not obtain comprehensive knowledge and easily be overfitted.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To incorporate all the distributed data in the fine-tuning of LLMs, one may consider the batch fine-tuning as follows. If we demand all the data owners to share their data with the LLM server, then LLM fine-tuning could be conducted at the server side. For example, some LLM owners offer fine-tuning APIs as services, but the users must pack their data as files and upload them to use a black-box fine-tuning <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a href="#bib.bib25" title="" class="ltx_ref">2023</a>)</cite>. Apparently, this setup is not applicable to users who have privacy concerns. Especially, some businesses are subject to data privacy regulations <cite class="ltx_cite ltx_citemacro_citep">(GDPR, <a href="#bib.bib9" title="" class="ltx_ref">2016</a>; CCPA, <a href="#bib.bib3" title="" class="ltx_ref">2023</a>)</cite>, which makes it challenging to share local data with LLM server.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Therefore, a more practical setting is to let individual data owners keep their data locally, run fine-tuning locally and aggregate the fine-tuning results at the LLM server. This fits well the <em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">federated learning</em> (FL) framework, which is a distributed paradigm that places a paramount emphasis on preserving privacy. Its conventional algorithms, such as FedAvg <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2017</a>)</cite>, are considered practical solutions to overcome data barriers across different data owners. In this paradigm, data owners are treated as clients, and an LLM server coordinates the computation. The standard FL workflow involves three steps repeatedly: (i) The server distributes the global model to all clients; (ii) Each client trains the model locally for multiple iterations and sends the updated model to the server; (iii) The server aggregates the models from the clients and updates the global model accordingly. Despite the potential of this method to facilitate collaborative fine-tuning of an LLM without sharing local data, its feasibility is hindered by two main limitations:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p"><span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Access to full model of state-of-the-art LLMs:</span> There exist some open-source LLMs whose model the public can download and have full access to their parameters. However, the most recent and powerful versions of LLMs are usually closed-sourced, i.e, the architecture and parameters are not available to the public. The best closed-source LLMs still have leading performance on a wide range of language tasks, and its leading edge can be maintained or even enhanced after fine-tuning, making it a better choice. As aforementioned, using the blackbox fine-tuning service provided by these closed-source LLMs often violates data users’ privacy requirements. Therefore, a federated learning framework that conducts collaborative fine-tuning with the assumption of no access to the full model of LLMs at the client side is more desirable.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p"><span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Computation and communication costs:</span> Existing federated learning framework could also suffer from the computation and communication challenges when conducting collaborative fine-tuning on LLMs. The fine-tuning process for LLMs entails substantial computational demands and communication costs due to the vast number of trainable model parameters. Clients with limited computational power may struggle to perform complex model updates, leading to prolonged training times or potential disruptions. The transfer of expensive models between the server and the clients also incurs substantial communication costs, leading to substantial bandwidth consumption and increased communication latency. At the server side, there could be network congestion when clients send back their updated huge amount of parameters concurrently.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we aim to tackle these two challenges and propose to design an effective and practical collaborative LLM fine-tuning framework. To address the first challenge, We follow the setting proposed in offsite-tuning <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> and its federated version FedOT <cite class="ltx_cite ltx_citemacro_citep">(Kuang et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite>. We assume that the LLM owner does not collect data directly from clients but serves as the server in FL, who can use a public dataset to distill her LLM and aggregate some local updates on part of the model from clients; multiple clients want to collaborate on fine-tuning for similar downstream tasks. Different from the classic FL setting <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2021</a>; Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib36" title="" class="ltx_ref">2023a</a>; Lin et al<span class="ltx_text">.</span>, <a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite>, we do not assume the data distribution on clients or the public data owned by the server to be the same. Our goal, in general, is to provide a framework for collaborative clients to fine-tune without access to full LLM or sharing local data directly. More importantly, the fine-tuned model can still achieve better performance than fine-tuning LLM locally with their local data exclusively.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Although FedOT <cite class="ltx_cite ltx_citemacro_citep">(Kuang et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite> was developed for this objective, it could incur significant computational and communication costs, thereby suffering from the second challenge. In light of this challenge, we propose to integrate various parameter-efficient fine-tuning (PEFT) techniques into the proposed FL framework. Specifically, the server employs linear dropout to compress the LLM, integrates LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite> to reduce the trainable parameters, and divides it into two components: an emulator and an adapter. The emulator retains a consistent representation of the raw model on the server’s dataset, while the adapter assimilates domain-specific linguistic patterns from the clients’ local datasets. Considering the significant distribution shift between the clients’ datasets and the server’s dataset, we separate the fine-tuning of these two components into two processes during FL training, i.e., the clients perform multiple local updates to fine-tune the adapter, and the server distill the emulator from the original LLM while aggregating the updated adapters from the clients. To this end, a bi-level optimization is formulated.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">This design, named <span id="S1.p6.1.1" class="ltx_text ltx_font_bold">Fed</span>erated <span id="S1.p6.1.2" class="ltx_text ltx_font_bold">Bi</span>-level <span id="S1.p6.1.3" class="ltx_text ltx_font_bold">O</span>ffsite <span id="S1.p6.1.4" class="ltx_text ltx_font_bold">T</span>uning (<span id="S1.p6.1.5" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>), offers twofold advantages from the clients’ perspectives. Firstly, instead of loading the complete model, clients load a compressed version with fewer layers, considerably reducing computation costs. Secondly, clients exclusively fine-tune the adapter, affecting only the last few layers of the LLM and thereby minimizing computation and communication expenses.</p>
</div>
<section id="S1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Contributions.</h4>

<div id="S1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S1.SS0.SSS0.Px1.p1.1" class="ltx_p">Throughout the paper, our contributions are highlighted as follows:</p>
<ul id="S1.I2" class="ltx_itemize">
<li id="S1.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i1.p1" class="ltx_para">
<p id="S1.I2.i1.p1.1" class="ltx_p">We propose an algorithm <span id="S1.I2.i1.p1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> that avoids full model fine-tuning and significantly reduces the communication and computation overhead. To the best of our knowledge, this is the first work that addresses both the aforementioned two challenges in the federated LLM fine-tuning framework. With our proposed framework, clients’ data are ensured to be kept locally and computation and communication burden is significantly reduced.</p>
</div>
</li>
<li id="S1.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i2.p1" class="ltx_para">
<p id="S1.I2.i2.p1.1" class="ltx_p">We formulate a bi-level optimization problem that enables the LLM fine-tuning without access to the full model. By partitioning the compressed model into the adapter and the emulator, the emulator acts as a simulator of the original raw model, while the adapter adeptly learns domain-specific linguistic patterns with clients’ local datasets. To this end, we realize that fine-tuning the compressed model is equivalent to the refinement of the counterpart of the complete LLM.</p>
</div>
</li>
<li id="S1.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i3.p1" class="ltx_para">
<p id="S1.I2.i3.p1.1" class="ltx_p">We conduct extensive experiments on LLaMA-2 for fine-tuning with three tasks, i.e., code generating, math problem solving, and question answering. The empirical studies also demonstrate that the proposed approach has significant improvement over all these tasks compared with the baseline approaches in terms of computation and communication overheads and final accuracy.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminary</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Traditional FL Formulation</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.4" class="ltx_p">Consider there is an FL system with a total of <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">M</annotation></semantics></math> clients, denoted by <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="[M]" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.2.2" xref="S2.SS1.p1.2.m2.1.2.1.cmml"><mo stretchy="false" id="S2.SS1.p1.2.m2.1.2.2.1" xref="S2.SS1.p1.2.m2.1.2.1.1.cmml">[</mo><mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">M</mi><mo stretchy="false" id="S2.SS1.p1.2.m2.1.2.2.2" xref="S2.SS1.p1.2.m2.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.2.1.cmml" xref="S2.SS1.p1.2.m2.1.2.2"><csymbol cd="latexml" id="S2.SS1.p1.2.m2.1.2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.2.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">[M]</annotation></semantics></math>.
Each client <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><mrow id="S2.SS1.p1.3.m3.1.2" xref="S2.SS1.p1.3.m3.1.2.cmml"><mi id="S2.SS1.p1.3.m3.1.2.2" xref="S2.SS1.p1.3.m3.1.2.2.cmml">m</mi><mo id="S2.SS1.p1.3.m3.1.2.1" xref="S2.SS1.p1.3.m3.1.2.1.cmml">∈</mo><mrow id="S2.SS1.p1.3.m3.1.2.3.2" xref="S2.SS1.p1.3.m3.1.2.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.3.m3.1.2.3.2.1" xref="S2.SS1.p1.3.m3.1.2.3.1.1.cmml">[</mo><mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">M</mi><mo stretchy="false" id="S2.SS1.p1.3.m3.1.2.3.2.2" xref="S2.SS1.p1.3.m3.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.2.cmml" xref="S2.SS1.p1.3.m3.1.2"><in id="S2.SS1.p1.3.m3.1.2.1.cmml" xref="S2.SS1.p1.3.m3.1.2.1"></in><ci id="S2.SS1.p1.3.m3.1.2.2.cmml" xref="S2.SS1.p1.3.m3.1.2.2">𝑚</ci><apply id="S2.SS1.p1.3.m3.1.2.3.1.cmml" xref="S2.SS1.p1.3.m3.1.2.3.2"><csymbol cd="latexml" id="S2.SS1.p1.3.m3.1.2.3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.2.3.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">m\in[M]</annotation></semantics></math> holds a local dataset <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{D}_{m}" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><msub id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml">𝒟</mi><mi id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2">𝒟</ci><ci id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">\mathcal{D}_{m}</annotation></semantics></math>. A client’s local loss is defined as</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.8" class="ltx_Math" alttext="F_{m}(\boldsymbol{w}):=\frac{1}{|\mathcal{D}_{m}|}\sum_{(\boldsymbol{x},\boldsymbol{y})\in\mathcal{D}_{m}}f\left(\mathcal{M}(\boldsymbol{x};\boldsymbol{w});\boldsymbol{y}\right)," display="block"><semantics id="S2.E1.m1.8a"><mrow id="S2.E1.m1.8.8.1" xref="S2.E1.m1.8.8.1.1.cmml"><mrow id="S2.E1.m1.8.8.1.1" xref="S2.E1.m1.8.8.1.1.cmml"><mrow id="S2.E1.m1.8.8.1.1.3" xref="S2.E1.m1.8.8.1.1.3.cmml"><msub id="S2.E1.m1.8.8.1.1.3.2" xref="S2.E1.m1.8.8.1.1.3.2.cmml"><mi id="S2.E1.m1.8.8.1.1.3.2.2" xref="S2.E1.m1.8.8.1.1.3.2.2.cmml">F</mi><mi id="S2.E1.m1.8.8.1.1.3.2.3" xref="S2.E1.m1.8.8.1.1.3.2.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.8.8.1.1.3.1" xref="S2.E1.m1.8.8.1.1.3.1.cmml">​</mo><mrow id="S2.E1.m1.8.8.1.1.3.3.2" xref="S2.E1.m1.8.8.1.1.3.cmml"><mo stretchy="false" id="S2.E1.m1.8.8.1.1.3.3.2.1" xref="S2.E1.m1.8.8.1.1.3.cmml">(</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">𝒘</mi><mo rspace="0.278em" stretchy="false" id="S2.E1.m1.8.8.1.1.3.3.2.2" xref="S2.E1.m1.8.8.1.1.3.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S2.E1.m1.8.8.1.1.2" xref="S2.E1.m1.8.8.1.1.2.cmml">:=</mo><mrow id="S2.E1.m1.8.8.1.1.1" xref="S2.E1.m1.8.8.1.1.1.cmml"><mfrac id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml"><mn id="S2.E1.m1.1.1.3" xref="S2.E1.m1.1.1.3.cmml">1</mn><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.2.1.cmml">|</mo><msub id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E1.m1.8.8.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.8.8.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.cmml"><munder id="S2.E1.m1.8.8.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.2.cmml"><mo movablelimits="false" id="S2.E1.m1.8.8.1.1.1.1.2.2" xref="S2.E1.m1.8.8.1.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.3.3.2" xref="S2.E1.m1.3.3.2.cmml"><mrow id="S2.E1.m1.3.3.2.4.2" xref="S2.E1.m1.3.3.2.4.1.cmml"><mo stretchy="false" id="S2.E1.m1.3.3.2.4.2.1" xref="S2.E1.m1.3.3.2.4.1.cmml">(</mo><mi id="S2.E1.m1.2.2.1.1" xref="S2.E1.m1.2.2.1.1.cmml">𝒙</mi><mo id="S2.E1.m1.3.3.2.4.2.2" xref="S2.E1.m1.3.3.2.4.1.cmml">,</mo><mi id="S2.E1.m1.3.3.2.2" xref="S2.E1.m1.3.3.2.2.cmml">𝒚</mi><mo stretchy="false" id="S2.E1.m1.3.3.2.4.2.3" xref="S2.E1.m1.3.3.2.4.1.cmml">)</mo></mrow><mo id="S2.E1.m1.3.3.2.3" xref="S2.E1.m1.3.3.2.3.cmml">∈</mo><msub id="S2.E1.m1.3.3.2.5" xref="S2.E1.m1.3.3.2.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.3.3.2.5.2" xref="S2.E1.m1.3.3.2.5.2.cmml">𝒟</mi><mi id="S2.E1.m1.3.3.2.5.3" xref="S2.E1.m1.3.3.2.5.3.cmml">m</mi></msub></mrow></munder><mrow id="S2.E1.m1.8.8.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.cmml"><mi id="S2.E1.m1.8.8.1.1.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.8.8.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.cmml"><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">(</mo><mi id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml">𝒙</mi><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">;</mo><mi id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6.cmml">𝒘</mi><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.cmml">;</mo><mi id="S2.E1.m1.7.7" xref="S2.E1.m1.7.7.cmml">𝒚</mi><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.4" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S2.E1.m1.8.8.1.2" xref="S2.E1.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.8b"><apply id="S2.E1.m1.8.8.1.1.cmml" xref="S2.E1.m1.8.8.1"><csymbol cd="latexml" id="S2.E1.m1.8.8.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.2">assign</csymbol><apply id="S2.E1.m1.8.8.1.1.3.cmml" xref="S2.E1.m1.8.8.1.1.3"><times id="S2.E1.m1.8.8.1.1.3.1.cmml" xref="S2.E1.m1.8.8.1.1.3.1"></times><apply id="S2.E1.m1.8.8.1.1.3.2.cmml" xref="S2.E1.m1.8.8.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.8.8.1.1.3.2.1.cmml" xref="S2.E1.m1.8.8.1.1.3.2">subscript</csymbol><ci id="S2.E1.m1.8.8.1.1.3.2.2.cmml" xref="S2.E1.m1.8.8.1.1.3.2.2">𝐹</ci><ci id="S2.E1.m1.8.8.1.1.3.2.3.cmml" xref="S2.E1.m1.8.8.1.1.3.2.3">𝑚</ci></apply><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">𝒘</ci></apply><apply id="S2.E1.m1.8.8.1.1.1.cmml" xref="S2.E1.m1.8.8.1.1.1"><times id="S2.E1.m1.8.8.1.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.1.2"></times><apply id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1"><divide id="S2.E1.m1.1.1.2.cmml" xref="S2.E1.m1.1.1"></divide><cn type="integer" id="S2.E1.m1.1.1.3.cmml" xref="S2.E1.m1.1.1.3">1</cn><apply id="S2.E1.m1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1"><abs id="S2.E1.m1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2"></abs><apply id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.2">𝒟</ci><ci id="S2.E1.m1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S2.E1.m1.8.8.1.1.1.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1"><apply id="S2.E1.m1.8.8.1.1.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.8.8.1.1.1.1.2.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1.2">subscript</csymbol><sum id="S2.E1.m1.8.8.1.1.1.1.2.2.cmml" xref="S2.E1.m1.8.8.1.1.1.1.2.2"></sum><apply id="S2.E1.m1.3.3.2.cmml" xref="S2.E1.m1.3.3.2"><in id="S2.E1.m1.3.3.2.3.cmml" xref="S2.E1.m1.3.3.2.3"></in><interval closure="open" id="S2.E1.m1.3.3.2.4.1.cmml" xref="S2.E1.m1.3.3.2.4.2"><ci id="S2.E1.m1.2.2.1.1.cmml" xref="S2.E1.m1.2.2.1.1">𝒙</ci><ci id="S2.E1.m1.3.3.2.2.cmml" xref="S2.E1.m1.3.3.2.2">𝒚</ci></interval><apply id="S2.E1.m1.3.3.2.5.cmml" xref="S2.E1.m1.3.3.2.5"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.2.5.1.cmml" xref="S2.E1.m1.3.3.2.5">subscript</csymbol><ci id="S2.E1.m1.3.3.2.5.2.cmml" xref="S2.E1.m1.3.3.2.5.2">𝒟</ci><ci id="S2.E1.m1.3.3.2.5.3.cmml" xref="S2.E1.m1.3.3.2.5.3">𝑚</ci></apply></apply></apply><apply id="S2.E1.m1.8.8.1.1.1.1.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1"><times id="S2.E1.m1.8.8.1.1.1.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.2"></times><ci id="S2.E1.m1.8.8.1.1.1.1.1.3.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.3">𝑓</ci><list id="S2.E1.m1.8.8.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1"><apply id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1"><times id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1"></times><ci id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2">ℳ</ci><list id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2"><ci id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5">𝒙</ci><ci id="S2.E1.m1.6.6.cmml" xref="S2.E1.m1.6.6">𝒘</ci></list></apply><ci id="S2.E1.m1.7.7.cmml" xref="S2.E1.m1.7.7">𝒚</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.8c">F_{m}(\boldsymbol{w}):=\frac{1}{|\mathcal{D}_{m}|}\sum_{(\boldsymbol{x},\boldsymbol{y})\in\mathcal{D}_{m}}f\left(\mathcal{M}(\boldsymbol{x};\boldsymbol{w});\boldsymbol{y}\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS1.p1.11" class="ltx_p">where <math id="S2.SS1.p1.5.m1.2" class="ltx_Math" alttext="\mathcal{M}(\boldsymbol{x};\boldsymbol{w})" display="inline"><semantics id="S2.SS1.p1.5.m1.2a"><mrow id="S2.SS1.p1.5.m1.2.3" xref="S2.SS1.p1.5.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.5.m1.2.3.2" xref="S2.SS1.p1.5.m1.2.3.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.5.m1.2.3.1" xref="S2.SS1.p1.5.m1.2.3.1.cmml">​</mo><mrow id="S2.SS1.p1.5.m1.2.3.3.2" xref="S2.SS1.p1.5.m1.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.5.m1.2.3.3.2.1" xref="S2.SS1.p1.5.m1.2.3.3.1.cmml">(</mo><mi id="S2.SS1.p1.5.m1.1.1" xref="S2.SS1.p1.5.m1.1.1.cmml">𝒙</mi><mo id="S2.SS1.p1.5.m1.2.3.3.2.2" xref="S2.SS1.p1.5.m1.2.3.3.1.cmml">;</mo><mi id="S2.SS1.p1.5.m1.2.2" xref="S2.SS1.p1.5.m1.2.2.cmml">𝒘</mi><mo stretchy="false" id="S2.SS1.p1.5.m1.2.3.3.2.3" xref="S2.SS1.p1.5.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m1.2b"><apply id="S2.SS1.p1.5.m1.2.3.cmml" xref="S2.SS1.p1.5.m1.2.3"><times id="S2.SS1.p1.5.m1.2.3.1.cmml" xref="S2.SS1.p1.5.m1.2.3.1"></times><ci id="S2.SS1.p1.5.m1.2.3.2.cmml" xref="S2.SS1.p1.5.m1.2.3.2">ℳ</ci><list id="S2.SS1.p1.5.m1.2.3.3.1.cmml" xref="S2.SS1.p1.5.m1.2.3.3.2"><ci id="S2.SS1.p1.5.m1.1.1.cmml" xref="S2.SS1.p1.5.m1.1.1">𝒙</ci><ci id="S2.SS1.p1.5.m1.2.2.cmml" xref="S2.SS1.p1.5.m1.2.2">𝒘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m1.2c">\mathcal{M}(\boldsymbol{x};\boldsymbol{w})</annotation></semantics></math> is the output on a given model parameterized by <math id="S2.SS1.p1.6.m2.1" class="ltx_Math" alttext="\boldsymbol{w}" display="inline"><semantics id="S2.SS1.p1.6.m2.1a"><mi id="S2.SS1.p1.6.m2.1.1" xref="S2.SS1.p1.6.m2.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m2.1b"><ci id="S2.SS1.p1.6.m2.1.1.cmml" xref="S2.SS1.p1.6.m2.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m2.1c">\boldsymbol{w}</annotation></semantics></math> and an input <math id="S2.SS1.p1.7.m3.1" class="ltx_Math" alttext="\boldsymbol{x}" display="inline"><semantics id="S2.SS1.p1.7.m3.1a"><mi id="S2.SS1.p1.7.m3.1.1" xref="S2.SS1.p1.7.m3.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m3.1b"><ci id="S2.SS1.p1.7.m3.1.1.cmml" xref="S2.SS1.p1.7.m3.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m3.1c">\boldsymbol{x}</annotation></semantics></math>. The loss function <math id="S2.SS1.p1.8.m4.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS1.p1.8.m4.1a"><mi id="S2.SS1.p1.8.m4.1.1" xref="S2.SS1.p1.8.m4.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m4.1b"><ci id="S2.SS1.p1.8.m4.1.1.cmml" xref="S2.SS1.p1.8.m4.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m4.1c">f</annotation></semantics></math> is defined on the model output and the ground truth <math id="S2.SS1.p1.9.m5.1" class="ltx_Math" alttext="\boldsymbol{y}" display="inline"><semantics id="S2.SS1.p1.9.m5.1a"><mi id="S2.SS1.p1.9.m5.1.1" xref="S2.SS1.p1.9.m5.1.1.cmml">𝒚</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m5.1b"><ci id="S2.SS1.p1.9.m5.1.1.cmml" xref="S2.SS1.p1.9.m5.1.1">𝒚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m5.1c">\boldsymbol{y}</annotation></semantics></math>. In this dataset, we assume that the ground truth <math id="S2.SS1.p1.10.m6.1" class="ltx_Math" alttext="\boldsymbol{y}" display="inline"><semantics id="S2.SS1.p1.10.m6.1a"><mi id="S2.SS1.p1.10.m6.1.1" xref="S2.SS1.p1.10.m6.1.1.cmml">𝒚</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m6.1b"><ci id="S2.SS1.p1.10.m6.1.1.cmml" xref="S2.SS1.p1.10.m6.1.1">𝒚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m6.1c">\boldsymbol{y}</annotation></semantics></math> is part of the input <math id="S2.SS1.p1.11.m7.1" class="ltx_Math" alttext="\boldsymbol{x}" display="inline"><semantics id="S2.SS1.p1.11.m7.1a"><mi id="S2.SS1.p1.11.m7.1.1" xref="S2.SS1.p1.11.m7.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m7.1b"><ci id="S2.SS1.p1.11.m7.1.1.cmml" xref="S2.SS1.p1.11.m7.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m7.1c">\boldsymbol{x}</annotation></semantics></math>, where a sequence of tokens in the input is used to predict the next token, and the ground truth is used to identify the part needing to be predicted by the model. Such a dataset is commonly adopted in previous works to fine-tune an LLM <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2021</a>; Ouyang et al<span class="ltx_text">.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2022</a>)</cite>. Then, based on the definition, a conventional FL system aims to find an optimal model across all clients, which is formulated as</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.4" class="ltx_Math" alttext="\min_{\boldsymbol{w}\in\mathbb{R}^{d}}F(\boldsymbol{w})=\sum_{m\in[M]}p_{m}F_{m}(\boldsymbol{w})," display="block"><semantics id="S2.E2.m1.4a"><mrow id="S2.E2.m1.4.4.1" xref="S2.E2.m1.4.4.1.1.cmml"><mrow id="S2.E2.m1.4.4.1.1" xref="S2.E2.m1.4.4.1.1.cmml"><mrow id="S2.E2.m1.4.4.1.1.2" xref="S2.E2.m1.4.4.1.1.2.cmml"><mrow id="S2.E2.m1.4.4.1.1.2.2" xref="S2.E2.m1.4.4.1.1.2.2.cmml"><munder id="S2.E2.m1.4.4.1.1.2.2.1" xref="S2.E2.m1.4.4.1.1.2.2.1.cmml"><mi id="S2.E2.m1.4.4.1.1.2.2.1.2" xref="S2.E2.m1.4.4.1.1.2.2.1.2.cmml">min</mi><mrow id="S2.E2.m1.4.4.1.1.2.2.1.3" xref="S2.E2.m1.4.4.1.1.2.2.1.3.cmml"><mi id="S2.E2.m1.4.4.1.1.2.2.1.3.2" xref="S2.E2.m1.4.4.1.1.2.2.1.3.2.cmml">𝒘</mi><mo id="S2.E2.m1.4.4.1.1.2.2.1.3.1" xref="S2.E2.m1.4.4.1.1.2.2.1.3.1.cmml">∈</mo><msup id="S2.E2.m1.4.4.1.1.2.2.1.3.3" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3.cmml"><mi id="S2.E2.m1.4.4.1.1.2.2.1.3.3.2" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3.2.cmml">ℝ</mi><mi id="S2.E2.m1.4.4.1.1.2.2.1.3.3.3" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3.3.cmml">d</mi></msup></mrow></munder><mo lspace="0.167em" id="S2.E2.m1.4.4.1.1.2.2a" xref="S2.E2.m1.4.4.1.1.2.2.cmml">⁡</mo><mi id="S2.E2.m1.4.4.1.1.2.2.2" xref="S2.E2.m1.4.4.1.1.2.2.2.cmml">F</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.2.1" xref="S2.E2.m1.4.4.1.1.2.1.cmml">​</mo><mrow id="S2.E2.m1.4.4.1.1.2.3.2" xref="S2.E2.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.1.1.2.3.2.1" xref="S2.E2.m1.4.4.1.1.2.cmml">(</mo><mi id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml">𝒘</mi><mo stretchy="false" id="S2.E2.m1.4.4.1.1.2.3.2.2" xref="S2.E2.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S2.E2.m1.4.4.1.1.1" xref="S2.E2.m1.4.4.1.1.1.cmml">=</mo><mrow id="S2.E2.m1.4.4.1.1.3" xref="S2.E2.m1.4.4.1.1.3.cmml"><munder id="S2.E2.m1.4.4.1.1.3.1" xref="S2.E2.m1.4.4.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E2.m1.4.4.1.1.3.1.2" xref="S2.E2.m1.4.4.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E2.m1.1.1.1" xref="S2.E2.m1.1.1.1.cmml"><mi id="S2.E2.m1.1.1.1.3" xref="S2.E2.m1.1.1.1.3.cmml">m</mi><mo id="S2.E2.m1.1.1.1.2" xref="S2.E2.m1.1.1.1.2.cmml">∈</mo><mrow id="S2.E2.m1.1.1.1.4.2" xref="S2.E2.m1.1.1.1.4.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.4.2.1" xref="S2.E2.m1.1.1.1.4.1.1.cmml">[</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">M</mi><mo stretchy="false" id="S2.E2.m1.1.1.1.4.2.2" xref="S2.E2.m1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></munder><mrow id="S2.E2.m1.4.4.1.1.3.2" xref="S2.E2.m1.4.4.1.1.3.2.cmml"><msub id="S2.E2.m1.4.4.1.1.3.2.2" xref="S2.E2.m1.4.4.1.1.3.2.2.cmml"><mi id="S2.E2.m1.4.4.1.1.3.2.2.2" xref="S2.E2.m1.4.4.1.1.3.2.2.2.cmml">p</mi><mi id="S2.E2.m1.4.4.1.1.3.2.2.3" xref="S2.E2.m1.4.4.1.1.3.2.2.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.3.2.1" xref="S2.E2.m1.4.4.1.1.3.2.1.cmml">​</mo><msub id="S2.E2.m1.4.4.1.1.3.2.3" xref="S2.E2.m1.4.4.1.1.3.2.3.cmml"><mi id="S2.E2.m1.4.4.1.1.3.2.3.2" xref="S2.E2.m1.4.4.1.1.3.2.3.2.cmml">F</mi><mi id="S2.E2.m1.4.4.1.1.3.2.3.3" xref="S2.E2.m1.4.4.1.1.3.2.3.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.3.2.1a" xref="S2.E2.m1.4.4.1.1.3.2.1.cmml">​</mo><mrow id="S2.E2.m1.4.4.1.1.3.2.4.2" xref="S2.E2.m1.4.4.1.1.3.2.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.1.1.3.2.4.2.1" xref="S2.E2.m1.4.4.1.1.3.2.cmml">(</mo><mi id="S2.E2.m1.3.3" xref="S2.E2.m1.3.3.cmml">𝒘</mi><mo stretchy="false" id="S2.E2.m1.4.4.1.1.3.2.4.2.2" xref="S2.E2.m1.4.4.1.1.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.4.4.1.2" xref="S2.E2.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.4b"><apply id="S2.E2.m1.4.4.1.1.cmml" xref="S2.E2.m1.4.4.1"><eq id="S2.E2.m1.4.4.1.1.1.cmml" xref="S2.E2.m1.4.4.1.1.1"></eq><apply id="S2.E2.m1.4.4.1.1.2.cmml" xref="S2.E2.m1.4.4.1.1.2"><times id="S2.E2.m1.4.4.1.1.2.1.cmml" xref="S2.E2.m1.4.4.1.1.2.1"></times><apply id="S2.E2.m1.4.4.1.1.2.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2"><apply id="S2.E2.m1.4.4.1.1.2.2.1.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.2.2.1.1.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1">subscript</csymbol><min id="S2.E2.m1.4.4.1.1.2.2.1.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.2"></min><apply id="S2.E2.m1.4.4.1.1.2.2.1.3.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3"><in id="S2.E2.m1.4.4.1.1.2.2.1.3.1.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.1"></in><ci id="S2.E2.m1.4.4.1.1.2.2.1.3.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.2">𝒘</ci><apply id="S2.E2.m1.4.4.1.1.2.2.1.3.3.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.2.2.1.3.3.1.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3">superscript</csymbol><ci id="S2.E2.m1.4.4.1.1.2.2.1.3.3.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3.2">ℝ</ci><ci id="S2.E2.m1.4.4.1.1.2.2.1.3.3.3.cmml" xref="S2.E2.m1.4.4.1.1.2.2.1.3.3.3">𝑑</ci></apply></apply></apply><ci id="S2.E2.m1.4.4.1.1.2.2.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.2">𝐹</ci></apply><ci id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2">𝒘</ci></apply><apply id="S2.E2.m1.4.4.1.1.3.cmml" xref="S2.E2.m1.4.4.1.1.3"><apply id="S2.E2.m1.4.4.1.1.3.1.cmml" xref="S2.E2.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.3.1.1.cmml" xref="S2.E2.m1.4.4.1.1.3.1">subscript</csymbol><sum id="S2.E2.m1.4.4.1.1.3.1.2.cmml" xref="S2.E2.m1.4.4.1.1.3.1.2"></sum><apply id="S2.E2.m1.1.1.1.cmml" xref="S2.E2.m1.1.1.1"><in id="S2.E2.m1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.2"></in><ci id="S2.E2.m1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.3">𝑚</ci><apply id="S2.E2.m1.1.1.1.4.1.cmml" xref="S2.E2.m1.1.1.1.4.2"><csymbol cd="latexml" id="S2.E2.m1.1.1.1.4.1.1.cmml" xref="S2.E2.m1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑀</ci></apply></apply></apply><apply id="S2.E2.m1.4.4.1.1.3.2.cmml" xref="S2.E2.m1.4.4.1.1.3.2"><times id="S2.E2.m1.4.4.1.1.3.2.1.cmml" xref="S2.E2.m1.4.4.1.1.3.2.1"></times><apply id="S2.E2.m1.4.4.1.1.3.2.2.cmml" xref="S2.E2.m1.4.4.1.1.3.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.3.2.2.1.cmml" xref="S2.E2.m1.4.4.1.1.3.2.2">subscript</csymbol><ci id="S2.E2.m1.4.4.1.1.3.2.2.2.cmml" xref="S2.E2.m1.4.4.1.1.3.2.2.2">𝑝</ci><ci id="S2.E2.m1.4.4.1.1.3.2.2.3.cmml" xref="S2.E2.m1.4.4.1.1.3.2.2.3">𝑚</ci></apply><apply id="S2.E2.m1.4.4.1.1.3.2.3.cmml" xref="S2.E2.m1.4.4.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.3.2.3.1.cmml" xref="S2.E2.m1.4.4.1.1.3.2.3">subscript</csymbol><ci id="S2.E2.m1.4.4.1.1.3.2.3.2.cmml" xref="S2.E2.m1.4.4.1.1.3.2.3.2">𝐹</ci><ci id="S2.E2.m1.4.4.1.1.3.2.3.3.cmml" xref="S2.E2.m1.4.4.1.1.3.2.3.3">𝑚</ci></apply><ci id="S2.E2.m1.3.3.cmml" xref="S2.E2.m1.3.3">𝒘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.4c">\min_{\boldsymbol{w}\in\mathbb{R}^{d}}F(\boldsymbol{w})=\sum_{m\in[M]}p_{m}F_{m}(\boldsymbol{w}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS1.p1.15" class="ltx_p">where <math id="S2.SS1.p1.12.m1.2" class="ltx_Math" alttext="p_{m}=|\mathcal{D}_{m}|/|\mathcal{D}|" display="inline"><semantics id="S2.SS1.p1.12.m1.2a"><mrow id="S2.SS1.p1.12.m1.2.2" xref="S2.SS1.p1.12.m1.2.2.cmml"><msub id="S2.SS1.p1.12.m1.2.2.3" xref="S2.SS1.p1.12.m1.2.2.3.cmml"><mi id="S2.SS1.p1.12.m1.2.2.3.2" xref="S2.SS1.p1.12.m1.2.2.3.2.cmml">p</mi><mi id="S2.SS1.p1.12.m1.2.2.3.3" xref="S2.SS1.p1.12.m1.2.2.3.3.cmml">m</mi></msub><mo id="S2.SS1.p1.12.m1.2.2.2" xref="S2.SS1.p1.12.m1.2.2.2.cmml">=</mo><mrow id="S2.SS1.p1.12.m1.2.2.1" xref="S2.SS1.p1.12.m1.2.2.1.cmml"><mrow id="S2.SS1.p1.12.m1.2.2.1.1.1" xref="S2.SS1.p1.12.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.12.m1.2.2.1.1.1.2" xref="S2.SS1.p1.12.m1.2.2.1.1.2.1.cmml">|</mo><msub id="S2.SS1.p1.12.m1.2.2.1.1.1.1" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.12.m1.2.2.1.1.1.1.2" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.SS1.p1.12.m1.2.2.1.1.1.1.3" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S2.SS1.p1.12.m1.2.2.1.1.1.3" xref="S2.SS1.p1.12.m1.2.2.1.1.2.1.cmml">|</mo></mrow><mo id="S2.SS1.p1.12.m1.2.2.1.2" xref="S2.SS1.p1.12.m1.2.2.1.2.cmml">/</mo><mrow id="S2.SS1.p1.12.m1.2.2.1.3.2" xref="S2.SS1.p1.12.m1.2.2.1.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.12.m1.2.2.1.3.2.1" xref="S2.SS1.p1.12.m1.2.2.1.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.12.m1.1.1" xref="S2.SS1.p1.12.m1.1.1.cmml">𝒟</mi><mo stretchy="false" id="S2.SS1.p1.12.m1.2.2.1.3.2.2" xref="S2.SS1.p1.12.m1.2.2.1.3.1.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m1.2b"><apply id="S2.SS1.p1.12.m1.2.2.cmml" xref="S2.SS1.p1.12.m1.2.2"><eq id="S2.SS1.p1.12.m1.2.2.2.cmml" xref="S2.SS1.p1.12.m1.2.2.2"></eq><apply id="S2.SS1.p1.12.m1.2.2.3.cmml" xref="S2.SS1.p1.12.m1.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.12.m1.2.2.3.1.cmml" xref="S2.SS1.p1.12.m1.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.12.m1.2.2.3.2.cmml" xref="S2.SS1.p1.12.m1.2.2.3.2">𝑝</ci><ci id="S2.SS1.p1.12.m1.2.2.3.3.cmml" xref="S2.SS1.p1.12.m1.2.2.3.3">𝑚</ci></apply><apply id="S2.SS1.p1.12.m1.2.2.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1"><divide id="S2.SS1.p1.12.m1.2.2.1.2.cmml" xref="S2.SS1.p1.12.m1.2.2.1.2"></divide><apply id="S2.SS1.p1.12.m1.2.2.1.1.2.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1"><abs id="S2.SS1.p1.12.m1.2.2.1.1.2.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1.2"></abs><apply id="S2.SS1.p1.12.m1.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.12.m1.2.2.1.1.1.1.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.12.m1.2.2.1.1.1.1.2.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1.2">𝒟</ci><ci id="S2.SS1.p1.12.m1.2.2.1.1.1.1.3.cmml" xref="S2.SS1.p1.12.m1.2.2.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S2.SS1.p1.12.m1.2.2.1.3.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1.3.2"><abs id="S2.SS1.p1.12.m1.2.2.1.3.1.1.cmml" xref="S2.SS1.p1.12.m1.2.2.1.3.2.1"></abs><ci id="S2.SS1.p1.12.m1.1.1.cmml" xref="S2.SS1.p1.12.m1.1.1">𝒟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m1.2c">p_{m}=|\mathcal{D}_{m}|/|\mathcal{D}|</annotation></semantics></math> for all <math id="S2.SS1.p1.13.m2.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="S2.SS1.p1.13.m2.1a"><mrow id="S2.SS1.p1.13.m2.1.2" xref="S2.SS1.p1.13.m2.1.2.cmml"><mi id="S2.SS1.p1.13.m2.1.2.2" xref="S2.SS1.p1.13.m2.1.2.2.cmml">m</mi><mo id="S2.SS1.p1.13.m2.1.2.1" xref="S2.SS1.p1.13.m2.1.2.1.cmml">∈</mo><mrow id="S2.SS1.p1.13.m2.1.2.3.2" xref="S2.SS1.p1.13.m2.1.2.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.13.m2.1.2.3.2.1" xref="S2.SS1.p1.13.m2.1.2.3.1.1.cmml">[</mo><mi id="S2.SS1.p1.13.m2.1.1" xref="S2.SS1.p1.13.m2.1.1.cmml">M</mi><mo stretchy="false" id="S2.SS1.p1.13.m2.1.2.3.2.2" xref="S2.SS1.p1.13.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.13.m2.1b"><apply id="S2.SS1.p1.13.m2.1.2.cmml" xref="S2.SS1.p1.13.m2.1.2"><in id="S2.SS1.p1.13.m2.1.2.1.cmml" xref="S2.SS1.p1.13.m2.1.2.1"></in><ci id="S2.SS1.p1.13.m2.1.2.2.cmml" xref="S2.SS1.p1.13.m2.1.2.2">𝑚</ci><apply id="S2.SS1.p1.13.m2.1.2.3.1.cmml" xref="S2.SS1.p1.13.m2.1.2.3.2"><csymbol cd="latexml" id="S2.SS1.p1.13.m2.1.2.3.1.1.cmml" xref="S2.SS1.p1.13.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.13.m2.1.1.cmml" xref="S2.SS1.p1.13.m2.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.13.m2.1c">m\in[M]</annotation></semantics></math>, where <math id="S2.SS1.p1.14.m3.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S2.SS1.p1.14.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.14.m3.1.1" xref="S2.SS1.p1.14.m3.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.14.m3.1b"><ci id="S2.SS1.p1.14.m3.1.1.cmml" xref="S2.SS1.p1.14.m3.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.14.m3.1c">\mathcal{D}</annotation></semantics></math> represents the entire training dataset, i.e., <math id="S2.SS1.p1.15.m4.1" class="ltx_Math" alttext="\mathcal{D}=\cup_{m\in[M]}\mathcal{D}_{m}" display="inline"><semantics id="S2.SS1.p1.15.m4.1a"><mrow id="S2.SS1.p1.15.m4.1.2" xref="S2.SS1.p1.15.m4.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.15.m4.1.2.2" xref="S2.SS1.p1.15.m4.1.2.2.cmml">𝒟</mi><mo rspace="0em" id="S2.SS1.p1.15.m4.1.2.1" xref="S2.SS1.p1.15.m4.1.2.1.cmml">=</mo><mrow id="S2.SS1.p1.15.m4.1.2.3" xref="S2.SS1.p1.15.m4.1.2.3.cmml"><msub id="S2.SS1.p1.15.m4.1.2.3.1" xref="S2.SS1.p1.15.m4.1.2.3.1.cmml"><mo lspace="0em" id="S2.SS1.p1.15.m4.1.2.3.1.2" xref="S2.SS1.p1.15.m4.1.2.3.1.2.cmml">∪</mo><mrow id="S2.SS1.p1.15.m4.1.1.1" xref="S2.SS1.p1.15.m4.1.1.1.cmml"><mi id="S2.SS1.p1.15.m4.1.1.1.3" xref="S2.SS1.p1.15.m4.1.1.1.3.cmml">m</mi><mo id="S2.SS1.p1.15.m4.1.1.1.2" xref="S2.SS1.p1.15.m4.1.1.1.2.cmml">∈</mo><mrow id="S2.SS1.p1.15.m4.1.1.1.4.2" xref="S2.SS1.p1.15.m4.1.1.1.4.1.cmml"><mo stretchy="false" id="S2.SS1.p1.15.m4.1.1.1.4.2.1" xref="S2.SS1.p1.15.m4.1.1.1.4.1.1.cmml">[</mo><mi id="S2.SS1.p1.15.m4.1.1.1.1" xref="S2.SS1.p1.15.m4.1.1.1.1.cmml">M</mi><mo stretchy="false" id="S2.SS1.p1.15.m4.1.1.1.4.2.2" xref="S2.SS1.p1.15.m4.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><msub id="S2.SS1.p1.15.m4.1.2.3.2" xref="S2.SS1.p1.15.m4.1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.15.m4.1.2.3.2.2" xref="S2.SS1.p1.15.m4.1.2.3.2.2.cmml">𝒟</mi><mi id="S2.SS1.p1.15.m4.1.2.3.2.3" xref="S2.SS1.p1.15.m4.1.2.3.2.3.cmml">m</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.15.m4.1b"><apply id="S2.SS1.p1.15.m4.1.2.cmml" xref="S2.SS1.p1.15.m4.1.2"><eq id="S2.SS1.p1.15.m4.1.2.1.cmml" xref="S2.SS1.p1.15.m4.1.2.1"></eq><ci id="S2.SS1.p1.15.m4.1.2.2.cmml" xref="S2.SS1.p1.15.m4.1.2.2">𝒟</ci><apply id="S2.SS1.p1.15.m4.1.2.3.cmml" xref="S2.SS1.p1.15.m4.1.2.3"><apply id="S2.SS1.p1.15.m4.1.2.3.1.cmml" xref="S2.SS1.p1.15.m4.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS1.p1.15.m4.1.2.3.1.1.cmml" xref="S2.SS1.p1.15.m4.1.2.3.1">subscript</csymbol><union id="S2.SS1.p1.15.m4.1.2.3.1.2.cmml" xref="S2.SS1.p1.15.m4.1.2.3.1.2"></union><apply id="S2.SS1.p1.15.m4.1.1.1.cmml" xref="S2.SS1.p1.15.m4.1.1.1"><in id="S2.SS1.p1.15.m4.1.1.1.2.cmml" xref="S2.SS1.p1.15.m4.1.1.1.2"></in><ci id="S2.SS1.p1.15.m4.1.1.1.3.cmml" xref="S2.SS1.p1.15.m4.1.1.1.3">𝑚</ci><apply id="S2.SS1.p1.15.m4.1.1.1.4.1.cmml" xref="S2.SS1.p1.15.m4.1.1.1.4.2"><csymbol cd="latexml" id="S2.SS1.p1.15.m4.1.1.1.4.1.1.cmml" xref="S2.SS1.p1.15.m4.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.15.m4.1.1.1.1.cmml" xref="S2.SS1.p1.15.m4.1.1.1.1">𝑀</ci></apply></apply></apply><apply id="S2.SS1.p1.15.m4.1.2.3.2.cmml" xref="S2.SS1.p1.15.m4.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.15.m4.1.2.3.2.1.cmml" xref="S2.SS1.p1.15.m4.1.2.3.2">subscript</csymbol><ci id="S2.SS1.p1.15.m4.1.2.3.2.2.cmml" xref="S2.SS1.p1.15.m4.1.2.3.2.2">𝒟</ci><ci id="S2.SS1.p1.15.m4.1.2.3.2.3.cmml" xref="S2.SS1.p1.15.m4.1.2.3.2.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.15.m4.1c">\mathcal{D}=\cup_{m\in[M]}\mathcal{D}_{m}</annotation></semantics></math>.
Generally, this problem can be optimized by different FL algorithms <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2019</a>; Karimireddy et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2020</a>; Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2020</a>)</cite> repeating the following paradigm until convergence:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.2" class="ltx_p"><span id="S2.I1.i1.p1.2.1" class="ltx_text ltx_font_bold">Step 1:</span> At the beginning of each round <math id="S2.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.I1.i1.p1.1.m1.1a"><mi id="S2.I1.i1.p1.1.m1.1.1" xref="S2.I1.i1.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.1.m1.1b"><ci id="S2.I1.i1.p1.1.m1.1.1.cmml" xref="S2.I1.i1.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.1.m1.1c">t</annotation></semantics></math>, the server broadcasts the trainable model parameters <math id="S2.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t)}" display="inline"><semantics id="S2.I1.i1.p1.2.m2.1a"><msup id="S2.I1.i1.p1.2.m2.1.2" xref="S2.I1.i1.p1.2.m2.1.2.cmml"><mi id="S2.I1.i1.p1.2.m2.1.2.2" xref="S2.I1.i1.p1.2.m2.1.2.2.cmml">𝒘</mi><mrow id="S2.I1.i1.p1.2.m2.1.1.1.3" xref="S2.I1.i1.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S2.I1.i1.p1.2.m2.1.1.1.3.1" xref="S2.I1.i1.p1.2.m2.1.2.cmml">(</mo><mi id="S2.I1.i1.p1.2.m2.1.1.1.1" xref="S2.I1.i1.p1.2.m2.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S2.I1.i1.p1.2.m2.1.1.1.3.2" xref="S2.I1.i1.p1.2.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.2.m2.1b"><apply id="S2.I1.i1.p1.2.m2.1.2.cmml" xref="S2.I1.i1.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S2.I1.i1.p1.2.m2.1.2.1.cmml" xref="S2.I1.i1.p1.2.m2.1.2">superscript</csymbol><ci id="S2.I1.i1.p1.2.m2.1.2.2.cmml" xref="S2.I1.i1.p1.2.m2.1.2.2">𝒘</ci><ci id="S2.I1.i1.p1.2.m2.1.1.1.1.cmml" xref="S2.I1.i1.p1.2.m2.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.2.m2.1c">\boldsymbol{w}^{(t)}</annotation></semantics></math>;</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.4" class="ltx_p"><span id="S2.I1.i2.p1.4.1" class="ltx_text ltx_font_bold">Step 2:</span> After receiving the model <math id="S2.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t)}" display="inline"><semantics id="S2.I1.i2.p1.1.m1.1a"><msup id="S2.I1.i2.p1.1.m1.1.2" xref="S2.I1.i2.p1.1.m1.1.2.cmml"><mi id="S2.I1.i2.p1.1.m1.1.2.2" xref="S2.I1.i2.p1.1.m1.1.2.2.cmml">𝒘</mi><mrow id="S2.I1.i2.p1.1.m1.1.1.1.3" xref="S2.I1.i2.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S2.I1.i2.p1.1.m1.1.1.1.3.1" xref="S2.I1.i2.p1.1.m1.1.2.cmml">(</mo><mi id="S2.I1.i2.p1.1.m1.1.1.1.1" xref="S2.I1.i2.p1.1.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S2.I1.i2.p1.1.m1.1.1.1.3.2" xref="S2.I1.i2.p1.1.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.1.m1.1b"><apply id="S2.I1.i2.p1.1.m1.1.2.cmml" xref="S2.I1.i2.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.I1.i2.p1.1.m1.1.2.1.cmml" xref="S2.I1.i2.p1.1.m1.1.2">superscript</csymbol><ci id="S2.I1.i2.p1.1.m1.1.2.2.cmml" xref="S2.I1.i2.p1.1.m1.1.2.2">𝒘</ci><ci id="S2.I1.i2.p1.1.m1.1.1.1.1.cmml" xref="S2.I1.i2.p1.1.m1.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.1.m1.1c">\boldsymbol{w}^{(t)}</annotation></semantics></math>, each client <math id="S2.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="S2.I1.i2.p1.2.m2.1a"><mrow id="S2.I1.i2.p1.2.m2.1.2" xref="S2.I1.i2.p1.2.m2.1.2.cmml"><mi id="S2.I1.i2.p1.2.m2.1.2.2" xref="S2.I1.i2.p1.2.m2.1.2.2.cmml">m</mi><mo id="S2.I1.i2.p1.2.m2.1.2.1" xref="S2.I1.i2.p1.2.m2.1.2.1.cmml">∈</mo><mrow id="S2.I1.i2.p1.2.m2.1.2.3.2" xref="S2.I1.i2.p1.2.m2.1.2.3.1.cmml"><mo stretchy="false" id="S2.I1.i2.p1.2.m2.1.2.3.2.1" xref="S2.I1.i2.p1.2.m2.1.2.3.1.1.cmml">[</mo><mi id="S2.I1.i2.p1.2.m2.1.1" xref="S2.I1.i2.p1.2.m2.1.1.cmml">M</mi><mo stretchy="false" id="S2.I1.i2.p1.2.m2.1.2.3.2.2" xref="S2.I1.i2.p1.2.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.2.m2.1b"><apply id="S2.I1.i2.p1.2.m2.1.2.cmml" xref="S2.I1.i2.p1.2.m2.1.2"><in id="S2.I1.i2.p1.2.m2.1.2.1.cmml" xref="S2.I1.i2.p1.2.m2.1.2.1"></in><ci id="S2.I1.i2.p1.2.m2.1.2.2.cmml" xref="S2.I1.i2.p1.2.m2.1.2.2">𝑚</ci><apply id="S2.I1.i2.p1.2.m2.1.2.3.1.cmml" xref="S2.I1.i2.p1.2.m2.1.2.3.2"><csymbol cd="latexml" id="S2.I1.i2.p1.2.m2.1.2.3.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="S2.I1.i2.p1.2.m2.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.2.m2.1c">m\in[M]</annotation></semantics></math> performs multi-step local updates on <math id="S2.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t)}" display="inline"><semantics id="S2.I1.i2.p1.3.m3.1a"><msup id="S2.I1.i2.p1.3.m3.1.2" xref="S2.I1.i2.p1.3.m3.1.2.cmml"><mi id="S2.I1.i2.p1.3.m3.1.2.2" xref="S2.I1.i2.p1.3.m3.1.2.2.cmml">𝒘</mi><mrow id="S2.I1.i2.p1.3.m3.1.1.1.3" xref="S2.I1.i2.p1.3.m3.1.2.cmml"><mo stretchy="false" id="S2.I1.i2.p1.3.m3.1.1.1.3.1" xref="S2.I1.i2.p1.3.m3.1.2.cmml">(</mo><mi id="S2.I1.i2.p1.3.m3.1.1.1.1" xref="S2.I1.i2.p1.3.m3.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S2.I1.i2.p1.3.m3.1.1.1.3.2" xref="S2.I1.i2.p1.3.m3.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.3.m3.1b"><apply id="S2.I1.i2.p1.3.m3.1.2.cmml" xref="S2.I1.i2.p1.3.m3.1.2"><csymbol cd="ambiguous" id="S2.I1.i2.p1.3.m3.1.2.1.cmml" xref="S2.I1.i2.p1.3.m3.1.2">superscript</csymbol><ci id="S2.I1.i2.p1.3.m3.1.2.2.cmml" xref="S2.I1.i2.p1.3.m3.1.2.2">𝒘</ci><ci id="S2.I1.i2.p1.3.m3.1.1.1.1.cmml" xref="S2.I1.i2.p1.3.m3.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.3.m3.1c">\boldsymbol{w}^{(t)}</annotation></semantics></math> to obtain <math id="S2.I1.i2.p1.4.m4.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t)}_{m}" display="inline"><semantics id="S2.I1.i2.p1.4.m4.1a"><msubsup id="S2.I1.i2.p1.4.m4.1.2" xref="S2.I1.i2.p1.4.m4.1.2.cmml"><mi id="S2.I1.i2.p1.4.m4.1.2.2.2" xref="S2.I1.i2.p1.4.m4.1.2.2.2.cmml">𝒘</mi><mi id="S2.I1.i2.p1.4.m4.1.2.3" xref="S2.I1.i2.p1.4.m4.1.2.3.cmml">m</mi><mrow id="S2.I1.i2.p1.4.m4.1.1.1.3" xref="S2.I1.i2.p1.4.m4.1.2.cmml"><mo stretchy="false" id="S2.I1.i2.p1.4.m4.1.1.1.3.1" xref="S2.I1.i2.p1.4.m4.1.2.cmml">(</mo><mi id="S2.I1.i2.p1.4.m4.1.1.1.1" xref="S2.I1.i2.p1.4.m4.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S2.I1.i2.p1.4.m4.1.1.1.3.2" xref="S2.I1.i2.p1.4.m4.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.4.m4.1b"><apply id="S2.I1.i2.p1.4.m4.1.2.cmml" xref="S2.I1.i2.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S2.I1.i2.p1.4.m4.1.2.1.cmml" xref="S2.I1.i2.p1.4.m4.1.2">subscript</csymbol><apply id="S2.I1.i2.p1.4.m4.1.2.2.cmml" xref="S2.I1.i2.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S2.I1.i2.p1.4.m4.1.2.2.1.cmml" xref="S2.I1.i2.p1.4.m4.1.2">superscript</csymbol><ci id="S2.I1.i2.p1.4.m4.1.2.2.2.cmml" xref="S2.I1.i2.p1.4.m4.1.2.2.2">𝒘</ci><ci id="S2.I1.i2.p1.4.m4.1.1.1.1.cmml" xref="S2.I1.i2.p1.4.m4.1.1.1.1">𝑡</ci></apply><ci id="S2.I1.i2.p1.4.m4.1.2.3.cmml" xref="S2.I1.i2.p1.4.m4.1.2.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.4.m4.1c">\boldsymbol{w}^{(t)}_{m}</annotation></semantics></math>;</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.2" class="ltx_p"><span id="S2.I1.i3.p1.2.1" class="ltx_text ltx_font_bold">Step 3:</span> The server collects the locally updated model parameters <math id="S2.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t)}_{m}" display="inline"><semantics id="S2.I1.i3.p1.1.m1.1a"><msubsup id="S2.I1.i3.p1.1.m1.1.2" xref="S2.I1.i3.p1.1.m1.1.2.cmml"><mi id="S2.I1.i3.p1.1.m1.1.2.2.2" xref="S2.I1.i3.p1.1.m1.1.2.2.2.cmml">𝒘</mi><mi id="S2.I1.i3.p1.1.m1.1.2.3" xref="S2.I1.i3.p1.1.m1.1.2.3.cmml">m</mi><mrow id="S2.I1.i3.p1.1.m1.1.1.1.3" xref="S2.I1.i3.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S2.I1.i3.p1.1.m1.1.1.1.3.1" xref="S2.I1.i3.p1.1.m1.1.2.cmml">(</mo><mi id="S2.I1.i3.p1.1.m1.1.1.1.1" xref="S2.I1.i3.p1.1.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S2.I1.i3.p1.1.m1.1.1.1.3.2" xref="S2.I1.i3.p1.1.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.1.m1.1b"><apply id="S2.I1.i3.p1.1.m1.1.2.cmml" xref="S2.I1.i3.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.I1.i3.p1.1.m1.1.2.1.cmml" xref="S2.I1.i3.p1.1.m1.1.2">subscript</csymbol><apply id="S2.I1.i3.p1.1.m1.1.2.2.cmml" xref="S2.I1.i3.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.I1.i3.p1.1.m1.1.2.2.1.cmml" xref="S2.I1.i3.p1.1.m1.1.2">superscript</csymbol><ci id="S2.I1.i3.p1.1.m1.1.2.2.2.cmml" xref="S2.I1.i3.p1.1.m1.1.2.2.2">𝒘</ci><ci id="S2.I1.i3.p1.1.m1.1.1.1.1.cmml" xref="S2.I1.i3.p1.1.m1.1.1.1.1">𝑡</ci></apply><ci id="S2.I1.i3.p1.1.m1.1.2.3.cmml" xref="S2.I1.i3.p1.1.m1.1.2.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.1.m1.1c">\boldsymbol{w}^{(t)}_{m}</annotation></semantics></math> from clients and aggregates them into a single global model <math id="S2.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="\boldsymbol{w}^{(t+1)}" display="inline"><semantics id="S2.I1.i3.p1.2.m2.1a"><msup id="S2.I1.i3.p1.2.m2.1.2" xref="S2.I1.i3.p1.2.m2.1.2.cmml"><mi id="S2.I1.i3.p1.2.m2.1.2.2" xref="S2.I1.i3.p1.2.m2.1.2.2.cmml">𝒘</mi><mrow id="S2.I1.i3.p1.2.m2.1.1.1.1" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.I1.i3.p1.2.m2.1.1.1.1.2" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S2.I1.i3.p1.2.m2.1.1.1.1.1" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.cmml"><mi id="S2.I1.i3.p1.2.m2.1.1.1.1.1.2" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.2.cmml">t</mi><mo id="S2.I1.i3.p1.2.m2.1.1.1.1.1.1" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.1.cmml">+</mo><mn id="S2.I1.i3.p1.2.m2.1.1.1.1.1.3" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.I1.i3.p1.2.m2.1.1.1.1.3" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.2.m2.1b"><apply id="S2.I1.i3.p1.2.m2.1.2.cmml" xref="S2.I1.i3.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S2.I1.i3.p1.2.m2.1.2.1.cmml" xref="S2.I1.i3.p1.2.m2.1.2">superscript</csymbol><ci id="S2.I1.i3.p1.2.m2.1.2.2.cmml" xref="S2.I1.i3.p1.2.m2.1.2.2">𝒘</ci><apply id="S2.I1.i3.p1.2.m2.1.1.1.1.1.cmml" xref="S2.I1.i3.p1.2.m2.1.1.1.1"><plus id="S2.I1.i3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.1"></plus><ci id="S2.I1.i3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.I1.i3.p1.2.m2.1.1.1.1.1.3.cmml" xref="S2.I1.i3.p1.2.m2.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.2.m2.1c">\boldsymbol{w}^{(t+1)}</annotation></semantics></math> for next round.</p>
</div>
</li>
</ul>
</div>
<section id="S2.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Applying PEFT to federated LLM fine-tuning.</h4>

<div id="S2.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS1.SSS0.Px1.p1.1" class="ltx_p">The existing FL algorithms <cite class="ltx_cite ltx_citemacro_citep">(Acar et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2020</a>; Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2023</a>; He et al<span class="ltx_text">.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2023</a>; Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2023b</a>, <a href="#bib.bib38" title="" class="ltx_ref">2022</a>)</cite> are confronted with computation and communication bottlenecks when fine-tuning an LLM. To mitigate the limitations, researchers have extended existing parameter-efficient fine-tuning (PEFT) approaches to FL, named FedPEFT <cite class="ltx_cite ltx_citemacro_citep">(Yi et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a href="#bib.bib50" title="" class="ltx_ref">2023</a>; Sun et al<span class="ltx_text">.</span>, <a href="#bib.bib31" title="" class="ltx_ref">2024</a>)</cite>. These methods minimize the number of trainable parameters by introducing a PEFT module and keeping the original LLM parameters unchanged. By focusing local updates exclusively on the PEFT module rather than the entire model, these methods effectively reduce computational load and support larger batch sizes on a single GPU. Additionally, the FL server merely aggregates the updated parameters of a given model, thus obviating the need to transmit unchanged parameters and minimizing communication overheads.</p>
</div>
<div id="S2.SS1.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS1.SSS0.Px1.p2.1" class="ltx_p">Nevertheless, FedPEFT is still confronted with the intrinsic challenge wherein clients face obstacles in loading an LLM due to its substantial computation prerequisites. For instance, the loading of a full-precision LLaMA-2-7B necessitates a memory capacity of no less than 28 GB.</p>
</div>
</section>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Related Work</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">The era of LLM poses the necessity of model privacy protection, where the details of LLM cannot be visible to the clients. To this end, <cite class="ltx_cite ltx_citemacro_citet">Xiao et al<span class="ltx_text">.</span> (<a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> proposes a method named Offsite-tuning under the scenario where there is a server (a.k.a. LLM owner) and a client, while <cite class="ltx_cite ltx_citemacro_citet">Kuang et al<span class="ltx_text">.</span> (<a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite> extends this work to an FL version and names it as FedOT. They achieve model privacy protection by compressing the model, where only some layers are visible to the clients. However, these works require the preservation of a large number of layers to guarantee the performance, hindering the effectiveness of model privacy protection. In contrast, our work only discloses a few model parameters of the original LLM to the clients, i.e., the clients only know the adapter parameters that come from the original LLM, while the emulator parameters have been updated and different from the original LLM. Besides, neither offsite-tuning <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> nor FedOT <cite class="ltx_cite ltx_citemacro_citep">(Kuang et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite> consider the difference between alignment data on the server and the fine-tuning data on clients. In contrast, the bi-level optimization problem proposed in our work naturally considers this factor and we design updating rules based on it.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Black-box is also a practical way to protect model privacy, where the clients access the LLM via an API, and they cannot fine-tune the LLM. Therefore, the optimization solely relies on prompt-based learning <cite class="ltx_cite ltx_citemacro_citep">(Sordoni et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2023</a>; Li and Liang, <a href="#bib.bib17" title="" class="ltx_ref">2021</a>; Lester et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2021</a>; Liu et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2023</a>)</cite>. In the context of FL, there are two typical works, namely, Fed-BBPT <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite> and FedBPT <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2023</a>)</cite>. These two works guarantee the model privacy in FL, but they should transmit the prompt together with the input to the LLM owner, leading to concerns about data privacy when the input contains sensitive information, violating the requirement of FL. In contrast, the proposed <span id="S2.SS2.p2.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> will not lead to this concern because its training is fully on the clients such that the data are never shared with others.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span><span id="S3.3.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Given that some clients may be unable to load a complete LLM, this section introduces an algorithm designed to enable these clients to fine-tune the LLM without requiring access to its full version. In other words, our goal is to refine the part of a compressed model that should yield performance comparable to fine-tuning its counterpart within a full model. To accomplish this, the server initially compresses the LLM and divides it into two distinct components, each serving specific functions. The first component, termed an emulator, is tasked with replicating the behavior of the uncompressed LLM. The second component, referred to as an adapter, focuses on adeptly acquiring domain-specific linguistic patterns from clients. Upon reintegrating the adapter into the uncompressed emulator, its performance should demonstrate significant improvement compared to the original LLM.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">However, direct fine-tuning of the adapter on its models presents two significant limitations. Firstly, given that a single layer of a large language model (LLM) comprises millions of parameters, such as the decoder layer of LLaMA-2 with 202 million parameters, the adapter’s parameter count is immense. This necessitates clients to possess powerful computational equipment to handle the fine-tuning of the layer. Additionally, transmitting the layer updates to the server poses another bottleneck, particularly in scenarios with unreliable network connections or limited bandwidth, hindering the smooth transmission of updates to the server.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">To address these constraints, we integrate LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>, a PEFT module, into our proposed method. LoRA significantly reduces the number of tunable parameters, with a LoRA module for LLaMA-2 comprising 0.13 million trainable parameters, which is merely 0.06% of the original layer’s size. Consequently, the communication cost experiences a remarkable reduction of 99.94% compared to transmitting a full layer.</p>
</div>
<section id="S3.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Organization.</h4>

<div id="S3.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px1.p1.1" class="ltx_p">In the subsequent sections, we will delve into the concrete details of the algorithm design. Specifically, Section <a href="#S3.SS1" title="3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a> illustrates how the compressed model is prepared. Following that, Section <a href="#S3.SS2" title="3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> discusses the problem formulation for the aforementioned objectives. On top of this, Section <a href="#S3.SS3" title="3.3. Client Updates ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a> and Section <a href="#S3.SS4" title="3.4. Model Aggregation ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.4</span></a> outline the detailed steps of the proposed algorithm, namely local updates and server aggregation, showcasing the seamless integration of LoRA modules. Full implementation of the pseudocode is given in Algorithm <a href="#alg2" title="Algorithm 2 ‣ Discussion. ‣ 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Compressed Model Preparation: Linear Dropout</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.5" class="ltx_p">Suppose a pre-trained LLM has a total of <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">n</annotation></semantics></math> layers of transformers. In the work, a repeatedly used operation is layer extraction, which extracts some layers out of the total <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">n</annotation></semantics></math> layers of transformers to form a submodel. We denoted this by a function <math id="S3.SS1.p1.3.m3.2" class="ltx_Math" alttext="\textsf{LayerExtract}(\mathcal{M},L)" display="inline"><semantics id="S3.SS1.p1.3.m3.2a"><mrow id="S3.SS1.p1.3.m3.2.3" xref="S3.SS1.p1.3.m3.2.3.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.p1.3.m3.2.3.2" xref="S3.SS1.p1.3.m3.2.3.2a.cmml">LayerExtract</mtext><mo lspace="0em" rspace="0em" id="S3.SS1.p1.3.m3.2.3.1" xref="S3.SS1.p1.3.m3.2.3.1.cmml">​</mo><mrow id="S3.SS1.p1.3.m3.2.3.3.2" xref="S3.SS1.p1.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.3.m3.2.3.3.2.1" xref="S3.SS1.p1.3.m3.2.3.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">ℳ</mi><mo id="S3.SS1.p1.3.m3.2.3.3.2.2" xref="S3.SS1.p1.3.m3.2.3.3.1.cmml">,</mo><mi id="S3.SS1.p1.3.m3.2.2" xref="S3.SS1.p1.3.m3.2.2.cmml">L</mi><mo stretchy="false" id="S3.SS1.p1.3.m3.2.3.3.2.3" xref="S3.SS1.p1.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.2b"><apply id="S3.SS1.p1.3.m3.2.3.cmml" xref="S3.SS1.p1.3.m3.2.3"><times id="S3.SS1.p1.3.m3.2.3.1.cmml" xref="S3.SS1.p1.3.m3.2.3.1"></times><ci id="S3.SS1.p1.3.m3.2.3.2a.cmml" xref="S3.SS1.p1.3.m3.2.3.2"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.p1.3.m3.2.3.2.cmml" xref="S3.SS1.p1.3.m3.2.3.2">LayerExtract</mtext></ci><interval closure="open" id="S3.SS1.p1.3.m3.2.3.3.1.cmml" xref="S3.SS1.p1.3.m3.2.3.3.2"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">ℳ</ci><ci id="S3.SS1.p1.3.m3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2">𝐿</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.2c">\textsf{LayerExtract}(\mathcal{M},L)</annotation></semantics></math>, which means extracting the layers with indices in <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="L\subseteq[n]" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.2" xref="S3.SS1.p1.4.m4.1.2.cmml"><mi id="S3.SS1.p1.4.m4.1.2.2" xref="S3.SS1.p1.4.m4.1.2.2.cmml">L</mi><mo id="S3.SS1.p1.4.m4.1.2.1" xref="S3.SS1.p1.4.m4.1.2.1.cmml">⊆</mo><mrow id="S3.SS1.p1.4.m4.1.2.3.2" xref="S3.SS1.p1.4.m4.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.1.2.3.2.1" xref="S3.SS1.p1.4.m4.1.2.3.1.1.cmml">[</mo><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">n</mi><mo stretchy="false" id="S3.SS1.p1.4.m4.1.2.3.2.2" xref="S3.SS1.p1.4.m4.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.2.cmml" xref="S3.SS1.p1.4.m4.1.2"><subset id="S3.SS1.p1.4.m4.1.2.1.cmml" xref="S3.SS1.p1.4.m4.1.2.1"></subset><ci id="S3.SS1.p1.4.m4.1.2.2.cmml" xref="S3.SS1.p1.4.m4.1.2.2">𝐿</ci><apply id="S3.SS1.p1.4.m4.1.2.3.1.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2"><csymbol cd="latexml" id="S3.SS1.p1.4.m4.1.2.3.1.1.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">L\subseteq[n]</annotation></semantics></math> from the model <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\mathcal{M}</annotation></semantics></math>. The function consists of the following three steps, and its pseudocode implementation of the first two steps is presented in Algorithm <a href="#alg1" title="Algorithm 1 ‣ Step 2: Layer dropout to form emulator. ‣ 3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Step 1: Identify the adapters in the original model.</h4>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p1.8" class="ltx_p">We choose the bottom few layers<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The bottom/last layers refer to the transformer decoders near the output, while the top/first layers refer to the part close to the input.</span></span></span> of the original LLM as the adapter. To be more specific, suppose the size of the adapter is <math id="S3.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">a</annotation></semantics></math>, and denote the adapter as <math id="S3.SS1.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">\mathcal{A}</annotation></semantics></math>. Therefore, <math id="S3.SS1.SSS0.Px1.p1.3.m3.2" class="ltx_Math" alttext="\mathcal{A}\leftarrow\textsf{LayerExtract}(\mathcal{M},L_{\mathcal{A}})" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.2a"><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.2.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.3.cmml">𝒜</mi><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.2.cmml">←</mo><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3a.cmml">LayerExtract</mtext><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.2.cmml">​</mo><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml">ℳ</mi><mo id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.2.cmml">L</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.3.cmml">𝒜</mi></msub><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.4" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.2b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2"><ci id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.2">←</ci><ci id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.3">𝒜</ci><apply id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1"><times id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.2"></times><ci id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3a.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.3">LayerExtract</mtext></ci><interval closure="open" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1"><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1">ℳ</ci><apply id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.2">𝐿</ci><ci id="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.3">𝒜</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.2c">\mathcal{A}\leftarrow\textsf{LayerExtract}(\mathcal{M},L_{\mathcal{A}})</annotation></semantics></math> with the layer indices <math id="S3.SS1.SSS0.Px1.p1.4.m4.3" class="ltx_Math" alttext="L_{\mathcal{A}}=\{n-a+1,\dots,n\}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.3a"><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.3.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.cmml"><msub id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.2.cmml">L</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.3.cmml">𝒜</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.2.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml">{</mo><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.2.cmml">n</mi><mo id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.1.cmml">−</mo><mi id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.3.cmml">a</mi></mrow><mo id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.1.cmml">+</mo><mn id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml">…</mi><mo id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.4" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p1.4.m4.2.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.2.2.cmml">n</mi><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.5" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.3b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3"><eq id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.2"></eq><apply id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.2">𝐿</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.3.3">𝒜</ci></apply><set id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1"><plus id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.1"></plus><apply id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2"><minus id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.1"></minus><ci id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.2">𝑛</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.2.3">𝑎</ci></apply><cn type="integer" id="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.3.3.1.1.1.3">1</cn></apply><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">…</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.2.2">𝑛</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.3c">L_{\mathcal{A}}=\{n-a+1,\dots,n\}</annotation></semantics></math>. We denote <math id="S3.SS1.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝒘</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">\boldsymbol{w}_{\mathcal{A}}</annotation></semantics></math> as the parameters of <math id="S3.SS1.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.6.m6.1b"><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.6.m6.1c">\mathcal{A}</annotation></semantics></math>. The <math id="S3.SS1.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.7.m7.1a"><msub id="S3.SS1.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2">𝒘</ci><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.7.m7.1c">\boldsymbol{w}_{\mathcal{A}}</annotation></semantics></math> are also the trainable parameters that can be fine-tuned by clients. The remaining part of the model is demoted as <math id="S3.SS1.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{E}^{*}=\mathcal{M}\setminus\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.8.m8.1a"><mrow id="S3.SS1.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3.cmml">∗</mo></msup><mo id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2.cmml">ℳ</mi><mo id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.1.cmml">∖</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.cmml">𝒜</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1"><eq id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1"></eq><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2">ℰ</ci><times id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3"></times></apply><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3"><setdiff id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.1"></setdiff><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2">ℳ</ci><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3">𝒜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.8.m8.1c">\mathcal{E}^{*}=\mathcal{M}\setminus\mathcal{A}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.SSS0.Px1.p2" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p2.1" class="ltx_p">The choice of adapters brings two advantages. First, regarding the computation constraints of the clients, this proposed adapter is computation-efficient because it only needs to store the activations of transformers in the last few layers, leading to a lower memory cost. Second, as the adapter focuses more on domain-specific features, it is eco-friendly to spend the effort fine-tuning the last few layers. The conclusion is drawn from a well-known finding <cite class="ltx_cite ltx_citemacro_citep">(Yosinski et al<span class="ltx_text">.</span>, <a href="#bib.bib47" title="" class="ltx_ref">2014</a>)</cite> in neural networks that the first few layers tend to learn general features while the last layers encode specific ones.</p>
</div>
</section>
<section id="S3.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Step 2: Layer dropout to form emulator.</h4>

<div id="S3.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px2.p1.11" class="ltx_p">Inspired by the experimental results presented by <cite class="ltx_cite ltx_citemacro_citet">Xiao et al<span class="ltx_text">.</span> (<a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite>, we form an emulator by means of a uniform layer dropout <cite class="ltx_cite ltx_citemacro_citep">(Sajjad et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2023</a>)</cite> from the remaining part <math id="S3.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.1.m1.1a"><msup id="S3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.1.m1.1c">\mathcal{E}^{*}</annotation></semantics></math>. Therefore, the emulator is a sub-model obtained as <math id="S3.SS1.SSS0.Px2.p1.2.m2.2" class="ltx_Math" alttext="\mathcal{E}\leftarrow\textsf{LayerExtract}(\mathcal{E}^{*},L_{\mathcal{E}})" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.2.m2.2a"><mrow id="S3.SS1.SSS0.Px2.p1.2.m2.2.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.4.cmml">ℰ</mi><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.3.cmml">←</mo><mrow id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4a.cmml">LayerExtract</mtext><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.3.cmml">​</mo><mrow id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml">(</mo><msup id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.2.cmml">L</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.5" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.2.m2.2b"><apply id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2"><ci id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.3">←</ci><ci id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.4.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.4">ℰ</ci><apply id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2"><times id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.3"></times><ci id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4a.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4"><mtext class="ltx_mathvariant_sans-serif" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.4">LayerExtract</mtext></ci><interval closure="open" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2"><apply id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3"></times></apply><apply id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.2">𝐿</ci><ci id="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.2.2.2.2.2.2.3">ℰ</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.2.m2.2c">\mathcal{E}\leftarrow\textsf{LayerExtract}(\mathcal{E}^{*},L_{\mathcal{E}})</annotation></semantics></math>. Denote there are <math id="S3.SS1.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="n_{\mathcal{E}^{*}}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.3.m3.1a"><msub id="S3.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml">n</mi><msup id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">∗</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2">𝑛</ci><apply id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.3.m3.1c">n_{\mathcal{E}^{*}}</annotation></semantics></math> layers transformer in <math id="S3.SS1.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.4.m4.1a"><msup id="S3.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.4.m4.1c">\mathcal{E}^{*}</annotation></semantics></math>. The dropout rate of the emulator is denoted as <math id="S3.SS1.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\beta=\frac{|L_{\mathcal{E}}|}{n_{\mathcal{E}^{*}}}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.5.m5.1a"><mrow id="S3.SS1.SSS0.Px2.p1.5.m5.1.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.5.m5.1.2.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2.2.cmml">β</mi><mo id="S3.SS1.SSS0.Px2.p1.5.m5.1.2.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2.1.cmml">=</mo><mfrac id="S3.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml"><mrow id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.2.1.cmml">|</mo><msub id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.2.cmml">L</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.2.1.cmml">|</mo></mrow><msub id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.2.cmml">n</mi><msup id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.2" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.3" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.3.cmml">∗</mo></msup></msub></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2"><eq id="S3.SS1.SSS0.Px2.p1.5.m5.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2.1"></eq><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.2.2">𝛽</ci><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1"><divide id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1"></divide><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1"><abs id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.2"></abs><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.2">𝐿</ci><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.1.1.1.3">ℰ</ci></apply></apply><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.2">𝑛</ci><apply id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.3.3.3"></times></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.5.m5.1c">\beta=\frac{|L_{\mathcal{E}}|}{n_{\mathcal{E}^{*}}}</annotation></semantics></math>. For convenience, we call <math id="S3.SS1.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS1.SSS0.Px2.p1.6.m6.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.6.m6.1b"><ci id="S3.SS1.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m6.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.6.m6.1c">\mathcal{E}</annotation></semantics></math> as emulator and <math id="S3.SS1.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.7.m7.1a"><msup id="S3.SS1.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.2" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.7.m7.1c">\mathcal{E}^{*}</annotation></semantics></math> as non-compressed emulator. Let <math id="S3.SS1.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.8.m8.1a"><msub id="S3.SS1.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.2" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.3" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.3.cmml">ℰ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.8.m8.1b"><apply id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.2">𝒘</ci><ci id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.8.m8.1c">\boldsymbol{w}_{\mathcal{E}}</annotation></semantics></math> and <math id="S3.SS1.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}^{*}}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.9.m9.1a"><msub id="S3.SS1.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2.cmml">𝒘</mi><msup id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.3.cmml">∗</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.9.m9.1b"><apply id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2">𝒘</ci><apply id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.9.m9.1c">\boldsymbol{w}_{\mathcal{E}^{*}}</annotation></semantics></math> be the parameters of <math id="S3.SS1.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.10.m10.1b"><ci id="S3.SS1.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.10.m10.1c">\mathcal{E}</annotation></semantics></math> and <math id="S3.SS1.SSS0.Px2.p1.11.m11.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.11.m11.1a"><msup id="S3.SS1.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.11.m11.1c">\mathcal{E}^{*}</annotation></semantics></math>, respectively.</p>
</div>
<div id="S3.SS1.SSS0.Px2.p2" class="ltx_para">
<p id="S3.SS1.SSS0.Px2.p2.2" class="ltx_p">After training, we can attain two combined models, namely, <span id="S3.SS1.SSS0.Px2.p2.2.1" class="ltx_text ltx_framed ltx_framed_underline">Adap</span>tor + <span id="S3.SS1.SSS0.Px2.p2.2.2" class="ltx_text ltx_framed ltx_framed_underline">Emu</span>lator (AdapEmu, i.e., <math id="S3.SS1.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{E}\circ\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p2.1.m1.1a"><mrow id="S3.SS1.SSS0.Px2.p2.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2.cmml">ℰ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.1" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.1.cmml">∘</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3.cmml">𝒜</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p2.1.m1.1b"><apply id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1"><compose id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.1"></compose><ci id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2">ℰ</ci><ci id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p2.1.m1.1c">\mathcal{E}\circ\mathcal{A}</annotation></semantics></math>), and <span id="S3.SS1.SSS0.Px2.p2.2.3" class="ltx_text ltx_framed ltx_framed_underline">Adap</span>tor + <span id="S3.SS1.SSS0.Px2.p2.2.4" class="ltx_text ltx_framed ltx_framed_underline">Fu</span>ll (AdapFu, i.e., <math id="S3.SS1.SSS0.Px2.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{E}^{*}\circ\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p2.2.m2.1a"><mrow id="S3.SS1.SSS0.Px2.p2.2.m2.1.1" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.cmml"><msup id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.2" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.2.cmml">ℰ</mi><mo id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.3" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.3.cmml">∗</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.1" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.1.cmml">∘</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.3" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.3.cmml">𝒜</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p2.2.m2.1b"><apply id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1"><compose id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.1"></compose><apply id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.2">ℰ</ci><times id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.2.3"></times></apply><ci id="S3.SS1.SSS0.Px2.p2.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p2.2.m2.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p2.2.m2.1c">\mathcal{E}^{*}\circ\mathcal{A}</annotation></semantics></math>). As <cite class="ltx_cite ltx_citemacro_citet">Xiao et al<span class="ltx_text">.</span> (<a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> describes, AdapFu performs better than AdapEmu. These two models have different functionalities in real-world scenarios: AdapEmu is adopted if the input contains sensitive information that cannot be shared with the LLM owner, e.g., drafting a petition letter, while AdapFu is adopted when the users aim to have better generation results, e.g., solving a math problem.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.8.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.9.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">LayerExtract</span> </figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.5.3" class="ltx_p ltx_figure_panel ltx_align_left"><span id="alg1.5.3.1" class="ltx_text ltx_font_bold">Input:</span> pre-trained LLM <math id="alg1.3.1.m1.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="alg1.3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.3.1.m1.1.1" xref="alg1.3.1.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="alg1.3.1.m1.1b"><ci id="alg1.3.1.m1.1.1.cmml" xref="alg1.3.1.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.1.m1.1c">\mathcal{M}</annotation></semantics></math> (layer index starts from 0), adapter size <math id="alg1.4.2.m2.1" class="ltx_Math" alttext="s" display="inline"><semantics id="alg1.4.2.m2.1a"><mi id="alg1.4.2.m2.1.1" xref="alg1.4.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="alg1.4.2.m2.1b"><ci id="alg1.4.2.m2.1.1.cmml" xref="alg1.4.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.2.m2.1c">s</annotation></semantics></math>, dropout rate <math id="alg1.5.3.m3.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="alg1.5.3.m3.1a"><mi id="alg1.5.3.m3.1.1" xref="alg1.5.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="alg1.5.3.m3.1b"><ci id="alg1.5.3.m3.1.1.cmml" xref="alg1.5.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.3.m3.1c">\beta</annotation></semantics></math>.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.10" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>Get the size of model: <math id="alg1.l1.m1.1" class="ltx_Math" alttext="n\leftarrow|\mathcal{M}|" display="inline"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.2" xref="alg1.l1.m1.1.2.cmml"><mi id="alg1.l1.m1.1.2.2" xref="alg1.l1.m1.1.2.2.cmml">n</mi><mo stretchy="false" id="alg1.l1.m1.1.2.1" xref="alg1.l1.m1.1.2.1.cmml">←</mo><mrow id="alg1.l1.m1.1.2.3.2" xref="alg1.l1.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg1.l1.m1.1.2.3.2.1" xref="alg1.l1.m1.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">ℳ</mi><mo stretchy="false" id="alg1.l1.m1.1.2.3.2.2" xref="alg1.l1.m1.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.2.cmml" xref="alg1.l1.m1.1.2"><ci id="alg1.l1.m1.1.2.1.cmml" xref="alg1.l1.m1.1.2.1">←</ci><ci id="alg1.l1.m1.1.2.2.cmml" xref="alg1.l1.m1.1.2.2">𝑛</ci><apply id="alg1.l1.m1.1.2.3.1.cmml" xref="alg1.l1.m1.1.2.3.2"><abs id="alg1.l1.m1.1.2.3.1.1.cmml" xref="alg1.l1.m1.1.2.3.2.1"></abs><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">ℳ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">n\leftarrow|\mathcal{M}|</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>Compute the number of layers in the compressed model, i.e.,

<table id="A1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.1" class="ltx_Math" alttext="\displaystyle n^{\prime}\leftarrow\lfloor\beta(n-s)\rfloor" display="inline"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><msup id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"><mi id="S3.Ex1.m1.1.1.3.2" xref="S3.Ex1.m1.1.1.3.2.cmml">n</mi><mo id="S3.Ex1.m1.1.1.3.3" xref="S3.Ex1.m1.1.1.3.3.cmml">′</mo></msup><mo stretchy="false" id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml">←</mo><mrow id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.2.1.cmml">⌊</mo><mrow id="S3.Ex1.m1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.3.cmml">β</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.2.cmml">n</mi><mo id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.Ex1.m1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.3.cmml">s</mi></mrow><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.2.1.cmml">⌋</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><ci id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2">←</ci><apply id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.3.1.cmml" xref="S3.Ex1.m1.1.1.3">superscript</csymbol><ci id="S3.Ex1.m1.1.1.3.2.cmml" xref="S3.Ex1.m1.1.1.3.2">𝑛</ci><ci id="S3.Ex1.m1.1.1.3.3.cmml" xref="S3.Ex1.m1.1.1.3.3">′</ci></apply><apply id="S3.Ex1.m1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1"><floor id="S3.Ex1.m1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.1.1.2"></floor><apply id="S3.Ex1.m1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1"><times id="S3.Ex1.m1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.2"></times><ci id="S3.Ex1.m1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.3">𝛽</ci><apply id="S3.Ex1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1"><minus id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.Ex1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.2">𝑛</ci><ci id="S3.Ex1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle n^{\prime}\leftarrow\lfloor\beta(n-s)\rfloor</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>Initialize non-compressed emulator <math id="alg1.l3.m1.2" class="ltx_Math" alttext="\mathcal{E}^{*}\leftarrow\{\mathcal{M}_{0},\dots\mathcal{M}_{n-s-1}\}" display="inline"><semantics id="alg1.l3.m1.2a"><mrow id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml"><msup id="alg1.l3.m1.2.2.4" xref="alg1.l3.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.2.2.4.2" xref="alg1.l3.m1.2.2.4.2.cmml">ℰ</mi><mo id="alg1.l3.m1.2.2.4.3" xref="alg1.l3.m1.2.2.4.3.cmml">∗</mo></msup><mo stretchy="false" id="alg1.l3.m1.2.2.3" xref="alg1.l3.m1.2.2.3.cmml">←</mo><mrow id="alg1.l3.m1.2.2.2.2" xref="alg1.l3.m1.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l3.m1.2.2.2.2.3" xref="alg1.l3.m1.2.2.2.3.cmml">{</mo><msub id="alg1.l3.m1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.1.2.cmml">ℳ</mi><mn id="alg1.l3.m1.1.1.1.1.1.3" xref="alg1.l3.m1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="alg1.l3.m1.2.2.2.2.4" xref="alg1.l3.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l3.m1.2.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.2.cmml"><mi mathvariant="normal" id="alg1.l3.m1.2.2.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.2.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.2.2.2.2.2.1" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">​</mo><msub id="alg1.l3.m1.2.2.2.2.2.3" xref="alg1.l3.m1.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.2.2.2.2.2.3.2" xref="alg1.l3.m1.2.2.2.2.2.3.2.cmml">ℳ</mi><mrow id="alg1.l3.m1.2.2.2.2.2.3.3" xref="alg1.l3.m1.2.2.2.2.2.3.3.cmml"><mi id="alg1.l3.m1.2.2.2.2.2.3.3.2" xref="alg1.l3.m1.2.2.2.2.2.3.3.2.cmml">n</mi><mo id="alg1.l3.m1.2.2.2.2.2.3.3.1" xref="alg1.l3.m1.2.2.2.2.2.3.3.1.cmml">−</mo><mi id="alg1.l3.m1.2.2.2.2.2.3.3.3" xref="alg1.l3.m1.2.2.2.2.2.3.3.3.cmml">s</mi><mo id="alg1.l3.m1.2.2.2.2.2.3.3.1a" xref="alg1.l3.m1.2.2.2.2.2.3.3.1.cmml">−</mo><mn id="alg1.l3.m1.2.2.2.2.2.3.3.4" xref="alg1.l3.m1.2.2.2.2.2.3.3.4.cmml">1</mn></mrow></msub></mrow><mo stretchy="false" id="alg1.l3.m1.2.2.2.2.5" xref="alg1.l3.m1.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.2b"><apply id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2"><ci id="alg1.l3.m1.2.2.3.cmml" xref="alg1.l3.m1.2.2.3">←</ci><apply id="alg1.l3.m1.2.2.4.cmml" xref="alg1.l3.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.4.1.cmml" xref="alg1.l3.m1.2.2.4">superscript</csymbol><ci id="alg1.l3.m1.2.2.4.2.cmml" xref="alg1.l3.m1.2.2.4.2">ℰ</ci><times id="alg1.l3.m1.2.2.4.3.cmml" xref="alg1.l3.m1.2.2.4.3"></times></apply><set id="alg1.l3.m1.2.2.2.3.cmml" xref="alg1.l3.m1.2.2.2.2"><apply id="alg1.l3.m1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l3.m1.1.1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.2">ℳ</ci><cn type="integer" id="alg1.l3.m1.1.1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.1.1.3">0</cn></apply><apply id="alg1.l3.m1.2.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2.2"><times id="alg1.l3.m1.2.2.2.2.2.1.cmml" xref="alg1.l3.m1.2.2.2.2.2.1"></times><ci id="alg1.l3.m1.2.2.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2.2.2">…</ci><apply id="alg1.l3.m1.2.2.2.2.2.3.cmml" xref="alg1.l3.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.2.2.2.3.1.cmml" xref="alg1.l3.m1.2.2.2.2.2.3">subscript</csymbol><ci id="alg1.l3.m1.2.2.2.2.2.3.2.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.2">ℳ</ci><apply id="alg1.l3.m1.2.2.2.2.2.3.3.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.3"><minus id="alg1.l3.m1.2.2.2.2.2.3.3.1.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.3.1"></minus><ci id="alg1.l3.m1.2.2.2.2.2.3.3.2.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.3.2">𝑛</ci><ci id="alg1.l3.m1.2.2.2.2.2.3.3.3.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.3.3">𝑠</ci><cn type="integer" id="alg1.l3.m1.2.2.2.2.2.3.3.4.cmml" xref="alg1.l3.m1.2.2.2.2.2.3.3.4">1</cn></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.2c">\mathcal{E}^{*}\leftarrow\{\mathcal{M}_{0},\dots\mathcal{M}_{n-s-1}\}</annotation></semantics></math>, adapter <math id="alg1.l3.m2.3" class="ltx_Math" alttext="\mathcal{A}\leftarrow\{\mathcal{M}_{n-s},\dots,\mathcal{M}_{n-1}\}" display="inline"><semantics id="alg1.l3.m2.3a"><mrow id="alg1.l3.m2.3.3" xref="alg1.l3.m2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.3.3.4" xref="alg1.l3.m2.3.3.4.cmml">𝒜</mi><mo stretchy="false" id="alg1.l3.m2.3.3.3" xref="alg1.l3.m2.3.3.3.cmml">←</mo><mrow id="alg1.l3.m2.3.3.2.2" xref="alg1.l3.m2.3.3.2.3.cmml"><mo stretchy="false" id="alg1.l3.m2.3.3.2.2.3" xref="alg1.l3.m2.3.3.2.3.cmml">{</mo><msub id="alg1.l3.m2.2.2.1.1.1" xref="alg1.l3.m2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.2.2.1.1.1.2" xref="alg1.l3.m2.2.2.1.1.1.2.cmml">ℳ</mi><mrow id="alg1.l3.m2.2.2.1.1.1.3" xref="alg1.l3.m2.2.2.1.1.1.3.cmml"><mi id="alg1.l3.m2.2.2.1.1.1.3.2" xref="alg1.l3.m2.2.2.1.1.1.3.2.cmml">n</mi><mo id="alg1.l3.m2.2.2.1.1.1.3.1" xref="alg1.l3.m2.2.2.1.1.1.3.1.cmml">−</mo><mi id="alg1.l3.m2.2.2.1.1.1.3.3" xref="alg1.l3.m2.2.2.1.1.1.3.3.cmml">s</mi></mrow></msub><mo id="alg1.l3.m2.3.3.2.2.4" xref="alg1.l3.m2.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">…</mi><mo id="alg1.l3.m2.3.3.2.2.5" xref="alg1.l3.m2.3.3.2.3.cmml">,</mo><msub id="alg1.l3.m2.3.3.2.2.2" xref="alg1.l3.m2.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.3.3.2.2.2.2" xref="alg1.l3.m2.3.3.2.2.2.2.cmml">ℳ</mi><mrow id="alg1.l3.m2.3.3.2.2.2.3" xref="alg1.l3.m2.3.3.2.2.2.3.cmml"><mi id="alg1.l3.m2.3.3.2.2.2.3.2" xref="alg1.l3.m2.3.3.2.2.2.3.2.cmml">n</mi><mo id="alg1.l3.m2.3.3.2.2.2.3.1" xref="alg1.l3.m2.3.3.2.2.2.3.1.cmml">−</mo><mn id="alg1.l3.m2.3.3.2.2.2.3.3" xref="alg1.l3.m2.3.3.2.2.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg1.l3.m2.3.3.2.2.6" xref="alg1.l3.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.3b"><apply id="alg1.l3.m2.3.3.cmml" xref="alg1.l3.m2.3.3"><ci id="alg1.l3.m2.3.3.3.cmml" xref="alg1.l3.m2.3.3.3">←</ci><ci id="alg1.l3.m2.3.3.4.cmml" xref="alg1.l3.m2.3.3.4">𝒜</ci><set id="alg1.l3.m2.3.3.2.3.cmml" xref="alg1.l3.m2.3.3.2.2"><apply id="alg1.l3.m2.2.2.1.1.1.cmml" xref="alg1.l3.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m2.2.2.1.1.1.1.cmml" xref="alg1.l3.m2.2.2.1.1.1">subscript</csymbol><ci id="alg1.l3.m2.2.2.1.1.1.2.cmml" xref="alg1.l3.m2.2.2.1.1.1.2">ℳ</ci><apply id="alg1.l3.m2.2.2.1.1.1.3.cmml" xref="alg1.l3.m2.2.2.1.1.1.3"><minus id="alg1.l3.m2.2.2.1.1.1.3.1.cmml" xref="alg1.l3.m2.2.2.1.1.1.3.1"></minus><ci id="alg1.l3.m2.2.2.1.1.1.3.2.cmml" xref="alg1.l3.m2.2.2.1.1.1.3.2">𝑛</ci><ci id="alg1.l3.m2.2.2.1.1.1.3.3.cmml" xref="alg1.l3.m2.2.2.1.1.1.3.3">𝑠</ci></apply></apply><ci id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">…</ci><apply id="alg1.l3.m2.3.3.2.2.2.cmml" xref="alg1.l3.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m2.3.3.2.2.2.1.cmml" xref="alg1.l3.m2.3.3.2.2.2">subscript</csymbol><ci id="alg1.l3.m2.3.3.2.2.2.2.cmml" xref="alg1.l3.m2.3.3.2.2.2.2">ℳ</ci><apply id="alg1.l3.m2.3.3.2.2.2.3.cmml" xref="alg1.l3.m2.3.3.2.2.2.3"><minus id="alg1.l3.m2.3.3.2.2.2.3.1.cmml" xref="alg1.l3.m2.3.3.2.2.2.3.1"></minus><ci id="alg1.l3.m2.3.3.2.2.2.3.2.cmml" xref="alg1.l3.m2.3.3.2.2.2.3.2">𝑛</ci><cn type="integer" id="alg1.l3.m2.3.3.2.2.2.3.3.cmml" xref="alg1.l3.m2.3.3.2.2.2.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.3c">\mathcal{A}\leftarrow\{\mathcal{M}_{n-s},\dots,\mathcal{M}_{n-1}\}</annotation></semantics></math>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>Initialize emulator <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\mathcal{E}\leftarrow\{\}" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">ℰ</mi><mo stretchy="false" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mrow id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.cmml"><mo stretchy="false" id="alg1.l4.m1.1.1.3.2.1" xref="alg1.l4.m1.1.1.3.1.cmml">{</mo><mo stretchy="false" id="alg1.l4.m1.1.1.3.2.2" xref="alg1.l4.m1.1.1.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">ℰ</ci><list id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\mathcal{E}\leftarrow\{\}</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>Compute <math id="alg1.l5.m1.2" class="ltx_Math" alttext="stride\leftarrow(n-s-1)/(n^{\prime}-1)" display="inline"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><mrow id="alg1.l5.m1.2.2.4" xref="alg1.l5.m1.2.2.4.cmml"><mi id="alg1.l5.m1.2.2.4.2" xref="alg1.l5.m1.2.2.4.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.4.1" xref="alg1.l5.m1.2.2.4.1.cmml">​</mo><mi id="alg1.l5.m1.2.2.4.3" xref="alg1.l5.m1.2.2.4.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.4.1a" xref="alg1.l5.m1.2.2.4.1.cmml">​</mo><mi id="alg1.l5.m1.2.2.4.4" xref="alg1.l5.m1.2.2.4.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.4.1b" xref="alg1.l5.m1.2.2.4.1.cmml">​</mo><mi id="alg1.l5.m1.2.2.4.5" xref="alg1.l5.m1.2.2.4.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.4.1c" xref="alg1.l5.m1.2.2.4.1.cmml">​</mo><mi id="alg1.l5.m1.2.2.4.6" xref="alg1.l5.m1.2.2.4.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.4.1d" xref="alg1.l5.m1.2.2.4.1.cmml">​</mo><mi id="alg1.l5.m1.2.2.4.7" xref="alg1.l5.m1.2.2.4.7.cmml">e</mi></mrow><mo stretchy="false" id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml">←</mo><mrow id="alg1.l5.m1.2.2.2" xref="alg1.l5.m1.2.2.2.cmml"><mrow id="alg1.l5.m1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l5.m1.1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l5.m1.1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l5.m1.1.1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.1.1.1.2.cmml">n</mi><mo id="alg1.l5.m1.1.1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.1.1.cmml">−</mo><mi id="alg1.l5.m1.1.1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.1.3.cmml">s</mi><mo id="alg1.l5.m1.1.1.1.1.1.1.1a" xref="alg1.l5.m1.1.1.1.1.1.1.1.cmml">−</mo><mn id="alg1.l5.m1.1.1.1.1.1.1.4" xref="alg1.l5.m1.1.1.1.1.1.1.4.cmml">1</mn></mrow><mo stretchy="false" id="alg1.l5.m1.1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="alg1.l5.m1.2.2.2.3" xref="alg1.l5.m1.2.2.2.3.cmml">/</mo><mrow id="alg1.l5.m1.2.2.2.2.1" xref="alg1.l5.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="alg1.l5.m1.2.2.2.2.1.2" xref="alg1.l5.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="alg1.l5.m1.2.2.2.2.1.1" xref="alg1.l5.m1.2.2.2.2.1.1.cmml"><msup id="alg1.l5.m1.2.2.2.2.1.1.2" xref="alg1.l5.m1.2.2.2.2.1.1.2.cmml"><mi id="alg1.l5.m1.2.2.2.2.1.1.2.2" xref="alg1.l5.m1.2.2.2.2.1.1.2.2.cmml">n</mi><mo id="alg1.l5.m1.2.2.2.2.1.1.2.3" xref="alg1.l5.m1.2.2.2.2.1.1.2.3.cmml">′</mo></msup><mo id="alg1.l5.m1.2.2.2.2.1.1.1" xref="alg1.l5.m1.2.2.2.2.1.1.1.cmml">−</mo><mn id="alg1.l5.m1.2.2.2.2.1.1.3" xref="alg1.l5.m1.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="alg1.l5.m1.2.2.2.2.1.3" xref="alg1.l5.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><ci id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3">←</ci><apply id="alg1.l5.m1.2.2.4.cmml" xref="alg1.l5.m1.2.2.4"><times id="alg1.l5.m1.2.2.4.1.cmml" xref="alg1.l5.m1.2.2.4.1"></times><ci id="alg1.l5.m1.2.2.4.2.cmml" xref="alg1.l5.m1.2.2.4.2">𝑠</ci><ci id="alg1.l5.m1.2.2.4.3.cmml" xref="alg1.l5.m1.2.2.4.3">𝑡</ci><ci id="alg1.l5.m1.2.2.4.4.cmml" xref="alg1.l5.m1.2.2.4.4">𝑟</ci><ci id="alg1.l5.m1.2.2.4.5.cmml" xref="alg1.l5.m1.2.2.4.5">𝑖</ci><ci id="alg1.l5.m1.2.2.4.6.cmml" xref="alg1.l5.m1.2.2.4.6">𝑑</ci><ci id="alg1.l5.m1.2.2.4.7.cmml" xref="alg1.l5.m1.2.2.4.7">𝑒</ci></apply><apply id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2"><divide id="alg1.l5.m1.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.3"></divide><apply id="alg1.l5.m1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1"><minus id="alg1.l5.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.1"></minus><ci id="alg1.l5.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.2">𝑛</ci><ci id="alg1.l5.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.3">𝑠</ci><cn type="integer" id="alg1.l5.m1.1.1.1.1.1.1.4.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.4">1</cn></apply><apply id="alg1.l5.m1.2.2.2.2.1.1.cmml" xref="alg1.l5.m1.2.2.2.2.1"><minus id="alg1.l5.m1.2.2.2.2.1.1.1.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.1"></minus><apply id="alg1.l5.m1.2.2.2.2.1.1.2.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.2.2.1.1.2.1.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.2">superscript</csymbol><ci id="alg1.l5.m1.2.2.2.2.1.1.2.2.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.2.2">𝑛</ci><ci id="alg1.l5.m1.2.2.2.2.1.1.2.3.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.2.3">′</ci></apply><cn type="integer" id="alg1.l5.m1.2.2.2.2.1.1.3.cmml" xref="alg1.l5.m1.2.2.2.2.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">stride\leftarrow(n-s-1)/(n^{\prime}-1)</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l6.m1.3" class="ltx_Math" alttext="j=0,\dots,n^{\prime}-1" display="inline"><semantics id="alg1.l6.m1.3a"><mrow id="alg1.l6.m1.3.3" xref="alg1.l6.m1.3.3.cmml"><mi id="alg1.l6.m1.3.3.3" xref="alg1.l6.m1.3.3.3.cmml">j</mi><mo id="alg1.l6.m1.3.3.2" xref="alg1.l6.m1.3.3.2.cmml">=</mo><mrow id="alg1.l6.m1.3.3.1.1" xref="alg1.l6.m1.3.3.1.2.cmml"><mn id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">0</mn><mo id="alg1.l6.m1.3.3.1.1.2" xref="alg1.l6.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml">…</mi><mo id="alg1.l6.m1.3.3.1.1.3" xref="alg1.l6.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l6.m1.3.3.1.1.1" xref="alg1.l6.m1.3.3.1.1.1.cmml"><msup id="alg1.l6.m1.3.3.1.1.1.2" xref="alg1.l6.m1.3.3.1.1.1.2.cmml"><mi id="alg1.l6.m1.3.3.1.1.1.2.2" xref="alg1.l6.m1.3.3.1.1.1.2.2.cmml">n</mi><mo id="alg1.l6.m1.3.3.1.1.1.2.3" xref="alg1.l6.m1.3.3.1.1.1.2.3.cmml">′</mo></msup><mo id="alg1.l6.m1.3.3.1.1.1.1" xref="alg1.l6.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg1.l6.m1.3.3.1.1.1.3" xref="alg1.l6.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.3b"><apply id="alg1.l6.m1.3.3.cmml" xref="alg1.l6.m1.3.3"><eq id="alg1.l6.m1.3.3.2.cmml" xref="alg1.l6.m1.3.3.2"></eq><ci id="alg1.l6.m1.3.3.3.cmml" xref="alg1.l6.m1.3.3.3">𝑗</ci><list id="alg1.l6.m1.3.3.1.2.cmml" xref="alg1.l6.m1.3.3.1.1"><cn type="integer" id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">0</cn><ci id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2">…</ci><apply id="alg1.l6.m1.3.3.1.1.1.cmml" xref="alg1.l6.m1.3.3.1.1.1"><minus id="alg1.l6.m1.3.3.1.1.1.1.cmml" xref="alg1.l6.m1.3.3.1.1.1.1"></minus><apply id="alg1.l6.m1.3.3.1.1.1.2.cmml" xref="alg1.l6.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.3.3.1.1.1.2.1.cmml" xref="alg1.l6.m1.3.3.1.1.1.2">superscript</csymbol><ci id="alg1.l6.m1.3.3.1.1.1.2.2.cmml" xref="alg1.l6.m1.3.3.1.1.1.2.2">𝑛</ci><ci id="alg1.l6.m1.3.3.1.1.1.2.3.cmml" xref="alg1.l6.m1.3.3.1.1.1.2.3">′</ci></apply><cn type="integer" id="alg1.l6.m1.3.3.1.1.1.3.cmml" xref="alg1.l6.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.3c">j=0,\dots,n^{\prime}-1</annotation></semantics></math> <span id="alg1.l6.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     Append <math id="alg1.l7.m1.1" class="ltx_Math" alttext="\mathcal{M}_{\lfloor j\times stride\rfloor}" display="inline"><semantics id="alg1.l7.m1.1a"><msub id="alg1.l7.m1.1.2" xref="alg1.l7.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l7.m1.1.2.2" xref="alg1.l7.m1.1.2.2.cmml">ℳ</mi><mrow id="alg1.l7.m1.1.1.1.1" xref="alg1.l7.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l7.m1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.2.1.cmml">⌊</mo><mrow id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.cmml"><mrow id="alg1.l7.m1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.2.2" xref="alg1.l7.m1.1.1.1.1.1.2.2.cmml">j</mi><mo lspace="0.222em" rspace="0.222em" id="alg1.l7.m1.1.1.1.1.1.2.1" xref="alg1.l7.m1.1.1.1.1.1.2.1.cmml">×</mo><mi id="alg1.l7.m1.1.1.1.1.1.2.3" xref="alg1.l7.m1.1.1.1.1.1.2.3.cmml">s</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="alg1.l7.m1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.1.1.1a" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="alg1.l7.m1.1.1.1.1.1.4" xref="alg1.l7.m1.1.1.1.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.1.1.1b" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="alg1.l7.m1.1.1.1.1.1.5" xref="alg1.l7.m1.1.1.1.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.1.1.1c" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="alg1.l7.m1.1.1.1.1.1.6" xref="alg1.l7.m1.1.1.1.1.1.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.1.1.1d" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="alg1.l7.m1.1.1.1.1.1.7" xref="alg1.l7.m1.1.1.1.1.1.7.cmml">e</mi></mrow><mo stretchy="false" id="alg1.l7.m1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.2.1.cmml">⌋</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.2.cmml" xref="alg1.l7.m1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.2.1.cmml" xref="alg1.l7.m1.1.2">subscript</csymbol><ci id="alg1.l7.m1.1.2.2.cmml" xref="alg1.l7.m1.1.2.2">ℳ</ci><apply id="alg1.l7.m1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1"><floor id="alg1.l7.m1.1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.1.1.2"></floor><apply id="alg1.l7.m1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1"><times id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1.1"></times><apply id="alg1.l7.m1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.2"><times id="alg1.l7.m1.1.1.1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.1.1.1.2.1"></times><ci id="alg1.l7.m1.1.1.1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.2.2">𝑗</ci><ci id="alg1.l7.m1.1.1.1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="alg1.l7.m1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.3">𝑡</ci><ci id="alg1.l7.m1.1.1.1.1.1.4.cmml" xref="alg1.l7.m1.1.1.1.1.1.4">𝑟</ci><ci id="alg1.l7.m1.1.1.1.1.1.5.cmml" xref="alg1.l7.m1.1.1.1.1.1.5">𝑖</ci><ci id="alg1.l7.m1.1.1.1.1.1.6.cmml" xref="alg1.l7.m1.1.1.1.1.1.6">𝑑</ci><ci id="alg1.l7.m1.1.1.1.1.1.7.cmml" xref="alg1.l7.m1.1.1.1.1.1.7">𝑒</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\mathcal{M}_{\lfloor j\times stride\rfloor}</annotation></semantics></math> to emulator, i.e.,

<table id="A1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex2.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{E}\leftarrow\mathcal{E}\cup\{\mathcal{M}_{\lfloor j\times stride\rfloor}\}" display="inline"><semantics id="S3.Ex2.m1.2a"><mrow id="S3.Ex2.m1.2.2" xref="S3.Ex2.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.2.2.3" xref="S3.Ex2.m1.2.2.3.cmml">ℰ</mi><mo stretchy="false" id="S3.Ex2.m1.2.2.2" xref="S3.Ex2.m1.2.2.2.cmml">←</mo><mrow id="S3.Ex2.m1.2.2.1" xref="S3.Ex2.m1.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.2.2.1.3" xref="S3.Ex2.m1.2.2.1.3.cmml">ℰ</mi><mo id="S3.Ex2.m1.2.2.1.2" xref="S3.Ex2.m1.2.2.1.2.cmml">∪</mo><mrow id="S3.Ex2.m1.2.2.1.1.1" xref="S3.Ex2.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.Ex2.m1.2.2.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.2.cmml">{</mo><msub id="S3.Ex2.m1.2.2.1.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.2.2.1.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.1.1.2.cmml">ℳ</mi><mrow id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.Ex2.m1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.2.1.cmml">⌊</mo><mrow id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mrow id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.2.2" xref="S3.Ex2.m1.1.1.1.1.1.2.2.cmml">j</mi><mo lspace="0.222em" rspace="0.222em" id="S3.Ex2.m1.1.1.1.1.1.2.1" xref="S3.Ex2.m1.1.1.1.1.1.2.1.cmml">×</mo><mi id="S3.Ex2.m1.1.1.1.1.1.2.3" xref="S3.Ex2.m1.1.1.1.1.1.2.3.cmml">s</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.1a" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.1.1.1.4" xref="S3.Ex2.m1.1.1.1.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.1b" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.1.1.1.5" xref="S3.Ex2.m1.1.1.1.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.1c" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.1.1.1.6" xref="S3.Ex2.m1.1.1.1.1.1.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.1d" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.1.1.1.7" xref="S3.Ex2.m1.1.1.1.1.1.7.cmml">e</mi></mrow><mo stretchy="false" id="S3.Ex2.m1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.2.1.cmml">⌋</mo></mrow></msub><mo stretchy="false" id="S3.Ex2.m1.2.2.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.2b"><apply id="S3.Ex2.m1.2.2.cmml" xref="S3.Ex2.m1.2.2"><ci id="S3.Ex2.m1.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2">←</ci><ci id="S3.Ex2.m1.2.2.3.cmml" xref="S3.Ex2.m1.2.2.3">ℰ</ci><apply id="S3.Ex2.m1.2.2.1.cmml" xref="S3.Ex2.m1.2.2.1"><union id="S3.Ex2.m1.2.2.1.2.cmml" xref="S3.Ex2.m1.2.2.1.2"></union><ci id="S3.Ex2.m1.2.2.1.3.cmml" xref="S3.Ex2.m1.2.2.1.3">ℰ</ci><set id="S3.Ex2.m1.2.2.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1"><apply id="S3.Ex2.m1.2.2.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.2.2.1.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.2">ℳ</ci><apply id="S3.Ex2.m1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1"><floor id="S3.Ex2.m1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.1.1.2"></floor><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1"><times id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.1"></times><apply id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2"><times id="S3.Ex2.m1.1.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2.1"></times><ci id="S3.Ex2.m1.1.1.1.1.1.2.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2.2">𝑗</ci><ci id="S3.Ex2.m1.1.1.1.1.1.2.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">𝑡</ci><ci id="S3.Ex2.m1.1.1.1.1.1.4.cmml" xref="S3.Ex2.m1.1.1.1.1.1.4">𝑟</ci><ci id="S3.Ex2.m1.1.1.1.1.1.5.cmml" xref="S3.Ex2.m1.1.1.1.1.1.5">𝑖</ci><ci id="S3.Ex2.m1.1.1.1.1.1.6.cmml" xref="S3.Ex2.m1.1.1.1.1.1.6">𝑑</ci><ci id="S3.Ex2.m1.1.1.1.1.1.7.cmml" xref="S3.Ex2.m1.1.1.1.1.1.7">𝑒</ci></apply></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.2c">\displaystyle\mathcal{E}\leftarrow\mathcal{E}\cup\{\mathcal{M}_{\lfloor j\times stride\rfloor}\}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l8.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.2" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l9.m1.3" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}},\boldsymbol{w}_{\mathcal{E}^{*}}" display="inline"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3.3" xref="alg1.l9.m1.3.3.4.cmml"><msub id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="alg1.l9.m1.3.3.3.4" xref="alg1.l9.m1.3.3.4.cmml">,</mo><msub id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.3.cmml">ℰ</mi></msub><mo id="alg1.l9.m1.3.3.3.5" xref="alg1.l9.m1.3.3.4.cmml">,</mo><msub id="alg1.l9.m1.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.cmml"><mi id="alg1.l9.m1.3.3.3.3.2" xref="alg1.l9.m1.3.3.3.3.2.cmml">𝒘</mi><msup id="alg1.l9.m1.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.3.3.3.3.3.2" xref="alg1.l9.m1.3.3.3.3.3.2.cmml">ℰ</mi><mo id="alg1.l9.m1.3.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.3.cmml">∗</mo></msup></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><list id="alg1.l9.m1.3.3.4.cmml" xref="alg1.l9.m1.3.3.3"><apply id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.2">𝒘</ci><ci id="alg1.l9.m1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.3">𝒜</ci></apply><apply id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2">𝒘</ci><ci id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.3">ℰ</ci></apply><apply id="alg1.l9.m1.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.3.1.cmml" xref="alg1.l9.m1.3.3.3.3">subscript</csymbol><ci id="alg1.l9.m1.3.3.3.3.2.cmml" xref="alg1.l9.m1.3.3.3.3.2">𝒘</ci><apply id="alg1.l9.m1.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.3.3.1.cmml" xref="alg1.l9.m1.3.3.3.3.3">superscript</csymbol><ci id="alg1.l9.m1.3.3.3.3.3.2.cmml" xref="alg1.l9.m1.3.3.3.3.3.2">ℰ</ci><times id="alg1.l9.m1.3.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3.3"></times></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}},\boldsymbol{w}_{\mathcal{E}^{*}}</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2406.17706/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="155" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The Workflow of <span id="S3.F1.4.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> during the FL training</figcaption>
</figure>
</section>
<section id="S3.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Step 3: Pre-alignment.</h4>

<div id="S3.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px3.p1.3" class="ltx_p">Before the FL training stage, we pre-align the emulator with the non-compressed one such that it can mimic the performance of the raw model. Assume there is a public dataset <math id="S3.SS1.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}_{public}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p1.1.m1.1a"><msub id="S3.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2.cmml">𝒟</mi><mrow id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.4" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.5" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1c" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.6" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1d" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.7" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.7.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2">𝒟</ci><apply id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3"><times id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2">𝑝</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3">𝑢</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.4">𝑏</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.5">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.6.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.6">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.7.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.7">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.1.m1.1c">\mathcal{D}_{public}</annotation></semantics></math> available on the server, which consists of a bunch of data <math id="S3.SS1.SSS0.Px3.p1.2.m2.2" class="ltx_Math" alttext="(\boldsymbol{x},\boldsymbol{y})" display="inline"><semantics id="S3.SS1.SSS0.Px3.p1.2.m2.2a"><mrow id="S3.SS1.SSS0.Px3.p1.2.m2.2.3.2" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px3.p1.2.m2.2.3.2.1" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.3.1.cmml">(</mo><mi id="S3.SS1.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px3.p1.2.m2.1.1.cmml">𝒙</mi><mo id="S3.SS1.SSS0.Px3.p1.2.m2.2.3.2.2" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.3.1.cmml">,</mo><mi id="S3.SS1.SSS0.Px3.p1.2.m2.2.2" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.2.cmml">𝒚</mi><mo stretchy="false" id="S3.SS1.SSS0.Px3.p1.2.m2.2.3.2.3" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.2.m2.2b"><interval closure="open" id="S3.SS1.SSS0.Px3.p1.2.m2.2.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.3.2"><ci id="S3.SS1.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.2.m2.1.1">𝒙</ci><ci id="S3.SS1.SSS0.Px3.p1.2.m2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.2.m2.2.2">𝒚</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.2.m2.2c">(\boldsymbol{x},\boldsymbol{y})</annotation></semantics></math>, representing the input and the ground truth, respectively. Therefore, in the rest of the section, we assume the input <math id="S3.SS1.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="\boldsymbol{x}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p1.3.m3.1a"><mi id="S3.SS1.SSS0.Px3.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px3.p1.3.m3.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.3.m3.1b"><ci id="S3.SS1.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m3.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.3.m3.1c">\boldsymbol{x}</annotation></semantics></math> contains an attention mask that can identify the ground truth.</p>
</div>
<div id="S3.SS1.SSS0.Px3.p2" class="ltx_para">
<p id="S3.SS1.SSS0.Px3.p2.2" class="ltx_p">Instead of training the compressed model with the ground truth, we utilize knowledge distillation <cite class="ltx_cite ltx_citemacro_citep">(Hinton et al<span class="ltx_text">.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2015</a>)</cite> to transfer the general linguistic patterns from the original LLM to the compressed one by tuning the emulator <math id="S3.SS1.SSS0.Px3.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p2.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p2.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p2.1.m1.1b"><ci id="S3.SS1.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p2.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p2.1.m1.1c">\mathcal{E}</annotation></semantics></math>. In specific, we ensure the emulator generates representations that have subtle differences from the non-compressed emulator with the given input on the ground truth part. To this end, we aim to minimize the following <math id="S3.SS1.SSS0.Px3.p2.2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p2.2.m2.1a"><msub id="S3.SS1.SSS0.Px3.p2.2.m2.1.1" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.2" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1.2.cmml">ℓ</mi><mn id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.3" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p2.2.m2.1b"><apply id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1.2">ℓ</ci><cn type="integer" id="S3.SS1.SSS0.Px3.p2.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p2.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p2.2.m2.1c">\ell_{2}</annotation></semantics></math>-norm:</p>
<table id="A1.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{repr}" display="inline"><semantics id="S3.E3.m1.1a"><msub id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.2" xref="S3.E3.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.E3.m1.1.1.3" xref="S3.E3.m1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.3.2" xref="S3.E3.m1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.3.1" xref="S3.E3.m1.1.1.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.3.3" xref="S3.E3.m1.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.3.1a" xref="S3.E3.m1.1.1.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.3.4" xref="S3.E3.m1.1.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.3.1b" xref="S3.E3.m1.1.1.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.3.5" xref="S3.E3.m1.1.1.3.5.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.2.cmml" xref="S3.E3.m1.1.1.2">ℒ</ci><apply id="S3.E3.m1.1.1.3.cmml" xref="S3.E3.m1.1.1.3"><times id="S3.E3.m1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.3.1"></times><ci id="S3.E3.m1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.3.2">𝑟</ci><ci id="S3.E3.m1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.3.3">𝑒</ci><ci id="S3.E3.m1.1.1.3.4.cmml" xref="S3.E3.m1.1.1.3.4">𝑝</ci><ci id="S3.E3.m1.1.1.3.5.cmml" xref="S3.E3.m1.1.1.3.5">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\displaystyle\mathcal{L}_{repr}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E3.m2.3" class="ltx_Math" alttext="\displaystyle=\left\|\mathcal{E}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}}\right)-\mathcal{E}^{*}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}^{*}}\right)\right\|_{2}^{2}" display="inline"><semantics id="S3.E3.m2.3a"><mrow id="S3.E3.m2.3.3" xref="S3.E3.m2.3.3.cmml"><mi id="S3.E3.m2.3.3.3" xref="S3.E3.m2.3.3.3.cmml"></mi><mo id="S3.E3.m2.3.3.2" xref="S3.E3.m2.3.3.2.cmml">=</mo><msubsup id="S3.E3.m2.3.3.1" xref="S3.E3.m2.3.3.1.cmml"><mrow id="S3.E3.m2.3.3.1.1.1.1" xref="S3.E3.m2.3.3.1.1.1.2.cmml"><mo id="S3.E3.m2.3.3.1.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E3.m2.3.3.1.1.1.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.cmml"><mrow id="S3.E3.m2.3.3.1.1.1.1.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m2.3.3.1.1.1.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.1.3.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m2.3.3.1.1.1.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E3.m2.1.1" xref="S3.E3.m2.1.1.cmml">𝒙</mi><mo id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml">ℰ</mi></msub><mo id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.4" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m2.3.3.1.1.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E3.m2.3.3.1.1.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.cmml"><msup id="S3.E3.m2.3.3.1.1.1.1.1.2.3" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m2.3.3.1.1.1.1.1.2.3.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3.2.cmml">ℰ</mi><mo id="S3.E3.m2.3.3.1.1.1.1.1.2.3.3" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3.3.cmml">∗</mo></msup><mo lspace="0em" rspace="0em" id="S3.E3.m2.3.3.1.1.1.1.1.2.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.2.cmml"><mo id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E3.m2.2.2" xref="S3.E3.m2.2.2.cmml">𝒙</mi><mo id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.2.cmml">;</mo><msub id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.2.cmml">𝒘</mi><msup id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.2" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.2.cmml">ℰ</mi><mo id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.3" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.3.cmml">∗</mo></msup></msub><mo id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.4" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m2.3.3.1.1.1.1.3" xref="S3.E3.m2.3.3.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E3.m2.3.3.1.1.3" xref="S3.E3.m2.3.3.1.1.3.cmml">2</mn><mn id="S3.E3.m2.3.3.1.3" xref="S3.E3.m2.3.3.1.3.cmml">2</mn></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m2.3b"><apply id="S3.E3.m2.3.3.cmml" xref="S3.E3.m2.3.3"><eq id="S3.E3.m2.3.3.2.cmml" xref="S3.E3.m2.3.3.2"></eq><csymbol cd="latexml" id="S3.E3.m2.3.3.3.cmml" xref="S3.E3.m2.3.3.3">absent</csymbol><apply id="S3.E3.m2.3.3.1.cmml" xref="S3.E3.m2.3.3.1"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.2.cmml" xref="S3.E3.m2.3.3.1">superscript</csymbol><apply id="S3.E3.m2.3.3.1.1.cmml" xref="S3.E3.m2.3.3.1"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.1.2.cmml" xref="S3.E3.m2.3.3.1">subscript</csymbol><apply id="S3.E3.m2.3.3.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m2.3.3.1.1.1.2.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.2">norm</csymbol><apply id="S3.E3.m2.3.3.1.1.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1"><minus id="S3.E3.m2.3.3.1.1.1.1.1.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.3"></minus><apply id="S3.E3.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1"><times id="S3.E3.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.2"></times><ci id="S3.E3.m2.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.3">ℰ</ci><list id="S3.E3.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1"><ci id="S3.E3.m2.1.1.cmml" xref="S3.E3.m2.1.1">𝒙</ci><apply id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.1.1.1.1.3">ℰ</ci></apply></list></apply><apply id="S3.E3.m2.3.3.1.1.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2"><times id="S3.E3.m2.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.2"></times><apply id="S3.E3.m2.3.3.1.1.1.1.1.2.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.1.1.1.1.2.3.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3">superscript</csymbol><ci id="S3.E3.m2.3.3.1.1.1.1.1.2.3.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3.2">ℰ</ci><times id="S3.E3.m2.3.3.1.1.1.1.1.2.3.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.3.3"></times></apply><list id="S3.E3.m2.3.3.1.1.1.1.1.2.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1"><ci id="S3.E3.m2.2.2.cmml" xref="S3.E3.m2.2.2">𝒙</ci><apply id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.2">𝒘</ci><apply id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.1.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3">superscript</csymbol><ci id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.2.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.2">ℰ</ci><times id="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.3.cmml" xref="S3.E3.m2.3.3.1.1.1.1.1.2.1.1.1.3.3"></times></apply></apply></list></apply></apply></apply><cn type="integer" id="S3.E3.m2.3.3.1.1.3.cmml" xref="S3.E3.m2.3.3.1.1.3">2</cn></apply><cn type="integer" id="S3.E3.m2.3.3.1.3.cmml" xref="S3.E3.m2.3.3.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m2.3c">\displaystyle=\left\|\mathcal{E}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}}\right)-\mathcal{E}^{*}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}^{*}}\right)\right\|_{2}^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.SSS0.Px3.p2.4" class="ltx_p">Additionally, we ensure the compressed model has consistent final outputs of the original LLM on the ground truth by minimizing the following KL divergence:</p>
<table id="A1.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{kd}" display="inline"><semantics id="S3.E4.m1.1a"><msub id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.2" xref="S3.E4.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.3.2" xref="S3.E4.m1.1.1.3.2.cmml">k</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.3.1" xref="S3.E4.m1.1.1.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.3.3" xref="S3.E4.m1.1.1.3.3.cmml">d</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1">subscript</csymbol><ci id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1.2">ℒ</ci><apply id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3"><times id="S3.E4.m1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.3.1"></times><ci id="S3.E4.m1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.3.2">𝑘</ci><ci id="S3.E4.m1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle\mathcal{L}_{kd}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4.m2.3" class="ltx_Math" alttext="\displaystyle=D_{KL}\left(\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\})\|\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\})\right)" display="inline"><semantics id="S3.E4.m2.3a"><mrow id="S3.E4.m2.3.3" xref="S3.E4.m2.3.3.cmml"><mi id="S3.E4.m2.3.3.3" xref="S3.E4.m2.3.3.3.cmml"></mi><mo id="S3.E4.m2.3.3.2" xref="S3.E4.m2.3.3.2.cmml">=</mo><mrow id="S3.E4.m2.3.3.1" xref="S3.E4.m2.3.3.1.cmml"><msub id="S3.E4.m2.3.3.1.3" xref="S3.E4.m2.3.3.1.3.cmml"><mi id="S3.E4.m2.3.3.1.3.2" xref="S3.E4.m2.3.3.1.3.2.cmml">D</mi><mrow id="S3.E4.m2.3.3.1.3.3" xref="S3.E4.m2.3.3.1.3.3.cmml"><mi id="S3.E4.m2.3.3.1.3.3.2" xref="S3.E4.m2.3.3.1.3.3.2.cmml">K</mi><mo lspace="0em" rspace="0em" id="S3.E4.m2.3.3.1.3.3.1" xref="S3.E4.m2.3.3.1.3.3.1.cmml">​</mo><mi id="S3.E4.m2.3.3.1.3.3.3" xref="S3.E4.m2.3.3.1.3.3.3.cmml">L</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4.m2.3.3.1.2" xref="S3.E4.m2.3.3.1.2.cmml">​</mo><mrow id="S3.E4.m2.3.3.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.cmml"><mo id="S3.E4.m2.3.3.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m2.3.3.1.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.cmml"><mrow id="S3.E4.m2.3.3.1.1.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.1.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m2.3.3.1.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m2.3.3.1.1.1.1.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E4.m2.1.1" xref="S3.E4.m2.1.1.cmml">𝒙</mi><mo id="S3.E4.m2.3.3.1.1.1.1.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.1.1.2.cmml">;</mo><mrow id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.3.cmml">{</mo><msub id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.4" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml">𝒘</mi><msup id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.2.cmml">ℰ</mi><mo id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.3" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.3.cmml">∗</mo></msup></msub><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.5" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.4" xref="S3.E4.m2.3.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E4.m2.3.3.1.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.3.cmml">∥</mo><mrow id="S3.E4.m2.3.3.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.2.3" xref="S3.E4.m2.3.3.1.1.1.1.2.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m2.3.3.1.1.1.1.2.2" xref="S3.E4.m2.3.3.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E4.m2.3.3.1.1.1.1.2.1.1" xref="S3.E4.m2.3.3.1.1.1.1.2.1.2.cmml"><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E4.m2.2.2" xref="S3.E4.m2.2.2.cmml">𝒙</mi><mo id="S3.E4.m2.3.3.1.1.1.1.2.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.2.1.2.cmml">;</mo><mrow id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.3.cmml"><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.3" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.3.cmml">{</mo><msub id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.4" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.3.cmml">,</mo><msub id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.cmml"><mi id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.2" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.5" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.4" xref="S3.E4.m2.3.3.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4.m2.3.3.1.1.1.3" xref="S3.E4.m2.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m2.3b"><apply id="S3.E4.m2.3.3.cmml" xref="S3.E4.m2.3.3"><eq id="S3.E4.m2.3.3.2.cmml" xref="S3.E4.m2.3.3.2"></eq><csymbol cd="latexml" id="S3.E4.m2.3.3.3.cmml" xref="S3.E4.m2.3.3.3">absent</csymbol><apply id="S3.E4.m2.3.3.1.cmml" xref="S3.E4.m2.3.3.1"><times id="S3.E4.m2.3.3.1.2.cmml" xref="S3.E4.m2.3.3.1.2"></times><apply id="S3.E4.m2.3.3.1.3.cmml" xref="S3.E4.m2.3.3.1.3"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.3.1.cmml" xref="S3.E4.m2.3.3.1.3">subscript</csymbol><ci id="S3.E4.m2.3.3.1.3.2.cmml" xref="S3.E4.m2.3.3.1.3.2">𝐷</ci><apply id="S3.E4.m2.3.3.1.3.3.cmml" xref="S3.E4.m2.3.3.1.3.3"><times id="S3.E4.m2.3.3.1.3.3.1.cmml" xref="S3.E4.m2.3.3.1.3.3.1"></times><ci id="S3.E4.m2.3.3.1.3.3.2.cmml" xref="S3.E4.m2.3.3.1.3.3.2">𝐾</ci><ci id="S3.E4.m2.3.3.1.3.3.3.cmml" xref="S3.E4.m2.3.3.1.3.3.3">𝐿</ci></apply></apply><apply id="S3.E4.m2.3.3.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1"><csymbol cd="latexml" id="S3.E4.m2.3.3.1.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.3">conditional</csymbol><apply id="S3.E4.m2.3.3.1.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1"><times id="S3.E4.m2.3.3.1.1.1.1.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.2"></times><ci id="S3.E4.m2.3.3.1.1.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.3">ℳ</ci><list id="S3.E4.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1"><ci id="S3.E4.m2.1.1.cmml" xref="S3.E4.m2.1.1">𝒙</ci><set id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2"><apply id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.2">𝒘</ci><apply id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3">superscript</csymbol><ci id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.2">ℰ</ci><times id="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.1.1.1.1.2.2.3.3"></times></apply></apply></set></list></apply><apply id="S3.E4.m2.3.3.1.1.1.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2"><times id="S3.E4.m2.3.3.1.1.1.1.2.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.2"></times><ci id="S3.E4.m2.3.3.1.1.1.1.2.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.3">ℳ</ci><list id="S3.E4.m2.3.3.1.1.1.1.2.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1"><ci id="S3.E4.m2.2.2.cmml" xref="S3.E4.m2.2.2">𝒙</ci><set id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2"><apply id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.2">𝒘</ci><ci id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.1.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.2">𝒘</ci><ci id="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.3.cmml" xref="S3.E4.m2.3.3.1.1.1.1.2.1.1.1.2.2.3">ℰ</ci></apply></set></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m2.3c">\displaystyle=D_{KL}\left(\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\})\|\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\})\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.SSS0.Px3.p2.3" class="ltx_p">In a nutshell, we optimize the emulator <math id="S3.SS1.SSS0.Px3.p2.3.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p2.3.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p2.3.m1.1.1" xref="S3.SS1.SSS0.Px3.p2.3.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p2.3.m1.1b"><ci id="S3.SS1.SSS0.Px3.p2.3.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p2.3.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p2.3.m1.1c">\mathcal{E}</annotation></semantics></math> by finding the optimal parameters for the following equation on the public dataset</p>
<table id="A1.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.2" class="ltx_Math" alttext="\displaystyle\min_{\boldsymbol{w}_{\mathcal{E}}}\frac{1}{|\mathcal{D}_{public}|}\sum_{\begin{subarray}{c}\boldsymbol{x}\in\mathcal{D}_{public}\end{subarray}}\mathcal{L}_{repr}+\lambda\mathcal{L}_{kd}" display="inline"><semantics id="S3.E5.m1.2a"><mrow id="S3.E5.m1.2.3" xref="S3.E5.m1.2.3.cmml"><mrow id="S3.E5.m1.2.3.2" xref="S3.E5.m1.2.3.2.cmml"><mrow id="S3.E5.m1.2.3.2.2" xref="S3.E5.m1.2.3.2.2.cmml"><munder id="S3.E5.m1.2.3.2.2.1" xref="S3.E5.m1.2.3.2.2.1.cmml"><mi id="S3.E5.m1.2.3.2.2.1.2" xref="S3.E5.m1.2.3.2.2.1.2.cmml">min</mi><msub id="S3.E5.m1.2.3.2.2.1.3" xref="S3.E5.m1.2.3.2.2.1.3.cmml"><mi id="S3.E5.m1.2.3.2.2.1.3.2" xref="S3.E5.m1.2.3.2.2.1.3.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.3.2.2.1.3.3" xref="S3.E5.m1.2.3.2.2.1.3.3.cmml">ℰ</mi></msub></munder><mo lspace="0.167em" id="S3.E5.m1.2.3.2.2a" xref="S3.E5.m1.2.3.2.2.cmml">⁡</mo><mstyle displaystyle="true" id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml"><mfrac id="S3.E5.m1.2.2a" xref="S3.E5.m1.2.2.cmml"><mn id="S3.E5.m1.2.2.3" xref="S3.E5.m1.2.2.3.cmml">1</mn><mrow id="S3.E5.m1.2.2.1.1" xref="S3.E5.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.1.1.2" xref="S3.E5.m1.2.2.1.2.1.cmml">|</mo><msub id="S3.E5.m1.2.2.1.1.1" xref="S3.E5.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.2.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.2.cmml">𝒟</mi><mrow id="S3.E5.m1.2.2.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.3.cmml"><mi id="S3.E5.m1.2.2.1.1.1.3.2" xref="S3.E5.m1.2.2.1.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.1.1.1.3.1" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.1.1.1.3.3" xref="S3.E5.m1.2.2.1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.1.1.1.3.1a" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.1.1.1.3.4" xref="S3.E5.m1.2.2.1.1.1.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.1.1.1.3.1b" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.1.1.1.3.5" xref="S3.E5.m1.2.2.1.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.1.1.1.3.1c" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.1.1.1.3.6" xref="S3.E5.m1.2.2.1.1.1.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.1.1.1.3.1d" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.1.1.1.3.7" xref="S3.E5.m1.2.2.1.1.1.3.7.cmml">c</mi></mrow></msub><mo stretchy="false" id="S3.E5.m1.2.2.1.1.3" xref="S3.E5.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.2.1" xref="S3.E5.m1.2.3.2.1.cmml">​</mo><mrow id="S3.E5.m1.2.3.2.3" xref="S3.E5.m1.2.3.2.3.cmml"><mstyle displaystyle="true" id="S3.E5.m1.2.3.2.3.1" xref="S3.E5.m1.2.3.2.3.1.cmml"><munder id="S3.E5.m1.2.3.2.3.1a" xref="S3.E5.m1.2.3.2.3.1.cmml"><mo movablelimits="false" id="S3.E5.m1.2.3.2.3.1.2" xref="S3.E5.m1.2.3.2.3.1.2.cmml">∑</mo><mtable id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1a.2.cmml"><mtr id="S3.E5.m1.1.1.1.1.1.1a" xref="S3.E5.m1.1.1.1a.2.cmml"><mtd id="S3.E5.m1.1.1.1.1.1.1b" xref="S3.E5.m1.1.1.1a.2.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝒟</mi><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1a" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.4" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1b" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.5" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1c" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.6" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1d" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.7" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.7.cmml">c</mi></mrow></msub></mrow></mtd></mtr></mtable></munder></mstyle><msub id="S3.E5.m1.2.3.2.3.2" xref="S3.E5.m1.2.3.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.3.2.3.2.2" xref="S3.E5.m1.2.3.2.3.2.2.cmml">ℒ</mi><mrow id="S3.E5.m1.2.3.2.3.2.3" xref="S3.E5.m1.2.3.2.3.2.3.cmml"><mi id="S3.E5.m1.2.3.2.3.2.3.2" xref="S3.E5.m1.2.3.2.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.2.3.2.3.1" xref="S3.E5.m1.2.3.2.3.2.3.1.cmml">​</mo><mi id="S3.E5.m1.2.3.2.3.2.3.3" xref="S3.E5.m1.2.3.2.3.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.2.3.2.3.1a" xref="S3.E5.m1.2.3.2.3.2.3.1.cmml">​</mo><mi id="S3.E5.m1.2.3.2.3.2.3.4" xref="S3.E5.m1.2.3.2.3.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.2.3.2.3.1b" xref="S3.E5.m1.2.3.2.3.2.3.1.cmml">​</mo><mi id="S3.E5.m1.2.3.2.3.2.3.5" xref="S3.E5.m1.2.3.2.3.2.3.5.cmml">r</mi></mrow></msub></mrow></mrow><mo id="S3.E5.m1.2.3.1" xref="S3.E5.m1.2.3.1.cmml">+</mo><mrow id="S3.E5.m1.2.3.3" xref="S3.E5.m1.2.3.3.cmml"><mi id="S3.E5.m1.2.3.3.2" xref="S3.E5.m1.2.3.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.3.1" xref="S3.E5.m1.2.3.3.1.cmml">​</mo><msub id="S3.E5.m1.2.3.3.3" xref="S3.E5.m1.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.3.3.3.2" xref="S3.E5.m1.2.3.3.3.2.cmml">ℒ</mi><mrow id="S3.E5.m1.2.3.3.3.3" xref="S3.E5.m1.2.3.3.3.3.cmml"><mi id="S3.E5.m1.2.3.3.3.3.2" xref="S3.E5.m1.2.3.3.3.3.2.cmml">k</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.3.3.3.3.1" xref="S3.E5.m1.2.3.3.3.3.1.cmml">​</mo><mi id="S3.E5.m1.2.3.3.3.3.3" xref="S3.E5.m1.2.3.3.3.3.3.cmml">d</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.2b"><apply id="S3.E5.m1.2.3.cmml" xref="S3.E5.m1.2.3"><plus id="S3.E5.m1.2.3.1.cmml" xref="S3.E5.m1.2.3.1"></plus><apply id="S3.E5.m1.2.3.2.cmml" xref="S3.E5.m1.2.3.2"><times id="S3.E5.m1.2.3.2.1.cmml" xref="S3.E5.m1.2.3.2.1"></times><apply id="S3.E5.m1.2.3.2.2.cmml" xref="S3.E5.m1.2.3.2.2"><apply id="S3.E5.m1.2.3.2.2.1.cmml" xref="S3.E5.m1.2.3.2.2.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.3.2.2.1.1.cmml" xref="S3.E5.m1.2.3.2.2.1">subscript</csymbol><min id="S3.E5.m1.2.3.2.2.1.2.cmml" xref="S3.E5.m1.2.3.2.2.1.2"></min><apply id="S3.E5.m1.2.3.2.2.1.3.cmml" xref="S3.E5.m1.2.3.2.2.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.3.2.2.1.3.1.cmml" xref="S3.E5.m1.2.3.2.2.1.3">subscript</csymbol><ci id="S3.E5.m1.2.3.2.2.1.3.2.cmml" xref="S3.E5.m1.2.3.2.2.1.3.2">𝒘</ci><ci id="S3.E5.m1.2.3.2.2.1.3.3.cmml" xref="S3.E5.m1.2.3.2.2.1.3.3">ℰ</ci></apply></apply><apply id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2"><divide id="S3.E5.m1.2.2.2.cmml" xref="S3.E5.m1.2.2"></divide><cn type="integer" id="S3.E5.m1.2.2.3.cmml" xref="S3.E5.m1.2.2.3">1</cn><apply id="S3.E5.m1.2.2.1.2.cmml" xref="S3.E5.m1.2.2.1.1"><abs id="S3.E5.m1.2.2.1.2.1.cmml" xref="S3.E5.m1.2.2.1.1.2"></abs><apply id="S3.E5.m1.2.2.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E5.m1.2.2.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2">𝒟</ci><apply id="S3.E5.m1.2.2.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3"><times id="S3.E5.m1.2.2.1.1.1.3.1.cmml" xref="S3.E5.m1.2.2.1.1.1.3.1"></times><ci id="S3.E5.m1.2.2.1.1.1.3.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2">𝑝</ci><ci id="S3.E5.m1.2.2.1.1.1.3.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3.3">𝑢</ci><ci id="S3.E5.m1.2.2.1.1.1.3.4.cmml" xref="S3.E5.m1.2.2.1.1.1.3.4">𝑏</ci><ci id="S3.E5.m1.2.2.1.1.1.3.5.cmml" xref="S3.E5.m1.2.2.1.1.1.3.5">𝑙</ci><ci id="S3.E5.m1.2.2.1.1.1.3.6.cmml" xref="S3.E5.m1.2.2.1.1.1.3.6">𝑖</ci><ci id="S3.E5.m1.2.2.1.1.1.3.7.cmml" xref="S3.E5.m1.2.2.1.1.1.3.7">𝑐</ci></apply></apply></apply></apply></apply><apply id="S3.E5.m1.2.3.2.3.cmml" xref="S3.E5.m1.2.3.2.3"><apply id="S3.E5.m1.2.3.2.3.1.cmml" xref="S3.E5.m1.2.3.2.3.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.3.2.3.1.1.cmml" xref="S3.E5.m1.2.3.2.3.1">subscript</csymbol><sum id="S3.E5.m1.2.3.2.3.1.2.cmml" xref="S3.E5.m1.2.3.2.3.1.2"></sum><list id="S3.E5.m1.1.1.1a.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><matrix id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><matrixrow id="S3.E5.m1.1.1.1.1.1.1a.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1"><in id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1"></in><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2">𝒟</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑝</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑢</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.4">𝑏</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.5">𝑙</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.6.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.6">𝑖</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.7.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.7">𝑐</ci></apply></apply></apply></matrixrow></matrix></list></apply><apply id="S3.E5.m1.2.3.2.3.2.cmml" xref="S3.E5.m1.2.3.2.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.3.2.3.2.1.cmml" xref="S3.E5.m1.2.3.2.3.2">subscript</csymbol><ci id="S3.E5.m1.2.3.2.3.2.2.cmml" xref="S3.E5.m1.2.3.2.3.2.2">ℒ</ci><apply id="S3.E5.m1.2.3.2.3.2.3.cmml" xref="S3.E5.m1.2.3.2.3.2.3"><times id="S3.E5.m1.2.3.2.3.2.3.1.cmml" xref="S3.E5.m1.2.3.2.3.2.3.1"></times><ci id="S3.E5.m1.2.3.2.3.2.3.2.cmml" xref="S3.E5.m1.2.3.2.3.2.3.2">𝑟</ci><ci id="S3.E5.m1.2.3.2.3.2.3.3.cmml" xref="S3.E5.m1.2.3.2.3.2.3.3">𝑒</ci><ci id="S3.E5.m1.2.3.2.3.2.3.4.cmml" xref="S3.E5.m1.2.3.2.3.2.3.4">𝑝</ci><ci id="S3.E5.m1.2.3.2.3.2.3.5.cmml" xref="S3.E5.m1.2.3.2.3.2.3.5">𝑟</ci></apply></apply></apply></apply><apply id="S3.E5.m1.2.3.3.cmml" xref="S3.E5.m1.2.3.3"><times id="S3.E5.m1.2.3.3.1.cmml" xref="S3.E5.m1.2.3.3.1"></times><ci id="S3.E5.m1.2.3.3.2.cmml" xref="S3.E5.m1.2.3.3.2">𝜆</ci><apply id="S3.E5.m1.2.3.3.3.cmml" xref="S3.E5.m1.2.3.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.3.3.3.1.cmml" xref="S3.E5.m1.2.3.3.3">subscript</csymbol><ci id="S3.E5.m1.2.3.3.3.2.cmml" xref="S3.E5.m1.2.3.3.3.2">ℒ</ci><apply id="S3.E5.m1.2.3.3.3.3.cmml" xref="S3.E5.m1.2.3.3.3.3"><times id="S3.E5.m1.2.3.3.3.3.1.cmml" xref="S3.E5.m1.2.3.3.3.3.1"></times><ci id="S3.E5.m1.2.3.3.3.3.2.cmml" xref="S3.E5.m1.2.3.3.3.3.2">𝑘</ci><ci id="S3.E5.m1.2.3.3.3.3.3.cmml" xref="S3.E5.m1.2.3.3.3.3.3">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.2c">\displaystyle\min_{\boldsymbol{w}_{\mathcal{E}}}\frac{1}{|\mathcal{D}_{public}|}\sum_{\begin{subarray}{c}\boldsymbol{x}\in\mathcal{D}_{public}\end{subarray}}\mathcal{L}_{repr}+\lambda\mathcal{L}_{kd}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.SSS0.Px3.p3" class="ltx_para">
<p id="S3.SS1.SSS0.Px3.p3.10" class="ltx_p">Let the optimal emulator <math id="S3.SS1.SSS0.Px3.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p3.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.1.m1.1b"><ci id="S3.SS1.SSS0.Px3.p3.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.1.m1.1c">\mathcal{E}</annotation></semantics></math> for Equation (<a href="#S3.E5" title="In Step 3: Pre-alignment. ‣ 3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>) be <math id="S3.SS1.SSS0.Px3.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{E}_{init}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.2.m2.1a"><msub id="S3.SS1.SSS0.Px3.p3.2.m2.1.1" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.2" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.4" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.5" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.2.m2.1b"><apply id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3"><times id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.2">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.3">𝑛</ci><ci id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.2.m2.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.2.m2.1c">\mathcal{E}_{init}</annotation></semantics></math> with the parameter of <math id="S3.SS1.SSS0.Px3.p3.3.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{init}}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.3.m3.1a"><msub id="S3.SS1.SSS0.Px3.p3.3.m3.1.1" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.2" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.2.cmml">𝒘</mi><msub id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.2" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.3" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1a" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.4" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1b" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.5" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.3.m3.1b"><apply id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.2">𝒘</ci><apply id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3"><times id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.2">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.3">𝑛</ci><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.3.m3.1.1.3.3.5">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.3.m3.1c">\boldsymbol{w}_{\mathcal{E}_{init}}</annotation></semantics></math>. Denote the selected adapter <math id="S3.SS1.SSS0.Px3.p3.4.m4.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.4.m4.1.1" xref="S3.SS1.SSS0.Px3.p3.4.m4.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.4.m4.1b"><ci id="S3.SS1.SSS0.Px3.p3.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.4.m4.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.4.m4.1c">\mathcal{A}</annotation></semantics></math> with the parameter of <math id="S3.SS1.SSS0.Px3.p3.5.m5.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{init}}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.5.m5.1a"><msub id="S3.SS1.SSS0.Px3.p3.5.m5.1.1" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.2" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.2.cmml">𝒘</mi><msub id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.2" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.3" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1a" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.4" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1b" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.5" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.5.m5.1b"><apply id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.2">𝒘</ci><apply id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3"><times id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.2">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.3">𝑛</ci><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.5.m5.1.1.3.3.5">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.5.m5.1c">\boldsymbol{w}_{\mathcal{A}_{init}}</annotation></semantics></math>. To this end, we distribute a compressed model to the clients with the initial parameters of <math id="S3.SS1.SSS0.Px3.p3.6.m6.2" class="ltx_Math" alttext="\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{E}_{init}}\}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.6.m6.2a"><mrow id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.3.cmml">{</mo><msub id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.2.cmml">𝒘</mi><msub id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1a" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.4" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1b" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.5" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><mo id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.4" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.2.cmml">𝒘</mi><msub id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.2" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.3" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1a" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.4" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1b" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.5" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.5.cmml">t</mi></mrow></msub></msub><mo stretchy="false" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.5" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.6.m6.2b"><set id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2"><apply id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.2">𝒘</ci><apply id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3"><times id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.2">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.3">𝑛</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.1.1.1.1.3.3.5">𝑡</ci></apply></apply></apply><apply id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.2">𝒘</ci><apply id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3"><times id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.2">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.3">𝑛</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.6.m6.2.2.2.2.3.3.5">𝑡</ci></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.6.m6.2c">\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{E}_{init}}\}</annotation></semantics></math>. To reduce the computation and communication costs, we incorporate LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite> for the adapter <math id="S3.SS1.SSS0.Px3.p3.7.m7.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.7.m7.1.1" xref="S3.SS1.SSS0.Px3.p3.7.m7.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.7.m7.1b"><ci id="S3.SS1.SSS0.Px3.p3.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.7.m7.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.7.m7.1c">\mathcal{A}</annotation></semantics></math> and the emulator <math id="S3.SS1.SSS0.Px3.p3.8.m8.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.8.m8.1.1" xref="S3.SS1.SSS0.Px3.p3.8.m8.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.8.m8.1b"><ci id="S3.SS1.SSS0.Px3.p3.8.m8.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.8.m8.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.8.m8.1c">\mathcal{E}</annotation></semantics></math>, denoted as <math id="S3.SS1.SSS0.Px3.p3.9.m9.1" class="ltx_Math" alttext="\mathcal{A}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.9.m9.1a"><msub id="S3.SS1.SSS0.Px3.p3.9.m9.1.1" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.2" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.4" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.5" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.9.m9.1b"><apply id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3"><times id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.9.m9.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.9.m9.1c">\mathcal{A}_{lora}</annotation></semantics></math> and <math id="S3.SS1.SSS0.Px3.p3.10.m10.1" class="ltx_Math" alttext="\mathcal{E}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p3.10.m10.1a"><msub id="S3.SS1.SSS0.Px3.p3.10.m10.1.1" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.2" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.2" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.3" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.4" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.5" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.10.m10.1b"><apply id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3"><times id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p3.10.m10.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.10.m10.1c">\mathcal{E}_{lora}</annotation></semantics></math>, respectively.</p>
</div>
<div id="S3.SS1.SSS0.Px3.p4" class="ltx_para">
<p id="S3.SS1.SSS0.Px3.p4.7" class="ltx_p">Before diving into the details of the proposed <span id="S3.SS1.SSS0.Px3.p4.7.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>, we briefly go through the workflow as described in Figure <a href="#S3.F1" title="Figure 1 ‣ Step 2: Layer dropout to form emulator. ‣ 3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The figure visually presents the workflow of the federated learning process of our proposed <span id="S3.SS1.SSS0.Px3.p4.7.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>, including the local updates on clients (Section <a href="#S3.SS3" title="3.3. Client Updates ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>) and the aggregation on the server (Section <a href="#S3.SS4" title="3.4. Model Aggregation ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.4</span></a>). At the beginning of clients’ fine-tuning, the server broadcasts the adapter <math id="S3.SS1.SSS0.Px3.p4.3.m3.1" class="ltx_Math" alttext="\mathcal{A}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p4.3.m3.1a"><msub id="S3.SS1.SSS0.Px3.p4.3.m3.1.1" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.4" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.5" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.3.m3.1b"><apply id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3"><times id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.3.m3.1c">\mathcal{A}_{lora}</annotation></semantics></math> and the emulator <math id="S3.SS1.SSS0.Px3.p4.4.m4.1" class="ltx_Math" alttext="\mathcal{E}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p4.4.m4.1a"><msub id="S3.SS1.SSS0.Px3.p4.4.m4.1.1" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.2" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.2" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.4" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.5" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.4.m4.1b"><apply id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3"><times id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p4.4.m4.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.4.m4.1c">\mathcal{E}_{lora}</annotation></semantics></math> to the clients. Subsequently, the clients perform multiple local updates to fine-tune the adapter <math id="S3.SS1.SSS0.Px3.p4.5.m5.1" class="ltx_Math" alttext="\mathcal{A}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p4.5.m5.1a"><msub id="S3.SS1.SSS0.Px3.p4.5.m5.1.1" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.2" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.2" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.4" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.5" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.5.m5.1b"><apply id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3"><times id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p4.5.m5.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.5.m5.1c">\mathcal{A}_{lora}</annotation></semantics></math> with their local datasets. After the local updates, the client uploads the adapter <math id="S3.SS1.SSS0.Px3.p4.6.m6.1" class="ltx_Math" alttext="\mathcal{A}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p4.6.m6.1a"><msub id="S3.SS1.SSS0.Px3.p4.6.m6.1.1" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.2" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.2.cmml">𝒜</mi><mrow id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.2" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.4" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.5" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.6.m6.1b"><apply id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.2">𝒜</ci><apply id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3"><times id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p4.6.m6.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.6.m6.1c">\mathcal{A}_{lora}</annotation></semantics></math> to the server, and the server thereby aggregates the adapters. To ensure that the emulator is still able to reproduce the behavior of the uncompressed LLM, the server fine-tunes the emulator <math id="S3.SS1.SSS0.Px3.p4.7.m7.1" class="ltx_Math" alttext="\mathcal{E}_{lora}" display="inline"><semantics id="S3.SS1.SSS0.Px3.p4.7.m7.1a"><msub id="S3.SS1.SSS0.Px3.p4.7.m7.1.1" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.2" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.2.cmml">ℰ</mi><mrow id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.2" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1a" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.4" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1b" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.5" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.5.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.7.m7.1b"><apply id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.2">ℰ</ci><apply id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3"><times id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.1"></times><ci id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.2">𝑙</ci><ci id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.3">𝑜</ci><ci id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.4">𝑟</ci><ci id="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.5.cmml" xref="S3.SS1.SSS0.Px3.p4.7.m7.1.1.3.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.7.m7.1c">\mathcal{E}_{lora}</annotation></semantics></math> with the public dataset. Finally, the server distributes the updated parameters to the clients and launches a new round of training.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Formulation of Bi-level Optimization</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">As discussed in Section <a href="#S3.SS1" title="3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>, we compress and divide the LLM into two parts, namely, an adapter and an emulator. These two components are designated to satisfy the following objectives:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Emulator</span> should be tuned towards perfectly imitating the non-compressed part in the full model, especially in extracting and encoding information on the server’s datasets.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Adapter</span> should be able to digest the output of the emulator efficiently and should be encoded with the knowledge from clients’ datasets effectively.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.2" class="ltx_p">Define <math id="S3.SS2.p2.1.m1.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}}=\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{A}_{lora}}\}" display="inline"><semantics id="S3.SS2.p2.1.m1.2a"><mrow id="S3.SS2.p2.1.m1.2.2" xref="S3.SS2.p2.1.m1.2.2.cmml"><msub id="S3.SS2.p2.1.m1.2.2.4" xref="S3.SS2.p2.1.m1.2.2.4.cmml"><mi id="S3.SS2.p2.1.m1.2.2.4.2" xref="S3.SS2.p2.1.m1.2.2.4.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.2.2.4.3" xref="S3.SS2.p2.1.m1.2.2.4.3.cmml">𝒜</mi></msub><mo id="S3.SS2.p2.1.m1.2.2.3" xref="S3.SS2.p2.1.m1.2.2.3.cmml">=</mo><mrow id="S3.SS2.p2.1.m1.2.2.2.2" xref="S3.SS2.p2.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p2.1.m1.2.2.2.2.3" xref="S3.SS2.p2.1.m1.2.2.2.3.cmml">{</mo><msub id="S3.SS2.p2.1.m1.1.1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.2.cmml">𝒘</mi><msub id="S3.SS2.p2.1.m1.1.1.1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.1.1.1.1.1.3.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.3" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1a" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.4" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1b" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.5" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><mo id="S3.SS2.p2.1.m1.2.2.2.2.4" xref="S3.SS2.p2.1.m1.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p2.1.m1.2.2.2.2.2" xref="S3.SS2.p2.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.p2.1.m1.2.2.2.2.2.2" xref="S3.SS2.p2.1.m1.2.2.2.2.2.2.cmml">𝒘</mi><msub id="S3.SS2.p2.1.m1.2.2.2.2.2.3" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.2.2.2.2.2.3.2" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.2.cmml">𝒜</mi><mrow id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.cmml"><mi id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.2" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.3" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1a" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.4" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1b" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.5" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo stretchy="false" id="S3.SS2.p2.1.m1.2.2.2.2.5" xref="S3.SS2.p2.1.m1.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.2b"><apply id="S3.SS2.p2.1.m1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2"><eq id="S3.SS2.p2.1.m1.2.2.3.cmml" xref="S3.SS2.p2.1.m1.2.2.3"></eq><apply id="S3.SS2.p2.1.m1.2.2.4.cmml" xref="S3.SS2.p2.1.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.4.1.cmml" xref="S3.SS2.p2.1.m1.2.2.4">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.4.2.cmml" xref="S3.SS2.p2.1.m1.2.2.4.2">𝒘</ci><ci id="S3.SS2.p2.1.m1.2.2.4.3.cmml" xref="S3.SS2.p2.1.m1.2.2.4.3">𝒜</ci></apply><set id="S3.SS2.p2.1.m1.2.2.2.3.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2"><apply id="S3.SS2.p2.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.2">𝒘</ci><apply id="S3.SS2.p2.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.2">𝒜</ci><apply id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3"><times id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.1"></times><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.2">𝑖</ci><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.3">𝑛</ci><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.4.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.4">𝑖</ci><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.5.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.3.3.5">𝑡</ci></apply></apply></apply><apply id="S3.SS2.p2.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.2">𝒘</ci><apply id="S3.SS2.p2.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.2.2.2.3.1.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.3.2.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.2">𝒜</ci><apply id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3"><times id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.1"></times><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.2.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.2">𝑙</ci><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.3.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.3">𝑜</ci><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.4.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.4">𝑟</ci><ci id="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.5.cmml" xref="S3.SS2.p2.1.m1.2.2.2.2.2.3.3.5">𝑎</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.2c">\boldsymbol{w}_{\mathcal{A}}=\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{A}_{lora}}\}</annotation></semantics></math>, <math id="S3.SS2.p2.2.m2.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}}=\{\boldsymbol{w}_{\mathcal{E}_{init}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}" display="inline"><semantics id="S3.SS2.p2.2.m2.2a"><mrow id="S3.SS2.p2.2.m2.2.2" xref="S3.SS2.p2.2.m2.2.2.cmml"><msub id="S3.SS2.p2.2.m2.2.2.4" xref="S3.SS2.p2.2.m2.2.2.4.cmml"><mi id="S3.SS2.p2.2.m2.2.2.4.2" xref="S3.SS2.p2.2.m2.2.2.4.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.2.2.4.3" xref="S3.SS2.p2.2.m2.2.2.4.3.cmml">ℰ</mi></msub><mo id="S3.SS2.p2.2.m2.2.2.3" xref="S3.SS2.p2.2.m2.2.2.3.cmml">=</mo><mrow id="S3.SS2.p2.2.m2.2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p2.2.m2.2.2.2.2.3" xref="S3.SS2.p2.2.m2.2.2.2.3.cmml">{</mo><msub id="S3.SS2.p2.2.m2.1.1.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.1.1.1.2" xref="S3.SS2.p2.2.m2.1.1.1.1.1.2.cmml">𝒘</mi><msub id="S3.SS2.p2.2.m2.1.1.1.1.1.3" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.1.1.1.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.2" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.3" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1a" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.4" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1b" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.5" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><mo id="S3.SS2.p2.2.m2.2.2.2.2.4" xref="S3.SS2.p2.2.m2.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p2.2.m2.2.2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.2.2.2.cmml"><mi id="S3.SS2.p2.2.m2.2.2.2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.2.2.2.2.cmml">𝒘</mi><msub id="S3.SS2.p2.2.m2.2.2.2.2.2.3" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.2.2.2.2.2.3.2" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.2.cmml">ℰ</mi><mrow id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.cmml"><mi id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.2" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.3" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1a" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.4" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1b" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.5" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo stretchy="false" id="S3.SS2.p2.2.m2.2.2.2.2.5" xref="S3.SS2.p2.2.m2.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.2b"><apply id="S3.SS2.p2.2.m2.2.2.cmml" xref="S3.SS2.p2.2.m2.2.2"><eq id="S3.SS2.p2.2.m2.2.2.3.cmml" xref="S3.SS2.p2.2.m2.2.2.3"></eq><apply id="S3.SS2.p2.2.m2.2.2.4.cmml" xref="S3.SS2.p2.2.m2.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.2.2.4.1.cmml" xref="S3.SS2.p2.2.m2.2.2.4">subscript</csymbol><ci id="S3.SS2.p2.2.m2.2.2.4.2.cmml" xref="S3.SS2.p2.2.m2.2.2.4.2">𝒘</ci><ci id="S3.SS2.p2.2.m2.2.2.4.3.cmml" xref="S3.SS2.p2.2.m2.2.2.4.3">ℰ</ci></apply><set id="S3.SS2.p2.2.m2.2.2.2.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2"><apply id="S3.SS2.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.2">𝒘</ci><apply id="S3.SS2.p2.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.2">ℰ</ci><apply id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3"><times id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.1"></times><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.2">𝑖</ci><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.3">𝑛</ci><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.4.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.4">𝑖</ci><ci id="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.5.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.1.3.3.5">𝑡</ci></apply></apply></apply><apply id="S3.SS2.p2.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.2">𝒘</ci><apply id="S3.SS2.p2.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.2.2.2.2.2.3.1.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.3.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.2">ℰ</ci><apply id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3"><times id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.1"></times><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.2">𝑙</ci><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.3">𝑜</ci><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.4.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.4">𝑟</ci><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.5.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2.3.3.5">𝑎</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.2c">\boldsymbol{w}_{\mathcal{E}}=\{\boldsymbol{w}_{\mathcal{E}_{init}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}</annotation></semantics></math> to integrate the LoRA parameters while the initial parameters for the adapter and the emulator remain unchanged during the training. Toward the goal, we formulate the objectives as a bi-level optimization problem:</p>
<table id="A1.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6.m1.4" class="ltx_Math" alttext="\displaystyle\min_{\boldsymbol{w}_{\mathcal{A}_{lora}}}\sum_{m\in[M]}p_{m}F_{m}\left(\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}\right)+\frac{\epsilon}{2}\left\|\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}-\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}^{(t)}\right\|_{2}^{2}" display="inline"><semantics id="S3.E6.m1.4a"><mrow id="S3.E6.m1.4.4" xref="S3.E6.m1.4.4.cmml"><mrow id="S3.E6.m1.3.3.1" xref="S3.E6.m1.3.3.1.cmml"><munder id="S3.E6.m1.3.3.1.3" xref="S3.E6.m1.3.3.1.3.cmml"><mi id="S3.E6.m1.3.3.1.3.2" xref="S3.E6.m1.3.3.1.3.2.cmml">min</mi><msub id="S3.E6.m1.3.3.1.3.3" xref="S3.E6.m1.3.3.1.3.3.cmml"><mi id="S3.E6.m1.3.3.1.3.3.2" xref="S3.E6.m1.3.3.1.3.3.2.cmml">𝒘</mi><msub id="S3.E6.m1.3.3.1.3.3.3" xref="S3.E6.m1.3.3.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.1.3.3.3.2" xref="S3.E6.m1.3.3.1.3.3.3.2.cmml">𝒜</mi><mrow id="S3.E6.m1.3.3.1.3.3.3.3" xref="S3.E6.m1.3.3.1.3.3.3.3.cmml"><mi id="S3.E6.m1.3.3.1.3.3.3.3.2" xref="S3.E6.m1.3.3.1.3.3.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.1.3.3.3.3.1" xref="S3.E6.m1.3.3.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.1.3.3.3.3.3" xref="S3.E6.m1.3.3.1.3.3.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.1.3.3.3.3.1a" xref="S3.E6.m1.3.3.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.1.3.3.3.3.4" xref="S3.E6.m1.3.3.1.3.3.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.1.3.3.3.3.1b" xref="S3.E6.m1.3.3.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.1.3.3.3.3.5" xref="S3.E6.m1.3.3.1.3.3.3.3.5.cmml">a</mi></mrow></msub></msub></munder><mo lspace="0.167em" rspace="0em" id="S3.E6.m1.3.3.1.2" xref="S3.E6.m1.3.3.1.2.cmml">​</mo><mrow id="S3.E6.m1.3.3.1.1" xref="S3.E6.m1.3.3.1.1.cmml"><mstyle displaystyle="true" id="S3.E6.m1.3.3.1.1.2" xref="S3.E6.m1.3.3.1.1.2.cmml"><munder id="S3.E6.m1.3.3.1.1.2a" xref="S3.E6.m1.3.3.1.1.2.cmml"><mo movablelimits="false" id="S3.E6.m1.3.3.1.1.2.2" xref="S3.E6.m1.3.3.1.1.2.2.cmml">∑</mo><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.3" xref="S3.E6.m1.1.1.1.3.cmml">m</mi><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.2.cmml">∈</mo><mrow id="S3.E6.m1.1.1.1.4.2" xref="S3.E6.m1.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.4.2.1" xref="S3.E6.m1.1.1.1.4.1.1.cmml">[</mo><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">M</mi><mo stretchy="false" id="S3.E6.m1.1.1.1.4.2.2" xref="S3.E6.m1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></munder></mstyle><mrow id="S3.E6.m1.3.3.1.1.1" xref="S3.E6.m1.3.3.1.1.1.cmml"><msub id="S3.E6.m1.3.3.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.3.2" xref="S3.E6.m1.3.3.1.1.1.3.2.cmml">p</mi><mi id="S3.E6.m1.3.3.1.1.1.3.3" xref="S3.E6.m1.3.3.1.1.1.3.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.2.cmml">​</mo><msub id="S3.E6.m1.3.3.1.1.1.4" xref="S3.E6.m1.3.3.1.1.1.4.cmml"><mi id="S3.E6.m1.3.3.1.1.1.4.2" xref="S3.E6.m1.3.3.1.1.1.4.2.cmml">F</mi><mi id="S3.E6.m1.3.3.1.1.1.4.3" xref="S3.E6.m1.3.3.1.1.1.4.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.1.1.1.2a" xref="S3.E6.m1.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.cmml"><mo id="S3.E6.m1.3.3.1.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.1.1.2.3" xref="S3.E6.m1.3.3.1.1.1.1.1.1.3.cmml">{</mo><msub id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E6.m1.3.3.1.1.1.1.1.1.2.4" xref="S3.E6.m1.3.3.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.1.1.2.5" xref="S3.E6.m1.3.3.1.1.1.1.1.1.3.cmml">}</mo></mrow><mo id="S3.E6.m1.3.3.1.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E6.m1.4.4.3" xref="S3.E6.m1.4.4.3.cmml">+</mo><mrow id="S3.E6.m1.4.4.2" xref="S3.E6.m1.4.4.2.cmml"><mstyle displaystyle="true" id="S3.E6.m1.4.4.2.3" xref="S3.E6.m1.4.4.2.3.cmml"><mfrac id="S3.E6.m1.4.4.2.3a" xref="S3.E6.m1.4.4.2.3.cmml"><mi id="S3.E6.m1.4.4.2.3.2" xref="S3.E6.m1.4.4.2.3.2.cmml">ϵ</mi><mn id="S3.E6.m1.4.4.2.3.3" xref="S3.E6.m1.4.4.2.3.3.cmml">2</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.2" xref="S3.E6.m1.4.4.2.2.cmml">​</mo><msubsup id="S3.E6.m1.4.4.2.1" xref="S3.E6.m1.4.4.2.1.cmml"><mrow id="S3.E6.m1.4.4.2.1.1.1.1" xref="S3.E6.m1.4.4.2.1.1.1.2.cmml"><mo id="S3.E6.m1.4.4.2.1.1.1.1.2" xref="S3.E6.m1.4.4.2.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E6.m1.4.4.2.1.1.1.1.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.cmml"><msub id="S3.E6.m1.4.4.2.1.1.1.1.1.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.cmml"><mover accent="true" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.cmml"><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.2.cmml">𝒘</mi><mo id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.1.cmml">^</mo></mover><msub id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.2.cmml">𝒜</mi><mrow id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.cmml"><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1a" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.4" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1b" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.5" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo id="S3.E6.m1.4.4.2.1.1.1.1.1.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E6.m1.4.4.2.1.1.1.1.1.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.cmml"><mover accent="true" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.cmml"><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.2.cmml">𝒘</mi><mo id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.1.cmml">^</mo></mover><msub id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.2.cmml">𝒜</mi><mrow id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.cmml"><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1a" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.4" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1b" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.5" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.5.cmml">a</mi></mrow></msub><mrow id="S3.E6.m1.2.2.1.3" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.1.3.1" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.cmml">t</mi><mo stretchy="false" id="S3.E6.m1.2.2.1.3.2" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo id="S3.E6.m1.4.4.2.1.1.1.1.3" xref="S3.E6.m1.4.4.2.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E6.m1.4.4.2.1.1.3" xref="S3.E6.m1.4.4.2.1.1.3.cmml">2</mn><mn id="S3.E6.m1.4.4.2.1.3" xref="S3.E6.m1.4.4.2.1.3.cmml">2</mn></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.4b"><apply id="S3.E6.m1.4.4.cmml" xref="S3.E6.m1.4.4"><plus id="S3.E6.m1.4.4.3.cmml" xref="S3.E6.m1.4.4.3"></plus><apply id="S3.E6.m1.3.3.1.cmml" xref="S3.E6.m1.3.3.1"><times id="S3.E6.m1.3.3.1.2.cmml" xref="S3.E6.m1.3.3.1.2"></times><apply id="S3.E6.m1.3.3.1.3.cmml" xref="S3.E6.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.3.1.cmml" xref="S3.E6.m1.3.3.1.3">subscript</csymbol><min id="S3.E6.m1.3.3.1.3.2.cmml" xref="S3.E6.m1.3.3.1.3.2"></min><apply id="S3.E6.m1.3.3.1.3.3.cmml" xref="S3.E6.m1.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.3.3.1.cmml" xref="S3.E6.m1.3.3.1.3.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.3.3.2.cmml" xref="S3.E6.m1.3.3.1.3.3.2">𝒘</ci><apply id="S3.E6.m1.3.3.1.3.3.3.cmml" xref="S3.E6.m1.3.3.1.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.3.3.3.1.cmml" xref="S3.E6.m1.3.3.1.3.3.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.3.3.3.2.cmml" xref="S3.E6.m1.3.3.1.3.3.3.2">𝒜</ci><apply id="S3.E6.m1.3.3.1.3.3.3.3.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3"><times id="S3.E6.m1.3.3.1.3.3.3.3.1.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3.1"></times><ci id="S3.E6.m1.3.3.1.3.3.3.3.2.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3.2">𝑙</ci><ci id="S3.E6.m1.3.3.1.3.3.3.3.3.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3.3">𝑜</ci><ci id="S3.E6.m1.3.3.1.3.3.3.3.4.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3.4">𝑟</ci><ci id="S3.E6.m1.3.3.1.3.3.3.3.5.cmml" xref="S3.E6.m1.3.3.1.3.3.3.3.5">𝑎</ci></apply></apply></apply></apply><apply id="S3.E6.m1.3.3.1.1.cmml" xref="S3.E6.m1.3.3.1.1"><apply id="S3.E6.m1.3.3.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2">subscript</csymbol><sum id="S3.E6.m1.3.3.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2"></sum><apply id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><in id="S3.E6.m1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.2"></in><ci id="S3.E6.m1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.3">𝑚</ci><apply id="S3.E6.m1.1.1.1.4.1.cmml" xref="S3.E6.m1.1.1.1.4.2"><csymbol cd="latexml" id="S3.E6.m1.1.1.1.4.1.1.cmml" xref="S3.E6.m1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑀</ci></apply></apply></apply><apply id="S3.E6.m1.3.3.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1"><times id="S3.E6.m1.3.3.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.2"></times><apply id="S3.E6.m1.3.3.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.3.2">𝑝</ci><ci id="S3.E6.m1.3.3.1.1.1.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E6.m1.3.3.1.1.1.4.cmml" xref="S3.E6.m1.3.3.1.1.1.4"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.4.1.cmml" xref="S3.E6.m1.3.3.1.1.1.4">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.4.2.cmml" xref="S3.E6.m1.3.3.1.1.1.4.2">𝐹</ci><ci id="S3.E6.m1.3.3.1.1.1.4.3.cmml" xref="S3.E6.m1.3.3.1.1.1.4.3">𝑚</ci></apply><set id="S3.E6.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2"><apply id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.2">𝒘</ci><ci id="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.2.2.3">ℰ</ci></apply></set></apply></apply></apply><apply id="S3.E6.m1.4.4.2.cmml" xref="S3.E6.m1.4.4.2"><times id="S3.E6.m1.4.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2"></times><apply id="S3.E6.m1.4.4.2.3.cmml" xref="S3.E6.m1.4.4.2.3"><divide id="S3.E6.m1.4.4.2.3.1.cmml" xref="S3.E6.m1.4.4.2.3"></divide><ci id="S3.E6.m1.4.4.2.3.2.cmml" xref="S3.E6.m1.4.4.2.3.2">italic-ϵ</ci><cn type="integer" id="S3.E6.m1.4.4.2.3.3.cmml" xref="S3.E6.m1.4.4.2.3.3">2</cn></apply><apply id="S3.E6.m1.4.4.2.1.cmml" xref="S3.E6.m1.4.4.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.2.cmml" xref="S3.E6.m1.4.4.2.1">superscript</csymbol><apply id="S3.E6.m1.4.4.2.1.1.cmml" xref="S3.E6.m1.4.4.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.2.cmml" xref="S3.E6.m1.4.4.2.1">subscript</csymbol><apply id="S3.E6.m1.4.4.2.1.1.1.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.4.4.2.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.2">norm</csymbol><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1"><minus id="S3.E6.m1.4.4.2.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2"><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.1">^</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.2.2">𝒘</ci></apply><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.2">𝒜</ci><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3"><times id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.1"></times><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.2">𝑙</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.3">𝑜</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.4.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.4">𝑟</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.5.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.2.3.3.5">𝑎</ci></apply></apply></apply><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2"><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.1">^</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.2.2">𝒘</ci></apply><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.2">𝒜</ci><apply id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3"><times id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.1"></times><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.2.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.2">𝑙</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.3.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.3">𝑜</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.4.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.4">𝑟</ci><ci id="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.5.cmml" xref="S3.E6.m1.4.4.2.1.1.1.1.1.3.2.3.3.5">𝑎</ci></apply></apply></apply><ci id="S3.E6.m1.2.2.1.1.cmml" xref="S3.E6.m1.2.2.1.1">𝑡</ci></apply></apply></apply><cn type="integer" id="S3.E6.m1.4.4.2.1.1.3.cmml" xref="S3.E6.m1.4.4.2.1.1.3">2</cn></apply><cn type="integer" id="S3.E6.m1.4.4.2.1.3.cmml" xref="S3.E6.m1.4.4.2.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.4c">\displaystyle\min_{\boldsymbol{w}_{\mathcal{A}_{lora}}}\sum_{m\in[M]}p_{m}F_{m}\left(\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}\right)+\frac{\epsilon}{2}\left\|\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}-\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}^{(t)}\right\|_{2}^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex3.m1.3" class="ltx_Math" alttext="\displaystyle s.t.\quad" display="inline"><semantics id="S3.Ex3.m1.3a"><mrow id="S3.Ex3.m1.3.3.1"><mrow id="S3.Ex3.m1.3.3.1.1.2" xref="S3.Ex3.m1.3.3.1.1.1.cmml"><mi id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml">s</mi><mo lspace="0em" rspace="0.167em" id="S3.Ex3.m1.3.3.1.1.2.1" xref="S3.Ex3.m1.3.3.1.1.1a.cmml">.</mo><mi id="S3.Ex3.m1.2.2" xref="S3.Ex3.m1.2.2.cmml">t</mi></mrow><mo lspace="0em" id="S3.Ex3.m1.3.3.1.2">.</mo><mspace width="1.167em" id="S3.Ex3.m1.3.3.1.3"></mspace></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.3b"><apply id="S3.Ex3.m1.3.3.1.1.1.cmml" xref="S3.Ex3.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.1.1.1a.cmml" xref="S3.Ex3.m1.3.3.1.1.2.1">formulae-sequence</csymbol><ci id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1">𝑠</ci><ci id="S3.Ex3.m1.2.2.cmml" xref="S3.Ex3.m1.2.2">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.3c">\displaystyle s.t.\quad</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex3.m2.4" class="ltx_Math" alttext="\displaystyle\boldsymbol{w}_{\mathcal{E}_{lora}}\in\arg\min_{\boldsymbol{w}_{\mathcal{E}_{lora}}}\frac{1}{|\mathcal{D}_{public}|}\sum_{\begin{subarray}{c}\boldsymbol{x}\in\mathcal{D}_{public}\end{subarray}}\mathcal{L}(\boldsymbol{x})," display="inline"><semantics id="S3.Ex3.m2.4a"><mrow id="S3.Ex3.m2.4.4.1" xref="S3.Ex3.m2.4.4.1.1.cmml"><mrow id="S3.Ex3.m2.4.4.1.1" xref="S3.Ex3.m2.4.4.1.1.cmml"><msub id="S3.Ex3.m2.4.4.1.1.2" xref="S3.Ex3.m2.4.4.1.1.2.cmml"><mi id="S3.Ex3.m2.4.4.1.1.2.2" xref="S3.Ex3.m2.4.4.1.1.2.2.cmml">𝒘</mi><msub id="S3.Ex3.m2.4.4.1.1.2.3" xref="S3.Ex3.m2.4.4.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m2.4.4.1.1.2.3.2" xref="S3.Ex3.m2.4.4.1.1.2.3.2.cmml">ℰ</mi><mrow id="S3.Ex3.m2.4.4.1.1.2.3.3" xref="S3.Ex3.m2.4.4.1.1.2.3.3.cmml"><mi id="S3.Ex3.m2.4.4.1.1.2.3.3.2" xref="S3.Ex3.m2.4.4.1.1.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.2.3.3.1" xref="S3.Ex3.m2.4.4.1.1.2.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.2.3.3.3" xref="S3.Ex3.m2.4.4.1.1.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.2.3.3.1a" xref="S3.Ex3.m2.4.4.1.1.2.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.2.3.3.4" xref="S3.Ex3.m2.4.4.1.1.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.2.3.3.1b" xref="S3.Ex3.m2.4.4.1.1.2.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.2.3.3.5" xref="S3.Ex3.m2.4.4.1.1.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo id="S3.Ex3.m2.4.4.1.1.1" xref="S3.Ex3.m2.4.4.1.1.1.cmml">∈</mo><mrow id="S3.Ex3.m2.4.4.1.1.3" xref="S3.Ex3.m2.4.4.1.1.3.cmml"><mrow id="S3.Ex3.m2.4.4.1.1.3.2" xref="S3.Ex3.m2.4.4.1.1.3.2.cmml"><mi id="S3.Ex3.m2.4.4.1.1.3.2.1" xref="S3.Ex3.m2.4.4.1.1.3.2.1.cmml">arg</mi><mo lspace="0.167em" id="S3.Ex3.m2.4.4.1.1.3.2a" xref="S3.Ex3.m2.4.4.1.1.3.2.cmml">⁡</mo><mrow id="S3.Ex3.m2.4.4.1.1.3.2.2" xref="S3.Ex3.m2.4.4.1.1.3.2.2.cmml"><munder id="S3.Ex3.m2.4.4.1.1.3.2.2.1" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.cmml"><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.2" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.2.cmml">min</mi><msub id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.cmml"><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.2" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.2.cmml">𝒘</mi><msub id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.2" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.2.cmml">ℰ</mi><mrow id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.cmml"><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.2" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.3" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1a" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.4" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1b" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.5" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.5.cmml">a</mi></mrow></msub></msub></munder><mo lspace="0.167em" id="S3.Ex3.m2.4.4.1.1.3.2.2a" xref="S3.Ex3.m2.4.4.1.1.3.2.2.cmml">⁡</mo><mstyle displaystyle="true" id="S3.Ex3.m2.2.2" xref="S3.Ex3.m2.2.2.cmml"><mfrac id="S3.Ex3.m2.2.2a" xref="S3.Ex3.m2.2.2.cmml"><mn id="S3.Ex3.m2.2.2.3" xref="S3.Ex3.m2.2.2.3.cmml">1</mn><mrow id="S3.Ex3.m2.2.2.1.1" xref="S3.Ex3.m2.2.2.1.2.cmml"><mo stretchy="false" id="S3.Ex3.m2.2.2.1.1.2" xref="S3.Ex3.m2.2.2.1.2.1.cmml">|</mo><msub id="S3.Ex3.m2.2.2.1.1.1" xref="S3.Ex3.m2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m2.2.2.1.1.1.2" xref="S3.Ex3.m2.2.2.1.1.1.2.cmml">𝒟</mi><mrow id="S3.Ex3.m2.2.2.1.1.1.3" xref="S3.Ex3.m2.2.2.1.1.1.3.cmml"><mi id="S3.Ex3.m2.2.2.1.1.1.3.2" xref="S3.Ex3.m2.2.2.1.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.2.2.1.1.1.3.1" xref="S3.Ex3.m2.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.Ex3.m2.2.2.1.1.1.3.3" xref="S3.Ex3.m2.2.2.1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.2.2.1.1.1.3.1a" xref="S3.Ex3.m2.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.Ex3.m2.2.2.1.1.1.3.4" xref="S3.Ex3.m2.2.2.1.1.1.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.2.2.1.1.1.3.1b" xref="S3.Ex3.m2.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.Ex3.m2.2.2.1.1.1.3.5" xref="S3.Ex3.m2.2.2.1.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.2.2.1.1.1.3.1c" xref="S3.Ex3.m2.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.Ex3.m2.2.2.1.1.1.3.6" xref="S3.Ex3.m2.2.2.1.1.1.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.2.2.1.1.1.3.1d" xref="S3.Ex3.m2.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.Ex3.m2.2.2.1.1.1.3.7" xref="S3.Ex3.m2.2.2.1.1.1.3.7.cmml">c</mi></mrow></msub><mo stretchy="false" id="S3.Ex3.m2.2.2.1.1.3" xref="S3.Ex3.m2.2.2.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.3.1" xref="S3.Ex3.m2.4.4.1.1.3.1.cmml">​</mo><mrow id="S3.Ex3.m2.4.4.1.1.3.3" xref="S3.Ex3.m2.4.4.1.1.3.3.cmml"><mstyle displaystyle="true" id="S3.Ex3.m2.4.4.1.1.3.3.1" xref="S3.Ex3.m2.4.4.1.1.3.3.1.cmml"><munder id="S3.Ex3.m2.4.4.1.1.3.3.1a" xref="S3.Ex3.m2.4.4.1.1.3.3.1.cmml"><mo movablelimits="false" id="S3.Ex3.m2.4.4.1.1.3.3.1.2" xref="S3.Ex3.m2.4.4.1.1.3.3.1.2.cmml">∑</mo><mtable id="S3.Ex3.m2.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1a.2.cmml"><mtr id="S3.Ex3.m2.1.1.1.1.1.1a" xref="S3.Ex3.m2.1.1.1a.2.cmml"><mtd id="S3.Ex3.m2.1.1.1.1.1.1b" xref="S3.Ex3.m2.1.1.1a.2.cmml"><mrow id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.2.cmml">𝒟</mi><mrow id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1a" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.4" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1b" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.5" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1c" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.6" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1d" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.7" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.7.cmml">c</mi></mrow></msub></mrow></mtd></mtr></mtable></munder></mstyle><mrow id="S3.Ex3.m2.4.4.1.1.3.3.2" xref="S3.Ex3.m2.4.4.1.1.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m2.4.4.1.1.3.3.2.2" xref="S3.Ex3.m2.4.4.1.1.3.3.2.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.4.4.1.1.3.3.2.1" xref="S3.Ex3.m2.4.4.1.1.3.3.2.1.cmml">​</mo><mrow id="S3.Ex3.m2.4.4.1.1.3.3.2.3.2" xref="S3.Ex3.m2.4.4.1.1.3.3.2.cmml"><mo stretchy="false" id="S3.Ex3.m2.4.4.1.1.3.3.2.3.2.1" xref="S3.Ex3.m2.4.4.1.1.3.3.2.cmml">(</mo><mi id="S3.Ex3.m2.3.3" xref="S3.Ex3.m2.3.3.cmml">𝒙</mi><mo stretchy="false" id="S3.Ex3.m2.4.4.1.1.3.3.2.3.2.2" xref="S3.Ex3.m2.4.4.1.1.3.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.Ex3.m2.4.4.1.2" xref="S3.Ex3.m2.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m2.4b"><apply id="S3.Ex3.m2.4.4.1.1.cmml" xref="S3.Ex3.m2.4.4.1"><in id="S3.Ex3.m2.4.4.1.1.1.cmml" xref="S3.Ex3.m2.4.4.1.1.1"></in><apply id="S3.Ex3.m2.4.4.1.1.2.cmml" xref="S3.Ex3.m2.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.2.1.cmml" xref="S3.Ex3.m2.4.4.1.1.2">subscript</csymbol><ci id="S3.Ex3.m2.4.4.1.1.2.2.cmml" xref="S3.Ex3.m2.4.4.1.1.2.2">𝒘</ci><apply id="S3.Ex3.m2.4.4.1.1.2.3.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.2.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3">subscript</csymbol><ci id="S3.Ex3.m2.4.4.1.1.2.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.2">ℰ</ci><apply id="S3.Ex3.m2.4.4.1.1.2.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3"><times id="S3.Ex3.m2.4.4.1.1.2.3.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3.1"></times><ci id="S3.Ex3.m2.4.4.1.1.2.3.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3.2">𝑙</ci><ci id="S3.Ex3.m2.4.4.1.1.2.3.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3.3">𝑜</ci><ci id="S3.Ex3.m2.4.4.1.1.2.3.3.4.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3.4">𝑟</ci><ci id="S3.Ex3.m2.4.4.1.1.2.3.3.5.cmml" xref="S3.Ex3.m2.4.4.1.1.2.3.3.5">𝑎</ci></apply></apply></apply><apply id="S3.Ex3.m2.4.4.1.1.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3"><times id="S3.Ex3.m2.4.4.1.1.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.1"></times><apply id="S3.Ex3.m2.4.4.1.1.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2"><arg id="S3.Ex3.m2.4.4.1.1.3.2.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.1"></arg><apply id="S3.Ex3.m2.4.4.1.1.3.2.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2"><apply id="S3.Ex3.m2.4.4.1.1.3.2.2.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1">subscript</csymbol><min id="S3.Ex3.m2.4.4.1.1.3.2.2.1.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.2"></min><apply id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3">subscript</csymbol><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.2">𝒘</ci><apply id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3">subscript</csymbol><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.2">ℰ</ci><apply id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3"><times id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.1"></times><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.2">𝑙</ci><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.3">𝑜</ci><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.4.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.4">𝑟</ci><ci id="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.5.cmml" xref="S3.Ex3.m2.4.4.1.1.3.2.2.1.3.3.3.5">𝑎</ci></apply></apply></apply></apply><apply id="S3.Ex3.m2.2.2.cmml" xref="S3.Ex3.m2.2.2"><divide id="S3.Ex3.m2.2.2.2.cmml" xref="S3.Ex3.m2.2.2"></divide><cn type="integer" id="S3.Ex3.m2.2.2.3.cmml" xref="S3.Ex3.m2.2.2.3">1</cn><apply id="S3.Ex3.m2.2.2.1.2.cmml" xref="S3.Ex3.m2.2.2.1.1"><abs id="S3.Ex3.m2.2.2.1.2.1.cmml" xref="S3.Ex3.m2.2.2.1.1.2"></abs><apply id="S3.Ex3.m2.2.2.1.1.1.cmml" xref="S3.Ex3.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m2.2.2.1.1.1.1.cmml" xref="S3.Ex3.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.Ex3.m2.2.2.1.1.1.2.cmml" xref="S3.Ex3.m2.2.2.1.1.1.2">𝒟</ci><apply id="S3.Ex3.m2.2.2.1.1.1.3.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3"><times id="S3.Ex3.m2.2.2.1.1.1.3.1.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.1"></times><ci id="S3.Ex3.m2.2.2.1.1.1.3.2.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.2">𝑝</ci><ci id="S3.Ex3.m2.2.2.1.1.1.3.3.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.3">𝑢</ci><ci id="S3.Ex3.m2.2.2.1.1.1.3.4.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.4">𝑏</ci><ci id="S3.Ex3.m2.2.2.1.1.1.3.5.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.5">𝑙</ci><ci id="S3.Ex3.m2.2.2.1.1.1.3.6.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.6">𝑖</ci><ci id="S3.Ex3.m2.2.2.1.1.1.3.7.cmml" xref="S3.Ex3.m2.2.2.1.1.1.3.7">𝑐</ci></apply></apply></apply></apply></apply></apply><apply id="S3.Ex3.m2.4.4.1.1.3.3.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3"><apply id="S3.Ex3.m2.4.4.1.1.3.3.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.1.1.3.3.1.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.1">subscript</csymbol><sum id="S3.Ex3.m2.4.4.1.1.3.3.1.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.1.2"></sum><list id="S3.Ex3.m2.1.1.1a.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1"><matrix id="S3.Ex3.m2.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1"><matrixrow id="S3.Ex3.m2.1.1.1.1.1.1a.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1"><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1"><in id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1"></in><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.2">𝒙</ci><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.2">𝒟</ci><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3"><times id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.2">𝑝</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.3">𝑢</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.4">𝑏</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.5.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.5">𝑙</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.6.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.6">𝑖</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.7.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.3.3.7">𝑐</ci></apply></apply></apply></matrixrow></matrix></list></apply><apply id="S3.Ex3.m2.4.4.1.1.3.3.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.2"><times id="S3.Ex3.m2.4.4.1.1.3.3.2.1.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.2.1"></times><ci id="S3.Ex3.m2.4.4.1.1.3.3.2.2.cmml" xref="S3.Ex3.m2.4.4.1.1.3.3.2.2">ℒ</ci><ci id="S3.Ex3.m2.3.3.cmml" xref="S3.Ex3.m2.3.3">𝒙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m2.4c">\displaystyle\boldsymbol{w}_{\mathcal{E}_{lora}}\in\arg\min_{\boldsymbol{w}_{\mathcal{E}_{lora}}}\frac{1}{|\mathcal{D}_{public}|}\sum_{\begin{subarray}{c}\boldsymbol{x}\in\mathcal{D}_{public}\end{subarray}}\mathcal{L}(\boldsymbol{x}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex4.m1.4" class="ltx_Math" alttext="\displaystyle\mathcal{L}(\boldsymbol{x})\overset{\triangle}{=}\left\|\mathcal{E}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}}\right)-\mathcal{E}^{*}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}^{*}}\right)\right\|_{2}^{2}" display="inline"><semantics id="S3.Ex4.m1.4a"><mrow id="S3.Ex4.m1.4.4" xref="S3.Ex4.m1.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.4.4.3" xref="S3.Ex4.m1.4.4.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.4.4.2" xref="S3.Ex4.m1.4.4.2.cmml">​</mo><mrow id="S3.Ex4.m1.4.4.4.2" xref="S3.Ex4.m1.4.4.cmml"><mo stretchy="false" id="S3.Ex4.m1.4.4.4.2.1" xref="S3.Ex4.m1.4.4.cmml">(</mo><mi id="S3.Ex4.m1.1.1" xref="S3.Ex4.m1.1.1.cmml">𝒙</mi><mo stretchy="false" id="S3.Ex4.m1.4.4.4.2.2" xref="S3.Ex4.m1.4.4.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.4.4.2a" xref="S3.Ex4.m1.4.4.2.cmml">​</mo><mover accent="true" id="S3.Ex4.m1.4.4.5" xref="S3.Ex4.m1.4.4.5.cmml"><mo id="S3.Ex4.m1.4.4.5.2" xref="S3.Ex4.m1.4.4.5.2.cmml">=</mo><mo id="S3.Ex4.m1.4.4.5.1" xref="S3.Ex4.m1.4.4.5.1.cmml">△</mo></mover><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.4.4.2b" xref="S3.Ex4.m1.4.4.2.cmml">​</mo><msubsup id="S3.Ex4.m1.4.4.1" xref="S3.Ex4.m1.4.4.1.cmml"><mrow id="S3.Ex4.m1.4.4.1.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.2.cmml"><mo id="S3.Ex4.m1.4.4.1.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.2.1.cmml">‖</mo><mrow id="S3.Ex4.m1.4.4.1.1.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.cmml"><mrow id="S3.Ex4.m1.4.4.1.1.1.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.4.4.1.1.1.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.3.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.4.4.1.1.1.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.2.cmml"><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.Ex4.m1.2.2" xref="S3.Ex4.m1.2.2.cmml">𝒙</mi><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml">ℰ</mi></msub><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.4" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.Ex4.m1.4.4.1.1.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.cmml"><msup id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.2.cmml">ℰ</mi><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.3.cmml">∗</mo></msup><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.2.cmml"><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.Ex4.m1.3.3" xref="S3.Ex4.m1.3.3.cmml">𝒙</mi><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.2.cmml">;</mo><msub id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.2.cmml">𝒘</mi><msup id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.2" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.2.cmml">ℰ</mi><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.3" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.3.cmml">∗</mo></msup></msub><mo id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.4" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex4.m1.4.4.1.1.1.1.3" xref="S3.Ex4.m1.4.4.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.Ex4.m1.4.4.1.1.3" xref="S3.Ex4.m1.4.4.1.1.3.cmml">2</mn><mn id="S3.Ex4.m1.4.4.1.3" xref="S3.Ex4.m1.4.4.1.3.cmml">2</mn></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.4b"><apply id="S3.Ex4.m1.4.4.cmml" xref="S3.Ex4.m1.4.4"><times id="S3.Ex4.m1.4.4.2.cmml" xref="S3.Ex4.m1.4.4.2"></times><ci id="S3.Ex4.m1.4.4.3.cmml" xref="S3.Ex4.m1.4.4.3">ℒ</ci><ci id="S3.Ex4.m1.1.1.cmml" xref="S3.Ex4.m1.1.1">𝒙</ci><apply id="S3.Ex4.m1.4.4.5.cmml" xref="S3.Ex4.m1.4.4.5"><ci id="S3.Ex4.m1.4.4.5.1.cmml" xref="S3.Ex4.m1.4.4.5.1">△</ci><eq id="S3.Ex4.m1.4.4.5.2.cmml" xref="S3.Ex4.m1.4.4.5.2"></eq></apply><apply id="S3.Ex4.m1.4.4.1.cmml" xref="S3.Ex4.m1.4.4.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.2.cmml" xref="S3.Ex4.m1.4.4.1">superscript</csymbol><apply id="S3.Ex4.m1.4.4.1.1.cmml" xref="S3.Ex4.m1.4.4.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1">subscript</csymbol><apply id="S3.Ex4.m1.4.4.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.4.4.1.1.1.2.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.2">norm</csymbol><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1"><minus id="S3.Ex4.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.3"></minus><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1"><times id="S3.Ex4.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.2"></times><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.3">ℰ</ci><list id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1"><ci id="S3.Ex4.m1.2.2.cmml" xref="S3.Ex4.m1.2.2">𝒙</ci><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.1.1.1.1.3">ℰ</ci></apply></list></apply><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2"><times id="S3.Ex4.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.2"></times><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3">superscript</csymbol><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.2">ℰ</ci><times id="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.3.3"></times></apply><list id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1"><ci id="S3.Ex4.m1.3.3.cmml" xref="S3.Ex4.m1.3.3">𝒙</ci><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.2">𝒘</ci><apply id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.1.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3">superscript</csymbol><ci id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.2.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.2">ℰ</ci><times id="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.3.cmml" xref="S3.Ex4.m1.4.4.1.1.1.1.1.2.1.1.1.3.3"></times></apply></apply></list></apply></apply></apply><cn type="integer" id="S3.Ex4.m1.4.4.1.1.3.cmml" xref="S3.Ex4.m1.4.4.1.1.3">2</cn></apply><cn type="integer" id="S3.Ex4.m1.4.4.1.3.cmml" xref="S3.Ex4.m1.4.4.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.4c">\displaystyle\mathcal{L}(\boldsymbol{x})\overset{\triangle}{=}\left\|\mathcal{E}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}}\right)-\mathcal{E}^{*}\left(\boldsymbol{x};\boldsymbol{w}_{\mathcal{E}^{*}}\right)\right\|_{2}^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7.m1.3" class="ltx_Math" alttext="\displaystyle\qquad\quad+\lambda\cdot D_{KL}\left(\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\})\|\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\})\right)" display="inline"><semantics id="S3.E7.m1.3a"><mrow id="S3.E7.m1.3.3" xref="S3.E7.m1.3.3.cmml"><mo id="S3.E7.m1.3.3a" xref="S3.E7.m1.3.3.cmml">+</mo><mrow id="S3.E7.m1.3.3.1" xref="S3.E7.m1.3.3.1.cmml"><mrow id="S3.E7.m1.3.3.1.3" xref="S3.E7.m1.3.3.1.3.cmml"><mi id="S3.E7.m1.3.3.1.3.2" xref="S3.E7.m1.3.3.1.3.2.cmml">λ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E7.m1.3.3.1.3.1" xref="S3.E7.m1.3.3.1.3.1.cmml">⋅</mo><msub id="S3.E7.m1.3.3.1.3.3" xref="S3.E7.m1.3.3.1.3.3.cmml"><mi id="S3.E7.m1.3.3.1.3.3.2" xref="S3.E7.m1.3.3.1.3.3.2.cmml">D</mi><mrow id="S3.E7.m1.3.3.1.3.3.3" xref="S3.E7.m1.3.3.1.3.3.3.cmml"><mi id="S3.E7.m1.3.3.1.3.3.3.2" xref="S3.E7.m1.3.3.1.3.3.3.2.cmml">K</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.3.3.1.3.3.3.1" xref="S3.E7.m1.3.3.1.3.3.3.1.cmml">​</mo><mi id="S3.E7.m1.3.3.1.3.3.3.3" xref="S3.E7.m1.3.3.1.3.3.3.3.cmml">L</mi></mrow></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E7.m1.3.3.1.2" xref="S3.E7.m1.3.3.1.2.cmml">​</mo><mrow id="S3.E7.m1.3.3.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.cmml"><mo id="S3.E7.m1.3.3.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.3.3.1.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E7.m1.3.3.1.1.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.1.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.3.3.1.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E7.m1.3.3.1.1.1.1.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml">𝒙</mi><mo id="S3.E7.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.1.1.2.cmml">;</mo><mrow id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">{</mo><msub id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.4" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml">𝒘</mi><msup id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.2.cmml">ℰ</mi><mo id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.3" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.3.cmml">∗</mo></msup></msub><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.5" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.4" xref="S3.E7.m1.3.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.3.3.1.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.3.cmml">∥</mo><mrow id="S3.E7.m1.3.3.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.2.3" xref="S3.E7.m1.3.3.1.1.1.1.2.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.3.3.1.1.1.1.2.2" xref="S3.E7.m1.3.3.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E7.m1.3.3.1.1.1.1.2.1.1" xref="S3.E7.m1.3.3.1.1.1.1.2.1.2.cmml"><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E7.m1.2.2" xref="S3.E7.m1.2.2.cmml">𝒙</mi><mo id="S3.E7.m1.3.3.1.1.1.1.2.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.2.1.2.cmml">;</mo><mrow id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.3.cmml"><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.3" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.3.cmml">{</mo><msub id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.4" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.3.cmml">,</mo><msub id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.cmml"><mi id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.2" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.5" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.4" xref="S3.E7.m1.3.3.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E7.m1.3.3.1.1.1.3" xref="S3.E7.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.3b"><apply id="S3.E7.m1.3.3.cmml" xref="S3.E7.m1.3.3"><plus id="S3.E7.m1.3.3.2.cmml" xref="S3.E7.m1.3.3"></plus><apply id="S3.E7.m1.3.3.1.cmml" xref="S3.E7.m1.3.3.1"><times id="S3.E7.m1.3.3.1.2.cmml" xref="S3.E7.m1.3.3.1.2"></times><apply id="S3.E7.m1.3.3.1.3.cmml" xref="S3.E7.m1.3.3.1.3"><ci id="S3.E7.m1.3.3.1.3.1.cmml" xref="S3.E7.m1.3.3.1.3.1">⋅</ci><ci id="S3.E7.m1.3.3.1.3.2.cmml" xref="S3.E7.m1.3.3.1.3.2">𝜆</ci><apply id="S3.E7.m1.3.3.1.3.3.cmml" xref="S3.E7.m1.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.3.3.1.cmml" xref="S3.E7.m1.3.3.1.3.3">subscript</csymbol><ci id="S3.E7.m1.3.3.1.3.3.2.cmml" xref="S3.E7.m1.3.3.1.3.3.2">𝐷</ci><apply id="S3.E7.m1.3.3.1.3.3.3.cmml" xref="S3.E7.m1.3.3.1.3.3.3"><times id="S3.E7.m1.3.3.1.3.3.3.1.cmml" xref="S3.E7.m1.3.3.1.3.3.3.1"></times><ci id="S3.E7.m1.3.3.1.3.3.3.2.cmml" xref="S3.E7.m1.3.3.1.3.3.3.2">𝐾</ci><ci id="S3.E7.m1.3.3.1.3.3.3.3.cmml" xref="S3.E7.m1.3.3.1.3.3.3.3">𝐿</ci></apply></apply></apply><apply id="S3.E7.m1.3.3.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.3.3.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.3">conditional</csymbol><apply id="S3.E7.m1.3.3.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1"><times id="S3.E7.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.2"></times><ci id="S3.E7.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.3">ℳ</ci><list id="S3.E7.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1"><ci id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1">𝒙</ci><set id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2"><apply id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.2">𝒘</ci><apply id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3">superscript</csymbol><ci id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.2">ℰ</ci><times id="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.1.1.1.1.2.2.3.3"></times></apply></apply></set></list></apply><apply id="S3.E7.m1.3.3.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2"><times id="S3.E7.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.2"></times><ci id="S3.E7.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.3">ℳ</ci><list id="S3.E7.m1.3.3.1.1.1.1.2.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1"><ci id="S3.E7.m1.2.2.cmml" xref="S3.E7.m1.2.2">𝒙</ci><set id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2"><apply id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.2">𝒘</ci><ci id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.1.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.2">𝒘</ci><ci id="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.3.cmml" xref="S3.E7.m1.3.3.1.1.1.1.2.1.1.1.2.2.3">ℰ</ci></apply></set></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.3c">\displaystyle\qquad\quad+\lambda\cdot D_{KL}\left(\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\})\|\mathcal{M}(\boldsymbol{x};\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\})\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.9" class="ltx_p">where <math id="S3.SS2.p2.3.m1.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}" display="inline"><semantics id="S3.SS2.p2.3.m1.1a"><msubsup id="S3.SS2.p2.3.m1.1.2" xref="S3.SS2.p2.3.m1.1.2.cmml"><mi id="S3.SS2.p2.3.m1.1.2.2.2" xref="S3.SS2.p2.3.m1.1.2.2.2.cmml">𝒘</mi><msub id="S3.SS2.p2.3.m1.1.2.2.3" xref="S3.SS2.p2.3.m1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m1.1.2.2.3.2" xref="S3.SS2.p2.3.m1.1.2.2.3.2.cmml">𝒜</mi><mrow id="S3.SS2.p2.3.m1.1.2.2.3.3" xref="S3.SS2.p2.3.m1.1.2.2.3.3.cmml"><mi id="S3.SS2.p2.3.m1.1.2.2.3.3.2" xref="S3.SS2.p2.3.m1.1.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.3.m1.1.2.2.3.3.1" xref="S3.SS2.p2.3.m1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.3.m1.1.2.2.3.3.3" xref="S3.SS2.p2.3.m1.1.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.3.m1.1.2.2.3.3.1a" xref="S3.SS2.p2.3.m1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.3.m1.1.2.2.3.3.4" xref="S3.SS2.p2.3.m1.1.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.3.m1.1.2.2.3.3.1b" xref="S3.SS2.p2.3.m1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.3.m1.1.2.2.3.3.5" xref="S3.SS2.p2.3.m1.1.2.2.3.3.5.cmml">a</mi></mrow></msub><mrow id="S3.SS2.p2.3.m1.1.1.1.3" xref="S3.SS2.p2.3.m1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.3.m1.1.1.1.3.1" xref="S3.SS2.p2.3.m1.1.2.cmml">(</mo><mi id="S3.SS2.p2.3.m1.1.1.1.1" xref="S3.SS2.p2.3.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S3.SS2.p2.3.m1.1.1.1.3.2" xref="S3.SS2.p2.3.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m1.1b"><apply id="S3.SS2.p2.3.m1.1.2.cmml" xref="S3.SS2.p2.3.m1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m1.1.2.1.cmml" xref="S3.SS2.p2.3.m1.1.2">superscript</csymbol><apply id="S3.SS2.p2.3.m1.1.2.2.cmml" xref="S3.SS2.p2.3.m1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m1.1.2.2.1.cmml" xref="S3.SS2.p2.3.m1.1.2">subscript</csymbol><ci id="S3.SS2.p2.3.m1.1.2.2.2.cmml" xref="S3.SS2.p2.3.m1.1.2.2.2">𝒘</ci><apply id="S3.SS2.p2.3.m1.1.2.2.3.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m1.1.2.2.3.1.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3">subscript</csymbol><ci id="S3.SS2.p2.3.m1.1.2.2.3.2.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.2">𝒜</ci><apply id="S3.SS2.p2.3.m1.1.2.2.3.3.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3"><times id="S3.SS2.p2.3.m1.1.2.2.3.3.1.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3.1"></times><ci id="S3.SS2.p2.3.m1.1.2.2.3.3.2.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3.2">𝑙</ci><ci id="S3.SS2.p2.3.m1.1.2.2.3.3.3.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3.3">𝑜</ci><ci id="S3.SS2.p2.3.m1.1.2.2.3.3.4.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3.4">𝑟</ci><ci id="S3.SS2.p2.3.m1.1.2.2.3.3.5.cmml" xref="S3.SS2.p2.3.m1.1.2.2.3.3.5">𝑎</ci></apply></apply></apply><ci id="S3.SS2.p2.3.m1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m1.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m1.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}</annotation></semantics></math> is the adapter LoRA received at the beginning of each communication round, <math id="S3.SS2.p2.4.m2.1" class="ltx_Math" alttext="\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}" display="inline"><semantics id="S3.SS2.p2.4.m2.1a"><msub id="S3.SS2.p2.4.m2.1.1" xref="S3.SS2.p2.4.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p2.4.m2.1.1.2" xref="S3.SS2.p2.4.m2.1.1.2.cmml"><mi id="S3.SS2.p2.4.m2.1.1.2.2" xref="S3.SS2.p2.4.m2.1.1.2.2.cmml">𝒘</mi><mo id="S3.SS2.p2.4.m2.1.1.2.1" xref="S3.SS2.p2.4.m2.1.1.2.1.cmml">^</mo></mover><msub id="S3.SS2.p2.4.m2.1.1.3" xref="S3.SS2.p2.4.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.4.m2.1.1.3.2" xref="S3.SS2.p2.4.m2.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS2.p2.4.m2.1.1.3.3" xref="S3.SS2.p2.4.m2.1.1.3.3.cmml"><mi id="S3.SS2.p2.4.m2.1.1.3.3.2" xref="S3.SS2.p2.4.m2.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m2.1.1.3.3.1" xref="S3.SS2.p2.4.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.4.m2.1.1.3.3.3" xref="S3.SS2.p2.4.m2.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m2.1.1.3.3.1a" xref="S3.SS2.p2.4.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.4.m2.1.1.3.3.4" xref="S3.SS2.p2.4.m2.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m2.1.1.3.3.1b" xref="S3.SS2.p2.4.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.4.m2.1.1.3.3.5" xref="S3.SS2.p2.4.m2.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m2.1b"><apply id="S3.SS2.p2.4.m2.1.1.cmml" xref="S3.SS2.p2.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m2.1.1.1.cmml" xref="S3.SS2.p2.4.m2.1.1">subscript</csymbol><apply id="S3.SS2.p2.4.m2.1.1.2.cmml" xref="S3.SS2.p2.4.m2.1.1.2"><ci id="S3.SS2.p2.4.m2.1.1.2.1.cmml" xref="S3.SS2.p2.4.m2.1.1.2.1">^</ci><ci id="S3.SS2.p2.4.m2.1.1.2.2.cmml" xref="S3.SS2.p2.4.m2.1.1.2.2">𝒘</ci></apply><apply id="S3.SS2.p2.4.m2.1.1.3.cmml" xref="S3.SS2.p2.4.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m2.1.1.3.1.cmml" xref="S3.SS2.p2.4.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.4.m2.1.1.3.2.cmml" xref="S3.SS2.p2.4.m2.1.1.3.2">𝒜</ci><apply id="S3.SS2.p2.4.m2.1.1.3.3.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3"><times id="S3.SS2.p2.4.m2.1.1.3.3.1.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3.1"></times><ci id="S3.SS2.p2.4.m2.1.1.3.3.2.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3.2">𝑙</ci><ci id="S3.SS2.p2.4.m2.1.1.3.3.3.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3.3">𝑜</ci><ci id="S3.SS2.p2.4.m2.1.1.3.3.4.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3.4">𝑟</ci><ci id="S3.SS2.p2.4.m2.1.1.3.3.5.cmml" xref="S3.SS2.p2.4.m2.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m2.1c">\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}</annotation></semantics></math> reconstructs for the same size of the adapter <math id="S3.SS2.p2.5.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}}" display="inline"><semantics id="S3.SS2.p2.5.m3.1a"><msub id="S3.SS2.p2.5.m3.1.1" xref="S3.SS2.p2.5.m3.1.1.cmml"><mi id="S3.SS2.p2.5.m3.1.1.2" xref="S3.SS2.p2.5.m3.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.5.m3.1.1.3" xref="S3.SS2.p2.5.m3.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m3.1b"><apply id="S3.SS2.p2.5.m3.1.1.cmml" xref="S3.SS2.p2.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m3.1.1.1.cmml" xref="S3.SS2.p2.5.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m3.1.1.2.cmml" xref="S3.SS2.p2.5.m3.1.1.2">𝒘</ci><ci id="S3.SS2.p2.5.m3.1.1.3.cmml" xref="S3.SS2.p2.5.m3.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m3.1c">\boldsymbol{w}_{\mathcal{A}}</annotation></semantics></math>. <math id="S3.SS2.p2.6.m4.1" class="ltx_Math" alttext="\mathcal{D}_{public}" display="inline"><semantics id="S3.SS2.p2.6.m4.1a"><msub id="S3.SS2.p2.6.m4.1.1" xref="S3.SS2.p2.6.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.6.m4.1.1.2" xref="S3.SS2.p2.6.m4.1.1.2.cmml">𝒟</mi><mrow id="S3.SS2.p2.6.m4.1.1.3" xref="S3.SS2.p2.6.m4.1.1.3.cmml"><mi id="S3.SS2.p2.6.m4.1.1.3.2" xref="S3.SS2.p2.6.m4.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m4.1.1.3.1" xref="S3.SS2.p2.6.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.6.m4.1.1.3.3" xref="S3.SS2.p2.6.m4.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m4.1.1.3.1a" xref="S3.SS2.p2.6.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.6.m4.1.1.3.4" xref="S3.SS2.p2.6.m4.1.1.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m4.1.1.3.1b" xref="S3.SS2.p2.6.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.6.m4.1.1.3.5" xref="S3.SS2.p2.6.m4.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m4.1.1.3.1c" xref="S3.SS2.p2.6.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.6.m4.1.1.3.6" xref="S3.SS2.p2.6.m4.1.1.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m4.1.1.3.1d" xref="S3.SS2.p2.6.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.6.m4.1.1.3.7" xref="S3.SS2.p2.6.m4.1.1.3.7.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m4.1b"><apply id="S3.SS2.p2.6.m4.1.1.cmml" xref="S3.SS2.p2.6.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m4.1.1.1.cmml" xref="S3.SS2.p2.6.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m4.1.1.2.cmml" xref="S3.SS2.p2.6.m4.1.1.2">𝒟</ci><apply id="S3.SS2.p2.6.m4.1.1.3.cmml" xref="S3.SS2.p2.6.m4.1.1.3"><times id="S3.SS2.p2.6.m4.1.1.3.1.cmml" xref="S3.SS2.p2.6.m4.1.1.3.1"></times><ci id="S3.SS2.p2.6.m4.1.1.3.2.cmml" xref="S3.SS2.p2.6.m4.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.6.m4.1.1.3.3.cmml" xref="S3.SS2.p2.6.m4.1.1.3.3">𝑢</ci><ci id="S3.SS2.p2.6.m4.1.1.3.4.cmml" xref="S3.SS2.p2.6.m4.1.1.3.4">𝑏</ci><ci id="S3.SS2.p2.6.m4.1.1.3.5.cmml" xref="S3.SS2.p2.6.m4.1.1.3.5">𝑙</ci><ci id="S3.SS2.p2.6.m4.1.1.3.6.cmml" xref="S3.SS2.p2.6.m4.1.1.3.6">𝑖</ci><ci id="S3.SS2.p2.6.m4.1.1.3.7.cmml" xref="S3.SS2.p2.6.m4.1.1.3.7">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m4.1c">\mathcal{D}_{public}</annotation></semantics></math> represents the public dataset on the server, which can be unlabeled. <math id="S3.SS2.p2.7.m5.1" class="ltx_math_unparsed" alttext="D_{KL}(\cdot\|\cdot)" display="inline"><semantics id="S3.SS2.p2.7.m5.1a"><mrow id="S3.SS2.p2.7.m5.1b"><msub id="S3.SS2.p2.7.m5.1.1"><mi id="S3.SS2.p2.7.m5.1.1.2">D</mi><mrow id="S3.SS2.p2.7.m5.1.1.3"><mi id="S3.SS2.p2.7.m5.1.1.3.2">K</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m5.1.1.3.1">​</mo><mi id="S3.SS2.p2.7.m5.1.1.3.3">L</mi></mrow></msub><mrow id="S3.SS2.p2.7.m5.1.2"><mo stretchy="false" id="S3.SS2.p2.7.m5.1.2.1">(</mo><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m5.1.2.2">⋅</mo><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m5.1.2.3">∥</mo><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m5.1.2.4">⋅</mo><mo stretchy="false" id="S3.SS2.p2.7.m5.1.2.5">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m5.1c">D_{KL}(\cdot\|\cdot)</annotation></semantics></math> is the KL divergence between two logits. <math id="S3.SS2.p2.8.m6.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S3.SS2.p2.8.m6.1a"><mi id="S3.SS2.p2.8.m6.1.1" xref="S3.SS2.p2.8.m6.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m6.1b"><ci id="S3.SS2.p2.8.m6.1.1.cmml" xref="S3.SS2.p2.8.m6.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m6.1c">\epsilon</annotation></semantics></math> and <math id="S3.SS2.p2.9.m7.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS2.p2.9.m7.1a"><mi id="S3.SS2.p2.9.m7.1.1" xref="S3.SS2.p2.9.m7.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m7.1b"><ci id="S3.SS2.p2.9.m7.1.1.cmml" xref="S3.SS2.p2.9.m7.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m7.1c">\lambda</annotation></semantics></math> are hyperparameters.</p>
</div>
<section id="S3.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">The upper-level objective (Equation (<a href="#S3.E6" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>)).</h4>

<div id="S3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p1.1" class="ltx_p">The upper-level objective function consists of two terms. The first term represents the loss of the model on local clients’ data, with the current emulator and adapter. It follows a classic weighted average loss in FL to balance the loss of different clients’ heterogeneous local data. The goal of introducing this term is straightforward: by minimizing the loss of the first term, we expect the emulator-adapter combination to be improved on the local training set. The second term is a regularization of the adapter component to ensure it will be within a reasonable distance from the synchronized and broadcast adapter at the beginning of each communication round. Enforcing a restriction on the adapter’s change can reduce the difference of losses for the emulator distillation after locally adapter are tuned locally on clients, so it can help the convergence of emulator distillation.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">The lower-level objective (Equation (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)).</h4>

<div id="S3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px2.p1.1" class="ltx_p">The first term in the constraint is the <math id="S3.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">ℓ</mi><mn id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.1.m1.1c">\ell_{2}</annotation></semantics></math>-norm difference between the activation output by the emulator and the full model. The second term is the KL divergence between the output of output distribution of the full model-adapter combination and the emulator-adapter. Although only the emulator is trainable to minimize the loss of these two terms, these two terms provide different optimization meaning for the emulator. The first term encourages the emulator to provide activations as close as possible to the full model, <em id="S3.SS2.SSS0.Px2.p1.1.1" class="ltx_emph ltx_font_italic">excluding</em> the effect of the adapter. The second term ensures the emulator can provide output distributions close to the one when the full model with adapters is added on.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Discussion.</h4>

<div id="S3.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px3.p1.1" class="ltx_p">The introduced algorithm can optimize the bi-level problems (i.e., Equation (<a href="#S3.E6" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) and (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)) to an equilibrium point for both adapter and emulator. This is because when we optimize the adapter, the fixed emulator constrains its updates, and vice versa, and thereby, the emulator and adapter are distilled or trained interchangeably. At this equilibrium, the emulator can more faithfully extract and encode the information for the clients’ dataset and benefit from the training of the adapter in reverse.</p>
</div>
<div id="S3.SS2.SSS0.Px3.p2" class="ltx_para">
<p id="S3.SS2.SSS0.Px3.p2.2" class="ltx_p">Additionally, <span id="S3.SS2.SSS0.Px3.p2.2.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> does not require the design of an emulator to follow linear dropout. Instead, this is a general framework that compresses an LLM and divides it into two components: an emulator and an adapter. There are numerous designs for the emulator, but they share the same objective where the emulator simulates the non-compressed part of an LLM. For simplicity, we follow offsite-tuning <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> and prepare the emulator by means of uniform layer dropout <cite class="ltx_cite ltx_citemacro_citep">(Sajjad et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2023</a>)</cite> to demonstrate the effectiveness of <span id="S3.SS2.SSS0.Px3.p2.2.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>.</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.16.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> <span id="alg2.17.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> </figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg2.13.11" class="ltx_p ltx_figure_panel ltx_align_left"><span id="alg2.13.11.1" class="ltx_text ltx_font_bold">Input:</span> learning rate <math id="alg2.3.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg2.3.1.m1.1a"><mi id="alg2.3.1.m1.1.1" xref="alg2.3.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg2.3.1.m1.1b"><ci id="alg2.3.1.m1.1.1.cmml" xref="alg2.3.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.3.1.m1.1c">\eta</annotation></semantics></math>, local updates <math id="alg2.4.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg2.4.2.m2.1a"><mi id="alg2.4.2.m2.1.1" xref="alg2.4.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg2.4.2.m2.1b"><ci id="alg2.4.2.m2.1.1.cmml" xref="alg2.4.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.4.2.m2.1c">K</annotation></semantics></math>, global model alignment steps <math id="alg2.5.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg2.5.3.m3.1a"><mi id="alg2.5.3.m3.1.1" xref="alg2.5.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg2.5.3.m3.1b"><ci id="alg2.5.3.m3.1.1.cmml" xref="alg2.5.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.5.3.m3.1c">E</annotation></semantics></math>, strength of full model alignment <math id="alg2.6.4.m4.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="alg2.6.4.m4.1a"><mi id="alg2.6.4.m4.1.1" xref="alg2.6.4.m4.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="alg2.6.4.m4.1b"><ci id="alg2.6.4.m4.1.1.cmml" xref="alg2.6.4.m4.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.6.4.m4.1c">\lambda</annotation></semantics></math>, local update regularization <math id="alg2.7.5.m5.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="alg2.7.5.m5.1a"><mi id="alg2.7.5.m5.1.1" xref="alg2.7.5.m5.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="alg2.7.5.m5.1b"><ci id="alg2.7.5.m5.1.1.cmml" xref="alg2.7.5.m5.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.7.5.m5.1c">\epsilon</annotation></semantics></math>, total communication rounds <math id="alg2.8.6.m6.1" class="ltx_Math" alttext="R" display="inline"><semantics id="alg2.8.6.m6.1a"><mi id="alg2.8.6.m6.1.1" xref="alg2.8.6.m6.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="alg2.8.6.m6.1b"><ci id="alg2.8.6.m6.1.1.cmml" xref="alg2.8.6.m6.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.8.6.m6.1c">R</annotation></semantics></math>, pre-trained LLM <math id="alg2.9.7.m7.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="alg2.9.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="alg2.9.7.m7.1.1" xref="alg2.9.7.m7.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="alg2.9.7.m7.1b"><ci id="alg2.9.7.m7.1.1.cmml" xref="alg2.9.7.m7.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.9.7.m7.1c">\mathcal{M}</annotation></semantics></math> with parameter <math id="alg2.10.8.m8.1" class="ltx_Math" alttext="\boldsymbol{w}" display="inline"><semantics id="alg2.10.8.m8.1a"><mi id="alg2.10.8.m8.1.1" xref="alg2.10.8.m8.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="alg2.10.8.m8.1b"><ci id="alg2.10.8.m8.1.1.cmml" xref="alg2.10.8.m8.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.10.8.m8.1c">\boldsymbol{w}</annotation></semantics></math>, adapter size <math id="alg2.11.9.m9.1" class="ltx_Math" alttext="s" display="inline"><semantics id="alg2.11.9.m9.1a"><mi id="alg2.11.9.m9.1.1" xref="alg2.11.9.m9.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="alg2.11.9.m9.1b"><ci id="alg2.11.9.m9.1.1.cmml" xref="alg2.11.9.m9.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.11.9.m9.1c">s</annotation></semantics></math>, dropout rate <math id="alg2.12.10.m10.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="alg2.12.10.m10.1a"><mi id="alg2.12.10.m10.1.1" xref="alg2.12.10.m10.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="alg2.12.10.m10.1b"><ci id="alg2.12.10.m10.1.1.cmml" xref="alg2.12.10.m10.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.12.10.m10.1c">\beta</annotation></semantics></math>, number of clients <math id="alg2.13.11.m11.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg2.13.11.m11.1a"><mi id="alg2.13.11.m11.1.1" xref="alg2.13.11.m11.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg2.13.11.m11.1b"><ci id="alg2.13.11.m11.1.1.cmml" xref="alg2.13.11.m11.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.13.11.m11.1c">M</annotation></semantics></math>.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg2.18" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.2.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><math id="alg2.l1.m1.6" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}},\boldsymbol{w}_{\mathcal{E}^{*}}\leftarrow\textsf{LayerExtract}(\mathcal{M},s,\beta)" display="inline"><semantics id="alg2.l1.m1.6a"><mrow id="alg2.l1.m1.6.6" xref="alg2.l1.m1.6.6.cmml"><mrow id="alg2.l1.m1.6.6.3.3" xref="alg2.l1.m1.6.6.3.4.cmml"><msub id="alg2.l1.m1.4.4.1.1.1" xref="alg2.l1.m1.4.4.1.1.1.cmml"><mi id="alg2.l1.m1.4.4.1.1.1.2" xref="alg2.l1.m1.4.4.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l1.m1.4.4.1.1.1.3" xref="alg2.l1.m1.4.4.1.1.1.3.cmml">𝒜</mi></msub><mo id="alg2.l1.m1.6.6.3.3.4" xref="alg2.l1.m1.6.6.3.4.cmml">,</mo><msub id="alg2.l1.m1.5.5.2.2.2" xref="alg2.l1.m1.5.5.2.2.2.cmml"><mi id="alg2.l1.m1.5.5.2.2.2.2" xref="alg2.l1.m1.5.5.2.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l1.m1.5.5.2.2.2.3" xref="alg2.l1.m1.5.5.2.2.2.3.cmml">ℰ</mi></msub><mo id="alg2.l1.m1.6.6.3.3.5" xref="alg2.l1.m1.6.6.3.4.cmml">,</mo><msub id="alg2.l1.m1.6.6.3.3.3" xref="alg2.l1.m1.6.6.3.3.3.cmml"><mi id="alg2.l1.m1.6.6.3.3.3.2" xref="alg2.l1.m1.6.6.3.3.3.2.cmml">𝒘</mi><msup id="alg2.l1.m1.6.6.3.3.3.3" xref="alg2.l1.m1.6.6.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l1.m1.6.6.3.3.3.3.2" xref="alg2.l1.m1.6.6.3.3.3.3.2.cmml">ℰ</mi><mo id="alg2.l1.m1.6.6.3.3.3.3.3" xref="alg2.l1.m1.6.6.3.3.3.3.3.cmml">∗</mo></msup></msub></mrow><mo stretchy="false" id="alg2.l1.m1.6.6.4" xref="alg2.l1.m1.6.6.4.cmml">←</mo><mrow id="alg2.l1.m1.6.6.5" xref="alg2.l1.m1.6.6.5.cmml"><mtext class="ltx_mathvariant_sans-serif" id="alg2.l1.m1.6.6.5.2" xref="alg2.l1.m1.6.6.5.2a.cmml">LayerExtract</mtext><mo lspace="0em" rspace="0em" id="alg2.l1.m1.6.6.5.1" xref="alg2.l1.m1.6.6.5.1.cmml">​</mo><mrow id="alg2.l1.m1.6.6.5.3.2" xref="alg2.l1.m1.6.6.5.3.1.cmml"><mo stretchy="false" id="alg2.l1.m1.6.6.5.3.2.1" xref="alg2.l1.m1.6.6.5.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml">ℳ</mi><mo id="alg2.l1.m1.6.6.5.3.2.2" xref="alg2.l1.m1.6.6.5.3.1.cmml">,</mo><mi id="alg2.l1.m1.2.2" xref="alg2.l1.m1.2.2.cmml">s</mi><mo id="alg2.l1.m1.6.6.5.3.2.3" xref="alg2.l1.m1.6.6.5.3.1.cmml">,</mo><mi id="alg2.l1.m1.3.3" xref="alg2.l1.m1.3.3.cmml">β</mi><mo stretchy="false" id="alg2.l1.m1.6.6.5.3.2.4" xref="alg2.l1.m1.6.6.5.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.6b"><apply id="alg2.l1.m1.6.6.cmml" xref="alg2.l1.m1.6.6"><ci id="alg2.l1.m1.6.6.4.cmml" xref="alg2.l1.m1.6.6.4">←</ci><list id="alg2.l1.m1.6.6.3.4.cmml" xref="alg2.l1.m1.6.6.3.3"><apply id="alg2.l1.m1.4.4.1.1.1.cmml" xref="alg2.l1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="alg2.l1.m1.4.4.1.1.1.1.cmml" xref="alg2.l1.m1.4.4.1.1.1">subscript</csymbol><ci id="alg2.l1.m1.4.4.1.1.1.2.cmml" xref="alg2.l1.m1.4.4.1.1.1.2">𝒘</ci><ci id="alg2.l1.m1.4.4.1.1.1.3.cmml" xref="alg2.l1.m1.4.4.1.1.1.3">𝒜</ci></apply><apply id="alg2.l1.m1.5.5.2.2.2.cmml" xref="alg2.l1.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="alg2.l1.m1.5.5.2.2.2.1.cmml" xref="alg2.l1.m1.5.5.2.2.2">subscript</csymbol><ci id="alg2.l1.m1.5.5.2.2.2.2.cmml" xref="alg2.l1.m1.5.5.2.2.2.2">𝒘</ci><ci id="alg2.l1.m1.5.5.2.2.2.3.cmml" xref="alg2.l1.m1.5.5.2.2.2.3">ℰ</ci></apply><apply id="alg2.l1.m1.6.6.3.3.3.cmml" xref="alg2.l1.m1.6.6.3.3.3"><csymbol cd="ambiguous" id="alg2.l1.m1.6.6.3.3.3.1.cmml" xref="alg2.l1.m1.6.6.3.3.3">subscript</csymbol><ci id="alg2.l1.m1.6.6.3.3.3.2.cmml" xref="alg2.l1.m1.6.6.3.3.3.2">𝒘</ci><apply id="alg2.l1.m1.6.6.3.3.3.3.cmml" xref="alg2.l1.m1.6.6.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l1.m1.6.6.3.3.3.3.1.cmml" xref="alg2.l1.m1.6.6.3.3.3.3">superscript</csymbol><ci id="alg2.l1.m1.6.6.3.3.3.3.2.cmml" xref="alg2.l1.m1.6.6.3.3.3.3.2">ℰ</ci><times id="alg2.l1.m1.6.6.3.3.3.3.3.cmml" xref="alg2.l1.m1.6.6.3.3.3.3.3"></times></apply></apply></list><apply id="alg2.l1.m1.6.6.5.cmml" xref="alg2.l1.m1.6.6.5"><times id="alg2.l1.m1.6.6.5.1.cmml" xref="alg2.l1.m1.6.6.5.1"></times><ci id="alg2.l1.m1.6.6.5.2a.cmml" xref="alg2.l1.m1.6.6.5.2"><mtext class="ltx_mathvariant_sans-serif" id="alg2.l1.m1.6.6.5.2.cmml" xref="alg2.l1.m1.6.6.5.2">LayerExtract</mtext></ci><vector id="alg2.l1.m1.6.6.5.3.1.cmml" xref="alg2.l1.m1.6.6.5.3.2"><ci id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1">ℳ</ci><ci id="alg2.l1.m1.2.2.cmml" xref="alg2.l1.m1.2.2">𝑠</ci><ci id="alg2.l1.m1.3.3.cmml" xref="alg2.l1.m1.3.3">𝛽</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.6c">\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}},\boldsymbol{w}_{\mathcal{E}^{*}}\leftarrow\textsf{LayerExtract}(\mathcal{M},s,\beta)</annotation></semantics></math> <span id="alg2.l1.1" class="ltx_text" style="float:right;"><math id="alg2.l1.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg2.l1.1.m1.1a"><mo id="alg2.l1.1.m1.1.1" xref="alg2.l1.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg2.l1.1.m1.1b"><ci id="alg2.l1.1.m1.1.1.cmml" xref="alg2.l1.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.1.m1.1c">\triangleright</annotation></semantics></math> See Algo. <a href="#alg1" title="Algorithm 1 ‣ Step 2: Layer dropout to form emulator. ‣ 3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> for details
</span>
</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg2.l2.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l2.m1.3" class="ltx_Math" alttext="t=0,\dots,R-1" display="inline"><semantics id="alg2.l2.m1.3a"><mrow id="alg2.l2.m1.3.3" xref="alg2.l2.m1.3.3.cmml"><mi id="alg2.l2.m1.3.3.3" xref="alg2.l2.m1.3.3.3.cmml">t</mi><mo id="alg2.l2.m1.3.3.2" xref="alg2.l2.m1.3.3.2.cmml">=</mo><mrow id="alg2.l2.m1.3.3.1.1" xref="alg2.l2.m1.3.3.1.2.cmml"><mn id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml">0</mn><mo id="alg2.l2.m1.3.3.1.1.2" xref="alg2.l2.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="alg2.l2.m1.2.2" xref="alg2.l2.m1.2.2.cmml">…</mi><mo id="alg2.l2.m1.3.3.1.1.3" xref="alg2.l2.m1.3.3.1.2.cmml">,</mo><mrow id="alg2.l2.m1.3.3.1.1.1" xref="alg2.l2.m1.3.3.1.1.1.cmml"><mi id="alg2.l2.m1.3.3.1.1.1.2" xref="alg2.l2.m1.3.3.1.1.1.2.cmml">R</mi><mo id="alg2.l2.m1.3.3.1.1.1.1" xref="alg2.l2.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg2.l2.m1.3.3.1.1.1.3" xref="alg2.l2.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.3b"><apply id="alg2.l2.m1.3.3.cmml" xref="alg2.l2.m1.3.3"><eq id="alg2.l2.m1.3.3.2.cmml" xref="alg2.l2.m1.3.3.2"></eq><ci id="alg2.l2.m1.3.3.3.cmml" xref="alg2.l2.m1.3.3.3">𝑡</ci><list id="alg2.l2.m1.3.3.1.2.cmml" xref="alg2.l2.m1.3.3.1.1"><cn type="integer" id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1">0</cn><ci id="alg2.l2.m1.2.2.cmml" xref="alg2.l2.m1.2.2">…</ci><apply id="alg2.l2.m1.3.3.1.1.1.cmml" xref="alg2.l2.m1.3.3.1.1.1"><minus id="alg2.l2.m1.3.3.1.1.1.1.cmml" xref="alg2.l2.m1.3.3.1.1.1.1"></minus><ci id="alg2.l2.m1.3.3.1.1.1.2.cmml" xref="alg2.l2.m1.3.3.1.1.1.2">𝑅</ci><cn type="integer" id="alg2.l2.m1.3.3.1.1.1.3.cmml" xref="alg2.l2.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.3c">t=0,\dots,R-1</annotation></semantics></math> <span id="alg2.l2.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="alg2.l3.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l3.m1.3" class="ltx_Math" alttext="e=0,\dots,E-1" display="inline"><semantics id="alg2.l3.m1.3a"><mrow id="alg2.l3.m1.3.3" xref="alg2.l3.m1.3.3.cmml"><mi id="alg2.l3.m1.3.3.3" xref="alg2.l3.m1.3.3.3.cmml">e</mi><mo id="alg2.l3.m1.3.3.2" xref="alg2.l3.m1.3.3.2.cmml">=</mo><mrow id="alg2.l3.m1.3.3.1.1" xref="alg2.l3.m1.3.3.1.2.cmml"><mn id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml">0</mn><mo id="alg2.l3.m1.3.3.1.1.2" xref="alg2.l3.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="alg2.l3.m1.2.2" xref="alg2.l3.m1.2.2.cmml">…</mi><mo id="alg2.l3.m1.3.3.1.1.3" xref="alg2.l3.m1.3.3.1.2.cmml">,</mo><mrow id="alg2.l3.m1.3.3.1.1.1" xref="alg2.l3.m1.3.3.1.1.1.cmml"><mi id="alg2.l3.m1.3.3.1.1.1.2" xref="alg2.l3.m1.3.3.1.1.1.2.cmml">E</mi><mo id="alg2.l3.m1.3.3.1.1.1.1" xref="alg2.l3.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg2.l3.m1.3.3.1.1.1.3" xref="alg2.l3.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.3b"><apply id="alg2.l3.m1.3.3.cmml" xref="alg2.l3.m1.3.3"><eq id="alg2.l3.m1.3.3.2.cmml" xref="alg2.l3.m1.3.3.2"></eq><ci id="alg2.l3.m1.3.3.3.cmml" xref="alg2.l3.m1.3.3.3">𝑒</ci><list id="alg2.l3.m1.3.3.1.2.cmml" xref="alg2.l3.m1.3.3.1.1"><cn type="integer" id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1">0</cn><ci id="alg2.l3.m1.2.2.cmml" xref="alg2.l3.m1.2.2">…</ci><apply id="alg2.l3.m1.3.3.1.1.1.cmml" xref="alg2.l3.m1.3.3.1.1.1"><minus id="alg2.l3.m1.3.3.1.1.1.1.cmml" xref="alg2.l3.m1.3.3.1.1.1.1"></minus><ci id="alg2.l3.m1.3.3.1.1.1.2.cmml" xref="alg2.l3.m1.3.3.1.1.1.2">𝐸</ci><cn type="integer" id="alg2.l3.m1.3.3.1.1.1.3.cmml" xref="alg2.l3.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.3c">e=0,\dots,E-1</annotation></semantics></math> <span id="alg2.l3.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>         Randomly sample <math id="alg2.l4.m1.2" class="ltx_Math" alttext="(\boldsymbol{x},\boldsymbol{y})" display="inline"><semantics id="alg2.l4.m1.2a"><mrow id="alg2.l4.m1.2.3.2" xref="alg2.l4.m1.2.3.1.cmml"><mo stretchy="false" id="alg2.l4.m1.2.3.2.1" xref="alg2.l4.m1.2.3.1.cmml">(</mo><mi id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml">𝒙</mi><mo id="alg2.l4.m1.2.3.2.2" xref="alg2.l4.m1.2.3.1.cmml">,</mo><mi id="alg2.l4.m1.2.2" xref="alg2.l4.m1.2.2.cmml">𝒚</mi><mo stretchy="false" id="alg2.l4.m1.2.3.2.3" xref="alg2.l4.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.2b"><interval closure="open" id="alg2.l4.m1.2.3.1.cmml" xref="alg2.l4.m1.2.3.2"><ci id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1">𝒙</ci><ci id="alg2.l4.m1.2.2.cmml" xref="alg2.l4.m1.2.2">𝒚</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.2c">(\boldsymbol{x},\boldsymbol{y})</annotation></semantics></math> from the public dataset <math id="alg2.l4.m2.1" class="ltx_Math" alttext="\mathcal{D}_{public}" display="inline"><semantics id="alg2.l4.m2.1a"><msub id="alg2.l4.m2.1.1" xref="alg2.l4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l4.m2.1.1.2" xref="alg2.l4.m2.1.1.2.cmml">𝒟</mi><mrow id="alg2.l4.m2.1.1.3" xref="alg2.l4.m2.1.1.3.cmml"><mi id="alg2.l4.m2.1.1.3.2" xref="alg2.l4.m2.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m2.1.1.3.1" xref="alg2.l4.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l4.m2.1.1.3.3" xref="alg2.l4.m2.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m2.1.1.3.1a" xref="alg2.l4.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l4.m2.1.1.3.4" xref="alg2.l4.m2.1.1.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m2.1.1.3.1b" xref="alg2.l4.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l4.m2.1.1.3.5" xref="alg2.l4.m2.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m2.1.1.3.1c" xref="alg2.l4.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l4.m2.1.1.3.6" xref="alg2.l4.m2.1.1.3.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m2.1.1.3.1d" xref="alg2.l4.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l4.m2.1.1.3.7" xref="alg2.l4.m2.1.1.3.7.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l4.m2.1b"><apply id="alg2.l4.m2.1.1.cmml" xref="alg2.l4.m2.1.1"><csymbol cd="ambiguous" id="alg2.l4.m2.1.1.1.cmml" xref="alg2.l4.m2.1.1">subscript</csymbol><ci id="alg2.l4.m2.1.1.2.cmml" xref="alg2.l4.m2.1.1.2">𝒟</ci><apply id="alg2.l4.m2.1.1.3.cmml" xref="alg2.l4.m2.1.1.3"><times id="alg2.l4.m2.1.1.3.1.cmml" xref="alg2.l4.m2.1.1.3.1"></times><ci id="alg2.l4.m2.1.1.3.2.cmml" xref="alg2.l4.m2.1.1.3.2">𝑝</ci><ci id="alg2.l4.m2.1.1.3.3.cmml" xref="alg2.l4.m2.1.1.3.3">𝑢</ci><ci id="alg2.l4.m2.1.1.3.4.cmml" xref="alg2.l4.m2.1.1.3.4">𝑏</ci><ci id="alg2.l4.m2.1.1.3.5.cmml" xref="alg2.l4.m2.1.1.3.5">𝑙</ci><ci id="alg2.l4.m2.1.1.3.6.cmml" xref="alg2.l4.m2.1.1.3.6">𝑖</ci><ci id="alg2.l4.m2.1.1.3.7.cmml" xref="alg2.l4.m2.1.1.3.7">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m2.1c">\mathcal{D}_{public}</annotation></semantics></math>

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>         Optimize <math id="alg2.l5.m1.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{lora}}" display="inline"><semantics id="alg2.l5.m1.1a"><msub id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mi id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">𝒘</mi><msub id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l5.m1.1.1.3.2" xref="alg2.l5.m1.1.1.3.2.cmml">ℰ</mi><mrow id="alg2.l5.m1.1.1.3.3" xref="alg2.l5.m1.1.1.3.3.cmml"><mi id="alg2.l5.m1.1.1.3.3.2" xref="alg2.l5.m1.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.3.1" xref="alg2.l5.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.3.3" xref="alg2.l5.m1.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.3.1a" xref="alg2.l5.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.3.4" xref="alg2.l5.m1.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.3.1b" xref="alg2.l5.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.3.5" xref="alg2.l5.m1.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1">subscript</csymbol><ci id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">𝒘</ci><apply id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.3.1.cmml" xref="alg2.l5.m1.1.1.3">subscript</csymbol><ci id="alg2.l5.m1.1.1.3.2.cmml" xref="alg2.l5.m1.1.1.3.2">ℰ</ci><apply id="alg2.l5.m1.1.1.3.3.cmml" xref="alg2.l5.m1.1.1.3.3"><times id="alg2.l5.m1.1.1.3.3.1.cmml" xref="alg2.l5.m1.1.1.3.3.1"></times><ci id="alg2.l5.m1.1.1.3.3.2.cmml" xref="alg2.l5.m1.1.1.3.3.2">𝑙</ci><ci id="alg2.l5.m1.1.1.3.3.3.cmml" xref="alg2.l5.m1.1.1.3.3.3">𝑜</ci><ci id="alg2.l5.m1.1.1.3.3.4.cmml" xref="alg2.l5.m1.1.1.3.3.4">𝑟</ci><ci id="alg2.l5.m1.1.1.3.3.5.cmml" xref="alg2.l5.m1.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">\boldsymbol{w}_{\mathcal{E}_{lora}}</annotation></semantics></math> with respect to Equation (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)

</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <span id="alg2.l6.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l6.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     Communicate <math id="alg2.l7.m1.2" class="ltx_Math" alttext="\{\boldsymbol{w}_{\mathcal{A}_{lora}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}" display="inline"><semantics id="alg2.l7.m1.2a"><mrow id="alg2.l7.m1.2.2.2" xref="alg2.l7.m1.2.2.3.cmml"><mo stretchy="false" id="alg2.l7.m1.2.2.2.3" xref="alg2.l7.m1.2.2.3.cmml">{</mo><msub id="alg2.l7.m1.1.1.1.1" xref="alg2.l7.m1.1.1.1.1.cmml"><mi id="alg2.l7.m1.1.1.1.1.2" xref="alg2.l7.m1.1.1.1.1.2.cmml">𝒘</mi><msub id="alg2.l7.m1.1.1.1.1.3" xref="alg2.l7.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l7.m1.1.1.1.1.3.2" xref="alg2.l7.m1.1.1.1.1.3.2.cmml">𝒜</mi><mrow id="alg2.l7.m1.1.1.1.1.3.3" xref="alg2.l7.m1.1.1.1.1.3.3.cmml"><mi id="alg2.l7.m1.1.1.1.1.3.3.2" xref="alg2.l7.m1.1.1.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1.1.3.3.1" xref="alg2.l7.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.1.1.3.3.3" xref="alg2.l7.m1.1.1.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1.1.3.3.1a" xref="alg2.l7.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.1.1.3.3.4" xref="alg2.l7.m1.1.1.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1.1.3.3.1b" xref="alg2.l7.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.1.1.3.3.5" xref="alg2.l7.m1.1.1.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><mo id="alg2.l7.m1.2.2.2.4" xref="alg2.l7.m1.2.2.3.cmml">,</mo><msub id="alg2.l7.m1.2.2.2.2" xref="alg2.l7.m1.2.2.2.2.cmml"><mi id="alg2.l7.m1.2.2.2.2.2" xref="alg2.l7.m1.2.2.2.2.2.cmml">𝒘</mi><msub id="alg2.l7.m1.2.2.2.2.3" xref="alg2.l7.m1.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l7.m1.2.2.2.2.3.2" xref="alg2.l7.m1.2.2.2.2.3.2.cmml">ℰ</mi><mrow id="alg2.l7.m1.2.2.2.2.3.3" xref="alg2.l7.m1.2.2.2.2.3.3.cmml"><mi id="alg2.l7.m1.2.2.2.2.3.3.2" xref="alg2.l7.m1.2.2.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.2.2.2.2.3.3.1" xref="alg2.l7.m1.2.2.2.2.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.2.2.2.2.3.3.3" xref="alg2.l7.m1.2.2.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.2.2.2.2.3.3.1a" xref="alg2.l7.m1.2.2.2.2.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.2.2.2.2.3.3.4" xref="alg2.l7.m1.2.2.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.2.2.2.2.3.3.1b" xref="alg2.l7.m1.2.2.2.2.3.3.1.cmml">​</mo><mi id="alg2.l7.m1.2.2.2.2.3.3.5" xref="alg2.l7.m1.2.2.2.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo stretchy="false" id="alg2.l7.m1.2.2.2.5" xref="alg2.l7.m1.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.2b"><set id="alg2.l7.m1.2.2.3.cmml" xref="alg2.l7.m1.2.2.2"><apply id="alg2.l7.m1.1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1.1">subscript</csymbol><ci id="alg2.l7.m1.1.1.1.1.2.cmml" xref="alg2.l7.m1.1.1.1.1.2">𝒘</ci><apply id="alg2.l7.m1.1.1.1.1.3.cmml" xref="alg2.l7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.1.1.3">subscript</csymbol><ci id="alg2.l7.m1.1.1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.1.1.3.2">𝒜</ci><apply id="alg2.l7.m1.1.1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.1.1.3.3"><times id="alg2.l7.m1.1.1.1.1.3.3.1.cmml" xref="alg2.l7.m1.1.1.1.1.3.3.1"></times><ci id="alg2.l7.m1.1.1.1.1.3.3.2.cmml" xref="alg2.l7.m1.1.1.1.1.3.3.2">𝑙</ci><ci id="alg2.l7.m1.1.1.1.1.3.3.3.cmml" xref="alg2.l7.m1.1.1.1.1.3.3.3">𝑜</ci><ci id="alg2.l7.m1.1.1.1.1.3.3.4.cmml" xref="alg2.l7.m1.1.1.1.1.3.3.4">𝑟</ci><ci id="alg2.l7.m1.1.1.1.1.3.3.5.cmml" xref="alg2.l7.m1.1.1.1.1.3.3.5">𝑎</ci></apply></apply></apply><apply id="alg2.l7.m1.2.2.2.2.cmml" xref="alg2.l7.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l7.m1.2.2.2.2.1.cmml" xref="alg2.l7.m1.2.2.2.2">subscript</csymbol><ci id="alg2.l7.m1.2.2.2.2.2.cmml" xref="alg2.l7.m1.2.2.2.2.2">𝒘</ci><apply id="alg2.l7.m1.2.2.2.2.3.cmml" xref="alg2.l7.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="alg2.l7.m1.2.2.2.2.3.1.cmml" xref="alg2.l7.m1.2.2.2.2.3">subscript</csymbol><ci id="alg2.l7.m1.2.2.2.2.3.2.cmml" xref="alg2.l7.m1.2.2.2.2.3.2">ℰ</ci><apply id="alg2.l7.m1.2.2.2.2.3.3.cmml" xref="alg2.l7.m1.2.2.2.2.3.3"><times id="alg2.l7.m1.2.2.2.2.3.3.1.cmml" xref="alg2.l7.m1.2.2.2.2.3.3.1"></times><ci id="alg2.l7.m1.2.2.2.2.3.3.2.cmml" xref="alg2.l7.m1.2.2.2.2.3.3.2">𝑙</ci><ci id="alg2.l7.m1.2.2.2.2.3.3.3.cmml" xref="alg2.l7.m1.2.2.2.2.3.3.3">𝑜</ci><ci id="alg2.l7.m1.2.2.2.2.3.3.4.cmml" xref="alg2.l7.m1.2.2.2.2.3.3.4">𝑟</ci><ci id="alg2.l7.m1.2.2.2.2.3.3.5.cmml" xref="alg2.l7.m1.2.2.2.2.3.3.5">𝑎</ci></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.2c">\{\boldsymbol{w}_{\mathcal{A}_{lora}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}</annotation></semantics></math> with clients <math id="alg2.l7.m2.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="alg2.l7.m2.1a"><mrow id="alg2.l7.m2.1.2" xref="alg2.l7.m2.1.2.cmml"><mi id="alg2.l7.m2.1.2.2" xref="alg2.l7.m2.1.2.2.cmml">m</mi><mo id="alg2.l7.m2.1.2.1" xref="alg2.l7.m2.1.2.1.cmml">∈</mo><mrow id="alg2.l7.m2.1.2.3.2" xref="alg2.l7.m2.1.2.3.1.cmml"><mo stretchy="false" id="alg2.l7.m2.1.2.3.2.1" xref="alg2.l7.m2.1.2.3.1.1.cmml">[</mo><mi id="alg2.l7.m2.1.1" xref="alg2.l7.m2.1.1.cmml">M</mi><mo stretchy="false" id="alg2.l7.m2.1.2.3.2.2" xref="alg2.l7.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m2.1b"><apply id="alg2.l7.m2.1.2.cmml" xref="alg2.l7.m2.1.2"><in id="alg2.l7.m2.1.2.1.cmml" xref="alg2.l7.m2.1.2.1"></in><ci id="alg2.l7.m2.1.2.2.cmml" xref="alg2.l7.m2.1.2.2">𝑚</ci><apply id="alg2.l7.m2.1.2.3.1.cmml" xref="alg2.l7.m2.1.2.3.2"><csymbol cd="latexml" id="alg2.l7.m2.1.2.3.1.1.cmml" xref="alg2.l7.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="alg2.l7.m2.1.1.cmml" xref="alg2.l7.m2.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m2.1c">m\in[M]</annotation></semantics></math>

</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <span id="alg2.l8.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l8.m1.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.2" xref="alg2.l8.m1.1.2.cmml"><mi id="alg2.l8.m1.1.2.2" xref="alg2.l8.m1.1.2.2.cmml">m</mi><mo id="alg2.l8.m1.1.2.1" xref="alg2.l8.m1.1.2.1.cmml">∈</mo><mrow id="alg2.l8.m1.1.2.3.2" xref="alg2.l8.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg2.l8.m1.1.2.3.2.1" xref="alg2.l8.m1.1.2.3.1.1.cmml">[</mo><mi id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml">M</mi><mo stretchy="false" id="alg2.l8.m1.1.2.3.2.2" xref="alg2.l8.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.2.cmml" xref="alg2.l8.m1.1.2"><in id="alg2.l8.m1.1.2.1.cmml" xref="alg2.l8.m1.1.2.1"></in><ci id="alg2.l8.m1.1.2.2.cmml" xref="alg2.l8.m1.1.2.2">𝑚</ci><apply id="alg2.l8.m1.1.2.3.1.cmml" xref="alg2.l8.m1.1.2.3.2"><csymbol cd="latexml" id="alg2.l8.m1.1.2.3.1.1.cmml" xref="alg2.l8.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">m\in[M]</annotation></semantics></math> <span id="alg2.l8.3" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg2.l8.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>         Initialize <math id="alg2.l9.m1.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}" display="inline"><semantics id="alg2.l9.m1.1a"><msubsup id="alg2.l9.m1.1.2" xref="alg2.l9.m1.1.2.cmml"><mi id="alg2.l9.m1.1.2.2.2" xref="alg2.l9.m1.1.2.2.2.cmml">𝒘</mi><msub id="alg2.l9.m1.1.2.2.3" xref="alg2.l9.m1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l9.m1.1.2.2.3.2" xref="alg2.l9.m1.1.2.2.3.2.cmml">𝒜</mi><mrow id="alg2.l9.m1.1.2.2.3.3" xref="alg2.l9.m1.1.2.2.3.3.cmml"><mi id="alg2.l9.m1.1.2.2.3.3.2" xref="alg2.l9.m1.1.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.2.3.3.1" xref="alg2.l9.m1.1.2.2.3.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.2.2.3.3.3" xref="alg2.l9.m1.1.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.2.3.3.1a" xref="alg2.l9.m1.1.2.2.3.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.2.2.3.3.4" xref="alg2.l9.m1.1.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.2.3.3.1b" xref="alg2.l9.m1.1.2.2.3.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.2.2.3.3.5" xref="alg2.l9.m1.1.2.2.3.3.5.cmml">a</mi></mrow></msub><mrow id="alg2.l9.m1.1.1.1.3" xref="alg2.l9.m1.1.2.cmml"><mo stretchy="false" id="alg2.l9.m1.1.1.1.3.1" xref="alg2.l9.m1.1.2.cmml">(</mo><mi id="alg2.l9.m1.1.1.1.1" xref="alg2.l9.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="alg2.l9.m1.1.1.1.3.2" xref="alg2.l9.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.1b"><apply id="alg2.l9.m1.1.2.cmml" xref="alg2.l9.m1.1.2"><csymbol cd="ambiguous" id="alg2.l9.m1.1.2.1.cmml" xref="alg2.l9.m1.1.2">superscript</csymbol><apply id="alg2.l9.m1.1.2.2.cmml" xref="alg2.l9.m1.1.2"><csymbol cd="ambiguous" id="alg2.l9.m1.1.2.2.1.cmml" xref="alg2.l9.m1.1.2">subscript</csymbol><ci id="alg2.l9.m1.1.2.2.2.cmml" xref="alg2.l9.m1.1.2.2.2">𝒘</ci><apply id="alg2.l9.m1.1.2.2.3.cmml" xref="alg2.l9.m1.1.2.2.3"><csymbol cd="ambiguous" id="alg2.l9.m1.1.2.2.3.1.cmml" xref="alg2.l9.m1.1.2.2.3">subscript</csymbol><ci id="alg2.l9.m1.1.2.2.3.2.cmml" xref="alg2.l9.m1.1.2.2.3.2">𝒜</ci><apply id="alg2.l9.m1.1.2.2.3.3.cmml" xref="alg2.l9.m1.1.2.2.3.3"><times id="alg2.l9.m1.1.2.2.3.3.1.cmml" xref="alg2.l9.m1.1.2.2.3.3.1"></times><ci id="alg2.l9.m1.1.2.2.3.3.2.cmml" xref="alg2.l9.m1.1.2.2.3.3.2">𝑙</ci><ci id="alg2.l9.m1.1.2.2.3.3.3.cmml" xref="alg2.l9.m1.1.2.2.3.3.3">𝑜</ci><ci id="alg2.l9.m1.1.2.2.3.3.4.cmml" xref="alg2.l9.m1.1.2.2.3.3.4">𝑟</ci><ci id="alg2.l9.m1.1.2.2.3.3.5.cmml" xref="alg2.l9.m1.1.2.2.3.3.5">𝑎</ci></apply></apply></apply><ci id="alg2.l9.m1.1.1.1.1.cmml" xref="alg2.l9.m1.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}</annotation></semantics></math>, <math id="alg2.l9.m2.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="alg2.l9.m2.2a"><msub id="alg2.l9.m2.2.3" xref="alg2.l9.m2.2.3.cmml"><mi id="alg2.l9.m2.2.3.2" xref="alg2.l9.m2.2.3.2.cmml">𝒘</mi><mrow id="alg2.l9.m2.2.2.2.2" xref="alg2.l9.m2.2.2.2.3.cmml"><msub id="alg2.l9.m2.2.2.2.2.1" xref="alg2.l9.m2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l9.m2.2.2.2.2.1.2" xref="alg2.l9.m2.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="alg2.l9.m2.2.2.2.2.1.3" xref="alg2.l9.m2.2.2.2.2.1.3.cmml"><mi id="alg2.l9.m2.2.2.2.2.1.3.2" xref="alg2.l9.m2.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m2.2.2.2.2.1.3.1" xref="alg2.l9.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l9.m2.2.2.2.2.1.3.3" xref="alg2.l9.m2.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m2.2.2.2.2.1.3.1a" xref="alg2.l9.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l9.m2.2.2.2.2.1.3.4" xref="alg2.l9.m2.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m2.2.2.2.2.1.3.1b" xref="alg2.l9.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l9.m2.2.2.2.2.1.3.5" xref="alg2.l9.m2.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="alg2.l9.m2.2.2.2.2.2" xref="alg2.l9.m2.2.2.2.3.cmml">,</mo><mi id="alg2.l9.m2.1.1.1.1" xref="alg2.l9.m2.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l9.m2.2b"><apply id="alg2.l9.m2.2.3.cmml" xref="alg2.l9.m2.2.3"><csymbol cd="ambiguous" id="alg2.l9.m2.2.3.1.cmml" xref="alg2.l9.m2.2.3">subscript</csymbol><ci id="alg2.l9.m2.2.3.2.cmml" xref="alg2.l9.m2.2.3.2">𝒘</ci><list id="alg2.l9.m2.2.2.2.3.cmml" xref="alg2.l9.m2.2.2.2.2"><apply id="alg2.l9.m2.2.2.2.2.1.cmml" xref="alg2.l9.m2.2.2.2.2.1"><csymbol cd="ambiguous" id="alg2.l9.m2.2.2.2.2.1.1.cmml" xref="alg2.l9.m2.2.2.2.2.1">subscript</csymbol><ci id="alg2.l9.m2.2.2.2.2.1.2.cmml" xref="alg2.l9.m2.2.2.2.2.1.2">𝒜</ci><apply id="alg2.l9.m2.2.2.2.2.1.3.cmml" xref="alg2.l9.m2.2.2.2.2.1.3"><times id="alg2.l9.m2.2.2.2.2.1.3.1.cmml" xref="alg2.l9.m2.2.2.2.2.1.3.1"></times><ci id="alg2.l9.m2.2.2.2.2.1.3.2.cmml" xref="alg2.l9.m2.2.2.2.2.1.3.2">𝑙</ci><ci id="alg2.l9.m2.2.2.2.2.1.3.3.cmml" xref="alg2.l9.m2.2.2.2.2.1.3.3">𝑜</ci><ci id="alg2.l9.m2.2.2.2.2.1.3.4.cmml" xref="alg2.l9.m2.2.2.2.2.1.3.4">𝑟</ci><ci id="alg2.l9.m2.2.2.2.2.1.3.5.cmml" xref="alg2.l9.m2.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="alg2.l9.m2.1.1.1.1.cmml" xref="alg2.l9.m2.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m2.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math>, and <math id="alg2.l9.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}}" display="inline"><semantics id="alg2.l9.m3.1a"><msub id="alg2.l9.m3.1.1" xref="alg2.l9.m3.1.1.cmml"><mi id="alg2.l9.m3.1.1.2" xref="alg2.l9.m3.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l9.m3.1.1.3" xref="alg2.l9.m3.1.1.3.cmml">ℰ</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l9.m3.1b"><apply id="alg2.l9.m3.1.1.cmml" xref="alg2.l9.m3.1.1"><csymbol cd="ambiguous" id="alg2.l9.m3.1.1.1.cmml" xref="alg2.l9.m3.1.1">subscript</csymbol><ci id="alg2.l9.m3.1.1.2.cmml" xref="alg2.l9.m3.1.1.2">𝒘</ci><ci id="alg2.l9.m3.1.1.3.cmml" xref="alg2.l9.m3.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m3.1c">\boldsymbol{w}_{\mathcal{E}}</annotation></semantics></math> using Equation (<a href="#S3.E8" title="In 3.3. Client Updates ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>)

</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>         <span id="alg2.l10.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l10.m1.3" class="ltx_Math" alttext="k=0,\dots,K-1" display="inline"><semantics id="alg2.l10.m1.3a"><mrow id="alg2.l10.m1.3.3" xref="alg2.l10.m1.3.3.cmml"><mi id="alg2.l10.m1.3.3.3" xref="alg2.l10.m1.3.3.3.cmml">k</mi><mo id="alg2.l10.m1.3.3.2" xref="alg2.l10.m1.3.3.2.cmml">=</mo><mrow id="alg2.l10.m1.3.3.1.1" xref="alg2.l10.m1.3.3.1.2.cmml"><mn id="alg2.l10.m1.1.1" xref="alg2.l10.m1.1.1.cmml">0</mn><mo id="alg2.l10.m1.3.3.1.1.2" xref="alg2.l10.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="alg2.l10.m1.2.2" xref="alg2.l10.m1.2.2.cmml">…</mi><mo id="alg2.l10.m1.3.3.1.1.3" xref="alg2.l10.m1.3.3.1.2.cmml">,</mo><mrow id="alg2.l10.m1.3.3.1.1.1" xref="alg2.l10.m1.3.3.1.1.1.cmml"><mi id="alg2.l10.m1.3.3.1.1.1.2" xref="alg2.l10.m1.3.3.1.1.1.2.cmml">K</mi><mo id="alg2.l10.m1.3.3.1.1.1.1" xref="alg2.l10.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg2.l10.m1.3.3.1.1.1.3" xref="alg2.l10.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.3b"><apply id="alg2.l10.m1.3.3.cmml" xref="alg2.l10.m1.3.3"><eq id="alg2.l10.m1.3.3.2.cmml" xref="alg2.l10.m1.3.3.2"></eq><ci id="alg2.l10.m1.3.3.3.cmml" xref="alg2.l10.m1.3.3.3">𝑘</ci><list id="alg2.l10.m1.3.3.1.2.cmml" xref="alg2.l10.m1.3.3.1.1"><cn type="integer" id="alg2.l10.m1.1.1.cmml" xref="alg2.l10.m1.1.1">0</cn><ci id="alg2.l10.m1.2.2.cmml" xref="alg2.l10.m1.2.2">…</ci><apply id="alg2.l10.m1.3.3.1.1.1.cmml" xref="alg2.l10.m1.3.3.1.1.1"><minus id="alg2.l10.m1.3.3.1.1.1.1.cmml" xref="alg2.l10.m1.3.3.1.1.1.1"></minus><ci id="alg2.l10.m1.3.3.1.1.1.2.cmml" xref="alg2.l10.m1.3.3.1.1.1.2">𝐾</ci><cn type="integer" id="alg2.l10.m1.3.3.1.1.1.3.cmml" xref="alg2.l10.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.3c">k=0,\dots,K-1</annotation></semantics></math> <span id="alg2.l10.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>              Compute a gradient <math id="alg2.l11.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="alg2.l11.m1.1a"><mi id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><ci id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">g</annotation></semantics></math> using Equation (<a href="#S3.E9" title="In 3.3. Client Updates ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>)

</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>              Update local model <math id="alg2.l12.m1.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="alg2.l12.m1.2a"><msub id="alg2.l12.m1.2.3" xref="alg2.l12.m1.2.3.cmml"><mi id="alg2.l12.m1.2.3.2" xref="alg2.l12.m1.2.3.2.cmml">𝒘</mi><mrow id="alg2.l12.m1.2.2.2.2" xref="alg2.l12.m1.2.2.2.3.cmml"><msub id="alg2.l12.m1.2.2.2.2.1" xref="alg2.l12.m1.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l12.m1.2.2.2.2.1.2" xref="alg2.l12.m1.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="alg2.l12.m1.2.2.2.2.1.3" xref="alg2.l12.m1.2.2.2.2.1.3.cmml"><mi id="alg2.l12.m1.2.2.2.2.1.3.2" xref="alg2.l12.m1.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m1.2.2.2.2.1.3.1" xref="alg2.l12.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l12.m1.2.2.2.2.1.3.3" xref="alg2.l12.m1.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m1.2.2.2.2.1.3.1a" xref="alg2.l12.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l12.m1.2.2.2.2.1.3.4" xref="alg2.l12.m1.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m1.2.2.2.2.1.3.1b" xref="alg2.l12.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l12.m1.2.2.2.2.1.3.5" xref="alg2.l12.m1.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="alg2.l12.m1.2.2.2.2.2" xref="alg2.l12.m1.2.2.2.3.cmml">,</mo><mi id="alg2.l12.m1.1.1.1.1" xref="alg2.l12.m1.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.2b"><apply id="alg2.l12.m1.2.3.cmml" xref="alg2.l12.m1.2.3"><csymbol cd="ambiguous" id="alg2.l12.m1.2.3.1.cmml" xref="alg2.l12.m1.2.3">subscript</csymbol><ci id="alg2.l12.m1.2.3.2.cmml" xref="alg2.l12.m1.2.3.2">𝒘</ci><list id="alg2.l12.m1.2.2.2.3.cmml" xref="alg2.l12.m1.2.2.2.2"><apply id="alg2.l12.m1.2.2.2.2.1.cmml" xref="alg2.l12.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="alg2.l12.m1.2.2.2.2.1.1.cmml" xref="alg2.l12.m1.2.2.2.2.1">subscript</csymbol><ci id="alg2.l12.m1.2.2.2.2.1.2.cmml" xref="alg2.l12.m1.2.2.2.2.1.2">𝒜</ci><apply id="alg2.l12.m1.2.2.2.2.1.3.cmml" xref="alg2.l12.m1.2.2.2.2.1.3"><times id="alg2.l12.m1.2.2.2.2.1.3.1.cmml" xref="alg2.l12.m1.2.2.2.2.1.3.1"></times><ci id="alg2.l12.m1.2.2.2.2.1.3.2.cmml" xref="alg2.l12.m1.2.2.2.2.1.3.2">𝑙</ci><ci id="alg2.l12.m1.2.2.2.2.1.3.3.cmml" xref="alg2.l12.m1.2.2.2.2.1.3.3">𝑜</ci><ci id="alg2.l12.m1.2.2.2.2.1.3.4.cmml" xref="alg2.l12.m1.2.2.2.2.1.3.4">𝑟</ci><ci id="alg2.l12.m1.2.2.2.2.1.3.5.cmml" xref="alg2.l12.m1.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="alg2.l12.m1.1.1.1.1.cmml" xref="alg2.l12.m1.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math> using Equation (<a href="#S3.E10" title="In 3.3. Client Updates ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>)

</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>         <span id="alg2.l13.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l13.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>         Communicate <math id="alg2.l14.m1.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="alg2.l14.m1.2a"><msub id="alg2.l14.m1.2.3" xref="alg2.l14.m1.2.3.cmml"><mi id="alg2.l14.m1.2.3.2" xref="alg2.l14.m1.2.3.2.cmml">𝒘</mi><mrow id="alg2.l14.m1.2.2.2.2" xref="alg2.l14.m1.2.2.2.3.cmml"><msub id="alg2.l14.m1.2.2.2.2.1" xref="alg2.l14.m1.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l14.m1.2.2.2.2.1.2" xref="alg2.l14.m1.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="alg2.l14.m1.2.2.2.2.1.3" xref="alg2.l14.m1.2.2.2.2.1.3.cmml"><mi id="alg2.l14.m1.2.2.2.2.1.3.2" xref="alg2.l14.m1.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.2.2.2.2.1.3.1" xref="alg2.l14.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l14.m1.2.2.2.2.1.3.3" xref="alg2.l14.m1.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.2.2.2.2.1.3.1a" xref="alg2.l14.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l14.m1.2.2.2.2.1.3.4" xref="alg2.l14.m1.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.2.2.2.2.1.3.1b" xref="alg2.l14.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="alg2.l14.m1.2.2.2.2.1.3.5" xref="alg2.l14.m1.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="alg2.l14.m1.2.2.2.2.2" xref="alg2.l14.m1.2.2.2.3.cmml">,</mo><mi id="alg2.l14.m1.1.1.1.1" xref="alg2.l14.m1.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l14.m1.2b"><apply id="alg2.l14.m1.2.3.cmml" xref="alg2.l14.m1.2.3"><csymbol cd="ambiguous" id="alg2.l14.m1.2.3.1.cmml" xref="alg2.l14.m1.2.3">subscript</csymbol><ci id="alg2.l14.m1.2.3.2.cmml" xref="alg2.l14.m1.2.3.2">𝒘</ci><list id="alg2.l14.m1.2.2.2.3.cmml" xref="alg2.l14.m1.2.2.2.2"><apply id="alg2.l14.m1.2.2.2.2.1.cmml" xref="alg2.l14.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="alg2.l14.m1.2.2.2.2.1.1.cmml" xref="alg2.l14.m1.2.2.2.2.1">subscript</csymbol><ci id="alg2.l14.m1.2.2.2.2.1.2.cmml" xref="alg2.l14.m1.2.2.2.2.1.2">𝒜</ci><apply id="alg2.l14.m1.2.2.2.2.1.3.cmml" xref="alg2.l14.m1.2.2.2.2.1.3"><times id="alg2.l14.m1.2.2.2.2.1.3.1.cmml" xref="alg2.l14.m1.2.2.2.2.1.3.1"></times><ci id="alg2.l14.m1.2.2.2.2.1.3.2.cmml" xref="alg2.l14.m1.2.2.2.2.1.3.2">𝑙</ci><ci id="alg2.l14.m1.2.2.2.2.1.3.3.cmml" xref="alg2.l14.m1.2.2.2.2.1.3.3">𝑜</ci><ci id="alg2.l14.m1.2.2.2.2.1.3.4.cmml" xref="alg2.l14.m1.2.2.2.2.1.3.4">𝑟</ci><ci id="alg2.l14.m1.2.2.2.2.1.3.5.cmml" xref="alg2.l14.m1.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="alg2.l14.m1.1.1.1.1.cmml" xref="alg2.l14.m1.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l14.m1.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math> with the server

</div>
<div id="alg2.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>     <span id="alg2.l15.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l15.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>     Update <math id="alg2.l16.m1.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}" display="inline"><semantics id="alg2.l16.m1.1a"><msub id="alg2.l16.m1.1.1" xref="alg2.l16.m1.1.1.cmml"><mi id="alg2.l16.m1.1.1.2" xref="alg2.l16.m1.1.1.2.cmml">𝒘</mi><msub id="alg2.l16.m1.1.1.3" xref="alg2.l16.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l16.m1.1.1.3.2" xref="alg2.l16.m1.1.1.3.2.cmml">𝒜</mi><mrow id="alg2.l16.m1.1.1.3.3" xref="alg2.l16.m1.1.1.3.3.cmml"><mi id="alg2.l16.m1.1.1.3.3.2" xref="alg2.l16.m1.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.3" xref="alg2.l16.m1.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1a" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.4" xref="alg2.l16.m1.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1b" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.5" xref="alg2.l16.m1.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="alg2.l16.m1.1b"><apply id="alg2.l16.m1.1.1.cmml" xref="alg2.l16.m1.1.1"><csymbol cd="ambiguous" id="alg2.l16.m1.1.1.1.cmml" xref="alg2.l16.m1.1.1">subscript</csymbol><ci id="alg2.l16.m1.1.1.2.cmml" xref="alg2.l16.m1.1.1.2">𝒘</ci><apply id="alg2.l16.m1.1.1.3.cmml" xref="alg2.l16.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l16.m1.1.1.3.1.cmml" xref="alg2.l16.m1.1.1.3">subscript</csymbol><ci id="alg2.l16.m1.1.1.3.2.cmml" xref="alg2.l16.m1.1.1.3.2">𝒜</ci><apply id="alg2.l16.m1.1.1.3.3.cmml" xref="alg2.l16.m1.1.1.3.3"><times id="alg2.l16.m1.1.1.3.3.1.cmml" xref="alg2.l16.m1.1.1.3.3.1"></times><ci id="alg2.l16.m1.1.1.3.3.2.cmml" xref="alg2.l16.m1.1.1.3.3.2">𝑙</ci><ci id="alg2.l16.m1.1.1.3.3.3.cmml" xref="alg2.l16.m1.1.1.3.3.3">𝑜</ci><ci id="alg2.l16.m1.1.1.3.3.4.cmml" xref="alg2.l16.m1.1.1.3.3.4">𝑟</ci><ci id="alg2.l16.m1.1.1.3.3.5.cmml" xref="alg2.l16.m1.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l16.m1.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}</annotation></semantics></math> using Equation (<a href="#S3.E11" title="In 3.4. Model Aggregation ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>)

</div>
<div id="alg2.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span><span id="alg2.l17.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l17.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span><span id="alg2.l18.2" class="ltx_text ltx_font_bold">return</span> AdapEmu <math id="alg2.l18.m1.2" class="ltx_Math" alttext="\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}" display="inline"><semantics id="alg2.l18.m1.2a"><mrow id="alg2.l18.m1.2.2.2" xref="alg2.l18.m1.2.2.3.cmml"><mo stretchy="false" id="alg2.l18.m1.2.2.2.3" xref="alg2.l18.m1.2.2.3.cmml">{</mo><msub id="alg2.l18.m1.1.1.1.1" xref="alg2.l18.m1.1.1.1.1.cmml"><mi id="alg2.l18.m1.1.1.1.1.2" xref="alg2.l18.m1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l18.m1.1.1.1.1.3" xref="alg2.l18.m1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="alg2.l18.m1.2.2.2.4" xref="alg2.l18.m1.2.2.3.cmml">,</mo><msub id="alg2.l18.m1.2.2.2.2" xref="alg2.l18.m1.2.2.2.2.cmml"><mi id="alg2.l18.m1.2.2.2.2.2" xref="alg2.l18.m1.2.2.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l18.m1.2.2.2.2.3" xref="alg2.l18.m1.2.2.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="alg2.l18.m1.2.2.2.5" xref="alg2.l18.m1.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l18.m1.2b"><set id="alg2.l18.m1.2.2.3.cmml" xref="alg2.l18.m1.2.2.2"><apply id="alg2.l18.m1.1.1.1.1.cmml" xref="alg2.l18.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l18.m1.1.1.1.1.1.cmml" xref="alg2.l18.m1.1.1.1.1">subscript</csymbol><ci id="alg2.l18.m1.1.1.1.1.2.cmml" xref="alg2.l18.m1.1.1.1.1.2">𝒘</ci><ci id="alg2.l18.m1.1.1.1.1.3.cmml" xref="alg2.l18.m1.1.1.1.1.3">𝒜</ci></apply><apply id="alg2.l18.m1.2.2.2.2.cmml" xref="alg2.l18.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l18.m1.2.2.2.2.1.cmml" xref="alg2.l18.m1.2.2.2.2">subscript</csymbol><ci id="alg2.l18.m1.2.2.2.2.2.cmml" xref="alg2.l18.m1.2.2.2.2.2">𝒘</ci><ci id="alg2.l18.m1.2.2.2.2.3.cmml" xref="alg2.l18.m1.2.2.2.2.3">ℰ</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg2.l18.m1.2c">\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}</annotation></semantics></math>, AdapFu <math id="alg2.l18.m2.2" class="ltx_Math" alttext="\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\}" display="inline"><semantics id="alg2.l18.m2.2a"><mrow id="alg2.l18.m2.2.2.2" xref="alg2.l18.m2.2.2.3.cmml"><mo stretchy="false" id="alg2.l18.m2.2.2.2.3" xref="alg2.l18.m2.2.2.3.cmml">{</mo><msub id="alg2.l18.m2.1.1.1.1" xref="alg2.l18.m2.1.1.1.1.cmml"><mi id="alg2.l18.m2.1.1.1.1.2" xref="alg2.l18.m2.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="alg2.l18.m2.1.1.1.1.3" xref="alg2.l18.m2.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="alg2.l18.m2.2.2.2.4" xref="alg2.l18.m2.2.2.3.cmml">,</mo><msub id="alg2.l18.m2.2.2.2.2" xref="alg2.l18.m2.2.2.2.2.cmml"><mi id="alg2.l18.m2.2.2.2.2.2" xref="alg2.l18.m2.2.2.2.2.2.cmml">𝒘</mi><msup id="alg2.l18.m2.2.2.2.2.3" xref="alg2.l18.m2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l18.m2.2.2.2.2.3.2" xref="alg2.l18.m2.2.2.2.2.3.2.cmml">ℰ</mi><mo id="alg2.l18.m2.2.2.2.2.3.3" xref="alg2.l18.m2.2.2.2.2.3.3.cmml">∗</mo></msup></msub><mo stretchy="false" id="alg2.l18.m2.2.2.2.5" xref="alg2.l18.m2.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l18.m2.2b"><set id="alg2.l18.m2.2.2.3.cmml" xref="alg2.l18.m2.2.2.2"><apply id="alg2.l18.m2.1.1.1.1.cmml" xref="alg2.l18.m2.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l18.m2.1.1.1.1.1.cmml" xref="alg2.l18.m2.1.1.1.1">subscript</csymbol><ci id="alg2.l18.m2.1.1.1.1.2.cmml" xref="alg2.l18.m2.1.1.1.1.2">𝒘</ci><ci id="alg2.l18.m2.1.1.1.1.3.cmml" xref="alg2.l18.m2.1.1.1.1.3">𝒜</ci></apply><apply id="alg2.l18.m2.2.2.2.2.cmml" xref="alg2.l18.m2.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l18.m2.2.2.2.2.1.cmml" xref="alg2.l18.m2.2.2.2.2">subscript</csymbol><ci id="alg2.l18.m2.2.2.2.2.2.cmml" xref="alg2.l18.m2.2.2.2.2.2">𝒘</ci><apply id="alg2.l18.m2.2.2.2.2.3.cmml" xref="alg2.l18.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="alg2.l18.m2.2.2.2.2.3.1.cmml" xref="alg2.l18.m2.2.2.2.2.3">superscript</csymbol><ci id="alg2.l18.m2.2.2.2.2.3.2.cmml" xref="alg2.l18.m2.2.2.2.2.3.2">ℰ</ci><times id="alg2.l18.m2.2.2.2.2.3.3.cmml" xref="alg2.l18.m2.2.2.2.2.3.3"></times></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg2.l18.m2.2c">\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}^{*}}\}</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
</section>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Client Updates</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.3" class="ltx_p">During the local updates, the clients barely fine-tune the parameters of the adapter <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\mathcal{A}</annotation></semantics></math> while fixing the parameters of the emulator <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\mathcal{E}</annotation></semantics></math>. By enabling LoRA, the LoRA of the adapter will get updated, and therefore, the clients should upload the updated <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">𝒘</mi><msub id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.3.m3.1.1.3.2" xref="S3.SS3.p1.3.m3.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS3.p1.3.m3.1.1.3.3" xref="S3.SS3.p1.3.m3.1.1.3.3.cmml"><mi id="S3.SS3.p1.3.m3.1.1.3.3.2" xref="S3.SS3.p1.3.m3.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.3.m3.1.1.3.3.1" xref="S3.SS3.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p1.3.m3.1.1.3.3.3" xref="S3.SS3.p1.3.m3.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.3.m3.1.1.3.3.1a" xref="S3.SS3.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p1.3.m3.1.1.3.3.4" xref="S3.SS3.p1.3.m3.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.3.m3.1.1.3.3.1b" xref="S3.SS3.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p1.3.m3.1.1.3.3.5" xref="S3.SS3.p1.3.m3.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝒘</ci><apply id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2">𝒜</ci><apply id="S3.SS3.p1.3.m3.1.1.3.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3"><times id="S3.SS3.p1.3.m3.1.1.3.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.1"></times><ci id="S3.SS3.p1.3.m3.1.1.3.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.2">𝑙</ci><ci id="S3.SS3.p1.3.m3.1.1.3.3.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.3">𝑜</ci><ci id="S3.SS3.p1.3.m3.1.1.3.3.4.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.4">𝑟</ci><ci id="S3.SS3.p1.3.m3.1.1.3.3.5.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}</annotation></semantics></math> to the server after the local fine-tuning ends.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.4" class="ltx_p">Consider client <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="i\in[M]" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.2" xref="S3.SS3.p2.1.m1.1.2.cmml"><mi id="S3.SS3.p2.1.m1.1.2.2" xref="S3.SS3.p2.1.m1.1.2.2.cmml">i</mi><mo id="S3.SS3.p2.1.m1.1.2.1" xref="S3.SS3.p2.1.m1.1.2.1.cmml">∈</mo><mrow id="S3.SS3.p2.1.m1.1.2.3.2" xref="S3.SS3.p2.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.1.m1.1.2.3.2.1" xref="S3.SS3.p2.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">M</mi><mo stretchy="false" id="S3.SS3.p2.1.m1.1.2.3.2.2" xref="S3.SS3.p2.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.2"><in id="S3.SS3.p2.1.m1.1.2.1.cmml" xref="S3.SS3.p2.1.m1.1.2.1"></in><ci id="S3.SS3.p2.1.m1.1.2.2.cmml" xref="S3.SS3.p2.1.m1.1.2.2">𝑖</ci><apply id="S3.SS3.p2.1.m1.1.2.3.1.cmml" xref="S3.SS3.p2.1.m1.1.2.3.2"><csymbol cd="latexml" id="S3.SS3.p2.1.m1.1.2.3.1.1.cmml" xref="S3.SS3.p2.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">i\in[M]</annotation></semantics></math> performs the local updates at <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">t</annotation></semantics></math>-th round. Before optimizing the adapter locally, the client receives the updated emulator <math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{lora}}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><msub id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">𝒘</mi><msub id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.3.m3.1.1.3.2" xref="S3.SS3.p2.3.m3.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS3.p2.3.m3.1.1.3.3" xref="S3.SS3.p2.3.m3.1.1.3.3.cmml"><mi id="S3.SS3.p2.3.m3.1.1.3.3.2" xref="S3.SS3.p2.3.m3.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.3.3.1" xref="S3.SS3.p2.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.3.m3.1.1.3.3.3" xref="S3.SS3.p2.3.m3.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.3.3.1a" xref="S3.SS3.p2.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.3.m3.1.1.3.3.4" xref="S3.SS3.p2.3.m3.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.3.3.1b" xref="S3.SS3.p2.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.3.m3.1.1.3.3.5" xref="S3.SS3.p2.3.m3.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝒘</ci><apply id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.3.1.cmml" xref="S3.SS3.p2.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.3.2.cmml" xref="S3.SS3.p2.3.m3.1.1.3.2">ℰ</ci><apply id="S3.SS3.p2.3.m3.1.1.3.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3"><times id="S3.SS3.p2.3.m3.1.1.3.3.1.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3.1"></times><ci id="S3.SS3.p2.3.m3.1.1.3.3.2.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3.2">𝑙</ci><ci id="S3.SS3.p2.3.m3.1.1.3.3.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3.3">𝑜</ci><ci id="S3.SS3.p2.3.m3.1.1.3.3.4.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3.4">𝑟</ci><ci id="S3.SS3.p2.3.m3.1.1.3.3.5.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">\boldsymbol{w}_{\mathcal{E}_{lora}}</annotation></semantics></math> and adapter <math id="S3.SS3.p2.4.m4.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}" display="inline"><semantics id="S3.SS3.p2.4.m4.1a"><msub id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">𝒘</mi><msub id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.4.m4.1.1.3.2" xref="S3.SS3.p2.4.m4.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.4.m4.1.1.3.3" xref="S3.SS3.p2.4.m4.1.1.3.3.cmml"><mi id="S3.SS3.p2.4.m4.1.1.3.3.2" xref="S3.SS3.p2.4.m4.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.4.m4.1.1.3.3.1" xref="S3.SS3.p2.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.4.m4.1.1.3.3.3" xref="S3.SS3.p2.4.m4.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.4.m4.1.1.3.3.1a" xref="S3.SS3.p2.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.4.m4.1.1.3.3.4" xref="S3.SS3.p2.4.m4.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.4.m4.1.1.3.3.1b" xref="S3.SS3.p2.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.4.m4.1.1.3.3.5" xref="S3.SS3.p2.4.m4.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">𝒘</ci><apply id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.3.1.cmml" xref="S3.SS3.p2.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.3.2.cmml" xref="S3.SS3.p2.4.m4.1.1.3.2">𝒜</ci><apply id="S3.SS3.p2.4.m4.1.1.3.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3"><times id="S3.SS3.p2.4.m4.1.1.3.3.1.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3.1"></times><ci id="S3.SS3.p2.4.m4.1.1.3.3.2.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3.2">𝑙</ci><ci id="S3.SS3.p2.4.m4.1.1.3.3.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3.3">𝑜</ci><ci id="S3.SS3.p2.4.m4.1.1.3.3.4.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3.4">𝑟</ci><ci id="S3.SS3.p2.4.m4.1.1.3.3.5.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}</annotation></semantics></math> from the client, and we denote them by</p>
<table id="A1.EGx7" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8.m1.5" class="ltx_Math" alttext="\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}\leftarrow\boldsymbol{w}_{\mathcal{A}_{lora}},\quad\boldsymbol{w}_{\mathcal{A}_{lora},m}\leftarrow\boldsymbol{w}_{\mathcal{A}_{lora}},\quad\boldsymbol{w}_{\mathcal{E}}\leftarrow\{\boldsymbol{w}_{\mathcal{E}_{init}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}" display="inline"><semantics id="S3.E8.m1.5a"><mrow id="S3.E8.m1.5.5.2" xref="S3.E8.m1.5.5.3.cmml"><mrow id="S3.E8.m1.4.4.1.1" xref="S3.E8.m1.4.4.1.1.cmml"><msubsup id="S3.E8.m1.4.4.1.1.2" xref="S3.E8.m1.4.4.1.1.2.cmml"><mi id="S3.E8.m1.4.4.1.1.2.2.2" xref="S3.E8.m1.4.4.1.1.2.2.2.cmml">𝒘</mi><msub id="S3.E8.m1.4.4.1.1.2.2.3" xref="S3.E8.m1.4.4.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.4.4.1.1.2.2.3.2" xref="S3.E8.m1.4.4.1.1.2.2.3.2.cmml">𝒜</mi><mrow id="S3.E8.m1.4.4.1.1.2.2.3.3" xref="S3.E8.m1.4.4.1.1.2.2.3.3.cmml"><mi id="S3.E8.m1.4.4.1.1.2.2.3.3.2" xref="S3.E8.m1.4.4.1.1.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.2.2.3.3.1" xref="S3.E8.m1.4.4.1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.2.2.3.3.3" xref="S3.E8.m1.4.4.1.1.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.2.2.3.3.1a" xref="S3.E8.m1.4.4.1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.2.2.3.3.4" xref="S3.E8.m1.4.4.1.1.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.2.2.3.3.1b" xref="S3.E8.m1.4.4.1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.2.2.3.3.5" xref="S3.E8.m1.4.4.1.1.2.2.3.3.5.cmml">a</mi></mrow></msub><mrow id="S3.E8.m1.1.1.1.3" xref="S3.E8.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.E8.m1.1.1.1.3.1" xref="S3.E8.m1.4.4.1.1.2.cmml">(</mo><mi id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S3.E8.m1.1.1.1.3.2" xref="S3.E8.m1.4.4.1.1.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.E8.m1.4.4.1.1.1" xref="S3.E8.m1.4.4.1.1.1.cmml">←</mo><msub id="S3.E8.m1.4.4.1.1.3" xref="S3.E8.m1.4.4.1.1.3.cmml"><mi id="S3.E8.m1.4.4.1.1.3.2" xref="S3.E8.m1.4.4.1.1.3.2.cmml">𝒘</mi><msub id="S3.E8.m1.4.4.1.1.3.3" xref="S3.E8.m1.4.4.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.4.4.1.1.3.3.2" xref="S3.E8.m1.4.4.1.1.3.3.2.cmml">𝒜</mi><mrow id="S3.E8.m1.4.4.1.1.3.3.3" xref="S3.E8.m1.4.4.1.1.3.3.3.cmml"><mi id="S3.E8.m1.4.4.1.1.3.3.3.2" xref="S3.E8.m1.4.4.1.1.3.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.3.3.3.1" xref="S3.E8.m1.4.4.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.3.3.3.3" xref="S3.E8.m1.4.4.1.1.3.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.3.3.3.1a" xref="S3.E8.m1.4.4.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.3.3.3.4" xref="S3.E8.m1.4.4.1.1.3.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.4.4.1.1.3.3.3.1b" xref="S3.E8.m1.4.4.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.4.4.1.1.3.3.3.5" xref="S3.E8.m1.4.4.1.1.3.3.3.5.cmml">a</mi></mrow></msub></msub></mrow><mo rspace="1.167em" id="S3.E8.m1.5.5.2.3" xref="S3.E8.m1.5.5.3a.cmml">,</mo><mrow id="S3.E8.m1.5.5.2.2.2" xref="S3.E8.m1.5.5.2.2.3.cmml"><mrow id="S3.E8.m1.5.5.2.2.1.1" xref="S3.E8.m1.5.5.2.2.1.1.cmml"><msub id="S3.E8.m1.5.5.2.2.1.1.2" xref="S3.E8.m1.5.5.2.2.1.1.2.cmml"><mi id="S3.E8.m1.5.5.2.2.1.1.2.2" xref="S3.E8.m1.5.5.2.2.1.1.2.2.cmml">𝒘</mi><mrow id="S3.E8.m1.3.3.2.2" xref="S3.E8.m1.3.3.2.3.cmml"><msub id="S3.E8.m1.3.3.2.2.1" xref="S3.E8.m1.3.3.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.3.3.2.2.1.2" xref="S3.E8.m1.3.3.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E8.m1.3.3.2.2.1.3" xref="S3.E8.m1.3.3.2.2.1.3.cmml"><mi id="S3.E8.m1.3.3.2.2.1.3.2" xref="S3.E8.m1.3.3.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.2.2.1.3.1" xref="S3.E8.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E8.m1.3.3.2.2.1.3.3" xref="S3.E8.m1.3.3.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.2.2.1.3.1a" xref="S3.E8.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E8.m1.3.3.2.2.1.3.4" xref="S3.E8.m1.3.3.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.2.2.1.3.1b" xref="S3.E8.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E8.m1.3.3.2.2.1.3.5" xref="S3.E8.m1.3.3.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E8.m1.3.3.2.2.2" xref="S3.E8.m1.3.3.2.3.cmml">,</mo><mi id="S3.E8.m1.2.2.1.1" xref="S3.E8.m1.2.2.1.1.cmml">m</mi></mrow></msub><mo stretchy="false" id="S3.E8.m1.5.5.2.2.1.1.1" xref="S3.E8.m1.5.5.2.2.1.1.1.cmml">←</mo><msub id="S3.E8.m1.5.5.2.2.1.1.3" xref="S3.E8.m1.5.5.2.2.1.1.3.cmml"><mi id="S3.E8.m1.5.5.2.2.1.1.3.2" xref="S3.E8.m1.5.5.2.2.1.1.3.2.cmml">𝒘</mi><msub id="S3.E8.m1.5.5.2.2.1.1.3.3" xref="S3.E8.m1.5.5.2.2.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.5.5.2.2.1.1.3.3.2" xref="S3.E8.m1.5.5.2.2.1.1.3.3.2.cmml">𝒜</mi><mrow id="S3.E8.m1.5.5.2.2.1.1.3.3.3" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.cmml"><mi id="S3.E8.m1.5.5.2.2.1.1.3.3.3.2" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.1.1.3.3.3.1" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.1.1.3.3.3.3" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.1.1.3.3.3.1a" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.1.1.3.3.3.4" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.1.1.3.3.3.1b" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.1.1.3.3.3.5" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.5.cmml">a</mi></mrow></msub></msub></mrow><mo rspace="1.167em" id="S3.E8.m1.5.5.2.2.2.3" xref="S3.E8.m1.5.5.2.2.3a.cmml">,</mo><mrow id="S3.E8.m1.5.5.2.2.2.2" xref="S3.E8.m1.5.5.2.2.2.2.cmml"><msub id="S3.E8.m1.5.5.2.2.2.2.4" xref="S3.E8.m1.5.5.2.2.2.2.4.cmml"><mi id="S3.E8.m1.5.5.2.2.2.2.4.2" xref="S3.E8.m1.5.5.2.2.2.2.4.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.5.5.2.2.2.2.4.3" xref="S3.E8.m1.5.5.2.2.2.2.4.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.E8.m1.5.5.2.2.2.2.3" xref="S3.E8.m1.5.5.2.2.2.2.3.cmml">←</mo><mrow id="S3.E8.m1.5.5.2.2.2.2.2.2" xref="S3.E8.m1.5.5.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E8.m1.5.5.2.2.2.2.2.2.3" xref="S3.E8.m1.5.5.2.2.2.2.2.3.cmml">{</mo><msub id="S3.E8.m1.5.5.2.2.2.2.1.1.1" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.cmml"><mi id="S3.E8.m1.5.5.2.2.2.2.1.1.1.2" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.2.cmml">𝒘</mi><msub id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.2" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.2.cmml">ℰ</mi><mrow id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.cmml"><mi id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.2" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.3" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1a" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.4" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1b" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.5" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><mo id="S3.E8.m1.5.5.2.2.2.2.2.2.4" xref="S3.E8.m1.5.5.2.2.2.2.2.3.cmml">,</mo><msub id="S3.E8.m1.5.5.2.2.2.2.2.2.2" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.cmml"><mi id="S3.E8.m1.5.5.2.2.2.2.2.2.2.2" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.2.cmml">𝒘</mi><msub id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.2" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.2.cmml">ℰ</mi><mrow id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.cmml"><mi id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.2" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.3" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1a" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.4" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1b" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1.cmml">​</mo><mi id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.5" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo stretchy="false" id="S3.E8.m1.5.5.2.2.2.2.2.2.5" xref="S3.E8.m1.5.5.2.2.2.2.2.3.cmml">}</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.5b"><apply id="S3.E8.m1.5.5.3.cmml" xref="S3.E8.m1.5.5.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.3a.cmml" xref="S3.E8.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S3.E8.m1.4.4.1.1.cmml" xref="S3.E8.m1.4.4.1.1"><ci id="S3.E8.m1.4.4.1.1.1.cmml" xref="S3.E8.m1.4.4.1.1.1">←</ci><apply id="S3.E8.m1.4.4.1.1.2.cmml" xref="S3.E8.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.1.1.2.1.cmml" xref="S3.E8.m1.4.4.1.1.2">superscript</csymbol><apply id="S3.E8.m1.4.4.1.1.2.2.cmml" xref="S3.E8.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.1.1.2.2.1.cmml" xref="S3.E8.m1.4.4.1.1.2">subscript</csymbol><ci id="S3.E8.m1.4.4.1.1.2.2.2.cmml" xref="S3.E8.m1.4.4.1.1.2.2.2">𝒘</ci><apply id="S3.E8.m1.4.4.1.1.2.2.3.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.1.1.2.2.3.1.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3">subscript</csymbol><ci id="S3.E8.m1.4.4.1.1.2.2.3.2.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.2">𝒜</ci><apply id="S3.E8.m1.4.4.1.1.2.2.3.3.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3"><times id="S3.E8.m1.4.4.1.1.2.2.3.3.1.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3.1"></times><ci id="S3.E8.m1.4.4.1.1.2.2.3.3.2.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3.2">𝑙</ci><ci id="S3.E8.m1.4.4.1.1.2.2.3.3.3.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3.3">𝑜</ci><ci id="S3.E8.m1.4.4.1.1.2.2.3.3.4.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3.4">𝑟</ci><ci id="S3.E8.m1.4.4.1.1.2.2.3.3.5.cmml" xref="S3.E8.m1.4.4.1.1.2.2.3.3.5">𝑎</ci></apply></apply></apply><ci id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1">𝑡</ci></apply><apply id="S3.E8.m1.4.4.1.1.3.cmml" xref="S3.E8.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.1.1.3.1.cmml" xref="S3.E8.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E8.m1.4.4.1.1.3.2.cmml" xref="S3.E8.m1.4.4.1.1.3.2">𝒘</ci><apply id="S3.E8.m1.4.4.1.1.3.3.cmml" xref="S3.E8.m1.4.4.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.1.1.3.3.1.cmml" xref="S3.E8.m1.4.4.1.1.3.3">subscript</csymbol><ci id="S3.E8.m1.4.4.1.1.3.3.2.cmml" xref="S3.E8.m1.4.4.1.1.3.3.2">𝒜</ci><apply id="S3.E8.m1.4.4.1.1.3.3.3.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3"><times id="S3.E8.m1.4.4.1.1.3.3.3.1.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3.1"></times><ci id="S3.E8.m1.4.4.1.1.3.3.3.2.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3.2">𝑙</ci><ci id="S3.E8.m1.4.4.1.1.3.3.3.3.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3.3">𝑜</ci><ci id="S3.E8.m1.4.4.1.1.3.3.3.4.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3.4">𝑟</ci><ci id="S3.E8.m1.4.4.1.1.3.3.3.5.cmml" xref="S3.E8.m1.4.4.1.1.3.3.3.5">𝑎</ci></apply></apply></apply></apply><apply id="S3.E8.m1.5.5.2.2.3.cmml" xref="S3.E8.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.3a.cmml" xref="S3.E8.m1.5.5.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E8.m1.5.5.2.2.1.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1"><ci id="S3.E8.m1.5.5.2.2.1.1.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1.1">←</ci><apply id="S3.E8.m1.5.5.2.2.1.1.2.cmml" xref="S3.E8.m1.5.5.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.1.1.2.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1.2">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.1.1.2.2.cmml" xref="S3.E8.m1.5.5.2.2.1.1.2.2">𝒘</ci><list id="S3.E8.m1.3.3.2.3.cmml" xref="S3.E8.m1.3.3.2.2"><apply id="S3.E8.m1.3.3.2.2.1.cmml" xref="S3.E8.m1.3.3.2.2.1"><csymbol cd="ambiguous" id="S3.E8.m1.3.3.2.2.1.1.cmml" xref="S3.E8.m1.3.3.2.2.1">subscript</csymbol><ci id="S3.E8.m1.3.3.2.2.1.2.cmml" xref="S3.E8.m1.3.3.2.2.1.2">𝒜</ci><apply id="S3.E8.m1.3.3.2.2.1.3.cmml" xref="S3.E8.m1.3.3.2.2.1.3"><times id="S3.E8.m1.3.3.2.2.1.3.1.cmml" xref="S3.E8.m1.3.3.2.2.1.3.1"></times><ci id="S3.E8.m1.3.3.2.2.1.3.2.cmml" xref="S3.E8.m1.3.3.2.2.1.3.2">𝑙</ci><ci id="S3.E8.m1.3.3.2.2.1.3.3.cmml" xref="S3.E8.m1.3.3.2.2.1.3.3">𝑜</ci><ci id="S3.E8.m1.3.3.2.2.1.3.4.cmml" xref="S3.E8.m1.3.3.2.2.1.3.4">𝑟</ci><ci id="S3.E8.m1.3.3.2.2.1.3.5.cmml" xref="S3.E8.m1.3.3.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E8.m1.2.2.1.1.cmml" xref="S3.E8.m1.2.2.1.1">𝑚</ci></list></apply><apply id="S3.E8.m1.5.5.2.2.1.1.3.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.1.1.3.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.1.1.3.2.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.2">𝒘</ci><apply id="S3.E8.m1.5.5.2.2.1.1.3.3.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.1.1.3.3.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.1.1.3.3.2.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.2">𝒜</ci><apply id="S3.E8.m1.5.5.2.2.1.1.3.3.3.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3"><times id="S3.E8.m1.5.5.2.2.1.1.3.3.3.1.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.1"></times><ci id="S3.E8.m1.5.5.2.2.1.1.3.3.3.2.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.2">𝑙</ci><ci id="S3.E8.m1.5.5.2.2.1.1.3.3.3.3.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.3">𝑜</ci><ci id="S3.E8.m1.5.5.2.2.1.1.3.3.3.4.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.4">𝑟</ci><ci id="S3.E8.m1.5.5.2.2.1.1.3.3.3.5.cmml" xref="S3.E8.m1.5.5.2.2.1.1.3.3.3.5">𝑎</ci></apply></apply></apply></apply><apply id="S3.E8.m1.5.5.2.2.2.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2"><ci id="S3.E8.m1.5.5.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.3">←</ci><apply id="S3.E8.m1.5.5.2.2.2.2.4.cmml" xref="S3.E8.m1.5.5.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.2.2.4.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.4">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.2.2.4.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.4.2">𝒘</ci><ci id="S3.E8.m1.5.5.2.2.2.2.4.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.4.3">ℰ</ci></apply><set id="S3.E8.m1.5.5.2.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2"><apply id="S3.E8.m1.5.5.2.2.2.2.1.1.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.2">𝒘</ci><apply id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.2">ℰ</ci><apply id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3"><times id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.1"></times><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.2">𝑖</ci><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.3">𝑛</ci><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.4.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.4">𝑖</ci><ci id="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.5.cmml" xref="S3.E8.m1.5.5.2.2.2.2.1.1.1.3.3.5">𝑡</ci></apply></apply></apply><apply id="S3.E8.m1.5.5.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.2">𝒘</ci><apply id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.2">ℰ</ci><apply id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3"><times id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.1"></times><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.2.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.2">𝑙</ci><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.3.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.3">𝑜</ci><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.4.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.4">𝑟</ci><ci id="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.5.cmml" xref="S3.E8.m1.5.5.2.2.2.2.2.2.2.3.3.5">𝑎</ci></apply></apply></apply></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.5c">\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora}}^{(t)}\leftarrow\boldsymbol{w}_{\mathcal{A}_{lora}},\quad\boldsymbol{w}_{\mathcal{A}_{lora},m}\leftarrow\boldsymbol{w}_{\mathcal{A}_{lora}},\quad\boldsymbol{w}_{\mathcal{E}}\leftarrow\{\boldsymbol{w}_{\mathcal{E}_{init}},\boldsymbol{w}_{\mathcal{E}_{lora}}\}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.7" class="ltx_p">Suppose the client performs the local update for <math id="S3.SS3.p2.5.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS3.p2.5.m1.1a"><mi id="S3.SS3.p2.5.m1.1.1" xref="S3.SS3.p2.5.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m1.1b"><ci id="S3.SS3.p2.5.m1.1.1.cmml" xref="S3.SS3.p2.5.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m1.1c">K</annotation></semantics></math> times. In each local update, we solely optimize <math id="S3.SS3.p2.6.m2.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="S3.SS3.p2.6.m2.2a"><msub id="S3.SS3.p2.6.m2.2.3" xref="S3.SS3.p2.6.m2.2.3.cmml"><mi id="S3.SS3.p2.6.m2.2.3.2" xref="S3.SS3.p2.6.m2.2.3.2.cmml">𝒘</mi><mrow id="S3.SS3.p2.6.m2.2.2.2.2" xref="S3.SS3.p2.6.m2.2.2.2.3.cmml"><msub id="S3.SS3.p2.6.m2.2.2.2.2.1" xref="S3.SS3.p2.6.m2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.6.m2.2.2.2.2.1.2" xref="S3.SS3.p2.6.m2.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.6.m2.2.2.2.2.1.3" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.cmml"><mi id="S3.SS3.p2.6.m2.2.2.2.2.1.3.2" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m2.2.2.2.2.1.3.1" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.6.m2.2.2.2.2.1.3.3" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m2.2.2.2.2.1.3.1a" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.6.m2.2.2.2.2.1.3.4" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m2.2.2.2.2.1.3.1b" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.6.m2.2.2.2.2.1.3.5" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.SS3.p2.6.m2.2.2.2.2.2" xref="S3.SS3.p2.6.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.6.m2.1.1.1.1" xref="S3.SS3.p2.6.m2.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m2.2b"><apply id="S3.SS3.p2.6.m2.2.3.cmml" xref="S3.SS3.p2.6.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m2.2.3.1.cmml" xref="S3.SS3.p2.6.m2.2.3">subscript</csymbol><ci id="S3.SS3.p2.6.m2.2.3.2.cmml" xref="S3.SS3.p2.6.m2.2.3.2">𝒘</ci><list id="S3.SS3.p2.6.m2.2.2.2.3.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2"><apply id="S3.SS3.p2.6.m2.2.2.2.2.1.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m2.2.2.2.2.1.1.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1">subscript</csymbol><ci id="S3.SS3.p2.6.m2.2.2.2.2.1.2.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.2">𝒜</ci><apply id="S3.SS3.p2.6.m2.2.2.2.2.1.3.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3"><times id="S3.SS3.p2.6.m2.2.2.2.2.1.3.1.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.1"></times><ci id="S3.SS3.p2.6.m2.2.2.2.2.1.3.2.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.SS3.p2.6.m2.2.2.2.2.1.3.3.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.SS3.p2.6.m2.2.2.2.2.1.3.4.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.SS3.p2.6.m2.2.2.2.2.1.3.5.cmml" xref="S3.SS3.p2.6.m2.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.SS3.p2.6.m2.1.1.1.1.cmml" xref="S3.SS3.p2.6.m2.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m2.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math>, a LoRA module of the adapter. Therefore, based on Equation (<a href="#S3.E6" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), the gradient w.r.t. <math id="S3.SS3.p2.7.m3.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="S3.SS3.p2.7.m3.2a"><msub id="S3.SS3.p2.7.m3.2.3" xref="S3.SS3.p2.7.m3.2.3.cmml"><mi id="S3.SS3.p2.7.m3.2.3.2" xref="S3.SS3.p2.7.m3.2.3.2.cmml">𝒘</mi><mrow id="S3.SS3.p2.7.m3.2.2.2.2" xref="S3.SS3.p2.7.m3.2.2.2.3.cmml"><msub id="S3.SS3.p2.7.m3.2.2.2.2.1" xref="S3.SS3.p2.7.m3.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.7.m3.2.2.2.2.1.2" xref="S3.SS3.p2.7.m3.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.7.m3.2.2.2.2.1.3" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.cmml"><mi id="S3.SS3.p2.7.m3.2.2.2.2.1.3.2" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.7.m3.2.2.2.2.1.3.1" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.7.m3.2.2.2.2.1.3.3" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.7.m3.2.2.2.2.1.3.1a" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.7.m3.2.2.2.2.1.3.4" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.7.m3.2.2.2.2.1.3.1b" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.7.m3.2.2.2.2.1.3.5" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.SS3.p2.7.m3.2.2.2.2.2" xref="S3.SS3.p2.7.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.7.m3.1.1.1.1" xref="S3.SS3.p2.7.m3.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m3.2b"><apply id="S3.SS3.p2.7.m3.2.3.cmml" xref="S3.SS3.p2.7.m3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.7.m3.2.3.1.cmml" xref="S3.SS3.p2.7.m3.2.3">subscript</csymbol><ci id="S3.SS3.p2.7.m3.2.3.2.cmml" xref="S3.SS3.p2.7.m3.2.3.2">𝒘</ci><list id="S3.SS3.p2.7.m3.2.2.2.3.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2"><apply id="S3.SS3.p2.7.m3.2.2.2.2.1.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.SS3.p2.7.m3.2.2.2.2.1.1.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1">subscript</csymbol><ci id="S3.SS3.p2.7.m3.2.2.2.2.1.2.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.2">𝒜</ci><apply id="S3.SS3.p2.7.m3.2.2.2.2.1.3.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3"><times id="S3.SS3.p2.7.m3.2.2.2.2.1.3.1.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.1"></times><ci id="S3.SS3.p2.7.m3.2.2.2.2.1.3.2.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.SS3.p2.7.m3.2.2.2.2.1.3.3.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.SS3.p2.7.m3.2.2.2.2.1.3.4.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.SS3.p2.7.m3.2.2.2.2.1.3.5.cmml" xref="S3.SS3.p2.7.m3.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.SS3.p2.7.m3.1.1.1.1.cmml" xref="S3.SS3.p2.7.m3.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m3.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math> should be</p>
<table id="A1.EGx8" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E9.m1.11" class="ltx_Math" alttext="\displaystyle g\leftarrow\nabla_{\boldsymbol{w}_{\mathcal{A}_{lora},m}}F_{m}\left(\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}\right)+\epsilon\left(\hat{\boldsymbol{w}}_{\mathcal{A}_{lora},m}-\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}^{(t)}\right)^{T}\left(\frac{\partial\hat{\boldsymbol{w}}_{\mathcal{A}_{lora},m}}{\partial\boldsymbol{w}_{\mathcal{A}_{lora},m}}\right)" display="inline"><semantics id="S3.E9.m1.11a"><mrow id="S3.E9.m1.11.11" xref="S3.E9.m1.11.11.cmml"><mi id="S3.E9.m1.11.11.4" xref="S3.E9.m1.11.11.4.cmml">g</mi><mo stretchy="false" id="S3.E9.m1.11.11.3" xref="S3.E9.m1.11.11.3.cmml">←</mo><mrow id="S3.E9.m1.11.11.2" xref="S3.E9.m1.11.11.2.cmml"><mrow id="S3.E9.m1.10.10.1.1" xref="S3.E9.m1.10.10.1.1.cmml"><mrow id="S3.E9.m1.10.10.1.1.3" xref="S3.E9.m1.10.10.1.1.3.cmml"><msub id="S3.E9.m1.10.10.1.1.3.1" xref="S3.E9.m1.10.10.1.1.3.1.cmml"><mo rspace="0.167em" id="S3.E9.m1.10.10.1.1.3.1.2" xref="S3.E9.m1.10.10.1.1.3.1.2.cmml">∇</mo><msub id="S3.E9.m1.2.2.2" xref="S3.E9.m1.2.2.2.cmml"><mi id="S3.E9.m1.2.2.2.4" xref="S3.E9.m1.2.2.2.4.cmml">𝒘</mi><mrow id="S3.E9.m1.2.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.2.3.cmml"><msub id="S3.E9.m1.2.2.2.2.2.2.1" xref="S3.E9.m1.2.2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.2.2.2.2.2.2.1.2" xref="S3.E9.m1.2.2.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E9.m1.2.2.2.2.2.2.1.3" xref="S3.E9.m1.2.2.2.2.2.2.1.3.cmml"><mi id="S3.E9.m1.2.2.2.2.2.2.1.3.2" xref="S3.E9.m1.2.2.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.2.2.2.2.2.2.1.3.1" xref="S3.E9.m1.2.2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.2.2.2.2.2.2.1.3.3" xref="S3.E9.m1.2.2.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.2.2.2.2.2.2.1.3.1a" xref="S3.E9.m1.2.2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.2.2.2.2.2.2.1.3.4" xref="S3.E9.m1.2.2.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.2.2.2.2.2.2.1.3.1b" xref="S3.E9.m1.2.2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.2.2.2.2.2.2.1.3.5" xref="S3.E9.m1.2.2.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E9.m1.2.2.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S3.E9.m1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.cmml">m</mi></mrow></msub></msub><msub id="S3.E9.m1.10.10.1.1.3.2" xref="S3.E9.m1.10.10.1.1.3.2.cmml"><mi id="S3.E9.m1.10.10.1.1.3.2.2" xref="S3.E9.m1.10.10.1.1.3.2.2.cmml">F</mi><mi id="S3.E9.m1.10.10.1.1.3.2.3" xref="S3.E9.m1.10.10.1.1.3.2.3.cmml">m</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E9.m1.10.10.1.1.2" xref="S3.E9.m1.10.10.1.1.2.cmml">​</mo><mrow id="S3.E9.m1.10.10.1.1.1.1" xref="S3.E9.m1.10.10.1.1.cmml"><mo id="S3.E9.m1.10.10.1.1.1.1.2" xref="S3.E9.m1.10.10.1.1.cmml">(</mo><mrow id="S3.E9.m1.10.10.1.1.1.1.1.2" xref="S3.E9.m1.10.10.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E9.m1.10.10.1.1.1.1.1.2.3" xref="S3.E9.m1.10.10.1.1.1.1.1.3.cmml">{</mo><msub id="S3.E9.m1.10.10.1.1.1.1.1.1.1" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.10.10.1.1.1.1.1.1.1.2" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.10.10.1.1.1.1.1.1.1.3" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1.3.cmml">𝒜</mi></msub><mo id="S3.E9.m1.10.10.1.1.1.1.1.2.4" xref="S3.E9.m1.10.10.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E9.m1.10.10.1.1.1.1.1.2.2" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2.cmml"><mi id="S3.E9.m1.10.10.1.1.1.1.1.2.2.2" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.10.10.1.1.1.1.1.2.2.3" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2.3.cmml">ℰ</mi></msub><mo stretchy="false" id="S3.E9.m1.10.10.1.1.1.1.1.2.5" xref="S3.E9.m1.10.10.1.1.1.1.1.3.cmml">}</mo></mrow><mo id="S3.E9.m1.10.10.1.1.1.1.3" xref="S3.E9.m1.10.10.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.11.11.2.3" xref="S3.E9.m1.11.11.2.3.cmml">+</mo><mrow id="S3.E9.m1.11.11.2.2" xref="S3.E9.m1.11.11.2.2.cmml"><mi id="S3.E9.m1.11.11.2.2.3" xref="S3.E9.m1.11.11.2.2.3.cmml">ϵ</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.11.11.2.2.2" xref="S3.E9.m1.11.11.2.2.2.cmml">​</mo><msup id="S3.E9.m1.11.11.2.2.1" xref="S3.E9.m1.11.11.2.2.1.cmml"><mrow id="S3.E9.m1.11.11.2.2.1.1.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.cmml"><mo id="S3.E9.m1.11.11.2.2.1.1.1.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.11.11.2.2.1.1.1.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.cmml"><msub id="S3.E9.m1.11.11.2.2.1.1.1.1.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.cmml"><mover accent="true" id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.cmml"><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.2.cmml">𝒘</mi><mo id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.E9.m1.4.4.2.2" xref="S3.E9.m1.4.4.2.3.cmml"><msub id="S3.E9.m1.4.4.2.2.1" xref="S3.E9.m1.4.4.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.4.4.2.2.1.2" xref="S3.E9.m1.4.4.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E9.m1.4.4.2.2.1.3" xref="S3.E9.m1.4.4.2.2.1.3.cmml"><mi id="S3.E9.m1.4.4.2.2.1.3.2" xref="S3.E9.m1.4.4.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.4.4.2.2.1.3.1" xref="S3.E9.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.4.4.2.2.1.3.3" xref="S3.E9.m1.4.4.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.4.4.2.2.1.3.1a" xref="S3.E9.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.4.4.2.2.1.3.4" xref="S3.E9.m1.4.4.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.4.4.2.2.1.3.1b" xref="S3.E9.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.4.4.2.2.1.3.5" xref="S3.E9.m1.4.4.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E9.m1.4.4.2.2.2" xref="S3.E9.m1.4.4.2.3.cmml">,</mo><mi id="S3.E9.m1.3.3.1.1" xref="S3.E9.m1.3.3.1.1.cmml">m</mi></mrow></msub><mo id="S3.E9.m1.11.11.2.2.1.1.1.1.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E9.m1.11.11.2.2.1.1.1.1.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.cmml"><mover accent="true" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.cmml"><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.2.cmml">𝒘</mi><mo id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.1.cmml">^</mo></mover><msub id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.2.cmml">𝒜</mi><mrow id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.cmml"><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1a" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.4" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1b" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.5" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.5.cmml">a</mi></mrow></msub><mrow id="S3.E9.m1.5.5.1.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E9.m1.5.5.1.3.1" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.cmml">(</mo><mi id="S3.E9.m1.5.5.1.1" xref="S3.E9.m1.5.5.1.1.cmml">t</mi><mo stretchy="false" id="S3.E9.m1.5.5.1.3.2" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo id="S3.E9.m1.11.11.2.2.1.1.1.3" xref="S3.E9.m1.11.11.2.2.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E9.m1.11.11.2.2.1.3" xref="S3.E9.m1.11.11.2.2.1.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E9.m1.11.11.2.2.2a" xref="S3.E9.m1.11.11.2.2.2.cmml">​</mo><mrow id="S3.E9.m1.11.11.2.2.4.2" xref="S3.E9.m1.9.9.cmml"><mo id="S3.E9.m1.11.11.2.2.4.2.1" xref="S3.E9.m1.9.9.cmml">(</mo><mstyle displaystyle="true" id="S3.E9.m1.9.9" xref="S3.E9.m1.9.9.cmml"><mfrac id="S3.E9.m1.9.9a" xref="S3.E9.m1.9.9.cmml"><mrow id="S3.E9.m1.7.7.2" xref="S3.E9.m1.7.7.2.cmml"><mo rspace="0em" id="S3.E9.m1.7.7.2.3" xref="S3.E9.m1.7.7.2.3.cmml">∂</mo><msub id="S3.E9.m1.7.7.2.4" xref="S3.E9.m1.7.7.2.4.cmml"><mover accent="true" id="S3.E9.m1.7.7.2.4.2" xref="S3.E9.m1.7.7.2.4.2.cmml"><mi id="S3.E9.m1.7.7.2.4.2.2" xref="S3.E9.m1.7.7.2.4.2.2.cmml">𝒘</mi><mo id="S3.E9.m1.7.7.2.4.2.1" xref="S3.E9.m1.7.7.2.4.2.1.cmml">^</mo></mover><mrow id="S3.E9.m1.7.7.2.2.2.2" xref="S3.E9.m1.7.7.2.2.2.3.cmml"><msub id="S3.E9.m1.7.7.2.2.2.2.1" xref="S3.E9.m1.7.7.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.7.7.2.2.2.2.1.2" xref="S3.E9.m1.7.7.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E9.m1.7.7.2.2.2.2.1.3" xref="S3.E9.m1.7.7.2.2.2.2.1.3.cmml"><mi id="S3.E9.m1.7.7.2.2.2.2.1.3.2" xref="S3.E9.m1.7.7.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.7.7.2.2.2.2.1.3.1" xref="S3.E9.m1.7.7.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.7.7.2.2.2.2.1.3.3" xref="S3.E9.m1.7.7.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.7.7.2.2.2.2.1.3.1a" xref="S3.E9.m1.7.7.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.7.7.2.2.2.2.1.3.4" xref="S3.E9.m1.7.7.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.7.7.2.2.2.2.1.3.1b" xref="S3.E9.m1.7.7.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.7.7.2.2.2.2.1.3.5" xref="S3.E9.m1.7.7.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E9.m1.7.7.2.2.2.2.2" xref="S3.E9.m1.7.7.2.2.2.3.cmml">,</mo><mi id="S3.E9.m1.6.6.1.1.1.1" xref="S3.E9.m1.6.6.1.1.1.1.cmml">m</mi></mrow></msub></mrow><mrow id="S3.E9.m1.9.9.4" xref="S3.E9.m1.9.9.4.cmml"><mo rspace="0em" id="S3.E9.m1.9.9.4.3" xref="S3.E9.m1.9.9.4.3.cmml">∂</mo><msub id="S3.E9.m1.9.9.4.4" xref="S3.E9.m1.9.9.4.4.cmml"><mi id="S3.E9.m1.9.9.4.4.2" xref="S3.E9.m1.9.9.4.4.2.cmml">𝒘</mi><mrow id="S3.E9.m1.9.9.4.2.2.2" xref="S3.E9.m1.9.9.4.2.2.3.cmml"><msub id="S3.E9.m1.9.9.4.2.2.2.1" xref="S3.E9.m1.9.9.4.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.9.9.4.2.2.2.1.2" xref="S3.E9.m1.9.9.4.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E9.m1.9.9.4.2.2.2.1.3" xref="S3.E9.m1.9.9.4.2.2.2.1.3.cmml"><mi id="S3.E9.m1.9.9.4.2.2.2.1.3.2" xref="S3.E9.m1.9.9.4.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.9.9.4.2.2.2.1.3.1" xref="S3.E9.m1.9.9.4.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.9.9.4.2.2.2.1.3.3" xref="S3.E9.m1.9.9.4.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.9.9.4.2.2.2.1.3.1a" xref="S3.E9.m1.9.9.4.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.9.9.4.2.2.2.1.3.4" xref="S3.E9.m1.9.9.4.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.9.9.4.2.2.2.1.3.1b" xref="S3.E9.m1.9.9.4.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E9.m1.9.9.4.2.2.2.1.3.5" xref="S3.E9.m1.9.9.4.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E9.m1.9.9.4.2.2.2.2" xref="S3.E9.m1.9.9.4.2.2.3.cmml">,</mo><mi id="S3.E9.m1.8.8.3.1.1.1" xref="S3.E9.m1.8.8.3.1.1.1.cmml">m</mi></mrow></msub></mrow></mfrac></mstyle><mo id="S3.E9.m1.11.11.2.2.4.2.2" xref="S3.E9.m1.9.9.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.11b"><apply id="S3.E9.m1.11.11.cmml" xref="S3.E9.m1.11.11"><ci id="S3.E9.m1.11.11.3.cmml" xref="S3.E9.m1.11.11.3">←</ci><ci id="S3.E9.m1.11.11.4.cmml" xref="S3.E9.m1.11.11.4">𝑔</ci><apply id="S3.E9.m1.11.11.2.cmml" xref="S3.E9.m1.11.11.2"><plus id="S3.E9.m1.11.11.2.3.cmml" xref="S3.E9.m1.11.11.2.3"></plus><apply id="S3.E9.m1.10.10.1.1.cmml" xref="S3.E9.m1.10.10.1.1"><times id="S3.E9.m1.10.10.1.1.2.cmml" xref="S3.E9.m1.10.10.1.1.2"></times><apply id="S3.E9.m1.10.10.1.1.3.cmml" xref="S3.E9.m1.10.10.1.1.3"><apply id="S3.E9.m1.10.10.1.1.3.1.cmml" xref="S3.E9.m1.10.10.1.1.3.1"><csymbol cd="ambiguous" id="S3.E9.m1.10.10.1.1.3.1.1.cmml" xref="S3.E9.m1.10.10.1.1.3.1">subscript</csymbol><ci id="S3.E9.m1.10.10.1.1.3.1.2.cmml" xref="S3.E9.m1.10.10.1.1.3.1.2">∇</ci><apply id="S3.E9.m1.2.2.2.cmml" xref="S3.E9.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2">subscript</csymbol><ci id="S3.E9.m1.2.2.2.4.cmml" xref="S3.E9.m1.2.2.2.4">𝒘</ci><list id="S3.E9.m1.2.2.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.2.2.2"><apply id="S3.E9.m1.2.2.2.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1">subscript</csymbol><ci id="S3.E9.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.2">𝒜</ci><apply id="S3.E9.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3"><times id="S3.E9.m1.2.2.2.2.2.2.1.3.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3.1"></times><ci id="S3.E9.m1.2.2.2.2.2.2.1.3.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.E9.m1.2.2.2.2.2.2.1.3.3.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.E9.m1.2.2.2.2.2.2.1.3.4.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.E9.m1.2.2.2.2.2.2.1.3.5.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E9.m1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1">𝑚</ci></list></apply></apply><apply id="S3.E9.m1.10.10.1.1.3.2.cmml" xref="S3.E9.m1.10.10.1.1.3.2"><csymbol cd="ambiguous" id="S3.E9.m1.10.10.1.1.3.2.1.cmml" xref="S3.E9.m1.10.10.1.1.3.2">subscript</csymbol><ci id="S3.E9.m1.10.10.1.1.3.2.2.cmml" xref="S3.E9.m1.10.10.1.1.3.2.2">𝐹</ci><ci id="S3.E9.m1.10.10.1.1.3.2.3.cmml" xref="S3.E9.m1.10.10.1.1.3.2.3">𝑚</ci></apply></apply><set id="S3.E9.m1.10.10.1.1.1.1.1.3.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.2"><apply id="S3.E9.m1.10.10.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9.m1.10.10.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9.m1.10.10.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1.2">𝒘</ci><ci id="S3.E9.m1.10.10.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.1.1.3">𝒜</ci></apply><apply id="S3.E9.m1.10.10.1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.10.10.1.1.1.1.1.2.2.1.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E9.m1.10.10.1.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2.2">𝒘</ci><ci id="S3.E9.m1.10.10.1.1.1.1.1.2.2.3.cmml" xref="S3.E9.m1.10.10.1.1.1.1.1.2.2.3">ℰ</ci></apply></set></apply><apply id="S3.E9.m1.11.11.2.2.cmml" xref="S3.E9.m1.11.11.2.2"><times id="S3.E9.m1.11.11.2.2.2.cmml" xref="S3.E9.m1.11.11.2.2.2"></times><ci id="S3.E9.m1.11.11.2.2.3.cmml" xref="S3.E9.m1.11.11.2.2.3">italic-ϵ</ci><apply id="S3.E9.m1.11.11.2.2.1.cmml" xref="S3.E9.m1.11.11.2.2.1"><csymbol cd="ambiguous" id="S3.E9.m1.11.11.2.2.1.2.cmml" xref="S3.E9.m1.11.11.2.2.1">superscript</csymbol><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1"><minus id="S3.E9.m1.11.11.2.2.1.1.1.1.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.1"></minus><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.11.11.2.2.1.1.1.1.2.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2">subscript</csymbol><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2"><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.1">^</ci><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.2.2.2">𝒘</ci></apply><list id="S3.E9.m1.4.4.2.3.cmml" xref="S3.E9.m1.4.4.2.2"><apply id="S3.E9.m1.4.4.2.2.1.cmml" xref="S3.E9.m1.4.4.2.2.1"><csymbol cd="ambiguous" id="S3.E9.m1.4.4.2.2.1.1.cmml" xref="S3.E9.m1.4.4.2.2.1">subscript</csymbol><ci id="S3.E9.m1.4.4.2.2.1.2.cmml" xref="S3.E9.m1.4.4.2.2.1.2">𝒜</ci><apply id="S3.E9.m1.4.4.2.2.1.3.cmml" xref="S3.E9.m1.4.4.2.2.1.3"><times id="S3.E9.m1.4.4.2.2.1.3.1.cmml" xref="S3.E9.m1.4.4.2.2.1.3.1"></times><ci id="S3.E9.m1.4.4.2.2.1.3.2.cmml" xref="S3.E9.m1.4.4.2.2.1.3.2">𝑙</ci><ci id="S3.E9.m1.4.4.2.2.1.3.3.cmml" xref="S3.E9.m1.4.4.2.2.1.3.3">𝑜</ci><ci id="S3.E9.m1.4.4.2.2.1.3.4.cmml" xref="S3.E9.m1.4.4.2.2.1.3.4">𝑟</ci><ci id="S3.E9.m1.4.4.2.2.1.3.5.cmml" xref="S3.E9.m1.4.4.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E9.m1.3.3.1.1.cmml" xref="S3.E9.m1.3.3.1.1">𝑚</ci></list></apply><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.3.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3">superscript</csymbol><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3">subscript</csymbol><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2"><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.1">^</ci><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.2.2">𝒘</ci></apply><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.2">𝒜</ci><apply id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3"><times id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.1"></times><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.2.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.2">𝑙</ci><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.3.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.3">𝑜</ci><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.4.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.4">𝑟</ci><ci id="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.5.cmml" xref="S3.E9.m1.11.11.2.2.1.1.1.1.3.2.3.3.5">𝑎</ci></apply></apply></apply><ci id="S3.E9.m1.5.5.1.1.cmml" xref="S3.E9.m1.5.5.1.1">𝑡</ci></apply></apply><ci id="S3.E9.m1.11.11.2.2.1.3.cmml" xref="S3.E9.m1.11.11.2.2.1.3">𝑇</ci></apply><apply id="S3.E9.m1.9.9.cmml" xref="S3.E9.m1.11.11.2.2.4.2"><divide id="S3.E9.m1.9.9.5.cmml" xref="S3.E9.m1.11.11.2.2.4.2"></divide><apply id="S3.E9.m1.7.7.2.cmml" xref="S3.E9.m1.7.7.2"><partialdiff id="S3.E9.m1.7.7.2.3.cmml" xref="S3.E9.m1.7.7.2.3"></partialdiff><apply id="S3.E9.m1.7.7.2.4.cmml" xref="S3.E9.m1.7.7.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.2.4.1.cmml" xref="S3.E9.m1.7.7.2.4">subscript</csymbol><apply id="S3.E9.m1.7.7.2.4.2.cmml" xref="S3.E9.m1.7.7.2.4.2"><ci id="S3.E9.m1.7.7.2.4.2.1.cmml" xref="S3.E9.m1.7.7.2.4.2.1">^</ci><ci id="S3.E9.m1.7.7.2.4.2.2.cmml" xref="S3.E9.m1.7.7.2.4.2.2">𝒘</ci></apply><list id="S3.E9.m1.7.7.2.2.2.3.cmml" xref="S3.E9.m1.7.7.2.2.2.2"><apply id="S3.E9.m1.7.7.2.2.2.2.1.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.2.2.2.2.1.1.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1">subscript</csymbol><ci id="S3.E9.m1.7.7.2.2.2.2.1.2.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.2">𝒜</ci><apply id="S3.E9.m1.7.7.2.2.2.2.1.3.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3"><times id="S3.E9.m1.7.7.2.2.2.2.1.3.1.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3.1"></times><ci id="S3.E9.m1.7.7.2.2.2.2.1.3.2.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.E9.m1.7.7.2.2.2.2.1.3.3.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.E9.m1.7.7.2.2.2.2.1.3.4.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.E9.m1.7.7.2.2.2.2.1.3.5.cmml" xref="S3.E9.m1.7.7.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E9.m1.6.6.1.1.1.1.cmml" xref="S3.E9.m1.6.6.1.1.1.1">𝑚</ci></list></apply></apply><apply id="S3.E9.m1.9.9.4.cmml" xref="S3.E9.m1.9.9.4"><partialdiff id="S3.E9.m1.9.9.4.3.cmml" xref="S3.E9.m1.9.9.4.3"></partialdiff><apply id="S3.E9.m1.9.9.4.4.cmml" xref="S3.E9.m1.9.9.4.4"><csymbol cd="ambiguous" id="S3.E9.m1.9.9.4.4.1.cmml" xref="S3.E9.m1.9.9.4.4">subscript</csymbol><ci id="S3.E9.m1.9.9.4.4.2.cmml" xref="S3.E9.m1.9.9.4.4.2">𝒘</ci><list id="S3.E9.m1.9.9.4.2.2.3.cmml" xref="S3.E9.m1.9.9.4.2.2.2"><apply id="S3.E9.m1.9.9.4.2.2.2.1.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1"><csymbol cd="ambiguous" id="S3.E9.m1.9.9.4.2.2.2.1.1.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1">subscript</csymbol><ci id="S3.E9.m1.9.9.4.2.2.2.1.2.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.2">𝒜</ci><apply id="S3.E9.m1.9.9.4.2.2.2.1.3.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3"><times id="S3.E9.m1.9.9.4.2.2.2.1.3.1.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3.1"></times><ci id="S3.E9.m1.9.9.4.2.2.2.1.3.2.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3.2">𝑙</ci><ci id="S3.E9.m1.9.9.4.2.2.2.1.3.3.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3.3">𝑜</ci><ci id="S3.E9.m1.9.9.4.2.2.2.1.3.4.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3.4">𝑟</ci><ci id="S3.E9.m1.9.9.4.2.2.2.1.3.5.cmml" xref="S3.E9.m1.9.9.4.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E9.m1.8.8.3.1.1.1.cmml" xref="S3.E9.m1.8.8.3.1.1.1">𝑚</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.11c">\displaystyle g\leftarrow\nabla_{\boldsymbol{w}_{\mathcal{A}_{lora},m}}F_{m}\left(\{\boldsymbol{w}_{\mathcal{A}},\boldsymbol{w}_{\mathcal{E}}\}\right)+\epsilon\left(\hat{\boldsymbol{w}}_{\mathcal{A}_{lora},m}-\hat{\boldsymbol{w}}_{\mathcal{A}_{lora}}^{(t)}\right)^{T}\left(\frac{\partial\hat{\boldsymbol{w}}_{\mathcal{A}_{lora},m}}{\partial\boldsymbol{w}_{\mathcal{A}_{lora},m}}\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.10" class="ltx_p">where <math id="S3.SS3.p2.8.m1.4" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}}=\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{A}_{lora},m}\}" display="inline"><semantics id="S3.SS3.p2.8.m1.4a"><mrow id="S3.SS3.p2.8.m1.4.4" xref="S3.SS3.p2.8.m1.4.4.cmml"><msub id="S3.SS3.p2.8.m1.4.4.4" xref="S3.SS3.p2.8.m1.4.4.4.cmml"><mi id="S3.SS3.p2.8.m1.4.4.4.2" xref="S3.SS3.p2.8.m1.4.4.4.2.cmml">𝒘</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m1.4.4.4.3" xref="S3.SS3.p2.8.m1.4.4.4.3.cmml">𝒜</mi></msub><mo id="S3.SS3.p2.8.m1.4.4.3" xref="S3.SS3.p2.8.m1.4.4.3.cmml">=</mo><mrow id="S3.SS3.p2.8.m1.4.4.2.2" xref="S3.SS3.p2.8.m1.4.4.2.3.cmml"><mo stretchy="false" id="S3.SS3.p2.8.m1.4.4.2.2.3" xref="S3.SS3.p2.8.m1.4.4.2.3.cmml">{</mo><msub id="S3.SS3.p2.8.m1.3.3.1.1.1" xref="S3.SS3.p2.8.m1.3.3.1.1.1.cmml"><mi id="S3.SS3.p2.8.m1.3.3.1.1.1.2" xref="S3.SS3.p2.8.m1.3.3.1.1.1.2.cmml">𝒘</mi><msub id="S3.SS3.p2.8.m1.3.3.1.1.1.3" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m1.3.3.1.1.1.3.2" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.cmml"><mi id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.2" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.3" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1a" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.4" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1b" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.5" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><mo id="S3.SS3.p2.8.m1.4.4.2.2.4" xref="S3.SS3.p2.8.m1.4.4.2.3.cmml">,</mo><msub id="S3.SS3.p2.8.m1.4.4.2.2.2" xref="S3.SS3.p2.8.m1.4.4.2.2.2.cmml"><mi id="S3.SS3.p2.8.m1.4.4.2.2.2.2" xref="S3.SS3.p2.8.m1.4.4.2.2.2.2.cmml">𝒘</mi><mrow id="S3.SS3.p2.8.m1.2.2.2.2" xref="S3.SS3.p2.8.m1.2.2.2.3.cmml"><msub id="S3.SS3.p2.8.m1.2.2.2.2.1" xref="S3.SS3.p2.8.m1.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m1.2.2.2.2.1.2" xref="S3.SS3.p2.8.m1.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.8.m1.2.2.2.2.1.3" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.cmml"><mi id="S3.SS3.p2.8.m1.2.2.2.2.1.3.2" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.2.2.2.2.1.3.1" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.2.2.2.2.1.3.3" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.2.2.2.2.1.3.1a" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.2.2.2.2.1.3.4" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.8.m1.2.2.2.2.1.3.1b" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.8.m1.2.2.2.2.1.3.5" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.SS3.p2.8.m1.2.2.2.2.2" xref="S3.SS3.p2.8.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.8.m1.1.1.1.1" xref="S3.SS3.p2.8.m1.1.1.1.1.cmml">m</mi></mrow></msub><mo stretchy="false" id="S3.SS3.p2.8.m1.4.4.2.2.5" xref="S3.SS3.p2.8.m1.4.4.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m1.4b"><apply id="S3.SS3.p2.8.m1.4.4.cmml" xref="S3.SS3.p2.8.m1.4.4"><eq id="S3.SS3.p2.8.m1.4.4.3.cmml" xref="S3.SS3.p2.8.m1.4.4.3"></eq><apply id="S3.SS3.p2.8.m1.4.4.4.cmml" xref="S3.SS3.p2.8.m1.4.4.4"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.4.4.4.1.cmml" xref="S3.SS3.p2.8.m1.4.4.4">subscript</csymbol><ci id="S3.SS3.p2.8.m1.4.4.4.2.cmml" xref="S3.SS3.p2.8.m1.4.4.4.2">𝒘</ci><ci id="S3.SS3.p2.8.m1.4.4.4.3.cmml" xref="S3.SS3.p2.8.m1.4.4.4.3">𝒜</ci></apply><set id="S3.SS3.p2.8.m1.4.4.2.3.cmml" xref="S3.SS3.p2.8.m1.4.4.2.2"><apply id="S3.SS3.p2.8.m1.3.3.1.1.1.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.3.3.1.1.1.1.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.2">𝒘</ci><apply id="S3.SS3.p2.8.m1.3.3.1.1.1.3.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.3.3.1.1.1.3.1.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.3.2.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.2">𝒜</ci><apply id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3"><times id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.1"></times><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.2.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.2">𝑖</ci><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.3.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.3">𝑛</ci><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.4.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.4">𝑖</ci><ci id="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.5.cmml" xref="S3.SS3.p2.8.m1.3.3.1.1.1.3.3.5">𝑡</ci></apply></apply></apply><apply id="S3.SS3.p2.8.m1.4.4.2.2.2.cmml" xref="S3.SS3.p2.8.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.4.4.2.2.2.1.cmml" xref="S3.SS3.p2.8.m1.4.4.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.8.m1.4.4.2.2.2.2.cmml" xref="S3.SS3.p2.8.m1.4.4.2.2.2.2">𝒘</ci><list id="S3.SS3.p2.8.m1.2.2.2.3.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2"><apply id="S3.SS3.p2.8.m1.2.2.2.2.1.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.2.2.2.2.1.1.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.SS3.p2.8.m1.2.2.2.2.1.2.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.2">𝒜</ci><apply id="S3.SS3.p2.8.m1.2.2.2.2.1.3.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3"><times id="S3.SS3.p2.8.m1.2.2.2.2.1.3.1.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.1"></times><ci id="S3.SS3.p2.8.m1.2.2.2.2.1.3.2.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.SS3.p2.8.m1.2.2.2.2.1.3.3.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.SS3.p2.8.m1.2.2.2.2.1.3.4.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.SS3.p2.8.m1.2.2.2.2.1.3.5.cmml" xref="S3.SS3.p2.8.m1.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.SS3.p2.8.m1.1.1.1.1.cmml" xref="S3.SS3.p2.8.m1.1.1.1.1">𝑚</ci></list></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m1.4c">\boldsymbol{w}_{\mathcal{A}}=\{\boldsymbol{w}_{\mathcal{A}_{init}},\boldsymbol{w}_{\mathcal{A}_{lora},m}\}</annotation></semantics></math> in the above formula. Let <math id="S3.SS3.p2.9.m2.1" class="ltx_Math" alttext="\textsc{Optim}()" display="inline"><semantics id="S3.SS3.p2.9.m2.1a"><mrow id="S3.SS3.p2.9.m2.1.1" xref="S3.SS3.p2.9.m2.1.1.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS3.p2.9.m2.1.1.2" xref="S3.SS3.p2.9.m2.1.1.2a.cmml">Optim</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p2.9.m2.1.1.1" xref="S3.SS3.p2.9.m2.1.1.1.cmml">​</mo><mrow id="S3.SS3.p2.9.m2.1.1.3.2" xref="S3.SS3.p2.9.m2.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.9.m2.1.1.3.2.1" xref="S3.SS3.p2.9.m2.1.1.3.1.cmml">(</mo><mo stretchy="false" id="S3.SS3.p2.9.m2.1.1.3.2.2" xref="S3.SS3.p2.9.m2.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m2.1b"><apply id="S3.SS3.p2.9.m2.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1"><times id="S3.SS3.p2.9.m2.1.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1"></times><ci id="S3.SS3.p2.9.m2.1.1.2a.cmml" xref="S3.SS3.p2.9.m2.1.1.2"><mtext class="ltx_font_smallcaps" id="S3.SS3.p2.9.m2.1.1.2.cmml" xref="S3.SS3.p2.9.m2.1.1.2">Optim</mtext></ci><list id="S3.SS3.p2.9.m2.1.1.3.1.cmml" xref="S3.SS3.p2.9.m2.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m2.1c">\textsc{Optim}()</annotation></semantics></math> be the optimizer (e.g., SGD and AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov and Hutter, <a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite>) that updates the model parameters, and <math id="S3.SS3.p2.10.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS3.p2.10.m3.1a"><mi id="S3.SS3.p2.10.m3.1.1" xref="S3.SS3.p2.10.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.10.m3.1b"><ci id="S3.SS3.p2.10.m3.1.1.cmml" xref="S3.SS3.p2.10.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.10.m3.1c">\eta</annotation></semantics></math> be the learning rate. Therefore, in each local update, the local model is updated for</p>
<table id="A1.EGx9" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E10.m1.7" class="ltx_Math" alttext="\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora},m}\leftarrow\textsc{Optim}(\boldsymbol{w}_{\mathcal{A}_{lora},m},g,\eta)" display="inline"><semantics id="S3.E10.m1.7a"><mrow id="S3.E10.m1.7.7" xref="S3.E10.m1.7.7.cmml"><msub id="S3.E10.m1.7.7.3" xref="S3.E10.m1.7.7.3.cmml"><mi id="S3.E10.m1.7.7.3.2" xref="S3.E10.m1.7.7.3.2.cmml">𝒘</mi><mrow id="S3.E10.m1.2.2.2.2" xref="S3.E10.m1.2.2.2.3.cmml"><msub id="S3.E10.m1.2.2.2.2.1" xref="S3.E10.m1.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.2.2.2.2.1.2" xref="S3.E10.m1.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E10.m1.2.2.2.2.1.3" xref="S3.E10.m1.2.2.2.2.1.3.cmml"><mi id="S3.E10.m1.2.2.2.2.1.3.2" xref="S3.E10.m1.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.2.2.2.2.1.3.1" xref="S3.E10.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.2.2.2.2.1.3.3" xref="S3.E10.m1.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.2.2.2.2.1.3.1a" xref="S3.E10.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.2.2.2.2.1.3.4" xref="S3.E10.m1.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.2.2.2.2.1.3.1b" xref="S3.E10.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.2.2.2.2.1.3.5" xref="S3.E10.m1.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E10.m1.2.2.2.2.2" xref="S3.E10.m1.2.2.2.3.cmml">,</mo><mi id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml">m</mi></mrow></msub><mo stretchy="false" id="S3.E10.m1.7.7.2" xref="S3.E10.m1.7.7.2.cmml">←</mo><mrow id="S3.E10.m1.7.7.1" xref="S3.E10.m1.7.7.1.cmml"><mtext class="ltx_font_smallcaps" id="S3.E10.m1.7.7.1.3" xref="S3.E10.m1.7.7.1.3a.cmml">Optim</mtext><mo lspace="0em" rspace="0em" id="S3.E10.m1.7.7.1.2" xref="S3.E10.m1.7.7.1.2.cmml">​</mo><mrow id="S3.E10.m1.7.7.1.1.1" xref="S3.E10.m1.7.7.1.1.2.cmml"><mo stretchy="false" id="S3.E10.m1.7.7.1.1.1.2" xref="S3.E10.m1.7.7.1.1.2.cmml">(</mo><msub id="S3.E10.m1.7.7.1.1.1.1" xref="S3.E10.m1.7.7.1.1.1.1.cmml"><mi id="S3.E10.m1.7.7.1.1.1.1.2" xref="S3.E10.m1.7.7.1.1.1.1.2.cmml">𝒘</mi><mrow id="S3.E10.m1.4.4.2.2" xref="S3.E10.m1.4.4.2.3.cmml"><msub id="S3.E10.m1.4.4.2.2.1" xref="S3.E10.m1.4.4.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.4.4.2.2.1.2" xref="S3.E10.m1.4.4.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E10.m1.4.4.2.2.1.3" xref="S3.E10.m1.4.4.2.2.1.3.cmml"><mi id="S3.E10.m1.4.4.2.2.1.3.2" xref="S3.E10.m1.4.4.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.4.4.2.2.1.3.1" xref="S3.E10.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.4.4.2.2.1.3.3" xref="S3.E10.m1.4.4.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.4.4.2.2.1.3.1a" xref="S3.E10.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.4.4.2.2.1.3.4" xref="S3.E10.m1.4.4.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.4.4.2.2.1.3.1b" xref="S3.E10.m1.4.4.2.2.1.3.1.cmml">​</mo><mi id="S3.E10.m1.4.4.2.2.1.3.5" xref="S3.E10.m1.4.4.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E10.m1.4.4.2.2.2" xref="S3.E10.m1.4.4.2.3.cmml">,</mo><mi id="S3.E10.m1.3.3.1.1" xref="S3.E10.m1.3.3.1.1.cmml">m</mi></mrow></msub><mo id="S3.E10.m1.7.7.1.1.1.3" xref="S3.E10.m1.7.7.1.1.2.cmml">,</mo><mi id="S3.E10.m1.5.5" xref="S3.E10.m1.5.5.cmml">g</mi><mo id="S3.E10.m1.7.7.1.1.1.4" xref="S3.E10.m1.7.7.1.1.2.cmml">,</mo><mi id="S3.E10.m1.6.6" xref="S3.E10.m1.6.6.cmml">η</mi><mo stretchy="false" id="S3.E10.m1.7.7.1.1.1.5" xref="S3.E10.m1.7.7.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.7b"><apply id="S3.E10.m1.7.7.cmml" xref="S3.E10.m1.7.7"><ci id="S3.E10.m1.7.7.2.cmml" xref="S3.E10.m1.7.7.2">←</ci><apply id="S3.E10.m1.7.7.3.cmml" xref="S3.E10.m1.7.7.3"><csymbol cd="ambiguous" id="S3.E10.m1.7.7.3.1.cmml" xref="S3.E10.m1.7.7.3">subscript</csymbol><ci id="S3.E10.m1.7.7.3.2.cmml" xref="S3.E10.m1.7.7.3.2">𝒘</ci><list id="S3.E10.m1.2.2.2.3.cmml" xref="S3.E10.m1.2.2.2.2"><apply id="S3.E10.m1.2.2.2.2.1.cmml" xref="S3.E10.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.2.2.1.1.cmml" xref="S3.E10.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.E10.m1.2.2.2.2.1.2.cmml" xref="S3.E10.m1.2.2.2.2.1.2">𝒜</ci><apply id="S3.E10.m1.2.2.2.2.1.3.cmml" xref="S3.E10.m1.2.2.2.2.1.3"><times id="S3.E10.m1.2.2.2.2.1.3.1.cmml" xref="S3.E10.m1.2.2.2.2.1.3.1"></times><ci id="S3.E10.m1.2.2.2.2.1.3.2.cmml" xref="S3.E10.m1.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.E10.m1.2.2.2.2.1.3.3.cmml" xref="S3.E10.m1.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.E10.m1.2.2.2.2.1.3.4.cmml" xref="S3.E10.m1.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.E10.m1.2.2.2.2.1.3.5.cmml" xref="S3.E10.m1.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1">𝑚</ci></list></apply><apply id="S3.E10.m1.7.7.1.cmml" xref="S3.E10.m1.7.7.1"><times id="S3.E10.m1.7.7.1.2.cmml" xref="S3.E10.m1.7.7.1.2"></times><ci id="S3.E10.m1.7.7.1.3a.cmml" xref="S3.E10.m1.7.7.1.3"><mtext class="ltx_font_smallcaps" id="S3.E10.m1.7.7.1.3.cmml" xref="S3.E10.m1.7.7.1.3">Optim</mtext></ci><vector id="S3.E10.m1.7.7.1.1.2.cmml" xref="S3.E10.m1.7.7.1.1.1"><apply id="S3.E10.m1.7.7.1.1.1.1.cmml" xref="S3.E10.m1.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S3.E10.m1.7.7.1.1.1.1.1.cmml" xref="S3.E10.m1.7.7.1.1.1.1">subscript</csymbol><ci id="S3.E10.m1.7.7.1.1.1.1.2.cmml" xref="S3.E10.m1.7.7.1.1.1.1.2">𝒘</ci><list id="S3.E10.m1.4.4.2.3.cmml" xref="S3.E10.m1.4.4.2.2"><apply id="S3.E10.m1.4.4.2.2.1.cmml" xref="S3.E10.m1.4.4.2.2.1"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.2.2.1.1.cmml" xref="S3.E10.m1.4.4.2.2.1">subscript</csymbol><ci id="S3.E10.m1.4.4.2.2.1.2.cmml" xref="S3.E10.m1.4.4.2.2.1.2">𝒜</ci><apply id="S3.E10.m1.4.4.2.2.1.3.cmml" xref="S3.E10.m1.4.4.2.2.1.3"><times id="S3.E10.m1.4.4.2.2.1.3.1.cmml" xref="S3.E10.m1.4.4.2.2.1.3.1"></times><ci id="S3.E10.m1.4.4.2.2.1.3.2.cmml" xref="S3.E10.m1.4.4.2.2.1.3.2">𝑙</ci><ci id="S3.E10.m1.4.4.2.2.1.3.3.cmml" xref="S3.E10.m1.4.4.2.2.1.3.3">𝑜</ci><ci id="S3.E10.m1.4.4.2.2.1.3.4.cmml" xref="S3.E10.m1.4.4.2.2.1.3.4">𝑟</ci><ci id="S3.E10.m1.4.4.2.2.1.3.5.cmml" xref="S3.E10.m1.4.4.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E10.m1.3.3.1.1.cmml" xref="S3.E10.m1.3.3.1.1">𝑚</ci></list></apply><ci id="S3.E10.m1.5.5.cmml" xref="S3.E10.m1.5.5">𝑔</ci><ci id="S3.E10.m1.6.6.cmml" xref="S3.E10.m1.6.6">𝜂</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.7c">\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora},m}\leftarrow\textsc{Optim}(\boldsymbol{w}_{\mathcal{A}_{lora},m},g,\eta)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.12" class="ltx_p">After finishing the local update, the client <math id="S3.SS3.p2.11.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.p2.11.m1.1a"><mi id="S3.SS3.p2.11.m1.1.1" xref="S3.SS3.p2.11.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.11.m1.1b"><ci id="S3.SS3.p2.11.m1.1.1.cmml" xref="S3.SS3.p2.11.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.11.m1.1c">i</annotation></semantics></math> sends <math id="S3.SS3.p2.12.m2.2" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="S3.SS3.p2.12.m2.2a"><msub id="S3.SS3.p2.12.m2.2.3" xref="S3.SS3.p2.12.m2.2.3.cmml"><mi id="S3.SS3.p2.12.m2.2.3.2" xref="S3.SS3.p2.12.m2.2.3.2.cmml">𝒘</mi><mrow id="S3.SS3.p2.12.m2.2.2.2.2" xref="S3.SS3.p2.12.m2.2.2.2.3.cmml"><msub id="S3.SS3.p2.12.m2.2.2.2.2.1" xref="S3.SS3.p2.12.m2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.12.m2.2.2.2.2.1.2" xref="S3.SS3.p2.12.m2.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.SS3.p2.12.m2.2.2.2.2.1.3" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.cmml"><mi id="S3.SS3.p2.12.m2.2.2.2.2.1.3.2" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m2.2.2.2.2.1.3.1" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.12.m2.2.2.2.2.1.3.3" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m2.2.2.2.2.1.3.1a" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.12.m2.2.2.2.2.1.3.4" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m2.2.2.2.2.1.3.1b" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.12.m2.2.2.2.2.1.3.5" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.SS3.p2.12.m2.2.2.2.2.2" xref="S3.SS3.p2.12.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.12.m2.1.1.1.1" xref="S3.SS3.p2.12.m2.1.1.1.1.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.12.m2.2b"><apply id="S3.SS3.p2.12.m2.2.3.cmml" xref="S3.SS3.p2.12.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.12.m2.2.3.1.cmml" xref="S3.SS3.p2.12.m2.2.3">subscript</csymbol><ci id="S3.SS3.p2.12.m2.2.3.2.cmml" xref="S3.SS3.p2.12.m2.2.3.2">𝒘</ci><list id="S3.SS3.p2.12.m2.2.2.2.3.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2"><apply id="S3.SS3.p2.12.m2.2.2.2.2.1.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.SS3.p2.12.m2.2.2.2.2.1.1.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1">subscript</csymbol><ci id="S3.SS3.p2.12.m2.2.2.2.2.1.2.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.2">𝒜</ci><apply id="S3.SS3.p2.12.m2.2.2.2.2.1.3.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3"><times id="S3.SS3.p2.12.m2.2.2.2.2.1.3.1.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.1"></times><ci id="S3.SS3.p2.12.m2.2.2.2.2.1.3.2.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.SS3.p2.12.m2.2.2.2.2.1.3.3.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.SS3.p2.12.m2.2.2.2.2.1.3.4.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.SS3.p2.12.m2.2.2.2.2.1.3.5.cmml" xref="S3.SS3.p2.12.m2.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.SS3.p2.12.m2.1.1.1.1.cmml" xref="S3.SS3.p2.12.m2.1.1.1.1">𝑚</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.12.m2.2c">\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math> to the server.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Model Aggregation</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.6" class="ltx_p">During the server aggregation, the server performs the weighted average to update the adapters <math id="S3.SS4.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS4.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">\mathcal{A}</annotation></semantics></math> and fine-tune the emulator <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">\mathcal{E}</annotation></semantics></math>. By enabling the LoRA, only the parameters <math id="S3.SS4.p1.3.m3.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{lora}}" display="inline"><semantics id="S3.SS4.p1.3.m3.1a"><msub id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml"><mi id="S3.SS4.p1.3.m3.1.1.2" xref="S3.SS4.p1.3.m3.1.1.2.cmml">𝒘</mi><msub id="S3.SS4.p1.3.m3.1.1.3" xref="S3.SS4.p1.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.3.m3.1.1.3.2" xref="S3.SS4.p1.3.m3.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS4.p1.3.m3.1.1.3.3" xref="S3.SS4.p1.3.m3.1.1.3.3.cmml"><mi id="S3.SS4.p1.3.m3.1.1.3.3.2" xref="S3.SS4.p1.3.m3.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.3.m3.1.1.3.3.1" xref="S3.SS4.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.3.m3.1.1.3.3.3" xref="S3.SS4.p1.3.m3.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.3.m3.1.1.3.3.1a" xref="S3.SS4.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.3.m3.1.1.3.3.4" xref="S3.SS4.p1.3.m3.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.3.m3.1.1.3.3.1b" xref="S3.SS4.p1.3.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.3.m3.1.1.3.3.5" xref="S3.SS4.p1.3.m3.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><apply id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2">𝒘</ci><apply id="S3.SS4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.2">𝒜</ci><apply id="S3.SS4.p1.3.m3.1.1.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3"><times id="S3.SS4.p1.3.m3.1.1.3.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.1"></times><ci id="S3.SS4.p1.3.m3.1.1.3.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2">𝑙</ci><ci id="S3.SS4.p1.3.m3.1.1.3.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.3">𝑜</ci><ci id="S3.SS4.p1.3.m3.1.1.3.3.4.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.4">𝑟</ci><ci id="S3.SS4.p1.3.m3.1.1.3.3.5.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">\boldsymbol{w}_{\mathcal{A}_{lora}}</annotation></semantics></math> in the adapter and <math id="S3.SS4.p1.4.m4.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{lora}}" display="inline"><semantics id="S3.SS4.p1.4.m4.1a"><msub id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml"><mi id="S3.SS4.p1.4.m4.1.1.2" xref="S3.SS4.p1.4.m4.1.1.2.cmml">𝒘</mi><msub id="S3.SS4.p1.4.m4.1.1.3" xref="S3.SS4.p1.4.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.4.m4.1.1.3.2" xref="S3.SS4.p1.4.m4.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS4.p1.4.m4.1.1.3.3" xref="S3.SS4.p1.4.m4.1.1.3.3.cmml"><mi id="S3.SS4.p1.4.m4.1.1.3.3.2" xref="S3.SS4.p1.4.m4.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.4.m4.1.1.3.3.1" xref="S3.SS4.p1.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.4.m4.1.1.3.3.3" xref="S3.SS4.p1.4.m4.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.4.m4.1.1.3.3.1a" xref="S3.SS4.p1.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.4.m4.1.1.3.3.4" xref="S3.SS4.p1.4.m4.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.4.m4.1.1.3.3.1b" xref="S3.SS4.p1.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.4.m4.1.1.3.3.5" xref="S3.SS4.p1.4.m4.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b"><apply id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.1.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p1.4.m4.1.1.2.cmml" xref="S3.SS4.p1.4.m4.1.1.2">𝒘</ci><apply id="S3.SS4.p1.4.m4.1.1.3.cmml" xref="S3.SS4.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.1.1.3.1.cmml" xref="S3.SS4.p1.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.4.m4.1.1.3.2.cmml" xref="S3.SS4.p1.4.m4.1.1.3.2">ℰ</ci><apply id="S3.SS4.p1.4.m4.1.1.3.3.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3"><times id="S3.SS4.p1.4.m4.1.1.3.3.1.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3.1"></times><ci id="S3.SS4.p1.4.m4.1.1.3.3.2.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3.2">𝑙</ci><ci id="S3.SS4.p1.4.m4.1.1.3.3.3.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3.3">𝑜</ci><ci id="S3.SS4.p1.4.m4.1.1.3.3.4.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3.4">𝑟</ci><ci id="S3.SS4.p1.4.m4.1.1.3.3.5.cmml" xref="S3.SS4.p1.4.m4.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">\boldsymbol{w}_{\mathcal{E}_{lora}}</annotation></semantics></math> in the emulator are updated, while the rest (i.e., <math id="S3.SS4.p1.5.m5.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{A}_{init}}" display="inline"><semantics id="S3.SS4.p1.5.m5.1a"><msub id="S3.SS4.p1.5.m5.1.1" xref="S3.SS4.p1.5.m5.1.1.cmml"><mi id="S3.SS4.p1.5.m5.1.1.2" xref="S3.SS4.p1.5.m5.1.1.2.cmml">𝒘</mi><msub id="S3.SS4.p1.5.m5.1.1.3" xref="S3.SS4.p1.5.m5.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.5.m5.1.1.3.2" xref="S3.SS4.p1.5.m5.1.1.3.2.cmml">𝒜</mi><mrow id="S3.SS4.p1.5.m5.1.1.3.3" xref="S3.SS4.p1.5.m5.1.1.3.3.cmml"><mi id="S3.SS4.p1.5.m5.1.1.3.3.2" xref="S3.SS4.p1.5.m5.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.5.m5.1.1.3.3.1" xref="S3.SS4.p1.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.5.m5.1.1.3.3.3" xref="S3.SS4.p1.5.m5.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.5.m5.1.1.3.3.1a" xref="S3.SS4.p1.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.5.m5.1.1.3.3.4" xref="S3.SS4.p1.5.m5.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.5.m5.1.1.3.3.1b" xref="S3.SS4.p1.5.m5.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.5.m5.1.1.3.3.5" xref="S3.SS4.p1.5.m5.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.1b"><apply id="S3.SS4.p1.5.m5.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.p1.5.m5.1.1.2.cmml" xref="S3.SS4.p1.5.m5.1.1.2">𝒘</ci><apply id="S3.SS4.p1.5.m5.1.1.3.cmml" xref="S3.SS4.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.3.1.cmml" xref="S3.SS4.p1.5.m5.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.5.m5.1.1.3.2.cmml" xref="S3.SS4.p1.5.m5.1.1.3.2">𝒜</ci><apply id="S3.SS4.p1.5.m5.1.1.3.3.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3"><times id="S3.SS4.p1.5.m5.1.1.3.3.1.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3.1"></times><ci id="S3.SS4.p1.5.m5.1.1.3.3.2.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3.2">𝑖</ci><ci id="S3.SS4.p1.5.m5.1.1.3.3.3.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3.3">𝑛</ci><ci id="S3.SS4.p1.5.m5.1.1.3.3.4.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3.4">𝑖</ci><ci id="S3.SS4.p1.5.m5.1.1.3.3.5.cmml" xref="S3.SS4.p1.5.m5.1.1.3.3.5">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.1c">\boldsymbol{w}_{\mathcal{A}_{init}}</annotation></semantics></math> and <math id="S3.SS4.p1.6.m6.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{init}}" display="inline"><semantics id="S3.SS4.p1.6.m6.1a"><msub id="S3.SS4.p1.6.m6.1.1" xref="S3.SS4.p1.6.m6.1.1.cmml"><mi id="S3.SS4.p1.6.m6.1.1.2" xref="S3.SS4.p1.6.m6.1.1.2.cmml">𝒘</mi><msub id="S3.SS4.p1.6.m6.1.1.3" xref="S3.SS4.p1.6.m6.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.6.m6.1.1.3.2" xref="S3.SS4.p1.6.m6.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS4.p1.6.m6.1.1.3.3" xref="S3.SS4.p1.6.m6.1.1.3.3.cmml"><mi id="S3.SS4.p1.6.m6.1.1.3.3.2" xref="S3.SS4.p1.6.m6.1.1.3.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.6.m6.1.1.3.3.1" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.6.m6.1.1.3.3.3" xref="S3.SS4.p1.6.m6.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.6.m6.1.1.3.3.1a" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.6.m6.1.1.3.3.4" xref="S3.SS4.p1.6.m6.1.1.3.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.6.m6.1.1.3.3.1b" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p1.6.m6.1.1.3.3.5" xref="S3.SS4.p1.6.m6.1.1.3.3.5.cmml">t</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m6.1b"><apply id="S3.SS4.p1.6.m6.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m6.1.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.p1.6.m6.1.1.2.cmml" xref="S3.SS4.p1.6.m6.1.1.2">𝒘</ci><apply id="S3.SS4.p1.6.m6.1.1.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.p1.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.p1.6.m6.1.1.3.2">ℰ</ci><apply id="S3.SS4.p1.6.m6.1.1.3.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3"><times id="S3.SS4.p1.6.m6.1.1.3.3.1.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.1"></times><ci id="S3.SS4.p1.6.m6.1.1.3.3.2.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.2">𝑖</ci><ci id="S3.SS4.p1.6.m6.1.1.3.3.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.3">𝑛</ci><ci id="S3.SS4.p1.6.m6.1.1.3.3.4.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.4">𝑖</ci><ci id="S3.SS4.p1.6.m6.1.1.3.3.5.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.5">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.6.m6.1c">\boldsymbol{w}_{\mathcal{E}_{init}}</annotation></semantics></math>) remain unchanged.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">First, the server collects a set of updated LoRAs of the adapter, i.e., <math id="S3.SS4.p2.1.m1.4" class="ltx_Math" alttext="\left\{\boldsymbol{w}_{\mathcal{A}_{lora},m}\right\}_{m\in[M]}" display="inline"><semantics id="S3.SS4.p2.1.m1.4a"><msub id="S3.SS4.p2.1.m1.4.4" xref="S3.SS4.p2.1.m1.4.4.cmml"><mrow id="S3.SS4.p2.1.m1.4.4.1.1" xref="S3.SS4.p2.1.m1.4.4.1.2.cmml"><mo id="S3.SS4.p2.1.m1.4.4.1.1.2" xref="S3.SS4.p2.1.m1.4.4.1.2.cmml">{</mo><msub id="S3.SS4.p2.1.m1.4.4.1.1.1" xref="S3.SS4.p2.1.m1.4.4.1.1.1.cmml"><mi id="S3.SS4.p2.1.m1.4.4.1.1.1.2" xref="S3.SS4.p2.1.m1.4.4.1.1.1.2.cmml">𝒘</mi><mrow id="S3.SS4.p2.1.m1.2.2.2.2" xref="S3.SS4.p2.1.m1.2.2.2.3.cmml"><msub id="S3.SS4.p2.1.m1.2.2.2.2.1" xref="S3.SS4.p2.1.m1.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p2.1.m1.2.2.2.2.1.2" xref="S3.SS4.p2.1.m1.2.2.2.2.1.2.cmml">𝒜</mi><mrow id="S3.SS4.p2.1.m1.2.2.2.2.1.3" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.cmml"><mi id="S3.SS4.p2.1.m1.2.2.2.2.1.3.2" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.1.m1.2.2.2.2.1.3.1" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS4.p2.1.m1.2.2.2.2.1.3.3" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.1.m1.2.2.2.2.1.3.1a" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS4.p2.1.m1.2.2.2.2.1.3.4" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.1.m1.2.2.2.2.1.3.1b" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.1.cmml">​</mo><mi id="S3.SS4.p2.1.m1.2.2.2.2.1.3.5" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.SS4.p2.1.m1.2.2.2.2.2" xref="S3.SS4.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.1.m1.1.1.1.1" xref="S3.SS4.p2.1.m1.1.1.1.1.cmml">m</mi></mrow></msub><mo id="S3.SS4.p2.1.m1.4.4.1.1.3" xref="S3.SS4.p2.1.m1.4.4.1.2.cmml">}</mo></mrow><mrow id="S3.SS4.p2.1.m1.3.3.1" xref="S3.SS4.p2.1.m1.3.3.1.cmml"><mi id="S3.SS4.p2.1.m1.3.3.1.3" xref="S3.SS4.p2.1.m1.3.3.1.3.cmml">m</mi><mo id="S3.SS4.p2.1.m1.3.3.1.2" xref="S3.SS4.p2.1.m1.3.3.1.2.cmml">∈</mo><mrow id="S3.SS4.p2.1.m1.3.3.1.4.2" xref="S3.SS4.p2.1.m1.3.3.1.4.1.cmml"><mo stretchy="false" id="S3.SS4.p2.1.m1.3.3.1.4.2.1" xref="S3.SS4.p2.1.m1.3.3.1.4.1.1.cmml">[</mo><mi id="S3.SS4.p2.1.m1.3.3.1.1" xref="S3.SS4.p2.1.m1.3.3.1.1.cmml">M</mi><mo stretchy="false" id="S3.SS4.p2.1.m1.3.3.1.4.2.2" xref="S3.SS4.p2.1.m1.3.3.1.4.1.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.4b"><apply id="S3.SS4.p2.1.m1.4.4.cmml" xref="S3.SS4.p2.1.m1.4.4"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.4.4.2.cmml" xref="S3.SS4.p2.1.m1.4.4">subscript</csymbol><set id="S3.SS4.p2.1.m1.4.4.1.2.cmml" xref="S3.SS4.p2.1.m1.4.4.1.1"><apply id="S3.SS4.p2.1.m1.4.4.1.1.1.cmml" xref="S3.SS4.p2.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.4.4.1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.4.4.1.1.1">subscript</csymbol><ci id="S3.SS4.p2.1.m1.4.4.1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.4.4.1.1.1.2">𝒘</ci><list id="S3.SS4.p2.1.m1.2.2.2.3.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2"><apply id="S3.SS4.p2.1.m1.2.2.2.2.1.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.2.2.2.2.1.1.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.SS4.p2.1.m1.2.2.2.2.1.2.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.2">𝒜</ci><apply id="S3.SS4.p2.1.m1.2.2.2.2.1.3.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3"><times id="S3.SS4.p2.1.m1.2.2.2.2.1.3.1.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.1"></times><ci id="S3.SS4.p2.1.m1.2.2.2.2.1.3.2.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.2">𝑙</ci><ci id="S3.SS4.p2.1.m1.2.2.2.2.1.3.3.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.3">𝑜</ci><ci id="S3.SS4.p2.1.m1.2.2.2.2.1.3.4.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.4">𝑟</ci><ci id="S3.SS4.p2.1.m1.2.2.2.2.1.3.5.cmml" xref="S3.SS4.p2.1.m1.2.2.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.SS4.p2.1.m1.1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1.1.1">𝑚</ci></list></apply></set><apply id="S3.SS4.p2.1.m1.3.3.1.cmml" xref="S3.SS4.p2.1.m1.3.3.1"><in id="S3.SS4.p2.1.m1.3.3.1.2.cmml" xref="S3.SS4.p2.1.m1.3.3.1.2"></in><ci id="S3.SS4.p2.1.m1.3.3.1.3.cmml" xref="S3.SS4.p2.1.m1.3.3.1.3">𝑚</ci><apply id="S3.SS4.p2.1.m1.3.3.1.4.1.cmml" xref="S3.SS4.p2.1.m1.3.3.1.4.2"><csymbol cd="latexml" id="S3.SS4.p2.1.m1.3.3.1.4.1.1.cmml" xref="S3.SS4.p2.1.m1.3.3.1.4.2.1">delimited-[]</csymbol><ci id="S3.SS4.p2.1.m1.3.3.1.1.cmml" xref="S3.SS4.p2.1.m1.3.3.1.1">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.4c">\left\{\boldsymbol{w}_{\mathcal{A}_{lora},m}\right\}_{m\in[M]}</annotation></semantics></math> from the clients. Based on the definition of Equation (<a href="#S3.E6" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), the server performs weighted aggregation via</p>
<table id="A1.EGx10" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E11.m1.3" class="ltx_Math" alttext="\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora}}\leftarrow\sum_{m\in[M]}p_{m}\boldsymbol{w}_{\mathcal{A}_{lora},m}" display="inline"><semantics id="S3.E11.m1.3a"><mrow id="S3.E11.m1.3.4" xref="S3.E11.m1.3.4.cmml"><msub id="S3.E11.m1.3.4.2" xref="S3.E11.m1.3.4.2.cmml"><mi id="S3.E11.m1.3.4.2.2" xref="S3.E11.m1.3.4.2.2.cmml">𝒘</mi><msub id="S3.E11.m1.3.4.2.3" xref="S3.E11.m1.3.4.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.3.4.2.3.2" xref="S3.E11.m1.3.4.2.3.2.cmml">𝒜</mi><mrow id="S3.E11.m1.3.4.2.3.3" xref="S3.E11.m1.3.4.2.3.3.cmml"><mi id="S3.E11.m1.3.4.2.3.3.2" xref="S3.E11.m1.3.4.2.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.4.2.3.3.1" xref="S3.E11.m1.3.4.2.3.3.1.cmml">​</mo><mi id="S3.E11.m1.3.4.2.3.3.3" xref="S3.E11.m1.3.4.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.4.2.3.3.1a" xref="S3.E11.m1.3.4.2.3.3.1.cmml">​</mo><mi id="S3.E11.m1.3.4.2.3.3.4" xref="S3.E11.m1.3.4.2.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.4.2.3.3.1b" xref="S3.E11.m1.3.4.2.3.3.1.cmml">​</mo><mi id="S3.E11.m1.3.4.2.3.3.5" xref="S3.E11.m1.3.4.2.3.3.5.cmml">a</mi></mrow></msub></msub><mo stretchy="false" id="S3.E11.m1.3.4.1" xref="S3.E11.m1.3.4.1.cmml">←</mo><mrow id="S3.E11.m1.3.4.3" xref="S3.E11.m1.3.4.3.cmml"><mstyle displaystyle="true" id="S3.E11.m1.3.4.3.1" xref="S3.E11.m1.3.4.3.1.cmml"><munder id="S3.E11.m1.3.4.3.1a" xref="S3.E11.m1.3.4.3.1.cmml"><mo movablelimits="false" id="S3.E11.m1.3.4.3.1.2" xref="S3.E11.m1.3.4.3.1.2.cmml">∑</mo><mrow id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.cmml"><mi id="S3.E11.m1.1.1.1.3" xref="S3.E11.m1.1.1.1.3.cmml">m</mi><mo id="S3.E11.m1.1.1.1.2" xref="S3.E11.m1.1.1.1.2.cmml">∈</mo><mrow id="S3.E11.m1.1.1.1.4.2" xref="S3.E11.m1.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.E11.m1.1.1.1.4.2.1" xref="S3.E11.m1.1.1.1.4.1.1.cmml">[</mo><mi id="S3.E11.m1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml">M</mi><mo stretchy="false" id="S3.E11.m1.1.1.1.4.2.2" xref="S3.E11.m1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></munder></mstyle><mrow id="S3.E11.m1.3.4.3.2" xref="S3.E11.m1.3.4.3.2.cmml"><msub id="S3.E11.m1.3.4.3.2.2" xref="S3.E11.m1.3.4.3.2.2.cmml"><mi id="S3.E11.m1.3.4.3.2.2.2" xref="S3.E11.m1.3.4.3.2.2.2.cmml">p</mi><mi id="S3.E11.m1.3.4.3.2.2.3" xref="S3.E11.m1.3.4.3.2.2.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.4.3.2.1" xref="S3.E11.m1.3.4.3.2.1.cmml">​</mo><msub id="S3.E11.m1.3.4.3.2.3" xref="S3.E11.m1.3.4.3.2.3.cmml"><mi id="S3.E11.m1.3.4.3.2.3.2" xref="S3.E11.m1.3.4.3.2.3.2.cmml">𝒘</mi><mrow id="S3.E11.m1.3.3.2.2" xref="S3.E11.m1.3.3.2.3.cmml"><msub id="S3.E11.m1.3.3.2.2.1" xref="S3.E11.m1.3.3.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.3.3.2.2.1.2" xref="S3.E11.m1.3.3.2.2.1.2.cmml">𝒜</mi><mrow id="S3.E11.m1.3.3.2.2.1.3" xref="S3.E11.m1.3.3.2.2.1.3.cmml"><mi id="S3.E11.m1.3.3.2.2.1.3.2" xref="S3.E11.m1.3.3.2.2.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.2.2.1.3.1" xref="S3.E11.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E11.m1.3.3.2.2.1.3.3" xref="S3.E11.m1.3.3.2.2.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.2.2.1.3.1a" xref="S3.E11.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E11.m1.3.3.2.2.1.3.4" xref="S3.E11.m1.3.3.2.2.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.2.2.1.3.1b" xref="S3.E11.m1.3.3.2.2.1.3.1.cmml">​</mo><mi id="S3.E11.m1.3.3.2.2.1.3.5" xref="S3.E11.m1.3.3.2.2.1.3.5.cmml">a</mi></mrow></msub><mo id="S3.E11.m1.3.3.2.2.2" xref="S3.E11.m1.3.3.2.3.cmml">,</mo><mi id="S3.E11.m1.2.2.1.1" xref="S3.E11.m1.2.2.1.1.cmml">m</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.3b"><apply id="S3.E11.m1.3.4.cmml" xref="S3.E11.m1.3.4"><ci id="S3.E11.m1.3.4.1.cmml" xref="S3.E11.m1.3.4.1">←</ci><apply id="S3.E11.m1.3.4.2.cmml" xref="S3.E11.m1.3.4.2"><csymbol cd="ambiguous" id="S3.E11.m1.3.4.2.1.cmml" xref="S3.E11.m1.3.4.2">subscript</csymbol><ci id="S3.E11.m1.3.4.2.2.cmml" xref="S3.E11.m1.3.4.2.2">𝒘</ci><apply id="S3.E11.m1.3.4.2.3.cmml" xref="S3.E11.m1.3.4.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.3.4.2.3.1.cmml" xref="S3.E11.m1.3.4.2.3">subscript</csymbol><ci id="S3.E11.m1.3.4.2.3.2.cmml" xref="S3.E11.m1.3.4.2.3.2">𝒜</ci><apply id="S3.E11.m1.3.4.2.3.3.cmml" xref="S3.E11.m1.3.4.2.3.3"><times id="S3.E11.m1.3.4.2.3.3.1.cmml" xref="S3.E11.m1.3.4.2.3.3.1"></times><ci id="S3.E11.m1.3.4.2.3.3.2.cmml" xref="S3.E11.m1.3.4.2.3.3.2">𝑙</ci><ci id="S3.E11.m1.3.4.2.3.3.3.cmml" xref="S3.E11.m1.3.4.2.3.3.3">𝑜</ci><ci id="S3.E11.m1.3.4.2.3.3.4.cmml" xref="S3.E11.m1.3.4.2.3.3.4">𝑟</ci><ci id="S3.E11.m1.3.4.2.3.3.5.cmml" xref="S3.E11.m1.3.4.2.3.3.5">𝑎</ci></apply></apply></apply><apply id="S3.E11.m1.3.4.3.cmml" xref="S3.E11.m1.3.4.3"><apply id="S3.E11.m1.3.4.3.1.cmml" xref="S3.E11.m1.3.4.3.1"><csymbol cd="ambiguous" id="S3.E11.m1.3.4.3.1.1.cmml" xref="S3.E11.m1.3.4.3.1">subscript</csymbol><sum id="S3.E11.m1.3.4.3.1.2.cmml" xref="S3.E11.m1.3.4.3.1.2"></sum><apply id="S3.E11.m1.1.1.1.cmml" xref="S3.E11.m1.1.1.1"><in id="S3.E11.m1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.2"></in><ci id="S3.E11.m1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.3">𝑚</ci><apply id="S3.E11.m1.1.1.1.4.1.cmml" xref="S3.E11.m1.1.1.1.4.2"><csymbol cd="latexml" id="S3.E11.m1.1.1.1.4.1.1.cmml" xref="S3.E11.m1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.E11.m1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1">𝑀</ci></apply></apply></apply><apply id="S3.E11.m1.3.4.3.2.cmml" xref="S3.E11.m1.3.4.3.2"><times id="S3.E11.m1.3.4.3.2.1.cmml" xref="S3.E11.m1.3.4.3.2.1"></times><apply id="S3.E11.m1.3.4.3.2.2.cmml" xref="S3.E11.m1.3.4.3.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.3.4.3.2.2.1.cmml" xref="S3.E11.m1.3.4.3.2.2">subscript</csymbol><ci id="S3.E11.m1.3.4.3.2.2.2.cmml" xref="S3.E11.m1.3.4.3.2.2.2">𝑝</ci><ci id="S3.E11.m1.3.4.3.2.2.3.cmml" xref="S3.E11.m1.3.4.3.2.2.3">𝑚</ci></apply><apply id="S3.E11.m1.3.4.3.2.3.cmml" xref="S3.E11.m1.3.4.3.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.3.4.3.2.3.1.cmml" xref="S3.E11.m1.3.4.3.2.3">subscript</csymbol><ci id="S3.E11.m1.3.4.3.2.3.2.cmml" xref="S3.E11.m1.3.4.3.2.3.2">𝒘</ci><list id="S3.E11.m1.3.3.2.3.cmml" xref="S3.E11.m1.3.3.2.2"><apply id="S3.E11.m1.3.3.2.2.1.cmml" xref="S3.E11.m1.3.3.2.2.1"><csymbol cd="ambiguous" id="S3.E11.m1.3.3.2.2.1.1.cmml" xref="S3.E11.m1.3.3.2.2.1">subscript</csymbol><ci id="S3.E11.m1.3.3.2.2.1.2.cmml" xref="S3.E11.m1.3.3.2.2.1.2">𝒜</ci><apply id="S3.E11.m1.3.3.2.2.1.3.cmml" xref="S3.E11.m1.3.3.2.2.1.3"><times id="S3.E11.m1.3.3.2.2.1.3.1.cmml" xref="S3.E11.m1.3.3.2.2.1.3.1"></times><ci id="S3.E11.m1.3.3.2.2.1.3.2.cmml" xref="S3.E11.m1.3.3.2.2.1.3.2">𝑙</ci><ci id="S3.E11.m1.3.3.2.2.1.3.3.cmml" xref="S3.E11.m1.3.3.2.2.1.3.3">𝑜</ci><ci id="S3.E11.m1.3.3.2.2.1.3.4.cmml" xref="S3.E11.m1.3.3.2.2.1.3.4">𝑟</ci><ci id="S3.E11.m1.3.3.2.2.1.3.5.cmml" xref="S3.E11.m1.3.3.2.2.1.3.5">𝑎</ci></apply></apply><ci id="S3.E11.m1.2.2.1.1.cmml" xref="S3.E11.m1.2.2.1.1">𝑚</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.3c">\displaystyle\boldsymbol{w}_{\mathcal{A}_{lora}}\leftarrow\sum_{m\in[M]}p_{m}\boldsymbol{w}_{\mathcal{A}_{lora},m}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.4" class="ltx_p">After the weighted averaging, the server distills the emulator <math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><ci id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">\mathcal{E}</annotation></semantics></math> from the non-compressed <math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><msup id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">ℰ</mi><mo id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">ℰ</ci><times id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">\mathcal{E}^{*}</annotation></semantics></math> and the updated adapter <math id="S3.SS4.p3.3.m3.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S3.SS4.p3.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.3.m3.1.1" xref="S3.SS4.p3.3.m3.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.3.m3.1b"><ci id="S3.SS4.p3.3.m3.1.1.cmml" xref="S3.SS4.p3.3.m3.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.3.m3.1c">\mathcal{A}</annotation></semantics></math> using the public dataset. Therefore, we fine-tune the emulator following Equation (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>), which updates the LoRA of the emulator <math id="S3.SS4.p3.4.m4.1" class="ltx_Math" alttext="\boldsymbol{w}_{\mathcal{E}_{lora}}" display="inline"><semantics id="S3.SS4.p3.4.m4.1a"><msub id="S3.SS4.p3.4.m4.1.1" xref="S3.SS4.p3.4.m4.1.1.cmml"><mi id="S3.SS4.p3.4.m4.1.1.2" xref="S3.SS4.p3.4.m4.1.1.2.cmml">𝒘</mi><msub id="S3.SS4.p3.4.m4.1.1.3" xref="S3.SS4.p3.4.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.4.m4.1.1.3.2" xref="S3.SS4.p3.4.m4.1.1.3.2.cmml">ℰ</mi><mrow id="S3.SS4.p3.4.m4.1.1.3.3" xref="S3.SS4.p3.4.m4.1.1.3.3.cmml"><mi id="S3.SS4.p3.4.m4.1.1.3.3.2" xref="S3.SS4.p3.4.m4.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.3.3.1" xref="S3.SS4.p3.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.3.3.3" xref="S3.SS4.p3.4.m4.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.3.3.1a" xref="S3.SS4.p3.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.3.3.4" xref="S3.SS4.p3.4.m4.1.1.3.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.3.3.1b" xref="S3.SS4.p3.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.3.3.5" xref="S3.SS4.p3.4.m4.1.1.3.3.5.cmml">a</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.4.m4.1b"><apply id="S3.SS4.p3.4.m4.1.1.cmml" xref="S3.SS4.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.4.m4.1.1.1.cmml" xref="S3.SS4.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p3.4.m4.1.1.2.cmml" xref="S3.SS4.p3.4.m4.1.1.2">𝒘</ci><apply id="S3.SS4.p3.4.m4.1.1.3.cmml" xref="S3.SS4.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p3.4.m4.1.1.3.1.cmml" xref="S3.SS4.p3.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS4.p3.4.m4.1.1.3.2.cmml" xref="S3.SS4.p3.4.m4.1.1.3.2">ℰ</ci><apply id="S3.SS4.p3.4.m4.1.1.3.3.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3"><times id="S3.SS4.p3.4.m4.1.1.3.3.1.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3.1"></times><ci id="S3.SS4.p3.4.m4.1.1.3.3.2.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3.2">𝑙</ci><ci id="S3.SS4.p3.4.m4.1.1.3.3.3.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3.3">𝑜</ci><ci id="S3.SS4.p3.4.m4.1.1.3.3.4.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3.4">𝑟</ci><ci id="S3.SS4.p3.4.m4.1.1.3.3.5.cmml" xref="S3.SS4.p3.4.m4.1.1.3.3.5">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.4.m4.1c">\boldsymbol{w}_{\mathcal{E}_{lora}}</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">This section discusses the implementation of our experiments, covering details such as the model utilized and evaluation metrics. The code is now available at <a target="_blank" href="https://github.com/HarliWu/FedBiOT" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/HarliWu/FedBiOT</a>.</p>
</div>
<section id="S4.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Model and computation environment.</h4>

<div id="S4.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px1.p1.1" class="ltx_p">The experiments utilize LLaMA-2-7B, an open-source pre-trained LLM maintained by Meta and released in July 2023 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2023b</a>)</cite>. Preceding this, the model’s first generation was introduced in February 2023 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2023a</a>)</cite>. This model supports a maximum of 4096 input tokens and consists of 32 hidden layers with a total of 6.7 billion parameters. The experimental setup involves machines equipped with Nvidia A100 GPU cards, Intel Xeon Platinum 8369B CPUs, and a 512GB RAM configuration.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Dataset details for LLM training and evaluation</figcaption>
<table id="S4.T1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T1.1.1" class="ltx_tr">
<td id="S4.T1.1.1.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span>
Task</td>
<td id="S4.T1.1.1.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T1.1.1.2.1" class="ltx_text"></span> <span id="S4.T1.1.1.2.2" class="ltx_text">
<span id="S4.T1.1.1.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.1.1.2.2.1.1" class="ltx_tr">
<span id="S4.T1.1.1.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Training</span></span>
<span id="S4.T1.1.1.2.2.1.2" class="ltx_tr">
<span id="S4.T1.1.1.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Dataset</span></span>
</span></span><span id="S4.T1.1.1.2.3" class="ltx_text"></span></td>
<td id="S4.T1.1.1.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T1.1.1.3.1" class="ltx_text"></span> <span id="S4.T1.1.1.3.2" class="ltx_text">
<span id="S4.T1.1.1.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.1.1.3.2.1.1" class="ltx_tr">
<span id="S4.T1.1.1.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"># training</span></span>
<span id="S4.T1.1.1.3.2.1.2" class="ltx_tr">
<span id="S4.T1.1.1.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">samples</span></span>
</span></span><span id="S4.T1.1.1.3.3" class="ltx_text"></span></td>
<td id="S4.T1.1.1.4" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"># clients</td>
<td id="S4.T1.1.1.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Partition Rules</td>
<td id="S4.T1.1.1.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Max.</td>
<td id="S4.T1.1.1.7" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Min.</td>
<td id="S4.T1.1.1.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Std.</td>
<td id="S4.T1.1.1.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T1.1.1.9.1" class="ltx_text"></span> <span id="S4.T1.1.1.9.2" class="ltx_text">
<span id="S4.T1.1.1.9.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.1.1.9.2.1.1" class="ltx_tr">
<span id="S4.T1.1.1.9.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Test</span></span>
<span id="S4.T1.1.1.9.2.1.2" class="ltx_tr">
<span id="S4.T1.1.1.9.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Dataset</span></span>
</span></span><span id="S4.T1.1.1.9.3" class="ltx_text"></span></td>
<td id="S4.T1.1.1.10" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T1.1.1.10.1" class="ltx_text"></span> <span id="S4.T1.1.1.10.2" class="ltx_text">
<span id="S4.T1.1.1.10.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.1.1.10.2.1.1" class="ltx_tr">
<span id="S4.T1.1.1.10.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"># test</span></span>
<span id="S4.T1.1.1.10.2.1.2" class="ltx_tr">
<span id="S4.T1.1.1.10.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">samples</span></span>
</span></span><span id="S4.T1.1.1.10.3" class="ltx_text"></span></td>
</tr>
<tr id="S4.T1.1.2" class="ltx_tr">
<td id="S4.T1.1.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Math Problem Solving</td>
<td id="S4.T1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">GSM-8K</td>
<td id="S4.T1.1.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7473</td>
<td id="S4.T1.1.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3</td>
<td id="S4.T1.1.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">i.i.d.</td>
<td id="S4.T1.1.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2491</td>
<td id="S4.T1.1.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2491</td>
<td id="S4.T1.1.2.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">0</td>
<td id="S4.T1.1.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">GSM-8K</td>
<td id="S4.T1.1.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">1319</td>
</tr>
<tr id="S4.T1.1.3" class="ltx_tr">
<td id="S4.T1.1.3.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">Code Generation</td>
<td id="S4.T1.1.3.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rosetta</td>
<td id="S4.T1.1.3.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">7954</td>
<td id="S4.T1.1.3.4" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">9</td>
<td id="S4.T1.1.3.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Prog. Lang.</td>
<td id="S4.T1.1.3.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">1172</td>
<td id="S4.T1.1.3.7" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">439</td>
<td id="S4.T1.1.3.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">236.94</td>
<td id="S4.T1.1.3.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">HumanEvalX</td>
<td id="S4.T1.1.3.10" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">656</td>
</tr>
<tr id="S4.T1.1.4" class="ltx_tr">
<td id="S4.T1.1.4.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">Question Answering</td>
<td id="S4.T1.1.4.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Dolly</td>
<td id="S4.T1.1.4.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">15015</td>
<td id="S4.T1.1.4.4" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">8</td>
<td id="S4.T1.1.4.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Category</td>
<td id="S4.T1.1.4.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">3611</td>
<td id="S4.T1.1.4.7" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">711</td>
<td id="S4.T1.1.4.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">795.06</td>
<td id="S4.T1.1.4.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Helm</td>
<td id="S4.T1.1.4.10" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">NA</td>
</tr>
<tr id="S4.T1.1.5" class="ltx_tr">
<td id="S4.T1.1.5.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">Public Dataset</td>
<td id="S4.T1.1.5.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">Alpaca</td>
<td id="S4.T1.1.5.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">52002</td>
<td id="S4.T1.1.5.4" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="7">——————————————————————————————</td>
</tr>
<tr id="S4.T1.1.6" class="ltx_tr">
<td id="S4.T1.1.6.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T1.1.6.2" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.3" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.5" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.8" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.9" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T1.1.6.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
</tr>
</table>
</figure>
</section>
<section id="S4.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Datasets and Tasks.</h4>

<div id="S4.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px2.p1.1" class="ltx_p">In the experiments, we use the benchmark datasets and tasks in <cite class="ltx_cite ltx_citemacro_citep">(Kuang et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite> to train and evaluate the LLM on three different NLP tasks, covering math problem-solving, code generation, and question-answering:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">For <span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">math problem-solving</span>, we split the GSM-8K training dataset <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite> ensuring i.i.d. across three clients, and we assess the updated model using the GSM-8K test dataset.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">For <span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">code generation</span>, we fine-tune the model with the Rosetta dataset <cite class="ltx_cite ltx_citemacro_citep">(Chaudhary, <a href="#bib.bib4" title="" class="ltx_ref">2023</a>)</cite>, which is partitioned across the programming languages, and a total of nine clients separately hold the data from nine different programming languages. Regarding its evaluation, we utilize HumanEvalX <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al<span class="ltx_text">.</span>, <a href="#bib.bib51" title="" class="ltx_ref">2023</a>)</cite>, an extension of a coding evaluation dataset <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a href="#bib.bib5" title="" class="ltx_ref">2021</a>)</cite> that requires the model to fill in the code for a given problem in the required programming language (i.e., C++, GO, Java, Python).</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">For <span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">question answering</span>, the model is trained on dolly-15K <cite class="ltx_cite ltx_citemacro_citep">(Conover et al<span class="ltx_text">.</span>, <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite>, which is partitioned into 8 clients based on the categories of the questions, and we evaluate the new model with the selected tasks on HELM <cite class="ltx_cite ltx_citemacro_citep">(Liang et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
</li>
</ul>
<p id="S4.SS1.SSS0.Px2.p1.2" class="ltx_p">Table <a href="#S4.T1" title="Table 1 ‣ Model and computation environment. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> gives a detailed description of these three tasks. As Section <a href="#S3" title="3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> mentions, the server will perform the emulator alignment during the model aggregation. Then, we use the Alpaca dataset <cite class="ltx_cite ltx_citemacro_citep">(Taori et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2023</a>)</cite> as the public dataset for the server to do the emulator alignment for all three NLP tasks.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Implementation.</h4>

<div id="S4.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px3.p1.1" class="ltx_p">This work is built upon an open-source federated learning platform named FederatedScope <cite class="ltx_cite ltx_citemacro_citep">(Xie et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2023</a>)</cite>. The training data are reformatted following the predesigned instructions <cite class="ltx_cite ltx_citemacro_citep">(Chaudhary, <a href="#bib.bib4" title="" class="ltx_ref">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2024</a>)</cite>.</p>
</div>
<div id="S4.SS1.SSS0.Px3.p2" class="ltx_para">
<p id="S4.SS1.SSS0.Px3.p2.4" class="ltx_p">Different from <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2023</a>; Kuang et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite>, we regard the last two and the last four decoders as the adapter. The experiments consider two dropout rates, i.e., <math id="S4.SS1.SSS0.Px3.p2.1.m1.2" class="ltx_Math" alttext="\beta\in\{0.2,0.5\}" display="inline"><semantics id="S4.SS1.SSS0.Px3.p2.1.m1.2a"><mrow id="S4.SS1.SSS0.Px3.p2.1.m1.2.3" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.cmml"><mi id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.2" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.2.cmml">β</mi><mo id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.1" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.1.cmml">∈</mo><mrow id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.2" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.2.1" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">{</mo><mn id="S4.SS1.SSS0.Px3.p2.1.m1.1.1" xref="S4.SS1.SSS0.Px3.p2.1.m1.1.1.cmml">0.2</mn><mo id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.2.2" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.SS1.SSS0.Px3.p2.1.m1.2.2" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.2.cmml">0.5</mn><mo stretchy="false" id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.2.3" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p2.1.m1.2b"><apply id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3"><in id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.1.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.1"></in><ci id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.2.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.2">𝛽</ci><set id="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.1.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.3.3.2"><cn type="float" id="S4.SS1.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.1.1">0.2</cn><cn type="float" id="S4.SS1.SSS0.Px3.p2.1.m1.2.2.cmml" xref="S4.SS1.SSS0.Px3.p2.1.m1.2.2">0.5</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p2.1.m1.2c">\beta\in\{0.2,0.5\}</annotation></semantics></math>, and we obtain the emulators with layer dropout following <cite class="ltx_cite ltx_citemacro_citet">Xiao et al<span class="ltx_text">.</span> (<a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite>. Without special annotation, we use the following local training setting: in each communication round, each client performs 30 local updates, and the batch size of every local update is 10. Before launching the FL training, we fine-tune the emulator for 500 iterations to generate a distilled emulator <math id="S4.SS1.SSS0.Px3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S4.SS1.SSS0.Px3.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px3.p2.2.m2.1.1" xref="S4.SS1.SSS0.Px3.p2.2.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p2.2.m2.1b"><ci id="S4.SS1.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px3.p2.2.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p2.2.m2.1c">\mathcal{E}</annotation></semantics></math> towards minimizing the loss of Equation (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>). During the FL training, the server takes 10 iterations to align the emulator <math id="S4.SS1.SSS0.Px3.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S4.SS1.SSS0.Px3.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px3.p2.3.m3.1.1" xref="S4.SS1.SSS0.Px3.p2.3.m3.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p2.3.m3.1b"><ci id="S4.SS1.SSS0.Px3.p2.3.m3.1.1.cmml" xref="S4.SS1.SSS0.Px3.p2.3.m3.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p2.3.m3.1c">\mathcal{E}</annotation></semantics></math> with <math id="S4.SS1.SSS0.Px3.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{E}^{*}" display="inline"><semantics id="S4.SS1.SSS0.Px3.p2.4.m4.1a"><msup id="S4.SS1.SSS0.Px3.p2.4.m4.1.1" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.2" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1.2.cmml">ℰ</mi><mo id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.3" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p2.4.m4.1b"><apply id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.1.cmml" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1">superscript</csymbol><ci id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.2.cmml" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1.2">ℰ</ci><times id="S4.SS1.SSS0.Px3.p2.4.m4.1.1.3.cmml" xref="S4.SS1.SSS0.Px3.p2.4.m4.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p2.4.m4.1c">\mathcal{E}^{*}</annotation></semantics></math> between two successive communication rounds after aggregating local adapters with FedAvg <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2019</a>)</cite>. These experiments run for 500 communication rounds, and we report the results based on the fine-tuned LLM obtained at the 500th round. During the training, we only fine-tune the adapter in the clients’ local update procedures, and we update the emulator on the server side. In other words, other parts of the pre-trained model, such as word embeddings, are frozen during the training.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">LoRA, Optimizers and Hyperparameters.</h4>

<div id="S4.SS1.SSS0.Px4.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px4.p1.5" class="ltx_p">We add the LoRA to all decoder layers in the adapter and the emulator by setting the rank to 8 and the alpha to 16. We use AdamW as an optimizer to solve Equation (<a href="#S3.E6" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) and (<a href="#S3.E7" title="In 3.2. Formulation of Bi-level Optimization ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>) on the clients (for the adapters) and the server (for the emulators), respectively. We search for the best learning rate in <math id="S4.SS1.SSS0.Px4.p1.1.m1.5" class="ltx_Math" alttext="\{1\times 10^{-5},3\times 10^{-5},5\times 10^{-5},8\times 10^{-5},1\times 10^{-4}\}" display="inline"><semantics id="S4.SS1.SSS0.Px4.p1.1.m1.5a"><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml"><mo stretchy="false" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.6" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">{</mo><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.1.cmml">×</mo><msup id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.2.cmml">10</mn><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.cmml"><mo id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3a" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.7" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.1.cmml">×</mo><msup id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.2.cmml">10</mn><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.cmml"><mo id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3a" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.8" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.1.cmml">×</mo><msup id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.2.cmml">10</mn><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.cmml"><mo id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3a" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.9" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.2.cmml">8</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.1.cmml">×</mo><msup id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.2.cmml">10</mn><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.cmml"><mo id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3a" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.10" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.1.cmml">×</mo><msup id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.cmml"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.2.cmml">10</mn><mrow id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.cmml"><mo id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3a" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.2.cmml">4</mn></mrow></msup></mrow><mo stretchy="false" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.11" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.1.m1.5b"><set id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.6.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5"><apply id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1"><times id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.1"></times><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.2">1</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3">superscript</csymbol><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.2">10</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3"><minus id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.1.3.3.2">5</cn></apply></apply></apply><apply id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2"><times id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.1"></times><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.2">3</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3">superscript</csymbol><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.2">10</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3"><minus id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.2.2.2.2.3.3.2">5</cn></apply></apply></apply><apply id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3"><times id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.1"></times><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.2">5</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3">superscript</csymbol><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.2">10</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3"><minus id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.3.3.3.3.3.3.2">5</cn></apply></apply></apply><apply id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4"><times id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.1"></times><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.2">8</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3">superscript</csymbol><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.2">10</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3"><minus id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.4.4.4.4.3.3.2">5</cn></apply></apply></apply><apply id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5"><times id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.1"></times><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.2">1</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3">superscript</csymbol><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.2">10</cn><apply id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3"><minus id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.5.5.5.5.3.3.2">4</cn></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.1.m1.5c">\{1\times 10^{-5},3\times 10^{-5},5\times 10^{-5},8\times 10^{-5},1\times 10^{-4}\}</annotation></semantics></math>. We set the momentum for <math id="S4.SS1.SSS0.Px4.p1.2.m2.2" class="ltx_Math" alttext="(0.9,0.95)" display="inline"><semantics id="S4.SS1.SSS0.Px4.p1.2.m2.2a"><mrow id="S4.SS1.SSS0.Px4.p1.2.m2.2.3.2" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.SSS0.Px4.p1.2.m2.2.3.2.1" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.3.1.cmml">(</mo><mn id="S4.SS1.SSS0.Px4.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml">0.9</mn><mo id="S4.SS1.SSS0.Px4.p1.2.m2.2.3.2.2" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS1.SSS0.Px4.p1.2.m2.2.2" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.2.cmml">0.95</mn><mo stretchy="false" id="S4.SS1.SSS0.Px4.p1.2.m2.2.3.2.3" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.2.m2.2b"><interval closure="open" id="S4.SS1.SSS0.Px4.p1.2.m2.2.3.1.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.3.2"><cn type="float" id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1">0.9</cn><cn type="float" id="S4.SS1.SSS0.Px4.p1.2.m2.2.2.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.2.2">0.95</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.2.m2.2c">(0.9,0.95)</annotation></semantics></math>. As for other hyperparameters related to the optimizer, we use the default setting. Furthermore, we also conduct grid search for <span id="S4.SS1.SSS0.Px4.p1.5.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>-specific hyperparameters, i.e., <math id="S4.SS1.SSS0.Px4.p1.4.m4.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.SS1.SSS0.Px4.p1.4.m4.1a"><mi id="S4.SS1.SSS0.Px4.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px4.p1.4.m4.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.4.m4.1b"><ci id="S4.SS1.SSS0.Px4.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.4.m4.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.4.m4.1c">\epsilon</annotation></semantics></math> and <math id="S4.SS1.SSS0.Px4.p1.5.m5.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS1.SSS0.Px4.p1.5.m5.1a"><mi id="S4.SS1.SSS0.Px4.p1.5.m5.1.1" xref="S4.SS1.SSS0.Px4.p1.5.m5.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.5.m5.1b"><ci id="S4.SS1.SSS0.Px4.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.5.m5.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.5.m5.1c">\lambda</annotation></semantics></math>. Throughout the experiments, we demonstrate the result of the best hyperparameter combination. To avoid randomness, we utilize three different random seeds and report the averaged results.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px5" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Baselines.</h4>

<div id="S4.SS1.SSS0.Px5.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px5.p1.1" class="ltx_p">Offsite-tuning is the only method that satisfies the constraints that fine-tuning without access to full model. <cite class="ltx_cite ltx_citemacro_citet">Xiao et al<span class="ltx_text">.</span> (<a href="#bib.bib44" title="" class="ltx_ref">2023</a>)</cite> introduces a single-client offsite-tuning, while <cite class="ltx_cite ltx_citemacro_citet">Kuang et al<span class="ltx_text">.</span> (<a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite> extends it to an FL version (i.e., FedOT). We apply offsite-tuning with one single client, where all data are loaded to the client. As FedOT supports FL, we reproduce the algorithm to work on the FL tasks. In terms of the setting of the adapters and the emulators, both Offsite-tuning and FedOT treat the first two and the last two decoders as the adapter. To enable the parameter-efficient fine-tuning for both baselines, we add LoRA to both baselines, the same as the setting adopted by <span id="S4.SS1.SSS0.Px5.p1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px6" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Evaluation Metric.</h4>

<div id="S4.SS1.SSS0.Px6.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px6.p1.1" class="ltx_p">In the experiments, we report the results on two models, i.e., AdapEmu and AdapFu, as defined in Section <a href="#S3.SS1" title="3.1. Compressed Model Preparation: Linear Dropout ‣ 3. FedBiOT ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>. The evaluation metrics for each task follow  <cite class="ltx_cite ltx_citemacro_citet">Kuang et al<span class="ltx_text">.</span> (<a href="#bib.bib14" title="" class="ltx_ref">2024</a>)</cite>, and the detailed description is given in Appendix <a href="#A1" title="Appendix A Testing Dataset and Evaluation ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Test accuracy on math problem-solving task under different dropout rates</figcaption>
<div id="S4.T2.8" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:270.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(39.3pt,-24.5pt) scale(1.22111610630544,1.22111610630544) ;">
<table id="S4.T2.8.8" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span>
<span id="S4.T2.1.1.1.1.2" class="ltx_text"></span><span id="S4.T2.1.1.1.1.1" class="ltx_text">
<span id="S4.T2.1.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.1.1.1.1.1.1.2" class="ltx_tr">
<span id="S4.T2.1.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">Dropout</span></span>
<span id="S4.T2.1.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T2.1.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">Rate (<math id="S4.T2.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.T2.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.T2.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.1.1.1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.T2.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.1.1.1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.1.1.1.1.m1.1c">\beta</annotation></semantics></math>)</span></span>
</span></span><span id="S4.T2.1.1.1.1.3" class="ltx_text"></span></td>
<td id="S4.T2.1.1.1.2" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">Methods</td>
<td id="S4.T2.1.1.1.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">AdapEmu</td>
<td id="S4.T2.1.1.1.4" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">AdapFu</td>
</tr>
<tr id="S4.T2.2.2.2" class="ltx_tr">
<td id="S4.T2.2.2.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><math id="S4.T2.2.2.2.1.m1.1" class="ltx_Math" alttext="\beta=0.0" display="inline"><semantics id="S4.T2.2.2.2.1.m1.1a"><mrow id="S4.T2.2.2.2.1.m1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.cmml"><mi id="S4.T2.2.2.2.1.m1.1.1.2" xref="S4.T2.2.2.2.1.m1.1.1.2.cmml">β</mi><mo id="S4.T2.2.2.2.1.m1.1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.2.2.2.1.m1.1.1.3" xref="S4.T2.2.2.2.1.m1.1.1.3.cmml">0.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.1.m1.1b"><apply id="S4.T2.2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1"><eq id="S4.T2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1"></eq><ci id="S4.T2.2.2.2.1.m1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.T2.2.2.2.1.m1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.3">0.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.1.m1.1c">\beta=0.0</annotation></semantics></math></td>
<td id="S4.T2.2.2.2.2" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Few-shot CoT</td>
<td id="S4.T2.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">NA</td>
<td id="S4.T2.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">13.42% (177/1319)</td>
</tr>
<tr id="S4.T2.3.3.3" class="ltx_tr">
<td id="S4.T2.3.3.3.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;" rowspan="4">
<span id="S4.T2.3.3.3.1.2" class="ltx_ERROR undefined">\hdashline</span><span id="S4.T2.3.3.3.1.1" class="ltx_text"><math id="S4.T2.3.3.3.1.1.m1.1" class="ltx_Math" alttext="\beta=0.2" display="inline"><semantics id="S4.T2.3.3.3.1.1.m1.1a"><mrow id="S4.T2.3.3.3.1.1.m1.1.1" xref="S4.T2.3.3.3.1.1.m1.1.1.cmml"><mi id="S4.T2.3.3.3.1.1.m1.1.1.2" xref="S4.T2.3.3.3.1.1.m1.1.1.2.cmml">β</mi><mo id="S4.T2.3.3.3.1.1.m1.1.1.1" xref="S4.T2.3.3.3.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.3.3.3.1.1.m1.1.1.3" xref="S4.T2.3.3.3.1.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.1.1.m1.1b"><apply id="S4.T2.3.3.3.1.1.m1.1.1.cmml" xref="S4.T2.3.3.3.1.1.m1.1.1"><eq id="S4.T2.3.3.3.1.1.m1.1.1.1.cmml" xref="S4.T2.3.3.3.1.1.m1.1.1.1"></eq><ci id="S4.T2.3.3.3.1.1.m1.1.1.2.cmml" xref="S4.T2.3.3.3.1.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.T2.3.3.3.1.1.m1.1.1.3.cmml" xref="S4.T2.3.3.3.1.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.1.1.m1.1c">\beta=0.2</annotation></semantics></math></span>
</td>
<td id="S4.T2.3.3.3.2" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">Offsite-tuning</td>
<td id="S4.T2.3.3.3.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">3.03% (40/1319)</td>
<td id="S4.T2.3.3.3.4" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">9.93% (131/1319)</td>
</tr>
<tr id="S4.T2.8.8.9" class="ltx_tr">
<td id="S4.T2.8.8.9.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">FedOT</td>
<td id="S4.T2.8.8.9.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">2.43% (32/1319)</td>
<td id="S4.T2.8.8.9.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">10.16% (134/1319)</td>
</tr>
<tr id="S4.T2.4.4.4" class="ltx_tr">
<td id="S4.T2.4.4.4.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">
<span id="S4.T2.4.4.4.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2)</td>
<td id="S4.T2.4.4.4.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;"><span id="S4.T2.4.4.4.2.1" class="ltx_text ltx_font_bold">3.71% (49/1319)</span></td>
<td id="S4.T2.4.4.4.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">15.16% (200/1319)</td>
</tr>
<tr id="S4.T2.5.5.5" class="ltx_tr">
<td id="S4.T2.5.5.5.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">
<span id="S4.T2.5.5.5.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 4)</td>
<td id="S4.T2.5.5.5.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">3.41% (45/1319)</td>
<td id="S4.T2.5.5.5.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;"><span id="S4.T2.5.5.5.3.1" class="ltx_text ltx_font_bold">15.23% (201/1319)</span></td>
</tr>
<tr id="S4.T2.6.6.6" class="ltx_tr">
<td id="S4.T2.6.6.6.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;" rowspan="4"><span id="S4.T2.6.6.6.1.1" class="ltx_text"><math id="S4.T2.6.6.6.1.1.m1.1" class="ltx_Math" alttext="\beta=0.5" display="inline"><semantics id="S4.T2.6.6.6.1.1.m1.1a"><mrow id="S4.T2.6.6.6.1.1.m1.1.1" xref="S4.T2.6.6.6.1.1.m1.1.1.cmml"><mi id="S4.T2.6.6.6.1.1.m1.1.1.2" xref="S4.T2.6.6.6.1.1.m1.1.1.2.cmml">β</mi><mo id="S4.T2.6.6.6.1.1.m1.1.1.1" xref="S4.T2.6.6.6.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.6.6.6.1.1.m1.1.1.3" xref="S4.T2.6.6.6.1.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.6.1.1.m1.1b"><apply id="S4.T2.6.6.6.1.1.m1.1.1.cmml" xref="S4.T2.6.6.6.1.1.m1.1.1"><eq id="S4.T2.6.6.6.1.1.m1.1.1.1.cmml" xref="S4.T2.6.6.6.1.1.m1.1.1.1"></eq><ci id="S4.T2.6.6.6.1.1.m1.1.1.2.cmml" xref="S4.T2.6.6.6.1.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.T2.6.6.6.1.1.m1.1.1.3.cmml" xref="S4.T2.6.6.6.1.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.6.1.1.m1.1c">\beta=0.5</annotation></semantics></math></span></td>
<td id="S4.T2.6.6.6.2" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Offsite-tuning</td>
<td id="S4.T2.6.6.6.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="S4.T2.6.6.6.3.1" class="ltx_text ltx_font_bold">2.27% (30/1319)</span></td>
<td id="S4.T2.6.6.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">7.58% (100/1319)</td>
</tr>
<tr id="S4.T2.8.8.10" class="ltx_tr">
<td id="S4.T2.8.8.10.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">FedOT</td>
<td id="S4.T2.8.8.10.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">1.90% (25/1319)</td>
<td id="S4.T2.8.8.10.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">7.51% (99/1319)</td>
</tr>
<tr id="S4.T2.7.7.7" class="ltx_tr">
<td id="S4.T2.7.7.7.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">
<span id="S4.T2.7.7.7.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2)</td>
<td id="S4.T2.7.7.7.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">2.05% (27/1319)</td>
<td id="S4.T2.7.7.7.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">11.83% (156/1319)</td>
</tr>
<tr id="S4.T2.8.8.8" class="ltx_tr">
<td id="S4.T2.8.8.8.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;">
<span id="S4.T2.8.8.8.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 4)</td>
<td id="S4.T2.8.8.8.2" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;">1.82% (24/1319)</td>
<td id="S4.T2.8.8.8.3" class="ltx_td ltx_align_center" style="padding-top:1pt;padding-bottom:1pt;"><span id="S4.T2.8.8.8.3.1" class="ltx_text ltx_font_bold">14.03% (185/1319)</span></td>
</tr>
<tr id="S4.T2.8.8.11" class="ltx_tr">
<td id="S4.T2.8.8.11.1" class="ltx_td ltx_align_left" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T2.8.8.11.2" class="ltx_td" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td id="S4.T2.8.8.11.3" class="ltx_td" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td id="S4.T2.8.8.11.4" class="ltx_td" style="padding-top:1pt;padding-bottom:1pt;"></td>
</tr>
</table>
</span></div>
</figure>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span>Pass@1 (%) and Pass@10 (%) in code generation task at various rounds when dropout rate is 0.2</figcaption>
<table id="S4.T3.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T3.2.3" class="ltx_tr">
<td id="S4.T3.2.3.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span>
<span id="S4.T3.2.3.1.1" class="ltx_text">Method</span>
</td>
<td id="S4.T3.2.3.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T3.2.3.2.1" class="ltx_text">Model</span></td>
<td id="S4.T3.2.3.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">C++</td>
<td id="S4.T3.2.3.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.3.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">GO</td>
<td id="S4.T3.2.3.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.3.7" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">Java</td>
<td id="S4.T3.2.3.8" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.3.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">Python</td>
</tr>
<tr id="S4.T3.2.4" class="ltx_tr">
<td id="S4.T3.2.4.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T3.2.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T3.2.4.3" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T3.2.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T3.2.4.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T3.2.4.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T3.2.4.9" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.4.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T3.2.4.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
</tr>
<tr id="S4.T3.2.5" class="ltx_tr">
<td id="S4.T3.2.5.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T3.2.5.1.1" class="ltx_text">Offsite-tuning</span></td>
<td id="S4.T3.2.5.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapEmu</td>
<td id="S4.T3.2.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.99</td>
<td id="S4.T3.2.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.5.4.1" class="ltx_text ltx_font_italic">6.45</span></td>
<td id="S4.T3.2.5.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.5.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.80</td>
<td id="S4.T3.2.5.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.44</td>
<td id="S4.T3.2.5.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.5.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.64</td>
<td id="S4.T3.2.5.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.09</td>
<td id="S4.T3.2.5.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.5.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.01</td>
<td id="S4.T3.2.5.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.38</td>
</tr>
<tr id="S4.T3.2.6" class="ltx_tr">
<td id="S4.T3.2.6.1" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T3.2.6.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.78</td>
<td id="S4.T3.2.6.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">10.82</td>
<td id="S4.T3.2.6.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.6.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.94</td>
<td id="S4.T3.2.6.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.63</td>
<td id="S4.T3.2.6.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.6.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.57</td>
<td id="S4.T3.2.6.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.81</td>
<td id="S4.T3.2.6.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.6.11" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.19</td>
<td id="S4.T3.2.6.12" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">17.32</td>
</tr>
<tr id="S4.T3.2.7" class="ltx_tr">
<td id="S4.T3.2.7.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T3.2.7.1.1" class="ltx_text">FedOT</span></td>
<td id="S4.T3.2.7.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapEmu</td>
<td id="S4.T3.2.7.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.50</td>
<td id="S4.T3.2.7.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.89</td>
<td id="S4.T3.2.7.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.7.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.86</td>
<td id="S4.T3.2.7.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.05</td>
<td id="S4.T3.2.7.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.7.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.00</td>
<td id="S4.T3.2.7.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.49</td>
<td id="S4.T3.2.7.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.7.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.91</td>
<td id="S4.T3.2.7.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.83</td>
</tr>
<tr id="S4.T3.2.8" class="ltx_tr">
<td id="S4.T3.2.8.1" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T3.2.8.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.60</td>
<td id="S4.T3.2.8.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.36</td>
<td id="S4.T3.2.8.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.8.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.95</td>
<td id="S4.T3.2.8.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.11</td>
<td id="S4.T3.2.8.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.8.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.30</td>
<td id="S4.T3.2.8.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.42</td>
<td id="S4.T3.2.8.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.8.11" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.23</td>
<td id="S4.T3.2.8.12" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.58</td>
</tr>
<tr id="S4.T3.1.1" class="ltx_tr">
<td id="S4.T3.1.1.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T3.1.1.1.1" class="ltx_text"><span id="S4.T3.1.1.1.1.2" class="ltx_text"></span><span id="S4.T3.1.1.1.1.1" class="ltx_text">
<span id="S4.T3.1.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T3.1.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T3.1.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.1.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T3.1.1.1.1.1.1.2" class="ltx_tr">
<span id="S4.T3.1.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">(Adapter 2)</span></span>
</span></span> <span id="S4.T3.1.1.1.1.3" class="ltx_text"></span></span></td>
<td id="S4.T3.1.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapEmu</td>
<td id="S4.T3.1.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.3.1" class="ltx_text ltx_font_italic">4.82</span></td>
<td id="S4.T3.1.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.43</td>
<td id="S4.T3.1.1.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.1.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.6.1" class="ltx_text ltx_font_italic">3.57</span></td>
<td id="S4.T3.1.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.7.1" class="ltx_text ltx_font_italic">4.85</span></td>
<td id="S4.T3.1.1.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.1.1.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.9.1" class="ltx_text ltx_font_italic">5.92</span></td>
<td id="S4.T3.1.1.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.10.1" class="ltx_text ltx_font_italic">6.36</span></td>
<td id="S4.T3.1.1.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.1.1.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.97</td>
<td id="S4.T3.1.1.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.1.1.13.1" class="ltx_text ltx_font_italic">6.95</span></td>
</tr>
<tr id="S4.T3.2.9" class="ltx_tr">
<td id="S4.T3.2.9.1" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T3.2.9.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.2.1" class="ltx_text ltx_font_bold">9.76</span></td>
<td id="S4.T3.2.9.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.3.1" class="ltx_text ltx_font_bold">14.18</span></td>
<td id="S4.T3.2.9.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.9.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.5.1" class="ltx_text ltx_font_bold">9.97</span></td>
<td id="S4.T3.2.9.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.6.1" class="ltx_text ltx_font_bold">13.29</span></td>
<td id="S4.T3.2.9.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.9.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.8.1" class="ltx_text ltx_font_bold">12.93</span></td>
<td id="S4.T3.2.9.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.9.1" class="ltx_text ltx_font_bold">16.28</span></td>
<td id="S4.T3.2.9.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.9.11" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.11.1" class="ltx_text ltx_font_bold">14.91</span></td>
<td id="S4.T3.2.9.12" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.9.12.1" class="ltx_text ltx_font_bold">19.77</span></td>
</tr>
<tr id="S4.T3.2.2" class="ltx_tr">
<td id="S4.T3.2.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T3.2.2.1.1" class="ltx_text"><span id="S4.T3.2.2.1.1.2" class="ltx_text"></span><span id="S4.T3.2.2.1.1.1" class="ltx_text">
<span id="S4.T3.2.2.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T3.2.2.1.1.1.1.1" class="ltx_tr">
<span id="S4.T3.2.2.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.2.1.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T3.2.2.1.1.1.1.2" class="ltx_tr">
<span id="S4.T3.2.2.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;">(Adapter 4)</span></span>
</span></span> <span id="S4.T3.2.2.1.1.3" class="ltx_text"></span></span></td>
<td id="S4.T3.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapEmu</td>
<td id="S4.T3.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.20</td>
<td id="S4.T3.2.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.57</td>
<td id="S4.T3.2.2.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.20</td>
<td id="S4.T3.2.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.44</td>
<td id="S4.T3.2.2.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.91</td>
<td id="S4.T3.2.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.73</td>
<td id="S4.T3.2.2.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.2.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T3.2.2.12.1" class="ltx_text ltx_font_italic">5.43</span></td>
<td id="S4.T3.2.2.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.10</td>
</tr>
<tr id="S4.T3.2.10" class="ltx_tr">
<td id="S4.T3.2.10.1" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T3.2.10.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.12</td>
<td id="S4.T3.2.10.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.41</td>
<td id="S4.T3.2.10.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.10.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.02</td>
<td id="S4.T3.2.10.6" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.08</td>
<td id="S4.T3.2.10.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.10.8" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.28</td>
<td id="S4.T3.2.10.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.10</td>
<td id="S4.T3.2.10.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.10.11" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">14.57</td>
<td id="S4.T3.2.10.12" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.41</td>
</tr>
<tr id="S4.T3.2.11" class="ltx_tr">
<td id="S4.T3.2.11.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T3.2.11.2" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.3" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.5" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.8" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.9" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.11" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.12" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T3.2.11.13" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
</tr>
</table>
</figure>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span>Pass@1 (%) and Pass@10 (%) in code generation task at various rounds when dropout rate is 0.5. We do not show AdapEmu’s performance because it struggles to generate meaningful codes, accounting for its small size.</figcaption>
<table id="S4.T4.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T4.2.3" class="ltx_tr">
<td id="S4.T4.2.3.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span>
<span id="S4.T4.2.3.1.1" class="ltx_text">Method</span>
</td>
<td id="S4.T4.2.3.2" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2"><span id="S4.T4.2.3.2.1" class="ltx_text">Model</span></td>
<td id="S4.T4.2.3.3" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">C++</td>
<td id="S4.T4.2.3.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.3.5" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">GO</td>
<td id="S4.T4.2.3.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.3.7" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">Java</td>
<td id="S4.T4.2.3.8" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.3.9" class="ltx_td ltx_align_center" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="2">Python</td>
</tr>
<tr id="S4.T4.2.4" class="ltx_tr">
<td id="S4.T4.2.4.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T4.2.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T4.2.4.3" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T4.2.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T4.2.4.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T4.2.4.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
<td id="S4.T4.2.4.9" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.4.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@1</td>
<td id="S4.T4.2.4.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Pass@10</td>
</tr>
<tr id="S4.T4.2.5" class="ltx_tr">
<td id="S4.T4.2.5.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">Offsite-tuning</td>
<td id="S4.T4.2.5.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T4.2.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.30</td>
<td id="S4.T4.2.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.26</td>
<td id="S4.T4.2.5.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.5.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.32</td>
<td id="S4.T4.2.5.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.55</td>
<td id="S4.T4.2.5.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.5.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.61</td>
<td id="S4.T4.2.5.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.33</td>
<td id="S4.T4.2.5.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.5.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.75</td>
<td id="S4.T4.2.5.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">10.26</td>
</tr>
<tr id="S4.T4.2.6" class="ltx_tr">
<td id="S4.T4.2.6.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">FedOT</td>
<td id="S4.T4.2.6.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T4.2.6.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.92</td>
<td id="S4.T4.2.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.33</td>
<td id="S4.T4.2.6.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.6.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.00</td>
<td id="S4.T4.2.6.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.33</td>
<td id="S4.T4.2.6.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.6.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.86</td>
<td id="S4.T4.2.6.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.37</td>
<td id="S4.T4.2.6.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.6.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.33</td>
<td id="S4.T4.2.6.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.91</td>
</tr>
<tr id="S4.T4.1.1" class="ltx_tr">
<td id="S4.T4.1.1.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2)</td>
<td id="S4.T4.1.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T4.1.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.3.1" class="ltx_text ltx_font_bold">7.71</span></td>
<td id="S4.T4.1.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.4.1" class="ltx_text ltx_font_bold">11.84</span></td>
<td id="S4.T4.1.1.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.1.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.6.1" class="ltx_text ltx_font_bold">7.68</span></td>
<td id="S4.T4.1.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.7.1" class="ltx_text ltx_font_bold">10.01</span></td>
<td id="S4.T4.1.1.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.1.1.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.9.1" class="ltx_text ltx_font_bold">9.51</span></td>
<td id="S4.T4.1.1.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.10.1" class="ltx_text ltx_font_bold">14.34</span></td>
<td id="S4.T4.1.1.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.1.1.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.29</td>
<td id="S4.T4.1.1.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.1.1.13.1" class="ltx_text ltx_font_bold">16.87</span></td>
</tr>
<tr id="S4.T4.2.2" class="ltx_tr">
<td id="S4.T4.2.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.2.2.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 4)</td>
<td id="S4.T4.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">AdapFu</td>
<td id="S4.T4.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.03</td>
<td id="S4.T4.2.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.09</td>
<td id="S4.T4.2.2.5" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.25</td>
<td id="S4.T4.2.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.47</td>
<td id="S4.T4.2.2.8" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.41</td>
<td id="S4.T4.2.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.32</td>
<td id="S4.T4.2.2.11" class="ltx_td ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.2.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span id="S4.T4.2.2.12.1" class="ltx_text ltx_font_bold">13.54</span></td>
<td id="S4.T4.2.2.13" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.74</td>
</tr>
<tr id="S4.T4.2.7" class="ltx_tr">
<td id="S4.T4.2.7.1" class="ltx_td ltx_align_left" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T4.2.7.2" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.3" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.4" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.5" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.6" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.7" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.8" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.9" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.10" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.11" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.12" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td id="S4.T4.2.7.13" class="ltx_td" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
</tr>
</table>
</figure>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Quantitative Evaluation on i.i.d. Data</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">We demonstrate the experimental results of GSM-8K provided in Table <a href="#S4.T2" title="Table 2 ‣ Evaluation Metric. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and highlight the worth-noted phenomenon when the data are i.i.d. across the clients.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">A notable phenomenon observed in the table is that AdapEmu significantly falls behind AdapFu, particularly at a low dropout rate (i.e., <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="\beta=0.2" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">β</mi><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><eq id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1"></eq><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\beta=0.2</annotation></semantics></math>). To explain this, we examine the accuracy of the LLaMA-2 model with a dropout rate of 0.2, which is 2.12% without fine-tuning and increases to 2.43% after fine-tuning the emulator with a public dataset. The performance gap between AdapEmu and AdapFu can be attributed to layer dropout, which reduces the size of the LLM and subsequently impacts its performance. Additionally, this result highlights the difficulty of accurately reproducing the non-compressed parts with the emulator. Fortunately, all methods improve AdapEmu’s performance compared to the version without fine-tuning.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.2" class="ltx_p">When we take a look at the proposed <span id="S4.SS2.p3.2.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> at different adapters’ sizes, we notice that <span id="S4.SS2.p3.2.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> with adapter 4 achieves better performance than that with adapter 2 under the AdapFu setting. As we know, a larger adapter has more trainable parameters, and therefore, it can easily absorb the knowledge from the downstream tasks. Note that the performances of these two adapter settings have subtle differences under AdapEmu, meaning that their emulator achieves very similar effects to the non-compressed emulator. When we plug the adaptor back into the non-compressed emulator, the adapter with more trainable parameters obviously can achieve a better performance.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">When comparing our proposed model with the baselines, we can notice a significant dominance in performance, especially in the AdapFu setting. More specifically, when the dropout rate becomes larger, the performance of AdapFu with <span id="S4.SS2.p4.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> decreases more mildly in contrast to other baselines. This is thanks to two factors: 1) the regularization term ensures the adapters will not change dramatically; 2) the on-the-fly distillation of the emulator with mixed losses can work better with clients’ data. Although the other two baselines use a public dataset to achieve similar functionality, the deterioration may still occur due to the data domain shift and the significant information loss.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Quantitative Evaluation on non-i.i.d. Data</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">According to Table <a href="#S4.T1" title="Table 1 ‣ Model and computation environment. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, code generation and question answering are two tasks split in non-i.i.d. styles. In this section, we evaluate our proposed <span id="S4.SS3.p1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> when it trains an LLM with a non-i.i.d. dataset. It is worth noting that the evaluation task could be either in-distribution or out-of-distribution to the training dataset.</p>
</div>
<section id="S4.SS3.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Code generation.</h4>

<div id="S4.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS3.SSS0.Px1.p1.3" class="ltx_p">Table <a href="#S4.T3" title="Table 3 ‣ Evaluation Metric. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and <a href="#S4.T4" title="Table 4 ‣ Evaluation Metric. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> illustrate the best results in different programming languages based on different hyperparameter settings. Let us take a look at the results of the <span id="S4.SS3.SSS0.Px1.p1.3.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> at different adapter sizes. Apparently, <span id="S4.SS3.SSS0.Px1.p1.3.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> with two layers of adapter constantly outperforms <span id="S4.SS3.SSS0.Px1.p1.3.3" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> with four under both AdapEmu and AdapFu. This conclusion is different from the one when an LLM is trained with an i.i.d. dataset. The discrepancy can be attributed to the clients’ objectives: under i.i.d. datasets, a larger adapter size benefits training by absorbing downstream linguistic patterns uniformly. Conversely, with non-i.i.d. datasets, clients are biased towards their local optima, where the emulator’s effect becomes crucial.</p>
</div>
<div id="S4.SS3.SSS0.Px1.p2" class="ltx_para">
<p id="S4.SS3.SSS0.Px1.p2.1" class="ltx_p">When comparing our proposed algorithm with the baselines, we notice a distinct dominance in AdapFu across all programming languages. In particular, when the dropout rate is 0.5, we can achieve up to 6% improvement over other baselines in terms of Pass@1, and up to 10% improvement of Pass@10. Notably, the most distinct dominance can be witnessed under the “column” of Java in Table <a href="#S4.T4" title="Table 4 ‣ Evaluation Metric. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F2.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2406.17706/assets/fig/legend.png" id="S4.F2.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="30" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F2.sf1a" class="ltx_figure ltx_figure_panel"><img src="/html/2406.17706/assets/x2.png" id="S4.F2.sf1a.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="152" height="76" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(a) </span>AdapEmu (Dropout rate 0.2)</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F2.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2406.17706/assets/x3.png" id="S4.F2.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="152" height="76" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(b) </span>AdapFu (Dropout rate 0.2)</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F2.sf3" class="ltx_figure ltx_figure_panel"><img src="/html/2406.17706/assets/x4.png" id="S4.F2.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="152" height="76" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(c) </span>AdapFu (Dropout rate 0.5)</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Test accuracy in eight types of question-answering tasks (Left to right: Natural Questions (closed-book), QuAC, MMLU, OpenbookQA, NarrativeQA, Natural Questions (open-book), HellaSwag, BoolQ) and the average accuracy under different baselines (bars from left to right: Offsite-tuning, FedOT, <span id="S4.F2.7.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2), <span id="S4.F2.8.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 4)) and different dropout rates. </figcaption>
</figure>
</section>
<section id="S4.SS3.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Question Answering.</h4>

<div id="S4.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS3.SSS0.Px2.p1.1" class="ltx_p">Figure <a href="#S4.F2" title="Figure 2 ‣ Code generation. ‣ 4.3. Quantitative Evaluation on non-i.i.d. Data ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the evaluation results using the HELM benchmark while we train the LLM with Dolly-15K. Generally speaking, <span id="S4.SS3.SSS0.Px2.p1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2) performs significantly better than Adapter 4 in some tasks in terms of AdapEmu. As both AdapEmu have the same number of layers, this result exhibits the importance of the emulator, i.e., the model with a larger emulator can achieve leading performance. To some extent, this result supports our previous conclusion that an emulator plays a more important role than an adapter in a non-i.i.d. task. As for AdapFu, the performance difference is trivial between the two adapter sizes.</p>
</div>
<div id="S4.SS3.SSS0.Px2.p2" class="ltx_para">
<p id="S4.SS3.SSS0.Px2.p2.2" class="ltx_p">The proposed algorithm outperforms offsite-tuning and FedOT in most datasets, which is consistent with the findings in other training tasks. The dominance of AdapFu becomes more pronounced as the dropout rate increases from 0.2 to 0.5. For instance, <span id="S4.SS3.SSS0.Px2.p2.2.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> is approximately 10% better than the baselines at a 0.5 dropout rate in Natural Questions (closed-book), compared to a 2% improvement at a 0.2 dropout rate. Notably, comparing Figure <a href="#S4.F2.sf2" title="In Figure 2 ‣ Code generation. ‣ 4.3. Quantitative Evaluation on non-i.i.d. Data ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2b</span></a> and <a href="#S4.F2.sf3" title="In Figure 2 ‣ Code generation. ‣ 4.3. Quantitative Evaluation on non-i.i.d. Data ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2c</span></a>, we notice that <span id="S4.SS3.SSS0.Px2.p2.2.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> is mildly affected by changes in the dropout rate, while the baselines suffer significant degradation as the dropout rate increases. This stability can be attributed to round-by-round emulator alignment, where the non-compressed part of the full model is set as an anchor, regardless of the dropout rate. Consequently, this approach stabilizes the adapter training process, ensuring that adapters of the same size achieve similar performance across varying dropout rates.</p>
</div>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Discussion on Computation and Communication Overhead</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">Table <a href="#S4.T5" title="Table 5 ‣ 4.4. Discussion on Computation and Communication Overhead ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> presents the computation and communication overhead of different methods under different dropout rates. As mentioned in the experimental setting, all algorithms have been applied with LoRA, and therefore, the number of trainable parameters dramatically reduces. From the clients’ perspectives, the number of trainable parameters is determined by the number of decoder layers in the adapter. Apparently, <span id="S4.SS4.p1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> (Adapter 2) should be with the minimum number of trainable parameters among other methods.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.2" class="ltx_p">The computation costs in Table <a href="#S4.T5" title="Table 5 ‣ 4.4. Discussion on Computation and Communication Overhead ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> are measured by per-token floating point operation (FLOP/token). As we can see, the proposed <span id="S4.SS4.p2.2.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> costs less overhead than offsite-tuning and FedOT. The difference arises on account of the position of the trainable parameters. The adapter of the proposed <span id="S4.SS4.p2.2.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> is near the output layer. As for offsite-tuning and FedOT, the adapters are located separately at the top and the bottom two layers, thereby consuming more computation costs in the backward propagation for transmitting the derivative from the bottom to the top.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">However, our proposed method may require more communication overhead than the baselines. This is because the server should transmit the LoRA parameters of both the adapter and the emulator to the clients in our proposed method, while in offsite-tuning and FedOT, the server merely transmits the aggregated LoRA of the adapter to the clients. However, the overall cost is trivial, compared to the full LLM transmission at a cost of 28GB.</p>
</div>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Computation and communication costs of different methods under different dropout rates at client side.</figcaption>
<div id="S4.T5.7" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:242.4pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-59.4pt,33.1pt) scale(0.78498625652807,0.78498625652807) ;">
<table id="S4.T5.7.7" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.1.1.1" class="ltx_tr">
<td id="S4.T5.1.1.1.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span>
<span id="S4.T5.1.1.1.1.2" class="ltx_text"></span><span id="S4.T5.1.1.1.1.1" class="ltx_text">
<span id="S4.T5.1.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.1.1.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">Dropout</span></span>
<span id="S4.T5.1.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">Rate (<math id="S4.T5.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.T5.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.T5.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.T5.1.1.1.1.1.1.1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.1.1.1.1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.1.1.1.1.1.m1.1c">\beta</annotation></semantics></math>)</span></span>
</span></span><span id="S4.T5.1.1.1.1.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.1.2" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">Methods</td>
<td id="S4.T5.1.1.1.3" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.1.1.1.3.1" class="ltx_text"></span> <span id="S4.T5.1.1.1.3.2" class="ltx_text">
<span id="S4.T5.1.1.1.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.3.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">#Layers in</span></span>
<span id="S4.T5.1.1.1.3.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Adapter</span></span>
</span></span><span id="S4.T5.1.1.1.3.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.1.4" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.1.1.1.4.1" class="ltx_text"></span> <span id="S4.T5.1.1.1.4.2" class="ltx_text">
<span id="S4.T5.1.1.1.4.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.4.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.4.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">#Layers in</span></span>
<span id="S4.T5.1.1.1.4.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.4.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Emulator</span></span>
</span></span><span id="S4.T5.1.1.1.4.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.1.5" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.1.1.1.5.1" class="ltx_text"></span> <span id="S4.T5.1.1.1.5.2" class="ltx_text">
<span id="S4.T5.1.1.1.5.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.5.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.5.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Trainable</span></span>
<span id="S4.T5.1.1.1.5.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.5.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Param. (M)</span></span>
</span></span><span id="S4.T5.1.1.1.5.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.1.6" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.1.1.1.6.1" class="ltx_text"></span> <span id="S4.T5.1.1.1.6.2" class="ltx_text">
<span id="S4.T5.1.1.1.6.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.6.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.6.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Comp. Costs</span></span>
<span id="S4.T5.1.1.1.6.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.6.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">(GFLOP/token)</span></span>
</span></span><span id="S4.T5.1.1.1.6.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.1.7" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.1.1.1.7.1" class="ltx_text"></span> <span id="S4.T5.1.1.1.7.2" class="ltx_text">
<span id="S4.T5.1.1.1.7.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.1.7.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.1.7.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">Comm. Costs</span></span>
<span id="S4.T5.1.1.1.7.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.1.7.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;">(MB/round)</span></span>
</span></span><span id="S4.T5.1.1.1.7.3" class="ltx_text"></span></td>
</tr>
<tr id="S4.T5.2.2.2" class="ltx_tr">
<td id="S4.T5.2.2.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.1.1" class="ltx_text"><math id="S4.T5.2.2.2.1.1.m1.1" class="ltx_Math" alttext="\beta=0.2" display="inline"><semantics id="S4.T5.2.2.2.1.1.m1.1a"><mrow id="S4.T5.2.2.2.1.1.m1.1.1" xref="S4.T5.2.2.2.1.1.m1.1.1.cmml"><mi mathsize="173%" id="S4.T5.2.2.2.1.1.m1.1.1.2" xref="S4.T5.2.2.2.1.1.m1.1.1.2.cmml">β</mi><mo mathsize="173%" id="S4.T5.2.2.2.1.1.m1.1.1.1" xref="S4.T5.2.2.2.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="173%" id="S4.T5.2.2.2.1.1.m1.1.1.3" xref="S4.T5.2.2.2.1.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.1.1.m1.1b"><apply id="S4.T5.2.2.2.1.1.m1.1.1.cmml" xref="S4.T5.2.2.2.1.1.m1.1.1"><eq id="S4.T5.2.2.2.1.1.m1.1.1.1.cmml" xref="S4.T5.2.2.2.1.1.m1.1.1.1"></eq><ci id="S4.T5.2.2.2.1.1.m1.1.1.2.cmml" xref="S4.T5.2.2.2.1.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.T5.2.2.2.1.1.m1.1.1.3.cmml" xref="S4.T5.2.2.2.1.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.1.1.m1.1c">\beta=0.2</annotation></semantics></math></span></td>
<td id="S4.T5.2.2.2.2" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.2.2.2.2.1" class="ltx_text"></span><span id="S4.T5.2.2.2.2.2" class="ltx_text">
<span id="S4.T5.2.2.2.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.2.2.2.2.2.1.1" class="ltx_tr">
<span id="S4.T5.2.2.2.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">Offsite-tuning</span></span>
<span id="S4.T5.2.2.2.2.2.1.2" class="ltx_tr">
<span id="S4.T5.2.2.2.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">/FedOT</span></span>
</span></span><span id="S4.T5.2.2.2.2.3" class="ltx_text"></span></td>
<td id="S4.T5.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.3.1" class="ltx_text" style="font-size:173%;">4</span></td>
<td id="S4.T5.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.4.1" class="ltx_text" style="font-size:173%;">22</span></td>
<td id="S4.T5.2.2.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.5.1" class="ltx_text" style="font-size:173%;">0.524</span></td>
<td id="S4.T5.2.2.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.6.1" class="ltx_text" style="font-size:173%;">10.33</span></td>
<td id="S4.T5.2.2.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.2.2.2.7.1" class="ltx_text" style="font-size:173%;">4.19</span></td>
</tr>
<tr id="S4.T5.3.3.3" class="ltx_tr">
<td id="S4.T5.3.3.3.2" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.3.3.3.2.1" class="ltx_ERROR undefined">\cdashline</span>2-7</td>
<td id="S4.T5.3.3.3.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.3.3.3.1.2" class="ltx_text"></span><span id="S4.T5.3.3.3.1.1" class="ltx_text">
<span id="S4.T5.3.3.3.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.3.3.3.1.1.1.1" class="ltx_tr">
<span id="S4.T5.3.3.3.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T5.3.3.3.1.1.1.2" class="ltx_tr">
<span id="S4.T5.3.3.3.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">(Adapter 2)</span></span>
</span></span><span id="S4.T5.3.3.3.1.3" class="ltx_text"></span></td>
<td id="S4.T5.3.3.3.3" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.3.1" class="ltx_text" style="font-size:173%;">2</span></td>
<td id="S4.T5.3.3.3.4" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.4.1" class="ltx_text" style="font-size:173%;">24</span></td>
<td id="S4.T5.3.3.3.5" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.5.1" class="ltx_text" style="font-size:173%;">0.262</span></td>
<td id="S4.T5.3.3.3.6" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.6.1" class="ltx_text" style="font-size:173%;">5.47</span></td>
<td id="S4.T5.3.3.3.7" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.3.3.3.7.1" class="ltx_text" style="font-size:173%;">14.68</span></td>
</tr>
<tr id="S4.T5.4.4.4" class="ltx_tr">
<td id="S4.T5.4.4.4.2" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.4.4.4.2.1" class="ltx_ERROR undefined">\cdashline</span>2-7</td>
<td id="S4.T5.4.4.4.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.4.4.4.1.2" class="ltx_text"></span><span id="S4.T5.4.4.4.1.1" class="ltx_text">
<span id="S4.T5.4.4.4.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.4.4.4.1.1.1.1" class="ltx_tr">
<span id="S4.T5.4.4.4.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T5.4.4.4.1.1.1.2" class="ltx_tr">
<span id="S4.T5.4.4.4.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">(Adapter 4)</span></span>
</span></span><span id="S4.T5.4.4.4.1.3" class="ltx_text"></span></td>
<td id="S4.T5.4.4.4.3" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.3.1" class="ltx_text" style="font-size:173%;">4</span></td>
<td id="S4.T5.4.4.4.4" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.4.1" class="ltx_text" style="font-size:173%;">22</span></td>
<td id="S4.T5.4.4.4.5" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.5.1" class="ltx_text" style="font-size:173%;">0.524</span></td>
<td id="S4.T5.4.4.4.6" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.6.1" class="ltx_text" style="font-size:173%;">5.87</span></td>
<td id="S4.T5.4.4.4.7" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.4.4.4.7.1" class="ltx_text" style="font-size:173%;">15.73</span></td>
</tr>
<tr id="S4.T5.5.5.5" class="ltx_tr">
<td id="S4.T5.5.5.5.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.1.1" class="ltx_text"><math id="S4.T5.5.5.5.1.1.m1.1" class="ltx_Math" alttext="\beta=0.5" display="inline"><semantics id="S4.T5.5.5.5.1.1.m1.1a"><mrow id="S4.T5.5.5.5.1.1.m1.1.1" xref="S4.T5.5.5.5.1.1.m1.1.1.cmml"><mi mathsize="173%" id="S4.T5.5.5.5.1.1.m1.1.1.2" xref="S4.T5.5.5.5.1.1.m1.1.1.2.cmml">β</mi><mo mathsize="173%" id="S4.T5.5.5.5.1.1.m1.1.1.1" xref="S4.T5.5.5.5.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="173%" id="S4.T5.5.5.5.1.1.m1.1.1.3" xref="S4.T5.5.5.5.1.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.5.5.5.1.1.m1.1b"><apply id="S4.T5.5.5.5.1.1.m1.1.1.cmml" xref="S4.T5.5.5.5.1.1.m1.1.1"><eq id="S4.T5.5.5.5.1.1.m1.1.1.1.cmml" xref="S4.T5.5.5.5.1.1.m1.1.1.1"></eq><ci id="S4.T5.5.5.5.1.1.m1.1.1.2.cmml" xref="S4.T5.5.5.5.1.1.m1.1.1.2">𝛽</ci><cn type="float" id="S4.T5.5.5.5.1.1.m1.1.1.3.cmml" xref="S4.T5.5.5.5.1.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.5.5.5.1.1.m1.1c">\beta=0.5</annotation></semantics></math></span></td>
<td id="S4.T5.5.5.5.2" class="ltx_td ltx_align_left ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.5.5.5.2.1" class="ltx_text"></span><span id="S4.T5.5.5.5.2.2" class="ltx_text">
<span id="S4.T5.5.5.5.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.5.5.5.2.2.1.1" class="ltx_tr">
<span id="S4.T5.5.5.5.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">Offsite-tuning</span></span>
<span id="S4.T5.5.5.5.2.2.1.2" class="ltx_tr">
<span id="S4.T5.5.5.5.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">/FedOT</span></span>
</span></span><span id="S4.T5.5.5.5.2.3" class="ltx_text"></span></td>
<td id="S4.T5.5.5.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.3.1" class="ltx_text" style="font-size:173%;">4</span></td>
<td id="S4.T5.5.5.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.4.1" class="ltx_text" style="font-size:173%;">14</span></td>
<td id="S4.T5.5.5.5.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.5.1" class="ltx_text" style="font-size:173%;">0.524</span></td>
<td id="S4.T5.5.5.5.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.6.1" class="ltx_text" style="font-size:173%;">7.09</span></td>
<td id="S4.T5.5.5.5.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.5.5.5.7.1" class="ltx_text" style="font-size:173%;">4.19</span></td>
</tr>
<tr id="S4.T5.6.6.6" class="ltx_tr">
<td id="S4.T5.6.6.6.2" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.6.6.6.2.1" class="ltx_ERROR undefined">\cdashline</span>2-7</td>
<td id="S4.T5.6.6.6.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.6.6.6.1.2" class="ltx_text"></span><span id="S4.T5.6.6.6.1.1" class="ltx_text">
<span id="S4.T5.6.6.6.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.6.6.6.1.1.1.1" class="ltx_tr">
<span id="S4.T5.6.6.6.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T5.6.6.6.1.1.1.2" class="ltx_tr">
<span id="S4.T5.6.6.6.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">(Adapter 2)</span></span>
</span></span><span id="S4.T5.6.6.6.1.3" class="ltx_text"></span></td>
<td id="S4.T5.6.6.6.3" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.3.1" class="ltx_text" style="font-size:173%;">2</span></td>
<td id="S4.T5.6.6.6.4" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.4.1" class="ltx_text" style="font-size:173%;">15</span></td>
<td id="S4.T5.6.6.6.5" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.5.1" class="ltx_text" style="font-size:173%;">0.262</span></td>
<td id="S4.T5.6.6.6.6" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.6.1" class="ltx_text" style="font-size:173%;">3.65</span></td>
<td id="S4.T5.6.6.6.7" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.6.6.6.7.1" class="ltx_text" style="font-size:173%;">9.96</span></td>
</tr>
<tr id="S4.T5.7.7.7" class="ltx_tr">
<td id="S4.T5.7.7.7.2" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.7.7.7.2.1" class="ltx_ERROR undefined">\cdashline</span>2-7</td>
<td id="S4.T5.7.7.7.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">
<span id="S4.T5.7.7.7.1.2" class="ltx_text"></span><span id="S4.T5.7.7.7.1.1" class="ltx_text">
<span id="S4.T5.7.7.7.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.7.7.7.1.1.1.1" class="ltx_tr">
<span id="S4.T5.7.7.7.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.1.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span></span></span>
<span id="S4.T5.7.7.7.1.1.1.2" class="ltx_tr">
<span id="S4.T5.7.7.7.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;">(Adapter 4)</span></span>
</span></span><span id="S4.T5.7.7.7.1.3" class="ltx_text"></span></td>
<td id="S4.T5.7.7.7.3" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.3.1" class="ltx_text" style="font-size:173%;">4</span></td>
<td id="S4.T5.7.7.7.4" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.4.1" class="ltx_text" style="font-size:173%;">14</span></td>
<td id="S4.T5.7.7.7.5" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.5.1" class="ltx_text" style="font-size:173%;">0.524</span></td>
<td id="S4.T5.7.7.7.6" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.6.1" class="ltx_text" style="font-size:173%;">4.25</span></td>
<td id="S4.T5.7.7.7.7" class="ltx_td ltx_align_center" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span id="S4.T5.7.7.7.7.1" class="ltx_text" style="font-size:173%;">11.53</span></td>
</tr>
<tr id="S4.T5.7.7.8" class="ltx_tr">
<td id="S4.T5.7.7.8.1" class="ltx_td ltx_align_left" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_rule" style="width:100%;height:1.5pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T5.7.7.8.2" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
<td id="S4.T5.7.7.8.3" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
<td id="S4.T5.7.7.8.4" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
<td id="S4.T5.7.7.8.5" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
<td id="S4.T5.7.7.8.6" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
<td id="S4.T5.7.7.8.7" class="ltx_td" style="padding-top:1.5pt;padding-bottom:1.5pt;"></td>
</tr>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.3" class="ltx_p">In this paper, we introduce <span id="S5.p1.3.1" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span>, a federated learning algorithm that avoids full model fine-tuning while substantially reducing computation overhead. Specifically, we compress the LLM and divide it into two components, namely, an emulator and an adapter. By formulating a bi-level optimization problem, our proposed <span id="S5.p1.3.2" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> ensures that the emulator partially simulates the original LLM, while the adapter focuses on learning domain-specific linguistic patterns. Extensive experiments show the superiority of the proposed <span id="S5.p1.3.3" class="ltx_text ltx_markedasmath ltx_font_sansserif">FedBiOT</span> working with LLaMA-2, where it can achieve significant accuracy improvement than the existing baselines (i.e., Offsite-tuning and FedOT) in all tasks (i.e., math problem-solving, code generation, and question answering).</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
The authors would like to thank the anonymous reviewers for their constructive comments. This work is supported in part by the US National Science Foundation under grants NSF-IIS 1747614 and NSF-IIS 2141037. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.

</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">        




</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Acar et al<span id="bib.bib2.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Durmus Alp Emre Acar, Yue Zhao, Ramon Matas, Matthew Mattina, Paul Whatmough, and Venkatesh Saligrama. 2020.

</span>
<span class="ltx_bibblock">Federated Learning Based on Dynamic Regularization. In <em id="bib.bib2.3.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Learning Representations (ICLR’20)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">CCPA (2023)</span>
<span class="ltx_bibblock">
CCPA. 2023.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">California Consumer Privacy Act (CCPA)</em>.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://oag.ca.gov/privacy/ccpa" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://oag.ca.gov/privacy/ccpa</a>

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chaudhary (2023)</span>
<span class="ltx_bibblock">
Sahil Chaudhary. 2023.

</span>
<span class="ltx_bibblock">Code Alpaca: An Instruction-following LLaMA model for code generation.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/sahil280114/codealpaca" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/sahil280114/codealpaca</a>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span id="bib.bib5.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique Ponde de Oliveira Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph, Greg Brockman, et al<span id="bib.bib5.3.1" class="ltx_text">.</span> 2021.

</span>
<span class="ltx_bibblock">Evaluating large language models trained on code.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2107.03374</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et al<span id="bib.bib6.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et al<span id="bib.bib6.3.1" class="ltx_text">.</span> 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.14168</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Conover et al<span id="bib.bib7.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Mike Conover, Matt Hayes, Ankit Mathur, Jianwei Xie, Jun Wan, Sam Shah, Ali Ghodsi, Patrick Wendell, Matei Zaharia, and Reynold Xin. 2023.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.3.1" class="ltx_emph ltx_font_italic">Free Dolly: Introducing the World’s First Truly Open Instruction-Tuned LLM</em>.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://www.databricks.com/blog/2023/04/12/dolly-first-open-commercially-viable-instruction-tuned-llm" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.databricks.com/blog/2023/04/12/dolly-first-open-commercially-viable-instruction-tuned-llm</a>

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span id="bib.bib8.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Jiaxi Cui, Zongjian Li, Yang Yan, Bohua Chen, and Li Yuan. 2023.

</span>
<span class="ltx_bibblock">Chatlaw: Open-source legal large language model with integrated external knowledge bases.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2306.16092</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">GDPR (2016)</span>
<span class="ltx_bibblock">
GDPR. 2016.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Regulation (EU) 2016/679 of the European Parliament and of the Council</em>.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://data.europa.eu/eli/reg/2016/679/oj" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://data.europa.eu/eli/reg/2016/679/oj</a>

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span id="bib.bib10.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Shiqi He, Qifan Yan, Feijie Wu, Lanjun Wang, Mathias Lécuyer, and Ivan Beschastnikh. 2023.

</span>
<span class="ltx_bibblock">GlueFL: Reconciling Client Sampling and Model Masking for Bandwidth Efficient Federated Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.3.1" class="ltx_emph ltx_font_italic">Proc. of Machine Learning and Systems (MLSys’23)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hinton et al<span id="bib.bib11.2.2.1" class="ltx_text">.</span> (2015)</span>
<span class="ltx_bibblock">
Geoffrey Hinton, Oriol Vinyals, and Jeff Dean. 2015.

</span>
<span class="ltx_bibblock">Distilling the knowledge in a neural network.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1503.02531</em> (2015).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span id="bib.bib12.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Edward J Hu, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, Weizhu Chen, et al<span id="bib.bib12.3.1" class="ltx_text">.</span> 2021.

</span>
<span class="ltx_bibblock">LoRA: Low-Rank Adaptation of Large Language Models. In <em id="bib.bib12.4.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Learning Representations (ICLR’21)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al<span id="bib.bib13.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank Reddi, Sebastian Stich, and Ananda Theertha Suresh. 2020.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning. In <em id="bib.bib13.3.1" class="ltx_emph ltx_font_italic">Proc. of International conference on machine learning (ICML’20)</em>. 5132–5143.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kuang et al<span id="bib.bib14.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Weirui Kuang, Bingchen Qian, Zitao Li, Daoyuan Chen, Dawei Gao, Xuchen Pan, Yuexiang Xie, Yaliang Li, Bolin Ding, and Jingren Zhou. 2024.

</span>
<span class="ltx_bibblock">FederatedScope-LLM: A Comprehensive Package for Fine-tuning Large Language Models in Federated Learning. In <em id="bib.bib14.3.1" class="ltx_emph ltx_font_italic">Proc. of the ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD’24)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lester et al<span id="bib.bib15.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Brian Lester, Rami Al-Rfou, and Noah Constant. 2021.

</span>
<span class="ltx_bibblock">The Power of Scale for Parameter-Efficient Prompt Tuning. In <em id="bib.bib15.3.1" class="ltx_emph ltx_font_italic">Proc. of the Conference on Empirical Methods in Natural Language Processing (EMNLP’21)</em>. 3045–3059.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span id="bib.bib16.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Xiang Li, Kaixuan Huang, Wenhao Yang, Shusen Wang, and Zhihua Zhang. 2019.

</span>
<span class="ltx_bibblock">On the Convergence of FedAvg on Non-IID Data. In <em id="bib.bib16.3.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Learning Representations (ICLR’19)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li and Liang (2021)</span>
<span class="ltx_bibblock">
Xiang Lisa Li and Percy Liang. 2021.

</span>
<span class="ltx_bibblock">Prefix-Tuning: Optimizing Continuous Prompts for Generation. In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Proc. of the Annual Meeting of the Association for Computational Linguistics and the International Joint Conference on Natural Language Processing (ACL/IJNLP’21)</em>. 4582–4597.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al<span id="bib.bib18.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Percy Liang, Rishi Bommasani, Tony Lee, Dimitris Tsipras, Dilara Soylu, Michihiro Yasunaga, Yian Zhang, Deepak Narayanan, Yuhuai Wu, Ananya Kumar, et al<span id="bib.bib18.3.1" class="ltx_text">.</span> 2022.

</span>
<span class="ltx_bibblock">Holistic evaluation of language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.09110</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span id="bib.bib19.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Tao Lin, Lingjing Kong, Sebastian U Stich, and Martin Jaggi. 2020.

</span>
<span class="ltx_bibblock">Ensemble distillation for robust model fusion in federated learning. In <em id="bib.bib19.3.1" class="ltx_emph ltx_font_italic">Proc. of Advances in Neural Information Processing Systems (NeurIPS’20)</em>. 2351–2363.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span id="bib.bib20.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Zihao Lin, Yan Sun, Yifan Shi, Xueqian Wang, Lifu Huang, Li Shen, and Dacheng Tao. 2023.

</span>
<span class="ltx_bibblock">Efficient federated prompt tuning for black-box large pre-trained models.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.03123</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span id="bib.bib21.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiao Liu, Yanan Zheng, Zhengxiao Du, Ming Ding, Yujie Qian, Zhilin Yang, and Jie Tang. 2023.

</span>
<span class="ltx_bibblock">GPT understands, too.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.3.1" class="ltx_emph ltx_font_italic">AI Open</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter (2018)</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter. 2018.

</span>
<span class="ltx_bibblock">Decoupled Weight Decay Regularization. In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Learning Representations (ICLR’18)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al<span id="bib.bib23.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas. 2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data. In <em id="bib.bib23.3.1" class="ltx_emph ltx_font_italic">Proc. of Artificial intelligence and statistics (AISTAT’17)</em>. 1273–1282.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nay et al<span id="bib.bib24.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
John J Nay, David Karamardian, Sarah B Lawsky, Wenting Tao, Meghana Bhat, Raghav Jain, Aaron Travis Lee, Jonathan H Choi, and Jungo Kasai. 2024.

</span>
<span class="ltx_bibblock">Large language models as tax attorneys: a case study in legal capabilities emergence.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.3.1" class="ltx_emph ltx_font_italic">Philosophical Transactions of the Royal Society A</em> 382, 2270 (2024), 20230159.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock">Fine-tuning - OpenAI API.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://platform.openai.com/docs/guides/fine-tuning" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://platform.openai.com/docs/guides/fine-tuning</a>.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">Accessed: 2023-09-29.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span id="bib.bib26.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et al<span id="bib.bib26.3.1" class="ltx_text">.</span> 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback. In <em id="bib.bib26.4.1" class="ltx_emph ltx_font_italic">Proc. of Advances in Neural Information Processing Systems (NeurIPS’22)</em>. 27730–27744.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sajjad et al<span id="bib.bib27.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Hassan Sajjad, Fahim Dalvi, Nadir Durrani, and Preslav Nakov. 2023.

</span>
<span class="ltx_bibblock">On the effect of dropping layers of pre-trained transformer models.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.3.1" class="ltx_emph ltx_font_italic">Computer Speech &amp; Language</em> 77 (2023), 101429.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singhal et al<span id="bib.bib28.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi, Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen Pfohl, et al<span id="bib.bib28.3.1" class="ltx_text">.</span> 2023.

</span>
<span class="ltx_bibblock">Large language models encode clinical knowledge.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.4.1" class="ltx_emph ltx_font_italic">Nature</em> 620, 7972 (2023), 172–180.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sordoni et al<span id="bib.bib29.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Alessandro Sordoni, Xingdi Yuan, Marc-Alexandre Côté, Matheus Pereira, Adam Trischler, Ziang Xiao, Arian Hosseini, Friederike Niedtner, and Nicolas Le Roux. 2023.

</span>
<span class="ltx_bibblock">Joint prompt optimization of stacked llms using variational inference. In <em id="bib.bib29.3.1" class="ltx_emph ltx_font_italic">Proc. of Advances in Neural Information Processing Systems (NeurIPS’23)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span id="bib.bib30.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Jingwei Sun, Ziyue Xu, Hongxu Yin, Dong Yang, Daguang Xu, Yiran Chen, and Holger R Roth. 2023.

</span>
<span class="ltx_bibblock">FedBPT: Efficient Federated Black-box Prompt Tuning for Large Language Models.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.01467</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span id="bib.bib31.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Youbang Sun, Zitao Li, Yaliang Li, and Bolin Ding. 2024.

</span>
<span class="ltx_bibblock">Improving LoRA in Privacy-preserving Federated Learning. In <em id="bib.bib31.3.1" class="ltx_emph ltx_font_italic">Proc. of The International Conference on Learning Representations (ICLR’24)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Taori et al<span id="bib.bib32.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Rohan Taori, Ishaan Gulrajani, Tianyi Zhang, Yann Dubois, Xuechen Li, Carlos Guestrin, Percy Liang, and Tatsunori B. Hashimoto. 2023.

</span>
<span class="ltx_bibblock">Stanford Alpaca: An Instruction-following LLaMA model.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/tatsu-lab/stanford_alpaca" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tatsu-lab/stanford_alpaca</a>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thirunavukarasu et al<span id="bib.bib33.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Arun James Thirunavukarasu, Darren Shu Jeng Ting, Kabilan Elangovan, Laura Gutierrez, Ting Fang Tan, and Daniel Shu Wei Ting. 2023.

</span>
<span class="ltx_bibblock">Large language models in medicine.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.3.1" class="ltx_emph ltx_font_italic">Nature medicine</em> 29, 8 (2023), 1930–1940.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span id="bib.bib34.2.2.1" class="ltx_text">.</span> (2023a)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et al<span id="bib.bib34.3.1" class="ltx_text">.</span> 2023a.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.13971</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span id="bib.bib35.2.2.1" class="ltx_text">.</span> (2023b)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al<span id="bib.bib35.3.1" class="ltx_text">.</span> 2023b.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2307.09288</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib36.2.2.1" class="ltx_text">.</span> (2023a)</span>
<span class="ltx_bibblock">
Haozhao Wang, Yichen Li, Wenchao Xu, Ruixuan Li, Yufeng Zhan, and Zhigang Zeng. 2023a.

</span>
<span class="ltx_bibblock">Dafkd: Domain-aware federated knowledge distillation. In <em id="bib.bib36.3.1" class="ltx_emph ltx_font_italic">Proc. of the IEEE/CVF conference on Computer Vision and Pattern Recognition (CVPR’23)</em>. 20412–20421.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib37.2.2.1" class="ltx_text">.</span> (2023b)</span>
<span class="ltx_bibblock">
Haozhao Wang, Haoran Xu, Yichen Li, Yuan Xu, Ruixuan Li, and Tianwei Zhang. 2023b.

</span>
<span class="ltx_bibblock">FedCDA: Federated Learning with Cross-rounds Divergence-aware Aggregation. In <em id="bib.bib37.3.1" class="ltx_emph ltx_font_italic">Proc. of The International Conference on Learning Representations (ICLR’23)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib38.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Haoyu Wang, Handong Zhao, Yaqing Wang, Tong Yu, Jiuxiang Gu, and Jing Gao. 2022.

</span>
<span class="ltx_bibblock">FedKC: Federated knowledge composition for multilingual natural language understanding. In <em id="bib.bib38.3.1" class="ltx_emph ltx_font_italic">Proc. of the ACM Web Conference 2022 (WWW’22)</em>. 1839–1850.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib39.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Jianyu Wang, Qinghua Liu, Hao Liang, Gauri Joshi, and H Vincent Poor. 2020.

</span>
<span class="ltx_bibblock">Tackling the objective inconsistency problem in heterogeneous federated optimization. In <em id="bib.bib39.3.1" class="ltx_emph ltx_font_italic">Proc. of Advances in neural information processing systems (NeurIPS’20)</em>. 7611–7623.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib40.2.2.1" class="ltx_text">.</span> (2023c)</span>
<span class="ltx_bibblock">
Sheng Wang, Zihao Zhao, Xi Ouyang, Qian Wang, and Dinggang Shen. 2023c.

</span>
<span class="ltx_bibblock">Chatcad: Interactive computer-aided diagnosis on medical image using large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.07257</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span id="bib.bib41.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Jason Wei, Maarten Bosma, Vincent Zhao, Kelvin Guu, Adams Wei Yu, Brian Lester, Nan Du, Andrew M Dai, and Quoc V Le. 2021.

</span>
<span class="ltx_bibblock">Finetuned Language Models are Zero-Shot Learners. In <em id="bib.bib41.3.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Learning Representations (ICLR’21)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span id="bib.bib42.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al<span id="bib.bib42.3.1" class="ltx_text">.</span> 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models. In <em id="bib.bib42.4.1" class="ltx_emph ltx_font_italic">Proc. of Advances in Neural Information Processing Systems (NeurIPS’22)</em>. 24824–24837.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span id="bib.bib43.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Feijie Wu, Song Guo, Zhihao Qu, Shiqi He, Ziming Liu, and Jing Gao. 2023.

</span>
<span class="ltx_bibblock">Anchor sampling for federated learning with partial client participation. In <em id="bib.bib43.3.1" class="ltx_emph ltx_font_italic">Proc. of International Conference on Machine Learning (ICML’23)</em>. 37379–37416.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al<span id="bib.bib44.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Guangxuan Xiao, Ji Lin, and Song Han. 2023.

</span>
<span class="ltx_bibblock">Offsite-tuning: Transfer learning without full model.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.04870</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al<span id="bib.bib45.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Yuexiang Xie, Zhen Wang, Dawei Gao, Daoyuan Chen, Liuyi Yao, Weirui Kuang, Yaliang Li, Bolin Ding, and Jingren Zhou. 2023.

</span>
<span class="ltx_bibblock">FederatedScope: A Flexible Federated Learning Platform for Heterogeneity. In <em id="bib.bib45.3.1" class="ltx_emph ltx_font_italic">Proc. of the VLDB Endowment (VLDB’23)</em>. 1059–1072.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yi et al<span id="bib.bib46.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Liping Yi, Han Yu, Gang Wang, and Xiaoguang Liu. 2023.

</span>
<span class="ltx_bibblock">Fedlora: Model-heterogeneous personalized federated learning with lora tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.13283</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yosinski et al<span id="bib.bib47.2.2.1" class="ltx_text">.</span> (2014)</span>
<span class="ltx_bibblock">
Jason Yosinski, Jeff Clune, Yoshua Bengio, and Hod Lipson. 2014.

</span>
<span class="ltx_bibblock">How transferable are features in deep neural networks?. In <em id="bib.bib47.3.1" class="ltx_emph ltx_font_italic">Proc. of Advances in neural information processing systems (NeurIPS’14)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span id="bib.bib48.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Jie Zhang, Song Guo, Xiaosong Ma, Haozhao Wang, Wenchao Xu, and Feijie Wu. 2021.

</span>
<span class="ltx_bibblock">Parameterized knowledge transfer for personalized federated learning. In <em id="bib.bib48.3.1" class="ltx_emph ltx_font_italic">Proc. of Advances in Neural Information Processing Systems (NeurIPS’21)</em>. 10092–10104.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span id="bib.bib49.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Jianyi Zhang, Saeed Vahidian, Martin Kuo, Chunyuan Li, Ruiyi Zhang, Tong Yu, Guoyin Wang, and Yiran Chen. 2024.

</span>
<span class="ltx_bibblock">Towards building the federatedGPT: Federated instruction tuning. In <em id="bib.bib49.3.1" class="ltx_emph ltx_font_italic">Proc. of IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP’24)</em>. 6915–6919.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span id="bib.bib50.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhuo Zhang, Yuanhang Yang, Yong Dai, Qifan Wang, Yue Yu, Lizhen Qu, and Zenglin Xu. 2023.

</span>
<span class="ltx_bibblock">FedPETuning: When federated learning meets the parameter-efficient tuning methods of pre-trained language models. In <em id="bib.bib50.3.1" class="ltx_emph ltx_font_italic">Proc. of Annual Meeting of the Association of Computational Linguistics (ACL’23)</em>. 9963–9977.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al<span id="bib.bib51.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Qinkai Zheng, Xiao Xia, Xu Zou, Yuxiao Dong, Shan Wang, Yufei Xue, Lei Shen, Zihan Wang, Andi Wang, Yang Li, et al<span id="bib.bib51.3.1" class="ltx_text">.</span> 2023.

</span>
<span class="ltx_bibblock">Codegeex: A pre-trained model for code generation with multilingual benchmarking on humaneval-x. In <em id="bib.bib51.4.1" class="ltx_emph ltx_font_italic">Proc. of the ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD’23)</em>. 5673–5684.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Testing Dataset and Evaluation</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">As described in Table <a href="#S4.T1" title="Table 1 ‣ Model and computation environment. ‣ 4.1. Experimental Setup ‣ 4. Experiments ‣ FedBiOT: LLM Local Fine-tuning in Federated Learning without Full Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we utilize three datasets to assess the fine-tuning performance. In this section, we briefly introduce all these datasets and provide the details about how they evaluate a given LLM.</p>
</div>
<section id="A1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">GSM-8K.</h4>

<div id="A1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px1.p1.1" class="ltx_p">We use the GSM-8K test set <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite> to evaluate the ability of a large language model (LLM) to solve math problems. This dataset includes ”questions” and ”ground truth” answers. We assess correctness by determining how often the LLM answers a given question correctly. Following chain of thought (CoT) <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2022</a>)</cite>, we prepare a set of sample questions (a.k.a. few-shot prompting) and prompt the LLM to generate step-by-step solutions, ensuring the answers are formatted correctly. Finally, we extract the answers from these solutions and compare them with the ground truth to calculate the correctness rate.</p>
</div>
</section>
<section id="A1.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">HumanevalX.</h4>

<div id="A1.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px2.p1.1" class="ltx_p">This is a task for code autofill, which consists of 164 test samples for five programming languages <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al<span class="ltx_text">.</span>, <a href="#bib.bib51" title="" class="ltx_ref">2023</a>)</cite>. It is worth noting that we use four of them (i.e., C++, GO, Java, and Python) because there are no JavaScript codes in the training dataset. Each test sample is constituted with “task id”, “prompt” (i.e., Task description with partial codes), “entry point” (i.e., the function to be achieved), “canonical solution” (i.e., a sampled solution), and “test” (i.e., evaluate if the generated code can obtain the correct answer based on the given input). In this task, we use “prompt” as the input and generate five versions of codes using a given model. We compile the code and check if it can pass the given “test”. Let <math id="A1.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A1.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="A1.SS0.SSS0.Px2.p1.1.m1.1.1" xref="A1.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="A1.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p1.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p1.1.m1.1c">c</annotation></semantics></math> be the number of correct codes generated by LLM and passed unit tests, and therefore, Pass@k can be computed via</p>
<table id="A1.Ex5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A1.Ex5.m1.5" class="ltx_Math" alttext="\text{Pass@k}=\mathbb{E}_{\text{problems}}\left[1-\frac{\binom{n-c}{k}}{\binom{n}{k}}\right]" display="block"><semantics id="A1.Ex5.m1.5a"><mrow id="A1.Ex5.m1.5.5" xref="A1.Ex5.m1.5.5.cmml"><mtext id="A1.Ex5.m1.5.5.3" xref="A1.Ex5.m1.5.5.3a.cmml">Pass@k</mtext><mo id="A1.Ex5.m1.5.5.2" xref="A1.Ex5.m1.5.5.2.cmml">=</mo><mrow id="A1.Ex5.m1.5.5.1" xref="A1.Ex5.m1.5.5.1.cmml"><msub id="A1.Ex5.m1.5.5.1.3" xref="A1.Ex5.m1.5.5.1.3.cmml"><mi id="A1.Ex5.m1.5.5.1.3.2" xref="A1.Ex5.m1.5.5.1.3.2.cmml">𝔼</mi><mtext id="A1.Ex5.m1.5.5.1.3.3" xref="A1.Ex5.m1.5.5.1.3.3a.cmml">problems</mtext></msub><mo lspace="0em" rspace="0em" id="A1.Ex5.m1.5.5.1.2" xref="A1.Ex5.m1.5.5.1.2.cmml">​</mo><mrow id="A1.Ex5.m1.5.5.1.1.1" xref="A1.Ex5.m1.5.5.1.1.2.cmml"><mo id="A1.Ex5.m1.5.5.1.1.1.2" xref="A1.Ex5.m1.5.5.1.1.2.1.cmml">[</mo><mrow id="A1.Ex5.m1.5.5.1.1.1.1" xref="A1.Ex5.m1.5.5.1.1.1.1.cmml"><mn id="A1.Ex5.m1.5.5.1.1.1.1.2" xref="A1.Ex5.m1.5.5.1.1.1.1.2.cmml">1</mn><mo id="A1.Ex5.m1.5.5.1.1.1.1.1" xref="A1.Ex5.m1.5.5.1.1.1.1.1.cmml">−</mo><mfrac id="A1.Ex5.m1.4.4" xref="A1.Ex5.m1.4.4.cmml"><mrow id="A1.Ex5.m1.2.2.2.4" xref="A1.Ex5.m1.2.2.2.3.cmml"><mo id="A1.Ex5.m1.2.2.2.4.1" xref="A1.Ex5.m1.2.2.2.3.1.cmml">(</mo><mfrac linethickness="0pt" id="A1.Ex5.m1.2.2.2.2.2.2" xref="A1.Ex5.m1.2.2.2.3.cmml"><mrow id="A1.Ex5.m1.1.1.1.1.1.1.1.1" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex5.m1.1.1.1.1.1.1.1.1.3" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.3.cmml">n</mi><mo id="A1.Ex5.m1.1.1.1.1.1.1.1.1.2" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.2.cmml">−</mo><mi id="A1.Ex5.m1.1.1.1.1.1.1.1.1.4" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.4.cmml">c</mi></mrow><mi id="A1.Ex5.m1.2.2.2.2.2.2.2.1" xref="A1.Ex5.m1.2.2.2.2.2.2.2.1.cmml">k</mi></mfrac><mo id="A1.Ex5.m1.2.2.2.4.2" xref="A1.Ex5.m1.2.2.2.3.1.cmml">)</mo></mrow><mrow id="A1.Ex5.m1.4.4.4.4" xref="A1.Ex5.m1.4.4.4.3.cmml"><mo id="A1.Ex5.m1.4.4.4.4.1" xref="A1.Ex5.m1.4.4.4.3.1.cmml">(</mo><mfrac linethickness="0pt" id="A1.Ex5.m1.4.4.4.2.2.2" xref="A1.Ex5.m1.4.4.4.3.cmml"><mi id="A1.Ex5.m1.3.3.3.1.1.1.1.1" xref="A1.Ex5.m1.3.3.3.1.1.1.1.1.cmml">n</mi><mi id="A1.Ex5.m1.4.4.4.2.2.2.2.1" xref="A1.Ex5.m1.4.4.4.2.2.2.2.1.cmml">k</mi></mfrac><mo id="A1.Ex5.m1.4.4.4.4.2" xref="A1.Ex5.m1.4.4.4.3.1.cmml">)</mo></mrow></mfrac></mrow><mo id="A1.Ex5.m1.5.5.1.1.1.3" xref="A1.Ex5.m1.5.5.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex5.m1.5b"><apply id="A1.Ex5.m1.5.5.cmml" xref="A1.Ex5.m1.5.5"><eq id="A1.Ex5.m1.5.5.2.cmml" xref="A1.Ex5.m1.5.5.2"></eq><ci id="A1.Ex5.m1.5.5.3a.cmml" xref="A1.Ex5.m1.5.5.3"><mtext id="A1.Ex5.m1.5.5.3.cmml" xref="A1.Ex5.m1.5.5.3">Pass@k</mtext></ci><apply id="A1.Ex5.m1.5.5.1.cmml" xref="A1.Ex5.m1.5.5.1"><times id="A1.Ex5.m1.5.5.1.2.cmml" xref="A1.Ex5.m1.5.5.1.2"></times><apply id="A1.Ex5.m1.5.5.1.3.cmml" xref="A1.Ex5.m1.5.5.1.3"><csymbol cd="ambiguous" id="A1.Ex5.m1.5.5.1.3.1.cmml" xref="A1.Ex5.m1.5.5.1.3">subscript</csymbol><ci id="A1.Ex5.m1.5.5.1.3.2.cmml" xref="A1.Ex5.m1.5.5.1.3.2">𝔼</ci><ci id="A1.Ex5.m1.5.5.1.3.3a.cmml" xref="A1.Ex5.m1.5.5.1.3.3"><mtext mathsize="70%" id="A1.Ex5.m1.5.5.1.3.3.cmml" xref="A1.Ex5.m1.5.5.1.3.3">problems</mtext></ci></apply><apply id="A1.Ex5.m1.5.5.1.1.2.cmml" xref="A1.Ex5.m1.5.5.1.1.1"><csymbol cd="latexml" id="A1.Ex5.m1.5.5.1.1.2.1.cmml" xref="A1.Ex5.m1.5.5.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex5.m1.5.5.1.1.1.1.cmml" xref="A1.Ex5.m1.5.5.1.1.1.1"><minus id="A1.Ex5.m1.5.5.1.1.1.1.1.cmml" xref="A1.Ex5.m1.5.5.1.1.1.1.1"></minus><cn type="integer" id="A1.Ex5.m1.5.5.1.1.1.1.2.cmml" xref="A1.Ex5.m1.5.5.1.1.1.1.2">1</cn><apply id="A1.Ex5.m1.4.4.cmml" xref="A1.Ex5.m1.4.4"><divide id="A1.Ex5.m1.4.4.5.cmml" xref="A1.Ex5.m1.4.4"></divide><apply id="A1.Ex5.m1.2.2.2.3.cmml" xref="A1.Ex5.m1.2.2.2.4"><csymbol cd="latexml" id="A1.Ex5.m1.2.2.2.3.1.cmml" xref="A1.Ex5.m1.2.2.2.4.1">binomial</csymbol><apply id="A1.Ex5.m1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1"><minus id="A1.Ex5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.2"></minus><ci id="A1.Ex5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.3">𝑛</ci><ci id="A1.Ex5.m1.1.1.1.1.1.1.1.1.4.cmml" xref="A1.Ex5.m1.1.1.1.1.1.1.1.1.4">𝑐</ci></apply><ci id="A1.Ex5.m1.2.2.2.2.2.2.2.1.cmml" xref="A1.Ex5.m1.2.2.2.2.2.2.2.1">𝑘</ci></apply><apply id="A1.Ex5.m1.4.4.4.3.cmml" xref="A1.Ex5.m1.4.4.4.4"><csymbol cd="latexml" id="A1.Ex5.m1.4.4.4.3.1.cmml" xref="A1.Ex5.m1.4.4.4.4.1">binomial</csymbol><ci id="A1.Ex5.m1.3.3.3.1.1.1.1.1.cmml" xref="A1.Ex5.m1.3.3.3.1.1.1.1.1">𝑛</ci><ci id="A1.Ex5.m1.4.4.4.2.2.2.2.1.cmml" xref="A1.Ex5.m1.4.4.4.2.2.2.2.1">𝑘</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex5.m1.5c">\text{Pass@k}=\mathbb{E}_{\text{problems}}\left[1-\frac{\binom{n-c}{k}}{\binom{n}{k}}\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section id="A1.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">HELM.</h4>

<div id="A1.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px3.p1.1" class="ltx_p">HELM <cite class="ltx_cite ltx_citemacro_citep">(Liang et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2022</a>)</cite> is a benchmark that contains a wide range of NLP tasks. We upload the well-trained models to the benchmark and evaluate them on question-answering tasks, which includes eight datasets, i.e., MMLU, BoolQ, NarrativeQA, Natural Questions (closed-book), Natural Questions (open-book), QuAC, HellaSwag, OpenbookQA. For different tasks, the results come from different metrics, i.e., <span id="A1.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_bold">exact match</span> for <span id="A1.SS0.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_italic">HellaSwag</span>, <span id="A1.SS0.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_italic">OpenbookQA</span>, and <span id="A1.SS0.SSS0.Px3.p1.1.4" class="ltx_text ltx_font_italic">MMLU</span>; <span id="A1.SS0.SSS0.Px3.p1.1.5" class="ltx_text ltx_font_bold">quasi-exact match</span> for <span id="A1.SS0.SSS0.Px3.p1.1.6" class="ltx_text ltx_font_italic">BoolQ</span>; <span id="A1.SS0.SSS0.Px3.p1.1.7" class="ltx_text ltx_font_bold">F1</span> for the rest.</p>
</div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.17705" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.17706" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.17706">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.17706" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.17707" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Jul  5 18:00:16 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
