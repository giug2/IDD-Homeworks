<article class="ltx_document">
 <h1 class="ltx_title ltx_title_document">
  <span class="ltx_text ltx_font_smallcaps" id="id13.id1">
   LongAgent
  </span>
  : Scaling Language Models to 128k Context through Multi-Agent Collaboration
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Jun Zhao
    <sup class="ltx_sup" id="id14.12.id1">
     <span class="ltx_text ltx_font_italic" id="id14.12.id1.1">
      1
     </span>
    </sup>
    <span class="ltx_note ltx_role_footnote" id="footnotex1">
     <sup class="ltx_note_mark">
      1
     </sup>
     <span class="ltx_note_outer">
      <span class="ltx_note_content">
       <sup class="ltx_note_mark">
        1
       </sup>
       <span class="ltx_tag ltx_tag_note">
        1
       </span>
       Equal Contributions.
      </span>
     </span>
    </span>
    <span class="ltx_note ltx_role_footnote" id="footnotex2">
     <sup class="ltx_note_mark">
      2
     </sup>
     <span class="ltx_note_outer">
      <span class="ltx_note_content">
       <sup class="ltx_note_mark">
        2
       </sup>
       <span class="ltx_tag ltx_tag_note">
        2
       </span>
       Corresponding authors.
      </span>
     </span>
    </span>
    ,¬†¬†Can Zu
    <sup class="ltx_sup" id="id15.13.id2">
     <span class="ltx_text ltx_font_italic" id="id15.13.id2.1">
      1
     </span>
    </sup>
    <span class="ltx_note ltx_role_footnote" id="footnotex3">
     <sup class="ltx_note_mark">
      1
     </sup>
     <span class="ltx_note_outer">
      <span class="ltx_note_content">
       <sup class="ltx_note_mark">
        1
       </sup>
       <span class="ltx_tag ltx_tag_note">
        1
       </span>
       Equal Contributions.
      </span>
     </span>
    </span>
    ,¬†¬†Hao Xu
    <sup class="ltx_sup" id="id16.14.id3">
     <span class="ltx_text ltx_font_italic" id="id16.14.id3.1">
      1
     </span>
    </sup>
    ,¬†¬†Yi Lu
    <sup class="ltx_sup" id="id17.15.id4">
     <span class="ltx_text ltx_font_italic" id="id17.15.id4.1">
      1
     </span>
    </sup>
    ,¬†¬†Wei He
    <sup class="ltx_sup" id="id18.16.id5">
     <span class="ltx_text ltx_font_italic" id="id18.16.id5.1">
      1
     </span>
    </sup>
    ,¬†¬†Yiwen Ding
    <sup class="ltx_sup" id="id19.17.id6">
     <span class="ltx_text ltx_font_italic" id="id19.17.id6.1">
      1
     </span>
    </sup>
    ,
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_bold" id="id7.7.1">
     Tao Gui
     <sup class="ltx_sup" id="id7.7.1.1">
      <span class="ltx_text ltx_font_medium ltx_font_italic" id="id7.7.1.1.1">
       2
      </span>
     </sup>
     <span class="ltx_note ltx_role_footnote" id="footnotex4">
      <sup class="ltx_note_mark">
       2
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         2
        </sup>
        <span class="ltx_tag ltx_tag_note">
         <span class="ltx_text ltx_font_medium" id="footnotex4.1.1.1">
          2
         </span>
        </span>
        <span class="ltx_text ltx_font_medium" id="footnotex4.5">
         Corresponding authors.
        </span>
       </span>
      </span>
     </span>
    </span>
    ,
    <span class="ltx_text ltx_font_bold" id="id8.8.2">
     Qi Zhang
     <sup class="ltx_sup" id="id8.8.2.1">
      <span class="ltx_text ltx_font_medium ltx_font_italic" id="id8.8.2.1.1">
       1
      </span>
     </sup>
     <span class="ltx_note ltx_role_footnote" id="footnotex5">
      <sup class="ltx_note_mark">
       2
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         2
        </sup>
        <span class="ltx_tag ltx_tag_note">
         <span class="ltx_text ltx_font_medium" id="footnotex5.1.1.1">
          2
         </span>
        </span>
        <span class="ltx_text ltx_font_medium" id="footnotex5.5">
         Corresponding authors.
        </span>
       </span>
      </span>
     </span>
    </span>
    ,
    <span class="ltx_text ltx_font_bold" id="id10.10.4">
     Xuanjing Huang
     <sup class="ltx_sup" id="id10.10.4.1">
      <span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.4.1.1">
       1
      </span>
     </sup>
     <br class="ltx_break"/>
     <sup class="ltx_sup" id="id10.10.4.2">
      <span class="ltx_text ltx_font_medium" id="id10.10.4.2.1">
       1
      </span>
     </sup>
    </span>
    School of Computer Science, Fudan University
    <br class="ltx_break"/>
    <sup class="ltx_sup" id="id20.18.id7">
     2
    </sup>
    Institute of Modern Languages and Linguistics, Fudan University
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_typewriter" id="id21.19.id8">
     {zhaoj19,qz,tgui}@fudan.edu.cn,czu22@m.fudan.edu.cn
    </span>
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id12.1">
   Large language models (LLMs) have demonstrated impressive performance in understanding language and executing complex reasoning tasks. However, LLMs with long context windows have been notorious for their expensive training costs and high inference latency.
Even the most advanced models such as GPT-4 and Claude2 often make mistakes when processing inputs of over
   <math alttext="100k" class="ltx_Math" display="inline" id="id12.1.m1.1">
    <semantics id="id12.1.m1.1a">
     <mrow id="id12.1.m1.1.1" xref="id12.1.m1.1.1.cmml">
      <mn id="id12.1.m1.1.1.2" xref="id12.1.m1.1.1.2.cmml">
       100
      </mn>
      <mo id="id12.1.m1.1.1.1" lspace="0em" rspace="0em" xref="id12.1.m1.1.1.1.cmml">
       ‚Äã
      </mo>
      <mi id="id12.1.m1.1.1.3" xref="id12.1.m1.1.1.3.cmml">
       k
      </mi>
     </mrow>
     <annotation-xml encoding="MathML-Content" id="id12.1.m1.1b">
      <apply id="id12.1.m1.1.1.cmml" xref="id12.1.m1.1.1">
       <times id="id12.1.m1.1.1.1.cmml" xref="id12.1.m1.1.1.1">
       </times>
       <cn id="id12.1.m1.1.1.2.cmml" type="integer" xref="id12.1.m1.1.1.2">
        100
       </cn>
       <ci id="id12.1.m1.1.1.3.cmml" xref="id12.1.m1.1.1.3">
        ùëò
       </ci>
      </apply>
     </annotation-xml>
     <annotation encoding="application/x-tex" id="id12.1.m1.1c">
      100k
     </annotation>
    </semantics>
   </math>
   tokens, a phenomenon also known as
   <span class="ltx_text ltx_font_italic" id="id12.1.1">
    lost in the middle
   </span>
   .
In this paper, we propose
   <span class="ltx_text ltx_font_smallcaps" id="id12.1.2">
    LongAgent
   </span>
   , a method based on multi-agent collaboration, which scales LLMs (e.g., LLaMA) to a context of 128K and demonstrates potential superiority in long-text processing compared to GPT-4.
In
   <span class="ltx_text ltx_font_smallcaps" id="id12.1.3">
    LongAgent
   </span>
   , a leader is responsible for understanding user intent and directing team members to acquire information from documents.
Due to members‚Äô hallucinations, it is non-trivial for a leader to obtain accurate information from the responses of dozens to hundreds of members.
To address this, we develop an
   <span class="ltx_text ltx_font_italic" id="id12.1.4">
    inter-member communication
   </span>
   mechanism to resolve response conflicts caused by hallucinations through information sharing.
Our experimental results indicate that
   <span class="ltx_text ltx_font_smallcaps" id="id12.1.5">
    LongAgent
   </span>
   offers a promising alternative for long-text processing. The agent team instantiated with LLaMA-7B
achieves significant improvements in tasks such as 128k-long text retrieval, multi-hop question answering, compared to GPT-4.
  </p>
 </div>
 <div class="ltx_para ltx_noindent" id="p1">
  <div class="ltx_block ltx_align_bottom" id="p1.11">
   <p class="ltx_p" id="p1.11.12">
    <span class="ltx_text ltx_font_smallcaps" id="p1.11.12.1">
     LongAgent
    </span>
    <span class="ltx_text ltx_font_bold" id="p1.11.12.2">
     : Scaling Language Models to 128k Context through Multi-Agent Collaboration
    </span>
   </p>
   <br class="ltx_break ltx_centering"/>
   <p class="ltx_p ltx_align_center" id="p1.11.11" style="width:433.6pt;">
    <span class="ltx_text ltx_inline-block" id="p1.11.11.11" style="width:0.0pt;">
     <span class="ltx_tabular ltx_align_top" id="p1.11.11.11.11">
      <span class="ltx_tr" id="p1.6.6.6.6.6">
       <span class="ltx_td ltx_align_center" id="p1.6.6.6.6.6.6">
        <span class="ltx_text ltx_font_bold" id="p1.6.6.6.6.6.6.6">
         Jun Zhao
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.1.1">
           1
          </span>
         </sup>
         <span class="ltx_note ltx_role_footnote" id="footnotex6">
          <sup class="ltx_note_mark">
           1
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             1
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex6.1.1.1">
              1
             </span>
            </span>
            Equal Contributions.
           </span>
          </span>
         </span>
         <span class="ltx_note ltx_role_footnote" id="footnotex7">
          <sup class="ltx_note_mark">
           2
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             2
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex7.1.1.1">
              2
             </span>
            </span>
            Corresponding authors.
           </span>
          </span>
         </span>
         ,¬†¬†Can Zu
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.2">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.2.1">
           1
          </span>
         </sup>
         <span class="ltx_note ltx_role_footnote" id="footnotex8">
          <sup class="ltx_note_mark">
           1
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             1
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex8.1.1.1">
              1
             </span>
            </span>
            Equal Contributions.
           </span>
          </span>
         </span>
         ,¬†¬†Hao Xu
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.3">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.3.1">
           1
          </span>
         </sup>
         ,¬†¬†Yi Lu
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.4">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.4.1">
           1
          </span>
         </sup>
         ,¬†¬†Wei He
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.5">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.5.1">
           1
          </span>
         </sup>
         ,¬†¬†Yiwen Ding
         <sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.6">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.6.1">
           1
          </span>
         </sup>
         ,
        </span>
       </span>
      </span>
      <span class="ltx_tr" id="p1.9.9.9.9.9">
       <span class="ltx_td ltx_align_center" id="p1.9.9.9.9.9.3">
        <span class="ltx_text ltx_font_bold" id="p1.7.7.7.7.7.1.1">
         Tao Gui
         <sup class="ltx_sup" id="p1.7.7.7.7.7.1.1.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.7.7.7.7.7.1.1.1.1">
           2
          </span>
         </sup>
         <span class="ltx_note ltx_role_footnote" id="footnotex9">
          <sup class="ltx_note_mark">
           2
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             2
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex9.1.1.1">
              2
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnotex9.5">
             Corresponding authors.
            </span>
           </span>
          </span>
         </span>
        </span>
        ,
        <span class="ltx_text ltx_font_bold" id="p1.8.8.8.8.8.2.2">
         Qi Zhang
         <sup class="ltx_sup" id="p1.8.8.8.8.8.2.2.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.8.8.8.8.8.2.2.1.1">
           1
          </span>
         </sup>
         <span class="ltx_note ltx_role_footnote" id="footnotex10">
          <sup class="ltx_note_mark">
           2
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             2
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex10.1.1.1">
              2
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnotex10.5">
             Corresponding authors.
            </span>
           </span>
          </span>
         </span>
        </span>
        ,
        <span class="ltx_text ltx_font_bold" id="p1.9.9.9.9.9.3.3">
         Xuanjing Huang
         <sup class="ltx_sup" id="p1.9.9.9.9.9.3.3.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.9.9.9.9.9.3.3.1.1">
           1
          </span>
         </sup>
        </span>
       </span>
      </span>
      <span class="ltx_tr" id="p1.10.10.10.10.10">
       <span class="ltx_td ltx_align_center" id="p1.10.10.10.10.10.1">
        <sup class="ltx_sup" id="p1.10.10.10.10.10.1.1">
         1
        </sup>
        School of Computer Science, Fudan University
       </span>
      </span>
      <span class="ltx_tr" id="p1.11.11.11.11.11">
       <span class="ltx_td ltx_align_center" id="p1.11.11.11.11.11.1">
        <sup class="ltx_sup" id="p1.11.11.11.11.11.1.1">
         2
        </sup>
        Institute of Modern Languages and Linguistics, Fudan University
       </span>
      </span>
      <span class="ltx_tr" id="p1.11.11.11.11.12">
       <span class="ltx_td ltx_align_center" id="p1.11.11.11.11.12.1">
        <span class="ltx_text ltx_font_typewriter" id="p1.11.11.11.11.12.1.1">
         {zhaoj19,qz,tgui}@fudan.edu.cn,czu22@m.fudan.edu.cn
        </span>
       </span>
      </span>
     </span>
    </span>
   </p>
   <br class="ltx_break ltx_centering"/>
  </div>
 </div>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1
   </span>
   Introduction
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    Benefiting from increased model scales and massive pre-training corpus, large language models (LLMs) like GPT-4
    <cite class="ltx_cite ltx_citemacro_cite">
     OpenAI (
     <a class="ltx_ref" href="#bib.bib18" title="">
      2023
     </a>
     )
    </cite>
    and LLaMA
    <cite class="ltx_cite ltx_citemacro_cite">
     Touvron et¬†al. (
     <a class="ltx_ref" href="#bib.bib26" title="">
      2023
     </a>
     )
    </cite>
    have continuously improved their capabilities. However, due to the inherent quadratic complexity of attention mechanisms, LLMs are often pre-trained with a limited context window to avoid unbearable computational costs. Once the input text length exceeds this limit, LLMs suffer from severe performance degradation
    <cite class="ltx_cite ltx_citemacro_cite">
     Xiao et¬†al. (
     <a class="ltx_ref" href="#bib.bib29" title="">
      2023
     </a>
     ); Peng et¬†al. (
     <a class="ltx_ref" href="#bib.bib20" title="">
      2023
     </a>
     )
    </cite>
    . This significantly constrains the effectiveness of LLMs in many practical applications, such as querying information from books, analyzing legal documents, or scientific papers.
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="293" id="S1.F1.g1" src="/html/2402.11550/assets/x1.png" width="461"/>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="S1.F1.2.1">
     LongAgent
    </span>
    collaboration scheme. The input long text (left) is segmented into several chunks and assigned to corresponding members. The Leader receives user instruction (right), breaks them down into the simplest sub-problems, convenes members for discussion, ultimately obtaining answers to all sub-problems, and reasons to make the final response.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    Recently, many efforts have been dedicated to addressing the challenges of extending the context window of pre-trained LLMs. The first category of methods considers positional encoding as a crucial aspect to tackle this issue
    <cite class="ltx_cite ltx_citemacro_cite">
     Press et¬†al. (
     <a class="ltx_ref" href="#bib.bib21" title="">
      2022
     </a>
     ); Chen et¬†al. (
     <a class="ltx_ref" href="#bib.bib9" title="">
      2023c
     </a>
     ); Peng et¬†al. (
     <a class="ltx_ref" href="#bib.bib20" title="">
      2023
     </a>
     ); Chen et¬†al. (
     <a class="ltx_ref" href="#bib.bib7" title="">
      2023a
     </a>
     )
    </cite>
    . By extrapolation or interpolation, these methods enable positional encoding to adapt to positions ‚Äúunseen‚Äù during the pre-training stage.
However, this adaptation process may impair the performance on short sequences acquired during pre-training
    <cite class="ltx_cite ltx_citemacro_cite">
     Jin et¬†al. (
     <a class="ltx_ref" href="#bib.bib14" title="">
      2024
     </a>
     )
    </cite>
    . Additionally, as the window size increases, positional biases may decrease the effectiveness of attention mechanisms
    <cite class="ltx_cite ltx_citemacro_cite">
     Liu et¬†al. (
     <a class="ltx_ref" href="#bib.bib16" title="">
      2023
     </a>
     )
    </cite>
    , a phenomenon referred to as
    <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">
     lost in the middle
    </span>
    .
The second category of methods employs intricate mechanisms such as designing recurrent structures
    <cite class="ltx_cite ltx_citemacro_cite">
     Zhou et¬†al. (
     <a class="ltx_ref" href="#bib.bib33" title="">
      2023
     </a>
     ); Zhang et¬†al. (
     <a class="ltx_ref" href="#bib.bib31" title="">
      2024
     </a>
     )
    </cite>
    , token selection
    <cite class="ltx_cite ltx_citemacro_cite">
     Mohtashami and Jaggi (
     <a class="ltx_ref" href="#bib.bib17" title="">
      2023
     </a>
     ); Tworkowski et¬†al. (
     <a class="ltx_ref" href="#bib.bib27" title="">
      2023
     </a>
     )
    </cite>
    , or sliding windows
    <cite class="ltx_cite ltx_citemacro_cite">
     Xiao et¬†al. (
     <a class="ltx_ref" href="#bib.bib29" title="">
      2023
     </a>
     ); Han et¬†al. (
     <a class="ltx_ref" href="#bib.bib12" title="">
      2023
     </a>
     )
    </cite>
    , enabling limited context windows to handle longer input texts. While these methods offer advantages in computational efficiency, valuable long-term dependencies may gradually be overlooked with multiple recurrent iterations or window sliding.
   </p>
  </div>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    In this work, we introduce a promising novel method, termed
    <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">
     LongAgent
    </span>
    , to address the challenge of handling long texts.
    <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.2">
     LongAgent
    </span>
    achieves processing of documents exceeding
    <math alttext="100k" class="ltx_Math" display="inline" id="S1.p3.1.m1.1">
     <semantics id="S1.p3.1.m1.1a">
      <mrow id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml">
       <mn id="S1.p3.1.m1.1.1.2" xref="S1.p3.1.m1.1.1.2.cmml">
        100
       </mn>
       <mo id="S1.p3.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S1.p3.1.m1.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S1.p3.1.m1.1.1.3" xref="S1.p3.1.m1.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b">
       <apply id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1">
        <times id="S1.p3.1.m1.1.1.1.cmml" xref="S1.p3.1.m1.1.1.1">
        </times>
        <cn id="S1.p3.1.m1.1.1.2.cmml" type="integer" xref="S1.p3.1.m1.1.1.2">
         100
        </cn>
        <ci id="S1.p3.1.m1.1.1.3.cmml" xref="S1.p3.1.m1.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">
       100k
      </annotation>
     </semantics>
    </math>
    through multi-agent collaboration. As illustrated in Figure
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‚Ä£ 1 Introduction ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    , our agent team consists of a leader and multiple members. The leader is responsible for: 1) understanding user intent and organizing discussions among members; 2) supervising communication among members to resolve conflicting opinions; 3) gathering relevant information and reasoning answers. Each member is tasked with responding to the leader‚Äôs instructions based on the content in the assigned text chunk. Due to members‚Äô hallucinations, it is non-trivial for a leader to obtain accurate information from the responses of dozens to hundreds of members. We address this issue through an inter-member communication mechanism. The leader detects members with conflicting opinions during discussions and allows them to interact directly to eliminate hallucinatory responses. In order to comprehensively evaluate LLMs‚Äô long-text capabilities, we further extend
    <span class="ltx_text ltx_font_italic" id="S1.p3.1.3">
     Needle in a Haystack
    </span>
    , a recently popular pressure test long-context LLMs. We change the simple fact retrieval to more challenging question-answering that may involve multiple documents.
The entities related to answers in the documents have been modified to prevent models from taking shortcuts by relying on internal knowledge. We named the new test
    <span class="ltx_text ltx_font_italic" id="S1.p3.1.4">
     Needle in a Haystack PLUS
    </span>
    .
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.2">
    The main contributions of our
work are as follows: 1) we propose
    <span class="ltx_text ltx_font_smallcaps" id="S1.p4.2.1">
     LongAgent
    </span>
    , scaling LLMs with
    <math alttext="4k" class="ltx_Math" display="inline" id="S1.p4.1.m1.1">
     <semantics id="S1.p4.1.m1.1a">
      <mrow id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">
       <mn id="S1.p4.1.m1.1.1.2" xref="S1.p4.1.m1.1.1.2.cmml">
        4
       </mn>
       <mo id="S1.p4.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S1.p4.1.m1.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S1.p4.1.m1.1.1.3" xref="S1.p4.1.m1.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b">
       <apply id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1">
        <times id="S1.p4.1.m1.1.1.1.cmml" xref="S1.p4.1.m1.1.1.1">
        </times>
        <cn id="S1.p4.1.m1.1.1.2.cmml" type="integer" xref="S1.p4.1.m1.1.1.2">
         4
        </cn>
        <ci id="S1.p4.1.m1.1.1.3.cmml" xref="S1.p4.1.m1.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">
       4k
      </annotation>
     </semantics>
    </math>
    context size to effectively handle long texts exceeding
    <math alttext="100k" class="ltx_Math" display="inline" id="S1.p4.2.m2.1">
     <semantics id="S1.p4.2.m2.1a">
      <mrow id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml">
       <mn id="S1.p4.2.m2.1.1.2" xref="S1.p4.2.m2.1.1.2.cmml">
        100
       </mn>
       <mo id="S1.p4.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S1.p4.2.m2.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S1.p4.2.m2.1.1.3" xref="S1.p4.2.m2.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S1.p4.2.m2.1b">
       <apply id="S1.p4.2.m2.1.1.cmml" xref="S1.p4.2.m2.1.1">
        <times id="S1.p4.2.m2.1.1.1.cmml" xref="S1.p4.2.m2.1.1.1">
        </times>
        <cn id="S1.p4.2.m2.1.1.2.cmml" type="integer" xref="S1.p4.2.m2.1.1.2">
         100
        </cn>
        <ci id="S1.p4.2.m2.1.1.3.cmml" xref="S1.p4.2.m2.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p4.2.m2.1c">
       100k
      </annotation>
     </semantics>
    </math>
    tokens; 2) we construct a larger benchmark,
    <span class="ltx_text ltx_font_italic" id="S1.p4.2.2">
     Needle in the Haystack PLUS
    </span>
    , enabling more comprehensive evaluation on LLMs‚Äô long-text capabilities.
3) experimental results show that
    <span class="ltx_text ltx_font_smallcaps" id="S1.p4.2.3">
     LongAgent
    </span>
    , built upon LLaMA-7B, exhibits potential surpassing GPT-4 in long text processing. This improvement strongly suggests that multi-agent collaboration is a promising direction for improving long-text processing.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S2.1.1">
    LongAgent
   </span>
   for Long Text Processing
  </h2>
  <section class="ltx_subsection" id="S2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.1
    </span>
    Method Overview
   </h3>
   <div class="ltx_para" id="S2.SS1.p1">
    <p class="ltx_p" id="S2.SS1.p1.4">
     As illustrated in Figure
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‚Ä£ 2.1 Method Overview ‚Ä£ 2 LongAgent for Long Text Processing ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     , we use long-text question answering as an example to elucidate the working mechanism of
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS1.p1.4.1">
      LongAgent
     </span>
     . Given a long text
     <math alttext="x" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1">
      <semantics id="S2.SS1.p1.1.m1.1a">
       <mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">
        x
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b">
        <ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">
         ùë•
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">
        x
       </annotation>
      </semantics>
     </math>
     and a user query
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1">
      <semantics id="S2.SS1.p1.2.m2.1a">
       <mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b">
        <ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">
        q
       </annotation>
      </semantics>
     </math>
     ,
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS1.p1.4.2">
      LongAgent
     </span>
     searches for relevant evidence from the long text
     <math alttext="x" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1">
      <semantics id="S2.SS1.p1.3.m3.1a">
       <mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">
        x
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b">
        <ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">
         ùë•
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">
        x
       </annotation>
      </semantics>
     </math>
     and reasons for the final response
     <math alttext="r" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1">
      <semantics id="S2.SS1.p1.4.m4.1a">
       <mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">
        r
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b">
        <ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">
         ùëü
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">
        r
       </annotation>
      </semantics>
     </math>
     through collaborative efforts of multiple agents. This process involves the following 4 steps:
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS1.p2">
    <p class="ltx_p" id="S2.SS1.p2.6">
     (1)
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p2.6.1">
      Selecting Members
     </span>
     .
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS1.p2.6.2">
      LongAgent
     </span>
     , as a task-agnostic method for long-text processing, supports constructing customized agent teams based on the task to be processed. For example, given the task description
     <math alttext="d=" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.1">
      <semantics id="S2.SS1.p2.1.m1.1a">
       <mrow id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">
        <mi id="S2.SS1.p2.1.m1.1.1.2" xref="S2.SS1.p2.1.m1.1.1.2.cmml">
         d
        </mi>
        <mo id="S2.SS1.p2.1.m1.1.1.1" xref="S2.SS1.p2.1.m1.1.1.1.cmml">
         =
        </mo>
        <mi id="S2.SS1.p2.1.m1.1.1.3" xref="S2.SS1.p2.1.m1.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b">
        <apply id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">
         <eq id="S2.SS1.p2.1.m1.1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1.1">
         </eq>
         <ci id="S2.SS1.p2.1.m1.1.1.2.cmml" xref="S2.SS1.p2.1.m1.1.1.2">
          ùëë
         </ci>
         <csymbol cd="latexml" id="S2.SS1.p2.1.m1.1.1.3.cmml" xref="S2.SS1.p2.1.m1.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">
        d=
       </annotation>
      </semantics>
     </math>
     ‚Äú
     <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.6.3">
      Answer the question based on the given passages
     </span>
     ‚Äù, the leader selects the QA expert model to instantiate team members for more accurate and reliable responses. Then, we partition the long text
     <math alttext="x" class="ltx_Math" display="inline" id="S2.SS1.p2.2.m2.1">
      <semantics id="S2.SS1.p2.2.m2.1a">
       <mi id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">
        x
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b">
        <ci id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">
         ùë•
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">
        x
       </annotation>
      </semantics>
     </math>
     into
     <math alttext="n" class="ltx_Math" display="inline" id="S2.SS1.p2.3.m3.1">
      <semantics id="S2.SS1.p2.3.m3.1a">
       <mi id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b">
        <ci id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1">
         ùëõ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">
        n
       </annotation>
      </semantics>
     </math>
     chunks
     <math alttext="\{c_{1},c_{2},...,c_{n}\}" class="ltx_Math" display="inline" id="S2.SS1.p2.4.m4.4">
      <semantics id="S2.SS1.p2.4.m4.4a">
       <mrow id="S2.SS1.p2.4.m4.4.4.3" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
        <mo id="S2.SS1.p2.4.m4.4.4.3.4" stretchy="false" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
         {
        </mo>
        <msub id="S2.SS1.p2.4.m4.2.2.1.1" xref="S2.SS1.p2.4.m4.2.2.1.1.cmml">
         <mi id="S2.SS1.p2.4.m4.2.2.1.1.2" xref="S2.SS1.p2.4.m4.2.2.1.1.2.cmml">
          c
         </mi>
         <mn id="S2.SS1.p2.4.m4.2.2.1.1.3" xref="S2.SS1.p2.4.m4.2.2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S2.SS1.p2.4.m4.4.4.3.5" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
         ,
        </mo>
        <msub id="S2.SS1.p2.4.m4.3.3.2.2" xref="S2.SS1.p2.4.m4.3.3.2.2.cmml">
         <mi id="S2.SS1.p2.4.m4.3.3.2.2.2" xref="S2.SS1.p2.4.m4.3.3.2.2.2.cmml">
          c
         </mi>
         <mn id="S2.SS1.p2.4.m4.3.3.2.2.3" xref="S2.SS1.p2.4.m4.3.3.2.2.3.cmml">
          2
         </mn>
        </msub>
        <mo id="S2.SS1.p2.4.m4.4.4.3.6" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
         ,
        </mo>
        <mi id="S2.SS1.p2.4.m4.1.1" mathvariant="normal" xref="S2.SS1.p2.4.m4.1.1.cmml">
         ‚Ä¶
        </mi>
        <mo id="S2.SS1.p2.4.m4.4.4.3.7" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
         ,
        </mo>
        <msub id="S2.SS1.p2.4.m4.4.4.3.3" xref="S2.SS1.p2.4.m4.4.4.3.3.cmml">
         <mi id="S2.SS1.p2.4.m4.4.4.3.3.2" xref="S2.SS1.p2.4.m4.4.4.3.3.2.cmml">
          c
         </mi>
         <mi id="S2.SS1.p2.4.m4.4.4.3.3.3" xref="S2.SS1.p2.4.m4.4.4.3.3.3.cmml">
          n
         </mi>
        </msub>
        <mo id="S2.SS1.p2.4.m4.4.4.3.8" stretchy="false" xref="S2.SS1.p2.4.m4.4.4.4.cmml">
         }
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.4b">
        <set id="S2.SS1.p2.4.m4.4.4.4.cmml" xref="S2.SS1.p2.4.m4.4.4.3">
         <apply id="S2.SS1.p2.4.m4.2.2.1.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1">
          <csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.2.2.1.1.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.4.m4.2.2.1.1.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.2">
           ùëê
          </ci>
          <cn id="S2.SS1.p2.4.m4.2.2.1.1.3.cmml" type="integer" xref="S2.SS1.p2.4.m4.2.2.1.1.3">
           1
          </cn>
         </apply>
         <apply id="S2.SS1.p2.4.m4.3.3.2.2.cmml" xref="S2.SS1.p2.4.m4.3.3.2.2">
          <csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.3.3.2.2.1.cmml" xref="S2.SS1.p2.4.m4.3.3.2.2">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.4.m4.3.3.2.2.2.cmml" xref="S2.SS1.p2.4.m4.3.3.2.2.2">
           ùëê
          </ci>
          <cn id="S2.SS1.p2.4.m4.3.3.2.2.3.cmml" type="integer" xref="S2.SS1.p2.4.m4.3.3.2.2.3">
           2
          </cn>
         </apply>
         <ci id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1">
          ‚Ä¶
         </ci>
         <apply id="S2.SS1.p2.4.m4.4.4.3.3.cmml" xref="S2.SS1.p2.4.m4.4.4.3.3">
          <csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.4.4.3.3.1.cmml" xref="S2.SS1.p2.4.m4.4.4.3.3">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.4.m4.4.4.3.3.2.cmml" xref="S2.SS1.p2.4.m4.4.4.3.3.2">
           ùëê
          </ci>
          <ci id="S2.SS1.p2.4.m4.4.4.3.3.3.cmml" xref="S2.SS1.p2.4.m4.4.4.3.3.3">
           ùëõ
          </ci>
         </apply>
        </set>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.4c">
        \{c_{1},c_{2},...,c_{n}\}
       </annotation>
      </semantics>
     </math>
     of predefined size and distribute them accordingly to
     <math alttext="n" class="ltx_Math" display="inline" id="S2.SS1.p2.5.m5.1">
      <semantics id="S2.SS1.p2.5.m5.1a">
       <mi id="S2.SS1.p2.5.m5.1.1" xref="S2.SS1.p2.5.m5.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.5.m5.1b">
        <ci id="S2.SS1.p2.5.m5.1.1.cmml" xref="S2.SS1.p2.5.m5.1.1">
         ùëõ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.5.m5.1c">
        n
       </annotation>
      </semantics>
     </math>
     members
     <math alttext="\{m_{1},m_{2},...,m_{n}\}" class="ltx_Math" display="inline" id="S2.SS1.p2.6.m6.4">
      <semantics id="S2.SS1.p2.6.m6.4a">
       <mrow id="S2.SS1.p2.6.m6.4.4.3" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
        <mo id="S2.SS1.p2.6.m6.4.4.3.4" stretchy="false" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
         {
        </mo>
        <msub id="S2.SS1.p2.6.m6.2.2.1.1" xref="S2.SS1.p2.6.m6.2.2.1.1.cmml">
         <mi id="S2.SS1.p2.6.m6.2.2.1.1.2" xref="S2.SS1.p2.6.m6.2.2.1.1.2.cmml">
          m
         </mi>
         <mn id="S2.SS1.p2.6.m6.2.2.1.1.3" xref="S2.SS1.p2.6.m6.2.2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S2.SS1.p2.6.m6.4.4.3.5" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
         ,
        </mo>
        <msub id="S2.SS1.p2.6.m6.3.3.2.2" xref="S2.SS1.p2.6.m6.3.3.2.2.cmml">
         <mi id="S2.SS1.p2.6.m6.3.3.2.2.2" xref="S2.SS1.p2.6.m6.3.3.2.2.2.cmml">
          m
         </mi>
         <mn id="S2.SS1.p2.6.m6.3.3.2.2.3" xref="S2.SS1.p2.6.m6.3.3.2.2.3.cmml">
          2
         </mn>
        </msub>
        <mo id="S2.SS1.p2.6.m6.4.4.3.6" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
         ,
        </mo>
        <mi id="S2.SS1.p2.6.m6.1.1" mathvariant="normal" xref="S2.SS1.p2.6.m6.1.1.cmml">
         ‚Ä¶
        </mi>
        <mo id="S2.SS1.p2.6.m6.4.4.3.7" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
         ,
        </mo>
        <msub id="S2.SS1.p2.6.m6.4.4.3.3" xref="S2.SS1.p2.6.m6.4.4.3.3.cmml">
         <mi id="S2.SS1.p2.6.m6.4.4.3.3.2" xref="S2.SS1.p2.6.m6.4.4.3.3.2.cmml">
          m
         </mi>
         <mi id="S2.SS1.p2.6.m6.4.4.3.3.3" xref="S2.SS1.p2.6.m6.4.4.3.3.3.cmml">
          n
         </mi>
        </msub>
        <mo id="S2.SS1.p2.6.m6.4.4.3.8" stretchy="false" xref="S2.SS1.p2.6.m6.4.4.4.cmml">
         }
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p2.6.m6.4b">
        <set id="S2.SS1.p2.6.m6.4.4.4.cmml" xref="S2.SS1.p2.6.m6.4.4.3">
         <apply id="S2.SS1.p2.6.m6.2.2.1.1.cmml" xref="S2.SS1.p2.6.m6.2.2.1.1">
          <csymbol cd="ambiguous" id="S2.SS1.p2.6.m6.2.2.1.1.1.cmml" xref="S2.SS1.p2.6.m6.2.2.1.1">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.6.m6.2.2.1.1.2.cmml" xref="S2.SS1.p2.6.m6.2.2.1.1.2">
           ùëö
          </ci>
          <cn id="S2.SS1.p2.6.m6.2.2.1.1.3.cmml" type="integer" xref="S2.SS1.p2.6.m6.2.2.1.1.3">
           1
          </cn>
         </apply>
         <apply id="S2.SS1.p2.6.m6.3.3.2.2.cmml" xref="S2.SS1.p2.6.m6.3.3.2.2">
          <csymbol cd="ambiguous" id="S2.SS1.p2.6.m6.3.3.2.2.1.cmml" xref="S2.SS1.p2.6.m6.3.3.2.2">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.6.m6.3.3.2.2.2.cmml" xref="S2.SS1.p2.6.m6.3.3.2.2.2">
           ùëö
          </ci>
          <cn id="S2.SS1.p2.6.m6.3.3.2.2.3.cmml" type="integer" xref="S2.SS1.p2.6.m6.3.3.2.2.3">
           2
          </cn>
         </apply>
         <ci id="S2.SS1.p2.6.m6.1.1.cmml" xref="S2.SS1.p2.6.m6.1.1">
          ‚Ä¶
         </ci>
         <apply id="S2.SS1.p2.6.m6.4.4.3.3.cmml" xref="S2.SS1.p2.6.m6.4.4.3.3">
          <csymbol cd="ambiguous" id="S2.SS1.p2.6.m6.4.4.3.3.1.cmml" xref="S2.SS1.p2.6.m6.4.4.3.3">
           subscript
          </csymbol>
          <ci id="S2.SS1.p2.6.m6.4.4.3.3.2.cmml" xref="S2.SS1.p2.6.m6.4.4.3.3.2">
           ùëö
          </ci>
          <ci id="S2.SS1.p2.6.m6.4.4.3.3.3.cmml" xref="S2.SS1.p2.6.m6.4.4.3.3.3">
           ùëõ
          </ci>
         </apply>
        </set>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p2.6.m6.4c">
        \{m_{1},m_{2},...,m_{n}\}
       </annotation>
      </semantics>
     </math>
     for processing.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS1.p3">
    <p class="ltx_p" id="S2.SS1.p3.3">
     (2)
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.3.1">
      Collaborative Reasoning
     </span>
     . For a complex user query
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p3.1.m1.1">
      <semantics id="S2.SS1.p3.1.m1.1a">
       <mi id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b">
        <ci id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">
        q
       </annotation>
      </semantics>
     </math>
     , the leader systematically breaks
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p3.2.m2.1">
      <semantics id="S2.SS1.p3.2.m2.1a">
       <mi id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b">
        <ci id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">
        q
       </annotation>
      </semantics>
     </math>
     down into multiple sub-questions and organizes members to collaborate in searching for clues from their respective chunks. As shown in fig
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‚Ä£ 2.1 Method Overview ‚Ä£ 2 LongAgent for Long Text Processing ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     , to answer
     <math alttext="q=" class="ltx_Math" display="inline" id="S2.SS1.p3.3.m3.1">
      <semantics id="S2.SS1.p3.3.m3.1a">
       <mrow id="S2.SS1.p3.3.m3.1.1" xref="S2.SS1.p3.3.m3.1.1.cmml">
        <mi id="S2.SS1.p3.3.m3.1.1.2" xref="S2.SS1.p3.3.m3.1.1.2.cmml">
         q
        </mi>
        <mo id="S2.SS1.p3.3.m3.1.1.1" xref="S2.SS1.p3.3.m3.1.1.1.cmml">
         =
        </mo>
        <mi id="S2.SS1.p3.3.m3.1.1.3" xref="S2.SS1.p3.3.m3.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p3.3.m3.1b">
        <apply id="S2.SS1.p3.3.m3.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1">
         <eq id="S2.SS1.p3.3.m3.1.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1.1">
         </eq>
         <ci id="S2.SS1.p3.3.m3.1.1.2.cmml" xref="S2.SS1.p3.3.m3.1.1.2">
          ùëû
         </ci>
         <csymbol cd="latexml" id="S2.SS1.p3.3.m3.1.1.3.cmml" xref="S2.SS1.p3.3.m3.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p3.3.m3.1c">
        q=
       </annotation>
      </semantics>
     </math>
     ‚Äú
     <span class="ltx_text ltx_font_italic" id="S2.SS1.p3.3.2">
      Which team does the player named 2015 Diamond Head Classic‚Äôs MVP play for?
     </span>
     ‚Äù, the leader first identifies who won the MVP of the 2015 Diamond Head Classic, and then further identifies which team this player play for. For more complex queries, collaborative reasoning will involve multiple rounds.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS1.p4">
    <p class="ltx_p" id="S2.SS1.p4.1">
     (3)
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p4.1.1">
      Resolving Conflict
     </span>
     . Due to model hallucinations, some members may respond with false answers not mentioned in the document. Obviously, these false answers conflict with the correct one. The leader needs to identify such conflicts and ascertain the correct answer explicitly mentioned in the document.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS1.p5">
    <p class="ltx_p" id="S2.SS1.p5.1">
     (4)
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p5.1.1">
      Deducing the Answer
     </span>
     . When the leader believes that the current discussion history is sufficient to derive the answer to the user query, it ends the discussion and provide the final response.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS1.p6">
    <p class="ltx_p" id="S2.SS1.p6.1">
     In the following sections, we will elaborate on the details of the aforementioned four steps.
    </p>
   </div>
   <figure class="ltx_figure" id="S2.F2">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="186" id="S2.F2.g1" src="/html/2402.11550/assets/x2.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 2:
     </span>
     An Overview of the LongAgent. In step 1, the leader constructs a customized agent team based on the description of the task to be handled. In the second and third steps, the leader organizes the team to gather information from documents and resolve conflicts. This process may continue for multiple rounds until the leader deems enough information has been gathered to generate the final response, which is then exported in the step 4.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.2
    </span>
    Selecting Experts to Instantiate Members
   </h3>
   <div class="ltx_para" id="S2.SS2.p1">
    <p class="ltx_p" id="S2.SS2.p1.1">
     The working mechanism of
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS2.p1.1.1">
      LongAgent
     </span>
     involves coordinating members and integrating their processing results of respective chunks to form the final response. Different long-text tasks require members to possess diverse text processing capabilities. To address this challenge, we utilize expert models to construct task-specific agent teams, aiming to generate more accurate responses.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS2.p2">
    <p class="ltx_p" id="S2.SS2.p2.1">
     <span class="ltx_text ltx_font_bold" id="S2.SS2.p2.1.1">
      Construction of expert models
     </span>
     : This step aims to build a candidate set of expert models
     <math alttext="E=\{e_{1},e_{2},...,e_{s}\}" class="ltx_Math" display="inline" id="S2.SS2.p2.1.m1.4">
      <semantics id="S2.SS2.p2.1.m1.4a">
       <mrow id="S2.SS2.p2.1.m1.4.4" xref="S2.SS2.p2.1.m1.4.4.cmml">
        <mi id="S2.SS2.p2.1.m1.4.4.5" xref="S2.SS2.p2.1.m1.4.4.5.cmml">
         E
        </mi>
        <mo id="S2.SS2.p2.1.m1.4.4.4" xref="S2.SS2.p2.1.m1.4.4.4.cmml">
         =
        </mo>
        <mrow id="S2.SS2.p2.1.m1.4.4.3.3" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
         <mo id="S2.SS2.p2.1.m1.4.4.3.3.4" stretchy="false" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
          {
         </mo>
         <msub id="S2.SS2.p2.1.m1.2.2.1.1.1" xref="S2.SS2.p2.1.m1.2.2.1.1.1.cmml">
          <mi id="S2.SS2.p2.1.m1.2.2.1.1.1.2" xref="S2.SS2.p2.1.m1.2.2.1.1.1.2.cmml">
           e
          </mi>
          <mn id="S2.SS2.p2.1.m1.2.2.1.1.1.3" xref="S2.SS2.p2.1.m1.2.2.1.1.1.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S2.SS2.p2.1.m1.4.4.3.3.5" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="S2.SS2.p2.1.m1.3.3.2.2.2" xref="S2.SS2.p2.1.m1.3.3.2.2.2.cmml">
          <mi id="S2.SS2.p2.1.m1.3.3.2.2.2.2" xref="S2.SS2.p2.1.m1.3.3.2.2.2.2.cmml">
           e
          </mi>
          <mn id="S2.SS2.p2.1.m1.3.3.2.2.2.3" xref="S2.SS2.p2.1.m1.3.3.2.2.2.3.cmml">
           2
          </mn>
         </msub>
         <mo id="S2.SS2.p2.1.m1.4.4.3.3.6" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
          ,
         </mo>
         <mi id="S2.SS2.p2.1.m1.1.1" mathvariant="normal" xref="S2.SS2.p2.1.m1.1.1.cmml">
          ‚Ä¶
         </mi>
         <mo id="S2.SS2.p2.1.m1.4.4.3.3.7" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="S2.SS2.p2.1.m1.4.4.3.3.3" xref="S2.SS2.p2.1.m1.4.4.3.3.3.cmml">
          <mi id="S2.SS2.p2.1.m1.4.4.3.3.3.2" xref="S2.SS2.p2.1.m1.4.4.3.3.3.2.cmml">
           e
          </mi>
          <mi id="S2.SS2.p2.1.m1.4.4.3.3.3.3" xref="S2.SS2.p2.1.m1.4.4.3.3.3.3.cmml">
           s
          </mi>
         </msub>
         <mo id="S2.SS2.p2.1.m1.4.4.3.3.8" stretchy="false" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">
          }
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.4b">
        <apply id="S2.SS2.p2.1.m1.4.4.cmml" xref="S2.SS2.p2.1.m1.4.4">
         <eq id="S2.SS2.p2.1.m1.4.4.4.cmml" xref="S2.SS2.p2.1.m1.4.4.4">
         </eq>
         <ci id="S2.SS2.p2.1.m1.4.4.5.cmml" xref="S2.SS2.p2.1.m1.4.4.5">
          ùê∏
         </ci>
         <set id="S2.SS2.p2.1.m1.4.4.3.4.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3">
          <apply id="S2.SS2.p2.1.m1.2.2.1.1.1.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1">
           <csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1">
            subscript
           </csymbol>
           <ci id="S2.SS2.p2.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1.2">
            ùëí
           </ci>
           <cn id="S2.SS2.p2.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS2.p2.1.m1.2.2.1.1.1.3">
            1
           </cn>
          </apply>
          <apply id="S2.SS2.p2.1.m1.3.3.2.2.2.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2">
           <csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.3.3.2.2.2.1.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2">
            subscript
           </csymbol>
           <ci id="S2.SS2.p2.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2.2">
            ùëí
           </ci>
           <cn id="S2.SS2.p2.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S2.SS2.p2.1.m1.3.3.2.2.2.3">
            2
           </cn>
          </apply>
          <ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">
           ‚Ä¶
          </ci>
          <apply id="S2.SS2.p2.1.m1.4.4.3.3.3.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3">
           <csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.4.4.3.3.3.1.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3">
            subscript
           </csymbol>
           <ci id="S2.SS2.p2.1.m1.4.4.3.3.3.2.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3.2">
            ùëí
           </ci>
           <ci id="S2.SS2.p2.1.m1.4.4.3.3.3.3.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3.3">
            ùë†
           </ci>
          </apply>
         </set>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.4c">
        E=\{e_{1},e_{2},...,e_{s}\}
       </annotation>
      </semantics>
     </math>
     , where different experts excel in different tasks. For strong models (e.g., GPT-4, GPT-3.5), we employ a prompt-based approach to construct expert models. Specific prompt templates are used to elicit the internal capabilities of the model for the corresponding tasks. For example, ‚Äú
     <span class="ltx_text ltx_font_italic" id="S2.SS2.p2.1.2">
      You are an expert in answering questions, adept at searching for relevant information from given documents and providing answers
     </span>
     .‚Äù The benefit of this approach is that all expert models can share the same parameters. For weak models (e.g., LLaMA-7b), we utilize a fine-tuning-based approach to inject task knowledge to make them experts in the corresponding tasks. The advantage of this method is that it can produce more accurate responses for specific tasks.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS2.p3">
    <p class="ltx_p" id="S2.SS2.p3.3">
     <span class="ltx_text ltx_font_bold" id="S2.SS2.p3.3.1">
      Member selection
     </span>
     : Given a natural language description
     <math alttext="d" class="ltx_Math" display="inline" id="S2.SS2.p3.1.m1.1">
      <semantics id="S2.SS2.p3.1.m1.1a">
       <mi id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml">
        d
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b">
        <ci id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">
         ùëë
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">
        d
       </annotation>
      </semantics>
     </math>
     of a task to be processed, we prompt the leader to select a suitable expert
     <math alttext="e_{i}\in E" class="ltx_Math" display="inline" id="S2.SS2.p3.2.m2.1">
      <semantics id="S2.SS2.p3.2.m2.1a">
       <mrow id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml">
        <msub id="S2.SS2.p3.2.m2.1.1.2" xref="S2.SS2.p3.2.m2.1.1.2.cmml">
         <mi id="S2.SS2.p3.2.m2.1.1.2.2" xref="S2.SS2.p3.2.m2.1.1.2.2.cmml">
          e
         </mi>
         <mi id="S2.SS2.p3.2.m2.1.1.2.3" xref="S2.SS2.p3.2.m2.1.1.2.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.SS2.p3.2.m2.1.1.1" xref="S2.SS2.p3.2.m2.1.1.1.cmml">
         ‚àà
        </mo>
        <mi id="S2.SS2.p3.2.m2.1.1.3" xref="S2.SS2.p3.2.m2.1.1.3.cmml">
         E
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b">
        <apply id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1">
         <in id="S2.SS2.p3.2.m2.1.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1.1">
         </in>
         <apply id="S2.SS2.p3.2.m2.1.1.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2">
          <csymbol cd="ambiguous" id="S2.SS2.p3.2.m2.1.1.2.1.cmml" xref="S2.SS2.p3.2.m2.1.1.2">
           subscript
          </csymbol>
          <ci id="S2.SS2.p3.2.m2.1.1.2.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2.2">
           ùëí
          </ci>
          <ci id="S2.SS2.p3.2.m2.1.1.2.3.cmml" xref="S2.SS2.p3.2.m2.1.1.2.3">
           ùëñ
          </ci>
         </apply>
         <ci id="S2.SS2.p3.2.m2.1.1.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3">
          ùê∏
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">
        e_{i}\in E
       </annotation>
      </semantics>
     </math>
     to play roles as team members. We assume that the task at hand requires only one particular expert to complete. For complex tasks that require collaboration among experts with different skill sets, we leave it as future work. The prompt template is illustrated in tab.
     <a class="ltx_ref" href="#A2.T2" title="Table 2 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     . All members in the team share the parameters of the expert model
     <math alttext="e_{i}" class="ltx_Math" display="inline" id="S2.SS2.p3.3.m3.1">
      <semantics id="S2.SS2.p3.3.m3.1a">
       <msub id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml">
        <mi id="S2.SS2.p3.3.m3.1.1.2" xref="S2.SS2.p3.3.m3.1.1.2.cmml">
         e
        </mi>
        <mi id="S2.SS2.p3.3.m3.1.1.3" xref="S2.SS2.p3.3.m3.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.1b">
        <apply id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">
         <csymbol cd="ambiguous" id="S2.SS2.p3.3.m3.1.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS2.p3.3.m3.1.1.2.cmml" xref="S2.SS2.p3.3.m3.1.1.2">
          ùëí
         </ci>
         <ci id="S2.SS2.p3.3.m3.1.1.3.cmml" xref="S2.SS2.p3.3.m3.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.1c">
        e_{i}
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.3
    </span>
    Collaborative Reasoning
   </h3>
   <div class="ltx_para" id="S2.SS3.p1">
    <p class="ltx_p" id="S2.SS3.p1.1">
     To respond to user query
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.1">
      <semantics id="S2.SS3.p1.1.m1.1a">
       <mi id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b">
        <ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">
        q
       </annotation>
      </semantics>
     </math>
     , the leader needs to coordinate members to process text and acquire relevant information. As the core of the team, the leader continuously executes the following decision-making process:
    </p>
    <table class="ltx_equation ltx_eqn_table" id="S2.E1">
     <tbody>
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="a\sim\text{Leader}(a|S,q)," class="ltx_Math" display="block" id="S2.E1.m1.3">
         <semantics id="S2.E1.m1.3a">
          <mrow id="S2.E1.m1.3.3.1" xref="S2.E1.m1.3.3.1.1.cmml">
           <mrow id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml">
            <mi id="S2.E1.m1.3.3.1.1.3" xref="S2.E1.m1.3.3.1.1.3.cmml">
             a
            </mi>
            <mo id="S2.E1.m1.3.3.1.1.2" xref="S2.E1.m1.3.3.1.1.2.cmml">
             ‚àº
            </mo>
            <mrow id="S2.E1.m1.3.3.1.1.1" xref="S2.E1.m1.3.3.1.1.1.cmml">
             <mtext id="S2.E1.m1.3.3.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.3a.cmml">
              Leader
             </mtext>
             <mo id="S2.E1.m1.3.3.1.1.1.2" lspace="0em" rspace="0em" xref="S2.E1.m1.3.3.1.1.1.2.cmml">
              ‚Äã
             </mo>
             <mrow id="S2.E1.m1.3.3.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.cmml">
              <mo id="S2.E1.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.1.1.cmml">
               (
              </mo>
              <mrow id="S2.E1.m1.3.3.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.cmml">
               <mi id="S2.E1.m1.3.3.1.1.1.1.1.1.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.2.cmml">
                a
               </mi>
               <mo fence="false" id="S2.E1.m1.3.3.1.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.cmml">
                |
               </mo>
               <mrow id="S2.E1.m1.3.3.1.1.1.1.1.1.3.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.3.1.cmml">
                <mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">
                 S
                </mi>
                <mo id="S2.E1.m1.3.3.1.1.1.1.1.1.3.2.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.3.1.cmml">
                 ,
                </mo>
                <mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">
                 q
                </mi>
               </mrow>
              </mrow>
              <mo id="S2.E1.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <mo id="S2.E1.m1.3.3.1.2" xref="S2.E1.m1.3.3.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S2.E1.m1.3b">
           <apply id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1">
            <csymbol cd="latexml" id="S2.E1.m1.3.3.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.2">
             similar-to
            </csymbol>
            <ci id="S2.E1.m1.3.3.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.3">
             ùëé
            </ci>
            <apply id="S2.E1.m1.3.3.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1">
             <times id="S2.E1.m1.3.3.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.2">
             </times>
             <ci id="S2.E1.m1.3.3.1.1.1.3a.cmml" xref="S2.E1.m1.3.3.1.1.1.3">
              <mtext id="S2.E1.m1.3.3.1.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.1.3">
               Leader
              </mtext>
             </ci>
             <apply id="S2.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1">
              <csymbol cd="latexml" id="S2.E1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1">
               conditional
              </csymbol>
              <ci id="S2.E1.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.2">
               ùëé
              </ci>
              <list id="S2.E1.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.3.2">
               <ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">
                ùëÜ
               </ci>
               <ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">
                ùëû
               </ci>
              </list>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S2.E1.m1.3c">
           a\sim\text{Leader}(a|S,q),
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (1)
        </span>
       </td>
      </tr>
     </tbody>
    </table>
    <p class="ltx_p" id="S2.SS3.p1.14">
     where
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m1.1">
      <semantics id="S2.SS3.p1.2.m1.1a">
       <mi id="S2.SS3.p1.2.m1.1.1" xref="S2.SS3.p1.2.m1.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m1.1b">
        <ci id="S2.SS3.p1.2.m1.1.1.cmml" xref="S2.SS3.p1.2.m1.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.2.m1.1c">
        q
       </annotation>
      </semantics>
     </math>
     denotes the user query,
     <math alttext="S=\{s_{1},s_{2},...,s_{m}\}" class="ltx_Math" display="inline" id="S2.SS3.p1.3.m2.4">
      <semantics id="S2.SS3.p1.3.m2.4a">
       <mrow id="S2.SS3.p1.3.m2.4.4" xref="S2.SS3.p1.3.m2.4.4.cmml">
        <mi id="S2.SS3.p1.3.m2.4.4.5" xref="S2.SS3.p1.3.m2.4.4.5.cmml">
         S
        </mi>
        <mo id="S2.SS3.p1.3.m2.4.4.4" xref="S2.SS3.p1.3.m2.4.4.4.cmml">
         =
        </mo>
        <mrow id="S2.SS3.p1.3.m2.4.4.3.3" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
         <mo id="S2.SS3.p1.3.m2.4.4.3.3.4" stretchy="false" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
          {
         </mo>
         <msub id="S2.SS3.p1.3.m2.2.2.1.1.1" xref="S2.SS3.p1.3.m2.2.2.1.1.1.cmml">
          <mi id="S2.SS3.p1.3.m2.2.2.1.1.1.2" xref="S2.SS3.p1.3.m2.2.2.1.1.1.2.cmml">
           s
          </mi>
          <mn id="S2.SS3.p1.3.m2.2.2.1.1.1.3" xref="S2.SS3.p1.3.m2.2.2.1.1.1.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S2.SS3.p1.3.m2.4.4.3.3.5" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="S2.SS3.p1.3.m2.3.3.2.2.2" xref="S2.SS3.p1.3.m2.3.3.2.2.2.cmml">
          <mi id="S2.SS3.p1.3.m2.3.3.2.2.2.2" xref="S2.SS3.p1.3.m2.3.3.2.2.2.2.cmml">
           s
          </mi>
          <mn id="S2.SS3.p1.3.m2.3.3.2.2.2.3" xref="S2.SS3.p1.3.m2.3.3.2.2.2.3.cmml">
           2
          </mn>
         </msub>
         <mo id="S2.SS3.p1.3.m2.4.4.3.3.6" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
          ,
         </mo>
         <mi id="S2.SS3.p1.3.m2.1.1" mathvariant="normal" xref="S2.SS3.p1.3.m2.1.1.cmml">
          ‚Ä¶
         </mi>
         <mo id="S2.SS3.p1.3.m2.4.4.3.3.7" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="S2.SS3.p1.3.m2.4.4.3.3.3" xref="S2.SS3.p1.3.m2.4.4.3.3.3.cmml">
          <mi id="S2.SS3.p1.3.m2.4.4.3.3.3.2" xref="S2.SS3.p1.3.m2.4.4.3.3.3.2.cmml">
           s
          </mi>
          <mi id="S2.SS3.p1.3.m2.4.4.3.3.3.3" xref="S2.SS3.p1.3.m2.4.4.3.3.3.3.cmml">
           m
          </mi>
         </msub>
         <mo id="S2.SS3.p1.3.m2.4.4.3.3.8" stretchy="false" xref="S2.SS3.p1.3.m2.4.4.3.4.cmml">
          }
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m2.4b">
        <apply id="S2.SS3.p1.3.m2.4.4.cmml" xref="S2.SS3.p1.3.m2.4.4">
         <eq id="S2.SS3.p1.3.m2.4.4.4.cmml" xref="S2.SS3.p1.3.m2.4.4.4">
         </eq>
         <ci id="S2.SS3.p1.3.m2.4.4.5.cmml" xref="S2.SS3.p1.3.m2.4.4.5">
          ùëÜ
         </ci>
         <set id="S2.SS3.p1.3.m2.4.4.3.4.cmml" xref="S2.SS3.p1.3.m2.4.4.3.3">
          <apply id="S2.SS3.p1.3.m2.2.2.1.1.1.cmml" xref="S2.SS3.p1.3.m2.2.2.1.1.1">
           <csymbol cd="ambiguous" id="S2.SS3.p1.3.m2.2.2.1.1.1.1.cmml" xref="S2.SS3.p1.3.m2.2.2.1.1.1">
            subscript
           </csymbol>
           <ci id="S2.SS3.p1.3.m2.2.2.1.1.1.2.cmml" xref="S2.SS3.p1.3.m2.2.2.1.1.1.2">
            ùë†
           </ci>
           <cn id="S2.SS3.p1.3.m2.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS3.p1.3.m2.2.2.1.1.1.3">
            1
           </cn>
          </apply>
          <apply id="S2.SS3.p1.3.m2.3.3.2.2.2.cmml" xref="S2.SS3.p1.3.m2.3.3.2.2.2">
           <csymbol cd="ambiguous" id="S2.SS3.p1.3.m2.3.3.2.2.2.1.cmml" xref="S2.SS3.p1.3.m2.3.3.2.2.2">
            subscript
           </csymbol>
           <ci id="S2.SS3.p1.3.m2.3.3.2.2.2.2.cmml" xref="S2.SS3.p1.3.m2.3.3.2.2.2.2">
            ùë†
           </ci>
           <cn id="S2.SS3.p1.3.m2.3.3.2.2.2.3.cmml" type="integer" xref="S2.SS3.p1.3.m2.3.3.2.2.2.3">
            2
           </cn>
          </apply>
          <ci id="S2.SS3.p1.3.m2.1.1.cmml" xref="S2.SS3.p1.3.m2.1.1">
           ‚Ä¶
          </ci>
          <apply id="S2.SS3.p1.3.m2.4.4.3.3.3.cmml" xref="S2.SS3.p1.3.m2.4.4.3.3.3">
           <csymbol cd="ambiguous" id="S2.SS3.p1.3.m2.4.4.3.3.3.1.cmml" xref="S2.SS3.p1.3.m2.4.4.3.3.3">
            subscript
           </csymbol>
           <ci id="S2.SS3.p1.3.m2.4.4.3.3.3.2.cmml" xref="S2.SS3.p1.3.m2.4.4.3.3.3.2">
            ùë†
           </ci>
           <ci id="S2.SS3.p1.3.m2.4.4.3.3.3.3.cmml" xref="S2.SS3.p1.3.m2.4.4.3.3.3.3">
            ùëö
           </ci>
          </apply>
         </set>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.3.m2.4c">
        S=\{s_{1},s_{2},...,s_{m}\}
       </annotation>
      </semantics>
     </math>
     represents the historical dialogue states, and
     <math alttext="s_{i}" class="ltx_Math" display="inline" id="S2.SS3.p1.4.m3.1">
      <semantics id="S2.SS3.p1.4.m3.1a">
       <msub id="S2.SS3.p1.4.m3.1.1" xref="S2.SS3.p1.4.m3.1.1.cmml">
        <mi id="S2.SS3.p1.4.m3.1.1.2" xref="S2.SS3.p1.4.m3.1.1.2.cmml">
         s
        </mi>
        <mi id="S2.SS3.p1.4.m3.1.1.3" xref="S2.SS3.p1.4.m3.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m3.1b">
        <apply id="S2.SS3.p1.4.m3.1.1.cmml" xref="S2.SS3.p1.4.m3.1.1">
         <csymbol cd="ambiguous" id="S2.SS3.p1.4.m3.1.1.1.cmml" xref="S2.SS3.p1.4.m3.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS3.p1.4.m3.1.1.2.cmml" xref="S2.SS3.p1.4.m3.1.1.2">
          ùë†
         </ci>
         <ci id="S2.SS3.p1.4.m3.1.1.3.cmml" xref="S2.SS3.p1.4.m3.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.4.m3.1c">
        s_{i}
       </annotation>
      </semantics>
     </math>
     represents a round of dialogue composed of an instruction from the leader and responses from all members. The leader sample an action
     <math alttext="a\in\{" class="ltx_math_unparsed" display="inline" id="S2.SS3.p1.5.m4.1">
      <semantics id="S2.SS3.p1.5.m4.1a">
       <mrow id="S2.SS3.p1.5.m4.1b">
        <mi id="S2.SS3.p1.5.m4.1.1">
         a
        </mi>
        <mo id="S2.SS3.p1.5.m4.1.2">
         ‚àà
        </mo>
        <mo id="S2.SS3.p1.5.m4.1.3" stretchy="false">
         {
        </mo>
       </mrow>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.5.m4.1c">
        a\in\{
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.14.2">
      NEW_STATE
     </span>
     ,
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.14.3">
      CONFLICT
     </span>
     ,
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.6.1">
      ANSWER
      <math alttext="\}" class="ltx_Math" display="inline" id="S2.SS3.p1.6.1.m1.1">
       <semantics id="S2.SS3.p1.6.1.m1.1a">
        <mo id="S2.SS3.p1.6.1.m1.1.1" stretchy="false" xref="S2.SS3.p1.6.1.m1.1.1.cmml">
         }
        </mo>
        <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.6.1.m1.1b">
         <ci id="S2.SS3.p1.6.1.m1.1.1.cmml" xref="S2.SS3.p1.6.1.m1.1.1">
          }
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S2.SS3.p1.6.1.m1.1c">
         \}
        </annotation>
       </semantics>
      </math>
     </span>
     based on the dialogue history
     <math alttext="S" class="ltx_Math" display="inline" id="S2.SS3.p1.7.m5.1">
      <semantics id="S2.SS3.p1.7.m5.1a">
       <mi id="S2.SS3.p1.7.m5.1.1" xref="S2.SS3.p1.7.m5.1.1.cmml">
        S
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.7.m5.1b">
        <ci id="S2.SS3.p1.7.m5.1.1.cmml" xref="S2.SS3.p1.7.m5.1.1">
         ùëÜ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.7.m5.1c">
        S
       </annotation>
      </semantics>
     </math>
     and the user query
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS3.p1.8.m6.1">
      <semantics id="S2.SS3.p1.8.m6.1a">
       <mi id="S2.SS3.p1.8.m6.1.1" xref="S2.SS3.p1.8.m6.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.8.m6.1b">
        <ci id="S2.SS3.p1.8.m6.1.1.cmml" xref="S2.SS3.p1.8.m6.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.8.m6.1c">
        q
       </annotation>
      </semantics>
     </math>
     . If
     <math alttext="a=" class="ltx_Math" display="inline" id="S2.SS3.p1.9.m7.1">
      <semantics id="S2.SS3.p1.9.m7.1a">
       <mrow id="S2.SS3.p1.9.m7.1.1" xref="S2.SS3.p1.9.m7.1.1.cmml">
        <mi id="S2.SS3.p1.9.m7.1.1.2" xref="S2.SS3.p1.9.m7.1.1.2.cmml">
         a
        </mi>
        <mo id="S2.SS3.p1.9.m7.1.1.1" xref="S2.SS3.p1.9.m7.1.1.1.cmml">
         =
        </mo>
        <mi id="S2.SS3.p1.9.m7.1.1.3" xref="S2.SS3.p1.9.m7.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.9.m7.1b">
        <apply id="S2.SS3.p1.9.m7.1.1.cmml" xref="S2.SS3.p1.9.m7.1.1">
         <eq id="S2.SS3.p1.9.m7.1.1.1.cmml" xref="S2.SS3.p1.9.m7.1.1.1">
         </eq>
         <ci id="S2.SS3.p1.9.m7.1.1.2.cmml" xref="S2.SS3.p1.9.m7.1.1.2">
          ùëé
         </ci>
         <csymbol cd="latexml" id="S2.SS3.p1.9.m7.1.1.3.cmml" xref="S2.SS3.p1.9.m7.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.9.m7.1c">
        a=
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.14.4">
      NEW_STATE
     </span>
     , it it indicates that the information contained in the preceding
     <math alttext="i" class="ltx_Math" display="inline" id="S2.SS3.p1.10.m8.1">
      <semantics id="S2.SS3.p1.10.m8.1a">
       <mi id="S2.SS3.p1.10.m8.1.1" xref="S2.SS3.p1.10.m8.1.1.cmml">
        i
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.10.m8.1b">
        <ci id="S2.SS3.p1.10.m8.1.1.cmml" xref="S2.SS3.p1.10.m8.1.1">
         ùëñ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.10.m8.1c">
        i
       </annotation>
      </semantics>
     </math>
     rounds of dialogue history is insufficient to respond to query
     <math alttext="q" class="ltx_Math" display="inline" id="S2.SS3.p1.11.m9.1">
      <semantics id="S2.SS3.p1.11.m9.1a">
       <mi id="S2.SS3.p1.11.m9.1.1" xref="S2.SS3.p1.11.m9.1.1.cmml">
        q
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.11.m9.1b">
        <ci id="S2.SS3.p1.11.m9.1.1.cmml" xref="S2.SS3.p1.11.m9.1.1">
         ùëû
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.11.m9.1c">
        q
       </annotation>
      </semantics>
     </math>
     . Therefore, the leader initiates the next round of dialogue
     <math alttext="s_{i+1}" class="ltx_Math" display="inline" id="S2.SS3.p1.12.m10.1">
      <semantics id="S2.SS3.p1.12.m10.1a">
       <msub id="S2.SS3.p1.12.m10.1.1" xref="S2.SS3.p1.12.m10.1.1.cmml">
        <mi id="S2.SS3.p1.12.m10.1.1.2" xref="S2.SS3.p1.12.m10.1.1.2.cmml">
         s
        </mi>
        <mrow id="S2.SS3.p1.12.m10.1.1.3" xref="S2.SS3.p1.12.m10.1.1.3.cmml">
         <mi id="S2.SS3.p1.12.m10.1.1.3.2" xref="S2.SS3.p1.12.m10.1.1.3.2.cmml">
          i
         </mi>
         <mo id="S2.SS3.p1.12.m10.1.1.3.1" xref="S2.SS3.p1.12.m10.1.1.3.1.cmml">
          +
         </mo>
         <mn id="S2.SS3.p1.12.m10.1.1.3.3" xref="S2.SS3.p1.12.m10.1.1.3.3.cmml">
          1
         </mn>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.12.m10.1b">
        <apply id="S2.SS3.p1.12.m10.1.1.cmml" xref="S2.SS3.p1.12.m10.1.1">
         <csymbol cd="ambiguous" id="S2.SS3.p1.12.m10.1.1.1.cmml" xref="S2.SS3.p1.12.m10.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS3.p1.12.m10.1.1.2.cmml" xref="S2.SS3.p1.12.m10.1.1.2">
          ùë†
         </ci>
         <apply id="S2.SS3.p1.12.m10.1.1.3.cmml" xref="S2.SS3.p1.12.m10.1.1.3">
          <plus id="S2.SS3.p1.12.m10.1.1.3.1.cmml" xref="S2.SS3.p1.12.m10.1.1.3.1">
          </plus>
          <ci id="S2.SS3.p1.12.m10.1.1.3.2.cmml" xref="S2.SS3.p1.12.m10.1.1.3.2">
           ùëñ
          </ci>
          <cn id="S2.SS3.p1.12.m10.1.1.3.3.cmml" type="integer" xref="S2.SS3.p1.12.m10.1.1.3.3">
           1
          </cn>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.12.m10.1c">
        s_{i+1}
       </annotation>
      </semantics>
     </math>
     , and generates new instructions to further gather information. Conversely, if
     <math alttext="a=" class="ltx_Math" display="inline" id="S2.SS3.p1.13.m11.1">
      <semantics id="S2.SS3.p1.13.m11.1a">
       <mrow id="S2.SS3.p1.13.m11.1.1" xref="S2.SS3.p1.13.m11.1.1.cmml">
        <mi id="S2.SS3.p1.13.m11.1.1.2" xref="S2.SS3.p1.13.m11.1.1.2.cmml">
         a
        </mi>
        <mo id="S2.SS3.p1.13.m11.1.1.1" xref="S2.SS3.p1.13.m11.1.1.1.cmml">
         =
        </mo>
        <mi id="S2.SS3.p1.13.m11.1.1.3" xref="S2.SS3.p1.13.m11.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.13.m11.1b">
        <apply id="S2.SS3.p1.13.m11.1.1.cmml" xref="S2.SS3.p1.13.m11.1.1">
         <eq id="S2.SS3.p1.13.m11.1.1.1.cmml" xref="S2.SS3.p1.13.m11.1.1.1">
         </eq>
         <ci id="S2.SS3.p1.13.m11.1.1.2.cmml" xref="S2.SS3.p1.13.m11.1.1.2">
          ùëé
         </ci>
         <csymbol cd="latexml" id="S2.SS3.p1.13.m11.1.1.3.cmml" xref="S2.SS3.p1.13.m11.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.13.m11.1c">
        a=
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.14.5">
      ANSWER
     </span>
     , it signifies that the leader deems the currently collected information sufficient to derive the final answer, and the collaborative process terminates accordingly.
     <span class="ltx_text ltx_font_typewriter" id="S2.SS3.p1.14.6">
      CONFLICT
     </span>
     is a special state other than the two aforementioned states, indicating that the leader perceives conflicting answers from the members in the current round of dialogue
     <math alttext="s_{i}" class="ltx_Math" display="inline" id="S2.SS3.p1.14.m12.1">
      <semantics id="S2.SS3.p1.14.m12.1a">
       <msub id="S2.SS3.p1.14.m12.1.1" xref="S2.SS3.p1.14.m12.1.1.cmml">
        <mi id="S2.SS3.p1.14.m12.1.1.2" xref="S2.SS3.p1.14.m12.1.1.2.cmml">
         s
        </mi>
        <mi id="S2.SS3.p1.14.m12.1.1.3" xref="S2.SS3.p1.14.m12.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS3.p1.14.m12.1b">
        <apply id="S2.SS3.p1.14.m12.1.1.cmml" xref="S2.SS3.p1.14.m12.1.1">
         <csymbol cd="ambiguous" id="S2.SS3.p1.14.m12.1.1.1.cmml" xref="S2.SS3.p1.14.m12.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS3.p1.14.m12.1.1.2.cmml" xref="S2.SS3.p1.14.m12.1.1.2">
          ùë†
         </ci>
         <ci id="S2.SS3.p1.14.m12.1.1.3.cmml" xref="S2.SS3.p1.14.m12.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS3.p1.14.m12.1c">
        s_{i}
       </annotation>
      </semantics>
     </math>
     . We elaborate on this situation in the next subsection.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.4
    </span>
    Resolving Conflicts
   </h3>
   <div class="ltx_para" id="S2.SS4.p1">
    <p class="ltx_p" id="S2.SS4.p1.7">
     Due to model hallucinations, members may respond with content not mentioned in their chunks. The dialogue in Step 2 of Figure
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‚Ä£ 2.1 Method Overview ‚Ä£ 2 LongAgent for Long Text Processing ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     serves as an example, where two members respectively believe
     <span class="ltx_text ltx_font_italic" id="S2.SS4.p1.7.1">
      Buddy Hield
     </span>
     and
     <span class="ltx_text ltx_font_italic" id="S2.SS4.p1.7.2">
      Mark Gibson
     </span>
     to be the MVP of the 2015 Diamond Head Classic, despite the latter not being mentioned in the text chunk. We address this issue through
     <span class="ltx_text ltx_font_italic" id="S2.SS4.p1.7.3">
      inter-member communication
     </span>
     , inspired by the following empirical findings: 1) When there is answer to the leader‚Äôs instruction in the chunk, the member often provides correct responses rather than generating hallucinations; 2) When there are no answers in the chunk, the model frequently fabricates an answer instead of responding with ‚Äòno mention,‚Äô even after supervised fine-tuning. Using this feature, the leader first identifies the member IDs where answers conflict and then requests these members to share chunks pairwise and provide answers again:
    </p>
    <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A3.EGx1">
     <tbody id="S2.E2">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{hallucination}=m_{i}(c_{i})," class="ltx_Math" display="block" id="S2.E2.m1.1">
         <semantics id="S2.E2.m1.1a">
          <mrow id="S2.E2.m1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">
           <mrow id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">
            <mtext id="S2.E2.m1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.3a.cmml">
             hallucination
            </mtext>
            <mo id="S2.E2.m1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S2.E2.m1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.cmml">
             <msub id="S2.E2.m1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.3.cmml">
              <mi id="S2.E2.m1.1.1.1.1.1.3.2" xref="S2.E2.m1.1.1.1.1.1.3.2.cmml">
               m
              </mi>
              <mi id="S2.E2.m1.1.1.1.1.1.3.3" xref="S2.E2.m1.1.1.1.1.1.3.3.cmml">
               i
              </mi>
             </msub>
             <mo id="S2.E2.m1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S2.E2.m1.1.1.1.1.1.2.cmml">
              ‚Äã
             </mo>
             <mrow id="S2.E2.m1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.cmml">
              <mo id="S2.E2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.1.1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msub id="S2.E2.m1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.cmml">
               <mi id="S2.E2.m1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.1.1.2.cmml">
                c
               </mi>
               <mi id="S2.E2.m1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.1.1.3.cmml">
                i
               </mi>
              </msub>
              <mo id="S2.E2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.1.1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <mo id="S2.E2.m1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S2.E2.m1.1b">
           <apply id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1">
            <eq id="S2.E2.m1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.2">
            </eq>
            <ci id="S2.E2.m1.1.1.1.1.3a.cmml" xref="S2.E2.m1.1.1.1.1.3">
             <mtext id="S2.E2.m1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.3">
              hallucination
             </mtext>
            </ci>
            <apply id="S2.E2.m1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1">
             <times id="S2.E2.m1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.2">
             </times>
             <apply id="S2.E2.m1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.3">
              <csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S2.E2.m1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.3.2">
               ùëö
              </ci>
              <ci id="S2.E2.m1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.3.3">
               ùëñ
              </ci>
             </apply>
             <apply id="S2.E2.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1">
              <csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1">
               subscript
              </csymbol>
              <ci id="S2.E2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.2">
               ùëê
              </ci>
              <ci id="S2.E2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.3">
               ùëñ
              </ci>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S2.E2.m1.1c">
           \displaystyle\text{hallucination}=m_{i}(c_{i}),
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (2)
        </span>
       </td>
      </tr>
     </tbody>
     <tbody id="S2.E3">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{Truth}=m_{j}(c_{j})," class="ltx_Math" display="block" id="S2.E3.m1.1">
         <semantics id="S2.E3.m1.1a">
          <mrow id="S2.E3.m1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml">
           <mrow id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml">
            <mtext id="S2.E3.m1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.3a.cmml">
             Truth
            </mtext>
            <mo id="S2.E3.m1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S2.E3.m1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.cmml">
             <msub id="S2.E3.m1.1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.1.3.cmml">
              <mi id="S2.E3.m1.1.1.1.1.1.3.2" xref="S2.E3.m1.1.1.1.1.1.3.2.cmml">
               m
              </mi>
              <mi id="S2.E3.m1.1.1.1.1.1.3.3" xref="S2.E3.m1.1.1.1.1.1.3.3.cmml">
               j
              </mi>
             </msub>
             <mo id="S2.E3.m1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S2.E3.m1.1.1.1.1.1.2.cmml">
              ‚Äã
             </mo>
             <mrow id="S2.E3.m1.1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.1.1.cmml">
              <mo id="S2.E3.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E3.m1.1.1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msub id="S2.E3.m1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.1.1.cmml">
               <mi id="S2.E3.m1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.1.1.1.1.2.cmml">
                c
               </mi>
               <mi id="S2.E3.m1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.1.1.1.1.3.cmml">
                j
               </mi>
              </msub>
              <mo id="S2.E3.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E3.m1.1.1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <mo id="S2.E3.m1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S2.E3.m1.1b">
           <apply id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1">
            <eq id="S2.E3.m1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.2">
            </eq>
            <ci id="S2.E3.m1.1.1.1.1.3a.cmml" xref="S2.E3.m1.1.1.1.1.3">
             <mtext id="S2.E3.m1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.3">
              Truth
             </mtext>
            </ci>
            <apply id="S2.E3.m1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1">
             <times id="S2.E3.m1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.1.2">
             </times>
             <apply id="S2.E3.m1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.3">
              <csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.1.1.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S2.E3.m1.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.1.1.1.1.1.3.2">
               ùëö
              </ci>
              <ci id="S2.E3.m1.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.1.1.1.1.1.3.3">
               ùëó
              </ci>
             </apply>
             <apply id="S2.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1">
              <csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1">
               subscript
              </csymbol>
              <ci id="S2.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1.1.2">
               ùëê
              </ci>
              <ci id="S2.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1.1.3">
               ùëó
              </ci>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S2.E3.m1.1c">
           \displaystyle\text{Truth}=m_{j}(c_{j}),
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (3)
        </span>
       </td>
      </tr>
     </tbody>
     <tbody id="S2.E4">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{Truth}=m_{j}(c_{j}\oplus c_{i})" class="ltx_Math" display="block" id="S2.E4.m1.1">
         <semantics id="S2.E4.m1.1a">
          <mrow id="S2.E4.m1.1.1" xref="S2.E4.m1.1.1.cmml">
           <mtext id="S2.E4.m1.1.1.3" xref="S2.E4.m1.1.1.3a.cmml">
            Truth
           </mtext>
           <mo id="S2.E4.m1.1.1.2" xref="S2.E4.m1.1.1.2.cmml">
            =
           </mo>
           <mrow id="S2.E4.m1.1.1.1" xref="S2.E4.m1.1.1.1.cmml">
            <msub id="S2.E4.m1.1.1.1.3" xref="S2.E4.m1.1.1.1.3.cmml">
             <mi id="S2.E4.m1.1.1.1.3.2" xref="S2.E4.m1.1.1.1.3.2.cmml">
              m
             </mi>
             <mi id="S2.E4.m1.1.1.1.3.3" xref="S2.E4.m1.1.1.1.3.3.cmml">
              j
             </mi>
            </msub>
            <mo id="S2.E4.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S2.E4.m1.1.1.1.2.cmml">
             ‚Äã
            </mo>
            <mrow id="S2.E4.m1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.cmml">
             <mo id="S2.E4.m1.1.1.1.1.1.2" stretchy="false" xref="S2.E4.m1.1.1.1.1.1.1.cmml">
              (
             </mo>
             <mrow id="S2.E4.m1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.cmml">
              <msub id="S2.E4.m1.1.1.1.1.1.1.2" xref="S2.E4.m1.1.1.1.1.1.1.2.cmml">
               <mi id="S2.E4.m1.1.1.1.1.1.1.2.2" xref="S2.E4.m1.1.1.1.1.1.1.2.2.cmml">
                c
               </mi>
               <mi id="S2.E4.m1.1.1.1.1.1.1.2.3" xref="S2.E4.m1.1.1.1.1.1.1.2.3.cmml">
                j
               </mi>
              </msub>
              <mo id="S2.E4.m1.1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml">
               ‚äï
              </mo>
              <msub id="S2.E4.m1.1.1.1.1.1.1.3" xref="S2.E4.m1.1.1.1.1.1.1.3.cmml">
               <mi id="S2.E4.m1.1.1.1.1.1.1.3.2" xref="S2.E4.m1.1.1.1.1.1.1.3.2.cmml">
                c
               </mi>
               <mi id="S2.E4.m1.1.1.1.1.1.1.3.3" xref="S2.E4.m1.1.1.1.1.1.1.3.3.cmml">
                i
               </mi>
              </msub>
             </mrow>
             <mo id="S2.E4.m1.1.1.1.1.1.3" stretchy="false" xref="S2.E4.m1.1.1.1.1.1.1.cmml">
              )
             </mo>
            </mrow>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S2.E4.m1.1b">
           <apply id="S2.E4.m1.1.1.cmml" xref="S2.E4.m1.1.1">
            <eq id="S2.E4.m1.1.1.2.cmml" xref="S2.E4.m1.1.1.2">
            </eq>
            <ci id="S2.E4.m1.1.1.3a.cmml" xref="S2.E4.m1.1.1.3">
             <mtext id="S2.E4.m1.1.1.3.cmml" xref="S2.E4.m1.1.1.3">
              Truth
             </mtext>
            </ci>
            <apply id="S2.E4.m1.1.1.1.cmml" xref="S2.E4.m1.1.1.1">
             <times id="S2.E4.m1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.2">
             </times>
             <apply id="S2.E4.m1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.3">
              <csymbol cd="ambiguous" id="S2.E4.m1.1.1.1.3.1.cmml" xref="S2.E4.m1.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S2.E4.m1.1.1.1.3.2.cmml" xref="S2.E4.m1.1.1.1.3.2">
               ùëö
              </ci>
              <ci id="S2.E4.m1.1.1.1.3.3.cmml" xref="S2.E4.m1.1.1.1.3.3">
               ùëó
              </ci>
             </apply>
             <apply id="S2.E4.m1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1">
              <csymbol cd="latexml" id="S2.E4.m1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1">
               direct-sum
              </csymbol>
              <apply id="S2.E4.m1.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.2">
               <csymbol cd="ambiguous" id="S2.E4.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.2">
                subscript
               </csymbol>
               <ci id="S2.E4.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.2.2">
                ùëê
               </ci>
               <ci id="S2.E4.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.2.3">
                ùëó
               </ci>
              </apply>
              <apply id="S2.E4.m1.1.1.1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.3">
               <csymbol cd="ambiguous" id="S2.E4.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.3">
                subscript
               </csymbol>
               <ci id="S2.E4.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.3.2">
                ùëê
               </ci>
               <ci id="S2.E4.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.3.3">
                ùëñ
               </ci>
              </apply>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S2.E4.m1.1c">
           \displaystyle\text{Truth}=m_{j}(c_{j}\oplus c_{i})
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (4)
        </span>
       </td>
      </tr>
     </tbody>
    </table>
    <p class="ltx_p" id="S2.SS4.p1.6">
     Here,
     <math alttext="c_{i}" class="ltx_Math" display="inline" id="S2.SS4.p1.1.m1.1">
      <semantics id="S2.SS4.p1.1.m1.1a">
       <msub id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml">
        <mi id="S2.SS4.p1.1.m1.1.1.2" xref="S2.SS4.p1.1.m1.1.1.2.cmml">
         c
        </mi>
        <mi id="S2.SS4.p1.1.m1.1.1.3" xref="S2.SS4.p1.1.m1.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b">
        <apply id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.1.m1.1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.1.m1.1.1.2.cmml" xref="S2.SS4.p1.1.m1.1.1.2">
          ùëê
         </ci>
         <ci id="S2.SS4.p1.1.m1.1.1.3.cmml" xref="S2.SS4.p1.1.m1.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">
        c_{i}
       </annotation>
      </semantics>
     </math>
     and
     <math alttext="c_{j}" class="ltx_Math" display="inline" id="S2.SS4.p1.2.m2.1">
      <semantics id="S2.SS4.p1.2.m2.1a">
       <msub id="S2.SS4.p1.2.m2.1.1" xref="S2.SS4.p1.2.m2.1.1.cmml">
        <mi id="S2.SS4.p1.2.m2.1.1.2" xref="S2.SS4.p1.2.m2.1.1.2.cmml">
         c
        </mi>
        <mi id="S2.SS4.p1.2.m2.1.1.3" xref="S2.SS4.p1.2.m2.1.1.3.cmml">
         j
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m2.1b">
        <apply id="S2.SS4.p1.2.m2.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.2.m2.1.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.2.m2.1.1.2.cmml" xref="S2.SS4.p1.2.m2.1.1.2">
          ùëê
         </ci>
         <ci id="S2.SS4.p1.2.m2.1.1.3.cmml" xref="S2.SS4.p1.2.m2.1.1.3">
          ùëó
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.2.m2.1c">
        c_{j}
       </annotation>
      </semantics>
     </math>
     respectively represent two text chunks, where
     <math alttext="c_{j}" class="ltx_Math" display="inline" id="S2.SS4.p1.3.m3.1">
      <semantics id="S2.SS4.p1.3.m3.1a">
       <msub id="S2.SS4.p1.3.m3.1.1" xref="S2.SS4.p1.3.m3.1.1.cmml">
        <mi id="S2.SS4.p1.3.m3.1.1.2" xref="S2.SS4.p1.3.m3.1.1.2.cmml">
         c
        </mi>
        <mi id="S2.SS4.p1.3.m3.1.1.3" xref="S2.SS4.p1.3.m3.1.1.3.cmml">
         j
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.3.m3.1b">
        <apply id="S2.SS4.p1.3.m3.1.1.cmml" xref="S2.SS4.p1.3.m3.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.3.m3.1.1.1.cmml" xref="S2.SS4.p1.3.m3.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.3.m3.1.1.2.cmml" xref="S2.SS4.p1.3.m3.1.1.2">
          ùëê
         </ci>
         <ci id="S2.SS4.p1.3.m3.1.1.3.cmml" xref="S2.SS4.p1.3.m3.1.1.3">
          ùëó
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.3.m3.1c">
        c_{j}
       </annotation>
      </semantics>
     </math>
     contains the correct answer while
     <math alttext="c_{i}" class="ltx_Math" display="inline" id="S2.SS4.p1.4.m4.1">
      <semantics id="S2.SS4.p1.4.m4.1a">
       <msub id="S2.SS4.p1.4.m4.1.1" xref="S2.SS4.p1.4.m4.1.1.cmml">
        <mi id="S2.SS4.p1.4.m4.1.1.2" xref="S2.SS4.p1.4.m4.1.1.2.cmml">
         c
        </mi>
        <mi id="S2.SS4.p1.4.m4.1.1.3" xref="S2.SS4.p1.4.m4.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.4.m4.1b">
        <apply id="S2.SS4.p1.4.m4.1.1.cmml" xref="S2.SS4.p1.4.m4.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.4.m4.1.1.1.cmml" xref="S2.SS4.p1.4.m4.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.4.m4.1.1.2.cmml" xref="S2.SS4.p1.4.m4.1.1.2">
          ùëê
         </ci>
         <ci id="S2.SS4.p1.4.m4.1.1.3.cmml" xref="S2.SS4.p1.4.m4.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.4.m4.1c">
        c_{i}
       </annotation>
      </semantics>
     </math>
     does not.
     <math alttext="m_{i}" class="ltx_Math" display="inline" id="S2.SS4.p1.5.m5.1">
      <semantics id="S2.SS4.p1.5.m5.1a">
       <msub id="S2.SS4.p1.5.m5.1.1" xref="S2.SS4.p1.5.m5.1.1.cmml">
        <mi id="S2.SS4.p1.5.m5.1.1.2" xref="S2.SS4.p1.5.m5.1.1.2.cmml">
         m
        </mi>
        <mi id="S2.SS4.p1.5.m5.1.1.3" xref="S2.SS4.p1.5.m5.1.1.3.cmml">
         i
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.5.m5.1b">
        <apply id="S2.SS4.p1.5.m5.1.1.cmml" xref="S2.SS4.p1.5.m5.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.5.m5.1.1.1.cmml" xref="S2.SS4.p1.5.m5.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.5.m5.1.1.2.cmml" xref="S2.SS4.p1.5.m5.1.1.2">
          ùëö
         </ci>
         <ci id="S2.SS4.p1.5.m5.1.1.3.cmml" xref="S2.SS4.p1.5.m5.1.1.3">
          ùëñ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.5.m5.1c">
        m_{i}
       </annotation>
      </semantics>
     </math>
     and
     <math alttext="m_{j}" class="ltx_Math" display="inline" id="S2.SS4.p1.6.m6.1">
      <semantics id="S2.SS4.p1.6.m6.1a">
       <msub id="S2.SS4.p1.6.m6.1.1" xref="S2.SS4.p1.6.m6.1.1.cmml">
        <mi id="S2.SS4.p1.6.m6.1.1.2" xref="S2.SS4.p1.6.m6.1.1.2.cmml">
         m
        </mi>
        <mi id="S2.SS4.p1.6.m6.1.1.3" xref="S2.SS4.p1.6.m6.1.1.3.cmml">
         j
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS4.p1.6.m6.1b">
        <apply id="S2.SS4.p1.6.m6.1.1.cmml" xref="S2.SS4.p1.6.m6.1.1">
         <csymbol cd="ambiguous" id="S2.SS4.p1.6.m6.1.1.1.cmml" xref="S2.SS4.p1.6.m6.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS4.p1.6.m6.1.1.2.cmml" xref="S2.SS4.p1.6.m6.1.1.2">
          ùëö
         </ci>
         <ci id="S2.SS4.p1.6.m6.1.1.3.cmml" xref="S2.SS4.p1.6.m6.1.1.3">
          ùëó
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS4.p1.6.m6.1c">
        m_{j}
       </annotation>
      </semantics>
     </math>
     denote two members. Our experimental results demonstrate that sharing text chunks is a simple yet effective strategy. The majority of members experiencing hallucination tend to correct their original responses upon receiving the chunk containing the correct answers, resulting in accurate output. While we acknowledge some advanced mechanisms for mitigating hallucination issues, such as multi-agent debate
     <cite class="ltx_cite ltx_citemacro_cite">
      Du et¬†al. (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      )
     </cite>
     and reflection
     <cite class="ltx_cite ltx_citemacro_cite">
      Shinn et¬†al. (
      <a class="ltx_ref" href="#bib.bib23" title="">
       2023
      </a>
      )
     </cite>
     , these are not the focus of this paper; we leave them as avenues for future research.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3
   </span>
   Experimental Setup
  </h2>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1
    </span>
    Evaluation Protocol
   </h3>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">
      Needle-in-a-Haystack PLUS
     </span>
     : The
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.2">
      Needle-in-a-Haystack
     </span>
     <cite class="ltx_cite ltx_citemacro_cite">
      Kamradt (
      <a class="ltx_ref" href="#bib.bib15" title="">
       2023
      </a>
      )
     </cite>
     is currently one of the most popular testbed for evaluating the capability to handle long texts. In this setup, a fact or statement of interest (the
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.3">
      needle
     </span>
     ) is placed within a lengthy distracting document (the
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.4">
      haystack
     </span>
     ), and the model is tasked with retrieving this hidden key information. Performance is evaluated by varying the position of the needle within the distracting document and the length of the distracting document itself. To assess the long-text capabilities more comprehensively, we propose
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.5">
      Needle-in-a-Haystack PLUS
     </span>
     , which shifts the focus from simple fact retrieval to more challenging single-document/multi-document question answering tasks. In
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.6">
      Needle-in-a-Haystack PLUS
     </span>
     , the
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.7">
      needle
     </span>
     represents the document(s) containing the answers, while the
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.8">
      haystack
     </span>
     comprises distracting documents. The model must locate one or more relevant documents scattered within the haystack and reason the correct answers from them. For the purpose of evaluation, we deliberately select questions with definite answers as test data, such as questions where the answer is a specific entity or a simple yes/no response. To mitigate the risk of models relying on internal knowledge to answer, we replace entities directly related to the answer within the documents with fictional entities. In Appendix
     <a class="ltx_ref" href="#A1" title="Appendix A Collecting Needle-in-a-Haystack PLUS Testing Data ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       A
      </span>
     </a>
     , we elaborate on the collecting process of the test data, including single-document QA and multi-hop QA involving multiple documents.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p2">
    <p class="ltx_p" id="S3.SS1.p2.6">
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p2.6.1">
      Synthetic Tasks
     </span>
     : In addition to the
     <span class="ltx_text ltx_font_italic" id="S3.SS1.p2.6.2">
      Needle-in-a-Haystack PLUS
     </span>
     test, we also selected two widely used long sequence evaluation tasks
     <cite class="ltx_cite ltx_citemacro_cite">
      Mohtashami and Jaggi (
      <a class="ltx_ref" href="#bib.bib17" title="">
       2023
      </a>
      ); Liu et¬†al. (
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      ); Zhang et¬†al. (
      <a class="ltx_ref" href="#bib.bib32" title="">
       2023
      </a>
      )
     </cite>
     : long-text retrieval and numerical comparison. We choose them for the following reasons: (1) Similar to the needle-in-a-haystack task, these synthetic tasks all use ACC as the evaluation metric, facilitating evaluation. The difference in metrics can directly reflect the difference in the model‚Äôs long sequence processing capabilities. (2) We can automatically synthesize training data for fine-tuning open-source models. The long-text retrieval task includes the following three subtasks: 1) PassKey Retrieval: Retrieving hidden keys in a noisy long context; 2) Number Retrieval: Locating repeated hidden numbers in a noisy long context. 3) KV Retrieval: Finding the corresponding value from a dictionary and a key.
Numerical comparison requires the model to find numbers that meet specific requirements from a numeric string of magnitude
     <math alttext="100k" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1">
      <semantics id="S3.SS1.p2.1.m1.1a">
       <mrow id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">
        <mn id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">
         100
        </mn>
        <mo id="S3.SS1.p2.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S3.SS1.p2.1.m1.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b">
        <apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">
         <times id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1">
         </times>
         <cn id="S3.SS1.p2.1.m1.1.1.2.cmml" type="integer" xref="S3.SS1.p2.1.m1.1.1.2">
          100
         </cn>
         <ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">
        100k
       </annotation>
      </semantics>
     </math>
     tokens, such as the top
     <math alttext="K" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1">
      <semantics id="S3.SS1.p2.2.m2.1a">
       <mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">
        K
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b">
        <ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">
         ùêæ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">
        K
       </annotation>
      </semantics>
     </math>
     numbers, median, etc., where
     <math alttext="K" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1">
      <semantics id="S3.SS1.p2.3.m3.1a">
       <mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">
        K
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b">
        <ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">
         ùêæ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">
        K
       </annotation>
      </semantics>
     </math>
     can be
     <math alttext="1" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1">
      <semantics id="S3.SS1.p2.4.m4.1a">
       <mn id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">
        1
       </mn>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b">
        <cn id="S3.SS1.p2.4.m4.1.1.cmml" type="integer" xref="S3.SS1.p2.4.m4.1.1">
         1
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">
        1
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="2" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1">
      <semantics id="S3.SS1.p2.5.m5.1a">
       <mn id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">
        2
       </mn>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b">
        <cn id="S3.SS1.p2.5.m5.1.1.cmml" type="integer" xref="S3.SS1.p2.5.m5.1.1">
         2
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">
        2
       </annotation>
      </semantics>
     </math>
     , or
     <math alttext="3" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1">
      <semantics id="S3.SS1.p2.6.m6.1a">
       <mn id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">
        3
       </mn>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b">
        <cn id="S3.SS1.p2.6.m6.1.1.cmml" type="integer" xref="S3.SS1.p2.6.m6.1.1">
         3
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">
        3
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="S3.F3">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="184" id="S3.F3.g1" src="/html/2402.11550/assets/x3.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 3:
     </span>
     The Comparison of Results of
     <span class="ltx_text ltx_font_italic" id="S3.F3.9.1">
      Needle-in-a-Haystack PLUS
     </span>
     in Single-Document Question Answering Setting. Under the
     <span class="ltx_text ltx_font_smallcaps" id="S3.F3.10.2">
      LangAgent
     </span>
     scheme, our fine-tuned LLaMA2-7B model achieved an average accuracy improvement of
     <math alttext="19.53\%" class="ltx_Math" display="inline" id="S3.F3.4.m1.1">
      <semantics id="S3.F3.4.m1.1b">
       <mrow id="S3.F3.4.m1.1.1" xref="S3.F3.4.m1.1.1.cmml">
        <mn id="S3.F3.4.m1.1.1.2" xref="S3.F3.4.m1.1.1.2.cmml">
         19.53
        </mn>
        <mo id="S3.F3.4.m1.1.1.1" xref="S3.F3.4.m1.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.F3.4.m1.1c">
        <apply id="S3.F3.4.m1.1.1.cmml" xref="S3.F3.4.m1.1.1">
         <csymbol cd="latexml" id="S3.F3.4.m1.1.1.1.cmml" xref="S3.F3.4.m1.1.1.1">
          percent
         </csymbol>
         <cn id="S3.F3.4.m1.1.1.2.cmml" type="float" xref="S3.F3.4.m1.1.1.2">
          19.53
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.F3.4.m1.1d">
        19.53\%
       </annotation>
      </semantics>
     </math>
     compared to GPT-4 across the range from 1k to 128k (increasing from
     <math alttext="62.00\%" class="ltx_Math" display="inline" id="S3.F3.5.m2.1">
      <semantics id="S3.F3.5.m2.1b">
       <mrow id="S3.F3.5.m2.1.1" xref="S3.F3.5.m2.1.1.cmml">
        <mn id="S3.F3.5.m2.1.1.2" xref="S3.F3.5.m2.1.1.2.cmml">
         62.00
        </mn>
        <mo id="S3.F3.5.m2.1.1.1" xref="S3.F3.5.m2.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.F3.5.m2.1c">
        <apply id="S3.F3.5.m2.1.1.cmml" xref="S3.F3.5.m2.1.1">
         <csymbol cd="latexml" id="S3.F3.5.m2.1.1.1.cmml" xref="S3.F3.5.m2.1.1.1">
          percent
         </csymbol>
         <cn id="S3.F3.5.m2.1.1.2.cmml" type="float" xref="S3.F3.5.m2.1.1.2">
          62.00
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.F3.5.m2.1d">
        62.00\%
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="81.53\%" class="ltx_Math" display="inline" id="S3.F3.6.m3.1">
      <semantics id="S3.F3.6.m3.1b">
       <mrow id="S3.F3.6.m3.1.1" xref="S3.F3.6.m3.1.1.cmml">
        <mn id="S3.F3.6.m3.1.1.2" xref="S3.F3.6.m3.1.1.2.cmml">
         81.53
        </mn>
        <mo id="S3.F3.6.m3.1.1.1" xref="S3.F3.6.m3.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.F3.6.m3.1c">
        <apply id="S3.F3.6.m3.1.1.cmml" xref="S3.F3.6.m3.1.1">
         <csymbol cd="latexml" id="S3.F3.6.m3.1.1.1.cmml" xref="S3.F3.6.m3.1.1.1">
          percent
         </csymbol>
         <cn id="S3.F3.6.m3.1.1.2.cmml" type="float" xref="S3.F3.6.m3.1.1.2">
          81.53
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.F3.6.m3.1d">
        81.53\%
       </annotation>
      </semantics>
     </math>
     ).
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2
    </span>
    Compared Methods
   </h3>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.1">
      PI
     </span>
     <cite class="ltx_cite ltx_citemacro_cite">
      Chen et¬†al. (
      <a class="ltx_ref" href="#bib.bib9" title="">
       2023c
      </a>
      )
     </cite>
     . Extending the context window sizes of RoPE-based pretrained large language models by position interpolation.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p2">
    <p class="ltx_p" id="S3.SS2.p2.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">
      YARN
     </span>
     <cite class="ltx_cite ltx_citemacro_cite">
      Peng et¬†al. (
      <a class="ltx_ref" href="#bib.bib20" title="">
       2023
      </a>
      )
     </cite>
     . YaRN is an improved method to efficiently extend the context window. This work directly modifies the PE to expand to a theoretically infinite context length.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p3">
    <p class="ltx_p" id="S3.SS2.p3.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">
      Claude2.1
     </span>
     <cite class="ltx_cite ltx_citemacro_cite">
      Anthropic (
      <a class="ltx_ref" href="#bib.bib2" title="">
       2023
      </a>
      )
     </cite>
     . The Claude 2.1 released by Anthropic Corporation features a context window of 200K tokens and has significantly reductions in rates of model hallucination.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p4">
    <p class="ltx_p" id="S3.SS2.p4.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS2.p4.1.1">
      GPT-4 Turbo
     </span>
     <cite class="ltx_cite ltx_citemacro_cite">
      OpenAI (
      <a class="ltx_ref" href="#bib.bib18" title="">
       2023
      </a>
      )
     </cite>
     . The GPT-4 Turbo model from OpenAI offers a context window of 128K and can process text exceeding 300 pages within a single prompt.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.3
    </span>
    Implementation Details
   </h3>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.9">
     To build an agent team, we perform supervised fine-tuning on LLaMA2-7b-base. Within the agent team, the Leader is responsible for coordinating Members to accomplish various tasks. We utilize GPT-4 to generate
     <math alttext="1,000" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.2">
      <semantics id="S3.SS3.p1.1.m1.2a">
       <mrow id="S3.SS3.p1.1.m1.2.3.2" xref="S3.SS3.p1.1.m1.2.3.1.cmml">
        <mn id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">
         1
        </mn>
        <mo id="S3.SS3.p1.1.m1.2.3.2.1" xref="S3.SS3.p1.1.m1.2.3.1.cmml">
         ,
        </mo>
        <mn id="S3.SS3.p1.1.m1.2.2" xref="S3.SS3.p1.1.m1.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.2b">
        <list id="S3.SS3.p1.1.m1.2.3.1.cmml" xref="S3.SS3.p1.1.m1.2.3.2">
         <cn id="S3.SS3.p1.1.m1.1.1.cmml" type="integer" xref="S3.SS3.p1.1.m1.1.1">
          1
         </cn>
         <cn id="S3.SS3.p1.1.m1.2.2.cmml" type="integer" xref="S3.SS3.p1.1.m1.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.2c">
        1,000
       </annotation>
      </semantics>
     </math>
     interaction trajectories for each task to train the Leader, and manually verified the correctness of these interaction trajectories. Members are tasked with processing documents based on the Leader‚Äôs instructions. To achieve this, we train QA experts, retrieval experts, and mathematical experts for instantiating members. Regardless of the number of members instantiated, they all share the parameters of a single expert model. Training data for QA experts are sourced from the SQuAD training set, consisting of
     <math alttext="25,000" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.2">
      <semantics id="S3.SS3.p1.2.m2.2a">
       <mrow id="S3.SS3.p1.2.m2.2.3.2" xref="S3.SS3.p1.2.m2.2.3.1.cmml">
        <mn id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">
         25
        </mn>
        <mo id="S3.SS3.p1.2.m2.2.3.2.1" xref="S3.SS3.p1.2.m2.2.3.1.cmml">
         ,
        </mo>
        <mn id="S3.SS3.p1.2.m2.2.2" xref="S3.SS3.p1.2.m2.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.2b">
        <list id="S3.SS3.p1.2.m2.2.3.1.cmml" xref="S3.SS3.p1.2.m2.2.3.2">
         <cn id="S3.SS3.p1.2.m2.1.1.cmml" type="integer" xref="S3.SS3.p1.2.m2.1.1">
          25
         </cn>
         <cn id="S3.SS3.p1.2.m2.2.2.cmml" type="integer" xref="S3.SS3.p1.2.m2.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.2c">
        25,000
       </annotation>
      </semantics>
     </math>
     samples. Among these,
     <math alttext="10,000" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.2">
      <semantics id="S3.SS3.p1.3.m3.2a">
       <mrow id="S3.SS3.p1.3.m3.2.3.2" xref="S3.SS3.p1.3.m3.2.3.1.cmml">
        <mn id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">
         10
        </mn>
        <mo id="S3.SS3.p1.3.m3.2.3.2.1" xref="S3.SS3.p1.3.m3.2.3.1.cmml">
         ,
        </mo>
        <mn id="S3.SS3.p1.3.m3.2.2" xref="S3.SS3.p1.3.m3.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.2b">
        <list id="S3.SS3.p1.3.m3.2.3.1.cmml" xref="S3.SS3.p1.3.m3.2.3.2">
         <cn id="S3.SS3.p1.3.m3.1.1.cmml" type="integer" xref="S3.SS3.p1.3.m3.1.1">
          10
         </cn>
         <cn id="S3.SS3.p1.3.m3.2.2.cmml" type="integer" xref="S3.SS3.p1.3.m3.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.2c">
        10,000
       </annotation>
      </semantics>
     </math>
     samples contain answers within the documents, while the remaining
     <math alttext="15,000" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.2">
      <semantics id="S3.SS3.p1.4.m4.2a">
       <mrow id="S3.SS3.p1.4.m4.2.3.2" xref="S3.SS3.p1.4.m4.2.3.1.cmml">
        <mn id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml">
         15
        </mn>
        <mo id="S3.SS3.p1.4.m4.2.3.2.1" xref="S3.SS3.p1.4.m4.2.3.1.cmml">
         ,
        </mo>
        <mn id="S3.SS3.p1.4.m4.2.2" xref="S3.SS3.p1.4.m4.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.2b">
        <list id="S3.SS3.p1.4.m4.2.3.1.cmml" xref="S3.SS3.p1.4.m4.2.3.2">
         <cn id="S3.SS3.p1.4.m4.1.1.cmml" type="integer" xref="S3.SS3.p1.4.m4.1.1">
          15
         </cn>
         <cn id="S3.SS3.p1.4.m4.2.2.cmml" type="integer" xref="S3.SS3.p1.4.m4.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.2c">
        15,000
       </annotation>
      </semantics>
     </math>
     samples do not, requiring the model to abstain from answering. We extended document lengths to
     <math alttext="2500" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m5.1">
      <semantics id="S3.SS3.p1.5.m5.1a">
       <mn id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml">
        2500
       </mn>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b">
        <cn id="S3.SS3.p1.5.m5.1.1.cmml" type="integer" xref="S3.SS3.p1.5.m5.1.1">
         2500
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">
        2500
       </annotation>
      </semantics>
     </math>
     -
     <math alttext="3000" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.1">
      <semantics id="S3.SS3.p1.6.m6.1a">
       <mn id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml">
        3000
       </mn>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b">
        <cn id="S3.SS3.p1.6.m6.1.1.cmml" type="integer" xref="S3.SS3.p1.6.m6.1.1">
         3000
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">
        3000
       </annotation>
      </semantics>
     </math>
     tokens through concatenation. Training data for retrieval experts and mathematical experts are synthesized automatically, with
     <math alttext="10,000" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.2">
      <semantics id="S3.SS3.p1.7.m7.2a">
       <mrow id="S3.SS3.p1.7.m7.2.3.2" xref="S3.SS3.p1.7.m7.2.3.1.cmml">
        <mn id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml">
         10
        </mn>
        <mo id="S3.SS3.p1.7.m7.2.3.2.1" xref="S3.SS3.p1.7.m7.2.3.1.cmml">
         ,
        </mo>
        <mn id="S3.SS3.p1.7.m7.2.2" xref="S3.SS3.p1.7.m7.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.2b">
        <list id="S3.SS3.p1.7.m7.2.3.1.cmml" xref="S3.SS3.p1.7.m7.2.3.2">
         <cn id="S3.SS3.p1.7.m7.1.1.cmml" type="integer" xref="S3.SS3.p1.7.m7.1.1">
          10
         </cn>
         <cn id="S3.SS3.p1.7.m7.2.2.cmml" type="integer" xref="S3.SS3.p1.7.m7.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.2c">
        10,000
       </annotation>
      </semantics>
     </math>
     documents generated for each task, ranging in length from
     <math alttext="1k" class="ltx_Math" display="inline" id="S3.SS3.p1.8.m8.1">
      <semantics id="S3.SS3.p1.8.m8.1a">
       <mrow id="S3.SS3.p1.8.m8.1.1" xref="S3.SS3.p1.8.m8.1.1.cmml">
        <mn id="S3.SS3.p1.8.m8.1.1.2" xref="S3.SS3.p1.8.m8.1.1.2.cmml">
         1
        </mn>
        <mo id="S3.SS3.p1.8.m8.1.1.1" lspace="0em" rspace="0em" xref="S3.SS3.p1.8.m8.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S3.SS3.p1.8.m8.1.1.3" xref="S3.SS3.p1.8.m8.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.8.m8.1b">
        <apply id="S3.SS3.p1.8.m8.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1">
         <times id="S3.SS3.p1.8.m8.1.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1.1">
         </times>
         <cn id="S3.SS3.p1.8.m8.1.1.2.cmml" type="integer" xref="S3.SS3.p1.8.m8.1.1.2">
          1
         </cn>
         <ci id="S3.SS3.p1.8.m8.1.1.3.cmml" xref="S3.SS3.p1.8.m8.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.8.m8.1c">
        1k
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="3k" class="ltx_Math" display="inline" id="S3.SS3.p1.9.m9.1">
      <semantics id="S3.SS3.p1.9.m9.1a">
       <mrow id="S3.SS3.p1.9.m9.1.1" xref="S3.SS3.p1.9.m9.1.1.cmml">
        <mn id="S3.SS3.p1.9.m9.1.1.2" xref="S3.SS3.p1.9.m9.1.1.2.cmml">
         3
        </mn>
        <mo id="S3.SS3.p1.9.m9.1.1.1" lspace="0em" rspace="0em" xref="S3.SS3.p1.9.m9.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S3.SS3.p1.9.m9.1.1.3" xref="S3.SS3.p1.9.m9.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m9.1b">
        <apply id="S3.SS3.p1.9.m9.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1">
         <times id="S3.SS3.p1.9.m9.1.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1.1">
         </times>
         <cn id="S3.SS3.p1.9.m9.1.1.2.cmml" type="integer" xref="S3.SS3.p1.9.m9.1.1.2">
          3
         </cn>
         <ci id="S3.SS3.p1.9.m9.1.1.3.cmml" xref="S3.SS3.p1.9.m9.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.9.m9.1c">
        3k
       </annotation>
      </semantics>
     </math>
     tokens, and information to be retrieved evenly placed at random positions within the documents. It‚Äôs important to note that all training data is non-overlapping with the final evaluation data. Please refer to Appendix
     <a class="ltx_ref" href="#A2" title="Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       B
      </span>
     </a>
     for prompts and interaction trajectories for all tasks.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4
   </span>
   Results and Discussion
  </h2>
  <figure class="ltx_figure" id="S4.F4">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="184" id="S4.F4.g1" src="/html/2402.11550/assets/x4.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 4:
    </span>
    The Comparison of Results of
    <span class="ltx_text ltx_font_italic" id="S4.F4.12.1">
     Needle-in-a-Haystack PLUS
    </span>
    in Multi-Document Question Answering Setting. Under the LangAgent scheme, our fine-tuned LLaMA2-7B model achieved an average accuracy improvement of
    <math alttext="4.96\%" class="ltx_Math" display="inline" id="S4.F4.6.m1.1">
     <semantics id="S4.F4.6.m1.1b">
      <mrow id="S4.F4.6.m1.1.1" xref="S4.F4.6.m1.1.1.cmml">
       <mn id="S4.F4.6.m1.1.1.2" xref="S4.F4.6.m1.1.1.2.cmml">
        4.96
       </mn>
       <mo id="S4.F4.6.m1.1.1.1" xref="S4.F4.6.m1.1.1.1.cmml">
        %
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S4.F4.6.m1.1c">
       <apply id="S4.F4.6.m1.1.1.cmml" xref="S4.F4.6.m1.1.1">
        <csymbol cd="latexml" id="S4.F4.6.m1.1.1.1.cmml" xref="S4.F4.6.m1.1.1.1">
         percent
        </csymbol>
        <cn id="S4.F4.6.m1.1.1.2.cmml" type="float" xref="S4.F4.6.m1.1.1.2">
         4.96
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S4.F4.6.m1.1d">
       4.96\%
      </annotation>
     </semantics>
    </math>
    compared to GPT-4 across the range from
    <math alttext="1k" class="ltx_Math" display="inline" id="S4.F4.7.m2.1">
     <semantics id="S4.F4.7.m2.1b">
      <mrow id="S4.F4.7.m2.1.1" xref="S4.F4.7.m2.1.1.cmml">
       <mn id="S4.F4.7.m2.1.1.2" xref="S4.F4.7.m2.1.1.2.cmml">
        1
       </mn>
       <mo id="S4.F4.7.m2.1.1.1" lspace="0em" rspace="0em" xref="S4.F4.7.m2.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S4.F4.7.m2.1.1.3" xref="S4.F4.7.m2.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S4.F4.7.m2.1c">
       <apply id="S4.F4.7.m2.1.1.cmml" xref="S4.F4.7.m2.1.1">
        <times id="S4.F4.7.m2.1.1.1.cmml" xref="S4.F4.7.m2.1.1.1">
        </times>
        <cn id="S4.F4.7.m2.1.1.2.cmml" type="integer" xref="S4.F4.7.m2.1.1.2">
         1
        </cn>
        <ci id="S4.F4.7.m2.1.1.3.cmml" xref="S4.F4.7.m2.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S4.F4.7.m2.1d">
       1k
      </annotation>
     </semantics>
    </math>
    to
    <math alttext="128k" class="ltx_Math" display="inline" id="S4.F4.8.m3.1">
     <semantics id="S4.F4.8.m3.1b">
      <mrow id="S4.F4.8.m3.1.1" xref="S4.F4.8.m3.1.1.cmml">
       <mn id="S4.F4.8.m3.1.1.2" xref="S4.F4.8.m3.1.1.2.cmml">
        128
       </mn>
       <mo id="S4.F4.8.m3.1.1.1" lspace="0em" rspace="0em" xref="S4.F4.8.m3.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S4.F4.8.m3.1.1.3" xref="S4.F4.8.m3.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S4.F4.8.m3.1c">
       <apply id="S4.F4.8.m3.1.1.cmml" xref="S4.F4.8.m3.1.1">
        <times id="S4.F4.8.m3.1.1.1.cmml" xref="S4.F4.8.m3.1.1.1">
        </times>
        <cn id="S4.F4.8.m3.1.1.2.cmml" type="integer" xref="S4.F4.8.m3.1.1.2">
         128
        </cn>
        <ci id="S4.F4.8.m3.1.1.3.cmml" xref="S4.F4.8.m3.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S4.F4.8.m3.1d">
       128k
      </annotation>
     </semantics>
    </math>
    (increasing from
    <math alttext="50.37\%" class="ltx_Math" display="inline" id="S4.F4.9.m4.1">
     <semantics id="S4.F4.9.m4.1b">
      <mrow id="S4.F4.9.m4.1.1" xref="S4.F4.9.m4.1.1.cmml">
       <mn id="S4.F4.9.m4.1.1.2" xref="S4.F4.9.m4.1.1.2.cmml">
        50.37
       </mn>
       <mo id="S4.F4.9.m4.1.1.1" xref="S4.F4.9.m4.1.1.1.cmml">
        %
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S4.F4.9.m4.1c">
       <apply id="S4.F4.9.m4.1.1.cmml" xref="S4.F4.9.m4.1.1">
        <csymbol cd="latexml" id="S4.F4.9.m4.1.1.1.cmml" xref="S4.F4.9.m4.1.1.1">
         percent
        </csymbol>
        <cn id="S4.F4.9.m4.1.1.2.cmml" type="float" xref="S4.F4.9.m4.1.1.2">
         50.37
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S4.F4.9.m4.1d">
       50.37\%
      </annotation>
     </semantics>
    </math>
    to
    <math alttext="55.33\%" class="ltx_Math" display="inline" id="S4.F4.10.m5.1">
     <semantics id="S4.F4.10.m5.1b">
      <mrow id="S4.F4.10.m5.1.1" xref="S4.F4.10.m5.1.1.cmml">
       <mn id="S4.F4.10.m5.1.1.2" xref="S4.F4.10.m5.1.1.2.cmml">
        55.33
       </mn>
       <mo id="S4.F4.10.m5.1.1.1" xref="S4.F4.10.m5.1.1.1.cmml">
        %
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S4.F4.10.m5.1c">
       <apply id="S4.F4.10.m5.1.1.cmml" xref="S4.F4.10.m5.1.1">
        <csymbol cd="latexml" id="S4.F4.10.m5.1.1.1.cmml" xref="S4.F4.10.m5.1.1.1">
         percent
        </csymbol>
        <cn id="S4.F4.10.m5.1.1.2.cmml" type="float" xref="S4.F4.10.m5.1.1.2">
         55.33
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S4.F4.10.m5.1d">
       55.33\%
      </annotation>
     </semantics>
    </math>
    ).
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1
    </span>
    Overall Performance
   </h3>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     To demonstrate the superiority of LongAgent in handling long texts, we compare it against powerful commercial models GPT-4 Turbo and Claude 2.1, as well as the state-of-the-art academic methods for long-text processing, PI and YARN.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS1.p2">
    <p class="ltx_p" id="S4.SS1.p2.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">
      Through multi-agent collaboration, fine-tuning LLaMA with only a 4k context window effectively handles contexts of up to 128k.
     </span>
    </p>
   </div>
   <div class="ltx_para" id="S4.SS1.p3">
    <p class="ltx_p" id="S4.SS1.p3.5">
     The results for the
     <span class="ltx_text ltx_font_italic" id="S4.SS1.p3.5.1">
      Needle-in-a-Haystack PLUS
     </span>
     are shown in Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‚Ä£ 3.1 Evaluation Protocol ‚Ä£ 3 Experimental Setup ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     and
     <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     , respectively.
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p3.5.2">
      LongAgent
     </span>
     , constructed from fine-tuned LLaMA2-7B, significantly outperforms GPT-4 across document length ranging from 1k to 128k, with an average improvement of 19.53% (from 62.00% to 81.53%) under the single-document setting, and an average improvement of 4.96% (from 50.37% to 55.33%) under the multi-document setting. Considering that
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p3.5.3">
      LongAgent
     </span>
     is fine-tuned on downstream tasks, for fair comparison, we fine-tune PI and YARN on task data with lengths ranging from
     <math alttext="1" class="ltx_Math" display="inline" id="S4.SS1.p3.1.m1.1">
      <semantics id="S4.SS1.p3.1.m1.1a">
       <mn id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">
        1
       </mn>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b">
        <cn id="S4.SS1.p3.1.m1.1.1.cmml" type="integer" xref="S4.SS1.p3.1.m1.1.1">
         1
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">
        1
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="16k" class="ltx_Math" display="inline" id="S4.SS1.p3.2.m2.1">
      <semantics id="S4.SS1.p3.2.m2.1a">
       <mrow id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml">
        <mn id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">
         16
        </mn>
        <mo id="S4.SS1.p3.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p3.2.m2.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b">
        <apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">
         <times id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1">
         </times>
         <cn id="S4.SS1.p3.2.m2.1.1.2.cmml" type="integer" xref="S4.SS1.p3.2.m2.1.1.2">
          16
         </cn>
         <ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">
        16k
       </annotation>
      </semantics>
     </math>
     (training with longer contexts exceeds our hardware limitations). Experimental results demonstrate that when the length of the test document exceeds the maximum length trained on, PI and YARN fail to generate results properly. Even within the
     <math alttext="0" class="ltx_Math" display="inline" id="S4.SS1.p3.3.m3.1">
      <semantics id="S4.SS1.p3.3.m3.1a">
       <mn id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml">
        0
       </mn>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b">
        <cn id="S4.SS1.p3.3.m3.1.1.cmml" type="integer" xref="S4.SS1.p3.3.m3.1.1">
         0
        </cn>
       </annotation-xml>
      </semantics>
     </math>
     -
     <math alttext="16k" class="ltx_Math" display="inline" id="S4.SS1.p3.4.m4.1">
      <semantics id="S4.SS1.p3.4.m4.1a">
       <mrow id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml">
        <mn id="S4.SS1.p3.4.m4.1.1.2" xref="S4.SS1.p3.4.m4.1.1.2.cmml">
         16
        </mn>
        <mo id="S4.SS1.p3.4.m4.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p3.4.m4.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p3.4.m4.1.1.3" xref="S4.SS1.p3.4.m4.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b">
        <apply id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">
         <times id="S4.SS1.p3.4.m4.1.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1.1">
         </times>
         <cn id="S4.SS1.p3.4.m4.1.1.2.cmml" type="integer" xref="S4.SS1.p3.4.m4.1.1.2">
          16
         </cn>
         <ci id="S4.SS1.p3.4.m4.1.1.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">
        16k
       </annotation>
      </semantics>
     </math>
     range (corresponding to the first two columns of the grid), the average performance of
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p3.5.4">
      LongAgent
     </span>
     surpasses that of PI and YARN. The results on the four synthetic tasks are shown in Table
     <a class="ltx_ref" href="#S4.T1" title="Table 1 ‚Ä£ 4.1 Overall Performance ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     . From the table, we can observe that
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p3.5.5">
      LongAgent
     </span>
     supported by fine-tuned LLaMA2-7B model outperforms all baseline models, achieving or approaching
     <math alttext="100\%" class="ltx_Math" display="inline" id="S4.SS1.p3.5.m5.1">
      <semantics id="S4.SS1.p3.5.m5.1a">
       <mrow id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">
        <mn id="S4.SS1.p3.5.m5.1.1.2" xref="S4.SS1.p3.5.m5.1.1.2.cmml">
         100
        </mn>
        <mo id="S4.SS1.p3.5.m5.1.1.1" xref="S4.SS1.p3.5.m5.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b">
        <apply id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">
         <csymbol cd="latexml" id="S4.SS1.p3.5.m5.1.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS1.p3.5.m5.1.1.2.cmml" type="integer" xref="S4.SS1.p3.5.m5.1.1.2">
          100
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">
        100\%
       </annotation>
      </semantics>
     </math>
     accuracy on the three retrieval-type tasks. This demonstrates the superiority of
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p3.5.6">
      LongAgent
     </span>
     in handling various long-text tasks.
    </p>
   </div>
   <figure class="ltx_table" id="S4.T1">
    <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.24" style="width:433.6pt;height:206.5pt;vertical-align:-0.0pt;">
     <span class="ltx_transformed_inner" style="transform:translate(65.6pt,-31.2pt) scale(1.43384747936686,1.43384747936686) ;">
      <table class="ltx_tabular ltx_align_middle" id="S4.T1.24.24">
       <tr class="ltx_tr" id="S4.T1.24.24.25">
        <td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T1.24.24.25.1" rowspan="2">
         <span class="ltx_text ltx_font_bold" id="S4.T1.24.24.25.1.1">
          Methods
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T1.24.24.25.2">
         Retrieval
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.24.24.25.3" rowspan="2">
         <span class="ltx_text" id="S4.T1.24.24.25.3.1">
          <span class="ltx_text" id="S4.T1.24.24.25.3.1.1">
          </span>
          <span class="ltx_text" id="S4.T1.24.24.25.3.1.2">
           <span class="ltx_tabular ltx_align_middle" id="S4.T1.24.24.25.3.1.2.1">
            <span class="ltx_tr" id="S4.T1.24.24.25.3.1.2.1.1">
             <span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.24.24.25.3.1.2.1.1.1">
              Numerical
             </span>
            </span>
            <span class="ltx_tr" id="S4.T1.24.24.25.3.1.2.1.2">
             <span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.24.24.25.3.1.2.1.2.1">
              Comparison
             </span>
            </span>
           </span>
          </span>
          <span class="ltx_text" id="S4.T1.24.24.25.3.1.3">
          </span>
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.24.24.26">
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.24.24.26.1">
         PassKey
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.24.24.26.2">
         Number
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.24.24.26.3">
         KV
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.4.4.4">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.4.4.4.5">
         GPT-4
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.1">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1">
          <semantics id="S4.T1.1.1.1.1.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.1.1.1.1.m1.1.1" mathvariant="bold" xref="S4.T1.1.1.1.1.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b">
            <cn id="S4.T1.1.1.1.1.m1.1.1.cmml" type="float" xref="S4.T1.1.1.1.1.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.2.2.2.2">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.2.2.2.2.m1.1">
          <semantics id="S4.T1.2.2.2.2.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.2.2.2.2.m1.1.1" mathvariant="bold" xref="S4.T1.2.2.2.2.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.2.m1.1b">
            <cn id="S4.T1.2.2.2.2.m1.1.1.cmml" type="float" xref="S4.T1.2.2.2.2.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.2.2.2.2.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.3.3.3">
         <math alttext="0.890" class="ltx_Math" display="inline" id="S4.T1.3.3.3.3.m1.1">
          <semantics id="S4.T1.3.3.3.3.m1.1a">
           <mn id="S4.T1.3.3.3.3.m1.1.1" xref="S4.T1.3.3.3.3.m1.1.1.cmml">
            0.890
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.3.m1.1b">
            <cn id="S4.T1.3.3.3.3.m1.1.1.cmml" type="float" xref="S4.T1.3.3.3.3.m1.1.1">
             0.890
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.3.3.3.3.m1.1c">
            0.890
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.4">
         <math alttext="0.600" class="ltx_Math" display="inline" id="S4.T1.4.4.4.4.m1.1">
          <semantics id="S4.T1.4.4.4.4.m1.1a">
           <mn id="S4.T1.4.4.4.4.m1.1.1" xref="S4.T1.4.4.4.4.m1.1.1.cmml">
            0.600
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.4.4.4.4.m1.1b">
            <cn id="S4.T1.4.4.4.4.m1.1.1.cmml" type="float" xref="S4.T1.4.4.4.4.m1.1.1">
             0.600
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.4.4.4.4.m1.1c">
            0.600
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.8.8.8">
        <td class="ltx_td ltx_align_left" id="S4.T1.8.8.8.5">
         Kimi-Chat
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.1">
         <math alttext="0.981" class="ltx_Math" display="inline" id="S4.T1.5.5.5.1.m1.1">
          <semantics id="S4.T1.5.5.5.1.m1.1a">
           <mn id="S4.T1.5.5.5.1.m1.1.1" xref="S4.T1.5.5.5.1.m1.1.1.cmml">
            0.981
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.5.5.5.1.m1.1b">
            <cn id="S4.T1.5.5.5.1.m1.1.1.cmml" type="float" xref="S4.T1.5.5.5.1.m1.1.1">
             0.981
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.5.5.5.1.m1.1c">
            0.981
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.2">
         <math alttext="0.954" class="ltx_Math" display="inline" id="S4.T1.6.6.6.2.m1.1">
          <semantics id="S4.T1.6.6.6.2.m1.1a">
           <mn id="S4.T1.6.6.6.2.m1.1.1" xref="S4.T1.6.6.6.2.m1.1.1.cmml">
            0.954
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.6.6.6.2.m1.1b">
            <cn id="S4.T1.6.6.6.2.m1.1.1.cmml" type="float" xref="S4.T1.6.6.6.2.m1.1.1">
             0.954
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.6.6.6.2.m1.1c">
            0.954
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.3">
         <math alttext="0.536" class="ltx_Math" display="inline" id="S4.T1.7.7.7.3.m1.1">
          <semantics id="S4.T1.7.7.7.3.m1.1a">
           <mn id="S4.T1.7.7.7.3.m1.1.1" xref="S4.T1.7.7.7.3.m1.1.1.cmml">
            0.536
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.7.7.7.3.m1.1b">
            <cn id="S4.T1.7.7.7.3.m1.1.1.cmml" type="float" xref="S4.T1.7.7.7.3.m1.1.1">
             0.536
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.7.7.7.3.m1.1c">
            0.536
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.4">
         <math alttext="0.126" class="ltx_Math" display="inline" id="S4.T1.8.8.8.4.m1.1">
          <semantics id="S4.T1.8.8.8.4.m1.1a">
           <mn id="S4.T1.8.8.8.4.m1.1.1" xref="S4.T1.8.8.8.4.m1.1.1.cmml">
            0.126
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.8.8.8.4.m1.1b">
            <cn id="S4.T1.8.8.8.4.m1.1.1.cmml" type="float" xref="S4.T1.8.8.8.4.m1.1.1">
             0.126
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.8.8.8.4.m1.1c">
            0.126
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.12.12.12">
        <td class="ltx_td ltx_align_left" id="S4.T1.12.12.12.5">
         Claude2.1
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.1">
         <math alttext="0.978" class="ltx_Math" display="inline" id="S4.T1.9.9.9.1.m1.1">
          <semantics id="S4.T1.9.9.9.1.m1.1a">
           <mn id="S4.T1.9.9.9.1.m1.1.1" xref="S4.T1.9.9.9.1.m1.1.1.cmml">
            0.978
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.9.9.9.1.m1.1b">
            <cn id="S4.T1.9.9.9.1.m1.1.1.cmml" type="float" xref="S4.T1.9.9.9.1.m1.1.1">
             0.978
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.9.9.9.1.m1.1c">
            0.978
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.10.10.10.2">
         <math alttext="0.981" class="ltx_Math" display="inline" id="S4.T1.10.10.10.2.m1.1">
          <semantics id="S4.T1.10.10.10.2.m1.1a">
           <mn id="S4.T1.10.10.10.2.m1.1.1" xref="S4.T1.10.10.10.2.m1.1.1.cmml">
            0.981
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.10.10.10.2.m1.1b">
            <cn id="S4.T1.10.10.10.2.m1.1.1.cmml" type="float" xref="S4.T1.10.10.10.2.m1.1.1">
             0.981
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.10.10.10.2.m1.1c">
            0.981
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.11.11.11.3">
         <math alttext="0.654" class="ltx_Math" display="inline" id="S4.T1.11.11.11.3.m1.1">
          <semantics id="S4.T1.11.11.11.3.m1.1a">
           <mn id="S4.T1.11.11.11.3.m1.1.1" xref="S4.T1.11.11.11.3.m1.1.1.cmml">
            0.654
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.11.11.11.3.m1.1b">
            <cn id="S4.T1.11.11.11.3.m1.1.1.cmml" type="float" xref="S4.T1.11.11.11.3.m1.1.1">
             0.654
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.11.11.11.3.m1.1c">
            0.654
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.12.12.12.4">
         <math alttext="0.323" class="ltx_Math" display="inline" id="S4.T1.12.12.12.4.m1.1">
          <semantics id="S4.T1.12.12.12.4.m1.1a">
           <mn id="S4.T1.12.12.12.4.m1.1.1" xref="S4.T1.12.12.12.4.m1.1.1.cmml">
            0.323
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.12.12.12.4.m1.1b">
            <cn id="S4.T1.12.12.12.4.m1.1.1.cmml" type="float" xref="S4.T1.12.12.12.4.m1.1.1">
             0.323
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.12.12.12.4.m1.1c">
            0.323
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.16.16.16">
        <td class="ltx_td ltx_align_left" id="S4.T1.16.16.16.5">
         YaRN
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.13.13.13.1">
         <math alttext="0.927" class="ltx_Math" display="inline" id="S4.T1.13.13.13.1.m1.1">
          <semantics id="S4.T1.13.13.13.1.m1.1a">
           <mn id="S4.T1.13.13.13.1.m1.1.1" xref="S4.T1.13.13.13.1.m1.1.1.cmml">
            0.927
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.13.13.13.1.m1.1b">
            <cn id="S4.T1.13.13.13.1.m1.1.1.cmml" type="float" xref="S4.T1.13.13.13.1.m1.1.1">
             0.927
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.13.13.13.1.m1.1c">
            0.927
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.14.14.14.2">
         <math alttext="0.566" class="ltx_Math" display="inline" id="S4.T1.14.14.14.2.m1.1">
          <semantics id="S4.T1.14.14.14.2.m1.1a">
           <mn id="S4.T1.14.14.14.2.m1.1.1" xref="S4.T1.14.14.14.2.m1.1.1.cmml">
            0.566
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.14.14.14.2.m1.1b">
            <cn id="S4.T1.14.14.14.2.m1.1.1.cmml" type="float" xref="S4.T1.14.14.14.2.m1.1.1">
             0.566
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.14.14.14.2.m1.1c">
            0.566
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.15.15.15.3">
         <math alttext="-" class="ltx_Math" display="inline" id="S4.T1.15.15.15.3.m1.1">
          <semantics id="S4.T1.15.15.15.3.m1.1a">
           <mo id="S4.T1.15.15.15.3.m1.1.1" xref="S4.T1.15.15.15.3.m1.1.1.cmml">
            ‚àí
           </mo>
           <annotation-xml encoding="MathML-Content" id="S4.T1.15.15.15.3.m1.1b">
            <minus id="S4.T1.15.15.15.3.m1.1.1.cmml" xref="S4.T1.15.15.15.3.m1.1.1">
            </minus>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.15.15.15.3.m1.1c">
            -
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.16.16.16.4">
         <math alttext="0.171" class="ltx_Math" display="inline" id="S4.T1.16.16.16.4.m1.1">
          <semantics id="S4.T1.16.16.16.4.m1.1a">
           <mn id="S4.T1.16.16.16.4.m1.1.1" xref="S4.T1.16.16.16.4.m1.1.1.cmml">
            0.171
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.16.16.16.4.m1.1b">
            <cn id="S4.T1.16.16.16.4.m1.1.1.cmml" type="float" xref="S4.T1.16.16.16.4.m1.1.1">
             0.171
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.16.16.16.4.m1.1c">
            0.171
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.20.20.20">
        <td class="ltx_td ltx_align_left" id="S4.T1.20.20.20.5">
         Ours-GPT3.5
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.17.17.17.1">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.17.17.17.1.m1.1">
          <semantics id="S4.T1.17.17.17.1.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.17.17.17.1.m1.1.1" mathvariant="bold" xref="S4.T1.17.17.17.1.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.17.17.17.1.m1.1b">
            <cn id="S4.T1.17.17.17.1.m1.1.1.cmml" type="float" xref="S4.T1.17.17.17.1.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.17.17.17.1.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.18.18.18.2">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.18.18.18.2.m1.1">
          <semantics id="S4.T1.18.18.18.2.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.18.18.18.2.m1.1.1" mathvariant="bold" xref="S4.T1.18.18.18.2.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.18.18.18.2.m1.1b">
            <cn id="S4.T1.18.18.18.2.m1.1.1.cmml" type="float" xref="S4.T1.18.18.18.2.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.18.18.18.2.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.19.19.19.3">
         <math alttext="0.638" class="ltx_Math" display="inline" id="S4.T1.19.19.19.3.m1.1">
          <semantics id="S4.T1.19.19.19.3.m1.1a">
           <mn id="S4.T1.19.19.19.3.m1.1.1" xref="S4.T1.19.19.19.3.m1.1.1.cmml">
            0.638
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.19.19.19.3.m1.1b">
            <cn id="S4.T1.19.19.19.3.m1.1.1.cmml" type="float" xref="S4.T1.19.19.19.3.m1.1.1">
             0.638
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.19.19.19.3.m1.1c">
            0.638
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.20.20.20.4">
         <math alttext="0.511" class="ltx_Math" display="inline" id="S4.T1.20.20.20.4.m1.1">
          <semantics id="S4.T1.20.20.20.4.m1.1a">
           <mn id="S4.T1.20.20.20.4.m1.1.1" xref="S4.T1.20.20.20.4.m1.1.1.cmml">
            0.511
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.20.20.20.4.m1.1b">
            <cn id="S4.T1.20.20.20.4.m1.1.1.cmml" type="float" xref="S4.T1.20.20.20.4.m1.1.1">
             0.511
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.20.20.20.4.m1.1c">
            0.511
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.24.24.24">
        <td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.24.24.24.5">
         Ours-LLaMA-7B
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.21.21.21.1">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.21.21.21.1.m1.1">
          <semantics id="S4.T1.21.21.21.1.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.21.21.21.1.m1.1.1" mathvariant="bold" xref="S4.T1.21.21.21.1.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.21.21.21.1.m1.1b">
            <cn id="S4.T1.21.21.21.1.m1.1.1.cmml" type="float" xref="S4.T1.21.21.21.1.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.21.21.21.1.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.22.22.22.2">
         <math alttext="\bm{1.000}" class="ltx_Math" display="inline" id="S4.T1.22.22.22.2.m1.1">
          <semantics id="S4.T1.22.22.22.2.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.22.22.22.2.m1.1.1" mathvariant="bold" xref="S4.T1.22.22.22.2.m1.1.1.cmml">
            1.000
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.22.22.22.2.m1.1b">
            <cn id="S4.T1.22.22.22.2.m1.1.1.cmml" type="float" xref="S4.T1.22.22.22.2.m1.1.1">
             1.000
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.22.22.22.2.m1.1c">
            \bm{1.000}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.23.23.23.3">
         <math alttext="\bm{0.966}" class="ltx_Math" display="inline" id="S4.T1.23.23.23.3.m1.1">
          <semantics id="S4.T1.23.23.23.3.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.23.23.23.3.m1.1.1" mathvariant="bold" xref="S4.T1.23.23.23.3.m1.1.1.cmml">
            0.966
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.23.23.23.3.m1.1b">
            <cn id="S4.T1.23.23.23.3.m1.1.1.cmml" type="float" xref="S4.T1.23.23.23.3.m1.1.1">
             0.966
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.23.23.23.3.m1.1c">
            \bm{0.966}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.24.24.24.4">
         <math alttext="\bm{0.625}" class="ltx_Math" display="inline" id="S4.T1.24.24.24.4.m1.1">
          <semantics id="S4.T1.24.24.24.4.m1.1a">
           <mn class="ltx_mathvariant_bold" id="S4.T1.24.24.24.4.m1.1.1" mathvariant="bold" xref="S4.T1.24.24.24.4.m1.1.1.cmml">
            0.625
           </mn>
           <annotation-xml encoding="MathML-Content" id="S4.T1.24.24.24.4.m1.1b">
            <cn id="S4.T1.24.24.24.4.m1.1.1.cmml" type="float" xref="S4.T1.24.24.24.4.m1.1.1">
             0.625
            </cn>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.24.24.24.4.m1.1c">
            \bm{0.625}
           </annotation>
          </semantics>
         </math>
        </td>
       </tr>
      </table>
     </span>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 1:
     </span>
     The experimental results (accuracy) on four synthesis tasks.
    </figcaption>
   </figure>
   <figure class="ltx_figure" id="S4.F5">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="168" id="S4.F5.g1" src="/html/2402.11550/assets/x5.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 5:
     </span>
     The influence of data recipe on model hallucinations. ‚ÄòAnswer‚Äô and ‚ÄòReject‚Äô represent two types of data. For the former, the documents contain answers to questions; whereas for the latter, they do not.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="S4.SS1.p4">
    <p class="ltx_p" id="S4.SS1.p4.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">
      For
      <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p4.1.1.1">
       LongAgent
      </span>
      supported by more powerful models like GPT-3.5, fine-tuning is not necessary.
     </span>
    </p>
   </div>
   <div class="ltx_para" id="S4.SS1.p5">
    <p class="ltx_p" id="S4.SS1.p5.5">
     Through prompting, GPT-3.5 can simultaneously act as a leader and members with specific skills. Despite having only a
     <math alttext="16k" class="ltx_Math" display="inline" id="S4.SS1.p5.1.m1.1">
      <semantics id="S4.SS1.p5.1.m1.1a">
       <mrow id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml">
        <mn id="S4.SS1.p5.1.m1.1.1.2" xref="S4.SS1.p5.1.m1.1.1.2.cmml">
         16
        </mn>
        <mo id="S4.SS1.p5.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p5.1.m1.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p5.1.m1.1.1.3" xref="S4.SS1.p5.1.m1.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b">
        <apply id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">
         <times id="S4.SS1.p5.1.m1.1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1.1">
         </times>
         <cn id="S4.SS1.p5.1.m1.1.1.2.cmml" type="integer" xref="S4.SS1.p5.1.m1.1.1.2">
          16
         </cn>
         <ci id="S4.SS1.p5.1.m1.1.1.3.cmml" xref="S4.SS1.p5.1.m1.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">
        16k
       </annotation>
      </semantics>
     </math>
     context window, we found that the
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p5.5.1">
      LongAgent
     </span>
     supported by GPT-3.5 can effectively handle documents far exceeding
     <math alttext="16k" class="ltx_Math" display="inline" id="S4.SS1.p5.2.m2.1">
      <semantics id="S4.SS1.p5.2.m2.1a">
       <mrow id="S4.SS1.p5.2.m2.1.1" xref="S4.SS1.p5.2.m2.1.1.cmml">
        <mn id="S4.SS1.p5.2.m2.1.1.2" xref="S4.SS1.p5.2.m2.1.1.2.cmml">
         16
        </mn>
        <mo id="S4.SS1.p5.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p5.2.m2.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p5.2.m2.1.1.3" xref="S4.SS1.p5.2.m2.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.2.m2.1b">
        <apply id="S4.SS1.p5.2.m2.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1">
         <times id="S4.SS1.p5.2.m2.1.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1.1">
         </times>
         <cn id="S4.SS1.p5.2.m2.1.1.2.cmml" type="integer" xref="S4.SS1.p5.2.m2.1.1.2">
          16
         </cn>
         <ci id="S4.SS1.p5.2.m2.1.1.3.cmml" xref="S4.SS1.p5.2.m2.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.2.m2.1c">
        16k
       </annotation>
      </semantics>
     </math>
     in length. Specifically, in the
     <span class="ltx_text ltx_font_italic" id="S4.SS1.p5.5.2">
      needle-in-a-haystack PLUS
     </span>
     task,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p5.5.3">
      LongAgent
     </span>
     achieved improvements of
     <math alttext="6.780\%" class="ltx_Math" display="inline" id="S4.SS1.p5.3.m3.1">
      <semantics id="S4.SS1.p5.3.m3.1a">
       <mrow id="S4.SS1.p5.3.m3.1.1" xref="S4.SS1.p5.3.m3.1.1.cmml">
        <mn id="S4.SS1.p5.3.m3.1.1.2" xref="S4.SS1.p5.3.m3.1.1.2.cmml">
         6.780
        </mn>
        <mo id="S4.SS1.p5.3.m3.1.1.1" xref="S4.SS1.p5.3.m3.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.3.m3.1b">
        <apply id="S4.SS1.p5.3.m3.1.1.cmml" xref="S4.SS1.p5.3.m3.1.1">
         <csymbol cd="latexml" id="S4.SS1.p5.3.m3.1.1.1.cmml" xref="S4.SS1.p5.3.m3.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS1.p5.3.m3.1.1.2.cmml" type="float" xref="S4.SS1.p5.3.m3.1.1.2">
          6.780
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.3.m3.1c">
        6.780\%
       </annotation>
      </semantics>
     </math>
     and
     <math alttext="1.5\%" class="ltx_Math" display="inline" id="S4.SS1.p5.4.m4.1">
      <semantics id="S4.SS1.p5.4.m4.1a">
       <mrow id="S4.SS1.p5.4.m4.1.1" xref="S4.SS1.p5.4.m4.1.1.cmml">
        <mn id="S4.SS1.p5.4.m4.1.1.2" xref="S4.SS1.p5.4.m4.1.1.2.cmml">
         1.5
        </mn>
        <mo id="S4.SS1.p5.4.m4.1.1.1" xref="S4.SS1.p5.4.m4.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.4.m4.1b">
        <apply id="S4.SS1.p5.4.m4.1.1.cmml" xref="S4.SS1.p5.4.m4.1.1">
         <csymbol cd="latexml" id="S4.SS1.p5.4.m4.1.1.1.cmml" xref="S4.SS1.p5.4.m4.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS1.p5.4.m4.1.1.2.cmml" type="float" xref="S4.SS1.p5.4.m4.1.1.2">
          1.5
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.4.m4.1c">
        1.5\%
       </annotation>
      </semantics>
     </math>
     over GPT-4 in single-doc and multi-doc settings, respectively. For the four synthetic tasks in Table
     <a class="ltx_ref" href="#S4.T1" title="Table 1 ‚Ä£ 4.1 Overall Performance ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     ,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p5.5.4">
      LongAgent
     </span>
     also achieved perfect scores in two retrieval tasks with
     <math alttext="100k" class="ltx_Math" display="inline" id="S4.SS1.p5.5.m5.1">
      <semantics id="S4.SS1.p5.5.m5.1a">
       <mrow id="S4.SS1.p5.5.m5.1.1" xref="S4.SS1.p5.5.m5.1.1.cmml">
        <mn id="S4.SS1.p5.5.m5.1.1.2" xref="S4.SS1.p5.5.m5.1.1.2.cmml">
         100
        </mn>
        <mo id="S4.SS1.p5.5.m5.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p5.5.m5.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p5.5.m5.1.1.3" xref="S4.SS1.p5.5.m5.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.5.m5.1b">
        <apply id="S4.SS1.p5.5.m5.1.1.cmml" xref="S4.SS1.p5.5.m5.1.1">
         <times id="S4.SS1.p5.5.m5.1.1.1.cmml" xref="S4.SS1.p5.5.m5.1.1.1">
         </times>
         <cn id="S4.SS1.p5.5.m5.1.1.2.cmml" type="integer" xref="S4.SS1.p5.5.m5.1.1.2">
          100
         </cn>
         <ci id="S4.SS1.p5.5.m5.1.1.3.cmml" xref="S4.SS1.p5.5.m5.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.5.m5.1c">
        100k
       </annotation>
      </semantics>
     </math>
     length documents. For KV retrieval and numerical comparison tasks, it also outperformed the majority of baselines.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS1.p6">
    <p class="ltx_p" id="S4.SS1.p6.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p6.1.1">
      Although we only tested inputs ranging from 1k to 128k,
      <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p6.1.1.1">
       LongAgent
      </span>
      demonstrates potential in handling inputs exceeding 128k in length.
     </span>
    </p>
   </div>
   <div class="ltx_para" id="S4.SS1.p7">
    <p class="ltx_p" id="S4.SS1.p7.1">
     In Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‚Ä£ 3.1 Evaluation Protocol ‚Ä£ 3 Experimental Setup ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     and
     <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     , we observed the
     <span class="ltx_text ltx_font_italic" id="S4.SS1.p7.1.1">
      lost in the middle
     </span>
     phenomenon with Claude 2.1. Specifically, as the input length increases, Claude2.1‚Äôs average accuracy gradually decreases. However, in the first and last rows of the Claude subfigure in Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‚Ä£ 3.1 Evaluation Protocol ‚Ä£ 3 Experimental Setup ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     , and the third row of the Claude subfigure in Figure
     <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     , relatively high accuracy is consistently maintained. This suggests that Claude2.1 can effectively model the beginning and end of long texts but fails to utilize key information in the middle effectively.
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p7.1.2">
      LongAgent
     </span>
     avoids direct processing of long texts through chunking. Regardless of the input length, the chunk size remains constant, thus avoiding the ‚Äôlost in the middle‚Äô phenomenon. Although longer inputs may complicate agent interactions, experimental results show no significant performance decrease for
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p7.1.3">
      LongAgent
     </span>
     . Overall,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p7.1.4">
      LongAgent
     </span>
     has the potential to handle inputs exceeding
     <math alttext="128k" class="ltx_Math" display="inline" id="S4.SS1.p7.1.m1.1">
      <semantics id="S4.SS1.p7.1.m1.1a">
       <mrow id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml">
        <mn id="S4.SS1.p7.1.m1.1.1.2" xref="S4.SS1.p7.1.m1.1.1.2.cmml">
         128
        </mn>
        <mo id="S4.SS1.p7.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S4.SS1.p7.1.m1.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS1.p7.1.m1.1.1.3" xref="S4.SS1.p7.1.m1.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b">
        <apply id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1">
         <times id="S4.SS1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1.1">
         </times>
         <cn id="S4.SS1.p7.1.m1.1.1.2.cmml" type="integer" xref="S4.SS1.p7.1.m1.1.1.2">
          128
         </cn>
         <ci id="S4.SS1.p7.1.m1.1.1.3.cmml" xref="S4.SS1.p7.1.m1.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">
        128k
       </annotation>
      </semantics>
     </math>
     in length.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2
    </span>
    Hallucination Analysis
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.4">
     We found that the errors of LongAgent are mainly due to a type of hallucination problem: when the chunk of a member does not contain information related to the instruction of the Leader, the member sometimes answers based on internal knowledge or fabricates a wrong answer as a response. In this subsection, we explore the impact of two key factors, the recipe of training data and chunk size, on model hallucination. As shown in Figure
     <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‚Ä£ 4.1 Overall Performance ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       5
      </span>
     </a>
     , with the increase of ‚ÄôReject‚Äô type data in the training data, the proportion of the model correctly refusing to answer increased from
     <math alttext="51.0\%" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1">
      <semantics id="S4.SS2.p1.1.m1.1a">
       <mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">
        <mn id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">
         51.0
        </mn>
        <mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b">
        <apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">
         <csymbol cd="latexml" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS2.p1.1.m1.1.1.2.cmml" type="float" xref="S4.SS2.p1.1.m1.1.1.2">
          51.0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">
        51.0\%
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="78.6\%" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1">
      <semantics id="S4.SS2.p1.2.m2.1a">
       <mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">
        <mn id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">
         78.6
        </mn>
        <mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b">
        <apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">
         <csymbol cd="latexml" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS2.p1.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.p1.2.m2.1.1.2">
          78.6
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">
        78.6\%
       </annotation>
      </semantics>
     </math>
     . However, the increase of ‚ÄôReject‚Äô data also slightly impairs the model‚Äôs ability to answer questions. As shown in Figure
     <a class="ltx_ref" href="#A3.F8" title="Figure 8 ‚Ä£ Appendix C Additional Results ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       8
      </span>
     </a>
     , when the ratio of ‚ÄôAnswer:Reject‚Äô increases from 2:1 to 2:3, the accuracy of the model decreases from
     <math alttext="83.3\%" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1">
      <semantics id="S4.SS2.p1.3.m3.1a">
       <mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">
        <mn id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">
         83.3
        </mn>
        <mo id="S4.SS2.p1.3.m3.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b">
        <apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">
         <csymbol cd="latexml" id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS2.p1.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.p1.3.m3.1.1.2">
          83.3
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">
        83.3\%
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="78.3\%" class="ltx_Math" display="inline" id="S4.SS2.p1.4.m4.1">
      <semantics id="S4.SS2.p1.4.m4.1a">
       <mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml">
        <mn id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">
         78.3
        </mn>
        <mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b">
        <apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1">
         <csymbol cd="latexml" id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS2.p1.4.m4.1.1.2.cmml" type="float" xref="S4.SS2.p1.4.m4.1.1.2">
          78.3
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">
        78.3\%
       </annotation>
      </semantics>
     </math>
     , and there are also a small number of cases where the document contains the answer but refuses to answer.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS2.p2">
    <p class="ltx_p" id="S4.SS2.p2.5">
     In addition to the data proportion, chunk size is also an important factor affecting model hallucination. As shown in Figure
     <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‚Ä£ 4.1 Overall Performance ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       5
      </span>
     </a>
     , when the chunk size increases from
     <math alttext="500" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1">
      <semantics id="S4.SS2.p2.1.m1.1a">
       <mn id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">
        500
       </mn>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b">
        <cn id="S4.SS2.p2.1.m1.1.1.cmml" type="integer" xref="S4.SS2.p2.1.m1.1.1">
         500
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">
        500
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="2,000" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.2">
      <semantics id="S4.SS2.p2.2.m2.2a">
       <mrow id="S4.SS2.p2.2.m2.2.3.2" xref="S4.SS2.p2.2.m2.2.3.1.cmml">
        <mn id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">
         2
        </mn>
        <mo id="S4.SS2.p2.2.m2.2.3.2.1" xref="S4.SS2.p2.2.m2.2.3.1.cmml">
         ,
        </mo>
        <mn id="S4.SS2.p2.2.m2.2.2" xref="S4.SS2.p2.2.m2.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.2b">
        <list id="S4.SS2.p2.2.m2.2.3.1.cmml" xref="S4.SS2.p2.2.m2.2.3.2">
         <cn id="S4.SS2.p2.2.m2.1.1.cmml" type="integer" xref="S4.SS2.p2.2.m2.1.1">
          2
         </cn>
         <cn id="S4.SS2.p2.2.m2.2.2.cmml" type="integer" xref="S4.SS2.p2.2.m2.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.2c">
        2,000
       </annotation>
      </semantics>
     </math>
     , the hallucination problem is alleviated. This is mainly because the length of our training data is about
     <math alttext="3,000" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.2">
      <semantics id="S4.SS2.p2.3.m3.2a">
       <mrow id="S4.SS2.p2.3.m3.2.3.2" xref="S4.SS2.p2.3.m3.2.3.1.cmml">
        <mn id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">
         3
        </mn>
        <mo id="S4.SS2.p2.3.m3.2.3.2.1" xref="S4.SS2.p2.3.m3.2.3.1.cmml">
         ,
        </mo>
        <mn id="S4.SS2.p2.3.m3.2.2" xref="S4.SS2.p2.3.m3.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.2b">
        <list id="S4.SS2.p2.3.m3.2.3.1.cmml" xref="S4.SS2.p2.3.m3.2.3.2">
         <cn id="S4.SS2.p2.3.m3.1.1.cmml" type="integer" xref="S4.SS2.p2.3.m3.1.1">
          3
         </cn>
         <cn id="S4.SS2.p2.3.m3.2.2.cmml" type="integer" xref="S4.SS2.p2.3.m3.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.2c">
        3,000
       </annotation>
      </semantics>
     </math>
     tokens, and increasing the chunk size reduces the gap with the length of the training data. However, when the chunk size exceeds
     <math alttext="2,000" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.2">
      <semantics id="S4.SS2.p2.4.m4.2a">
       <mrow id="S4.SS2.p2.4.m4.2.3.2" xref="S4.SS2.p2.4.m4.2.3.1.cmml">
        <mn id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">
         2
        </mn>
        <mo id="S4.SS2.p2.4.m4.2.3.2.1" xref="S4.SS2.p2.4.m4.2.3.1.cmml">
         ,
        </mo>
        <mn id="S4.SS2.p2.4.m4.2.2" xref="S4.SS2.p2.4.m4.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.2b">
        <list id="S4.SS2.p2.4.m4.2.3.1.cmml" xref="S4.SS2.p2.4.m4.2.3.2">
         <cn id="S4.SS2.p2.4.m4.1.1.cmml" type="integer" xref="S4.SS2.p2.4.m4.1.1">
          2
         </cn>
         <cn id="S4.SS2.p2.4.m4.2.2.cmml" type="integer" xref="S4.SS2.p2.4.m4.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.2c">
        2,000
       </annotation>
      </semantics>
     </math>
     , further increasing the chunk size significantly exacerbates model hallucination. We speculate that this is because when the sequence length is too long, the model‚Äôs inadequacy in document modeling becomes more prominent. Therefore, we believe that while researching how to construct larger context windows, we should not neglect the modeling of text within a
     <math alttext="4k" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1">
      <semantics id="S4.SS2.p2.5.m5.1a">
       <mrow id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml">
        <mn id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">
         4
        </mn>
        <mo id="S4.SS2.p2.5.m5.1.1.1" lspace="0em" rspace="0em" xref="S4.SS2.p2.5.m5.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b">
        <apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">
         <times id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1.1">
         </times>
         <cn id="S4.SS2.p2.5.m5.1.1.2.cmml" type="integer" xref="S4.SS2.p2.5.m5.1.1.2">
          4
         </cn>
         <ci id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">
        4k
       </annotation>
      </semantics>
     </math>
     window.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.3
    </span>
    Ablation Study
   </h3>
   <figure class="ltx_figure" id="S4.F6">
    <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="256" id="S4.F6.g1" src="/html/2402.11550/assets/x6.png" width="461"/>
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_figure">
      Figure 6:
     </span>
     Improved accuracy through
     <span class="ltx_text ltx_font_italic" id="S4.F6.2.1">
      inter-member communication
     </span>
     mechanism.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS3.p1">
    <p class="ltx_p" id="S4.SS3.p1.3">
     In Section
     <a class="ltx_ref" href="#S2.SS4" title="2.4 Resolving Conflicts ‚Ä£ 2 LongAgent for Long Text Processing ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2.4
      </span>
     </a>
     , we address conflicts between members through
     <span class="ltx_text ltx_font_italic" id="S4.SS3.p1.3.1">
      inter-member communication
     </span>
     . To demonstrate the effectiveness of this mechanism, we calculate the difference in model accuracy before and after introducing this mechanism. As shown in Figure
     <a class="ltx_ref" href="#S4.F6" title="Figure 6 ‚Ä£ 4.3 Ablation Study ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     , the
     <span class="ltx_text ltx_font_italic" id="S4.SS3.p1.3.2">
      inter-member communication
     </span>
     mechanism leads to an average accuracy improvement of
     <math alttext="18.9\%" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1">
      <semantics id="S4.SS3.p1.1.m1.1a">
       <mrow id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">
        <mn id="S4.SS3.p1.1.m1.1.1.2" xref="S4.SS3.p1.1.m1.1.1.2.cmml">
         18.9
        </mn>
        <mo id="S4.SS3.p1.1.m1.1.1.1" xref="S4.SS3.p1.1.m1.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b">
        <apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">
         <csymbol cd="latexml" id="S4.SS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1">
          percent
         </csymbol>
         <cn id="S4.SS3.p1.1.m1.1.1.2.cmml" type="float" xref="S4.SS3.p1.1.m1.1.1.2">
          18.9
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">
        18.9\%
       </annotation>
      </semantics>
     </math>
     across a range of input text lengths from
     <math alttext="1k" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1">
      <semantics id="S4.SS3.p1.2.m2.1a">
       <mrow id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">
        <mn id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">
         1
        </mn>
        <mo id="S4.SS3.p1.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S4.SS3.p1.2.m2.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b">
        <apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">
         <times id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1">
         </times>
         <cn id="S4.SS3.p1.2.m2.1.1.2.cmml" type="integer" xref="S4.SS3.p1.2.m2.1.1.2">
          1
         </cn>
         <ci id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">
        1k
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="128k" class="ltx_Math" display="inline" id="S4.SS3.p1.3.m3.1">
      <semantics id="S4.SS3.p1.3.m3.1a">
       <mrow id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">
        <mn id="S4.SS3.p1.3.m3.1.1.2" xref="S4.SS3.p1.3.m3.1.1.2.cmml">
         128
        </mn>
        <mo id="S4.SS3.p1.3.m3.1.1.1" lspace="0em" rspace="0em" xref="S4.SS3.p1.3.m3.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS3.p1.3.m3.1.1.3" xref="S4.SS3.p1.3.m3.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b">
        <apply id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">
         <times id="S4.SS3.p1.3.m3.1.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1.1">
         </times>
         <cn id="S4.SS3.p1.3.m3.1.1.2.cmml" type="integer" xref="S4.SS3.p1.3.m3.1.1.2">
          128
         </cn>
         <ci id="S4.SS3.p1.3.m3.1.1.3.cmml" xref="S4.SS3.p1.3.m3.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">
        128k
       </annotation>
      </semantics>
     </math>
     . Furthermore, the number of members increases with the length of the text, and the number of members experiencing hallucinations also grows. In this context, the improvement in accuracy brought about by conflict resolution becomes even more evident.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.4
    </span>
    Efficiency Advantage
   </h3>
   <figure class="ltx_figure" id="S4.F7">
    <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="256" id="S4.F7.g1" src="/html/2402.11550/assets/x7.png" width="461"/>
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_figure">
      Figure 7:
     </span>
     <span class="ltx_text ltx_font_smallcaps" id="S4.F7.2.1">
      LongAgent
     </span>
     scheme exhibits significantly superior time and memory efficiency compared to directly perform full attention on long texts.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS4.p1">
    <p class="ltx_p" id="S4.SS4.p1.6">
     Thanks to chunking of long texts,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p1.6.1">
      LongAgent
     </span>
     ‚Äôs time complexity for processing long texts is
     <math alttext="\mathcal{O}(N)" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1">
      <semantics id="S4.SS4.p1.1.m1.1a">
       <mrow id="S4.SS4.p1.1.m1.1.2" xref="S4.SS4.p1.1.m1.1.2.cmml">
        <mi class="ltx_font_mathcaligraphic" id="S4.SS4.p1.1.m1.1.2.2" xref="S4.SS4.p1.1.m1.1.2.2.cmml">
         ùí™
        </mi>
        <mo id="S4.SS4.p1.1.m1.1.2.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.1.m1.1.2.1.cmml">
         ‚Äã
        </mo>
        <mrow id="S4.SS4.p1.1.m1.1.2.3.2" xref="S4.SS4.p1.1.m1.1.2.cmml">
         <mo id="S4.SS4.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS4.p1.1.m1.1.2.cmml">
          (
         </mo>
         <mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">
          N
         </mi>
         <mo id="S4.SS4.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS4.p1.1.m1.1.2.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b">
        <apply id="S4.SS4.p1.1.m1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.2">
         <times id="S4.SS4.p1.1.m1.1.2.1.cmml" xref="S4.SS4.p1.1.m1.1.2.1">
         </times>
         <ci id="S4.SS4.p1.1.m1.1.2.2.cmml" xref="S4.SS4.p1.1.m1.1.2.2">
          ùí™
         </ci>
         <ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">
          ùëÅ
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">
        \mathcal{O}(N)
       </annotation>
      </semantics>
     </math>
     . In this subsection, we empirically verify this point. As shown in Figure
     <a class="ltx_ref" href="#S4.F7" title="Figure 7 ‚Ä£ 4.4 Efficiency Advantage ‚Ä£ 4 Results and Discussion ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       7
      </span>
     </a>
     , the latency of
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p1.6.2">
      LongAgent
     </span>
     within the range of
     <math alttext="1k" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1">
      <semantics id="S4.SS4.p1.2.m2.1a">
       <mrow id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">
        <mn id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml">
         1
        </mn>
        <mo id="S4.SS4.p1.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.2.m2.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b">
        <apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">
         <times id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1">
         </times>
         <cn id="S4.SS4.p1.2.m2.1.1.2.cmml" type="integer" xref="S4.SS4.p1.2.m2.1.1.2">
          1
         </cn>
         <ci id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">
        1k
       </annotation>
      </semantics>
     </math>
     -
     <math alttext="100k" class="ltx_Math" display="inline" id="S4.SS4.p1.3.m3.1">
      <semantics id="S4.SS4.p1.3.m3.1a">
       <mrow id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml">
        <mn id="S4.SS4.p1.3.m3.1.1.2" xref="S4.SS4.p1.3.m3.1.1.2.cmml">
         100
        </mn>
        <mo id="S4.SS4.p1.3.m3.1.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.3.m3.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS4.p1.3.m3.1.1.3" xref="S4.SS4.p1.3.m3.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b">
        <apply id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">
         <times id="S4.SS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1.1">
         </times>
         <cn id="S4.SS4.p1.3.m3.1.1.2.cmml" type="integer" xref="S4.SS4.p1.3.m3.1.1.2">
          100
         </cn>
         <ci id="S4.SS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.p1.3.m3.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">
        100k
       </annotation>
      </semantics>
     </math>
     almost grows linearly with length. For Full Attention, which has quadratic complexity, the inference latency increases rapidly regardless of the use of techniques such as flash attention. The latency of Full Attention when processing 10k tokens has already exceeded that of
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p1.6.3">
      LongAgent
     </span>
     processing
     <math alttext="50k" class="ltx_Math" display="inline" id="S4.SS4.p1.4.m4.1">
      <semantics id="S4.SS4.p1.4.m4.1a">
       <mrow id="S4.SS4.p1.4.m4.1.1" xref="S4.SS4.p1.4.m4.1.1.cmml">
        <mn id="S4.SS4.p1.4.m4.1.1.2" xref="S4.SS4.p1.4.m4.1.1.2.cmml">
         50
        </mn>
        <mo id="S4.SS4.p1.4.m4.1.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.4.m4.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS4.p1.4.m4.1.1.3" xref="S4.SS4.p1.4.m4.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.4.m4.1b">
        <apply id="S4.SS4.p1.4.m4.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1">
         <times id="S4.SS4.p1.4.m4.1.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1.1">
         </times>
         <cn id="S4.SS4.p1.4.m4.1.1.2.cmml" type="integer" xref="S4.SS4.p1.4.m4.1.1.2">
          50
         </cn>
         <ci id="S4.SS4.p1.4.m4.1.1.3.cmml" xref="S4.SS4.p1.4.m4.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.4.m4.1c">
        50k
       </annotation>
      </semantics>
     </math>
     tokens. Furthermore, without specific memory optimization techniques, a single A100 GPU with 80G memory can only support text inference up to 11k in length, and even with flash attention, this number can only be increased to
     <math alttext="15k" class="ltx_Math" display="inline" id="S4.SS4.p1.5.m5.1">
      <semantics id="S4.SS4.p1.5.m5.1a">
       <mrow id="S4.SS4.p1.5.m5.1.1" xref="S4.SS4.p1.5.m5.1.1.cmml">
        <mn id="S4.SS4.p1.5.m5.1.1.2" xref="S4.SS4.p1.5.m5.1.1.2.cmml">
         15
        </mn>
        <mo id="S4.SS4.p1.5.m5.1.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.5.m5.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS4.p1.5.m5.1.1.3" xref="S4.SS4.p1.5.m5.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.5.m5.1b">
        <apply id="S4.SS4.p1.5.m5.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1">
         <times id="S4.SS4.p1.5.m5.1.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1.1">
         </times>
         <cn id="S4.SS4.p1.5.m5.1.1.2.cmml" type="integer" xref="S4.SS4.p1.5.m5.1.1.2">
          15
         </cn>
         <ci id="S4.SS4.p1.5.m5.1.1.3.cmml" xref="S4.SS4.p1.5.m5.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.5.m5.1c">
        15k
       </annotation>
      </semantics>
     </math>
     . Under the same settings,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p1.6.4">
      LongAgent
     </span>
     can process contexts of around
     <math alttext="100k" class="ltx_Math" display="inline" id="S4.SS4.p1.6.m6.1">
      <semantics id="S4.SS4.p1.6.m6.1a">
       <mrow id="S4.SS4.p1.6.m6.1.1" xref="S4.SS4.p1.6.m6.1.1.cmml">
        <mn id="S4.SS4.p1.6.m6.1.1.2" xref="S4.SS4.p1.6.m6.1.1.2.cmml">
         100
        </mn>
        <mo id="S4.SS4.p1.6.m6.1.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.6.m6.1.1.1.cmml">
         ‚Äã
        </mo>
        <mi id="S4.SS4.p1.6.m6.1.1.3" xref="S4.SS4.p1.6.m6.1.1.3.cmml">
         k
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS4.p1.6.m6.1b">
        <apply id="S4.SS4.p1.6.m6.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1">
         <times id="S4.SS4.p1.6.m6.1.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1">
         </times>
         <cn id="S4.SS4.p1.6.m6.1.1.2.cmml" type="integer" xref="S4.SS4.p1.6.m6.1.1.2">
          100
         </cn>
         <ci id="S4.SS4.p1.6.m6.1.1.3.cmml" xref="S4.SS4.p1.6.m6.1.1.3">
          ùëò
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS4.p1.6.m6.1c">
        100k
       </annotation>
      </semantics>
     </math>
     with less than 40G of memory.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5
   </span>
   Related Works
  </h2>
  <section class="ltx_subsection" id="S5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.1
    </span>
    Long-text Modeling
   </h3>
   <div class="ltx_para" id="S5.SS1.p1">
    <p class="ltx_p" id="S5.SS1.p1.1">
     Several methods have been proposed to extend the positional encoding (PE) for handling longer sequences. Initially, approaches like RoPE and PI
     <cite class="ltx_cite ltx_citemacro_cite">
      Chen et¬†al. (
      <a class="ltx_ref" href="#bib.bib9" title="">
       2023c
      </a>
      )
     </cite>
     attempted to interpolate position indices within pre-trained limits, but neglected frequency variations. Recent advancements include "NTK-aware"
     <cite class="ltx_cite ltx_citemacro_cite">
      Bloc97 (
      <a class="ltx_ref" href="#bib.bib3" title="">
       2023a
      </a>
      )
     </cite>
     interpolation and "Dynamic NTK"
     <cite class="ltx_cite ltx_citemacro_cite">
      Bloc97 (
      <a class="ltx_ref" href="#bib.bib4" title="">
       2023b
      </a>
      )
     </cite>
     interpolation, which address high-frequency component losses. Additionally, "NTK-by-parts"
     <cite class="ltx_cite ltx_citemacro_cite">
      Bloc97 (
      <a class="ltx_ref" href="#bib.bib5" title="">
       2023c
      </a>
      )
     </cite>
     interpolation outperforms others when fine-tuned on longer-context data. Another popular approach for managing longer sequences involves constraining global causal attention to local attention. ReRoPE
     <cite class="ltx_cite ltx_citemacro_cite">
      Su (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2023
      </a>
      )
     </cite>
     truncates context lengths during pretraining and LM-Infinite
     <cite class="ltx_cite ltx_citemacro_cite">
      Han et¬†al. (
      <a class="ltx_ref" href="#bib.bib12" title="">
       2023
      </a>
      )
     </cite>
     restricts attention to a chevron-shaped window.
     <cite class="ltx_cite ltx_citemacro_citet">
      Mohtashami and Jaggi (
      <a class="ltx_ref" href="#bib.bib17" title="">
       2023
      </a>
      )
     </cite>
     insert landmark tokens after text fragments, while
     <cite class="ltx_cite ltx_citemacro_citet">
      Zhang et¬†al. (
      <a class="ltx_ref" href="#bib.bib31" title="">
       2024
      </a>
      )
     </cite>
     propose beacon tokens for summarizing fragments. In contrast, our method effectively circumvents the risk of losing valuable contextual information while utilizing only a small amount (hundreds of agent interaction tracks) for fine-tuning, thereby reducing training costs.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.2
    </span>
    LLM-Based Multi-Agent Systems
   </h3>
   <div class="ltx_para" id="S5.SS2.p1">
    <p class="ltx_p" id="S5.SS2.p1.1">
     In recent years, LLM-based multi-agent systems have garnered widespread attention in academia. Numerous efforts have been dedicated to leveraging cooperation among individuals to enhance the efficiency and accomplish more complex reasoning tasks
     <cite class="ltx_cite ltx_citemacro_cite">
      Du et¬†al. (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      ); Wang et¬†al. (
      <a class="ltx_ref" href="#bib.bib28" title="">
       2024
      </a>
      ); Akata et¬†al. (
      <a class="ltx_ref" href="#bib.bib1" title="">
       2023
      </a>
      ); Hao et¬†al. (
      <a class="ltx_ref" href="#bib.bib13" title="">
       2023
      </a>
      )
     </cite>
     . To enable agents to effectively address a variety of dynamic tasks in the real world, researchers have also integrated external tools into the agents‚Äô decision-making processes
     <cite class="ltx_cite ltx_citemacro_cite">
      Cai et¬†al. (
      <a class="ltx_ref" href="#bib.bib6" title="">
       2023
      </a>
      ); Gao et¬†al. (
      <a class="ltx_ref" href="#bib.bib11" title="">
       2023
      </a>
      ); Paranjape et¬†al. (
      <a class="ltx_ref" href="#bib.bib19" title="">
       2023
      </a>
      )
     </cite>
     , enabling them to perform accurate computations and retrieve the latest information from databases or search engines. In these approaches, the most relevant ones to ours are PEARL
     <cite class="ltx_cite ltx_citemacro_cite">
      Sun et¬†al. (
      <a class="ltx_ref" href="#bib.bib25" title="">
       2023
      </a>
      )
     </cite>
     and MemWalker
     <cite class="ltx_cite ltx_citemacro_cite">
      Chen et¬†al. (
      <a class="ltx_ref" href="#bib.bib8" title="">
       2023b
      </a>
      )
     </cite>
     . PEARL enhances the model‚Äôs focus on relevant content within long texts by calling self-generated pseudo APIs. However, it can only handle long texts within the agent‚Äôs context window and is ineffective for longer texts. Although MemWalker enables agents to process longer texts through a tree-based summarization approach, crucial information may be lost after multiple summarizations, causing the agent to get lost in irrelevant contexts.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S6">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    6
   </span>
   Conclusions
  </h2>
  <div class="ltx_para" id="S6.p1">
   <p class="ltx_p" id="S6.p1.2">
    This paper proposes
    <span class="ltx_text ltx_font_smallcaps" id="S6.p1.2.1">
     LongAgent
    </span>
    , a novel long-text processing approach based on multi-agent collaboration.
    <span class="ltx_text ltx_font_smallcaps" id="S6.p1.2.2">
     LongAgent
    </span>
    scaling LLMs with
    <math alttext="4k" class="ltx_Math" display="inline" id="S6.p1.1.m1.1">
     <semantics id="S6.p1.1.m1.1a">
      <mrow id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml">
       <mn id="S6.p1.1.m1.1.1.2" xref="S6.p1.1.m1.1.1.2.cmml">
        4
       </mn>
       <mo id="S6.p1.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S6.p1.1.m1.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S6.p1.1.m1.1.1.3" xref="S6.p1.1.m1.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b">
       <apply id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1">
        <times id="S6.p1.1.m1.1.1.1.cmml" xref="S6.p1.1.m1.1.1.1">
        </times>
        <cn id="S6.p1.1.m1.1.1.2.cmml" type="integer" xref="S6.p1.1.m1.1.1.2">
         4
        </cn>
        <ci id="S6.p1.1.m1.1.1.3.cmml" xref="S6.p1.1.m1.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">
       4k
      </annotation>
     </semantics>
    </math>
    context size to effectively hadle long texts exceeding
    <math alttext="100k" class="ltx_Math" display="inline" id="S6.p1.2.m2.1">
     <semantics id="S6.p1.2.m2.1a">
      <mrow id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml">
       <mn id="S6.p1.2.m2.1.1.2" xref="S6.p1.2.m2.1.1.2.cmml">
        100
       </mn>
       <mo id="S6.p1.2.m2.1.1.1" lspace="0em" rspace="0em" xref="S6.p1.2.m2.1.1.1.cmml">
        ‚Äã
       </mo>
       <mi id="S6.p1.2.m2.1.1.3" xref="S6.p1.2.m2.1.1.3.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S6.p1.2.m2.1b">
       <apply id="S6.p1.2.m2.1.1.cmml" xref="S6.p1.2.m2.1.1">
        <times id="S6.p1.2.m2.1.1.1.cmml" xref="S6.p1.2.m2.1.1.1">
        </times>
        <cn id="S6.p1.2.m2.1.1.2.cmml" type="integer" xref="S6.p1.2.m2.1.1.2">
         100
        </cn>
        <ci id="S6.p1.2.m2.1.1.3.cmml" xref="S6.p1.2.m2.1.1.3">
         ùëò
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S6.p1.2.m2.1c">
       100k
      </annotation>
     </semantics>
    </math>
    tokens. The proposed
    <span class="ltx_text ltx_font_italic" id="S6.p1.2.3">
     inter-member communication
    </span>
    mechanism alleviates the member hallucination when they reading documents, thus facilitating effective management by the leader of dozens to hundreds of members. We have also developed
    <span class="ltx_text ltx_font_italic" id="S6.p1.2.4">
     Needle-in-a-Haystack Plus
    </span>
    to facilitate a comprehensive assessment of the LLM‚Äôs capability with long texts. Our experimental results indicate that
    <span class="ltx_text ltx_font_smallcaps" id="S6.p1.2.5">
     LongAgent
    </span>
    offers a promising alternative for long-text processing.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="Sx1">
  <h2 class="ltx_title ltx_title_section">
   Limitations
  </h2>
  <div class="ltx_para" id="Sx1.p1">
   <p class="ltx_p" id="Sx1.p1.2">
    <span class="ltx_text ltx_font_smallcaps" id="Sx1.p1.2.1">
     LongAgent
    </span>
    still has some drawbacks. Unlike general SFT data that only provides a prompt and a final response,
    <span class="ltx_text ltx_font_smallcaps" id="Sx1.p1.2.2">
     LongAgent
    </span>
    ‚Äôs training data consists of interaction trajectories of multiple agents. Therefore, the construction cost of a single data point is higher, especially for tasks with more complex interaction trajectories. In addition, as the core of the agent squad, the Leader needs to make reasonable decompositions of the original complex problem and recruit members to solve it, which places higher demands on the Leader‚Äôs reasoning and generalization abilities. For example, in the ‚Äôneedle in a haystack‚Äô experiment,
    <span class="ltx_text ltx_font_smallcaps" id="Sx1.p1.2.3">
     LongAgent
    </span>
    improved by
    <math alttext="19.53\%" class="ltx_Math" display="inline" id="Sx1.p1.1.m1.1">
     <semantics id="Sx1.p1.1.m1.1a">
      <mrow id="Sx1.p1.1.m1.1.1" xref="Sx1.p1.1.m1.1.1.cmml">
       <mn id="Sx1.p1.1.m1.1.1.2" xref="Sx1.p1.1.m1.1.1.2.cmml">
        19.53
       </mn>
       <mo id="Sx1.p1.1.m1.1.1.1" xref="Sx1.p1.1.m1.1.1.1.cmml">
        %
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="Sx1.p1.1.m1.1b">
       <apply id="Sx1.p1.1.m1.1.1.cmml" xref="Sx1.p1.1.m1.1.1">
        <csymbol cd="latexml" id="Sx1.p1.1.m1.1.1.1.cmml" xref="Sx1.p1.1.m1.1.1.1">
         percent
        </csymbol>
        <cn id="Sx1.p1.1.m1.1.1.2.cmml" type="float" xref="Sx1.p1.1.m1.1.1.2">
         19.53
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="Sx1.p1.1.m1.1c">
       19.53\%
      </annotation>
     </semantics>
    </math>
    in a single-document setting compared to GPT-4, but this number dropped to
    <math alttext="4.96\%" class="ltx_Math" display="inline" id="Sx1.p1.2.m2.1">
     <semantics id="Sx1.p1.2.m2.1a">
      <mrow id="Sx1.p1.2.m2.1.1" xref="Sx1.p1.2.m2.1.1.cmml">
       <mn id="Sx1.p1.2.m2.1.1.2" xref="Sx1.p1.2.m2.1.1.2.cmml">
        4.96
       </mn>
       <mo id="Sx1.p1.2.m2.1.1.1" xref="Sx1.p1.2.m2.1.1.1.cmml">
        %
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="Sx1.p1.2.m2.1b">
       <apply id="Sx1.p1.2.m2.1.1.cmml" xref="Sx1.p1.2.m2.1.1">
        <csymbol cd="latexml" id="Sx1.p1.2.m2.1.1.1.cmml" xref="Sx1.p1.2.m2.1.1.1">
         percent
        </csymbol>
        <cn id="Sx1.p1.2.m2.1.1.2.cmml" type="float" xref="Sx1.p1.2.m2.1.1.2">
         4.96
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="Sx1.p1.2.m2.1c">
       4.96\%
      </annotation>
     </semantics>
    </math>
    when switching to a more complex multi-document setting. The main reason is that the reasoning ability of the LLaMA2-7B model is not sufficient to accurately decompose some complex problems.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Akata et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Elif Akata, Lion Schulz, Julian Coda-Forno, Seong¬†Joon Oh, Matthias Bethge, and Eric Schulz. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.16867" target="_blank" title="">
      Playing repeated games with large language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Anthropic (2023)
    </span>
    <span class="ltx_bibblock">
     Anthropic. 2023.
    </span>
    <span class="ltx_bibblock">
     Model card and evaluations for claude models.
    </span>
    <span class="ltx_bibblock">
     Website.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.anthropic.com/product." target="_blank" title="">
      https://www.anthropic.com/product.
     </a>
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Bloc97 (2023a)
    </span>
    <span class="ltx_bibblock">
     2023a Bloc97. 2023a.
    </span>
    <span class="ltx_bibblock">
     Ntk-aware scaled rope allows llama models to have extended (8k+) context size without any fine-tuning and minimal perplexity degradation.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.reddit.com/r/LocalLLaMA/comments/14lz7j5/ntkaware_scaled_rope_allows_llama_models_to_have/" target="_blank" title="">
      https://www.reddit.com/r/LocalLLaMA/comments/14lz7j5/ntkaware_scaled_rope_allows_llama_models_to_have/
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Bloc97 (2023b)
    </span>
    <span class="ltx_bibblock">
     2023b Bloc97. 2023b.
    </span>
    <span class="ltx_bibblock">
     Dynamically scaled rope further increases performance of long context llama with zero fine-tuning.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://https://www.reddit.com/r/LocalLLaMA/comments/14mrgpr/dynamically_scaled_rope_further_increases//" target="_blank" title="">
      https://https://www.reddit.com/r/LocalLLaMA/comments/14mrgpr/dynamically_scaled_rope_further_increases//
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Bloc97 (2023c)
    </span>
    <span class="ltx_bibblock">
     2023c Bloc97. 2023c.
    </span>
    <span class="ltx_bibblock">
     Ntk-aware interpolation "by parts" correction, 2023.
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/jquesnelle/scaled-rope/pull/1" target="_blank" title="">
      https://github.com/jquesnelle/scaled-rope/pull/1
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Cai et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Tianle Cai, Xuezhi Wang, Tengyu Ma, Xinyun Chen, and Denny Zhou. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.17126" target="_blank" title="">
      Large language models as tool makers
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et¬†al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Guanzheng Chen, Xin Li, Zaiqiao Meng, Shangsong Liang, and Lidong Bing. 2023a.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2310.16450" target="_blank" title="">
      Clex: Continuous length extrapolation for large language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et¬†al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Howard Chen, Ramakanth Pasunuru, Jason Weston, and Asli Celikyilmaz. 2023b.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2310.05029" target="_blank" title="">
      Walking down the memory maze: Beyond context limit through interactive reading
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et¬†al. (2023c)
    </span>
    <span class="ltx_bibblock">
     Shouyuan Chen, Sherman Wong, Liangjian Chen, and Yuandong Tian. 2023c.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2306.15595" target="_blank" title="">
      Extending context window of large language models via positional interpolation
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Du et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yilun Du, Shuang Li, Antonio Torralba, Joshua¬†B. Tenenbaum, and Igor Mordatch. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.14325" target="_blank" title="">
      Improving factuality and reasoning in language models through multiagent debate
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gao et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Difei Gao, Lei Ji, Luowei Zhou, Kevin¬†Qinghong Lin, Joya Chen, Zihan Fan, and Mike¬†Zheng Shou. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2306.08640" target="_blank" title="">
      Assistgpt: A general multi-modal assistant that can plan, execute, inspect, and learn
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Han et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Chi Han, Qifan Wang, Wenhan Xiong, Yu¬†Chen, Heng Ji, and Sinong Wang. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2308.16137" target="_blank" title="">
      Lm-infinite: Simple on-the-fly length generalization for large language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hao et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Rui Hao, Linmei Hu, Weijian Qi, Qingliu Wu, Yirui Zhang, and Liqiang Nie. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2304.12998" target="_blank" title="">
      Chatllm network: More brains, more intelligence
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Jin et¬†al. (2024)
    </span>
    <span class="ltx_bibblock">
     Hongye Jin, Xiaotian Han, Jingfeng Yang, Zhimeng Jiang, Zirui Liu, Chia-Yuan Chang, Huiyuan Chen, and Xia Hu. 2024.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2401.01325" target="_blank" title="">
      Llm maybe longlm: Self-extend llm context window without tuning
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Kamradt (2023)
    </span>
    <span class="ltx_bibblock">
     Greg Kamradt. 2023.
    </span>
    <span class="ltx_bibblock">
     Needle in a haystack - pressure testing llms.
    </span>
    <span class="ltx_bibblock">
     Website.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/gkamradt/LLMTest_NeedleInAHaystack" target="_blank" title="">
      https://github.com/gkamradt/LLMTest_NeedleInAHaystack
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Nelson¬†F. Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2307.03172" target="_blank" title="">
      Lost in the middle: How language models use long contexts
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Mohtashami and Jaggi (2023)
    </span>
    <span class="ltx_bibblock">
     Amirkeivan Mohtashami and Martin Jaggi. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.16300" target="_blank" title="">
      Landmark attention: Random-access infinite context length for transformers
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     OpenAI (2023)
    </span>
    <span class="ltx_bibblock">
     OpenAI. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2303.08774" target="_blank" title="">
      Gpt-4 technical report
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Paranjape et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Bhargavi Paranjape, Scott Lundberg, Sameer Singh, Hannaneh Hajishirzi, Luke Zettlemoyer, and Marco¬†Tulio Ribeiro. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2303.09014" target="_blank" title="">
      Art: Automatic multi-step reasoning and tool-use for large language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Peng et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Bowen Peng, Jeffrey Quesnelle, Honglu Fan, and Enrico Shippole. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2309.00071" target="_blank" title="">
      Yarn: Efficient context window extension of large language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Press et¬†al. (2022)
    </span>
    <span class="ltx_bibblock">
     Ofir Press, Noah¬†A. Smith, and Mike Lewis. 2022.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2108.12409" target="_blank" title="">
      Train short, test long: Attention with linear biases enables input length extrapolation
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Rajpurkar et¬†al. (2016)
    </span>
    <span class="ltx_bibblock">
     Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and Percy Liang. 2016.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/D16-1264" target="_blank" title="">
      SQuAD: 100,000+ questions for machine comprehension of text
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      Proceedings of the 2016 Conference on Empirical Methods in Natural Language Processing
     </em>
     , pages 2383‚Äì2392, Austin, Texas. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Shinn et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Noah Shinn, Federico Cassano, Edward Berman, Ashwin Gopinath, Karthik Narasimhan, and Shunyu Yao. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2303.11366" target="_blank" title="">
      Reflexion: Language agents with verbal reinforcement learning
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Su (2023)
    </span>
    <span class="ltx_bibblock">
     Jianlin Su. 2023.
    </span>
    <span class="ltx_bibblock">
     Rectified rotary position embeddings.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/bojone/rerope" target="_blank" title="">
      https://github.com/bojone/rerope
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Sun et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Simeng Sun, Yang Liu, Shuohang Wang, Chenguang Zhu, and Mohit Iyyer. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.14564" target="_blank" title="">
      Pearl: Prompting large language models to plan and execute actions over long documents
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Touvron et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Hugo Touvron, Thibaut Lavril, Gautier Izacard, and Xavier Martinet. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2302.13971" target="_blank" title="">
      Llama: Open and efficient foundation language models
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Tworkowski et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Szymon Tworkowski, Konrad Staniszewski, Miko≈Çaj Pacek, Yuhuai Wu, Henryk Michalewski, and Piotr Mi≈Ço≈õ. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2307.03170" target="_blank" title="">
      Focused transformer: Contrastive training for context scaling
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et¬†al. (2024)
    </span>
    <span class="ltx_bibblock">
     Zhenhailong Wang, Shaoguang Mao, Wenshan Wu, Tao Ge, Furu Wei, and Heng Ji. 2024.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2307.05300" target="_blank" title="">
      Unleashing the emergent cognitive synergy in large language models: A task-solving agent through multi-persona self-collaboration
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xiao et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Guangxuan Xiao, Yuandong Tian, Beidi Chen, Song Han, and Mike Lewis. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2309.17453" target="_blank" title="">
      Efficient streaming language models with attention sinks
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yang et¬†al. (2018)
    </span>
    <span class="ltx_bibblock">
     Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William¬†W. Cohen, Ruslan Salakhutdinov, and Christopher¬†D. Manning. 2018.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1809.09600" target="_blank" title="">
      Hotpotqa: A dataset for diverse, explainable multi-hop question answering
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et¬†al. (2024)
    </span>
    <span class="ltx_bibblock">
     Peitian Zhang, Zheng Liu, Shitao Xiao, Ninglu Shao, Qiwei Ye, and Zhicheng Dou. 2024.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2401.03462" target="_blank" title="">
      Soaring from 4k to 400k: Extending llm‚Äôs context with activation beacon
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Xinrong Zhang, Yingfa Chen, Shengding Hu, Qihao Wu, Junhao Chen, Zihang Xu, Zhenning Dai, Xu¬†Han, Shuo Wang, Zhiyuan Liu, and Maosong Sun. 2023.
    </span>
    <span class="ltx_bibblock">
     Infinitebench: 128k long-context benchmark for language models.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhou et¬†al. (2023)
    </span>
    <span class="ltx_bibblock">
     Wangchunshu Zhou, Yuchen¬†Eleanor Jiang, Peng Cui, Tiannan Wang, Zhenxin Xiao, Yifan Hou, Ryan Cotterell, and Mrinmaya Sachan. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2305.13304" target="_blank" title="">
      Recurrentgpt: Interactive generation of (arbitrarily) long text
     </a>
     .
    </span>
   </li>
  </ul>
 </section>
 <section class="ltx_appendix" id="A1">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix A
   </span>
   Collecting Needle-in-a-Haystack PLUS Testing Data
  </h2>
  <div class="ltx_para" id="A1.p1">
   <p class="ltx_p" id="A1.p1.1">
    The test data consists of two parts: single-document QA and multi-document QA. Below, we will elaborate on the construction process of each.
   </p>
  </div>
  <section class="ltx_subsection" id="A1.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.1
    </span>
    Single-document QA
   </h3>
   <div class="ltx_para" id="A1.SS1.p1">
    <p class="ltx_p" id="A1.SS1.p1.11">
     For single-document QA, the test data is constructed based on SQuAD
     <cite class="ltx_cite ltx_citemacro_cite">
      Rajpurkar et¬†al. (
      <a class="ltx_ref" href="#bib.bib22" title="">
       2016
      </a>
      )
     </cite>
     . SQuAD is a large-scale machine reading comprehension dataset containing one hundred thousand questions, selected from over 500 Wikipedia documents. Each question in the dataset has its answer as a text segment extracted from the given document. We randomly select
     <math alttext="100" class="ltx_Math" display="inline" id="A1.SS1.p1.1.m1.1">
      <semantics id="A1.SS1.p1.1.m1.1a">
       <mn id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml">
        100
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b">
        <cn id="A1.SS1.p1.1.m1.1.1.cmml" type="integer" xref="A1.SS1.p1.1.m1.1.1">
         100
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">
        100
       </annotation>
      </semantics>
     </math>
     samples from the training set of SQuAD and replace the key entities in them. These
     <math alttext="100" class="ltx_Math" display="inline" id="A1.SS1.p1.2.m2.1">
      <semantics id="A1.SS1.p1.2.m2.1a">
       <mn id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml">
        100
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b">
        <cn id="A1.SS1.p1.2.m2.1.1.cmml" type="integer" xref="A1.SS1.p1.2.m2.1.1">
         100
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">
        100
       </annotation>
      </semantics>
     </math>
     samples‚Äô documents are used as
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.1">
      needles
     </span>
     , while documents from other samples in the training set are randomly selected as
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.2">
      haystacks
     </span>
     , which provide distractor information. The length of
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.3">
      haystack
     </span>
     ranges from
     <math alttext="1,000" class="ltx_Math" display="inline" id="A1.SS1.p1.3.m3.2">
      <semantics id="A1.SS1.p1.3.m3.2a">
       <mrow id="A1.SS1.p1.3.m3.2.3.2" xref="A1.SS1.p1.3.m3.2.3.1.cmml">
        <mn id="A1.SS1.p1.3.m3.1.1" xref="A1.SS1.p1.3.m3.1.1.cmml">
         1
        </mn>
        <mo id="A1.SS1.p1.3.m3.2.3.2.1" xref="A1.SS1.p1.3.m3.2.3.1.cmml">
         ,
        </mo>
        <mn id="A1.SS1.p1.3.m3.2.2" xref="A1.SS1.p1.3.m3.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.2b">
        <list id="A1.SS1.p1.3.m3.2.3.1.cmml" xref="A1.SS1.p1.3.m3.2.3.2">
         <cn id="A1.SS1.p1.3.m3.1.1.cmml" type="integer" xref="A1.SS1.p1.3.m3.1.1">
          1
         </cn>
         <cn id="A1.SS1.p1.3.m3.2.2.cmml" type="integer" xref="A1.SS1.p1.3.m3.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.2c">
        1,000
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="128,000" class="ltx_Math" display="inline" id="A1.SS1.p1.4.m4.2">
      <semantics id="A1.SS1.p1.4.m4.2a">
       <mrow id="A1.SS1.p1.4.m4.2.3.2" xref="A1.SS1.p1.4.m4.2.3.1.cmml">
        <mn id="A1.SS1.p1.4.m4.1.1" xref="A1.SS1.p1.4.m4.1.1.cmml">
         128
        </mn>
        <mo id="A1.SS1.p1.4.m4.2.3.2.1" xref="A1.SS1.p1.4.m4.2.3.1.cmml">
         ,
        </mo>
        <mn id="A1.SS1.p1.4.m4.2.2" xref="A1.SS1.p1.4.m4.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.2b">
        <list id="A1.SS1.p1.4.m4.2.3.1.cmml" xref="A1.SS1.p1.4.m4.2.3.2">
         <cn id="A1.SS1.p1.4.m4.1.1.cmml" type="integer" xref="A1.SS1.p1.4.m4.1.1">
          128
         </cn>
         <cn id="A1.SS1.p1.4.m4.2.2.cmml" type="integer" xref="A1.SS1.p1.4.m4.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.2c">
        128,000
       </annotation>
      </semantics>
     </math>
     tokens with equal intervals, totaling 15 different lengths. The depth of the needle ranges from
     <math alttext="0\%" class="ltx_Math" display="inline" id="A1.SS1.p1.5.m5.1">
      <semantics id="A1.SS1.p1.5.m5.1a">
       <mrow id="A1.SS1.p1.5.m5.1.1" xref="A1.SS1.p1.5.m5.1.1.cmml">
        <mn id="A1.SS1.p1.5.m5.1.1.2" xref="A1.SS1.p1.5.m5.1.1.2.cmml">
         0
        </mn>
        <mo id="A1.SS1.p1.5.m5.1.1.1" xref="A1.SS1.p1.5.m5.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.5.m5.1b">
        <apply id="A1.SS1.p1.5.m5.1.1.cmml" xref="A1.SS1.p1.5.m5.1.1">
         <csymbol cd="latexml" id="A1.SS1.p1.5.m5.1.1.1.cmml" xref="A1.SS1.p1.5.m5.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS1.p1.5.m5.1.1.2.cmml" type="integer" xref="A1.SS1.p1.5.m5.1.1.2">
          0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.5.m5.1c">
        0\%
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="100\%" class="ltx_Math" display="inline" id="A1.SS1.p1.6.m6.1">
      <semantics id="A1.SS1.p1.6.m6.1a">
       <mrow id="A1.SS1.p1.6.m6.1.1" xref="A1.SS1.p1.6.m6.1.1.cmml">
        <mn id="A1.SS1.p1.6.m6.1.1.2" xref="A1.SS1.p1.6.m6.1.1.2.cmml">
         100
        </mn>
        <mo id="A1.SS1.p1.6.m6.1.1.1" xref="A1.SS1.p1.6.m6.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.6.m6.1b">
        <apply id="A1.SS1.p1.6.m6.1.1.cmml" xref="A1.SS1.p1.6.m6.1.1">
         <csymbol cd="latexml" id="A1.SS1.p1.6.m6.1.1.1.cmml" xref="A1.SS1.p1.6.m6.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS1.p1.6.m6.1.1.2.cmml" type="integer" xref="A1.SS1.p1.6.m6.1.1.2">
          100
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.6.m6.1c">
        100\%
       </annotation>
      </semantics>
     </math>
     with equal intervals, totaling
     <math alttext="10" class="ltx_Math" display="inline" id="A1.SS1.p1.7.m7.1">
      <semantics id="A1.SS1.p1.7.m7.1a">
       <mn id="A1.SS1.p1.7.m7.1.1" xref="A1.SS1.p1.7.m7.1.1.cmml">
        10
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.7.m7.1b">
        <cn id="A1.SS1.p1.7.m7.1.1.cmml" type="integer" xref="A1.SS1.p1.7.m7.1.1">
         10
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.7.m7.1c">
        10
       </annotation>
      </semantics>
     </math>
     different depths. Depth indicates the position of the needle in the
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.4">
      haystack
     </span>
     . A depth of
     <math alttext="0\%" class="ltx_Math" display="inline" id="A1.SS1.p1.8.m8.1">
      <semantics id="A1.SS1.p1.8.m8.1a">
       <mrow id="A1.SS1.p1.8.m8.1.1" xref="A1.SS1.p1.8.m8.1.1.cmml">
        <mn id="A1.SS1.p1.8.m8.1.1.2" xref="A1.SS1.p1.8.m8.1.1.2.cmml">
         0
        </mn>
        <mo id="A1.SS1.p1.8.m8.1.1.1" xref="A1.SS1.p1.8.m8.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.8.m8.1b">
        <apply id="A1.SS1.p1.8.m8.1.1.cmml" xref="A1.SS1.p1.8.m8.1.1">
         <csymbol cd="latexml" id="A1.SS1.p1.8.m8.1.1.1.cmml" xref="A1.SS1.p1.8.m8.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS1.p1.8.m8.1.1.2.cmml" type="integer" xref="A1.SS1.p1.8.m8.1.1.2">
          0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.8.m8.1c">
        0\%
       </annotation>
      </semantics>
     </math>
     means the
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.5">
      needle
     </span>
     is at the beginning of the haystack, while
     <math alttext="100\%" class="ltx_Math" display="inline" id="A1.SS1.p1.9.m9.1">
      <semantics id="A1.SS1.p1.9.m9.1a">
       <mrow id="A1.SS1.p1.9.m9.1.1" xref="A1.SS1.p1.9.m9.1.1.cmml">
        <mn id="A1.SS1.p1.9.m9.1.1.2" xref="A1.SS1.p1.9.m9.1.1.2.cmml">
         100
        </mn>
        <mo id="A1.SS1.p1.9.m9.1.1.1" xref="A1.SS1.p1.9.m9.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.9.m9.1b">
        <apply id="A1.SS1.p1.9.m9.1.1.cmml" xref="A1.SS1.p1.9.m9.1.1">
         <csymbol cd="latexml" id="A1.SS1.p1.9.m9.1.1.1.cmml" xref="A1.SS1.p1.9.m9.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS1.p1.9.m9.1.1.2.cmml" type="integer" xref="A1.SS1.p1.9.m9.1.1.2">
          100
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.9.m9.1c">
        100\%
       </annotation>
      </semantics>
     </math>
     indicates it‚Äôs at the end. For each length and depth, we randomly select
     <math alttext="10" class="ltx_Math" display="inline" id="A1.SS1.p1.10.m10.1">
      <semantics id="A1.SS1.p1.10.m10.1a">
       <mn id="A1.SS1.p1.10.m10.1.1" xref="A1.SS1.p1.10.m10.1.1.cmml">
        10
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.10.m10.1b">
        <cn id="A1.SS1.p1.10.m10.1.1.cmml" type="integer" xref="A1.SS1.p1.10.m10.1.1">
         10
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.10.m10.1c">
        10
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_italic" id="A1.SS1.p1.11.6">
      needles
     </span>
     to construct
     <math alttext="10" class="ltx_Math" display="inline" id="A1.SS1.p1.11.m11.1">
      <semantics id="A1.SS1.p1.11.m11.1a">
       <mn id="A1.SS1.p1.11.m11.1.1" xref="A1.SS1.p1.11.m11.1.1.cmml">
        10
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS1.p1.11.m11.1b">
        <cn id="A1.SS1.p1.11.m11.1.1.cmml" type="integer" xref="A1.SS1.p1.11.m11.1.1">
         10
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS1.p1.11.m11.1c">
        10
       </annotation>
      </semantics>
     </math>
     test samples.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A1.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.2
    </span>
    Multi-document QA
   </h3>
   <div class="ltx_para" id="A1.SS2.p1">
    <p class="ltx_p" id="A1.SS2.p1.17">
     For multi-document QA, questions require information from two or more documents to reason the final answer. We construct test samples based on HotpotQA
     <cite class="ltx_cite ltx_citemacro_cite">
      Yang et¬†al. (
      <a class="ltx_ref" href="#bib.bib30" title="">
       2018
      </a>
      )
     </cite>
     , a widely adopted multi-document QA dataset. We select
     <math alttext="60" class="ltx_Math" display="inline" id="A1.SS2.p1.1.m1.1">
      <semantics id="A1.SS2.p1.1.m1.1a">
       <mn id="A1.SS2.p1.1.m1.1.1" xref="A1.SS2.p1.1.m1.1.1.cmml">
        60
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b">
        <cn id="A1.SS2.p1.1.m1.1.1.cmml" type="integer" xref="A1.SS2.p1.1.m1.1.1">
         60
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">
        60
       </annotation>
      </semantics>
     </math>
     questions from the validation set of HotpotQA that require information from two documents to answer. Each sample contains two
     <span class="ltx_text ltx_font_italic" id="A1.SS2.p1.17.1">
      needles
     </span>
     , and the haystack is still composed of distractor documents. The length of
     <span class="ltx_text ltx_font_italic" id="A1.SS2.p1.17.2">
      haystack
     </span>
     ranges from
     <math alttext="1,000" class="ltx_Math" display="inline" id="A1.SS2.p1.2.m2.2">
      <semantics id="A1.SS2.p1.2.m2.2a">
       <mrow id="A1.SS2.p1.2.m2.2.3.2" xref="A1.SS2.p1.2.m2.2.3.1.cmml">
        <mn id="A1.SS2.p1.2.m2.1.1" xref="A1.SS2.p1.2.m2.1.1.cmml">
         1
        </mn>
        <mo id="A1.SS2.p1.2.m2.2.3.2.1" xref="A1.SS2.p1.2.m2.2.3.1.cmml">
         ,
        </mo>
        <mn id="A1.SS2.p1.2.m2.2.2" xref="A1.SS2.p1.2.m2.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.2.m2.2b">
        <list id="A1.SS2.p1.2.m2.2.3.1.cmml" xref="A1.SS2.p1.2.m2.2.3.2">
         <cn id="A1.SS2.p1.2.m2.1.1.cmml" type="integer" xref="A1.SS2.p1.2.m2.1.1">
          1
         </cn>
         <cn id="A1.SS2.p1.2.m2.2.2.cmml" type="integer" xref="A1.SS2.p1.2.m2.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.2.m2.2c">
        1,000
       </annotation>
      </semantics>
     </math>
     to
     <math alttext="128,000" class="ltx_Math" display="inline" id="A1.SS2.p1.3.m3.2">
      <semantics id="A1.SS2.p1.3.m3.2a">
       <mrow id="A1.SS2.p1.3.m3.2.3.2" xref="A1.SS2.p1.3.m3.2.3.1.cmml">
        <mn id="A1.SS2.p1.3.m3.1.1" xref="A1.SS2.p1.3.m3.1.1.cmml">
         128
        </mn>
        <mo id="A1.SS2.p1.3.m3.2.3.2.1" xref="A1.SS2.p1.3.m3.2.3.1.cmml">
         ,
        </mo>
        <mn id="A1.SS2.p1.3.m3.2.2" xref="A1.SS2.p1.3.m3.2.2.cmml">
         000
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.3.m3.2b">
        <list id="A1.SS2.p1.3.m3.2.3.1.cmml" xref="A1.SS2.p1.3.m3.2.3.2">
         <cn id="A1.SS2.p1.3.m3.1.1.cmml" type="integer" xref="A1.SS2.p1.3.m3.1.1">
          128
         </cn>
         <cn id="A1.SS2.p1.3.m3.2.2.cmml" type="integer" xref="A1.SS2.p1.3.m3.2.2">
          000
         </cn>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.3.m3.2c">
        128,000
       </annotation>
      </semantics>
     </math>
     tokens with equal intervals, totaling
     <math alttext="15" class="ltx_Math" display="inline" id="A1.SS2.p1.4.m4.1">
      <semantics id="A1.SS2.p1.4.m4.1a">
       <mn id="A1.SS2.p1.4.m4.1.1" xref="A1.SS2.p1.4.m4.1.1.cmml">
        15
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.4.m4.1b">
        <cn id="A1.SS2.p1.4.m4.1.1.cmml" type="integer" xref="A1.SS2.p1.4.m4.1.1">
         15
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.4.m4.1c">
        15
       </annotation>
      </semantics>
     </math>
     different lengths. The two
     <span class="ltx_text ltx_font_italic" id="A1.SS2.p1.17.3">
      needles
     </span>
     are randomly scattered at the depth of
     <math alttext="0\%" class="ltx_Math" display="inline" id="A1.SS2.p1.5.m5.1">
      <semantics id="A1.SS2.p1.5.m5.1a">
       <mrow id="A1.SS2.p1.5.m5.1.1" xref="A1.SS2.p1.5.m5.1.1.cmml">
        <mn id="A1.SS2.p1.5.m5.1.1.2" xref="A1.SS2.p1.5.m5.1.1.2.cmml">
         0
        </mn>
        <mo id="A1.SS2.p1.5.m5.1.1.1" xref="A1.SS2.p1.5.m5.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.5.m5.1b">
        <apply id="A1.SS2.p1.5.m5.1.1.cmml" xref="A1.SS2.p1.5.m5.1.1">
         <csymbol cd="latexml" id="A1.SS2.p1.5.m5.1.1.1.cmml" xref="A1.SS2.p1.5.m5.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS2.p1.5.m5.1.1.2.cmml" type="integer" xref="A1.SS2.p1.5.m5.1.1.2">
          0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.5.m5.1c">
        0\%
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="33\%" class="ltx_Math" display="inline" id="A1.SS2.p1.6.m6.1">
      <semantics id="A1.SS2.p1.6.m6.1a">
       <mrow id="A1.SS2.p1.6.m6.1.1" xref="A1.SS2.p1.6.m6.1.1.cmml">
        <mn id="A1.SS2.p1.6.m6.1.1.2" xref="A1.SS2.p1.6.m6.1.1.2.cmml">
         33
        </mn>
        <mo id="A1.SS2.p1.6.m6.1.1.1" xref="A1.SS2.p1.6.m6.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.6.m6.1b">
        <apply id="A1.SS2.p1.6.m6.1.1.cmml" xref="A1.SS2.p1.6.m6.1.1">
         <csymbol cd="latexml" id="A1.SS2.p1.6.m6.1.1.1.cmml" xref="A1.SS2.p1.6.m6.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS2.p1.6.m6.1.1.2.cmml" type="integer" xref="A1.SS2.p1.6.m6.1.1.2">
          33
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.6.m6.1c">
        33\%
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="66\%" class="ltx_Math" display="inline" id="A1.SS2.p1.7.m7.1">
      <semantics id="A1.SS2.p1.7.m7.1a">
       <mrow id="A1.SS2.p1.7.m7.1.1" xref="A1.SS2.p1.7.m7.1.1.cmml">
        <mn id="A1.SS2.p1.7.m7.1.1.2" xref="A1.SS2.p1.7.m7.1.1.2.cmml">
         66
        </mn>
        <mo id="A1.SS2.p1.7.m7.1.1.1" xref="A1.SS2.p1.7.m7.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.7.m7.1b">
        <apply id="A1.SS2.p1.7.m7.1.1.cmml" xref="A1.SS2.p1.7.m7.1.1">
         <csymbol cd="latexml" id="A1.SS2.p1.7.m7.1.1.1.cmml" xref="A1.SS2.p1.7.m7.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS2.p1.7.m7.1.1.2.cmml" type="integer" xref="A1.SS2.p1.7.m7.1.1.2">
          66
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.7.m7.1c">
        66\%
       </annotation>
      </semantics>
     </math>
     , and
     <math alttext="100\%" class="ltx_Math" display="inline" id="A1.SS2.p1.8.m8.1">
      <semantics id="A1.SS2.p1.8.m8.1a">
       <mrow id="A1.SS2.p1.8.m8.1.1" xref="A1.SS2.p1.8.m8.1.1.cmml">
        <mn id="A1.SS2.p1.8.m8.1.1.2" xref="A1.SS2.p1.8.m8.1.1.2.cmml">
         100
        </mn>
        <mo id="A1.SS2.p1.8.m8.1.1.1" xref="A1.SS2.p1.8.m8.1.1.1.cmml">
         %
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.8.m8.1b">
        <apply id="A1.SS2.p1.8.m8.1.1.cmml" xref="A1.SS2.p1.8.m8.1.1">
         <csymbol cd="latexml" id="A1.SS2.p1.8.m8.1.1.1.cmml" xref="A1.SS2.p1.8.m8.1.1.1">
          percent
         </csymbol>
         <cn id="A1.SS2.p1.8.m8.1.1.2.cmml" type="integer" xref="A1.SS2.p1.8.m8.1.1.2">
          100
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.8.m8.1c">
        100\%
       </annotation>
      </semantics>
     </math>
     of the haystack, resulting in
     <math alttext="6" class="ltx_Math" display="inline" id="A1.SS2.p1.9.m9.1">
      <semantics id="A1.SS2.p1.9.m9.1a">
       <mn id="A1.SS2.p1.9.m9.1.1" xref="A1.SS2.p1.9.m9.1.1.cmml">
        6
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.9.m9.1b">
        <cn id="A1.SS2.p1.9.m9.1.1.cmml" type="integer" xref="A1.SS2.p1.9.m9.1.1">
         6
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.9.m9.1c">
        6
       </annotation>
      </semantics>
     </math>
     combinations:
     <math alttext="(0\%,33\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.10.m10.2">
      <semantics id="A1.SS2.p1.10.m10.2a">
       <mrow id="A1.SS2.p1.10.m10.2.2.2" xref="A1.SS2.p1.10.m10.2.2.3.cmml">
        <mo id="A1.SS2.p1.10.m10.2.2.2.3" stretchy="false" xref="A1.SS2.p1.10.m10.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.10.m10.1.1.1.1" xref="A1.SS2.p1.10.m10.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.10.m10.1.1.1.1.2" xref="A1.SS2.p1.10.m10.1.1.1.1.2.cmml">
          0
         </mn>
         <mo id="A1.SS2.p1.10.m10.1.1.1.1.1" xref="A1.SS2.p1.10.m10.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.10.m10.2.2.2.4" xref="A1.SS2.p1.10.m10.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.10.m10.2.2.2.2" xref="A1.SS2.p1.10.m10.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.10.m10.2.2.2.2.2" xref="A1.SS2.p1.10.m10.2.2.2.2.2.cmml">
          33
         </mn>
         <mo id="A1.SS2.p1.10.m10.2.2.2.2.1" xref="A1.SS2.p1.10.m10.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.10.m10.2.2.2.5" stretchy="false" xref="A1.SS2.p1.10.m10.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.10.m10.2b">
        <interval closure="open" id="A1.SS2.p1.10.m10.2.2.3.cmml" xref="A1.SS2.p1.10.m10.2.2.2">
         <apply id="A1.SS2.p1.10.m10.1.1.1.1.cmml" xref="A1.SS2.p1.10.m10.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.10.m10.1.1.1.1.1.cmml" xref="A1.SS2.p1.10.m10.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.10.m10.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.10.m10.1.1.1.1.2">
           0
          </cn>
         </apply>
         <apply id="A1.SS2.p1.10.m10.2.2.2.2.cmml" xref="A1.SS2.p1.10.m10.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.10.m10.2.2.2.2.1.cmml" xref="A1.SS2.p1.10.m10.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.10.m10.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.10.m10.2.2.2.2.2">
           33
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.10.m10.2c">
        (0\%,33\%)
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="(0\%,66\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.11.m11.2">
      <semantics id="A1.SS2.p1.11.m11.2a">
       <mrow id="A1.SS2.p1.11.m11.2.2.2" xref="A1.SS2.p1.11.m11.2.2.3.cmml">
        <mo id="A1.SS2.p1.11.m11.2.2.2.3" stretchy="false" xref="A1.SS2.p1.11.m11.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.11.m11.1.1.1.1" xref="A1.SS2.p1.11.m11.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.11.m11.1.1.1.1.2" xref="A1.SS2.p1.11.m11.1.1.1.1.2.cmml">
          0
         </mn>
         <mo id="A1.SS2.p1.11.m11.1.1.1.1.1" xref="A1.SS2.p1.11.m11.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.11.m11.2.2.2.4" xref="A1.SS2.p1.11.m11.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.11.m11.2.2.2.2" xref="A1.SS2.p1.11.m11.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.11.m11.2.2.2.2.2" xref="A1.SS2.p1.11.m11.2.2.2.2.2.cmml">
          66
         </mn>
         <mo id="A1.SS2.p1.11.m11.2.2.2.2.1" xref="A1.SS2.p1.11.m11.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.11.m11.2.2.2.5" stretchy="false" xref="A1.SS2.p1.11.m11.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.11.m11.2b">
        <interval closure="open" id="A1.SS2.p1.11.m11.2.2.3.cmml" xref="A1.SS2.p1.11.m11.2.2.2">
         <apply id="A1.SS2.p1.11.m11.1.1.1.1.cmml" xref="A1.SS2.p1.11.m11.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.11.m11.1.1.1.1.1.cmml" xref="A1.SS2.p1.11.m11.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.11.m11.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.11.m11.1.1.1.1.2">
           0
          </cn>
         </apply>
         <apply id="A1.SS2.p1.11.m11.2.2.2.2.cmml" xref="A1.SS2.p1.11.m11.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.11.m11.2.2.2.2.1.cmml" xref="A1.SS2.p1.11.m11.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.11.m11.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.11.m11.2.2.2.2.2">
           66
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.11.m11.2c">
        (0\%,66\%)
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="(0\%,100\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.12.m12.2">
      <semantics id="A1.SS2.p1.12.m12.2a">
       <mrow id="A1.SS2.p1.12.m12.2.2.2" xref="A1.SS2.p1.12.m12.2.2.3.cmml">
        <mo id="A1.SS2.p1.12.m12.2.2.2.3" stretchy="false" xref="A1.SS2.p1.12.m12.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.12.m12.1.1.1.1" xref="A1.SS2.p1.12.m12.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.12.m12.1.1.1.1.2" xref="A1.SS2.p1.12.m12.1.1.1.1.2.cmml">
          0
         </mn>
         <mo id="A1.SS2.p1.12.m12.1.1.1.1.1" xref="A1.SS2.p1.12.m12.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.12.m12.2.2.2.4" xref="A1.SS2.p1.12.m12.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.12.m12.2.2.2.2" xref="A1.SS2.p1.12.m12.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.12.m12.2.2.2.2.2" xref="A1.SS2.p1.12.m12.2.2.2.2.2.cmml">
          100
         </mn>
         <mo id="A1.SS2.p1.12.m12.2.2.2.2.1" xref="A1.SS2.p1.12.m12.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.12.m12.2.2.2.5" stretchy="false" xref="A1.SS2.p1.12.m12.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.12.m12.2b">
        <interval closure="open" id="A1.SS2.p1.12.m12.2.2.3.cmml" xref="A1.SS2.p1.12.m12.2.2.2">
         <apply id="A1.SS2.p1.12.m12.1.1.1.1.cmml" xref="A1.SS2.p1.12.m12.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.12.m12.1.1.1.1.1.cmml" xref="A1.SS2.p1.12.m12.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.12.m12.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.12.m12.1.1.1.1.2">
           0
          </cn>
         </apply>
         <apply id="A1.SS2.p1.12.m12.2.2.2.2.cmml" xref="A1.SS2.p1.12.m12.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.12.m12.2.2.2.2.1.cmml" xref="A1.SS2.p1.12.m12.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.12.m12.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.12.m12.2.2.2.2.2">
           100
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.12.m12.2c">
        (0\%,100\%)
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="(33\%,66\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.13.m13.2">
      <semantics id="A1.SS2.p1.13.m13.2a">
       <mrow id="A1.SS2.p1.13.m13.2.2.2" xref="A1.SS2.p1.13.m13.2.2.3.cmml">
        <mo id="A1.SS2.p1.13.m13.2.2.2.3" stretchy="false" xref="A1.SS2.p1.13.m13.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.13.m13.1.1.1.1" xref="A1.SS2.p1.13.m13.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.13.m13.1.1.1.1.2" xref="A1.SS2.p1.13.m13.1.1.1.1.2.cmml">
          33
         </mn>
         <mo id="A1.SS2.p1.13.m13.1.1.1.1.1" xref="A1.SS2.p1.13.m13.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.13.m13.2.2.2.4" xref="A1.SS2.p1.13.m13.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.13.m13.2.2.2.2" xref="A1.SS2.p1.13.m13.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.13.m13.2.2.2.2.2" xref="A1.SS2.p1.13.m13.2.2.2.2.2.cmml">
          66
         </mn>
         <mo id="A1.SS2.p1.13.m13.2.2.2.2.1" xref="A1.SS2.p1.13.m13.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.13.m13.2.2.2.5" stretchy="false" xref="A1.SS2.p1.13.m13.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.13.m13.2b">
        <interval closure="open" id="A1.SS2.p1.13.m13.2.2.3.cmml" xref="A1.SS2.p1.13.m13.2.2.2">
         <apply id="A1.SS2.p1.13.m13.1.1.1.1.cmml" xref="A1.SS2.p1.13.m13.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.13.m13.1.1.1.1.1.cmml" xref="A1.SS2.p1.13.m13.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.13.m13.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.13.m13.1.1.1.1.2">
           33
          </cn>
         </apply>
         <apply id="A1.SS2.p1.13.m13.2.2.2.2.cmml" xref="A1.SS2.p1.13.m13.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.13.m13.2.2.2.2.1.cmml" xref="A1.SS2.p1.13.m13.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.13.m13.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.13.m13.2.2.2.2.2">
           66
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.13.m13.2c">
        (33\%,66\%)
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="(33\%,100\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.14.m14.2">
      <semantics id="A1.SS2.p1.14.m14.2a">
       <mrow id="A1.SS2.p1.14.m14.2.2.2" xref="A1.SS2.p1.14.m14.2.2.3.cmml">
        <mo id="A1.SS2.p1.14.m14.2.2.2.3" stretchy="false" xref="A1.SS2.p1.14.m14.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.14.m14.1.1.1.1" xref="A1.SS2.p1.14.m14.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.14.m14.1.1.1.1.2" xref="A1.SS2.p1.14.m14.1.1.1.1.2.cmml">
          33
         </mn>
         <mo id="A1.SS2.p1.14.m14.1.1.1.1.1" xref="A1.SS2.p1.14.m14.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.14.m14.2.2.2.4" xref="A1.SS2.p1.14.m14.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.14.m14.2.2.2.2" xref="A1.SS2.p1.14.m14.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.14.m14.2.2.2.2.2" xref="A1.SS2.p1.14.m14.2.2.2.2.2.cmml">
          100
         </mn>
         <mo id="A1.SS2.p1.14.m14.2.2.2.2.1" xref="A1.SS2.p1.14.m14.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.14.m14.2.2.2.5" stretchy="false" xref="A1.SS2.p1.14.m14.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.14.m14.2b">
        <interval closure="open" id="A1.SS2.p1.14.m14.2.2.3.cmml" xref="A1.SS2.p1.14.m14.2.2.2">
         <apply id="A1.SS2.p1.14.m14.1.1.1.1.cmml" xref="A1.SS2.p1.14.m14.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.14.m14.1.1.1.1.1.cmml" xref="A1.SS2.p1.14.m14.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.14.m14.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.14.m14.1.1.1.1.2">
           33
          </cn>
         </apply>
         <apply id="A1.SS2.p1.14.m14.2.2.2.2.cmml" xref="A1.SS2.p1.14.m14.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.14.m14.2.2.2.2.1.cmml" xref="A1.SS2.p1.14.m14.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.14.m14.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.14.m14.2.2.2.2.2">
           100
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.14.m14.2c">
        (33\%,100\%)
       </annotation>
      </semantics>
     </math>
     , and
     <math alttext="(66\%,100\%)" class="ltx_Math" display="inline" id="A1.SS2.p1.15.m15.2">
      <semantics id="A1.SS2.p1.15.m15.2a">
       <mrow id="A1.SS2.p1.15.m15.2.2.2" xref="A1.SS2.p1.15.m15.2.2.3.cmml">
        <mo id="A1.SS2.p1.15.m15.2.2.2.3" stretchy="false" xref="A1.SS2.p1.15.m15.2.2.3.cmml">
         (
        </mo>
        <mrow id="A1.SS2.p1.15.m15.1.1.1.1" xref="A1.SS2.p1.15.m15.1.1.1.1.cmml">
         <mn id="A1.SS2.p1.15.m15.1.1.1.1.2" xref="A1.SS2.p1.15.m15.1.1.1.1.2.cmml">
          66
         </mn>
         <mo id="A1.SS2.p1.15.m15.1.1.1.1.1" xref="A1.SS2.p1.15.m15.1.1.1.1.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.15.m15.2.2.2.4" xref="A1.SS2.p1.15.m15.2.2.3.cmml">
         ,
        </mo>
        <mrow id="A1.SS2.p1.15.m15.2.2.2.2" xref="A1.SS2.p1.15.m15.2.2.2.2.cmml">
         <mn id="A1.SS2.p1.15.m15.2.2.2.2.2" xref="A1.SS2.p1.15.m15.2.2.2.2.2.cmml">
          100
         </mn>
         <mo id="A1.SS2.p1.15.m15.2.2.2.2.1" xref="A1.SS2.p1.15.m15.2.2.2.2.1.cmml">
          %
         </mo>
        </mrow>
        <mo id="A1.SS2.p1.15.m15.2.2.2.5" stretchy="false" xref="A1.SS2.p1.15.m15.2.2.3.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.15.m15.2b">
        <interval closure="open" id="A1.SS2.p1.15.m15.2.2.3.cmml" xref="A1.SS2.p1.15.m15.2.2.2">
         <apply id="A1.SS2.p1.15.m15.1.1.1.1.cmml" xref="A1.SS2.p1.15.m15.1.1.1.1">
          <csymbol cd="latexml" id="A1.SS2.p1.15.m15.1.1.1.1.1.cmml" xref="A1.SS2.p1.15.m15.1.1.1.1.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.15.m15.1.1.1.1.2.cmml" type="integer" xref="A1.SS2.p1.15.m15.1.1.1.1.2">
           66
          </cn>
         </apply>
         <apply id="A1.SS2.p1.15.m15.2.2.2.2.cmml" xref="A1.SS2.p1.15.m15.2.2.2.2">
          <csymbol cd="latexml" id="A1.SS2.p1.15.m15.2.2.2.2.1.cmml" xref="A1.SS2.p1.15.m15.2.2.2.2.1">
           percent
          </csymbol>
          <cn id="A1.SS2.p1.15.m15.2.2.2.2.2.cmml" type="integer" xref="A1.SS2.p1.15.m15.2.2.2.2.2">
           100
          </cn>
         </apply>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.15.m15.2c">
        (66\%,100\%)
       </annotation>
      </semantics>
     </math>
     . For specific lengths and needle positions, we randomly select
     <math alttext="10" class="ltx_Math" display="inline" id="A1.SS2.p1.16.m16.1">
      <semantics id="A1.SS2.p1.16.m16.1a">
       <mn id="A1.SS2.p1.16.m16.1.1" xref="A1.SS2.p1.16.m16.1.1.cmml">
        10
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.16.m16.1b">
        <cn id="A1.SS2.p1.16.m16.1.1.cmml" type="integer" xref="A1.SS2.p1.16.m16.1.1">
         10
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.16.m16.1c">
        10
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_italic" id="A1.SS2.p1.17.4">
      needles
     </span>
     to construct
     <math alttext="10" class="ltx_Math" display="inline" id="A1.SS2.p1.17.m17.1">
      <semantics id="A1.SS2.p1.17.m17.1a">
       <mn id="A1.SS2.p1.17.m17.1.1" xref="A1.SS2.p1.17.m17.1.1.cmml">
        10
       </mn>
       <annotation-xml encoding="MathML-Content" id="A1.SS2.p1.17.m17.1b">
        <cn id="A1.SS2.p1.17.m17.1.1.cmml" type="integer" xref="A1.SS2.p1.17.m17.1.1">
         10
        </cn>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="A1.SS2.p1.17.m17.1c">
        10
       </annotation>
      </semantics>
     </math>
     test samples for evaluation.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A2">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix B
   </span>
   Trajectory for Each Task
  </h2>
  <section class="ltx_subsection" id="A2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.1
    </span>
    Single-document Question Answering
   </h3>
   <div class="ltx_para" id="A2.SS1.p1">
    <p class="ltx_p" id="A2.SS1.p1.1">
     Dataset: Squad
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p1.1.1">
      Leader first input
      <br class="ltx_break"/>
     </span>
     First, the leader recruits members according to the task description as shown in Table
     <a class="ltx_ref" href="#A2.T2" title="Table 2 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T2">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T2.1">
     <tr class="ltx_tr" id="A2.T2.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T2.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.1.1.1">
        <span class="ltx_p" id="A2.T2.1.1.1.1.1" style="width:433.6pt;">
         You need to recruit a team of members to solve a task. Select the appropriate member based on the task description.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.2.1.1">
        <span class="ltx_p" id="A2.T2.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T2.1.2.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.3.1.1">
        <span class="ltx_p" id="A2.T2.1.3.1.1.1" style="width:433.6pt;">
         {task_description}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.4.1.1">
        <span class="ltx_p" id="A2.T2.1.4.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T2.1.4.1.1.1.1">
          # Members List:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.5.1.1">
        <span class="ltx_p" id="A2.T2.1.5.1.1.1" style="width:433.6pt;">
         QA member: Good at solving Question Answering problems.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.6.1.1">
        <span class="ltx_p" id="A2.T2.1.6.1.1.1" style="width:433.6pt;">
         KV member: Good at finding the corresponding value from a dictionary.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.7.1.1">
        <span class="ltx_p" id="A2.T2.1.7.1.1.1" style="width:433.6pt;">
         NS member: Good at locating repeated hidden numbers in a noisy long context.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.8.1.1">
        <span class="ltx_p" id="A2.T2.1.8.1.1.1" style="width:433.6pt;">
         PassKey member: Good at retrieving hidden keys in a noisy long context.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T2.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.9.1.1">
        <span class="ltx_p" id="A2.T2.1.9.1.1.1" style="width:433.6pt;">
         Math member: Good at finding special integers in a lengthy list.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T2.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T2.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T2.1.10.1.1">
        <span class="ltx_p" id="A2.T2.1.10.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "member", "content": "your_chosen_member"}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 2:
     </span>
     Prompt template for Leader first input on the Single-document Question Answering Task. The content of #Task Description is derived from user input.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS1.p2">
    <p class="ltx_p" id="A2.SS1.p2.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p2.1.1">
      Leader first output
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p2.1.2">
      "type": "member", "content": "QA member"
     </span>
     }
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p2.1.3">
      Leader next input
      <br class="ltx_break"/>
     </span>
     After recruiting members, the leader gives specific instruction as shown in Table
     <a class="ltx_ref" href="#A2.T3" title="Table 3 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T3">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T3.1">
     <tr class="ltx_tr" id="A2.T3.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T3.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.1.1.1">
        <span class="ltx_p" id="A2.T3.1.1.1.1.1" style="width:433.6pt;">
         You are the leader of a team of {member_nums} members. Your team will need to collaborate to solve a task. The rule is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.2.1.1">
        <span class="ltx_p" id="A2.T3.1.2.1.1.1" style="width:433.6pt;">
         1. Only you know the task description and task objective; the other members do not.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.3.1.1">
        <span class="ltx_p" id="A2.T3.1.3.1.1.1" style="width:433.6pt;">
         2. But they will receive different documents that may contain answers, and you need to send them an instruction to query their document.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.4.1.1">
        <span class="ltx_p" id="A2.T3.1.4.1.1.1" style="width:433.6pt;">
         3. Your instruction need to include your understanding of the task and what you need them to focus on. If necessary, your instructions can explicitly include the task objective.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.5.1.1">
        <span class="ltx_p" id="A2.T3.1.5.1.1.1" style="width:433.6pt;">
         4. Finally, you need to complete the task based on the query results they return.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.6.1.1">
        <span class="ltx_p" id="A2.T3.1.6.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T3.1.6.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.7.1.1">
        <span class="ltx_p" id="A2.T3.1.7.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. The answer must be extracted from the given passages.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.8.1.1">
        <span class="ltx_p" id="A2.T3.1.8.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T3.1.8.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.9.1.1">
        <span class="ltx_p" id="A2.T3.1.9.1.1.1" style="width:433.6pt;">
         In which publication did Sander publish an article questioning racial preferences in law schools?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.10.1.1">
        <span class="ltx_p" id="A2.T3.1.10.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T3.1.10.1.1.1.1">
          # Generate Instruction for Members:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T3.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.11.1.1">
        <span class="ltx_p" id="A2.T3.1.11.1.1.1" style="width:433.6pt;">
         Now, you need to generate an instruction for all team members. You can ask them to answer a certain question, or to extract information related to the task, based on their respective documents.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T3.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T3.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T3.1.12.1.1">
        <span class="ltx_p" id="A2.T3.1.12.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "instruction", "content": "your_instruction_content"}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 3:
     </span>
     Prompt template for Leader next input on the Single-document Question Answering Task. The content of #Task Description and #Task Objective is derived from user input.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS1.p3">
    <p class="ltx_p" id="A2.SS1.p3.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p3.1.1">
      Member first input
      <br class="ltx_break"/>
     </span>
     The prompt for the Member first input is shown in Tabel
     <a class="ltx_ref" href="#A2.T4" title="Table 4 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     .
The content of #Document is a part of the complete context, with variations for each member.
The content of #Instruction originates from the first output of the leader.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T4">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T4.1">
     <tr class="ltx_tr" id="A2.T4.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T4.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.1.1.1">
        <span class="ltx_p" id="A2.T4.1.1.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T4.1.1.1.1.1.1">
          # Document:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T4.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.2.1.1">
        <span class="ltx_p" id="A2.T4.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_typewriter" id="A2.T4.1.2.1.1.1.1" style="color:#808080;">
          {member_document}
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T4.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.3.1.1">
        <span class="ltx_p" id="A2.T4.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T4.1.3.1.1.1.1">
          # Instruction:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T4.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.4.1.1">
        <span class="ltx_p" id="A2.T4.1.4.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. The answer must be extracted from the given passages. Question: In which publication did Sander publish an article questioning racial preferences in law schools?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T4.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.5.1.1">
        <span class="ltx_p" id="A2.T4.1.5.1.1.1" style="width:433.6pt;">
         You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T4.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T4.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T4.1.6.1.1">
        <span class="ltx_p" id="A2.T4.1.6.1.1.1" style="width:433.6pt;">
         The "content" needs to be as concise as possible.
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 4:
     </span>
     Prompt template for Member first input on the Single-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS1.p4">
    <p class="ltx_p" id="A2.SS1.p4.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p4.1.1">
      Member first output
      <br class="ltx_break"/>
     </span>
     The leader will exclude members who refuse to answer and group together members who provide the same answer.
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS1.p5">
    <p class="ltx_p" id="A2.SS1.p5.1">
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p5.1.1">
      Clusters:
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p5.1.2">
      ‚Äôthe Wall Street Journal‚Äô: [1, 7, 8, 13, 15, 17, 18, 22, 23, 24, 28, ,29 31, 32, 33, 34, 35, 37, 39, 42, 43], ‚Äôthe Yale Law Journal‚Äô: [5], ‚ÄôThe Wall Street Journal‚Äô: [20]
     </span>
     }
     <br class="ltx_break"/>
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p5.1.3">
      Member next input
      <br class="ltx_break"/>
     </span>
     Prompt template for Member next input is the same as Member first input shown in Table
     <a class="ltx_ref" href="#A2.T4" title="Table 4 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     . The content of #Document is the merge of the document from two members.
     <br class="ltx_break"/>
     Select member 43 randomly from Cluster 1 and member 5 randomly from Cluster 2. First, merge the documents of member 43 and member 5 to obtain the new result.
     <br class="ltx_break"/>
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p5.1.4">
      Member 43 and Member 5 merge: the Yale Law Journal
      <br class="ltx_break"/>
      <br class="ltx_break"/>
     </span>
     Cluster 1 is removed because its merged output matches the original output of member 5 but not member 43. Next, randomly select member 5 from Cluster 2 and member 20 from Cluster 3. Merge the documents of these two members to create the new result.
     <br class="ltx_break"/>
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p5.1.5">
      Member 5 and Member 20 merge: Yale Law Journal
      <br class="ltx_break"/>
      <br class="ltx_break"/>
     </span>
     Remove Cluster 3 because the merged output is identical to the original output of member 5 and differs from the original output of member 20.
     <br class="ltx_break"/>
     At this point, there is only one cluster left, thus all members have only one unique result. The leader will provide the final answer based on this result.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p5.1.6">
      Leader last input
     </span>
     Leader needs to determine whether the final answer can be obtained. If not, further instructions will be provided. In this task, the final answer can be obtained. Details are shown in Table
     <a class="ltx_ref" href="#A2.T5" title="Table 5 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       5
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T5">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T5.1">
     <tr class="ltx_tr" id="A2.T5.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T5.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.1.1.1">
        <span class="ltx_p" id="A2.T5.1.1.1.1.1" style="width:433.6pt;">
         Here are the responses from all the members. Each member sees different segments of a document, and these segments do not intersect with each other. The correct answer may appear in any one or several members‚Äô responses.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.2.1.1">
        <span class="ltx_p" id="A2.T5.1.2.1.1.1" style="width:433.6pt;">
         Note that if a minority of members find information relevant to the question while the majority reply that the document does not contain information relevant to the question, you should pay attention to the replies from those members who found relevant information.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.3.1.1">
        <span class="ltx_p" id="A2.T5.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T5.1.3.1.1.1.1">
          # Member Response:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.4.1.1">
        <span class="ltx_p" id="A2.T5.1.4.1.1.1" style="width:433.6pt;">
         Member 1: Yale Law Journal
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.5.1.1">
        <span class="ltx_p" id="A2.T5.1.5.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T5.1.5.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.6.1.1">
        <span class="ltx_p" id="A2.T5.1.6.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. The answer must be extracted from the given passages.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.7.1.1">
        <span class="ltx_p" id="A2.T5.1.7.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T5.1.7.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.8.1.1">
        <span class="ltx_p" id="A2.T5.1.8.1.1.1" style="width:433.6pt;">
         In which publication did Sander publish an article questioning racial preferences in law schools?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.9.1.1">
        <span class="ltx_p" id="A2.T5.1.9.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T5.1.9.1.1.1.1">
          # Determination:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.10.1.1">
        <span class="ltx_p" id="A2.T5.1.10.1.1.1" style="width:433.6pt;">
         Based on the above information, you need to determine if you can solve the task objective. You have two choices:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.11.1.1">
        <span class="ltx_p" id="A2.T5.1.11.1.1.1" style="width:433.6pt;">
         1. If members‚Äô responses cannot solve the task objective, or if their responses contain conflicting answers, provide a new instruction for them to answer again.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T5.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.12.1.1">
        <span class="ltx_p" id="A2.T5.1.12.1.1.1" style="width:433.6pt;">
         2. Else, if the task objective can be solved, give your final answer as concisely as you can, using a single phrase if possible. Do not provide any explanation.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T5.1.13">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T5.1.13.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T5.1.13.1.1">
        <span class="ltx_p" id="A2.T5.1.13.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "answer", "content": "your_answer_content"}} or {{"type": "instruction", "content": "your_instruction_content"]}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 5:
     </span>
     Prompt template for Leader last input on the Single-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS1.p6">
    <p class="ltx_p" id="A2.SS1.p6.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS1.p6.1.1">
      Leader last output
      <br class="ltx_break"/>
     </span>
     <span class="ltx_text ltx_font_italic" id="A2.SS1.p6.1.2">
      "type": "answer", "content": "Yale Law Journal"
      <br class="ltx_break"/>
     </span>
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.2
    </span>
    Multi-document Question Answering
   </h3>
   <div class="ltx_para" id="A2.SS2.p1">
    <p class="ltx_p" id="A2.SS2.p1.1">
     Dataset: Hotpotqa
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p1.1.1">
      Leader first input
      <br class="ltx_break"/>
     </span>
     First, the leader recruits members according to the task description as shown in Table
     <a class="ltx_ref" href="#A2.T2" title="Table 2 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     .
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p1.1.2">
      Leader first output
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p1.1.3">
      "type": "member", "content": "QA member"
     </span>
     }
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p1.1.4">
      Leader second input
      <br class="ltx_break"/>
     </span>
     For multi-document Question Answering, the questions require answers that integrate the content of multiple documents. The details are shown in Table
     <a class="ltx_ref" href="#A2.T6" title="Table 6 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T6">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T6.1">
     <tr class="ltx_tr" id="A2.T6.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T6.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.1.1.1">
        <span class="ltx_p" id="A2.T6.1.1.1.1.1" style="width:433.6pt;">
         You are the leader of a team of {member_nums} members. Your team will need to collaborate to solve a task. The rule is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.2.1.1">
        <span class="ltx_p" id="A2.T6.1.2.1.1.1" style="width:433.6pt;">
         1. Only you know the task description and task objective; the other members do not.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.3.1.1">
        <span class="ltx_p" id="A2.T6.1.3.1.1.1" style="width:433.6pt;">
         2. But they will receive different documents that may contain answers, and you need to send them an instruction to query their document.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.4.1.1">
        <span class="ltx_p" id="A2.T6.1.4.1.1.1" style="width:433.6pt;">
         3. Your instruction need to include your understanding of the task and what you need them to focus on. If necessary, your instructions can explicitly include the task objective.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.5.1.1">
        <span class="ltx_p" id="A2.T6.1.5.1.1.1" style="width:433.6pt;">
         4. Finally, you need to complete the task based on the query results they return.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.6.1.1">
        <span class="ltx_p" id="A2.T6.1.6.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T6.1.6.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.7.1.1">
        <span class="ltx_p" id="A2.T6.1.7.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. Only give me the answer and do not output any other words.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.8.1.1">
        <span class="ltx_p" id="A2.T6.1.8.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T6.1.8.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.9.1.1">
        <span class="ltx_p" id="A2.T6.1.9.1.1.1" style="width:433.6pt;">
         Did Leshan or Quanzhou have a population of 658,798 in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.10.1.1">
        <span class="ltx_p" id="A2.T6.1.10.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T6.1.10.1.1.1.1">
          # Generate Instruction for Members:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T6.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.11.1.1">
        <span class="ltx_p" id="A2.T6.1.11.1.1.1" style="width:433.6pt;">
         Now, you need to generate an instruction for all team members. You can ask them to answer a certain question, or to extract information related to the task, based on their respective documents.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T6.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T6.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T6.1.12.1.1">
        <span class="ltx_p" id="A2.T6.1.12.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "instruction", "content": "your_instruction_content"}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 6:
     </span>
     Prompt template for Leader second input on the Multi-document Question Answering Task. The content of #Task Description and #Task Objective is derived from user input.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p2">
    <p class="ltx_p" id="A2.SS2.p2.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p2.1.1">
      Leader second output
      <br class="ltx_break"/>
     </span>
     The leader needs to break down the original question, so the leader‚Äôs second output is the first sub-question.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p2.1.2">
      "type": "instruction", "content": "What was the population of Leshan in 2002?"
      <br class="ltx_break"/>
     </span>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p2.1.3">
      Member first input
      <br class="ltx_break"/>
     </span>
     The prompt for the Member first input is shown in Tabel
     <a class="ltx_ref" href="#A2.T7" title="Table 7 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       7
      </span>
     </a>
     .
The content of #Document is a part of the complete context, with variations for each member.
The content of #Instruction originates from the first output of the leader.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T7">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T7.1">
     <tr class="ltx_tr" id="A2.T7.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T7.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.1.1.1">
        <span class="ltx_p" id="A2.T7.1.1.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T7.1.1.1.1.1.1">
          # Document:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T7.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T7.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.2.1.1">
        <span class="ltx_p" id="A2.T7.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_typewriter" id="A2.T7.1.2.1.1.1.1" style="color:#808080;">
          {member_document}
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T7.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T7.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.3.1.1">
        <span class="ltx_p" id="A2.T7.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T7.1.3.1.1.1.1">
          # Instruction:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T7.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T7.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.4.1.1">
        <span class="ltx_p" id="A2.T7.1.4.1.1.1" style="width:433.6pt;">
         What was the population of Leshan in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T7.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T7.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.5.1.1">
        <span class="ltx_p" id="A2.T7.1.5.1.1.1" style="width:433.6pt;">
         You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T7.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T7.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T7.1.6.1.1">
        <span class="ltx_p" id="A2.T7.1.6.1.1.1" style="width:433.6pt;">
         The "content" needs to be as concise as possible.
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 7:
     </span>
     Prompt template for Member first input on the Multi-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p3">
    <p class="ltx_p" id="A2.SS2.p3.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p3.1.1">
      Member first output
      <br class="ltx_break"/>
     </span>
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p3.1.2">
      Member 1: 121,277
      <br class="ltx_break"/>
      Member 2: The document does not contain the answer.
      <br class="ltx_break"/>
      Member 3: The document does not contain the answer.
      <br class="ltx_break"/>
      ‚Ä¶‚Ä¶
      <br class="ltx_break"/>
      Member 30: The document does not contain the answer.
      <br class="ltx_break"/>
      Member 31: The document does not contain the answer.
      <br class="ltx_break"/>
     </span>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p3.1.3">
      Leader third input
      <br class="ltx_break"/>
     </span>
     The prompt for the Leader third input is shown in Tabel
     <a class="ltx_ref" href="#A2.T8" title="Table 8 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       8
      </span>
     </a>
     .
At this moment, Leader still retains the dialogue history from the first round.
    </p>
   </div>
   <figure class="ltx_table" id="A2.T8">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T8.1">
     <tr class="ltx_tr" id="A2.T8.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T8.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.1.1.1">
        <span class="ltx_p" id="A2.T8.1.1.1.1.1" style="width:433.6pt;">
         Here are the responses from all the members. Each member sees different segments of a document, and these segments do not intersect with each other. The correct answer may appear in any one or several members‚Äô responses.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.2.1.1">
        <span class="ltx_p" id="A2.T8.1.2.1.1.1" style="width:433.6pt;">
         Note that if a minority of members find information relevant to the question while the majority reply that the document does not contain information relevant to the question, you should pay attention to the replies from those members who found relevant information.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.3.1.1">
        <span class="ltx_p" id="A2.T8.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T8.1.3.1.1.1.1">
          # Member Response:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.4.1.1">
        <span class="ltx_p" id="A2.T8.1.4.1.1.1" style="width:433.6pt;">
         Member 1: 121,277
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.5.1.1">
        <span class="ltx_p" id="A2.T8.1.5.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T8.1.5.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.6.1.1">
        <span class="ltx_p" id="A2.T8.1.6.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. Only give me the answer and do not output any other words.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.7.1.1">
        <span class="ltx_p" id="A2.T8.1.7.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T8.1.7.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.8.1.1">
        <span class="ltx_p" id="A2.T8.1.8.1.1.1" style="width:433.6pt;">
         Did Leshan or Quanzhou have a population of 658,798 in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.9.1.1">
        <span class="ltx_p" id="A2.T8.1.9.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T8.1.9.1.1.1.1">
          # Determination:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.10.1.1">
        <span class="ltx_p" id="A2.T8.1.10.1.1.1" style="width:433.6pt;">
         Based on the above information, you need to determine if you can solve the task objective. You have two choices:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.11.1.1">
        <span class="ltx_p" id="A2.T8.1.11.1.1.1" style="width:433.6pt;">
         1. If members‚Äô responses cannot solve the task objective, or if their responses contain conflicting answers, provide a new instruction for them to answer again.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T8.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.12.1.1">
        <span class="ltx_p" id="A2.T8.1.12.1.1.1" style="width:433.6pt;">
         2. Else, if the task objective can be solved, give your final answer as concisely as you can, using a single phrase if possible. Do not provide any explanation.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T8.1.13">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T8.1.13.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T8.1.13.1.1">
        <span class="ltx_p" id="A2.T8.1.13.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "answer", "content": "your_answer_content"}} or {{"type": "instruction", "content": "your_instruction_content"]}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 8:
     </span>
     Prompt template for Leader third input on the Multi-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p4">
    <p class="ltx_p" id="A2.SS2.p4.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p4.1.1">
      Leader second output
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p4.1.2">
      "type": "instruction", "content": "What was the population of Quanzhou in 2002?"
     </span>
     }
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p4.1.3">
      Member second input
      <br class="ltx_break"/>
     </span>
     The prompt for the Member second input is shown in Tabel
     <a class="ltx_ref" href="#A2.T9" title="Table 9 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       9
      </span>
     </a>
     .
The content of #Document is a part of the complete context, with variations for each member.
The content of #Instruction originates from the second output of the leader.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T9">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T9.1">
     <tr class="ltx_tr" id="A2.T9.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T9.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.1">
        <span class="ltx_p" id="A2.T9.1.1.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T9.1.1.1.1.1.1">
          # Document:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T9.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.1">
        <span class="ltx_p" id="A2.T9.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_typewriter" id="A2.T9.1.2.1.1.1.1" style="color:#808080;">
          {member_document}
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T9.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.1.1">
        <span class="ltx_p" id="A2.T9.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T9.1.3.1.1.1.1">
          # Instruction:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T9.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.1.1">
        <span class="ltx_p" id="A2.T9.1.4.1.1.1" style="width:433.6pt;">
         What was the population of Leshan in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T9.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.1.1">
        <span class="ltx_p" id="A2.T9.1.5.1.1.1" style="width:433.6pt;">
         You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T9.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.1.1">
        <span class="ltx_p" id="A2.T9.1.6.1.1.1" style="width:433.6pt;">
         The "content" needs to be as concise as possible.
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 9:
     </span>
     Prompt template for Member second input on the Multi-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p5">
    <p class="ltx_p" id="A2.SS2.p5.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p5.1.1">
      Member second output
      <br class="ltx_break"/>
     </span>
     Exclude the members who refuse to respond, and cluster the members who provide the same answers.
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para" id="A2.SS2.p6">
    <p class="ltx_p" id="A2.SS2.p6.1">
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p6.1.1">
      Clusters:
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p6.1.2">
      ‚Äô1.5 million‚Äô: [7], ‚Äô658,798‚Äô: [11]
     </span>
     }
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p7">
    <p class="ltx_p" id="A2.SS2.p7.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p7.1.1">
      Member third input
      <br class="ltx_break"/>
     </span>
     The prompt for the Member third input is shown in Tabel
     <a class="ltx_ref" href="#A2.T10" title="Table 10 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       10
      </span>
     </a>
     .
The content of #Document is the merge of the document from Member 7 and Member 11.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T10">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T10.1">
     <tr class="ltx_tr" id="A2.T10.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T10.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.1">
        <span class="ltx_p" id="A2.T10.1.1.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T10.1.1.1.1.1.1">
          # Document:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T10.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.1">
        <span class="ltx_p" id="A2.T10.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_typewriter" id="A2.T10.1.2.1.1.1.1" style="color:#808080;">
          {member_document}
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T10.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.1.1">
        <span class="ltx_p" id="A2.T10.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T10.1.3.1.1.1.1">
          # Instruction:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T10.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.1.1">
        <span class="ltx_p" id="A2.T10.1.4.1.1.1" style="width:433.6pt;">
         What was the population of Quanzhou in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T10.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.1.1">
        <span class="ltx_p" id="A2.T10.1.5.1.1.1" style="width:433.6pt;">
         You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T10.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.1.1">
        <span class="ltx_p" id="A2.T10.1.6.1.1.1" style="width:433.6pt;">
         The "content" needs to be as concise as possible.
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 10:
     </span>
     Prompt template for Member third input on the Multi-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p8">
    <p class="ltx_p" id="A2.SS2.p8.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p8.1.1">
      Member third output
      <br class="ltx_break"/>
     </span>
    </p>
   </div>
   <div class="ltx_para" id="A2.SS2.p9">
    <p class="ltx_p" id="A2.SS2.p9.1">
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p9.1.1">
      "type": "response", "content": "658,798"
     </span>
     }
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p10">
    <p class="ltx_p" id="A2.SS2.p10.1">
     At this point, there is only one cluster left, thus all members have only one unique result.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p10.1.1">
      Leader last input
      <br class="ltx_break"/>
     </span>
     The prompt for the Leader last input is shown in Tabel
     <a class="ltx_ref" href="#A2.T11" title="Table 11 ‚Ä£ B.2 Multi-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       11
      </span>
     </a>
     .
At this moment, Leader still retains the dialogue history of the previous two rounds.
    </p>
   </div>
   <figure class="ltx_table" id="A2.T11">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T11.1">
     <tr class="ltx_tr" id="A2.T11.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T11.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.1.1.1">
        <span class="ltx_p" id="A2.T11.1.1.1.1.1" style="width:433.6pt;">
         Here are the responses from all the members. Each member sees different segments of a document, and these segments do not intersect with each other. The correct answer may appear in any one or several members‚Äô responses.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.2.1.1">
        <span class="ltx_p" id="A2.T11.1.2.1.1.1" style="width:433.6pt;">
         Note that if a minority of members find information relevant to the question while the majority reply that the document does not contain information relevant to the question, you should pay attention to the replies from those members who found relevant information.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.3.1.1">
        <span class="ltx_p" id="A2.T11.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T11.1.3.1.1.1.1">
          # Member Response:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.4.1.1">
        <span class="ltx_p" id="A2.T11.1.4.1.1.1" style="width:433.6pt;">
         Member 1: 658,798
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.5.1.1">
        <span class="ltx_p" id="A2.T11.1.5.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T11.1.5.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.6.1.1">
        <span class="ltx_p" id="A2.T11.1.6.1.1.1" style="width:433.6pt;">
         Answer the question based on the given passages. Only give me the answer and do not output any other words.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.7.1.1">
        <span class="ltx_p" id="A2.T11.1.7.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T11.1.7.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.8.1.1">
        <span class="ltx_p" id="A2.T11.1.8.1.1.1" style="width:433.6pt;">
         Did Leshan or Quanzhou have a population of 658,798 in 2002?
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.9.1.1">
        <span class="ltx_p" id="A2.T11.1.9.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T11.1.9.1.1.1.1">
          # Determination:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.10.1.1">
        <span class="ltx_p" id="A2.T11.1.10.1.1.1" style="width:433.6pt;">
         Based on the above information, you need to determine if you can solve the task objective. You have two choices:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.11.1.1">
        <span class="ltx_p" id="A2.T11.1.11.1.1.1" style="width:433.6pt;">
         1. If members‚Äô responses cannot solve the task objective, or if their responses contain conflicting answers, provide a new instruction for them to answer again.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T11.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.12.1.1">
        <span class="ltx_p" id="A2.T11.1.12.1.1.1" style="width:433.6pt;">
         2. Else, if the task objective can be solved, give your final answer as concisely as you can, using a single phrase if possible. Do not provide any explanation.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T11.1.13">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T11.1.13.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T11.1.13.1.1">
        <span class="ltx_p" id="A2.T11.1.13.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "answer", "content": "your_answer_content"}} or {{"type": "instruction", "content": "your_instruction_content"]}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 11:
     </span>
     Prompt template for Leader last input on the Multi-document Question Answering Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS2.p11">
    <p class="ltx_p" id="A2.SS2.p11.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS2.p11.1.1">
      Leader last output
      <br class="ltx_break"/>
     </span>
     Leader integrates the answers to the two sub-problems to obtain the final answer to the original problem.
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para" id="A2.SS2.p12">
    <p class="ltx_p" id="A2.SS2.p12.1">
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS2.p12.1.1">
      "type": "answer", "content": "Quanzhou"
     </span>
     }
     <br class="ltx_break"/>
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.3
    </span>
    Retrieve
   </h3>
   <div class="ltx_para" id="A2.SS3.p1">
    <p class="ltx_p" id="A2.SS3.p1.1">
     The Retrieve-type tasks are divided into three types: Retrieve.KV, Retrieve.PassKey, and Retrieve.Number. Although the task descriptions vary for different tasks, the interaction trajectories are similar, and the prompt template is also the same. Therefore, Retrieve.KV task is chosen here as an example for demonstration.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p1.1.1">
      Leader first input
      <br class="ltx_break"/>
     </span>
     First, the leader recruits members according to the task description as shown in Table
     <a class="ltx_ref" href="#A2.T2" title="Table 2 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p2">
    <p class="ltx_p" id="A2.SS3.p2.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p2.1.1">
      Leader first output
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p2.1.2">
      "type": "member", "content": "KV member"
     </span>
     }
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p3">
    <p class="ltx_p" id="A2.SS3.p3.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p3.1.1">
      Leader next input
      <br class="ltx_break"/>
     </span>
     The prompt for the Leader next input is shown in Tabel
     <a class="ltx_ref" href="#A2.T12" title="Table 12 ‚Ä£ B.3 Retrieve ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       12
      </span>
     </a>
     .
     <br class="ltx_break"/>
     The content of #Task Description and #Task Objective is derived from user input.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T12">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T12.1">
     <tr class="ltx_tr" id="A2.T12.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T12.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.1.1">
        <span class="ltx_p" id="A2.T12.1.1.1.1.1" style="width:433.6pt;">
         You are the leader of a team of {member_nums} members. Your team will need to collaborate to solve a task. The rule is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.2.1.1">
        <span class="ltx_p" id="A2.T12.1.2.1.1.1" style="width:433.6pt;">
         1. Only you know the task description and task objective; the other members do not.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.3.1.1">
        <span class="ltx_p" id="A2.T12.1.3.1.1.1" style="width:433.6pt;">
         2. But they will receive different documents that may contain answers, and you need to send them an instruction to query their document.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.4.1.1">
        <span class="ltx_p" id="A2.T12.1.4.1.1.1" style="width:433.6pt;">
         3. Your instruction need to include your understanding of the task and what you need them to focus on. If necessary, your instructions can explicitly include the task objective.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.5.1.1">
        <span class="ltx_p" id="A2.T12.1.5.1.1.1" style="width:433.6pt;">
         4. Finally, you need to complete the task based on the query results they return.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.6.1.1">
        <span class="ltx_p" id="A2.T12.1.6.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T12.1.6.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.7.1.1">
        <span class="ltx_p" id="A2.T12.1.7.1.1.1" style="width:433.6pt;">
         Finding the corresponding value from a dictionary and a key.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.8.1.1">
        <span class="ltx_p" id="A2.T12.1.8.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T12.1.8.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.9.1.1">
        <span class="ltx_p" id="A2.T12.1.9.1.1.1" style="width:433.6pt;">
         Key: "2b114db0-d87e-42d2-9b4c-0b1f115976ad"
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.10.1.1">
        <span class="ltx_p" id="A2.T12.1.10.1.1.1" style="width:433.6pt;">
         The value associated with the specified key is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.11.1.1">
        <span class="ltx_p" id="A2.T12.1.11.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T12.1.11.1.1.1.1">
          # Generate Instruction for Members:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.12.1.1">
        <span class="ltx_p" id="A2.T12.1.12.1.1.1" style="width:433.6pt;">
         Now, you need to generate an instruction for all team members. You can ask them to answer a certain question, or to extract information related to the task, based on their respective documents.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T12.1.13">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T12.1.13.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T12.1.13.1.1">
        <span class="ltx_p" id="A2.T12.1.13.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "instruction", "content": "your_instruction_content"}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 12:
     </span>
     Prompt template for Leader next input on the Retrieve.KV Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p4">
    <p class="ltx_p" id="A2.SS3.p4.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p4.1.1">
      Leader next output
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p4.1.2">
      "type": "instruction",
"content": "Finding the corresponding value from a dictionary and a key.
Key: "2b114db0-d87e-42d2-9b4c-0b1f115976ad"
The value associated with the specified key is: "
     </span>
     }
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p4.1.3">
      Member first input
      <br class="ltx_break"/>
     </span>
     The prompt for the Member first input is shown in Tabel
     <a class="ltx_ref" href="#A2.T13" title="Table 13 ‚Ä£ B.3 Retrieve ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       13
      </span>
     </a>
     .
     <br class="ltx_break"/>
     The content of #Document is a part of the complete context, with variations for each member.
     <br class="ltx_break"/>
     The content of #Instruction originates from the first output of the leader.
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T13">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T13.1">
     <tr class="ltx_tr" id="A2.T13.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T13.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.1.1.1">
        <span class="ltx_p" id="A2.T13.1.1.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T13.1.1.1.1.1.1">
          # Document:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.2.1.1">
        <span class="ltx_p" id="A2.T13.1.2.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_typewriter" id="A2.T13.1.2.1.1.1.1" style="color:#808080;">
          {member_document}
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.3.1.1">
        <span class="ltx_p" id="A2.T13.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T13.1.3.1.1.1.1">
          # Instruction:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.4.1.1">
        <span class="ltx_p" id="A2.T13.1.4.1.1.1" style="width:433.6pt;">
         Finding the corresponding value from a dictionary and a key.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.5.1.1">
        <span class="ltx_p" id="A2.T13.1.5.1.1.1" style="width:433.6pt;">
         Key: "2b114db0-d87e-42d2-9b4c-0b1f115976ad"
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.6.1.1">
        <span class="ltx_p" id="A2.T13.1.6.1.1.1" style="width:433.6pt;">
         The value associated with the specified key is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T13.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.7.1.1">
        <span class="ltx_p" id="A2.T13.1.7.1.1.1" style="width:433.6pt;">
         You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T13.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T13.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T13.1.8.1.1">
        <span class="ltx_p" id="A2.T13.1.8.1.1.1" style="width:433.6pt;">
         The "content" needs to be as concise as possible.
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 13:
     </span>
     Prompt template for Member first input on the Retrieve.KV Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p5">
    <p class="ltx_p" id="A2.SS3.p5.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p5.1.1">
      Member first output
      <br class="ltx_break"/>
     </span>
     Except for the members who refuse to answer, member 1, member 9, and member 12 provide three different responses.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p5.1.2">
      Clusters:
      <br class="ltx_break"/>
     </span>
     {
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p5.1.3">
      ‚Äôf1ec3dd8-b6e7-4af5-a589-fda0b7693f93‚Äô: [1], ‚Äôd3999999-9999-4999-8999-999999999999‚Äô: [9], ‚Äôd9999999-9999-4999-8999-999999999999‚Äô: [12]
     </span>
     }
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p6">
    <p class="ltx_p" id="A2.SS3.p6.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p6.1.1">
      Member next input
      <br class="ltx_break"/>
     </span>
     The prompt template is the same as the prompt for ‚ÄôMember next input‚Äô, while the content of #Document is the merge of the document from two members.
     <br class="ltx_break"/>
     First, merge the documents of member 1 and member 9 to obtain the new result.
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para" id="A2.SS3.p7">
    <p class="ltx_p" id="A2.SS3.p7.1">
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p7.1.1">
      Member 1 and Member 9 merge: f1ec3dd8-b6e7-4af5-a589-fda0b7693f93
      <br class="ltx_break"/>
     </span>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p8">
    <p class="ltx_p" id="A2.SS3.p8.1">
     Since the merged output is identical to the original output of member 1 but differs from the original output of member 9, member 9 has been removed. Next, merge the documents of member 1 and member 12 to obtain the new result.
     <br class="ltx_break"/>
    </p>
   </div>
   <div class="ltx_para" id="A2.SS3.p9">
    <p class="ltx_p" id="A2.SS3.p9.1">
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p9.1.1">
      Member 1 and Member 12 merge: f1ec3dd8-b6e7-4af5-a589-fda0b7693f93
      <br class="ltx_break"/>
     </span>
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p10">
    <p class="ltx_p" id="A2.SS3.p10.1">
     Remove member 12 because the merged output is identical to the original output of member 1 and differs from the original output of member 12. At this point, all members have only one unique result. The leader will provide the final answer based on this result.
     <br class="ltx_break"/>
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p10.1.1">
      Leader last input
      <br class="ltx_break"/>
     </span>
     leader summarizes the final answer based on previous information. Details are shown in Table
     <a class="ltx_ref" href="#A2.T14" title="Table 14 ‚Ä£ B.3 Retrieve ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
      <span class="ltx_text ltx_ref_tag">
       14
      </span>
     </a>
     .
     <br class="ltx_break"/>
    </p>
   </div>
   <figure class="ltx_table" id="A2.T14">
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T14.1">
     <tr class="ltx_tr" id="A2.T14.1.1">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T14.1.1.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.1.1">
        <span class="ltx_p" id="A2.T14.1.1.1.1.1" style="width:433.6pt;">
         Here are the responses from all the members. Each member sees different segments of a document, and these segments do not intersect with each other. The correct answer may appear in any one or several members‚Äô responses.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.2">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.2.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.2.1.1">
        <span class="ltx_p" id="A2.T14.1.2.1.1.1" style="width:433.6pt;">
         Note that if a minority of members find information relevant to the question while the majority reply that the document does not contain information relevant to the question, you should pay attention to the replies from those members who found relevant information.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.3">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.3.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.3.1.1">
        <span class="ltx_p" id="A2.T14.1.3.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T14.1.3.1.1.1.1">
          # Member Response:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.4">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.4.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.4.1.1">
        <span class="ltx_p" id="A2.T14.1.4.1.1.1" style="width:433.6pt;">
         Member 1: f1ec3dd8-b6e7-4af5-a589-fda0b7693f93
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.5">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.5.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.5.1.1">
        <span class="ltx_p" id="A2.T14.1.5.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T14.1.5.1.1.1.1">
          # Task Description:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.6">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.6.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.6.1.1">
        <span class="ltx_p" id="A2.T14.1.6.1.1.1" style="width:433.6pt;">
         Finding the corresponding value from a dictionary and a key.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.7">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.7.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.7.1.1">
        <span class="ltx_p" id="A2.T14.1.7.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T14.1.7.1.1.1.1">
          # Task Objective:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.8">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.8.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.8.1.1">
        <span class="ltx_p" id="A2.T14.1.8.1.1.1" style="width:433.6pt;">
         Key: "2b114db0-d87e-42d2-9b4c-0b1f115976ad"
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.9">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.9.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.9.1.1">
        <span class="ltx_p" id="A2.T14.1.9.1.1.1" style="width:433.6pt;">
         The value associated with the specified key is:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.10">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.10.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.10.1.1">
        <span class="ltx_p" id="A2.T14.1.10.1.1.1" style="width:433.6pt;">
         <span class="ltx_text ltx_font_bold" id="A2.T14.1.10.1.1.1.1">
          # Determination:
         </span>
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.11">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.11.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.11.1.1">
        <span class="ltx_p" id="A2.T14.1.11.1.1.1" style="width:433.6pt;">
         Based on the above information, you need to determine if you can solve the task objective. You have two choices:
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.12">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.12.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.12.1.1">
        <span class="ltx_p" id="A2.T14.1.12.1.1.1" style="width:433.6pt;">
         1. If members‚Äô responses cannot solve the task objective, or if their responses contain conflicting answers, provide a new instruction for them to answer again.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.13">
      <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.13.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.13.1.1">
        <span class="ltx_p" id="A2.T14.1.13.1.1.1" style="width:433.6pt;">
         2. Else, if the task objective can be solved, give your final answer as concisely as you can, using a single phrase if possible. Do not provide any explanation.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.T14.1.14">
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T14.1.14.1">
       <span class="ltx_inline-block ltx_align_top" id="A2.T14.1.14.1.1">
        <span class="ltx_p" id="A2.T14.1.14.1.1.1" style="width:433.6pt;">
         Your output must following the JSON format: {{"type": "answer", "content": "your_answer_content"}} or {{"type": "instruction", "content": "your_instruction_content"]}}
        </span>
       </span>
      </td>
     </tr>
    </table>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 14:
     </span>
     Prompt template for Leader last input on the Retrieve.KV Task.
    </figcaption>
   </figure>
   <div class="ltx_para ltx_noindent" id="A2.SS3.p11">
    <p class="ltx_p" id="A2.SS3.p11.1">
     <span class="ltx_text ltx_font_bold" id="A2.SS3.p11.1.1">
      Leader last output
      <br class="ltx_break"/>
     </span>
     <span class="ltx_text ltx_font_italic" id="A2.SS3.p11.1.2">
      "type": "answer", "content": "f1ec3dd8-b6e7-4af5-a589-fda0b7693f93"
      <br class="ltx_break"/>
     </span>
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.4
    </span>
    Math.Find
   </h3>
   <section class="ltx_subsubsection" id="A2.SS4.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      B.4.1
     </span>
     Find the largest number
    </h4>
    <div class="ltx_para ltx_noindent" id="A2.SS4.SSS1.p1">
     <p class="ltx_p" id="A2.SS4.SSS1.p1.1">
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p1.1.1">
       Leader first input
       <br class="ltx_break"/>
      </span>
      First, the leader recruits members according to the task description as shown in Table
      <a class="ltx_ref" href="#A2.T2" title="Table 2 ‚Ä£ B.1 Single-document Question Answering ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
       <span class="ltx_text ltx_ref_tag">
        2
       </span>
      </a>
      .
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p1.1.2">
       Leader first output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS1.p1.1.3">
       "type": "member", "content": "Math member"
      </span>
      }
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p1.1.4">
       Leader next input
       <br class="ltx_break"/>
      </span>
      The prompt for the Leader next input is shown in Tabel
      <a class="ltx_ref" href="#A2.T15" title="Table 15 ‚Ä£ B.4.1 Find the largest number ‚Ä£ B.4 Math.Find ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
       <span class="ltx_text ltx_ref_tag">
        15
       </span>
      </a>
      .
      <br class="ltx_break"/>
      The content of #Task Description and #Task Objective is derived from user input.
      <br class="ltx_break"/>
     </p>
    </div>
    <figure class="ltx_table" id="A2.T15">
     <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T15.1">
      <tr class="ltx_tr" id="A2.T15.1.1">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T15.1.1.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.1.1.1">
         <span class="ltx_p" id="A2.T15.1.1.1.1.1" style="width:433.6pt;">
          You are the leader of a team of {member_nums} members. Your team will need to collaborate to solve a task. The rule is:
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.2">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.2.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.2.1.1">
         <span class="ltx_p" id="A2.T15.1.2.1.1.1" style="width:433.6pt;">
          1. Only you know the task description and task objective; the other members do not.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.3">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.3.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.3.1.1">
         <span class="ltx_p" id="A2.T15.1.3.1.1.1" style="width:433.6pt;">
          2. But they will receive different documents that may contain answers, and you need to send them an instruction to query their document.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.4">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.4.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.4.1.1">
         <span class="ltx_p" id="A2.T15.1.4.1.1.1" style="width:433.6pt;">
          3. Your instruction need to include your understanding of the task and what you need them to focus on. If necessary, your instructions can explicitly include the task objective.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.5">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.5.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.5.1.1">
         <span class="ltx_p" id="A2.T15.1.5.1.1.1" style="width:433.6pt;">
          4. Finally, you need to complete the task based on the query results they return.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.6">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.6.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.6.1.1">
         <span class="ltx_p" id="A2.T15.1.6.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T15.1.6.1.1.1.1">
           # Task Description:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.7">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.7.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.7.1.1">
         <span class="ltx_p" id="A2.T15.1.7.1.1.1" style="width:433.6pt;">
          Finding special integers in a lengthy list.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.8">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.8.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.8.1.1">
         <span class="ltx_p" id="A2.T15.1.8.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T15.1.8.1.1.1.1">
           # Task Objective:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.9">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.9.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.9.1.1">
         <span class="ltx_p" id="A2.T15.1.9.1.1.1" style="width:433.6pt;">
          You should answer with only one number, no other words. The largest number of the list is:
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.10">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.10.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.10.1.1">
         <span class="ltx_p" id="A2.T15.1.10.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T15.1.10.1.1.1.1">
           # Generate Instruction for Members:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.11">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T15.1.11.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.11.1.1">
         <span class="ltx_p" id="A2.T15.1.11.1.1.1" style="width:433.6pt;">
          Now, you need to generate an instruction for all team members. You can ask them to answer a certain question, or to extract information related to the task, based on their respective documents.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T15.1.12">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T15.1.12.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T15.1.12.1.1">
         <span class="ltx_p" id="A2.T15.1.12.1.1.1" style="width:433.6pt;">
          Your output must following the JSON format: {{"type": "instruction", "content": "your_instruction_content"}}
         </span>
        </span>
       </td>
      </tr>
     </table>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 15:
      </span>
      Prompt template for Leader next input on the Math.Find Task.
     </figcaption>
    </figure>
    <div class="ltx_para ltx_noindent" id="A2.SS4.SSS1.p2">
     <p class="ltx_p" id="A2.SS4.SSS1.p2.1">
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p2.1.1">
       Leader first output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS1.p2.1.2">
       "type": "instruction", "content": "You should answer with only one number, no other words. The largest number of the list is: "
      </span>
      }
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p2.1.3">
       Member first input
       <br class="ltx_break"/>
      </span>
      The prompt for the Member first input is shown in Tabel
      <a class="ltx_ref" href="#A2.T16" title="Table 16 ‚Ä£ B.4.1 Find the largest number ‚Ä£ B.4 Math.Find ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
       <span class="ltx_text ltx_ref_tag">
        16
       </span>
      </a>
      .
      <br class="ltx_break"/>
      The content of #Document is a part of the complete context, with variations for each member.
      <br class="ltx_break"/>
      The content of #Instruction originates from the first output of the leader.
      <br class="ltx_break"/>
     </p>
    </div>
    <figure class="ltx_table" id="A2.T16">
     <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T16.1">
      <tr class="ltx_tr" id="A2.T16.1.1">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T16.1.1.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.1.1.1">
         <span class="ltx_p" id="A2.T16.1.1.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T16.1.1.1.1.1.1">
           # Document:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T16.1.2">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.1.2.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.2.1.1">
         <span class="ltx_p" id="A2.T16.1.2.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_typewriter" id="A2.T16.1.2.1.1.1.1" style="color:#808080;">
           {member_document}
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T16.1.3">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.1.3.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.3.1.1">
         <span class="ltx_p" id="A2.T16.1.3.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T16.1.3.1.1.1.1">
           # Instruction:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T16.1.4">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.1.4.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.4.1.1">
         <span class="ltx_p" id="A2.T16.1.4.1.1.1" style="width:433.6pt;">
          You should answer with only one number, no other words. The largest number of the list is:
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T16.1.5">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.1.5.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.5.1.1">
         <span class="ltx_p" id="A2.T16.1.5.1.1.1" style="width:433.6pt;">
          You are an experienced writer; please summarize the content in the document related to the instructions in a &lt;scratchpad&gt; tag, then describe your response."
Your output must following the JSON format: {{"type": "response", "content": "your_response_content"}}
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T16.1.6">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T16.1.6.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T16.1.6.1.1">
         <span class="ltx_p" id="A2.T16.1.6.1.1.1" style="width:433.6pt;">
          The "content" needs to be as concise as possible.
         </span>
        </span>
       </td>
      </tr>
     </table>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 16:
      </span>
      Prompt template for Member first input on the Math.Find Task.
     </figcaption>
    </figure>
    <div class="ltx_para ltx_noindent" id="A2.SS4.SSS1.p3">
     <p class="ltx_p" id="A2.SS4.SSS1.p3.1">
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p3.1.1">
       Member first output
       <br class="ltx_break"/>
      </span>
      Each member returns the maximum value of the numbers in their documents. The results of each member are recorded and passed to the leader.
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p3.1.2">
       Leader last input
       <br class="ltx_break"/>
      </span>
      The prompt for the Leader last input is shown in Tabel
      <a class="ltx_ref" href="#A2.T17" title="Table 17 ‚Ä£ B.4.1 Find the largest number ‚Ä£ B.4 Math.Find ‚Ä£ Appendix B Trajectory for Each Task ‚Ä£ LongAgent: Scaling Language Models to 128k Context through Multi-Agent Collaboration">
       <span class="ltx_text ltx_ref_tag">
        17
       </span>
      </a>
      .
      <br class="ltx_break"/>
      Leader finds the maximum value for the entire document based on the outputs of all members.
      <br class="ltx_break"/>
     </p>
    </div>
    <figure class="ltx_table" id="A2.T17">
     <table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T17.1">
      <tr class="ltx_tr" id="A2.T17.1.1">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T17.1.1.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.1.1.1">
         <span class="ltx_p" id="A2.T17.1.1.1.1.1" style="width:433.6pt;">
          Here are the responses from all the members. Each member sees different segments of a document, and these segments do not intersect with each other. The correct answer may appear in any one or several members‚Äô responses.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.2">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.2.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.2.1.1">
         <span class="ltx_p" id="A2.T17.1.2.1.1.1" style="width:433.6pt;">
          Note that if a minority of members find information relevant to the question while the majority reply that the document does not contain information relevant to the question, you should pay attention to the replies from those members who found relevant information.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.3">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.3.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.3.1.1">
         <span class="ltx_p" id="A2.T17.1.3.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T17.1.3.1.1.1.1">
           # Member Response:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.4">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.4.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.4.1.1">
         <span class="ltx_p" id="A2.T17.1.4.1.1.1" style="width:433.6pt;">
          Member 1: 94
Member 2: 94
Member 3: 94
Member 4: 94
Member 5: 94
Member 6: 94
Member 7: 94
Member 8: 94
Member 9: 94
Member 10: 94
Member 11: 94
Member 12: 94
Member 13: 94
Member 14: 94
Member 15: 94
Member 16: 94
Member 17: 94
Member 18: 94
Member 19: 94
Member 20: 94
Member 21: 94
Member 22: 94
Member 23: 94
Member 24: 94
Member 25: 93
Member 26: 94
Member 27: 94
Member 28: 94
Member 29: 94
Member 30: 94
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.5">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.5.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.5.1.1">
         <span class="ltx_p" id="A2.T17.1.5.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T17.1.5.1.1.1.1">
           # Task Description:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.6">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.6.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.6.1.1">
         <span class="ltx_p" id="A2.T17.1.6.1.1.1" style="width:433.6pt;">
          Finding special integers in a lengthy list.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.7">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.7.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.7.1.1">
         <span class="ltx_p" id="A2.T17.1.7.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T17.1.7.1.1.1.1">
           # Task Objective:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.8">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.8.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.8.1.1">
         <span class="ltx_p" id="A2.T17.1.8.1.1.1" style="width:433.6pt;">
          You should answer with only one number, no other words. The largest number of the list is:
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.9">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.9.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.9.1.1">
         <span class="ltx_p" id="A2.T17.1.9.1.1.1" style="width:433.6pt;">
          <span class="ltx_text ltx_font_bold" id="A2.T17.1.9.1.1.1.1">
           # Determination:
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.10">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.10.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.10.1.1">
         <span class="ltx_p" id="A2.T17.1.10.1.1.1" style="width:433.6pt;">
          Based on the above information, you need to determine if you can solve the task objective. You have two choices:
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.11">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.11.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.11.1.1">
         <span class="ltx_p" id="A2.T17.1.11.1.1.1" style="width:433.6pt;">
          1. If members‚Äô responses cannot solve the task objective, or if their responses contain conflicting answers, provide a new instruction for them to answer again.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.12">
       <td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T17.1.12.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.12.1.1">
         <span class="ltx_p" id="A2.T17.1.12.1.1.1" style="width:433.6pt;">
          2. Else, if the task objective can be solved, give your final answer as concisely as you can, using a single phrase if possible. Do not provide any explanation.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="A2.T17.1.13">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T17.1.13.1">
        <span class="ltx_inline-block ltx_align_top" id="A2.T17.1.13.1.1">
         <span class="ltx_p" id="A2.T17.1.13.1.1.1" style="width:433.6pt;">
          Your output must following the JSON format: {{"type": "answer", "content": "your_answer_content"}} or {{"type": "instruction", "content": "your_instruction_content"]}}
         </span>
        </span>
       </td>
      </tr>
     </table>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 17:
      </span>
      Prompt template for Leader last input on the Math.Find Task.
     </figcaption>
    </figure>
    <div class="ltx_para ltx_noindent" id="A2.SS4.SSS1.p4">
     <p class="ltx_p" id="A2.SS4.SSS1.p4.1">
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS1.p4.1.1">
       Leader last output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS1.p4.1.2">
       "type": "answer", "content": "94"
      </span>
      }
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS1.p4.1.3">
      </span>
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="A2.SS4.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      B.4.2
     </span>
     Find the second largest number
    </h4>
    <div class="ltx_para" id="A2.SS4.SSS2.p1">
     <p class="ltx_p" id="A2.SS4.SSS2.p1.1">
      For other tasks in Math.Find, the prompt template remains the same; it will be omitted from here on.
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS2.p1.1.1">
       Leader first output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS2.p1.1.2">
       "type": "instruction", "content": "You should answer with only one number, no other words. The largest number and second-largest number of the list are: "
      </span>
      }
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS2.p1.1.3">
       Member first output
       <br class="ltx_break"/>
      </span>
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS2.p1.1.4">
       Member 1: 81, 80‚ÄÉ‚ÄÉ‚Äâ
Member 2: 81, 80
       <br class="ltx_break"/>
       Member 3: 81, 80‚ÄÉ‚ÄÉ‚Äâ
Member 4: 79, 78
       <br class="ltx_break"/>
       Member 5: 81, 80‚ÄÉ‚ÄÉ‚Äâ
Member 6: 81, 80
       <br class="ltx_break"/>
       Member 7: 81, 80‚ÄÉ‚ÄÉ‚Äâ
Member 8: 81, 80
       <br class="ltx_break"/>
       Member 9: 81, 80‚ÄÉ‚ÄÉ‚Äâ
Member 10: 81, 80
       <br class="ltx_break"/>
       Member 11: 81, 80‚ÄÉ‚ÄÉMember 12: 80, 79
       <br class="ltx_break"/>
       Member 13: 81, 80‚ÄÉ‚ÄÉMember 14: 81, 80
       <br class="ltx_break"/>
       Member 15: 81, 80‚ÄÉ‚ÄÉMember 16: 79, 78
       <br class="ltx_break"/>
       Member 17: 81, 80‚ÄÉ‚ÄÉMember 18: 81, 80
       <br class="ltx_break"/>
       Member 19: 81, 80‚ÄÉ‚ÄÉMember 20: 81, 80
       <br class="ltx_break"/>
       Member 21: 81, 80‚ÄÉ‚ÄÉMember 22: 81, 80
       <br class="ltx_break"/>
       Member 23: 81, 80‚ÄÉ‚ÄÉMember 24: 81, 80
       <br class="ltx_break"/>
       Member 25: 81, 80‚ÄÉ‚ÄÉMember 26: 81, 80
       <br class="ltx_break"/>
       Member 27: 81, 80‚ÄÉ‚ÄÉMember 28: 81, 80
       <br class="ltx_break"/>
       Member 29: 81, 80‚ÄÉ‚ÄÉMember 30: 81, 80
       <br class="ltx_break"/>
      </span>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS2.p1.1.5">
       Member first output
       <br class="ltx_break"/>
      </span>
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS2.p1.1.6">
       "type": "answer", "content": "80"
      </span>
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="A2.SS4.SSS3">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      B.4.3
     </span>
     Find the third largest number
    </h4>
    <div class="ltx_para ltx_noindent" id="A2.SS4.SSS3.p1">
     <p class="ltx_p" id="A2.SS4.SSS3.p1.1">
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS3.p1.1.1">
       Leader first output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS3.p1.1.2">
       "type": "instruction", "content": "You should answer with only one number, no other words. The largest number, second-largest number and third-largest number of the list are:"
      </span>
      }
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS3.p1.1.3">
       Member first output
       <br class="ltx_break"/>
      </span>
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS3.p1.1.4">
       Member 1: 86, 85, 84‚ÄÉ‚Äâ
Member 2: 86, 85, 84
       <br class="ltx_break"/>
       Member 3: 86, 85, 84‚ÄÉ‚Äâ
Member 4: 87, 86, 85
       <br class="ltx_break"/>
       Member 5: 86, 85, 84‚ÄÉ‚Äâ
Member 6: 86, 85, 84
       <br class="ltx_break"/>
       Member 7: 86, 85, 84‚ÄÉ‚Äâ
Member 8: 86, 85, 84
       <br class="ltx_break"/>
       Member 9: 87, 86, 85‚ÄÉ‚Äâ
Member 10: 87, 86, 85
       <br class="ltx_break"/>
       Member 11: 86, 85, 84‚ÄÉMember 12: 86, 85, 84
       <br class="ltx_break"/>
       Member 13: 86, 85, 84‚ÄÉMember 14: 88, 87, 86
       <br class="ltx_break"/>
       Member 15: 86, 85, 84‚ÄÉMember 16: 87, 86, 85
       <br class="ltx_break"/>
       Member 17: 86, 85, 84‚ÄÉMember 18: 86, 85, 84
       <br class="ltx_break"/>
       Member 19: 86, 85, 84‚ÄÉMember 20: 86, 85, 84
       <br class="ltx_break"/>
       Member 21: 86, 85, 84‚ÄÉMember 22: 86, 85, 84
       <br class="ltx_break"/>
       Member 23: 86, 85, 84‚ÄÉMember 24: 86, 85, 84
       <br class="ltx_break"/>
       Member 25: 86, 85, 84‚ÄÉMember 26: 88, 87, 86
       <br class="ltx_break"/>
       Member 27: 86, 85, 84‚ÄÉMember 28: 86, 85, 84
       <br class="ltx_break"/>
       Member 29: 86, 85, 84‚ÄÉMember 30: 86, 85, 84
       <br class="ltx_break"/>
      </span>
      <span class="ltx_text ltx_font_bold" id="A2.SS4.SSS3.p1.1.5">
       Member first output
       <br class="ltx_break"/>
      </span>
      {
      <span class="ltx_text ltx_font_italic" id="A2.SS4.SSS3.p1.1.6">
       "type": "answer", "content": "80"
      </span>
      }
      <br class="ltx_break"/>
      The method for finding the minimum value is similar to that for finding the maximum value, and it will not be further elaborated here.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_appendix" id="A3">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix C
   </span>
   Additional Results
  </h2>
  <div class="ltx_para" id="A3.p1">
   <p class="ltx_p" id="A3.p1.1">
    This section complements the experimental results mentioned in the main body of this paper.
    <br class="ltx_break"/>
   </p>
  </div>
  <figure class="ltx_figure" id="A3.F8">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="168" id="A3.F8.g1" src="/html/2402.11550/assets/x8.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 8:
    </span>
    Effect ‚ÄòReject‚Äô type data on model QA capability. ‚ÄòAnswer‚Äô and ‚ÄòReject‚Äô represent two types of data. For the former, the documents contain answers to questions; whereas for the latter, they do not.
   </figcaption>
  </figure>
 </section>
</article>
