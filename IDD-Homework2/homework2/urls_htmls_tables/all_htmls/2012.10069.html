<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2012.10069] Fairness and Accuracy in Federated Learning</title><meta property="og:description" content="In the federated learning setting, multiple clients jointly train a model under the coordination of the central server, while the training data is kept on the client to ensure privacy. Normally, inconsistent distributi…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fairness and Accuracy in Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Fairness and Accuracy in Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2012.10069">

<!--Generated on Wed Mar  6 09:01:43 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_fleqn">
<h1 class="ltx_title ltx_title_document">Fairness and Accuracy in Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wei Huang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:huangweifujian@my.swjtu.edu.cn">huangweifujian@my.swjtu.edu.cn</a>
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Tianrui Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:trli@swjtu.edu.cn">trli@swjtu.edu.cn</a>
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dexian Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xiaoke92@foxmail.com">xiaoke92@foxmail.com</a>
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shengdong Du
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:sddu@swjtu.edu.cn">sddu@swjtu.edu.cn</a>
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junbo Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:msjunbozhang@outlook.com">msjunbozhang@outlook.com</a>
</span>
<span class="ltx_contact ltx_role_address">School of Information Science and Technology, Southwest Jiaotong University, Chengdu 611756, China
</span>
<span class="ltx_contact ltx_role_address">Institute of Artificial Intelligence, Southwest Jiaotong University, Chengdu, China
</span>
<span class="ltx_contact ltx_role_address">National Engineering Laboratory of Integrated Transportation Big Data Application Technology, Southwest Jiaotong University, Chengdu, China
</span>
<span class="ltx_contact ltx_role_address">JD Intelligent Cities Business Unit, JD Digits, Beijing, China
</span>
<span class="ltx_contact ltx_role_address">JD Intelligent Cities Research, Beijing, China
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">In the federated learning setting, multiple clients jointly train a model under the coordination of the central server, while the training data is kept on the client to ensure privacy. Normally, inconsistent distribution of data across different devices in a federated network and limited communication bandwidth between end devices impose both statistical heterogeneity and expensive communication as major challenges for federated learning. This paper proposes an algorithm to achieve more fairness and accuracy in federated learning (FedFa). It introduces an optimization scheme that employs a double momentum gradient, thereby accelerating the convergence rate of the model. An appropriate weight selection algorithm that combines the information quantity of training accuracy and training frequency to measure the weights is proposed. This procedure assists in addressing the issue of unfairness in federated learning due to preferences for certain clients. Our results show that the proposed FedFa algorithm outperforms the baseline algorithm in terms of accuracy and fairness.</p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>
federated learning; weighting strategies; momentum gradient; information quantity

</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_journal"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journal: </span>…</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">The integration of the internet of things (IoT), edge computing, and artificial intelligence (AI) requires the safe and legal management of distributed big data. For example, many smartphones store private data, which needs to be integrated for training. Alternatively, in the case of automated vehicles, it is essential for each vehicle to be able to process large amounts of information locally using machine learning models, while working in concert with other vehicles and computing centers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. In recent years, despite their success in overcoming technical and computational limitations, these technologies still face problems closely related to data security. Generally, service providers collect the data from users to a central server to train machine learning models, including deep neural networks. The centralized machine learning approach leads to serious practical problems, such as high communication costs, large consumption of device batteries, and the risk of violating the privacy and security of user data. At the same time, there is a worldwide trend toward tighter management of user data privacy and security, which is reflected in the recent introduction of the General Data Protection Regulation (GDPR) in the European Union <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The establishment of data security regulations will clearly contribute to a more civilized society, but will also pose new challenges to the data handling procedures commonly used in AI. In this new legislative environment, it is becoming increasingly difficult to collect and share data between different organizations. In addition, the sensitive nature of certain data (e.g., financial transactions and medical records) prohibits the collection, fusion, and use of data, and forces data to exist in isolated data silos maintained by data owners <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. As a result, a way has been sought to train machine learning models without having to centralize all data into a central storage point.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">The concept of federated learning was first introduced by McMahan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> in 2016. Federated learning has received a lot of attention for its ability to train large-scale models in a decentralized manner without direct access to user data. It helps protect users’ private data from centralized collection. In contrast to distributed machine learning, federated learning aims to process heterogeneous and unbalanced data from a variety of real-world applications (e.g., apps in smartphones).</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Federated Learning is a machine learning framework that effectively helps multiple organizations perform modeling of data while meeting user privacy, data security, and government regulatory requirements. Federated learning, as a distributed machine learning paradigm, can effectively solve the problem of data silos, allowing participants to jointly model without sharing data, which can technically break down data silos and enable AI collaboration. Federated networks consist of a large number of devices, so communication speeds in the network are many orders of magnitude slower than local computing speeds. Devices often generate and collect data in a way that is not identically distributed across the network, and the amount of data across devices can vary greatly. This data generation violates the assumption of independent identical distributions commonly used in distributed optimization and increases the complexity of modeling, analysis, and evaluation.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Compared with other machine learning paradiagms, federated learning is subject to the following challenges <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>:</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">1)<em id="S1.p6.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Non-Independent Identical Distribution (Non-IID):</em> The distribution of data in each device is not representative of the global data distribution, i.e., the categories in each device are incomplete. For example, there are 100 categories of images in the full set, and in one device are landscape images, while in another device are people or plant images. The former is one distribution and the latter is another. That is the Non-IID in federated learning. Conversely, if there are 100 categories of pictures in a certain device, and the other devices also have these 100 categories of pictures, then they are identically distributed. In real daily life, data samples distributed across different platforms are not independently and homogeneously distributed. When dealing with Non-IID data, the training complexity of the federated learning model may be greatly increased.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">2)<em id="S1.p7.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Unbalanced:</em> The data amount on the clients may be different, because some clients produce a lot of data for model learning and some clients produce less. For example, a device has one hundred pictures in the landscape category and ten pictures in the animal category, while a device has ten thousand pictures in the landscape category and one thousand pictures in the animal category. The difference in the number of samples per device or in the number of samples per category is generally described as unbalanced. Unbalanced data also creates the problem of heterogeneity, which leads to an increase in the training complexity of the federated learning model.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.3" class="ltx_p">3)<em id="S1.p8.3.1" class="ltx_emph ltx_font_bold ltx_font_italic">Massively distributed:</em> The size of the clients participating in federated learning is much larger than the average number of examples per client. The clients for distributed learning are the compute nodes in a single cluster or data center, which are typically 1<math id="S1.p8.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S1.p8.1.m1.1a"><mo id="S1.p8.1.m1.1.1" xref="S1.p8.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.p8.1.m1.1b"><csymbol cd="latexml" id="S1.p8.1.m1.1.1.cmml" xref="S1.p8.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.p8.1.m1.1c">\sim</annotation></semantics></math>1000 clients. Cross-silo federated learning is commonly 2<math id="S1.p8.2.m2.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S1.p8.2.m2.1a"><mo id="S1.p8.2.m2.1.1" xref="S1.p8.2.m2.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.p8.2.m2.1b"><csymbol cd="latexml" id="S1.p8.2.m2.1.1.cmml" xref="S1.p8.2.m2.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.p8.2.m2.1c">\sim</annotation></semantics></math>100 clients. While cross-device federated learning uses massive parallelism and can reach <math id="S1.p8.3.m3.1" class="ltx_Math" alttext="10^{10}" display="inline"><semantics id="S1.p8.3.m3.1a"><msup id="S1.p8.3.m3.1.1" xref="S1.p8.3.m3.1.1.cmml"><mn id="S1.p8.3.m3.1.1.2" xref="S1.p8.3.m3.1.1.2.cmml">10</mn><mn id="S1.p8.3.m3.1.1.3" xref="S1.p8.3.m3.1.1.3.cmml">10</mn></msup><annotation-xml encoding="MathML-Content" id="S1.p8.3.m3.1b"><apply id="S1.p8.3.m3.1.1.cmml" xref="S1.p8.3.m3.1.1"><csymbol cd="ambiguous" id="S1.p8.3.m3.1.1.1.cmml" xref="S1.p8.3.m3.1.1">superscript</csymbol><cn type="integer" id="S1.p8.3.m3.1.1.2.cmml" xref="S1.p8.3.m3.1.1.2">10</cn><cn type="integer" id="S1.p8.3.m3.1.1.3.cmml" xref="S1.p8.3.m3.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p8.3.m3.1c">10^{10}</annotation></semantics></math> clients.</p>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">4)<em id="S1.p9.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Limited communication:</em> Clients that participate in model learning are frequently offline or on slow or expensive connections. Participating in federated learning may be mobile devices such as cell phones and tablets, which may be disconnected from the central server at any time due to the habits of users and the unstable network environment where they are located. Moreover, the devices in federated learning may be distributed in different geographical locations, and they are generally connected to the central server remotely, and the communication cost is higher due to the network bandwidth of different devices. Therefore, with a large number of clients participating in federated learning, communication bandwidth is increasingly becoming a bottleneck.</p>
</div>
<div id="S1.p10" class="ltx_para">
<p id="S1.p10.1" class="ltx_p">In this work, we propose FedFa, a federated optimization algorithm with a double momentum gradient method, and an appropriate weighting strategy based on the information of the frequency of participation or learning accuracy. We introduce momentum gradient descent in both client and server to help the gradient converge faster, and also weight clients appropriately using the information quantity about the accuracy and frequency of participation in the training. As a result, our proposed method has faster convergence and stability in comparison to traditional federated learning.</p>
</div>
<div id="S1.p11" class="ltx_para">
<p id="S1.p11.1" class="ltx_p">The remainder of the paper is organized as follows. In <span id="S1.p11.1.1" class="ltx_text" style="color:#0000FF;">Section 2</span>, we provide a related work on federated learning. The detail of the proposed algorithm, FedFa, especially the double momentum gradient method, and appropriate weighting strategies are described in <span id="S1.p11.1.2" class="ltx_text" style="color:#0000FF;">Section 3</span>. In <span id="S1.p11.1.3" class="ltx_text" style="color:#0000FF;">Section 4</span>, we provide a thorough empirical evaluation of FedFa on a suite of synthetic and real-world federated datasets. Finally, conclusions are drawn in <span id="S1.p11.1.4" class="ltx_text" style="color:#0000FF;">Section 5</span>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Federated learning faces some challenges includes the joint optimization of heterogeneous data and expensive communication. The Federal Average Method (FedAvg), as the fundamental framework under the FL setup, has been improved by numerous researchers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p"><em id="S2.p2.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Heterogeneity</em> is a fundamental problem for federated learning. If heterogeneity is not addressed, the accuracy of the model cannot be improved, making it impossible to put federated learning into practical use. Heterogeneity in federated learning encompasses both systematic and statistical heterogeneity <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Zhao et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> argued that the loss of accuracy of federated learning on Non-IID data can be explained by weight divergence, which improves the training of non-iid data by introducing EMD (earth move distance) distances and sharing a small portion of global data between clients. While this approach does allow for the creation of more accurate models, it has several drawbacks, the most critical of which is that we typically cannot assume the availability of such a public dataset. Sattler et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> proposed the Cluster Federal Learning (CFL) algorithm, which allows clients with similar data to cooperate with each other while minimizing interference between clients with different data. CFL is flexible enough to handle client populations that change over time and can be implemented in a privacy preserving manner. However, the time complexity of training the CFL algorithm during splitting is high and the communication burden increases. Huang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> borrowed the idea from the AdaBoost algorithm in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. According to the median value of loss for each client in the previous round, the number of epochs trained on the local model for the client in the current iteration round is dynamically adjusted to solve the problem of inconsistent data distribution. Li et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> proposed a broader framework based on FedAvg, FedProx, which is capable of handling heterogeneous federated data, while maintaining similar privacy and computational advantages. The framework does not depend on the particular solver used on each device and can improve the robustness and stability of convergence in heterogeneous federated networks. However, the proximal term constraint is isotropic and is not personalized for solving client heterogeneity problems in federated learning. The team also presented <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> the q-FFL method, which constructs a novel goal that can improve the fairness of the accuracy distribution in federated learning. Simply minimizing the total loss in the network may benefit or disadvantage some devices, so q-FFL can achieve a more uniform accuracy distribution across devices, significantly reducing variance while ensuring average accuracy.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p"><em id="S2.p3.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Communication</em> optimization problems for federated learning can be categorized mainly into communication bandwidth-based, communication latency-based, and network topology-based <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. The local update method can reduce the total number of rounds of communication, Yao et al. developed the FedMMD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> and FedFusion <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> algorithms, where FedMMD incorporates MMD loss in the objective function of the local model and FedFusion fuses the global model in the training of the local model on the client side. Experiments have shown that both algorithms converge faster, with higher accuracy and fewer communications than the FedAvg algorithm. Model compression schemes (e.g., sparsification, subsampling, and quantization) can significantly reduce the message size per round of communication. Some work has provided practical strategies in federated settings, such as forcing the update model to become sparse and low-ranked, performing quantization using structured random rotation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, using lossy compression and random inactivation to reduce server-to-device communication <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>, and applying Golomb lossless coding <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. Ribero et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> derived an optimal sampling strategy to reduce communication by modeling the variation in customer weights through the Ornstein-Uhlenbeck process in a communication-constrained environment. Li et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> proposed a decentralized federated learning framework based on blockchain, i.e., a Blockchain-based Federated Learning framework with Committee consensus (BFLC). Decentralized algorithms in federated learning could theoretically reduce the high communication costs on a central server.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">There are also many other researches on federated learning, e.g., federated multi-task learning, federated meta-learning, personalized Federated Learning and federated multi-center learning, etc. Shoham et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> proposed the FedCur framework, which combines the idea of multi-task learning to address how to learn a task in federated learning without interfering with different tasks learned on the same model. Smith et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> introduced the MOCHA framework that connects each task with different parameters and learns the independence of each device by adding loss terms, while modeling task correlations through multi-task learning using shared representations. MOCHA uses a primal pairwise formulation to solve optimization problems, which is limited to convex objectives, and has limited ability to extend large-scale networks and is not suitable for deep networks. Jiang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> argued that the FedAvg method proposed by McMahan <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> has many similarities with MAML <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> and can be interpreted in terms of meta-learning algorithms. Dinh et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> put forward a personalized federated learning scheme, which introduces moreau envelopes optimization based on client-side loss functions. With this scheme, the client can not only construct a global model as in classical federated learning, but also use the global model to optimize its personalized model. Xie et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> developed a novel multi-center aggregation method to address the Non-IID challenges of federated learning , and presented the federated stochastic expectation maximization (FeSEM) to solve the optimization problem of the proposed objective function. However, the influence of prior values of multiple centers is significant, and the initialized values are uncertain for the optimization process.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p">The heterogeneous nature of federated learning leads to the possibility of preferences for certain clients in the training process, i.e., there may be unfairness. We leverage the accuracy and frequency of our clients’ involvement in the training process to select the appropriate weights for each round of server aggregation. One of the best ways to reduce network overload is to quickly and stably converge the target accuracy of the learning model in federated learning. Therefore, we introduce the momentum gradient descent method for the client and server, respectively.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Fairness and accuracy in federated learning (FedFa) </h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we will introduce fairness and accuracy in federated learning (FedFa). It is presented in two parts: the double momentum gradient approach and the appropriate weighting strategies. We begin with an introduction to the basic concepts of federated learning. Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> illustrates a framework for federated learning.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2012.10069/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="242" height="165" alt="Refer to caption">
<br class="ltx_break ltx_centering">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Framework of a federated learning.</figcaption>
</figure>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.5" class="ltx_p">In FedAvg, the framework is composed of a central server <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="PS" display="inline"><semantics id="S3.p2.1.m1.1a"><mrow id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.2" xref="S3.p2.1.m1.1.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.p2.1.m1.1.1.1" xref="S3.p2.1.m1.1.1.1.cmml">​</mo><mi id="S3.p2.1.m1.1.1.3" xref="S3.p2.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"><times id="S3.p2.1.m1.1.1.1.cmml" xref="S3.p2.1.m1.1.1.1"></times><ci id="S3.p2.1.m1.1.1.2.cmml" xref="S3.p2.1.m1.1.1.2">𝑃</ci><ci id="S3.p2.1.m1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">PS</annotation></semantics></math> and <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">K</annotation></semantics></math> clients. As shown in Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, the process of the entire algorithm has the following steps for a <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">T</annotation></semantics></math>-round training loop: first, the server randomly selects a subset <math id="S3.p2.4.m4.1" class="ltx_Math" alttext="K\ll N" display="inline"><semantics id="S3.p2.4.m4.1a"><mrow id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml"><mi id="S3.p2.4.m4.1.1.2" xref="S3.p2.4.m4.1.1.2.cmml">K</mi><mo id="S3.p2.4.m4.1.1.1" xref="S3.p2.4.m4.1.1.1.cmml">≪</mo><mi id="S3.p2.4.m4.1.1.3" xref="S3.p2.4.m4.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><apply id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1"><csymbol cd="latexml" id="S3.p2.4.m4.1.1.1.cmml" xref="S3.p2.4.m4.1.1.1">much-less-than</csymbol><ci id="S3.p2.4.m4.1.1.2.cmml" xref="S3.p2.4.m4.1.1.2">𝐾</ci><ci id="S3.p2.4.m4.1.1.3.cmml" xref="S3.p2.4.m4.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">K\ll N</annotation></semantics></math> of the total devices. Then, the initialized parameter <math id="S3.p2.5.m5.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="S3.p2.5.m5.1a"><msub id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml"><mi id="S3.p2.5.m5.1.1.2" xref="S3.p2.5.m5.1.1.2.cmml">w</mi><mi id="S3.p2.5.m5.1.1.3" xref="S3.p2.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><apply id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p2.5.m5.1.1.1.cmml" xref="S3.p2.5.m5.1.1">subscript</csymbol><ci id="S3.p2.5.m5.1.1.2.cmml" xref="S3.p2.5.m5.1.1.2">𝑤</ci><ci id="S3.p2.5.m5.1.1.3.cmml" xref="S3.p2.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">w_{t}</annotation></semantics></math> is sent to these devices, and each device updates the parameter using the local dataset and sends it back to the server. Finally, the server aggregates and averages the parameters sent by these devices.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">The pseudo code of FedAvg is provided in Algorithm <a href="#algorithm1" title="In 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.24" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.8.8" class="ltx_listingline">
<span id="algorithm1.8.8.1" class="ltx_text"><span id="algorithm1.8.8.1.1" class="ltx_text ltx_font_bold">Input:</span> </span>input parameters <math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="algorithm1.1.1.m1.1a"><mi id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">K</annotation></semantics></math>, <math id="algorithm1.2.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algorithm1.2.2.m2.1a"><mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">T</annotation></semantics></math>, <math id="algorithm1.3.3.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="algorithm1.3.3.m3.1a"><mi id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.1b"><ci id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m3.1c">\eta</annotation></semantics></math>, <math id="algorithm1.4.4.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm1.4.4.m4.1a"><mi id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.1b"><ci id="algorithm1.4.4.m4.1.1.cmml" xref="algorithm1.4.4.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m4.1c">E</annotation></semantics></math>, <math id="algorithm1.5.5.m5.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="algorithm1.5.5.m5.1a"><msup id="algorithm1.5.5.m5.1.1" xref="algorithm1.5.5.m5.1.1.cmml"><mi id="algorithm1.5.5.m5.1.1.2" xref="algorithm1.5.5.m5.1.1.2.cmml">w</mi><mn id="algorithm1.5.5.m5.1.1.3" xref="algorithm1.5.5.m5.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m5.1b"><apply id="algorithm1.5.5.m5.1.1.cmml" xref="algorithm1.5.5.m5.1.1"><csymbol cd="ambiguous" id="algorithm1.5.5.m5.1.1.1.cmml" xref="algorithm1.5.5.m5.1.1">superscript</csymbol><ci id="algorithm1.5.5.m5.1.1.2.cmml" xref="algorithm1.5.5.m5.1.1.2">𝑤</ci><cn type="integer" id="algorithm1.5.5.m5.1.1.3.cmml" xref="algorithm1.5.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m5.1c">w^{0}</annotation></semantics></math>, <math id="algorithm1.6.6.m6.1" class="ltx_Math" alttext="N" display="inline"><semantics id="algorithm1.6.6.m6.1a"><mi id="algorithm1.6.6.m6.1.1" xref="algorithm1.6.6.m6.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m6.1b"><ci id="algorithm1.6.6.m6.1.1.cmml" xref="algorithm1.6.6.m6.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m6.1c">N</annotation></semantics></math>, <math id="algorithm1.7.7.m7.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="algorithm1.7.7.m7.1a"><msub id="algorithm1.7.7.m7.1.1" xref="algorithm1.7.7.m7.1.1.cmml"><mi id="algorithm1.7.7.m7.1.1.2" xref="algorithm1.7.7.m7.1.1.2.cmml">p</mi><mi id="algorithm1.7.7.m7.1.1.3" xref="algorithm1.7.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m7.1b"><apply id="algorithm1.7.7.m7.1.1.cmml" xref="algorithm1.7.7.m7.1.1"><csymbol cd="ambiguous" id="algorithm1.7.7.m7.1.1.1.cmml" xref="algorithm1.7.7.m7.1.1">subscript</csymbol><ci id="algorithm1.7.7.m7.1.1.2.cmml" xref="algorithm1.7.7.m7.1.1.2">𝑝</ci><ci id="algorithm1.7.7.m7.1.1.3.cmml" xref="algorithm1.7.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m7.1c">p_{k}</annotation></semantics></math>, <math id="algorithm1.8.8.m8.3" class="ltx_Math" alttext="k=1,...,N" display="inline"><semantics id="algorithm1.8.8.m8.3a"><mrow id="algorithm1.8.8.m8.3.4" xref="algorithm1.8.8.m8.3.4.cmml"><mi id="algorithm1.8.8.m8.3.4.2" xref="algorithm1.8.8.m8.3.4.2.cmml">k</mi><mo id="algorithm1.8.8.m8.3.4.1" xref="algorithm1.8.8.m8.3.4.1.cmml">=</mo><mrow id="algorithm1.8.8.m8.3.4.3.2" xref="algorithm1.8.8.m8.3.4.3.1.cmml"><mn id="algorithm1.8.8.m8.1.1" xref="algorithm1.8.8.m8.1.1.cmml">1</mn><mo id="algorithm1.8.8.m8.3.4.3.2.1" xref="algorithm1.8.8.m8.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algorithm1.8.8.m8.2.2" xref="algorithm1.8.8.m8.2.2.cmml">…</mi><mo id="algorithm1.8.8.m8.3.4.3.2.2" xref="algorithm1.8.8.m8.3.4.3.1.cmml">,</mo><mi id="algorithm1.8.8.m8.3.3" xref="algorithm1.8.8.m8.3.3.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m8.3b"><apply id="algorithm1.8.8.m8.3.4.cmml" xref="algorithm1.8.8.m8.3.4"><eq id="algorithm1.8.8.m8.3.4.1.cmml" xref="algorithm1.8.8.m8.3.4.1"></eq><ci id="algorithm1.8.8.m8.3.4.2.cmml" xref="algorithm1.8.8.m8.3.4.2">𝑘</ci><list id="algorithm1.8.8.m8.3.4.3.1.cmml" xref="algorithm1.8.8.m8.3.4.3.2"><cn type="integer" id="algorithm1.8.8.m8.1.1.cmml" xref="algorithm1.8.8.m8.1.1">1</cn><ci id="algorithm1.8.8.m8.2.2.cmml" xref="algorithm1.8.8.m8.2.2">…</ci><ci id="algorithm1.8.8.m8.3.3.cmml" xref="algorithm1.8.8.m8.3.3">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m8.3c">k=1,...,N</annotation></semantics></math>
</div>
<div id="algorithm1.9.9" class="ltx_listingline">
<span id="algorithm1.9.9.1" class="ltx_text ltx_font_bold">for</span> <math id="algorithm1.9.9.m1.3" class="ltx_Math" alttext="t=0,...,T-1" display="inline"><semantics id="algorithm1.9.9.m1.3a"><mrow id="algorithm1.9.9.m1.3.3" xref="algorithm1.9.9.m1.3.3.cmml"><mi id="algorithm1.9.9.m1.3.3.3" xref="algorithm1.9.9.m1.3.3.3.cmml">t</mi><mo id="algorithm1.9.9.m1.3.3.2" xref="algorithm1.9.9.m1.3.3.2.cmml">=</mo><mrow id="algorithm1.9.9.m1.3.3.1.1" xref="algorithm1.9.9.m1.3.3.1.2.cmml"><mn id="algorithm1.9.9.m1.1.1" xref="algorithm1.9.9.m1.1.1.cmml">0</mn><mo id="algorithm1.9.9.m1.3.3.1.1.2" xref="algorithm1.9.9.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="algorithm1.9.9.m1.2.2" xref="algorithm1.9.9.m1.2.2.cmml">…</mi><mo id="algorithm1.9.9.m1.3.3.1.1.3" xref="algorithm1.9.9.m1.3.3.1.2.cmml">,</mo><mrow id="algorithm1.9.9.m1.3.3.1.1.1" xref="algorithm1.9.9.m1.3.3.1.1.1.cmml"><mi id="algorithm1.9.9.m1.3.3.1.1.1.2" xref="algorithm1.9.9.m1.3.3.1.1.1.2.cmml">T</mi><mo id="algorithm1.9.9.m1.3.3.1.1.1.1" xref="algorithm1.9.9.m1.3.3.1.1.1.1.cmml">−</mo><mn id="algorithm1.9.9.m1.3.3.1.1.1.3" xref="algorithm1.9.9.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.3b"><apply id="algorithm1.9.9.m1.3.3.cmml" xref="algorithm1.9.9.m1.3.3"><eq id="algorithm1.9.9.m1.3.3.2.cmml" xref="algorithm1.9.9.m1.3.3.2"></eq><ci id="algorithm1.9.9.m1.3.3.3.cmml" xref="algorithm1.9.9.m1.3.3.3">𝑡</ci><list id="algorithm1.9.9.m1.3.3.1.2.cmml" xref="algorithm1.9.9.m1.3.3.1.1"><cn type="integer" id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1">0</cn><ci id="algorithm1.9.9.m1.2.2.cmml" xref="algorithm1.9.9.m1.2.2">…</ci><apply id="algorithm1.9.9.m1.3.3.1.1.1.cmml" xref="algorithm1.9.9.m1.3.3.1.1.1"><minus id="algorithm1.9.9.m1.3.3.1.1.1.1.cmml" xref="algorithm1.9.9.m1.3.3.1.1.1.1"></minus><ci id="algorithm1.9.9.m1.3.3.1.1.1.2.cmml" xref="algorithm1.9.9.m1.3.3.1.1.1.2">𝑇</ci><cn type="integer" id="algorithm1.9.9.m1.3.3.1.1.1.3.cmml" xref="algorithm1.9.9.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m1.3c">t=0,...,T-1</annotation></semantics></math> <span id="algorithm1.9.9.2" class="ltx_text ltx_font_bold">do</span>;
</div>
<div id="algorithm1.13.13" class="ltx_listingline">   Server selects a subset <math id="algorithm1.10.10.m1.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="algorithm1.10.10.m1.1a"><msub id="algorithm1.10.10.m1.1.1" xref="algorithm1.10.10.m1.1.1.cmml"><mi id="algorithm1.10.10.m1.1.1.2" xref="algorithm1.10.10.m1.1.1.2.cmml">S</mi><mi id="algorithm1.10.10.m1.1.1.3" xref="algorithm1.10.10.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m1.1b"><apply id="algorithm1.10.10.m1.1.1.cmml" xref="algorithm1.10.10.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1">subscript</csymbol><ci id="algorithm1.10.10.m1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.2">𝑆</ci><ci id="algorithm1.10.10.m1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m1.1c">S_{t}</annotation></semantics></math> of <math id="algorithm1.11.11.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="algorithm1.11.11.m2.1a"><mi id="algorithm1.11.11.m2.1.1" xref="algorithm1.11.11.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m2.1b"><ci id="algorithm1.11.11.m2.1.1.cmml" xref="algorithm1.11.11.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m2.1c">K</annotation></semantics></math> devices at random (each device <math id="algorithm1.12.12.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="algorithm1.12.12.m3.1a"><mi id="algorithm1.12.12.m3.1.1" xref="algorithm1.12.12.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m3.1b"><ci id="algorithm1.12.12.m3.1.1.cmml" xref="algorithm1.12.12.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.m3.1c">k</annotation></semantics></math> is chosen with probability <math id="algorithm1.13.13.m4.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="algorithm1.13.13.m4.1a"><msub id="algorithm1.13.13.m4.1.1" xref="algorithm1.13.13.m4.1.1.cmml"><mi id="algorithm1.13.13.m4.1.1.2" xref="algorithm1.13.13.m4.1.1.2.cmml">p</mi><mi id="algorithm1.13.13.m4.1.1.3" xref="algorithm1.13.13.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m4.1b"><apply id="algorithm1.13.13.m4.1.1.cmml" xref="algorithm1.13.13.m4.1.1"><csymbol cd="ambiguous" id="algorithm1.13.13.m4.1.1.1.cmml" xref="algorithm1.13.13.m4.1.1">subscript</csymbol><ci id="algorithm1.13.13.m4.1.1.2.cmml" xref="algorithm1.13.13.m4.1.1.2">𝑝</ci><ci id="algorithm1.13.13.m4.1.1.3.cmml" xref="algorithm1.13.13.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m4.1c">p_{k}</annotation></semantics></math>);
</div>
<div id="algorithm1.14.14" class="ltx_listingline">
  Server sends <math id="algorithm1.14.14.m1.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="algorithm1.14.14.m1.1a"><msup id="algorithm1.14.14.m1.1.1" xref="algorithm1.14.14.m1.1.1.cmml"><mi id="algorithm1.14.14.m1.1.1.2" xref="algorithm1.14.14.m1.1.1.2.cmml">w</mi><mi id="algorithm1.14.14.m1.1.1.3" xref="algorithm1.14.14.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.1b"><apply id="algorithm1.14.14.m1.1.1.cmml" xref="algorithm1.14.14.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.1.1.1.cmml" xref="algorithm1.14.14.m1.1.1">superscript</csymbol><ci id="algorithm1.14.14.m1.1.1.2.cmml" xref="algorithm1.14.14.m1.1.1.2">𝑤</ci><ci id="algorithm1.14.14.m1.1.1.3.cmml" xref="algorithm1.14.14.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.1c">w^{t}</annotation></semantics></math> to all chosen devices;
</div>
<div id="algorithm1.20.20" class="ltx_listingline">
  Each device <math id="algorithm1.15.15.m1.1" class="ltx_Math" alttext="k\in S_{t}" display="inline"><semantics id="algorithm1.15.15.m1.1a"><mrow id="algorithm1.15.15.m1.1.1" xref="algorithm1.15.15.m1.1.1.cmml"><mi id="algorithm1.15.15.m1.1.1.2" xref="algorithm1.15.15.m1.1.1.2.cmml">k</mi><mo id="algorithm1.15.15.m1.1.1.1" xref="algorithm1.15.15.m1.1.1.1.cmml">∈</mo><msub id="algorithm1.15.15.m1.1.1.3" xref="algorithm1.15.15.m1.1.1.3.cmml"><mi id="algorithm1.15.15.m1.1.1.3.2" xref="algorithm1.15.15.m1.1.1.3.2.cmml">S</mi><mi id="algorithm1.15.15.m1.1.1.3.3" xref="algorithm1.15.15.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m1.1b"><apply id="algorithm1.15.15.m1.1.1.cmml" xref="algorithm1.15.15.m1.1.1"><in id="algorithm1.15.15.m1.1.1.1.cmml" xref="algorithm1.15.15.m1.1.1.1"></in><ci id="algorithm1.15.15.m1.1.1.2.cmml" xref="algorithm1.15.15.m1.1.1.2">𝑘</ci><apply id="algorithm1.15.15.m1.1.1.3.cmml" xref="algorithm1.15.15.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.1.1.3.1.cmml" xref="algorithm1.15.15.m1.1.1.3">subscript</csymbol><ci id="algorithm1.15.15.m1.1.1.3.2.cmml" xref="algorithm1.15.15.m1.1.1.3.2">𝑆</ci><ci id="algorithm1.15.15.m1.1.1.3.3.cmml" xref="algorithm1.15.15.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.m1.1c">k\in S_{t}</annotation></semantics></math> updates <math id="algorithm1.16.16.m2.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="algorithm1.16.16.m2.1a"><msup id="algorithm1.16.16.m2.1.1" xref="algorithm1.16.16.m2.1.1.cmml"><mi id="algorithm1.16.16.m2.1.1.2" xref="algorithm1.16.16.m2.1.1.2.cmml">w</mi><mi id="algorithm1.16.16.m2.1.1.3" xref="algorithm1.16.16.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m2.1b"><apply id="algorithm1.16.16.m2.1.1.cmml" xref="algorithm1.16.16.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.16.16.m2.1.1.1.cmml" xref="algorithm1.16.16.m2.1.1">superscript</csymbol><ci id="algorithm1.16.16.m2.1.1.2.cmml" xref="algorithm1.16.16.m2.1.1.2">𝑤</ci><ci id="algorithm1.16.16.m2.1.1.3.cmml" xref="algorithm1.16.16.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m2.1c">w^{t}</annotation></semantics></math> for <math id="algorithm1.17.17.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm1.17.17.m3.1a"><mi id="algorithm1.17.17.m3.1.1" xref="algorithm1.17.17.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.m3.1b"><ci id="algorithm1.17.17.m3.1.1.cmml" xref="algorithm1.17.17.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.m3.1c">E</annotation></semantics></math> epochs of SGD on <math id="algorithm1.18.18.m4.1" class="ltx_Math" alttext="F_{k}" display="inline"><semantics id="algorithm1.18.18.m4.1a"><msub id="algorithm1.18.18.m4.1.1" xref="algorithm1.18.18.m4.1.1.cmml"><mi id="algorithm1.18.18.m4.1.1.2" xref="algorithm1.18.18.m4.1.1.2.cmml">F</mi><mi id="algorithm1.18.18.m4.1.1.3" xref="algorithm1.18.18.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.m4.1b"><apply id="algorithm1.18.18.m4.1.1.cmml" xref="algorithm1.18.18.m4.1.1"><csymbol cd="ambiguous" id="algorithm1.18.18.m4.1.1.1.cmml" xref="algorithm1.18.18.m4.1.1">subscript</csymbol><ci id="algorithm1.18.18.m4.1.1.2.cmml" xref="algorithm1.18.18.m4.1.1.2">𝐹</ci><ci id="algorithm1.18.18.m4.1.1.3.cmml" xref="algorithm1.18.18.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.m4.1c">F_{k}</annotation></semantics></math> with step-size <math id="algorithm1.19.19.m5.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="algorithm1.19.19.m5.1a"><mi id="algorithm1.19.19.m5.1.1" xref="algorithm1.19.19.m5.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.m5.1b"><ci id="algorithm1.19.19.m5.1.1.cmml" xref="algorithm1.19.19.m5.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.m5.1c">\eta</annotation></semantics></math> to obtain <math id="algorithm1.20.20.m6.1" class="ltx_Math" alttext="w_{k}^{t+1}" display="inline"><semantics id="algorithm1.20.20.m6.1a"><msubsup id="algorithm1.20.20.m6.1.1" xref="algorithm1.20.20.m6.1.1.cmml"><mi id="algorithm1.20.20.m6.1.1.2.2" xref="algorithm1.20.20.m6.1.1.2.2.cmml">w</mi><mi id="algorithm1.20.20.m6.1.1.2.3" xref="algorithm1.20.20.m6.1.1.2.3.cmml">k</mi><mrow id="algorithm1.20.20.m6.1.1.3" xref="algorithm1.20.20.m6.1.1.3.cmml"><mi id="algorithm1.20.20.m6.1.1.3.2" xref="algorithm1.20.20.m6.1.1.3.2.cmml">t</mi><mo id="algorithm1.20.20.m6.1.1.3.1" xref="algorithm1.20.20.m6.1.1.3.1.cmml">+</mo><mn id="algorithm1.20.20.m6.1.1.3.3" xref="algorithm1.20.20.m6.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.m6.1b"><apply id="algorithm1.20.20.m6.1.1.cmml" xref="algorithm1.20.20.m6.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m6.1.1.1.cmml" xref="algorithm1.20.20.m6.1.1">superscript</csymbol><apply id="algorithm1.20.20.m6.1.1.2.cmml" xref="algorithm1.20.20.m6.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m6.1.1.2.1.cmml" xref="algorithm1.20.20.m6.1.1">subscript</csymbol><ci id="algorithm1.20.20.m6.1.1.2.2.cmml" xref="algorithm1.20.20.m6.1.1.2.2">𝑤</ci><ci id="algorithm1.20.20.m6.1.1.2.3.cmml" xref="algorithm1.20.20.m6.1.1.2.3">𝑘</ci></apply><apply id="algorithm1.20.20.m6.1.1.3.cmml" xref="algorithm1.20.20.m6.1.1.3"><plus id="algorithm1.20.20.m6.1.1.3.1.cmml" xref="algorithm1.20.20.m6.1.1.3.1"></plus><ci id="algorithm1.20.20.m6.1.1.3.2.cmml" xref="algorithm1.20.20.m6.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm1.20.20.m6.1.1.3.3.cmml" xref="algorithm1.20.20.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.m6.1c">w_{k}^{t+1}</annotation></semantics></math>;
</div>
<div id="algorithm1.22.22" class="ltx_listingline">
  Each device <math id="algorithm1.21.21.m1.1" class="ltx_Math" alttext="k\in S_{t}" display="inline"><semantics id="algorithm1.21.21.m1.1a"><mrow id="algorithm1.21.21.m1.1.1" xref="algorithm1.21.21.m1.1.1.cmml"><mi id="algorithm1.21.21.m1.1.1.2" xref="algorithm1.21.21.m1.1.1.2.cmml">k</mi><mo id="algorithm1.21.21.m1.1.1.1" xref="algorithm1.21.21.m1.1.1.1.cmml">∈</mo><msub id="algorithm1.21.21.m1.1.1.3" xref="algorithm1.21.21.m1.1.1.3.cmml"><mi id="algorithm1.21.21.m1.1.1.3.2" xref="algorithm1.21.21.m1.1.1.3.2.cmml">S</mi><mi id="algorithm1.21.21.m1.1.1.3.3" xref="algorithm1.21.21.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.21.21.m1.1b"><apply id="algorithm1.21.21.m1.1.1.cmml" xref="algorithm1.21.21.m1.1.1"><in id="algorithm1.21.21.m1.1.1.1.cmml" xref="algorithm1.21.21.m1.1.1.1"></in><ci id="algorithm1.21.21.m1.1.1.2.cmml" xref="algorithm1.21.21.m1.1.1.2">𝑘</ci><apply id="algorithm1.21.21.m1.1.1.3.cmml" xref="algorithm1.21.21.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.1.1.3.1.cmml" xref="algorithm1.21.21.m1.1.1.3">subscript</csymbol><ci id="algorithm1.21.21.m1.1.1.3.2.cmml" xref="algorithm1.21.21.m1.1.1.3.2">𝑆</ci><ci id="algorithm1.21.21.m1.1.1.3.3.cmml" xref="algorithm1.21.21.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.21.m1.1c">k\in S_{t}</annotation></semantics></math> sends <math id="algorithm1.22.22.m2.1" class="ltx_Math" alttext="w_{k}^{t+1}" display="inline"><semantics id="algorithm1.22.22.m2.1a"><msubsup id="algorithm1.22.22.m2.1.1" xref="algorithm1.22.22.m2.1.1.cmml"><mi id="algorithm1.22.22.m2.1.1.2.2" xref="algorithm1.22.22.m2.1.1.2.2.cmml">w</mi><mi id="algorithm1.22.22.m2.1.1.2.3" xref="algorithm1.22.22.m2.1.1.2.3.cmml">k</mi><mrow id="algorithm1.22.22.m2.1.1.3" xref="algorithm1.22.22.m2.1.1.3.cmml"><mi id="algorithm1.22.22.m2.1.1.3.2" xref="algorithm1.22.22.m2.1.1.3.2.cmml">t</mi><mo id="algorithm1.22.22.m2.1.1.3.1" xref="algorithm1.22.22.m2.1.1.3.1.cmml">+</mo><mn id="algorithm1.22.22.m2.1.1.3.3" xref="algorithm1.22.22.m2.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm1.22.22.m2.1b"><apply id="algorithm1.22.22.m2.1.1.cmml" xref="algorithm1.22.22.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.22.22.m2.1.1.1.cmml" xref="algorithm1.22.22.m2.1.1">superscript</csymbol><apply id="algorithm1.22.22.m2.1.1.2.cmml" xref="algorithm1.22.22.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.22.22.m2.1.1.2.1.cmml" xref="algorithm1.22.22.m2.1.1">subscript</csymbol><ci id="algorithm1.22.22.m2.1.1.2.2.cmml" xref="algorithm1.22.22.m2.1.1.2.2">𝑤</ci><ci id="algorithm1.22.22.m2.1.1.2.3.cmml" xref="algorithm1.22.22.m2.1.1.2.3">𝑘</ci></apply><apply id="algorithm1.22.22.m2.1.1.3.cmml" xref="algorithm1.22.22.m2.1.1.3"><plus id="algorithm1.22.22.m2.1.1.3.1.cmml" xref="algorithm1.22.22.m2.1.1.3.1"></plus><ci id="algorithm1.22.22.m2.1.1.3.2.cmml" xref="algorithm1.22.22.m2.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm1.22.22.m2.1.1.3.3.cmml" xref="algorithm1.22.22.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.22.22.m2.1c">w_{k}^{t+1}</annotation></semantics></math> back to the server ;
</div>
<div id="algorithm1.24.24" class="ltx_listingline">
  Server aggregates the <math id="algorithm1.23.23.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm1.23.23.m1.1a"><mi id="algorithm1.23.23.m1.1.1" xref="algorithm1.23.23.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm1.23.23.m1.1b"><ci id="algorithm1.23.23.m1.1.1.cmml" xref="algorithm1.23.23.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.23.23.m1.1c">w</annotation></semantics></math>’s as <math id="algorithm1.24.24.m2.1" class="ltx_Math" alttext="w^{t+1}=\Sigma_{k\in S_{t}}\frac{n_{k}}{n}\ w_{k}^{t+1}" display="inline"><semantics id="algorithm1.24.24.m2.1a"><mrow id="algorithm1.24.24.m2.1.1" xref="algorithm1.24.24.m2.1.1.cmml"><msup id="algorithm1.24.24.m2.1.1.2" xref="algorithm1.24.24.m2.1.1.2.cmml"><mi id="algorithm1.24.24.m2.1.1.2.2" xref="algorithm1.24.24.m2.1.1.2.2.cmml">w</mi><mrow id="algorithm1.24.24.m2.1.1.2.3" xref="algorithm1.24.24.m2.1.1.2.3.cmml"><mi id="algorithm1.24.24.m2.1.1.2.3.2" xref="algorithm1.24.24.m2.1.1.2.3.2.cmml">t</mi><mo id="algorithm1.24.24.m2.1.1.2.3.1" xref="algorithm1.24.24.m2.1.1.2.3.1.cmml">+</mo><mn id="algorithm1.24.24.m2.1.1.2.3.3" xref="algorithm1.24.24.m2.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="algorithm1.24.24.m2.1.1.1" xref="algorithm1.24.24.m2.1.1.1.cmml">=</mo><mrow id="algorithm1.24.24.m2.1.1.3" xref="algorithm1.24.24.m2.1.1.3.cmml"><msub id="algorithm1.24.24.m2.1.1.3.2" xref="algorithm1.24.24.m2.1.1.3.2.cmml"><mi mathvariant="normal" id="algorithm1.24.24.m2.1.1.3.2.2" xref="algorithm1.24.24.m2.1.1.3.2.2.cmml">Σ</mi><mrow id="algorithm1.24.24.m2.1.1.3.2.3" xref="algorithm1.24.24.m2.1.1.3.2.3.cmml"><mi id="algorithm1.24.24.m2.1.1.3.2.3.2" xref="algorithm1.24.24.m2.1.1.3.2.3.2.cmml">k</mi><mo id="algorithm1.24.24.m2.1.1.3.2.3.1" xref="algorithm1.24.24.m2.1.1.3.2.3.1.cmml">∈</mo><msub id="algorithm1.24.24.m2.1.1.3.2.3.3" xref="algorithm1.24.24.m2.1.1.3.2.3.3.cmml"><mi id="algorithm1.24.24.m2.1.1.3.2.3.3.2" xref="algorithm1.24.24.m2.1.1.3.2.3.3.2.cmml">S</mi><mi id="algorithm1.24.24.m2.1.1.3.2.3.3.3" xref="algorithm1.24.24.m2.1.1.3.2.3.3.3.cmml">t</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m2.1.1.3.1" xref="algorithm1.24.24.m2.1.1.3.1.cmml">​</mo><mfrac id="algorithm1.24.24.m2.1.1.3.3" xref="algorithm1.24.24.m2.1.1.3.3.cmml"><msub id="algorithm1.24.24.m2.1.1.3.3.2" xref="algorithm1.24.24.m2.1.1.3.3.2.cmml"><mi id="algorithm1.24.24.m2.1.1.3.3.2.2" xref="algorithm1.24.24.m2.1.1.3.3.2.2.cmml">n</mi><mi id="algorithm1.24.24.m2.1.1.3.3.2.3" xref="algorithm1.24.24.m2.1.1.3.3.2.3.cmml">k</mi></msub><mi id="algorithm1.24.24.m2.1.1.3.3.3" xref="algorithm1.24.24.m2.1.1.3.3.3.cmml">n</mi></mfrac><mo lspace="0.500em" rspace="0em" id="algorithm1.24.24.m2.1.1.3.1a" xref="algorithm1.24.24.m2.1.1.3.1.cmml">​</mo><msubsup id="algorithm1.24.24.m2.1.1.3.4" xref="algorithm1.24.24.m2.1.1.3.4.cmml"><mi id="algorithm1.24.24.m2.1.1.3.4.2.2" xref="algorithm1.24.24.m2.1.1.3.4.2.2.cmml">w</mi><mi id="algorithm1.24.24.m2.1.1.3.4.2.3" xref="algorithm1.24.24.m2.1.1.3.4.2.3.cmml">k</mi><mrow id="algorithm1.24.24.m2.1.1.3.4.3" xref="algorithm1.24.24.m2.1.1.3.4.3.cmml"><mi id="algorithm1.24.24.m2.1.1.3.4.3.2" xref="algorithm1.24.24.m2.1.1.3.4.3.2.cmml">t</mi><mo id="algorithm1.24.24.m2.1.1.3.4.3.1" xref="algorithm1.24.24.m2.1.1.3.4.3.1.cmml">+</mo><mn id="algorithm1.24.24.m2.1.1.3.4.3.3" xref="algorithm1.24.24.m2.1.1.3.4.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.24.24.m2.1b"><apply id="algorithm1.24.24.m2.1.1.cmml" xref="algorithm1.24.24.m2.1.1"><eq id="algorithm1.24.24.m2.1.1.1.cmml" xref="algorithm1.24.24.m2.1.1.1"></eq><apply id="algorithm1.24.24.m2.1.1.2.cmml" xref="algorithm1.24.24.m2.1.1.2"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.2.1.cmml" xref="algorithm1.24.24.m2.1.1.2">superscript</csymbol><ci id="algorithm1.24.24.m2.1.1.2.2.cmml" xref="algorithm1.24.24.m2.1.1.2.2">𝑤</ci><apply id="algorithm1.24.24.m2.1.1.2.3.cmml" xref="algorithm1.24.24.m2.1.1.2.3"><plus id="algorithm1.24.24.m2.1.1.2.3.1.cmml" xref="algorithm1.24.24.m2.1.1.2.3.1"></plus><ci id="algorithm1.24.24.m2.1.1.2.3.2.cmml" xref="algorithm1.24.24.m2.1.1.2.3.2">𝑡</ci><cn type="integer" id="algorithm1.24.24.m2.1.1.2.3.3.cmml" xref="algorithm1.24.24.m2.1.1.2.3.3">1</cn></apply></apply><apply id="algorithm1.24.24.m2.1.1.3.cmml" xref="algorithm1.24.24.m2.1.1.3"><times id="algorithm1.24.24.m2.1.1.3.1.cmml" xref="algorithm1.24.24.m2.1.1.3.1"></times><apply id="algorithm1.24.24.m2.1.1.3.2.cmml" xref="algorithm1.24.24.m2.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.3.2.1.cmml" xref="algorithm1.24.24.m2.1.1.3.2">subscript</csymbol><ci id="algorithm1.24.24.m2.1.1.3.2.2.cmml" xref="algorithm1.24.24.m2.1.1.3.2.2">Σ</ci><apply id="algorithm1.24.24.m2.1.1.3.2.3.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3"><in id="algorithm1.24.24.m2.1.1.3.2.3.1.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.1"></in><ci id="algorithm1.24.24.m2.1.1.3.2.3.2.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.2">𝑘</ci><apply id="algorithm1.24.24.m2.1.1.3.2.3.3.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.3"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.3.2.3.3.1.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.3">subscript</csymbol><ci id="algorithm1.24.24.m2.1.1.3.2.3.3.2.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.3.2">𝑆</ci><ci id="algorithm1.24.24.m2.1.1.3.2.3.3.3.cmml" xref="algorithm1.24.24.m2.1.1.3.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="algorithm1.24.24.m2.1.1.3.3.cmml" xref="algorithm1.24.24.m2.1.1.3.3"><divide id="algorithm1.24.24.m2.1.1.3.3.1.cmml" xref="algorithm1.24.24.m2.1.1.3.3"></divide><apply id="algorithm1.24.24.m2.1.1.3.3.2.cmml" xref="algorithm1.24.24.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.3.3.2.1.cmml" xref="algorithm1.24.24.m2.1.1.3.3.2">subscript</csymbol><ci id="algorithm1.24.24.m2.1.1.3.3.2.2.cmml" xref="algorithm1.24.24.m2.1.1.3.3.2.2">𝑛</ci><ci id="algorithm1.24.24.m2.1.1.3.3.2.3.cmml" xref="algorithm1.24.24.m2.1.1.3.3.2.3">𝑘</ci></apply><ci id="algorithm1.24.24.m2.1.1.3.3.3.cmml" xref="algorithm1.24.24.m2.1.1.3.3.3">𝑛</ci></apply><apply id="algorithm1.24.24.m2.1.1.3.4.cmml" xref="algorithm1.24.24.m2.1.1.3.4"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.3.4.1.cmml" xref="algorithm1.24.24.m2.1.1.3.4">superscript</csymbol><apply id="algorithm1.24.24.m2.1.1.3.4.2.cmml" xref="algorithm1.24.24.m2.1.1.3.4"><csymbol cd="ambiguous" id="algorithm1.24.24.m2.1.1.3.4.2.1.cmml" xref="algorithm1.24.24.m2.1.1.3.4">subscript</csymbol><ci id="algorithm1.24.24.m2.1.1.3.4.2.2.cmml" xref="algorithm1.24.24.m2.1.1.3.4.2.2">𝑤</ci><ci id="algorithm1.24.24.m2.1.1.3.4.2.3.cmml" xref="algorithm1.24.24.m2.1.1.3.4.2.3">𝑘</ci></apply><apply id="algorithm1.24.24.m2.1.1.3.4.3.cmml" xref="algorithm1.24.24.m2.1.1.3.4.3"><plus id="algorithm1.24.24.m2.1.1.3.4.3.1.cmml" xref="algorithm1.24.24.m2.1.1.3.4.3.1"></plus><ci id="algorithm1.24.24.m2.1.1.3.4.3.2.cmml" xref="algorithm1.24.24.m2.1.1.3.4.3.2">𝑡</ci><cn type="integer" id="algorithm1.24.24.m2.1.1.3.4.3.3.cmml" xref="algorithm1.24.24.m2.1.1.3.4.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.24.24.m2.1c">w^{t+1}=\Sigma_{k\in S_{t}}\frac{n_{k}}{n}\ w_{k}^{t+1}</annotation></semantics></math> ;
</div>
<div id="algorithm1.24.25" class="ltx_listingline">
<span id="algorithm1.24.25.1" class="ltx_text ltx_font_bold">end for</span>

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.26.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span>Federated Averaging <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> (FedAvg)</figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Double momentum gradient method</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.2" class="ltx_p">The ordinary gradient descent method is sufficient to solve conventional problems, such as linear regression. However, when the problem becomes complex, the ordinary gradient descent method faces many limitations. Specifically, for the ordinary gradient descent formula <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="w=w-\eta\Delta w" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mrow id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">w</mi><mo id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS1.p1.1.m1.1.1.3.2" xref="S3.SS1.p1.1.m1.1.1.3.2.cmml">w</mi><mo id="S3.SS1.p1.1.m1.1.1.3.1" xref="S3.SS1.p1.1.m1.1.1.3.1.cmml">−</mo><mrow id="S3.SS1.p1.1.m1.1.1.3.3" xref="S3.SS1.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS1.p1.1.m1.1.1.3.3.2" xref="S3.SS1.p1.1.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.1.m1.1.1.3.3.1" xref="S3.SS1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS1.p1.1.m1.1.1.3.3.3" xref="S3.SS1.p1.1.m1.1.1.3.3.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.1.m1.1.1.3.3.1a" xref="S3.SS1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p1.1.m1.1.1.3.3.4" xref="S3.SS1.p1.1.m1.1.1.3.3.4.cmml">w</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><eq id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"></eq><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑤</ci><apply id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3"><minus id="S3.SS1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.p1.1.m1.1.1.3.2">𝑤</ci><apply id="S3.SS1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3"><times id="S3.SS1.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS1.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3.2">𝜂</ci><ci id="S3.SS1.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3.3">Δ</ci><ci id="S3.SS1.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3.4">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">w=w-\eta\Delta w</annotation></semantics></math>, where <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\eta</annotation></semantics></math> denotes the learning rate and is the step size of the gradient adjustment on each time step. The gradient will be smaller when close to the optimal value. Since the learning rate is fixed, the ordinary gradient descent method will converge slower and sometimes even fall into a local optimum. If the historical gradient is taken into account, it will lead the parameters to converge faster towards the optimal value. The basic idea behind the momentum gradient descent method is to calculate the exponentially weighted average of the gradient and use that gradient to update the weights. If the current gradient descends in the same direction as the last update, the last update can act as a positive acceleration to the current search. Conversely, the last update can act as a deceleration to the current search. Thus, the formula for updating the client’s parameters is as follows:</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<table id="Sx2.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E1.m1.1" class="ltx_Math" alttext="\displaystyle m=\gamma m+\eta\Delta w_{k}^{t+1}," display="inline"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml">m</mi><mo id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml"><mrow id="S3.E1.m1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.3.2.cmml"><mi id="S3.E1.m1.1.1.1.1.3.2.2" xref="S3.E1.m1.1.1.1.1.3.2.2.cmml">γ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.3.2.1" xref="S3.E1.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E1.m1.1.1.1.1.3.2.3" xref="S3.E1.m1.1.1.1.1.3.2.3.cmml">m</mi></mrow><mo id="S3.E1.m1.1.1.1.1.3.1" xref="S3.E1.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E1.m1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.3.3.1" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.E1.m1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.3.3.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.3.3.1a" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">​</mo><msubsup id="S3.E1.m1.1.1.1.1.3.3.4" xref="S3.E1.m1.1.1.1.1.3.3.4.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.4.2.2" xref="S3.E1.m1.1.1.1.1.3.3.4.2.2.cmml">w</mi><mi id="S3.E1.m1.1.1.1.1.3.3.4.2.3" xref="S3.E1.m1.1.1.1.1.3.3.4.2.3.cmml">k</mi><mrow id="S3.E1.m1.1.1.1.1.3.3.4.3" xref="S3.E1.m1.1.1.1.1.3.3.4.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.4.3.2" xref="S3.E1.m1.1.1.1.1.3.3.4.3.2.cmml">t</mi><mo id="S3.E1.m1.1.1.1.1.3.3.4.3.1" xref="S3.E1.m1.1.1.1.1.3.3.4.3.1.cmml">+</mo><mn id="S3.E1.m1.1.1.1.1.3.3.4.3.3" xref="S3.E1.m1.1.1.1.1.3.3.4.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow></mrow><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"></eq><ci id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2">𝑚</ci><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"><plus id="S3.E1.m1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.1"></plus><apply id="S3.E1.m1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2"><times id="S3.E1.m1.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.3.2.1"></times><ci id="S3.E1.m1.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2.2">𝛾</ci><ci id="S3.E1.m1.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.3.2.3">𝑚</ci></apply><apply id="S3.E1.m1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3"><times id="S3.E1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.1"></times><ci id="S3.E1.m1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.2">𝜂</ci><ci id="S3.E1.m1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3">Δ</ci><apply id="S3.E1.m1.1.1.1.1.3.3.4.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.3.4.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4">superscript</csymbol><apply id="S3.E1.m1.1.1.1.1.3.3.4.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.3.4.2.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.3.4.2.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.2.2">𝑤</ci><ci id="S3.E1.m1.1.1.1.1.3.3.4.2.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.2.3">𝑘</ci></apply><apply id="S3.E1.m1.1.1.1.1.3.3.4.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.3"><plus id="S3.E1.m1.1.1.1.1.3.3.4.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.3.1"></plus><ci id="S3.E1.m1.1.1.1.1.3.3.4.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.3.2">𝑡</ci><cn type="integer" id="S3.E1.m1.1.1.1.1.3.3.4.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\displaystyle m=\gamma m+\eta\Delta w_{k}^{t+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E2.m1.1" class="ltx_Math" alttext="\displaystyle w_{k}^{t+1}=w_{k}^{t}-m," display="inline"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml"><mrow id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml"><msubsup id="S3.E2.m1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.1.1.1.1.2.2.2" xref="S3.E2.m1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S3.E2.m1.1.1.1.1.2.2.3" xref="S3.E2.m1.1.1.1.1.2.2.3.cmml">k</mi><mrow id="S3.E2.m1.1.1.1.1.2.3" xref="S3.E2.m1.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1.2.3.2" xref="S3.E2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E2.m1.1.1.1.1.2.3.1" xref="S3.E2.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.E2.m1.1.1.1.1.2.3.3" xref="S3.E2.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.3.cmml"><msubsup id="S3.E2.m1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.3.2.cmml"><mi id="S3.E2.m1.1.1.1.1.3.2.2.2" xref="S3.E2.m1.1.1.1.1.3.2.2.2.cmml">w</mi><mi id="S3.E2.m1.1.1.1.1.3.2.2.3" xref="S3.E2.m1.1.1.1.1.3.2.2.3.cmml">k</mi><mi id="S3.E2.m1.1.1.1.1.3.2.3" xref="S3.E2.m1.1.1.1.1.3.2.3.cmml">t</mi></msubsup><mo id="S3.E2.m1.1.1.1.1.3.1" xref="S3.E2.m1.1.1.1.1.3.1.cmml">−</mo><mi id="S3.E2.m1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.3.3.cmml">m</mi></mrow></mrow><mo id="S3.E2.m1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"><eq id="S3.E2.m1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"></eq><apply id="S3.E2.m1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.2">𝑤</ci><ci id="S3.E2.m1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.3">𝑘</ci></apply><apply id="S3.E2.m1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.1.1.2.3"><plus id="S3.E2.m1.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.1.1.1.1.2.3.1"></plus><ci id="S3.E2.m1.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E2.m1.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.3"><minus id="S3.E2.m1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.3.1"></minus><apply id="S3.E2.m1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.3.2.1.cmml" xref="S3.E2.m1.1.1.1.1.3.2">superscript</csymbol><apply id="S3.E2.m1.1.1.1.1.3.2.2.cmml" xref="S3.E2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.3.2.2.2">𝑤</ci><ci id="S3.E2.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.3.2.2.3">𝑘</ci></apply><ci id="S3.E2.m1.1.1.1.1.3.2.3.cmml" xref="S3.E2.m1.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.E2.m1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\displaystyle w_{k}^{t+1}=w_{k}^{t}-m,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.4" class="ltx_p">where <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">m</annotation></semantics></math> is the momentum term. <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\gamma</annotation></semantics></math> denotes the influence of the historical gradient, and the larger <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\gamma</annotation></semantics></math> is, the greater the influence of the historical gradient on the present. <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">t</annotation></semantics></math> represents the round of updates.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.10" class="ltx_p">It is normal for it to use momentum gradient descent in order for the client’s model to accelerate convergence. When the server side aggregates the client’s gradients, we believe that the historical gradients need to be considered as well. Based on the idea of momentum gradient, it will lead to faster convergence of the server aggregated parameters towards the optimal value and reduce communication. However, there is ordinarily no data on the server side in horizontal federated learning. Therefore, this paper takes the following formula of the server’s parameter updates during model training:</p>
<table id="Sx2.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\displaystyle w^{t+1}=\frac{1}{k}\Sigma_{k\in S_{t}}\ w_{k}^{t+1}," display="inline"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><msup id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.E3.m1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.2.3.cmml"><mi id="S3.E3.m1.1.1.1.1.2.3.2" xref="S3.E3.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E3.m1.1.1.1.1.2.3.1" xref="S3.E3.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.E3.m1.1.1.1.1.2.3.3" xref="S3.E3.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E3.m1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.2.cmml"><mfrac id="S3.E3.m1.1.1.1.1.3.2a" xref="S3.E3.m1.1.1.1.1.3.2.cmml"><mn id="S3.E3.m1.1.1.1.1.3.2.2" xref="S3.E3.m1.1.1.1.1.3.2.2.cmml">1</mn><mi id="S3.E3.m1.1.1.1.1.3.2.3" xref="S3.E3.m1.1.1.1.1.3.2.3.cmml">k</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1" xref="S3.E3.m1.1.1.1.1.3.1.cmml">​</mo><msub id="S3.E3.m1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.3.3.cmml"><mi mathvariant="normal" id="S3.E3.m1.1.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.3.3.2.cmml">Σ</mi><mrow id="S3.E3.m1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.3.3.2" xref="S3.E3.m1.1.1.1.1.3.3.3.2.cmml">k</mi><mo id="S3.E3.m1.1.1.1.1.3.3.3.1" xref="S3.E3.m1.1.1.1.1.3.3.3.1.cmml">∈</mo><msub id="S3.E3.m1.1.1.1.1.3.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.3.3.3.2" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.cmml">S</mi><mi id="S3.E3.m1.1.1.1.1.3.3.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.3.cmml">t</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1a" xref="S3.E3.m1.1.1.1.1.3.1.cmml">​</mo><msubsup id="S3.E3.m1.1.1.1.1.3.4" xref="S3.E3.m1.1.1.1.1.3.4.cmml"><mi id="S3.E3.m1.1.1.1.1.3.4.2.2" xref="S3.E3.m1.1.1.1.1.3.4.2.2.cmml">w</mi><mi id="S3.E3.m1.1.1.1.1.3.4.2.3" xref="S3.E3.m1.1.1.1.1.3.4.2.3.cmml">k</mi><mrow id="S3.E3.m1.1.1.1.1.3.4.3" xref="S3.E3.m1.1.1.1.1.3.4.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.4.3.2" xref="S3.E3.m1.1.1.1.1.3.4.3.2.cmml">t</mi><mo id="S3.E3.m1.1.1.1.1.3.4.3.1" xref="S3.E3.m1.1.1.1.1.3.4.3.1.cmml">+</mo><mn id="S3.E3.m1.1.1.1.1.3.4.3.3" xref="S3.E3.m1.1.1.1.1.3.4.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"></eq><apply id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E3.m1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.3"><plus id="S3.E3.m1.1.1.1.1.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.2.3.1"></plus><ci id="S3.E3.m1.1.1.1.1.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3"><times id="S3.E3.m1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1"></times><apply id="S3.E3.m1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2"><divide id="S3.E3.m1.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.2"></divide><cn type="integer" id="S3.E3.m1.1.1.1.1.3.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2.2">1</cn><ci id="S3.E3.m1.1.1.1.1.3.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.2.3">𝑘</ci></apply><apply id="S3.E3.m1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.2">Σ</ci><apply id="S3.E3.m1.1.1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3"><in id="S3.E3.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.1"></in><ci id="S3.E3.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.2">𝑘</ci><apply id="S3.E3.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2">𝑆</ci><ci id="S3.E3.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E3.m1.1.1.1.1.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.4.1.cmml" xref="S3.E3.m1.1.1.1.1.3.4">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.3.4.2.cmml" xref="S3.E3.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.4.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.4">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.4.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.4.2.2">𝑤</ci><ci id="S3.E3.m1.1.1.1.1.3.4.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.4.2.3">𝑘</ci></apply><apply id="S3.E3.m1.1.1.1.1.3.4.3.cmml" xref="S3.E3.m1.1.1.1.1.3.4.3"><plus id="S3.E3.m1.1.1.1.1.3.4.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.4.3.1"></plus><ci id="S3.E3.m1.1.1.1.1.3.4.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.4.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.3.4.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.4.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\displaystyle w^{t+1}=\frac{1}{k}\Sigma_{k\in S_{t}}\ w_{k}^{t+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4.m1.1" class="ltx_Math" alttext="\displaystyle\Delta w=w^{t+1}-w^{t}," display="inline"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.2.cmml"><mi mathvariant="normal" id="S3.E4.m1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.1" xref="S3.E4.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.2.3.cmml">w</mi></mrow><mo id="S3.E4.m1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.cmml"><msup id="S3.E4.m1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.3.2.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.1.3.2.2.cmml">w</mi><mrow id="S3.E4.m1.1.1.1.1.3.2.3" xref="S3.E4.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.3.2" xref="S3.E4.m1.1.1.1.1.3.2.3.2.cmml">t</mi><mo id="S3.E4.m1.1.1.1.1.3.2.3.1" xref="S3.E4.m1.1.1.1.1.3.2.3.1.cmml">+</mo><mn id="S3.E4.m1.1.1.1.1.3.2.3.3" xref="S3.E4.m1.1.1.1.1.3.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E4.m1.1.1.1.1.3.1" xref="S3.E4.m1.1.1.1.1.3.1.cmml">−</mo><msup id="S3.E4.m1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.3.3.2.cmml">w</mi><mi id="S3.E4.m1.1.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><mo id="S3.E4.m1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><eq id="S3.E4.m1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1"></eq><apply id="S3.E4.m1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2"><times id="S3.E4.m1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1"></times><ci id="S3.E4.m1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2">Δ</ci><ci id="S3.E4.m1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3"><minus id="S3.E4.m1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.3.1"></minus><apply id="S3.E4.m1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2">superscript</csymbol><ci id="S3.E4.m1.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.2">𝑤</ci><apply id="S3.E4.m1.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3"><plus id="S3.E4.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3.1"></plus><ci id="S3.E4.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="S3.E4.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3.3">1</cn></apply></apply><apply id="S3.E4.m1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.E4.m1.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3.3.2">𝑤</ci><ci id="S3.E4.m1.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle\Delta w=w^{t+1}-w^{t},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\displaystyle m=\gamma m+(1-\gamma)\Delta w," display="inline"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml">m</mi><mo id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.3.2.cmml">γ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.3.1" xref="S3.E5.m1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3.cmml">m</mi></mrow><mo id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml">γ</mi></mrow><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.2a" xref="S3.E5.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.4" xref="S3.E5.m1.1.1.1.1.1.1.4.cmml">w</mi></mrow></mrow></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"></eq><ci id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3">𝑚</ci><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><plus id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2"></plus><apply id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><times id="S3.E5.m1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3.1"></times><ci id="S3.E5.m1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2">𝛾</ci><ci id="S3.E5.m1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2"></times><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1"><minus id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">𝛾</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">Δ</ci><ci id="S3.E5.m1.1.1.1.1.1.1.4.cmml" xref="S3.E5.m1.1.1.1.1.1.1.4">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle m=\gamma m+(1-\gamma)\Delta w,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6.m1.1" class="ltx_Math" alttext="\displaystyle w^{t+1}=w^{t+1}-\eta m," display="inline"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><msup id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.E6.m1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E6.m1.1.1.1.1.2.3.1" xref="S3.E6.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.E6.m1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.cmml"><msup id="S3.E6.m1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.3.2.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.3.2.2.cmml">w</mi><mrow id="S3.E6.m1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.1.1.1.1.3.2.3.2.cmml">t</mi><mo id="S3.E6.m1.1.1.1.1.3.2.3.1" xref="S3.E6.m1.1.1.1.1.3.2.3.1.cmml">+</mo><mn id="S3.E6.m1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.1.1.1.1.3.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E6.m1.1.1.1.1.3.1" xref="S3.E6.m1.1.1.1.1.3.1.cmml">−</mo><mrow id="S3.E6.m1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.3.3.3.cmml">m</mi></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"></eq><apply id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E6.m1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3"><plus id="S3.E6.m1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.3.1"></plus><ci id="S3.E6.m1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3"><minus id="S3.E6.m1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1"></minus><apply id="S3.E6.m1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2">𝑤</ci><apply id="S3.E6.m1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3"><plus id="S3.E6.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3.1"></plus><ci id="S3.E6.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3.3">1</cn></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3"><times id="S3.E6.m1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.1"></times><ci id="S3.E6.m1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2">𝜂</ci><ci id="S3.E6.m1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle w^{t+1}=w^{t+1}-\eta m,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.5" class="ltx_p">where <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="\Delta w" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mrow id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.1.m1.1.1.1" xref="S3.SS1.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml">w</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><times id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1.1"></times><ci id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">Δ</ci><ci id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\Delta w</annotation></semantics></math> is the server-side global gradient. We approximate this gradient on the server side by computing the difference between the latest converged global model (<math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="t+1" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml">t</mi><mo id="S3.SS1.p3.2.m2.1.1.1" xref="S3.SS1.p3.2.m2.1.1.1.cmml">+</mo><mn id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><plus id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1.1"></plus><ci id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2">𝑡</ci><cn type="integer" id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">t+1</annotation></semantics></math> round) and the previous global model (<math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">t</annotation></semantics></math> round). Generally, in federated learning, the data between clients is Non-IID and the selection of clients to participate in the training is random each round. Therefore, we can wait for <math id="S3.SS1.p3.4.m4.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p3.4.m4.1a"><mi id="S3.SS1.p3.4.m4.1.1" xref="S3.SS1.p3.4.m4.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.1b"><ci id="S3.SS1.p3.4.m4.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.1c">b</annotation></semantics></math> rounds before using an approximate method of updating the momentum gradient on the server side (<math id="S3.SS1.p3.5.m5.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p3.5.m5.1a"><mi id="S3.SS1.p3.5.m5.1.1" xref="S3.SS1.p3.5.m5.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.1b"><ci id="S3.SS1.p3.5.m5.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.1c">b</annotation></semantics></math> can take 3, 5, etc.). The purpose of this is to allow the server-side to better capture the impact of the historical gradient. Then, the formula (<a href="#S3.E6" title="In 3.1 Double momentum gradient method ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) will be changed in the following form:</p>
<table id="Sx2.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7.m1.1" class="ltx_Math" alttext="\displaystyle w^{t+1}=w^{t+1}-\eta m\ \ (t+1=bn,n\in N^{*})." display="inline"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><msup id="S3.E7.m1.1.1.1.1.4" xref="S3.E7.m1.1.1.1.1.4.cmml"><mi id="S3.E7.m1.1.1.1.1.4.2" xref="S3.E7.m1.1.1.1.1.4.2.cmml">w</mi><mrow id="S3.E7.m1.1.1.1.1.4.3" xref="S3.E7.m1.1.1.1.1.4.3.cmml"><mi id="S3.E7.m1.1.1.1.1.4.3.2" xref="S3.E7.m1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S3.E7.m1.1.1.1.1.4.3.1" xref="S3.E7.m1.1.1.1.1.4.3.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.4.3.3" xref="S3.E7.m1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msup><mo id="S3.E7.m1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E7.m1.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.2.3.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml"><msup id="S3.E7.m1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.E7.m1.1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.2.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E7.m1.1.1.1.1.1.1.1.2.3.1" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.1.1.1.2.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E7.m1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.3.3.cmml">m</mi></mrow></mrow><mspace width="1em" id="S3.E7.m1.1.1.1.1.2.2.3" xref="S3.E7.m1.1.1.1.1.2.3.cmml"></mspace><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1" xref="S3.E7.m1.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E7.m1.1.1.1.1.2.2.2.1.2" xref="S3.E7.m1.1.1.1.1.2.3.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.3.cmml"><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.cmml"><mi id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.2.cmml">t</mi><mo id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.1" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.3.cmml">1</mn></mrow><mo id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.1.cmml">=</mo><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.3.cmml">n</mi></mrow></mrow><mo id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.cmml"><mi id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.2.cmml">n</mi><mo id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.1" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.1.cmml">∈</mo><msup id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.2" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.2.cmml">N</mi><mo id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.3" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.3.cmml">∗</mo></msup></mrow></mrow><mo stretchy="false" id="S3.E7.m1.1.1.1.1.2.2.2.1.3" xref="S3.E7.m1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><eq id="S3.E7.m1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.3"></eq><apply id="S3.E7.m1.1.1.1.1.4.cmml" xref="S3.E7.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.4.1.cmml" xref="S3.E7.m1.1.1.1.1.4">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.4.2.cmml" xref="S3.E7.m1.1.1.1.1.4.2">𝑤</ci><apply id="S3.E7.m1.1.1.1.1.4.3.cmml" xref="S3.E7.m1.1.1.1.1.4.3"><plus id="S3.E7.m1.1.1.1.1.4.3.1.cmml" xref="S3.E7.m1.1.1.1.1.4.3.1"></plus><ci id="S3.E7.m1.1.1.1.1.4.3.2.cmml" xref="S3.E7.m1.1.1.1.1.4.3.2">𝑡</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.4.3.3.cmml" xref="S3.E7.m1.1.1.1.1.4.3.3">1</cn></apply></apply><list id="S3.E7.m1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2"><apply id="S3.E7.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1"><minus id="S3.E7.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E7.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E7.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3"><plus id="S3.E7.m1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.1"></plus><ci id="S3.E7.m1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.3"><times id="S3.E7.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E7.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.3.2">𝜂</ci><ci id="S3.E7.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.3.3">𝑚</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.2.2.2.1.1.3a.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1"><eq id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.1"></eq><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2"><plus id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.1"></plus><ci id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.2">𝑡</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.2.3">1</cn></apply><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3"><times id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.1"></times><ci id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.2">𝑏</ci><ci id="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.1.1.3.3">𝑛</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2"><in id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.1"></in><ci id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.2">𝑛</ci><apply id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.2">𝑁</ci><times id="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2.1.1.2.2.3.3"></times></apply></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\displaystyle w^{t+1}=w^{t+1}-\eta m\ \ (t+1=bn,n\in N^{*}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.9" class="ltx_p">The value of <math id="S3.SS1.p3.6.m1.1" class="ltx_Math" alttext="t+1" display="inline"><semantics id="S3.SS1.p3.6.m1.1a"><mrow id="S3.SS1.p3.6.m1.1.1" xref="S3.SS1.p3.6.m1.1.1.cmml"><mi id="S3.SS1.p3.6.m1.1.1.2" xref="S3.SS1.p3.6.m1.1.1.2.cmml">t</mi><mo id="S3.SS1.p3.6.m1.1.1.1" xref="S3.SS1.p3.6.m1.1.1.1.cmml">+</mo><mn id="S3.SS1.p3.6.m1.1.1.3" xref="S3.SS1.p3.6.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m1.1b"><apply id="S3.SS1.p3.6.m1.1.1.cmml" xref="S3.SS1.p3.6.m1.1.1"><plus id="S3.SS1.p3.6.m1.1.1.1.cmml" xref="S3.SS1.p3.6.m1.1.1.1"></plus><ci id="S3.SS1.p3.6.m1.1.1.2.cmml" xref="S3.SS1.p3.6.m1.1.1.2">𝑡</ci><cn type="integer" id="S3.SS1.p3.6.m1.1.1.3.cmml" xref="S3.SS1.p3.6.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m1.1c">t+1</annotation></semantics></math> is an integer multiple of <math id="S3.SS1.p3.7.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p3.7.m2.1a"><mi id="S3.SS1.p3.7.m2.1.1" xref="S3.SS1.p3.7.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m2.1b"><ci id="S3.SS1.p3.7.m2.1.1.cmml" xref="S3.SS1.p3.7.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m2.1c">b</annotation></semantics></math>. It means that the serve uses the formula (<a href="#S3.E7" title="In 3.1 Double momentum gradient method ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>) to update every <math id="S3.SS1.p3.8.m3.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p3.8.m3.1a"><mi id="S3.SS1.p3.8.m3.1.1" xref="S3.SS1.p3.8.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.8.m3.1b"><ci id="S3.SS1.p3.8.m3.1.1.cmml" xref="S3.SS1.p3.8.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.8.m3.1c">b</annotation></semantics></math> round. A proper value of <math id="S3.SS1.p3.9.m4.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p3.9.m4.1a"><mi id="S3.SS1.p3.9.m4.1.1" xref="S3.SS1.p3.9.m4.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.9.m4.1b"><ci id="S3.SS1.p3.9.m4.1.1.cmml" xref="S3.SS1.p3.9.m4.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.9.m4.1c">b</annotation></semantics></math> will make the global model consider the historical gradient more comprehensively, reduce oscillations, and ensure efficiency and correct convergence.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Appropriate weighting strategies</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Generally, the number of devices in a federated network is large, which ranges from hundreds to millions. While the general goal of federated learning is to fit the model through some kind of empirical risk minimization objective to the data that is generated by the network of devices. Simply minimizing the average loss in such a large network may overly favor model performance on some devices. Although the average accuracy may be high, the accuracy of each device in the network may not always be very well. The situation is made worse by the reality that data is usually heterogeneous between devices in terms of size and distribution. Therefore, in this work, we design a weighting strategy to encourage a more fair distribution of model performance across devices in the federated network.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.6" class="ltx_p">In FedAvg, it commonly implements a weighted aggregation strategy for each local model based on the size of the training data on the client. It is defined by</p>
<table id="Sx2.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8.m1.1" class="ltx_Math" alttext="\displaystyle w^{t+1}=\Sigma_{k\in S_{t}}\frac{n_{k}}{n}\ w_{k}^{t+1}," display="inline"><semantics id="S3.E8.m1.1a"><mrow id="S3.E8.m1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml"><mrow id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml"><msup id="S3.E8.m1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.2.cmml"><mi id="S3.E8.m1.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.E8.m1.1.1.1.1.2.3" xref="S3.E8.m1.1.1.1.1.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.2.3.2" xref="S3.E8.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E8.m1.1.1.1.1.2.3.1" xref="S3.E8.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.E8.m1.1.1.1.1.2.3.3" xref="S3.E8.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.E8.m1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E8.m1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.3.cmml"><msub id="S3.E8.m1.1.1.1.1.3.2" xref="S3.E8.m1.1.1.1.1.3.2.cmml"><mi mathvariant="normal" id="S3.E8.m1.1.1.1.1.3.2.2" xref="S3.E8.m1.1.1.1.1.3.2.2.cmml">Σ</mi><mrow id="S3.E8.m1.1.1.1.1.3.2.3" xref="S3.E8.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.3.2.3.2" xref="S3.E8.m1.1.1.1.1.3.2.3.2.cmml">k</mi><mo id="S3.E8.m1.1.1.1.1.3.2.3.1" xref="S3.E8.m1.1.1.1.1.3.2.3.1.cmml">∈</mo><msub id="S3.E8.m1.1.1.1.1.3.2.3.3" xref="S3.E8.m1.1.1.1.1.3.2.3.3.cmml"><mi id="S3.E8.m1.1.1.1.1.3.2.3.3.2" xref="S3.E8.m1.1.1.1.1.3.2.3.3.2.cmml">S</mi><mi id="S3.E8.m1.1.1.1.1.3.2.3.3.3" xref="S3.E8.m1.1.1.1.1.3.2.3.3.3.cmml">t</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.1.1.3.1" xref="S3.E8.m1.1.1.1.1.3.1.cmml">​</mo><mstyle displaystyle="true" id="S3.E8.m1.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.3.3.cmml"><mfrac id="S3.E8.m1.1.1.1.1.3.3a" xref="S3.E8.m1.1.1.1.1.3.3.cmml"><msub id="S3.E8.m1.1.1.1.1.3.3.2" xref="S3.E8.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E8.m1.1.1.1.1.3.3.2.2" xref="S3.E8.m1.1.1.1.1.3.3.2.2.cmml">n</mi><mi id="S3.E8.m1.1.1.1.1.3.3.2.3" xref="S3.E8.m1.1.1.1.1.3.3.2.3.cmml">k</mi></msub><mi id="S3.E8.m1.1.1.1.1.3.3.3" xref="S3.E8.m1.1.1.1.1.3.3.3.cmml">n</mi></mfrac></mstyle><mo lspace="0.500em" rspace="0em" id="S3.E8.m1.1.1.1.1.3.1a" xref="S3.E8.m1.1.1.1.1.3.1.cmml">​</mo><msubsup id="S3.E8.m1.1.1.1.1.3.4" xref="S3.E8.m1.1.1.1.1.3.4.cmml"><mi id="S3.E8.m1.1.1.1.1.3.4.2.2" xref="S3.E8.m1.1.1.1.1.3.4.2.2.cmml">w</mi><mi id="S3.E8.m1.1.1.1.1.3.4.2.3" xref="S3.E8.m1.1.1.1.1.3.4.2.3.cmml">k</mi><mrow id="S3.E8.m1.1.1.1.1.3.4.3" xref="S3.E8.m1.1.1.1.1.3.4.3.cmml"><mi id="S3.E8.m1.1.1.1.1.3.4.3.2" xref="S3.E8.m1.1.1.1.1.3.4.3.2.cmml">t</mi><mo id="S3.E8.m1.1.1.1.1.3.4.3.1" xref="S3.E8.m1.1.1.1.1.3.4.3.1.cmml">+</mo><mn id="S3.E8.m1.1.1.1.1.3.4.3.3" xref="S3.E8.m1.1.1.1.1.3.4.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow><mo id="S3.E8.m1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1"><eq id="S3.E8.m1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1"></eq><apply id="S3.E8.m1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E8.m1.1.1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.3"><plus id="S3.E8.m1.1.1.1.1.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.2.3.1"></plus><ci id="S3.E8.m1.1.1.1.1.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E8.m1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.3"><times id="S3.E8.m1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1"></times><apply id="S3.E8.m1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2">Σ</ci><apply id="S3.E8.m1.1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3"><in id="S3.E8.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.1"></in><ci id="S3.E8.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.2">𝑘</ci><apply id="S3.E8.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.2.3.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.3">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.2.3.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.3.2">𝑆</ci><ci id="S3.E8.m1.1.1.1.1.3.2.3.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E8.m1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.3"><divide id="S3.E8.m1.1.1.1.1.3.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.3"></divide><apply id="S3.E8.m1.1.1.1.1.3.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.3.2.2">𝑛</ci><ci id="S3.E8.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.3.2.3">𝑘</ci></apply><ci id="S3.E8.m1.1.1.1.1.3.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.3.3">𝑛</ci></apply><apply id="S3.E8.m1.1.1.1.1.3.4.cmml" xref="S3.E8.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.4.1.cmml" xref="S3.E8.m1.1.1.1.1.3.4">superscript</csymbol><apply id="S3.E8.m1.1.1.1.1.3.4.2.cmml" xref="S3.E8.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.4.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.4">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.4.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.4.2.2">𝑤</ci><ci id="S3.E8.m1.1.1.1.1.3.4.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.4.2.3">𝑘</ci></apply><apply id="S3.E8.m1.1.1.1.1.3.4.3.cmml" xref="S3.E8.m1.1.1.1.1.3.4.3"><plus id="S3.E8.m1.1.1.1.1.3.4.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.4.3.1"></plus><ci id="S3.E8.m1.1.1.1.1.3.4.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.4.3.2">𝑡</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.3.4.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.4.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">\displaystyle w^{t+1}=\Sigma_{k\in S_{t}}\frac{n_{k}}{n}\ w_{k}^{t+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.5" class="ltx_p">where <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">n</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝑛</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">n_{k}</annotation></semantics></math> is the sample size of <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">k</annotation></semantics></math>-th client and <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">n</annotation></semantics></math> is the total number of training samples. Obviously, the larger the <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><msub id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">n</mi><mi id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝑛</ci><ci id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">n_{k}</annotation></semantics></math>, the greater the contribution of the local model on client <math id="S3.SS2.p2.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p2.5.m5.1a"><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">k</annotation></semantics></math> to the central model. Temporally weighted aggregation algorithm was proposed by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> to make federated learning more efficient in communication. It achieves faster convergence of learning accuracy compared to traditional federated learning. But it only takes into account the latest round of learning for each user.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.2" class="ltx_p">Aiming to improve learning speed and stability, we propose an appropriate weighting strategy in federated learning. When dealing with Non-IID data, the quality of the client’s data may be different and the corresponding training accuracy may be also varied. In this case, the gradient of the local model should be processed differently in the aggregation step. And since the selection of clients to participate in the training is random in each round, the number of times each client participates in the training is also diverse. Therefore, we use the training accuracy <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="Acc_{i}" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mrow id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.1a" xref="S3.SS2.p3.1.m1.1.1.1.cmml">​</mo><msub id="S3.SS2.p3.1.m1.1.1.4" xref="S3.SS2.p3.1.m1.1.1.4.cmml"><mi id="S3.SS2.p3.1.m1.1.1.4.2" xref="S3.SS2.p3.1.m1.1.1.4.2.cmml">c</mi><mi id="S3.SS2.p3.1.m1.1.1.4.3" xref="S3.SS2.p3.1.m1.1.1.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><times id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1"></times><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝐴</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑐</ci><apply id="S3.SS2.p3.1.m1.1.1.4.cmml" xref="S3.SS2.p3.1.m1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.4.1.cmml" xref="S3.SS2.p3.1.m1.1.1.4">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.4.2.cmml" xref="S3.SS2.p3.1.m1.1.1.4.2">𝑐</ci><ci id="S3.SS2.p3.1.m1.1.1.4.3.cmml" xref="S3.SS2.p3.1.m1.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">Acc_{i}</annotation></semantics></math> and the number of training participation <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">f</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑓</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">f_{i}</annotation></semantics></math> as weighting factors. At each training round, the client trains the model locally and sends the training accuracy and the number of training participation along with the gradient to the server. The server then performs a weighted aggregation based on the training accuracy and number of training participation of the clients. Since the amount of data for each client is constant, but the adaptability of the model to the client’s data varies from round to round, and the number of times the client participates in the training keeps changing. Therefore, we use the factors of change as a measure of weighted strategy in hopes of creating a more fair and accurate model in federated learning.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.2" class="ltx_p">After the client send information to the server in each round, the server normalizes the client’s <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="Acc_{i}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mrow id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.1a" xref="S3.SS2.p4.1.m1.1.1.1.cmml">​</mo><msub id="S3.SS2.p4.1.m1.1.1.4" xref="S3.SS2.p4.1.m1.1.1.4.cmml"><mi id="S3.SS2.p4.1.m1.1.1.4.2" xref="S3.SS2.p4.1.m1.1.1.4.2.cmml">c</mi><mi id="S3.SS2.p4.1.m1.1.1.4.3" xref="S3.SS2.p4.1.m1.1.1.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><times id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1"></times><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝐴</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑐</ci><apply id="S3.SS2.p4.1.m1.1.1.4.cmml" xref="S3.SS2.p4.1.m1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.4.1.cmml" xref="S3.SS2.p4.1.m1.1.1.4">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.4.2.cmml" xref="S3.SS2.p4.1.m1.1.1.4.2">𝑐</ci><ci id="S3.SS2.p4.1.m1.1.1.4.3.cmml" xref="S3.SS2.p4.1.m1.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">Acc_{i}</annotation></semantics></math> and <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">f</mi><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝑓</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">f_{i}</annotation></semantics></math> as follows:</p>
<table id="Sx2.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E9.m1.1" class="ltx_Math" alttext="\displaystyle Acc_{i}=\frac{Acc_{i}}{\sum_{i=1}^{K}Acc_{i}}," display="inline"><semantics id="S3.E9.m1.1a"><mrow id="S3.E9.m1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml"><mrow id="S3.E9.m1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml"><mrow id="S3.E9.m1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.2.cmml"><mi id="S3.E9.m1.1.1.1.1.2.2" xref="S3.E9.m1.1.1.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.2.1" xref="S3.E9.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E9.m1.1.1.1.1.2.3" xref="S3.E9.m1.1.1.1.1.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.2.1a" xref="S3.E9.m1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E9.m1.1.1.1.1.2.4" xref="S3.E9.m1.1.1.1.1.2.4.cmml"><mi id="S3.E9.m1.1.1.1.1.2.4.2" xref="S3.E9.m1.1.1.1.1.2.4.2.cmml">c</mi><mi id="S3.E9.m1.1.1.1.1.2.4.3" xref="S3.E9.m1.1.1.1.1.2.4.3.cmml">i</mi></msub></mrow><mo id="S3.E9.m1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E9.m1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.3.cmml"><mfrac id="S3.E9.m1.1.1.1.1.3a" xref="S3.E9.m1.1.1.1.1.3.cmml"><mrow id="S3.E9.m1.1.1.1.1.3.2" xref="S3.E9.m1.1.1.1.1.3.2.cmml"><mi id="S3.E9.m1.1.1.1.1.3.2.2" xref="S3.E9.m1.1.1.1.1.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.3.2.1" xref="S3.E9.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E9.m1.1.1.1.1.3.2.3" xref="S3.E9.m1.1.1.1.1.3.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.3.2.1a" xref="S3.E9.m1.1.1.1.1.3.2.1.cmml">​</mo><msub id="S3.E9.m1.1.1.1.1.3.2.4" xref="S3.E9.m1.1.1.1.1.3.2.4.cmml"><mi id="S3.E9.m1.1.1.1.1.3.2.4.2" xref="S3.E9.m1.1.1.1.1.3.2.4.2.cmml">c</mi><mi id="S3.E9.m1.1.1.1.1.3.2.4.3" xref="S3.E9.m1.1.1.1.1.3.2.4.3.cmml">i</mi></msub></mrow><mrow id="S3.E9.m1.1.1.1.1.3.3" xref="S3.E9.m1.1.1.1.1.3.3.cmml"><msubsup id="S3.E9.m1.1.1.1.1.3.3.1" xref="S3.E9.m1.1.1.1.1.3.3.1.cmml"><mo id="S3.E9.m1.1.1.1.1.3.3.1.2.2" xref="S3.E9.m1.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E9.m1.1.1.1.1.3.3.1.2.3" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.cmml"><mi id="S3.E9.m1.1.1.1.1.3.3.1.2.3.2" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S3.E9.m1.1.1.1.1.3.3.1.2.3.1" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E9.m1.1.1.1.1.3.3.1.2.3.3" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E9.m1.1.1.1.1.3.3.1.3" xref="S3.E9.m1.1.1.1.1.3.3.1.3.cmml">K</mi></msubsup><mrow id="S3.E9.m1.1.1.1.1.3.3.2" xref="S3.E9.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E9.m1.1.1.1.1.3.3.2.2" xref="S3.E9.m1.1.1.1.1.3.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.3.3.2.1" xref="S3.E9.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E9.m1.1.1.1.1.3.3.2.3" xref="S3.E9.m1.1.1.1.1.3.3.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.3.3.2.1a" xref="S3.E9.m1.1.1.1.1.3.3.2.1.cmml">​</mo><msub id="S3.E9.m1.1.1.1.1.3.3.2.4" xref="S3.E9.m1.1.1.1.1.3.3.2.4.cmml"><mi id="S3.E9.m1.1.1.1.1.3.3.2.4.2" xref="S3.E9.m1.1.1.1.1.3.3.2.4.2.cmml">c</mi><mi id="S3.E9.m1.1.1.1.1.3.3.2.4.3" xref="S3.E9.m1.1.1.1.1.3.3.2.4.3.cmml">i</mi></msub></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E9.m1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.1b"><apply id="S3.E9.m1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1"><eq id="S3.E9.m1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1"></eq><apply id="S3.E9.m1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.2"><times id="S3.E9.m1.1.1.1.1.2.1.cmml" xref="S3.E9.m1.1.1.1.1.2.1"></times><ci id="S3.E9.m1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.1.1.1.1.2.2">𝐴</ci><ci id="S3.E9.m1.1.1.1.1.2.3.cmml" xref="S3.E9.m1.1.1.1.1.2.3">𝑐</ci><apply id="S3.E9.m1.1.1.1.1.2.4.cmml" xref="S3.E9.m1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.2.4.1.cmml" xref="S3.E9.m1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.2.4.2.cmml" xref="S3.E9.m1.1.1.1.1.2.4.2">𝑐</ci><ci id="S3.E9.m1.1.1.1.1.2.4.3.cmml" xref="S3.E9.m1.1.1.1.1.2.4.3">𝑖</ci></apply></apply><apply id="S3.E9.m1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.3"><divide id="S3.E9.m1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.1.1.1.1.3"></divide><apply id="S3.E9.m1.1.1.1.1.3.2.cmml" xref="S3.E9.m1.1.1.1.1.3.2"><times id="S3.E9.m1.1.1.1.1.3.2.1.cmml" xref="S3.E9.m1.1.1.1.1.3.2.1"></times><ci id="S3.E9.m1.1.1.1.1.3.2.2.cmml" xref="S3.E9.m1.1.1.1.1.3.2.2">𝐴</ci><ci id="S3.E9.m1.1.1.1.1.3.2.3.cmml" xref="S3.E9.m1.1.1.1.1.3.2.3">𝑐</ci><apply id="S3.E9.m1.1.1.1.1.3.2.4.cmml" xref="S3.E9.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.3.2.4.1.cmml" xref="S3.E9.m1.1.1.1.1.3.2.4">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.3.2.4.2.cmml" xref="S3.E9.m1.1.1.1.1.3.2.4.2">𝑐</ci><ci id="S3.E9.m1.1.1.1.1.3.2.4.3.cmml" xref="S3.E9.m1.1.1.1.1.3.2.4.3">𝑖</ci></apply></apply><apply id="S3.E9.m1.1.1.1.1.3.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3"><apply id="S3.E9.m1.1.1.1.1.3.3.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.3.3.1.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1">superscript</csymbol><apply id="S3.E9.m1.1.1.1.1.3.3.1.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.3.3.1.2.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S3.E9.m1.1.1.1.1.3.3.1.2.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.2.2"></sum><apply id="S3.E9.m1.1.1.1.1.3.3.1.2.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3"><eq id="S3.E9.m1.1.1.1.1.3.3.1.2.3.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S3.E9.m1.1.1.1.1.3.3.1.2.3.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E9.m1.1.1.1.1.3.3.1.2.3.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E9.m1.1.1.1.1.3.3.1.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3.1.3">𝐾</ci></apply><apply id="S3.E9.m1.1.1.1.1.3.3.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2"><times id="S3.E9.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.1"></times><ci id="S3.E9.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.2">𝐴</ci><ci id="S3.E9.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.3">𝑐</ci><apply id="S3.E9.m1.1.1.1.1.3.3.2.4.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.3.3.2.4.1.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.4">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.3.3.2.4.2.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.4.2">𝑐</ci><ci id="S3.E9.m1.1.1.1.1.3.3.2.4.3.cmml" xref="S3.E9.m1.1.1.1.1.3.3.2.4.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.1c">\displaystyle Acc_{i}=\frac{Acc_{i}}{\sum_{i=1}^{K}Acc_{i}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E10.m1.1" class="ltx_Math" alttext="\displaystyle f_{i}=\frac{f_{i}}{\sum_{i=1}^{K}f_{i}}." display="inline"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><mrow id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><msub id="S3.E10.m1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.2.cmml"><mi id="S3.E10.m1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.2.2.cmml">f</mi><mi id="S3.E10.m1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S3.E10.m1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E10.m1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.3.cmml"><mfrac id="S3.E10.m1.1.1.1.1.3a" xref="S3.E10.m1.1.1.1.1.3.cmml"><msub id="S3.E10.m1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.3.2.cmml"><mi id="S3.E10.m1.1.1.1.1.3.2.2" xref="S3.E10.m1.1.1.1.1.3.2.2.cmml">f</mi><mi id="S3.E10.m1.1.1.1.1.3.2.3" xref="S3.E10.m1.1.1.1.1.3.2.3.cmml">i</mi></msub><mrow id="S3.E10.m1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.3.3.cmml"><msubsup id="S3.E10.m1.1.1.1.1.3.3.1" xref="S3.E10.m1.1.1.1.1.3.3.1.cmml"><mo id="S3.E10.m1.1.1.1.1.3.3.1.2.2" xref="S3.E10.m1.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E10.m1.1.1.1.1.3.3.1.2.3" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.3.1.2.3.2" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S3.E10.m1.1.1.1.1.3.3.1.2.3.1" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E10.m1.1.1.1.1.3.3.1.2.3.3" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E10.m1.1.1.1.1.3.3.1.3" xref="S3.E10.m1.1.1.1.1.3.3.1.3.cmml">K</mi></msubsup><msub id="S3.E10.m1.1.1.1.1.3.3.2" xref="S3.E10.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E10.m1.1.1.1.1.3.3.2.2" xref="S3.E10.m1.1.1.1.1.3.3.2.2.cmml">f</mi><mi id="S3.E10.m1.1.1.1.1.3.3.2.3" xref="S3.E10.m1.1.1.1.1.3.3.2.3.cmml">i</mi></msub></mrow></mfrac></mstyle></mrow><mo lspace="0em" id="S3.E10.m1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1"><eq id="S3.E10.m1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1"></eq><apply id="S3.E10.m1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2">𝑓</ci><ci id="S3.E10.m1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3"><divide id="S3.E10.m1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3"></divide><apply id="S3.E10.m1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.2.2">𝑓</ci><ci id="S3.E10.m1.1.1.1.1.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.2.3">𝑖</ci></apply><apply id="S3.E10.m1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3"><apply id="S3.E10.m1.1.1.1.1.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.3.1.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1">superscript</csymbol><apply id="S3.E10.m1.1.1.1.1.3.3.1.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.3.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S3.E10.m1.1.1.1.1.3.3.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.2.2"></sum><apply id="S3.E10.m1.1.1.1.1.3.3.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3"><eq id="S3.E10.m1.1.1.1.1.3.3.1.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S3.E10.m1.1.1.1.1.3.3.1.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E10.m1.1.1.1.1.3.3.1.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E10.m1.1.1.1.1.3.3.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1.3">𝐾</ci></apply><apply id="S3.E10.m1.1.1.1.1.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.2">𝑓</ci><ci id="S3.E10.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">\displaystyle f_{i}=\frac{f_{i}}{\sum_{i=1}^{K}f_{i}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">A weighting approach that simply utilizes only the client’s data size does not ensure that federated learning is fair in the training process. The amount of information available to the client will vary as a result of the training accuracy and the frequency of participation.</p>
</div>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.2" class="ltx_p">We utilize the information quantity to measure weight. Due to the complexity of the local dataset, there can be significant differences in training accuracy between clients. In general, the lower the training accuracy, the more information the client has to learn. This is also intended to address the preference for certain clients in the federated learning process and to achieve a more fair result.</p>
<table id="S3.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math id="S3.E11.m1.4" class="ltx_math_unparsed" alttext="Acc_{i}\_inf=\left\{\begin{aligned} &amp;-log_{2}Acc_{i},&amp;Acc_{i}\neq 0,\\
&amp;-log_{2}Acc_{i}+c,&amp;Acc_{i}=0,\end{aligned}\right." display="block"><semantics id="S3.E11.m1.4a"><mrow id="S3.E11.m1.4b"><mi id="S3.E11.m1.4.5">A</mi><mi id="S3.E11.m1.4.6">c</mi><msub id="S3.E11.m1.4.7"><mi id="S3.E11.m1.4.7.2">c</mi><mi id="S3.E11.m1.4.7.3">i</mi></msub><mi mathvariant="normal" id="S3.E11.m1.4.8">_</mi><mi id="S3.E11.m1.4.9">i</mi><mi id="S3.E11.m1.4.10">n</mi><mi id="S3.E11.m1.4.11">f</mi><mo id="S3.E11.m1.4.12">=</mo><mrow id="S3.E11.m1.4.13"><mo id="S3.E11.m1.4.13.1">{</mo><mtable columnspacing="0pt" displaystyle="true" rowspacing="0pt" id="S3.E11.m1.4.4"><mtr id="S3.E11.m1.4.4a"><mtd id="S3.E11.m1.4.4b"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E11.m1.4.4c"><mrow id="S3.E11.m1.1.1.1.1.1.1"><mrow id="S3.E11.m1.1.1.1.1.1.1.1"><mo id="S3.E11.m1.1.1.1.1.1.1.1a">−</mo><mrow id="S3.E11.m1.1.1.1.1.1.1.1.2"><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.2">l</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.1.1.1.1.2.1">​</mo><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.3">o</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.1.1.1.1.2.1a">​</mo><msub id="S3.E11.m1.1.1.1.1.1.1.1.2.4"><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.4.2">g</mi><mn id="S3.E11.m1.1.1.1.1.1.1.1.2.4.3">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.1.1.1.1.2.1b">​</mo><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.5">A</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.1.1.1.1.2.1c">​</mo><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.6">c</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.1.1.1.1.2.1d">​</mo><msub id="S3.E11.m1.1.1.1.1.1.1.1.2.7"><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.7.2">c</mi><mi id="S3.E11.m1.1.1.1.1.1.1.1.2.7.3">i</mi></msub></mrow></mrow><mo id="S3.E11.m1.1.1.1.1.1.1.2">,</mo></mrow></mtd><mtd class="ltx_align_right" columnalign="right" id="S3.E11.m1.4.4d"><mrow id="S3.E11.m1.2.2.2.2.1.1"><mrow id="S3.E11.m1.2.2.2.2.1.1.1"><mrow id="S3.E11.m1.2.2.2.2.1.1.1.2"><mi id="S3.E11.m1.2.2.2.2.1.1.1.2.2">A</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.2.1.1.1.2.1">​</mo><mi id="S3.E11.m1.2.2.2.2.1.1.1.2.3">c</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.2.1.1.1.2.1a">​</mo><msub id="S3.E11.m1.2.2.2.2.1.1.1.2.4"><mi id="S3.E11.m1.2.2.2.2.1.1.1.2.4.2">c</mi><mi id="S3.E11.m1.2.2.2.2.1.1.1.2.4.3">i</mi></msub></mrow><mo id="S3.E11.m1.2.2.2.2.1.1.1.1">≠</mo><mn id="S3.E11.m1.2.2.2.2.1.1.1.3">0</mn></mrow><mo id="S3.E11.m1.2.2.2.2.1.1.2">,</mo></mrow></mtd></mtr><mtr id="S3.E11.m1.4.4e"><mtd id="S3.E11.m1.4.4f"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E11.m1.4.4g"><mrow id="S3.E11.m1.3.3.3.1.1.1"><mrow id="S3.E11.m1.3.3.3.1.1.1.1"><mrow id="S3.E11.m1.3.3.3.1.1.1.1.2"><mo id="S3.E11.m1.3.3.3.1.1.1.1.2a">−</mo><mrow id="S3.E11.m1.3.3.3.1.1.1.1.2.2"><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.2">l</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.3.1.1.1.1.2.2.1">​</mo><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.3">o</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.3.1.1.1.1.2.2.1a">​</mo><msub id="S3.E11.m1.3.3.3.1.1.1.1.2.2.4"><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.4.2">g</mi><mn id="S3.E11.m1.3.3.3.1.1.1.1.2.2.4.3">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.3.1.1.1.1.2.2.1b">​</mo><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.5">A</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.3.1.1.1.1.2.2.1c">​</mo><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.6">c</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.3.3.3.1.1.1.1.2.2.1d">​</mo><msub id="S3.E11.m1.3.3.3.1.1.1.1.2.2.7"><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.7.2">c</mi><mi id="S3.E11.m1.3.3.3.1.1.1.1.2.2.7.3">i</mi></msub></mrow></mrow><mo id="S3.E11.m1.3.3.3.1.1.1.1.1">+</mo><mi id="S3.E11.m1.3.3.3.1.1.1.1.3">c</mi></mrow><mo id="S3.E11.m1.3.3.3.1.1.1.2">,</mo></mrow></mtd><mtd class="ltx_align_right" columnalign="right" id="S3.E11.m1.4.4h"><mrow id="S3.E11.m1.4.4.4.2.1.1"><mrow id="S3.E11.m1.4.4.4.2.1.1.1"><mrow id="S3.E11.m1.4.4.4.2.1.1.1.2"><mi id="S3.E11.m1.4.4.4.2.1.1.1.2.2">A</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.4.4.4.2.1.1.1.2.1">​</mo><mi id="S3.E11.m1.4.4.4.2.1.1.1.2.3">c</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.4.4.4.2.1.1.1.2.1a">​</mo><msub id="S3.E11.m1.4.4.4.2.1.1.1.2.4"><mi id="S3.E11.m1.4.4.4.2.1.1.1.2.4.2">c</mi><mi id="S3.E11.m1.4.4.4.2.1.1.1.2.4.3">i</mi></msub></mrow><mo id="S3.E11.m1.4.4.4.2.1.1.1.1">=</mo><mn id="S3.E11.m1.4.4.4.2.1.1.1.3">0</mn></mrow><mo id="S3.E11.m1.4.4.4.2.1.1.2">,</mo></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex" id="S3.E11.m1.4c">Acc_{i}\_inf=\left\{\begin{aligned} &amp;-log_{2}Acc_{i},&amp;Acc_{i}\neq 0,\\
&amp;-log_{2}Acc_{i}+c,&amp;Acc_{i}=0,\end{aligned}\right.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p6.1" class="ltx_p">where <math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><mi id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><ci id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">c</annotation></semantics></math> is a very small constant close to 0. It is to avoid the antilogarithm of logarithms being 0.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.4" class="ltx_p">The more rounds a client participates in training, the more information it has. On the other hand, the less information it has.</p>
<table id="S3.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math id="S3.E12.m1.4" class="ltx_math_unparsed" alttext="f_{i}\_inf=\left\{\begin{aligned} &amp;-log_{2}(1-f_{i}),&amp;1-f_{i}\neq 0,\\
&amp;-log_{2}(1-f_{i}+c),&amp;1-f_{i}=0,\end{aligned}\right." display="block"><semantics id="S3.E12.m1.4a"><mrow id="S3.E12.m1.4b"><msub id="S3.E12.m1.4.5"><mi id="S3.E12.m1.4.5.2">f</mi><mi id="S3.E12.m1.4.5.3">i</mi></msub><mi mathvariant="normal" id="S3.E12.m1.4.6">_</mi><mi id="S3.E12.m1.4.7">i</mi><mi id="S3.E12.m1.4.8">n</mi><mi id="S3.E12.m1.4.9">f</mi><mo id="S3.E12.m1.4.10">=</mo><mrow id="S3.E12.m1.4.11"><mo id="S3.E12.m1.4.11.1">{</mo><mtable columnspacing="0pt" displaystyle="true" rowspacing="0pt" id="S3.E12.m1.4.4"><mtr id="S3.E12.m1.4.4a"><mtd id="S3.E12.m1.4.4b"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E12.m1.4.4c"><mrow id="S3.E12.m1.1.1.1.1.1.1"><mrow id="S3.E12.m1.1.1.1.1.1.1.1"><mo id="S3.E12.m1.1.1.1.1.1.1.1a">−</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1.1"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.3">l</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.1.1.1.1.2">​</mo><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.4">o</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.1.1.1.1.2a">​</mo><msub id="S3.E12.m1.1.1.1.1.1.1.1.1.5"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.5.2">g</mi><mn id="S3.E12.m1.1.1.1.1.1.1.1.1.5.3">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.1.1.1.1.2b">​</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1"><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.2">(</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1"><mn id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.2">1</mn><mo id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.1">−</mo><msub id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.3"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.3.2">f</mi><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.1.3.3">i</mi></msub></mrow><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.1.1.1.1.1.3">)</mo></mrow></mrow></mrow><mo id="S3.E12.m1.1.1.1.1.1.1.2">,</mo></mrow></mtd><mtd class="ltx_align_right" columnalign="right" id="S3.E12.m1.4.4d"><mrow id="S3.E12.m1.2.2.2.2.1.1"><mrow id="S3.E12.m1.2.2.2.2.1.1.1"><mrow id="S3.E12.m1.2.2.2.2.1.1.1.2"><mn id="S3.E12.m1.2.2.2.2.1.1.1.2.2">1</mn><mo id="S3.E12.m1.2.2.2.2.1.1.1.2.1">−</mo><msub id="S3.E12.m1.2.2.2.2.1.1.1.2.3"><mi id="S3.E12.m1.2.2.2.2.1.1.1.2.3.2">f</mi><mi id="S3.E12.m1.2.2.2.2.1.1.1.2.3.3">i</mi></msub></mrow><mo id="S3.E12.m1.2.2.2.2.1.1.1.1">≠</mo><mn id="S3.E12.m1.2.2.2.2.1.1.1.3">0</mn></mrow><mo id="S3.E12.m1.2.2.2.2.1.1.2">,</mo></mrow></mtd></mtr><mtr id="S3.E12.m1.4.4e"><mtd id="S3.E12.m1.4.4f"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E12.m1.4.4g"><mrow id="S3.E12.m1.3.3.3.1.1.1"><mrow id="S3.E12.m1.3.3.3.1.1.1.1"><mo id="S3.E12.m1.3.3.3.1.1.1.1a">−</mo><mrow id="S3.E12.m1.3.3.3.1.1.1.1.1"><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.3">l</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.3.3.3.1.1.1.1.1.2">​</mo><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.4">o</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.3.3.3.1.1.1.1.1.2a">​</mo><msub id="S3.E12.m1.3.3.3.1.1.1.1.1.5"><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.5.2">g</mi><mn id="S3.E12.m1.3.3.3.1.1.1.1.1.5.3">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E12.m1.3.3.3.1.1.1.1.1.2b">​</mo><mrow id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1"><mo stretchy="false" id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.2">(</mo><mrow id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1"><mrow id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2"><mn id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2.2">1</mn><mo id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2.1">−</mo><msub id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2.3"><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2.3.2">f</mi><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.2.3.3">i</mi></msub></mrow><mo id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.1">+</mo><mi id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.1.3">c</mi></mrow><mo stretchy="false" id="S3.E12.m1.3.3.3.1.1.1.1.1.1.1.3">)</mo></mrow></mrow></mrow><mo id="S3.E12.m1.3.3.3.1.1.1.2">,</mo></mrow></mtd><mtd class="ltx_align_right" columnalign="right" id="S3.E12.m1.4.4h"><mrow id="S3.E12.m1.4.4.4.2.1.1"><mrow id="S3.E12.m1.4.4.4.2.1.1.1"><mrow id="S3.E12.m1.4.4.4.2.1.1.1.2"><mn id="S3.E12.m1.4.4.4.2.1.1.1.2.2">1</mn><mo id="S3.E12.m1.4.4.4.2.1.1.1.2.1">−</mo><msub id="S3.E12.m1.4.4.4.2.1.1.1.2.3"><mi id="S3.E12.m1.4.4.4.2.1.1.1.2.3.2">f</mi><mi id="S3.E12.m1.4.4.4.2.1.1.1.2.3.3">i</mi></msub></mrow><mo id="S3.E12.m1.4.4.4.2.1.1.1.1">=</mo><mn id="S3.E12.m1.4.4.4.2.1.1.1.3">0</mn></mrow><mo id="S3.E12.m1.4.4.4.2.1.1.2">,</mo></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex" id="S3.E12.m1.4c">f_{i}\_inf=\left\{\begin{aligned} &amp;-log_{2}(1-f_{i}),&amp;1-f_{i}\neq 0,\\
&amp;-log_{2}(1-f_{i}+c),&amp;1-f_{i}=0,\end{aligned}\right.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p7.3" class="ltx_p">where <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mi id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">c</annotation></semantics></math> has the same function as in formula <a href="#S3.E11" title="In 3.2 Appropriate weighting strategies ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>. Then, the information quantity for <math id="S3.SS2.p7.2.m2.1" class="ltx_Math" alttext="Acc_{i}\_entropy" display="inline"><semantics id="S3.SS2.p7.2.m2.1a"><mrow id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2" xref="S3.SS2.p7.2.m2.1.1.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.3" xref="S3.SS2.p7.2.m2.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1a" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><msub id="S3.SS2.p7.2.m2.1.1.4" xref="S3.SS2.p7.2.m2.1.1.4.cmml"><mi id="S3.SS2.p7.2.m2.1.1.4.2" xref="S3.SS2.p7.2.m2.1.1.4.2.cmml">c</mi><mi id="S3.SS2.p7.2.m2.1.1.4.3" xref="S3.SS2.p7.2.m2.1.1.4.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1b" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p7.2.m2.1.1.5" xref="S3.SS2.p7.2.m2.1.1.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1c" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.6" xref="S3.SS2.p7.2.m2.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1d" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.7" xref="S3.SS2.p7.2.m2.1.1.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1e" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.8" xref="S3.SS2.p7.2.m2.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1f" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.9" xref="S3.SS2.p7.2.m2.1.1.9.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1g" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.10" xref="S3.SS2.p7.2.m2.1.1.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1h" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.11" xref="S3.SS2.p7.2.m2.1.1.11.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.1i" xref="S3.SS2.p7.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.12" xref="S3.SS2.p7.2.m2.1.1.12.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><apply id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1"><times id="S3.SS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1.1"></times><ci id="S3.SS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2">𝐴</ci><ci id="S3.SS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3">𝑐</ci><apply id="S3.SS2.p7.2.m2.1.1.4.cmml" xref="S3.SS2.p7.2.m2.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.4.1.cmml" xref="S3.SS2.p7.2.m2.1.1.4">subscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.4.2.cmml" xref="S3.SS2.p7.2.m2.1.1.4.2">𝑐</ci><ci id="S3.SS2.p7.2.m2.1.1.4.3.cmml" xref="S3.SS2.p7.2.m2.1.1.4.3">𝑖</ci></apply><ci id="S3.SS2.p7.2.m2.1.1.5.cmml" xref="S3.SS2.p7.2.m2.1.1.5">_</ci><ci id="S3.SS2.p7.2.m2.1.1.6.cmml" xref="S3.SS2.p7.2.m2.1.1.6">𝑒</ci><ci id="S3.SS2.p7.2.m2.1.1.7.cmml" xref="S3.SS2.p7.2.m2.1.1.7">𝑛</ci><ci id="S3.SS2.p7.2.m2.1.1.8.cmml" xref="S3.SS2.p7.2.m2.1.1.8">𝑡</ci><ci id="S3.SS2.p7.2.m2.1.1.9.cmml" xref="S3.SS2.p7.2.m2.1.1.9">𝑟</ci><ci id="S3.SS2.p7.2.m2.1.1.10.cmml" xref="S3.SS2.p7.2.m2.1.1.10">𝑜</ci><ci id="S3.SS2.p7.2.m2.1.1.11.cmml" xref="S3.SS2.p7.2.m2.1.1.11">𝑝</ci><ci id="S3.SS2.p7.2.m2.1.1.12.cmml" xref="S3.SS2.p7.2.m2.1.1.12">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">Acc_{i}\_entropy</annotation></semantics></math> and <math id="S3.SS2.p7.3.m3.1" class="ltx_Math" alttext="f_{i}\_entropy" display="inline"><semantics id="S3.SS2.p7.3.m3.1a"><mrow id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml"><msub id="S3.SS2.p7.3.m3.1.1.2" xref="S3.SS2.p7.3.m3.1.1.2.cmml"><mi id="S3.SS2.p7.3.m3.1.1.2.2" xref="S3.SS2.p7.3.m3.1.1.2.2.cmml">f</mi><mi id="S3.SS2.p7.3.m3.1.1.2.3" xref="S3.SS2.p7.3.m3.1.1.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p7.3.m3.1.1.3" xref="S3.SS2.p7.3.m3.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1a" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.4" xref="S3.SS2.p7.3.m3.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1b" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.5" xref="S3.SS2.p7.3.m3.1.1.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1c" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.6" xref="S3.SS2.p7.3.m3.1.1.6.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1d" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.7" xref="S3.SS2.p7.3.m3.1.1.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1e" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.8" xref="S3.SS2.p7.3.m3.1.1.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1f" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.9" xref="S3.SS2.p7.3.m3.1.1.9.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.3.m3.1.1.1g" xref="S3.SS2.p7.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.3.m3.1.1.10" xref="S3.SS2.p7.3.m3.1.1.10.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.1b"><apply id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1"><times id="S3.SS2.p7.3.m3.1.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1.1"></times><apply id="S3.SS2.p7.3.m3.1.1.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.2.1.cmml" xref="S3.SS2.p7.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p7.3.m3.1.1.2.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2.2">𝑓</ci><ci id="S3.SS2.p7.3.m3.1.1.2.3.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p7.3.m3.1.1.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3">_</ci><ci id="S3.SS2.p7.3.m3.1.1.4.cmml" xref="S3.SS2.p7.3.m3.1.1.4">𝑒</ci><ci id="S3.SS2.p7.3.m3.1.1.5.cmml" xref="S3.SS2.p7.3.m3.1.1.5">𝑛</ci><ci id="S3.SS2.p7.3.m3.1.1.6.cmml" xref="S3.SS2.p7.3.m3.1.1.6">𝑡</ci><ci id="S3.SS2.p7.3.m3.1.1.7.cmml" xref="S3.SS2.p7.3.m3.1.1.7">𝑟</ci><ci id="S3.SS2.p7.3.m3.1.1.8.cmml" xref="S3.SS2.p7.3.m3.1.1.8">𝑜</ci><ci id="S3.SS2.p7.3.m3.1.1.9.cmml" xref="S3.SS2.p7.3.m3.1.1.9">𝑝</ci><ci id="S3.SS2.p7.3.m3.1.1.10.cmml" xref="S3.SS2.p7.3.m3.1.1.10">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.1c">f_{i}\_entropy</annotation></semantics></math> can be normalized as follows:</p>
<table id="Sx2.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E13.m1.1" class="ltx_Math" alttext="\displaystyle Acc_{i}\_inf=\frac{Acc_{i}\_inf}{\sum_{i=1}^{K}Acc_{i}\_inf}," display="inline"><semantics id="S3.E13.m1.1a"><mrow id="S3.E13.m1.1.1.1" xref="S3.E13.m1.1.1.1.1.cmml"><mrow id="S3.E13.m1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.cmml"><mrow id="S3.E13.m1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.2.cmml"><mi id="S3.E13.m1.1.1.1.1.2.2" xref="S3.E13.m1.1.1.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.2.3" xref="S3.E13.m1.1.1.1.1.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1a" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E13.m1.1.1.1.1.2.4" xref="S3.E13.m1.1.1.1.1.2.4.cmml"><mi id="S3.E13.m1.1.1.1.1.2.4.2" xref="S3.E13.m1.1.1.1.1.2.4.2.cmml">c</mi><mi id="S3.E13.m1.1.1.1.1.2.4.3" xref="S3.E13.m1.1.1.1.1.2.4.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1b" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E13.m1.1.1.1.1.2.5" xref="S3.E13.m1.1.1.1.1.2.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1c" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.2.6" xref="S3.E13.m1.1.1.1.1.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1d" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.2.7" xref="S3.E13.m1.1.1.1.1.2.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.2.1e" xref="S3.E13.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.2.8" xref="S3.E13.m1.1.1.1.1.2.8.cmml">f</mi></mrow><mo id="S3.E13.m1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E13.m1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.3.cmml"><mfrac id="S3.E13.m1.1.1.1.1.3a" xref="S3.E13.m1.1.1.1.1.3.cmml"><mrow id="S3.E13.m1.1.1.1.1.3.2" xref="S3.E13.m1.1.1.1.1.3.2.cmml"><mi id="S3.E13.m1.1.1.1.1.3.2.2" xref="S3.E13.m1.1.1.1.1.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.2.3" xref="S3.E13.m1.1.1.1.1.3.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1a" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><msub id="S3.E13.m1.1.1.1.1.3.2.4" xref="S3.E13.m1.1.1.1.1.3.2.4.cmml"><mi id="S3.E13.m1.1.1.1.1.3.2.4.2" xref="S3.E13.m1.1.1.1.1.3.2.4.2.cmml">c</mi><mi id="S3.E13.m1.1.1.1.1.3.2.4.3" xref="S3.E13.m1.1.1.1.1.3.2.4.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1b" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E13.m1.1.1.1.1.3.2.5" xref="S3.E13.m1.1.1.1.1.3.2.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1c" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.2.6" xref="S3.E13.m1.1.1.1.1.3.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1d" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.2.7" xref="S3.E13.m1.1.1.1.1.3.2.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.2.1e" xref="S3.E13.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.2.8" xref="S3.E13.m1.1.1.1.1.3.2.8.cmml">f</mi></mrow><mrow id="S3.E13.m1.1.1.1.1.3.3" xref="S3.E13.m1.1.1.1.1.3.3.cmml"><msubsup id="S3.E13.m1.1.1.1.1.3.3.1" xref="S3.E13.m1.1.1.1.1.3.3.1.cmml"><mo id="S3.E13.m1.1.1.1.1.3.3.1.2.2" xref="S3.E13.m1.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E13.m1.1.1.1.1.3.3.1.2.3" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.cmml"><mi id="S3.E13.m1.1.1.1.1.3.3.1.2.3.2" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S3.E13.m1.1.1.1.1.3.3.1.2.3.1" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E13.m1.1.1.1.1.3.3.1.2.3.3" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E13.m1.1.1.1.1.3.3.1.3" xref="S3.E13.m1.1.1.1.1.3.3.1.3.cmml">K</mi></msubsup><mrow id="S3.E13.m1.1.1.1.1.3.3.2" xref="S3.E13.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E13.m1.1.1.1.1.3.3.2.2" xref="S3.E13.m1.1.1.1.1.3.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.3.2.3" xref="S3.E13.m1.1.1.1.1.3.3.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1a" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><msub id="S3.E13.m1.1.1.1.1.3.3.2.4" xref="S3.E13.m1.1.1.1.1.3.3.2.4.cmml"><mi id="S3.E13.m1.1.1.1.1.3.3.2.4.2" xref="S3.E13.m1.1.1.1.1.3.3.2.4.2.cmml">c</mi><mi id="S3.E13.m1.1.1.1.1.3.3.2.4.3" xref="S3.E13.m1.1.1.1.1.3.3.2.4.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1b" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E13.m1.1.1.1.1.3.3.2.5" xref="S3.E13.m1.1.1.1.1.3.3.2.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1c" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.3.2.6" xref="S3.E13.m1.1.1.1.1.3.3.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1d" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.3.2.7" xref="S3.E13.m1.1.1.1.1.3.3.2.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.3.3.2.1e" xref="S3.E13.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E13.m1.1.1.1.1.3.3.2.8" xref="S3.E13.m1.1.1.1.1.3.3.2.8.cmml">f</mi></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E13.m1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m1.1b"><apply id="S3.E13.m1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1"><eq id="S3.E13.m1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1"></eq><apply id="S3.E13.m1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.2"><times id="S3.E13.m1.1.1.1.1.2.1.cmml" xref="S3.E13.m1.1.1.1.1.2.1"></times><ci id="S3.E13.m1.1.1.1.1.2.2.cmml" xref="S3.E13.m1.1.1.1.1.2.2">𝐴</ci><ci id="S3.E13.m1.1.1.1.1.2.3.cmml" xref="S3.E13.m1.1.1.1.1.2.3">𝑐</ci><apply id="S3.E13.m1.1.1.1.1.2.4.cmml" xref="S3.E13.m1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.2.4.1.cmml" xref="S3.E13.m1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.2.4.2.cmml" xref="S3.E13.m1.1.1.1.1.2.4.2">𝑐</ci><ci id="S3.E13.m1.1.1.1.1.2.4.3.cmml" xref="S3.E13.m1.1.1.1.1.2.4.3">𝑖</ci></apply><ci id="S3.E13.m1.1.1.1.1.2.5.cmml" xref="S3.E13.m1.1.1.1.1.2.5">_</ci><ci id="S3.E13.m1.1.1.1.1.2.6.cmml" xref="S3.E13.m1.1.1.1.1.2.6">𝑖</ci><ci id="S3.E13.m1.1.1.1.1.2.7.cmml" xref="S3.E13.m1.1.1.1.1.2.7">𝑛</ci><ci id="S3.E13.m1.1.1.1.1.2.8.cmml" xref="S3.E13.m1.1.1.1.1.2.8">𝑓</ci></apply><apply id="S3.E13.m1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.3"><divide id="S3.E13.m1.1.1.1.1.3.1.cmml" xref="S3.E13.m1.1.1.1.1.3"></divide><apply id="S3.E13.m1.1.1.1.1.3.2.cmml" xref="S3.E13.m1.1.1.1.1.3.2"><times id="S3.E13.m1.1.1.1.1.3.2.1.cmml" xref="S3.E13.m1.1.1.1.1.3.2.1"></times><ci id="S3.E13.m1.1.1.1.1.3.2.2.cmml" xref="S3.E13.m1.1.1.1.1.3.2.2">𝐴</ci><ci id="S3.E13.m1.1.1.1.1.3.2.3.cmml" xref="S3.E13.m1.1.1.1.1.3.2.3">𝑐</ci><apply id="S3.E13.m1.1.1.1.1.3.2.4.cmml" xref="S3.E13.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.3.2.4.1.cmml" xref="S3.E13.m1.1.1.1.1.3.2.4">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.3.2.4.2.cmml" xref="S3.E13.m1.1.1.1.1.3.2.4.2">𝑐</ci><ci id="S3.E13.m1.1.1.1.1.3.2.4.3.cmml" xref="S3.E13.m1.1.1.1.1.3.2.4.3">𝑖</ci></apply><ci id="S3.E13.m1.1.1.1.1.3.2.5.cmml" xref="S3.E13.m1.1.1.1.1.3.2.5">_</ci><ci id="S3.E13.m1.1.1.1.1.3.2.6.cmml" xref="S3.E13.m1.1.1.1.1.3.2.6">𝑖</ci><ci id="S3.E13.m1.1.1.1.1.3.2.7.cmml" xref="S3.E13.m1.1.1.1.1.3.2.7">𝑛</ci><ci id="S3.E13.m1.1.1.1.1.3.2.8.cmml" xref="S3.E13.m1.1.1.1.1.3.2.8">𝑓</ci></apply><apply id="S3.E13.m1.1.1.1.1.3.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3"><apply id="S3.E13.m1.1.1.1.1.3.3.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.3.3.1.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1">superscript</csymbol><apply id="S3.E13.m1.1.1.1.1.3.3.1.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.3.3.1.2.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S3.E13.m1.1.1.1.1.3.3.1.2.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.2.2"></sum><apply id="S3.E13.m1.1.1.1.1.3.3.1.2.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3"><eq id="S3.E13.m1.1.1.1.1.3.3.1.2.3.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S3.E13.m1.1.1.1.1.3.3.1.2.3.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E13.m1.1.1.1.1.3.3.1.2.3.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E13.m1.1.1.1.1.3.3.1.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3.1.3">𝐾</ci></apply><apply id="S3.E13.m1.1.1.1.1.3.3.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2"><times id="S3.E13.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.1"></times><ci id="S3.E13.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.2">𝐴</ci><ci id="S3.E13.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.3">𝑐</ci><apply id="S3.E13.m1.1.1.1.1.3.3.2.4.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.4"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.3.3.2.4.1.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.4">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.3.3.2.4.2.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.4.2">𝑐</ci><ci id="S3.E13.m1.1.1.1.1.3.3.2.4.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.4.3">𝑖</ci></apply><ci id="S3.E13.m1.1.1.1.1.3.3.2.5.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.5">_</ci><ci id="S3.E13.m1.1.1.1.1.3.3.2.6.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.6">𝑖</ci><ci id="S3.E13.m1.1.1.1.1.3.3.2.7.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.7">𝑛</ci><ci id="S3.E13.m1.1.1.1.1.3.3.2.8.cmml" xref="S3.E13.m1.1.1.1.1.3.3.2.8">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m1.1c">\displaystyle Acc_{i}\_inf=\frac{Acc_{i}\_inf}{\sum_{i=1}^{K}Acc_{i}\_inf},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
<tbody id="S3.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E14.m1.1" class="ltx_Math" alttext="\displaystyle f_{i}\_inf=\frac{f_{i}\_inf}{\sum_{i=1}^{K}f_{i}\_inf}." display="inline"><semantics id="S3.E14.m1.1a"><mrow id="S3.E14.m1.1.1.1" xref="S3.E14.m1.1.1.1.1.cmml"><mrow id="S3.E14.m1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.cmml"><mrow id="S3.E14.m1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.2.cmml"><msub id="S3.E14.m1.1.1.1.1.2.2" xref="S3.E14.m1.1.1.1.1.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1.2.2.2" xref="S3.E14.m1.1.1.1.1.2.2.2.cmml">f</mi><mi id="S3.E14.m1.1.1.1.1.2.2.3" xref="S3.E14.m1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.1" xref="S3.E14.m1.1.1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E14.m1.1.1.1.1.2.3" xref="S3.E14.m1.1.1.1.1.2.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.1a" xref="S3.E14.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.2.4" xref="S3.E14.m1.1.1.1.1.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.1b" xref="S3.E14.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.2.5" xref="S3.E14.m1.1.1.1.1.2.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.1c" xref="S3.E14.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.2.6" xref="S3.E14.m1.1.1.1.1.2.6.cmml">f</mi></mrow><mo id="S3.E14.m1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E14.m1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.3.cmml"><mfrac id="S3.E14.m1.1.1.1.1.3a" xref="S3.E14.m1.1.1.1.1.3.cmml"><mrow id="S3.E14.m1.1.1.1.1.3.2" xref="S3.E14.m1.1.1.1.1.3.2.cmml"><msub id="S3.E14.m1.1.1.1.1.3.2.2" xref="S3.E14.m1.1.1.1.1.3.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1.3.2.2.2" xref="S3.E14.m1.1.1.1.1.3.2.2.2.cmml">f</mi><mi id="S3.E14.m1.1.1.1.1.3.2.2.3" xref="S3.E14.m1.1.1.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.2.1" xref="S3.E14.m1.1.1.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E14.m1.1.1.1.1.3.2.3" xref="S3.E14.m1.1.1.1.1.3.2.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.2.1a" xref="S3.E14.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.2.4" xref="S3.E14.m1.1.1.1.1.3.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.2.1b" xref="S3.E14.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.2.5" xref="S3.E14.m1.1.1.1.1.3.2.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.2.1c" xref="S3.E14.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.2.6" xref="S3.E14.m1.1.1.1.1.3.2.6.cmml">f</mi></mrow><mrow id="S3.E14.m1.1.1.1.1.3.3" xref="S3.E14.m1.1.1.1.1.3.3.cmml"><msubsup id="S3.E14.m1.1.1.1.1.3.3.1" xref="S3.E14.m1.1.1.1.1.3.3.1.cmml"><mo id="S3.E14.m1.1.1.1.1.3.3.1.2.2" xref="S3.E14.m1.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E14.m1.1.1.1.1.3.3.1.2.3" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.cmml"><mi id="S3.E14.m1.1.1.1.1.3.3.1.2.3.2" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S3.E14.m1.1.1.1.1.3.3.1.2.3.1" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E14.m1.1.1.1.1.3.3.1.2.3.3" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E14.m1.1.1.1.1.3.3.1.3" xref="S3.E14.m1.1.1.1.1.3.3.1.3.cmml">K</mi></msubsup><mrow id="S3.E14.m1.1.1.1.1.3.3.2" xref="S3.E14.m1.1.1.1.1.3.3.2.cmml"><msub id="S3.E14.m1.1.1.1.1.3.3.2.2" xref="S3.E14.m1.1.1.1.1.3.3.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1.3.3.2.2.2" xref="S3.E14.m1.1.1.1.1.3.3.2.2.2.cmml">f</mi><mi id="S3.E14.m1.1.1.1.1.3.3.2.2.3" xref="S3.E14.m1.1.1.1.1.3.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.3.2.1" xref="S3.E14.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E14.m1.1.1.1.1.3.3.2.3" xref="S3.E14.m1.1.1.1.1.3.3.2.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.3.2.1a" xref="S3.E14.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.3.2.4" xref="S3.E14.m1.1.1.1.1.3.3.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.3.2.1b" xref="S3.E14.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.3.2.5" xref="S3.E14.m1.1.1.1.1.3.3.2.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.3.3.2.1c" xref="S3.E14.m1.1.1.1.1.3.3.2.1.cmml">​</mo><mi id="S3.E14.m1.1.1.1.1.3.3.2.6" xref="S3.E14.m1.1.1.1.1.3.3.2.6.cmml">f</mi></mrow></mrow></mfrac></mstyle></mrow><mo lspace="0em" id="S3.E14.m1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.1b"><apply id="S3.E14.m1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1"><eq id="S3.E14.m1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.1"></eq><apply id="S3.E14.m1.1.1.1.1.2.cmml" xref="S3.E14.m1.1.1.1.1.2"><times id="S3.E14.m1.1.1.1.1.2.1.cmml" xref="S3.E14.m1.1.1.1.1.2.1"></times><apply id="S3.E14.m1.1.1.1.1.2.2.cmml" xref="S3.E14.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.2.2.1.cmml" xref="S3.E14.m1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.2.2.2">𝑓</ci><ci id="S3.E14.m1.1.1.1.1.2.2.3.cmml" xref="S3.E14.m1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S3.E14.m1.1.1.1.1.2.3.cmml" xref="S3.E14.m1.1.1.1.1.2.3">_</ci><ci id="S3.E14.m1.1.1.1.1.2.4.cmml" xref="S3.E14.m1.1.1.1.1.2.4">𝑖</ci><ci id="S3.E14.m1.1.1.1.1.2.5.cmml" xref="S3.E14.m1.1.1.1.1.2.5">𝑛</ci><ci id="S3.E14.m1.1.1.1.1.2.6.cmml" xref="S3.E14.m1.1.1.1.1.2.6">𝑓</ci></apply><apply id="S3.E14.m1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.3"><divide id="S3.E14.m1.1.1.1.1.3.1.cmml" xref="S3.E14.m1.1.1.1.1.3"></divide><apply id="S3.E14.m1.1.1.1.1.3.2.cmml" xref="S3.E14.m1.1.1.1.1.3.2"><times id="S3.E14.m1.1.1.1.1.3.2.1.cmml" xref="S3.E14.m1.1.1.1.1.3.2.1"></times><apply id="S3.E14.m1.1.1.1.1.3.2.2.cmml" xref="S3.E14.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E14.m1.1.1.1.1.3.2.2">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.3.2.2.2">𝑓</ci><ci id="S3.E14.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E14.m1.1.1.1.1.3.2.2.3">𝑖</ci></apply><ci id="S3.E14.m1.1.1.1.1.3.2.3.cmml" xref="S3.E14.m1.1.1.1.1.3.2.3">_</ci><ci id="S3.E14.m1.1.1.1.1.3.2.4.cmml" xref="S3.E14.m1.1.1.1.1.3.2.4">𝑖</ci><ci id="S3.E14.m1.1.1.1.1.3.2.5.cmml" xref="S3.E14.m1.1.1.1.1.3.2.5">𝑛</ci><ci id="S3.E14.m1.1.1.1.1.3.2.6.cmml" xref="S3.E14.m1.1.1.1.1.3.2.6">𝑓</ci></apply><apply id="S3.E14.m1.1.1.1.1.3.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3"><apply id="S3.E14.m1.1.1.1.1.3.3.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.3.3.1.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1">superscript</csymbol><apply id="S3.E14.m1.1.1.1.1.3.3.1.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.3.3.1.2.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S3.E14.m1.1.1.1.1.3.3.1.2.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.2.2"></sum><apply id="S3.E14.m1.1.1.1.1.3.3.1.2.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3"><eq id="S3.E14.m1.1.1.1.1.3.3.1.2.3.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S3.E14.m1.1.1.1.1.3.3.1.2.3.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E14.m1.1.1.1.1.3.3.1.2.3.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E14.m1.1.1.1.1.3.3.1.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3.1.3">𝐾</ci></apply><apply id="S3.E14.m1.1.1.1.1.3.3.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2"><times id="S3.E14.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.1"></times><apply id="S3.E14.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.3.3.2.2.1.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.2">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.3.3.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.2.2">𝑓</ci><ci id="S3.E14.m1.1.1.1.1.3.3.2.2.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.2.3">𝑖</ci></apply><ci id="S3.E14.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.3">_</ci><ci id="S3.E14.m1.1.1.1.1.3.3.2.4.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.4">𝑖</ci><ci id="S3.E14.m1.1.1.1.1.3.3.2.5.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.5">𝑛</ci><ci id="S3.E14.m1.1.1.1.1.3.3.2.6.cmml" xref="S3.E14.m1.1.1.1.1.3.3.2.6">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.1c">\displaystyle f_{i}\_inf=\frac{f_{i}\_inf}{\sum_{i=1}^{K}f_{i}\_inf}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p8" class="ltx_para">
<p id="S3.SS2.p8.5" class="ltx_p">We apply weights based on the frequency and training accuracy of learning to participate in the model aggregation process.</p>
<table id="Sx2.EGx7" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E15.m1.1" class="ltx_Math" alttext="\displaystyle weight_{i}=\alpha Acc_{i}\_inf+\beta f_{i}\_inf," display="inline"><semantics id="S3.E15.m1.1a"><mrow id="S3.E15.m1.1.1.1" xref="S3.E15.m1.1.1.1.1.cmml"><mrow id="S3.E15.m1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.cmml"><mrow id="S3.E15.m1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.2.cmml"><mi id="S3.E15.m1.1.1.1.1.2.2" xref="S3.E15.m1.1.1.1.1.2.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.2.1" xref="S3.E15.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.2.3" xref="S3.E15.m1.1.1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.2.1a" xref="S3.E15.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.2.4" xref="S3.E15.m1.1.1.1.1.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.2.1b" xref="S3.E15.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.2.5" xref="S3.E15.m1.1.1.1.1.2.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.2.1c" xref="S3.E15.m1.1.1.1.1.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.2.6" xref="S3.E15.m1.1.1.1.1.2.6.cmml">h</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.2.1d" xref="S3.E15.m1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E15.m1.1.1.1.1.2.7" xref="S3.E15.m1.1.1.1.1.2.7.cmml"><mi id="S3.E15.m1.1.1.1.1.2.7.2" xref="S3.E15.m1.1.1.1.1.2.7.2.cmml">t</mi><mi id="S3.E15.m1.1.1.1.1.2.7.3" xref="S3.E15.m1.1.1.1.1.2.7.3.cmml">i</mi></msub></mrow><mo id="S3.E15.m1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E15.m1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.3.cmml"><mrow id="S3.E15.m1.1.1.1.1.3.2" xref="S3.E15.m1.1.1.1.1.3.2.cmml"><mi id="S3.E15.m1.1.1.1.1.3.2.2" xref="S3.E15.m1.1.1.1.1.3.2.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.2.3" xref="S3.E15.m1.1.1.1.1.3.2.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1a" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.2.4" xref="S3.E15.m1.1.1.1.1.3.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1b" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><msub id="S3.E15.m1.1.1.1.1.3.2.5" xref="S3.E15.m1.1.1.1.1.3.2.5.cmml"><mi id="S3.E15.m1.1.1.1.1.3.2.5.2" xref="S3.E15.m1.1.1.1.1.3.2.5.2.cmml">c</mi><mi id="S3.E15.m1.1.1.1.1.3.2.5.3" xref="S3.E15.m1.1.1.1.1.3.2.5.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1c" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.E15.m1.1.1.1.1.3.2.6" xref="S3.E15.m1.1.1.1.1.3.2.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1d" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.2.7" xref="S3.E15.m1.1.1.1.1.3.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1e" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.2.8" xref="S3.E15.m1.1.1.1.1.3.2.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.2.1f" xref="S3.E15.m1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.2.9" xref="S3.E15.m1.1.1.1.1.3.2.9.cmml">f</mi></mrow><mo id="S3.E15.m1.1.1.1.1.3.1" xref="S3.E15.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E15.m1.1.1.1.1.3.3" xref="S3.E15.m1.1.1.1.1.3.3.cmml"><mi id="S3.E15.m1.1.1.1.1.3.3.2" xref="S3.E15.m1.1.1.1.1.3.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.3.1" xref="S3.E15.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S3.E15.m1.1.1.1.1.3.3.3" xref="S3.E15.m1.1.1.1.1.3.3.3.cmml"><mi id="S3.E15.m1.1.1.1.1.3.3.3.2" xref="S3.E15.m1.1.1.1.1.3.3.3.2.cmml">f</mi><mi id="S3.E15.m1.1.1.1.1.3.3.3.3" xref="S3.E15.m1.1.1.1.1.3.3.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.3.1a" xref="S3.E15.m1.1.1.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.E15.m1.1.1.1.1.3.3.4" xref="S3.E15.m1.1.1.1.1.3.3.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.3.1b" xref="S3.E15.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.3.5" xref="S3.E15.m1.1.1.1.1.3.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.3.1c" xref="S3.E15.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.3.6" xref="S3.E15.m1.1.1.1.1.3.3.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.3.3.1d" xref="S3.E15.m1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E15.m1.1.1.1.1.3.3.7" xref="S3.E15.m1.1.1.1.1.3.3.7.cmml">f</mi></mrow></mrow></mrow><mo id="S3.E15.m1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.1b"><apply id="S3.E15.m1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1"><eq id="S3.E15.m1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1"></eq><apply id="S3.E15.m1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.2"><times id="S3.E15.m1.1.1.1.1.2.1.cmml" xref="S3.E15.m1.1.1.1.1.2.1"></times><ci id="S3.E15.m1.1.1.1.1.2.2.cmml" xref="S3.E15.m1.1.1.1.1.2.2">𝑤</ci><ci id="S3.E15.m1.1.1.1.1.2.3.cmml" xref="S3.E15.m1.1.1.1.1.2.3">𝑒</ci><ci id="S3.E15.m1.1.1.1.1.2.4.cmml" xref="S3.E15.m1.1.1.1.1.2.4">𝑖</ci><ci id="S3.E15.m1.1.1.1.1.2.5.cmml" xref="S3.E15.m1.1.1.1.1.2.5">𝑔</ci><ci id="S3.E15.m1.1.1.1.1.2.6.cmml" xref="S3.E15.m1.1.1.1.1.2.6">ℎ</ci><apply id="S3.E15.m1.1.1.1.1.2.7.cmml" xref="S3.E15.m1.1.1.1.1.2.7"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.2.7.1.cmml" xref="S3.E15.m1.1.1.1.1.2.7">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.2.7.2.cmml" xref="S3.E15.m1.1.1.1.1.2.7.2">𝑡</ci><ci id="S3.E15.m1.1.1.1.1.2.7.3.cmml" xref="S3.E15.m1.1.1.1.1.2.7.3">𝑖</ci></apply></apply><apply id="S3.E15.m1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.3"><plus id="S3.E15.m1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.1.1.1.1.3.1"></plus><apply id="S3.E15.m1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.1.1.1.1.3.2"><times id="S3.E15.m1.1.1.1.1.3.2.1.cmml" xref="S3.E15.m1.1.1.1.1.3.2.1"></times><ci id="S3.E15.m1.1.1.1.1.3.2.2.cmml" xref="S3.E15.m1.1.1.1.1.3.2.2">𝛼</ci><ci id="S3.E15.m1.1.1.1.1.3.2.3.cmml" xref="S3.E15.m1.1.1.1.1.3.2.3">𝐴</ci><ci id="S3.E15.m1.1.1.1.1.3.2.4.cmml" xref="S3.E15.m1.1.1.1.1.3.2.4">𝑐</ci><apply id="S3.E15.m1.1.1.1.1.3.2.5.cmml" xref="S3.E15.m1.1.1.1.1.3.2.5"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.3.2.5.1.cmml" xref="S3.E15.m1.1.1.1.1.3.2.5">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.3.2.5.2.cmml" xref="S3.E15.m1.1.1.1.1.3.2.5.2">𝑐</ci><ci id="S3.E15.m1.1.1.1.1.3.2.5.3.cmml" xref="S3.E15.m1.1.1.1.1.3.2.5.3">𝑖</ci></apply><ci id="S3.E15.m1.1.1.1.1.3.2.6.cmml" xref="S3.E15.m1.1.1.1.1.3.2.6">_</ci><ci id="S3.E15.m1.1.1.1.1.3.2.7.cmml" xref="S3.E15.m1.1.1.1.1.3.2.7">𝑖</ci><ci id="S3.E15.m1.1.1.1.1.3.2.8.cmml" xref="S3.E15.m1.1.1.1.1.3.2.8">𝑛</ci><ci id="S3.E15.m1.1.1.1.1.3.2.9.cmml" xref="S3.E15.m1.1.1.1.1.3.2.9">𝑓</ci></apply><apply id="S3.E15.m1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.1.1.1.1.3.3"><times id="S3.E15.m1.1.1.1.1.3.3.1.cmml" xref="S3.E15.m1.1.1.1.1.3.3.1"></times><ci id="S3.E15.m1.1.1.1.1.3.3.2.cmml" xref="S3.E15.m1.1.1.1.1.3.3.2">𝛽</ci><apply id="S3.E15.m1.1.1.1.1.3.3.3.cmml" xref="S3.E15.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E15.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E15.m1.1.1.1.1.3.3.3.2">𝑓</ci><ci id="S3.E15.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E15.m1.1.1.1.1.3.3.3.3">𝑖</ci></apply><ci id="S3.E15.m1.1.1.1.1.3.3.4.cmml" xref="S3.E15.m1.1.1.1.1.3.3.4">_</ci><ci id="S3.E15.m1.1.1.1.1.3.3.5.cmml" xref="S3.E15.m1.1.1.1.1.3.3.5">𝑖</ci><ci id="S3.E15.m1.1.1.1.1.3.3.6.cmml" xref="S3.E15.m1.1.1.1.1.3.3.6">𝑛</ci><ci id="S3.E15.m1.1.1.1.1.3.3.7.cmml" xref="S3.E15.m1.1.1.1.1.3.3.7">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.1c">\displaystyle weight_{i}=\alpha Acc_{i}\_inf+\beta f_{i}\_inf,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p8.4" class="ltx_p">where, <math id="S3.SS2.p8.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS2.p8.1.m1.1a"><mi id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><ci id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">\alpha</annotation></semantics></math>+<math id="S3.SS2.p8.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p8.2.m2.1a"><mi id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><ci id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">\beta</annotation></semantics></math>=1. The formula for model aggregation is proposed based on the client’s model accuracy and frequency of participation in learning. <math id="S3.SS2.p8.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS2.p8.3.m3.1a"><mi id="S3.SS2.p8.3.m3.1.1" xref="S3.SS2.p8.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m3.1b"><ci id="S3.SS2.p8.3.m3.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m3.1c">\alpha</annotation></semantics></math> and <math id="S3.SS2.p8.4.m4.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p8.4.m4.1a"><mi id="S3.SS2.p8.4.m4.1.1" xref="S3.SS2.p8.4.m4.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.4.m4.1b"><ci id="S3.SS2.p8.4.m4.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.4.m4.1c">\beta</annotation></semantics></math> are the proportional effects of each method on the aggregated model. The pseudo code of FedFa is provided in Algorithm <a href="#algorithm2" title="In 3.2 Appropriate weighting strategies ‣ 3 Fairness and accuracy in federated learning (FedFa) ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure id="algorithm2" class="ltx_float ltx_algorithm">
<div id="algorithm2.35" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm2.8.8" class="ltx_listingline">
<span id="algorithm2.8.8.1" class="ltx_text"><span id="algorithm2.8.8.1.1" class="ltx_text ltx_font_bold">Input:</span> </span>input parameters <math id="algorithm2.1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="algorithm2.1.1.m1.1a"><mi id="algorithm2.1.1.m1.1.1" xref="algorithm2.1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="algorithm2.1.1.m1.1b"><ci id="algorithm2.1.1.m1.1.1.cmml" xref="algorithm2.1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.1.1.m1.1c">K</annotation></semantics></math>, <math id="algorithm2.2.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algorithm2.2.2.m2.1a"><mi id="algorithm2.2.2.m2.1.1" xref="algorithm2.2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm2.2.2.m2.1b"><ci id="algorithm2.2.2.m2.1.1.cmml" xref="algorithm2.2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.2.2.m2.1c">T</annotation></semantics></math>, <math id="algorithm2.3.3.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="algorithm2.3.3.m3.1a"><mi id="algorithm2.3.3.m3.1.1" xref="algorithm2.3.3.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="algorithm2.3.3.m3.1b"><ci id="algorithm2.3.3.m3.1.1.cmml" xref="algorithm2.3.3.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.3.3.m3.1c">\eta</annotation></semantics></math>, <math id="algorithm2.4.4.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm2.4.4.m4.1a"><mi id="algorithm2.4.4.m4.1.1" xref="algorithm2.4.4.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm2.4.4.m4.1b"><ci id="algorithm2.4.4.m4.1.1.cmml" xref="algorithm2.4.4.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.4.4.m4.1c">E</annotation></semantics></math>, <math id="algorithm2.5.5.m5.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="algorithm2.5.5.m5.1a"><msup id="algorithm2.5.5.m5.1.1" xref="algorithm2.5.5.m5.1.1.cmml"><mi id="algorithm2.5.5.m5.1.1.2" xref="algorithm2.5.5.m5.1.1.2.cmml">w</mi><mn id="algorithm2.5.5.m5.1.1.3" xref="algorithm2.5.5.m5.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="algorithm2.5.5.m5.1b"><apply id="algorithm2.5.5.m5.1.1.cmml" xref="algorithm2.5.5.m5.1.1"><csymbol cd="ambiguous" id="algorithm2.5.5.m5.1.1.1.cmml" xref="algorithm2.5.5.m5.1.1">superscript</csymbol><ci id="algorithm2.5.5.m5.1.1.2.cmml" xref="algorithm2.5.5.m5.1.1.2">𝑤</ci><cn type="integer" id="algorithm2.5.5.m5.1.1.3.cmml" xref="algorithm2.5.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.5.5.m5.1c">w^{0}</annotation></semantics></math>, <math id="algorithm2.6.6.m6.1" class="ltx_Math" alttext="N" display="inline"><semantics id="algorithm2.6.6.m6.1a"><mi id="algorithm2.6.6.m6.1.1" xref="algorithm2.6.6.m6.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="algorithm2.6.6.m6.1b"><ci id="algorithm2.6.6.m6.1.1.cmml" xref="algorithm2.6.6.m6.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.6.6.m6.1c">N</annotation></semantics></math>, <math id="algorithm2.7.7.m7.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="algorithm2.7.7.m7.1a"><msub id="algorithm2.7.7.m7.1.1" xref="algorithm2.7.7.m7.1.1.cmml"><mi id="algorithm2.7.7.m7.1.1.2" xref="algorithm2.7.7.m7.1.1.2.cmml">p</mi><mi id="algorithm2.7.7.m7.1.1.3" xref="algorithm2.7.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2.7.7.m7.1b"><apply id="algorithm2.7.7.m7.1.1.cmml" xref="algorithm2.7.7.m7.1.1"><csymbol cd="ambiguous" id="algorithm2.7.7.m7.1.1.1.cmml" xref="algorithm2.7.7.m7.1.1">subscript</csymbol><ci id="algorithm2.7.7.m7.1.1.2.cmml" xref="algorithm2.7.7.m7.1.1.2">𝑝</ci><ci id="algorithm2.7.7.m7.1.1.3.cmml" xref="algorithm2.7.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.7.7.m7.1c">p_{k}</annotation></semantics></math>, <math id="algorithm2.8.8.m8.3" class="ltx_Math" alttext="k=1,...,N" display="inline"><semantics id="algorithm2.8.8.m8.3a"><mrow id="algorithm2.8.8.m8.3.4" xref="algorithm2.8.8.m8.3.4.cmml"><mi id="algorithm2.8.8.m8.3.4.2" xref="algorithm2.8.8.m8.3.4.2.cmml">k</mi><mo id="algorithm2.8.8.m8.3.4.1" xref="algorithm2.8.8.m8.3.4.1.cmml">=</mo><mrow id="algorithm2.8.8.m8.3.4.3.2" xref="algorithm2.8.8.m8.3.4.3.1.cmml"><mn id="algorithm2.8.8.m8.1.1" xref="algorithm2.8.8.m8.1.1.cmml">1</mn><mo id="algorithm2.8.8.m8.3.4.3.2.1" xref="algorithm2.8.8.m8.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algorithm2.8.8.m8.2.2" xref="algorithm2.8.8.m8.2.2.cmml">…</mi><mo id="algorithm2.8.8.m8.3.4.3.2.2" xref="algorithm2.8.8.m8.3.4.3.1.cmml">,</mo><mi id="algorithm2.8.8.m8.3.3" xref="algorithm2.8.8.m8.3.3.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.8.8.m8.3b"><apply id="algorithm2.8.8.m8.3.4.cmml" xref="algorithm2.8.8.m8.3.4"><eq id="algorithm2.8.8.m8.3.4.1.cmml" xref="algorithm2.8.8.m8.3.4.1"></eq><ci id="algorithm2.8.8.m8.3.4.2.cmml" xref="algorithm2.8.8.m8.3.4.2">𝑘</ci><list id="algorithm2.8.8.m8.3.4.3.1.cmml" xref="algorithm2.8.8.m8.3.4.3.2"><cn type="integer" id="algorithm2.8.8.m8.1.1.cmml" xref="algorithm2.8.8.m8.1.1">1</cn><ci id="algorithm2.8.8.m8.2.2.cmml" xref="algorithm2.8.8.m8.2.2">…</ci><ci id="algorithm2.8.8.m8.3.3.cmml" xref="algorithm2.8.8.m8.3.3">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.8.8.m8.3c">k=1,...,N</annotation></semantics></math>
</div>
<div id="algorithm2.9.9" class="ltx_listingline">
<span id="algorithm2.9.9.1" class="ltx_text ltx_font_bold">for</span> <math id="algorithm2.9.9.m1.3" class="ltx_Math" alttext="t=0,...,T-1" display="inline"><semantics id="algorithm2.9.9.m1.3a"><mrow id="algorithm2.9.9.m1.3.3" xref="algorithm2.9.9.m1.3.3.cmml"><mi id="algorithm2.9.9.m1.3.3.3" xref="algorithm2.9.9.m1.3.3.3.cmml">t</mi><mo id="algorithm2.9.9.m1.3.3.2" xref="algorithm2.9.9.m1.3.3.2.cmml">=</mo><mrow id="algorithm2.9.9.m1.3.3.1.1" xref="algorithm2.9.9.m1.3.3.1.2.cmml"><mn id="algorithm2.9.9.m1.1.1" xref="algorithm2.9.9.m1.1.1.cmml">0</mn><mo id="algorithm2.9.9.m1.3.3.1.1.2" xref="algorithm2.9.9.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="algorithm2.9.9.m1.2.2" xref="algorithm2.9.9.m1.2.2.cmml">…</mi><mo id="algorithm2.9.9.m1.3.3.1.1.3" xref="algorithm2.9.9.m1.3.3.1.2.cmml">,</mo><mrow id="algorithm2.9.9.m1.3.3.1.1.1" xref="algorithm2.9.9.m1.3.3.1.1.1.cmml"><mi id="algorithm2.9.9.m1.3.3.1.1.1.2" xref="algorithm2.9.9.m1.3.3.1.1.1.2.cmml">T</mi><mo id="algorithm2.9.9.m1.3.3.1.1.1.1" xref="algorithm2.9.9.m1.3.3.1.1.1.1.cmml">−</mo><mn id="algorithm2.9.9.m1.3.3.1.1.1.3" xref="algorithm2.9.9.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.9.9.m1.3b"><apply id="algorithm2.9.9.m1.3.3.cmml" xref="algorithm2.9.9.m1.3.3"><eq id="algorithm2.9.9.m1.3.3.2.cmml" xref="algorithm2.9.9.m1.3.3.2"></eq><ci id="algorithm2.9.9.m1.3.3.3.cmml" xref="algorithm2.9.9.m1.3.3.3">𝑡</ci><list id="algorithm2.9.9.m1.3.3.1.2.cmml" xref="algorithm2.9.9.m1.3.3.1.1"><cn type="integer" id="algorithm2.9.9.m1.1.1.cmml" xref="algorithm2.9.9.m1.1.1">0</cn><ci id="algorithm2.9.9.m1.2.2.cmml" xref="algorithm2.9.9.m1.2.2">…</ci><apply id="algorithm2.9.9.m1.3.3.1.1.1.cmml" xref="algorithm2.9.9.m1.3.3.1.1.1"><minus id="algorithm2.9.9.m1.3.3.1.1.1.1.cmml" xref="algorithm2.9.9.m1.3.3.1.1.1.1"></minus><ci id="algorithm2.9.9.m1.3.3.1.1.1.2.cmml" xref="algorithm2.9.9.m1.3.3.1.1.1.2">𝑇</ci><cn type="integer" id="algorithm2.9.9.m1.3.3.1.1.1.3.cmml" xref="algorithm2.9.9.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.9.9.m1.3c">t=0,...,T-1</annotation></semantics></math> <span id="algorithm2.9.9.2" class="ltx_text ltx_font_bold">do</span> :
</div>
<div id="algorithm2.13.13" class="ltx_listingline">   Server selects a subset <math id="algorithm2.10.10.m1.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="algorithm2.10.10.m1.1a"><msub id="algorithm2.10.10.m1.1.1" xref="algorithm2.10.10.m1.1.1.cmml"><mi id="algorithm2.10.10.m1.1.1.2" xref="algorithm2.10.10.m1.1.1.2.cmml">S</mi><mi id="algorithm2.10.10.m1.1.1.3" xref="algorithm2.10.10.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2.10.10.m1.1b"><apply id="algorithm2.10.10.m1.1.1.cmml" xref="algorithm2.10.10.m1.1.1"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.1.1.1.cmml" xref="algorithm2.10.10.m1.1.1">subscript</csymbol><ci id="algorithm2.10.10.m1.1.1.2.cmml" xref="algorithm2.10.10.m1.1.1.2">𝑆</ci><ci id="algorithm2.10.10.m1.1.1.3.cmml" xref="algorithm2.10.10.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.10.10.m1.1c">S_{t}</annotation></semantics></math> of <math id="algorithm2.11.11.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="algorithm2.11.11.m2.1a"><mi id="algorithm2.11.11.m2.1.1" xref="algorithm2.11.11.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="algorithm2.11.11.m2.1b"><ci id="algorithm2.11.11.m2.1.1.cmml" xref="algorithm2.11.11.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.11.11.m2.1c">K</annotation></semantics></math> devices at random (each device <math id="algorithm2.12.12.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="algorithm2.12.12.m3.1a"><mi id="algorithm2.12.12.m3.1.1" xref="algorithm2.12.12.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="algorithm2.12.12.m3.1b"><ci id="algorithm2.12.12.m3.1.1.cmml" xref="algorithm2.12.12.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.12.12.m3.1c">k</annotation></semantics></math> is chosen with probability <math id="algorithm2.13.13.m4.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="algorithm2.13.13.m4.1a"><msub id="algorithm2.13.13.m4.1.1" xref="algorithm2.13.13.m4.1.1.cmml"><mi id="algorithm2.13.13.m4.1.1.2" xref="algorithm2.13.13.m4.1.1.2.cmml">p</mi><mi id="algorithm2.13.13.m4.1.1.3" xref="algorithm2.13.13.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2.13.13.m4.1b"><apply id="algorithm2.13.13.m4.1.1.cmml" xref="algorithm2.13.13.m4.1.1"><csymbol cd="ambiguous" id="algorithm2.13.13.m4.1.1.1.cmml" xref="algorithm2.13.13.m4.1.1">subscript</csymbol><ci id="algorithm2.13.13.m4.1.1.2.cmml" xref="algorithm2.13.13.m4.1.1.2">𝑝</ci><ci id="algorithm2.13.13.m4.1.1.3.cmml" xref="algorithm2.13.13.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.13.13.m4.1c">p_{k}</annotation></semantics></math>);
</div>
<div id="algorithm2.14.14" class="ltx_listingline">
  Server sends <math id="algorithm2.14.14.m1.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="algorithm2.14.14.m1.1a"><msup id="algorithm2.14.14.m1.1.1" xref="algorithm2.14.14.m1.1.1.cmml"><mi id="algorithm2.14.14.m1.1.1.2" xref="algorithm2.14.14.m1.1.1.2.cmml">w</mi><mi id="algorithm2.14.14.m1.1.1.3" xref="algorithm2.14.14.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm2.14.14.m1.1b"><apply id="algorithm2.14.14.m1.1.1.cmml" xref="algorithm2.14.14.m1.1.1"><csymbol cd="ambiguous" id="algorithm2.14.14.m1.1.1.1.cmml" xref="algorithm2.14.14.m1.1.1">superscript</csymbol><ci id="algorithm2.14.14.m1.1.1.2.cmml" xref="algorithm2.14.14.m1.1.1.2">𝑤</ci><ci id="algorithm2.14.14.m1.1.1.3.cmml" xref="algorithm2.14.14.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.14.14.m1.1c">w^{t}</annotation></semantics></math> to all chosen devices;
</div>
<div id="algorithm2.35.36" class="ltx_listingline">
  Client :
</div>
<div id="algorithm2.20.20" class="ltx_listingline">
      Each device <math id="algorithm2.15.15.m1.1" class="ltx_Math" alttext="k\in S_{t}" display="inline"><semantics id="algorithm2.15.15.m1.1a"><mrow id="algorithm2.15.15.m1.1.1" xref="algorithm2.15.15.m1.1.1.cmml"><mi id="algorithm2.15.15.m1.1.1.2" xref="algorithm2.15.15.m1.1.1.2.cmml">k</mi><mo id="algorithm2.15.15.m1.1.1.1" xref="algorithm2.15.15.m1.1.1.1.cmml">∈</mo><msub id="algorithm2.15.15.m1.1.1.3" xref="algorithm2.15.15.m1.1.1.3.cmml"><mi id="algorithm2.15.15.m1.1.1.3.2" xref="algorithm2.15.15.m1.1.1.3.2.cmml">S</mi><mi id="algorithm2.15.15.m1.1.1.3.3" xref="algorithm2.15.15.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.15.15.m1.1b"><apply id="algorithm2.15.15.m1.1.1.cmml" xref="algorithm2.15.15.m1.1.1"><in id="algorithm2.15.15.m1.1.1.1.cmml" xref="algorithm2.15.15.m1.1.1.1"></in><ci id="algorithm2.15.15.m1.1.1.2.cmml" xref="algorithm2.15.15.m1.1.1.2">𝑘</ci><apply id="algorithm2.15.15.m1.1.1.3.cmml" xref="algorithm2.15.15.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.15.15.m1.1.1.3.1.cmml" xref="algorithm2.15.15.m1.1.1.3">subscript</csymbol><ci id="algorithm2.15.15.m1.1.1.3.2.cmml" xref="algorithm2.15.15.m1.1.1.3.2">𝑆</ci><ci id="algorithm2.15.15.m1.1.1.3.3.cmml" xref="algorithm2.15.15.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.15.15.m1.1c">k\in S_{t}</annotation></semantics></math> updates <math id="algorithm2.16.16.m2.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="algorithm2.16.16.m2.1a"><msup id="algorithm2.16.16.m2.1.1" xref="algorithm2.16.16.m2.1.1.cmml"><mi id="algorithm2.16.16.m2.1.1.2" xref="algorithm2.16.16.m2.1.1.2.cmml">w</mi><mi id="algorithm2.16.16.m2.1.1.3" xref="algorithm2.16.16.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm2.16.16.m2.1b"><apply id="algorithm2.16.16.m2.1.1.cmml" xref="algorithm2.16.16.m2.1.1"><csymbol cd="ambiguous" id="algorithm2.16.16.m2.1.1.1.cmml" xref="algorithm2.16.16.m2.1.1">superscript</csymbol><ci id="algorithm2.16.16.m2.1.1.2.cmml" xref="algorithm2.16.16.m2.1.1.2">𝑤</ci><ci id="algorithm2.16.16.m2.1.1.3.cmml" xref="algorithm2.16.16.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.16.16.m2.1c">w^{t}</annotation></semantics></math> for <math id="algorithm2.17.17.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm2.17.17.m3.1a"><mi id="algorithm2.17.17.m3.1.1" xref="algorithm2.17.17.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm2.17.17.m3.1b"><ci id="algorithm2.17.17.m3.1.1.cmml" xref="algorithm2.17.17.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.17.17.m3.1c">E</annotation></semantics></math> epochs of gradient descent with Momentum on <math id="algorithm2.18.18.m4.1" class="ltx_Math" alttext="F_{k}" display="inline"><semantics id="algorithm2.18.18.m4.1a"><msub id="algorithm2.18.18.m4.1.1" xref="algorithm2.18.18.m4.1.1.cmml"><mi id="algorithm2.18.18.m4.1.1.2" xref="algorithm2.18.18.m4.1.1.2.cmml">F</mi><mi id="algorithm2.18.18.m4.1.1.3" xref="algorithm2.18.18.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2.18.18.m4.1b"><apply id="algorithm2.18.18.m4.1.1.cmml" xref="algorithm2.18.18.m4.1.1"><csymbol cd="ambiguous" id="algorithm2.18.18.m4.1.1.1.cmml" xref="algorithm2.18.18.m4.1.1">subscript</csymbol><ci id="algorithm2.18.18.m4.1.1.2.cmml" xref="algorithm2.18.18.m4.1.1.2">𝐹</ci><ci id="algorithm2.18.18.m4.1.1.3.cmml" xref="algorithm2.18.18.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.18.18.m4.1c">F_{k}</annotation></semantics></math> with step-size <math id="algorithm2.19.19.m5.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="algorithm2.19.19.m5.1a"><mi id="algorithm2.19.19.m5.1.1" xref="algorithm2.19.19.m5.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="algorithm2.19.19.m5.1b"><ci id="algorithm2.19.19.m5.1.1.cmml" xref="algorithm2.19.19.m5.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.19.19.m5.1c">\eta</annotation></semantics></math> to obtain <math id="algorithm2.20.20.m6.1" class="ltx_Math" alttext="w_{k}^{t+1}" display="inline"><semantics id="algorithm2.20.20.m6.1a"><msubsup id="algorithm2.20.20.m6.1.1" xref="algorithm2.20.20.m6.1.1.cmml"><mi id="algorithm2.20.20.m6.1.1.2.2" xref="algorithm2.20.20.m6.1.1.2.2.cmml">w</mi><mi id="algorithm2.20.20.m6.1.1.2.3" xref="algorithm2.20.20.m6.1.1.2.3.cmml">k</mi><mrow id="algorithm2.20.20.m6.1.1.3" xref="algorithm2.20.20.m6.1.1.3.cmml"><mi id="algorithm2.20.20.m6.1.1.3.2" xref="algorithm2.20.20.m6.1.1.3.2.cmml">t</mi><mo id="algorithm2.20.20.m6.1.1.3.1" xref="algorithm2.20.20.m6.1.1.3.1.cmml">+</mo><mn id="algorithm2.20.20.m6.1.1.3.3" xref="algorithm2.20.20.m6.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2.20.20.m6.1b"><apply id="algorithm2.20.20.m6.1.1.cmml" xref="algorithm2.20.20.m6.1.1"><csymbol cd="ambiguous" id="algorithm2.20.20.m6.1.1.1.cmml" xref="algorithm2.20.20.m6.1.1">superscript</csymbol><apply id="algorithm2.20.20.m6.1.1.2.cmml" xref="algorithm2.20.20.m6.1.1"><csymbol cd="ambiguous" id="algorithm2.20.20.m6.1.1.2.1.cmml" xref="algorithm2.20.20.m6.1.1">subscript</csymbol><ci id="algorithm2.20.20.m6.1.1.2.2.cmml" xref="algorithm2.20.20.m6.1.1.2.2">𝑤</ci><ci id="algorithm2.20.20.m6.1.1.2.3.cmml" xref="algorithm2.20.20.m6.1.1.2.3">𝑘</ci></apply><apply id="algorithm2.20.20.m6.1.1.3.cmml" xref="algorithm2.20.20.m6.1.1.3"><plus id="algorithm2.20.20.m6.1.1.3.1.cmml" xref="algorithm2.20.20.m6.1.1.3.1"></plus><ci id="algorithm2.20.20.m6.1.1.3.2.cmml" xref="algorithm2.20.20.m6.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2.20.20.m6.1.1.3.3.cmml" xref="algorithm2.20.20.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.20.20.m6.1c">w_{k}^{t+1}</annotation></semantics></math>;
</div>
<div id="algorithm2.24.24" class="ltx_listingline">
      Each device <math id="algorithm2.21.21.m1.1" class="ltx_Math" alttext="k\in S_{t}" display="inline"><semantics id="algorithm2.21.21.m1.1a"><mrow id="algorithm2.21.21.m1.1.1" xref="algorithm2.21.21.m1.1.1.cmml"><mi id="algorithm2.21.21.m1.1.1.2" xref="algorithm2.21.21.m1.1.1.2.cmml">k</mi><mo id="algorithm2.21.21.m1.1.1.1" xref="algorithm2.21.21.m1.1.1.1.cmml">∈</mo><msub id="algorithm2.21.21.m1.1.1.3" xref="algorithm2.21.21.m1.1.1.3.cmml"><mi id="algorithm2.21.21.m1.1.1.3.2" xref="algorithm2.21.21.m1.1.1.3.2.cmml">S</mi><mi id="algorithm2.21.21.m1.1.1.3.3" xref="algorithm2.21.21.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.21.21.m1.1b"><apply id="algorithm2.21.21.m1.1.1.cmml" xref="algorithm2.21.21.m1.1.1"><in id="algorithm2.21.21.m1.1.1.1.cmml" xref="algorithm2.21.21.m1.1.1.1"></in><ci id="algorithm2.21.21.m1.1.1.2.cmml" xref="algorithm2.21.21.m1.1.1.2">𝑘</ci><apply id="algorithm2.21.21.m1.1.1.3.cmml" xref="algorithm2.21.21.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.21.21.m1.1.1.3.1.cmml" xref="algorithm2.21.21.m1.1.1.3">subscript</csymbol><ci id="algorithm2.21.21.m1.1.1.3.2.cmml" xref="algorithm2.21.21.m1.1.1.3.2">𝑆</ci><ci id="algorithm2.21.21.m1.1.1.3.3.cmml" xref="algorithm2.21.21.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.21.21.m1.1c">k\in S_{t}</annotation></semantics></math> sends <math id="algorithm2.22.22.m2.1" class="ltx_Math" alttext="w_{k}^{t+1}" display="inline"><semantics id="algorithm2.22.22.m2.1a"><msubsup id="algorithm2.22.22.m2.1.1" xref="algorithm2.22.22.m2.1.1.cmml"><mi id="algorithm2.22.22.m2.1.1.2.2" xref="algorithm2.22.22.m2.1.1.2.2.cmml">w</mi><mi id="algorithm2.22.22.m2.1.1.2.3" xref="algorithm2.22.22.m2.1.1.2.3.cmml">k</mi><mrow id="algorithm2.22.22.m2.1.1.3" xref="algorithm2.22.22.m2.1.1.3.cmml"><mi id="algorithm2.22.22.m2.1.1.3.2" xref="algorithm2.22.22.m2.1.1.3.2.cmml">t</mi><mo id="algorithm2.22.22.m2.1.1.3.1" xref="algorithm2.22.22.m2.1.1.3.1.cmml">+</mo><mn id="algorithm2.22.22.m2.1.1.3.3" xref="algorithm2.22.22.m2.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2.22.22.m2.1b"><apply id="algorithm2.22.22.m2.1.1.cmml" xref="algorithm2.22.22.m2.1.1"><csymbol cd="ambiguous" id="algorithm2.22.22.m2.1.1.1.cmml" xref="algorithm2.22.22.m2.1.1">superscript</csymbol><apply id="algorithm2.22.22.m2.1.1.2.cmml" xref="algorithm2.22.22.m2.1.1"><csymbol cd="ambiguous" id="algorithm2.22.22.m2.1.1.2.1.cmml" xref="algorithm2.22.22.m2.1.1">subscript</csymbol><ci id="algorithm2.22.22.m2.1.1.2.2.cmml" xref="algorithm2.22.22.m2.1.1.2.2">𝑤</ci><ci id="algorithm2.22.22.m2.1.1.2.3.cmml" xref="algorithm2.22.22.m2.1.1.2.3">𝑘</ci></apply><apply id="algorithm2.22.22.m2.1.1.3.cmml" xref="algorithm2.22.22.m2.1.1.3"><plus id="algorithm2.22.22.m2.1.1.3.1.cmml" xref="algorithm2.22.22.m2.1.1.3.1"></plus><ci id="algorithm2.22.22.m2.1.1.3.2.cmml" xref="algorithm2.22.22.m2.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2.22.22.m2.1.1.3.3.cmml" xref="algorithm2.22.22.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.22.22.m2.1c">w_{k}^{t+1}</annotation></semantics></math>, <math id="algorithm2.23.23.m3.1" class="ltx_Math" alttext="Acc_{k}^{t+1}" display="inline"><semantics id="algorithm2.23.23.m3.1a"><mrow id="algorithm2.23.23.m3.1.1" xref="algorithm2.23.23.m3.1.1.cmml"><mi id="algorithm2.23.23.m3.1.1.2" xref="algorithm2.23.23.m3.1.1.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="algorithm2.23.23.m3.1.1.1" xref="algorithm2.23.23.m3.1.1.1.cmml">​</mo><mi id="algorithm2.23.23.m3.1.1.3" xref="algorithm2.23.23.m3.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm2.23.23.m3.1.1.1a" xref="algorithm2.23.23.m3.1.1.1.cmml">​</mo><msubsup id="algorithm2.23.23.m3.1.1.4" xref="algorithm2.23.23.m3.1.1.4.cmml"><mi id="algorithm2.23.23.m3.1.1.4.2.2" xref="algorithm2.23.23.m3.1.1.4.2.2.cmml">c</mi><mi id="algorithm2.23.23.m3.1.1.4.2.3" xref="algorithm2.23.23.m3.1.1.4.2.3.cmml">k</mi><mrow id="algorithm2.23.23.m3.1.1.4.3" xref="algorithm2.23.23.m3.1.1.4.3.cmml"><mi id="algorithm2.23.23.m3.1.1.4.3.2" xref="algorithm2.23.23.m3.1.1.4.3.2.cmml">t</mi><mo id="algorithm2.23.23.m3.1.1.4.3.1" xref="algorithm2.23.23.m3.1.1.4.3.1.cmml">+</mo><mn id="algorithm2.23.23.m3.1.1.4.3.3" xref="algorithm2.23.23.m3.1.1.4.3.3.cmml">1</mn></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.23.23.m3.1b"><apply id="algorithm2.23.23.m3.1.1.cmml" xref="algorithm2.23.23.m3.1.1"><times id="algorithm2.23.23.m3.1.1.1.cmml" xref="algorithm2.23.23.m3.1.1.1"></times><ci id="algorithm2.23.23.m3.1.1.2.cmml" xref="algorithm2.23.23.m3.1.1.2">𝐴</ci><ci id="algorithm2.23.23.m3.1.1.3.cmml" xref="algorithm2.23.23.m3.1.1.3">𝑐</ci><apply id="algorithm2.23.23.m3.1.1.4.cmml" xref="algorithm2.23.23.m3.1.1.4"><csymbol cd="ambiguous" id="algorithm2.23.23.m3.1.1.4.1.cmml" xref="algorithm2.23.23.m3.1.1.4">superscript</csymbol><apply id="algorithm2.23.23.m3.1.1.4.2.cmml" xref="algorithm2.23.23.m3.1.1.4"><csymbol cd="ambiguous" id="algorithm2.23.23.m3.1.1.4.2.1.cmml" xref="algorithm2.23.23.m3.1.1.4">subscript</csymbol><ci id="algorithm2.23.23.m3.1.1.4.2.2.cmml" xref="algorithm2.23.23.m3.1.1.4.2.2">𝑐</ci><ci id="algorithm2.23.23.m3.1.1.4.2.3.cmml" xref="algorithm2.23.23.m3.1.1.4.2.3">𝑘</ci></apply><apply id="algorithm2.23.23.m3.1.1.4.3.cmml" xref="algorithm2.23.23.m3.1.1.4.3"><plus id="algorithm2.23.23.m3.1.1.4.3.1.cmml" xref="algorithm2.23.23.m3.1.1.4.3.1"></plus><ci id="algorithm2.23.23.m3.1.1.4.3.2.cmml" xref="algorithm2.23.23.m3.1.1.4.3.2">𝑡</ci><cn type="integer" id="algorithm2.23.23.m3.1.1.4.3.3.cmml" xref="algorithm2.23.23.m3.1.1.4.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.23.23.m3.1c">Acc_{k}^{t+1}</annotation></semantics></math>, <math id="algorithm2.24.24.m4.1" class="ltx_Math" alttext="f_{k}^{t+1}" display="inline"><semantics id="algorithm2.24.24.m4.1a"><msubsup id="algorithm2.24.24.m4.1.1" xref="algorithm2.24.24.m4.1.1.cmml"><mi id="algorithm2.24.24.m4.1.1.2.2" xref="algorithm2.24.24.m4.1.1.2.2.cmml">f</mi><mi id="algorithm2.24.24.m4.1.1.2.3" xref="algorithm2.24.24.m4.1.1.2.3.cmml">k</mi><mrow id="algorithm2.24.24.m4.1.1.3" xref="algorithm2.24.24.m4.1.1.3.cmml"><mi id="algorithm2.24.24.m4.1.1.3.2" xref="algorithm2.24.24.m4.1.1.3.2.cmml">t</mi><mo id="algorithm2.24.24.m4.1.1.3.1" xref="algorithm2.24.24.m4.1.1.3.1.cmml">+</mo><mn id="algorithm2.24.24.m4.1.1.3.3" xref="algorithm2.24.24.m4.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2.24.24.m4.1b"><apply id="algorithm2.24.24.m4.1.1.cmml" xref="algorithm2.24.24.m4.1.1"><csymbol cd="ambiguous" id="algorithm2.24.24.m4.1.1.1.cmml" xref="algorithm2.24.24.m4.1.1">superscript</csymbol><apply id="algorithm2.24.24.m4.1.1.2.cmml" xref="algorithm2.24.24.m4.1.1"><csymbol cd="ambiguous" id="algorithm2.24.24.m4.1.1.2.1.cmml" xref="algorithm2.24.24.m4.1.1">subscript</csymbol><ci id="algorithm2.24.24.m4.1.1.2.2.cmml" xref="algorithm2.24.24.m4.1.1.2.2">𝑓</ci><ci id="algorithm2.24.24.m4.1.1.2.3.cmml" xref="algorithm2.24.24.m4.1.1.2.3">𝑘</ci></apply><apply id="algorithm2.24.24.m4.1.1.3.cmml" xref="algorithm2.24.24.m4.1.1.3"><plus id="algorithm2.24.24.m4.1.1.3.1.cmml" xref="algorithm2.24.24.m4.1.1.3.1"></plus><ci id="algorithm2.24.24.m4.1.1.3.2.cmml" xref="algorithm2.24.24.m4.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2.24.24.m4.1.1.3.3.cmml" xref="algorithm2.24.24.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.24.24.m4.1c">f_{k}^{t+1}</annotation></semantics></math> back to the server ;
</div>
<div id="algorithm2.35.37" class="ltx_listingline">
  Server :
</div>
<div id="algorithm2.26.26" class="ltx_listingline">
      calculate the amount of information for <math id="algorithm2.25.25.m1.1" class="ltx_Math" alttext="Acc_{k}\_inf" display="inline"><semantics id="algorithm2.25.25.m1.1a"><mrow id="algorithm2.25.25.m1.1.1" xref="algorithm2.25.25.m1.1.1.cmml"><mi id="algorithm2.25.25.m1.1.1.2" xref="algorithm2.25.25.m1.1.1.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><mi id="algorithm2.25.25.m1.1.1.3" xref="algorithm2.25.25.m1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1a" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><msub id="algorithm2.25.25.m1.1.1.4" xref="algorithm2.25.25.m1.1.1.4.cmml"><mi id="algorithm2.25.25.m1.1.1.4.2" xref="algorithm2.25.25.m1.1.1.4.2.cmml">c</mi><mi id="algorithm2.25.25.m1.1.1.4.3" xref="algorithm2.25.25.m1.1.1.4.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1b" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="algorithm2.25.25.m1.1.1.5" xref="algorithm2.25.25.m1.1.1.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1c" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><mi id="algorithm2.25.25.m1.1.1.6" xref="algorithm2.25.25.m1.1.1.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1d" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><mi id="algorithm2.25.25.m1.1.1.7" xref="algorithm2.25.25.m1.1.1.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2.25.25.m1.1.1.1e" xref="algorithm2.25.25.m1.1.1.1.cmml">​</mo><mi id="algorithm2.25.25.m1.1.1.8" xref="algorithm2.25.25.m1.1.1.8.cmml">f</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.25.25.m1.1b"><apply id="algorithm2.25.25.m1.1.1.cmml" xref="algorithm2.25.25.m1.1.1"><times id="algorithm2.25.25.m1.1.1.1.cmml" xref="algorithm2.25.25.m1.1.1.1"></times><ci id="algorithm2.25.25.m1.1.1.2.cmml" xref="algorithm2.25.25.m1.1.1.2">𝐴</ci><ci id="algorithm2.25.25.m1.1.1.3.cmml" xref="algorithm2.25.25.m1.1.1.3">𝑐</ci><apply id="algorithm2.25.25.m1.1.1.4.cmml" xref="algorithm2.25.25.m1.1.1.4"><csymbol cd="ambiguous" id="algorithm2.25.25.m1.1.1.4.1.cmml" xref="algorithm2.25.25.m1.1.1.4">subscript</csymbol><ci id="algorithm2.25.25.m1.1.1.4.2.cmml" xref="algorithm2.25.25.m1.1.1.4.2">𝑐</ci><ci id="algorithm2.25.25.m1.1.1.4.3.cmml" xref="algorithm2.25.25.m1.1.1.4.3">𝑘</ci></apply><ci id="algorithm2.25.25.m1.1.1.5.cmml" xref="algorithm2.25.25.m1.1.1.5">_</ci><ci id="algorithm2.25.25.m1.1.1.6.cmml" xref="algorithm2.25.25.m1.1.1.6">𝑖</ci><ci id="algorithm2.25.25.m1.1.1.7.cmml" xref="algorithm2.25.25.m1.1.1.7">𝑛</ci><ci id="algorithm2.25.25.m1.1.1.8.cmml" xref="algorithm2.25.25.m1.1.1.8">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.25.25.m1.1c">Acc_{k}\_inf</annotation></semantics></math> and <math id="algorithm2.26.26.m2.1" class="ltx_Math" alttext="f_{k}\_inf" display="inline"><semantics id="algorithm2.26.26.m2.1a"><mrow id="algorithm2.26.26.m2.1.1" xref="algorithm2.26.26.m2.1.1.cmml"><msub id="algorithm2.26.26.m2.1.1.2" xref="algorithm2.26.26.m2.1.1.2.cmml"><mi id="algorithm2.26.26.m2.1.1.2.2" xref="algorithm2.26.26.m2.1.1.2.2.cmml">f</mi><mi id="algorithm2.26.26.m2.1.1.2.3" xref="algorithm2.26.26.m2.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.26.26.m2.1.1.1" xref="algorithm2.26.26.m2.1.1.1.cmml">​</mo><mi mathvariant="normal" id="algorithm2.26.26.m2.1.1.3" xref="algorithm2.26.26.m2.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2.26.26.m2.1.1.1a" xref="algorithm2.26.26.m2.1.1.1.cmml">​</mo><mi id="algorithm2.26.26.m2.1.1.4" xref="algorithm2.26.26.m2.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.26.26.m2.1.1.1b" xref="algorithm2.26.26.m2.1.1.1.cmml">​</mo><mi id="algorithm2.26.26.m2.1.1.5" xref="algorithm2.26.26.m2.1.1.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2.26.26.m2.1.1.1c" xref="algorithm2.26.26.m2.1.1.1.cmml">​</mo><mi id="algorithm2.26.26.m2.1.1.6" xref="algorithm2.26.26.m2.1.1.6.cmml">f</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.26.26.m2.1b"><apply id="algorithm2.26.26.m2.1.1.cmml" xref="algorithm2.26.26.m2.1.1"><times id="algorithm2.26.26.m2.1.1.1.cmml" xref="algorithm2.26.26.m2.1.1.1"></times><apply id="algorithm2.26.26.m2.1.1.2.cmml" xref="algorithm2.26.26.m2.1.1.2"><csymbol cd="ambiguous" id="algorithm2.26.26.m2.1.1.2.1.cmml" xref="algorithm2.26.26.m2.1.1.2">subscript</csymbol><ci id="algorithm2.26.26.m2.1.1.2.2.cmml" xref="algorithm2.26.26.m2.1.1.2.2">𝑓</ci><ci id="algorithm2.26.26.m2.1.1.2.3.cmml" xref="algorithm2.26.26.m2.1.1.2.3">𝑘</ci></apply><ci id="algorithm2.26.26.m2.1.1.3.cmml" xref="algorithm2.26.26.m2.1.1.3">_</ci><ci id="algorithm2.26.26.m2.1.1.4.cmml" xref="algorithm2.26.26.m2.1.1.4">𝑖</ci><ci id="algorithm2.26.26.m2.1.1.5.cmml" xref="algorithm2.26.26.m2.1.1.5">𝑛</ci><ci id="algorithm2.26.26.m2.1.1.6.cmml" xref="algorithm2.26.26.m2.1.1.6">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.26.26.m2.1c">f_{k}\_inf</annotation></semantics></math> ;
</div>
<div id="algorithm2.28.28" class="ltx_listingline">
      update the <math id="algorithm2.27.27.m1.1" class="ltx_Math" alttext="weight" display="inline"><semantics id="algorithm2.27.27.m1.1a"><mrow id="algorithm2.27.27.m1.1.1" xref="algorithm2.27.27.m1.1.1.cmml"><mi id="algorithm2.27.27.m1.1.1.2" xref="algorithm2.27.27.m1.1.1.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2.27.27.m1.1.1.1" xref="algorithm2.27.27.m1.1.1.1.cmml">​</mo><mi id="algorithm2.27.27.m1.1.1.3" xref="algorithm2.27.27.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="algorithm2.27.27.m1.1.1.1a" xref="algorithm2.27.27.m1.1.1.1.cmml">​</mo><mi id="algorithm2.27.27.m1.1.1.4" xref="algorithm2.27.27.m1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.27.27.m1.1.1.1b" xref="algorithm2.27.27.m1.1.1.1.cmml">​</mo><mi id="algorithm2.27.27.m1.1.1.5" xref="algorithm2.27.27.m1.1.1.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2.27.27.m1.1.1.1c" xref="algorithm2.27.27.m1.1.1.1.cmml">​</mo><mi id="algorithm2.27.27.m1.1.1.6" xref="algorithm2.27.27.m1.1.1.6.cmml">h</mi><mo lspace="0em" rspace="0em" id="algorithm2.27.27.m1.1.1.1d" xref="algorithm2.27.27.m1.1.1.1.cmml">​</mo><mi id="algorithm2.27.27.m1.1.1.7" xref="algorithm2.27.27.m1.1.1.7.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.27.27.m1.1b"><apply id="algorithm2.27.27.m1.1.1.cmml" xref="algorithm2.27.27.m1.1.1"><times id="algorithm2.27.27.m1.1.1.1.cmml" xref="algorithm2.27.27.m1.1.1.1"></times><ci id="algorithm2.27.27.m1.1.1.2.cmml" xref="algorithm2.27.27.m1.1.1.2">𝑤</ci><ci id="algorithm2.27.27.m1.1.1.3.cmml" xref="algorithm2.27.27.m1.1.1.3">𝑒</ci><ci id="algorithm2.27.27.m1.1.1.4.cmml" xref="algorithm2.27.27.m1.1.1.4">𝑖</ci><ci id="algorithm2.27.27.m1.1.1.5.cmml" xref="algorithm2.27.27.m1.1.1.5">𝑔</ci><ci id="algorithm2.27.27.m1.1.1.6.cmml" xref="algorithm2.27.27.m1.1.1.6">ℎ</ci><ci id="algorithm2.27.27.m1.1.1.7.cmml" xref="algorithm2.27.27.m1.1.1.7">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.27.27.m1.1c">weight</annotation></semantics></math> as: <math id="algorithm2.28.28.m2.1" class="ltx_Math" alttext="weight_{k}=\alpha Acc_{k}\_inf+\beta f_{k}\_inf" display="inline"><semantics id="algorithm2.28.28.m2.1a"><mrow id="algorithm2.28.28.m2.1.1" xref="algorithm2.28.28.m2.1.1.cmml"><mrow id="algorithm2.28.28.m2.1.1.2" xref="algorithm2.28.28.m2.1.1.2.cmml"><mi id="algorithm2.28.28.m2.1.1.2.2" xref="algorithm2.28.28.m2.1.1.2.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.2.1" xref="algorithm2.28.28.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.2.3" xref="algorithm2.28.28.m2.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.2.1a" xref="algorithm2.28.28.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.2.4" xref="algorithm2.28.28.m2.1.1.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.2.1b" xref="algorithm2.28.28.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.2.5" xref="algorithm2.28.28.m2.1.1.2.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.2.1c" xref="algorithm2.28.28.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.2.6" xref="algorithm2.28.28.m2.1.1.2.6.cmml">h</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.2.1d" xref="algorithm2.28.28.m2.1.1.2.1.cmml">​</mo><msub id="algorithm2.28.28.m2.1.1.2.7" xref="algorithm2.28.28.m2.1.1.2.7.cmml"><mi id="algorithm2.28.28.m2.1.1.2.7.2" xref="algorithm2.28.28.m2.1.1.2.7.2.cmml">t</mi><mi id="algorithm2.28.28.m2.1.1.2.7.3" xref="algorithm2.28.28.m2.1.1.2.7.3.cmml">k</mi></msub></mrow><mo id="algorithm2.28.28.m2.1.1.1" xref="algorithm2.28.28.m2.1.1.1.cmml">=</mo><mrow id="algorithm2.28.28.m2.1.1.3" xref="algorithm2.28.28.m2.1.1.3.cmml"><mrow id="algorithm2.28.28.m2.1.1.3.2" xref="algorithm2.28.28.m2.1.1.3.2.cmml"><mi id="algorithm2.28.28.m2.1.1.3.2.2" xref="algorithm2.28.28.m2.1.1.3.2.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.2.3" xref="algorithm2.28.28.m2.1.1.3.2.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1a" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.2.4" xref="algorithm2.28.28.m2.1.1.3.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1b" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><msub id="algorithm2.28.28.m2.1.1.3.2.5" xref="algorithm2.28.28.m2.1.1.3.2.5.cmml"><mi id="algorithm2.28.28.m2.1.1.3.2.5.2" xref="algorithm2.28.28.m2.1.1.3.2.5.2.cmml">c</mi><mi id="algorithm2.28.28.m2.1.1.3.2.5.3" xref="algorithm2.28.28.m2.1.1.3.2.5.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1c" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="algorithm2.28.28.m2.1.1.3.2.6" xref="algorithm2.28.28.m2.1.1.3.2.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1d" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.2.7" xref="algorithm2.28.28.m2.1.1.3.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1e" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.2.8" xref="algorithm2.28.28.m2.1.1.3.2.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.2.1f" xref="algorithm2.28.28.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.2.9" xref="algorithm2.28.28.m2.1.1.3.2.9.cmml">f</mi></mrow><mo id="algorithm2.28.28.m2.1.1.3.1" xref="algorithm2.28.28.m2.1.1.3.1.cmml">+</mo><mrow id="algorithm2.28.28.m2.1.1.3.3" xref="algorithm2.28.28.m2.1.1.3.3.cmml"><mi id="algorithm2.28.28.m2.1.1.3.3.2" xref="algorithm2.28.28.m2.1.1.3.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.3.1" xref="algorithm2.28.28.m2.1.1.3.3.1.cmml">​</mo><msub id="algorithm2.28.28.m2.1.1.3.3.3" xref="algorithm2.28.28.m2.1.1.3.3.3.cmml"><mi id="algorithm2.28.28.m2.1.1.3.3.3.2" xref="algorithm2.28.28.m2.1.1.3.3.3.2.cmml">f</mi><mi id="algorithm2.28.28.m2.1.1.3.3.3.3" xref="algorithm2.28.28.m2.1.1.3.3.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.3.1a" xref="algorithm2.28.28.m2.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="algorithm2.28.28.m2.1.1.3.3.4" xref="algorithm2.28.28.m2.1.1.3.3.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.3.1b" xref="algorithm2.28.28.m2.1.1.3.3.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.3.5" xref="algorithm2.28.28.m2.1.1.3.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.3.1c" xref="algorithm2.28.28.m2.1.1.3.3.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.3.6" xref="algorithm2.28.28.m2.1.1.3.3.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2.28.28.m2.1.1.3.3.1d" xref="algorithm2.28.28.m2.1.1.3.3.1.cmml">​</mo><mi id="algorithm2.28.28.m2.1.1.3.3.7" xref="algorithm2.28.28.m2.1.1.3.3.7.cmml">f</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.28.28.m2.1b"><apply id="algorithm2.28.28.m2.1.1.cmml" xref="algorithm2.28.28.m2.1.1"><eq id="algorithm2.28.28.m2.1.1.1.cmml" xref="algorithm2.28.28.m2.1.1.1"></eq><apply id="algorithm2.28.28.m2.1.1.2.cmml" xref="algorithm2.28.28.m2.1.1.2"><times id="algorithm2.28.28.m2.1.1.2.1.cmml" xref="algorithm2.28.28.m2.1.1.2.1"></times><ci id="algorithm2.28.28.m2.1.1.2.2.cmml" xref="algorithm2.28.28.m2.1.1.2.2">𝑤</ci><ci id="algorithm2.28.28.m2.1.1.2.3.cmml" xref="algorithm2.28.28.m2.1.1.2.3">𝑒</ci><ci id="algorithm2.28.28.m2.1.1.2.4.cmml" xref="algorithm2.28.28.m2.1.1.2.4">𝑖</ci><ci id="algorithm2.28.28.m2.1.1.2.5.cmml" xref="algorithm2.28.28.m2.1.1.2.5">𝑔</ci><ci id="algorithm2.28.28.m2.1.1.2.6.cmml" xref="algorithm2.28.28.m2.1.1.2.6">ℎ</ci><apply id="algorithm2.28.28.m2.1.1.2.7.cmml" xref="algorithm2.28.28.m2.1.1.2.7"><csymbol cd="ambiguous" id="algorithm2.28.28.m2.1.1.2.7.1.cmml" xref="algorithm2.28.28.m2.1.1.2.7">subscript</csymbol><ci id="algorithm2.28.28.m2.1.1.2.7.2.cmml" xref="algorithm2.28.28.m2.1.1.2.7.2">𝑡</ci><ci id="algorithm2.28.28.m2.1.1.2.7.3.cmml" xref="algorithm2.28.28.m2.1.1.2.7.3">𝑘</ci></apply></apply><apply id="algorithm2.28.28.m2.1.1.3.cmml" xref="algorithm2.28.28.m2.1.1.3"><plus id="algorithm2.28.28.m2.1.1.3.1.cmml" xref="algorithm2.28.28.m2.1.1.3.1"></plus><apply id="algorithm2.28.28.m2.1.1.3.2.cmml" xref="algorithm2.28.28.m2.1.1.3.2"><times id="algorithm2.28.28.m2.1.1.3.2.1.cmml" xref="algorithm2.28.28.m2.1.1.3.2.1"></times><ci id="algorithm2.28.28.m2.1.1.3.2.2.cmml" xref="algorithm2.28.28.m2.1.1.3.2.2">𝛼</ci><ci id="algorithm2.28.28.m2.1.1.3.2.3.cmml" xref="algorithm2.28.28.m2.1.1.3.2.3">𝐴</ci><ci id="algorithm2.28.28.m2.1.1.3.2.4.cmml" xref="algorithm2.28.28.m2.1.1.3.2.4">𝑐</ci><apply id="algorithm2.28.28.m2.1.1.3.2.5.cmml" xref="algorithm2.28.28.m2.1.1.3.2.5"><csymbol cd="ambiguous" id="algorithm2.28.28.m2.1.1.3.2.5.1.cmml" xref="algorithm2.28.28.m2.1.1.3.2.5">subscript</csymbol><ci id="algorithm2.28.28.m2.1.1.3.2.5.2.cmml" xref="algorithm2.28.28.m2.1.1.3.2.5.2">𝑐</ci><ci id="algorithm2.28.28.m2.1.1.3.2.5.3.cmml" xref="algorithm2.28.28.m2.1.1.3.2.5.3">𝑘</ci></apply><ci id="algorithm2.28.28.m2.1.1.3.2.6.cmml" xref="algorithm2.28.28.m2.1.1.3.2.6">_</ci><ci id="algorithm2.28.28.m2.1.1.3.2.7.cmml" xref="algorithm2.28.28.m2.1.1.3.2.7">𝑖</ci><ci id="algorithm2.28.28.m2.1.1.3.2.8.cmml" xref="algorithm2.28.28.m2.1.1.3.2.8">𝑛</ci><ci id="algorithm2.28.28.m2.1.1.3.2.9.cmml" xref="algorithm2.28.28.m2.1.1.3.2.9">𝑓</ci></apply><apply id="algorithm2.28.28.m2.1.1.3.3.cmml" xref="algorithm2.28.28.m2.1.1.3.3"><times id="algorithm2.28.28.m2.1.1.3.3.1.cmml" xref="algorithm2.28.28.m2.1.1.3.3.1"></times><ci id="algorithm2.28.28.m2.1.1.3.3.2.cmml" xref="algorithm2.28.28.m2.1.1.3.3.2">𝛽</ci><apply id="algorithm2.28.28.m2.1.1.3.3.3.cmml" xref="algorithm2.28.28.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="algorithm2.28.28.m2.1.1.3.3.3.1.cmml" xref="algorithm2.28.28.m2.1.1.3.3.3">subscript</csymbol><ci id="algorithm2.28.28.m2.1.1.3.3.3.2.cmml" xref="algorithm2.28.28.m2.1.1.3.3.3.2">𝑓</ci><ci id="algorithm2.28.28.m2.1.1.3.3.3.3.cmml" xref="algorithm2.28.28.m2.1.1.3.3.3.3">𝑘</ci></apply><ci id="algorithm2.28.28.m2.1.1.3.3.4.cmml" xref="algorithm2.28.28.m2.1.1.3.3.4">_</ci><ci id="algorithm2.28.28.m2.1.1.3.3.5.cmml" xref="algorithm2.28.28.m2.1.1.3.3.5">𝑖</ci><ci id="algorithm2.28.28.m2.1.1.3.3.6.cmml" xref="algorithm2.28.28.m2.1.1.3.3.6">𝑛</ci><ci id="algorithm2.28.28.m2.1.1.3.3.7.cmml" xref="algorithm2.28.28.m2.1.1.3.3.7">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.28.28.m2.1c">weight_{k}=\alpha Acc_{k}\_inf+\beta f_{k}\_inf</annotation></semantics></math> ;
</div>
<div id="algorithm2.30.30" class="ltx_listingline">
      aggregate the <math id="algorithm2.29.29.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2.29.29.m1.1a"><mi id="algorithm2.29.29.m1.1.1" xref="algorithm2.29.29.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2.29.29.m1.1b"><ci id="algorithm2.29.29.m1.1.1.cmml" xref="algorithm2.29.29.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.29.29.m1.1c">w</annotation></semantics></math>’s as <math id="algorithm2.30.30.m2.1" class="ltx_Math" alttext="w^{t+1}=\Sigma_{k\in S_{t}}weight_{k}\times\ w_{k}^{t+1}" display="inline"><semantics id="algorithm2.30.30.m2.1a"><mrow id="algorithm2.30.30.m2.1.1" xref="algorithm2.30.30.m2.1.1.cmml"><msup id="algorithm2.30.30.m2.1.1.2" xref="algorithm2.30.30.m2.1.1.2.cmml"><mi id="algorithm2.30.30.m2.1.1.2.2" xref="algorithm2.30.30.m2.1.1.2.2.cmml">w</mi><mrow id="algorithm2.30.30.m2.1.1.2.3" xref="algorithm2.30.30.m2.1.1.2.3.cmml"><mi id="algorithm2.30.30.m2.1.1.2.3.2" xref="algorithm2.30.30.m2.1.1.2.3.2.cmml">t</mi><mo id="algorithm2.30.30.m2.1.1.2.3.1" xref="algorithm2.30.30.m2.1.1.2.3.1.cmml">+</mo><mn id="algorithm2.30.30.m2.1.1.2.3.3" xref="algorithm2.30.30.m2.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="algorithm2.30.30.m2.1.1.1" xref="algorithm2.30.30.m2.1.1.1.cmml">=</mo><mrow id="algorithm2.30.30.m2.1.1.3" xref="algorithm2.30.30.m2.1.1.3.cmml"><mrow id="algorithm2.30.30.m2.1.1.3.2" xref="algorithm2.30.30.m2.1.1.3.2.cmml"><msub id="algorithm2.30.30.m2.1.1.3.2.2" xref="algorithm2.30.30.m2.1.1.3.2.2.cmml"><mi mathvariant="normal" id="algorithm2.30.30.m2.1.1.3.2.2.2" xref="algorithm2.30.30.m2.1.1.3.2.2.2.cmml">Σ</mi><mrow id="algorithm2.30.30.m2.1.1.3.2.2.3" xref="algorithm2.30.30.m2.1.1.3.2.2.3.cmml"><mi id="algorithm2.30.30.m2.1.1.3.2.2.3.2" xref="algorithm2.30.30.m2.1.1.3.2.2.3.2.cmml">k</mi><mo id="algorithm2.30.30.m2.1.1.3.2.2.3.1" xref="algorithm2.30.30.m2.1.1.3.2.2.3.1.cmml">∈</mo><msub id="algorithm2.30.30.m2.1.1.3.2.2.3.3" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3.cmml"><mi id="algorithm2.30.30.m2.1.1.3.2.2.3.3.2" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3.2.cmml">S</mi><mi id="algorithm2.30.30.m2.1.1.3.2.2.3.3.3" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3.3.cmml">t</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.30.30.m2.1.1.3.2.3" xref="algorithm2.30.30.m2.1.1.3.2.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1a" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.30.30.m2.1.1.3.2.4" xref="algorithm2.30.30.m2.1.1.3.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1b" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.30.30.m2.1.1.3.2.5" xref="algorithm2.30.30.m2.1.1.3.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1c" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.30.30.m2.1.1.3.2.6" xref="algorithm2.30.30.m2.1.1.3.2.6.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1d" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><mi id="algorithm2.30.30.m2.1.1.3.2.7" xref="algorithm2.30.30.m2.1.1.3.2.7.cmml">h</mi><mo lspace="0em" rspace="0em" id="algorithm2.30.30.m2.1.1.3.2.1e" xref="algorithm2.30.30.m2.1.1.3.2.1.cmml">​</mo><msub id="algorithm2.30.30.m2.1.1.3.2.8" xref="algorithm2.30.30.m2.1.1.3.2.8.cmml"><mi id="algorithm2.30.30.m2.1.1.3.2.8.2" xref="algorithm2.30.30.m2.1.1.3.2.8.2.cmml">t</mi><mi id="algorithm2.30.30.m2.1.1.3.2.8.3" xref="algorithm2.30.30.m2.1.1.3.2.8.3.cmml">k</mi></msub></mrow><mo lspace="0.222em" rspace="0.722em" id="algorithm2.30.30.m2.1.1.3.1" xref="algorithm2.30.30.m2.1.1.3.1.cmml">×</mo><msubsup id="algorithm2.30.30.m2.1.1.3.3" xref="algorithm2.30.30.m2.1.1.3.3.cmml"><mi id="algorithm2.30.30.m2.1.1.3.3.2.2" xref="algorithm2.30.30.m2.1.1.3.3.2.2.cmml">w</mi><mi id="algorithm2.30.30.m2.1.1.3.3.2.3" xref="algorithm2.30.30.m2.1.1.3.3.2.3.cmml">k</mi><mrow id="algorithm2.30.30.m2.1.1.3.3.3" xref="algorithm2.30.30.m2.1.1.3.3.3.cmml"><mi id="algorithm2.30.30.m2.1.1.3.3.3.2" xref="algorithm2.30.30.m2.1.1.3.3.3.2.cmml">t</mi><mo id="algorithm2.30.30.m2.1.1.3.3.3.1" xref="algorithm2.30.30.m2.1.1.3.3.3.1.cmml">+</mo><mn id="algorithm2.30.30.m2.1.1.3.3.3.3" xref="algorithm2.30.30.m2.1.1.3.3.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.30.30.m2.1b"><apply id="algorithm2.30.30.m2.1.1.cmml" xref="algorithm2.30.30.m2.1.1"><eq id="algorithm2.30.30.m2.1.1.1.cmml" xref="algorithm2.30.30.m2.1.1.1"></eq><apply id="algorithm2.30.30.m2.1.1.2.cmml" xref="algorithm2.30.30.m2.1.1.2"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.2.1.cmml" xref="algorithm2.30.30.m2.1.1.2">superscript</csymbol><ci id="algorithm2.30.30.m2.1.1.2.2.cmml" xref="algorithm2.30.30.m2.1.1.2.2">𝑤</ci><apply id="algorithm2.30.30.m2.1.1.2.3.cmml" xref="algorithm2.30.30.m2.1.1.2.3"><plus id="algorithm2.30.30.m2.1.1.2.3.1.cmml" xref="algorithm2.30.30.m2.1.1.2.3.1"></plus><ci id="algorithm2.30.30.m2.1.1.2.3.2.cmml" xref="algorithm2.30.30.m2.1.1.2.3.2">𝑡</ci><cn type="integer" id="algorithm2.30.30.m2.1.1.2.3.3.cmml" xref="algorithm2.30.30.m2.1.1.2.3.3">1</cn></apply></apply><apply id="algorithm2.30.30.m2.1.1.3.cmml" xref="algorithm2.30.30.m2.1.1.3"><times id="algorithm2.30.30.m2.1.1.3.1.cmml" xref="algorithm2.30.30.m2.1.1.3.1"></times><apply id="algorithm2.30.30.m2.1.1.3.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2"><times id="algorithm2.30.30.m2.1.1.3.2.1.cmml" xref="algorithm2.30.30.m2.1.1.3.2.1"></times><apply id="algorithm2.30.30.m2.1.1.3.2.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.3.2.2.1.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2">subscript</csymbol><ci id="algorithm2.30.30.m2.1.1.3.2.2.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.2">Σ</ci><apply id="algorithm2.30.30.m2.1.1.3.2.2.3.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3"><in id="algorithm2.30.30.m2.1.1.3.2.2.3.1.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.1"></in><ci id="algorithm2.30.30.m2.1.1.3.2.2.3.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.2">𝑘</ci><apply id="algorithm2.30.30.m2.1.1.3.2.2.3.3.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.3.2.2.3.3.1.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3">subscript</csymbol><ci id="algorithm2.30.30.m2.1.1.3.2.2.3.3.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3.2">𝑆</ci><ci id="algorithm2.30.30.m2.1.1.3.2.2.3.3.3.cmml" xref="algorithm2.30.30.m2.1.1.3.2.2.3.3.3">𝑡</ci></apply></apply></apply><ci id="algorithm2.30.30.m2.1.1.3.2.3.cmml" xref="algorithm2.30.30.m2.1.1.3.2.3">𝑤</ci><ci id="algorithm2.30.30.m2.1.1.3.2.4.cmml" xref="algorithm2.30.30.m2.1.1.3.2.4">𝑒</ci><ci id="algorithm2.30.30.m2.1.1.3.2.5.cmml" xref="algorithm2.30.30.m2.1.1.3.2.5">𝑖</ci><ci id="algorithm2.30.30.m2.1.1.3.2.6.cmml" xref="algorithm2.30.30.m2.1.1.3.2.6">𝑔</ci><ci id="algorithm2.30.30.m2.1.1.3.2.7.cmml" xref="algorithm2.30.30.m2.1.1.3.2.7">ℎ</ci><apply id="algorithm2.30.30.m2.1.1.3.2.8.cmml" xref="algorithm2.30.30.m2.1.1.3.2.8"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.3.2.8.1.cmml" xref="algorithm2.30.30.m2.1.1.3.2.8">subscript</csymbol><ci id="algorithm2.30.30.m2.1.1.3.2.8.2.cmml" xref="algorithm2.30.30.m2.1.1.3.2.8.2">𝑡</ci><ci id="algorithm2.30.30.m2.1.1.3.2.8.3.cmml" xref="algorithm2.30.30.m2.1.1.3.2.8.3">𝑘</ci></apply></apply><apply id="algorithm2.30.30.m2.1.1.3.3.cmml" xref="algorithm2.30.30.m2.1.1.3.3"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.3.3.1.cmml" xref="algorithm2.30.30.m2.1.1.3.3">superscript</csymbol><apply id="algorithm2.30.30.m2.1.1.3.3.2.cmml" xref="algorithm2.30.30.m2.1.1.3.3"><csymbol cd="ambiguous" id="algorithm2.30.30.m2.1.1.3.3.2.1.cmml" xref="algorithm2.30.30.m2.1.1.3.3">subscript</csymbol><ci id="algorithm2.30.30.m2.1.1.3.3.2.2.cmml" xref="algorithm2.30.30.m2.1.1.3.3.2.2">𝑤</ci><ci id="algorithm2.30.30.m2.1.1.3.3.2.3.cmml" xref="algorithm2.30.30.m2.1.1.3.3.2.3">𝑘</ci></apply><apply id="algorithm2.30.30.m2.1.1.3.3.3.cmml" xref="algorithm2.30.30.m2.1.1.3.3.3"><plus id="algorithm2.30.30.m2.1.1.3.3.3.1.cmml" xref="algorithm2.30.30.m2.1.1.3.3.3.1"></plus><ci id="algorithm2.30.30.m2.1.1.3.3.3.2.cmml" xref="algorithm2.30.30.m2.1.1.3.3.3.2">𝑡</ci><cn type="integer" id="algorithm2.30.30.m2.1.1.3.3.3.3.cmml" xref="algorithm2.30.30.m2.1.1.3.3.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.30.30.m2.1c">w^{t+1}=\Sigma_{k\in S_{t}}weight_{k}\times\ w_{k}^{t+1}</annotation></semantics></math> ;
</div>
<div id="algorithm2.32.32" class="ltx_listingline">
      calculate the difference between two rounds of <math id="algorithm2.31.31.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2.31.31.m1.1a"><mi id="algorithm2.31.31.m1.1.1" xref="algorithm2.31.31.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2.31.31.m1.1b"><ci id="algorithm2.31.31.m1.1.1.cmml" xref="algorithm2.31.31.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.31.31.m1.1c">w</annotation></semantics></math> as a gradient: <math id="algorithm2.32.32.m2.1" class="ltx_Math" alttext="\Delta w=w^{t+1}-w^{t}" display="inline"><semantics id="algorithm2.32.32.m2.1a"><mrow id="algorithm2.32.32.m2.1.1" xref="algorithm2.32.32.m2.1.1.cmml"><mrow id="algorithm2.32.32.m2.1.1.2" xref="algorithm2.32.32.m2.1.1.2.cmml"><mi mathvariant="normal" id="algorithm2.32.32.m2.1.1.2.2" xref="algorithm2.32.32.m2.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="algorithm2.32.32.m2.1.1.2.1" xref="algorithm2.32.32.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2.32.32.m2.1.1.2.3" xref="algorithm2.32.32.m2.1.1.2.3.cmml">w</mi></mrow><mo id="algorithm2.32.32.m2.1.1.1" xref="algorithm2.32.32.m2.1.1.1.cmml">=</mo><mrow id="algorithm2.32.32.m2.1.1.3" xref="algorithm2.32.32.m2.1.1.3.cmml"><msup id="algorithm2.32.32.m2.1.1.3.2" xref="algorithm2.32.32.m2.1.1.3.2.cmml"><mi id="algorithm2.32.32.m2.1.1.3.2.2" xref="algorithm2.32.32.m2.1.1.3.2.2.cmml">w</mi><mrow id="algorithm2.32.32.m2.1.1.3.2.3" xref="algorithm2.32.32.m2.1.1.3.2.3.cmml"><mi id="algorithm2.32.32.m2.1.1.3.2.3.2" xref="algorithm2.32.32.m2.1.1.3.2.3.2.cmml">t</mi><mo id="algorithm2.32.32.m2.1.1.3.2.3.1" xref="algorithm2.32.32.m2.1.1.3.2.3.1.cmml">+</mo><mn id="algorithm2.32.32.m2.1.1.3.2.3.3" xref="algorithm2.32.32.m2.1.1.3.2.3.3.cmml">1</mn></mrow></msup><mo id="algorithm2.32.32.m2.1.1.3.1" xref="algorithm2.32.32.m2.1.1.3.1.cmml">−</mo><msup id="algorithm2.32.32.m2.1.1.3.3" xref="algorithm2.32.32.m2.1.1.3.3.cmml"><mi id="algorithm2.32.32.m2.1.1.3.3.2" xref="algorithm2.32.32.m2.1.1.3.3.2.cmml">w</mi><mi id="algorithm2.32.32.m2.1.1.3.3.3" xref="algorithm2.32.32.m2.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.32.32.m2.1b"><apply id="algorithm2.32.32.m2.1.1.cmml" xref="algorithm2.32.32.m2.1.1"><eq id="algorithm2.32.32.m2.1.1.1.cmml" xref="algorithm2.32.32.m2.1.1.1"></eq><apply id="algorithm2.32.32.m2.1.1.2.cmml" xref="algorithm2.32.32.m2.1.1.2"><times id="algorithm2.32.32.m2.1.1.2.1.cmml" xref="algorithm2.32.32.m2.1.1.2.1"></times><ci id="algorithm2.32.32.m2.1.1.2.2.cmml" xref="algorithm2.32.32.m2.1.1.2.2">Δ</ci><ci id="algorithm2.32.32.m2.1.1.2.3.cmml" xref="algorithm2.32.32.m2.1.1.2.3">𝑤</ci></apply><apply id="algorithm2.32.32.m2.1.1.3.cmml" xref="algorithm2.32.32.m2.1.1.3"><minus id="algorithm2.32.32.m2.1.1.3.1.cmml" xref="algorithm2.32.32.m2.1.1.3.1"></minus><apply id="algorithm2.32.32.m2.1.1.3.2.cmml" xref="algorithm2.32.32.m2.1.1.3.2"><csymbol cd="ambiguous" id="algorithm2.32.32.m2.1.1.3.2.1.cmml" xref="algorithm2.32.32.m2.1.1.3.2">superscript</csymbol><ci id="algorithm2.32.32.m2.1.1.3.2.2.cmml" xref="algorithm2.32.32.m2.1.1.3.2.2">𝑤</ci><apply id="algorithm2.32.32.m2.1.1.3.2.3.cmml" xref="algorithm2.32.32.m2.1.1.3.2.3"><plus id="algorithm2.32.32.m2.1.1.3.2.3.1.cmml" xref="algorithm2.32.32.m2.1.1.3.2.3.1"></plus><ci id="algorithm2.32.32.m2.1.1.3.2.3.2.cmml" xref="algorithm2.32.32.m2.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="algorithm2.32.32.m2.1.1.3.2.3.3.cmml" xref="algorithm2.32.32.m2.1.1.3.2.3.3">1</cn></apply></apply><apply id="algorithm2.32.32.m2.1.1.3.3.cmml" xref="algorithm2.32.32.m2.1.1.3.3"><csymbol cd="ambiguous" id="algorithm2.32.32.m2.1.1.3.3.1.cmml" xref="algorithm2.32.32.m2.1.1.3.3">superscript</csymbol><ci id="algorithm2.32.32.m2.1.1.3.3.2.cmml" xref="algorithm2.32.32.m2.1.1.3.3.2">𝑤</ci><ci id="algorithm2.32.32.m2.1.1.3.3.3.cmml" xref="algorithm2.32.32.m2.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.32.32.m2.1c">\Delta w=w^{t+1}-w^{t}</annotation></semantics></math> ;
</div>
<div id="algorithm2.33.33" class="ltx_listingline">
      calculate the momentum term: <math id="algorithm2.33.33.m1.1" class="ltx_Math" alttext="m=\gamma m+(1-\gamma)\Delta w" display="inline"><semantics id="algorithm2.33.33.m1.1a"><mrow id="algorithm2.33.33.m1.1.1" xref="algorithm2.33.33.m1.1.1.cmml"><mi id="algorithm2.33.33.m1.1.1.3" xref="algorithm2.33.33.m1.1.1.3.cmml">m</mi><mo id="algorithm2.33.33.m1.1.1.2" xref="algorithm2.33.33.m1.1.1.2.cmml">=</mo><mrow id="algorithm2.33.33.m1.1.1.1" xref="algorithm2.33.33.m1.1.1.1.cmml"><mrow id="algorithm2.33.33.m1.1.1.1.3" xref="algorithm2.33.33.m1.1.1.1.3.cmml"><mi id="algorithm2.33.33.m1.1.1.1.3.2" xref="algorithm2.33.33.m1.1.1.1.3.2.cmml">γ</mi><mo lspace="0em" rspace="0em" id="algorithm2.33.33.m1.1.1.1.3.1" xref="algorithm2.33.33.m1.1.1.1.3.1.cmml">​</mo><mi id="algorithm2.33.33.m1.1.1.1.3.3" xref="algorithm2.33.33.m1.1.1.1.3.3.cmml">m</mi></mrow><mo id="algorithm2.33.33.m1.1.1.1.2" xref="algorithm2.33.33.m1.1.1.1.2.cmml">+</mo><mrow id="algorithm2.33.33.m1.1.1.1.1" xref="algorithm2.33.33.m1.1.1.1.1.cmml"><mrow id="algorithm2.33.33.m1.1.1.1.1.1.1" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm2.33.33.m1.1.1.1.1.1.1.2" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm2.33.33.m1.1.1.1.1.1.1.1" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.cmml"><mn id="algorithm2.33.33.m1.1.1.1.1.1.1.1.2" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="algorithm2.33.33.m1.1.1.1.1.1.1.1.1" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="algorithm2.33.33.m1.1.1.1.1.1.1.1.3" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.3.cmml">γ</mi></mrow><mo stretchy="false" id="algorithm2.33.33.m1.1.1.1.1.1.1.3" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm2.33.33.m1.1.1.1.1.2" xref="algorithm2.33.33.m1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2.33.33.m1.1.1.1.1.3" xref="algorithm2.33.33.m1.1.1.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="algorithm2.33.33.m1.1.1.1.1.2a" xref="algorithm2.33.33.m1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2.33.33.m1.1.1.1.1.4" xref="algorithm2.33.33.m1.1.1.1.1.4.cmml">w</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.33.33.m1.1b"><apply id="algorithm2.33.33.m1.1.1.cmml" xref="algorithm2.33.33.m1.1.1"><eq id="algorithm2.33.33.m1.1.1.2.cmml" xref="algorithm2.33.33.m1.1.1.2"></eq><ci id="algorithm2.33.33.m1.1.1.3.cmml" xref="algorithm2.33.33.m1.1.1.3">𝑚</ci><apply id="algorithm2.33.33.m1.1.1.1.cmml" xref="algorithm2.33.33.m1.1.1.1"><plus id="algorithm2.33.33.m1.1.1.1.2.cmml" xref="algorithm2.33.33.m1.1.1.1.2"></plus><apply id="algorithm2.33.33.m1.1.1.1.3.cmml" xref="algorithm2.33.33.m1.1.1.1.3"><times id="algorithm2.33.33.m1.1.1.1.3.1.cmml" xref="algorithm2.33.33.m1.1.1.1.3.1"></times><ci id="algorithm2.33.33.m1.1.1.1.3.2.cmml" xref="algorithm2.33.33.m1.1.1.1.3.2">𝛾</ci><ci id="algorithm2.33.33.m1.1.1.1.3.3.cmml" xref="algorithm2.33.33.m1.1.1.1.3.3">𝑚</ci></apply><apply id="algorithm2.33.33.m1.1.1.1.1.cmml" xref="algorithm2.33.33.m1.1.1.1.1"><times id="algorithm2.33.33.m1.1.1.1.1.2.cmml" xref="algorithm2.33.33.m1.1.1.1.1.2"></times><apply id="algorithm2.33.33.m1.1.1.1.1.1.1.1.cmml" xref="algorithm2.33.33.m1.1.1.1.1.1.1"><minus id="algorithm2.33.33.m1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="algorithm2.33.33.m1.1.1.1.1.1.1.1.2.cmml" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.2">1</cn><ci id="algorithm2.33.33.m1.1.1.1.1.1.1.1.3.cmml" xref="algorithm2.33.33.m1.1.1.1.1.1.1.1.3">𝛾</ci></apply><ci id="algorithm2.33.33.m1.1.1.1.1.3.cmml" xref="algorithm2.33.33.m1.1.1.1.1.3">Δ</ci><ci id="algorithm2.33.33.m1.1.1.1.1.4.cmml" xref="algorithm2.33.33.m1.1.1.1.1.4">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.33.33.m1.1c">m=\gamma m+(1-\gamma)\Delta w</annotation></semantics></math> ;
</div>
<div id="algorithm2.35.35" class="ltx_listingline">
      update the <math id="algorithm2.34.34.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2.34.34.m1.1a"><mi id="algorithm2.34.34.m1.1.1" xref="algorithm2.34.34.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2.34.34.m1.1b"><ci id="algorithm2.34.34.m1.1.1.cmml" xref="algorithm2.34.34.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.34.34.m1.1c">w</annotation></semantics></math> as: <math id="algorithm2.35.35.m2.1" class="ltx_Math" alttext="w^{t+1}=w^{t+1}-\eta m" display="inline"><semantics id="algorithm2.35.35.m2.1a"><mrow id="algorithm2.35.35.m2.1.1" xref="algorithm2.35.35.m2.1.1.cmml"><msup id="algorithm2.35.35.m2.1.1.2" xref="algorithm2.35.35.m2.1.1.2.cmml"><mi id="algorithm2.35.35.m2.1.1.2.2" xref="algorithm2.35.35.m2.1.1.2.2.cmml">w</mi><mrow id="algorithm2.35.35.m2.1.1.2.3" xref="algorithm2.35.35.m2.1.1.2.3.cmml"><mi id="algorithm2.35.35.m2.1.1.2.3.2" xref="algorithm2.35.35.m2.1.1.2.3.2.cmml">t</mi><mo id="algorithm2.35.35.m2.1.1.2.3.1" xref="algorithm2.35.35.m2.1.1.2.3.1.cmml">+</mo><mn id="algorithm2.35.35.m2.1.1.2.3.3" xref="algorithm2.35.35.m2.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="algorithm2.35.35.m2.1.1.1" xref="algorithm2.35.35.m2.1.1.1.cmml">=</mo><mrow id="algorithm2.35.35.m2.1.1.3" xref="algorithm2.35.35.m2.1.1.3.cmml"><msup id="algorithm2.35.35.m2.1.1.3.2" xref="algorithm2.35.35.m2.1.1.3.2.cmml"><mi id="algorithm2.35.35.m2.1.1.3.2.2" xref="algorithm2.35.35.m2.1.1.3.2.2.cmml">w</mi><mrow id="algorithm2.35.35.m2.1.1.3.2.3" xref="algorithm2.35.35.m2.1.1.3.2.3.cmml"><mi id="algorithm2.35.35.m2.1.1.3.2.3.2" xref="algorithm2.35.35.m2.1.1.3.2.3.2.cmml">t</mi><mo id="algorithm2.35.35.m2.1.1.3.2.3.1" xref="algorithm2.35.35.m2.1.1.3.2.3.1.cmml">+</mo><mn id="algorithm2.35.35.m2.1.1.3.2.3.3" xref="algorithm2.35.35.m2.1.1.3.2.3.3.cmml">1</mn></mrow></msup><mo id="algorithm2.35.35.m2.1.1.3.1" xref="algorithm2.35.35.m2.1.1.3.1.cmml">−</mo><mrow id="algorithm2.35.35.m2.1.1.3.3" xref="algorithm2.35.35.m2.1.1.3.3.cmml"><mi id="algorithm2.35.35.m2.1.1.3.3.2" xref="algorithm2.35.35.m2.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="algorithm2.35.35.m2.1.1.3.3.1" xref="algorithm2.35.35.m2.1.1.3.3.1.cmml">​</mo><mi id="algorithm2.35.35.m2.1.1.3.3.3" xref="algorithm2.35.35.m2.1.1.3.3.3.cmml">m</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.35.35.m2.1b"><apply id="algorithm2.35.35.m2.1.1.cmml" xref="algorithm2.35.35.m2.1.1"><eq id="algorithm2.35.35.m2.1.1.1.cmml" xref="algorithm2.35.35.m2.1.1.1"></eq><apply id="algorithm2.35.35.m2.1.1.2.cmml" xref="algorithm2.35.35.m2.1.1.2"><csymbol cd="ambiguous" id="algorithm2.35.35.m2.1.1.2.1.cmml" xref="algorithm2.35.35.m2.1.1.2">superscript</csymbol><ci id="algorithm2.35.35.m2.1.1.2.2.cmml" xref="algorithm2.35.35.m2.1.1.2.2">𝑤</ci><apply id="algorithm2.35.35.m2.1.1.2.3.cmml" xref="algorithm2.35.35.m2.1.1.2.3"><plus id="algorithm2.35.35.m2.1.1.2.3.1.cmml" xref="algorithm2.35.35.m2.1.1.2.3.1"></plus><ci id="algorithm2.35.35.m2.1.1.2.3.2.cmml" xref="algorithm2.35.35.m2.1.1.2.3.2">𝑡</ci><cn type="integer" id="algorithm2.35.35.m2.1.1.2.3.3.cmml" xref="algorithm2.35.35.m2.1.1.2.3.3">1</cn></apply></apply><apply id="algorithm2.35.35.m2.1.1.3.cmml" xref="algorithm2.35.35.m2.1.1.3"><minus id="algorithm2.35.35.m2.1.1.3.1.cmml" xref="algorithm2.35.35.m2.1.1.3.1"></minus><apply id="algorithm2.35.35.m2.1.1.3.2.cmml" xref="algorithm2.35.35.m2.1.1.3.2"><csymbol cd="ambiguous" id="algorithm2.35.35.m2.1.1.3.2.1.cmml" xref="algorithm2.35.35.m2.1.1.3.2">superscript</csymbol><ci id="algorithm2.35.35.m2.1.1.3.2.2.cmml" xref="algorithm2.35.35.m2.1.1.3.2.2">𝑤</ci><apply id="algorithm2.35.35.m2.1.1.3.2.3.cmml" xref="algorithm2.35.35.m2.1.1.3.2.3"><plus id="algorithm2.35.35.m2.1.1.3.2.3.1.cmml" xref="algorithm2.35.35.m2.1.1.3.2.3.1"></plus><ci id="algorithm2.35.35.m2.1.1.3.2.3.2.cmml" xref="algorithm2.35.35.m2.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="algorithm2.35.35.m2.1.1.3.2.3.3.cmml" xref="algorithm2.35.35.m2.1.1.3.2.3.3">1</cn></apply></apply><apply id="algorithm2.35.35.m2.1.1.3.3.cmml" xref="algorithm2.35.35.m2.1.1.3.3"><times id="algorithm2.35.35.m2.1.1.3.3.1.cmml" xref="algorithm2.35.35.m2.1.1.3.3.1"></times><ci id="algorithm2.35.35.m2.1.1.3.3.2.cmml" xref="algorithm2.35.35.m2.1.1.3.3.2">𝜂</ci><ci id="algorithm2.35.35.m2.1.1.3.3.3.cmml" xref="algorithm2.35.35.m2.1.1.3.3.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.35.35.m2.1c">w^{t+1}=w^{t+1}-\eta m</annotation></semantics></math> ;
</div>
<div id="algorithm2.35.38" class="ltx_listingline">
<span id="algorithm2.35.38.1" class="ltx_text ltx_font_bold">end for</span>

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm2.37.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Fairness and Accuracy Federated Learning (FedFa)</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Evaluation</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we present the empirical results of the proposed FedFa algorithm. In Section 4.1, we describe the experimental setup including the datasets used. Then, we demonstrate the effectiveness of FedFa for heterogeneous networks in Section 4.2. And the improved fairness of FedFa is illustrated in Section 4.3. Finally, in Section 4.4, we discuss the effect of parameters. All code, data and experiments will be available by sending the email after the paper is accepted.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Design</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><em id="S4.SS1.p1.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Federated Datasets</em>. Our model is compared to baselines on one synthetic and four real datasets to validate our effectiveness and fairness. These datasets are drawn from previous federated learning work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Experimental Design ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the statistical information for the four real datasets. Details of all datasets are also presented below.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Statistics of four real federated datasets.</figcaption>
<div id="S4.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:195.1pt;height:91pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-18.2pt,8.5pt) scale(0.842882938225718,0.842882938225718) ;">
<table id="S4.T1.1.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.1.1.1.1" class="ltx_tr">
<td id="S4.T1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_border_tt">Dataset</td>
<td id="S4.T1.1.1.1.1.2" class="ltx_td ltx_align_left ltx_border_tt">Devices</td>
<td id="S4.T1.1.1.1.1.3" class="ltx_td ltx_align_left ltx_border_tt">Samples</td>
<td id="S4.T1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="2">Samples/device</td>
</tr>
<tr id="S4.T1.1.1.2.2" class="ltx_tr">
<td id="S4.T1.1.1.2.2.1" class="ltx_td"></td>
<td id="S4.T1.1.1.2.2.2" class="ltx_td"></td>
<td id="S4.T1.1.1.2.2.3" class="ltx_td"></td>
<td id="S4.T1.1.1.2.2.4" class="ltx_td ltx_align_left ltx_border_t">mean</td>
<td id="S4.T1.1.1.2.2.5" class="ltx_td ltx_align_left ltx_border_t">stdev</td>
</tr>
<tr id="S4.T1.1.1.3.3" class="ltx_tr">
<td id="S4.T1.1.1.3.3.1" class="ltx_td ltx_align_left ltx_border_t">MNIST</td>
<td id="S4.T1.1.1.3.3.2" class="ltx_td ltx_align_left ltx_border_t">1,000</td>
<td id="S4.T1.1.1.3.3.3" class="ltx_td ltx_align_left ltx_border_t">69,035</td>
<td id="S4.T1.1.1.3.3.4" class="ltx_td ltx_align_left ltx_border_t">69</td>
<td id="S4.T1.1.1.3.3.5" class="ltx_td ltx_align_left ltx_border_t">106</td>
</tr>
<tr id="S4.T1.1.1.4.4" class="ltx_tr">
<td id="S4.T1.1.1.4.4.1" class="ltx_td ltx_align_left">FEMNIST</td>
<td id="S4.T1.1.1.4.4.2" class="ltx_td ltx_align_left">200</td>
<td id="S4.T1.1.1.4.4.3" class="ltx_td ltx_align_left">18,345</td>
<td id="S4.T1.1.1.4.4.4" class="ltx_td ltx_align_left">92</td>
<td id="S4.T1.1.1.4.4.5" class="ltx_td ltx_align_left">159</td>
</tr>
<tr id="S4.T1.1.1.5.5" class="ltx_tr">
<td id="S4.T1.1.1.5.5.1" class="ltx_td ltx_align_left">Sent140</td>
<td id="S4.T1.1.1.5.5.2" class="ltx_td ltx_align_left">772</td>
<td id="S4.T1.1.1.5.5.3" class="ltx_td ltx_align_left">40,783</td>
<td id="S4.T1.1.1.5.5.4" class="ltx_td ltx_align_left">53</td>
<td id="S4.T1.1.1.5.5.5" class="ltx_td ltx_align_left">32</td>
</tr>
<tr id="S4.T1.1.1.6.6" class="ltx_tr">
<td id="S4.T1.1.1.6.6.1" class="ltx_td ltx_align_left ltx_border_bb">Shakespeare</td>
<td id="S4.T1.1.1.6.6.2" class="ltx_td ltx_align_left ltx_border_bb">143</td>
<td id="S4.T1.1.1.6.6.3" class="ltx_td ltx_align_left ltx_border_bb">517,106</td>
<td id="S4.T1.1.1.6.6.4" class="ltx_td ltx_align_left ltx_border_bb">3,616</td>
<td id="S4.T1.1.1.6.6.5" class="ltx_td ltx_align_left ltx_border_bb">6,808</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.10" class="ltx_p"><math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mo id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><ci id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\bullet</annotation></semantics></math> <em id="S4.SS1.p2.10.1" class="ltx_emph ltx_font_italic">Synthetic: </em>These are three Non-IID datasets which set <math id="S4.SS1.p2.2.m2.8" class="ltx_Math" alttext="(\alpha,\beta)=(0,0),(0.5,0.5)" display="inline"><semantics id="S4.SS1.p2.2.m2.8a"><mrow id="S4.SS1.p2.2.m2.8.8" xref="S4.SS1.p2.2.m2.8.8.cmml"><mrow id="S4.SS1.p2.2.m2.8.8.4.2" xref="S4.SS1.p2.2.m2.8.8.4.1.cmml"><mo stretchy="false" id="S4.SS1.p2.2.m2.8.8.4.2.1" xref="S4.SS1.p2.2.m2.8.8.4.1.cmml">(</mo><mi id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">α</mi><mo id="S4.SS1.p2.2.m2.8.8.4.2.2" xref="S4.SS1.p2.2.m2.8.8.4.1.cmml">,</mo><mi id="S4.SS1.p2.2.m2.2.2" xref="S4.SS1.p2.2.m2.2.2.cmml">β</mi><mo stretchy="false" id="S4.SS1.p2.2.m2.8.8.4.2.3" xref="S4.SS1.p2.2.m2.8.8.4.1.cmml">)</mo></mrow><mo id="S4.SS1.p2.2.m2.8.8.3" xref="S4.SS1.p2.2.m2.8.8.3.cmml">=</mo><mrow id="S4.SS1.p2.2.m2.8.8.2.2" xref="S4.SS1.p2.2.m2.8.8.2.3.cmml"><mrow id="S4.SS1.p2.2.m2.7.7.1.1.1.2" xref="S4.SS1.p2.2.m2.7.7.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS1.p2.2.m2.7.7.1.1.1.2.1" xref="S4.SS1.p2.2.m2.7.7.1.1.1.1.cmml">(</mo><mn id="S4.SS1.p2.2.m2.3.3" xref="S4.SS1.p2.2.m2.3.3.cmml">0</mn><mo id="S4.SS1.p2.2.m2.7.7.1.1.1.2.2" xref="S4.SS1.p2.2.m2.7.7.1.1.1.1.cmml">,</mo><mn id="S4.SS1.p2.2.m2.4.4" xref="S4.SS1.p2.2.m2.4.4.cmml">0</mn><mo stretchy="false" id="S4.SS1.p2.2.m2.7.7.1.1.1.2.3" xref="S4.SS1.p2.2.m2.7.7.1.1.1.1.cmml">)</mo></mrow><mo id="S4.SS1.p2.2.m2.8.8.2.2.3" xref="S4.SS1.p2.2.m2.8.8.2.3.cmml">,</mo><mrow id="S4.SS1.p2.2.m2.8.8.2.2.2.2" xref="S4.SS1.p2.2.m2.8.8.2.2.2.1.cmml"><mo stretchy="false" id="S4.SS1.p2.2.m2.8.8.2.2.2.2.1" xref="S4.SS1.p2.2.m2.8.8.2.2.2.1.cmml">(</mo><mn id="S4.SS1.p2.2.m2.5.5" xref="S4.SS1.p2.2.m2.5.5.cmml">0.5</mn><mo id="S4.SS1.p2.2.m2.8.8.2.2.2.2.2" xref="S4.SS1.p2.2.m2.8.8.2.2.2.1.cmml">,</mo><mn id="S4.SS1.p2.2.m2.6.6" xref="S4.SS1.p2.2.m2.6.6.cmml">0.5</mn><mo stretchy="false" id="S4.SS1.p2.2.m2.8.8.2.2.2.2.3" xref="S4.SS1.p2.2.m2.8.8.2.2.2.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.8b"><apply id="S4.SS1.p2.2.m2.8.8.cmml" xref="S4.SS1.p2.2.m2.8.8"><eq id="S4.SS1.p2.2.m2.8.8.3.cmml" xref="S4.SS1.p2.2.m2.8.8.3"></eq><interval closure="open" id="S4.SS1.p2.2.m2.8.8.4.1.cmml" xref="S4.SS1.p2.2.m2.8.8.4.2"><ci id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">𝛼</ci><ci id="S4.SS1.p2.2.m2.2.2.cmml" xref="S4.SS1.p2.2.m2.2.2">𝛽</ci></interval><list id="S4.SS1.p2.2.m2.8.8.2.3.cmml" xref="S4.SS1.p2.2.m2.8.8.2.2"><interval closure="open" id="S4.SS1.p2.2.m2.7.7.1.1.1.1.cmml" xref="S4.SS1.p2.2.m2.7.7.1.1.1.2"><cn type="integer" id="S4.SS1.p2.2.m2.3.3.cmml" xref="S4.SS1.p2.2.m2.3.3">0</cn><cn type="integer" id="S4.SS1.p2.2.m2.4.4.cmml" xref="S4.SS1.p2.2.m2.4.4">0</cn></interval><interval closure="open" id="S4.SS1.p2.2.m2.8.8.2.2.2.1.cmml" xref="S4.SS1.p2.2.m2.8.8.2.2.2.2"><cn type="float" id="S4.SS1.p2.2.m2.5.5.cmml" xref="S4.SS1.p2.2.m2.5.5">0.5</cn><cn type="float" id="S4.SS1.p2.2.m2.6.6.cmml" xref="S4.SS1.p2.2.m2.6.6">0.5</cn></interval></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.8c">(\alpha,\beta)=(0,0),(0.5,0.5)</annotation></semantics></math> and <math id="S4.SS1.p2.3.m3.2" class="ltx_Math" alttext="(1,1)" display="inline"><semantics id="S4.SS1.p2.3.m3.2a"><mrow id="S4.SS1.p2.3.m3.2.3.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.1" xref="S4.SS1.p2.3.m3.2.3.1.cmml">(</mo><mn id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml">1</mn><mo id="S4.SS1.p2.3.m3.2.3.2.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.3.m3.2.2" xref="S4.SS1.p2.3.m3.2.2.cmml">1</mn><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.3" xref="S4.SS1.p2.3.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.2b"><interval closure="open" id="S4.SS1.p2.3.m3.2.3.1.cmml" xref="S4.SS1.p2.3.m3.2.3.2"><cn type="integer" id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">1</cn><cn type="integer" id="S4.SS1.p2.3.m3.2.2.cmml" xref="S4.SS1.p2.3.m3.2.2">1</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.2c">(1,1)</annotation></semantics></math>, respectively. And one IID data which set the same <math id="S4.SS1.p2.4.m4.4" class="ltx_Math" alttext="W,b\thicksim\mathcal{N}(0,1)" display="inline"><semantics id="S4.SS1.p2.4.m4.4a"><mrow id="S4.SS1.p2.4.m4.4.5" xref="S4.SS1.p2.4.m4.4.5.cmml"><mrow id="S4.SS1.p2.4.m4.4.5.2.2" xref="S4.SS1.p2.4.m4.4.5.2.1.cmml"><mi id="S4.SS1.p2.4.m4.3.3" xref="S4.SS1.p2.4.m4.3.3.cmml">W</mi><mo id="S4.SS1.p2.4.m4.4.5.2.2.1" xref="S4.SS1.p2.4.m4.4.5.2.1.cmml">,</mo><mi id="S4.SS1.p2.4.m4.4.4" xref="S4.SS1.p2.4.m4.4.4.cmml">b</mi></mrow><mo id="S4.SS1.p2.4.m4.4.5.1" xref="S4.SS1.p2.4.m4.4.5.1.cmml">∼</mo><mrow id="S4.SS1.p2.4.m4.4.5.3" xref="S4.SS1.p2.4.m4.4.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.4.m4.4.5.3.2" xref="S4.SS1.p2.4.m4.4.5.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.4.m4.4.5.3.1" xref="S4.SS1.p2.4.m4.4.5.3.1.cmml">​</mo><mrow id="S4.SS1.p2.4.m4.4.5.3.3.2" xref="S4.SS1.p2.4.m4.4.5.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.4.m4.4.5.3.3.2.1" xref="S4.SS1.p2.4.m4.4.5.3.3.1.cmml">(</mo><mn id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml">0</mn><mo id="S4.SS1.p2.4.m4.4.5.3.3.2.2" xref="S4.SS1.p2.4.m4.4.5.3.3.1.cmml">,</mo><mn id="S4.SS1.p2.4.m4.2.2" xref="S4.SS1.p2.4.m4.2.2.cmml">1</mn><mo stretchy="false" id="S4.SS1.p2.4.m4.4.5.3.3.2.3" xref="S4.SS1.p2.4.m4.4.5.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.4b"><apply id="S4.SS1.p2.4.m4.4.5.cmml" xref="S4.SS1.p2.4.m4.4.5"><ci id="S4.SS1.p2.4.m4.4.5.1.cmml" xref="S4.SS1.p2.4.m4.4.5.1">∼</ci><list id="S4.SS1.p2.4.m4.4.5.2.1.cmml" xref="S4.SS1.p2.4.m4.4.5.2.2"><ci id="S4.SS1.p2.4.m4.3.3.cmml" xref="S4.SS1.p2.4.m4.3.3">𝑊</ci><ci id="S4.SS1.p2.4.m4.4.4.cmml" xref="S4.SS1.p2.4.m4.4.4">𝑏</ci></list><apply id="S4.SS1.p2.4.m4.4.5.3.cmml" xref="S4.SS1.p2.4.m4.4.5.3"><times id="S4.SS1.p2.4.m4.4.5.3.1.cmml" xref="S4.SS1.p2.4.m4.4.5.3.1"></times><ci id="S4.SS1.p2.4.m4.4.5.3.2.cmml" xref="S4.SS1.p2.4.m4.4.5.3.2">𝒩</ci><interval closure="open" id="S4.SS1.p2.4.m4.4.5.3.3.1.cmml" xref="S4.SS1.p2.4.m4.4.5.3.3.2"><cn type="integer" id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">0</cn><cn type="integer" id="S4.SS1.p2.4.m4.2.2.cmml" xref="S4.SS1.p2.4.m4.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.4c">W,b\thicksim\mathcal{N}(0,1)</annotation></semantics></math> on every device. In addition, <math id="S4.SS1.p2.5.m5.1" class="ltx_Math" alttext="x_{k}" display="inline"><semantics id="S4.SS1.p2.5.m5.1a"><msub id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml"><mi id="S4.SS1.p2.5.m5.1.1.2" xref="S4.SS1.p2.5.m5.1.1.2.cmml">x</mi><mi id="S4.SS1.p2.5.m5.1.1.3" xref="S4.SS1.p2.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.1b"><apply id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.5.m5.1.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p2.5.m5.1.1.2.cmml" xref="S4.SS1.p2.5.m5.1.1.2">𝑥</ci><ci id="S4.SS1.p2.5.m5.1.1.3.cmml" xref="S4.SS1.p2.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.1c">x_{k}</annotation></semantics></math> follows the same distribution <math id="S4.SS1.p2.6.m6.2" class="ltx_Math" alttext="\mathcal{N}(v,\sum)" display="inline"><semantics id="S4.SS1.p2.6.m6.2a"><mrow id="S4.SS1.p2.6.m6.2.3" xref="S4.SS1.p2.6.m6.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.6.m6.2.3.2" xref="S4.SS1.p2.6.m6.2.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.6.m6.2.3.1" xref="S4.SS1.p2.6.m6.2.3.1.cmml">​</mo><mrow id="S4.SS1.p2.6.m6.2.3.3.2" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.3.2.1" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">(</mo><mi id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml">v</mi><mo rspace="0em" id="S4.SS1.p2.6.m6.2.3.3.2.2" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">,</mo><mo rspace="0em" id="S4.SS1.p2.6.m6.2.2" xref="S4.SS1.p2.6.m6.2.2.cmml">∑</mo><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.3.2.3" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.2b"><apply id="S4.SS1.p2.6.m6.2.3.cmml" xref="S4.SS1.p2.6.m6.2.3"><times id="S4.SS1.p2.6.m6.2.3.1.cmml" xref="S4.SS1.p2.6.m6.2.3.1"></times><ci id="S4.SS1.p2.6.m6.2.3.2.cmml" xref="S4.SS1.p2.6.m6.2.3.2">𝒩</ci><interval closure="open" id="S4.SS1.p2.6.m6.2.3.3.1.cmml" xref="S4.SS1.p2.6.m6.2.3.3.2"><ci id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">𝑣</ci><sum id="S4.SS1.p2.6.m6.2.2.cmml" xref="S4.SS1.p2.6.m6.2.2"></sum></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.2c">\mathcal{N}(v,\sum)</annotation></semantics></math>, where each element in the mean vector is zero and <math id="S4.SS1.p2.7.m7.1" class="ltx_Math" alttext="\sum" display="inline"><semantics id="S4.SS1.p2.7.m7.1a"><mo id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml">∑</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.1b"><sum id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1"></sum></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.1c">\sum</annotation></semantics></math> is diagonal to <math id="S4.SS1.p2.8.m8.2" class="ltx_Math" alttext="\sum_{j,j}=j^{-1.2}" display="inline"><semantics id="S4.SS1.p2.8.m8.2a"><mrow id="S4.SS1.p2.8.m8.2.3" xref="S4.SS1.p2.8.m8.2.3.cmml"><msub id="S4.SS1.p2.8.m8.2.3.2" xref="S4.SS1.p2.8.m8.2.3.2.cmml"><mo id="S4.SS1.p2.8.m8.2.3.2.2" xref="S4.SS1.p2.8.m8.2.3.2.2.cmml">∑</mo><mrow id="S4.SS1.p2.8.m8.2.2.2.4" xref="S4.SS1.p2.8.m8.2.2.2.3.cmml"><mi id="S4.SS1.p2.8.m8.1.1.1.1" xref="S4.SS1.p2.8.m8.1.1.1.1.cmml">j</mi><mo id="S4.SS1.p2.8.m8.2.2.2.4.1" xref="S4.SS1.p2.8.m8.2.2.2.3.cmml">,</mo><mi id="S4.SS1.p2.8.m8.2.2.2.2" xref="S4.SS1.p2.8.m8.2.2.2.2.cmml">j</mi></mrow></msub><mo lspace="0.278em" id="S4.SS1.p2.8.m8.2.3.1" xref="S4.SS1.p2.8.m8.2.3.1.cmml">=</mo><msup id="S4.SS1.p2.8.m8.2.3.3" xref="S4.SS1.p2.8.m8.2.3.3.cmml"><mi id="S4.SS1.p2.8.m8.2.3.3.2" xref="S4.SS1.p2.8.m8.2.3.3.2.cmml">j</mi><mrow id="S4.SS1.p2.8.m8.2.3.3.3" xref="S4.SS1.p2.8.m8.2.3.3.3.cmml"><mo id="S4.SS1.p2.8.m8.2.3.3.3a" xref="S4.SS1.p2.8.m8.2.3.3.3.cmml">−</mo><mn id="S4.SS1.p2.8.m8.2.3.3.3.2" xref="S4.SS1.p2.8.m8.2.3.3.3.2.cmml">1.2</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.2b"><apply id="S4.SS1.p2.8.m8.2.3.cmml" xref="S4.SS1.p2.8.m8.2.3"><eq id="S4.SS1.p2.8.m8.2.3.1.cmml" xref="S4.SS1.p2.8.m8.2.3.1"></eq><apply id="S4.SS1.p2.8.m8.2.3.2.cmml" xref="S4.SS1.p2.8.m8.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.2.3.2.1.cmml" xref="S4.SS1.p2.8.m8.2.3.2">subscript</csymbol><sum id="S4.SS1.p2.8.m8.2.3.2.2.cmml" xref="S4.SS1.p2.8.m8.2.3.2.2"></sum><list id="S4.SS1.p2.8.m8.2.2.2.3.cmml" xref="S4.SS1.p2.8.m8.2.2.2.4"><ci id="S4.SS1.p2.8.m8.1.1.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1.1.1">𝑗</ci><ci id="S4.SS1.p2.8.m8.2.2.2.2.cmml" xref="S4.SS1.p2.8.m8.2.2.2.2">𝑗</ci></list></apply><apply id="S4.SS1.p2.8.m8.2.3.3.cmml" xref="S4.SS1.p2.8.m8.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.2.3.3.1.cmml" xref="S4.SS1.p2.8.m8.2.3.3">superscript</csymbol><ci id="S4.SS1.p2.8.m8.2.3.3.2.cmml" xref="S4.SS1.p2.8.m8.2.3.3.2">𝑗</ci><apply id="S4.SS1.p2.8.m8.2.3.3.3.cmml" xref="S4.SS1.p2.8.m8.2.3.3.3"><minus id="S4.SS1.p2.8.m8.2.3.3.3.1.cmml" xref="S4.SS1.p2.8.m8.2.3.3.3"></minus><cn type="float" id="S4.SS1.p2.8.m8.2.3.3.3.2.cmml" xref="S4.SS1.p2.8.m8.2.3.3.3.2">1.2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.2c">\sum_{j,j}=j^{-1.2}</annotation></semantics></math>. There are 30 devices in total for all synthetic datasets, and the number of samples on each device follows the power law. The increase in <math id="S4.SS1.p2.9.m9.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.p2.9.m9.1a"><mi id="S4.SS1.p2.9.m9.1.1" xref="S4.SS1.p2.9.m9.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.9.m9.1b"><ci id="S4.SS1.p2.9.m9.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.9.m9.1c">\alpha</annotation></semantics></math> and <math id="S4.SS1.p2.10.m10.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS1.p2.10.m10.1a"><mi id="S4.SS1.p2.10.m10.1.1" xref="S4.SS1.p2.10.m10.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.10.m10.1b"><ci id="S4.SS1.p2.10.m10.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.10.m10.1c">\beta</annotation></semantics></math> indicates that the degree of heterogeneity of the dataset increases.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.2" class="ltx_p"><math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mo id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\bullet</annotation></semantics></math> <em id="S4.SS1.p3.2.1" class="ltx_emph ltx_font_italic">MNIST: </em>The MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> dataset is an image classification of handwritten digits 0-9. The dataset input to the model of multinomial logistic regression is a 784-dimensional <math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="(28\times 28)" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS1.p3.2.m2.1.1.1.2" xref="S4.SS1.p3.2.m2.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p3.2.m2.1.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.1.cmml"><mn id="S4.SS1.p3.2.m2.1.1.1.1.2" xref="S4.SS1.p3.2.m2.1.1.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p3.2.m2.1.1.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.1.1.cmml">×</mo><mn id="S4.SS1.p3.2.m2.1.1.1.1.3" xref="S4.SS1.p3.2.m2.1.1.1.1.3.cmml">28</mn></mrow><mo stretchy="false" id="S4.SS1.p3.2.m2.1.1.1.3" xref="S4.SS1.p3.2.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1"><times id="S4.SS1.p3.2.m2.1.1.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1"></times><cn type="integer" id="S4.SS1.p3.2.m2.1.1.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.2">28</cn><cn type="integer" id="S4.SS1.p3.2.m2.1.1.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">(28\times 28)</annotation></semantics></math> flattened image and the output is a class label between 0 and 9. Previous studies have distributed the data across 1000 devices. In order to simulate statistical heterogeneity, each device has only 2 digits per sample and the number of samples follows the power law.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.2" class="ltx_p"><math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mo id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">\bullet</annotation></semantics></math> <em id="S4.SS1.p4.2.1" class="ltx_emph ltx_font_italic">FEMNIST: </em>FEMNIST is a federated dataset based on EMNIST with a total of 200 devices. The EMNIST dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> is an image classification problem with 62 classes. In order to form a heterogeneous distribution of devices, the dataset takes 10 lowercase letters (‘a’-‘j’) as subsamples from EMNIST and assigns only 5 classes to each device. A flattened 784-dimensional <math id="S4.SS1.p4.2.m2.1" class="ltx_Math" alttext="(28\times 28)" display="inline"><semantics id="S4.SS1.p4.2.m2.1a"><mrow id="S4.SS1.p4.2.m2.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS1.p4.2.m2.1.1.1.2" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p4.2.m2.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml"><mn id="S4.SS1.p4.2.m2.1.1.1.1.2" xref="S4.SS1.p4.2.m2.1.1.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p4.2.m2.1.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.1.cmml">×</mo><mn id="S4.SS1.p4.2.m2.1.1.1.1.3" xref="S4.SS1.p4.2.m2.1.1.1.1.3.cmml">28</mn></mrow><mo stretchy="false" id="S4.SS1.p4.2.m2.1.1.1.3" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><apply id="S4.SS1.p4.2.m2.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1"><times id="S4.SS1.p4.2.m2.1.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1"></times><cn type="integer" id="S4.SS1.p4.2.m2.1.1.1.1.2.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.2">28</cn><cn type="integer" id="S4.SS1.p4.2.m2.1.1.1.1.3.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">(28\times 28)</annotation></semantics></math> image was used as input to the model of multinomial logistic regression, and the output was a class label between 0 and 9.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p"><math id="S4.SS1.p5.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S4.SS1.p5.1.m1.1a"><mo id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b"><ci id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">\bullet</annotation></semantics></math> <em id="S4.SS1.p5.1.1" class="ltx_emph ltx_font_italic">Sent140: </em>This dataset is a collection of Sentiment 140 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> (Sent140) tweets for the text sentiment analysis task. Each Twitter account corresponds to one device. We model it as a binary classification problem. The model takes a sequence of 25 characters as input, embeds each word in a 300-dimensional space using pre-trained Glove <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, and outputs a binary tag after two LSTM layers and a dense join layer.</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.1" class="ltx_p"><math id="S4.SS1.p6.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S4.SS1.p6.1.m1.1a"><mo id="S4.SS1.p6.1.m1.1.1" xref="S4.SS1.p6.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.1.m1.1b"><ci id="S4.SS1.p6.1.m1.1.1.cmml" xref="S4.SS1.p6.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.1.m1.1c">\bullet</annotation></semantics></math> <em id="S4.SS1.p6.1.1" class="ltx_emph ltx_font_italic">Shakespeare: </em>This is a dataset built from <em id="S4.SS1.p6.1.2" class="ltx_emph ltx_font_italic">The Complete Works of William Shakespeare</em> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. The model treats a sequence of 80 characters as input, embeds each character in the 8-dimensional space of learning, and outputs a character after two LSTM layers and a tightly connected layer. Each speaking character in a play represents a different device.</p>
</div>
<div id="S4.SS1.p7" class="ltx_para">
<p id="S4.SS1.p7.1" class="ltx_p"><em id="S4.SS1.p7.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Implementation.</em> We implement all the code in TensorFlow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> Version 1.10.0 to simulate a federated network with one server and <math id="S4.SS1.p7.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS1.p7.1.m1.1a"><mi id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b"><ci id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">K</annotation></semantics></math> devices. We randomly divide the data on each local device into 80% of the training set and 20% of the test set. For all experiments on all datasets, we fix the number of selected devices per round to 10. For all synthetic data experiments in FedFa, the learning rate is 0.0001. The server and client momentum factors are (0.5, 0.9) or (0.5, 0.5), respectively. For a fair comparison with all synthetic data experiments in FedAvg and FedProx, the learning rate is 0.01, 0.001 and 0.0001. For MNIST, FEMNIST, Sent140 and Shakespeare in FedFa, the learning rate is 0.0003, 0.0003, 0.0001, 0.08. For MNIST, FEMNIST, Sent140 and Shakespeare in FedAvg and FedProx, we use the learning rates of 0.03, 0.003, 0.3, and 0.8.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Effects of double momentum gradient</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">We use four synthetic datasets to study how statistical heterogeneity affects convergence (fixing <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">E</annotation></semantics></math> to be 20), and to demonstrate the effectiveness of our double dynamic mechanism. In Figure <a href="#S4.F2" title="Figure 2 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we compare the FedFa algorithm (which only has the momentum mechanism without applying the weighting strategy) with FedAvg and FedProx with a learning rate of 0.01 (where the parameter settings of FedProx and FedAvg are strictly referenced to the settings in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>).</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x2.png" id="S4.F2.sf1.g1" class="ltx_graphics ltx_img_landscape" width="423" height="85" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F2.sf1.3.2" class="ltx_text" style="font-size:80%;">Testing Accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x3.png" id="S4.F2.sf2.g1" class="ltx_graphics ltx_img_landscape" width="423" height="85" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F2.sf2.3.2" class="ltx_text" style="font-size:80%;">Training Loss</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The Training Loss and Test Accuracy of Experiments on Synthetic Datasets with Four Different Data Distributions (From left to right, the data are increasingly heterogeneous). The learning rate for FedAvg and FedProx is 0.01. For the two synthetic data sets on the left, the momentum factors for the client and server side of FedFa are 0.9 and 0.5, respectively. For the two synthetic data sets on the right, the momentum factors for the client and server side of FedFa are 0.5 and 0.5, respectively.</figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Both the test accuracy and training loss in Figure <a href="#S4.F2" title="Figure 2 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> show that the convergence effect of FedAvg becomes gradually unstable and fluctuates as the data heterogeneity increases. However, FedProx can cope with the problem of statistical heterogeneity. It can be seen from the experiments that FedProx converges better than FedAvg as the data becomes more heterogeneous. Obviously, FedAvg performs well in the case of IID data. However, in practice, it is difficult to have perfect IID data. By applying our proposed double-momentum mechanism, FedFa can not only improve the convergence speed in the case of IID data, but also speed up the convergence speed for heterogeneous data. Since FedFa takes into account the historical gradient information at both server and client sides, this helps the algorithm to converge better.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x4.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="423" height="85" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F3.sf1.3.2" class="ltx_text" style="font-size:80%;">Testing Accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x5.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="423" height="85" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F3.sf2.3.2" class="ltx_text" style="font-size:80%;">Training Loss</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The Training Loss and Test Accuracy of Experiments on four real Datasets. For the three datasets (Mnist, Femnist, Shakespeare), the momentum factors for the client and server side of FedFa are 0.5 and 0.5, respectively. For the dataset of Sent140, the momentum factors for the client and server side of FedFa are 0.1 and 0.5</figcaption>
</figure>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">We also study the effects of different momentum factors on the client and server side. The synthetic dataset with the same distribution (synthetic_iid) and the less heterogeneous synthetic dataset (synthetic_0_0) use the momentum factors of the client and the server of 0.9 and 0.5. Since for the less heterogeneous dataset, speeding up the convergence of the client does not lead to global gradient deviations. For the more heterogeneous synthetic dataset (synthetic_0.5_0.5 and synthetic_1_1), we set the momentum factors for the client and server sides to 0.5 and 0.5. We argue that this will reduce the oscillations on the server side when aggregating the gradients during the heterogeneous data training process.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">As shown in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, in order to validate the double momentum mechanism, we also conduct experiments on four real datasets. The figure shows the test accuracy and training loss of FedAvg, FedProx, and FedFa on these real datasets. It can be seen that the double momentum mechanism can also be worked in real datasets.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x6.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_img_landscape" width="415" height="83" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F4.sf1.3.2" class="ltx_text" style="font-size:80%;">Testing Accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x7.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="415" height="83" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F4.sf2.3.2" class="ltx_text" style="font-size:80%;">Training Loss</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The Training Loss and Test Accuracy of Experiments on Synthetic Datasets with Four Different Data Distributions (From left to right, the data are increasingly heterogeneous). The learning rate for FedAvg and FedProx is 0.001. All settings of FedFa are kept fixed.</figcaption>
</figure>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p">For a fair comparison, we explore FedAvg and FedProx on synthetic datasets at learning rates of 0.001 and 0.0001. As shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, the learning rate of FedAvg and FedProx is 0.001. We can see that despite reducing the learning rate of FedAvg and Fedprox, the experimental test accuracy and loss can reduce oscillations during training, but will impair convergence. In addition, as can be seen in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, our method still works better than their results. Furthermore, our method performs better than FedAvg and FedProx on the synthetic dataset of IID when these two algorithms reduce the learning rate.</p>
</div>
<figure id="S4.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x8.png" id="S4.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="415" height="83" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F5.sf1.3.2" class="ltx_text" style="font-size:80%;">Testing Accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x9.png" id="S4.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="415" height="83" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F5.sf2.3.2" class="ltx_text" style="font-size:80%;">Training Loss</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>The Training Loss and Test Accuracy of Experiments on Synthetic Datasets with Four Different Data Distributions (From left to right, the data are increasingly heterogeneous). The learning rate for FedAvg and FedProx is 0.0001. All settings of FedFa are kept fixed.</figcaption>
</figure>
<div id="S4.SS2.p6" class="ltx_para">
<p id="S4.SS2.p6.1" class="ltx_p">As shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2 Effects of double momentum gradient ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, it is a comparison of test accuracy and loss of FedFa with FedAvg and FedProx at the same learning rate. Obviously, our method is at the advantage of faster convergence. We demonstrate the effectiveness of our proposed double momentum gradient in federated learning through these experiments. The core of the mechanism is to approximate the server-side gradient using the difference between the two rounds of the model on the server-side, which allows the application of the momentum gradient method to the aggregate gradient on the server-side. The client employs the traditional momentum gradient descent method as a means of achieving a double momentum gradient.</p>
</div>
<div id="S4.SS2.p7" class="ltx_para">
<p id="S4.SS2.p7.1" class="ltx_p">Our experiments also show that the momentum gradient method on the server side performs better in heterogeneity problems. The reason is that although the client-side momentum gradient method speeds up its own convergence, it is not friendly to global convergence. Therefore, when the heterogeneity of the data distribution between clients increases, one can consider appropriately decreasing the momentum factor for clients or increasing the round parameter <math id="S4.SS2.p7.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS2.p7.1.m1.1a"><mi id="S4.SS2.p7.1.m1.1.1" xref="S4.SS2.p7.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p7.1.m1.1b"><ci id="S4.SS2.p7.1.m1.1.1.cmml" xref="S4.SS2.p7.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p7.1.m1.1c">b</annotation></semantics></math> for the aggregation on the server side.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Effects of appropriate weighting strategies</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.2" class="ltx_p">In our following experiments, we verify that the proposed weighting strategy can lead to a fairer solution for federated datasets. We employ the weighting strategy on the the four synthetic datasets, Femnist and Shakespeare. The accuracy weight <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\alpha</annotation></semantics></math> and frequency weight <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\beta</annotation></semantics></math> are set to (0.5, 0.5), (0, 1) or (1, 0), respectively.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">As shown in the following Table <a href="#S4.T2" title="Table 2 ‣ 4.3 Effects of appropriate weighting strategies ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, our method is compared with FedAvg and Fedprox. The average accuracy, the accuracy of the worst 20% devices, the accuracy of the best 20% devices, and the variance of the final accuracy distribution are compared, respectively. In the IID synthetic dataset, our method is slightly inferior to FedAvg, but performs better than the FedProx method. However, in federated networks, the general setup is in the form of Non-IID data distribution. It can be seen that the average accuracy is improved for all datasets except for the IID synthesis dataset. Moreover, the accuracy of the worst and best 20% devices is also increased. In addition, the variance of the final accuracy distribution is decreased.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Statistics of the test accuracy distribution for FedAvg, FedProx and FedFa.</figcaption>
<table id="S4.T2.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Dataset</td>
<td id="S4.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Method</td>
<td id="S4.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Average</td>
<td id="S4.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Worst 20%</td>
<td id="S4.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Best 20%</td>
<td id="S4.T2.1.1.1.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      Variance</td>
</tr>
<tr id="S4.T2.1.2.2" class="ltx_tr">
<td id="S4.T2.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.2.2.1.1" class="ltx_text">Synthetic_iid</span></td>
<td id="S4.T2.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      89.11%</td>
<td id="S4.T2.1.2.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      78.17%</td>
<td id="S4.T2.1.2.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.2.2.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      68.04</td>
</tr>
<tr id="S4.T2.1.3.3" class="ltx_tr">
<td id="S4.T2.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.3.3.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      71.92%</td>
<td id="S4.T2.1.3.3.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      55.46%</td>
<td id="S4.T2.1.3.3.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      86.09%</td>
<td id="S4.T2.1.3.3.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      129.09</td>
</tr>
<tr id="S4.T2.1.4.4" class="ltx_tr">
<td id="S4.T2.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.4.4.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      85.70%</td>
<td id="S4.T2.1.4.4.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      71.46%</td>
<td id="S4.T2.1.4.4.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.4.4.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      98.74</td>
</tr>
<tr id="S4.T2.1.5.5" class="ltx_tr">
<td id="S4.T2.1.5.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.5.5.1.1" class="ltx_text">Synthetic_0_0</span></td>
<td id="S4.T2.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.5.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      54.67%</td>
<td id="S4.T2.1.5.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      6.81%</td>
<td id="S4.T2.1.5.5.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      98.18%</td>
<td id="S4.T2.1.5.5.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      1112.46</td>
</tr>
<tr id="S4.T2.1.6.6" class="ltx_tr">
<td id="S4.T2.1.6.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.6.6.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      75.02%</td>
<td id="S4.T2.1.6.6.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      37.21%</td>
<td id="S4.T2.1.6.6.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.6.6.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      611.10</td>
</tr>
<tr id="S4.T2.1.7.7" class="ltx_tr">
<td id="S4.T2.1.7.7.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.7.7.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.7.7.2.1" class="ltx_text ltx_font_bold">78.25%</span></td>
<td id="S4.T2.1.7.7.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.7.7.3.1" class="ltx_text ltx_font_bold">43.41%</span></td>
<td id="S4.T2.1.7.7.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.7.7.4.1" class="ltx_text ltx_font_bold">100.00%</span></td>
<td id="S4.T2.1.7.7.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.7.7.5.1" class="ltx_text ltx_font_bold">530.27</span></td>
</tr>
<tr id="S4.T2.1.8.8" class="ltx_tr">
<td id="S4.T2.1.8.8.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.8.8.1.1" class="ltx_text">Synthetic_0.5_0.5</span></td>
<td id="S4.T2.1.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.8.8.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      40.24%</td>
<td id="S4.T2.1.8.8.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      0.00%</td>
<td id="S4.T2.1.8.8.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      98.18%</td>
<td id="S4.T2.1.8.8.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      1448.46</td>
</tr>
<tr id="S4.T2.1.9.9" class="ltx_tr">
<td id="S4.T2.1.9.9.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.9.9.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      67.84%</td>
<td id="S4.T2.1.9.9.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      33.60%</td>
<td id="S4.T2.1.9.9.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.9.9.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      618.00</td>
</tr>
<tr id="S4.T2.1.10.10" class="ltx_tr">
<td id="S4.T2.1.10.10.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.10.10.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.10.10.2.1" class="ltx_text ltx_font_bold">73.30%</span></td>
<td id="S4.T2.1.10.10.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.10.10.3.1" class="ltx_text ltx_font_bold">41.27%</span></td>
<td id="S4.T2.1.10.10.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.10.10.4.1" class="ltx_text ltx_font_bold">100.00%</span></td>
<td id="S4.T2.1.10.10.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.10.10.5.1" class="ltx_text ltx_font_bold">464.81</span></td>
</tr>
<tr id="S4.T2.1.11.11" class="ltx_tr">
<td id="S4.T2.1.11.11.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.11.11.1.1" class="ltx_text">Synthetic_1_1</span></td>
<td id="S4.T2.1.11.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.11.11.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      54.78%</td>
<td id="S4.T2.1.11.11.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      1.38%</td>
<td id="S4.T2.1.11.11.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      96.85%</td>
<td id="S4.T2.1.11.11.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      1069.37</td>
</tr>
<tr id="S4.T2.1.12.12" class="ltx_tr">
<td id="S4.T2.1.12.12.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.12.12.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      64.75%</td>
<td id="S4.T2.1.12.12.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      9.72%</td>
<td id="S4.T2.1.12.12.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.12.12.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      1088.87</td>
</tr>
<tr id="S4.T2.1.13.13" class="ltx_tr">
<td id="S4.T2.1.13.13.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.13.13.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.13.13.2.1" class="ltx_text ltx_font_bold">76.88%</span></td>
<td id="S4.T2.1.13.13.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.13.13.3.1" class="ltx_text ltx_font_bold">37.03</span>%</td>
<td id="S4.T2.1.13.13.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.13.13.4.1" class="ltx_text ltx_font_bold">100.00%</span></td>
<td id="S4.T2.1.13.13.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.13.13.5.1" class="ltx_text ltx_font_bold">603.69</span></td>
</tr>
<tr id="S4.T2.1.14.14" class="ltx_tr">
<td id="S4.T2.1.14.14.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.14.14.1.1" class="ltx_text">Femnist</span></td>
<td id="S4.T2.1.14.14.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.14.14.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      70.96%</td>
<td id="S4.T2.1.14.14.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      34.77%</td>
<td id="S4.T2.1.14.14.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.14.14.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      567.75</td>
</tr>
<tr id="S4.T2.1.15.15" class="ltx_tr">
<td id="S4.T2.1.15.15.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.15.15.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      72.20%</td>
<td id="S4.T2.1.15.15.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      40.50%</td>
<td id="S4.T2.1.15.15.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      100.00%</td>
<td id="S4.T2.1.15.15.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      449.83</td>
</tr>
<tr id="S4.T2.1.16.16" class="ltx_tr">
<td id="S4.T2.1.16.16.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.16.16.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.16.16.2.1" class="ltx_text ltx_font_bold">77.96</span>%</td>
<td id="S4.T2.1.16.16.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.16.16.3.1" class="ltx_text ltx_font_bold">48.99</span>%</td>
<td id="S4.T2.1.16.16.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.16.16.4.1" class="ltx_text ltx_font_bold">100.00</span>%</td>
<td id="S4.T2.1.16.16.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.16.16.5.1" class="ltx_text ltx_font_bold">368.93</span></td>
</tr>
<tr id="S4.T2.1.17.17" class="ltx_tr">
<td id="S4.T2.1.17.17.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;" rowspan="3">      <span id="S4.T2.1.17.17.1.1" class="ltx_text">Sent140</span></td>
<td id="S4.T2.1.17.17.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      FedAvg</td>
<td id="S4.T2.1.17.17.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      68.51%</td>
<td id="S4.T2.1.17.17.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      40.58%</td>
<td id="S4.T2.1.17.17.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      93.22%</td>
<td id="S4.T2.1.17.17.6" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:17.1pt;padding-right:17.1pt;">      356.48</td>
</tr>
<tr id="S4.T2.1.18.18" class="ltx_tr">
<td id="S4.T2.1.18.18.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedProx</td>
<td id="S4.T2.1.18.18.2" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      64.71%</td>
<td id="S4.T2.1.18.18.3" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      34.02%</td>
<td id="S4.T2.1.18.18.4" class="ltx_td ltx_align_center" style="padding-left:17.1pt;padding-right:17.1pt;">      92.65%</td>
<td id="S4.T2.1.18.18.5" class="ltx_td ltx_align_left" style="padding-left:17.1pt;padding-right:17.1pt;">      431.89</td>
</tr>
<tr id="S4.T2.1.19.19" class="ltx_tr">
<td id="S4.T2.1.19.19.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r" style="padding-left:17.1pt;padding-right:17.1pt;">      FedFa</td>
<td id="S4.T2.1.19.19.2" class="ltx_td ltx_align_center ltx_border_b" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.19.19.2.1" class="ltx_text ltx_font_bold">68.83%</span></td>
<td id="S4.T2.1.19.19.3" class="ltx_td ltx_align_center ltx_border_b" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.19.19.3.1" class="ltx_text ltx_font_bold">42.66%</span></td>
<td id="S4.T2.1.19.19.4" class="ltx_td ltx_align_center ltx_border_b" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.19.19.4.1" class="ltx_text ltx_font_bold">95.71</span>%</td>
<td id="S4.T2.1.19.19.5" class="ltx_td ltx_align_left ltx_border_b" style="padding-left:17.1pt;padding-right:17.1pt;">      <span id="S4.T2.1.19.19.5.1" class="ltx_text ltx_font_bold">319.04</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.2" class="ltx_p">For instance, on the Synthetic_1_1 dataset, the heterogeneity between devices is relatively large. The model trained with FedAvg has an accuracy of 1.37% on the worst 20% devices. Similarly, on the Synthetic_1_1 dataset, the accuracy of the model trained with FedProx on the worst 20% devices is 9.72%. This can indicate that as the heterogeneity of data distribution among devices increases, the federated learning training process appears skewed or ignored for some clients, i.e., fairness issues. The model trained with FedFa, on the other hand, has an accuracy of 37.03% on the worst 20% devices. FedAvg and FedProx significantly have lower accuracy on the worst 20% devices than FedFa, but all three algorithms perform well in terms of accuracy on the best 20% devices. The results demonstrate that our approach allows clients in federated learning to participate more fairly in the training process, as well as to cope with the heterogeneity problem. The values of <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\alpha</annotation></semantics></math> and <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><mi id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">\beta</annotation></semantics></math> determine the distribution of training accuracy and the number of clients involved in the training process to be taken more into account. It avoids a federated learning setup with preferences that result in high precision for some clients while others do not participate in training or have low precision.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">In Figure <a href="#S4.F6" title="Figure 6 ‣ 4.3 Effects of appropriate weighting strategies ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> , we present the distribution of clients in terms of final precision for our method and the comparison method. We observe a significant increase in the number of clients with high precision distribution and a significant decrease in the number of clients with low precision or zero precision. Since our method is more fair, it allows more clients to participate in the training process and improve their accuracy.</p>
</div>
<figure id="S4.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x10.png" id="S4.F6.1.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x11.png" id="S4.F6.2.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x12.png" id="S4.F6.3.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x13.png" id="S4.F6.4.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x14.png" id="S4.F6.5.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F6.6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x15.png" id="S4.F6.6.g1" class="ltx_graphics ltx_img_landscape" width="136" height="102" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>The distribution of test accuracy for all clients of the four synthetic datasets, Femnsit, and Shakespeare.</figcaption>
</figure>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.1" class="ltx_p">The basic setup for federated learning often leads to a preference for certain clients in the training process. That is, some clients participate less frequently in the training process, or the accuracy of some clients cannot be improved. Therefore, our approach takes into account the effects of client participation frequency and accuracy to achieve a more fair distribution of accuracy among clients.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Discussion of weighted parameters</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.3" class="ltx_p">In this section, we discuss the turn parameter round <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">b</annotation></semantics></math> of the momentum gradient method and the parameters <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">\alpha</annotation></semantics></math> (Accuracy weight) and <math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><mi id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><ci id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">\beta</annotation></semantics></math> (Frequency weihgt) of the weighting strategy.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.7" class="ltx_p">In order to analyze the effect of the training accuracy weight <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\alpha</annotation></semantics></math> and the number of participants weight <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mi id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\beta</annotation></semantics></math> on the experiment, we increase or decrease these two parameters in steps of 0.1 on the synthetic dataset (Synthetic_1_1). However, we have to ensure that <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="\alpha+\beta=1" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><mrow id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mrow id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2.2" xref="S4.SS4.p2.3.m3.1.1.2.2.cmml">α</mi><mo id="S4.SS4.p2.3.m3.1.1.2.1" xref="S4.SS4.p2.3.m3.1.1.2.1.cmml">+</mo><mi id="S4.SS4.p2.3.m3.1.1.2.3" xref="S4.SS4.p2.3.m3.1.1.2.3.cmml">β</mi></mrow><mo id="S4.SS4.p2.3.m3.1.1.1" xref="S4.SS4.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><eq id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1.1"></eq><apply id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2"><plus id="S4.SS4.p2.3.m3.1.1.2.1.cmml" xref="S4.SS4.p2.3.m3.1.1.2.1"></plus><ci id="S4.SS4.p2.3.m3.1.1.2.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2.2">𝛼</ci><ci id="S4.SS4.p2.3.m3.1.1.2.3.cmml" xref="S4.SS4.p2.3.m3.1.1.2.3">𝛽</ci></apply><cn type="integer" id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">\alpha+\beta=1</annotation></semantics></math>. Under this constraint, Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4 Discussion of weighted parameters ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the effect of parameter values on the experimental results. We can observe the curves of the final accuracy, variance and average accuracy varying with the two parameters. On this dataset, the effect of parameters <math id="S4.SS4.p2.4.m4.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS4.p2.4.m4.1a"><mi id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><ci id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">\alpha</annotation></semantics></math> and <math id="S4.SS4.p2.5.m5.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p2.5.m5.1a"><mi id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><ci id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">\beta</annotation></semantics></math> is relatively symmetrical, i.e., <math id="S4.SS4.p2.6.m6.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS4.p2.6.m6.1a"><mi id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><ci id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">\alpha</annotation></semantics></math> and <math id="S4.SS4.p2.7.m7.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p2.7.m7.1a"><mi id="S4.SS4.p2.7.m7.1.1" xref="S4.SS4.p2.7.m7.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.7.m7.1b"><ci id="S4.SS4.p2.7.m7.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.7.m7.1c">\beta</annotation></semantics></math> have a relatively close influence of the final test accuracy.</p>
</div>
<figure id="S4.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x16.png" id="S4.F7.sf1.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F7.sf1.3.2" class="ltx_text" style="font-size:80%;">Final testing accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x17.png" id="S4.F7.sf2.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F7.sf2.3.2" class="ltx_text" style="font-size:80%;">Variance</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F7.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x18.png" id="S4.F7.sf3.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F7.sf3.3.2" class="ltx_text" style="font-size:80%;">Average accuracy</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Analysis of the parameters on Synthetic_1_1. The frequency weight is the value of <math id="S4.F7.3.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.F7.3.m1.1b"><mi id="S4.F7.3.m1.1.1" xref="S4.F7.3.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F7.3.m1.1c"><ci id="S4.F7.3.m1.1.1.cmml" xref="S4.F7.3.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.3.m1.1d">\alpha</annotation></semantics></math> and the accuracy weight is the value of <math id="S4.F7.4.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.F7.4.m2.1b"><mi id="S4.F7.4.m2.1.1" xref="S4.F7.4.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.F7.4.m2.1c"><ci id="S4.F7.4.m2.1.1.cmml" xref="S4.F7.4.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.4.m2.1d">\beta</annotation></semantics></math>. These two parameters determine the final test accuracy, variance and average accuracy.</figcaption>
</figure>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.2" class="ltx_p">Figure <a href="#S4.F8" title="Figure 8 ‣ 4.4 Discussion of weighted parameters ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> illustrates the analysis of the effect of parameters <math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mi id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\alpha</annotation></semantics></math> and <math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><mi id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><ci id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">\beta</annotation></semantics></math> on the Mnist dataset. Similarly, we calculate the final accuracy, variance, and average accuracy of the dataset using a step size of 0.1. The figure demonstrates the curves of these metrics varying with the parameters. It is seen that a bias towards one parameter can lead to better experimental results.</p>
</div>
<figure id="S4.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F8.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x19.png" id="S4.F8.sf1.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F8.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F8.sf1.3.2" class="ltx_text" style="font-size:80%;">Final testing accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F8.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x20.png" id="S4.F8.sf2.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F8.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F8.sf2.3.2" class="ltx_text" style="font-size:80%;">Variance</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F8.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x21.png" id="S4.F8.sf3.g1" class="ltx_graphics ltx_img_landscape" width="157" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F8.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F8.sf3.3.2" class="ltx_text" style="font-size:80%;">Average accuracy</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Analysis of the parameters on Mnist. The frequency weight is the value of <math id="S4.F8.3.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.F8.3.m1.1b"><mi id="S4.F8.3.m1.1.1" xref="S4.F8.3.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F8.3.m1.1c"><ci id="S4.F8.3.m1.1.1.cmml" xref="S4.F8.3.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F8.3.m1.1d">\alpha</annotation></semantics></math> and the accuracy weight is the value of <math id="S4.F8.4.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.F8.4.m2.1b"><mi id="S4.F8.4.m2.1.1" xref="S4.F8.4.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.F8.4.m2.1c"><ci id="S4.F8.4.m2.1.1.cmml" xref="S4.F8.4.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F8.4.m2.1d">\beta</annotation></semantics></math>. These two parameters determine the final test accuracy, variance and average accuracy.</figcaption>
</figure>
<div id="S4.SS4.p4" class="ltx_para">
<p id="S4.SS4.p4.1" class="ltx_p">The experimental results also demonstrate that the variance between accuracy of the clients is not always small when the average accuracy is large. Therefore, in federated learning, we should focus not only on the average accuracy but also on the variance between accuracy of the clients. In this way, we can make the federated learning framework more fair.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.1" class="ltx_p">In Figure <a href="#S4.F9" title="Figure 9 ‣ 4.4 Discussion of weighted parameters ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, we conduct experiments using the double momentum gradient method of FedFa on synthetic_1_1 and Femnist. We compare the results of our experiments using the momentum gradient method after 1 round and 3 rounds of aggregation on the server side. We have verified that the momentum gradient method can be used at each round when the server-side performs the convergence gradient. It can be seen from Figure <a href="#S4.F9" title="Figure 9 ‣ 4.4 Discussion of weighted parameters ‣ 4 Evaluation ‣ Fairness and Accuracy in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> that when the number of rounds of the server is taken as 3, it will be more stable than using the momentum gradient method for each round.</p>
</div>
<figure id="S4.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F9.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x22.png" id="S4.F9.sf1.g1" class="ltx_graphics ltx_img_landscape" width="332" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F9.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F9.sf1.3.2" class="ltx_text" style="font-size:80%;">Testing Accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F9.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2012.10069/assets/x23.png" id="S4.F9.sf2.g1" class="ltx_graphics ltx_img_landscape" width="332" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F9.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F9.sf2.3.2" class="ltx_text" style="font-size:80%;">Training Loss</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Analyze the effects of rounds in Synthetic_1_1 and Femnist.</figcaption>
</figure>
<div id="S4.SS4.p6" class="ltx_para">
<p id="S4.SS4.p6.2" class="ltx_p">It is also possible to use the momentum gradient method on the server-side after round <math id="S4.SS4.p6.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS4.p6.1.m1.1a"><mi id="S4.SS4.p6.1.m1.1.1" xref="S4.SS4.p6.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.1.m1.1b"><ci id="S4.SS4.p6.1.m1.1.1.cmml" xref="S4.SS4.p6.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.1.m1.1c">b</annotation></semantics></math>. Since the problem of heterogeneity in the data distribution of these clients leads to different gradient optimization directions for each client. Therefore, we can wait for the server to collect the gradients of round <math id="S4.SS4.p6.2.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS4.p6.2.m2.1a"><mi id="S4.SS4.p6.2.m2.1.1" xref="S4.SS4.p6.2.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.2.m2.1b"><ci id="S4.SS4.p6.2.m2.1.1.cmml" xref="S4.SS4.p6.2.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.2.m2.1c">b</annotation></semantics></math> before using the momentum gradient method, which can better consider the influence of historical gradients and reduce the oscillation.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusions</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, we proposed a novel federated optimization algorithm, FedFa, which combines a double momentum gradient and a weighting strategy. The double momentum gradient takes into account the influence of historical gradient information at both client and server sides to improve the convergence of the algorithm. The weighting strategy aggregates the weights according to the training accuracy and the number of participants to create a fairer and more accurate federated learning algorithm. Through extensive experiments on federated datasets, we validated that our proposed approach significantly improves the convergence and fairness of federated learning in heterogeneous networks compared to existing benchmarks. In future research, we will develop new federated learning algorithms that can better adapt to the challenge of heterogeneity among clients, thus further improving learning performance and reducing communication costs.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This research was supported by the National Key R<math id="Sx1.p1.1.m1.1" class="ltx_Math" alttext="\&amp;" display="inline"><semantics id="Sx1.p1.1.m1.1a"><mo id="Sx1.p1.1.m1.1.1" xref="Sx1.p1.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="Sx1.p1.1.m1.1b"><and id="Sx1.p1.1.m1.1.1.cmml" xref="Sx1.p1.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="Sx1.p1.1.m1.1c">\&amp;</annotation></semantics></math>D Program of China (2019YFB2101802) and the National Natural Science Foundation of China (No. 61773324).</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">References</h2>

</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, Y. Cheng, Y. Kang, T. Chen, H. Yu, Federated learning,
Synthesis Lectures on Artificial Intelligence and Machine Learning 13 (3)
(2019) 1–207.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
A. Kotsios, M. Magnani, D. Vega, L. Rossi, I. Shklovski, An analysis of the
consequences of the general data protection regulation on social network
research, ACM Transactions on Social Computing 2 (3) (2019) 1–22.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, T. Chen, Y. Tong, Federated machine learning: Concept and
applications, ACM Transactions on Intelligent Systems and Technology 10 (2)
(2019) 1–19.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, B. A. y Arcas,
Communication-efficient learning of deep networks from decentralized data,
in: Artificial Intelligence and Statistics, 2017, pp. 1273–1282.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
D. Chai, L. Wang, K. Chen, Q. Yang, Secure federated matrix
factorization, IEEE Intelligent Systems (2020) 1–1<a target="_blank" href="http://dx.doi.org/10.1109/MIS.2020.3014880" title="" class="ltx_ref ltx_href"><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">doi:10.1109/MIS.2020.3014880</span></a>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
J. Li, L. He, S. Ren, R. Mao, Developing a loss prediction-based asynchronous
stochastic gradient descent algorithm for distributed training of deep neural
networks, in: Proceedings of the 49th International Conference on Parallel
Processing, 2020, pp. 1–10.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
H. Wang, H. Yurochkin, Y. Sun, D. Papailiopoulos, Y. Khazaeni, Federated
learning with matched averaging, in: International Conference on Learning
Representations, 2020, pp. 1–10.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
M. Mohri, G. Sivek, A. T. Suresh, Agnostic federated learning, arXiv preprint
arXiv:1902.00146.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
L. Huang, Y. Yin, Z. Fu, S. Zhang, H. Deng, D. Liu, Loadaboost: Loss-based
adaboost federated machine learning with reduced computational complexity on
iid and non-iid intensive care data, Plos One 15 (4) (2020) e0230706.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
L. Corinzia, J. M. Buhmann, Variational federated multi-task learning, arXiv
preprint arXiv:1906.06268.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
T. Nishio, R. Yonetani, Client selection for federated learning with
heterogeneous resources in mobile edge, in: Proceedings of the 2019 IEEE
International Conference on Communications, IEEE, 2019, pp. 1–7.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Y. Zhao, M. Li, L. Lai, N. Suda, D. Civin, V. Chandra, Federated learning with
non-iid data, arXiv preprint arXiv:1806.00582.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
F. Sattler, K. R. M ller, W. Samek, Clustered federated learning:
Model-agnostic distributed multitask optimization under privacy constraints,
IEEE Transactions on Neural Networks and Learning Systems (2020) 1–13.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Y. Freund, R. E. Schapire, A desicion-theoretic generalization of on-line
learning and an application to boosting, Journal of Computer and System Ences
55 (1995) 119–139.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
T. Li, A. K. Sahu, M. Zaheer, M. Sanjabi, A. Talwalkar, V. Smith, Federated
optimization in heterogeneous networks, Proceedings of Machine Learning and
Systems 2 (2020) 429–450.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
T. Li, M. Sanjabi, A. Beirami, V. Smith, Fair resource allocation in federated
learning, arXiv preprint arXiv:1905.10497.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
X. Yao, T. Huang, C. Wu, R.-X. Zhang, L. Sun, Federated learning with
additional mechanisms on clients to reduce communication costs, arXiv
preprint arXiv:1908.05891.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
J. Chen, X. Pan, R. Monga, S. Bengio, R. Jozefowicz, Revisiting distributed
synchronous SGD, arXiv preprint arXiv:1604.00981.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
S. Zhang, A. E. Choromanska, Y. LeCun, Deep learning with elastic averaging
SGD, in: Advances in Neural Information Processing Systems, 2015, pp.
685–693.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Y. Chen, X. Sun, Y. Jin, Communication-efficient federated deep learning with
layerwise asynchronous model update and temporally weighted aggregation, IEEE
Transactions on Neural Networks and Learning Systems pp (99) (2019) 1–10.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
X. Yao, C. Huang, L. Sun, Two-stream federated learning: Reduce the
communication costs, in: Proceedings of the 2018 IEEE Visual Communications
and Image Processing, IEEE, 2018, pp. 1–4.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
X. Yao, T. Huang, C. Wu, R. Zhang, L. Sun, Towards faster and better federated
learning: A feature fusion approach, in: Proceedings of the 2019 IEEE
International Conference on Image Processing, IEEE, 2019, pp. 175–179.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
J. Konečnỳ, H. B. McMahan, F. X. Yu, P. Richtárik, A. T. Suresh,
D. Bacon, Federated learning: Strategies for improving communication
efficiency, arXiv preprint arXiv:1610.05492.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
S. Caldas, J. Konečny, H. B. McMahan, A. Talwalkar, Expanding the reach
of federated learning by reducing client resource requirements, arXiv
preprint arXiv:1812.07210.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
F. Sattler, S. Wiedemann, K.-R. Müller, W. Samek, Robust and
communication-efficient federated learning from non-iid data, IEEE
Transactions on Neural Networks and Learning Systems 31 (9) (2019)
3400–3413.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
M. Ribero, H. Vikalo, Communication-efficient federated learning via optimal
client sampling, arXiv preprint arXiv:2007.15197.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Y. Li, C. Chen, N. Liu, H. Huang, Z. Zheng, Q. Yan, A blockchain-based
decentralized federated learning framework with committee consensus, arXiv
preprint arXiv:2004.00773.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
N. Shoham, T. Avidor, A. Keren, N. Israel, D. Benditkis, L. Mor-Yosef,
I. Zeitak, Overcoming forgetting in federated learning on non-iid data, arXiv
preprint arXiv:1910.07796.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
V. Smith, C.-K. Chiang, M. Sanjabi, A. S. Talwalkar, Federated multi-task
learning, Advances in Neural Information Processing Systems 30 (2017)
4424–4434.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Y. Jiang, J. Konečnỳ, K. Rush, S. Kannan, Improving federated
learning personalization via model agnostic meta learning, arXiv preprint
arXiv:1909.12488.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
C. Finn, P. Abbeel, S. Levine, Model-agnostic meta-learning for fast adaptation
of deep networks, in: Proceedings of the 34th International Conference on
Machine Learning-Volume 70, 2017, pp. 1126–1135.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
C. T Dinh, N. Tran, T. D. Nguyen, Personalized federated learning with moreau
envelopes, Advances in Neural Information Processing Systems 33 (2020) 1–10.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
M. Xie, G. Long, T. Shen, T. Zhou, X. Wang, J. Jiang, Multi-center federated
learning, arXiv preprint arXiv:2005.01026.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Y. Lecun, L. Bottou, Y. Bengio, P. Haffner, Gradient-based learning
applied to document recognition, Proceedings of the IEEE 86 (11) (1998)
2278–2324.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
G. Cohen, S. Afshar, J. Tapson, A. van Schaik, Emnist: Extending mnist
to handwritten letters, in: Proceedings of the 2017 International Joint
Conference on Neural Networks, 2017, pp. 2921–2926.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
A. Go, R. Bhayani, L. Huang, Twitter sentiment classification using distant
supervision, CS224N project report, Stanford 1 (12) (2009) 2009.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
J. Pennington, R. Socher, C. Manning, Glove: Global vectors for word
representation, in: Conference on Empirical Methods in Natural Language
Processing, 2014, pp. 1532–1543.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
M. Abadi, P. Barham, J. Chen, Z. Chen, A. Davis, J. Dean, M. Devin,
S. Ghemawat, G. Irving, M. Isard, et al., Tensorflow: A system for
large-scale machine learning, in: Proceedings of the 12th <math id="bib.bib38.1.m1.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib38.1.m1.1a"><mo stretchy="false" id="bib.bib38.1.m1.1.1" xref="bib.bib38.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib38.1.m1.1b"><ci id="bib.bib38.1.m1.1.1.cmml" xref="bib.bib38.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib38.1.m1.1c">\{</annotation></semantics></math>USENIX<math id="bib.bib38.2.m2.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib38.2.m2.1a"><mo stretchy="false" id="bib.bib38.2.m2.1.1" xref="bib.bib38.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib38.2.m2.1b"><ci id="bib.bib38.2.m2.1.1.cmml" xref="bib.bib38.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib38.2.m2.1c">\}</annotation></semantics></math>
Symposium on Operating Systems Design and Implementation (<math id="bib.bib38.3.m3.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib38.3.m3.1a"><mo stretchy="false" id="bib.bib38.3.m3.1.1" xref="bib.bib38.3.m3.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib38.3.m3.1b"><ci id="bib.bib38.3.m3.1.1.cmml" xref="bib.bib38.3.m3.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib38.3.m3.1c">\{</annotation></semantics></math>OSDI<math id="bib.bib38.4.m4.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib38.4.m4.1a"><mo stretchy="false" id="bib.bib38.4.m4.1.1" xref="bib.bib38.4.m4.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib38.4.m4.1b"><ci id="bib.bib38.4.m4.1.1.cmml" xref="bib.bib38.4.m4.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib38.4.m4.1c">\}</annotation></semantics></math> 16),
2016, pp. 265–283.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2012.10068" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2012.10069" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2012.10069">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2012.10069" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2012.10070" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar  6 09:01:43 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
