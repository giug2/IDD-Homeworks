<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2309.06748] Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation</title><meta property="og:description" content="Conversational search provides a natural interface for information retrieval (IR).
Recent approaches have demonstrated promising results in applying dense retrieval to conversational IR.
However, training dense retriev…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2309.06748">

<!--Generated on Wed Feb 28 05:55:11 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
<span id="id8.id1" class="ltx_text ltx_font_smallcaps">Converser</span>: Few-Shot Conversational Dense Retrieval 
<br class="ltx_break">with Synthetic Data Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chao-Wei Huang<sup id="id9.8.id1" class="ltx_sup"><span id="id9.8.id1.1" class="ltx_text ltx_font_italic">†‡</span></sup> Chen-Yu Hsu<sup id="id10.9.id2" class="ltx_sup"><span id="id10.9.id2.1" class="ltx_text ltx_font_italic">†</span></sup> Tsu-Yuan Hsu<sup id="id11.10.id3" class="ltx_sup"><span id="id11.10.id3.1" class="ltx_text ltx_font_italic">†</span></sup>  Chen-An Li<sup id="id12.11.id4" class="ltx_sup"><span id="id12.11.id4.1" class="ltx_text ltx_font_italic">†</span></sup><span id="footnotex1" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>  Yun-Nung Chen<sup id="id13.12.id5" class="ltx_sup"><span id="id13.12.id5.1" class="ltx_text ltx_font_italic">†</span></sup>
<br class="ltx_break"><sup id="id14.13.id6" class="ltx_sup"><span id="id14.13.id6.1" class="ltx_text ltx_font_italic">†</span></sup>National Taiwan University, Taipei, Taiwan
<br class="ltx_break"><sup id="id15.14.id7" class="ltx_sup"><span id="id15.14.id7.1" class="ltx_text ltx_font_italic">‡</span></sup>Taiwan AI Labs, Taipei, Taiwan 
<br class="ltx_break"><span id="id16.15.id8" class="ltx_text ltx_font_typewriter">f07922069@csie.ntu.edu.tw y.v.chen@ieee.org</span> 
<br class="ltx_break">
</span><span class="ltx_author_notes">  Equal contribution</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id17.id1" class="ltx_p">Conversational search provides a natural interface for information retrieval (IR).
Recent approaches have demonstrated promising results in applying dense retrieval to conversational IR.
However, training dense retrievers requires large amounts of in-domain paired data.
This hinders the development of conversational dense retrievers, as abundant in-domain conversations are expensive to collect.
In this paper, we propose <span id="id17.id1.1" class="ltx_text ltx_font_smallcaps">Converser</span>, a framework for training conversational dense retrievers with at most 6 examples of in-domain dialogues.
Specifically, we utilize the in-context learning capability of large language models to generate conversational queries given a passage in the retrieval corpus.
Experimental results on conversational retrieval benchmarks OR-QuAC and TREC CAsT 19 show that the proposed <span id="id17.id1.2" class="ltx_text ltx_font_smallcaps">Converser</span> achieves comparable performance to fully-supervised models, demonstrating the effectiveness of our proposed framework in few-shot conversational dense retrieval.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>All source code and generated datasets are available: <a target="_blank" href="https://github.com/MiuLab/CONVERSER" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/MiuLab/CONVERSER</a></span></span></span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Conversational information retrieval (CIR) has been an important area of research in recent years, aiming to retrieve relevant information from a large corpus of text in a conversational format.
It has gained considerable interest due to its potential to deliver information in a natural format in response to a user’s queries.
Unlike traditional IR, CIR poses distinctive challenges, including its multi-turn and context-dependent nature, which require more nuanced approaches <cite class="ltx_cite ltx_citemacro_cite">Yu et al. (<a href="#bib.bib25" title="" class="ltx_ref">2021</a>); Fang et al. (<a href="#bib.bib12" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Dense retrieval methods have demonstrated their ability to understand the semantics of complex user queries and shown promising performance on open-domain retrieval <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite>.
One of the major obstacles to conversational dense retrieval is the scarcity of training data, given the high cost and extensive time to collect high-quality information-seeking conversations <cite class="ltx_cite ltx_citemacro_cite">Adlakha et al. (<a href="#bib.bib1" title="" class="ltx_ref">2022</a>)</cite>.
Previous work has explored various approaches to address this issue <cite class="ltx_cite ltx_citemacro_cite">Dai et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>); Kim et al. (<a href="#bib.bib17" title="" class="ltx_ref">2022</a>)</cite>.
However, most methods still rely on the assumption that a large amount of in-domain data is present and build data augmentation models upon it.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper, we aim to develop a few-shot conversational dense retrieval model that can effectively retrieve relevant passages based on a small number of in-domain dialogues.
To achieve this, we leverage the in-context learning capability of large language models (LLMs) to generate synthetic passage-dialogue pairs with few-shot demonstrations.
Specifically, in-domain passages are sampled from the retrieval corpus, and dialogues are synthesized by asking LLMs to generate a series of queries based on a few examples.
We also employ a self-consistency filtering mechanism to automatically discard inconsistent generated queries, ensuring the accuracy and reliability of the generations.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">We conduct experiments on two benchmark datasets, including OR-QuAC <cite class="ltx_cite ltx_citemacro_cite">Qu et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> and TREC CAsT 19 <cite class="ltx_cite ltx_citemacro_cite">Dalton et al. (<a href="#bib.bib10" title="" class="ltx_ref">2019</a>)</cite>.
The experimental results demonstrate that our proposed framework, <span id="S1.p4.1.1" class="ltx_text ltx_font_smallcaps">Converser</span>, performs comparably to fully-supervised models that are trained on <em id="S1.p4.1.2" class="ltx_emph ltx_font_italic">thousands</em> of annotated dialogues while using only 6 examples at most.
Furthermore, analyses show that <span id="S1.p4.1.3" class="ltx_text ltx_font_smallcaps">Converser</span> rivals other data augmentation methods that utilize full in-domain datasets, demonstrating its effectiveness.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Conversational Dense Retrieval</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">Conversational dense retrieval poses a unique challenge in that the questions are context-dependent.
Prior works have explored various modeling techniques for conversational history to address this challenge <cite class="ltx_cite ltx_citemacro_cite">Huang et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018</a>); Choi et al. (<a href="#bib.bib7" title="" class="ltx_ref">2018</a>); Yeh and Chen (<a href="#bib.bib24" title="" class="ltx_ref">2019</a>); Chiang et al. (<a href="#bib.bib6" title="" class="ltx_ref">2020</a>)</cite>.
However, these works only examined the modeling ability for conversational question answering (CQA), where the relevant passages are provided.</p>
</div>
<div id="S2.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p2.1" class="ltx_p">More recently, <cite class="ltx_cite ltx_citemacro_citet">Qu et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> proposed OR-ConvQA, which extends CQA to the open-domain setting where a retrieval module is required.
ConvDR <cite class="ltx_cite ltx_citemacro_cite">Yu et al. (<a href="#bib.bib25" title="" class="ltx_ref">2021</a>)</cite> utilizes an ad-hoc dense retriever and manually rewritten context-independent queries for training few-shot retrievers and rerankers, while our method does not require an ad-hoc model and additional annotation.
Others have explored various methods for encoding conversational queries <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib18" title="" class="ltx_ref">2021</a>); Fang et al. (<a href="#bib.bib12" title="" class="ltx_ref">2022</a>); Wu et al. (<a href="#bib.bib23" title="" class="ltx_ref">2022</a>); Liang et al. (<a href="#bib.bib19" title="" class="ltx_ref">2022</a>)</cite>, which are orthogonal to our work.</p>
</div>
</section>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Synthetic Data Generation for Dense Retrieval</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Due to the data-hungry nature of dense retrievers, synthetic data generation for dense retrieval has drawn considerable interest.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Previous works have worked on generating information-seeking conversations via transforming documents <cite class="ltx_cite ltx_citemacro_cite">Dai et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>); Kim et al. (<a href="#bib.bib17" title="" class="ltx_ref">2022</a>)</cite> or web search sessions <cite class="ltx_cite ltx_citemacro_cite">Mao et al. (<a href="#bib.bib20" title="" class="ltx_ref">2022</a>)</cite>.
However, these methods all require training query generators with conversational data, which does not mitigate the data scarcity issue.
Our method requires only 6 in-domain dialogues with their relevant passages and demonstrates comparable performance to models trained on thousands of manually annotated dialogues.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.1" class="ltx_p">InPars <cite class="ltx_cite ltx_citemacro_cite">Bonifacio et al. (<a href="#bib.bib4" title="" class="ltx_ref">2022</a>)</cite> and Promptagator <cite class="ltx_cite ltx_citemacro_cite">Dai et al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite> are the most closely related works to our method.
They both proposed to generate synthetic queries with LLMs from few-shot examples, which achieved comparable performance to supervised methods in dense retrieval.
Inspired by these works, our method further extends few-shot query generation to the conversational setting.
We propose novel techniques for generating conversational queries and show that they are crucial to handle the unique challenges of conversational dense retrieval.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2309.06748/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="200" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of our proposed framework.</figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Proposed Method: <span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Converser</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.4" class="ltx_p">We propose few-shot <span id="S3.p1.4.1" class="ltx_text ltx_framed ltx_framed_underline">convers</span>ational d<span id="S3.p1.4.2" class="ltx_text ltx_framed ltx_framed_underline">e</span>nse <span id="S3.p1.4.3" class="ltx_text ltx_framed ltx_framed_underline">r</span>etrieval with synthetic data generation, <span id="S3.p1.4.4" class="ltx_text ltx_font_smallcaps">Converser</span>, which aims to generate synthetic conversational queries given few examples.
More formally, given a conversational retrieval task <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">T</annotation></semantics></math>, its retrieval corpus <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{P}_{T}" display="inline"><semantics id="S3.p1.2.m2.1a"><msub id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">𝒫</mi><mi id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝒫</ci><ci id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">\mathcal{P}_{T}</annotation></semantics></math>, and <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">k</annotation></semantics></math> examples, we aim to generate synthetic conversational query-passage pairs <math id="S3.p1.4.m4.3" class="ltx_Math" alttext="\{\hat{C}_{1},\cdots,\hat{C}_{n}\}" display="inline"><semantics id="S3.p1.4.m4.3a"><mrow id="S3.p1.4.m4.3.3.2" xref="S3.p1.4.m4.3.3.3.cmml"><mo stretchy="false" id="S3.p1.4.m4.3.3.2.3" xref="S3.p1.4.m4.3.3.3.cmml">{</mo><msub id="S3.p1.4.m4.2.2.1.1" xref="S3.p1.4.m4.2.2.1.1.cmml"><mover accent="true" id="S3.p1.4.m4.2.2.1.1.2" xref="S3.p1.4.m4.2.2.1.1.2.cmml"><mi id="S3.p1.4.m4.2.2.1.1.2.2" xref="S3.p1.4.m4.2.2.1.1.2.2.cmml">C</mi><mo id="S3.p1.4.m4.2.2.1.1.2.1" xref="S3.p1.4.m4.2.2.1.1.2.1.cmml">^</mo></mover><mn id="S3.p1.4.m4.2.2.1.1.3" xref="S3.p1.4.m4.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.p1.4.m4.3.3.2.4" xref="S3.p1.4.m4.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">⋯</mi><mo id="S3.p1.4.m4.3.3.2.5" xref="S3.p1.4.m4.3.3.3.cmml">,</mo><msub id="S3.p1.4.m4.3.3.2.2" xref="S3.p1.4.m4.3.3.2.2.cmml"><mover accent="true" id="S3.p1.4.m4.3.3.2.2.2" xref="S3.p1.4.m4.3.3.2.2.2.cmml"><mi id="S3.p1.4.m4.3.3.2.2.2.2" xref="S3.p1.4.m4.3.3.2.2.2.2.cmml">C</mi><mo id="S3.p1.4.m4.3.3.2.2.2.1" xref="S3.p1.4.m4.3.3.2.2.2.1.cmml">^</mo></mover><mi id="S3.p1.4.m4.3.3.2.2.3" xref="S3.p1.4.m4.3.3.2.2.3.cmml">n</mi></msub><mo stretchy="false" id="S3.p1.4.m4.3.3.2.6" xref="S3.p1.4.m4.3.3.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.3b"><set id="S3.p1.4.m4.3.3.3.cmml" xref="S3.p1.4.m4.3.3.2"><apply id="S3.p1.4.m4.2.2.1.1.cmml" xref="S3.p1.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S3.p1.4.m4.2.2.1.1.1.cmml" xref="S3.p1.4.m4.2.2.1.1">subscript</csymbol><apply id="S3.p1.4.m4.2.2.1.1.2.cmml" xref="S3.p1.4.m4.2.2.1.1.2"><ci id="S3.p1.4.m4.2.2.1.1.2.1.cmml" xref="S3.p1.4.m4.2.2.1.1.2.1">^</ci><ci id="S3.p1.4.m4.2.2.1.1.2.2.cmml" xref="S3.p1.4.m4.2.2.1.1.2.2">𝐶</ci></apply><cn type="integer" id="S3.p1.4.m4.2.2.1.1.3.cmml" xref="S3.p1.4.m4.2.2.1.1.3">1</cn></apply><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">⋯</ci><apply id="S3.p1.4.m4.3.3.2.2.cmml" xref="S3.p1.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S3.p1.4.m4.3.3.2.2.1.cmml" xref="S3.p1.4.m4.3.3.2.2">subscript</csymbol><apply id="S3.p1.4.m4.3.3.2.2.2.cmml" xref="S3.p1.4.m4.3.3.2.2.2"><ci id="S3.p1.4.m4.3.3.2.2.2.1.cmml" xref="S3.p1.4.m4.3.3.2.2.2.1">^</ci><ci id="S3.p1.4.m4.3.3.2.2.2.2.cmml" xref="S3.p1.4.m4.3.3.2.2.2.2">𝐶</ci></apply><ci id="S3.p1.4.m4.3.3.2.2.3.cmml" xref="S3.p1.4.m4.3.3.2.2.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.3c">\{\hat{C}_{1},\cdots,\hat{C}_{n}\}</annotation></semantics></math> for training dense retrievers.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Few-Shot Conversational Query Generation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.7" class="ltx_p">The core of our method is <span id="S3.SS1.p1.7.1" class="ltx_text ltx_font_italic">few-shot query generation</span>.
We leverage the in-context learning ability of LLMs <cite class="ltx_cite ltx_citemacro_cite">Brown et al. (<a href="#bib.bib5" title="" class="ltx_ref">2020</a>)</cite> to generate conversational queries.
Specifically, we start with <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">k</annotation></semantics></math> examples <math id="S3.SS1.p1.2.m2.4" class="ltx_Math" alttext="\{C_{1},C_{2},\cdots,C_{k}\}" display="inline"><semantics id="S3.SS1.p1.2.m2.4a"><mrow id="S3.SS1.p1.2.m2.4.4.3" xref="S3.SS1.p1.2.m2.4.4.4.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.4.4.3.4" xref="S3.SS1.p1.2.m2.4.4.4.cmml">{</mo><msub id="S3.SS1.p1.2.m2.2.2.1.1" xref="S3.SS1.p1.2.m2.2.2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.2.2.1.1.2" xref="S3.SS1.p1.2.m2.2.2.1.1.2.cmml">C</mi><mn id="S3.SS1.p1.2.m2.2.2.1.1.3" xref="S3.SS1.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.4.4.3.5" xref="S3.SS1.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.3.3.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.cmml"><mi id="S3.SS1.p1.2.m2.3.3.2.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.2.cmml">C</mi><mn id="S3.SS1.p1.2.m2.3.3.2.2.3" xref="S3.SS1.p1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.2.m2.4.4.3.6" xref="S3.SS1.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">⋯</mi><mo id="S3.SS1.p1.2.m2.4.4.3.7" xref="S3.SS1.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.4.4.3.3" xref="S3.SS1.p1.2.m2.4.4.3.3.cmml"><mi id="S3.SS1.p1.2.m2.4.4.3.3.2" xref="S3.SS1.p1.2.m2.4.4.3.3.2.cmml">C</mi><mi id="S3.SS1.p1.2.m2.4.4.3.3.3" xref="S3.SS1.p1.2.m2.4.4.3.3.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS1.p1.2.m2.4.4.3.8" xref="S3.SS1.p1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.4b"><set id="S3.SS1.p1.2.m2.4.4.4.cmml" xref="S3.SS1.p1.2.m2.4.4.3"><apply id="S3.SS1.p1.2.m2.2.2.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.2">𝐶</ci><cn type="integer" id="S3.SS1.p1.2.m2.2.2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S3.SS1.p1.2.m2.3.3.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.2.2.1.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2">𝐶</ci><cn type="integer" id="S3.SS1.p1.2.m2.3.3.2.2.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">⋯</ci><apply id="S3.SS1.p1.2.m2.4.4.3.3.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.4.4.3.3.1.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.4.4.3.3.2.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.2">𝐶</ci><ci id="S3.SS1.p1.2.m2.4.4.3.3.3.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.3">𝑘</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.4c">\{C_{1},C_{2},\cdots,C_{k}\}</annotation></semantics></math>, where each <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="C_{i}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">C</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝐶</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">C_{i}</annotation></semantics></math> is a conversation represented as a series of query-passage pairs, <math id="S3.SS1.p1.4.m4.3" class="ltx_Math" alttext="(q_{i}^{1},p_{i}^{1}),\cdots,(q_{i}^{n_{i}},p_{i}^{n_{i}})" display="inline"><semantics id="S3.SS1.p1.4.m4.3a"><mrow id="S3.SS1.p1.4.m4.3.3.2" xref="S3.SS1.p1.4.m4.3.3.3.cmml"><mrow id="S3.SS1.p1.4.m4.2.2.1.1.2" xref="S3.SS1.p1.4.m4.2.2.1.1.3.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.2.2.1.1.2.3" xref="S3.SS1.p1.4.m4.2.2.1.1.3.cmml">(</mo><msubsup id="S3.SS1.p1.4.m4.2.2.1.1.1.1" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.2" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.3" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.3.cmml">i</mi><mn id="S3.SS1.p1.4.m4.2.2.1.1.1.1.3" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.3.cmml">1</mn></msubsup><mo id="S3.SS1.p1.4.m4.2.2.1.1.2.4" xref="S3.SS1.p1.4.m4.2.2.1.1.3.cmml">,</mo><msubsup id="S3.SS1.p1.4.m4.2.2.1.1.2.2" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.2" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.2.cmml">p</mi><mi id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.3" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.3.cmml">i</mi><mn id="S3.SS1.p1.4.m4.2.2.1.1.2.2.3" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS1.p1.4.m4.2.2.1.1.2.5" xref="S3.SS1.p1.4.m4.2.2.1.1.3.cmml">)</mo></mrow><mo id="S3.SS1.p1.4.m4.3.3.2.3" xref="S3.SS1.p1.4.m4.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">⋯</mi><mo id="S3.SS1.p1.4.m4.3.3.2.4" xref="S3.SS1.p1.4.m4.3.3.3.cmml">,</mo><mrow id="S3.SS1.p1.4.m4.3.3.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.3.3.2.2.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.3.cmml">(</mo><msubsup id="S3.SS1.p1.4.m4.3.3.2.2.1.1" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.3.cmml">i</mi><msub id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.2" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.2.cmml">n</mi><mi id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.3" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.3.cmml">i</mi></msub></msubsup><mo id="S3.SS1.p1.4.m4.3.3.2.2.2.4" xref="S3.SS1.p1.4.m4.3.3.2.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.4.m4.3.3.2.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.2.cmml">p</mi><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.3.cmml">i</mi><msub id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.2.cmml">n</mi><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.3" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.3.cmml">i</mi></msub></msubsup><mo stretchy="false" id="S3.SS1.p1.4.m4.3.3.2.2.2.5" xref="S3.SS1.p1.4.m4.3.3.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.3b"><list id="S3.SS1.p1.4.m4.3.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2"><interval closure="open" id="S3.SS1.p1.4.m4.2.2.1.1.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2"><apply id="S3.SS1.p1.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.2">𝑞</ci><ci id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.2.3">𝑖</ci></apply><cn type="integer" id="S3.SS1.p1.4.m4.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.4.m4.2.2.1.1.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.2.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2">superscript</csymbol><apply id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.2">𝑝</ci><ci id="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.2.3">𝑖</ci></apply><cn type="integer" id="S3.SS1.p1.4.m4.2.2.1.1.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2.2.3">1</cn></apply></interval><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">⋯</ci><interval closure="open" id="S3.SS1.p1.4.m4.3.3.2.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2"><apply id="S3.SS1.p1.4.m4.3.3.2.2.1.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.1.1.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.2">𝑞</ci><ci id="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.2">𝑛</ci><ci id="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.1.1.3.3">𝑖</ci></apply></apply><apply id="S3.SS1.p1.4.m4.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.2">𝑝</ci><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.2">𝑛</ci><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.3.3">𝑖</ci></apply></apply></interval></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.3c">(q_{i}^{1},p_{i}^{1}),\cdots,(q_{i}^{n_{i}},p_{i}^{n_{i}})</annotation></semantics></math>, with <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="n_{i}" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝑛</ci><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">n_{i}</annotation></semantics></math> denoting the length of <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="C_{i}" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">C</mi><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝐶</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">C_{i}</annotation></semantics></math>.
Using these examples, we construct the following template <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\mathcal{T}</annotation></semantics></math> as a few-shot demonstration for LLMs:</p>
<table id="S3.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex1.m1.5" class="ltx_Math" alttext="\left[(p_{1}^{n_{1}},q_{1}^{1},\cdots,q_{1}^{n_{1}}),\cdots,(p_{k}^{n_{k}},q_{k}^{1},\cdots,q_{k}^{n_{k}})\right]" display="block"><semantics id="S3.Ex1.m1.5a"><mrow id="S3.Ex1.m1.5.5.2" xref="S3.Ex1.m1.5.5.3.cmml"><mo id="S3.Ex1.m1.5.5.2.3" xref="S3.Ex1.m1.5.5.3.cmml">[</mo><mrow id="S3.Ex1.m1.4.4.1.1.3" xref="S3.Ex1.m1.4.4.1.1.4.cmml"><mo stretchy="false" id="S3.Ex1.m1.4.4.1.1.3.4" xref="S3.Ex1.m1.4.4.1.1.4.cmml">(</mo><msubsup id="S3.Ex1.m1.4.4.1.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.1.cmml"><mi id="S3.Ex1.m1.4.4.1.1.1.1.2.2" xref="S3.Ex1.m1.4.4.1.1.1.1.2.2.cmml">p</mi><mn id="S3.Ex1.m1.4.4.1.1.1.1.2.3" xref="S3.Ex1.m1.4.4.1.1.1.1.2.3.cmml">1</mn><msub id="S3.Ex1.m1.4.4.1.1.1.1.3" xref="S3.Ex1.m1.4.4.1.1.1.1.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.1.1.3.2" xref="S3.Ex1.m1.4.4.1.1.1.1.3.2.cmml">n</mi><mn id="S3.Ex1.m1.4.4.1.1.1.1.3.3" xref="S3.Ex1.m1.4.4.1.1.1.1.3.3.cmml">1</mn></msub></msubsup><mo id="S3.Ex1.m1.4.4.1.1.3.5" xref="S3.Ex1.m1.4.4.1.1.4.cmml">,</mo><msubsup id="S3.Ex1.m1.4.4.1.1.2.2" xref="S3.Ex1.m1.4.4.1.1.2.2.cmml"><mi id="S3.Ex1.m1.4.4.1.1.2.2.2.2" xref="S3.Ex1.m1.4.4.1.1.2.2.2.2.cmml">q</mi><mn id="S3.Ex1.m1.4.4.1.1.2.2.2.3" xref="S3.Ex1.m1.4.4.1.1.2.2.2.3.cmml">1</mn><mn id="S3.Ex1.m1.4.4.1.1.2.2.3" xref="S3.Ex1.m1.4.4.1.1.2.2.3.cmml">1</mn></msubsup><mo id="S3.Ex1.m1.4.4.1.1.3.6" xref="S3.Ex1.m1.4.4.1.1.4.cmml">,</mo><mi mathvariant="normal" id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">⋯</mi><mo id="S3.Ex1.m1.4.4.1.1.3.7" xref="S3.Ex1.m1.4.4.1.1.4.cmml">,</mo><msubsup id="S3.Ex1.m1.4.4.1.1.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.3.3.2.2" xref="S3.Ex1.m1.4.4.1.1.3.3.2.2.cmml">q</mi><mn id="S3.Ex1.m1.4.4.1.1.3.3.2.3" xref="S3.Ex1.m1.4.4.1.1.3.3.2.3.cmml">1</mn><msub id="S3.Ex1.m1.4.4.1.1.3.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.3.3.3.2" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2.cmml">n</mi><mn id="S3.Ex1.m1.4.4.1.1.3.3.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.3.3.cmml">1</mn></msub></msubsup><mo stretchy="false" id="S3.Ex1.m1.4.4.1.1.3.8" xref="S3.Ex1.m1.4.4.1.1.4.cmml">)</mo></mrow><mo id="S3.Ex1.m1.5.5.2.4" xref="S3.Ex1.m1.5.5.3.cmml">,</mo><mi mathvariant="normal" id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">⋯</mi><mo id="S3.Ex1.m1.5.5.2.5" xref="S3.Ex1.m1.5.5.3.cmml">,</mo><mrow id="S3.Ex1.m1.5.5.2.2.3" xref="S3.Ex1.m1.5.5.2.2.4.cmml"><mo stretchy="false" id="S3.Ex1.m1.5.5.2.2.3.4" xref="S3.Ex1.m1.5.5.2.2.4.cmml">(</mo><msubsup id="S3.Ex1.m1.5.5.2.2.1.1" xref="S3.Ex1.m1.5.5.2.2.1.1.cmml"><mi id="S3.Ex1.m1.5.5.2.2.1.1.2.2" xref="S3.Ex1.m1.5.5.2.2.1.1.2.2.cmml">p</mi><mi id="S3.Ex1.m1.5.5.2.2.1.1.2.3" xref="S3.Ex1.m1.5.5.2.2.1.1.2.3.cmml">k</mi><msub id="S3.Ex1.m1.5.5.2.2.1.1.3" xref="S3.Ex1.m1.5.5.2.2.1.1.3.cmml"><mi id="S3.Ex1.m1.5.5.2.2.1.1.3.2" xref="S3.Ex1.m1.5.5.2.2.1.1.3.2.cmml">n</mi><mi id="S3.Ex1.m1.5.5.2.2.1.1.3.3" xref="S3.Ex1.m1.5.5.2.2.1.1.3.3.cmml">k</mi></msub></msubsup><mo id="S3.Ex1.m1.5.5.2.2.3.5" xref="S3.Ex1.m1.5.5.2.2.4.cmml">,</mo><msubsup id="S3.Ex1.m1.5.5.2.2.2.2" xref="S3.Ex1.m1.5.5.2.2.2.2.cmml"><mi id="S3.Ex1.m1.5.5.2.2.2.2.2.2" xref="S3.Ex1.m1.5.5.2.2.2.2.2.2.cmml">q</mi><mi id="S3.Ex1.m1.5.5.2.2.2.2.2.3" xref="S3.Ex1.m1.5.5.2.2.2.2.2.3.cmml">k</mi><mn id="S3.Ex1.m1.5.5.2.2.2.2.3" xref="S3.Ex1.m1.5.5.2.2.2.2.3.cmml">1</mn></msubsup><mo id="S3.Ex1.m1.5.5.2.2.3.6" xref="S3.Ex1.m1.5.5.2.2.4.cmml">,</mo><mi mathvariant="normal" id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml">⋯</mi><mo id="S3.Ex1.m1.5.5.2.2.3.7" xref="S3.Ex1.m1.5.5.2.2.4.cmml">,</mo><msubsup id="S3.Ex1.m1.5.5.2.2.3.3" xref="S3.Ex1.m1.5.5.2.2.3.3.cmml"><mi id="S3.Ex1.m1.5.5.2.2.3.3.2.2" xref="S3.Ex1.m1.5.5.2.2.3.3.2.2.cmml">q</mi><mi id="S3.Ex1.m1.5.5.2.2.3.3.2.3" xref="S3.Ex1.m1.5.5.2.2.3.3.2.3.cmml">k</mi><msub id="S3.Ex1.m1.5.5.2.2.3.3.3" xref="S3.Ex1.m1.5.5.2.2.3.3.3.cmml"><mi id="S3.Ex1.m1.5.5.2.2.3.3.3.2" xref="S3.Ex1.m1.5.5.2.2.3.3.3.2.cmml">n</mi><mi id="S3.Ex1.m1.5.5.2.2.3.3.3.3" xref="S3.Ex1.m1.5.5.2.2.3.3.3.3.cmml">k</mi></msub></msubsup><mo stretchy="false" id="S3.Ex1.m1.5.5.2.2.3.8" xref="S3.Ex1.m1.5.5.2.2.4.cmml">)</mo></mrow><mo id="S3.Ex1.m1.5.5.2.6" xref="S3.Ex1.m1.5.5.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.5b"><list id="S3.Ex1.m1.5.5.3.cmml" xref="S3.Ex1.m1.5.5.2"><vector id="S3.Ex1.m1.4.4.1.1.4.cmml" xref="S3.Ex1.m1.4.4.1.1.3"><apply id="S3.Ex1.m1.4.4.1.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1">superscript</csymbol><apply id="S3.Ex1.m1.4.4.1.1.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.2.2">𝑝</ci><cn type="integer" id="S3.Ex1.m1.4.4.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.2.3">1</cn></apply><apply id="S3.Ex1.m1.4.4.1.1.1.1.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.1.1.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.3.2">𝑛</ci><cn type="integer" id="S3.Ex1.m1.4.4.1.1.1.1.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.Ex1.m1.4.4.1.1.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.2.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2">superscript</csymbol><apply id="S3.Ex1.m1.4.4.1.1.2.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.2.2.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.2.2.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2.2.2">𝑞</ci><cn type="integer" id="S3.Ex1.m1.4.4.1.1.2.2.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2.2.3">1</cn></apply><cn type="integer" id="S3.Ex1.m1.4.4.1.1.2.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2.3">1</cn></apply><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">⋯</ci><apply id="S3.Ex1.m1.4.4.1.1.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3">superscript</csymbol><apply id="S3.Ex1.m1.4.4.1.1.3.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.3.3.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.2.2">𝑞</ci><cn type="integer" id="S3.Ex1.m1.4.4.1.1.3.3.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.2.3">1</cn></apply><apply id="S3.Ex1.m1.4.4.1.1.3.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.3.3.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2">𝑛</ci><cn type="integer" id="S3.Ex1.m1.4.4.1.1.3.3.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3.3">1</cn></apply></apply></vector><ci id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">⋯</ci><vector id="S3.Ex1.m1.5.5.2.2.4.cmml" xref="S3.Ex1.m1.5.5.2.2.3"><apply id="S3.Ex1.m1.5.5.2.2.1.1.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.1.1.1.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1">superscript</csymbol><apply id="S3.Ex1.m1.5.5.2.2.1.1.2.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.1.1.2.1.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1">subscript</csymbol><ci id="S3.Ex1.m1.5.5.2.2.1.1.2.2.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.2.2">𝑝</ci><ci id="S3.Ex1.m1.5.5.2.2.1.1.2.3.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.2.3">𝑘</ci></apply><apply id="S3.Ex1.m1.5.5.2.2.1.1.3.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.1.1.3.1.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.5.5.2.2.1.1.3.2.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.3.2">𝑛</ci><ci id="S3.Ex1.m1.5.5.2.2.1.1.3.3.cmml" xref="S3.Ex1.m1.5.5.2.2.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.Ex1.m1.5.5.2.2.2.2.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.2.2.1.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2">superscript</csymbol><apply id="S3.Ex1.m1.5.5.2.2.2.2.2.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.2.2.2.1.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.5.5.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2.2.2">𝑞</ci><ci id="S3.Ex1.m1.5.5.2.2.2.2.2.3.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2.2.3">𝑘</ci></apply><cn type="integer" id="S3.Ex1.m1.5.5.2.2.2.2.3.cmml" xref="S3.Ex1.m1.5.5.2.2.2.2.3">1</cn></apply><ci id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">⋯</ci><apply id="S3.Ex1.m1.5.5.2.2.3.3.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.3.3.1.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3">superscript</csymbol><apply id="S3.Ex1.m1.5.5.2.2.3.3.2.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.3.3.2.1.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3">subscript</csymbol><ci id="S3.Ex1.m1.5.5.2.2.3.3.2.2.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.2.2">𝑞</ci><ci id="S3.Ex1.m1.5.5.2.2.3.3.2.3.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.2.3">𝑘</ci></apply><apply id="S3.Ex1.m1.5.5.2.2.3.3.3.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.2.2.3.3.3.1.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.3">subscript</csymbol><ci id="S3.Ex1.m1.5.5.2.2.3.3.3.2.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.3.2">𝑛</ci><ci id="S3.Ex1.m1.5.5.2.2.3.3.3.3.cmml" xref="S3.Ex1.m1.5.5.2.2.3.3.3.3">𝑘</ci></apply></apply></vector></list></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.5c">\left[(p_{1}^{n_{1}},q_{1}^{1},\cdots,q_{1}^{n_{1}}),\cdots,(p_{k}^{n_{k}},q_{k}^{1},\cdots,q_{k}^{n_{k}})\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.10" class="ltx_p">Note that we always choose the relevant passage that corresponds to the last query in the examplar, indicating that the last query <math id="S3.SS1.p1.8.m1.1" class="ltx_Math" alttext="q_{i}^{n_{i}}" display="inline"><semantics id="S3.SS1.p1.8.m1.1a"><msubsup id="S3.SS1.p1.8.m1.1.1" xref="S3.SS1.p1.8.m1.1.1.cmml"><mi id="S3.SS1.p1.8.m1.1.1.2.2" xref="S3.SS1.p1.8.m1.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p1.8.m1.1.1.2.3" xref="S3.SS1.p1.8.m1.1.1.2.3.cmml">i</mi><msub id="S3.SS1.p1.8.m1.1.1.3" xref="S3.SS1.p1.8.m1.1.1.3.cmml"><mi id="S3.SS1.p1.8.m1.1.1.3.2" xref="S3.SS1.p1.8.m1.1.1.3.2.cmml">n</mi><mi id="S3.SS1.p1.8.m1.1.1.3.3" xref="S3.SS1.p1.8.m1.1.1.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m1.1b"><apply id="S3.SS1.p1.8.m1.1.1.cmml" xref="S3.SS1.p1.8.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.1.1.cmml" xref="S3.SS1.p1.8.m1.1.1">superscript</csymbol><apply id="S3.SS1.p1.8.m1.1.1.2.cmml" xref="S3.SS1.p1.8.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.1.2.1.cmml" xref="S3.SS1.p1.8.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m1.1.1.2.2.cmml" xref="S3.SS1.p1.8.m1.1.1.2.2">𝑞</ci><ci id="S3.SS1.p1.8.m1.1.1.2.3.cmml" xref="S3.SS1.p1.8.m1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.8.m1.1.1.3.cmml" xref="S3.SS1.p1.8.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.1.3.1.cmml" xref="S3.SS1.p1.8.m1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.8.m1.1.1.3.2.cmml" xref="S3.SS1.p1.8.m1.1.1.3.2">𝑛</ci><ci id="S3.SS1.p1.8.m1.1.1.3.3.cmml" xref="S3.SS1.p1.8.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m1.1c">q_{i}^{n_{i}}</annotation></semantics></math> is generated given <math id="S3.SS1.p1.9.m2.1" class="ltx_Math" alttext="p_{i}^{n_{i}}" display="inline"><semantics id="S3.SS1.p1.9.m2.1a"><msubsup id="S3.SS1.p1.9.m2.1.1" xref="S3.SS1.p1.9.m2.1.1.cmml"><mi id="S3.SS1.p1.9.m2.1.1.2.2" xref="S3.SS1.p1.9.m2.1.1.2.2.cmml">p</mi><mi id="S3.SS1.p1.9.m2.1.1.2.3" xref="S3.SS1.p1.9.m2.1.1.2.3.cmml">i</mi><msub id="S3.SS1.p1.9.m2.1.1.3" xref="S3.SS1.p1.9.m2.1.1.3.cmml"><mi id="S3.SS1.p1.9.m2.1.1.3.2" xref="S3.SS1.p1.9.m2.1.1.3.2.cmml">n</mi><mi id="S3.SS1.p1.9.m2.1.1.3.3" xref="S3.SS1.p1.9.m2.1.1.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m2.1b"><apply id="S3.SS1.p1.9.m2.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1">superscript</csymbol><apply id="S3.SS1.p1.9.m2.1.1.2.cmml" xref="S3.SS1.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.1.2.1.cmml" xref="S3.SS1.p1.9.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m2.1.1.2.2.cmml" xref="S3.SS1.p1.9.m2.1.1.2.2">𝑝</ci><ci id="S3.SS1.p1.9.m2.1.1.2.3.cmml" xref="S3.SS1.p1.9.m2.1.1.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.9.m2.1.1.3.cmml" xref="S3.SS1.p1.9.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.1.3.1.cmml" xref="S3.SS1.p1.9.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.9.m2.1.1.3.2.cmml" xref="S3.SS1.p1.9.m2.1.1.3.2">𝑛</ci><ci id="S3.SS1.p1.9.m2.1.1.3.3.cmml" xref="S3.SS1.p1.9.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m2.1c">p_{i}^{n_{i}}</annotation></semantics></math> and previous queries <math id="S3.SS1.p1.10.m3.3" class="ltx_Math" alttext="q_{i}^{1},\cdots,q_{i}^{n_{i}-1}" display="inline"><semantics id="S3.SS1.p1.10.m3.3a"><mrow id="S3.SS1.p1.10.m3.3.3.2" xref="S3.SS1.p1.10.m3.3.3.3.cmml"><msubsup id="S3.SS1.p1.10.m3.2.2.1.1" xref="S3.SS1.p1.10.m3.2.2.1.1.cmml"><mi id="S3.SS1.p1.10.m3.2.2.1.1.2.2" xref="S3.SS1.p1.10.m3.2.2.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p1.10.m3.2.2.1.1.2.3" xref="S3.SS1.p1.10.m3.2.2.1.1.2.3.cmml">i</mi><mn id="S3.SS1.p1.10.m3.2.2.1.1.3" xref="S3.SS1.p1.10.m3.2.2.1.1.3.cmml">1</mn></msubsup><mo id="S3.SS1.p1.10.m3.3.3.2.3" xref="S3.SS1.p1.10.m3.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.10.m3.1.1" xref="S3.SS1.p1.10.m3.1.1.cmml">⋯</mi><mo id="S3.SS1.p1.10.m3.3.3.2.4" xref="S3.SS1.p1.10.m3.3.3.3.cmml">,</mo><msubsup id="S3.SS1.p1.10.m3.3.3.2.2" xref="S3.SS1.p1.10.m3.3.3.2.2.cmml"><mi id="S3.SS1.p1.10.m3.3.3.2.2.2.2" xref="S3.SS1.p1.10.m3.3.3.2.2.2.2.cmml">q</mi><mi id="S3.SS1.p1.10.m3.3.3.2.2.2.3" xref="S3.SS1.p1.10.m3.3.3.2.2.2.3.cmml">i</mi><mrow id="S3.SS1.p1.10.m3.3.3.2.2.3" xref="S3.SS1.p1.10.m3.3.3.2.2.3.cmml"><msub id="S3.SS1.p1.10.m3.3.3.2.2.3.2" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2.cmml"><mi id="S3.SS1.p1.10.m3.3.3.2.2.3.2.2" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2.2.cmml">n</mi><mi id="S3.SS1.p1.10.m3.3.3.2.2.3.2.3" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.10.m3.3.3.2.2.3.1" xref="S3.SS1.p1.10.m3.3.3.2.2.3.1.cmml">−</mo><mn id="S3.SS1.p1.10.m3.3.3.2.2.3.3" xref="S3.SS1.p1.10.m3.3.3.2.2.3.3.cmml">1</mn></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m3.3b"><list id="S3.SS1.p1.10.m3.3.3.3.cmml" xref="S3.SS1.p1.10.m3.3.3.2"><apply id="S3.SS1.p1.10.m3.2.2.1.1.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1">superscript</csymbol><apply id="S3.SS1.p1.10.m3.2.2.1.1.2.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.2.2.1.1.2.1.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.10.m3.2.2.1.1.2.2.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1.2.2">𝑞</ci><ci id="S3.SS1.p1.10.m3.2.2.1.1.2.3.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1.2.3">𝑖</ci></apply><cn type="integer" id="S3.SS1.p1.10.m3.2.2.1.1.3.cmml" xref="S3.SS1.p1.10.m3.2.2.1.1.3">1</cn></apply><ci id="S3.SS1.p1.10.m3.1.1.cmml" xref="S3.SS1.p1.10.m3.1.1">⋯</ci><apply id="S3.SS1.p1.10.m3.3.3.2.2.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.3.3.2.2.1.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2">superscript</csymbol><apply id="S3.SS1.p1.10.m3.3.3.2.2.2.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.10.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.2.2">𝑞</ci><ci id="S3.SS1.p1.10.m3.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.10.m3.3.3.2.2.3.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3"><minus id="S3.SS1.p1.10.m3.3.3.2.2.3.1.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.1"></minus><apply id="S3.SS1.p1.10.m3.3.3.2.2.3.2.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.3.3.2.2.3.2.1.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2">subscript</csymbol><ci id="S3.SS1.p1.10.m3.3.3.2.2.3.2.2.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2.2">𝑛</ci><ci id="S3.SS1.p1.10.m3.3.3.2.2.3.2.3.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.2.3">𝑖</ci></apply><cn type="integer" id="S3.SS1.p1.10.m3.3.3.2.2.3.3.cmml" xref="S3.SS1.p1.10.m3.3.3.2.2.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m3.3c">q_{i}^{1},\cdots,q_{i}^{n_{i}-1}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.7" class="ltx_p">The generation process for a synthetic conversation starts with randomly sampling a passage <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\hat{p}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mover accent="true" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">p</mi><mo id="S3.SS1.p2.1.m1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><ci id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1">^</ci><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\hat{p}</annotation></semantics></math> from the retrieval corpus, i.e., <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\hat{p}\sim\mathcal{P}_{T}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mover accent="true" id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2.2" xref="S3.SS1.p2.2.m2.1.1.2.2.cmml">p</mi><mo id="S3.SS1.p2.2.m2.1.1.2.1" xref="S3.SS1.p2.2.m2.1.1.2.1.cmml">^</mo></mover><mo id="S3.SS1.p2.2.m2.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.cmml">∼</mo><msub id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml">𝒫</mi><mi id="S3.SS1.p2.2.m2.1.1.3.3" xref="S3.SS1.p2.2.m2.1.1.3.3.cmml">T</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1">similar-to</csymbol><apply id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2"><ci id="S3.SS1.p2.2.m2.1.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.1.2.1">^</ci><ci id="S3.SS1.p2.2.m2.1.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2.2">𝑝</ci></apply><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">𝒫</ci><ci id="S3.SS1.p2.2.m2.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3.3">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\hat{p}\sim\mathcal{P}_{T}</annotation></semantics></math>.
We concatenate the template and the sampled passage to form an input text sequence <math id="S3.SS1.p2.3.m3.2" class="ltx_Math" alttext="\left[\mathcal{T},\hat{p}\right]" display="inline"><semantics id="S3.SS1.p2.3.m3.2a"><mrow id="S3.SS1.p2.3.m3.2.3.2" xref="S3.SS1.p2.3.m3.2.3.1.cmml"><mo id="S3.SS1.p2.3.m3.2.3.2.1" xref="S3.SS1.p2.3.m3.2.3.1.cmml">[</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">𝒯</mi><mo id="S3.SS1.p2.3.m3.2.3.2.2" xref="S3.SS1.p2.3.m3.2.3.1.cmml">,</mo><mover accent="true" id="S3.SS1.p2.3.m3.2.2" xref="S3.SS1.p2.3.m3.2.2.cmml"><mi id="S3.SS1.p2.3.m3.2.2.2" xref="S3.SS1.p2.3.m3.2.2.2.cmml">p</mi><mo id="S3.SS1.p2.3.m3.2.2.1" xref="S3.SS1.p2.3.m3.2.2.1.cmml">^</mo></mover><mo id="S3.SS1.p2.3.m3.2.3.2.3" xref="S3.SS1.p2.3.m3.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.2b"><interval closure="closed" id="S3.SS1.p2.3.m3.2.3.1.cmml" xref="S3.SS1.p2.3.m3.2.3.2"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝒯</ci><apply id="S3.SS1.p2.3.m3.2.2.cmml" xref="S3.SS1.p2.3.m3.2.2"><ci id="S3.SS1.p2.3.m3.2.2.1.cmml" xref="S3.SS1.p2.3.m3.2.2.1">^</ci><ci id="S3.SS1.p2.3.m3.2.2.2.cmml" xref="S3.SS1.p2.3.m3.2.2.2">𝑝</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.2c">\left[\mathcal{T},\hat{p}\right]</annotation></semantics></math>.
An LLM is employed for generating synthetic queries.
It is expected to generate the first query <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\hat{q}_{1}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mover accent="true" id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2.2" xref="S3.SS1.p2.4.m4.1.1.2.2.cmml">q</mi><mo id="S3.SS1.p2.4.m4.1.1.2.1" xref="S3.SS1.p2.4.m4.1.1.2.1.cmml">^</mo></mover><mn id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><apply id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2"><ci id="S3.SS1.p2.4.m4.1.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.1.2.1">^</ci><ci id="S3.SS1.p2.4.m4.1.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2.2">𝑞</ci></apply><cn type="integer" id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\hat{q}_{1}</annotation></semantics></math> that is relevant to <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="\hat{p}" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mover accent="true" id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">p</mi><mo id="S3.SS1.p2.5.m5.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><ci id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1">^</ci><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">\hat{p}</annotation></semantics></math> based on the provided examples.
We then append <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="\hat{q}_{1}" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><msub id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2.2" xref="S3.SS1.p2.6.m6.1.1.2.2.cmml">q</mi><mo id="S3.SS1.p2.6.m6.1.1.2.1" xref="S3.SS1.p2.6.m6.1.1.2.1.cmml">^</mo></mover><mn id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">subscript</csymbol><apply id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2"><ci id="S3.SS1.p2.6.m6.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.1.1.2.1">^</ci><ci id="S3.SS1.p2.6.m6.1.1.2.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2.2">𝑞</ci></apply><cn type="integer" id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">\hat{q}_{1}</annotation></semantics></math> to the input sequence, forming the input sequence for generating the next query <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="\hat{q}_{2}" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mover accent="true" id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2.2" xref="S3.SS1.p2.7.m7.1.1.2.2.cmml">q</mi><mo id="S3.SS1.p2.7.m7.1.1.2.1" xref="S3.SS1.p2.7.m7.1.1.2.1.cmml">^</mo></mover><mn id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><apply id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2"><ci id="S3.SS1.p2.7.m7.1.1.2.1.cmml" xref="S3.SS1.p2.7.m7.1.1.2.1">^</ci><ci id="S3.SS1.p2.7.m7.1.1.2.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2.2">𝑞</ci></apply><cn type="integer" id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">\hat{q}_{2}</annotation></semantics></math>, and so forth.
We sequentially perform the generations for a conversation until a predefined number of turns is reached.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Two-Stage Generation</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.3" class="ltx_p">One unique characteristic of conversational queries is that the queries are <span id="S3.SS2.p1.3.1" class="ltx_text ltx_font_italic">context-dependent</span> <cite class="ltx_cite ltx_citemacro_cite">Choi et al. (<a href="#bib.bib7" title="" class="ltx_ref">2018</a>)</cite> except for the first query, which should be a self-contained query without any ambiguity.
To address this difference, we propose to split the generations into two-stage: first query generation and follow-up query generation.
When generating the first query for each conversation, we use an alternative template <math id="S3.SS2.p1.1.m1.5" class="ltx_Math" alttext="\mathcal{T}_{1}=\left[p_{1}^{1},q_{1}^{1},\cdots,p_{k}^{1},q_{k}^{1}\right]" display="inline"><semantics id="S3.SS2.p1.1.m1.5a"><mrow id="S3.SS2.p1.1.m1.5.5" xref="S3.SS2.p1.1.m1.5.5.cmml"><msub id="S3.SS2.p1.1.m1.5.5.6" xref="S3.SS2.p1.1.m1.5.5.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.1.m1.5.5.6.2" xref="S3.SS2.p1.1.m1.5.5.6.2.cmml">𝒯</mi><mn id="S3.SS2.p1.1.m1.5.5.6.3" xref="S3.SS2.p1.1.m1.5.5.6.3.cmml">1</mn></msub><mo id="S3.SS2.p1.1.m1.5.5.5" xref="S3.SS2.p1.1.m1.5.5.5.cmml">=</mo><mrow id="S3.SS2.p1.1.m1.5.5.4.4" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml"><mo id="S3.SS2.p1.1.m1.5.5.4.4.5" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">[</mo><msubsup id="S3.SS2.p1.1.m1.2.2.1.1.1" xref="S3.SS2.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.2.2.1.1.1.2.2" xref="S3.SS2.p1.1.m1.2.2.1.1.1.2.2.cmml">p</mi><mn id="S3.SS2.p1.1.m1.2.2.1.1.1.2.3" xref="S3.SS2.p1.1.m1.2.2.1.1.1.2.3.cmml">1</mn><mn id="S3.SS2.p1.1.m1.2.2.1.1.1.3" xref="S3.SS2.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msubsup><mo id="S3.SS2.p1.1.m1.5.5.4.4.6" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">,</mo><msubsup id="S3.SS2.p1.1.m1.3.3.2.2.2" xref="S3.SS2.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS2.p1.1.m1.3.3.2.2.2.2.2" xref="S3.SS2.p1.1.m1.3.3.2.2.2.2.2.cmml">q</mi><mn id="S3.SS2.p1.1.m1.3.3.2.2.2.2.3" xref="S3.SS2.p1.1.m1.3.3.2.2.2.2.3.cmml">1</mn><mn id="S3.SS2.p1.1.m1.3.3.2.2.2.3" xref="S3.SS2.p1.1.m1.3.3.2.2.2.3.cmml">1</mn></msubsup><mo id="S3.SS2.p1.1.m1.5.5.4.4.7" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">⋯</mi><mo id="S3.SS2.p1.1.m1.5.5.4.4.8" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">,</mo><msubsup id="S3.SS2.p1.1.m1.4.4.3.3.3" xref="S3.SS2.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS2.p1.1.m1.4.4.3.3.3.2.2" xref="S3.SS2.p1.1.m1.4.4.3.3.3.2.2.cmml">p</mi><mi id="S3.SS2.p1.1.m1.4.4.3.3.3.2.3" xref="S3.SS2.p1.1.m1.4.4.3.3.3.2.3.cmml">k</mi><mn id="S3.SS2.p1.1.m1.4.4.3.3.3.3" xref="S3.SS2.p1.1.m1.4.4.3.3.3.3.cmml">1</mn></msubsup><mo id="S3.SS2.p1.1.m1.5.5.4.4.9" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">,</mo><msubsup id="S3.SS2.p1.1.m1.5.5.4.4.4" xref="S3.SS2.p1.1.m1.5.5.4.4.4.cmml"><mi id="S3.SS2.p1.1.m1.5.5.4.4.4.2.2" xref="S3.SS2.p1.1.m1.5.5.4.4.4.2.2.cmml">q</mi><mi id="S3.SS2.p1.1.m1.5.5.4.4.4.2.3" xref="S3.SS2.p1.1.m1.5.5.4.4.4.2.3.cmml">k</mi><mn id="S3.SS2.p1.1.m1.5.5.4.4.4.3" xref="S3.SS2.p1.1.m1.5.5.4.4.4.3.cmml">1</mn></msubsup><mo id="S3.SS2.p1.1.m1.5.5.4.4.10" xref="S3.SS2.p1.1.m1.5.5.4.5.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.5b"><apply id="S3.SS2.p1.1.m1.5.5.cmml" xref="S3.SS2.p1.1.m1.5.5"><eq id="S3.SS2.p1.1.m1.5.5.5.cmml" xref="S3.SS2.p1.1.m1.5.5.5"></eq><apply id="S3.SS2.p1.1.m1.5.5.6.cmml" xref="S3.SS2.p1.1.m1.5.5.6"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.5.5.6.1.cmml" xref="S3.SS2.p1.1.m1.5.5.6">subscript</csymbol><ci id="S3.SS2.p1.1.m1.5.5.6.2.cmml" xref="S3.SS2.p1.1.m1.5.5.6.2">𝒯</ci><cn type="integer" id="S3.SS2.p1.1.m1.5.5.6.3.cmml" xref="S3.SS2.p1.1.m1.5.5.6.3">1</cn></apply><list id="S3.SS2.p1.1.m1.5.5.4.5.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4"><apply id="S3.SS2.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1">superscript</csymbol><apply id="S3.SS2.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.2.2">𝑝</ci><cn type="integer" id="S3.SS2.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.2.3">1</cn></apply><cn type="integer" id="S3.SS2.p1.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS2.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2">superscript</csymbol><apply id="S3.SS2.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.3.3.2.2.2.2.1.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.1.m1.3.3.2.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2.2.2">𝑞</ci><cn type="integer" id="S3.SS2.p1.1.m1.3.3.2.2.2.2.3.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2.2.3">1</cn></apply><cn type="integer" id="S3.SS2.p1.1.m1.3.3.2.2.2.3.cmml" xref="S3.SS2.p1.1.m1.3.3.2.2.2.3">1</cn></apply><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">⋯</ci><apply id="S3.SS2.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3">superscript</csymbol><apply id="S3.SS2.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.4.4.3.3.3.2.1.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS2.p1.1.m1.4.4.3.3.3.2.2.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3.2.2">𝑝</ci><ci id="S3.SS2.p1.1.m1.4.4.3.3.3.2.3.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3.2.3">𝑘</ci></apply><cn type="integer" id="S3.SS2.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS2.p1.1.m1.4.4.3.3.3.3">1</cn></apply><apply id="S3.SS2.p1.1.m1.5.5.4.4.4.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.5.5.4.4.4.1.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4">superscript</csymbol><apply id="S3.SS2.p1.1.m1.5.5.4.4.4.2.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.5.5.4.4.4.2.1.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4">subscript</csymbol><ci id="S3.SS2.p1.1.m1.5.5.4.4.4.2.2.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4.2.2">𝑞</ci><ci id="S3.SS2.p1.1.m1.5.5.4.4.4.2.3.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4.2.3">𝑘</ci></apply><cn type="integer" id="S3.SS2.p1.1.m1.5.5.4.4.4.3.cmml" xref="S3.SS2.p1.1.m1.5.5.4.4.4.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.5c">\mathcal{T}_{1}=\left[p_{1}^{1},q_{1}^{1},\cdots,p_{k}^{1},q_{k}^{1}\right]</annotation></semantics></math>, which contains only the first queries and their relevant passages of the examples.
We then replace <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{T}_{1}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">𝒯</mi><mn id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝒯</ci><cn type="integer" id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\mathcal{T}_{1}</annotation></semantics></math> with <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\mathcal{T}</annotation></semantics></math> for generating all the follow-up queries.
In practice, we found that this two-stage approach reduces the number of generated first queries that are not self-contained and thus ambiguous.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Passage Switching</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.3" class="ltx_p">In a conversation, relevant passages may vary for different queries.
To this end, we incorporate passage switching into the generation process.
We randomly replace the current passage <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="\hat{p}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mover accent="true" id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">p</mi><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><ci id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1">^</ci><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\hat{p}</annotation></semantics></math> with a related passage <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="\hat{p}^{\prime}" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><msup id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mover accent="true" id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2.2" xref="S3.SS3.p1.2.m2.1.1.2.2.cmml">p</mi><mo id="S3.SS3.p1.2.m2.1.1.2.1" xref="S3.SS3.p1.2.m2.1.1.2.1.cmml">^</mo></mover><mo id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">superscript</csymbol><apply id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2"><ci id="S3.SS3.p1.2.m2.1.1.2.1.cmml" xref="S3.SS3.p1.2.m2.1.1.2.1">^</ci><ci id="S3.SS3.p1.2.m2.1.1.2.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2.2">𝑝</ci></apply><ci id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\hat{p}^{\prime}</annotation></semantics></math> in each turn with a probability <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="p_{ps}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">p</mi><mrow id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml"><mi id="S3.SS3.p1.3.m3.1.1.3.2" xref="S3.SS3.p1.3.m3.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.3.m3.1.1.3.1" xref="S3.SS3.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p1.3.m3.1.1.3.3" xref="S3.SS3.p1.3.m3.1.1.3.3.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝑝</ci><apply id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3"><times id="S3.SS3.p1.3.m3.1.1.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.1"></times><ci id="S3.SS3.p1.3.m3.1.1.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2">𝑝</ci><ci id="S3.SS3.p1.3.m3.1.1.3.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">p_{ps}</annotation></semantics></math>.
The LLM is expected to generate queries based on the new passage.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Consistency Filtering</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.5" class="ltx_p">The generation process sometimes generates queries that are nonsensical, degenerated, ambiguous, or not grounded by the given passage.
We adopt a filtering mechanism via ensuring <span id="S3.SS4.p1.5.1" class="ltx_text ltx_font_italic">round-trip consistency</span> <cite class="ltx_cite ltx_citemacro_cite">Alberti et al. (<a href="#bib.bib2" title="" class="ltx_ref">2019</a>)</cite>.
We follow the procedure in <cite class="ltx_cite ltx_citemacro_citet">Dai et al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite>, where an initial retriever is trained on all synthetic query-passage pairs.
For each synthetic pair <math id="S3.SS4.p1.1.m1.2" class="ltx_Math" alttext="(\hat{q},\hat{p})" display="inline"><semantics id="S3.SS4.p1.1.m1.2a"><mrow id="S3.SS4.p1.1.m1.2.3.2" xref="S3.SS4.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S3.SS4.p1.1.m1.2.3.2.1" xref="S3.SS4.p1.1.m1.2.3.1.cmml">(</mo><mover accent="true" id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml"><mi id="S3.SS4.p1.1.m1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.2.cmml">q</mi><mo id="S3.SS4.p1.1.m1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.cmml">^</mo></mover><mo id="S3.SS4.p1.1.m1.2.3.2.2" xref="S3.SS4.p1.1.m1.2.3.1.cmml">,</mo><mover accent="true" id="S3.SS4.p1.1.m1.2.2" xref="S3.SS4.p1.1.m1.2.2.cmml"><mi id="S3.SS4.p1.1.m1.2.2.2" xref="S3.SS4.p1.1.m1.2.2.2.cmml">p</mi><mo id="S3.SS4.p1.1.m1.2.2.1" xref="S3.SS4.p1.1.m1.2.2.1.cmml">^</mo></mover><mo stretchy="false" id="S3.SS4.p1.1.m1.2.3.2.3" xref="S3.SS4.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.2b"><interval closure="open" id="S3.SS4.p1.1.m1.2.3.1.cmml" xref="S3.SS4.p1.1.m1.2.3.2"><apply id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1"><ci id="S3.SS4.p1.1.m1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1">^</ci><ci id="S3.SS4.p1.1.m1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.1.1.2">𝑞</ci></apply><apply id="S3.SS4.p1.1.m1.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2"><ci id="S3.SS4.p1.1.m1.2.2.1.cmml" xref="S3.SS4.p1.1.m1.2.2.1">^</ci><ci id="S3.SS4.p1.1.m1.2.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2.2">𝑝</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.2c">(\hat{q},\hat{p})</annotation></semantics></math>, we use the initial retriever to retrieve the most relevant passages for <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="\hat{q}" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><mover accent="true" id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml"><mi id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2.cmml">q</mi><mo id="S3.SS4.p1.2.m2.1.1.1" xref="S3.SS4.p1.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1"><ci id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1.1">^</ci><ci id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">\hat{q}</annotation></semantics></math> from <math id="S3.SS4.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{P}_{T}" display="inline"><semantics id="S3.SS4.p1.3.m3.1a"><msub id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.3.m3.1.1.2" xref="S3.SS4.p1.3.m3.1.1.2.cmml">𝒫</mi><mi id="S3.SS4.p1.3.m3.1.1.3" xref="S3.SS4.p1.3.m3.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><apply id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2">𝒫</ci><ci id="S3.SS4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">\mathcal{P}_{T}</annotation></semantics></math>.
We keep the pair <math id="S3.SS4.p1.4.m4.2" class="ltx_Math" alttext="(\hat{q},\hat{p})" display="inline"><semantics id="S3.SS4.p1.4.m4.2a"><mrow id="S3.SS4.p1.4.m4.2.3.2" xref="S3.SS4.p1.4.m4.2.3.1.cmml"><mo stretchy="false" id="S3.SS4.p1.4.m4.2.3.2.1" xref="S3.SS4.p1.4.m4.2.3.1.cmml">(</mo><mover accent="true" id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml"><mi id="S3.SS4.p1.4.m4.1.1.2" xref="S3.SS4.p1.4.m4.1.1.2.cmml">q</mi><mo id="S3.SS4.p1.4.m4.1.1.1" xref="S3.SS4.p1.4.m4.1.1.1.cmml">^</mo></mover><mo id="S3.SS4.p1.4.m4.2.3.2.2" xref="S3.SS4.p1.4.m4.2.3.1.cmml">,</mo><mover accent="true" id="S3.SS4.p1.4.m4.2.2" xref="S3.SS4.p1.4.m4.2.2.cmml"><mi id="S3.SS4.p1.4.m4.2.2.2" xref="S3.SS4.p1.4.m4.2.2.2.cmml">p</mi><mo id="S3.SS4.p1.4.m4.2.2.1" xref="S3.SS4.p1.4.m4.2.2.1.cmml">^</mo></mover><mo stretchy="false" id="S3.SS4.p1.4.m4.2.3.2.3" xref="S3.SS4.p1.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.2b"><interval closure="open" id="S3.SS4.p1.4.m4.2.3.1.cmml" xref="S3.SS4.p1.4.m4.2.3.2"><apply id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1"><ci id="S3.SS4.p1.4.m4.1.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1.1">^</ci><ci id="S3.SS4.p1.4.m4.1.1.2.cmml" xref="S3.SS4.p1.4.m4.1.1.2">𝑞</ci></apply><apply id="S3.SS4.p1.4.m4.2.2.cmml" xref="S3.SS4.p1.4.m4.2.2"><ci id="S3.SS4.p1.4.m4.2.2.1.cmml" xref="S3.SS4.p1.4.m4.2.2.1">^</ci><ci id="S3.SS4.p1.4.m4.2.2.2.cmml" xref="S3.SS4.p1.4.m4.2.2.2">𝑝</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.2c">(\hat{q},\hat{p})</annotation></semantics></math> only if <math id="S3.SS4.p1.5.m5.1" class="ltx_Math" alttext="\hat{p}" display="inline"><semantics id="S3.SS4.p1.5.m5.1a"><mover accent="true" id="S3.SS4.p1.5.m5.1.1" xref="S3.SS4.p1.5.m5.1.1.cmml"><mi id="S3.SS4.p1.5.m5.1.1.2" xref="S3.SS4.p1.5.m5.1.1.2.cmml">p</mi><mo id="S3.SS4.p1.5.m5.1.1.1" xref="S3.SS4.p1.5.m5.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.1b"><apply id="S3.SS4.p1.5.m5.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1"><ci id="S3.SS4.p1.5.m5.1.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1.1">^</ci><ci id="S3.SS4.p1.5.m5.1.1.2.cmml" xref="S3.SS4.p1.5.m5.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.1c">\hat{p}</annotation></semantics></math> is in the top-k retrieved passages.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.1.1.1" class="ltx_tr">
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T1.1.1.1.1.1" class="ltx_text ltx_font_bold">Method</span></th>
<th id="S3.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3"><span id="S3.T1.1.1.1.2.1" class="ltx_text ltx_font_bold">OR-QuAC</span></th>
<th id="S3.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S3.T1.1.1.1.3.1" class="ltx_text ltx_font_bold">CAsT-19</span></th>
</tr>
<tr id="S3.T1.1.2.2" class="ltx_tr">
<th id="S3.T1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.1.2.2.1.1" class="ltx_text ltx_font_bold">MRR@5</span></th>
<th id="S3.T1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.1.2.2.2.1" class="ltx_text ltx_font_bold">R@5</span></th>
<th id="S3.T1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.1.2.2.3.1" class="ltx_text ltx_font_bold">MAP@10</span></th>
<th id="S3.T1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.1.2.2.4.1" class="ltx_text ltx_font_bold">MRR</span></th>
<th id="S3.T1.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.1.2.2.5.1" class="ltx_text ltx_font_bold">NDCG@3</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.1.3.1" class="ltx_tr">
<th id="S3.T1.1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Supervised OR-ConvQA <cite class="ltx_cite ltx_citemacro_citep">(Qu et al., <a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>
</th>
<td id="S3.T1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t">22.5</td>
<td id="S3.T1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t">31.4</td>
<td id="S3.T1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S3.T1.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T1.1.3.1.6" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S3.T1.1.4.2" class="ltx_tr">
<th id="S3.T1.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Supervised DPR</th>
<td id="S3.T1.1.4.2.2" class="ltx_td ltx_align_center">50.5</td>
<td id="S3.T1.1.4.2.3" class="ltx_td ltx_align_center">64.7</td>
<td id="S3.T1.1.4.2.4" class="ltx_td ltx_align_center ltx_border_r">49.7</td>
<td id="S3.T1.1.4.2.5" class="ltx_td ltx_align_center">29.4</td>
<td id="S3.T1.1.4.2.6" class="ltx_td ltx_align_center">19.1</td>
</tr>
<tr id="S3.T1.1.5.3" class="ltx_tr">
<th id="S3.T1.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">Few-Shot <span id="S3.T1.1.5.3.1.1" class="ltx_text ltx_font_smallcaps">Converser</span> (Ours)</th>
<td id="S3.T1.1.5.3.2" class="ltx_td ltx_align_center ltx_border_bb">49.6</td>
<td id="S3.T1.1.5.3.3" class="ltx_td ltx_align_center ltx_border_bb">63.4</td>
<td id="S3.T1.1.5.3.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">48.7</td>
<td id="S3.T1.1.5.3.5" class="ltx_td ltx_align_center ltx_border_bb">35.8</td>
<td id="S3.T1.1.5.3.6" class="ltx_td ltx_align_center ltx_border_bb">21.4</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Evaluation results (%). We report the result of OR-ConvQA from the original paper.</figcaption>
</figure>
<figure id="S3.T2" class="ltx_table">
<table id="S3.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<th id="S3.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T2.1.1.1.1.1" class="ltx_text ltx_font_bold">Method</span></th>
<td id="S3.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" colspan="2"><span id="S3.T2.1.1.1.2.1" class="ltx_text ltx_font_bold">OR-QuAC</span></td>
</tr>
<tr id="S3.T2.1.2.2" class="ltx_tr">
<td id="S3.T2.1.2.2.1" class="ltx_td ltx_align_center"><span id="S3.T2.1.2.2.1.1" class="ltx_text ltx_font_bold">MRR@5</span></td>
<td id="S3.T2.1.2.2.2" class="ltx_td ltx_align_center"><span id="S3.T2.1.2.2.2.1" class="ltx_text ltx_font_bold">R@5</span></td>
</tr>
<tr id="S3.T2.1.3.3" class="ltx_tr">
<th id="S3.T2.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">OR-QuAC</th>
<td id="S3.T2.1.3.3.2" class="ltx_td ltx_align_center ltx_border_t">50.5</td>
<td id="S3.T2.1.3.3.3" class="ltx_td ltx_align_center ltx_border_t">64.7</td>
</tr>
<tr id="S3.T2.1.4.4" class="ltx_tr">
<th id="S3.T2.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">WikiDialog (31k)</th>
<td id="S3.T2.1.4.4.2" class="ltx_td ltx_align_center">44.6</td>
<td id="S3.T2.1.4.4.3" class="ltx_td ltx_align_center">58.2</td>
</tr>
<tr id="S3.T2.1.5.5" class="ltx_tr">
<th id="S3.T2.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S3.T2.1.5.5.1.1" class="ltx_text ltx_font_smallcaps">Converser</span> (31k)</th>
<td id="S3.T2.1.5.5.2" class="ltx_td ltx_align_center ltx_border_t">46.8</td>
<td id="S3.T2.1.5.5.3" class="ltx_td ltx_align_center ltx_border_t">61.5</td>
</tr>
<tr id="S3.T2.1.6.6" class="ltx_tr">
<th id="S3.T2.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">- Two-Stage</th>
<td id="S3.T2.1.6.6.2" class="ltx_td ltx_align_center">45.1</td>
<td id="S3.T2.1.6.6.3" class="ltx_td ltx_align_center">59.9</td>
</tr>
<tr id="S3.T2.1.7.7" class="ltx_tr">
<th id="S3.T2.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">- Consistency Filtering</th>
<td id="S3.T2.1.7.7.2" class="ltx_td ltx_align_center">45.2</td>
<td id="S3.T2.1.7.7.3" class="ltx_td ltx_align_center">59.8</td>
</tr>
<tr id="S3.T2.1.8.8" class="ltx_tr">
<th id="S3.T2.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">- Passage Switching</th>
<td id="S3.T2.1.8.8.2" class="ltx_td ltx_align_center">45.6</td>
<td id="S3.T2.1.8.8.3" class="ltx_td ltx_align_center">58.1</td>
</tr>
<tr id="S3.T2.1.9.9" class="ltx_tr">
<th id="S3.T2.1.9.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">- Only 1-Shot</th>
<td id="S3.T2.1.9.9.2" class="ltx_td ltx_align_center ltx_border_bb">42.1</td>
<td id="S3.T2.1.9.9.3" class="ltx_td ltx_align_center ltx_border_bb">55.2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Results of ablation study. We use the identical training procedure and training data size for each experiment to make them comparable.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">To evaluate if our generated conversational questions can help train a conversational retriever, we conduct experiments on a conversational question answering dataset, OR-QuAC <cite class="ltx_cite ltx_citemacro_cite">Qu et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>, and a conversational search benchmark, TREC CAsT-19 <cite class="ltx_cite ltx_citemacro_cite">Dalton et al. (<a href="#bib.bib10" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We describe our experimental setup in the section.
Additional details can be found in Appendix <a href="#A1" title="Appendix A Implementation Details ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<section id="S4.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Few-Shot Examples</h4>

<div id="S4.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px1.p1.1" class="ltx_p">We manually select 6 examples for OR-QuAC and 5 examples for CAsT-19 and use the same set of examples in all experiments.
Due to resource constraints, we use the remaining 15 conversations for evaluating on CAsT-19 without performing 5-fold cross-validation.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Generation</h4>

<div id="S4.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px2.p1.2" class="ltx_p">We employ LLaMA-13B <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite> as our pretrained LLM, which is not instruction-tuned and is open to the research community.
We use nucleus sampling <cite class="ltx_cite ltx_citemacro_cite">Holtzman et al. (<a href="#bib.bib14" title="" class="ltx_ref">2020</a>)</cite> for decoding and set <math id="S4.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\text{top\_p}=0.95" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mtext id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2a.cmml">top_p</mtext><mo id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml">0.95</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1"><eq id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2a.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2"><mtext id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2">top_p</mtext></ci><cn type="float" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3">0.95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.1.m1.1c">\text{top\_p}=0.95</annotation></semantics></math>, <math id="S4.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\text{temperature}=0.75" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.2.m2.1a"><mrow id="S4.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mtext id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2a.cmml">temperature</mtext><mo id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml">0.75</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1"><eq id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2a.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2"><mtext id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2">temperature</mtext></ci><cn type="float" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3">0.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.2.m2.1c">\text{temperature}=0.75</annotation></semantics></math>.
We generate 427k turns (61k conversations) for OR-QuAC and 230k turns (32k conversations) for
An example of generation results can be found in Section <a href="#S5" title="5 Qualitative Study ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Retrieval Corpus</h4>

<div id="S4.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px3.p1.1" class="ltx_p">We generate synthetic conversations based on the retrieval corpus for each task respectively.
For OR-QuAC, we use the provided 11M passages from English Wikipedia.
For TREC CAsT-19, we use the official passage collection, which consists of 8M webpage passages from MSMARCO <cite class="ltx_cite ltx_citemacro_cite">Bajaj et al. (<a href="#bib.bib3" title="" class="ltx_ref">2016</a>)</cite> and 30M Wikipedia passages from TREC-CAR <cite class="ltx_cite ltx_citemacro_cite">Dietz et al. (<a href="#bib.bib11" title="" class="ltx_ref">2017</a>)</cite>.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Model Details</h4>

<div id="S4.SS1.SSS0.Px4.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px4.p1.1" class="ltx_p">We follow the procedures from DPR <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite> to train our retrievers and use BERT-base as the pretrained model.
We concatenate all previous queries and the current query as the input to the retriever.
Additional details can be found in Appendix <a href="#A1" title="Appendix A Implementation Details ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px5" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Baseline Systems</h4>

<div id="S4.SS1.SSS0.Px5.p1" class="ltx_para">
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">OR-ConvQA</span>: A supervised dense retriever trained on OR-QuAC <cite class="ltx_cite ltx_citemacro_cite">Qu et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">DPR</span>: We train a DPR model <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite> on the training set of OR-QuAC for a fair comparison.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Table <a href="#S3.T1" title="Table 1 ‣ 3.4 Consistency Filtering ‣ 3 Proposed Method: Converser ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the experimental results.
Note that both ConvDR and WikiDialog utilized multiple additional datasets and techniques, which are complementary to our method.
On the OR-QuAC dataset, our proposed <span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_smallcaps">Converser</span> outperforms the supervised baseline OR-ConvQA by a large margin and performs comparably to the supervised DPR trained on OR-QuAC.
This result demonstrates the effectiveness of our few-shot generation strategy, as our model trained on a synthetic dataset based on only 6 annotated examples can rival the performance of supervised DPR, which is trained on 4000 annotated dialogues.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">On CAsT-19, <span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_smallcaps">Converser</span> outperforms supervised DPR, which is trained on OR-QuAC.
This shows that our task-specific generation strategy can effectively synthesize conversational queries on a new task given a few examples of the new task.
Our proposed method provides better adaptability without requiring another supervised dataset as done in conventional transfer learning.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ablation and Comparative Study</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We conduct an ablation study on different settings of our proposed method, where we remove one component at a time to validate its effectiveness.
We also compare our method with two datasets: OR-QuAC and WikiDialog <cite class="ltx_cite ltx_citemacro_cite">Dai et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite>.
To ensure the results are comparable, we limit the size of every dataset to 31k turns, which is the same as the training set of OR-QuAC.
The training process and hyperparameters are also identical for all datasets.
For WikiDialog, we subsample the original WikiDialog dataset and use it to fine-tune a retriever, without further fine-tuning on OR-QuAC.
The results are shown in Table <a href="#S3.T2" title="Table 2 ‣ 3.4 Consistency Filtering ‣ 3 Proposed Method: Converser ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">Given the same number of synthesized turns, our <span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_smallcaps">Converser</span> outperforms WikiDialog, which requires supervised conversational datasets for training a query generator.
This result validates the effectiveness of our proposed few-shot generation method.
The ablation study demonstrates that all of our proposed components contribute to the improvement.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<table id="S4.T3.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.1.1.1" class="ltx_tr">
<th id="S4.T3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" colspan="2"><span id="S4.T3.1.1.1.1.1" class="ltx_text ltx_font_bold">Generated Question Example</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.1.2.1" class="ltx_tr">
<th id="S4.T3.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T3.1.2.1.1.1" class="ltx_text ltx_font_bold">Title</span></th>
<td id="S4.T3.1.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T3.1.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.2.1.2.1.1" class="ltx_p" style="width:369.9pt;">Palazzo Primoli</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.3.2" class="ltx_tr">
<th id="S4.T3.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T3.1.3.2.1.1" class="ltx_text ltx_font_bold">Passage</span></th>
<td id="S4.T3.1.3.2.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.3.2.2.1.1" class="ltx_p" style="width:369.9pt;">Palazzo Primoli Palazzo Primoli is a Palazzo in Rome, Italy. It is owned by the city of Rome and houses several museums and collections. The palazzo was built in the seventeenth century. In 1901 Count Giuseppe Primoli (1851–1927) became its sole owner. He extended and partly modernised the palazzo with a new facade and entrance between 1901 and 1911. The Count’s maternal grandparents were Charles Lucien Bonaparte and Zénaïde Bonaparte, and the Count brought together a collection of objects (now the Museo Napoleonico), documenting the relationship between Rome and the Bonaparte family. He also was an avid photographer. In 1927 Giuseppe Primoli donated the palazzo and his collections to the municipality of Rome. The Museo Napoleonico is located on the palazzo’s ground floor, and the third floor is occupied by the Museo Mario Praz, the former residence of Mario Praz. Also located in the palazzo are the Count’s library and photographic archive.</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.4.3" class="ltx_tr">
<th id="S4.T3.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T3.1.4.3.1.1" class="ltx_text ltx_font_bold">WikiDialog</span></th>
<td id="S4.T3.1.4.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T3.1.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.4.3.2.1.1" class="ltx_p" style="width:369.9pt;">Q1: What is known about Palazzo Primoli?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.5.4" class="ltx_tr">
<th id="S4.T3.1.5.4.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.5.4.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.5.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.5.4.2.1.1" class="ltx_p" style="width:369.9pt;">Q2: Are there any other interesting aspects about this article?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.6.5" class="ltx_tr">
<th id="S4.T3.1.6.5.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.6.5.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.6.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.6.5.2.1.1" class="ltx_p" style="width:369.9pt;">Q3: When was it built?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.7.6" class="ltx_tr">
<th id="S4.T3.1.7.6.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.7.6.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.7.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.7.6.2.1.1" class="ltx_p" style="width:369.9pt;">Q4: Who were the previous owners of the palazzo?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.8.7" class="ltx_tr">
<th id="S4.T3.1.8.7.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.8.7.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.8.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.8.7.2.1.1" class="ltx_p" style="width:369.9pt;">Q5: What was his role in the palazzo?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.9.8" class="ltx_tr">
<th id="S4.T3.1.9.8.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.9.8.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.9.8.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.9.8.2.1.1" class="ltx_p" style="width:369.9pt;">Q6: What is the most interesting aspect of this article?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.10.9" class="ltx_tr">
<th id="S4.T3.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T3.1.10.9.1.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">Converser</span></th>
<td id="S4.T3.1.10.9.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T3.1.10.9.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.10.9.2.1.1" class="ltx_p" style="width:369.9pt;">Q1: What is the name of the building that houses the Museo Napoleonico?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.11.10" class="ltx_tr">
<th id="S4.T3.1.11.10.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.11.10.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.11.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.11.10.2.1.1" class="ltx_p" style="width:369.9pt;">Q2: What is the Palazzo Primoli best known for?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.12.11" class="ltx_tr">
<th id="S4.T3.1.12.11.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.12.11.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.12.11.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.12.11.2.1.1" class="ltx_p" style="width:369.9pt;">Q3: What year was it donated?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.13.12" class="ltx_tr">
<th id="S4.T3.1.13.12.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.13.12.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.13.12.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.13.12.2.1.1" class="ltx_p" style="width:369.9pt;">Q4: What famous collection was donated?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.14.13" class="ltx_tr">
<th id="S4.T3.1.14.13.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.14.13.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.14.13.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.14.13.2.1.1" class="ltx_p" style="width:369.9pt;">Q5: What other collections are housed in this museum?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.15.14" class="ltx_tr">
<th id="S4.T3.1.15.14.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.15.14.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.15.14.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.15.14.2.1.1" class="ltx_p" style="width:369.9pt;">Q6: Who was the Count’s maternal grandparents?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.16.15" class="ltx_tr">
<th id="S4.T3.1.16.15.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T3.1.16.15.1.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">Converser</span></th>
<td id="S4.T3.1.16.15.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T3.1.16.15.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.16.15.2.1.1" class="ltx_p" style="width:369.9pt;">Q1: What is Palazzo Primoli in regards to Rome?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.17.16" class="ltx_tr">
<th id="S4.T3.1.17.16.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">only 1 example</th>
<td id="S4.T3.1.17.16.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.17.16.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.17.16.2.1.1" class="ltx_p" style="width:369.9pt;">Q2: What is the Palazzo Primoli’s collection of objects?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.18.17" class="ltx_tr">
<th id="S4.T3.1.18.17.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.18.17.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.18.17.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.18.17.2.1.1" class="ltx_p" style="width:369.9pt;">Q3: What is the Museo Napoleonico?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.19.18" class="ltx_tr">
<th id="S4.T3.1.19.18.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S4.T3.1.19.18.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T3.1.19.18.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.19.18.2.1.1" class="ltx_p" style="width:369.9pt;">Q4: What was the Count’s library?</span>
</span>
</td>
</tr>
<tr id="S4.T3.1.20.19" class="ltx_tr">
<th id="S4.T3.1.20.19.1" class="ltx_td ltx_th ltx_th_row ltx_border_bb"></th>
<td id="S4.T3.1.20.19.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S4.T3.1.20.19.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T3.1.20.19.2.1.1" class="ltx_p" style="width:369.9pt;">Q5: What was the Count’s photographic archive?</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>A qualitative example from WikiDialog, <span id="S4.T3.4.1" class="ltx_text ltx_font_smallcaps">Converser</span>, and <span id="S4.T3.5.2" class="ltx_text ltx_font_smallcaps">Converser</span> with only 1 example.</figcaption>
</figure>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Effect of Generated Data Size</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">We explore the impact of the generated data size on the performance, where we conduct a series of experiments, systematically varying the number of generated turns used for training presented in Figure <a href="#S4.F2" title="Figure 2 ‣ 4.4 Effect of Generated Data Size ‣ 4 Experiments ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
It clearly illustrates that as the number of turns increases, the system’s performance improves significantly. This finding highlights the crucial role of conversational data in enhancing the effectiveness of our model.</p>
</div>
<figure id="S4.F2" class="ltx_figure"><img src="/html/2309.06748/assets/x2.png" id="S4.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="346" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>MRR@5 with regard to different number of generated turns on OR-QuAC.</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Qualitative Study</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We present a generated example in Table <a href="#S4.T3" title="Table 3 ‣ 4.3 Ablation and Comparative Study ‣ 4 Experiments ‣ Converser: Few-Shot Conversational Dense Retrieval with Synthetic Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> to perform qualitative analysis.
WikiDialog is capable of generating follow-up questions.
However, it often generates generic queries, such as <span id="S5.p1.1.1" class="ltx_text ltx_font_italic">Are there any other interesting aspects about this article</span>.
On the other hand, <span id="S5.p1.1.2" class="ltx_text ltx_font_smallcaps">Converser</span> with only 1 example suffers from a lack of diversity.
Due to limited demonstrations, it generates queries that are very similar to the only example it is given.
Our proposed <span id="S5.p1.1.3" class="ltx_text ltx_font_smallcaps">Converser</span> can generate a context-independent first question and follow-up questions, demonstrating its effectiveness.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">This paper introduces <span id="S6.p1.1.1" class="ltx_text ltx_font_smallcaps">Converser</span>, a synthetic data generation method for training few-shot conversational dense retrievers.
We leverage the in-context learning capability of LLMs and propose techniques that are designed for generating conversational queries.
Experimental results demonstrate that our proposed <span id="S6.p1.1.2" class="ltx_text ltx_font_smallcaps">Converser</span> achieves comparable performance to fully-supervised models while only requiring 6 annotated examples.
Further analyses demonstrate that our method outperforms a fully-supervised data augmentation method.
Future work could explore instruction-following LLMs, better filtering mechanisms, and synthesizing specialized data for conversational dense retrieval, such as query rewrites.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We thank the reviewers for their insightful comments. This work was financially supported by the National
Science and Technology Council (NSTC) in Taiwan, under Grants 111-2222-E-002-013-MY3, 111-2628-E-002-016, and
112-2223-E-002-012-MY5 and Google.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Adlakha et al. (2022)</span>
<span class="ltx_bibblock">
Vaibhav Adlakha, Shehzaad Dhuliawala, Kaheer Suleman, Harm de Vries, and Siva
Reddy. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1162/tacl_a_00471" title="" class="ltx_ref ltx_href">TopiOCQA:
Open-domain conversational question answering with topic switching</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Transactions of the Association for Computational Linguistics</em>,
10:468–483.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alberti et al. (2019)</span>
<span class="ltx_bibblock">
Chris Alberti, Daniel Andor, Emily Pitler, Jacob Devlin, and Michael Collins.
2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/P19-1620" title="" class="ltx_ref ltx_href">Synthetic QA corpora
generation with roundtrip consistency</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 57th Annual Meeting of the Association
for Computational Linguistics</em>, pages 6168–6173, Florence, Italy.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bajaj et al. (2016)</span>
<span class="ltx_bibblock">
Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu,
Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, et al. 2016.

</span>
<span class="ltx_bibblock">Ms marco: A human generated machine reading comprehension dataset.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1611.09268</em>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonifacio et al. (2022)</span>
<span class="ltx_bibblock">
Luiz Bonifacio, Hugo Abonizio, Marzieh Fadaee, and Rodrigo Nogueira. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1145/3477495.3531863" title="" class="ltx_ref ltx_href">Inpars: Unsupervised
dataset generation for information retrieval</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 45th International ACM SIGIR Conference
on Research and Development in Information Retrieval</em>, SIGIR ’22, page
2387–2392, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla
Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell,
et al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>,
33:1877–1901.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang et al. (2020)</span>
<span class="ltx_bibblock">
Ting-Rui Chiang, Hao-Tong Ye, and Yun-Nung Chen. 2020.

</span>
<span class="ltx_bibblock">An empirical study of content understanding in conversational
question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</em>, volume 34, pages 7578–7585.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Choi et al. (2018)</span>
<span class="ltx_bibblock">
Eunsol Choi, He He, Mohit Iyyer, Mark Yatskar, Wen-tau Yih, Yejin Choi, Percy
Liang, and Luke Zettlemoyer. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/D18-1241" title="" class="ltx_ref ltx_href">QuAC: Question
answering in context</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2018 Conference on Empirical Methods in
Natural Language Processing</em>, pages 2174–2184, Brussels, Belgium.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al. (2022)</span>
<span class="ltx_bibblock">
Zhuyun Dai, Arun Tejasvi Chaganty, Vincent Y Zhao, Aida Amini, Qazi Mamunur
Rashid, Mike Green, and Kelvin Guu. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.mlr.press/v162/dai22a.html" title="" class="ltx_ref ltx_href">Dialog
inpainting: Turning documents into dialogs</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 39th International Conference on Machine
Learning</em>, volume 162 of <em id="bib.bib8.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>,
pages 4558–4586. PMLR.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al. (2023)</span>
<span class="ltx_bibblock">
Zhuyun Dai, Vincent Y Zhao, Ji Ma, Yi Luan, Jianmo Ni, Jing Lu, Anton Bakalov,
Kelvin Guu, Keith Hall, and Ming-Wei Chang. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=gmL46YMpu2J" title="" class="ltx_ref ltx_href">Promptagator:
Few-shot dense retrieval from 8 examples</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning
Representations</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dalton et al. (2019)</span>
<span class="ltx_bibblock">
Jeffrey Dalton, Chenyan Xiong, and Jamie Callan. 2019.

</span>
<span class="ltx_bibblock">Cast 2019: The conversational assistance track overview.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">TREC</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dietz et al. (2017)</span>
<span class="ltx_bibblock">
Laura Dietz, Manisha Verma, Filip Radlinski, and Nick Craswell. 2017.

</span>
<span class="ltx_bibblock">Trec complex answer retrieval overview.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">TREC</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fang et al. (2022)</span>
<span class="ltx_bibblock">
Hung-Chieh Fang, Kuo-Han Hung, Chen-Wei Huang, and Yun-Nung Chen. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2022.findings-aacl.30" title="" class="ltx_ref ltx_href">Open-domain
conversational question answering with historical answers</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for Computational Linguistics:
AACL-IJCNLP 2022</em>, pages 319–326, Online only. Association for Computational
Linguistics.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2021)</span>
<span class="ltx_bibblock">
Luyu Gao, Yunyi Zhang, Jiawei Han, and Jamie Callan. 2021.

</span>
<span class="ltx_bibblock">Scaling deep contrastive learning batch size under memory limited
setup.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 6th Workshop on Representation Learning
for NLP</em>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Holtzman et al. (2020)</span>
<span class="ltx_bibblock">
Ari Holtzman, Jan Buys, Li Du, Maxwell Forbes, and Yejin Choi. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=rygGQyrFvH" title="" class="ltx_ref ltx_href">The curious case
of neural text degeneration</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2018)</span>
<span class="ltx_bibblock">
Hsin-Yuan Huang, Eunsol Choi, and Wen-tau Yih. 2018.

</span>
<span class="ltx_bibblock">Flowqa: Grasping flow in history for conversational machine
comprehension.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey
Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2020.emnlp-main.550" title="" class="ltx_ref ltx_href">Dense
passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing (EMNLP)</em>, pages 6769–6781, Online. Association
for Computational Linguistics.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. (2022)</span>
<span class="ltx_bibblock">
Gangwoo Kim, Sungdong Kim, Kang Min Yoo, and Jaewoo Kang. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2022.emnlp-main.151" title="" class="ltx_ref ltx_href">Generating
information-seeking conversations from unlabeled documents</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2022 Conference on Empirical Methods in
Natural Language Processing</em>, pages 2362–2378, Abu Dhabi, United Arab
Emirates. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Yongqi Li, Wenjie Li, and Liqiang Nie. 2021.

</span>
<span class="ltx_bibblock">A graph-guided multi-round retrieval method for conversational
open-domain question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2104.08443</em>.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2022)</span>
<span class="ltx_bibblock">
Tingting Liang, Yixuan Jiang, Congying Xia, Ziqiang Zhao, Yuyu Yin, and
Philip S Yu. 2022.

</span>
<span class="ltx_bibblock">Multifaceted improvements for conversational open-domain question
answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.00266</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mao et al. (2022)</span>
<span class="ltx_bibblock">
Kelong Mao, Zhicheng Dou, Hongjin Qian, Fengran Mo, Xiaohua Cheng, and Zhao
Cao. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2022.emnlp-main.190" title="" class="ltx_ref ltx_href">ConvTrans:
Transforming web search sessions for conversational dense retrieval</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2022 Conference on Empirical Methods in
Natural Language Processing</em>, pages 2935–2946, Abu Dhabi, United Arab
Emirates. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et al. (2020)</span>
<span class="ltx_bibblock">
Chen Qu, Liu Yang, Cen Chen, Minghui Qiu, W Bruce Croft, and Mohit Iyyer. 2020.

</span>
<span class="ltx_bibblock">Open-retrieval conversational question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 43rd International ACM SIGIR conference
on research and development in Information Retrieval</em>, pages 539–548.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne
Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric
Hambro, Faisal Azhar, et al. 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.13971</em>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2022)</span>
<span class="ltx_bibblock">
Zeqiu Wu, Yi Luan, Hannah Rashkin, David Reitter, Hannaneh Hajishirzi, Mari
Ostendorf, and Gaurav Singh Tomar. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2022.emnlp-main.679" title="" class="ltx_ref ltx_href">CONQRR:
Conversational query rewriting for retrieval with reinforcement learning</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2022 Conference on Empirical Methods in
Natural Language Processing</em>, pages 10000–10014, Abu Dhabi, United Arab
Emirates. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yeh and Chen (2019)</span>
<span class="ltx_bibblock">
Yi-Ting Yeh and Yun-Nung Chen. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/D19-5812" title="" class="ltx_ref ltx_href">FlowDelta: Modeling
flow information gain in reasoning for conversational machine comprehension</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2nd Workshop on Machine Reading for
Question Answering</em>, pages 86–90, Hong Kong, China. Association for
Computational Linguistics.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2021)</span>
<span class="ltx_bibblock">
Shi Yu, Zhenghao Liu, Chenyan Xiong, Tao Feng, and Zhiyuan Liu. 2021.

</span>
<span class="ltx_bibblock">Few-shot conversational dense retrieval.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 44th International ACM SIGIR Conference
on Research and Development in Information Retrieval</em>, pages 829–838.

</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Implementation Details</h2>

<section id="A1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Generation</h4>

<div id="A1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px1.p1.1" class="ltx_p">Text generation with language models often results in degeneration, i.e., repeating the same text sequence.
Hence, we heuristically filter out degenerated generations.
Initially, we examined the generation quality of LLaMA-7B.
However, it showed an increased amount of degeneration and queries of lower quality.
We have also tried several open-source instruction-tuned LLMs.
To our surprise, these models failed to generate conversational queries given instructions, with or without few-shot examples.
Using instruction-tuned LLMs for conversational query generation could be a direction for future exploration.
Generations are conducted on 2 NVIDIA V100 GPUs.
Generating one conversation takes roughly 10 seconds on a single GPU.</p>
</div>
</section>
<section id="A1.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Training Details</h4>

<div id="A1.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px2.p1.1" class="ltx_p">All retrievers are trained with a batch size of 64 queries.
We use in-batch negatives as it is found to be important <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite>.
We train all retrievers for 10 epochs with a learning rate of 2e-5.
To reduce GPU memory consumption, we use the DPR implementation with gradient cache <cite class="ltx_cite ltx_citemacro_cite">Gao et al. (<a href="#bib.bib13" title="" class="ltx_ref">2021</a>)</cite>, enabling larger batch size.
The training process is done on 4 NVIDIA 2080Ti GPUs.</p>
</div>
</section>
<section id="A1.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Details</h4>

<div id="A1.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px3.p1.1" class="ltx_p">We evaluate the models on the test sets of the evaluation datasets.
There are 20 conversations for evaluation in CAsT-19.
Previous work has conducted 5-fold cross-validation to address the lack of training in CAsT-19.
However, due to resource constraints, we could not run generations for 5 different sets of examples.
Hence, we manually select 5 conversations for building the few-shot examples and use the remaining 15 conversations for evaluation.</p>
</div>
<div id="A1.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="A1.SS0.SSS0.Px3.p2.1" class="ltx_p">We report the most commonly-used evaluation metrics on each dataset: <span id="A1.SS0.SSS0.Px3.p2.1.1" class="ltx_text ltx_font_bold">MRR@5</span>, <span id="A1.SS0.SSS0.Px3.p2.1.2" class="ltx_text ltx_font_bold">R@5</span>, and <span id="A1.SS0.SSS0.Px3.p2.1.3" class="ltx_text ltx_font_bold">MAP@10</span> for OR-QuAC, and <span id="A1.SS0.SSS0.Px3.p2.1.4" class="ltx_text ltx_font_bold">MRR</span> and <span id="A1.SS0.SSS0.Px3.p2.1.5" class="ltx_text ltx_font_bold">NDCG@3</span> for CAsT-19.</p>
</div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2309.06746" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2309.06748" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2309.06748">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2309.06748" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2309.06749" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Feb 28 05:55:11 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
