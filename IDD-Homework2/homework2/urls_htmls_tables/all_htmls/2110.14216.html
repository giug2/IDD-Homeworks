<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2110.14216] What Do We Mean by Generalization in Federated Learning?</title><meta property="og:description" content="Federated learning data is drawn from a distribution of distributions: clients are drawn from a meta-distribution, and their data are drawn from local data distributions. Thus generalization studies in federated learni…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="What Do We Mean by Generalization in Federated Learning?">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="What Do We Mean by Generalization in Federated Learning?">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2110.14216">

<!--Generated on Sat Mar  2 03:18:00 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">What Do We Mean by Generalization in Federated Learning?</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Honglin Yuan
</span><span class="ltx_author_notes">Stanford University, work was completed while at Google Research. E-mail: <span id="id1.1.id1" class="ltx_text ltx_font_typewriter">hongl.yuan@gmail.com</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Warren Morningstar
</span><span class="ltx_author_notes">Google Research, E-mail: <span id="id2.1.id1" class="ltx_text ltx_font_typewriter">{wmorning, linning, karansinghal}@google.com</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Lin Ning<span id="footnotex1" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">2</span></span></span></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Karan Singhal<span id="footnotex2" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">2</span></span></span></span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id3.id1" class="ltx_p">Federated learning data is drawn from a distribution of distributions: clients are drawn from a meta-distribution, and their data are drawn from local data distributions. Thus generalization studies in federated learning should separate performance gaps from unseen client data (<em id="id3.id1.1" class="ltx_emph ltx_font_italic">out-of-sample gap</em>) from performance gaps from unseen client distributions (<em id="id3.id1.2" class="ltx_emph ltx_font_italic">participation gap</em>). In this work, we propose a framework for disentangling these performance gaps. Using this framework, we observe and explain differences in behavior across natural and synthetic federated datasets, indicating that dataset synthesis strategy can be important for realistic simulations of generalization in federated learning. We propose a semantic synthesis strategy that enables realistic simulation without naturally-partitioned data. Informed by our findings, we call out community suggestions for future federated learning works.</p>
</div>
<section id="S1" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h3>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) enables distributed clients to train a machine learning model collaboratively via focused communication with a coordinating server. In <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">cross-device</em> FL settings, clients are sampled from a population for participation in each round of training <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kairouz et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib53" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020a</span></a>)</cite>. Each participating client possesses its own data distribution, from which finite samples are drawn for federated training.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Given this problem framing, defining generalization in FL is not as obvious as in centralized learning. Existing works generally characterize the difference between empirical and expected risk for clients participating in training <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Mohri et al.</span>, <a href="#bib.bib62" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Yagli et al.</span>, <a href="#bib.bib86" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>; <span class="ltx_text" style="font-size:90%;">Karimireddy et al.</span>, <a href="#bib.bib44" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Yuan et al.</span>, <a href="#bib.bib91" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>. However, in cross-device settings, which we focus on in this work, clients are sampled from a large population with unreliable availability. Many or most clients may never participate in training <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kairouz et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Singhal et al.</span>, <a href="#bib.bib71" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>. Thus it is crucial to better understand expected performance for non-participating clients.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this work, we model clients’ data distributions as drawn from a meta population distribution <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>, an assumption we argue is reasonable in real-world FL settings. We use this framing to define two generalization gaps to study in FL: the <em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">out-of-sample gap</em>, or the difference between empirical and expected risk for participating clients, and the <em id="S1.p3.1.2" class="ltx_emph ltx_font_italic">participation gap</em>, or the difference in expected risk between participating and non-participating clients. Previous works generally ignore the participation gap or fail to disentangle it from the out-of-sample gap, but we observe significant participation gaps in practice across six federated datasets (see <a href="#S1.F1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a>), indicating that the participation gap is an important but neglected feature of generalization in FL.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2110.14216/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="90" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.5.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Federated training results demonstrating participation gaps for six different tasks.<span id="S1.F1.6.2.1" class="ltx_text ltx_font_medium"> We conduct experiments on four image classification tasks and two text prediction tasks. As described in <a href="#S3.SS1" title="3.1 Estimating Risks and Gaps via the Three-Way Split ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">3.1</span></a>, the participation gap can be estimated as the difference in metrics between <em id="S1.F1.6.2.1.1" class="ltx_emph ltx_font_italic">participating validation</em> and <em id="S1.F1.6.2.1.2" class="ltx_emph ltx_font_italic">unparticipating</em> data (defined in <a href="#S3.F2" title="In 3.1 Estimating Risks and Gaps via the Three-Way Split ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">2</span></a>). Prior works either ignore the participation gap or fail to separate it from other generalization gaps, indicating the participation gap is a neglected feature of generalization in FL.</span></span></figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">We present a systematic study of generalization in FL across six tasks. We observe that focusing only on out-of-sample gaps misses important effects, including differences in generalization behavior across naturally-partitioned and synthetically-partitioned federated datasets. We use our results to inform a series of recommendations for future works studying generalization in FL.</p>
</div>
<section id="S1.SS0.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Our contributions:</h6>

<div id="S1.SS0.SSS0.Px1.p1" class="ltx_para">
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">Propose a <em id="S1.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">three-way split</em> for measuring out-of-sample and participation gaps in centralized and FL settings where data is drawn from a distribution of distributions (see <a href="#S3.F2" title="In 3.1 Estimating Risks and Gaps via the Three-Way Split ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">Observe significant participation gaps across six different tasks (see <a href="#S1.F1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a>) and perform empirical studies on how various factors, <span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">e.g.,</span> number of clients and client diversity, affect generalization performance (see <a href="#S5" title="5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">5</span></a>).</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Observe significant differences in generalization behavior across naturally-partitioned and synthetically-partitioned federated datasets, and propose <em id="S1.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">semantic partitioning</em>, a dataset synthesis strategy that enables more realistic simulations of generalization behavior in FL without requiring naturally-partitioned data (see <a href="#S4" title="4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">Present a model to define the participation gap (<a href="#S2" title="2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">2</span></a>), reveal its connection with data heterogeneity (<a href="#S3.SS2" title="3.2 Why is the Participation Gap Interesting? ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">3.2</span></a>), and explain differences in generalization behavior between label-based partitioning and semantic partitioning (<a href="#S4.SS2" title="4.2 Explaining differences between label-based and semantic partitioning ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">4.2</span></a>).</p>
</div>
</li>
<li id="S1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i5.p1" class="ltx_para">
<p id="S1.I1.i5.p1.1" class="ltx_p">Present recommendations for future FL works, informed by our findings (see <a href="#S6" title="6 Community Suggestions ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">6</span></a>).</p>
</div>
</li>
<li id="S1.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i6.p1" class="ltx_para">
<p id="S1.I1.i6.p1.1" class="ltx_p">Release an extensible open-source code library for studying generalization in FL (see Reproducibility Statement).</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S1.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Related work</h4>

<div id="S1.SS1.p1" class="ltx_para">
<p id="S1.SS1.p1.1" class="ltx_p">We briefly discuss primary related work here and provide a detailed review in <a href="#A1" title="Appendix A Additional Related Work ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">A</span></a>.
We refer readers to <cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text" style="font-size:90%;">Kairouz et al.</span> (<a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>); <span class="ltx_text" style="font-size:90%;">Wang et al.</span> (<a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> for a more comprehensive introduction to federated learning in general.</p>
</div>
<section id="S1.SS1.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Distributional heterogeneity in FL.</h6>

<div id="S1.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S1.SS1.SSS0.Px1.p1.1" class="ltx_p">Distributional heterogeneity is one of the most important patterns in federated learning <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kairouz et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.
Existing literature on FL heterogeneity is mostly focused on the impact of heterogeneity on the training efficiency (convergence and communication) of federated optimizers <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Karimireddy et al.</span>, <a href="#bib.bib44" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib54" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020b</span></a>; <span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.
In this work, we identify that the participation gap is another major outcome of the heterogeneity in FL, and recommend using the participation gap as a natural measurement for dataset heterogeneity.</p>
</div>
</section>
<section id="S1.SS1.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Personalized FL.</h6>

<div id="S1.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S1.SS1.SSS0.Px2.p1.1" class="ltx_p">In this work, we propose to evaluate and distinguish the generalization performance of clients participating and non-participating in training.
Throughout this work, we focus on the classic FL setting <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kairouz et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> in which a single global model is learned from and served to all clients.
In the <em id="S1.SS1.SSS0.Px2.p1.1.1" class="ltx_emph ltx_font_italic">personalized</em> FL setting <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Hanzely and Richtárik</span>, <a href="#bib.bib30" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Fallah et al.</span>, <a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Singhal et al.</span>, <a href="#bib.bib71" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>, the goal is to learn and serve different models for different clients.
While related, our focus and contribution is orthogonal to personalization.
In fact, our three-way split framework can be readily applied in various personalized FL settings.
For example, for personalization via fine-tuning <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib82" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Yu et al.</span>, <a href="#bib.bib89" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>)</cite>, the participating clients can be defined as the clients that contribute to the training of the base model.
The participation gap can then be defined as the difference in post-fine-tuned performance between participating clients and unparticipating clients.</p>
</div>
</section>
<section id="S1.SS1.SSS0.Px3" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Out-of-distribution generalization.</h6>

<div id="S1.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S1.SS1.SSS0.Px3.p1.1" class="ltx_p">In this work, we propose to train models using a set of participating clients and examine their performance on heldout data from these clients as well as an additional set of non-participating clients. Because each client has a different data distribution, unparticipating clients’ data exhibits distributional shift compared to the participating clients’ validation data. Therefore, our work is related to the field of domain adaptation <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Daumé III</span>, <a href="#bib.bib19" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2009</span></a>; <span class="ltx_text" style="font-size:90%;">Ben-David et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2007</span></a>; <span class="ltx_text" style="font-size:90%;">Shimodaira</span>, <a href="#bib.bib70" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2000</span></a>; <span class="ltx_text" style="font-size:90%;">Patel et al.</span>, <a href="#bib.bib65" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2015</span></a>)</cite>, where a model is explicitly adapted to make predictions on a test set that is not identically distributed to the training set. The participation gap that we observe is consistent with findings from the out-of-distribution research community <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Ovadia et al.</span>, <a href="#bib.bib64" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Amodei et al.</span>, <a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2016</span></a>; <span class="ltx_text" style="font-size:90%;">Lakshminarayanan et al.</span>, <a href="#bib.bib52" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2016</span></a>)</cite>, which shows on centrally trained (non-federated) models that even small deviations in the morphology of deployment examples can lead to systematic degradations in performance. Our setting differs from these other settings in that our problem framing assumes data is drawn from a distribution of client distributions, meaning that the training and deployment distributions eventually converge as more clients participate in training. In contrast, the typical OOD setup assumes that the distributions will never converge (since the deployment data is out-of-distribution, by definition it does not contribute to training). Our meta-distribution assumption makes the problem of generalizing to unseen distributions potentially more tractable.</p>
</div>
</section>
</section>
</section>
<section id="S2" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Setup for Generalization in FL</h3>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">We model each FL client as a data source associated with a local distribution and the overall population as a meta-distribution over all possible clients.</p>
</div>
<div id="S2.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S2.Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Definition 2.1</span></span><span id="S2.Thmtheorem1.2.2" class="ltx_text ltx_font_bold"> </span>(Federated Learning Problem)<span id="S2.Thmtheorem1.3.3" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.Thmtheorem1.p1" class="ltx_para">
<ol id="S2.I1" class="ltx_enumerate">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.6" class="ltx_p"><span id="S2.I1.i1.p1.6.1" class="ltx_text ltx_font_italic">Let </span><math id="S2.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\Xi" display="inline"><semantics id="S2.I1.i1.p1.1.m1.1a"><mi mathvariant="normal" id="S2.I1.i1.p1.1.m1.1.1" xref="S2.I1.i1.p1.1.m1.1.1.cmml">Ξ</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.1.m1.1b"><ci id="S2.I1.i1.p1.1.m1.1.1.cmml" xref="S2.I1.i1.p1.1.m1.1.1">Ξ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.1.m1.1c">\Xi</annotation></semantics></math><span id="S2.I1.i1.p1.6.2" class="ltx_text ltx_font_italic"> be the (possibly infinite) collection of all the possible data elements, e.g., image-label pairs. For any parameters </span><math id="S2.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="{\bm{w}}" display="inline"><semantics id="S2.I1.i1.p1.2.m2.1a"><mi id="S2.I1.i1.p1.2.m2.1.1" xref="S2.I1.i1.p1.2.m2.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.2.m2.1b"><ci id="S2.I1.i1.p1.2.m2.1.1.cmml" xref="S2.I1.i1.p1.2.m2.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.2.m2.1c">{\bm{w}}</annotation></semantics></math><span id="S2.I1.i1.p1.6.3" class="ltx_text ltx_font_italic"> in parameter space </span><math id="S2.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="\Theta" display="inline"><semantics id="S2.I1.i1.p1.3.m3.1a"><mi mathvariant="normal" id="S2.I1.i1.p1.3.m3.1.1" xref="S2.I1.i1.p1.3.m3.1.1.cmml">Θ</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.3.m3.1b"><ci id="S2.I1.i1.p1.3.m3.1.1.cmml" xref="S2.I1.i1.p1.3.m3.1.1">Θ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.3.m3.1c">\Theta</annotation></semantics></math><span id="S2.I1.i1.p1.6.4" class="ltx_text ltx_font_italic">, we use </span><math id="S2.I1.i1.p1.4.m4.2" class="ltx_Math" alttext="f({\bm{w}},\xi)" display="inline"><semantics id="S2.I1.i1.p1.4.m4.2a"><mrow id="S2.I1.i1.p1.4.m4.2.3" xref="S2.I1.i1.p1.4.m4.2.3.cmml"><mi id="S2.I1.i1.p1.4.m4.2.3.2" xref="S2.I1.i1.p1.4.m4.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.I1.i1.p1.4.m4.2.3.1" xref="S2.I1.i1.p1.4.m4.2.3.1.cmml">​</mo><mrow id="S2.I1.i1.p1.4.m4.2.3.3.2" xref="S2.I1.i1.p1.4.m4.2.3.3.1.cmml"><mo stretchy="false" id="S2.I1.i1.p1.4.m4.2.3.3.2.1" xref="S2.I1.i1.p1.4.m4.2.3.3.1.cmml">(</mo><mi id="S2.I1.i1.p1.4.m4.1.1" xref="S2.I1.i1.p1.4.m4.1.1.cmml">𝒘</mi><mo id="S2.I1.i1.p1.4.m4.2.3.3.2.2" xref="S2.I1.i1.p1.4.m4.2.3.3.1.cmml">,</mo><mi id="S2.I1.i1.p1.4.m4.2.2" xref="S2.I1.i1.p1.4.m4.2.2.cmml">ξ</mi><mo stretchy="false" id="S2.I1.i1.p1.4.m4.2.3.3.2.3" xref="S2.I1.i1.p1.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.4.m4.2b"><apply id="S2.I1.i1.p1.4.m4.2.3.cmml" xref="S2.I1.i1.p1.4.m4.2.3"><times id="S2.I1.i1.p1.4.m4.2.3.1.cmml" xref="S2.I1.i1.p1.4.m4.2.3.1"></times><ci id="S2.I1.i1.p1.4.m4.2.3.2.cmml" xref="S2.I1.i1.p1.4.m4.2.3.2">𝑓</ci><interval closure="open" id="S2.I1.i1.p1.4.m4.2.3.3.1.cmml" xref="S2.I1.i1.p1.4.m4.2.3.3.2"><ci id="S2.I1.i1.p1.4.m4.1.1.cmml" xref="S2.I1.i1.p1.4.m4.1.1">𝒘</ci><ci id="S2.I1.i1.p1.4.m4.2.2.cmml" xref="S2.I1.i1.p1.4.m4.2.2">𝜉</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.4.m4.2c">f({\bm{w}},\xi)</annotation></semantics></math><span id="S2.I1.i1.p1.6.5" class="ltx_text ltx_font_italic"> to denote the loss at element </span><math id="S2.I1.i1.p1.5.m5.1" class="ltx_Math" alttext="\xi\in\Xi" display="inline"><semantics id="S2.I1.i1.p1.5.m5.1a"><mrow id="S2.I1.i1.p1.5.m5.1.1" xref="S2.I1.i1.p1.5.m5.1.1.cmml"><mi id="S2.I1.i1.p1.5.m5.1.1.2" xref="S2.I1.i1.p1.5.m5.1.1.2.cmml">ξ</mi><mo id="S2.I1.i1.p1.5.m5.1.1.1" xref="S2.I1.i1.p1.5.m5.1.1.1.cmml">∈</mo><mi mathvariant="normal" id="S2.I1.i1.p1.5.m5.1.1.3" xref="S2.I1.i1.p1.5.m5.1.1.3.cmml">Ξ</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.5.m5.1b"><apply id="S2.I1.i1.p1.5.m5.1.1.cmml" xref="S2.I1.i1.p1.5.m5.1.1"><in id="S2.I1.i1.p1.5.m5.1.1.1.cmml" xref="S2.I1.i1.p1.5.m5.1.1.1"></in><ci id="S2.I1.i1.p1.5.m5.1.1.2.cmml" xref="S2.I1.i1.p1.5.m5.1.1.2">𝜉</ci><ci id="S2.I1.i1.p1.5.m5.1.1.3.cmml" xref="S2.I1.i1.p1.5.m5.1.1.3">Ξ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.5.m5.1c">\xi\in\Xi</annotation></semantics></math><span id="S2.I1.i1.p1.6.6" class="ltx_text ltx_font_italic"> with parameter </span><math id="S2.I1.i1.p1.6.m6.1" class="ltx_Math" alttext="{\bm{w}}" display="inline"><semantics id="S2.I1.i1.p1.6.m6.1a"><mi id="S2.I1.i1.p1.6.m6.1.1" xref="S2.I1.i1.p1.6.m6.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.6.m6.1b"><ci id="S2.I1.i1.p1.6.m6.1.1.cmml" xref="S2.I1.i1.p1.6.m6.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.6.m6.1c">{\bm{w}}</annotation></semantics></math><span id="S2.I1.i1.p1.6.7" class="ltx_text ltx_font_italic">.</span></p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.4" class="ltx_p"><span id="S2.I1.i2.p1.4.1" class="ltx_text ltx_font_italic">Let </span><math id="S2.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\mathfrak{C}" display="inline"><semantics id="S2.I1.i2.p1.1.m1.1a"><mi id="S2.I1.i2.p1.1.m1.1.1" xref="S2.I1.i2.p1.1.m1.1.1.cmml">ℭ</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.1.m1.1b"><ci id="S2.I1.i2.p1.1.m1.1.1.cmml" xref="S2.I1.i2.p1.1.m1.1.1">ℭ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.1.m1.1c">\mathfrak{C}</annotation></semantics></math><span id="S2.I1.i2.p1.4.2" class="ltx_text ltx_font_italic"> be the (possibly infinite) collection of all the possible clients. Every client </span><math id="S2.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="c\in\mathfrak{C}" display="inline"><semantics id="S2.I1.i2.p1.2.m2.1a"><mrow id="S2.I1.i2.p1.2.m2.1.1" xref="S2.I1.i2.p1.2.m2.1.1.cmml"><mi id="S2.I1.i2.p1.2.m2.1.1.2" xref="S2.I1.i2.p1.2.m2.1.1.2.cmml">c</mi><mo id="S2.I1.i2.p1.2.m2.1.1.1" xref="S2.I1.i2.p1.2.m2.1.1.1.cmml">∈</mo><mi id="S2.I1.i2.p1.2.m2.1.1.3" xref="S2.I1.i2.p1.2.m2.1.1.3.cmml">ℭ</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.2.m2.1b"><apply id="S2.I1.i2.p1.2.m2.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.1"><in id="S2.I1.i2.p1.2.m2.1.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.1.1"></in><ci id="S2.I1.i2.p1.2.m2.1.1.2.cmml" xref="S2.I1.i2.p1.2.m2.1.1.2">𝑐</ci><ci id="S2.I1.i2.p1.2.m2.1.1.3.cmml" xref="S2.I1.i2.p1.2.m2.1.1.3">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.2.m2.1c">c\in\mathfrak{C}</annotation></semantics></math><span id="S2.I1.i2.p1.4.3" class="ltx_text ltx_font_italic"> is associated with a local distribution </span><math id="S2.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{D}_{c}" display="inline"><semantics id="S2.I1.i2.p1.3.m3.1a"><msub id="S2.I1.i2.p1.3.m3.1.1" xref="S2.I1.i2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.I1.i2.p1.3.m3.1.1.2" xref="S2.I1.i2.p1.3.m3.1.1.2.cmml">𝒟</mi><mi id="S2.I1.i2.p1.3.m3.1.1.3" xref="S2.I1.i2.p1.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.3.m3.1b"><apply id="S2.I1.i2.p1.3.m3.1.1.cmml" xref="S2.I1.i2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.I1.i2.p1.3.m3.1.1.1.cmml" xref="S2.I1.i2.p1.3.m3.1.1">subscript</csymbol><ci id="S2.I1.i2.p1.3.m3.1.1.2.cmml" xref="S2.I1.i2.p1.3.m3.1.1.2">𝒟</ci><ci id="S2.I1.i2.p1.3.m3.1.1.3.cmml" xref="S2.I1.i2.p1.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.3.m3.1c">\mathcal{D}_{c}</annotation></semantics></math><span id="S2.I1.i2.p1.4.4" class="ltx_text ltx_font_italic"> supported on </span><math id="S2.I1.i2.p1.4.m4.1" class="ltx_Math" alttext="\Xi" display="inline"><semantics id="S2.I1.i2.p1.4.m4.1a"><mi mathvariant="normal" id="S2.I1.i2.p1.4.m4.1.1" xref="S2.I1.i2.p1.4.m4.1.1.cmml">Ξ</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.4.m4.1b"><ci id="S2.I1.i2.p1.4.m4.1.1.cmml" xref="S2.I1.i2.p1.4.m4.1.1">Ξ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.4.m4.1c">\Xi</annotation></semantics></math><span id="S2.I1.i2.p1.4.5" class="ltx_text ltx_font_italic">.</span></p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.4" class="ltx_p"><span id="S2.I1.i3.p1.4.1" class="ltx_text ltx_font_italic">Further, we assume there is a meta-distribution </span><math id="S2.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="S2.I1.i3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.I1.i3.p1.1.m1.1.1" xref="S2.I1.i3.p1.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.1.m1.1b"><ci id="S2.I1.i3.p1.1.m1.1.1.cmml" xref="S2.I1.i3.p1.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.1.m1.1c">\mathcal{P}</annotation></semantics></math><span id="S2.I1.i3.p1.4.2" class="ltx_text ltx_font_italic"> supported on client set </span><math id="S2.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="\mathfrak{C}" display="inline"><semantics id="S2.I1.i3.p1.2.m2.1a"><mi id="S2.I1.i3.p1.2.m2.1.1" xref="S2.I1.i3.p1.2.m2.1.1.cmml">ℭ</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.2.m2.1b"><ci id="S2.I1.i3.p1.2.m2.1.1.cmml" xref="S2.I1.i3.p1.2.m2.1.1">ℭ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.2.m2.1c">\mathfrak{C}</annotation></semantics></math><span id="S2.I1.i3.p1.4.3" class="ltx_text ltx_font_italic">, and each client </span><math id="S2.I1.i3.p1.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.I1.i3.p1.3.m3.1a"><mi id="S2.I1.i3.p1.3.m3.1.1" xref="S2.I1.i3.p1.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.3.m3.1b"><ci id="S2.I1.i3.p1.3.m3.1.1.cmml" xref="S2.I1.i3.p1.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.3.m3.1c">c</annotation></semantics></math><span id="S2.I1.i3.p1.4.4" class="ltx_text ltx_font_italic"> is associated with a weight </span><math id="S2.I1.i3.p1.4.m4.1" class="ltx_Math" alttext="\rho_{c}" display="inline"><semantics id="S2.I1.i3.p1.4.m4.1a"><msub id="S2.I1.i3.p1.4.m4.1.1" xref="S2.I1.i3.p1.4.m4.1.1.cmml"><mi id="S2.I1.i3.p1.4.m4.1.1.2" xref="S2.I1.i3.p1.4.m4.1.1.2.cmml">ρ</mi><mi id="S2.I1.i3.p1.4.m4.1.1.3" xref="S2.I1.i3.p1.4.m4.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.I1.i3.p1.4.m4.1b"><apply id="S2.I1.i3.p1.4.m4.1.1.cmml" xref="S2.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.I1.i3.p1.4.m4.1.1.1.cmml" xref="S2.I1.i3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.I1.i3.p1.4.m4.1.1.2.cmml" xref="S2.I1.i3.p1.4.m4.1.1.2">𝜌</ci><ci id="S2.I1.i3.p1.4.m4.1.1.3.cmml" xref="S2.I1.i3.p1.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i3.p1.4.m4.1c">\rho_{c}</annotation></semantics></math><span id="S2.I1.i3.p1.4.5" class="ltx_text ltx_font_italic"> for aggregation.</span></p>
</div>
</li>
</ol>
<p id="S2.Thmtheorem1.p1.1" class="ltx_p"><span id="S2.Thmtheorem1.p1.1.1" class="ltx_text ltx_font_italic">The goal is to optimize the following two-level expected loss as follows:</span></p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.4" class="ltx_Math" alttext="F({\bm{w}}):=\mathbb{E}_{c\sim\mathcal{P}}\left[\rho_{c}\cdot\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right]." display="block"><semantics id="S2.E1.m1.4a"><mrow id="S2.E1.m1.4.4.1" xref="S2.E1.m1.4.4.1.1.cmml"><mrow id="S2.E1.m1.4.4.1.1" xref="S2.E1.m1.4.4.1.1.cmml"><mrow id="S2.E1.m1.4.4.1.1.3" xref="S2.E1.m1.4.4.1.1.3.cmml"><mi id="S2.E1.m1.4.4.1.1.3.2" xref="S2.E1.m1.4.4.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.4.4.1.1.3.1" xref="S2.E1.m1.4.4.1.1.3.1.cmml">​</mo><mrow id="S2.E1.m1.4.4.1.1.3.3.2" xref="S2.E1.m1.4.4.1.1.3.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.1.1.3.3.2.1" xref="S2.E1.m1.4.4.1.1.3.cmml">(</mo><mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">𝒘</mi><mo rspace="0.278em" stretchy="false" id="S2.E1.m1.4.4.1.1.3.3.2.2" xref="S2.E1.m1.4.4.1.1.3.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S2.E1.m1.4.4.1.1.2" xref="S2.E1.m1.4.4.1.1.2.cmml">:=</mo><mrow id="S2.E1.m1.4.4.1.1.1" xref="S2.E1.m1.4.4.1.1.1.cmml"><msub id="S2.E1.m1.4.4.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.3.2" xref="S2.E1.m1.4.4.1.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E1.m1.4.4.1.1.1.3.3" xref="S2.E1.m1.4.4.1.1.1.3.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.3.3.2" xref="S2.E1.m1.4.4.1.1.1.3.3.2.cmml">c</mi><mo id="S2.E1.m1.4.4.1.1.1.3.3.1" xref="S2.E1.m1.4.4.1.1.1.3.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4.1.1.1.3.3.3" xref="S2.E1.m1.4.4.1.1.1.3.3.3.cmml">𝒫</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.4.4.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.2.cmml"><mo id="S2.E1.m1.4.4.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.cmml"><msub id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.2.cmml">ρ</mi><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.3.cmml">c</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.1.cmml">⋅</mo><msub id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.2.cmml">𝔼</mi><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.2.cmml">ξ</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.1.cmml">∼</mo><msub id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.2.cmml">𝒟</mi><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.3.cmml">c</mi></msub></mrow></msub></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.4.4.1.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.2.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml">(</mo><mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">𝒘</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.2.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml">;</mo><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">ξ</mi><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.2.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E1.m1.4.4.1.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo lspace="0em" id="S2.E1.m1.4.4.1.2" xref="S2.E1.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.4b"><apply id="S2.E1.m1.4.4.1.1.cmml" xref="S2.E1.m1.4.4.1"><csymbol cd="latexml" id="S2.E1.m1.4.4.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.2">assign</csymbol><apply id="S2.E1.m1.4.4.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.3"><times id="S2.E1.m1.4.4.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.3.1"></times><ci id="S2.E1.m1.4.4.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.3.2">𝐹</ci><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">𝒘</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1"><times id="S2.E1.m1.4.4.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.2"></times><apply id="S2.E1.m1.4.4.1.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.3">subscript</csymbol><ci id="S2.E1.m1.4.4.1.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.3.2">𝔼</ci><apply id="S2.E1.m1.4.4.1.1.1.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.3.3"><csymbol cd="latexml" id="S2.E1.m1.4.4.1.1.1.3.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.3.3.1">similar-to</csymbol><ci id="S2.E1.m1.4.4.1.1.1.3.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.3.3.2">𝑐</ci><ci id="S2.E1.m1.4.4.1.1.1.3.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.3.3.3">𝒫</ci></apply></apply><apply id="S2.E1.m1.4.4.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.4.4.1.1.1.1.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1"><times id="S2.E1.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.2"></times><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3"><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.1">⋅</ci><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.2">𝜌</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.2.3">𝑐</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.2">𝔼</ci><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3"><csymbol cd="latexml" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.1">similar-to</csymbol><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.2">𝜉</ci><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3">subscript</csymbol><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.2">𝒟</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.3.3.3.3.3">𝑐</ci></apply></apply></apply></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1"><times id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1"></times><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.2">𝑓</ci><list id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3.2"><ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">𝒘</ci><ci id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3">𝜉</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.4c">F({\bm{w}}):=\mathbb{E}_{c\sim\mathcal{P}}\left[\rho_{c}\cdot\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.4" class="ltx_p">Similar formulations as in <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a> have been proposed in existing literature <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>; <span class="ltx_text" style="font-size:90%;">Reisizadeh et al.</span>, <a href="#bib.bib68" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Charles and Konečnỳ</span>, <a href="#bib.bib14" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>)</cite>. To understand <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a>, consider a random procedure that repeatedly draws clients <math id="S2.p2.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p2.1.m1.1a"><mi id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">c</annotation></semantics></math> from the meta-distribution <math id="S2.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="S2.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">\mathcal{P}</annotation></semantics></math> and then evaluates the loss on samples <math id="S2.p2.3.m3.1" class="ltx_Math" alttext="\xi" display="inline"><semantics id="S2.p2.3.m3.1a"><mi id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">ξ</mi><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">𝜉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">\xi</annotation></semantics></math> drawn from the local data distribution <math id="S2.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{D}_{c}" display="inline"><semantics id="S2.p2.4.m4.1a"><msub id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p2.4.m4.1.1.2" xref="S2.p2.4.m4.1.1.2.cmml">𝒟</mi><mi id="S2.p2.4.m4.1.1.3" xref="S2.p2.4.m4.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b"><apply id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.p2.4.m4.1.1.1.cmml" xref="S2.p2.4.m4.1.1">subscript</csymbol><ci id="S2.p2.4.m4.1.1.2.cmml" xref="S2.p2.4.m4.1.1.2">𝒟</ci><ci id="S2.p2.4.m4.1.1.3.cmml" xref="S2.p2.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.4.m4.1c">\mathcal{D}_{c}</annotation></semantics></math>. <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a> then characterizes the weighted-average limit of the above process.</p>
</div>
<div id="Thmremarkx1" class="ltx_theorem ltx_theorem_remark">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmremarkx1.1.1.1" class="ltx_text ltx_font_bold">Remark</span></span><span id="Thmremarkx1.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmremarkx1.p1" class="ltx_para">
<p id="Thmremarkx1.p1.4" class="ltx_p"><span id="Thmremarkx1.p1.4.4" class="ltx_text ltx_font_italic">The selection of client weights <math id="Thmremarkx1.p1.1.1.m1.2" class="ltx_Math" alttext="\{\rho_{c}:c\in\mathfrak{C}\}" display="inline"><semantics id="Thmremarkx1.p1.1.1.m1.2a"><mrow id="Thmremarkx1.p1.1.1.m1.2.2.2" xref="Thmremarkx1.p1.1.1.m1.2.2.3.cmml"><mo stretchy="false" id="Thmremarkx1.p1.1.1.m1.2.2.2.3" xref="Thmremarkx1.p1.1.1.m1.2.2.3.1.cmml">{</mo><msub id="Thmremarkx1.p1.1.1.m1.1.1.1.1" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1.cmml"><mi id="Thmremarkx1.p1.1.1.m1.1.1.1.1.2" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1.2.cmml">ρ</mi><mi id="Thmremarkx1.p1.1.1.m1.1.1.1.1.3" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1.3.cmml">c</mi></msub><mo lspace="0.278em" rspace="0.278em" id="Thmremarkx1.p1.1.1.m1.2.2.2.4" xref="Thmremarkx1.p1.1.1.m1.2.2.3.1.cmml">:</mo><mrow id="Thmremarkx1.p1.1.1.m1.2.2.2.2" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.cmml"><mi id="Thmremarkx1.p1.1.1.m1.2.2.2.2.2" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.2.cmml">c</mi><mo id="Thmremarkx1.p1.1.1.m1.2.2.2.2.1" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.1.cmml">∈</mo><mi id="Thmremarkx1.p1.1.1.m1.2.2.2.2.3" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.3.cmml">ℭ</mi></mrow><mo stretchy="false" id="Thmremarkx1.p1.1.1.m1.2.2.2.5" xref="Thmremarkx1.p1.1.1.m1.2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="Thmremarkx1.p1.1.1.m1.2b"><apply id="Thmremarkx1.p1.1.1.m1.2.2.3.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2"><csymbol cd="latexml" id="Thmremarkx1.p1.1.1.m1.2.2.3.1.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2.3">conditional-set</csymbol><apply id="Thmremarkx1.p1.1.1.m1.1.1.1.1.cmml" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="Thmremarkx1.p1.1.1.m1.1.1.1.1.1.cmml" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1">subscript</csymbol><ci id="Thmremarkx1.p1.1.1.m1.1.1.1.1.2.cmml" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1.2">𝜌</ci><ci id="Thmremarkx1.p1.1.1.m1.1.1.1.1.3.cmml" xref="Thmremarkx1.p1.1.1.m1.1.1.1.1.3">𝑐</ci></apply><apply id="Thmremarkx1.p1.1.1.m1.2.2.2.2.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2"><in id="Thmremarkx1.p1.1.1.m1.2.2.2.2.1.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.1"></in><ci id="Thmremarkx1.p1.1.1.m1.2.2.2.2.2.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.2">𝑐</ci><ci id="Thmremarkx1.p1.1.1.m1.2.2.2.2.3.cmml" xref="Thmremarkx1.p1.1.1.m1.2.2.2.2.3">ℭ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx1.p1.1.1.m1.2c">\{\rho_{c}:c\in\mathfrak{C}\}</annotation></semantics></math> depends on the desired aggregation pattern. For example, setting <math id="Thmremarkx1.p1.2.2.m2.1" class="ltx_Math" alttext="\rho_{c}\equiv 1" display="inline"><semantics id="Thmremarkx1.p1.2.2.m2.1a"><mrow id="Thmremarkx1.p1.2.2.m2.1.1" xref="Thmremarkx1.p1.2.2.m2.1.1.cmml"><msub id="Thmremarkx1.p1.2.2.m2.1.1.2" xref="Thmremarkx1.p1.2.2.m2.1.1.2.cmml"><mi id="Thmremarkx1.p1.2.2.m2.1.1.2.2" xref="Thmremarkx1.p1.2.2.m2.1.1.2.2.cmml">ρ</mi><mi id="Thmremarkx1.p1.2.2.m2.1.1.2.3" xref="Thmremarkx1.p1.2.2.m2.1.1.2.3.cmml">c</mi></msub><mo id="Thmremarkx1.p1.2.2.m2.1.1.1" xref="Thmremarkx1.p1.2.2.m2.1.1.1.cmml">≡</mo><mn id="Thmremarkx1.p1.2.2.m2.1.1.3" xref="Thmremarkx1.p1.2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="Thmremarkx1.p1.2.2.m2.1b"><apply id="Thmremarkx1.p1.2.2.m2.1.1.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1"><equivalent id="Thmremarkx1.p1.2.2.m2.1.1.1.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.1"></equivalent><apply id="Thmremarkx1.p1.2.2.m2.1.1.2.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="Thmremarkx1.p1.2.2.m2.1.1.2.1.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.2">subscript</csymbol><ci id="Thmremarkx1.p1.2.2.m2.1.1.2.2.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.2.2">𝜌</ci><ci id="Thmremarkx1.p1.2.2.m2.1.1.2.3.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.2.3">𝑐</ci></apply><cn type="integer" id="Thmremarkx1.p1.2.2.m2.1.1.3.cmml" xref="Thmremarkx1.p1.2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx1.p1.2.2.m2.1c">\rho_{c}\equiv 1</annotation></semantics></math> will equalize the performance share across all clients. Another common example is setting <math id="Thmremarkx1.p1.3.3.m3.1" class="ltx_Math" alttext="\rho_{c}" display="inline"><semantics id="Thmremarkx1.p1.3.3.m3.1a"><msub id="Thmremarkx1.p1.3.3.m3.1.1" xref="Thmremarkx1.p1.3.3.m3.1.1.cmml"><mi id="Thmremarkx1.p1.3.3.m3.1.1.2" xref="Thmremarkx1.p1.3.3.m3.1.1.2.cmml">ρ</mi><mi id="Thmremarkx1.p1.3.3.m3.1.1.3" xref="Thmremarkx1.p1.3.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="Thmremarkx1.p1.3.3.m3.1b"><apply id="Thmremarkx1.p1.3.3.m3.1.1.cmml" xref="Thmremarkx1.p1.3.3.m3.1.1"><csymbol cd="ambiguous" id="Thmremarkx1.p1.3.3.m3.1.1.1.cmml" xref="Thmremarkx1.p1.3.3.m3.1.1">subscript</csymbol><ci id="Thmremarkx1.p1.3.3.m3.1.1.2.cmml" xref="Thmremarkx1.p1.3.3.m3.1.1.2">𝜌</ci><ci id="Thmremarkx1.p1.3.3.m3.1.1.3.cmml" xref="Thmremarkx1.p1.3.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx1.p1.3.3.m3.1c">\rho_{c}</annotation></semantics></math> to be proportional to the training dataset size contributed by client <math id="Thmremarkx1.p1.4.4.m4.1" class="ltx_Math" alttext="c" display="inline"><semantics id="Thmremarkx1.p1.4.4.m4.1a"><mi id="Thmremarkx1.p1.4.4.m4.1.1" xref="Thmremarkx1.p1.4.4.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="Thmremarkx1.p1.4.4.m4.1b"><ci id="Thmremarkx1.p1.4.4.m4.1.1.cmml" xref="Thmremarkx1.p1.4.4.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx1.p1.4.4.m4.1c">c</annotation></semantics></math>.</span></p>
</div>
</div>
<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Intuitive Justification.</h6>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">The formulation in <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a> is especially natural in cross-device FL settings, where the number of clients is generally large and modeling clients’ local distributions as sampled from a meta-distribution is reasonable. This assumption also makes the problem of generalization to non-participating client distributions more tractable since samples from the meta-distribution are seen during training.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Discretization.</h6>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.10" class="ltx_p">While the ultimate goal is to optimize the expected loss over the entire meta-distribution <math id="S2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.1.m1.1c">\mathcal{P}</annotation></semantics></math> and client local distributions <math id="S2.SS0.SSS0.Px2.p1.2.m2.2" class="ltx_Math" alttext="\{\mathcal{D}_{c}:c\in\mathfrak{C}\}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.2.m2.2a"><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.1.cmml">{</mo><msub id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.3.cmml">c</mi></msub><mo lspace="0.278em" rspace="0.278em" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.4" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.1.cmml">:</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.2.cmml">c</mi><mo id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.1.cmml">∈</mo><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml">ℭ</mi></mrow><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.5" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.2.m2.2b"><apply id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2"><csymbol cd="latexml" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.3">conditional-set</csymbol><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2">𝒟</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.3">𝑐</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2"><in id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.1"></in><ci id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.2">𝑐</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.2.3">ℭ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.2.m2.2c">\{\mathcal{D}_{c}:c\in\mathfrak{C}\}</annotation></semantics></math>, only finite training data and a finite number of clients are accessible during training.
We call the subset of clients that contributes training data the <span id="S2.SS0.SSS0.Px2.p1.10.1" class="ltx_text ltx_font_bold">participating clients</span>, denoted as <math id="S2.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\hat{\mathfrak{C}}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.3.m3.1a"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">ℭ</mi><mo id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1"><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1">^</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.3.m3.1c">\hat{\mathfrak{C}}</annotation></semantics></math>. We assume <math id="S2.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\hat{\mathfrak{C}}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.4.m4.1a"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2.cmml">ℭ</mi><mo id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.4.m4.1b"><apply id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1"><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1">^</ci><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.4.m4.1c">\hat{\mathfrak{C}}</annotation></semantics></math> is drawn from the meta-distribution <math id="S2.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.5.m5.1c">\mathcal{P}</annotation></semantics></math>.
For each participating client <math id="S2.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="c\in\hat{\mathfrak{C}}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.6.m6.1a"><mrow id="S2.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2.cmml">c</mi><mo id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.1.cmml">∈</mo><mover accent="true" id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.2.cmml">ℭ</mi><mo id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.1.cmml">^</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.6.m6.1b"><apply id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1"><in id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.1"></in><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2">𝑐</ci><apply id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3"><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.1">^</ci><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.2">ℭ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.6.m6.1c">c\in\hat{\mathfrak{C}}</annotation></semantics></math>, we denote <math id="S2.SS0.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\hat{\Xi}_{c}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.7.m7.1a"><msub id="S2.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml"><mi mathvariant="normal" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml">Ξ</mi><mo id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.7.m7.1b"><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2"><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.1">^</ci><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2">Ξ</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.7.m7.1c">\hat{\Xi}_{c}</annotation></semantics></math> the training data contributed by client <math id="S2.SS0.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.8.m8.1a"><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.8.m8.1b"><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.8.m8.1c">c</annotation></semantics></math>. We call these data <span id="S2.SS0.SSS0.Px2.p1.10.2" class="ltx_text ltx_font_bold">participating training client data</span> and assume <math id="S2.SS0.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="\hat{\Xi}_{c}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.9.m9.1a"><msub id="S2.SS0.SSS0.Px2.p1.9.m9.1.1" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.cmml"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.cmml"><mi mathvariant="normal" id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.2.cmml">Ξ</mi><mo id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.1" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.3" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.9.m9.1b"><apply id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1">subscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2"><ci id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.1">^</ci><ci id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.2.2">Ξ</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.9.m9.1c">\hat{\Xi}_{c}</annotation></semantics></math> satisfies the local distribution <math id="S2.SS0.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{D}_{c}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.10.m10.1a"><msub id="S2.SS0.SSS0.Px2.p1.10.m10.1.1" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.2" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.2.cmml">𝒟</mi><mi id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.3" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.10.m10.1b"><apply id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.2">𝒟</ci><ci id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.10.m10.1c">\mathcal{D}_{c}</annotation></semantics></math>.</p>
</div>
<div id="S2.Thmtheorem2" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S2.Thmtheorem2.1.1.1" class="ltx_text ltx_font_bold">Definition 2.2</span></span><span id="S2.Thmtheorem2.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.Thmtheorem2.p1" class="ltx_para">
<p id="S2.Thmtheorem2.p1.1" class="ltx_p"><span id="S2.Thmtheorem2.p1.1.1" class="ltx_text ltx_font_italic">The empirical risk on the participating training client data is defined by
<span id="S2.Thmtheorem2.p1.1.1.1" class="ltx_text" style="font-size:90%;"></span></span></p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.7" class="ltx_Math" alttext="F_{\mathrm{part\_train}}({\bm{w}}):=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho_{c}\cdot\left(\frac{1}{|\hat{\Xi}_{c}|}\sum_{\xi\in|\hat{\Xi}_{c}|}f({\bm{w}};\xi)\right)\right]." display="block"><semantics id="S2.E2.m1.7a"><mrow id="S2.E2.m1.7.7.1" xref="S2.E2.m1.7.7.1.1.cmml"><mrow id="S2.E2.m1.7.7.1.1" xref="S2.E2.m1.7.7.1.1.cmml"><mrow id="S2.E2.m1.7.7.1.1.3" xref="S2.E2.m1.7.7.1.1.3.cmml"><msub id="S2.E2.m1.7.7.1.1.3.2" xref="S2.E2.m1.7.7.1.1.3.2.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.3.2.2" xref="S2.E2.m1.7.7.1.1.3.2.2.cmml">F</mi><mrow id="S2.E2.m1.7.7.1.1.3.2.3" xref="S2.E2.m1.7.7.1.1.3.2.3.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.3.2.3.2" xref="S2.E2.m1.7.7.1.1.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.3.2.3.1" xref="S2.E2.m1.7.7.1.1.3.2.3.1.cmml">​</mo><mi mathsize="90%" mathvariant="normal" id="S2.E2.m1.7.7.1.1.3.2.3.3" xref="S2.E2.m1.7.7.1.1.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.3.2.3.1a" xref="S2.E2.m1.7.7.1.1.3.2.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.3.2.3.4" xref="S2.E2.m1.7.7.1.1.3.2.3.4.cmml">train</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.3.1" xref="S2.E2.m1.7.7.1.1.3.1.cmml">​</mo><mrow id="S2.E2.m1.7.7.1.1.3.3.2" xref="S2.E2.m1.7.7.1.1.3.cmml"><mo maxsize="90%" minsize="90%" id="S2.E2.m1.7.7.1.1.3.3.2.1" xref="S2.E2.m1.7.7.1.1.3.cmml">(</mo><mi mathsize="90%" id="S2.E2.m1.4.4" xref="S2.E2.m1.4.4.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" rspace="0.278em" id="S2.E2.m1.7.7.1.1.3.3.2.2" xref="S2.E2.m1.7.7.1.1.3.cmml">)</mo></mrow></mrow><mo mathsize="90%" rspace="0.278em" id="S2.E2.m1.7.7.1.1.2" xref="S2.E2.m1.7.7.1.1.2.cmml">:=</mo><mrow id="S2.E2.m1.7.7.1.1.1" xref="S2.E2.m1.7.7.1.1.1.cmml"><mfrac id="S2.E2.m1.1.1" xref="S2.E2.m1.1.1.cmml"><mn mathsize="90%" id="S2.E2.m1.1.1.3" xref="S2.E2.m1.1.1.3.cmml">1</mn><mrow id="S2.E2.m1.1.1.1.3" xref="S2.E2.m1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S2.E2.m1.1.1.1.3.1" xref="S2.E2.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S2.E2.m1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.2.cmml">ℭ</mi><mo mathsize="90%" id="S2.E2.m1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.cmml">^</mo></mover><mo maxsize="90%" minsize="90%" id="S2.E2.m1.1.1.1.3.2" xref="S2.E2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.2.cmml">​</mo><mrow id="S2.E2.m1.7.7.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.cmml"><munder id="S2.E2.m1.7.7.1.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" rspace="0em" stretchy="true" id="S2.E2.m1.7.7.1.1.1.1.2.2" xref="S2.E2.m1.7.7.1.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.2.3" xref="S2.E2.m1.7.7.1.1.1.1.2.3.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.2.3.2" xref="S2.E2.m1.7.7.1.1.1.1.2.3.2.cmml">c</mi><mo mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.2.3.1" xref="S2.E2.m1.7.7.1.1.1.1.2.3.1.cmml">∈</mo><mover accent="true" id="S2.E2.m1.7.7.1.1.1.1.2.3.3" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.2.3.3.2" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3.2.cmml">ℭ</mi><mo mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.2.3.3.1" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3.1.cmml">^</mo></mover></mrow></munder><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.1.2.cmml"><mo id="S2.E2.m1.7.7.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.cmml"><msub id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.3.cmml">c</mi></msub><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mfrac id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml"><mn mathsize="90%" id="S2.E2.m1.2.2.3" xref="S2.E2.m1.2.2.3.cmml">1</mn><mrow id="S2.E2.m1.2.2.1.1" xref="S2.E2.m1.2.2.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S2.E2.m1.2.2.1.1.2" xref="S2.E2.m1.2.2.1.2.1.cmml">|</mo><msub id="S2.E2.m1.2.2.1.1.1" xref="S2.E2.m1.2.2.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.2.2.1.1.1.2" xref="S2.E2.m1.2.2.1.1.1.2.cmml"><mi mathsize="90%" mathvariant="normal" id="S2.E2.m1.2.2.1.1.1.2.2" xref="S2.E2.m1.2.2.1.1.1.2.2.cmml">Ξ</mi><mo mathsize="90%" id="S2.E2.m1.2.2.1.1.1.2.1" xref="S2.E2.m1.2.2.1.1.1.2.1.cmml">^</mo></mover><mi mathsize="90%" id="S2.E2.m1.2.2.1.1.1.3" xref="S2.E2.m1.2.2.1.1.1.3.cmml">c</mi></msub><mo maxsize="90%" minsize="90%" id="S2.E2.m1.2.2.1.1.3" xref="S2.E2.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" stretchy="true" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">∑</mo><mrow id="S2.E2.m1.3.3.1" xref="S2.E2.m1.3.3.1.cmml"><mi mathsize="90%" id="S2.E2.m1.3.3.1.3" xref="S2.E2.m1.3.3.1.3.cmml">ξ</mi><mo mathsize="90%" id="S2.E2.m1.3.3.1.2" xref="S2.E2.m1.3.3.1.2.cmml">∈</mo><mrow id="S2.E2.m1.3.3.1.1.1" xref="S2.E2.m1.3.3.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S2.E2.m1.3.3.1.1.1.2" xref="S2.E2.m1.3.3.1.1.2.1.cmml">|</mo><msub id="S2.E2.m1.3.3.1.1.1.1" xref="S2.E2.m1.3.3.1.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.3.3.1.1.1.1.2" xref="S2.E2.m1.3.3.1.1.1.1.2.cmml"><mi mathsize="90%" mathvariant="normal" id="S2.E2.m1.3.3.1.1.1.1.2.2" xref="S2.E2.m1.3.3.1.1.1.1.2.2.cmml">Ξ</mi><mo mathsize="90%" id="S2.E2.m1.3.3.1.1.1.1.2.1" xref="S2.E2.m1.3.3.1.1.1.1.2.1.cmml">^</mo></mover><mi mathsize="90%" id="S2.E2.m1.3.3.1.1.1.1.3" xref="S2.E2.m1.3.3.1.1.1.1.3.cmml">c</mi></msub><mo maxsize="90%" minsize="90%" id="S2.E2.m1.3.3.1.1.1.3" xref="S2.E2.m1.3.3.1.1.2.1.cmml">|</mo></mrow></mrow></munder><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml"><mo maxsize="90%" minsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.2.1" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml">(</mo><mi mathsize="90%" id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml">𝒘</mi><mo mathsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.2.2" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml">;</mo><mi mathsize="90%" id="S2.E2.m1.6.6" xref="S2.E2.m1.6.6.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.2.3" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.7.7.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo lspace="0em" mathsize="90%" id="S2.E2.m1.7.7.1.2" xref="S2.E2.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.7b"><apply id="S2.E2.m1.7.7.1.1.cmml" xref="S2.E2.m1.7.7.1"><csymbol cd="latexml" id="S2.E2.m1.7.7.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.2">assign</csymbol><apply id="S2.E2.m1.7.7.1.1.3.cmml" xref="S2.E2.m1.7.7.1.1.3"><times id="S2.E2.m1.7.7.1.1.3.1.cmml" xref="S2.E2.m1.7.7.1.1.3.1"></times><apply id="S2.E2.m1.7.7.1.1.3.2.cmml" xref="S2.E2.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.1.1.3.2.1.cmml" xref="S2.E2.m1.7.7.1.1.3.2">subscript</csymbol><ci id="S2.E2.m1.7.7.1.1.3.2.2.cmml" xref="S2.E2.m1.7.7.1.1.3.2.2">𝐹</ci><apply id="S2.E2.m1.7.7.1.1.3.2.3.cmml" xref="S2.E2.m1.7.7.1.1.3.2.3"><times id="S2.E2.m1.7.7.1.1.3.2.3.1.cmml" xref="S2.E2.m1.7.7.1.1.3.2.3.1"></times><ci id="S2.E2.m1.7.7.1.1.3.2.3.2.cmml" xref="S2.E2.m1.7.7.1.1.3.2.3.2">part</ci><ci id="S2.E2.m1.7.7.1.1.3.2.3.3.cmml" xref="S2.E2.m1.7.7.1.1.3.2.3.3">_</ci><ci id="S2.E2.m1.7.7.1.1.3.2.3.4.cmml" xref="S2.E2.m1.7.7.1.1.3.2.3.4">train</ci></apply></apply><ci id="S2.E2.m1.4.4.cmml" xref="S2.E2.m1.4.4">𝒘</ci></apply><apply id="S2.E2.m1.7.7.1.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1"><times id="S2.E2.m1.7.7.1.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.2"></times><apply id="S2.E2.m1.1.1.cmml" xref="S2.E2.m1.1.1"><divide id="S2.E2.m1.1.1.2.cmml" xref="S2.E2.m1.1.1"></divide><cn type="integer" id="S2.E2.m1.1.1.3.cmml" xref="S2.E2.m1.1.1.3">1</cn><apply id="S2.E2.m1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.3"><abs id="S2.E2.m1.1.1.1.2.1.cmml" xref="S2.E2.m1.1.1.1.3.1"></abs><apply id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1"><ci id="S2.E2.m1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1">^</ci><ci id="S2.E2.m1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.1.1.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1"><apply id="S2.E2.m1.7.7.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.1.1.1.1.2.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2">subscript</csymbol><sum id="S2.E2.m1.7.7.1.1.1.1.2.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.2"></sum><apply id="S2.E2.m1.7.7.1.1.1.1.2.3.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3"><in id="S2.E2.m1.7.7.1.1.1.1.2.3.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3.1"></in><ci id="S2.E2.m1.7.7.1.1.1.1.2.3.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3.2">𝑐</ci><apply id="S2.E2.m1.7.7.1.1.1.1.2.3.3.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3"><ci id="S2.E2.m1.7.7.1.1.1.1.2.3.3.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3.1">^</ci><ci id="S2.E2.m1.7.7.1.1.1.1.2.3.3.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.2.3.3.2">ℭ</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.7.7.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1"><ci id="S2.E2.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.2">⋅</ci><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.3.3">𝑐</ci></apply><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1"><times id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1"></times><apply id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2"><divide id="S2.E2.m1.2.2.2.cmml" xref="S2.E2.m1.2.2"></divide><cn type="integer" id="S2.E2.m1.2.2.3.cmml" xref="S2.E2.m1.2.2.3">1</cn><apply id="S2.E2.m1.2.2.1.2.cmml" xref="S2.E2.m1.2.2.1.1"><abs id="S2.E2.m1.2.2.1.2.1.cmml" xref="S2.E2.m1.2.2.1.1.2"></abs><apply id="S2.E2.m1.2.2.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1">subscript</csymbol><apply id="S2.E2.m1.2.2.1.1.1.2.cmml" xref="S2.E2.m1.2.2.1.1.1.2"><ci id="S2.E2.m1.2.2.1.1.1.2.1.cmml" xref="S2.E2.m1.2.2.1.1.1.2.1">^</ci><ci id="S2.E2.m1.2.2.1.1.1.2.2.cmml" xref="S2.E2.m1.2.2.1.1.1.2.2">Ξ</ci></apply><ci id="S2.E2.m1.2.2.1.1.1.3.cmml" xref="S2.E2.m1.2.2.1.1.1.3">𝑐</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2"><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1">subscript</csymbol><sum id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.2"></sum><apply id="S2.E2.m1.3.3.1.cmml" xref="S2.E2.m1.3.3.1"><in id="S2.E2.m1.3.3.1.2.cmml" xref="S2.E2.m1.3.3.1.2"></in><ci id="S2.E2.m1.3.3.1.3.cmml" xref="S2.E2.m1.3.3.1.3">𝜉</ci><apply id="S2.E2.m1.3.3.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.1"><abs id="S2.E2.m1.3.3.1.1.2.1.cmml" xref="S2.E2.m1.3.3.1.1.1.2"></abs><apply id="S2.E2.m1.3.3.1.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.1.1.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1">subscript</csymbol><apply id="S2.E2.m1.3.3.1.1.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.1.1.2"><ci id="S2.E2.m1.3.3.1.1.1.1.2.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1.2.1">^</ci><ci id="S2.E2.m1.3.3.1.1.1.1.2.2.cmml" xref="S2.E2.m1.3.3.1.1.1.1.2.2">Ξ</ci></apply><ci id="S2.E2.m1.3.3.1.1.1.1.3.cmml" xref="S2.E2.m1.3.3.1.1.1.1.3">𝑐</ci></apply></apply></apply></apply><apply id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2"><times id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.1"></times><ci id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.2">𝑓</ci><list id="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S2.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.3.2"><ci id="S2.E2.m1.5.5.cmml" xref="S2.E2.m1.5.5">𝒘</ci><ci id="S2.E2.m1.6.6.cmml" xref="S2.E2.m1.6.6">𝜉</ci></list></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.7c">F_{\mathrm{part\_train}}({\bm{w}}):=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho_{c}\cdot\left(\frac{1}{|\hat{\Xi}_{c}|}\sum_{\xi\in|\hat{\Xi}_{c}|}f({\bm{w}};\xi)\right)\right].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S2.SS0.SSS0.Px2.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p2.1" class="ltx_p"><a href="#S2.E2" title="In Definition 2.2. ‣ Discretization. ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">2</span></a> characterizes the performance of the model (at parameter <math id="S2.SS0.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="{\bm{w}}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.1.m1.1a"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.1.m1.1b"><ci id="S2.SS0.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.1.m1.1c">{\bm{w}}</annotation></semantics></math>) on the observed data possessed by observed clients.</p>
</div>
<div id="S2.SS0.SSS0.Px2.p3" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p3.1" class="ltx_p">There are two levels of generalization between <a href="#S2.E2" title="In Definition 2.2. ‣ Discretization. ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">2</span></a> and <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a>: (i) the generalization from finite training data to unseen data, and (ii) the generalization from finite participating clients to unseen clients.
To disentangle the effect of the two levels, a natural intermediate stage is to consider the performance on unseen data of participating (seen) clients.</p>
</div>
<div id="S2.Thmtheorem3" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S2.Thmtheorem3.1.1.1" class="ltx_text ltx_font_bold">Definition 2.3</span></span><span id="S2.Thmtheorem3.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.Thmtheorem3.p1" class="ltx_para">
<p id="S2.Thmtheorem3.p1.1" class="ltx_p"><span id="S2.Thmtheorem3.p1.1.1" class="ltx_text ltx_font_italic">The semi-empirical risk on the participating validation client data is defined by
<span id="S2.Thmtheorem3.p1.1.1.1" class="ltx_text" style="font-size:90%;"></span></span></p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.5" class="ltx_Math" alttext="F_{\mathrm{part\_val}}({\bm{w}}):=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho_{c}\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}_{c}}f({\bm{w}};\xi)\right)\right]." display="block"><semantics id="S2.E3.m1.5a"><mrow id="S2.E3.m1.5.5.1" xref="S2.E3.m1.5.5.1.1.cmml"><mrow id="S2.E3.m1.5.5.1.1" xref="S2.E3.m1.5.5.1.1.cmml"><mrow id="S2.E3.m1.5.5.1.1.3" xref="S2.E3.m1.5.5.1.1.3.cmml"><msub id="S2.E3.m1.5.5.1.1.3.2" xref="S2.E3.m1.5.5.1.1.3.2.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.3.2.2" xref="S2.E3.m1.5.5.1.1.3.2.2.cmml">F</mi><mrow id="S2.E3.m1.5.5.1.1.3.2.3" xref="S2.E3.m1.5.5.1.1.3.2.3.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.3.2.3.2" xref="S2.E3.m1.5.5.1.1.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.3.2.3.1" xref="S2.E3.m1.5.5.1.1.3.2.3.1.cmml">​</mo><mi mathsize="90%" mathvariant="normal" id="S2.E3.m1.5.5.1.1.3.2.3.3" xref="S2.E3.m1.5.5.1.1.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.3.2.3.1a" xref="S2.E3.m1.5.5.1.1.3.2.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.3.2.3.4" xref="S2.E3.m1.5.5.1.1.3.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.3.1" xref="S2.E3.m1.5.5.1.1.3.1.cmml">​</mo><mrow id="S2.E3.m1.5.5.1.1.3.3.2" xref="S2.E3.m1.5.5.1.1.3.cmml"><mo maxsize="90%" minsize="90%" id="S2.E3.m1.5.5.1.1.3.3.2.1" xref="S2.E3.m1.5.5.1.1.3.cmml">(</mo><mi mathsize="90%" id="S2.E3.m1.2.2" xref="S2.E3.m1.2.2.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" rspace="0.278em" id="S2.E3.m1.5.5.1.1.3.3.2.2" xref="S2.E3.m1.5.5.1.1.3.cmml">)</mo></mrow></mrow><mo mathsize="90%" rspace="0.278em" id="S2.E3.m1.5.5.1.1.2" xref="S2.E3.m1.5.5.1.1.2.cmml">:=</mo><mrow id="S2.E3.m1.5.5.1.1.1" xref="S2.E3.m1.5.5.1.1.1.cmml"><mfrac id="S2.E3.m1.1.1" xref="S2.E3.m1.1.1.cmml"><mn mathsize="90%" id="S2.E3.m1.1.1.3" xref="S2.E3.m1.1.1.3.cmml">1</mn><mrow id="S2.E3.m1.1.1.1.3" xref="S2.E3.m1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S2.E3.m1.1.1.1.3.1" xref="S2.E3.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S2.E3.m1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.2.cmml">ℭ</mi><mo mathsize="90%" id="S2.E3.m1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.cmml">^</mo></mover><mo maxsize="90%" minsize="90%" id="S2.E3.m1.1.1.1.3.2" xref="S2.E3.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.2.cmml">​</mo><mrow id="S2.E3.m1.5.5.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.cmml"><munder id="S2.E3.m1.5.5.1.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" rspace="0em" stretchy="true" id="S2.E3.m1.5.5.1.1.1.1.2.2" xref="S2.E3.m1.5.5.1.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E3.m1.5.5.1.1.1.1.2.3" xref="S2.E3.m1.5.5.1.1.1.1.2.3.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.2.3.2" xref="S2.E3.m1.5.5.1.1.1.1.2.3.2.cmml">c</mi><mo mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.2.3.1" xref="S2.E3.m1.5.5.1.1.1.1.2.3.1.cmml">∈</mo><mover accent="true" id="S2.E3.m1.5.5.1.1.1.1.2.3.3" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.2.3.3.2" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3.2.cmml">ℭ</mi><mo mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.2.3.3.1" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3.1.cmml">^</mo></mover></mrow></munder><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.1.2.cmml"><mo id="S2.E3.m1.5.5.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.cmml"><msub id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.3.cmml">c</mi></msub><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝔼</mi><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">ξ</mi><mo mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">∼</mo><msub id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">c</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1a" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.1.cmml"><mo maxsize="90%" minsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.2.1" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.1.cmml">(</mo><mi mathsize="90%" id="S2.E3.m1.3.3" xref="S2.E3.m1.3.3.cmml">𝒘</mi><mo mathsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.2.2" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.1.cmml">;</mo><mi mathsize="90%" id="S2.E3.m1.4.4" xref="S2.E3.m1.4.4.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.2.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.5.5.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo lspace="0em" mathsize="90%" id="S2.E3.m1.5.5.1.2" xref="S2.E3.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.5b"><apply id="S2.E3.m1.5.5.1.1.cmml" xref="S2.E3.m1.5.5.1"><csymbol cd="latexml" id="S2.E3.m1.5.5.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.2">assign</csymbol><apply id="S2.E3.m1.5.5.1.1.3.cmml" xref="S2.E3.m1.5.5.1.1.3"><times id="S2.E3.m1.5.5.1.1.3.1.cmml" xref="S2.E3.m1.5.5.1.1.3.1"></times><apply id="S2.E3.m1.5.5.1.1.3.2.cmml" xref="S2.E3.m1.5.5.1.1.3.2"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.1.3.2.1.cmml" xref="S2.E3.m1.5.5.1.1.3.2">subscript</csymbol><ci id="S2.E3.m1.5.5.1.1.3.2.2.cmml" xref="S2.E3.m1.5.5.1.1.3.2.2">𝐹</ci><apply id="S2.E3.m1.5.5.1.1.3.2.3.cmml" xref="S2.E3.m1.5.5.1.1.3.2.3"><times id="S2.E3.m1.5.5.1.1.3.2.3.1.cmml" xref="S2.E3.m1.5.5.1.1.3.2.3.1"></times><ci id="S2.E3.m1.5.5.1.1.3.2.3.2.cmml" xref="S2.E3.m1.5.5.1.1.3.2.3.2">part</ci><ci id="S2.E3.m1.5.5.1.1.3.2.3.3.cmml" xref="S2.E3.m1.5.5.1.1.3.2.3.3">_</ci><ci id="S2.E3.m1.5.5.1.1.3.2.3.4.cmml" xref="S2.E3.m1.5.5.1.1.3.2.3.4">val</ci></apply></apply><ci id="S2.E3.m1.2.2.cmml" xref="S2.E3.m1.2.2">𝒘</ci></apply><apply id="S2.E3.m1.5.5.1.1.1.cmml" xref="S2.E3.m1.5.5.1.1.1"><times id="S2.E3.m1.5.5.1.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.1.2"></times><apply id="S2.E3.m1.1.1.cmml" xref="S2.E3.m1.1.1"><divide id="S2.E3.m1.1.1.2.cmml" xref="S2.E3.m1.1.1"></divide><cn type="integer" id="S2.E3.m1.1.1.3.cmml" xref="S2.E3.m1.1.1.3">1</cn><apply id="S2.E3.m1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.3"><abs id="S2.E3.m1.1.1.1.2.1.cmml" xref="S2.E3.m1.1.1.1.3.1"></abs><apply id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1"><ci id="S2.E3.m1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1">^</ci><ci id="S2.E3.m1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S2.E3.m1.5.5.1.1.1.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1"><apply id="S2.E3.m1.5.5.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.1.1.1.2.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2">subscript</csymbol><sum id="S2.E3.m1.5.5.1.1.1.1.2.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.2"></sum><apply id="S2.E3.m1.5.5.1.1.1.1.2.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3"><in id="S2.E3.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3.1"></in><ci id="S2.E3.m1.5.5.1.1.1.1.2.3.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3.2">𝑐</ci><apply id="S2.E3.m1.5.5.1.1.1.1.2.3.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3"><ci id="S2.E3.m1.5.5.1.1.1.1.2.3.3.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3.1">^</ci><ci id="S2.E3.m1.5.5.1.1.1.1.2.3.3.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.2.3.3.2">ℭ</ci></apply></apply></apply><apply id="S2.E3.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.5.5.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1"><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.2">⋅</ci><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.3.3">𝑐</ci></apply><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"></times><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2">𝔼</ci><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="latexml" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1">similar-to</csymbol><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2">𝜉</ci><apply id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2">𝒟</ci><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3">𝑐</ci></apply></apply></apply><ci id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.3">𝑓</ci><list id="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S2.E3.m1.5.5.1.1.1.1.1.1.1.1.1.1.4.2"><ci id="S2.E3.m1.3.3.cmml" xref="S2.E3.m1.3.3">𝒘</ci><ci id="S2.E3.m1.4.4.cmml" xref="S2.E3.m1.4.4">𝜉</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.5c">F_{\mathrm{part\_val}}({\bm{w}}):=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho_{c}\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}_{c}}f({\bm{w}};\xi)\right)\right].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S2.SS0.SSS0.Px2.p4" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p4.3" class="ltx_p"><a href="#S2.E3" title="In Definition 2.3. ‣ Discretization. ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">3</span></a> differs from <a href="#S2.E2" title="In Definition 2.2. ‣ Discretization. ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">2</span></a> by replacing the intra-client empirical loss with the expected loss over <math id="S2.SS0.SSS0.Px2.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{D}_{c}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p4.1.m1.1a"><msub id="S2.SS0.SSS0.Px2.p4.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.2" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1.2.cmml">𝒟</mi><mi id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.3" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p4.1.m1.1b"><apply id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1.2">𝒟</ci><ci id="S2.SS0.SSS0.Px2.p4.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p4.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p4.1.m1.1c">\mathcal{D}_{c}</annotation></semantics></math>.
We shall also call <math id="S2.SS0.SSS0.Px2.p4.2.m2.1" class="ltx_Math" alttext="F({\bm{w}})" display="inline"><semantics id="S2.SS0.SSS0.Px2.p4.2.m2.1a"><mrow id="S2.SS0.SSS0.Px2.p4.2.m2.1.2" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.2" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.1" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.1.cmml">​</mo><mrow id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.3.2" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.3.2.1" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px2.p4.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.1.cmml">𝒘</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.3.2.2" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p4.2.m2.1b"><apply id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.cmml" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2"><times id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.1"></times><ci id="S2.SS0.SSS0.Px2.p4.2.m2.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.2.2">𝐹</ci><ci id="S2.SS0.SSS0.Px2.p4.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p4.2.m2.1.1">𝒘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p4.2.m2.1c">F({\bm{w}})</annotation></semantics></math> defined in <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a> the <span id="S2.SS0.SSS0.Px2.p4.3.1" class="ltx_text ltx_font_bold">unparticipating expected risk</span> and denote it as <math id="S2.SS0.SSS0.Px2.p4.3.m3.1" class="ltx_Math" alttext="F_{\mathrm{unpart}}({\bm{w}})" display="inline"><semantics id="S2.SS0.SSS0.Px2.p4.3.m3.1a"><mrow id="S2.SS0.SSS0.Px2.p4.3.m3.1.2" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.cmml"><msub id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.2" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.2.cmml">F</mi><mi id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.3" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.1" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.1.cmml">​</mo><mrow id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.3.2" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.3.2.1" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px2.p4.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.1.cmml">𝒘</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.3.2.2" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p4.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2"><times id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.1"></times><apply id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.2">𝐹</ci><ci id="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.2.2.3">unpart</ci></apply><ci id="S2.SS0.SSS0.Px2.p4.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p4.3.m3.1.1">𝒘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p4.3.m3.1c">F_{\mathrm{unpart}}({\bm{w}})</annotation></semantics></math> for consistency.
Now we are ready to define the two levels of generalization gaps formally.</p>
</div>
<div id="S2.Thmtheorem4" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S2.Thmtheorem4.1.1.1" class="ltx_text ltx_font_bold">Definition 2.4</span></span><span id="S2.Thmtheorem4.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.Thmtheorem4.p1" class="ltx_para">
<p id="S2.Thmtheorem4.p1.1" class="ltx_p"><span id="S2.Thmtheorem4.p1.1.1" class="ltx_text ltx_font_italic">The out-of-sample gap is defined as <math id="S2.Thmtheorem4.p1.1.1.m1.2" class="ltx_Math" alttext="F_{\mathrm{part\_val}}({\bm{w}})-F_{\mathrm{part\_train}}({\bm{w}})" display="inline"><semantics id="S2.Thmtheorem4.p1.1.1.m1.2a"><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.cmml"><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.cmml"><msub id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.cmml"><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.2.cmml">F</mi><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.cmml"><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1a" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.4" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.1.cmml">​</mo><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.cmml"><mo stretchy="false" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.3.2.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.cmml">(</mo><mi id="S2.Thmtheorem4.p1.1.1.m1.1.1" xref="S2.Thmtheorem4.p1.1.1.m1.1.1.cmml">𝐰</mi><mo stretchy="false" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.3.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.cmml">)</mo></mrow></mrow><mo id="S2.Thmtheorem4.p1.1.1.m1.2.3.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.1.cmml">−</mo><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.cmml"><msub id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.cmml"><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.2.cmml">F</mi><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.cmml"><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.3" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1a" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1.cmml">​</mo><mi id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.4" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.4.cmml">train</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.1.cmml">​</mo><mrow id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.3.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.cmml"><mo stretchy="false" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.3.2.1" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.cmml">(</mo><mi id="S2.Thmtheorem4.p1.1.1.m1.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.3.2.2" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem4.p1.1.1.m1.2b"><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3"><minus id="S2.Thmtheorem4.p1.1.1.m1.2.3.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.1"></minus><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2"><times id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.1"></times><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2"><csymbol cd="ambiguous" id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2">subscript</csymbol><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.2">𝐹</ci><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3"><times id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.1"></times><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.2">part</ci><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.3">_</ci><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.4.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.2.2.3.4">val</ci></apply></apply><ci id="S2.Thmtheorem4.p1.1.1.m1.1.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.1.1">𝐰</ci></apply><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3"><times id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.1"></times><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2"><csymbol cd="ambiguous" id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2">subscript</csymbol><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.2">𝐹</ci><apply id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3"><times id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.1"></times><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.2">part</ci><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.3.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.3">_</ci><ci id="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.4.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.3.3.2.3.4">train</ci></apply></apply><ci id="S2.Thmtheorem4.p1.1.1.m1.2.2.cmml" xref="S2.Thmtheorem4.p1.1.1.m1.2.2">𝐰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem4.p1.1.1.m1.2c">F_{\mathrm{part\_val}}({\bm{w}})-F_{\mathrm{part\_train}}({\bm{w}})</annotation></semantics></math>.</span></p>
</div>
</div>
<div id="S2.Thmtheorem5" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S2.Thmtheorem5.1.1.1" class="ltx_text ltx_font_bold">Definition 2.5</span></span><span id="S2.Thmtheorem5.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.Thmtheorem5.p1" class="ltx_para">
<p id="S2.Thmtheorem5.p1.1" class="ltx_p"><span id="S2.Thmtheorem5.p1.1.1" class="ltx_text ltx_font_italic">The participation gap is defined as <math id="S2.Thmtheorem5.p1.1.1.m1.2" class="ltx_Math" alttext="F_{\mathrm{unpart}}({\bm{w}})-F_{\mathrm{part\_val}}({\bm{w}})" display="inline"><semantics id="S2.Thmtheorem5.p1.1.1.m1.2a"><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.cmml"><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.cmml"><msub id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.cmml"><mi id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.2.cmml">F</mi><mi id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.3" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.1.cmml">​</mo><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.3.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.cmml"><mo stretchy="false" id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.3.2.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.cmml">(</mo><mi id="S2.Thmtheorem5.p1.1.1.m1.1.1" xref="S2.Thmtheorem5.p1.1.1.m1.1.1.cmml">𝐰</mi><mo stretchy="false" id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.3.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.cmml">)</mo></mrow></mrow><mo id="S2.Thmtheorem5.p1.1.1.m1.2.3.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.1.cmml">−</mo><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3.3" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.cmml"><msub id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.cmml"><mi id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.2.cmml">F</mi><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.cmml"><mi id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.3" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1a" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1.cmml">​</mo><mi id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.4" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.1.cmml">​</mo><mrow id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.3.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.cmml"><mo stretchy="false" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.3.2.1" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.cmml">(</mo><mi id="S2.Thmtheorem5.p1.1.1.m1.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.3.2.2" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem5.p1.1.1.m1.2b"><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3"><minus id="S2.Thmtheorem5.p1.1.1.m1.2.3.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.1"></minus><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2"><times id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.1"></times><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2"><csymbol cd="ambiguous" id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2">subscript</csymbol><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.2">𝐹</ci><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.3.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.2.2.3">unpart</ci></apply><ci id="S2.Thmtheorem5.p1.1.1.m1.1.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.1.1">𝐰</ci></apply><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3"><times id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.1"></times><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2"><csymbol cd="ambiguous" id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2">subscript</csymbol><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.2">𝐹</ci><apply id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3"><times id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.1"></times><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.2">part</ci><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.3.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.3">_</ci><ci id="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.4.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.3.3.2.3.4">val</ci></apply></apply><ci id="S2.Thmtheorem5.p1.1.1.m1.2.2.cmml" xref="S2.Thmtheorem5.p1.1.1.m1.2.2">𝐰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem5.p1.1.1.m1.2c">F_{\mathrm{unpart}}({\bm{w}})-F_{\mathrm{part\_val}}({\bm{w}})</annotation></semantics></math>.</span></p>
</div>
</div>
<div id="S2.SS0.SSS0.Px2.p5" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p5.1" class="ltx_p">Note that these gaps are also meaningful in centralized learning settings where data is sampled from a distribution of distributions.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Understanding Generalization Gaps</h3>

<section id="S3.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Estimating Risks and Gaps via the Three-Way Split</h4>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.2" class="ltx_p">Both <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="F_{\mathrm{part\_val}}" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><msub id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">F</mi><mrow id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS1.p1.1.m1.1.1.3.2" xref="S3.SS1.p1.1.m1.1.1.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.1.m1.1.1.3.1" xref="S3.SS1.p1.1.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS1.p1.1.m1.1.1.3.3" xref="S3.SS1.p1.1.m1.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.1.m1.1.1.3.1a" xref="S3.SS1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p1.1.m1.1.1.3.4" xref="S3.SS1.p1.1.m1.1.1.3.4.cmml">val</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝐹</ci><apply id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3"><times id="S3.SS1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.p1.1.m1.1.1.3.1"></times><ci id="S3.SS1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.p1.1.m1.1.1.3.2">part</ci><ci id="S3.SS1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3.3">_</ci><ci id="S3.SS1.p1.1.m1.1.1.3.4.cmml" xref="S3.SS1.p1.1.m1.1.1.3.4">val</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">F_{\mathrm{part\_val}}</annotation></semantics></math> and <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="F_{\mathrm{unpart}}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">F</mi><mi id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">unpart</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝐹</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">unpart</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">F_{\mathrm{unpart}}</annotation></semantics></math> take an expectation over the distribution of clients or data.
To estimate these two risks in practice, we propose splitting datasets into three blocks.
The procedure is demonstrated in <a href="#S3.F2" title="In 3.1 Estimating Risks and Gaps via the Three-Way Split ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">2</span></a>.
Given a dataset with client assignment, we first hold out a percentage of clients (<span id="S3.SS1.p1.2.1" class="ltx_text ltx_font_italic">e.g.,</span> 20%) as unparticipating clients, as shown in the rightmost two columns (in purple). The remaining clients are participating clients.
We refer to this split as <span id="S3.SS1.p1.2.2" class="ltx_text ltx_font_bold">inter-client split</span>.
Within each participating client, we hold out a percentage of data (<span id="S3.SS1.p1.2.3" class="ltx_text ltx_font_italic">e.g.,</span> 20%) as participating validation data, as shown in the upper left block (in orange).
The remaining data is the participating training client data, as shown in the lower left block (in blue).
We refer to this second split as <span id="S3.SS1.p1.2.4" class="ltx_text ltx_font_bold">intra-client split</span>.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2110.14216/assets/figs/three-way-split.png" id="S3.F2.g1" class="ltx_graphics ltx_img_landscape" width="210" height="131" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Illustration of the three-way split via a visualization of the EMNIST digits dataset.<span id="S3.F2.4.2.1" class="ltx_text ltx_font_medium">
Each column corresponds to the dataset of one client.
A dataset is split into participating training, participating validation, and unparticipating data, which enables separate measurement of out-of-sample and participation gaps (unlike other works). Note we only present the digit “6” for illustrative purposes.
</span></span></figcaption>
</figure>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">Existing FL literature and benchmarks typically conduct either an inter-client or intra-client train-validation split.
However, neither inter-client nor intra-client split alone can reveal the participation gap.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>To see this, observe that inter-client split can only estimate <math id="footnote1.m1.1" class="ltx_Math" alttext="F_{\mathrm{part\_train}}" display="inline"><semantics id="footnote1.m1.1b"><msub id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><mi id="footnote1.m1.1.1.2" xref="footnote1.m1.1.1.2.cmml">F</mi><mrow id="footnote1.m1.1.1.3" xref="footnote1.m1.1.1.3.cmml"><mi id="footnote1.m1.1.1.3.2" xref="footnote1.m1.1.1.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="footnote1.m1.1.1.3.1" xref="footnote1.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="footnote1.m1.1.1.3.3" xref="footnote1.m1.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="footnote1.m1.1.1.3.1b" xref="footnote1.m1.1.1.3.1.cmml">​</mo><mi id="footnote1.m1.1.1.3.4" xref="footnote1.m1.1.1.3.4.cmml">train</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><csymbol cd="ambiguous" id="footnote1.m1.1.1.1.cmml" xref="footnote1.m1.1.1">subscript</csymbol><ci id="footnote1.m1.1.1.2.cmml" xref="footnote1.m1.1.1.2">𝐹</ci><apply id="footnote1.m1.1.1.3.cmml" xref="footnote1.m1.1.1.3"><times id="footnote1.m1.1.1.3.1.cmml" xref="footnote1.m1.1.1.3.1"></times><ci id="footnote1.m1.1.1.3.2.cmml" xref="footnote1.m1.1.1.3.2">part</ci><ci id="footnote1.m1.1.1.3.3.cmml" xref="footnote1.m1.1.1.3.3">_</ci><ci id="footnote1.m1.1.1.3.4.cmml" xref="footnote1.m1.1.1.3.4">train</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">F_{\mathrm{part\_train}}</annotation></semantics></math> and <math id="footnote1.m2.1" class="ltx_Math" alttext="F_{\mathrm{unpart}}" display="inline"><semantics id="footnote1.m2.1b"><msub id="footnote1.m2.1.1" xref="footnote1.m2.1.1.cmml"><mi id="footnote1.m2.1.1.2" xref="footnote1.m2.1.1.2.cmml">F</mi><mi id="footnote1.m2.1.1.3" xref="footnote1.m2.1.1.3.cmml">unpart</mi></msub><annotation-xml encoding="MathML-Content" id="footnote1.m2.1c"><apply id="footnote1.m2.1.1.cmml" xref="footnote1.m2.1.1"><csymbol cd="ambiguous" id="footnote1.m2.1.1.1.cmml" xref="footnote1.m2.1.1">subscript</csymbol><ci id="footnote1.m2.1.1.2.cmml" xref="footnote1.m2.1.1.2">𝐹</ci><ci id="footnote1.m2.1.1.3.cmml" xref="footnote1.m2.1.1.3">unpart</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m2.1d">F_{\mathrm{unpart}}</annotation></semantics></math>, and intra-client split can only estimate <math id="footnote1.m3.1" class="ltx_Math" alttext="F_{\mathrm{part\_train}}" display="inline"><semantics id="footnote1.m3.1b"><msub id="footnote1.m3.1.1" xref="footnote1.m3.1.1.cmml"><mi id="footnote1.m3.1.1.2" xref="footnote1.m3.1.1.2.cmml">F</mi><mrow id="footnote1.m3.1.1.3" xref="footnote1.m3.1.1.3.cmml"><mi id="footnote1.m3.1.1.3.2" xref="footnote1.m3.1.1.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="footnote1.m3.1.1.3.1" xref="footnote1.m3.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="footnote1.m3.1.1.3.3" xref="footnote1.m3.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="footnote1.m3.1.1.3.1b" xref="footnote1.m3.1.1.3.1.cmml">​</mo><mi id="footnote1.m3.1.1.3.4" xref="footnote1.m3.1.1.3.4.cmml">train</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="footnote1.m3.1c"><apply id="footnote1.m3.1.1.cmml" xref="footnote1.m3.1.1"><csymbol cd="ambiguous" id="footnote1.m3.1.1.1.cmml" xref="footnote1.m3.1.1">subscript</csymbol><ci id="footnote1.m3.1.1.2.cmml" xref="footnote1.m3.1.1.2">𝐹</ci><apply id="footnote1.m3.1.1.3.cmml" xref="footnote1.m3.1.1.3"><times id="footnote1.m3.1.1.3.1.cmml" xref="footnote1.m3.1.1.3.1"></times><ci id="footnote1.m3.1.1.3.2.cmml" xref="footnote1.m3.1.1.3.2">part</ci><ci id="footnote1.m3.1.1.3.3.cmml" xref="footnote1.m3.1.1.3.3">_</ci><ci id="footnote1.m3.1.1.3.4.cmml" xref="footnote1.m3.1.1.3.4">train</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m3.1d">F_{\mathrm{part\_train}}</annotation></semantics></math> and <math id="footnote1.m4.1" class="ltx_Math" alttext="F_{\mathrm{part\_val}}" display="inline"><semantics id="footnote1.m4.1b"><msub id="footnote1.m4.1.1" xref="footnote1.m4.1.1.cmml"><mi id="footnote1.m4.1.1.2" xref="footnote1.m4.1.1.2.cmml">F</mi><mrow id="footnote1.m4.1.1.3" xref="footnote1.m4.1.1.3.cmml"><mi id="footnote1.m4.1.1.3.2" xref="footnote1.m4.1.1.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="footnote1.m4.1.1.3.1" xref="footnote1.m4.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="footnote1.m4.1.1.3.3" xref="footnote1.m4.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="footnote1.m4.1.1.3.1b" xref="footnote1.m4.1.1.3.1.cmml">​</mo><mi id="footnote1.m4.1.1.3.4" xref="footnote1.m4.1.1.3.4.cmml">val</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="footnote1.m4.1c"><apply id="footnote1.m4.1.1.cmml" xref="footnote1.m4.1.1"><csymbol cd="ambiguous" id="footnote1.m4.1.1.1.cmml" xref="footnote1.m4.1.1">subscript</csymbol><ci id="footnote1.m4.1.1.2.cmml" xref="footnote1.m4.1.1.2">𝐹</ci><apply id="footnote1.m4.1.1.3.cmml" xref="footnote1.m4.1.1.3"><times id="footnote1.m4.1.1.3.1.cmml" xref="footnote1.m4.1.1.3.1"></times><ci id="footnote1.m4.1.1.3.2.cmml" xref="footnote1.m4.1.1.3.2">part</ci><ci id="footnote1.m4.1.1.3.3.cmml" xref="footnote1.m4.1.1.3.3">_</ci><ci id="footnote1.m4.1.1.3.4.cmml" xref="footnote1.m4.1.1.3.4">val</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m4.1d">F_{\mathrm{part\_val}}</annotation></semantics></math>.</span></span></span>
To the best of our knowledge, this is the first work that conducts <em id="S3.SS1.p2.1.1" class="ltx_emph ltx_font_italic">both</em> splits <em id="S3.SS1.p2.1.2" class="ltx_emph ltx_font_italic">simultaneously</em>.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Why is the Participation Gap Interesting?</h4>

<section id="S3.SS2.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Participation gap is an intrinsic property of FL due to heterogeneity.</h6>

<div id="S3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p1.1" class="ltx_p">Heterogeneity across clients is one of the most important phenomena in FL.
We identify that the participation gap is another outcome of heterogeneity in FL, in that the gap will not exist if data is homogeneous. Formally, we can establish the following proposition.</p>
</div>
<div id="S3.Thmtheorem1" class="ltx_theorem ltx_theorem_proposition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S3.Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Proposition 3.1</span></span><span id="S3.Thmtheorem1.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.Thmtheorem1.p1" class="ltx_para">
<p id="S3.Thmtheorem1.p1.6" class="ltx_p"><span id="S3.Thmtheorem1.p1.6.6" class="ltx_text ltx_font_italic">If <math id="S3.Thmtheorem1.p1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}_{c}\equiv\mathcal{D}" display="inline"><semantics id="S3.Thmtheorem1.p1.1.1.m1.1a"><mrow id="S3.Thmtheorem1.p1.1.1.m1.1.1" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.cmml"><msub id="S3.Thmtheorem1.p1.1.1.m1.1.1.2" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.2" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2.2.cmml">𝒟</mi><mi id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.3" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2.3.cmml">c</mi></msub><mo id="S3.Thmtheorem1.p1.1.1.m1.1.1.1" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.1.cmml">≡</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmtheorem1.p1.1.1.m1.1.1.3" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.3.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.1.1.m1.1b"><apply id="S3.Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1"><equivalent id="S3.Thmtheorem1.p1.1.1.m1.1.1.1.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.1"></equivalent><apply id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.1.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2">subscript</csymbol><ci id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.2.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2.2">𝒟</ci><ci id="S3.Thmtheorem1.p1.1.1.m1.1.1.2.3.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.2.3">𝑐</ci></apply><ci id="S3.Thmtheorem1.p1.1.1.m1.1.1.3.cmml" xref="S3.Thmtheorem1.p1.1.1.m1.1.1.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.1.1.m1.1c">\mathcal{D}_{c}\equiv\mathcal{D}</annotation></semantics></math> for any <math id="S3.Thmtheorem1.p1.2.2.m2.1" class="ltx_Math" alttext="c\in\mathfrak{C}" display="inline"><semantics id="S3.Thmtheorem1.p1.2.2.m2.1a"><mrow id="S3.Thmtheorem1.p1.2.2.m2.1.1" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.cmml"><mi id="S3.Thmtheorem1.p1.2.2.m2.1.1.2" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.2.cmml">c</mi><mo id="S3.Thmtheorem1.p1.2.2.m2.1.1.1" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.1.cmml">∈</mo><mi id="S3.Thmtheorem1.p1.2.2.m2.1.1.3" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.3.cmml">ℭ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.2.2.m2.1b"><apply id="S3.Thmtheorem1.p1.2.2.m2.1.1.cmml" xref="S3.Thmtheorem1.p1.2.2.m2.1.1"><in id="S3.Thmtheorem1.p1.2.2.m2.1.1.1.cmml" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.1"></in><ci id="S3.Thmtheorem1.p1.2.2.m2.1.1.2.cmml" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.2">𝑐</ci><ci id="S3.Thmtheorem1.p1.2.2.m2.1.1.3.cmml" xref="S3.Thmtheorem1.p1.2.2.m2.1.1.3">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.2.2.m2.1c">c\in\mathfrak{C}</annotation></semantics></math> and <math id="S3.Thmtheorem1.p1.3.3.m3.1" class="ltx_Math" alttext="\rho_{c}\equiv\rho" display="inline"><semantics id="S3.Thmtheorem1.p1.3.3.m3.1a"><mrow id="S3.Thmtheorem1.p1.3.3.m3.1.1" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.cmml"><msub id="S3.Thmtheorem1.p1.3.3.m3.1.1.2" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2.cmml"><mi id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.2" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2.2.cmml">ρ</mi><mi id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.3" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2.3.cmml">c</mi></msub><mo id="S3.Thmtheorem1.p1.3.3.m3.1.1.1" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.1.cmml">≡</mo><mi id="S3.Thmtheorem1.p1.3.3.m3.1.1.3" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.3.cmml">ρ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.3.3.m3.1b"><apply id="S3.Thmtheorem1.p1.3.3.m3.1.1.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1"><equivalent id="S3.Thmtheorem1.p1.3.3.m3.1.1.1.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.1"></equivalent><apply id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.1.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2">subscript</csymbol><ci id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.2.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2.2">𝜌</ci><ci id="S3.Thmtheorem1.p1.3.3.m3.1.1.2.3.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.2.3">𝑐</ci></apply><ci id="S3.Thmtheorem1.p1.3.3.m3.1.1.3.cmml" xref="S3.Thmtheorem1.p1.3.3.m3.1.1.3">𝜌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.3.3.m3.1c">\rho_{c}\equiv\rho</annotation></semantics></math>, then for any participating clients <math id="S3.Thmtheorem1.p1.4.4.m4.1" class="ltx_Math" alttext="\hat{\mathfrak{C}}\subset\mathfrak{C}" display="inline"><semantics id="S3.Thmtheorem1.p1.4.4.m4.1a"><mrow id="S3.Thmtheorem1.p1.4.4.m4.1.1" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.cmml"><mover accent="true" id="S3.Thmtheorem1.p1.4.4.m4.1.1.2" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2.cmml"><mi id="S3.Thmtheorem1.p1.4.4.m4.1.1.2.2" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2.2.cmml">ℭ</mi><mo id="S3.Thmtheorem1.p1.4.4.m4.1.1.2.1" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2.1.cmml">^</mo></mover><mo id="S3.Thmtheorem1.p1.4.4.m4.1.1.1" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.1.cmml">⊂</mo><mi id="S3.Thmtheorem1.p1.4.4.m4.1.1.3" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.3.cmml">ℭ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.4.4.m4.1b"><apply id="S3.Thmtheorem1.p1.4.4.m4.1.1.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1"><subset id="S3.Thmtheorem1.p1.4.4.m4.1.1.1.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.1"></subset><apply id="S3.Thmtheorem1.p1.4.4.m4.1.1.2.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2"><ci id="S3.Thmtheorem1.p1.4.4.m4.1.1.2.1.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2.1">^</ci><ci id="S3.Thmtheorem1.p1.4.4.m4.1.1.2.2.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.2.2">ℭ</ci></apply><ci id="S3.Thmtheorem1.p1.4.4.m4.1.1.3.cmml" xref="S3.Thmtheorem1.p1.4.4.m4.1.1.3">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.4.4.m4.1c">\hat{\mathfrak{C}}\subset\mathfrak{C}</annotation></semantics></math> and <math id="S3.Thmtheorem1.p1.5.5.m5.1" class="ltx_Math" alttext="{\bm{w}}" display="inline"><semantics id="S3.Thmtheorem1.p1.5.5.m5.1a"><mi id="S3.Thmtheorem1.p1.5.5.m5.1.1" xref="S3.Thmtheorem1.p1.5.5.m5.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.5.5.m5.1b"><ci id="S3.Thmtheorem1.p1.5.5.m5.1.1.cmml" xref="S3.Thmtheorem1.p1.5.5.m5.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.5.5.m5.1c">{\bm{w}}</annotation></semantics></math> in domain, the participation gap is always zero in that <math id="S3.Thmtheorem1.p1.6.6.m6.2" class="ltx_Math" alttext="F_{\mathrm{unpart}}({\bm{w}})\equiv F_{\mathrm{part\_val}}({\bm{w}})" display="inline"><semantics id="S3.Thmtheorem1.p1.6.6.m6.2a"><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.cmml"><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.cmml"><msub id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.cmml"><mi id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.2.cmml">F</mi><mi id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.3" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.1.cmml">​</mo><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.3.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.cmml"><mo stretchy="false" id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.3.2.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.cmml">(</mo><mi id="S3.Thmtheorem1.p1.6.6.m6.1.1" xref="S3.Thmtheorem1.p1.6.6.m6.1.1.cmml">𝐰</mi><mo stretchy="false" id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.3.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.cmml">)</mo></mrow></mrow><mo id="S3.Thmtheorem1.p1.6.6.m6.2.3.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.1.cmml">≡</mo><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3.3" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.cmml"><msub id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.cmml"><mi id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.2.cmml">F</mi><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.cmml"><mi id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.3" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1a" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1.cmml">​</mo><mi id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.4" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.1.cmml">​</mo><mrow id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.3.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.cmml"><mo stretchy="false" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.3.2.1" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.cmml">(</mo><mi id="S3.Thmtheorem1.p1.6.6.m6.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.2.cmml">𝐰</mi><mo stretchy="false" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.3.2.2" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.6.6.m6.2b"><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3"><equivalent id="S3.Thmtheorem1.p1.6.6.m6.2.3.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.1"></equivalent><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2"><times id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.1"></times><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2">subscript</csymbol><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.2">𝐹</ci><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.3.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.2.2.3">unpart</ci></apply><ci id="S3.Thmtheorem1.p1.6.6.m6.1.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.1.1">𝐰</ci></apply><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3"><times id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.1"></times><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2">subscript</csymbol><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.2">𝐹</ci><apply id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3"><times id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.1"></times><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.2">part</ci><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.3.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.3">_</ci><ci id="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.4.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.3.3.2.3.4">val</ci></apply></apply><ci id="S3.Thmtheorem1.p1.6.6.m6.2.2.cmml" xref="S3.Thmtheorem1.p1.6.6.m6.2.2">𝐰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.6.6.m6.2c">F_{\mathrm{unpart}}({\bm{w}})\equiv F_{\mathrm{part\_val}}({\bm{w}})</annotation></semantics></math>.</span></p>
</div>
</div>
<div id="S3.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p2.1" class="ltx_p"><a href="#S3.Thmtheorem1" title="Proposition 3.1. ‣ Participation gap is an intrinsic property of FL due to heterogeneity. ‣ 3.2 Why is the Participation Gap Interesting? ‣ 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Proposition</span> <span class="ltx_text ltx_ref_tag">3.1</span></a> holds by definition as
<span id="S3.SS2.SSS0.Px1.p2.1.1" class="ltx_text" style="font-size:90%;"></span></p>
<table id="S3.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex1.m1.10" class="ltx_Math" alttext="F_{\mathrm{part\_val}}({\bm{w}})=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}_{c}}f({\bm{w}};\xi)\right)\right]=\rho\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}}f({\bm{w}};\xi)\right)=\mathbb{E}_{c\sim\mathcal{P}}\left[\rho\cdot\mathbb{E}_{\xi\sim\mathcal{D}}[f({\bm{w}};\xi)]\right]=F_{\mathrm{unpart}}({\bm{w}})." display="block"><semantics id="S3.Ex1.m1.10a"><mrow id="S3.Ex1.m1.10.10.1" xref="S3.Ex1.m1.10.10.1.1.cmml"><mrow id="S3.Ex1.m1.10.10.1.1" xref="S3.Ex1.m1.10.10.1.1.cmml"><mrow id="S3.Ex1.m1.10.10.1.1.5" xref="S3.Ex1.m1.10.10.1.1.5.cmml"><msub id="S3.Ex1.m1.10.10.1.1.5.2" xref="S3.Ex1.m1.10.10.1.1.5.2.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.5.2.2" xref="S3.Ex1.m1.10.10.1.1.5.2.2.cmml">F</mi><mrow id="S3.Ex1.m1.10.10.1.1.5.2.3" xref="S3.Ex1.m1.10.10.1.1.5.2.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.5.2.3.2" xref="S3.Ex1.m1.10.10.1.1.5.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.5.2.3.1" xref="S3.Ex1.m1.10.10.1.1.5.2.3.1.cmml">​</mo><mi mathsize="90%" mathvariant="normal" id="S3.Ex1.m1.10.10.1.1.5.2.3.3" xref="S3.Ex1.m1.10.10.1.1.5.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.5.2.3.1a" xref="S3.Ex1.m1.10.10.1.1.5.2.3.1.cmml">​</mo><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.5.2.3.4" xref="S3.Ex1.m1.10.10.1.1.5.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.5.1" xref="S3.Ex1.m1.10.10.1.1.5.1.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.5.3.2" xref="S3.Ex1.m1.10.10.1.1.5.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.5.3.2.1" xref="S3.Ex1.m1.10.10.1.1.5.cmml">(</mo><mi mathsize="90%" id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.5.3.2.2" xref="S3.Ex1.m1.10.10.1.1.5.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.6" xref="S3.Ex1.m1.10.10.1.1.6.cmml">=</mo><mrow id="S3.Ex1.m1.10.10.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.cmml"><mfrac id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><mn mathsize="90%" id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml">1</mn><mrow id="S3.Ex1.m1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.1.1.1.3.1" xref="S3.Ex1.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.Ex1.m1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.2.cmml">ℭ</mi><mo mathsize="90%" id="S3.Ex1.m1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.cmml">^</mo></mover><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.1.1.1.3.2" xref="S3.Ex1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.cmml"><munder id="S3.Ex1.m1.10.10.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" rspace="0em" stretchy="true" id="S3.Ex1.m1.10.10.1.1.1.1.2.2" xref="S3.Ex1.m1.10.10.1.1.1.1.2.2.cmml">∑</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1.2.3" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.2.3.2" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.2.cmml">c</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.2.3.1" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.1.cmml">∈</mo><mover accent="true" id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.2" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.2.cmml">ℭ</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.1" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.1.cmml">^</mo></mover></mrow></munder><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.2.cmml"><mo id="S3.Ex1.m1.10.10.1.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.3.cmml">ρ</mi><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝔼</mi><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">ξ</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">∼</mo><msub id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">c</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1a" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.1.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.2.1" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.1.cmml">(</mo><mi mathsize="90%" id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">𝒘</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.2.2" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.1.cmml">;</mo><mi mathsize="90%" id="S3.Ex1.m1.4.4" xref="S3.Ex1.m1.4.4.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.2.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.10.10.1.1.1.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.7" xref="S3.Ex1.m1.10.10.1.1.7.cmml">=</mo><mrow id="S3.Ex1.m1.10.10.1.1.2" xref="S3.Ex1.m1.10.10.1.1.2.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.3" xref="S3.Ex1.m1.10.10.1.1.2.3.cmml">ρ</mi><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="S3.Ex1.m1.10.10.1.1.2.2" xref="S3.Ex1.m1.10.10.1.1.2.2.cmml">⋅</mo><mrow id="S3.Ex1.m1.10.10.1.1.2.1.1" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.cmml"><mo id="S3.Ex1.m1.10.10.1.1.2.1.1.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.10.10.1.1.2.1.1.1" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.cmml"><msub id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.2.cmml">𝔼</mi><mrow id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.2.cmml">ξ</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.1" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.3" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.3.cmml">𝒟</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.1a" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.1.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.1.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.2.1" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.1.cmml">(</mo><mi mathsize="90%" id="S3.Ex1.m1.5.5" xref="S3.Ex1.m1.5.5.cmml">𝒘</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.2.2" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.1.cmml">;</mo><mi mathsize="90%" id="S3.Ex1.m1.6.6" xref="S3.Ex1.m1.6.6.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.2.3" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.10.10.1.1.2.1.1.3" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.8" xref="S3.Ex1.m1.10.10.1.1.8.cmml">=</mo><mrow id="S3.Ex1.m1.10.10.1.1.3" xref="S3.Ex1.m1.10.10.1.1.3.cmml"><msub id="S3.Ex1.m1.10.10.1.1.3.3" xref="S3.Ex1.m1.10.10.1.1.3.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.3.2" xref="S3.Ex1.m1.10.10.1.1.3.3.2.cmml">𝔼</mi><mrow id="S3.Ex1.m1.10.10.1.1.3.3.3" xref="S3.Ex1.m1.10.10.1.1.3.3.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.3.3.2" xref="S3.Ex1.m1.10.10.1.1.3.3.3.2.cmml">c</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.3.3.1" xref="S3.Ex1.m1.10.10.1.1.3.3.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.3.3.3" xref="S3.Ex1.m1.10.10.1.1.3.3.3.3.cmml">𝒫</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.3.2" xref="S3.Ex1.m1.10.10.1.1.3.2.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1" xref="S3.Ex1.m1.10.10.1.1.3.1.2.cmml"><mo id="S3.Ex1.m1.10.10.1.1.3.1.1.2" xref="S3.Ex1.m1.10.10.1.1.3.1.2.1.cmml">[</mo><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.cmml"><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.2.cmml">ρ</mi><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.1.cmml">⋅</mo><msub id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.2.cmml">𝔼</mi><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.2.cmml">ξ</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.3.cmml">𝒟</mi></mrow></msub></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.1.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.2.1" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.1.cmml">(</mo><mi mathsize="90%" id="S3.Ex1.m1.7.7" xref="S3.Ex1.m1.7.7.cmml">𝒘</mi><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.2.2" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.1.cmml">;</mo><mi mathsize="90%" id="S3.Ex1.m1.8.8" xref="S3.Ex1.m1.8.8.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.2.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.3" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.Ex1.m1.10.10.1.1.3.1.1.3" xref="S3.Ex1.m1.10.10.1.1.3.1.2.1.cmml">]</mo></mrow></mrow><mo mathsize="90%" id="S3.Ex1.m1.10.10.1.1.9" xref="S3.Ex1.m1.10.10.1.1.9.cmml">=</mo><mrow id="S3.Ex1.m1.10.10.1.1.10" xref="S3.Ex1.m1.10.10.1.1.10.cmml"><msub id="S3.Ex1.m1.10.10.1.1.10.2" xref="S3.Ex1.m1.10.10.1.1.10.2.cmml"><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.10.2.2" xref="S3.Ex1.m1.10.10.1.1.10.2.2.cmml">F</mi><mi mathsize="90%" id="S3.Ex1.m1.10.10.1.1.10.2.3" xref="S3.Ex1.m1.10.10.1.1.10.2.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.10.10.1.1.10.1" xref="S3.Ex1.m1.10.10.1.1.10.1.cmml">​</mo><mrow id="S3.Ex1.m1.10.10.1.1.10.3.2" xref="S3.Ex1.m1.10.10.1.1.10.cmml"><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.10.3.2.1" xref="S3.Ex1.m1.10.10.1.1.10.cmml">(</mo><mi mathsize="90%" id="S3.Ex1.m1.9.9" xref="S3.Ex1.m1.9.9.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" id="S3.Ex1.m1.10.10.1.1.10.3.2.2" xref="S3.Ex1.m1.10.10.1.1.10.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" mathsize="90%" id="S3.Ex1.m1.10.10.1.2" xref="S3.Ex1.m1.10.10.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.10b"><apply id="S3.Ex1.m1.10.10.1.1.cmml" xref="S3.Ex1.m1.10.10.1"><and id="S3.Ex1.m1.10.10.1.1a.cmml" xref="S3.Ex1.m1.10.10.1"></and><apply id="S3.Ex1.m1.10.10.1.1b.cmml" xref="S3.Ex1.m1.10.10.1"><eq id="S3.Ex1.m1.10.10.1.1.6.cmml" xref="S3.Ex1.m1.10.10.1.1.6"></eq><apply id="S3.Ex1.m1.10.10.1.1.5.cmml" xref="S3.Ex1.m1.10.10.1.1.5"><times id="S3.Ex1.m1.10.10.1.1.5.1.cmml" xref="S3.Ex1.m1.10.10.1.1.5.1"></times><apply id="S3.Ex1.m1.10.10.1.1.5.2.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.5.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.5.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.2">𝐹</ci><apply id="S3.Ex1.m1.10.10.1.1.5.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.3"><times id="S3.Ex1.m1.10.10.1.1.5.2.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.3.1"></times><ci id="S3.Ex1.m1.10.10.1.1.5.2.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.3.2">part</ci><ci id="S3.Ex1.m1.10.10.1.1.5.2.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.3.3">_</ci><ci id="S3.Ex1.m1.10.10.1.1.5.2.3.4.cmml" xref="S3.Ex1.m1.10.10.1.1.5.2.3.4">val</ci></apply></apply><ci id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">𝒘</ci></apply><apply id="S3.Ex1.m1.10.10.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1"><times id="S3.Ex1.m1.10.10.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.2"></times><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><divide id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1"></divide><cn type="integer" id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3">1</cn><apply id="S3.Ex1.m1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.3"><abs id="S3.Ex1.m1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.1.3.1"></abs><apply id="S3.Ex1.m1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1"><ci id="S3.Ex1.m1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1">^</ci><ci id="S3.Ex1.m1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1"><apply id="S3.Ex1.m1.10.10.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2">subscript</csymbol><sum id="S3.Ex1.m1.10.10.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.2"></sum><apply id="S3.Ex1.m1.10.10.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3"><in id="S3.Ex1.m1.10.10.1.1.1.1.2.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.1"></in><ci id="S3.Ex1.m1.10.10.1.1.1.1.2.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.2">𝑐</ci><apply id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3"><ci id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.1">^</ci><ci id="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.2.3.3.2">ℭ</ci></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1"><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.2">⋅</ci><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.3">𝜌</ci><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1"><times id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1"></times><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2">𝔼</ci><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1">similar-to</csymbol><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2">𝜉</ci><apply id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2">𝒟</ci><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3">𝑐</ci></apply></apply></apply><ci id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.3">𝑓</ci><list id="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S3.Ex1.m1.10.10.1.1.1.1.1.1.1.1.1.1.4.2"><ci id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">𝒘</ci><ci id="S3.Ex1.m1.4.4.cmml" xref="S3.Ex1.m1.4.4">𝜉</ci></list></apply></apply></apply></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1c.cmml" xref="S3.Ex1.m1.10.10.1"><eq id="S3.Ex1.m1.10.10.1.1.7.cmml" xref="S3.Ex1.m1.10.10.1.1.7"></eq><share href="#S3.Ex1.m1.10.10.1.1.1.cmml" id="S3.Ex1.m1.10.10.1.1d.cmml" xref="S3.Ex1.m1.10.10.1"></share><apply id="S3.Ex1.m1.10.10.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.2"><ci id="S3.Ex1.m1.10.10.1.1.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.2.2">⋅</ci><ci id="S3.Ex1.m1.10.10.1.1.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.2.3">𝜌</ci><apply id="S3.Ex1.m1.10.10.1.1.2.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1"><times id="S3.Ex1.m1.10.10.1.1.2.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.1"></times><apply id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.2">𝔼</ci><apply id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.1">similar-to</csymbol><ci id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.2">𝜉</ci><ci id="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.2.3.3">𝒟</ci></apply></apply><ci id="S3.Ex1.m1.10.10.1.1.2.1.1.1.3.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.3">𝑓</ci><list id="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.1.cmml" xref="S3.Ex1.m1.10.10.1.1.2.1.1.1.4.2"><ci id="S3.Ex1.m1.5.5.cmml" xref="S3.Ex1.m1.5.5">𝒘</ci><ci id="S3.Ex1.m1.6.6.cmml" xref="S3.Ex1.m1.6.6">𝜉</ci></list></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1e.cmml" xref="S3.Ex1.m1.10.10.1"><eq id="S3.Ex1.m1.10.10.1.1.8.cmml" xref="S3.Ex1.m1.10.10.1.1.8"></eq><share href="#S3.Ex1.m1.10.10.1.1.2.cmml" id="S3.Ex1.m1.10.10.1.1f.cmml" xref="S3.Ex1.m1.10.10.1"></share><apply id="S3.Ex1.m1.10.10.1.1.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3"><times id="S3.Ex1.m1.10.10.1.1.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.2"></times><apply id="S3.Ex1.m1.10.10.1.1.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3.2">𝔼</ci><apply id="S3.Ex1.m1.10.10.1.1.3.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3.3"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.3.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3.3.1">similar-to</csymbol><ci id="S3.Ex1.m1.10.10.1.1.3.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3.3.2">𝑐</ci><ci id="S3.Ex1.m1.10.10.1.1.3.3.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.3.3.3">𝒫</ci></apply></apply><apply id="S3.Ex1.m1.10.10.1.1.3.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.3.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.2">delimited-[]</csymbol><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1"><times id="S3.Ex1.m1.10.10.1.1.3.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.2"></times><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3"><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.1">⋅</ci><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.2">𝜌</ci><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.2">𝔼</ci><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.1">similar-to</csymbol><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.2">𝜉</ci><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.3.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.3.3.3.3">𝒟</ci></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1"><times id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.1"></times><ci id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.2">𝑓</ci><list id="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.10.10.1.1.3.1.1.1.1.1.1.3.2"><ci id="S3.Ex1.m1.7.7.cmml" xref="S3.Ex1.m1.7.7">𝒘</ci><ci id="S3.Ex1.m1.8.8.cmml" xref="S3.Ex1.m1.8.8">𝜉</ci></list></apply></apply></apply></apply></apply></apply><apply id="S3.Ex1.m1.10.10.1.1g.cmml" xref="S3.Ex1.m1.10.10.1"><eq id="S3.Ex1.m1.10.10.1.1.9.cmml" xref="S3.Ex1.m1.10.10.1.1.9"></eq><share href="#S3.Ex1.m1.10.10.1.1.3.cmml" id="S3.Ex1.m1.10.10.1.1h.cmml" xref="S3.Ex1.m1.10.10.1"></share><apply id="S3.Ex1.m1.10.10.1.1.10.cmml" xref="S3.Ex1.m1.10.10.1.1.10"><times id="S3.Ex1.m1.10.10.1.1.10.1.cmml" xref="S3.Ex1.m1.10.10.1.1.10.1"></times><apply id="S3.Ex1.m1.10.10.1.1.10.2.cmml" xref="S3.Ex1.m1.10.10.1.1.10.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.10.10.1.1.10.2.1.cmml" xref="S3.Ex1.m1.10.10.1.1.10.2">subscript</csymbol><ci id="S3.Ex1.m1.10.10.1.1.10.2.2.cmml" xref="S3.Ex1.m1.10.10.1.1.10.2.2">𝐹</ci><ci id="S3.Ex1.m1.10.10.1.1.10.2.3.cmml" xref="S3.Ex1.m1.10.10.1.1.10.2.3">unpart</ci></apply><ci id="S3.Ex1.m1.9.9.cmml" xref="S3.Ex1.m1.9.9">𝒘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.10c">F_{\mathrm{part\_val}}({\bm{w}})=\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\rho\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}_{c}}f({\bm{w}};\xi)\right)\right]=\rho\cdot\left(\mathbb{E}_{\xi\sim\mathcal{D}}f({\bm{w}};\xi)\right)=\mathbb{E}_{c\sim\mathcal{P}}\left[\rho\cdot\mathbb{E}_{\xi\sim\mathcal{D}}[f({\bm{w}};\xi)]\right]=F_{\mathrm{unpart}}({\bm{w}}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="Thmremarkx2" class="ltx_theorem ltx_theorem_remark">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmremarkx2.1.1.1" class="ltx_text ltx_font_bold">Remark</span></span><span id="Thmremarkx2.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmremarkx2.p1" class="ltx_para">
<p id="Thmremarkx2.p1.4" class="ltx_p"><span id="Thmremarkx2.p1.4.4" class="ltx_text ltx_font_italic">We assume unweighted risk with <math id="Thmremarkx2.p1.1.1.m1.1" class="ltx_Math" alttext="\rho_{c}\equiv\rho" display="inline"><semantics id="Thmremarkx2.p1.1.1.m1.1a"><mrow id="Thmremarkx2.p1.1.1.m1.1.1" xref="Thmremarkx2.p1.1.1.m1.1.1.cmml"><msub id="Thmremarkx2.p1.1.1.m1.1.1.2" xref="Thmremarkx2.p1.1.1.m1.1.1.2.cmml"><mi id="Thmremarkx2.p1.1.1.m1.1.1.2.2" xref="Thmremarkx2.p1.1.1.m1.1.1.2.2.cmml">ρ</mi><mi id="Thmremarkx2.p1.1.1.m1.1.1.2.3" xref="Thmremarkx2.p1.1.1.m1.1.1.2.3.cmml">c</mi></msub><mo id="Thmremarkx2.p1.1.1.m1.1.1.1" xref="Thmremarkx2.p1.1.1.m1.1.1.1.cmml">≡</mo><mi id="Thmremarkx2.p1.1.1.m1.1.1.3" xref="Thmremarkx2.p1.1.1.m1.1.1.3.cmml">ρ</mi></mrow><annotation-xml encoding="MathML-Content" id="Thmremarkx2.p1.1.1.m1.1b"><apply id="Thmremarkx2.p1.1.1.m1.1.1.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1"><equivalent id="Thmremarkx2.p1.1.1.m1.1.1.1.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.1"></equivalent><apply id="Thmremarkx2.p1.1.1.m1.1.1.2.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="Thmremarkx2.p1.1.1.m1.1.1.2.1.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.2">subscript</csymbol><ci id="Thmremarkx2.p1.1.1.m1.1.1.2.2.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.2.2">𝜌</ci><ci id="Thmremarkx2.p1.1.1.m1.1.1.2.3.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.2.3">𝑐</ci></apply><ci id="Thmremarkx2.p1.1.1.m1.1.1.3.cmml" xref="Thmremarkx2.p1.1.1.m1.1.1.3">𝜌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx2.p1.1.1.m1.1c">\rho_{c}\equiv\rho</annotation></semantics></math> for ease of exposition. Even if <math id="Thmremarkx2.p1.2.2.m2.1" class="ltx_Math" alttext="\rho_{c}" display="inline"><semantics id="Thmremarkx2.p1.2.2.m2.1a"><msub id="Thmremarkx2.p1.2.2.m2.1.1" xref="Thmremarkx2.p1.2.2.m2.1.1.cmml"><mi id="Thmremarkx2.p1.2.2.m2.1.1.2" xref="Thmremarkx2.p1.2.2.m2.1.1.2.cmml">ρ</mi><mi id="Thmremarkx2.p1.2.2.m2.1.1.3" xref="Thmremarkx2.p1.2.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="Thmremarkx2.p1.2.2.m2.1b"><apply id="Thmremarkx2.p1.2.2.m2.1.1.cmml" xref="Thmremarkx2.p1.2.2.m2.1.1"><csymbol cd="ambiguous" id="Thmremarkx2.p1.2.2.m2.1.1.1.cmml" xref="Thmremarkx2.p1.2.2.m2.1.1">subscript</csymbol><ci id="Thmremarkx2.p1.2.2.m2.1.1.2.cmml" xref="Thmremarkx2.p1.2.2.m2.1.1.2">𝜌</ci><ci id="Thmremarkx2.p1.2.2.m2.1.1.3.cmml" xref="Thmremarkx2.p1.2.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx2.p1.2.2.m2.1c">\rho_{c}</annotation></semantics></math> are different, one can still show <math id="Thmremarkx2.p1.3.3.m3.2" class="ltx_Math" alttext="\frac{F_{\mathrm{unpart}}({\bm{w}})}{F_{\mathrm{part\_val}}({\bm{w}})}" display="inline"><semantics id="Thmremarkx2.p1.3.3.m3.2a"><mfrac id="Thmremarkx2.p1.3.3.m3.2.2" xref="Thmremarkx2.p1.3.3.m3.2.2.cmml"><mrow id="Thmremarkx2.p1.3.3.m3.1.1.1" xref="Thmremarkx2.p1.3.3.m3.1.1.1.cmml"><msub id="Thmremarkx2.p1.3.3.m3.1.1.1.3" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3.cmml"><mi id="Thmremarkx2.p1.3.3.m3.1.1.1.3.2" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3.2.cmml">F</mi><mi id="Thmremarkx2.p1.3.3.m3.1.1.1.3.3" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="Thmremarkx2.p1.3.3.m3.1.1.1.2" xref="Thmremarkx2.p1.3.3.m3.1.1.1.2.cmml">​</mo><mrow id="Thmremarkx2.p1.3.3.m3.1.1.1.4.2" xref="Thmremarkx2.p1.3.3.m3.1.1.1.cmml"><mo stretchy="false" id="Thmremarkx2.p1.3.3.m3.1.1.1.4.2.1" xref="Thmremarkx2.p1.3.3.m3.1.1.1.cmml">(</mo><mi id="Thmremarkx2.p1.3.3.m3.1.1.1.1" xref="Thmremarkx2.p1.3.3.m3.1.1.1.1.cmml">𝐰</mi><mo stretchy="false" id="Thmremarkx2.p1.3.3.m3.1.1.1.4.2.2" xref="Thmremarkx2.p1.3.3.m3.1.1.1.cmml">)</mo></mrow></mrow><mrow id="Thmremarkx2.p1.3.3.m3.2.2.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.cmml"><msub id="Thmremarkx2.p1.3.3.m3.2.2.2.3" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.cmml"><mi id="Thmremarkx2.p1.3.3.m3.2.2.2.3.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.2.cmml">F</mi><mrow id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.cmml"><mi id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1.cmml">​</mo><mi mathvariant="normal" id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.3" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1a" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1.cmml">​</mo><mi id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.4" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="Thmremarkx2.p1.3.3.m3.2.2.2.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.2.cmml">​</mo><mrow id="Thmremarkx2.p1.3.3.m3.2.2.2.4.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.cmml"><mo stretchy="false" id="Thmremarkx2.p1.3.3.m3.2.2.2.4.2.1" xref="Thmremarkx2.p1.3.3.m3.2.2.2.cmml">(</mo><mi id="Thmremarkx2.p1.3.3.m3.2.2.2.1" xref="Thmremarkx2.p1.3.3.m3.2.2.2.1.cmml">𝐰</mi><mo stretchy="false" id="Thmremarkx2.p1.3.3.m3.2.2.2.4.2.2" xref="Thmremarkx2.p1.3.3.m3.2.2.2.cmml">)</mo></mrow></mrow></mfrac><annotation-xml encoding="MathML-Content" id="Thmremarkx2.p1.3.3.m3.2b"><apply id="Thmremarkx2.p1.3.3.m3.2.2.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2"><divide id="Thmremarkx2.p1.3.3.m3.2.2.3.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2"></divide><apply id="Thmremarkx2.p1.3.3.m3.1.1.1.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1"><times id="Thmremarkx2.p1.3.3.m3.1.1.1.2.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.2"></times><apply id="Thmremarkx2.p1.3.3.m3.1.1.1.3.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3"><csymbol cd="ambiguous" id="Thmremarkx2.p1.3.3.m3.1.1.1.3.1.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3">subscript</csymbol><ci id="Thmremarkx2.p1.3.3.m3.1.1.1.3.2.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3.2">𝐹</ci><ci id="Thmremarkx2.p1.3.3.m3.1.1.1.3.3.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.3.3">unpart</ci></apply><ci id="Thmremarkx2.p1.3.3.m3.1.1.1.1.cmml" xref="Thmremarkx2.p1.3.3.m3.1.1.1.1">𝐰</ci></apply><apply id="Thmremarkx2.p1.3.3.m3.2.2.2.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2"><times id="Thmremarkx2.p1.3.3.m3.2.2.2.2.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.2"></times><apply id="Thmremarkx2.p1.3.3.m3.2.2.2.3.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3"><csymbol cd="ambiguous" id="Thmremarkx2.p1.3.3.m3.2.2.2.3.1.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3">subscript</csymbol><ci id="Thmremarkx2.p1.3.3.m3.2.2.2.3.2.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.2">𝐹</ci><apply id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3"><times id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.1"></times><ci id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.2.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.2">part</ci><ci id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.3.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.3">_</ci><ci id="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.4.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.3.3.4">val</ci></apply></apply><ci id="Thmremarkx2.p1.3.3.m3.2.2.2.1.cmml" xref="Thmremarkx2.p1.3.3.m3.2.2.2.1">𝐰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx2.p1.3.3.m3.2c">\frac{F_{\mathrm{unpart}}({\bm{w}})}{F_{\mathrm{part\_val}}({\bm{w}})}</annotation></semantics></math> is always equal to a constant independent of <math id="Thmremarkx2.p1.4.4.m4.1" class="ltx_Math" alttext="{\bm{w}}" display="inline"><semantics id="Thmremarkx2.p1.4.4.m4.1a"><mi id="Thmremarkx2.p1.4.4.m4.1.1" xref="Thmremarkx2.p1.4.4.m4.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="Thmremarkx2.p1.4.4.m4.1b"><ci id="Thmremarkx2.p1.4.4.m4.1.1.cmml" xref="Thmremarkx2.p1.4.4.m4.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmremarkx2.p1.4.4.m4.1c">{\bm{w}}</annotation></semantics></math>. Therefore the triviality of the participation gap for homogeneous data still holds in the logarithmitic sense.</span></p>
</div>
</div>
</section>
<section id="S3.SS2.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Participation gap can quantify client diversity.</h6>

<div id="S3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px2.p1.1" class="ltx_p">The participation gap can provide insight into a federated dataset since it provides a quantifiable measure of client diversity / heterogeneity.
With other aspects controlled, a federated dataset with larger participation gap tends to have greater heterogeneity. For example, using the same model and hyperparameters, we observe in <a href="#S5" title="5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">5</span></a> that CIFAR-100 exhibits a larger participation gap than CIFAR-10. Unlike other indirect measures (such as the degradation of federated performance relative to centralized performance), the participation gap is intrinsic in federated datasets and more consistent with respect to training hyperparameters.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px3" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Participation gap can measure overfitting on the population distribution.</h6>

<div id="S3.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px3.p1.1" class="ltx_p">Just as a generalization gap that increases over time in centralized training can indicate overfitting on training samples, a large or increasing participation gap can indicate a training process is overfitting on participating clients. We observe this effect in <a href="#S1.F1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a> for Shakespeare and Stack Overflow tasks. Thus measuring this gap can be important for researchers developing models or algorithms to reduce overfitting.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px4" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Participation gap can quantify model robustness to unseen clients.</h6>

<div id="S3.SS2.SSS0.Px4.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px4.p1.1" class="ltx_p">From a modeler’s perspective, the participation gap quantifies the loss of performance incurred by switching from seen clients to unseen clients.
The smaller the participation gap is, the more robust the model might be when deployed.
Therefore, estimating participation gap may guide modelers to design more robust models, regularizers, and training algorithms.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px5" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Participation gap can quantify the incentive for clients to participate.</h6>

<div id="S3.SS2.SSS0.Px5.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px5.p1.2" class="ltx_p">From a client’s perspective, the participation gap offers a measure of the performance gain realized by switching from unparticipating (not contributing training data) to participating (contributing training data).
This is a fair comparison since both <math id="S3.SS2.SSS0.Px5.p1.1.m1.1" class="ltx_Math" alttext="F_{\mathrm{part\_val}}" display="inline"><semantics id="S3.SS2.SSS0.Px5.p1.1.m1.1a"><msub id="S3.SS2.SSS0.Px5.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2.cmml">F</mi><mrow id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.2" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.3" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1a" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.4" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.4.cmml">val</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.1.m1.1b"><apply id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2">𝐹</ci><apply id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3"><times id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.1"></times><ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.2">part</ci><ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.3">_</ci><ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.4">val</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.1.m1.1c">F_{\mathrm{part\_val}}</annotation></semantics></math> and <math id="S3.SS2.SSS0.Px5.p1.2.m2.1" class="ltx_Math" alttext="F_{\mathrm{unpart}}" display="inline"><semantics id="S3.SS2.SSS0.Px5.p1.2.m2.1a"><msub id="S3.SS2.SSS0.Px5.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.cmml"><mi id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.2.cmml">F</mi><mi id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.3.cmml">unpart</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.2">𝐹</ci><ci id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.3">unpart</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.2.m2.1c">F_{\mathrm{unpart}}</annotation></semantics></math> are estimated on unseen data.
When the participation gap is large (<span id="S3.SS2.SSS0.Px5.p1.2.1" class="ltx_text ltx_font_italic">e.g.,</span> if only a few clients participate), modelers might report the participation gap as a well-justified incentive to encourage more clients to join a federated learning process.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Reflections on Client Heterogeneity and Synthetic Partitioning</h3>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Since participation gaps can quantify client dataset heterogeneity, we study how participation gaps vary for different types of federated datasets.
Many prior works <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">McMahan et al.</span>, <a href="#bib.bib61" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>; <span class="ltx_text" style="font-size:90%;">Zhao et al.</span>, <a href="#bib.bib93" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>; <span class="ltx_text" style="font-size:90%;">Hsu et al.</span>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> have created synthetic federated versions of centralized datasets.
These centralized datasets do not have naturally-occurring client partitions and thus need to be synthetically partitioned into clients. Due to the importance of heterogeneity in FL, partitioning schemes generally ensure client datasets are heterogeneous in some respect.
Previous works typically impose heterogeneity at the label level. For example, <cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text" style="font-size:90%;">Hsu et al.</span> (<a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite> create heterogeneous federated datasets by assigning each client a distribution over labels, where each local distribution is drawn from a Dirichlet meta-distribution.
Once conditioned on labels, the drawing process is homogeneous. We refer to these schemes as <span id="S4.p1.1.1" class="ltx_text ltx_font_bold">label-based partitioning</span>.<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>To avoid confusion, throughout this work, we use the term “partition” to refer to assigning data with no client assignment into synthetic clients.
The term “split” refers to splitting a federated dataset (with existing client assignments) to measure different metrics (<span id="footnote2.1" class="ltx_text ltx_font_italic">e.g.,</span> three-way-split).</span></span></span></p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">While label heterogeneity is generally observed in natural federated datasets, it is not the <em id="S4.p2.1.1" class="ltx_emph ltx_font_italic">only</em> observed form of heterogeneity.
In particular, each client in a natural federated dataset has its own separate data generating process.
For example, for Federated EMNIST <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Cohen et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>)</cite>, different clients write characters using different handwriting.
Label-based partitioning does not account for this form of heterogeneity.
To show this, in <a href="#S4.F3" title="In 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">3</span></a> we visualize the clustering of client data between natural and label-based partitioning <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Hsu et al.</span>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite> for Federated EMNIST.
We project clients from each partitioning into a 2D space using T-SNE <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Van der Maaten and Hinton</span>, <a href="#bib.bib77" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2008</span></a>)</cite> applied to the raw pixel data. Naturally partitioned examples clearly cluster more than label-based partitioned examples, which appear to be distributed similarly to the full data distribution.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2110.14216/assets/x2.png" id="S4.F3.g1" class="ltx_graphics ltx_img_portrait" width="65" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">T-SNE projection of different partitionings of EMNIST.<span id="S4.F3.4.2.1" class="ltx_text ltx_font_medium"> The top panel shows the naturally-partitioned dataset (partitioned by writer), the bottom panel shows the label-based synthetic dataset. The gray points are the projections of examples from each dataset, obtained by aggregating the data from 100 clients each. The blue points show projections of data from a single client. The naturally-partitioned client data appears much more tightly clustered, whereas the label-based partitioned data appears similarly distributed as the overall dataset, indicating that label-based partitioning may not fully represent realistic client heterogeneity. </span></span></figcaption>
</figure>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">Interestingly, differences in heterogeneity also significantly affect generalization behavior. In <a href="#S4.F4" title="In 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">4</span></a>, we compare the training progress of the naturally-partitioned EMNIST dataset with a label-based partitioning following the scheme by <cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text" style="font-size:90%;">Hsu et al.</span> (<a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite>.
Despite showing greater label heterogeneity (Fig. <a href="#S4.F4" title="Figure 4 ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(a)), the label-based partitioning does not recover any significant participation gap, in sharp contrast to the natural partitioning (Fig. <a href="#S4.F4" title="Figure 4 ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(d)). In <a href="#S4.F5" title="In 4.1 Semantic Client Partitioning and the Participation Gap ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">5</span></a>, we also see minimal participation gap in label-based partitioning for CIFAR.
This motivates a client partitioning approach that better preserves the generalization behavior of naturally-partitioned datasets.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2110.14216/assets/x3.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F4.sf1.4.2" class="ltx_text" style="font-size:90%;">Label histogram of label-based partitioning</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2110.14216/assets/x4.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="416" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F4.sf2.4.2" class="ltx_text" style="font-size:90%;">Learning progress of label-based partitioning</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2110.14216/assets/x5.png" id="S4.F4.sf3.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf3.3.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S4.F4.sf3.4.2" class="ltx_text" style="font-size:90%;">Label histogram of natural partitioning</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2110.14216/assets/x6.png" id="S4.F4.sf4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="416" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf4.3.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S4.F4.sf4.4.2" class="ltx_text" style="font-size:90%;">Learning progress of natural partitioning</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.5.2.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Comparison of label-based synthetic partitioning and natural partitioning of EMNIST-10.<span id="S4.F4.2.1.1" class="ltx_text ltx_font_medium"> Observe that label-based partitioning shows greater label heterogeneity (a) than natural partitioning (c), while the participation gap (<math id="S4.F4.2.1.1.m1.1" class="ltx_Math" alttext="\texttt{part\_val}-\texttt{unpart}" display="inline"><semantics id="S4.F4.2.1.1.m1.1b"><mrow id="S4.F4.2.1.1.m1.1.1" xref="S4.F4.2.1.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_monospace" id="S4.F4.2.1.1.m1.1.1.2" xref="S4.F4.2.1.1.m1.1.1.2a.cmml">part_val</mtext><mo id="S4.F4.2.1.1.m1.1.1.1" xref="S4.F4.2.1.1.m1.1.1.1.cmml">−</mo><mtext class="ltx_mathvariant_monospace" id="S4.F4.2.1.1.m1.1.1.3" xref="S4.F4.2.1.1.m1.1.1.3a.cmml">unpart</mtext></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.2.1.1.m1.1c"><apply id="S4.F4.2.1.1.m1.1.1.cmml" xref="S4.F4.2.1.1.m1.1.1"><minus id="S4.F4.2.1.1.m1.1.1.1.cmml" xref="S4.F4.2.1.1.m1.1.1.1"></minus><ci id="S4.F4.2.1.1.m1.1.1.2a.cmml" xref="S4.F4.2.1.1.m1.1.1.2"><mtext class="ltx_mathvariant_monospace" id="S4.F4.2.1.1.m1.1.1.2.cmml" xref="S4.F4.2.1.1.m1.1.1.2">part_val</mtext></ci><ci id="S4.F4.2.1.1.m1.1.1.3a.cmml" xref="S4.F4.2.1.1.m1.1.1.3"><mtext class="ltx_mathvariant_monospace" id="S4.F4.2.1.1.m1.1.1.3.cmml" xref="S4.F4.2.1.1.m1.1.1.3">unpart</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.2.1.1.m1.1d">\texttt{part\_val}-\texttt{unpart}</annotation></semantics></math>) for label-based synthetic partitioning (b) is significantly smaller than that for the natural partitioning (d).</span></span></figcaption>
</figure>
<section id="S4.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Semantic Client Partitioning and the Participation Gap</h4>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">To explore and remediate differences in client heterogeneity across natural and synthetic datasets, we propose a semantics-based framework to assign semantically similar examples to clients during federated dataset partitioning.
We instantiate this framework via an example of an image classification task.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Our goal is to reverse-engineer the federated dataset-generating process described in <a href="#S2.E1" title="In Definition 2.1 (Federated Learning Problem). ‣ 2 Setup for Generalization in FL ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">1</span></a> so that each client possesses semantically similar data.
For example, for the EMNIST dataset, we expect every client (writer) to (i) write in a consistent style for each digit (<span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">intra-client intra-label similarity</span>) and (ii) use a consistent writing style across all digits (<span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_bold">intra-client inter-label similarity</span>). A simple approach might be to cluster similar examples together and sample client data from clusters.
However, if one directly clusters the entire dataset, the resulting clusters may end up largely correlated to labels.
To disentangle the effect of label heterogeneity and semantic heterogeneity, we propose the following algorithm to enforce intra-client intra-label similarity and intra-client inter-label similarity in two separate stages.</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">Stage 1: For each label, we embed examples using a pretrained neural network (extracting semantic features), and fit a Gaussian Mixture Model to cluster pretrained embeddings into groups. Note that this results in multiple groups per label. This stage enforces intra-client intra-label consistency.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">Stage 2: To package the clusters from different labels into clients, we aim to compute an optimal multi-partite matching with cost-matrix defined by KL-divergence between the Gaussian clusters. To reduce complexity, we heuristically solve the optimal multi-partite matching by progressively solving the optimal <em id="S4.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">bipartite</em> matching at each time for randomly-chosen label pairs. This stage enforces intra-client inter-label consistency.</p>
</div>
</li>
</ul>
<p id="S4.SS1.p2.2" class="ltx_p">We relegate the detailed setup to <a href="#A4" title="Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">D</span></a>.
Using this procedure we can generate clients which have similar example semantics. We show in <a href="#S4.F5" title="In 4.1 Semantic Client Partitioning and the Participation Gap ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">5</span></a> that this method of partitioning preserves the participation gap.
In <a href="#A4" title="Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">D</span></a>, we visualize several examples of our semantic partitioning on various datasets, which can serve as benchmarks for future works.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2110.14216/assets/x7.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="115" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Comparison of label-based partitioning and semantic partitioning (ours).<span id="S4.F5.4.2.1" class="ltx_text ltx_font_medium"> Results for CIFAR-10 and CIFAR-100 are shown. Observe that semantic partitioning recovers the participation gap typically observed in naturally-partitioned data.</span></span></figcaption>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Explaining differences between label-based and semantic partitioning</h4>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">To explain the above behavior, we revisit our mathematical setup and the definition of the participation gap. Recall that the participation gap is defined as (we omit the weights by setting <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\rho_{c}\equiv 1" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><msub id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2.2" xref="S4.SS2.p1.1.m1.1.1.2.2.cmml">ρ</mi><mi id="S4.SS2.p1.1.m1.1.1.2.3" xref="S4.SS2.p1.1.m1.1.1.2.3.cmml">c</mi></msub><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">≡</mo><mn id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><equivalent id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></equivalent><apply id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS2.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.2.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2.2">𝜌</ci><ci id="S4.SS2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS2.p1.1.m1.1.1.2.3">𝑐</ci></apply><cn type="integer" id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\rho_{c}\equiv 1</annotation></semantics></math> for simplicity):
<span id="S4.SS2.p1.1.1" class="ltx_text" style="font-size:90%;"></span></p>
<table id="S4.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E4.m1.10" class="ltx_Math" alttext="I_{\mathrm{part\_gap}}({\bm{w}}):=F_{\mathrm{unpart}}({\bm{w}})-F_{\mathrm{part\_val}}({\bm{w}})=\mathbb{E}_{c\sim\mathcal{P}}\left[\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right]-\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right]" display="block"><semantics id="S4.E4.m1.10a"><mrow id="S4.E4.m1.10.10" xref="S4.E4.m1.10.10.cmml"><mrow id="S4.E4.m1.10.10.4" xref="S4.E4.m1.10.10.4.cmml"><msub id="S4.E4.m1.10.10.4.2" xref="S4.E4.m1.10.10.4.2.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.4.2.2" xref="S4.E4.m1.10.10.4.2.2.cmml">I</mi><mrow id="S4.E4.m1.10.10.4.2.3" xref="S4.E4.m1.10.10.4.2.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.4.2.3.2" xref="S4.E4.m1.10.10.4.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.4.2.3.1" xref="S4.E4.m1.10.10.4.2.3.1.cmml">​</mo><mi mathsize="90%" mathvariant="normal" id="S4.E4.m1.10.10.4.2.3.3" xref="S4.E4.m1.10.10.4.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.4.2.3.1a" xref="S4.E4.m1.10.10.4.2.3.1.cmml">​</mo><mi mathsize="90%" id="S4.E4.m1.10.10.4.2.3.4" xref="S4.E4.m1.10.10.4.2.3.4.cmml">gap</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.4.1" xref="S4.E4.m1.10.10.4.1.cmml">​</mo><mrow id="S4.E4.m1.10.10.4.3.2" xref="S4.E4.m1.10.10.4.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.4.3.2.1" xref="S4.E4.m1.10.10.4.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" rspace="0.278em" id="S4.E4.m1.10.10.4.3.2.2" xref="S4.E4.m1.10.10.4.cmml">)</mo></mrow></mrow><mo mathsize="90%" rspace="0.278em" id="S4.E4.m1.10.10.5" xref="S4.E4.m1.10.10.5.cmml">:=</mo><mrow id="S4.E4.m1.10.10.6" xref="S4.E4.m1.10.10.6.cmml"><mrow id="S4.E4.m1.10.10.6.2" xref="S4.E4.m1.10.10.6.2.cmml"><msub id="S4.E4.m1.10.10.6.2.2" xref="S4.E4.m1.10.10.6.2.2.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.6.2.2.2" xref="S4.E4.m1.10.10.6.2.2.2.cmml">F</mi><mi mathsize="90%" id="S4.E4.m1.10.10.6.2.2.3" xref="S4.E4.m1.10.10.6.2.2.3.cmml">unpart</mi></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.6.2.1" xref="S4.E4.m1.10.10.6.2.1.cmml">​</mo><mrow id="S4.E4.m1.10.10.6.2.3.2" xref="S4.E4.m1.10.10.6.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.6.2.3.2.1" xref="S4.E4.m1.10.10.6.2.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.3.3" xref="S4.E4.m1.3.3.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.6.2.3.2.2" xref="S4.E4.m1.10.10.6.2.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S4.E4.m1.10.10.6.1" xref="S4.E4.m1.10.10.6.1.cmml">−</mo><mrow id="S4.E4.m1.10.10.6.3" xref="S4.E4.m1.10.10.6.3.cmml"><msub id="S4.E4.m1.10.10.6.3.2" xref="S4.E4.m1.10.10.6.3.2.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.6.3.2.2" xref="S4.E4.m1.10.10.6.3.2.2.cmml">F</mi><mrow id="S4.E4.m1.10.10.6.3.2.3" xref="S4.E4.m1.10.10.6.3.2.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.6.3.2.3.2" xref="S4.E4.m1.10.10.6.3.2.3.2.cmml">part</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.6.3.2.3.1" xref="S4.E4.m1.10.10.6.3.2.3.1.cmml">​</mo><mi mathsize="90%" mathvariant="normal" id="S4.E4.m1.10.10.6.3.2.3.3" xref="S4.E4.m1.10.10.6.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.6.3.2.3.1a" xref="S4.E4.m1.10.10.6.3.2.3.1.cmml">​</mo><mi mathsize="90%" id="S4.E4.m1.10.10.6.3.2.3.4" xref="S4.E4.m1.10.10.6.3.2.3.4.cmml">val</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.6.3.1" xref="S4.E4.m1.10.10.6.3.1.cmml">​</mo><mrow id="S4.E4.m1.10.10.6.3.3.2" xref="S4.E4.m1.10.10.6.3.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.6.3.3.2.1" xref="S4.E4.m1.10.10.6.3.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.4.4" xref="S4.E4.m1.4.4.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.6.3.3.2.2" xref="S4.E4.m1.10.10.6.3.cmml">)</mo></mrow></mrow></mrow><mo mathsize="90%" id="S4.E4.m1.10.10.7" xref="S4.E4.m1.10.10.7.cmml">=</mo><mrow id="S4.E4.m1.10.10.2" xref="S4.E4.m1.10.10.2.cmml"><mrow id="S4.E4.m1.9.9.1.1" xref="S4.E4.m1.9.9.1.1.cmml"><msub id="S4.E4.m1.9.9.1.1.3" xref="S4.E4.m1.9.9.1.1.3.cmml"><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.3.2" xref="S4.E4.m1.9.9.1.1.3.2.cmml">𝔼</mi><mrow id="S4.E4.m1.9.9.1.1.3.3" xref="S4.E4.m1.9.9.1.1.3.3.cmml"><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.3.3.2" xref="S4.E4.m1.9.9.1.1.3.3.2.cmml">c</mi><mo mathsize="90%" id="S4.E4.m1.9.9.1.1.3.3.1" xref="S4.E4.m1.9.9.1.1.3.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E4.m1.9.9.1.1.3.3.3" xref="S4.E4.m1.9.9.1.1.3.3.3.cmml">𝒫</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.9.9.1.1.2" xref="S4.E4.m1.9.9.1.1.2.cmml">​</mo><mrow id="S4.E4.m1.9.9.1.1.1.1" xref="S4.E4.m1.9.9.1.1.1.2.cmml"><mo id="S4.E4.m1.9.9.1.1.1.1.2" xref="S4.E4.m1.9.9.1.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.9.9.1.1.1.1.1" xref="S4.E4.m1.9.9.1.1.1.1.1.cmml"><msub id="S4.E4.m1.9.9.1.1.1.1.1.3" xref="S4.E4.m1.9.9.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.3.2" xref="S4.E4.m1.9.9.1.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S4.E4.m1.9.9.1.1.1.1.1.3.3" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.cmml"><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.2" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.2.cmml">ξ</mi><mo mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.1" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.1.cmml">∼</mo><msub id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.2" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.3" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.3.cmml">c</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.9.9.1.1.1.1.1.2" xref="S4.E4.m1.9.9.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E4.m1.9.9.1.1.1.1.1.1.1" xref="S4.E4.m1.9.9.1.1.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.2" xref="S4.E4.m1.9.9.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.2" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.1.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.2.1" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.1.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.5.5" xref="S4.E4.m1.5.5.cmml">𝒘</mi><mo mathsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.2.2" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.1.cmml">;</mo><mi mathsize="90%" id="S4.E4.m1.6.6" xref="S4.E4.m1.6.6.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.2.3" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo maxsize="90%" minsize="90%" id="S4.E4.m1.9.9.1.1.1.1.1.1.1.3" xref="S4.E4.m1.9.9.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E4.m1.9.9.1.1.1.1.3" xref="S4.E4.m1.9.9.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo mathsize="90%" id="S4.E4.m1.10.10.2.3" xref="S4.E4.m1.10.10.2.3.cmml">−</mo><mrow id="S4.E4.m1.10.10.2.2" xref="S4.E4.m1.10.10.2.2.cmml"><mfrac id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml"><mn mathsize="90%" id="S4.E4.m1.1.1.3" xref="S4.E4.m1.1.1.3.cmml">1</mn><mrow id="S4.E4.m1.1.1.1.3" xref="S4.E4.m1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.1.1.1.3.1" xref="S4.E4.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S4.E4.m1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.2.cmml">ℭ</mi><mo mathsize="90%" id="S4.E4.m1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.cmml">^</mo></mover><mo maxsize="90%" minsize="90%" id="S4.E4.m1.1.1.1.3.2" xref="S4.E4.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.2.2.2" xref="S4.E4.m1.10.10.2.2.2.cmml">​</mo><mrow id="S4.E4.m1.10.10.2.2.1" xref="S4.E4.m1.10.10.2.2.1.cmml"><munder id="S4.E4.m1.10.10.2.2.1.2" xref="S4.E4.m1.10.10.2.2.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" rspace="0em" stretchy="true" id="S4.E4.m1.10.10.2.2.1.2.2" xref="S4.E4.m1.10.10.2.2.1.2.2.cmml">∑</mo><mrow id="S4.E4.m1.10.10.2.2.1.2.3" xref="S4.E4.m1.10.10.2.2.1.2.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.2.3.2" xref="S4.E4.m1.10.10.2.2.1.2.3.2.cmml">c</mi><mo mathsize="90%" id="S4.E4.m1.10.10.2.2.1.2.3.1" xref="S4.E4.m1.10.10.2.2.1.2.3.1.cmml">∈</mo><mover accent="true" id="S4.E4.m1.10.10.2.2.1.2.3.3" xref="S4.E4.m1.10.10.2.2.1.2.3.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.2.3.3.2" xref="S4.E4.m1.10.10.2.2.1.2.3.3.2.cmml">ℭ</mi><mo mathsize="90%" id="S4.E4.m1.10.10.2.2.1.2.3.3.1" xref="S4.E4.m1.10.10.2.2.1.2.3.3.1.cmml">^</mo></mover></mrow></munder><mrow id="S4.E4.m1.10.10.2.2.1.1.1" xref="S4.E4.m1.10.10.2.2.1.1.2.cmml"><mo id="S4.E4.m1.10.10.2.2.1.1.1.2" xref="S4.E4.m1.10.10.2.2.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.10.10.2.2.1.1.1.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.cmml"><msub id="S4.E4.m1.10.10.2.2.1.1.1.1.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.2.cmml">ξ</mi><mo mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.1.cmml">∼</mo><msub id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.3.cmml">c</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.2.2.1.1.1.1.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.1.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.2.1" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.1.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.7.7" xref="S4.E4.m1.7.7.cmml">𝒘</mi><mo mathsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.2.2" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.1.cmml">;</mo><mi mathsize="90%" id="S4.E4.m1.8.8" xref="S4.E4.m1.8.8.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.2.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo maxsize="90%" minsize="90%" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.3" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E4.m1.10.10.2.2.1.1.1.3" xref="S4.E4.m1.10.10.2.2.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.10b"><apply id="S4.E4.m1.10.10.cmml" xref="S4.E4.m1.10.10"><and id="S4.E4.m1.10.10a.cmml" xref="S4.E4.m1.10.10"></and><apply id="S4.E4.m1.10.10b.cmml" xref="S4.E4.m1.10.10"><csymbol cd="latexml" id="S4.E4.m1.10.10.5.cmml" xref="S4.E4.m1.10.10.5">assign</csymbol><apply id="S4.E4.m1.10.10.4.cmml" xref="S4.E4.m1.10.10.4"><times id="S4.E4.m1.10.10.4.1.cmml" xref="S4.E4.m1.10.10.4.1"></times><apply id="S4.E4.m1.10.10.4.2.cmml" xref="S4.E4.m1.10.10.4.2"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.4.2.1.cmml" xref="S4.E4.m1.10.10.4.2">subscript</csymbol><ci id="S4.E4.m1.10.10.4.2.2.cmml" xref="S4.E4.m1.10.10.4.2.2">𝐼</ci><apply id="S4.E4.m1.10.10.4.2.3.cmml" xref="S4.E4.m1.10.10.4.2.3"><times id="S4.E4.m1.10.10.4.2.3.1.cmml" xref="S4.E4.m1.10.10.4.2.3.1"></times><ci id="S4.E4.m1.10.10.4.2.3.2.cmml" xref="S4.E4.m1.10.10.4.2.3.2">part</ci><ci id="S4.E4.m1.10.10.4.2.3.3.cmml" xref="S4.E4.m1.10.10.4.2.3.3">_</ci><ci id="S4.E4.m1.10.10.4.2.3.4.cmml" xref="S4.E4.m1.10.10.4.2.3.4">gap</ci></apply></apply><ci id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2">𝒘</ci></apply><apply id="S4.E4.m1.10.10.6.cmml" xref="S4.E4.m1.10.10.6"><minus id="S4.E4.m1.10.10.6.1.cmml" xref="S4.E4.m1.10.10.6.1"></minus><apply id="S4.E4.m1.10.10.6.2.cmml" xref="S4.E4.m1.10.10.6.2"><times id="S4.E4.m1.10.10.6.2.1.cmml" xref="S4.E4.m1.10.10.6.2.1"></times><apply id="S4.E4.m1.10.10.6.2.2.cmml" xref="S4.E4.m1.10.10.6.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.6.2.2.1.cmml" xref="S4.E4.m1.10.10.6.2.2">subscript</csymbol><ci id="S4.E4.m1.10.10.6.2.2.2.cmml" xref="S4.E4.m1.10.10.6.2.2.2">𝐹</ci><ci id="S4.E4.m1.10.10.6.2.2.3.cmml" xref="S4.E4.m1.10.10.6.2.2.3">unpart</ci></apply><ci id="S4.E4.m1.3.3.cmml" xref="S4.E4.m1.3.3">𝒘</ci></apply><apply id="S4.E4.m1.10.10.6.3.cmml" xref="S4.E4.m1.10.10.6.3"><times id="S4.E4.m1.10.10.6.3.1.cmml" xref="S4.E4.m1.10.10.6.3.1"></times><apply id="S4.E4.m1.10.10.6.3.2.cmml" xref="S4.E4.m1.10.10.6.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.6.3.2.1.cmml" xref="S4.E4.m1.10.10.6.3.2">subscript</csymbol><ci id="S4.E4.m1.10.10.6.3.2.2.cmml" xref="S4.E4.m1.10.10.6.3.2.2">𝐹</ci><apply id="S4.E4.m1.10.10.6.3.2.3.cmml" xref="S4.E4.m1.10.10.6.3.2.3"><times id="S4.E4.m1.10.10.6.3.2.3.1.cmml" xref="S4.E4.m1.10.10.6.3.2.3.1"></times><ci id="S4.E4.m1.10.10.6.3.2.3.2.cmml" xref="S4.E4.m1.10.10.6.3.2.3.2">part</ci><ci id="S4.E4.m1.10.10.6.3.2.3.3.cmml" xref="S4.E4.m1.10.10.6.3.2.3.3">_</ci><ci id="S4.E4.m1.10.10.6.3.2.3.4.cmml" xref="S4.E4.m1.10.10.6.3.2.3.4">val</ci></apply></apply><ci id="S4.E4.m1.4.4.cmml" xref="S4.E4.m1.4.4">𝒘</ci></apply></apply></apply><apply id="S4.E4.m1.10.10c.cmml" xref="S4.E4.m1.10.10"><eq id="S4.E4.m1.10.10.7.cmml" xref="S4.E4.m1.10.10.7"></eq><share href="#S4.E4.m1.10.10.6.cmml" id="S4.E4.m1.10.10d.cmml" xref="S4.E4.m1.10.10"></share><apply id="S4.E4.m1.10.10.2.cmml" xref="S4.E4.m1.10.10.2"><minus id="S4.E4.m1.10.10.2.3.cmml" xref="S4.E4.m1.10.10.2.3"></minus><apply id="S4.E4.m1.9.9.1.1.cmml" xref="S4.E4.m1.9.9.1.1"><times id="S4.E4.m1.9.9.1.1.2.cmml" xref="S4.E4.m1.9.9.1.1.2"></times><apply id="S4.E4.m1.9.9.1.1.3.cmml" xref="S4.E4.m1.9.9.1.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.1.1.3.1.cmml" xref="S4.E4.m1.9.9.1.1.3">subscript</csymbol><ci id="S4.E4.m1.9.9.1.1.3.2.cmml" xref="S4.E4.m1.9.9.1.1.3.2">𝔼</ci><apply id="S4.E4.m1.9.9.1.1.3.3.cmml" xref="S4.E4.m1.9.9.1.1.3.3"><csymbol cd="latexml" id="S4.E4.m1.9.9.1.1.3.3.1.cmml" xref="S4.E4.m1.9.9.1.1.3.3.1">similar-to</csymbol><ci id="S4.E4.m1.9.9.1.1.3.3.2.cmml" xref="S4.E4.m1.9.9.1.1.3.3.2">𝑐</ci><ci id="S4.E4.m1.9.9.1.1.3.3.3.cmml" xref="S4.E4.m1.9.9.1.1.3.3.3">𝒫</ci></apply></apply><apply id="S4.E4.m1.9.9.1.1.1.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.9.9.1.1.1.2.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.9.9.1.1.1.1.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1"><times id="S4.E4.m1.9.9.1.1.1.1.1.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.2"></times><apply id="S4.E4.m1.9.9.1.1.1.1.1.3.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.1.1.1.1.1.3.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E4.m1.9.9.1.1.1.1.1.3.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.2">𝔼</ci><apply id="S4.E4.m1.9.9.1.1.1.1.1.3.3.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.1">similar-to</csymbol><ci id="S4.E4.m1.9.9.1.1.1.1.1.3.3.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.2">𝜉</ci><apply id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.2">𝒟</ci><ci id="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.3.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.3.3.3.3">𝑐</ci></apply></apply></apply><apply id="S4.E4.m1.9.9.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.9.9.1.1.1.1.1.1.2.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1"><times id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.1"></times><ci id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.2">𝑓</ci><list id="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E4.m1.9.9.1.1.1.1.1.1.1.1.3.2"><ci id="S4.E4.m1.5.5.cmml" xref="S4.E4.m1.5.5">𝒘</ci><ci id="S4.E4.m1.6.6.cmml" xref="S4.E4.m1.6.6">𝜉</ci></list></apply></apply></apply></apply></apply><apply id="S4.E4.m1.10.10.2.2.cmml" xref="S4.E4.m1.10.10.2.2"><times id="S4.E4.m1.10.10.2.2.2.cmml" xref="S4.E4.m1.10.10.2.2.2"></times><apply id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1"><divide id="S4.E4.m1.1.1.2.cmml" xref="S4.E4.m1.1.1"></divide><cn type="integer" id="S4.E4.m1.1.1.3.cmml" xref="S4.E4.m1.1.1.3">1</cn><apply id="S4.E4.m1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.3"><abs id="S4.E4.m1.1.1.1.2.1.cmml" xref="S4.E4.m1.1.1.1.3.1"></abs><apply id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1"><ci id="S4.E4.m1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1">^</ci><ci id="S4.E4.m1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S4.E4.m1.10.10.2.2.1.cmml" xref="S4.E4.m1.10.10.2.2.1"><apply id="S4.E4.m1.10.10.2.2.1.2.cmml" xref="S4.E4.m1.10.10.2.2.1.2"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.2.2.1.2.1.cmml" xref="S4.E4.m1.10.10.2.2.1.2">subscript</csymbol><sum id="S4.E4.m1.10.10.2.2.1.2.2.cmml" xref="S4.E4.m1.10.10.2.2.1.2.2"></sum><apply id="S4.E4.m1.10.10.2.2.1.2.3.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3"><in id="S4.E4.m1.10.10.2.2.1.2.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3.1"></in><ci id="S4.E4.m1.10.10.2.2.1.2.3.2.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3.2">𝑐</ci><apply id="S4.E4.m1.10.10.2.2.1.2.3.3.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3.3"><ci id="S4.E4.m1.10.10.2.2.1.2.3.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3.3.1">^</ci><ci id="S4.E4.m1.10.10.2.2.1.2.3.3.2.cmml" xref="S4.E4.m1.10.10.2.2.1.2.3.3.2">ℭ</ci></apply></apply></apply><apply id="S4.E4.m1.10.10.2.2.1.1.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.10.10.2.2.1.1.2.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1"><times id="S4.E4.m1.10.10.2.2.1.1.1.1.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.2"></times><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.3.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3">subscript</csymbol><ci id="S4.E4.m1.10.10.2.2.1.1.1.1.3.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.2">𝔼</ci><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3"><csymbol cd="latexml" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.1">similar-to</csymbol><ci id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.2">𝜉</ci><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.2">𝒟</ci><ci id="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.3.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.3.3.3.3">𝑐</ci></apply></apply></apply><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.1.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.10.10.2.2.1.1.1.1.1.2.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1"><times id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.1"></times><ci id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.2">𝑓</ci><list id="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E4.m1.10.10.2.2.1.1.1.1.1.1.1.3.2"><ci id="S4.E4.m1.7.7.cmml" xref="S4.E4.m1.7.7">𝒘</ci><ci id="S4.E4.m1.8.8.cmml" xref="S4.E4.m1.8.8">𝜉</ci></list></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.10c">I_{\mathrm{part\_gap}}({\bm{w}}):=F_{\mathrm{unpart}}({\bm{w}})-F_{\mathrm{part\_val}}({\bm{w}})=\mathbb{E}_{c\sim\mathcal{P}}\left[\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right]-\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}\left[\mathbb{E}_{\xi\sim\mathcal{D}_{c}}[f({\bm{w}};\xi)]\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.7" class="ltx_p">In order to express the ideas without diving into details of measure theory, we assume without loss of generality that the meta-distribution <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\mathcal{P}</annotation></semantics></math> is a continuous distribution supported on <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\mathfrak{C}" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">ℭ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">ℭ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\mathfrak{C}</annotation></semantics></math> with probability density function <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="p_{\mathcal{P}}(c)" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mrow id="S4.SS2.p2.3.m3.1.2" xref="S4.SS2.p2.3.m3.1.2.cmml"><msub id="S4.SS2.p2.3.m3.1.2.2" xref="S4.SS2.p2.3.m3.1.2.2.cmml"><mi id="S4.SS2.p2.3.m3.1.2.2.2" xref="S4.SS2.p2.3.m3.1.2.2.2.cmml">p</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.3.m3.1.2.2.3" xref="S4.SS2.p2.3.m3.1.2.2.3.cmml">𝒫</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p2.3.m3.1.2.1" xref="S4.SS2.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS2.p2.3.m3.1.2.3.2" xref="S4.SS2.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S4.SS2.p2.3.m3.1.2.3.2.1" xref="S4.SS2.p2.3.m3.1.2.cmml">(</mo><mi id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">c</mi><mo stretchy="false" id="S4.SS2.p2.3.m3.1.2.3.2.2" xref="S4.SS2.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.2.cmml" xref="S4.SS2.p2.3.m3.1.2"><times id="S4.SS2.p2.3.m3.1.2.1.cmml" xref="S4.SS2.p2.3.m3.1.2.1"></times><apply id="S4.SS2.p2.3.m3.1.2.2.cmml" xref="S4.SS2.p2.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.1.2.2.1.cmml" xref="S4.SS2.p2.3.m3.1.2.2">subscript</csymbol><ci id="S4.SS2.p2.3.m3.1.2.2.2.cmml" xref="S4.SS2.p2.3.m3.1.2.2.2">𝑝</ci><ci id="S4.SS2.p2.3.m3.1.2.2.3.cmml" xref="S4.SS2.p2.3.m3.1.2.2.3">𝒫</ci></apply><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">p_{\mathcal{P}}(c)</annotation></semantics></math>. We also assume that for each client <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="c\in\mathfrak{C}" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><mrow id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">c</mi><mo id="S4.SS2.p2.4.m4.1.1.1" xref="S4.SS2.p2.4.m4.1.1.1.cmml">∈</mo><mi id="S4.SS2.p2.4.m4.1.1.3" xref="S4.SS2.p2.4.m4.1.1.3.cmml">ℭ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><in id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1.1"></in><ci id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">𝑐</ci><ci id="S4.SS2.p2.4.m4.1.1.3.cmml" xref="S4.SS2.p2.4.m4.1.1.3">ℭ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">c\in\mathfrak{C}</annotation></semantics></math>, the local distribution <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="\mathcal{D}_{c}" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><msub id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">𝒟</mi><mi id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2">𝒟</ci><ci id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">\mathcal{D}_{c}</annotation></semantics></math> is a continuous distribution supported on <math id="S4.SS2.p2.6.m6.1" class="ltx_Math" alttext="\Xi" display="inline"><semantics id="S4.SS2.p2.6.m6.1a"><mi mathvariant="normal" id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml">Ξ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><ci id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1">Ξ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">\Xi</annotation></semantics></math> with probability density function <math id="S4.SS2.p2.7.m7.1" class="ltx_Math" alttext="p_{\mathcal{D}_{c}}(\xi)" display="inline"><semantics id="S4.SS2.p2.7.m7.1a"><mrow id="S4.SS2.p2.7.m7.1.2" xref="S4.SS2.p2.7.m7.1.2.cmml"><msub id="S4.SS2.p2.7.m7.1.2.2" xref="S4.SS2.p2.7.m7.1.2.2.cmml"><mi id="S4.SS2.p2.7.m7.1.2.2.2" xref="S4.SS2.p2.7.m7.1.2.2.2.cmml">p</mi><msub id="S4.SS2.p2.7.m7.1.2.2.3" xref="S4.SS2.p2.7.m7.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.7.m7.1.2.2.3.2" xref="S4.SS2.p2.7.m7.1.2.2.3.2.cmml">𝒟</mi><mi id="S4.SS2.p2.7.m7.1.2.2.3.3" xref="S4.SS2.p2.7.m7.1.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p2.7.m7.1.2.1" xref="S4.SS2.p2.7.m7.1.2.1.cmml">​</mo><mrow id="S4.SS2.p2.7.m7.1.2.3.2" xref="S4.SS2.p2.7.m7.1.2.cmml"><mo stretchy="false" id="S4.SS2.p2.7.m7.1.2.3.2.1" xref="S4.SS2.p2.7.m7.1.2.cmml">(</mo><mi id="S4.SS2.p2.7.m7.1.1" xref="S4.SS2.p2.7.m7.1.1.cmml">ξ</mi><mo stretchy="false" id="S4.SS2.p2.7.m7.1.2.3.2.2" xref="S4.SS2.p2.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.7.m7.1b"><apply id="S4.SS2.p2.7.m7.1.2.cmml" xref="S4.SS2.p2.7.m7.1.2"><times id="S4.SS2.p2.7.m7.1.2.1.cmml" xref="S4.SS2.p2.7.m7.1.2.1"></times><apply id="S4.SS2.p2.7.m7.1.2.2.cmml" xref="S4.SS2.p2.7.m7.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.7.m7.1.2.2.1.cmml" xref="S4.SS2.p2.7.m7.1.2.2">subscript</csymbol><ci id="S4.SS2.p2.7.m7.1.2.2.2.cmml" xref="S4.SS2.p2.7.m7.1.2.2.2">𝑝</ci><apply id="S4.SS2.p2.7.m7.1.2.2.3.cmml" xref="S4.SS2.p2.7.m7.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.7.m7.1.2.2.3.1.cmml" xref="S4.SS2.p2.7.m7.1.2.2.3">subscript</csymbol><ci id="S4.SS2.p2.7.m7.1.2.2.3.2.cmml" xref="S4.SS2.p2.7.m7.1.2.2.3.2">𝒟</ci><ci id="S4.SS2.p2.7.m7.1.2.2.3.3.cmml" xref="S4.SS2.p2.7.m7.1.2.2.3.3">𝑐</ci></apply></apply><ci id="S4.SS2.p2.7.m7.1.1.cmml" xref="S4.SS2.p2.7.m7.1.1">𝜉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m7.1c">p_{\mathcal{D}_{c}}(\xi)</annotation></semantics></math>. Therefore, the participation gap becomes
<span id="S4.SS2.p2.7.1" class="ltx_text" style="font-size:90%;"></span></p>
<table id="S5.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E5.m1.8" class="ltx_Math" alttext="\displaystyle I_{\mathrm{participation}}({\bm{w}})=\int_{\xi\in\Xi}f({\bm{w}};\xi)\cdot\left(\int_{c\in\mathfrak{C}}p_{\mathcal{D}_{c}}(\xi)p_{\mathcal{P}}(c){\textnormal{d}}c-\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)\right){\textnormal{d}}\xi." display="inline"><semantics id="S4.E5.m1.8a"><mrow id="S4.E5.m1.8.8.1" xref="S4.E5.m1.8.8.1.1.cmml"><mrow id="S4.E5.m1.8.8.1.1" xref="S4.E5.m1.8.8.1.1.cmml"><mrow id="S4.E5.m1.8.8.1.1.3" xref="S4.E5.m1.8.8.1.1.3.cmml"><msub id="S4.E5.m1.8.8.1.1.3.2" xref="S4.E5.m1.8.8.1.1.3.2.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.3.2.2" xref="S4.E5.m1.8.8.1.1.3.2.2.cmml">I</mi><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.3.2.3" xref="S4.E5.m1.8.8.1.1.3.2.3.cmml">participation</mi></msub><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.3.1" xref="S4.E5.m1.8.8.1.1.3.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.3.3.2" xref="S4.E5.m1.8.8.1.1.3.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.3.3.2.1" xref="S4.E5.m1.8.8.1.1.3.cmml">(</mo><mi mathsize="90%" id="S4.E5.m1.2.2" xref="S4.E5.m1.2.2.cmml">𝒘</mi><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.3.3.2.2" xref="S4.E5.m1.8.8.1.1.3.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.2" xref="S4.E5.m1.8.8.1.1.2.cmml">=</mo><mrow id="S4.E5.m1.8.8.1.1.1" xref="S4.E5.m1.8.8.1.1.1.cmml"><mstyle displaystyle="true" id="S4.E5.m1.8.8.1.1.1.2" xref="S4.E5.m1.8.8.1.1.1.2.cmml"><msub id="S4.E5.m1.8.8.1.1.1.2a" xref="S4.E5.m1.8.8.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" stretchy="true" id="S4.E5.m1.8.8.1.1.1.2.2" xref="S4.E5.m1.8.8.1.1.1.2.2.cmml">∫</mo><mrow id="S4.E5.m1.8.8.1.1.1.2.3" xref="S4.E5.m1.8.8.1.1.1.2.3.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.2.3.2" xref="S4.E5.m1.8.8.1.1.1.2.3.2.cmml">ξ</mi><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.2.3.1" xref="S4.E5.m1.8.8.1.1.1.2.3.1.cmml">∈</mo><mi mathsize="90%" mathvariant="normal" id="S4.E5.m1.8.8.1.1.1.2.3.3" xref="S4.E5.m1.8.8.1.1.1.2.3.3.cmml">Ξ</mi></mrow></msub></mstyle><mrow id="S4.E5.m1.8.8.1.1.1.1" xref="S4.E5.m1.8.8.1.1.1.1.cmml"><mrow id="S4.E5.m1.8.8.1.1.1.1.1" xref="S4.E5.m1.8.8.1.1.1.1.1.cmml"><mrow id="S4.E5.m1.8.8.1.1.1.1.1.3" xref="S4.E5.m1.8.8.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.3.1" xref="S4.E5.m1.8.8.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.3.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.3.3.1.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.3.3.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.3.3.1.cmml">(</mo><mi mathsize="90%" id="S4.E5.m1.3.3" xref="S4.E5.m1.3.3.cmml">𝒘</mi><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.3.3.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.3.3.1.cmml">;</mo><mi mathsize="90%" id="S4.E5.m1.4.4" xref="S4.E5.m1.4.4.cmml">ξ</mi><mo maxsize="90%" minsize="90%" rspace="0.055em" id="S4.E5.m1.8.8.1.1.1.1.1.3.3.2.3" xref="S4.E5.m1.8.8.1.1.1.1.1.3.3.1.cmml">)</mo></mrow></mrow><mo mathsize="90%" rspace="0.222em" id="S4.E5.m1.8.8.1.1.1.1.1.2" xref="S4.E5.m1.8.8.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E5.m1.8.8.1.1.1.1.1.1.1.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.cmml"><mstyle displaystyle="true" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml"><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1a" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml"><mo maxsize="90%" minsize="90%" stretchy="true" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.2.cmml">∫</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.2.cmml">c</mi><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.1.cmml">∈</mo><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.3.cmml">ℭ</mi></mrow></msub></mstyle><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml"><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.2.cmml">p</mi><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.3.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml">(</mo><mi mathsize="90%" id="S4.E5.m1.5.5" xref="S4.E5.m1.5.5.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.3.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1a" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.2.cmml">p</mi><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.3.cmml">𝒫</mi></msub><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1b" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.5.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.5.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml">(</mo><mi mathsize="90%" id="S4.E5.m1.6.6" xref="S4.E5.m1.6.6.cmml">c</mi><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.5.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1c" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mtext mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6a.cmml">d</mtext><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1d" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.7" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.7.cmml">c</mi></mrow></mrow><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml"><mfrac id="S4.E5.m1.1.1a" xref="S4.E5.m1.1.1.cmml"><mn mathsize="90%" id="S4.E5.m1.1.1.3" xref="S4.E5.m1.1.1.3.cmml">1</mn><mrow id="S4.E5.m1.1.1.1.3" xref="S4.E5.m1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.1.1.1.3.1" xref="S4.E5.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S4.E5.m1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S4.E5.m1.1.1.1.1.2" xref="S4.E5.m1.1.1.1.1.2.cmml">ℭ</mi><mo mathsize="90%" id="S4.E5.m1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.cmml">^</mo></mover><mo maxsize="90%" minsize="90%" id="S4.E5.m1.1.1.1.3.2" xref="S4.E5.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml"><mstyle displaystyle="true" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.cmml"><munder id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1a" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" stretchy="true" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.2.cmml">∑</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.2.cmml">c</mi><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.1.cmml">∈</mo><mover accent="true" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.2.cmml">ℭ</mi><mo mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.1.cmml">^</mo></mover></mrow></munder></mstyle><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.cmml"><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.cmml"><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.2.cmml">p</mi><msub id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.2.cmml">𝒟</mi><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.1.cmml">​</mo><mrow id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.3.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.3.2.1" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.cmml">(</mo><mi mathsize="90%" id="S4.E5.m1.7.7" xref="S4.E5.m1.7.7.cmml">ξ</mi><mo maxsize="90%" minsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.3.2.2" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.E5.m1.8.8.1.1.1.1.1.1.1.3" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.2" xref="S4.E5.m1.8.8.1.1.1.1.2.cmml">​</mo><mtext mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.3" xref="S4.E5.m1.8.8.1.1.1.1.3a.cmml">d</mtext><mo lspace="0em" rspace="0em" id="S4.E5.m1.8.8.1.1.1.1.2a" xref="S4.E5.m1.8.8.1.1.1.1.2.cmml">​</mo><mi mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.4" xref="S4.E5.m1.8.8.1.1.1.1.4.cmml">ξ</mi></mrow></mrow></mrow><mo lspace="0em" mathsize="90%" id="S4.E5.m1.8.8.1.2" xref="S4.E5.m1.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.8b"><apply id="S4.E5.m1.8.8.1.1.cmml" xref="S4.E5.m1.8.8.1"><eq id="S4.E5.m1.8.8.1.1.2.cmml" xref="S4.E5.m1.8.8.1.1.2"></eq><apply id="S4.E5.m1.8.8.1.1.3.cmml" xref="S4.E5.m1.8.8.1.1.3"><times id="S4.E5.m1.8.8.1.1.3.1.cmml" xref="S4.E5.m1.8.8.1.1.3.1"></times><apply id="S4.E5.m1.8.8.1.1.3.2.cmml" xref="S4.E5.m1.8.8.1.1.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.3.2.1.cmml" xref="S4.E5.m1.8.8.1.1.3.2">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.3.2.2.cmml" xref="S4.E5.m1.8.8.1.1.3.2.2">𝐼</ci><ci id="S4.E5.m1.8.8.1.1.3.2.3.cmml" xref="S4.E5.m1.8.8.1.1.3.2.3">participation</ci></apply><ci id="S4.E5.m1.2.2.cmml" xref="S4.E5.m1.2.2">𝒘</ci></apply><apply id="S4.E5.m1.8.8.1.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1"><apply id="S4.E5.m1.8.8.1.1.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.2">subscript</csymbol><int id="S4.E5.m1.8.8.1.1.1.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.2.2"></int><apply id="S4.E5.m1.8.8.1.1.1.2.3.cmml" xref="S4.E5.m1.8.8.1.1.1.2.3"><in id="S4.E5.m1.8.8.1.1.1.2.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.2.3.1"></in><ci id="S4.E5.m1.8.8.1.1.1.2.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.2.3.2">𝜉</ci><ci id="S4.E5.m1.8.8.1.1.1.2.3.3.cmml" xref="S4.E5.m1.8.8.1.1.1.2.3.3">Ξ</ci></apply></apply><apply id="S4.E5.m1.8.8.1.1.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1"><times id="S4.E5.m1.8.8.1.1.1.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.2"></times><apply id="S4.E5.m1.8.8.1.1.1.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1"><ci id="S4.E5.m1.8.8.1.1.1.1.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.2">⋅</ci><apply id="S4.E5.m1.8.8.1.1.1.1.1.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.3"><times id="S4.E5.m1.8.8.1.1.1.1.1.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.3.1"></times><ci id="S4.E5.m1.8.8.1.1.1.1.1.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.3.2">𝑓</ci><list id="S4.E5.m1.8.8.1.1.1.1.1.3.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.3.3.2"><ci id="S4.E5.m1.3.3.cmml" xref="S4.E5.m1.3.3">𝒘</ci><ci id="S4.E5.m1.4.4.cmml" xref="S4.E5.m1.4.4">𝜉</ci></list></apply><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1"><minus id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.1"></minus><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2"><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1">subscript</csymbol><int id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.2"></int><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3"><in id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.1"></in><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.2">𝑐</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.1.3.3">ℭ</ci></apply></apply><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2"><times id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.1"></times><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.2">𝑝</ci><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.2">𝒟</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.2.3.3">𝑐</ci></apply></apply><ci id="S4.E5.m1.5.5.cmml" xref="S4.E5.m1.5.5">𝜉</ci><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.2">𝑝</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.4.3">𝒫</ci></apply><ci id="S4.E5.m1.6.6.cmml" xref="S4.E5.m1.6.6">𝑐</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6a.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6"><mtext mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.6">d</mtext></ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.7.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.2.2.7">𝑐</ci></apply></apply><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3"><times id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.1"></times><apply id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1"><divide id="S4.E5.m1.1.1.2.cmml" xref="S4.E5.m1.1.1"></divide><cn type="integer" id="S4.E5.m1.1.1.3.cmml" xref="S4.E5.m1.1.1.3">1</cn><apply id="S4.E5.m1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.3"><abs id="S4.E5.m1.1.1.1.2.1.cmml" xref="S4.E5.m1.1.1.1.3.1"></abs><apply id="S4.E5.m1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1"><ci id="S4.E5.m1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1">^</ci><ci id="S4.E5.m1.1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2"><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1">subscript</csymbol><sum id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.2"></sum><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3"><in id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.1"></in><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.2">𝑐</ci><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3"><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.1">^</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.1.3.3.2">ℭ</ci></apply></apply></apply><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2"><times id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.1"></times><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.2">𝑝</ci><apply id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.1.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3">subscript</csymbol><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.2.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.2">𝒟</ci><ci id="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.1.1.1.1.3.2.2.2.3.3">𝑐</ci></apply></apply><ci id="S4.E5.m1.7.7.cmml" xref="S4.E5.m1.7.7">𝜉</ci></apply></apply></apply></apply></apply><ci id="S4.E5.m1.8.8.1.1.1.1.3a.cmml" xref="S4.E5.m1.8.8.1.1.1.1.3"><mtext mathsize="90%" id="S4.E5.m1.8.8.1.1.1.1.3.cmml" xref="S4.E5.m1.8.8.1.1.1.1.3">d</mtext></ci><ci id="S4.E5.m1.8.8.1.1.1.1.4.cmml" xref="S4.E5.m1.8.8.1.1.1.1.4">𝜉</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.8c">\displaystyle I_{\mathrm{participation}}({\bm{w}})=\int_{\xi\in\Xi}f({\bm{w}};\xi)\cdot\left(\int_{c\in\mathfrak{C}}p_{\mathcal{D}_{c}}(\xi)p_{\mathcal{P}}(c){\textnormal{d}}c-\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)\right){\textnormal{d}}\xi.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.p2.10" class="ltx_p">Therefore the scale of participation gap could depend (negatively) on the concentration speed from <math id="S4.SS2.p2.8.m1.2" class="ltx_Math" alttext="\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)" display="inline"><semantics id="S4.SS2.p2.8.m1.2a"><mrow id="S4.SS2.p2.8.m1.2.3" xref="S4.SS2.p2.8.m1.2.3.cmml"><mfrac id="S4.SS2.p2.8.m1.1.1" xref="S4.SS2.p2.8.m1.1.1.cmml"><mn id="S4.SS2.p2.8.m1.1.1.3" xref="S4.SS2.p2.8.m1.1.1.3.cmml">1</mn><mrow id="S4.SS2.p2.8.m1.1.1.1.3" xref="S4.SS2.p2.8.m1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS2.p2.8.m1.1.1.1.3.1" xref="S4.SS2.p2.8.m1.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S4.SS2.p2.8.m1.1.1.1.1" xref="S4.SS2.p2.8.m1.1.1.1.1.cmml"><mi id="S4.SS2.p2.8.m1.1.1.1.1.2" xref="S4.SS2.p2.8.m1.1.1.1.1.2.cmml">ℭ</mi><mo id="S4.SS2.p2.8.m1.1.1.1.1.1" xref="S4.SS2.p2.8.m1.1.1.1.1.1.cmml">^</mo></mover><mo stretchy="false" id="S4.SS2.p2.8.m1.1.1.1.3.2" xref="S4.SS2.p2.8.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S4.SS2.p2.8.m1.2.3.1" xref="S4.SS2.p2.8.m1.2.3.1.cmml">​</mo><mrow id="S4.SS2.p2.8.m1.2.3.2" xref="S4.SS2.p2.8.m1.2.3.2.cmml"><msub id="S4.SS2.p2.8.m1.2.3.2.1" xref="S4.SS2.p2.8.m1.2.3.2.1.cmml"><mo id="S4.SS2.p2.8.m1.2.3.2.1.2" xref="S4.SS2.p2.8.m1.2.3.2.1.2.cmml">∑</mo><mrow id="S4.SS2.p2.8.m1.2.3.2.1.3" xref="S4.SS2.p2.8.m1.2.3.2.1.3.cmml"><mi id="S4.SS2.p2.8.m1.2.3.2.1.3.2" xref="S4.SS2.p2.8.m1.2.3.2.1.3.2.cmml">c</mi><mo id="S4.SS2.p2.8.m1.2.3.2.1.3.1" xref="S4.SS2.p2.8.m1.2.3.2.1.3.1.cmml">∈</mo><mover accent="true" id="S4.SS2.p2.8.m1.2.3.2.1.3.3" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3.cmml"><mi id="S4.SS2.p2.8.m1.2.3.2.1.3.3.2" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3.2.cmml">ℭ</mi><mo id="S4.SS2.p2.8.m1.2.3.2.1.3.3.1" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3.1.cmml">^</mo></mover></mrow></msub><mrow id="S4.SS2.p2.8.m1.2.3.2.2" xref="S4.SS2.p2.8.m1.2.3.2.2.cmml"><msub id="S4.SS2.p2.8.m1.2.3.2.2.2" xref="S4.SS2.p2.8.m1.2.3.2.2.2.cmml"><mi id="S4.SS2.p2.8.m1.2.3.2.2.2.2" xref="S4.SS2.p2.8.m1.2.3.2.2.2.2.cmml">p</mi><msub id="S4.SS2.p2.8.m1.2.3.2.2.2.3" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.8.m1.2.3.2.2.2.3.2" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3.2.cmml">𝒟</mi><mi id="S4.SS2.p2.8.m1.2.3.2.2.2.3.3" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p2.8.m1.2.3.2.2.1" xref="S4.SS2.p2.8.m1.2.3.2.2.1.cmml">​</mo><mrow id="S4.SS2.p2.8.m1.2.3.2.2.3.2" xref="S4.SS2.p2.8.m1.2.3.2.2.cmml"><mo stretchy="false" id="S4.SS2.p2.8.m1.2.3.2.2.3.2.1" xref="S4.SS2.p2.8.m1.2.3.2.2.cmml">(</mo><mi id="S4.SS2.p2.8.m1.2.2" xref="S4.SS2.p2.8.m1.2.2.cmml">ξ</mi><mo stretchy="false" id="S4.SS2.p2.8.m1.2.3.2.2.3.2.2" xref="S4.SS2.p2.8.m1.2.3.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.8.m1.2b"><apply id="S4.SS2.p2.8.m1.2.3.cmml" xref="S4.SS2.p2.8.m1.2.3"><times id="S4.SS2.p2.8.m1.2.3.1.cmml" xref="S4.SS2.p2.8.m1.2.3.1"></times><apply id="S4.SS2.p2.8.m1.1.1.cmml" xref="S4.SS2.p2.8.m1.1.1"><divide id="S4.SS2.p2.8.m1.1.1.2.cmml" xref="S4.SS2.p2.8.m1.1.1"></divide><cn type="integer" id="S4.SS2.p2.8.m1.1.1.3.cmml" xref="S4.SS2.p2.8.m1.1.1.3">1</cn><apply id="S4.SS2.p2.8.m1.1.1.1.2.cmml" xref="S4.SS2.p2.8.m1.1.1.1.3"><abs id="S4.SS2.p2.8.m1.1.1.1.2.1.cmml" xref="S4.SS2.p2.8.m1.1.1.1.3.1"></abs><apply id="S4.SS2.p2.8.m1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m1.1.1.1.1"><ci id="S4.SS2.p2.8.m1.1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m1.1.1.1.1.1">^</ci><ci id="S4.SS2.p2.8.m1.1.1.1.1.2.cmml" xref="S4.SS2.p2.8.m1.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S4.SS2.p2.8.m1.2.3.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2"><apply id="S4.SS2.p2.8.m1.2.3.2.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m1.2.3.2.1.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1">subscript</csymbol><sum id="S4.SS2.p2.8.m1.2.3.2.1.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.2"></sum><apply id="S4.SS2.p2.8.m1.2.3.2.1.3.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3"><in id="S4.SS2.p2.8.m1.2.3.2.1.3.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3.1"></in><ci id="S4.SS2.p2.8.m1.2.3.2.1.3.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3.2">𝑐</ci><apply id="S4.SS2.p2.8.m1.2.3.2.1.3.3.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3"><ci id="S4.SS2.p2.8.m1.2.3.2.1.3.3.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3.1">^</ci><ci id="S4.SS2.p2.8.m1.2.3.2.1.3.3.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.1.3.3.2">ℭ</ci></apply></apply></apply><apply id="S4.SS2.p2.8.m1.2.3.2.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2"><times id="S4.SS2.p2.8.m1.2.3.2.2.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.1"></times><apply id="S4.SS2.p2.8.m1.2.3.2.2.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m1.2.3.2.2.2.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2">subscript</csymbol><ci id="S4.SS2.p2.8.m1.2.3.2.2.2.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2.2">𝑝</ci><apply id="S4.SS2.p2.8.m1.2.3.2.2.2.3.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m1.2.3.2.2.2.3.1.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3">subscript</csymbol><ci id="S4.SS2.p2.8.m1.2.3.2.2.2.3.2.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3.2">𝒟</ci><ci id="S4.SS2.p2.8.m1.2.3.2.2.2.3.3.cmml" xref="S4.SS2.p2.8.m1.2.3.2.2.2.3.3">𝑐</ci></apply></apply><ci id="S4.SS2.p2.8.m1.2.2.cmml" xref="S4.SS2.p2.8.m1.2.2">𝜉</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.8.m1.2c">\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)</annotation></semantics></math> to <math id="S4.SS2.p2.9.m2.2" class="ltx_Math" alttext="\int_{c\in\mathfrak{C}}p_{\mathcal{D}_{c}}(\xi)p_{\mathcal{P}}(c){\textnormal{d}}c" display="inline"><semantics id="S4.SS2.p2.9.m2.2a"><mrow id="S4.SS2.p2.9.m2.2.3" xref="S4.SS2.p2.9.m2.2.3.cmml"><msub id="S4.SS2.p2.9.m2.2.3.1" xref="S4.SS2.p2.9.m2.2.3.1.cmml"><mo id="S4.SS2.p2.9.m2.2.3.1.2" xref="S4.SS2.p2.9.m2.2.3.1.2.cmml">∫</mo><mrow id="S4.SS2.p2.9.m2.2.3.1.3" xref="S4.SS2.p2.9.m2.2.3.1.3.cmml"><mi id="S4.SS2.p2.9.m2.2.3.1.3.2" xref="S4.SS2.p2.9.m2.2.3.1.3.2.cmml">c</mi><mo id="S4.SS2.p2.9.m2.2.3.1.3.1" xref="S4.SS2.p2.9.m2.2.3.1.3.1.cmml">∈</mo><mi id="S4.SS2.p2.9.m2.2.3.1.3.3" xref="S4.SS2.p2.9.m2.2.3.1.3.3.cmml">ℭ</mi></mrow></msub><mrow id="S4.SS2.p2.9.m2.2.3.2" xref="S4.SS2.p2.9.m2.2.3.2.cmml"><msub id="S4.SS2.p2.9.m2.2.3.2.2" xref="S4.SS2.p2.9.m2.2.3.2.2.cmml"><mi id="S4.SS2.p2.9.m2.2.3.2.2.2" xref="S4.SS2.p2.9.m2.2.3.2.2.2.cmml">p</mi><msub id="S4.SS2.p2.9.m2.2.3.2.2.3" xref="S4.SS2.p2.9.m2.2.3.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.9.m2.2.3.2.2.3.2" xref="S4.SS2.p2.9.m2.2.3.2.2.3.2.cmml">𝒟</mi><mi id="S4.SS2.p2.9.m2.2.3.2.2.3.3" xref="S4.SS2.p2.9.m2.2.3.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p2.9.m2.2.3.2.1" xref="S4.SS2.p2.9.m2.2.3.2.1.cmml">​</mo><mrow id="S4.SS2.p2.9.m2.2.3.2.3.2" xref="S4.SS2.p2.9.m2.2.3.2.cmml"><mo stretchy="false" id="S4.SS2.p2.9.m2.2.3.2.3.2.1" xref="S4.SS2.p2.9.m2.2.3.2.cmml">(</mo><mi id="S4.SS2.p2.9.m2.1.1" xref="S4.SS2.p2.9.m2.1.1.cmml">ξ</mi><mo stretchy="false" id="S4.SS2.p2.9.m2.2.3.2.3.2.2" xref="S4.SS2.p2.9.m2.2.3.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.9.m2.2.3.2.1a" xref="S4.SS2.p2.9.m2.2.3.2.1.cmml">​</mo><msub id="S4.SS2.p2.9.m2.2.3.2.4" xref="S4.SS2.p2.9.m2.2.3.2.4.cmml"><mi id="S4.SS2.p2.9.m2.2.3.2.4.2" xref="S4.SS2.p2.9.m2.2.3.2.4.2.cmml">p</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.9.m2.2.3.2.4.3" xref="S4.SS2.p2.9.m2.2.3.2.4.3.cmml">𝒫</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p2.9.m2.2.3.2.1b" xref="S4.SS2.p2.9.m2.2.3.2.1.cmml">​</mo><mrow id="S4.SS2.p2.9.m2.2.3.2.5.2" xref="S4.SS2.p2.9.m2.2.3.2.cmml"><mo stretchy="false" id="S4.SS2.p2.9.m2.2.3.2.5.2.1" xref="S4.SS2.p2.9.m2.2.3.2.cmml">(</mo><mi id="S4.SS2.p2.9.m2.2.2" xref="S4.SS2.p2.9.m2.2.2.cmml">c</mi><mo stretchy="false" id="S4.SS2.p2.9.m2.2.3.2.5.2.2" xref="S4.SS2.p2.9.m2.2.3.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.9.m2.2.3.2.1c" xref="S4.SS2.p2.9.m2.2.3.2.1.cmml">​</mo><mtext id="S4.SS2.p2.9.m2.2.3.2.6" xref="S4.SS2.p2.9.m2.2.3.2.6a.cmml">d</mtext><mo lspace="0em" rspace="0em" id="S4.SS2.p2.9.m2.2.3.2.1d" xref="S4.SS2.p2.9.m2.2.3.2.1.cmml">​</mo><mi id="S4.SS2.p2.9.m2.2.3.2.7" xref="S4.SS2.p2.9.m2.2.3.2.7.cmml">c</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.9.m2.2b"><apply id="S4.SS2.p2.9.m2.2.3.cmml" xref="S4.SS2.p2.9.m2.2.3"><apply id="S4.SS2.p2.9.m2.2.3.1.cmml" xref="S4.SS2.p2.9.m2.2.3.1"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m2.2.3.1.1.cmml" xref="S4.SS2.p2.9.m2.2.3.1">subscript</csymbol><int id="S4.SS2.p2.9.m2.2.3.1.2.cmml" xref="S4.SS2.p2.9.m2.2.3.1.2"></int><apply id="S4.SS2.p2.9.m2.2.3.1.3.cmml" xref="S4.SS2.p2.9.m2.2.3.1.3"><in id="S4.SS2.p2.9.m2.2.3.1.3.1.cmml" xref="S4.SS2.p2.9.m2.2.3.1.3.1"></in><ci id="S4.SS2.p2.9.m2.2.3.1.3.2.cmml" xref="S4.SS2.p2.9.m2.2.3.1.3.2">𝑐</ci><ci id="S4.SS2.p2.9.m2.2.3.1.3.3.cmml" xref="S4.SS2.p2.9.m2.2.3.1.3.3">ℭ</ci></apply></apply><apply id="S4.SS2.p2.9.m2.2.3.2.cmml" xref="S4.SS2.p2.9.m2.2.3.2"><times id="S4.SS2.p2.9.m2.2.3.2.1.cmml" xref="S4.SS2.p2.9.m2.2.3.2.1"></times><apply id="S4.SS2.p2.9.m2.2.3.2.2.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m2.2.3.2.2.1.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2">subscript</csymbol><ci id="S4.SS2.p2.9.m2.2.3.2.2.2.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2.2">𝑝</ci><apply id="S4.SS2.p2.9.m2.2.3.2.2.3.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m2.2.3.2.2.3.1.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2.3">subscript</csymbol><ci id="S4.SS2.p2.9.m2.2.3.2.2.3.2.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2.3.2">𝒟</ci><ci id="S4.SS2.p2.9.m2.2.3.2.2.3.3.cmml" xref="S4.SS2.p2.9.m2.2.3.2.2.3.3">𝑐</ci></apply></apply><ci id="S4.SS2.p2.9.m2.1.1.cmml" xref="S4.SS2.p2.9.m2.1.1">𝜉</ci><apply id="S4.SS2.p2.9.m2.2.3.2.4.cmml" xref="S4.SS2.p2.9.m2.2.3.2.4"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m2.2.3.2.4.1.cmml" xref="S4.SS2.p2.9.m2.2.3.2.4">subscript</csymbol><ci id="S4.SS2.p2.9.m2.2.3.2.4.2.cmml" xref="S4.SS2.p2.9.m2.2.3.2.4.2">𝑝</ci><ci id="S4.SS2.p2.9.m2.2.3.2.4.3.cmml" xref="S4.SS2.p2.9.m2.2.3.2.4.3">𝒫</ci></apply><ci id="S4.SS2.p2.9.m2.2.2.cmml" xref="S4.SS2.p2.9.m2.2.2">𝑐</ci><ci id="S4.SS2.p2.9.m2.2.3.2.6a.cmml" xref="S4.SS2.p2.9.m2.2.3.2.6"><mtext id="S4.SS2.p2.9.m2.2.3.2.6.cmml" xref="S4.SS2.p2.9.m2.2.3.2.6">d</mtext></ci><ci id="S4.SS2.p2.9.m2.2.3.2.7.cmml" xref="S4.SS2.p2.9.m2.2.3.2.7">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.9.m2.2c">\int_{c\in\mathfrak{C}}p_{\mathcal{D}_{c}}(\xi)p_{\mathcal{P}}(c){\textnormal{d}}c</annotation></semantics></math> as <math id="S4.SS2.p2.10.m3.1" class="ltx_Math" alttext="|\hat{\mathfrak{C}}|\to\infty" display="inline"><semantics id="S4.SS2.p2.10.m3.1a"><mrow id="S4.SS2.p2.10.m3.1.2" xref="S4.SS2.p2.10.m3.1.2.cmml"><mrow id="S4.SS2.p2.10.m3.1.2.2.2" xref="S4.SS2.p2.10.m3.1.2.2.1.cmml"><mo stretchy="false" id="S4.SS2.p2.10.m3.1.2.2.2.1" xref="S4.SS2.p2.10.m3.1.2.2.1.1.cmml">|</mo><mover accent="true" id="S4.SS2.p2.10.m3.1.1" xref="S4.SS2.p2.10.m3.1.1.cmml"><mi id="S4.SS2.p2.10.m3.1.1.2" xref="S4.SS2.p2.10.m3.1.1.2.cmml">ℭ</mi><mo id="S4.SS2.p2.10.m3.1.1.1" xref="S4.SS2.p2.10.m3.1.1.1.cmml">^</mo></mover><mo stretchy="false" id="S4.SS2.p2.10.m3.1.2.2.2.2" xref="S4.SS2.p2.10.m3.1.2.2.1.1.cmml">|</mo></mrow><mo stretchy="false" id="S4.SS2.p2.10.m3.1.2.1" xref="S4.SS2.p2.10.m3.1.2.1.cmml">→</mo><mi mathvariant="normal" id="S4.SS2.p2.10.m3.1.2.3" xref="S4.SS2.p2.10.m3.1.2.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.10.m3.1b"><apply id="S4.SS2.p2.10.m3.1.2.cmml" xref="S4.SS2.p2.10.m3.1.2"><ci id="S4.SS2.p2.10.m3.1.2.1.cmml" xref="S4.SS2.p2.10.m3.1.2.1">→</ci><apply id="S4.SS2.p2.10.m3.1.2.2.1.cmml" xref="S4.SS2.p2.10.m3.1.2.2.2"><abs id="S4.SS2.p2.10.m3.1.2.2.1.1.cmml" xref="S4.SS2.p2.10.m3.1.2.2.2.1"></abs><apply id="S4.SS2.p2.10.m3.1.1.cmml" xref="S4.SS2.p2.10.m3.1.1"><ci id="S4.SS2.p2.10.m3.1.1.1.cmml" xref="S4.SS2.p2.10.m3.1.1.1">^</ci><ci id="S4.SS2.p2.10.m3.1.1.2.cmml" xref="S4.SS2.p2.10.m3.1.1.2">ℭ</ci></apply></apply><infinity id="S4.SS2.p2.10.m3.1.2.3.cmml" xref="S4.SS2.p2.10.m3.1.2.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.10.m3.1c">|\hat{\mathfrak{C}}|\to\infty</annotation></semantics></math>.<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>One can make the above claim rigorous with standard learning theory approaches such as uniform convergence and Rademacher complexity <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Vapnik</span>, <a href="#bib.bib78" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1998</span></a>)</cite>.</span></span></span>
We hypothesize that for label-based partitioning, the concentration is fast because each client has a large entropy as it can cover the entire distribution of a given label. On the other hand, for natural or semantic partitioning, the concentration is slower as the local distribution of each client has lower entropy due to the (natural or synthetic) semantic clustering.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">We validate our hypothesis with an empirical estimation of local dataset entropy, shown in <a href="#S4.F6" title="In 4.2 Explaining differences between label-based and semantic partitioning ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">6</span></a>.
We observe that the clients generated by label-based partitioning demonstrate much higher entropy than the natural ones.
Notably, our proposed semantic partitioning has a very similar entropy distribution across clients as the natural partitioning.
This indicates that the heterogeneity in EMNIST is mostly attributed to semantic heterogeneity.</p>
</div>
<figure id="S4.F6" class="ltx_figure"><img src="/html/2110.14216/assets/x8.png" id="S4.F6.g1" class="ltx_graphics ltx_img_square" width="124" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.3.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S4.F6.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Kernel density estimates of the distribution of client entropy for naturally-partitioned clients (top), semantic-partitioned clients (middle), and label-based partitioned clients (bottom).<span id="S4.F6.4.2.1" class="ltx_text ltx_font_medium"> While naturally and semantically partitioned clients appear to have approximately the same distribution of client entropies, the synthetically partitioned clients are distributed differently and have higher average entropy (48 Nats) than the other forms of partitioning (44 Nats). We refer readers to <a href="#A5" title="Appendix E Methodology for Computing Entropy ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">E</span></a> for the detailed methodology for the estimation of the entropy.</span></span></figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experimental Evaluation</h3>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We conduct experiments in six settings, including four image classification tasks: EMNIST-10 (digits only), EMNIST-62 (digits and characters) <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Cohen et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>; <span class="ltx_text" style="font-size:90%;">Caldas et al.</span>, <a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite>, CIFAR-10 and CIFAR-100 <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Krizhevsky et al.</span>, <a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2009</span></a>)</cite>;
and two next character/word prediction tasks: Shakespeare <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Caldas et al.</span>, <a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite> and StackOverflow <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.
We use <span id="S5.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvgM</span> for image classification tasks and <span id="S5.p1.1.2" class="ltx_text ltx_font_smallcaps">FedAdam</span> for text-based tasks <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>In addition, we experimented with <span id="footnote4.1" class="ltx_text ltx_font_smallcaps">FedYogi</span> on these tasks. The performance is comparable (in terms of both participating validation and unparticipating metrics).
We also experimented with vanilla <span id="footnote4.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> and <span id="footnote4.3" class="ltx_text ltx_font_smallcaps">FedAdagrad</span>, which are less effective than the other adaptive optimizers in these settings, but the participation gaps are generally consistent.</span></span></span>
The detailed setups (including model, dataset preprocessing, hyperparameter tuning) are relegated to <a href="#A3" title="Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">C</span></a>.
We summarize our main results in <a href="#S1.F1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a> and <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>.
In the following subsections, we provide more detailed ablation studies exploring how various aspects of training affect generalization performance.</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S5.T1.5.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S5.T1.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Summary of experimental results.<span id="S5.T1.6.2.1" class="ltx_text ltx_font_medium"> We perform federated and centralized training across six tasks. EMNIST, Shakespeare, and StackOverflow are naturally-partitioned, and CIFAR is semantically partitioned.
Observe that the participation gaps (gap between <span id="S5.T1.6.2.1.1" class="ltx_text ltx_font_typewriter">part_val</span> and <span id="S5.T1.6.2.1.2" class="ltx_text ltx_font_typewriter">unpart</span>) are consistent across tasks.
We provide other metric statistics across clients (such as percentiles of metrics) in <a href="#A2.T2" title="In B.2 Percentiles of metrics across clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a> of <a href="#A2.SS2" title="B.2 Percentiles of metrics across clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">B.2</span></a>.</span></span></figcaption>
<table id="S5.T1.7" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T1.7.1.1" class="ltx_tr">
<th id="S5.T1.7.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt"></th>
<th id="S5.T1.7.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3">Federated Training</th>
<th id="S5.T1.7.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3">Centralized Training</th>
</tr>
<tr id="S5.T1.7.2.2" class="ltx_tr">
<th id="S5.T1.7.2.2.1" class="ltx_td ltx_th ltx_th_column ltx_th_row"></th>
<th id="S5.T1.7.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S5.T1.7.2.2.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">part_train</span></th>
<th id="S5.T1.7.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S5.T1.7.2.2.3.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">part_val</span></th>
<th id="S5.T1.7.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S5.T1.7.2.2.4.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">unpart</span></th>
<th id="S5.T1.7.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S5.T1.7.2.2.5.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">part_train</span></th>
<th id="S5.T1.7.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S5.T1.7.2.2.6.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">part_val</span></th>
<th id="S5.T1.7.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S5.T1.7.2.2.7.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">unpart</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T1.7.3.1" class="ltx_tr">
<th id="S5.T1.7.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">EMNIST-10</th>
<td id="S5.T1.7.3.1.2" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="S5.T1.7.3.1.3" class="ltx_td ltx_align_center ltx_border_t">99.6</td>
<td id="S5.T1.7.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.9</td>
<td id="S5.T1.7.3.1.5" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="S5.T1.7.3.1.6" class="ltx_td ltx_align_center ltx_border_t">99.5</td>
<td id="S5.T1.7.3.1.7" class="ltx_td ltx_align_center ltx_border_t">98.9</td>
</tr>
<tr id="S5.T1.7.4.2" class="ltx_tr">
<th id="S5.T1.7.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">EMNIST-62</th>
<td id="S5.T1.7.4.2.2" class="ltx_td ltx_align_center">91.8</td>
<td id="S5.T1.7.4.2.3" class="ltx_td ltx_align_center">86.3</td>
<td id="S5.T1.7.4.2.4" class="ltx_td ltx_align_center ltx_border_r">85.4</td>
<td id="S5.T1.7.4.2.5" class="ltx_td ltx_align_center">93.8</td>
<td id="S5.T1.7.4.2.6" class="ltx_td ltx_align_center">87.1</td>
<td id="S5.T1.7.4.2.7" class="ltx_td ltx_align_center">86.1</td>
</tr>
<tr id="S5.T1.7.5.3" class="ltx_tr">
<th id="S5.T1.7.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CIFAR-10</th>
<td id="S5.T1.7.5.3.2" class="ltx_td ltx_align_center">97.5</td>
<td id="S5.T1.7.5.3.3" class="ltx_td ltx_align_center">83.3</td>
<td id="S5.T1.7.5.3.4" class="ltx_td ltx_align_center ltx_border_r">81.6</td>
<td id="S5.T1.7.5.3.5" class="ltx_td ltx_align_center">99.7</td>
<td id="S5.T1.7.5.3.6" class="ltx_td ltx_align_center">86.3</td>
<td id="S5.T1.7.5.3.7" class="ltx_td ltx_align_center">84.9</td>
</tr>
<tr id="S5.T1.7.6.4" class="ltx_tr">
<th id="S5.T1.7.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CIFAR-100</th>
<td id="S5.T1.7.6.4.2" class="ltx_td ltx_align_center">99.8</td>
<td id="S5.T1.7.6.4.3" class="ltx_td ltx_align_center">57.2</td>
<td id="S5.T1.7.6.4.4" class="ltx_td ltx_align_center ltx_border_r">54.2</td>
<td id="S5.T1.7.6.4.5" class="ltx_td ltx_align_center">99.9</td>
<td id="S5.T1.7.6.4.6" class="ltx_td ltx_align_center">59.7</td>
<td id="S5.T1.7.6.4.7" class="ltx_td ltx_align_center">55.4</td>
</tr>
<tr id="S5.T1.7.7.5" class="ltx_tr">
<th id="S5.T1.7.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Shakespeare</th>
<td id="S5.T1.7.7.5.2" class="ltx_td ltx_align_center">58.8</td>
<td id="S5.T1.7.7.5.3" class="ltx_td ltx_align_center">56.5</td>
<td id="S5.T1.7.7.5.4" class="ltx_td ltx_align_center ltx_border_r">56.2</td>
<td id="S5.T1.7.7.5.5" class="ltx_td ltx_align_center">60.7</td>
<td id="S5.T1.7.7.5.6" class="ltx_td ltx_align_center">57.2</td>
<td id="S5.T1.7.7.5.7" class="ltx_td ltx_align_center">56.8</td>
</tr>
<tr id="S5.T1.7.8.6" class="ltx_tr">
<th id="S5.T1.7.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">StackOverflow</th>
<td id="S5.T1.7.8.6.2" class="ltx_td ltx_align_center ltx_border_bb">26.4</td>
<td id="S5.T1.7.8.6.3" class="ltx_td ltx_align_center ltx_border_bb">25.5</td>
<td id="S5.T1.7.8.6.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">25.2</td>
<td id="S5.T1.7.8.6.5" class="ltx_td ltx_align_center ltx_border_bb">27.9</td>
<td id="S5.T1.7.8.6.6" class="ltx_td ltx_align_center ltx_border_bb">26.2</td>
<td id="S5.T1.7.8.6.7" class="ltx_td ltx_align_center ltx_border_bb">25.6</td>
</tr>
</tbody>
</table>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Effect of the number of participating clients</h4>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">In this subsection we study the effect of the number of participating clients on the generalization performance on various tasks.
To this end, we randomly sample subsets of clients of different scales as participating clients, and perform federated training with the same settings otherwise.
The results are shown in <a href="#S5.F7" title="In 5.1 Effect of the number of participating clients ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">7</span></a>.
As the number of participating clients increases, the unparticipating accuracy monotonically improves, and the participation gap tends to decrease. This is consistent with our theoretical understanding, as the participating clients can be interpreted as a discretization of the overall client population distribution.</p>
</div>
<figure id="S5.F7" class="ltx_figure"><img src="/html/2110.14216/assets/x9.png" id="S5.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="134" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F7.3.1.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="S5.F7.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of the number of participating clients.<span id="S5.F7.4.2.1" class="ltx_text ltx_font_medium"> See <a href="#S5.SS1" title="5.1 Effect of the number of participating clients ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">5.1</span></a> for discussion.
</span></span></figcaption>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Effect of client diversity</h4>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">In this subsection, we study the effect of client diversity on generalization performance. Recall that in the previous subsection, we vary the number of participating clients while keeping the amount of training data per client unchanged. As a result, the total amount of training data will grow proportionally with the number of participating clients.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.2" class="ltx_p">To disentangle the effect of diversity and the growth of training data size, in the following experiment, we instead fix the total amount of the training data, while varying the concentration across clients.
The experiment is conducted on the EMNIST digits dataset.
As shown in <a href="#S5.F8" title="In 5.2 Effect of client diversity ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">8</span></a>,
the training data from a new participating client can be more valuable than those contributed by the existing participating clients.
The intuition can also be justified by our model in that the data from a new participating client is drawn from the overall population distribution <math id="S5.SS2.p2.1.m1.2" class="ltx_Math" alttext="\int_{c\in\mathfrak{C}}p_{\mathcal{P}}(c)p_{\mathcal{D}_{c}}(\xi){\textnormal{d}}c" display="inline"><semantics id="S5.SS2.p2.1.m1.2a"><mrow id="S5.SS2.p2.1.m1.2.3" xref="S5.SS2.p2.1.m1.2.3.cmml"><msub id="S5.SS2.p2.1.m1.2.3.1" xref="S5.SS2.p2.1.m1.2.3.1.cmml"><mo id="S5.SS2.p2.1.m1.2.3.1.2" xref="S5.SS2.p2.1.m1.2.3.1.2.cmml">∫</mo><mrow id="S5.SS2.p2.1.m1.2.3.1.3" xref="S5.SS2.p2.1.m1.2.3.1.3.cmml"><mi id="S5.SS2.p2.1.m1.2.3.1.3.2" xref="S5.SS2.p2.1.m1.2.3.1.3.2.cmml">c</mi><mo id="S5.SS2.p2.1.m1.2.3.1.3.1" xref="S5.SS2.p2.1.m1.2.3.1.3.1.cmml">∈</mo><mi id="S5.SS2.p2.1.m1.2.3.1.3.3" xref="S5.SS2.p2.1.m1.2.3.1.3.3.cmml">ℭ</mi></mrow></msub><mrow id="S5.SS2.p2.1.m1.2.3.2" xref="S5.SS2.p2.1.m1.2.3.2.cmml"><msub id="S5.SS2.p2.1.m1.2.3.2.2" xref="S5.SS2.p2.1.m1.2.3.2.2.cmml"><mi id="S5.SS2.p2.1.m1.2.3.2.2.2" xref="S5.SS2.p2.1.m1.2.3.2.2.2.cmml">p</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p2.1.m1.2.3.2.2.3" xref="S5.SS2.p2.1.m1.2.3.2.2.3.cmml">𝒫</mi></msub><mo lspace="0em" rspace="0em" id="S5.SS2.p2.1.m1.2.3.2.1" xref="S5.SS2.p2.1.m1.2.3.2.1.cmml">​</mo><mrow id="S5.SS2.p2.1.m1.2.3.2.3.2" xref="S5.SS2.p2.1.m1.2.3.2.cmml"><mo stretchy="false" id="S5.SS2.p2.1.m1.2.3.2.3.2.1" xref="S5.SS2.p2.1.m1.2.3.2.cmml">(</mo><mi id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">c</mi><mo stretchy="false" id="S5.SS2.p2.1.m1.2.3.2.3.2.2" xref="S5.SS2.p2.1.m1.2.3.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S5.SS2.p2.1.m1.2.3.2.1a" xref="S5.SS2.p2.1.m1.2.3.2.1.cmml">​</mo><msub id="S5.SS2.p2.1.m1.2.3.2.4" xref="S5.SS2.p2.1.m1.2.3.2.4.cmml"><mi id="S5.SS2.p2.1.m1.2.3.2.4.2" xref="S5.SS2.p2.1.m1.2.3.2.4.2.cmml">p</mi><msub id="S5.SS2.p2.1.m1.2.3.2.4.3" xref="S5.SS2.p2.1.m1.2.3.2.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p2.1.m1.2.3.2.4.3.2" xref="S5.SS2.p2.1.m1.2.3.2.4.3.2.cmml">𝒟</mi><mi id="S5.SS2.p2.1.m1.2.3.2.4.3.3" xref="S5.SS2.p2.1.m1.2.3.2.4.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S5.SS2.p2.1.m1.2.3.2.1b" xref="S5.SS2.p2.1.m1.2.3.2.1.cmml">​</mo><mrow id="S5.SS2.p2.1.m1.2.3.2.5.2" xref="S5.SS2.p2.1.m1.2.3.2.cmml"><mo stretchy="false" id="S5.SS2.p2.1.m1.2.3.2.5.2.1" xref="S5.SS2.p2.1.m1.2.3.2.cmml">(</mo><mi id="S5.SS2.p2.1.m1.2.2" xref="S5.SS2.p2.1.m1.2.2.cmml">ξ</mi><mo stretchy="false" id="S5.SS2.p2.1.m1.2.3.2.5.2.2" xref="S5.SS2.p2.1.m1.2.3.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S5.SS2.p2.1.m1.2.3.2.1c" xref="S5.SS2.p2.1.m1.2.3.2.1.cmml">​</mo><mtext id="S5.SS2.p2.1.m1.2.3.2.6" xref="S5.SS2.p2.1.m1.2.3.2.6a.cmml">d</mtext><mo lspace="0em" rspace="0em" id="S5.SS2.p2.1.m1.2.3.2.1d" xref="S5.SS2.p2.1.m1.2.3.2.1.cmml">​</mo><mi id="S5.SS2.p2.1.m1.2.3.2.7" xref="S5.SS2.p2.1.m1.2.3.2.7.cmml">c</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.2b"><apply id="S5.SS2.p2.1.m1.2.3.cmml" xref="S5.SS2.p2.1.m1.2.3"><apply id="S5.SS2.p2.1.m1.2.3.1.cmml" xref="S5.SS2.p2.1.m1.2.3.1"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.2.3.1.1.cmml" xref="S5.SS2.p2.1.m1.2.3.1">subscript</csymbol><int id="S5.SS2.p2.1.m1.2.3.1.2.cmml" xref="S5.SS2.p2.1.m1.2.3.1.2"></int><apply id="S5.SS2.p2.1.m1.2.3.1.3.cmml" xref="S5.SS2.p2.1.m1.2.3.1.3"><in id="S5.SS2.p2.1.m1.2.3.1.3.1.cmml" xref="S5.SS2.p2.1.m1.2.3.1.3.1"></in><ci id="S5.SS2.p2.1.m1.2.3.1.3.2.cmml" xref="S5.SS2.p2.1.m1.2.3.1.3.2">𝑐</ci><ci id="S5.SS2.p2.1.m1.2.3.1.3.3.cmml" xref="S5.SS2.p2.1.m1.2.3.1.3.3">ℭ</ci></apply></apply><apply id="S5.SS2.p2.1.m1.2.3.2.cmml" xref="S5.SS2.p2.1.m1.2.3.2"><times id="S5.SS2.p2.1.m1.2.3.2.1.cmml" xref="S5.SS2.p2.1.m1.2.3.2.1"></times><apply id="S5.SS2.p2.1.m1.2.3.2.2.cmml" xref="S5.SS2.p2.1.m1.2.3.2.2"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.2.3.2.2.1.cmml" xref="S5.SS2.p2.1.m1.2.3.2.2">subscript</csymbol><ci id="S5.SS2.p2.1.m1.2.3.2.2.2.cmml" xref="S5.SS2.p2.1.m1.2.3.2.2.2">𝑝</ci><ci id="S5.SS2.p2.1.m1.2.3.2.2.3.cmml" xref="S5.SS2.p2.1.m1.2.3.2.2.3">𝒫</ci></apply><ci id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">𝑐</ci><apply id="S5.SS2.p2.1.m1.2.3.2.4.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.2.3.2.4.1.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4">subscript</csymbol><ci id="S5.SS2.p2.1.m1.2.3.2.4.2.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4.2">𝑝</ci><apply id="S5.SS2.p2.1.m1.2.3.2.4.3.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4.3"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.2.3.2.4.3.1.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4.3">subscript</csymbol><ci id="S5.SS2.p2.1.m1.2.3.2.4.3.2.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4.3.2">𝒟</ci><ci id="S5.SS2.p2.1.m1.2.3.2.4.3.3.cmml" xref="S5.SS2.p2.1.m1.2.3.2.4.3.3">𝑐</ci></apply></apply><ci id="S5.SS2.p2.1.m1.2.2.cmml" xref="S5.SS2.p2.1.m1.2.2">𝜉</ci><ci id="S5.SS2.p2.1.m1.2.3.2.6a.cmml" xref="S5.SS2.p2.1.m1.2.3.2.6"><mtext id="S5.SS2.p2.1.m1.2.3.2.6.cmml" xref="S5.SS2.p2.1.m1.2.3.2.6">d</mtext></ci><ci id="S5.SS2.p2.1.m1.2.3.2.7.cmml" xref="S5.SS2.p2.1.m1.2.3.2.7">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.2c">\int_{c\in\mathfrak{C}}p_{\mathcal{P}}(c)p_{\mathcal{D}_{c}}(\xi){\textnormal{d}}c</annotation></semantics></math>, whereas the data from existing clients are drawn from the distribution aggregated by existing clients <math id="S5.SS2.p2.2.m2.2" class="ltx_Math" alttext="\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)" display="inline"><semantics id="S5.SS2.p2.2.m2.2a"><mrow id="S5.SS2.p2.2.m2.2.3" xref="S5.SS2.p2.2.m2.2.3.cmml"><mfrac id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml"><mn id="S5.SS2.p2.2.m2.1.1.3" xref="S5.SS2.p2.2.m2.1.1.3.cmml">1</mn><mrow id="S5.SS2.p2.2.m2.1.1.1.3" xref="S5.SS2.p2.2.m2.1.1.1.2.cmml"><mo stretchy="false" id="S5.SS2.p2.2.m2.1.1.1.3.1" xref="S5.SS2.p2.2.m2.1.1.1.2.1.cmml">|</mo><mover accent="true" id="S5.SS2.p2.2.m2.1.1.1.1" xref="S5.SS2.p2.2.m2.1.1.1.1.cmml"><mi id="S5.SS2.p2.2.m2.1.1.1.1.2" xref="S5.SS2.p2.2.m2.1.1.1.1.2.cmml">ℭ</mi><mo id="S5.SS2.p2.2.m2.1.1.1.1.1" xref="S5.SS2.p2.2.m2.1.1.1.1.1.cmml">^</mo></mover><mo stretchy="false" id="S5.SS2.p2.2.m2.1.1.1.3.2" xref="S5.SS2.p2.2.m2.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S5.SS2.p2.2.m2.2.3.1" xref="S5.SS2.p2.2.m2.2.3.1.cmml">​</mo><mrow id="S5.SS2.p2.2.m2.2.3.2" xref="S5.SS2.p2.2.m2.2.3.2.cmml"><msub id="S5.SS2.p2.2.m2.2.3.2.1" xref="S5.SS2.p2.2.m2.2.3.2.1.cmml"><mo id="S5.SS2.p2.2.m2.2.3.2.1.2" xref="S5.SS2.p2.2.m2.2.3.2.1.2.cmml">∑</mo><mrow id="S5.SS2.p2.2.m2.2.3.2.1.3" xref="S5.SS2.p2.2.m2.2.3.2.1.3.cmml"><mi id="S5.SS2.p2.2.m2.2.3.2.1.3.2" xref="S5.SS2.p2.2.m2.2.3.2.1.3.2.cmml">c</mi><mo id="S5.SS2.p2.2.m2.2.3.2.1.3.1" xref="S5.SS2.p2.2.m2.2.3.2.1.3.1.cmml">∈</mo><mover accent="true" id="S5.SS2.p2.2.m2.2.3.2.1.3.3" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3.cmml"><mi id="S5.SS2.p2.2.m2.2.3.2.1.3.3.2" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3.2.cmml">ℭ</mi><mo id="S5.SS2.p2.2.m2.2.3.2.1.3.3.1" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3.1.cmml">^</mo></mover></mrow></msub><mrow id="S5.SS2.p2.2.m2.2.3.2.2" xref="S5.SS2.p2.2.m2.2.3.2.2.cmml"><msub id="S5.SS2.p2.2.m2.2.3.2.2.2" xref="S5.SS2.p2.2.m2.2.3.2.2.2.cmml"><mi id="S5.SS2.p2.2.m2.2.3.2.2.2.2" xref="S5.SS2.p2.2.m2.2.3.2.2.2.2.cmml">p</mi><msub id="S5.SS2.p2.2.m2.2.3.2.2.2.3" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p2.2.m2.2.3.2.2.2.3.2" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3.2.cmml">𝒟</mi><mi id="S5.SS2.p2.2.m2.2.3.2.2.2.3.3" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3.3.cmml">c</mi></msub></msub><mo lspace="0em" rspace="0em" id="S5.SS2.p2.2.m2.2.3.2.2.1" xref="S5.SS2.p2.2.m2.2.3.2.2.1.cmml">​</mo><mrow id="S5.SS2.p2.2.m2.2.3.2.2.3.2" xref="S5.SS2.p2.2.m2.2.3.2.2.cmml"><mo stretchy="false" id="S5.SS2.p2.2.m2.2.3.2.2.3.2.1" xref="S5.SS2.p2.2.m2.2.3.2.2.cmml">(</mo><mi id="S5.SS2.p2.2.m2.2.2" xref="S5.SS2.p2.2.m2.2.2.cmml">ξ</mi><mo stretchy="false" id="S5.SS2.p2.2.m2.2.3.2.2.3.2.2" xref="S5.SS2.p2.2.m2.2.3.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.2b"><apply id="S5.SS2.p2.2.m2.2.3.cmml" xref="S5.SS2.p2.2.m2.2.3"><times id="S5.SS2.p2.2.m2.2.3.1.cmml" xref="S5.SS2.p2.2.m2.2.3.1"></times><apply id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1"><divide id="S5.SS2.p2.2.m2.1.1.2.cmml" xref="S5.SS2.p2.2.m2.1.1"></divide><cn type="integer" id="S5.SS2.p2.2.m2.1.1.3.cmml" xref="S5.SS2.p2.2.m2.1.1.3">1</cn><apply id="S5.SS2.p2.2.m2.1.1.1.2.cmml" xref="S5.SS2.p2.2.m2.1.1.1.3"><abs id="S5.SS2.p2.2.m2.1.1.1.2.1.cmml" xref="S5.SS2.p2.2.m2.1.1.1.3.1"></abs><apply id="S5.SS2.p2.2.m2.1.1.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1.1.1"><ci id="S5.SS2.p2.2.m2.1.1.1.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1.1.1.1">^</ci><ci id="S5.SS2.p2.2.m2.1.1.1.1.2.cmml" xref="S5.SS2.p2.2.m2.1.1.1.1.2">ℭ</ci></apply></apply></apply><apply id="S5.SS2.p2.2.m2.2.3.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2"><apply id="S5.SS2.p2.2.m2.2.3.2.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1"><csymbol cd="ambiguous" id="S5.SS2.p2.2.m2.2.3.2.1.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1">subscript</csymbol><sum id="S5.SS2.p2.2.m2.2.3.2.1.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.2"></sum><apply id="S5.SS2.p2.2.m2.2.3.2.1.3.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3"><in id="S5.SS2.p2.2.m2.2.3.2.1.3.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3.1"></in><ci id="S5.SS2.p2.2.m2.2.3.2.1.3.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3.2">𝑐</ci><apply id="S5.SS2.p2.2.m2.2.3.2.1.3.3.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3"><ci id="S5.SS2.p2.2.m2.2.3.2.1.3.3.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3.1">^</ci><ci id="S5.SS2.p2.2.m2.2.3.2.1.3.3.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.1.3.3.2">ℭ</ci></apply></apply></apply><apply id="S5.SS2.p2.2.m2.2.3.2.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2"><times id="S5.SS2.p2.2.m2.2.3.2.2.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.1"></times><apply id="S5.SS2.p2.2.m2.2.3.2.2.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2"><csymbol cd="ambiguous" id="S5.SS2.p2.2.m2.2.3.2.2.2.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2">subscript</csymbol><ci id="S5.SS2.p2.2.m2.2.3.2.2.2.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2.2">𝑝</ci><apply id="S5.SS2.p2.2.m2.2.3.2.2.2.3.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3"><csymbol cd="ambiguous" id="S5.SS2.p2.2.m2.2.3.2.2.2.3.1.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3">subscript</csymbol><ci id="S5.SS2.p2.2.m2.2.3.2.2.2.3.2.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3.2">𝒟</ci><ci id="S5.SS2.p2.2.m2.2.3.2.2.2.3.3.cmml" xref="S5.SS2.p2.2.m2.2.3.2.2.2.3.3">𝑐</ci></apply></apply><ci id="S5.SS2.p2.2.m2.2.2.cmml" xref="S5.SS2.p2.2.m2.2.2">𝜉</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.2c">\frac{1}{|\hat{\mathfrak{C}}|}\sum_{c\in\hat{\mathfrak{C}}}p_{\mathcal{D}_{c}}(\xi)</annotation></semantics></math>.
This reveals the importance of client diversity in federated training.</p>
</div>
<figure id="S5.F8" class="ltx_figure"><img src="/html/2110.14216/assets/x10.png" id="S5.F8.g1" class="ltx_graphics ltx_img_landscape" width="147" height="118" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F8.3.1.1" class="ltx_text" style="font-size:90%;">Figure 8</span>: </span><span id="S5.F8.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of diversity on generalization.<span id="S5.F8.4.2.1" class="ltx_text ltx_font_medium">
We fix the total amount of training data while varying the concentration across clients. The concentration varies from taking only 5% clients as participating clients where each client contributes 128 training data, to the most diverse distribution with 80% clients as participating clients but each client only contributes 8 training data.
Observe that while the total amount of training data is identical, the more diverse settings exhibit better performance in terms of both participating validation and unparticipating accuracy.
</span></span></figcaption>
</figure>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Overview of Additional Experiments in Appendices</h4>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">We provide more detailed analysis and further experiments in <a href="#A2" title="Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendices</span> <span class="ltx_text ltx_ref_tag">B</span></a> and <a href="#A3" title="Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>, including:</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p">Training progress of centralized optimizers on six tasks, see <a href="#A2.SS1" title="B.1 Training progress of centralized optimizers ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">B.1</span></a>.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p">Detailed analysis of metrics distributions across clients, see <a href="#A2.SS2" title="B.2 Percentiles of metrics across clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sections</span> <span class="ltx_text ltx_ref_tag">B.2</span></a> and <a href="#A2.SS3" title="B.3 Federated training progress at the \nth25 percentile acorss clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.3</span></a>. We observe that the unparticipating clients tend to exhibit longer tails on the lower side of accuracy.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p">Results on alternative hyperparameter choices, see <a href="#A3.SS1.SSS1" title="C.1.1 Consistency across various hyperparameters choices ‣ C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sections</span> <span class="ltx_text ltx_ref_tag">C.1.1</span></a> and <a href="#A3.SS2.SSS1" title="C.2.1 Consistency across various hyperparameters choice ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.2.1</span></a>.</p>
</div>
</li>
<li id="S5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i4.p1" class="ltx_para">
<p id="S5.I1.i4.p1.1" class="ltx_p">Effect of multiple local epochs per communication round, see <a href="#A3.SS1.SSS2" title="C.1.2 Effect of multiple local epochs per communication round ‣ C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">C.1.2</span></a>.</p>
</div>
</li>
<li id="S5.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i5.p1" class="ltx_para">
<p id="S5.I1.i5.p1.1" class="ltx_p">Effect of the strength of weight decay, see <a href="#A3.SS2.SSS2" title="C.2.2 Effect of Weight Decay Strength ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">C.2.2</span></a>.</p>
</div>
</li>
<li id="S5.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i6.p1" class="ltx_para">
<p id="S5.I1.i6.p1.1" class="ltx_p">Effect of model depth, see <a href="#A3.SS2.SSS3" title="C.2.3 Effect of Model Depth ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">C.2.3</span></a>.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h3 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Community Suggestions</h3>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this work we have used the three-way-split, dataset partitioning strategies, and distributions of metrics to systematically study generalization behavior in FL. Our results inform the following suggestions for the FL community:</p>
<ul id="S6.I1" class="ltx_itemize">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.1" class="ltx_p">Researchers can use the three-way split to disentangle out-of-sample and participation gaps in empirical studies of FL algorithms.</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.1" class="ltx_p">When proposing new federated algorithms, researchers might prefer using naturally-partitioned or semantically-partitioned datasets for more realistic simulations of generalization behavior.</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p id="S6.I1.i3.p1.1" class="ltx_p">Distributions of metrics across clients (<span id="S6.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">e.g.,</span> percentiles, variance) may vary across groups in the three-way split (see <a href="#A2.T2" title="In B.2 Percentiles of metrics across clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tables</span> <span class="ltx_text ltx_ref_tag">2</span></a> and <a href="#A2.F10" title="Figure 10 ‣ B.3 Federated training progress at the \nth25 percentile acorss clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>).
We suggest researchers report the distribution of metrics across clients, instead of just the average, when reporting metrics for participating and non-participating clients. We encourage researchers to pay attention to the difference of two distributions (participating validation and unparticipating) as it may have fairness implications.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h3 class="ltx_title ltx_title_section">Reproducibility Statement</h3>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We provide complete descriptions of experimental setups, including dataset preparation and preprocessing, model configurations, and hyperparameter tuning in <a href="#A3" title="Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">C</span></a>.
<a href="#A4" title="Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">D</span></a> describes the detailed procedure for semantic partitioning, and
<a href="#A5" title="Appendix E Methodology for Computing Entropy ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">E</span></a> presents the detailed approach for estimating the entropy that generates <a href="#S4.F6" title="In 4.2 Explaining differences between label-based and semantic partitioning ‣ 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p id="Sx1.p2.1" class="ltx_p">We are also releasing an extensible code framework for measuring out-of-sample and participation gaps and distributions of metrics (<span id="Sx1.p2.1.1" class="ltx_text ltx_font_italic">e.g.,</span> percentiles) for federated algorithms across several tasks.<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>Please visit <a target="_blank" href="https://bit.ly/fl-generalization" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://bit.ly/fl-generalization</a> for the code repository.</span></span></span>
We include all tasks reported in this work; the framework is easily extended with additional tasks. We also include libraries for performing label-based and semantic dataset partitioning (enabling new benchmark datasets for future works, see <a href="#A4" title="Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">D</span></a>). This framework enables easy reproduction of our results and facilitates future work. The framework is implemented using TensorFlow Federated <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Ingerman and Ostrowski</span>, <a href="#bib.bib39" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite>. The code is released under Apache License 2.0. We hope that the release of this code encourages researchers to take up our suggestions presented in <a href="#S6" title="6 Community Suggestions ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h3 class="ltx_title ltx_title_section">Acknowledgements</h3>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">We would like to thank Zachary Charles, Zachary Garrett, Zheng Xu, Keith Rush, Hang Qi, Brendan McMahan, Josh Dillon, and Sushant Prakash for helpful discussions at various stages of this work.

<span id="Sx2.p1.1.1" class="ltx_text" style="font-size:90%;"></span></p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h3 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h3>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib1.5.5.1" class="ltx_text" style="font-size:90%;">Agarwal et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib1.7.1" class="ltx_text" style="font-size:90%;">
Alekh Agarwal, John Langford, and Chen-Yu Wei.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.8.1" class="ltx_text" style="font-size:90%;">Federated Residual Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib1.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2003.12880 [cs, stat]</em><span id="bib.bib1.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib2.5.5.1" class="ltx_text" style="font-size:90%;">Al-Shedivat et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib2.7.1" class="ltx_text" style="font-size:90%;">
Maruan Al-Shedivat, Jennifer Gillenwater, Eric Xing, and Afshin Rostamizadeh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.8.1" class="ltx_text" style="font-size:90%;">Federated Learning via Posterior Averaging: A New
Perspective and Practical Algorithms.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib2.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning
Representations</em><span id="bib.bib2.11.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib3.5.5.1" class="ltx_text" style="font-size:90%;">Albasyoni et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib3.7.1" class="ltx_text" style="font-size:90%;">
Alyazeed Albasyoni, Mher Safaryan, Laurent Condat, and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.8.1" class="ltx_text" style="font-size:90%;">Optimal Gradient Compression for Distributed and Federated
Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib3.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2010.03246 [cs, math]</em><span id="bib.bib3.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib4.5.5.1" class="ltx_text" style="font-size:90%;">Amodei et al. (2016)</span></span>
<span class="ltx_bibblock"><span id="bib.bib4.7.1" class="ltx_text" style="font-size:90%;">
Dario Amodei, Chris Olah, Jacob Steinhardt, Paul Christiano, John Schulman, and
Dan Mané.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.8.1" class="ltx_text" style="font-size:90%;">Concrete problems in ai safety.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib4.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1606.06565</em><span id="bib.bib4.10.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib5.5.5.1" class="ltx_text" style="font-size:90%;">Balcan et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib5.7.1" class="ltx_text" style="font-size:90%;">
Maria-Florina Balcan, Mikhail Khodak, and Ameet Talwalkar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.8.1" class="ltx_text" style="font-size:90%;">Provable guarantees for gradient-based meta-learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib5.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 36th International Conference on Machine
Learning</em><span id="bib.bib5.11.3" class="ltx_text" style="font-size:90%;">, volume 97. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib6.5.5.1" class="ltx_text" style="font-size:90%;">Balle et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib6.7.1" class="ltx_text" style="font-size:90%;">
Borja Balle, Peter Kairouz, Brendan McMahan, Om Dipakbhai Thakkar, and
Abhradeep Thakurta.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.8.1" class="ltx_text" style="font-size:90%;">Privacy amplification via random check-ins.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib6.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib6.11.3" class="ltx_text" style="font-size:90%;">,
volume 33, 2020.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib7.5.5.1" class="ltx_text" style="font-size:90%;">Basu et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib7.7.1" class="ltx_text" style="font-size:90%;">
Debraj Basu, Deepesh Data, Can Karakus, and Suhas Diggavi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.8.1" class="ltx_text" style="font-size:90%;">Qsparse-local-sgd: Distributed SGD with quantization,
sparsification and local computations.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib7.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 32</em><span id="bib.bib7.11.3" class="ltx_text" style="font-size:90%;">.
Curran Associates, Inc., 2019.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib8.5.5.1" class="ltx_text" style="font-size:90%;">Ben-David et al. (2007)</span></span>
<span class="ltx_bibblock"><span id="bib.bib8.7.1" class="ltx_text" style="font-size:90%;">
Shai Ben-David, John Blitzer, Koby Crammer, Fernando Pereira, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.8.1" class="ltx_text" style="font-size:90%;">Analysis of representations for domain adaptation.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib8.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</em><span id="bib.bib8.10.2" class="ltx_text" style="font-size:90%;">,
19:137, 2007.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib9.5.5.1" class="ltx_text" style="font-size:90%;">Beznosikov et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib9.7.1" class="ltx_text" style="font-size:90%;">
Aleksandr Beznosikov, Samuel Horváth, Peter Richtárik, and Mher
Safaryan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.8.1" class="ltx_text" style="font-size:90%;">On Biased Compression for Distributed Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib9.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2002.12410 [cs, math, stat]</em><span id="bib.bib9.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib10.5.5.1" class="ltx_text" style="font-size:90%;">Bistritz et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib10.7.1" class="ltx_text" style="font-size:90%;">
Ilai Bistritz, Ariana Mann, and Nicholas Bambos.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.8.1" class="ltx_text" style="font-size:90%;">Distributed Distillation for On-Device Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib10.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib10.11.3" class="ltx_text" style="font-size:90%;">,
volume 33, 2020.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib11.5.5.1" class="ltx_text" style="font-size:90%;">Brown et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib11.7.1" class="ltx_text" style="font-size:90%;">
Gavin Brown, Mark Bun, Vitaly Feldman, Adam Smith, and Kunal Talwar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.8.1" class="ltx_text" style="font-size:90%;">When is Memorization of Irrelevant Training Data Necessary
for High-Accuracy Learning?
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib11.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2012.06421 [cs]</em><span id="bib.bib11.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib12.5.5.1" class="ltx_text" style="font-size:90%;">Burda et al. (2015)</span></span>
<span class="ltx_bibblock"><span id="bib.bib12.7.1" class="ltx_text" style="font-size:90%;">
Yuri Burda, Roger Grosse, and Ruslan Salakhutdinov.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.8.1" class="ltx_text" style="font-size:90%;">Importance weighted autoencoders.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib12.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1509.00519</em><span id="bib.bib12.10.2" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib13.5.5.1" class="ltx_text" style="font-size:90%;">Caldas et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib13.7.1" class="ltx_text" style="font-size:90%;">
Sebastian Caldas, Sai Meher Karthik Duddu, Peter Wu, Tian Li, Jakub Konečný, H. Brendan McMahan, Virginia Smith, and Ameet Talwalkar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.8.1" class="ltx_text" style="font-size:90%;">LEAF: A Benchmark for Federated Settings.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib13.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">NeurIPS 2019 Workshop on Federated Learning for
Data Privacy and Confidentiality</em><span id="bib.bib13.11.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib14.4.4.1" class="ltx_text" style="font-size:90%;">Charles and Konečnỳ (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib14.6.1" class="ltx_text" style="font-size:90%;">
Zachary Charles and Jakub Konečnỳ.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.7.1" class="ltx_text" style="font-size:90%;">On the outsized importance of learning rates in local update methods.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib14.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2007.00878</em><span id="bib.bib14.9.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib15.5.5.1" class="ltx_text" style="font-size:90%;">Chen et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib15.7.1" class="ltx_text" style="font-size:90%;">
Fei Chen, Mi Luo, Zhenhua Dong, Zhenguo Li, and Xiuqiang He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.8.1" class="ltx_text" style="font-size:90%;">Federated Meta-Learning with Fast Convergence and
Efficient Communication.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib15.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1802.07876 [cs]</em><span id="bib.bib15.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib16.4.4.1" class="ltx_text" style="font-size:90%;">Chen and Chao (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib16.6.1" class="ltx_text" style="font-size:90%;">
Hong-You Chen and Wei-Lun Chao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.7.1" class="ltx_text" style="font-size:90%;">FedBE: Making Bayesian Model Ensemble Applicable to
Federated Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib16.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning
Representations</em><span id="bib.bib16.10.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib17.5.5.1" class="ltx_text" style="font-size:90%;">Chen et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib17.7.1" class="ltx_text" style="font-size:90%;">
Xiangyi Chen, Steven Z. Wu, and Mingyi Hong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.8.1" class="ltx_text" style="font-size:90%;">Understanding gradient clipping in private SGD: A geometric
perspective.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib17.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib17.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib18.5.5.1" class="ltx_text" style="font-size:90%;">Cohen et al. (2017)</span></span>
<span class="ltx_bibblock"><span id="bib.bib18.7.1" class="ltx_text" style="font-size:90%;">
Gregory Cohen, Saeed Afshar, Jonathan Tapson, and André van Schaik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.8.1" class="ltx_text" style="font-size:90%;">EMNIST: An extension of MNIST to handwritten letters.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib18.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">CoRR</em><span id="bib.bib18.10.2" class="ltx_text" style="font-size:90%;">, abs/1702.05373, 2017.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib19.4.4.1" class="ltx_text" style="font-size:90%;">Daumé III (2009)</span></span>
<span class="ltx_bibblock"><span id="bib.bib19.6.1" class="ltx_text" style="font-size:90%;">
Hal Daumé III.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.7.1" class="ltx_text" style="font-size:90%;">Frustratingly easy domain adaptation.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib19.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:0907.1815</em><span id="bib.bib19.9.2" class="ltx_text" style="font-size:90%;">, 2009.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib20.5.5.1" class="ltx_text" style="font-size:90%;">Deng et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib20.7.1" class="ltx_text" style="font-size:90%;">
Yuyang Deng, Mohammad Mahdi Kamani, and Mehrdad Mahdavi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.8.1" class="ltx_text" style="font-size:90%;">Adaptive Personalized Federated Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib20.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2003.13461 [cs, stat]</em><span id="bib.bib20.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib21.5.5.1" class="ltx_text" style="font-size:90%;">Diao et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib21.7.1" class="ltx_text" style="font-size:90%;">
Enmao Diao, Jie Ding, and Vahid Tarokh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.8.1" class="ltx_text" style="font-size:90%;">Heterofl: Computation and communication efficient federated learning
for heterogeneous clients.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib21.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2010.01264</em><span id="bib.bib21.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib22.5.5.1" class="ltx_text" style="font-size:90%;">Faghri et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib22.7.1" class="ltx_text" style="font-size:90%;">
Fartash Faghri, Iman Tabrizian, Ilia Markov, Dan Alistarh, Daniel M Roy, and
Ali Ramezani-Kebrya.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.8.1" class="ltx_text" style="font-size:90%;">Adaptive gradient quantization for data-parallel SGD.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib22.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib22.11.3" class="ltx_text" style="font-size:90%;">,
volume 33. Curran Associates, Inc., 2020.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib23.5.5.1" class="ltx_text" style="font-size:90%;">Fallah et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib23.7.1" class="ltx_text" style="font-size:90%;">
Alireza Fallah, Aryan Mokhtari, and Asuman E. Ozdaglar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.8.1" class="ltx_text" style="font-size:90%;">Personalized federated learning with theoretical guarantees: A
model-agnostic meta-learning approach.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib23.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib23.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib24.5.5.1" class="ltx_text" style="font-size:90%;">Geiping et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib24.7.1" class="ltx_text" style="font-size:90%;">
Jonas Geiping, Hartmut Bauermeister, Hannah Dröge, and Michael Moeller.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.8.1" class="ltx_text" style="font-size:90%;">Inverting Gradients - How easy is it to break privacy in
federated learning?
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib24.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib24.11.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib25.5.5.1" class="ltx_text" style="font-size:90%;">Glasgow et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib25.7.1" class="ltx_text" style="font-size:90%;">
Margalit Glasgow, Honglin Yuan, and Tengyu Ma.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.8.1" class="ltx_text" style="font-size:90%;">Sharp bounds for federated averaging (local sgd) and continuous
perspective.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib25.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2111.03741</em><span id="bib.bib25.10.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib26.5.5.1" class="ltx_text" style="font-size:90%;">Gorbunov et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib26.7.1" class="ltx_text" style="font-size:90%;">
Eduard Gorbunov, Dmitry Kovalev, Dmitry Makarenko, and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.8.1" class="ltx_text" style="font-size:90%;">Linearly converging error compensated SGD.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib26.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib26.11.3" class="ltx_text" style="font-size:90%;">,
volume 33, 2020.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib27.4.4.1" class="ltx_text" style="font-size:90%;">Grother and Flanagan (1995)</span></span>
<span class="ltx_bibblock"><span id="bib.bib27.6.1" class="ltx_text" style="font-size:90%;">
Patrick J. Grother and Patricia A. Flanagan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.7.1" class="ltx_text" style="font-size:90%;">NIST Handprinted Forms and Characters, NIST Special
Database 19., 1995.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib28.5.5.1" class="ltx_text" style="font-size:90%;">Haddadpour et al. (2019a)</span></span>
<span class="ltx_bibblock"><span id="bib.bib28.7.1" class="ltx_text" style="font-size:90%;">
Farzin Haddadpour, Mohammad Mahdi Kamani, Mehrdad Mahdavi, and Viveck Cadambe.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.8.1" class="ltx_text" style="font-size:90%;">Trading redundancy for communication: Speeding up distributed
SGD for non-convex optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib28.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 36th International Conference on Machine
Learning</em><span id="bib.bib28.11.3" class="ltx_text" style="font-size:90%;">, volume 97. PMLR, 2019a.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib29.5.5.1" class="ltx_text" style="font-size:90%;">Haddadpour et al. (2019b)</span></span>
<span class="ltx_bibblock"><span id="bib.bib29.7.1" class="ltx_text" style="font-size:90%;">
Farzin Haddadpour, Mohammad Mahdi Kamani, Mehrdad Mahdavi, and Viveck Cadambe.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.8.1" class="ltx_text" style="font-size:90%;">Local SGD with periodic averaging: Tighter analysis and
adaptive synchronization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib29.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 32</em><span id="bib.bib29.11.3" class="ltx_text" style="font-size:90%;">.
Curran Associates, Inc., 2019b.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib30.4.4.1" class="ltx_text" style="font-size:90%;">Hanzely and Richtárik (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib30.6.1" class="ltx_text" style="font-size:90%;">
Filip Hanzely and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.7.1" class="ltx_text" style="font-size:90%;">Federated Learning of a Mixture of Global and Local
Models.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib30.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2002.05516 [cs, math, stat]</em><span id="bib.bib30.9.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib31.5.5.1" class="ltx_text" style="font-size:90%;">Hanzely et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib31.7.1" class="ltx_text" style="font-size:90%;">
Filip Hanzely, Slavomír Hanzely, Samuel Horváth, and Peter
Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.8.1" class="ltx_text" style="font-size:90%;">Lower bounds and optimal algorithms for personalized federated
learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib31.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib31.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib32.5.5.1" class="ltx_text" style="font-size:90%;">Hao et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib32.7.1" class="ltx_text" style="font-size:90%;">
Weituo Hao, Nikhil Mehta, Kevin J. Liang, Pengyu Cheng, Mostafa El-Khamy, and
Lawrence Carin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.8.1" class="ltx_text" style="font-size:90%;">WAFFLe: Weight Anonymized Factorization for Federated
Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib32.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2008.05687 [cs, stat]</em><span id="bib.bib32.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib33.5.5.1" class="ltx_text" style="font-size:90%;">He et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib33.7.1" class="ltx_text" style="font-size:90%;">
Chaoyang He, Murali Annavaram, and Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.8.1" class="ltx_text" style="font-size:90%;">Group Knowledge Transfer: Federated Learning of Large
CNNs at the Edge.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib33.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib33.11.3" class="ltx_text" style="font-size:90%;">,
volume 33, 2020.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib34.5.5.1" class="ltx_text" style="font-size:90%;">He et al. (2016)</span></span>
<span class="ltx_bibblock"><span id="bib.bib34.7.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.8.1" class="ltx_text" style="font-size:90%;">Deep Residual Learning for Image Recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib34.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">The IEEE Conference on Computer Vision and Pattern
Recognition (CVPR)</em><span id="bib.bib34.11.3" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib35.4.4.1" class="ltx_text" style="font-size:90%;">Horváth and Richtárik (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib35.6.1" class="ltx_text" style="font-size:90%;">
Samuel Horváth and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.7.1" class="ltx_text" style="font-size:90%;">A Better Alternative to Error Feedback for
Communication-Efficient Distributed Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib35.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2006.11077 [cs, stat]</em><span id="bib.bib35.9.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib36.5.5.1" class="ltx_text" style="font-size:90%;">Hsieh et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib36.7.1" class="ltx_text" style="font-size:90%;">
Kevin Hsieh, Amar Phanishayee, Onur Mutlu, and Phillip B. Gibbons.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.8.1" class="ltx_text" style="font-size:90%;">The Non-IID Data Quagmire of Decentralized Machine
Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib36.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1910.00189 [cs, stat]</em><span id="bib.bib36.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib37.5.5.1" class="ltx_text" style="font-size:90%;">Hsu et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib37.7.1" class="ltx_text" style="font-size:90%;">
Tzu-Ming Harry Hsu, Hang Qi, and Matthew Brown.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.8.1" class="ltx_text" style="font-size:90%;">Measuring the Effects of Non-Identical Data Distribution
for Federated Visual Classification.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib37.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1909.06335 [cs, stat]</em><span id="bib.bib37.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib38.5.5.1" class="ltx_text" style="font-size:90%;">Huang et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib38.7.1" class="ltx_text" style="font-size:90%;">
Baihe Huang, Xiaoxiao Li, Zhao Song, and Xin Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.8.1" class="ltx_text" style="font-size:90%;">FL-NTK: A neural tangent kernel-based framework for federated
learning analysis.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib38.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 38th International Conference on Machine
Learning</em><span id="bib.bib38.11.3" class="ltx_text" style="font-size:90%;">, volume 139. PMLR, 2021.
</span>
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib39.4.4.1" class="ltx_text" style="font-size:90%;">Ingerman and Ostrowski (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib39.6.1" class="ltx_text" style="font-size:90%;">
Alex Ingerman and Krzys Ostrowski.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.7.1" class="ltx_text" style="font-size:90%;">Introducing TensorFlow Federated, 2019.
</span>
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib40.5.5.1" class="ltx_text" style="font-size:90%;">Islamov et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib40.7.1" class="ltx_text" style="font-size:90%;">
Rustem Islamov, Xun Qian, and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.8.1" class="ltx_text" style="font-size:90%;">Distributed Second Order Methods with Fast Rates and
Compressed Communication.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib40.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">ICML 2021</em><span id="bib.bib40.11.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib41.5.5.1" class="ltx_text" style="font-size:90%;">Jiang et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib41.7.1" class="ltx_text" style="font-size:90%;">
Yihan Jiang, Jakub Konečný, Keith Rush, and Sreeram Kannan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.8.1" class="ltx_text" style="font-size:90%;">Improving Federated Learning Personalization via Model Agnostic
Meta Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib41.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1909.12488 [cs, stat]</em><span id="bib.bib41.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib42.5.5.1" class="ltx_text" style="font-size:90%;">Jiang et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib42.7.1" class="ltx_text" style="font-size:90%;">
Yuang Jiang, Shiqiang Wang, Victor Valls, Bong Jun Ko, Wei-Han Lee, Kin K.
Leung, and Leandros Tassiulas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.8.1" class="ltx_text" style="font-size:90%;">Model Pruning Enables Efficient Federated Learning on Edge
Devices.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib42.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1909.12326 [cs, stat]</em><span id="bib.bib42.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib43.5.5.1" class="ltx_text" style="font-size:90%;">Kairouz et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib43.7.1" class="ltx_text" style="font-size:90%;">
Peter Kairouz, H. Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi
Bennis, Arjun Nitin Bhagoji, Keith Bonawitz, Zachary Charles, Graham Cormode,
Rachel Cummings, Rafael G. L. D’Oliveira, Salim El Rouayheb, David Evans,
Josh Gardner, Zachary Garrett, Adrià Gascón, Badih Ghazi, Phillip B.
Gibbons, Marco Gruteser, Zaid Harchaoui, Chaoyang He, Lie He, Zhouyuan Huo,
Ben Hutchinson, Justin Hsu, Martin Jaggi, Tara Javidi, Gauri Joshi, Mikhail
Khodak, Jakub Konečný, Aleksandra Korolova, Farinaz Koushanfar,
Sanmi Koyejo, Tancrède Lepoint, Yang Liu, Prateek Mittal, Mehryar Mohri,
Richard Nock, Ayfer Özgür, Rasmus Pagh, Mariana Raykova, Hang Qi,
Daniel Ramage, Ramesh Raskar, Dawn Song, Weikang Song, Sebastian U. Stich,
Ziteng Sun, Ananda Theertha Suresh, Florian Tramèr, Praneeth Vepakomma,
Jianyu Wang, Li Xiong, Zheng Xu, Qiang Yang, Felix X. Yu, Han Yu, and Sen
Zhao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.8.1" class="ltx_text" style="font-size:90%;">Advances and Open Problems in Federated Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib43.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1912.04977 [cs, stat]</em><span id="bib.bib43.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib44.5.5.1" class="ltx_text" style="font-size:90%;">Karimireddy et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib44.7.1" class="ltx_text" style="font-size:90%;">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank J. Reddi,
Sebastian U. Stich, and Ananda Theertha Suresh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.8.1" class="ltx_text" style="font-size:90%;">SCAFFOLD: Stochastic Controlled Averaging for Federated
Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib44.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the International Conference on Machine
Learning 1 Pre-Proceedings (ICML 2020)</em><span id="bib.bib44.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib45.5.5.1" class="ltx_text" style="font-size:90%;">Khaled et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib45.7.1" class="ltx_text" style="font-size:90%;">
Ahmed Khaled, Konstantin Mishchenko, and Peter Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.8.1" class="ltx_text" style="font-size:90%;">Tighter Theory for Local SGD on Identical and
Heterogeneous Data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib45.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the Twenty Third International Conference
on Artificial Intelligence and Statistics</em><span id="bib.bib45.11.3" class="ltx_text" style="font-size:90%;">, volume 108. PMLR, 2020.
</span>
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib46.5.5.1" class="ltx_text" style="font-size:90%;">Khodak et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib46.7.1" class="ltx_text" style="font-size:90%;">
Mikhail Khodak, Maria-Florina F Balcan, and Ameet S Talwalkar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.8.1" class="ltx_text" style="font-size:90%;">Adaptive Gradient-Based Meta-Learning Methods.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib46.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 32</em><span id="bib.bib46.11.3" class="ltx_text" style="font-size:90%;">,
volume 32. Curran Associates, Inc., 2019.
</span>
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib47.4.4.1" class="ltx_text" style="font-size:90%;">Kingma and Dhariwal (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib47.6.1" class="ltx_text" style="font-size:90%;">
Diederik P Kingma and Prafulla Dhariwal.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.7.1" class="ltx_text" style="font-size:90%;">Glow: Generative flow with invertible 1x1 convolutions.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib47.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1807.03039</em><span id="bib.bib47.9.2" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib48.4.4.1" class="ltx_text" style="font-size:90%;">Kingma and Welling (2013)</span></span>
<span class="ltx_bibblock"><span id="bib.bib48.6.1" class="ltx_text" style="font-size:90%;">
Diederik P Kingma and Max Welling.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.7.1" class="ltx_text" style="font-size:90%;">Auto-encoding variational bayes.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib48.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1312.6114</em><span id="bib.bib48.9.2" class="ltx_text" style="font-size:90%;">, 2013.
</span>
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib49.5.5.1" class="ltx_text" style="font-size:90%;">Koloskova et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib49.7.1" class="ltx_text" style="font-size:90%;">
Anastasia Koloskova, Nicolas Loizou, Sadra Boreiri, Martin Jaggi, and
Sebastian U. Stich.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.8.1" class="ltx_text" style="font-size:90%;">A Unified Theory of Decentralized SGD with Changing
Topology and Local Updates.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib49.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the International Conference on Machine
Learning 1 Pre-Proceedings (ICML 2020)</em><span id="bib.bib49.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib50.5.5.1" class="ltx_text" style="font-size:90%;">Konečný et al. (2016)</span></span>
<span class="ltx_bibblock"><span id="bib.bib50.7.1" class="ltx_text" style="font-size:90%;">
Jakub Konečný, H. Brendan McMahan, Daniel Ramage, and Peter
Richtárik.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.8.1" class="ltx_text" style="font-size:90%;">Federated Optimization: Distributed Machine Learning for
On-Device Intelligence.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib50.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1610.02527 [cs]</em><span id="bib.bib50.10.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib51.5.5.1" class="ltx_text" style="font-size:90%;">Krizhevsky et al. (2009)</span></span>
<span class="ltx_bibblock"><span id="bib.bib51.7.1" class="ltx_text" style="font-size:90%;">
Alex Krizhevsky, Geoffrey Hinton, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.8.1" class="ltx_text" style="font-size:90%;">Learning multiple layers of features from tiny images.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.9.1" class="ltx_text" style="font-size:90%;">2009.
</span>
</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib52.5.5.1" class="ltx_text" style="font-size:90%;">Lakshminarayanan et al. (2016)</span></span>
<span class="ltx_bibblock"><span id="bib.bib52.7.1" class="ltx_text" style="font-size:90%;">
Balaji Lakshminarayanan, Alexander Pritzel, and Charles Blundell.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib52.8.1" class="ltx_text" style="font-size:90%;">Simple and scalable predictive uncertainty estimation using deep
ensembles.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib52.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1612.01474</em><span id="bib.bib52.10.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib53.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. (2020a)</span></span>
<span class="ltx_bibblock"><span id="bib.bib53.7.1" class="ltx_text" style="font-size:90%;">
Tian Li, Anit Kumar Sahu, Ameet Talwalkar, and Virginia Smith.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib53.8.1" class="ltx_text" style="font-size:90%;">Federated Learning: Challenges, Methods, and Future
Directions.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib53.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Signal Processing Magazine</em><span id="bib.bib53.10.2" class="ltx_text" style="font-size:90%;">, 37(3),
2020a.
</span>
</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib54.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. (2020b)</span></span>
<span class="ltx_bibblock"><span id="bib.bib54.7.1" class="ltx_text" style="font-size:90%;">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and
Virginia Smith.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.8.1" class="ltx_text" style="font-size:90%;">Federated optimization in heterogeneous networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib54.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of Machine Learning and Systems 2020</em><span id="bib.bib54.11.3" class="ltx_text" style="font-size:90%;">,
2020b.
</span>
</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib55.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. (2020c)</span></span>
<span class="ltx_bibblock"><span id="bib.bib55.7.1" class="ltx_text" style="font-size:90%;">
Tian Li, Maziar Sanjabi, Ahmad Beirami, and Virginia Smith.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.8.1" class="ltx_text" style="font-size:90%;">Fair resource allocation in federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib55.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib55.11.3" class="ltx_text" style="font-size:90%;">,
2020c.
</span>
</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib56.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. (2020d)</span></span>
<span class="ltx_bibblock"><span id="bib.bib56.7.1" class="ltx_text" style="font-size:90%;">
Xiang Li, Kaixuan Huang, Wenhao Yang, Shusen Wang, and Zhihua Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.8.1" class="ltx_text" style="font-size:90%;">On the convergence of FedAvg on non-iid data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib56.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib56.11.3" class="ltx_text" style="font-size:90%;">,
2020d.
</span>
</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib57.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib57.7.1" class="ltx_text" style="font-size:90%;">
Xiaoxiao Li, Meirui Jiang, Xiaofei Zhang, Michael Kamp, and Qi Dou.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.8.1" class="ltx_text" style="font-size:90%;">FedBN: Federated learning on Non-IID features via local
batch normalization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib57.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib57.11.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib58.5.5.1" class="ltx_text" style="font-size:90%;">Liang et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib58.7.1" class="ltx_text" style="font-size:90%;">
Paul Pu Liang, Terrance Liu, Liu Ziyin, Nicholas B. Allen, Randy P. Auerbach,
David Brent, Ruslan Salakhutdinov, and Louis-Philippe Morency.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib58.8.1" class="ltx_text" style="font-size:90%;">Think Locally, Act Globally: Federated Learning with
Local and Global Representations.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib58.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2001.01523 [cs, stat]</em><span id="bib.bib58.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib59.5.5.1" class="ltx_text" style="font-size:90%;">Lin et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib59.7.1" class="ltx_text" style="font-size:90%;">
Tao Lin, Lingjing Kong, Sebastian U. Stich, and Martin Jaggi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.8.1" class="ltx_text" style="font-size:90%;">Ensemble Distillation for Robust Model Fusion in Federated
Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib59.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib59.11.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib60.4.4.1" class="ltx_text" style="font-size:90%;">London (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib60.6.1" class="ltx_text" style="font-size:90%;">
Ben London.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.7.1" class="ltx_text" style="font-size:90%;">PAC Identifiability in Federated Personalization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib60.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">NeurIPS 2020 Workshop on Scalability,
Privacy and Security in Federated Learning (SpicyFL)</em><span id="bib.bib60.10.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib61.5.5.1" class="ltx_text" style="font-size:90%;">McMahan et al. (2017)</span></span>
<span class="ltx_bibblock"><span id="bib.bib61.7.1" class="ltx_text" style="font-size:90%;">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera
y Arcas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.8.1" class="ltx_text" style="font-size:90%;">Communication-efficient learning of deep networks from decentralized
data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib61.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 20th International Conference on
Artificial Intelligence and Statistics</em><span id="bib.bib61.11.3" class="ltx_text" style="font-size:90%;">, volume 54. PMLR, 2017.
</span>
</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib62.5.5.1" class="ltx_text" style="font-size:90%;">Mohri et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib62.7.1" class="ltx_text" style="font-size:90%;">
Mehryar Mohri, Gary Sivek, and Ananda Theertha Suresh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.8.1" class="ltx_text" style="font-size:90%;">Agnostic federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib62.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 36th International Conference on Machine
Learning</em><span id="bib.bib62.11.3" class="ltx_text" style="font-size:90%;">, volume 97. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib63.5.5.1" class="ltx_text" style="font-size:90%;">Nichol et al. (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib63.7.1" class="ltx_text" style="font-size:90%;">
Alex Nichol, Joshua Achiam, and John Schulman.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib63.8.1" class="ltx_text" style="font-size:90%;">On First-Order Meta-Learning Algorithms.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib63.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1803.02999 [cs]</em><span id="bib.bib63.10.2" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib64.5.5.1" class="ltx_text" style="font-size:90%;">Ovadia et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib64.7.1" class="ltx_text" style="font-size:90%;">
Yaniv Ovadia, Emily Fertig, Jie Ren, Zachary Nado, David Sculley, Sebastian
Nowozin, Joshua V Dillon, Balaji Lakshminarayanan, and Jasper Snoek.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib64.8.1" class="ltx_text" style="font-size:90%;">Can you trust your model’s uncertainty? evaluating predictive
uncertainty under dataset shift.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib64.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1906.02530</em><span id="bib.bib64.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib65.5.5.1" class="ltx_text" style="font-size:90%;">Patel et al. (2015)</span></span>
<span class="ltx_bibblock"><span id="bib.bib65.7.1" class="ltx_text" style="font-size:90%;">
Vishal M Patel, Raghuraman Gopalan, Ruonan Li, and Rama Chellappa.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib65.8.1" class="ltx_text" style="font-size:90%;">Visual domain adaptation: A survey of recent advances.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib65.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE signal processing magazine</em><span id="bib.bib65.10.2" class="ltx_text" style="font-size:90%;">, 32(3):53–69, 2015.
</span>
</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib66.4.4.1" class="ltx_text" style="font-size:90%;">Pathak and Wainwright (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib66.6.1" class="ltx_text" style="font-size:90%;">
Reese Pathak and Martin J. Wainwright.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib66.7.1" class="ltx_text" style="font-size:90%;">FedSplit: An algorithmic framework for fast federated
optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib66.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib66.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib66.10.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib67" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib67.5.5.1" class="ltx_text" style="font-size:90%;">Reddi et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib67.7.1" class="ltx_text" style="font-size:90%;">
Sashank Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush,
Jakub Konečný, Sanjiv Kumar, and H. Brendan McMahan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib67.8.1" class="ltx_text" style="font-size:90%;">Adaptive Federated Optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib67.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib67.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning
Representations</em><span id="bib.bib67.11.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib68" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib68.5.5.1" class="ltx_text" style="font-size:90%;">Reisizadeh et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib68.7.1" class="ltx_text" style="font-size:90%;">
Amirhossein Reisizadeh, Farzan Farnia, Ramtin Pedarsani, and Ali Jadbabaie.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib68.8.1" class="ltx_text" style="font-size:90%;">Robust federated learning: The case of affine distribution shifts.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib68.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2006.08907</em><span id="bib.bib68.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib69" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib69.5.5.1" class="ltx_text" style="font-size:90%;">Salimans et al. (2017)</span></span>
<span class="ltx_bibblock"><span id="bib.bib69.7.1" class="ltx_text" style="font-size:90%;">
Tim Salimans, Andrej Karpathy, Xi Chen, and Diederik P Kingma.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib69.8.1" class="ltx_text" style="font-size:90%;">Pixelcnn++: Improving the pixelcnn with discretized logistic mixture
likelihood and other modifications.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib69.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1701.05517</em><span id="bib.bib69.10.2" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib70" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib70.4.4.1" class="ltx_text" style="font-size:90%;">Shimodaira (2000)</span></span>
<span class="ltx_bibblock"><span id="bib.bib70.6.1" class="ltx_text" style="font-size:90%;">
Hidetoshi Shimodaira.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib70.7.1" class="ltx_text" style="font-size:90%;">Improving predictive inference under covariate shift by weighting the
log-likelihood function.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib70.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Journal of statistical planning and inference</em><span id="bib.bib70.9.2" class="ltx_text" style="font-size:90%;">, 90(2):227–244, 2000.
</span>
</span>
</li>
<li id="bib.bib71" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib71.5.5.1" class="ltx_text" style="font-size:90%;">Singhal et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib71.7.1" class="ltx_text" style="font-size:90%;">
Karan Singhal, Hakim Sidahmed, Zachary Garrett, Shanshan Wu, Keith Rush, and
Sushant Prakash.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib71.8.1" class="ltx_text" style="font-size:90%;">Federated Reconstruction: Partially Local Federated Learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib71.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib71.10.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib72" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib72.5.5.1" class="ltx_text" style="font-size:90%;">Smith et al. (2017)</span></span>
<span class="ltx_bibblock"><span id="bib.bib72.7.1" class="ltx_text" style="font-size:90%;">
Virginia Smith, Chao-Kai Chiang, Maziar Sanjabi, and Ameet S Talwalkar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib72.8.1" class="ltx_text" style="font-size:90%;">Federated multi-task learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib72.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib72.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 30</em><span id="bib.bib72.11.3" class="ltx_text" style="font-size:90%;">.
Curran Associates, Inc., 2017.
</span>
</span>
</li>
<li id="bib.bib73" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib73.5.5.1" class="ltx_text" style="font-size:90%;">So et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib73.7.1" class="ltx_text" style="font-size:90%;">
Jinhyun So, Basak Guler, and Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib73.8.1" class="ltx_text" style="font-size:90%;">A Scalable Approach for Privacy-Preserving Collaborative
Machine Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib73.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib73.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib73.11.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib74" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib74.5.5.1" class="ltx_text" style="font-size:90%;">Sohn et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib74.7.1" class="ltx_text" style="font-size:90%;">
Jy-yong Sohn, Dong-Jun Han, Beongjun Choi, and Jaekyun Moon.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib74.8.1" class="ltx_text" style="font-size:90%;">Election coding for distributed learning: Protecting SignSGD
against byzantine attacks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib74.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib74.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib74.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib75" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib75.4.4.1" class="ltx_text" style="font-size:90%;">Stich (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib75.6.1" class="ltx_text" style="font-size:90%;">
Sebastian U. Stich.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib75.7.1" class="ltx_text" style="font-size:90%;">Local SGD converges fast and communicates little.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib75.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib75.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib75.10.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib76" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib76.5.5.1" class="ltx_text" style="font-size:90%;">T. Dinh et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib76.7.1" class="ltx_text" style="font-size:90%;">
Canh T. Dinh, Nguyen Tran, and Tuan Dung Nguyen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib76.8.1" class="ltx_text" style="font-size:90%;">Personalized Federated Learning with Moreau Envelopes.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib76.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib76.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib76.11.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib77" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib77.4.4.1" class="ltx_text" style="font-size:90%;">Van der Maaten and Hinton (2008)</span></span>
<span class="ltx_bibblock"><span id="bib.bib77.6.1" class="ltx_text" style="font-size:90%;">
Laurens Van der Maaten and Geoffrey Hinton.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib77.7.1" class="ltx_text" style="font-size:90%;">Visualizing data using t-sne.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib77.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Journal of machine learning research</em><span id="bib.bib77.9.2" class="ltx_text" style="font-size:90%;">, 9(11), 2008.
</span>
</span>
</li>
<li id="bib.bib78" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib78.4.4.1" class="ltx_text" style="font-size:90%;">Vapnik (1998)</span></span>
<span class="ltx_bibblock"><span id="bib.bib78.6.1" class="ltx_text" style="font-size:90%;">
Vladimir Naumovich Vapnik.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib78.7.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Statistical Learning Theory</em><span id="bib.bib78.8.2" class="ltx_text" style="font-size:90%;">.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib78.9.1" class="ltx_text" style="font-size:90%;">Wiley, 1998.
</span>
</span>
</li>
<li id="bib.bib79" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib79.4.4.1" class="ltx_text" style="font-size:90%;">Wang and Joshi (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib79.6.1" class="ltx_text" style="font-size:90%;">
Jianyu Wang and Gauri Joshi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib79.7.1" class="ltx_text" style="font-size:90%;">Cooperative SGD: A unified Framework for the Design
and Analysis of Communication-Efficient SGD Algorithms.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib79.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1808.07576 [cs, stat]</em><span id="bib.bib79.9.2" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib80" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib80.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. (2020a)</span></span>
<span class="ltx_bibblock"><span id="bib.bib80.7.1" class="ltx_text" style="font-size:90%;">
Jianyu Wang, Vinayak Tantia, Nicolas Ballas, and Michael Rabbat.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib80.8.1" class="ltx_text" style="font-size:90%;">SlowMo: Improving communication-efficient distributed SGD
with slow momentum.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib80.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib80.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib80.11.3" class="ltx_text" style="font-size:90%;">,
2020a.
</span>
</span>
</li>
<li id="bib.bib81" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib81.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib81.7.1" class="ltx_text" style="font-size:90%;">
Jianyu Wang, Zachary Charles, Zheng Xu, Gauri Joshi, H Brendan McMahan, Maruan
Al-Shedivat, Galen Andrew, Salman Avestimehr, Katharine Daly, Deepesh Data,
et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib81.8.1" class="ltx_text" style="font-size:90%;">A field guide to federated optimization.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib81.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2107.06917</em><span id="bib.bib81.10.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib82" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib82.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib82.7.1" class="ltx_text" style="font-size:90%;">
Kangkang Wang, Rajiv Mathews, Chloé Kiddon, Hubert Eichner, Françoise
Beaufays, and Daniel Ramage.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib82.8.1" class="ltx_text" style="font-size:90%;">Federated Evaluation of On-device Personalization.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib82.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1910.10252 [cs, stat]</em><span id="bib.bib82.10.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib83" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib83.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. (2020b)</span></span>
<span class="ltx_bibblock"><span id="bib.bib83.7.1" class="ltx_text" style="font-size:90%;">
Tianhao Wang, Johannes Rausch, Ce Zhang, Ruoxi Jia, and Dawn Song.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib83.8.1" class="ltx_text" style="font-size:90%;">A Principled Approach to Data Valuation for Federated
Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib83.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib83.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Federated Learning</em><span id="bib.bib83.11.3" class="ltx_text" style="font-size:90%;">, volume 12500. Springer
International Publishing, 2020b.
</span>
</span>
</li>
<li id="bib.bib84" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib84.5.5.1" class="ltx_text" style="font-size:90%;">Woodworth et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib84.7.1" class="ltx_text" style="font-size:90%;">
Blake Woodworth, Kumar Kshitij Patel, and Nathan Srebro.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib84.8.1" class="ltx_text" style="font-size:90%;">Minibatch vs Local SGD for Heterogeneous Distributed
Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib84.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib84.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib84.11.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib85" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib85.4.4.1" class="ltx_text" style="font-size:90%;">Wu and He (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib85.6.1" class="ltx_text" style="font-size:90%;">
Yuxin Wu and Kaiming He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib85.7.1" class="ltx_text" style="font-size:90%;">Group normalization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib85.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib85.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the European Conference on Computer Vision
(ECCV)</em><span id="bib.bib85.10.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib86" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib86.5.5.1" class="ltx_text" style="font-size:90%;">Yagli et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib86.7.1" class="ltx_text" style="font-size:90%;">
Semih Yagli, Alex Dytso, and H. Vincent Poor.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib86.8.1" class="ltx_text" style="font-size:90%;">Information-Theoretic Bounds on the Generalization Error and
Privacy Leakage in Federated Learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib86.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib86.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2020 IEEE 21st International Workshop on Signal
Processing Advances in Wireless Communications (SPAWC)</em><span id="bib.bib86.11.3" class="ltx_text" style="font-size:90%;">. IEEE,
2020.
</span>
</span>
</li>
<li id="bib.bib87" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib87.4.4.1" class="ltx_text" style="font-size:90%;">Yu and Jin (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib87.6.1" class="ltx_text" style="font-size:90%;">
Hao Yu and Rong Jin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib87.7.1" class="ltx_text" style="font-size:90%;">On the computation and communication complexity of parallel SGD
with dynamic batch sizes for stochastic non-convex optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib87.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib87.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 36th International Conference on Machine
Learning</em><span id="bib.bib87.10.3" class="ltx_text" style="font-size:90%;">, volume 97. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib88" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib88.5.5.1" class="ltx_text" style="font-size:90%;">Yu et al. (2019)</span></span>
<span class="ltx_bibblock"><span id="bib.bib88.7.1" class="ltx_text" style="font-size:90%;">
Hao Yu, Rong Jin, and Sen Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib88.8.1" class="ltx_text" style="font-size:90%;">On the linear speedup analysis of communication efficient momentum
SGD for distributed non-convex optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib88.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib88.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 36th International Conference on Machine
Learning</em><span id="bib.bib88.11.3" class="ltx_text" style="font-size:90%;">, volume 97. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib89" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib89.5.5.1" class="ltx_text" style="font-size:90%;">Yu et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib89.7.1" class="ltx_text" style="font-size:90%;">
Tao Yu, Eugene Bagdasaryan, and Vitaly Shmatikov.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib89.8.1" class="ltx_text" style="font-size:90%;">Salvaging Federated Learning by Local Adaptation.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib89.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2002.04758 [cs, stat]</em><span id="bib.bib89.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib90" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib90.4.4.1" class="ltx_text" style="font-size:90%;">Yuan and Ma (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib90.6.1" class="ltx_text" style="font-size:90%;">
Honglin Yuan and Tengyu Ma.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib90.7.1" class="ltx_text" style="font-size:90%;">Federated Accelerated Stochastic Gradient Descent.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib90.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib90.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems 33</em><span id="bib.bib90.10.3" class="ltx_text" style="font-size:90%;">,
2020.
</span>
</span>
</li>
<li id="bib.bib91" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib91.5.5.1" class="ltx_text" style="font-size:90%;">Yuan et al. (2021)</span></span>
<span class="ltx_bibblock"><span id="bib.bib91.7.1" class="ltx_text" style="font-size:90%;">
Honglin Yuan, Manzil Zaheer, and Sashank Reddi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib91.8.1" class="ltx_text" style="font-size:90%;">Federated Composite Optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib91.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib91.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 38th International Conference on
Machine Learning</em><span id="bib.bib91.11.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib92" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib92.5.5.1" class="ltx_text" style="font-size:90%;">Zhang et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib92.7.1" class="ltx_text" style="font-size:90%;">
Xinwei Zhang, Mingyi Hong, Sairaj Dhople, Wotao Yin, and Yang Liu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib92.8.1" class="ltx_text" style="font-size:90%;">FedPD: A Federated Learning Framework with Optimal Rates
and Adaptivity to Non-IID Data.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib92.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:2005.11418 [cs, stat]</em><span id="bib.bib92.10.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib93" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib93.5.5.1" class="ltx_text" style="font-size:90%;">Zhao et al. (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib93.7.1" class="ltx_text" style="font-size:90%;">
Yue Zhao, Meng Li, Liangzhen Lai, Naveen Suda, Damon Civin, and Vikas Chandra.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib93.8.1" class="ltx_text" style="font-size:90%;">Federated Learning with Non-IID Data.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib93.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv:1806.00582 [cs, stat]</em><span id="bib.bib93.10.2" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib94" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib94.4.4.1" class="ltx_text" style="font-size:90%;">Zhou and Cong (2018)</span></span>
<span class="ltx_bibblock"><span id="bib.bib94.6.1" class="ltx_text" style="font-size:90%;">
Fan Zhou and Guojing Cong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib94.7.1" class="ltx_text" style="font-size:90%;">On the convergence properties of a k-step averaging stochastic
gradient descent algorithm for nonconvex optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib94.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib94.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the Twenty-Seventh International Joint
Conference on Artificial Intelligence</em><span id="bib.bib94.10.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib95" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib95.5.5.1" class="ltx_text" style="font-size:90%;">Zhu et al. (2020)</span></span>
<span class="ltx_bibblock"><span id="bib.bib95.7.1" class="ltx_text" style="font-size:90%;">
Wennan Zhu, Peter Kairouz, Brendan McMahan, Haicheng Sun, and Wei Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib95.8.1" class="ltx_text" style="font-size:90%;">Federated Heavy Hitters Discovery with Differential Privacy.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib95.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib95.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the Twenty Third International Conference
on Artificial Intelligence and Statistics</em><span id="bib.bib95.11.3" class="ltx_text" style="font-size:90%;">, volume 108. PMLR, 2020.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="Ptx1" class="ltx_part">
<h2 class="ltx_title ltx_title_part">Appendices</h2>

<nav class="ltx_TOC ltx_list_toc ltx_toc_toc"><h6 class="ltx_title ltx_title_contents">List of Appendices</h6>
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S1" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S1.SS1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1.1 </span>Related work</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S2" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Setup for Generalization in FL</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S3" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Understanding Generalization Gaps</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S3.SS1" title="In 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Estimating Risks and Gaps via the Three-Way Split</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S3.SS2" title="In 3 Understanding Generalization Gaps ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Why is the Participation Gap Interesting?</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S4" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Reflections on Client Heterogeneity and Synthetic Partitioning</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S4.SS1" title="In 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Semantic Client Partitioning and the Participation Gap</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S4.SS2" title="In 4 Reflections on Client Heterogeneity and Synthetic Partitioning ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Explaining differences between label-based and semantic partitioning</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S5" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experimental Evaluation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S5.SS1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Effect of the number of participating clients</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S5.SS2" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Effect of client diversity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S5.SS3" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Overview of Additional Experiments in Appendices</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S6" title="In What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Community Suggestions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="#A1" title="In Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Additional Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a href="#A2" title="In Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Additional Experimental Results</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A2.SS1" title="In Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Training progress of centralized optimizers</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A2.SS2" title="In Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Percentiles of metrics across clients</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A2.SS3" title="In Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>Federated training progress at the <span class="ltx_ERROR undefined">\nth</span>25 percentile acorss clients</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a href="#A3" title="In Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Additional Details on Experimental Setup and Task-Specific Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#A3.SS1" title="In Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1 </span>EMNIST Hand-written Character Recognition Task</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#A3.SS1.SSS1" title="In C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1.1 </span>Consistency across various hyperparameters choices</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#A3.SS1.SSS2" title="In C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1.2 </span>Effect of multiple local epochs per communication round</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#A3.SS2" title="In Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2 </span>CIFAR 10/100 Image Classification Task</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#A3.SS2.SSS1" title="In C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2.1 </span>Consistency across various hyperparameters choice</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#A3.SS2.SSS2" title="In C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2.2 </span>Effect of Weight Decay Strength</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#A3.SS2.SSS3" title="In C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2.3 </span>Effect of Model Depth</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A3.SS3" title="In Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.3 </span>Shakespeare Next Character Prediction Task</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A3.SS4" title="In Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.4 </span>Stackoverflow Next Word Prediction Task</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a href="#A4" title="In Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Details of Semanticically Partitioned Federated Dataset</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A4.SS1" title="In Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Details of the Semantic Partitioning Scheme</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A4.SS2" title="In Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Visualization of Semanticically Partitioned CIFAR-100 Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#A4.SS3" title="In Appendix D Details of Semanticically Partitioned Federated Dataset ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.3 </span>Visualization of Semantically Partitioned MNIST Dataset</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="#A5" title="In Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Methodology for Computing Entropy</span></a></li>
</ol></nav>
<section id="A1" class="ltx_appendix">
<h3 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Additional Related Work</h3>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">Recent years have observed a booming interest in various aspects of Federated Learning, including communication-efficient learning
<cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">McMahan et al.</span>, <a href="#bib.bib61" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>; <span class="ltx_text" style="font-size:90%;">Konečný et al.</span>, <a href="#bib.bib50" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2016</span></a>; <span class="ltx_text" style="font-size:90%;">Zhou and Cong</span>, <a href="#bib.bib94" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>; <span class="ltx_text" style="font-size:90%;">Haddadpour et al.</span>, <a href="#bib.bib28" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019a</span></a>; <span class="ltx_text" style="font-size:90%;">Wang and Joshi</span>, <a href="#bib.bib79" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>; <span class="ltx_text" style="font-size:90%;">Yu and Jin</span>, <a href="#bib.bib87" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Yu et al.</span>, <a href="#bib.bib88" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Basu et al.</span>, <a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Stich</span>, <a href="#bib.bib75" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Khaled et al.</span>, <a href="#bib.bib45" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Yuan and Ma</span>, <a href="#bib.bib90" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Woodworth et al.</span>, <a href="#bib.bib84" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Yuan et al.</span>, <a href="#bib.bib91" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib57" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>; <span class="ltx_text" style="font-size:90%;">Huang et al.</span>, <a href="#bib.bib38" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>; <span class="ltx_text" style="font-size:90%;">Glasgow et al.</span>, <a href="#bib.bib25" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>,
model ensembling <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Bistritz et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">He et al.</span>, <a href="#bib.bib33" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Lin et al.</span>, <a href="#bib.bib59" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Chen and Chao</span>, <a href="#bib.bib16" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>,
integration with compression <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Faghri et al.</span>, <a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Gorbunov et al.</span>, <a href="#bib.bib26" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Sohn et al.</span>, <a href="#bib.bib74" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Beznosikov et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Horváth and Richtárik</span>, <a href="#bib.bib35" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Albasyoni et al.</span>, <a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Jiang et al.</span>, <a href="#bib.bib42" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Islamov et al.</span>, <a href="#bib.bib40" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>,
systems heterogeneity <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Smith et al.</span>, <a href="#bib.bib72" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>; <span class="ltx_text" style="font-size:90%;">Diao et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>)</cite>, data (distributional) heterogeneity <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Haddadpour et al.</span>, <a href="#bib.bib29" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019b</span></a>; <span class="ltx_text" style="font-size:90%;">Khaled et al.</span>, <a href="#bib.bib45" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib56" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020d</span></a>; <span class="ltx_text" style="font-size:90%;">Koloskova et al.</span>, <a href="#bib.bib49" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Woodworth et al.</span>, <a href="#bib.bib84" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Mohri et al.</span>, <a href="#bib.bib62" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Zhang et al.</span>, <a href="#bib.bib92" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib54" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020b</span></a>; <span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib80" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020a</span></a>; <span class="ltx_text" style="font-size:90%;">Karimireddy et al.</span>, <a href="#bib.bib44" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Pathak and Wainwright</span>, <a href="#bib.bib66" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Al-Shedivat et al.</span>, <a href="#bib.bib2" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>, fairness <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib83" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020b</span></a>; <span class="ltx_text" style="font-size:90%;">Li et al.</span>, <a href="#bib.bib55" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020c</span></a>; <span class="ltx_text" style="font-size:90%;">Mohri et al.</span>, <a href="#bib.bib62" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite>, personalization
<cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Smith et al.</span>, <a href="#bib.bib72" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>; <span class="ltx_text" style="font-size:90%;">Nichol et al.</span>, <a href="#bib.bib63" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>; <span class="ltx_text" style="font-size:90%;">Khodak et al.</span>, <a href="#bib.bib46" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Balcan et al.</span>, <a href="#bib.bib5" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Jiang et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib82" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Chen et al.</span>, <a href="#bib.bib15" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Fallah et al.</span>, <a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Hanzely et al.</span>, <a href="#bib.bib31" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">London</span>, <a href="#bib.bib60" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">T. Dinh et al.</span>, <a href="#bib.bib76" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Yu et al.</span>, <a href="#bib.bib89" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Hanzely and Richtárik</span>, <a href="#bib.bib30" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Agarwal et al.</span>, <a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Deng et al.</span>, <a href="#bib.bib20" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Hao et al.</span>, <a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Liang et al.</span>, <a href="#bib.bib58" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>)</cite>, and privacy <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Balle et al.</span>, <a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Chen et al.</span>, <a href="#bib.bib17" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Geiping et al.</span>, <a href="#bib.bib24" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">London</span>, <a href="#bib.bib60" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">So et al.</span>, <a href="#bib.bib73" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Zhu et al.</span>, <a href="#bib.bib95" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>; <span class="ltx_text" style="font-size:90%;">Brown et al.</span>, <a href="#bib.bib11" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2020</span></a>)</cite>. These works often study generalization and convergence for newly proposed algorithms.
<cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text" style="font-size:90%;">Huang et al.</span> (<a href="#bib.bib38" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> studied the generalization of Federated Learning in Neural-tangent kernel regime. But, to our knowledge, there is no existing work that disentangles out-of-sample and participation gaps in federated training.
We refer readers to <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kairouz et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>; <span class="ltx_text" style="font-size:90%;">Wang et al.</span>, <a href="#bib.bib81" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> for a more comprehensive survey on the recent progress in Federated Learning.</p>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h3 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Experimental Results</h3>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">In this section, we present several experimental results omitted from the main body due to space constraints. Additional task-specific ablation experiments can be found in <a href="#A3" title="Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<section id="A2.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Training progress of centralized optimizers</h4>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">In this subsection, we repeat the experiment in <a href="#S1.F1" title="In 1 Introduction ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a> with centralized training. The results are shown in <a href="#A2.F9" title="In B.1 Training progress of centralized optimizers ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">9</span></a>. Observe that participation gap still exists with centralized optimizers. This is because the participation gap is an intrinsic outcome of the heterogeneity of federated dataset.</p>
</div>
<figure id="A2.F9" class="ltx_figure"><img src="/html/2110.14216/assets/x11.png" id="A2.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="90" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F9.3.1.1" class="ltx_text" style="font-size:90%;">Figure 9</span>: </span><span id="A2.F9.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Centralized training progress on six different federated tasks.<span id="A2.F9.4.2.1" class="ltx_text ltx_font_medium"> Observe that the participation gap still exists even with centralized optimizers. We refer readers to <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> for a quantitative comparison between federated optimizers and centralized optimizers.</span></span></figcaption>
</figure>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Percentiles of metrics across clients</h4>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.1" class="ltx_p">In this subsection, we report the detailed statistics of metrics across clients. Recall that in <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>, we aggregated the metrics across clients by weighted averaging, where the weights are determined by the number of elements contributed by each client.
In the following <a href="#A2.T2" title="In B.2 Percentiles of metrics across clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a>, we report five percentiles of metrics across clients: <span id="A2.SS2.p1.1.1" class="ltx_ERROR undefined">\nth</span>95, <span id="A2.SS2.p1.1.2" class="ltx_ERROR undefined">\nth</span>75, <span id="A2.SS2.p1.1.3" class="ltx_ERROR undefined">\nth</span>50 (a.k.a. median), <span id="A2.SS2.p1.1.4" class="ltx_ERROR undefined">\nth</span>25, and <span id="A2.SS2.p1.1.5" class="ltx_ERROR undefined">\nth</span>5. These statistics provide a detailed characterization on the metrics distribution across clients.<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>
To make the percentiles comparable, we ensure the un-participating clients and participating validation clients have the same scale of elements per client.
</span></span></span></p>
</div>
<figure id="A2.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="A2.T2.4.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="A2.T2.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Percentiles of metrics across clients on six federated tasks.<span id="A2.T2.5.2.1" class="ltx_text ltx_font_medium"> We observe that the unparticipating clients tend to exhibit longer tails on the lower side of accuracy. For example, the participating clients of EMNIST-10 have perfect (100%) accuracy even for clients at the <span id="A2.T2.5.2.1.1" class="ltx_ERROR undefined">\nth</span>5 percentile, whereas the unparticipating clients only achieve 91.7%.</span></span></figcaption>
<table id="A2.T2.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T2.6.1.1" class="ltx_tr">
<th id="A2.T2.6.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt"></th>
<th id="A2.T2.6.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="A2.T2.6.1.1.2.1" class="ltx_text">percentile</span></th>
<th id="A2.T2.6.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">Federated Training</th>
<th id="A2.T2.6.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">Centralized Training</th>
</tr>
<tr id="A2.T2.6.2.2" class="ltx_tr">
<th id="A2.T2.6.2.2.1" class="ltx_td ltx_th ltx_th_column ltx_th_row"></th>
<th id="A2.T2.6.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="A2.T2.6.2.2.2.1" class="ltx_text ltx_font_typewriter">part_val</span></th>
<th id="A2.T2.6.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="A2.T2.6.2.2.3.1" class="ltx_text ltx_font_typewriter">unpart</span></th>
<th id="A2.T2.6.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="A2.T2.6.2.2.4.1" class="ltx_text ltx_font_typewriter">part_val</span></th>
<th id="A2.T2.6.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="A2.T2.6.2.2.5.1" class="ltx_text ltx_font_typewriter">unpart</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T2.6.3.1" class="ltx_tr">
<th id="A2.T2.6.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="5"><span id="A2.T2.6.3.1.1.1" class="ltx_text">EMNIST-10</span></th>
<th id="A2.T2.6.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.3.1.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.3.1.3" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="A2.T2.6.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100.0</td>
<td id="A2.T2.6.3.1.5" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="A2.T2.6.3.1.6" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
</tr>
<tr id="A2.T2.6.4.2" class="ltx_tr">
<th id="A2.T2.6.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.4.2.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.4.2.2" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.4.2.3" class="ltx_td ltx_align_center ltx_border_r">100.0</td>
<td id="A2.T2.6.4.2.4" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.4.2.5" class="ltx_td ltx_align_center">100.0</td>
</tr>
<tr id="A2.T2.6.5.3" class="ltx_tr">
<th id="A2.T2.6.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.5.3.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.5.3.2" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.5.3.3" class="ltx_td ltx_align_center ltx_border_r">100.0</td>
<td id="A2.T2.6.5.3.4" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.5.3.5" class="ltx_td ltx_align_center">100.0</td>
</tr>
<tr id="A2.T2.6.6.4" class="ltx_tr">
<th id="A2.T2.6.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.6.4.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.6.4.2" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.6.4.3" class="ltx_td ltx_align_center ltx_border_r">100.0</td>
<td id="A2.T2.6.6.4.4" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.6.4.5" class="ltx_td ltx_align_center">100.0</td>
</tr>
<tr id="A2.T2.6.7.5" class="ltx_tr">
<th id="A2.T2.6.7.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.7.5.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.7.5.2" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.7.5.3" class="ltx_td ltx_align_center ltx_border_r">91.7</td>
<td id="A2.T2.6.7.5.4" class="ltx_td ltx_align_center">100.0</td>
<td id="A2.T2.6.7.5.5" class="ltx_td ltx_align_center">91.7</td>
</tr>
<tr id="A2.T2.6.8.6" class="ltx_tr">
<th id="A2.T2.6.8.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="5"><span id="A2.T2.6.8.6.1.1" class="ltx_text">EMNIST-62</span></th>
<th id="A2.T2.6.8.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.8.6.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.8.6.3" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="A2.T2.6.8.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100.0</td>
<td id="A2.T2.6.8.6.5" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
<td id="A2.T2.6.8.6.6" class="ltx_td ltx_align_center ltx_border_t">100.0</td>
</tr>
<tr id="A2.T2.6.9.7" class="ltx_tr">
<th id="A2.T2.6.9.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.9.7.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.9.7.2" class="ltx_td ltx_align_center">93.3</td>
<td id="A2.T2.6.9.7.3" class="ltx_td ltx_align_center ltx_border_r">92.3</td>
<td id="A2.T2.6.9.7.4" class="ltx_td ltx_align_center">93.5</td>
<td id="A2.T2.6.9.7.5" class="ltx_td ltx_align_center">93.5</td>
</tr>
<tr id="A2.T2.6.10.8" class="ltx_tr">
<th id="A2.T2.6.10.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.10.8.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.10.8.2" class="ltx_td ltx_align_center">88.2</td>
<td id="A2.T2.6.10.8.3" class="ltx_td ltx_align_center ltx_border_r">87.1</td>
<td id="A2.T2.6.10.8.4" class="ltx_td ltx_align_center">87.5</td>
<td id="A2.T2.6.10.8.5" class="ltx_td ltx_align_center">87.5</td>
</tr>
<tr id="A2.T2.6.11.9" class="ltx_tr">
<th id="A2.T2.6.11.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.11.9.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.11.9.2" class="ltx_td ltx_align_center">82.1</td>
<td id="A2.T2.6.11.9.3" class="ltx_td ltx_align_center ltx_border_r">78.6</td>
<td id="A2.T2.6.11.9.4" class="ltx_td ltx_align_center">81.8</td>
<td id="A2.T2.6.11.9.5" class="ltx_td ltx_align_center">79.2</td>
</tr>
<tr id="A2.T2.6.12.10" class="ltx_tr">
<th id="A2.T2.6.12.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.12.10.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.12.10.2" class="ltx_td ltx_align_center">66.7</td>
<td id="A2.T2.6.12.10.3" class="ltx_td ltx_align_center ltx_border_r">64.7</td>
<td id="A2.T2.6.12.10.4" class="ltx_td ltx_align_center">71.4</td>
<td id="A2.T2.6.12.10.5" class="ltx_td ltx_align_center">70.6</td>
</tr>
<tr id="A2.T2.6.13.11" class="ltx_tr">
<th id="A2.T2.6.13.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="5"><span id="A2.T2.6.13.11.1.1" class="ltx_text">CIFAR-10</span></th>
<th id="A2.T2.6.13.11.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.13.11.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.13.11.3" class="ltx_td ltx_align_center ltx_border_t">93.2</td>
<td id="A2.T2.6.13.11.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">90.0</td>
<td id="A2.T2.6.13.11.5" class="ltx_td ltx_align_center ltx_border_t">95.5</td>
<td id="A2.T2.6.13.11.6" class="ltx_td ltx_align_center ltx_border_t">92.9</td>
</tr>
<tr id="A2.T2.6.14.12" class="ltx_tr">
<th id="A2.T2.6.14.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.14.12.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.14.12.2" class="ltx_td ltx_align_center">88.2</td>
<td id="A2.T2.6.14.12.3" class="ltx_td ltx_align_center ltx_border_r">86.0</td>
<td id="A2.T2.6.14.12.4" class="ltx_td ltx_align_center">90.9</td>
<td id="A2.T2.6.14.12.5" class="ltx_td ltx_align_center">89.1</td>
</tr>
<tr id="A2.T2.6.15.13" class="ltx_tr">
<th id="A2.T2.6.15.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.15.13.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.15.13.2" class="ltx_td ltx_align_center">83.0</td>
<td id="A2.T2.6.15.13.3" class="ltx_td ltx_align_center ltx_border_r">81.3</td>
<td id="A2.T2.6.15.13.4" class="ltx_td ltx_align_center">87.0</td>
<td id="A2.T2.6.15.13.5" class="ltx_td ltx_align_center">85.7</td>
</tr>
<tr id="A2.T2.6.16.14" class="ltx_tr">
<th id="A2.T2.6.16.14.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.16.14.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.16.14.2" class="ltx_td ltx_align_center">79.2</td>
<td id="A2.T2.6.16.14.3" class="ltx_td ltx_align_center ltx_border_r">76.7</td>
<td id="A2.T2.6.16.14.4" class="ltx_td ltx_align_center">82.1</td>
<td id="A2.T2.6.16.14.5" class="ltx_td ltx_align_center">81.5</td>
</tr>
<tr id="A2.T2.6.17.15" class="ltx_tr">
<th id="A2.T2.6.17.15.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.17.15.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.17.15.2" class="ltx_td ltx_align_center">71.1</td>
<td id="A2.T2.6.17.15.3" class="ltx_td ltx_align_center ltx_border_r">69.6</td>
<td id="A2.T2.6.17.15.4" class="ltx_td ltx_align_center">77.1</td>
<td id="A2.T2.6.17.15.5" class="ltx_td ltx_align_center">73.7</td>
</tr>
<tr id="A2.T2.6.18.16" class="ltx_tr">
<th id="A2.T2.6.18.16.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="5"><span id="A2.T2.6.18.16.1.1" class="ltx_text">CIFAR-100</span></th>
<th id="A2.T2.6.18.16.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.18.16.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.18.16.3" class="ltx_td ltx_align_center ltx_border_t">65.4</td>
<td id="A2.T2.6.18.16.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.4</td>
<td id="A2.T2.6.18.16.5" class="ltx_td ltx_align_center ltx_border_t">66.7</td>
<td id="A2.T2.6.18.16.6" class="ltx_td ltx_align_center ltx_border_t">62.6</td>
</tr>
<tr id="A2.T2.6.19.17" class="ltx_tr">
<th id="A2.T2.6.19.17.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.19.17.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.19.17.2" class="ltx_td ltx_align_center">61.1</td>
<td id="A2.T2.6.19.17.3" class="ltx_td ltx_align_center ltx_border_r">56.7</td>
<td id="A2.T2.6.19.17.4" class="ltx_td ltx_align_center">64.2</td>
<td id="A2.T2.6.19.17.5" class="ltx_td ltx_align_center">56.6</td>
</tr>
<tr id="A2.T2.6.20.18" class="ltx_tr">
<th id="A2.T2.6.20.18.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.20.18.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.20.18.2" class="ltx_td ltx_align_center">57.3</td>
<td id="A2.T2.6.20.18.3" class="ltx_td ltx_align_center ltx_border_r">53.8</td>
<td id="A2.T2.6.20.18.4" class="ltx_td ltx_align_center">61.3</td>
<td id="A2.T2.6.20.18.5" class="ltx_td ltx_align_center">55.7</td>
</tr>
<tr id="A2.T2.6.21.19" class="ltx_tr">
<th id="A2.T2.6.21.19.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.21.19.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.21.19.2" class="ltx_td ltx_align_center">53.9</td>
<td id="A2.T2.6.21.19.3" class="ltx_td ltx_align_center ltx_border_r">51.9</td>
<td id="A2.T2.6.21.19.4" class="ltx_td ltx_align_center">55.5</td>
<td id="A2.T2.6.21.19.5" class="ltx_td ltx_align_center">52.8</td>
</tr>
<tr id="A2.T2.6.22.20" class="ltx_tr">
<th id="A2.T2.6.22.20.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.22.20.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.22.20.2" class="ltx_td ltx_align_center">46.9</td>
<td id="A2.T2.6.22.20.3" class="ltx_td ltx_align_center ltx_border_r">46.4</td>
<td id="A2.T2.6.22.20.4" class="ltx_td ltx_align_center">50.4</td>
<td id="A2.T2.6.22.20.5" class="ltx_td ltx_align_center">50.4</td>
</tr>
<tr id="A2.T2.6.23.21" class="ltx_tr">
<th id="A2.T2.6.23.21.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="5"><span id="A2.T2.6.23.21.1.1" class="ltx_text">Shakespeare</span></th>
<th id="A2.T2.6.23.21.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.23.21.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.23.21.3" class="ltx_td ltx_align_center ltx_border_t">68.4</td>
<td id="A2.T2.6.23.21.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.4</td>
<td id="A2.T2.6.23.21.5" class="ltx_td ltx_align_center ltx_border_t">70.1</td>
<td id="A2.T2.6.23.21.6" class="ltx_td ltx_align_center ltx_border_t">71.4</td>
</tr>
<tr id="A2.T2.6.24.22" class="ltx_tr">
<th id="A2.T2.6.24.22.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.24.22.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.24.22.2" class="ltx_td ltx_align_center">60.8</td>
<td id="A2.T2.6.24.22.3" class="ltx_td ltx_align_center ltx_border_r">60.0</td>
<td id="A2.T2.6.24.22.4" class="ltx_td ltx_align_center">61.7</td>
<td id="A2.T2.6.24.22.5" class="ltx_td ltx_align_center">61.1</td>
</tr>
<tr id="A2.T2.6.25.23" class="ltx_tr">
<th id="A2.T2.6.25.23.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.25.23.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.25.23.2" class="ltx_td ltx_align_center">57.3</td>
<td id="A2.T2.6.25.23.3" class="ltx_td ltx_align_center ltx_border_r">56.8</td>
<td id="A2.T2.6.25.23.4" class="ltx_td ltx_align_center">58.2</td>
<td id="A2.T2.6.25.23.5" class="ltx_td ltx_align_center">57.5</td>
</tr>
<tr id="A2.T2.6.26.24" class="ltx_tr">
<th id="A2.T2.6.26.24.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.26.24.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.26.24.2" class="ltx_td ltx_align_center">54.0</td>
<td id="A2.T2.6.26.24.3" class="ltx_td ltx_align_center ltx_border_r">53.1</td>
<td id="A2.T2.6.26.24.4" class="ltx_td ltx_align_center">54.5</td>
<td id="A2.T2.6.26.24.5" class="ltx_td ltx_align_center">53.7</td>
</tr>
<tr id="A2.T2.6.27.25" class="ltx_tr">
<th id="A2.T2.6.27.25.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.27.25.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.27.25.2" class="ltx_td ltx_align_center">38.4</td>
<td id="A2.T2.6.27.25.3" class="ltx_td ltx_align_center ltx_border_r">38.2</td>
<td id="A2.T2.6.27.25.4" class="ltx_td ltx_align_center">42.6</td>
<td id="A2.T2.6.27.25.5" class="ltx_td ltx_align_center">40.9</td>
</tr>
<tr id="A2.T2.6.28.26" class="ltx_tr">
<th id="A2.T2.6.28.26.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t" rowspan="5"><span id="A2.T2.6.28.26.1.1" class="ltx_text">StackOverflow</span></th>
<th id="A2.T2.6.28.26.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T2.6.28.26.2.1" class="ltx_ERROR undefined">\nth</span>95</th>
<td id="A2.T2.6.28.26.3" class="ltx_td ltx_align_center ltx_border_t">31.0</td>
<td id="A2.T2.6.28.26.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.3</td>
<td id="A2.T2.6.28.26.5" class="ltx_td ltx_align_center ltx_border_t">31.8</td>
<td id="A2.T2.6.28.26.6" class="ltx_td ltx_align_center ltx_border_t">31.4</td>
</tr>
<tr id="A2.T2.6.29.27" class="ltx_tr">
<th id="A2.T2.6.29.27.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.29.27.1.1" class="ltx_ERROR undefined">\nth</span>75</th>
<td id="A2.T2.6.29.27.2" class="ltx_td ltx_align_center">27.7</td>
<td id="A2.T2.6.29.27.3" class="ltx_td ltx_align_center ltx_border_r">27.7</td>
<td id="A2.T2.6.29.27.4" class="ltx_td ltx_align_center">28.8</td>
<td id="A2.T2.6.29.27.5" class="ltx_td ltx_align_center">27.9</td>
</tr>
<tr id="A2.T2.6.30.28" class="ltx_tr">
<th id="A2.T2.6.30.28.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.30.28.1.1" class="ltx_ERROR undefined">\nth</span>50</th>
<td id="A2.T2.6.30.28.2" class="ltx_td ltx_align_center">25.6</td>
<td id="A2.T2.6.30.28.3" class="ltx_td ltx_align_center ltx_border_r">25.4</td>
<td id="A2.T2.6.30.28.4" class="ltx_td ltx_align_center">26.3</td>
<td id="A2.T2.6.30.28.5" class="ltx_td ltx_align_center">25.9</td>
</tr>
<tr id="A2.T2.6.31.29" class="ltx_tr">
<th id="A2.T2.6.31.29.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="A2.T2.6.31.29.1.1" class="ltx_ERROR undefined">\nth</span>25</th>
<td id="A2.T2.6.31.29.2" class="ltx_td ltx_align_center">23.5</td>
<td id="A2.T2.6.31.29.3" class="ltx_td ltx_align_center ltx_border_r">23.2</td>
<td id="A2.T2.6.31.29.4" class="ltx_td ltx_align_center">24.2</td>
<td id="A2.T2.6.31.29.5" class="ltx_td ltx_align_center">23.7</td>
</tr>
<tr id="A2.T2.6.32.30" class="ltx_tr">
<th id="A2.T2.6.32.30.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="A2.T2.6.32.30.1.1" class="ltx_ERROR undefined">\nth</span>5</th>
<td id="A2.T2.6.32.30.2" class="ltx_td ltx_align_center ltx_border_bb">20.1</td>
<td id="A2.T2.6.32.30.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">20.0</td>
<td id="A2.T2.6.32.30.4" class="ltx_td ltx_align_center ltx_border_bb">20.8</td>
<td id="A2.T2.6.32.30.5" class="ltx_td ltx_align_center ltx_border_bb">20.7</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Federated training progress at the <span id="A2.SS3.1.1" class="ltx_ERROR undefined">\nth</span>25 percentile acorss clients</h4>

<div id="A2.SS3.p1" class="ltx_para">
<p id="A2.SS3.p1.1" class="ltx_p">To further inspect the distribution of metrics across clients, we plot the <span id="A2.SS3.p1.1.1" class="ltx_ERROR undefined">\nth</span>25 percentile of accuracy across clients versus communication rounds (training progress). The results are shown in <a href="#A2.F10" title="In B.3 Federated training progress at the \nth25 percentile acorss clients ‣ Appendix B Additional Experimental Results ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
<figure id="A2.F10" class="ltx_figure"><img src="/html/2110.14216/assets/x12.png" id="A2.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="90" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F10.3.1.1" class="ltx_text" style="font-size:90%;">Figure 10</span>: </span><span id="A2.F10.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Accuracies of the client at the <span id="A2.F10.4.2.1" class="ltx_ERROR undefined">\nth</span>25 percentile versus the communication rounds.</span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h3 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Additional Details on Experimental Setup and Task-Specific Experiments</h3>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">In this section we provide details of the experimental setup, including dataset preparation/preprocessing, model choice and hyperparameter tuning. We also include task-specific experiments with ablations.</p>
</div>
<div id="A3.p2" class="ltx_para">
<p id="A3.p2.1" class="ltx_p">For every setting, unless otherwise stated, we tune the learning rate(s) to achieve the best sum of participating validation accuracy and unparticipating accuracy (so that the result will not be biased towards one of the accuracies).</p>
</div>
<section id="A3.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>EMNIST Hand-written Character Recognition Task</h4>

<section id="A3.SS1.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Federated Dataset Description and Proprocessing.</h6>

<div id="A3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS1.SSS0.Px1.p1.1" class="ltx_p">The EMNIST dataset <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Cohen et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>)</cite> is a hand-written character recognition dataset derived from the NIST Special Database 19 <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Grother and Flanagan</span>, <a href="#bib.bib27" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1995</span></a>)</cite>. We used the Federated version of EMNIST <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Caldas et al.</span>, <a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite> dataset, which is partitioned based on the writer identification. We consider both the full version (62 classes) as well as the numbers-only version (10 classes).
We adopt the federated EMNIST hosted by Tensorflow Federated (TFF). In TFF, federated EMNIST has a default intra-client split, namely all the clients appeared in both the “training” and “validation” dataset.
To construct a three-way split, we hold out 20% of the total clients as unparticipating clients. Within each participating client, we keep the original training/validation split, <span id="A3.SS1.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">i.e.,</span> the original training data that are assigned to participating clients will become participating training data. We tested the performance under various number of participating clients, as shown in <a href="#S5.F7" title="In 5.1 Effect of the number of participating clients ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">7</span></a>. The results reported in <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> are for the case with 272 participating clients.</p>
</div>
</section>
<section id="A3.SS1.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Model, Optimizer, and Hyperparameters.</h6>

<div id="A3.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS1.SSS0.Px2.p1.2" class="ltx_p">We train a shallow convolutional neural network with approximately one million trainable parameters as in <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>. For centralized training, we run 200 epochs of SGD with momentum = 0.9 with constant learning rate with batch size 50. The (centralized) learning rate is tuned from <math id="A3.SS1.SSS0.Px2.p1.1.m1.4" class="ltx_Math" alttext="\{10^{-2.5},10^{-2},\ldots,10^{-0.5}\}" display="inline"><semantics id="A3.SS1.SSS0.Px2.p1.1.m1.4a"><mrow id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml"><mo stretchy="false" id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.4" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml">{</mo><msup id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.cmml"><mn id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml"><mo id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3a" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml">−</mo><mn id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.2.cmml">2.5</mn></mrow></msup><mo id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.5" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><msup id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.cmml"><mn id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml"><mo id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3a" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml">−</mo><mn id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.6" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="A3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">…</mi><mo id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.7" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><msup id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.cmml"><mn id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.2.cmml">10</mn><mrow id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml"><mo id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3a" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml">−</mo><mn id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.2" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.2.cmml">0.5</mn></mrow></msup><mo stretchy="false" id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.8" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.SSS0.Px2.p1.1.m1.4b"><set id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.4.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3"><apply id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.2">10</cn><apply id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3"><minus id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3"></minus><cn type="float" id="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3.2">2.5</cn></apply></apply><apply id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.2">10</cn><apply id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3"><minus id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3"></minus><cn type="integer" id="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.3.3.2.2.3.2">2</cn></apply></apply><ci id="A3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.1.1">…</ci><apply id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.2">10</cn><apply id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3"><minus id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3"></minus><cn type="float" id="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.1.m1.4.4.3.3.3.2">0.5</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.SSS0.Px2.p1.1.m1.4c">\{10^{-2.5},10^{-2},\ldots,10^{-0.5}\}</annotation></semantics></math>.
For federated training, we run 3000 rounds of <span id="A3.SS1.SSS0.Px2.p1.2.1" class="ltx_text ltx_font_smallcaps">FedAvgM</span> <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> with server momentum = 0.9 and constant server and client learning rates. For each communication round, we uniformly sample 20 clients to train for 1 epoch with client batch size 20. The client and server learning rates are both tuned from <math id="A3.SS1.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="\{10^{-2},10^{-1.5},\ldots,1\}" display="inline"><semantics id="A3.SS1.SSS0.Px2.p1.2.m2.4a"><mrow id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml"><mo stretchy="false" id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.3" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml">{</mo><msup id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.cmml"><mn id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml">10</mn><mrow id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml"><mo id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3a" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml">−</mo><mn id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.4" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><msup id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.cmml"><mn id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml">10</mn><mrow id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml"><mo id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3a" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml">−</mo><mn id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.5" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><mi mathvariant="normal" id="A3.SS1.SSS0.Px2.p1.2.m2.1.1" xref="A3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml">…</mi><mo id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.6" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><mn id="A3.SS1.SSS0.Px2.p1.2.m2.2.2" xref="A3.SS1.SSS0.Px2.p1.2.m2.2.2.cmml">1</mn><mo stretchy="false" id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.7" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.SSS0.Px2.p1.2.m2.4b"><set id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.3.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2"><apply id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1">superscript</csymbol><cn type="integer" id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.2">10</cn><apply id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3"><minus id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3"></minus><cn type="integer" id="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.3.3.1.1.3.2">2</cn></apply></apply><apply id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2"><csymbol cd="ambiguous" id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2">superscript</csymbol><cn type="integer" id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.2">10</cn><apply id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3"><minus id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3"></minus><cn type="float" id="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.4.4.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.1.1">…</ci><cn type="integer" id="A3.SS1.SSS0.Px2.p1.2.m2.2.2.cmml" xref="A3.SS1.SSS0.Px2.p1.2.m2.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.SSS0.Px2.p1.2.m2.4c">\{10^{-2},10^{-1.5},\ldots,1\}</annotation></semantics></math>.</p>
</div>
</section>
<section id="A3.SS1.SSS1" class="ltx_subsubsection">
<h5 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.1.1 </span>Consistency across various hyperparameters choices</h5>

<div id="A3.SS1.SSS1.p1" class="ltx_para">
<p id="A3.SS1.SSS1.p1.1" class="ltx_p">In <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>, we only presented the best hyperparameter choice (learning rate combinations). In this subsubsection, we show that the pattern of generalization gap is consistent across various hyperparameter choices. The result is shown in <a href="#A3.F11" title="In C.1.1 Consistency across various hyperparameters choices ‣ C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">11</span></a>.</p>
</div>
<figure id="A3.F11" class="ltx_figure"><img src="/html/2110.14216/assets/x13.png" id="A3.F11.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="134" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F11.7.3.1" class="ltx_text" style="font-size:90%;">Figure 11</span>: </span><span id="A3.F11.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Consistency of participation gaps across hyperparameter choice (learning rates configuration).<span id="A3.F11.4.2.2" class="ltx_text ltx_font_medium">
We present the best four (4) combination of learning rates for federated training of EMNIST-10. Here <math id="A3.F11.3.1.1.m1.1" class="ltx_Math" alttext="\eta_{c}" display="inline"><semantics id="A3.F11.3.1.1.m1.1b"><msub id="A3.F11.3.1.1.m1.1.1" xref="A3.F11.3.1.1.m1.1.1.cmml"><mi id="A3.F11.3.1.1.m1.1.1.2" xref="A3.F11.3.1.1.m1.1.1.2.cmml">η</mi><mi id="A3.F11.3.1.1.m1.1.1.3" xref="A3.F11.3.1.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F11.3.1.1.m1.1c"><apply id="A3.F11.3.1.1.m1.1.1.cmml" xref="A3.F11.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F11.3.1.1.m1.1.1.1.cmml" xref="A3.F11.3.1.1.m1.1.1">subscript</csymbol><ci id="A3.F11.3.1.1.m1.1.1.2.cmml" xref="A3.F11.3.1.1.m1.1.1.2">𝜂</ci><ci id="A3.F11.3.1.1.m1.1.1.3.cmml" xref="A3.F11.3.1.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F11.3.1.1.m1.1d">\eta_{c}</annotation></semantics></math> stands for client learning rate, and <math id="A3.F11.4.2.2.m2.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="A3.F11.4.2.2.m2.1b"><msub id="A3.F11.4.2.2.m2.1.1" xref="A3.F11.4.2.2.m2.1.1.cmml"><mi id="A3.F11.4.2.2.m2.1.1.2" xref="A3.F11.4.2.2.m2.1.1.2.cmml">η</mi><mi id="A3.F11.4.2.2.m2.1.1.3" xref="A3.F11.4.2.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F11.4.2.2.m2.1c"><apply id="A3.F11.4.2.2.m2.1.1.cmml" xref="A3.F11.4.2.2.m2.1.1"><csymbol cd="ambiguous" id="A3.F11.4.2.2.m2.1.1.1.cmml" xref="A3.F11.4.2.2.m2.1.1">subscript</csymbol><ci id="A3.F11.4.2.2.m2.1.1.2.cmml" xref="A3.F11.4.2.2.m2.1.1.2">𝜂</ci><ci id="A3.F11.4.2.2.m2.1.1.3.cmml" xref="A3.F11.4.2.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F11.4.2.2.m2.1d">\eta_{s}</annotation></semantics></math> stands for server learning rate.
We observe that the participation gap is consistent across various configurations of learning rates.</span></span></figcaption>
</figure>
</section>
<section id="A3.SS1.SSS2" class="ltx_subsubsection">
<h5 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.1.2 </span>Effect of multiple local epochs per communication round</h5>

<div id="A3.SS1.SSS2.p1" class="ltx_para">
<p id="A3.SS1.SSS2.p1.1" class="ltx_p">In the main experiments we by default let each sampled client run one local epoch every communication round. In this subsubsection, we evaluate the effect of multiple local epochs on the generalization performance. The result is shown in <a href="#A3.F12" title="In C.1.2 Effect of multiple local epochs per communication round ‣ C.1 EMNIST Hand-written Character Recognition Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">12</span></a>.</p>
</div>
<figure id="A3.F12" class="ltx_figure"><img src="/html/2110.14216/assets/x14.png" id="A3.F12.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="153" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F12.3.1.1" class="ltx_text" style="font-size:90%;">Figure 12</span>: </span><span id="A3.F12.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of multiple client epochs per round on EMNIST-62.<span id="A3.F12.4.2.1" class="ltx_text ltx_font_medium">
We repeat the experiment on EMNIST-62 but instead let each sampled client run multiple local epochs per communication round. The other settings (including the total communication rounds) remain the same.
We observe that the participation gap is consistent across various settings of local epochs.</span></span></figcaption>
</figure>
</section>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>CIFAR 10/100 Image Classification Task</h4>

<section id="A3.SS2.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Federated Dataset Preprocessing.</h6>

<div id="A3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px1.p1.1" class="ltx_p">The CIFAR-10 and CIFAR-100 datasets <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Krizhevsky et al.</span>, <a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2009</span></a>)</cite> are datasets of natural images distributed into 10 and 100 classes respectively.
Since the dataset does not come with user assignment, we first shuffle the original dataset and assign to clients by applying our proposed semantic synthesized partitioning.
The CIFAR-10 and CIFAR-100 dataset are partitioned into 300 and 100 clients, respectively.
For three-way split, we hold out 20% (60 for CIFAR-10, 20 for CIFAR-100) clients as unparticipating clients, and leave the remaining client as participating clients. Within each participating client, we hold out 20% of data as (participating) validation data.</p>
</div>
</section>
<section id="A3.SS2.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Model, Optimizer, and Hyperparameters</h6>

<div id="A3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px2.p1.3" class="ltx_p">We train a ResNet-18 <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">He et al.</span>, <a href="#bib.bib34" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2016</span></a>)</cite> in which the batch normalization is replaced by group normalization <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Wu and He</span>, <a href="#bib.bib85" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>)</cite> for improved stability in federated setting, as recommended by <cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text" style="font-size:90%;">Hsieh et al.</span> (<a href="#bib.bib36" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite>.
For centralized training, we run 200 epochs of SGD with momentum = 0.9 with batch size 50, and decay the learning rate by 5x every 60 epochs. The initial learning rate is tuned from <math id="A3.SS2.SSS0.Px2.p1.1.m1.4" class="ltx_Math" alttext="\{10^{-2.5},10^{-2},\ldots,10^{-0.5}\}" display="inline"><semantics id="A3.SS2.SSS0.Px2.p1.1.m1.4a"><mrow id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml"><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.4" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml">{</mo><msup id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.cmml"><mn id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3a" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.2.cmml">2.5</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.5" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><msup id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.cmml"><mn id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3a" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.6" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS2.SSS0.Px2.p1.1.m1.1.1" xref="A3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">…</mi><mo id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.7" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml">,</mo><msup id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.cmml"><mn id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3a" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.2" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.2.cmml">0.5</mn></mrow></msup><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.8" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS0.Px2.p1.1.m1.4b"><set id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.4.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3"><apply id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3"><minus id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3"></minus><cn type="float" id="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.2.2.1.1.3.2">2.5</cn></apply></apply><apply id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3"><minus id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3"></minus><cn type="integer" id="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.3.3.2.2.3.2">2</cn></apply></apply><ci id="A3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.1.1">…</ci><apply id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3"><minus id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3"></minus><cn type="float" id="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.1.m1.4.4.3.3.3.2">0.5</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS0.Px2.p1.1.m1.4c">\{10^{-2.5},10^{-2},\ldots,10^{-0.5}\}</annotation></semantics></math>.
For federated training, we run 2,000 rounds of <span id="A3.SS2.SSS0.Px2.p1.3.1" class="ltx_text ltx_font_smallcaps">FedAvgM</span> <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> with server momentum = 0.9, and decay the server learning rate by 5x every 600 communication rounds.
For each communication round, we uniformly sample 10 clients (for CIFAR-100) or 30 clients (for CIFAR-10), and let each client train for 1 local epoch with batch size 20. The client learning rate is tuned from <math id="A3.SS2.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="\{10^{-2},10^{-1.5},\ldots,1\}" display="inline"><semantics id="A3.SS2.SSS0.Px2.p1.2.m2.4a"><mrow id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml"><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.3" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml">{</mo><msup id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.cmml"><mn id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3a" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.4" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><msup id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.cmml"><mn id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3a" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.5" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><mi mathvariant="normal" id="A3.SS2.SSS0.Px2.p1.2.m2.1.1" xref="A3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">…</mi><mo id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.6" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml">,</mo><mn id="A3.SS2.SSS0.Px2.p1.2.m2.2.2" xref="A3.SS2.SSS0.Px2.p1.2.m2.2.2.cmml">1</mn><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.7" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS0.Px2.p1.2.m2.4b"><set id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.3.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2"><apply id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3"><minus id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3"></minus><cn type="integer" id="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.3.3.1.1.3.2">2</cn></apply></apply><apply id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3"><minus id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3"></minus><cn type="float" id="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.4.4.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.1.1">…</ci><cn type="integer" id="A3.SS2.SSS0.Px2.p1.2.m2.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.2.m2.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS0.Px2.p1.2.m2.4c">\{10^{-2},10^{-1.5},\ldots,1\}</annotation></semantics></math>; the server learning rate is tuned from <math id="A3.SS2.SSS0.Px2.p1.3.m3.4" class="ltx_Math" alttext="\{10^{-1.5},10^{-1},\ldots,10^{0.5}\}" display="inline"><semantics id="A3.SS2.SSS0.Px2.p1.3.m3.4a"><mrow id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml"><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.4" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml">{</mo><msup id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.cmml"><mn id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3a" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.5" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml">,</mo><msup id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.cmml"><mn id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.cmml"><mo id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3a" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.cmml">−</mo><mn id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.2.cmml">1</mn></mrow></msup><mo id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.6" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS2.SSS0.Px2.p1.3.m3.1.1" xref="A3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">…</mi><mo id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.7" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml">,</mo><msup id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.cmml"><mn id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.2" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.2.cmml">10</mn><mn id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.3" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.3.cmml">0.5</mn></msup><mo stretchy="false" id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.8" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS0.Px2.p1.3.m3.4b"><set id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.4.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3"><apply id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3"><minus id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3"></minus><cn type="float" id="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3.2">1.5</cn></apply></apply><apply id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.2">10</cn><apply id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3"><minus id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3"></minus><cn type="integer" id="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.3.3.2.2.3.2">1</cn></apply></apply><ci id="A3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.1.1">…</ci><apply id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.1.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.2.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.2">10</cn><cn type="float" id="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.3.cmml" xref="A3.SS2.SSS0.Px2.p1.3.m3.4.4.3.3.3">0.5</cn></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS0.Px2.p1.3.m3.4c">\{10^{-1.5},10^{-1},\ldots,10^{0.5}\}</annotation></semantics></math>.</p>
</div>
</section>
<section id="A3.SS2.SSS1" class="ltx_subsubsection">
<h5 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.2.1 </span>Consistency across various hyperparameters choice</h5>

<div id="A3.SS2.SSS1.p1" class="ltx_para">
<p id="A3.SS2.SSS1.p1.1" class="ltx_p">In the main result <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> we only present the best hyperparameter choice (learning rate combinations). In this subsubsection, we show that the pattern of generalization gap is consistent across hyperparameter choice. The result is shown in <a href="#A3.F13" title="In C.2.1 Consistency across various hyperparameters choice ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figures</span> <span class="ltx_text ltx_ref_tag">13</span></a> and <a href="#A3.F14" title="Figure 14 ‣ C.2.1 Consistency across various hyperparameters choice ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>.</p>
</div>
<figure id="A3.F13" class="ltx_figure"><img src="/html/2110.14216/assets/x15.png" id="A3.F13.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="134" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F13.7.3.1" class="ltx_text" style="font-size:90%;">Figure 13</span>: </span><span id="A3.F13.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Consistency of participation gaps across hyperparameter choice (learning rates configuration).<span id="A3.F13.4.2.2" class="ltx_text ltx_font_medium">
We present the best four (4) combination of learning rates for federated training of CIFAR-10. Here <math id="A3.F13.3.1.1.m1.1" class="ltx_Math" alttext="\eta_{c}" display="inline"><semantics id="A3.F13.3.1.1.m1.1b"><msub id="A3.F13.3.1.1.m1.1.1" xref="A3.F13.3.1.1.m1.1.1.cmml"><mi id="A3.F13.3.1.1.m1.1.1.2" xref="A3.F13.3.1.1.m1.1.1.2.cmml">η</mi><mi id="A3.F13.3.1.1.m1.1.1.3" xref="A3.F13.3.1.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F13.3.1.1.m1.1c"><apply id="A3.F13.3.1.1.m1.1.1.cmml" xref="A3.F13.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F13.3.1.1.m1.1.1.1.cmml" xref="A3.F13.3.1.1.m1.1.1">subscript</csymbol><ci id="A3.F13.3.1.1.m1.1.1.2.cmml" xref="A3.F13.3.1.1.m1.1.1.2">𝜂</ci><ci id="A3.F13.3.1.1.m1.1.1.3.cmml" xref="A3.F13.3.1.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F13.3.1.1.m1.1d">\eta_{c}</annotation></semantics></math> stands for client learning rate, and <math id="A3.F13.4.2.2.m2.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="A3.F13.4.2.2.m2.1b"><msub id="A3.F13.4.2.2.m2.1.1" xref="A3.F13.4.2.2.m2.1.1.cmml"><mi id="A3.F13.4.2.2.m2.1.1.2" xref="A3.F13.4.2.2.m2.1.1.2.cmml">η</mi><mi id="A3.F13.4.2.2.m2.1.1.3" xref="A3.F13.4.2.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F13.4.2.2.m2.1c"><apply id="A3.F13.4.2.2.m2.1.1.cmml" xref="A3.F13.4.2.2.m2.1.1"><csymbol cd="ambiguous" id="A3.F13.4.2.2.m2.1.1.1.cmml" xref="A3.F13.4.2.2.m2.1.1">subscript</csymbol><ci id="A3.F13.4.2.2.m2.1.1.2.cmml" xref="A3.F13.4.2.2.m2.1.1.2">𝜂</ci><ci id="A3.F13.4.2.2.m2.1.1.3.cmml" xref="A3.F13.4.2.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F13.4.2.2.m2.1d">\eta_{s}</annotation></semantics></math> stands for server learning rate.
We observe that the participation gap is largely consistent across various configurations of learning rates.</span></span></figcaption>
</figure>
<figure id="A3.F14" class="ltx_figure"><img src="/html/2110.14216/assets/x16.png" id="A3.F14.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="134" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F14.7.3.1" class="ltx_text" style="font-size:90%;">Figure 14</span>: </span><span id="A3.F14.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Consistency of participation gaps across hyperparameter choice (learning rates configuration).<span id="A3.F14.4.2.2" class="ltx_text ltx_font_medium">
We present the best four (4) combination of learning rates for federated training of CIFAR-100. Here <math id="A3.F14.3.1.1.m1.1" class="ltx_Math" alttext="\eta_{c}" display="inline"><semantics id="A3.F14.3.1.1.m1.1b"><msub id="A3.F14.3.1.1.m1.1.1" xref="A3.F14.3.1.1.m1.1.1.cmml"><mi id="A3.F14.3.1.1.m1.1.1.2" xref="A3.F14.3.1.1.m1.1.1.2.cmml">η</mi><mi id="A3.F14.3.1.1.m1.1.1.3" xref="A3.F14.3.1.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F14.3.1.1.m1.1c"><apply id="A3.F14.3.1.1.m1.1.1.cmml" xref="A3.F14.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F14.3.1.1.m1.1.1.1.cmml" xref="A3.F14.3.1.1.m1.1.1">subscript</csymbol><ci id="A3.F14.3.1.1.m1.1.1.2.cmml" xref="A3.F14.3.1.1.m1.1.1.2">𝜂</ci><ci id="A3.F14.3.1.1.m1.1.1.3.cmml" xref="A3.F14.3.1.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F14.3.1.1.m1.1d">\eta_{c}</annotation></semantics></math> stands for client learning rate, and <math id="A3.F14.4.2.2.m2.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="A3.F14.4.2.2.m2.1b"><msub id="A3.F14.4.2.2.m2.1.1" xref="A3.F14.4.2.2.m2.1.1.cmml"><mi id="A3.F14.4.2.2.m2.1.1.2" xref="A3.F14.4.2.2.m2.1.1.2.cmml">η</mi><mi id="A3.F14.4.2.2.m2.1.1.3" xref="A3.F14.4.2.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="A3.F14.4.2.2.m2.1c"><apply id="A3.F14.4.2.2.m2.1.1.cmml" xref="A3.F14.4.2.2.m2.1.1"><csymbol cd="ambiguous" id="A3.F14.4.2.2.m2.1.1.1.cmml" xref="A3.F14.4.2.2.m2.1.1">subscript</csymbol><ci id="A3.F14.4.2.2.m2.1.1.2.cmml" xref="A3.F14.4.2.2.m2.1.1.2">𝜂</ci><ci id="A3.F14.4.2.2.m2.1.1.3.cmml" xref="A3.F14.4.2.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F14.4.2.2.m2.1d">\eta_{s}</annotation></semantics></math> stands for server learning rate.
We observe that the participation gap is consistent across various configurations of learning rates.</span></span></figcaption>
</figure>
</section>
<section id="A3.SS2.SSS2" class="ltx_subsubsection">
<h5 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.2.2 </span>Effect of Weight Decay Strength</h5>

<div id="A3.SS2.SSS2.p1" class="ltx_para">
<p id="A3.SS2.SSS2.p1.3" class="ltx_p">In the main experiments we by default set the weight decay of ResNet-18 to be <math id="A3.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="10^{-4}" display="inline"><semantics id="A3.SS2.SSS2.p1.1.m1.1a"><msup id="A3.SS2.SSS2.p1.1.m1.1.1" xref="A3.SS2.SSS2.p1.1.m1.1.1.cmml"><mn id="A3.SS2.SSS2.p1.1.m1.1.1.2" xref="A3.SS2.SSS2.p1.1.m1.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS2.p1.1.m1.1.1.3" xref="A3.SS2.SSS2.p1.1.m1.1.1.3.cmml"><mo id="A3.SS2.SSS2.p1.1.m1.1.1.3a" xref="A3.SS2.SSS2.p1.1.m1.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS2.p1.1.m1.1.1.3.2" xref="A3.SS2.SSS2.p1.1.m1.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS2.p1.1.m1.1b"><apply id="A3.SS2.SSS2.p1.1.m1.1.1.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS2.p1.1.m1.1.1.1.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS2.p1.1.m1.1.1.2.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1.2">10</cn><apply id="A3.SS2.SSS2.p1.1.m1.1.1.3.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1.3"><minus id="A3.SS2.SSS2.p1.1.m1.1.1.3.1.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1.3"></minus><cn type="integer" id="A3.SS2.SSS2.p1.1.m1.1.1.3.2.cmml" xref="A3.SS2.SSS2.p1.1.m1.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS2.p1.1.m1.1c">10^{-4}</annotation></semantics></math>.
In this subsubsection, we experiment various other options of weight decay from <math id="A3.SS2.SSS2.p1.2.m2.1" class="ltx_Math" alttext="10^{-5}" display="inline"><semantics id="A3.SS2.SSS2.p1.2.m2.1a"><msup id="A3.SS2.SSS2.p1.2.m2.1.1" xref="A3.SS2.SSS2.p1.2.m2.1.1.cmml"><mn id="A3.SS2.SSS2.p1.2.m2.1.1.2" xref="A3.SS2.SSS2.p1.2.m2.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS2.p1.2.m2.1.1.3" xref="A3.SS2.SSS2.p1.2.m2.1.1.3.cmml"><mo id="A3.SS2.SSS2.p1.2.m2.1.1.3a" xref="A3.SS2.SSS2.p1.2.m2.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS2.p1.2.m2.1.1.3.2" xref="A3.SS2.SSS2.p1.2.m2.1.1.3.2.cmml">5</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS2.p1.2.m2.1b"><apply id="A3.SS2.SSS2.p1.2.m2.1.1.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS2.p1.2.m2.1.1.2.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1.2">10</cn><apply id="A3.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1.3"><minus id="A3.SS2.SSS2.p1.2.m2.1.1.3.1.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1.3"></minus><cn type="integer" id="A3.SS2.SSS2.p1.2.m2.1.1.3.2.cmml" xref="A3.SS2.SSS2.p1.2.m2.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS2.p1.2.m2.1c">10^{-5}</annotation></semantics></math> to <math id="A3.SS2.SSS2.p1.3.m3.1" class="ltx_Math" alttext="10^{-2}" display="inline"><semantics id="A3.SS2.SSS2.p1.3.m3.1a"><msup id="A3.SS2.SSS2.p1.3.m3.1.1" xref="A3.SS2.SSS2.p1.3.m3.1.1.cmml"><mn id="A3.SS2.SSS2.p1.3.m3.1.1.2" xref="A3.SS2.SSS2.p1.3.m3.1.1.2.cmml">10</mn><mrow id="A3.SS2.SSS2.p1.3.m3.1.1.3" xref="A3.SS2.SSS2.p1.3.m3.1.1.3.cmml"><mo id="A3.SS2.SSS2.p1.3.m3.1.1.3a" xref="A3.SS2.SSS2.p1.3.m3.1.1.3.cmml">−</mo><mn id="A3.SS2.SSS2.p1.3.m3.1.1.3.2" xref="A3.SS2.SSS2.p1.3.m3.1.1.3.2.cmml">2</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.SS2.SSS2.p1.3.m3.1b"><apply id="A3.SS2.SSS2.p1.3.m3.1.1.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A3.SS2.SSS2.p1.3.m3.1.1.1.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1">superscript</csymbol><cn type="integer" id="A3.SS2.SSS2.p1.3.m3.1.1.2.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1.2">10</cn><apply id="A3.SS2.SSS2.p1.3.m3.1.1.3.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1.3"><minus id="A3.SS2.SSS2.p1.3.m3.1.1.3.1.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1.3"></minus><cn type="integer" id="A3.SS2.SSS2.p1.3.m3.1.1.3.2.cmml" xref="A3.SS2.SSS2.p1.3.m3.1.1.3.2">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.SSS2.p1.3.m3.1c">10^{-2}</annotation></semantics></math></p>
</div>
<div id="A3.SS2.SSS2.p2" class="ltx_para">
<p id="A3.SS2.SSS2.p2.1" class="ltx_p">The result is shown in <a href="#A3.F15" title="In C.2.2 Effect of Weight Decay Strength ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">15</span></a>.</p>
</div>
<figure id="A3.F15" class="ltx_figure"><img src="/html/2110.14216/assets/x17.png" id="A3.F15.g1" class="ltx_graphics ltx_img_landscape" width="230" height="153" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A3.F15.8.4.1" class="ltx_text" style="font-size:90%;">Figure 15</span>: </span><span id="A3.F15.6.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of <math id="A3.F15.4.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="A3.F15.4.1.m1.1b"><msub id="A3.F15.4.1.m1.1.1" xref="A3.F15.4.1.m1.1.1.cmml"><mi mathvariant="normal" id="A3.F15.4.1.m1.1.1.2" xref="A3.F15.4.1.m1.1.1.2.cmml">ℓ</mi><mn id="A3.F15.4.1.m1.1.1.3" xref="A3.F15.4.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A3.F15.4.1.m1.1c"><apply id="A3.F15.4.1.m1.1.1.cmml" xref="A3.F15.4.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F15.4.1.m1.1.1.1.cmml" xref="A3.F15.4.1.m1.1.1">subscript</csymbol><ci id="A3.F15.4.1.m1.1.1.2.cmml" xref="A3.F15.4.1.m1.1.1.2">ℓ</ci><cn type="integer" id="A3.F15.4.1.m1.1.1.3.cmml" xref="A3.F15.4.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F15.4.1.m1.1d">\ell_{2}</annotation></semantics></math> weight decay on CIFAR-100 training.<span id="A3.F15.6.3.2" class="ltx_text ltx_font_medium">
We federated train the ResNet-18 networks for CIFAR-100 with various levels of weight decay ranging from <math id="A3.F15.5.2.1.m1.1" class="ltx_Math" alttext="10^{-5}" display="inline"><semantics id="A3.F15.5.2.1.m1.1b"><msup id="A3.F15.5.2.1.m1.1.1" xref="A3.F15.5.2.1.m1.1.1.cmml"><mn id="A3.F15.5.2.1.m1.1.1.2" xref="A3.F15.5.2.1.m1.1.1.2.cmml">10</mn><mrow id="A3.F15.5.2.1.m1.1.1.3" xref="A3.F15.5.2.1.m1.1.1.3.cmml"><mo id="A3.F15.5.2.1.m1.1.1.3b" xref="A3.F15.5.2.1.m1.1.1.3.cmml">−</mo><mn id="A3.F15.5.2.1.m1.1.1.3.2" xref="A3.F15.5.2.1.m1.1.1.3.2.cmml">5</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.F15.5.2.1.m1.1c"><apply id="A3.F15.5.2.1.m1.1.1.cmml" xref="A3.F15.5.2.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F15.5.2.1.m1.1.1.1.cmml" xref="A3.F15.5.2.1.m1.1.1">superscript</csymbol><cn type="integer" id="A3.F15.5.2.1.m1.1.1.2.cmml" xref="A3.F15.5.2.1.m1.1.1.2">10</cn><apply id="A3.F15.5.2.1.m1.1.1.3.cmml" xref="A3.F15.5.2.1.m1.1.1.3"><minus id="A3.F15.5.2.1.m1.1.1.3.1.cmml" xref="A3.F15.5.2.1.m1.1.1.3"></minus><cn type="integer" id="A3.F15.5.2.1.m1.1.1.3.2.cmml" xref="A3.F15.5.2.1.m1.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F15.5.2.1.m1.1d">10^{-5}</annotation></semantics></math> to <math id="A3.F15.6.3.2.m2.1" class="ltx_Math" alttext="10^{-2}" display="inline"><semantics id="A3.F15.6.3.2.m2.1b"><msup id="A3.F15.6.3.2.m2.1.1" xref="A3.F15.6.3.2.m2.1.1.cmml"><mn id="A3.F15.6.3.2.m2.1.1.2" xref="A3.F15.6.3.2.m2.1.1.2.cmml">10</mn><mrow id="A3.F15.6.3.2.m2.1.1.3" xref="A3.F15.6.3.2.m2.1.1.3.cmml"><mo id="A3.F15.6.3.2.m2.1.1.3b" xref="A3.F15.6.3.2.m2.1.1.3.cmml">−</mo><mn id="A3.F15.6.3.2.m2.1.1.3.2" xref="A3.F15.6.3.2.m2.1.1.3.2.cmml">2</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.F15.6.3.2.m2.1c"><apply id="A3.F15.6.3.2.m2.1.1.cmml" xref="A3.F15.6.3.2.m2.1.1"><csymbol cd="ambiguous" id="A3.F15.6.3.2.m2.1.1.1.cmml" xref="A3.F15.6.3.2.m2.1.1">superscript</csymbol><cn type="integer" id="A3.F15.6.3.2.m2.1.1.2.cmml" xref="A3.F15.6.3.2.m2.1.1.2">10</cn><apply id="A3.F15.6.3.2.m2.1.1.3.cmml" xref="A3.F15.6.3.2.m2.1.1.3"><minus id="A3.F15.6.3.2.m2.1.1.3.1.cmml" xref="A3.F15.6.3.2.m2.1.1.3"></minus><cn type="integer" id="A3.F15.6.3.2.m2.1.1.3.2.cmml" xref="A3.F15.6.3.2.m2.1.1.3.2">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F15.6.3.2.m2.1d">10^{-2}</annotation></semantics></math>.
We observe that a moderate scale of weight decay might improve the unparticipating accuracy and therefore decrease the participation gap.
However, an overlarge weight decay might hurt both participating validation and unparticipating performance.
</span></span></figcaption>
</figure>
</section>
<section id="A3.SS2.SSS3" class="ltx_subsubsection">
<h5 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.2.3 </span>Effect of Model Depth</h5>

<div id="A3.SS2.SSS3.p1" class="ltx_para">
<p id="A3.SS2.SSS3.p1.1" class="ltx_p">In the main experiments we by default train a ResNet-18 for the CIFAR task.
In this subsubsection, we experiment a deeper model (ResNet-50) for the CIFAR-100.
The result is shown in <a href="#A3.F16" title="In C.2.3 Effect of Model Depth ‣ C.2 CIFAR 10/100 Image Classification Task ‣ Appendix C Additional Details on Experimental Setup and Task-Specific Experiments ‣ Appendices ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">16</span></a>.</p>
</div>
<figure id="A3.F16" class="ltx_figure"><img src="/html/2110.14216/assets/x18.png" id="A3.F16.g1" class="ltx_graphics ltx_img_landscape" width="230" height="115" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A3.F16.3.1.1" class="ltx_text" style="font-size:90%;">Figure 16</span>: </span><span id="A3.F16.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of a deeper ResNet on CIFAR-100 training.<span id="A3.F16.4.2.1" class="ltx_text ltx_font_medium">
We federatedly train a ResNet-50 for CIFAR-100 to compare with our default choice (ResNet-18). We apply a constant learning rate (instead of step decay learning rate) for easy comparison.
We observe that while using a deeper model improves the overall accuracy, the participation gap is still reasonably large for ResNet-50.</span></span></figcaption>
</figure>
</section>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Shakespeare Next Character Prediction Task</h4>

<section id="A3.SS3.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Federated Dataset Description and Preprocessing.</h6>

<div id="A3.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS3.SSS0.Px1.p1.1" class="ltx_p">The Shakespeare dataset <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Caldas et al.</span>, <a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2019</span></a>)</cite> is a next character prediction dataset containing lines from <span id="A3.SS3.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">the Complete Works of William Shakespeare</span> where each client is a different character from one of the plays.
We adopt the federated shakespeare dataset hosted by Tensorflow Federated (TFF).
In TFF, the federated shakespeare dataset was by default split intra-cliently, namely all the clients appeared in both the “training” and “validation” dataset.
To construct a three-way split, we hold out 20% of the total clients as unparticipating clients, and leave the remaining (80%) clients as participating clients (which gives the result reported in <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>).
Within each participating client, we keep the original training/validation split, e.g., the original training data that are assigned to these participating clients will become participating training data.
We also tested the performance under other numbers of participating clients, as shown in <a href="#S5.F7" title="In 5.1 Effect of the number of participating clients ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
<section id="A3.SS3.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Model, Optimizer, and Hyperparameters</h6>

<div id="A3.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS3.SSS0.Px2.p1.4" class="ltx_p">We train the same recurrent neural network as in <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.
For centralized training, we run 30 epochs of Adam (with <math id="A3.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\epsilon=10^{-4}" display="inline"><semantics id="A3.SS3.SSS0.Px2.p1.1.m1.1a"><mrow id="A3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.2" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml">ϵ</mi><mo id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.1" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><msup id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mn id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3a" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.SSS0.Px2.p1.1.m1.1b"><apply id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1"><eq id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.2">italic-ϵ</ci><apply id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3"><minus id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.SSS0.Px2.p1.1.m1.1c">\epsilon=10^{-4}</annotation></semantics></math>) with batch size 20. We tune the centralized learning rate from <math id="A3.SS3.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="\{10^{-3},10^{-2.5},\ldots,10^{-1}\}" display="inline"><semantics id="A3.SS3.SSS0.Px2.p1.2.m2.4a"><mrow id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml"><mo stretchy="false" id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.4" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml">{</mo><msup id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.cmml"><mn id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3a" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.2.cmml">3</mn></mrow></msup><mo id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.5" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><msup id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.cmml"><mn id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3a" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.2.cmml">2.5</mn></mrow></msup><mo id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.6" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS3.SSS0.Px2.p1.2.m2.1.1" xref="A3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml">…</mi><mo id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.7" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><msup id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.cmml"><mn id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3a" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.2" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.2.cmml">1</mn></mrow></msup><mo stretchy="false" id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.8" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.SSS0.Px2.p1.2.m2.4b"><set id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.4.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3"><apply id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3"><minus id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3"></minus><cn type="integer" id="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.2.2.1.1.3.2">3</cn></apply></apply><apply id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3"><minus id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3"></minus><cn type="float" id="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.3.3.2.2.3.2">2.5</cn></apply></apply><ci id="A3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.1.1">…</ci><apply id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3"><minus id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3"></minus><cn type="integer" id="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.2.m2.4.4.3.3.3.2">1</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.SSS0.Px2.p1.2.m2.4c">\{10^{-3},10^{-2.5},\ldots,10^{-1}\}</annotation></semantics></math>.
For federated training, we run 3,000 rounds of <span id="A3.SS3.SSS0.Px2.p1.4.1" class="ltx_text ltx_font_smallcaps">FedAdam</span> <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> with server <math id="A3.SS3.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\epsilon=10^{-4}" display="inline"><semantics id="A3.SS3.SSS0.Px2.p1.3.m3.1a"><mrow id="A3.SS3.SSS0.Px2.p1.3.m3.1.1" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.2" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml">ϵ</mi><mo id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.1" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.1.cmml">=</mo><msup id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mn id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3a" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.2" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.SSS0.Px2.p1.3.m3.1b"><apply id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1"><eq id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.1"></eq><ci id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.2">italic-ϵ</ci><apply id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3"><minus id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.SSS0.Px2.p1.3.m3.1c">\epsilon=10^{-4}</annotation></semantics></math>.
For each communictaion round, we uniformly sample 10 clients, and let each client train for 1 local epoch with batch size 10. Both client and server learning rates are tuned from <math id="A3.SS3.SSS0.Px2.p1.4.m4.4" class="ltx_Math" alttext="\{10^{-2},10^{-1.5},\ldots,1\}" display="inline"><semantics id="A3.SS3.SSS0.Px2.p1.4.m4.4a"><mrow id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml"><mo stretchy="false" id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.3" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml">{</mo><msup id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.cmml"><mn id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3a" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.4" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><msup id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.cmml"><mn id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.2.cmml">10</mn><mrow id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml"><mo id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3a" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml">−</mo><mn id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.5" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><mi mathvariant="normal" id="A3.SS3.SSS0.Px2.p1.4.m4.1.1" xref="A3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml">…</mi><mo id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.6" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><mn id="A3.SS3.SSS0.Px2.p1.4.m4.2.2" xref="A3.SS3.SSS0.Px2.p1.4.m4.2.2.cmml">1</mn><mo stretchy="false" id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.7" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.SSS0.Px2.p1.4.m4.4b"><set id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.3.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2"><apply id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3"><minus id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3"></minus><cn type="integer" id="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.3.3.1.1.3.2">2</cn></apply></apply><apply id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2"><csymbol cd="ambiguous" id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2">superscript</csymbol><cn type="integer" id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.2">10</cn><apply id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3"><minus id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3"></minus><cn type="float" id="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.4.4.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.1.1">…</ci><cn type="integer" id="A3.SS3.SSS0.Px2.p1.4.m4.2.2.cmml" xref="A3.SS3.SSS0.Px2.p1.4.m4.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.SSS0.Px2.p1.4.m4.4c">\{10^{-2},10^{-1.5},\ldots,1\}</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="A3.SS4" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>Stackoverflow Next Word Prediction Task</h4>

<section id="A3.SS4.SSS0.Px1" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Federated Dataset Description and Preprocessing.</h6>

<div id="A3.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS4.SSS0.Px1.p1.1" class="ltx_p">The Stack Overflow dataset consists of questions and answers taken from the website Stack Overflow.
Each client is a different user of the website.
We adopt the stackoverflow dataset hosted by Tensorflow Federated (TFF). In TFF, the federated stackoverflow dataset is splitted <span id="A3.SS4.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_bold">inter-cliently</span>, namely the training data and validation data belong to two disjoint subsets of clients.
To construct a three-way split, we will treat the original “validation” clients as unparticipating clients.
Within each participating client, we randomly hold out the max of 20% or 1000 elements as (participating) validation data, and the max of 80% or 1000 elements as (participating) training data.
Due to the abundance of stackoverflow data, we randomly sample a subset of clients from the original “training” clients as participating clients.
The result shown in <a href="#S5.T1" title="In 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> is for the case with 3425 participating clients.
We also tested other various levels of participating clients, shown in <a href="#S5.F7" title="In 5.1 Effect of the number of participating clients ‣ 5 Experimental Evaluation ‣ What Do We Mean by Generalization in Federated Learning?" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
<section id="A3.SS4.SSS0.Px2" class="ltx_paragraph">
<h6 class="ltx_title ltx_title_paragraph">Model, Optimizer, and Hyperparameters</h6>

<div id="A3.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS4.SSS0.Px2.p1.6" class="ltx_p">We train the same recurent neural network as in <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite>.
For centralized training, we run 30 epochs of Adam (with <math id="A3.SS4.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\epsilon=10^{-4}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.1.m1.1a"><mrow id="A3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">ϵ</mi><mo id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.1" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><msup id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mn id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3a" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1"><eq id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.2">italic-ϵ</ci><apply id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3"><minus id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.1.m1.1c">\epsilon=10^{-4}</annotation></semantics></math>) with batch size 200. We tune the centralized learning rate from <math id="A3.SS4.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="\{10^{-3},10^{-2.5},\ldots,10^{-1.5}\}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.2.m2.4a"><mrow id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml"><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.4" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml">{</mo><msup id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.cmml"><mn id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3a" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.2.cmml">3</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.5" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.cmml"><mn id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3a" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.2.cmml">2.5</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.6" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="A3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml">…</mi><mo id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.7" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.cmml"><mn id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3a" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.2" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.2.cmml">1.5</mn></mrow></msup><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.8" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.2.m2.4b"><set id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.4.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3"><apply id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3"><minus id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.2.2.1.1.3.2">3</cn></apply></apply><apply id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3"><minus id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3"></minus><cn type="float" id="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.3.3.2.2.3.2">2.5</cn></apply></apply><ci id="A3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.1.1">…</ci><apply id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3"><minus id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3"></minus><cn type="float" id="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.2.m2.4.4.3.3.3.2">1.5</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.2.m2.4c">\{10^{-3},10^{-2.5},\ldots,10^{-1.5}\}</annotation></semantics></math>.
For federated training, we run 6,000 rounds of <span id="A3.SS4.SSS0.Px2.p1.6.1" class="ltx_text ltx_font_smallcaps">FedAdam</span> <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Reddi et al.</span>, <a href="#bib.bib67" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2021</span></a>)</cite> with server <math id="A3.SS4.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\epsilon=10^{-4}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.3.m3.1a"><mrow id="A3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.2" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.2.cmml">ϵ</mi><mo id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.1" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.1.cmml">=</mo><msup id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mn id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3a" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.2" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.3.m3.1b"><apply id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1"><eq id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.1"></eq><ci id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.2">italic-ϵ</ci><apply id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3"><minus id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.3.m3.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.3.m3.1c">\epsilon=10^{-4}</annotation></semantics></math>.
For each communictaion round, we randomly sample 100 clients, and let each client train for 1 local epoch with batch size 50. Both client and server learning rates are tuned from <math id="A3.SS4.SSS0.Px2.p1.4.m4.4" class="ltx_Math" alttext="\{10^{-2},10^{-1.5},\ldots,1\}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.4.m4.4a"><mrow id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml"><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.3" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml">{</mo><msup id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.cmml"><mn id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3a" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.4" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.cmml"><mn id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3a" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.5" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><mi mathvariant="normal" id="A3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="A3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml">…</mi><mo id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.6" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml">,</mo><mn id="A3.SS4.SSS0.Px2.p1.4.m4.2.2" xref="A3.SS4.SSS0.Px2.p1.4.m4.2.2.cmml">1</mn><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.7" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.4.m4.4b"><set id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.3.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2"><apply id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3"><minus id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.3.3.1.1.3.2">2</cn></apply></apply><apply id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3"><minus id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3"></minus><cn type="float" id="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.4.4.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.1.1">…</ci><cn type="integer" id="A3.SS4.SSS0.Px2.p1.4.m4.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.4.m4.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.4.m4.4c">\{10^{-2},10^{-1.5},\ldots,1\}</annotation></semantics></math>.
The client learning rate is tuned from <math id="A3.SS4.SSS0.Px2.p1.5.m5.4" class="ltx_Math" alttext="\{10^{-3},10^{-1.5},\ldots,10^{-1}\}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.5.m5.4a"><mrow id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml"><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.4" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml">{</mo><msup id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.cmml"><mn id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3a" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.2.cmml">3</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.5" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.cmml"><mn id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3a" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.6" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml">,</mo><mi mathvariant="normal" id="A3.SS4.SSS0.Px2.p1.5.m5.1.1" xref="A3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml">…</mi><mo id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.7" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.cmml"><mn id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3a" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.2" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.2.cmml">1</mn></mrow></msup><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.8" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.5.m5.4b"><set id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.4.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3"><apply id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3"><minus id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.2.2.1.1.3.2">3</cn></apply></apply><apply id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3"><minus id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3"></minus><cn type="float" id="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.3.3.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.1.1">…</ci><apply id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3"><minus id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.5.m5.4.4.3.3.3.2">1</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.5.m5.4c">\{10^{-3},10^{-1.5},\ldots,10^{-1}\}</annotation></semantics></math>; the server learning rate is tuned from <math id="A3.SS4.SSS0.Px2.p1.6.m6.4" class="ltx_Math" alttext="\{10^{-2},10^{-1.5},\ldots,1\}" display="inline"><semantics id="A3.SS4.SSS0.Px2.p1.6.m6.4a"><mrow id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml"><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.3" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml">{</mo><msup id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.cmml"><mn id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3a" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.2.cmml">2</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.4" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml">,</mo><msup id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.cmml"><mn id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.2.cmml">10</mn><mrow id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.cmml"><mo id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3a" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.cmml">−</mo><mn id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.2.cmml">1.5</mn></mrow></msup><mo id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.5" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml">,</mo><mi mathvariant="normal" id="A3.SS4.SSS0.Px2.p1.6.m6.1.1" xref="A3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml">…</mi><mo id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.6" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml">,</mo><mn id="A3.SS4.SSS0.Px2.p1.6.m6.2.2" xref="A3.SS4.SSS0.Px2.p1.6.m6.2.2.cmml">1</mn><mo stretchy="false" id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.7" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.SSS0.Px2.p1.6.m6.4b"><set id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.3.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2"><apply id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3"><minus id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3"></minus><cn type="integer" id="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.3.3.1.1.3.2">2</cn></apply></apply><apply id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2"><csymbol cd="ambiguous" id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2">superscript</csymbol><cn type="integer" id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.2">10</cn><apply id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3"><minus id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3"></minus><cn type="float" id="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.4.4.2.2.3.2">1.5</cn></apply></apply><ci id="A3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.1.1">…</ci><cn type="integer" id="A3.SS4.SSS0.Px2.p1.6.m6.2.2.cmml" xref="A3.SS4.SSS0.Px2.p1.6.m6.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.SSS0.Px2.p1.6.m6.4c">\{10^{-2},10^{-1.5},\ldots,1\}</annotation></semantics></math>.</p>
</div>
</section>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h3 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Details of Semanticically Partitioned Federated Dataset</h3>

<section id="A4.SS1" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Details of the Semantic Partitioning Scheme</h4>

<div id="A4.SS1.p1" class="ltx_para">
<p id="A4.SS1.p1.2" class="ltx_p">In this section we provide the details of the proposed algorithm to semantically partition a federated dataset for CIFAR-10 and CIFAR-100. For clarify, we use <math id="A4.SS1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A4.SS1.p1.1.m1.1a"><mi id="A4.SS1.p1.1.m1.1.1" xref="A4.SS1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A4.SS1.p1.1.m1.1b"><ci id="A4.SS1.p1.1.m1.1.1.cmml" xref="A4.SS1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p1.1.m1.1c">K</annotation></semantics></math> to denote the number of classes, and <math id="A4.SS1.p1.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A4.SS1.p1.2.m2.1a"><mi id="A4.SS1.p1.2.m2.1.1" xref="A4.SS1.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A4.SS1.p1.2.m2.1b"><ci id="A4.SS1.p1.2.m2.1.1.cmml" xref="A4.SS1.p1.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p1.2.m2.1c">C</annotation></semantics></math> to denote the number of clients partitioned into.</p>
</div>
<div id="A4.SS1.p2" class="ltx_para">
<p id="A4.SS1.p2.1" class="ltx_p">The first stage aims to cluster each label into <math id="A4.SS1.p2.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A4.SS1.p2.1.m1.1a"><mi id="A4.SS1.p2.1.m1.1.1" xref="A4.SS1.p2.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A4.SS1.p2.1.m1.1b"><ci id="A4.SS1.p2.1.m1.1.1.cmml" xref="A4.SS1.p2.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p2.1.m1.1c">C</annotation></semantics></math> clusters.</p>
<ol id="A4.I1" class="ltx_enumerate">
<li id="A4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="A4.I1.i1.p1" class="ltx_para">
<p id="A4.I1.i1.p1.1" class="ltx_p">Embed the original inputs of dataset using a pretrained EfficientNetB3. This gives a embedding of dimension 1280 for each input.</p>
</div>
</li>
<li id="A4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="A4.I1.i2.p1" class="ltx_para">
<p id="A4.I1.i2.p1.1" class="ltx_p">Reduce the dimension of the above embeddings to 256 dimensions via PCA.<span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>Reducing the dimension is purely a computational issue since the original embedding dimension (1280) is too large for downstream procedures such as GMM fitting and optimal matching (measured by KL divergence). While there may be other complicated dimension reduction technique, we found PCA to be simple enough to generate reasonable results. The dimension of 256 is a trade-off of (down-stream) computational complexity and embedding information. </span></span></span></p>
</div>
</li>
<li id="A4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="A4.I1.i3.p1" class="ltx_para">
<p id="A4.I1.i3.p1.6" class="ltx_p">For each label, fit the corresponding input with a Gaussian mixture model with <math id="A4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A4.I1.i3.p1.1.m1.1a"><mi id="A4.I1.i3.p1.1.m1.1.1" xref="A4.I1.i3.p1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.1.m1.1b"><ci id="A4.I1.i3.p1.1.m1.1.1.cmml" xref="A4.I1.i3.p1.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.1.m1.1c">C</annotation></semantics></math> clusters.
This step yields <math id="A4.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A4.I1.i3.p1.2.m2.1a"><mi id="A4.I1.i3.p1.2.m2.1.1" xref="A4.I1.i3.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.2.m2.1b"><ci id="A4.I1.i3.p1.2.m2.1.1.cmml" xref="A4.I1.i3.p1.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.2.m2.1c">C</annotation></semantics></math> gaussian distribution for each of the <math id="A4.I1.i3.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A4.I1.i3.p1.3.m3.1a"><mi id="A4.I1.i3.p1.3.m3.1.1" xref="A4.I1.i3.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.3.m3.1b"><ci id="A4.I1.i3.p1.3.m3.1.1.cmml" xref="A4.I1.i3.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.3.m3.1c">K</annotation></semantics></math> labels.
Formally, we let <math id="A4.I1.i3.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{D}^{k}_{c}" display="inline"><semantics id="A4.I1.i3.p1.4.m4.1a"><msubsup id="A4.I1.i3.p1.4.m4.1.1" xref="A4.I1.i3.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A4.I1.i3.p1.4.m4.1.1.2.2" xref="A4.I1.i3.p1.4.m4.1.1.2.2.cmml">𝒟</mi><mi id="A4.I1.i3.p1.4.m4.1.1.3" xref="A4.I1.i3.p1.4.m4.1.1.3.cmml">c</mi><mi id="A4.I1.i3.p1.4.m4.1.1.2.3" xref="A4.I1.i3.p1.4.m4.1.1.2.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.4.m4.1b"><apply id="A4.I1.i3.p1.4.m4.1.1.cmml" xref="A4.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A4.I1.i3.p1.4.m4.1.1.1.cmml" xref="A4.I1.i3.p1.4.m4.1.1">subscript</csymbol><apply id="A4.I1.i3.p1.4.m4.1.1.2.cmml" xref="A4.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A4.I1.i3.p1.4.m4.1.1.2.1.cmml" xref="A4.I1.i3.p1.4.m4.1.1">superscript</csymbol><ci id="A4.I1.i3.p1.4.m4.1.1.2.2.cmml" xref="A4.I1.i3.p1.4.m4.1.1.2.2">𝒟</ci><ci id="A4.I1.i3.p1.4.m4.1.1.2.3.cmml" xref="A4.I1.i3.p1.4.m4.1.1.2.3">𝑘</ci></apply><ci id="A4.I1.i3.p1.4.m4.1.1.3.cmml" xref="A4.I1.i3.p1.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.4.m4.1c">\mathcal{D}^{k}_{c}</annotation></semantics></math> denote the (Gaussian) distribution of the cluster <math id="A4.I1.i3.p1.5.m5.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A4.I1.i3.p1.5.m5.1a"><mi id="A4.I1.i3.p1.5.m5.1.1" xref="A4.I1.i3.p1.5.m5.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.5.m5.1b"><ci id="A4.I1.i3.p1.5.m5.1.1.cmml" xref="A4.I1.i3.p1.5.m5.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.5.m5.1c">c</annotation></semantics></math> of label <math id="A4.I1.i3.p1.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.I1.i3.p1.6.m6.1a"><mi id="A4.I1.i3.p1.6.m6.1.1" xref="A4.I1.i3.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.I1.i3.p1.6.m6.1b"><ci id="A4.I1.i3.p1.6.m6.1.1.cmml" xref="A4.I1.i3.p1.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.I1.i3.p1.6.m6.1c">k</annotation></semantics></math>.</p>
</div>
</li>
</ol>
</div>
<div id="A4.SS1.p3" class="ltx_para">
<p id="A4.SS1.p3.1" class="ltx_p">The second stage will package the clusters from different labels across clients.
We aim to compute an optimal multi-partite matching with cost-matrix defined by KL-divergence between the Gaussian clusters. To reduce complexity, we heuristically solve the optimal multi-partite matching by progressively solving the optimal bipartite matching at each time for some randomly-chosen label pairs.
Formally, we run the following procedure</p>
</div>
<figure id="A4.SS1.tab1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<div id="A4.SS1.tab1.1" class="ltx_listing ltx_framed ltx_framed_topbottom ltx_listing">
<div id="alg0.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  Initialize <math id="alg0.l1.m1.3" class="ltx_Math" alttext="S_{\mathrm{unmatched}}\leftarrow\{1,\ldots,K\}" display="inline"><semantics id="alg0.l1.m1.3a"><mrow id="alg0.l1.m1.3.4" xref="alg0.l1.m1.3.4.cmml"><msub id="alg0.l1.m1.3.4.2" xref="alg0.l1.m1.3.4.2.cmml"><mi id="alg0.l1.m1.3.4.2.2" xref="alg0.l1.m1.3.4.2.2.cmml">S</mi><mi id="alg0.l1.m1.3.4.2.3" xref="alg0.l1.m1.3.4.2.3.cmml">unmatched</mi></msub><mo stretchy="false" id="alg0.l1.m1.3.4.1" xref="alg0.l1.m1.3.4.1.cmml">←</mo><mrow id="alg0.l1.m1.3.4.3.2" xref="alg0.l1.m1.3.4.3.1.cmml"><mo stretchy="false" id="alg0.l1.m1.3.4.3.2.1" xref="alg0.l1.m1.3.4.3.1.cmml">{</mo><mn id="alg0.l1.m1.1.1" xref="alg0.l1.m1.1.1.cmml">1</mn><mo id="alg0.l1.m1.3.4.3.2.2" xref="alg0.l1.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg0.l1.m1.2.2" xref="alg0.l1.m1.2.2.cmml">…</mi><mo id="alg0.l1.m1.3.4.3.2.3" xref="alg0.l1.m1.3.4.3.1.cmml">,</mo><mi id="alg0.l1.m1.3.3" xref="alg0.l1.m1.3.3.cmml">K</mi><mo stretchy="false" id="alg0.l1.m1.3.4.3.2.4" xref="alg0.l1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg0.l1.m1.3b"><apply id="alg0.l1.m1.3.4.cmml" xref="alg0.l1.m1.3.4"><ci id="alg0.l1.m1.3.4.1.cmml" xref="alg0.l1.m1.3.4.1">←</ci><apply id="alg0.l1.m1.3.4.2.cmml" xref="alg0.l1.m1.3.4.2"><csymbol cd="ambiguous" id="alg0.l1.m1.3.4.2.1.cmml" xref="alg0.l1.m1.3.4.2">subscript</csymbol><ci id="alg0.l1.m1.3.4.2.2.cmml" xref="alg0.l1.m1.3.4.2.2">𝑆</ci><ci id="alg0.l1.m1.3.4.2.3.cmml" xref="alg0.l1.m1.3.4.2.3">unmatched</ci></apply><set id="alg0.l1.m1.3.4.3.1.cmml" xref="alg0.l1.m1.3.4.3.2"><cn type="integer" id="alg0.l1.m1.1.1.cmml" xref="alg0.l1.m1.1.1">1</cn><ci id="alg0.l1.m1.2.2.cmml" xref="alg0.l1.m1.2.2">…</ci><ci id="alg0.l1.m1.3.3.cmml" xref="alg0.l1.m1.3.3">𝐾</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l1.m1.3c">S_{\mathrm{unmatched}}\leftarrow\{1,\ldots,K\}</annotation></semantics></math>

</div>
<div id="alg0.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  Randomly sample a label <math id="alg0.l2.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg0.l2.m1.1a"><mi id="alg0.l2.m1.1.1" xref="alg0.l2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg0.l2.m1.1b"><ci id="alg0.l2.m1.1.1.cmml" xref="alg0.l2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg0.l2.m1.1c">k</annotation></semantics></math> from <math id="alg0.l2.m2.1" class="ltx_Math" alttext="S_{\mathrm{unmatched}}" display="inline"><semantics id="alg0.l2.m2.1a"><msub id="alg0.l2.m2.1.1" xref="alg0.l2.m2.1.1.cmml"><mi id="alg0.l2.m2.1.1.2" xref="alg0.l2.m2.1.1.2.cmml">S</mi><mi id="alg0.l2.m2.1.1.3" xref="alg0.l2.m2.1.1.3.cmml">unmatched</mi></msub><annotation-xml encoding="MathML-Content" id="alg0.l2.m2.1b"><apply id="alg0.l2.m2.1.1.cmml" xref="alg0.l2.m2.1.1"><csymbol cd="ambiguous" id="alg0.l2.m2.1.1.1.cmml" xref="alg0.l2.m2.1.1">subscript</csymbol><ci id="alg0.l2.m2.1.1.2.cmml" xref="alg0.l2.m2.1.1.2">𝑆</ci><ci id="alg0.l2.m2.1.1.3.cmml" xref="alg0.l2.m2.1.1.3">unmatched</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l2.m2.1c">S_{\mathrm{unmatched}}</annotation></semantics></math>, and remove <math id="alg0.l2.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg0.l2.m3.1a"><mi id="alg0.l2.m3.1.1" xref="alg0.l2.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg0.l2.m3.1b"><ci id="alg0.l2.m3.1.1.cmml" xref="alg0.l2.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg0.l2.m3.1c">k</annotation></semantics></math> from <math id="alg0.l2.m4.1" class="ltx_Math" alttext="S_{\mathrm{unmatched}}" display="inline"><semantics id="alg0.l2.m4.1a"><msub id="alg0.l2.m4.1.1" xref="alg0.l2.m4.1.1.cmml"><mi id="alg0.l2.m4.1.1.2" xref="alg0.l2.m4.1.1.2.cmml">S</mi><mi id="alg0.l2.m4.1.1.3" xref="alg0.l2.m4.1.1.3.cmml">unmatched</mi></msub><annotation-xml encoding="MathML-Content" id="alg0.l2.m4.1b"><apply id="alg0.l2.m4.1.1.cmml" xref="alg0.l2.m4.1.1"><csymbol cd="ambiguous" id="alg0.l2.m4.1.1.1.cmml" xref="alg0.l2.m4.1.1">subscript</csymbol><ci id="alg0.l2.m4.1.1.2.cmml" xref="alg0.l2.m4.1.1.2">𝑆</ci><ci id="alg0.l2.m4.1.1.3.cmml" xref="alg0.l2.m4.1.1.3">unmatched</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l2.m4.1c">S_{\mathrm{unmatched}}</annotation></semantics></math>.

</div>
<div id="alg0.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>  <span id="alg0.l3.2" class="ltx_text ltx_font_bold">while</span> <math id="alg0.l3.m1.1" class="ltx_Math" alttext="S_{\mathrm{unmatched}}\neq\emptyset" display="inline"><semantics id="alg0.l3.m1.1a"><mrow id="alg0.l3.m1.1.1" xref="alg0.l3.m1.1.1.cmml"><msub id="alg0.l3.m1.1.1.2" xref="alg0.l3.m1.1.1.2.cmml"><mi id="alg0.l3.m1.1.1.2.2" xref="alg0.l3.m1.1.1.2.2.cmml">S</mi><mi id="alg0.l3.m1.1.1.2.3" xref="alg0.l3.m1.1.1.2.3.cmml">unmatched</mi></msub><mo id="alg0.l3.m1.1.1.1" xref="alg0.l3.m1.1.1.1.cmml">≠</mo><mi mathvariant="normal" id="alg0.l3.m1.1.1.3" xref="alg0.l3.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg0.l3.m1.1b"><apply id="alg0.l3.m1.1.1.cmml" xref="alg0.l3.m1.1.1"><neq id="alg0.l3.m1.1.1.1.cmml" xref="alg0.l3.m1.1.1.1"></neq><apply id="alg0.l3.m1.1.1.2.cmml" xref="alg0.l3.m1.1.1.2"><csymbol cd="ambiguous" id="alg0.l3.m1.1.1.2.1.cmml" xref="alg0.l3.m1.1.1.2">subscript</csymbol><ci id="alg0.l3.m1.1.1.2.2.cmml" xref="alg0.l3.m1.1.1.2.2">𝑆</ci><ci id="alg0.l3.m1.1.1.2.3.cmml" xref="alg0.l3.m1.1.1.2.3">unmatched</ci></apply><emptyset id="alg0.l3.m1.1.1.3.cmml" xref="alg0.l3.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l3.m1.1c">S_{\mathrm{unmatched}}\neq\emptyset</annotation></semantics></math> <span id="alg0.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg0.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     Randomly sample a label <math id="alg0.l4.m1.1" class="ltx_Math" alttext="k^{\prime}" display="inline"><semantics id="alg0.l4.m1.1a"><msup id="alg0.l4.m1.1.1" xref="alg0.l4.m1.1.1.cmml"><mi id="alg0.l4.m1.1.1.2" xref="alg0.l4.m1.1.1.2.cmml">k</mi><mo id="alg0.l4.m1.1.1.3" xref="alg0.l4.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="alg0.l4.m1.1b"><apply id="alg0.l4.m1.1.1.cmml" xref="alg0.l4.m1.1.1"><csymbol cd="ambiguous" id="alg0.l4.m1.1.1.1.cmml" xref="alg0.l4.m1.1.1">superscript</csymbol><ci id="alg0.l4.m1.1.1.2.cmml" xref="alg0.l4.m1.1.1.2">𝑘</ci><ci id="alg0.l4.m1.1.1.3.cmml" xref="alg0.l4.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l4.m1.1c">k^{\prime}</annotation></semantics></math> from <math id="alg0.l4.m2.1" class="ltx_Math" alttext="S_{\mathrm{unmatched}}" display="inline"><semantics id="alg0.l4.m2.1a"><msub id="alg0.l4.m2.1.1" xref="alg0.l4.m2.1.1.cmml"><mi id="alg0.l4.m2.1.1.2" xref="alg0.l4.m2.1.1.2.cmml">S</mi><mi id="alg0.l4.m2.1.1.3" xref="alg0.l4.m2.1.1.3.cmml">unmatched</mi></msub><annotation-xml encoding="MathML-Content" id="alg0.l4.m2.1b"><apply id="alg0.l4.m2.1.1.cmml" xref="alg0.l4.m2.1.1"><csymbol cd="ambiguous" id="alg0.l4.m2.1.1.1.cmml" xref="alg0.l4.m2.1.1">subscript</csymbol><ci id="alg0.l4.m2.1.1.2.cmml" xref="alg0.l4.m2.1.1.2">𝑆</ci><ci id="alg0.l4.m2.1.1.3.cmml" xref="alg0.l4.m2.1.1.3">unmatched</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l4.m2.1c">S_{\mathrm{unmatched}}</annotation></semantics></math>, and remove <math id="alg0.l4.m3.1" class="ltx_Math" alttext="k^{\prime}" display="inline"><semantics id="alg0.l4.m3.1a"><msup id="alg0.l4.m3.1.1" xref="alg0.l4.m3.1.1.cmml"><mi id="alg0.l4.m3.1.1.2" xref="alg0.l4.m3.1.1.2.cmml">k</mi><mo id="alg0.l4.m3.1.1.3" xref="alg0.l4.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="alg0.l4.m3.1b"><apply id="alg0.l4.m3.1.1.cmml" xref="alg0.l4.m3.1.1"><csymbol cd="ambiguous" id="alg0.l4.m3.1.1.1.cmml" xref="alg0.l4.m3.1.1">superscript</csymbol><ci id="alg0.l4.m3.1.1.2.cmml" xref="alg0.l4.m3.1.1.2">𝑘</ci><ci id="alg0.l4.m3.1.1.3.cmml" xref="alg0.l4.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l4.m3.1c">k^{\prime}</annotation></semantics></math> from <math id="alg0.l4.m4.1" class="ltx_Math" alttext="S_{\mathrm{unmatched}}" display="inline"><semantics id="alg0.l4.m4.1a"><msub id="alg0.l4.m4.1.1" xref="alg0.l4.m4.1.1.cmml"><mi id="alg0.l4.m4.1.1.2" xref="alg0.l4.m4.1.1.2.cmml">S</mi><mi id="alg0.l4.m4.1.1.3" xref="alg0.l4.m4.1.1.3.cmml">unmatched</mi></msub><annotation-xml encoding="MathML-Content" id="alg0.l4.m4.1b"><apply id="alg0.l4.m4.1.1.cmml" xref="alg0.l4.m4.1.1"><csymbol cd="ambiguous" id="alg0.l4.m4.1.1.1.cmml" xref="alg0.l4.m4.1.1">subscript</csymbol><ci id="alg0.l4.m4.1.1.2.cmml" xref="alg0.l4.m4.1.1.2">𝑆</ci><ci id="alg0.l4.m4.1.1.3.cmml" xref="alg0.l4.m4.1.1.3">unmatched</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l4.m4.1c">S_{\mathrm{unmatched}}</annotation></semantics></math>.

</div>
<div id="alg0.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     Compute a cost matrix <math id="alg0.l5.m1.1" class="ltx_Math" alttext="{\bm{A}}" display="inline"><semantics id="alg0.l5.m1.1a"><mi id="alg0.l5.m1.1.1" xref="alg0.l5.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="alg0.l5.m1.1b"><ci id="alg0.l5.m1.1.1.cmml" xref="alg0.l5.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="alg0.l5.m1.1c">{\bm{A}}</annotation></semantics></math> of dimension <math id="alg0.l5.m2.1" class="ltx_Math" alttext="C\times C" display="inline"><semantics id="alg0.l5.m2.1a"><mrow id="alg0.l5.m2.1.1" xref="alg0.l5.m2.1.1.cmml"><mi id="alg0.l5.m2.1.1.2" xref="alg0.l5.m2.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="alg0.l5.m2.1.1.1" xref="alg0.l5.m2.1.1.1.cmml">×</mo><mi id="alg0.l5.m2.1.1.3" xref="alg0.l5.m2.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="alg0.l5.m2.1b"><apply id="alg0.l5.m2.1.1.cmml" xref="alg0.l5.m2.1.1"><times id="alg0.l5.m2.1.1.1.cmml" xref="alg0.l5.m2.1.1.1"></times><ci id="alg0.l5.m2.1.1.2.cmml" xref="alg0.l5.m2.1.1.2">𝐶</ci><ci id="alg0.l5.m2.1.1.3.cmml" xref="alg0.l5.m2.1.1.3">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l5.m2.1c">C\times C</annotation></semantics></math>, where <math id="alg0.l5.m3.1" class="ltx_math_unparsed" alttext="{\bm{A}}_{ij}\leftarrow D_{\mathrm{KL}}(\mathcal{D}^{k}_{i}||\mathcal{D}^{k^{\prime}}_{j})" display="inline"><semantics id="alg0.l5.m3.1a"><mrow id="alg0.l5.m3.1b"><msub id="alg0.l5.m3.1.1"><mi id="alg0.l5.m3.1.1.2">𝑨</mi><mrow id="alg0.l5.m3.1.1.3"><mi id="alg0.l5.m3.1.1.3.2">i</mi><mo lspace="0em" rspace="0em" id="alg0.l5.m3.1.1.3.1">​</mo><mi id="alg0.l5.m3.1.1.3.3">j</mi></mrow></msub><mo stretchy="false" id="alg0.l5.m3.1.2">←</mo><msub id="alg0.l5.m3.1.3"><mi id="alg0.l5.m3.1.3.2">D</mi><mi id="alg0.l5.m3.1.3.3">KL</mi></msub><mrow id="alg0.l5.m3.1.4"><mo stretchy="false" id="alg0.l5.m3.1.4.1">(</mo><msubsup id="alg0.l5.m3.1.4.2"><mi class="ltx_font_mathcaligraphic" id="alg0.l5.m3.1.4.2.2.2">𝒟</mi><mi id="alg0.l5.m3.1.4.2.3">i</mi><mi id="alg0.l5.m3.1.4.2.2.3">k</mi></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="alg0.l5.m3.1.4.3">|</mo><mo fence="false" rspace="0.167em" stretchy="false" id="alg0.l5.m3.1.4.4">|</mo><msubsup id="alg0.l5.m3.1.4.5"><mi class="ltx_font_mathcaligraphic" id="alg0.l5.m3.1.4.5.2.2">𝒟</mi><mi id="alg0.l5.m3.1.4.5.3">j</mi><msup id="alg0.l5.m3.1.4.5.2.3"><mi id="alg0.l5.m3.1.4.5.2.3.2">k</mi><mo id="alg0.l5.m3.1.4.5.2.3.3">′</mo></msup></msubsup><mo stretchy="false" id="alg0.l5.m3.1.4.6">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg0.l5.m3.1c">{\bm{A}}_{ij}\leftarrow D_{\mathrm{KL}}(\mathcal{D}^{k}_{i}||\mathcal{D}^{k^{\prime}}_{j})</annotation></semantics></math>.

</div>
<div id="alg0.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     Solve and record the optimal bipartite matching with cost matrix <math id="alg0.l6.m1.1" class="ltx_Math" alttext="{\bm{A}}" display="inline"><semantics id="alg0.l6.m1.1a"><mi id="alg0.l6.m1.1.1" xref="alg0.l6.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="alg0.l6.m1.1b"><ci id="alg0.l6.m1.1.1.cmml" xref="alg0.l6.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="alg0.l6.m1.1c">{\bm{A}}</annotation></semantics></math>. 
</div>
<div id="alg0.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     Set <math id="alg0.l7.m1.1" class="ltx_Math" alttext="k\leftarrow k^{\prime}" display="inline"><semantics id="alg0.l7.m1.1a"><mrow id="alg0.l7.m1.1.1" xref="alg0.l7.m1.1.1.cmml"><mi id="alg0.l7.m1.1.1.2" xref="alg0.l7.m1.1.1.2.cmml">k</mi><mo stretchy="false" id="alg0.l7.m1.1.1.1" xref="alg0.l7.m1.1.1.1.cmml">←</mo><msup id="alg0.l7.m1.1.1.3" xref="alg0.l7.m1.1.1.3.cmml"><mi id="alg0.l7.m1.1.1.3.2" xref="alg0.l7.m1.1.1.3.2.cmml">k</mi><mo id="alg0.l7.m1.1.1.3.3" xref="alg0.l7.m1.1.1.3.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="alg0.l7.m1.1b"><apply id="alg0.l7.m1.1.1.cmml" xref="alg0.l7.m1.1.1"><ci id="alg0.l7.m1.1.1.1.cmml" xref="alg0.l7.m1.1.1.1">←</ci><ci id="alg0.l7.m1.1.1.2.cmml" xref="alg0.l7.m1.1.1.2">𝑘</ci><apply id="alg0.l7.m1.1.1.3.cmml" xref="alg0.l7.m1.1.1.3"><csymbol cd="ambiguous" id="alg0.l7.m1.1.1.3.1.cmml" xref="alg0.l7.m1.1.1.3">superscript</csymbol><ci id="alg0.l7.m1.1.1.3.2.cmml" xref="alg0.l7.m1.1.1.3.2">𝑘</ci><ci id="alg0.l7.m1.1.1.3.3.cmml" xref="alg0.l7.m1.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg0.l7.m1.1c">k\leftarrow k^{\prime}</annotation></semantics></math>

</div>
<div id="alg0.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg0.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>  <span id="alg0.l8.2" class="ltx_text ltx_font_bold">return</span>  the aggregation of all the bipartite matchings computed.

</div>
</div>
</figure>
</section>
<section id="A4.SS2" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Visualization of Semanticically Partitioned CIFAR-100 Dataset</h4>

<figure id="A4.F17" class="ltx_figure"><img src="/html/2110.14216/assets/figs/cifar100-visualization.png" id="A4.F17.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="359" height="194" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A4.F17.3.1.1" class="ltx_text" style="font-size:90%;">Figure 17</span>: </span><span id="A4.F17.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Visualization of semantic partitioning of CIFAR-100.<span id="A4.F17.4.2.1" class="ltx_text ltx_font_medium">
We partition the CIFAR-100 dataset into 100 clients without resorting to external user information (such as writer identification). Here we show 10 out of 100 clients featuring the label “apple”.</span></span></figcaption>
</figure>
</section>
<section id="A4.SS3" class="ltx_subsection">
<h4 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>Visualization of Semantically Partitioned MNIST Dataset</h4>

<figure id="A4.F18" class="ltx_figure"><img src="/html/2110.14216/assets/figs/mnist_semantic_visualization.png" id="A4.F18.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="359" height="184" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A4.F18.3.1.1" class="ltx_text" style="font-size:90%;">Figure 18</span>: </span><span id="A4.F18.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Visualization of semantic partitioning of MNIST.<span id="A4.F18.4.2.1" class="ltx_text ltx_font_medium">
We partition the (classic) MNIST dataset into 300 clients without resorting to external user information (such as writer identification). Here we show 5 out of 300 clients. Observe that the images within each client demonstrates consistent writing styles both within label and across labels.</span></span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="A5" class="ltx_appendix">
<h3 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Methodology for Computing Entropy</h3>

<div id="A5.p1" class="ltx_para">
<p id="A5.p1.2" class="ltx_p">We hypothesize that a participation gap exists for naturally partitioned datasets and not for synthetically partitioned datasets because the naturally partitioned datasets inherently contain correlated inputs not drawn IID from the full data generating distribution. Put another way, the entropy of the input data for a given label from a naturally partitioned client is lower than the entropy for that same label from a synthetically partitioned client. To evaluate this claim, we need to (approximately) infer the data generating distribution for each client, and then measure the entropy of this distribution, defined as:</p>
<table id="A5.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A5.E6.m1.3" class="ltx_Math" alttext="H(q)=-\mathbb{E}_{x\sim q(x)}\log q(x)" display="block"><semantics id="A5.E6.m1.3a"><mrow id="A5.E6.m1.3.4" xref="A5.E6.m1.3.4.cmml"><mrow id="A5.E6.m1.3.4.2" xref="A5.E6.m1.3.4.2.cmml"><mi id="A5.E6.m1.3.4.2.2" xref="A5.E6.m1.3.4.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="A5.E6.m1.3.4.2.1" xref="A5.E6.m1.3.4.2.1.cmml">​</mo><mrow id="A5.E6.m1.3.4.2.3.2" xref="A5.E6.m1.3.4.2.cmml"><mo stretchy="false" id="A5.E6.m1.3.4.2.3.2.1" xref="A5.E6.m1.3.4.2.cmml">(</mo><mi id="A5.E6.m1.2.2" xref="A5.E6.m1.2.2.cmml">q</mi><mo stretchy="false" id="A5.E6.m1.3.4.2.3.2.2" xref="A5.E6.m1.3.4.2.cmml">)</mo></mrow></mrow><mo id="A5.E6.m1.3.4.1" xref="A5.E6.m1.3.4.1.cmml">=</mo><mrow id="A5.E6.m1.3.4.3" xref="A5.E6.m1.3.4.3.cmml"><mo id="A5.E6.m1.3.4.3a" xref="A5.E6.m1.3.4.3.cmml">−</mo><mrow id="A5.E6.m1.3.4.3.2" xref="A5.E6.m1.3.4.3.2.cmml"><msub id="A5.E6.m1.3.4.3.2.2" xref="A5.E6.m1.3.4.3.2.2.cmml"><mi id="A5.E6.m1.3.4.3.2.2.2" xref="A5.E6.m1.3.4.3.2.2.2.cmml">𝔼</mi><mrow id="A5.E6.m1.1.1.1" xref="A5.E6.m1.1.1.1.cmml"><mi id="A5.E6.m1.1.1.1.3" xref="A5.E6.m1.1.1.1.3.cmml">x</mi><mo id="A5.E6.m1.1.1.1.2" xref="A5.E6.m1.1.1.1.2.cmml">∼</mo><mrow id="A5.E6.m1.1.1.1.4" xref="A5.E6.m1.1.1.1.4.cmml"><mi id="A5.E6.m1.1.1.1.4.2" xref="A5.E6.m1.1.1.1.4.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="A5.E6.m1.1.1.1.4.1" xref="A5.E6.m1.1.1.1.4.1.cmml">​</mo><mrow id="A5.E6.m1.1.1.1.4.3.2" xref="A5.E6.m1.1.1.1.4.cmml"><mo stretchy="false" id="A5.E6.m1.1.1.1.4.3.2.1" xref="A5.E6.m1.1.1.1.4.cmml">(</mo><mi id="A5.E6.m1.1.1.1.1" xref="A5.E6.m1.1.1.1.1.cmml">x</mi><mo stretchy="false" id="A5.E6.m1.1.1.1.4.3.2.2" xref="A5.E6.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo lspace="0.167em" rspace="0em" id="A5.E6.m1.3.4.3.2.1" xref="A5.E6.m1.3.4.3.2.1.cmml">​</mo><mrow id="A5.E6.m1.3.4.3.2.3" xref="A5.E6.m1.3.4.3.2.3.cmml"><mi id="A5.E6.m1.3.4.3.2.3.1" xref="A5.E6.m1.3.4.3.2.3.1.cmml">log</mi><mo lspace="0.167em" id="A5.E6.m1.3.4.3.2.3a" xref="A5.E6.m1.3.4.3.2.3.cmml">⁡</mo><mi id="A5.E6.m1.3.4.3.2.3.2" xref="A5.E6.m1.3.4.3.2.3.2.cmml">q</mi></mrow><mo lspace="0em" rspace="0em" id="A5.E6.m1.3.4.3.2.1a" xref="A5.E6.m1.3.4.3.2.1.cmml">​</mo><mrow id="A5.E6.m1.3.4.3.2.4.2" xref="A5.E6.m1.3.4.3.2.cmml"><mo stretchy="false" id="A5.E6.m1.3.4.3.2.4.2.1" xref="A5.E6.m1.3.4.3.2.cmml">(</mo><mi id="A5.E6.m1.3.3" xref="A5.E6.m1.3.3.cmml">x</mi><mo stretchy="false" id="A5.E6.m1.3.4.3.2.4.2.2" xref="A5.E6.m1.3.4.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.E6.m1.3b"><apply id="A5.E6.m1.3.4.cmml" xref="A5.E6.m1.3.4"><eq id="A5.E6.m1.3.4.1.cmml" xref="A5.E6.m1.3.4.1"></eq><apply id="A5.E6.m1.3.4.2.cmml" xref="A5.E6.m1.3.4.2"><times id="A5.E6.m1.3.4.2.1.cmml" xref="A5.E6.m1.3.4.2.1"></times><ci id="A5.E6.m1.3.4.2.2.cmml" xref="A5.E6.m1.3.4.2.2">𝐻</ci><ci id="A5.E6.m1.2.2.cmml" xref="A5.E6.m1.2.2">𝑞</ci></apply><apply id="A5.E6.m1.3.4.3.cmml" xref="A5.E6.m1.3.4.3"><minus id="A5.E6.m1.3.4.3.1.cmml" xref="A5.E6.m1.3.4.3"></minus><apply id="A5.E6.m1.3.4.3.2.cmml" xref="A5.E6.m1.3.4.3.2"><times id="A5.E6.m1.3.4.3.2.1.cmml" xref="A5.E6.m1.3.4.3.2.1"></times><apply id="A5.E6.m1.3.4.3.2.2.cmml" xref="A5.E6.m1.3.4.3.2.2"><csymbol cd="ambiguous" id="A5.E6.m1.3.4.3.2.2.1.cmml" xref="A5.E6.m1.3.4.3.2.2">subscript</csymbol><ci id="A5.E6.m1.3.4.3.2.2.2.cmml" xref="A5.E6.m1.3.4.3.2.2.2">𝔼</ci><apply id="A5.E6.m1.1.1.1.cmml" xref="A5.E6.m1.1.1.1"><csymbol cd="latexml" id="A5.E6.m1.1.1.1.2.cmml" xref="A5.E6.m1.1.1.1.2">similar-to</csymbol><ci id="A5.E6.m1.1.1.1.3.cmml" xref="A5.E6.m1.1.1.1.3">𝑥</ci><apply id="A5.E6.m1.1.1.1.4.cmml" xref="A5.E6.m1.1.1.1.4"><times id="A5.E6.m1.1.1.1.4.1.cmml" xref="A5.E6.m1.1.1.1.4.1"></times><ci id="A5.E6.m1.1.1.1.4.2.cmml" xref="A5.E6.m1.1.1.1.4.2">𝑞</ci><ci id="A5.E6.m1.1.1.1.1.cmml" xref="A5.E6.m1.1.1.1.1">𝑥</ci></apply></apply></apply><apply id="A5.E6.m1.3.4.3.2.3.cmml" xref="A5.E6.m1.3.4.3.2.3"><log id="A5.E6.m1.3.4.3.2.3.1.cmml" xref="A5.E6.m1.3.4.3.2.3.1"></log><ci id="A5.E6.m1.3.4.3.2.3.2.cmml" xref="A5.E6.m1.3.4.3.2.3.2">𝑞</ci></apply><ci id="A5.E6.m1.3.3.cmml" xref="A5.E6.m1.3.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.E6.m1.3c">H(q)=-\mathbb{E}_{x\sim q(x)}\log q(x)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="A5.p1.1" class="ltx_p">To infer the client data generating distribution, we used deep generative models. Because our clients possess relatively few training examples (<math id="A5.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(10)" display="inline"><semantics id="A5.p1.1.m1.1a"><mrow id="A5.p1.1.m1.1.2" xref="A5.p1.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A5.p1.1.m1.1.2.2" xref="A5.p1.1.m1.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="A5.p1.1.m1.1.2.1" xref="A5.p1.1.m1.1.2.1.cmml">​</mo><mrow id="A5.p1.1.m1.1.2.3.2" xref="A5.p1.1.m1.1.2.cmml"><mo stretchy="false" id="A5.p1.1.m1.1.2.3.2.1" xref="A5.p1.1.m1.1.2.cmml">(</mo><mn id="A5.p1.1.m1.1.1" xref="A5.p1.1.m1.1.1.cmml">10</mn><mo stretchy="false" id="A5.p1.1.m1.1.2.3.2.2" xref="A5.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.p1.1.m1.1b"><apply id="A5.p1.1.m1.1.2.cmml" xref="A5.p1.1.m1.1.2"><times id="A5.p1.1.m1.1.2.1.cmml" xref="A5.p1.1.m1.1.2.1"></times><ci id="A5.p1.1.m1.1.2.2.cmml" xref="A5.p1.1.m1.1.2.2">𝒪</ci><cn type="integer" id="A5.p1.1.m1.1.1.cmml" xref="A5.p1.1.m1.1.1">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.1.m1.1c">\mathcal{O}(10)</annotation></semantics></math> for a particular class), many deep generative models such as Glow <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kingma and Dhariwal</span>, <a href="#bib.bib47" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2018</span></a>)</cite> or PixelCNN <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Salimans et al.</span>, <a href="#bib.bib69" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2017</span></a>)</cite> will not be able to learn a reasonable density model. We instead used a Variational Autoencoder <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Kingma and Welling</span>, <a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2013</span></a>)</cite> to approximate the deep generative process. This model is significantly easier to train compared to the much larger generative models, but does not have tractable log-evidence measurement. Instead, models are trained by minimizing the negative Evidence Lower Bound (ELBO).</p>
</div>
<div id="A5.p2" class="ltx_para">
<p id="A5.p2.1" class="ltx_p">We filtered each client to contain data only for a single label. Because of the sparseness of the data after filtering, we found that a 2 dimensional latent space was sufficient to compress our data without significant losses. We used a Multivariate Normal distribution for our posterior and prior, and an Independent Bernoulli distribution for our likelihood. The posterior was given a full covariance matrix to account for correlations in the latent variable. All models were trained for <math id="A5.p2.1.m1.1" class="ltx_Math" alttext="10^{4}" display="inline"><semantics id="A5.p2.1.m1.1a"><msup id="A5.p2.1.m1.1.1" xref="A5.p2.1.m1.1.1.cmml"><mn id="A5.p2.1.m1.1.1.2" xref="A5.p2.1.m1.1.1.2.cmml">10</mn><mn id="A5.p2.1.m1.1.1.3" xref="A5.p2.1.m1.1.1.3.cmml">4</mn></msup><annotation-xml encoding="MathML-Content" id="A5.p2.1.m1.1b"><apply id="A5.p2.1.m1.1.1.cmml" xref="A5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A5.p2.1.m1.1.1.1.cmml" xref="A5.p2.1.m1.1.1">superscript</csymbol><cn type="integer" id="A5.p2.1.m1.1.1.2.cmml" xref="A5.p2.1.m1.1.1.2">10</cn><cn type="integer" id="A5.p2.1.m1.1.1.3.cmml" xref="A5.p2.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p2.1.m1.1c">10^{4}</annotation></semantics></math> training steps.</p>
</div>
<div id="A5.p3" class="ltx_para">
<p id="A5.p3.1" class="ltx_p">In order to evaluate our models, we used a stochastic approximation to the log-evidence, given by a 1000 sample IWAE <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_text" style="font-size:90%;">Burda et al.</span>, <a href="#bib.bib12" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2015</span></a>)</cite>. IWAE is a lower bound on the Bayesian Evidence that becomes asymptotically tight when computed with a large number of samples. We evaluated the entropy for 100 clients from naturally partitioned, syntactically partitioned, and synthetically partitioned datasets, and computed the average across clients as our estimate for the client data entropy. We find that synthetic partitioning results in an average client entropy of 50 Nats, while Natural partitioning results in clients with only 40 Nats of entropy. Syntactic partitioning falls in between these two, having 45 Nats of entropy.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2110.14215" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2110.14216" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2110.14216">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2110.14216" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2110.14217" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar  2 03:18:00 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
