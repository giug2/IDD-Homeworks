<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation</title>
<!--Generated on Thu Aug  1 13:36:26 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2408.00555v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S1" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S2" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S2.SS1" title="In 2. Related Work ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Large Visual-Language Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S2.SS2" title="In 2. Related Work ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Hallucination in LVLMs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S2.SS3" title="In 2. Related Work ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Retrieval-Augmented Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.SS1" title="In 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>LVLM Input and Decoding</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.SS2" title="In 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Active Triggering Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.SS3" title="In 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Coarse-to-Fine Hierarchical Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.SS4" title="In 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Reranking Retrieving Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.SS5" title="In 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Joint Coarse-grained and Fine-grained Decoding</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.SS1" title="In 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.SS2" title="In 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.SS3" title="In 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Experiment Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Ablation Study</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS1" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Ablation of Coarse-to-Fine Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS2" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>The effectiveness of Reranking Method</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS3" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Ablation of Active Triggering Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS4" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Comparison with State-of-the-Art Method</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS5" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.5 </span>Text Generation Quality Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.SS6" title="In 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.6 </span>Qualitative Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S6" title="In Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoye Qu<sup class="ltx_sup" id="id1.1.1"><math alttext="{\dagger}" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><mo id="id1.1.1.m1.1.1" xref="id1.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">{\dagger}</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">†</annotation></semantics></math></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xiaoye@hust.edu.cn">xiaoye@hust.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.2.id1">Huazhong University of Science and Technology</span><span class="ltx_text ltx_affiliation_country" id="id5.3.id2">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qiyuan Chen<sup class="ltx_sup" id="id2.1.1"><math alttext="{\dagger}" class="ltx_Math" display="inline" id="id2.1.1.m1.1"><semantics id="id2.1.1.m1.1a"><mo id="id2.1.1.m1.1.1" xref="id2.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="id2.1.1.m1.1b"><ci id="id2.1.1.m1.1.1.cmml" xref="id2.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.1.1.m1.1c">{\dagger}</annotation><annotation encoding="application/x-llamapun" id="id2.1.1.m1.1d">†</annotation></semantics></math></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:chenqiyuan1012@gmail.com">chenqiyuan1012@gmail.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id6.2.id1">Zhejiang University</span><span class="ltx_text ltx_affiliation_country" id="id7.3.id2">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wei Wei<sup class="ltx_sup" id="id3.1.1"><math alttext="*" class="ltx_Math" display="inline" id="id3.1.1.m1.1"><semantics id="id3.1.1.m1.1a"><mo id="id3.1.1.m1.1.1" xref="id3.1.1.m1.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="id3.1.1.m1.1b"><times id="id3.1.1.m1.1.1.cmml" xref="id3.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id3.1.1.m1.1c">*</annotation><annotation encoding="application/x-llamapun" id="id3.1.1.m1.1d">∗</annotation></semantics></math></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:weiw@hust.edu.cn">weiw@hust.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id8.2.id1">Huazhong University of Science and Technology</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id2">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiashuo Sun
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:gasolsun36@gmail.com">gasolsun36@gmail.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Xiamen University</span><span class="ltx_text ltx_affiliation_country" id="id11.2.id2">China</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jianfeng Dong
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:dongjf24@gmail.com">dongjf24@gmail.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id12.1.id1">Zhejiang Gongshang University</span><span class="ltx_text ltx_affiliation_country" id="id13.2.id2">China</span>
</span></span></span>
</div>
<div class="ltx_dates">(2018)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id14.id1">Despite the remarkable ability of large vision-language models (LVLMs) in image comprehension, these models frequently generate plausible yet factually incorrect responses, a phenomenon known as hallucination.
Recently, in large language models (LLMs), augmenting LLMs by retrieving information from external knowledge resources has been proven as a promising solution to mitigate hallucinations.
However, the retrieval augmentation in LVLM significantly lags behind the widespread applications of LVLM.
Moreover, when transferred to augmenting LVLMs, sometimes the hallucination degree of the model is even exacerbated.
Motivated by the research gap and counter-intuitive phenomenon,
we introduce a novel framework, the Active Retrieval-Augmented large vision-language model (ARA), specifically designed to address hallucinations by incorporating three critical dimensions:
(i) dissecting the retrieval targets based on the inherent hierarchical structures of images. (ii) pinpointing the most effective retrieval methods and filtering out the reliable retrieval results. (iii) timing the retrieval process to coincide with episodes of low certainty, while circumventing unnecessary retrieval during periods of high certainty. To assess the capability of our proposed ARA model in reducing hallucination, we employ three widely used LVLM models (LLaVA-1.5, Qwen-VL, and mPLUG-Owl2) across four benchmarks.
Our empirical observations suggest that by utilizing fitting retrieval mechanisms and timing the retrieval judiciously, we can effectively mitigate the hallucination problem.
We hope that this study can provide deeper insights into how to adapt the retrieval augmentation to LVLMs for reducing hallucinations with more effective retrieval and minimal retrieval occurrences.</p>
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journal" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journal: </span>JACM</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalvolume" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalvolume: </span>37</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalnumber" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalnumber: </span>4</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_article" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">article: </span>111</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_publicationmonth" id="id8"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">publicationmonth: </span>8</span></span></span><span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup>
<sup class="ltx_sup" id="footnote1.1"><math alttext="{\dagger}" class="ltx_Math" display="inline" id="footnote1.1.m1.1"><semantics id="footnote1.1.m1.1b"><mo id="footnote1.1.m1.1.1" xref="footnote1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="footnote1.1.m1.1c"><ci id="footnote1.1.m1.1.1.cmml" xref="footnote1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote1.1.m1.1d">{\dagger}</annotation><annotation encoding="application/x-llamapun" id="footnote1.1.m1.1e">†</annotation></semantics></math></sup>The first two authors contribute equally.
<br class="ltx_break"/><sup class="ltx_sup" id="footnote1.2"><math alttext="*" class="ltx_Math" display="inline" id="footnote1.2.m1.1"><semantics id="footnote1.2.m1.1b"><mo id="footnote1.2.m1.1.1" xref="footnote1.2.m1.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="footnote1.2.m1.1c"><times id="footnote1.2.m1.1.1.cmml" xref="footnote1.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="footnote1.2.m1.1d">*</annotation><annotation encoding="application/x-llamapun" id="footnote1.2.m1.1e">∗</annotation></semantics></math></sup>Corresponding author.
</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recently, Large Vision-Language Models (LVLMs)  <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib3" title="">2023b</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib27" title="">2024a</a>; Ye et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib48" title="">2023</a>; Dai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib9" title="">2024</a>; Zhu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib57" title="">2023</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib5" title="">2023b</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib23" title="">2024b</a>)</cite> have gained widespread application across various scenarios due to their significant capacity to generate contextually appropriate text for visual inputs.
Benefiting from the advancements in model architecture, training methods, and data diversity, LVLMs exhibit superior performance for various tasks such as visual question answering <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib12" title="">2022</a>; Prasad et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib33" title="">2023</a>)</cite> and image captioning <cite class="ltx_cite ltx_citemacro_citep">(Ramos et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib37" title="">2023b</a>; Zeng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib52" title="">2024</a>)</cite>.
Despite these advancements, LVLMs still suffer from a significant challenge termed “hallucination”, whereby the models produce semantically plausible but factually inaccurate text, misaligned with the ground-truth content of the associated image  <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib56" title="">2023</a>; Yin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib50" title="">2023b</a>; Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>; Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib13" title="">2023</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib8" title="">2024b</a>; Zhu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib58" title="">2024</a>)</cite>.
This problem damages the practical employment of LVLMs, particularly in fields that require accurate content generation, such as medical <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib46" title="">2023</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib20" title="">2024</a>)</cite> and robotics <cite class="ltx_cite ltx_citemacro_citep">(Shah et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib40" title="">2023</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib28" title="">2024c</a>)</cite>, potentially resulting in severe consequences.
Hence, addressing the hallucination problem is paramount for bolstering the credibility of LVLMs across real-world scenarios.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">To mitigate hallucinations in LVLMs, a series of attempts have been recently proposed and can be broadly classified into two categories.
The first class of approach retrains the LVLMs with constructed hallucination-related datasets by
supervised fine-tuning (SFT)  <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib25" title="">2023c</a>; Gunjal et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib11" title="">2024</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib45" title="">2024b</a>)</cite>, or Reinforcement Learning from Human Feedback (RLHF) <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib43" title="">2023</a>; Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib51" title="">2023</a>)</cite>.
Although effective, these methods introduce significantly additional training costs.
The other solutions focus on designing more robust decoding strategies <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib8" title="">2024b</a>; Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib13" title="">2023</a>; Yin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib50" title="">2023b</a>; Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>. For example, VCD  <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite> introduces visual contrastive decoding to contrast output distributions derived from original and distorted visual inputs.
In this way, the LVLM reduces the over-reliance on statistical bias and unimodal prior.
Although these methods are training-free, they still suffer from the limitations of LVLMs’ static parametric capacity.
Recently, in the realm of large language models (LMs), augmenting LLMs <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib17" title="">2020</a>; Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib15" title="">2022</a>; Ram et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib35" title="">2023</a>)</cite> by retrieving information from external knowledge resources has shown promise in reducing language hallucinations. Furthermore, this retrieval augmentation serves as a flexible way to extend beyond the model’s inherent knowledge without the burden of extensive training costs.
In this paper, we aim to propose a novel framework to augment LVLMs with external knowledge by introducing an Active Retrieval-Augmented large vision-language model (ARA) for mitigating hallucinations. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">1</span></a>, given an input image and query, the LVLM tends to produce hallucinated answers. Instead, our model can accurately identify the most relevant pairs and output the correct answer.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S1.F1.g1" src="x1.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Given an input image and corresponding query, the vanilla LVLM fails to identify the clock within the image and outputs a hallucinated answer.
However, by employing the retrieval augmentation strategy proposed in this paper, the LVLM model can accurately answer the query.
</figcaption>
</figure>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Concretely, our proposed ARA is grounded in three critical dimensions for mitigating hallucinations in LVLMs.
Firstly, given the inherently hierarchical nature of images, simple full-image retrieval may result in noise and irrelevant outcomes, thus it is imperative to decompose the target object causing hallucination from the input image for more accurate retrieval.
Secondly, in contrast to augmenting LLMs, LVLMs offer diverse retrieval modalities due to their multimodal inputs.
In this way, discerning the most effective retrieval technique and securing trustworthy results is crucial for ensuring retrieving performance.
Lastly, excessive retrieval activations may lead to undue time expenditure and unnecessary retrieval.
By initiating retrieval only during periods of low LVLM certainty and knowledge deficiency, one can circumvent unnecessary or improper information retrieval.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Based on the above analysis, given the input image and query, our proposed ARA first devises a coarse-to-fine retrieving paradigm.
The target object is first extracted from the input query and subsequently positioned within a particular region of the input image. To build a robust retrieving system, we simultaneously engage in coarse-grained and fine-grained retrieval process which retrieves the full image as well as the specific regions pertaining to the target object. Recognizing the plurality of retrieval strategies due to the multimodal input, an extensive analysis of different methods is conducted to determine the most optimal retrieving approach.
Subsequent to acquiring pertinent text and image pairs from external databases, a reranking strategy is employed to eliminate unreliable outcomes, thereby augmenting LVLMs with the appropriate external information.
Particularly, retrieval operations are circumvented when the LVLM exhibits high certainty, to prevent the inclusion of superfluous retrieval that may introduce redundant information.
In this context, retrieval is activated using a difficulty metric that relies on the mutual information between multimodal inputs.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">To assess the efficacy of ARA, empirical evaluations are performed using three prevalent LVLMs across four benchmarks related to hallucination challenges.
The promising results demonstrate that our framework can effectively mitigate hallucinations.
To sum up, our contributions are summarized as follows:</p>
</div>
<div class="ltx_para" id="S1.p6">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Our research thoroughly investigates the three critical dimensions of augmenting LVLMs with external knowledge, including accurately dissecting the retrieval targets, pinpointing the most effective retrieval methods, and the sensible triggering of the retrieval process.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We introduce an Active Retrieval-Augmented large vision-language model (ARA) for mitigating hallucination.
Our empirical evidence indicates that, by employing appropriate retrieval mechanisms and carefully timing the retrievals, we can significantly address the issue of hallucination while maintaining a moderate frequency of retrieval.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Through comprehensive experiments, we demonstrate the superior performance of our proposed ARA in alleviating hallucinations using three well-known LVLMs across four hallucination-related benchmarks. The results in our paper also suggest that with optimal retrieval settings, the potential of augmenting LVLMs can be more effectively harnessed.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Large Visual-Language Models</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Recently, large-scale models have attracted significant attention and gained widespread applications <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib47" title="">2024a</a>; Zhuo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib59" title="">2024</a>; Lu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib31" title="">2024</a>; Su et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib42" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib41" title="">a</a>)</cite>.
LVLMs significantly enhance the interaction between humans and AI in a more natural and intuitive
ways and demonstrate remarkable capabilities in understanding and generating multi-modal content.
With the aid of advanced Large Language Models like LLaMA <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib44" title="">2023</a>)</cite> and Qwen <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib2" title="">2023a</a>)</cite>, a batch of LVLMs such as LLaVA-1.5 <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib27" title="">2024a</a>)</cite>, Qwen-VL <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib3" title="">2023b</a>)</cite>, and mPLUG-Owl2 <cite class="ltx_cite ltx_citemacro_citep">(Ye et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib48" title="">2023</a>)</cite> have emerged, which can comprehend and generate a wide array of content by utilizing information from distinct modalities like texts and images.
The training of LVLMs is divided into two critical phases: feature alignment and instruction fine-tuning. The former aims to model visual and textual inputs coherently, while the latter strives to enhance the ability of LVLMs to comprehend user queries.
Despite the advancements, these LVLMs continue to face significant challenges with hallucination issues. Thus, in this paper, we focus on solving hallucination problems to promote the use of LVLMs in practical scenarios.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Hallucination in LVLMs</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">In LVLMs, hallucination refers to models that generate seemingly plausible outputs inclusive of objects,
attributes, or relations that do not correspond with the images <cite class="ltx_cite ltx_citemacro_citep">(Yin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib49" title="">2023a</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib21" title="">2023</a>; Zhai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib53" title="">2023</a>)</cite>.
Approaches to address hallucinations in LVLMs have largely fallen into two camps. The first emphasizes model refinement through supervised fine-tuning or application of reinforcement learning techniques. For instance, LRV <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib26" title="">2023d</a>)</cite> seeks to diminish hallucinatory outputs by utilizing broad and varied supervised fine-tuning datasets.
For methods based on reinforcement learning, LLaVA-RLHF <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib43" title="">2023</a>)</cite> is the pioneer in applying Reinforcement Learning with Human Feedback (RLHF) to mitigate hallucination in LVLMs.
This approach is further refined by RLHF-V <cite class="ltx_cite ltx_citemacro_citep">(Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib51" title="">2023</a>)</cite>, which incorporates detailed corrective human feedback.
Considering the instability and training difficulty of RLHF, Zhao et al. <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib54" title="">2023</a>)</cite> employ Direct Preference Optimization (DPO) and build a hallucination-aware dataset for alleviating hallucination.
Although
While these methods have yielded notable advancements, they also introduce significant training overheads and are prone to overfitting the training data.
The second category consists of training-free strategies designed to circumvent hallucination without incurring additional training expenses.
VCD <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite> endeavors to rectify the model’s over-reliance on linguistic priors and statistical leanings by comparing the output distributions from both unaltered and visually perturbed inputs.
OPERA <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib13" title="">2023</a>)</cite> mitigates overconfidence in model predictions by integrating a penalty term into the model logits during beam search decoding, further enhanced with a strategic rollback feature.
Although these methods are effective, they still suffer from the limitations of LVLMs’ static parametric capacity.
In this paper, different from the above two paradigms, we focus on augmenting LVLMs with external knowledge to mitigate hallucination in LVLMs.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>Retrieval-Augmented Generation</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">In the realm of large language models (LLMs), Retrieval-Augmented Generation (RAG) has been widely used and shown promising results in mitigating hallucinations. RAG in LLMs retrieves relevant information from an external knowledge base before LLMs respond to a query <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib17" title="">2020</a>; Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib15" title="">2022</a>; Ram et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib35" title="">2023</a>)</cite>, thereby enabling them to collaboratively generate responses by leveraging the retrieved external non-parameterized knowledge alongside their internal parameterized knowledge.
However, its application in LVLMs has not been thoroughly explored. Since LVLMs present a multimodal nature, findings pertinent to LLMs cannot be indiscriminately extrapolated to LVLMs.
Predominantly, existing research on retrieval augmentation in multimodal tasks has been confined to image captioning <cite class="ltx_cite ltx_citemacro_citep">(Ramos et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib37" title="">2023b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib36" title="">a</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib4" title="">2023a</a>; Sarto et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib38" title="">2024</a>)</cite> or image generation <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib7" title="">2022</a>)</cite>, with a narrow focus that overlooks the broader implications of RAG in LVLMs, especially concerning its capacity for hallucination reduction.
In this paper, our research conducts an extensive evaluation of RAG’s applicability in LVLMs to mitigate hallucination by tailoring retrieval strategies and optimizing active retrieval processes.
It is worth noting that the active retrieving strategy has also been discussed in <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib16" title="">2023</a>)</cite> in LLM. However, they propose a token-level confidence for triggering the retrieval, which is not applicable in LVLMs and we will investigate it in the ablation study.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Method</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we first describe the generation procedure of the LVLMs, laying the groundwork for comprehending our approach. Subsequently, we will introduce our Active Retrieval-Augmentation large vision-language model (ARA) in detail. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.F2" title="Figure 2 ‣ 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">2</span></a>, given the input image and query, the LVLM first analyzes them based on mutual information and determines whether to trigger the retrieval process. If the retrieval is necessary, our ARA will follow a coarse-to-fine paradigm to dissect the retrieval targets and conduct jointly coarse-grained and fine-grained retrieval. Following this, a reranking of the retrieval outcomes is performed for additional refinement. Finally, the LVLM harnesses this externally sourced knowledge to generate the final response.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="403" id="S3.F2.g1" src="x2.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>The overall pipeline of our Active Retrieval-Augmented large vision-language model (ARA). Given the input image and query, our model first actively determines whether the input pair requires retrieval. If retrieval is not necessary, the LVLM will directly answer the input query based on the image. Otherwise, our model will perform a coarse-to-fine retrieval based on the input image. Subsequently, the retrieved image and text pairs are further reranked according to the caption of the input image. Finally, the retrieved coarse-grained and fine-grained pairs are jointly decoded to produce the final answer.</figcaption>
</figure>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>LVLM Input and Decoding</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.5">The input of LVLMs contains both image and text. Typically, the LVLMs use a vision encoder (e.g. CLIP) to extract visual tokens from the input images, and then map them into the input space of LLMs with a linear projection module.
Subsequently, the mapped visual tokens are used as part of the LLM input, along with the text input.
In this paper, we denote the visual tokens as <math alttext="\mathbf{x}^{v}=\{x_{0},x_{1},\ldots,x_{N-1}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.4"><semantics id="S3.SS1.p1.1.m1.4a"><mrow id="S3.SS1.p1.1.m1.4.4" xref="S3.SS1.p1.1.m1.4.4.cmml"><msup id="S3.SS1.p1.1.m1.4.4.5" xref="S3.SS1.p1.1.m1.4.4.5.cmml"><mi id="S3.SS1.p1.1.m1.4.4.5.2" xref="S3.SS1.p1.1.m1.4.4.5.2.cmml">𝐱</mi><mi id="S3.SS1.p1.1.m1.4.4.5.3" xref="S3.SS1.p1.1.m1.4.4.5.3.cmml">v</mi></msup><mo id="S3.SS1.p1.1.m1.4.4.4" xref="S3.SS1.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.4.4.3.3" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml"><mo id="S3.SS1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml">0</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.5" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.3.3.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml">x</mi><mn id="S3.SS1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml">1</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.6" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p1.1.m1.1.1.cmml">…</mi><mo id="S3.SS1.p1.1.m1.4.4.3.3.7" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.4.4.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.2" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml">x</mi><mrow id="S3.SS1.p1.1.m1.4.4.3.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml"><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.3.2" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.2.cmml">N</mi><mo id="S3.SS1.p1.1.m1.4.4.3.3.3.3.1" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.1.cmml">−</mo><mn id="S3.SS1.p1.1.m1.4.4.3.3.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.4b"><apply id="S3.SS1.p1.1.m1.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4"><eq id="S3.SS1.p1.1.m1.4.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4.4"></eq><apply id="S3.SS1.p1.1.m1.4.4.5.cmml" xref="S3.SS1.p1.1.m1.4.4.5"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.4.4.5.1.cmml" xref="S3.SS1.p1.1.m1.4.4.5">superscript</csymbol><ci id="S3.SS1.p1.1.m1.4.4.5.2.cmml" xref="S3.SS1.p1.1.m1.4.4.5.2">𝐱</ci><ci id="S3.SS1.p1.1.m1.4.4.5.3.cmml" xref="S3.SS1.p1.1.m1.4.4.5.3">𝑣</ci></apply><set id="S3.SS1.p1.1.m1.4.4.3.4.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">0</cn></apply><apply id="S3.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2">𝑥</ci><cn id="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3">1</cn></apply><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">…</ci><apply id="S3.SS1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2">𝑥</ci><apply id="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3"><minus id="S3.SS1.p1.1.m1.4.4.3.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.1"></minus><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.2">𝑁</ci><cn id="S3.SS1.p1.1.m1.4.4.3.3.3.3.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.4c">\mathbf{x}^{v}=\{x_{0},x_{1},\ldots,x_{N-1}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.4d">bold_x start_POSTSUPERSCRIPT italic_v end_POSTSUPERSCRIPT = { italic_x start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_N - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>. Here <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_N</annotation></semantics></math> is the length of the visual tokens and it is a fixed number in most cases.
Correspondingly, the input text is tokenized and we denote it as <math alttext="\mathbf{x}^{p}=\{x_{0},x_{1},\ldots,x_{M-1}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.4"><semantics id="S3.SS1.p1.3.m3.4a"><mrow id="S3.SS1.p1.3.m3.4.4" xref="S3.SS1.p1.3.m3.4.4.cmml"><msup id="S3.SS1.p1.3.m3.4.4.5" xref="S3.SS1.p1.3.m3.4.4.5.cmml"><mi id="S3.SS1.p1.3.m3.4.4.5.2" xref="S3.SS1.p1.3.m3.4.4.5.2.cmml">𝐱</mi><mi id="S3.SS1.p1.3.m3.4.4.5.3" xref="S3.SS1.p1.3.m3.4.4.5.3.cmml">p</mi></msup><mo id="S3.SS1.p1.3.m3.4.4.4" xref="S3.SS1.p1.3.m3.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.3.m3.4.4.3.3" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml"><mo id="S3.SS1.p1.3.m3.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.3.m3.2.2.1.1.1" xref="S3.SS1.p1.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.2.2.1.1.1.2" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.3.m3.2.2.1.1.1.3" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml">0</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.5" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.3.3.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.3.3.2.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml">x</mi><mn id="S3.SS1.p1.3.m3.3.3.2.2.2.3" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml">1</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.6" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p1.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p1.3.m3.4.4.3.3.7" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.4.4.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.2" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml">x</mi><mrow id="S3.SS1.p1.3.m3.4.4.3.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml"><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.3.2" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.2.cmml">M</mi><mo id="S3.SS1.p1.3.m3.4.4.3.3.3.3.1" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.1.cmml">−</mo><mn id="S3.SS1.p1.3.m3.4.4.3.3.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.4b"><apply id="S3.SS1.p1.3.m3.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4"><eq id="S3.SS1.p1.3.m3.4.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4.4"></eq><apply id="S3.SS1.p1.3.m3.4.4.5.cmml" xref="S3.SS1.p1.3.m3.4.4.5"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.4.4.5.1.cmml" xref="S3.SS1.p1.3.m3.4.4.5">superscript</csymbol><ci id="S3.SS1.p1.3.m3.4.4.5.2.cmml" xref="S3.SS1.p1.3.m3.4.4.5.2">𝐱</ci><ci id="S3.SS1.p1.3.m3.4.4.5.3.cmml" xref="S3.SS1.p1.3.m3.4.4.5.3">𝑝</ci></apply><set id="S3.SS1.p1.3.m3.4.4.3.4.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3"><apply id="S3.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3">0</cn></apply><apply id="S3.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2">𝑥</ci><cn id="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3">1</cn></apply><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">…</ci><apply id="S3.SS1.p1.3.m3.4.4.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2">𝑥</ci><apply id="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3"><minus id="S3.SS1.p1.3.m3.4.4.3.3.3.3.1.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.1"></minus><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.3.2.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.2">𝑀</ci><cn id="S3.SS1.p1.3.m3.4.4.3.3.3.3.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.4c">\mathbf{x}^{p}=\{x_{0},x_{1},\ldots,x_{M-1}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.4d">bold_x start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT = { italic_x start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_M - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>.
The image and text tokens are concatenated as the final input sequence and we denote it as <math alttext="\{x_{i}\}_{t=0}^{T-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><msubsup id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mrow id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml"><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.4.m4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.4.m4.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.3.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.3.2" xref="S3.SS1.p1.4.m4.1.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.4.m4.1.1.1.3.1" xref="S3.SS1.p1.4.m4.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.4.m4.1.1.1.3.3" xref="S3.SS1.p1.4.m4.1.1.1.3.3.cmml">0</mn></mrow><mrow id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml"><mi id="S3.SS1.p1.4.m4.1.1.3.2" xref="S3.SS1.p1.4.m4.1.1.3.2.cmml">T</mi><mo id="S3.SS1.p1.4.m4.1.1.3.1" xref="S3.SS1.p1.4.m4.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.4.m4.1.1.3.3" xref="S3.SS1.p1.4.m4.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><set id="S3.SS1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1"><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.4.m4.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3"><eq id="S3.SS1.p1.4.m4.1.1.1.3.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3.1"></eq><ci id="S3.SS1.p1.4.m4.1.1.1.3.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3.2">𝑡</ci><cn id="S3.SS1.p1.4.m4.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.1.1.1.3.3">0</cn></apply></apply><apply id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3"><minus id="S3.SS1.p1.4.m4.1.1.3.1.cmml" xref="S3.SS1.p1.4.m4.1.1.3.1"></minus><ci id="S3.SS1.p1.4.m4.1.1.3.2.cmml" xref="S3.SS1.p1.4.m4.1.1.3.2">𝑇</ci><cn id="S3.SS1.p1.4.m4.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\{x_{i}\}_{t=0}^{T-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">{ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_t = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> that <math alttext="T=N+M" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mrow id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">T</mi><mo id="S3.SS1.p1.5.m5.1.1.1" xref="S3.SS1.p1.5.m5.1.1.1.cmml">=</mo><mrow id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml"><mi id="S3.SS1.p1.5.m5.1.1.3.2" xref="S3.SS1.p1.5.m5.1.1.3.2.cmml">N</mi><mo id="S3.SS1.p1.5.m5.1.1.3.1" xref="S3.SS1.p1.5.m5.1.1.3.1.cmml">+</mo><mi id="S3.SS1.p1.5.m5.1.1.3.3" xref="S3.SS1.p1.5.m5.1.1.3.3.cmml">M</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><eq id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1.1"></eq><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝑇</ci><apply id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3"><plus id="S3.SS1.p1.5.m5.1.1.3.1.cmml" xref="S3.SS1.p1.5.m5.1.1.3.1"></plus><ci id="S3.SS1.p1.5.m5.1.1.3.2.cmml" xref="S3.SS1.p1.5.m5.1.1.3.2">𝑁</ci><ci id="S3.SS1.p1.5.m5.1.1.3.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">T=N+M</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_T = italic_N + italic_M</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.5">During decoding, LVLM gets the probabilities for the next token prediction, formally:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}(h_{t})]_{x_{t}},\quad x_{t}\in\mathcal{V}," class="ltx_Math" display="block" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1"><mrow id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.3.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.3.cmml">p</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.cmml"><mtext id="S3.E1.m1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.1.1.2.3a.cmml">SoftMax</mtext><mo id="S3.E1.m1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.1.1.2.2.cmml">⁢</mo><msub id="S3.E1.m1.1.1.1.1.1.1.2.1" xref="S3.E1.m1.1.1.1.1.1.1.2.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.2.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.2.1.cmml">[</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.3.cmml">L</mi><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.4" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.4.cmml">V</mi><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2a" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.5" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.5.cmml">L</mi><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2b" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.6" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.6.cmml">M</mi><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2c" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml">h</mi><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.2.1.cmml">]</mo></mrow><msub id="S3.E1.m1.1.1.1.1.1.1.2.1.3" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.3.2" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3.2.cmml">x</mi><mi id="S3.E1.m1.1.1.1.1.1.1.2.1.3.3" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3.3.cmml">t</mi></msub></msub></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.2.3" rspace="1.167em" xref="S3.E1.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E1.m1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.2.2.cmml"><msub id="S3.E1.m1.1.1.1.1.2.2.2" xref="S3.E1.m1.1.1.1.1.2.2.2.cmml"><mi id="S3.E1.m1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.1.1.1.1.2.2.2.2.cmml">x</mi><mi id="S3.E1.m1.1.1.1.1.2.2.2.3" xref="S3.E1.m1.1.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="S3.E1.m1.1.1.1.1.2.2.1" xref="S3.E1.m1.1.1.1.1.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.2.2.3" xref="S3.E1.m1.1.1.1.1.2.2.3.cmml">𝒱</mi></mrow></mrow><mo id="S3.E1.m1.1.1.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3a.cmml" xref="S3.E1.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3"></eq><apply id="S3.E1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3">𝑝</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2">𝑥</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3"><lt id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2"><times id="S3.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.2"></times><ci id="S3.E1.m1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.3"><mtext id="S3.E1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.3">SoftMax</mtext></ci><apply id="S3.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.2.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1">subscript</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.2.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.1.1.1.1.1.1.2.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.2">delimited-[]</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.3">𝐿</ci><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.4.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.4">𝑉</ci><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.5.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.5">𝐿</ci><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.6.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.6">𝑀</ci><apply id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.2">ℎ</ci><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.1.2.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.2.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3.2">𝑥</ci><ci id="S3.E1.m1.1.1.1.1.1.1.2.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2.1.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.E1.m1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2"><in id="S3.E1.m1.1.1.1.1.2.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.2.1"></in><apply id="S3.E1.m1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2.2.2">𝑥</ci><ci id="S3.E1.m1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.2.2.3">𝑡</ci></apply><ci id="S3.E1.m1.1.1.1.1.2.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.2.3">𝒱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">p(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}(h_{t})]_{x_{t}},\quad x_{t}\in\mathcal{V},</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">italic_p ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = SoftMax [ italic_L italic_V italic_L italic_M ( italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ] start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_V ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p2.4">where <math alttext="h_{t}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">h</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">ℎ</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">h_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> denotes the output hidden states at time step t for the input image and query, <math alttext="x_{&lt;t}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml"></mi><mo id="S3.SS1.p2.2.m2.1.1.3.1" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">&lt;</mo><mi id="S3.SS1.p2.2.m2.1.1.3.3" xref="S3.SS1.p2.2.m2.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑥</ci><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><lt id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3.1"></lt><csymbol cd="latexml" id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">absent</csymbol><ci id="S3.SS1.p2.2.m2.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">x_{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to simplify the sequence <math alttext="\{x_{i}\}_{i=0}^{t-1}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><msubsup id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mrow id="S3.SS1.p2.3.m3.1.1.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.1.2.cmml"><mo id="S3.SS1.p2.3.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p2.3.m3.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p2.3.m3.1.1.1.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.1.1.1.1.2" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.3.m3.1.1.1.1.1.1.3" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p2.3.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p2.3.m3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p2.3.m3.1.1.1.3" xref="S3.SS1.p2.3.m3.1.1.1.3.cmml"><mi id="S3.SS1.p2.3.m3.1.1.1.3.2" xref="S3.SS1.p2.3.m3.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.3.m3.1.1.1.3.1" xref="S3.SS1.p2.3.m3.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p2.3.m3.1.1.1.3.3" xref="S3.SS1.p2.3.m3.1.1.1.3.3.cmml">0</mn></mrow><mrow id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml"><mi id="S3.SS1.p2.3.m3.1.1.3.2" xref="S3.SS1.p2.3.m3.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p2.3.m3.1.1.3.1" xref="S3.SS1.p2.3.m3.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p2.3.m3.1.1.3.3" xref="S3.SS1.p2.3.m3.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1">superscript</csymbol><apply id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><set id="S3.SS1.p2.3.m3.1.1.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1.1"><apply id="S3.SS1.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p2.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p2.3.m3.1.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.1.3"><eq id="S3.SS1.p2.3.m3.1.1.1.3.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.3.1"></eq><ci id="S3.SS1.p2.3.m3.1.1.1.3.2.cmml" xref="S3.SS1.p2.3.m3.1.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.3.m3.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.3.m3.1.1.1.3.3">0</cn></apply></apply><apply id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3"><minus id="S3.SS1.p2.3.m3.1.1.3.1.cmml" xref="S3.SS1.p2.3.m3.1.1.3.1"></minus><ci id="S3.SS1.p2.3.m3.1.1.3.2.cmml" xref="S3.SS1.p2.3.m3.1.1.3.2">𝑡</ci><cn id="S3.SS1.p2.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.3.m3.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\{x_{i}\}_{i=0}^{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">{ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">caligraphic_V</annotation></semantics></math> means the whole vocabulary set. For greedy decoding, the token with the highest probability will be chosen.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Active Triggering Retrieval</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.F2" title="Figure 2 ‣ 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">2</span></a>, given the input image and query, our ARA model first determines whether the input pair requires retrieval. In this way, we can circumvent unnecessary retrieval during periods of high certainty.
In this section, we propose three active retrieval methods to explore the difficulty metrics that influence when to retrieve, including Confidence-aware Active Retrieval,
Question-aware Active Retrieval, and Image-aware Active Retrieval. The first method relies on the confidence of the model output, and the latter two matrices depend on the mutual information between the inputs.
An ideal metric should effectively reduce the frequency of retrievals and can easily apply to different LVLMs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.3"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.3.1">Confidence-aware Active Retrieval</span>. We feed the image and query into LVLMs to generate the answer. If the LVLM is confident about the answer, we accept it without retrieving additional information. Specifically, we actively trigger retrieval if any token of the answer has a confidence lower than the threshold <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_θ</annotation></semantics></math>. In this method, <math alttext="\theta=0" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">θ</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><eq id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></eq><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝜃</ci><cn id="S3.SS2.p2.2.m2.1.1.3.cmml" type="integer" xref="S3.SS2.p2.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\theta=0</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_θ = 0</annotation></semantics></math> indicates retrieval will never be used and <math alttext="\theta=1" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">θ</mi><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">=</mo><mn id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><eq id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></eq><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝜃</ci><cn id="S3.SS2.p2.3.m3.1.1.3.cmml" type="integer" xref="S3.SS2.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\theta=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_θ = 1</annotation></semantics></math> means that all inputs will use the retrieval. This strategy is inspired by <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib16" title="">2023</a>)</cite> in LLM.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">Query-aware Active Retrieval</span>. To better evaluate the difficulty of queries from a view of language bias, we evaluate the degree of LVLMs answering relying on the input image. To this end, we define a difficulty metric using mutual information based on the difference below:</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="M_{ij}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij})}-\log\frac{P(a_{ij}|Q_{i})}{%
P(a_{ij})}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij}|Q_{i})}." class="ltx_Math" display="block" id="S3.E2.m1.7"><semantics id="S3.E2.m1.7a"><mrow id="S3.E2.m1.7.7.1" xref="S3.E2.m1.7.7.1.1.cmml"><mrow id="S3.E2.m1.7.7.1.1" xref="S3.E2.m1.7.7.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.2" xref="S3.E2.m1.7.7.1.1.2.cmml"><mi id="S3.E2.m1.7.7.1.1.2.2" xref="S3.E2.m1.7.7.1.1.2.2.cmml">M</mi><mrow id="S3.E2.m1.7.7.1.1.2.3" xref="S3.E2.m1.7.7.1.1.2.3.cmml"><mi id="S3.E2.m1.7.7.1.1.2.3.2" xref="S3.E2.m1.7.7.1.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.7.7.1.1.2.3.1" xref="S3.E2.m1.7.7.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.7.7.1.1.2.3.3" xref="S3.E2.m1.7.7.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.E2.m1.7.7.1.1.3" xref="S3.E2.m1.7.7.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.7.7.1.1.4" xref="S3.E2.m1.7.7.1.1.4.cmml"><mrow id="S3.E2.m1.7.7.1.1.4.2" xref="S3.E2.m1.7.7.1.1.4.2.cmml"><mi id="S3.E2.m1.7.7.1.1.4.2.1" xref="S3.E2.m1.7.7.1.1.4.2.1.cmml">log</mi><mo id="S3.E2.m1.7.7.1.1.4.2a" lspace="0.167em" xref="S3.E2.m1.7.7.1.1.4.2.cmml">⁡</mo><mfrac id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml"><mrow id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.1.1.1.3.cmml">P</mi><mo id="S3.E2.m1.1.1.1.2" xref="S3.E2.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.1.1.1.1.1.1.4" xref="S3.E2.m1.1.1.1.1.1.1.4.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.4.2" xref="S3.E2.m1.1.1.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.E2.m1.1.1.1.1.1.1.4.3" xref="S3.E2.m1.1.1.1.1.1.1.4.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.4.3.2" xref="S3.E2.m1.1.1.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E2.m1.1.1.1.1.1.1.4.3.1" xref="S3.E2.m1.1.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E2.m1.1.1.1.1.1.1.4.3.3" xref="S3.E2.m1.1.1.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E2.m1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E2.m1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E2.m1.1.1.1.1.1.1.2.2.3" xref="S3.E2.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E2.m1.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E2.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml"><mi id="S3.E2.m1.2.2.2.3" xref="S3.E2.m1.2.2.2.3.cmml">P</mi><mo id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.2.1.1" xref="S3.E2.m1.2.2.2.1.1.1.cmml"><mo id="S3.E2.m1.2.2.2.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.2.1.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.2.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.cmml"><mi id="S3.E2.m1.2.2.2.1.1.1.2" xref="S3.E2.m1.2.2.2.1.1.1.2.cmml">a</mi><mrow id="S3.E2.m1.2.2.2.1.1.1.3" xref="S3.E2.m1.2.2.2.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.2.1.1.1.3.2" xref="S3.E2.m1.2.2.2.1.1.1.3.2.cmml">i</mi><mo id="S3.E2.m1.2.2.2.1.1.1.3.1" xref="S3.E2.m1.2.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.1.1.1.3.3" xref="S3.E2.m1.2.2.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S3.E2.m1.2.2.2.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S3.E2.m1.7.7.1.1.4.1" xref="S3.E2.m1.7.7.1.1.4.1.cmml">−</mo><mrow id="S3.E2.m1.7.7.1.1.4.3" xref="S3.E2.m1.7.7.1.1.4.3.cmml"><mi id="S3.E2.m1.7.7.1.1.4.3.1" xref="S3.E2.m1.7.7.1.1.4.3.1.cmml">log</mi><mo id="S3.E2.m1.7.7.1.1.4.3a" lspace="0.167em" xref="S3.E2.m1.7.7.1.1.4.3.cmml">⁡</mo><mfrac id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml"><mrow id="S3.E2.m1.3.3.1" xref="S3.E2.m1.3.3.1.cmml"><mi id="S3.E2.m1.3.3.1.3" xref="S3.E2.m1.3.3.1.3.cmml">P</mi><mo id="S3.E2.m1.3.3.1.2" xref="S3.E2.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.cmml"><mo id="S3.E2.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.3.3.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.2.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.2.2" xref="S3.E2.m1.3.3.1.1.1.1.2.2.cmml">a</mi><mrow id="S3.E2.m1.3.3.1.1.1.1.2.3" xref="S3.E2.m1.3.3.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.2.3.2" xref="S3.E2.m1.3.3.1.1.1.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.3.3.1.1.1.1.2.3.1" xref="S3.E2.m1.3.3.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.1.2.3.3" xref="S3.E2.m1.3.3.1.1.1.1.2.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E2.m1.3.3.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.cmml">|</mo><msub id="S3.E2.m1.3.3.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.3.2" xref="S3.E2.m1.3.3.1.1.1.1.3.2.cmml">Q</mi><mi id="S3.E2.m1.3.3.1.1.1.1.3.3" xref="S3.E2.m1.3.3.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E2.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.4.4.2" xref="S3.E2.m1.4.4.2.cmml"><mi id="S3.E2.m1.4.4.2.3" xref="S3.E2.m1.4.4.2.3.cmml">P</mi><mo id="S3.E2.m1.4.4.2.2" xref="S3.E2.m1.4.4.2.2.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.2.1.1" xref="S3.E2.m1.4.4.2.1.1.1.cmml"><mo id="S3.E2.m1.4.4.2.1.1.2" stretchy="false" xref="S3.E2.m1.4.4.2.1.1.1.cmml">(</mo><msub id="S3.E2.m1.4.4.2.1.1.1" xref="S3.E2.m1.4.4.2.1.1.1.cmml"><mi id="S3.E2.m1.4.4.2.1.1.1.2" xref="S3.E2.m1.4.4.2.1.1.1.2.cmml">a</mi><mrow id="S3.E2.m1.4.4.2.1.1.1.3" xref="S3.E2.m1.4.4.2.1.1.1.3.cmml"><mi id="S3.E2.m1.4.4.2.1.1.1.3.2" xref="S3.E2.m1.4.4.2.1.1.1.3.2.cmml">i</mi><mo id="S3.E2.m1.4.4.2.1.1.1.3.1" xref="S3.E2.m1.4.4.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.4.4.2.1.1.1.3.3" xref="S3.E2.m1.4.4.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S3.E2.m1.4.4.2.1.1.3" stretchy="false" xref="S3.E2.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.5" xref="S3.E2.m1.7.7.1.1.5.cmml">=</mo><mrow id="S3.E2.m1.7.7.1.1.6" xref="S3.E2.m1.7.7.1.1.6.cmml"><mi id="S3.E2.m1.7.7.1.1.6.1" xref="S3.E2.m1.7.7.1.1.6.1.cmml">log</mi><mo id="S3.E2.m1.7.7.1.1.6a" lspace="0.167em" xref="S3.E2.m1.7.7.1.1.6.cmml">⁡</mo><mfrac id="S3.E2.m1.6.6" xref="S3.E2.m1.6.6.cmml"><mrow id="S3.E2.m1.5.5.1" xref="S3.E2.m1.5.5.1.cmml"><mi id="S3.E2.m1.5.5.1.3" xref="S3.E2.m1.5.5.1.3.cmml">P</mi><mo id="S3.E2.m1.5.5.1.2" xref="S3.E2.m1.5.5.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.5.5.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.cmml"><mo id="S3.E2.m1.5.5.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.5.5.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.cmml"><msub id="S3.E2.m1.5.5.1.1.1.1.4" xref="S3.E2.m1.5.5.1.1.1.1.4.cmml"><mi id="S3.E2.m1.5.5.1.1.1.1.4.2" xref="S3.E2.m1.5.5.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.E2.m1.5.5.1.1.1.1.4.3" xref="S3.E2.m1.5.5.1.1.1.1.4.3.cmml"><mi id="S3.E2.m1.5.5.1.1.1.1.4.3.2" xref="S3.E2.m1.5.5.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E2.m1.5.5.1.1.1.1.4.3.1" xref="S3.E2.m1.5.5.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.1.1.1.1.4.3.3" xref="S3.E2.m1.5.5.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E2.m1.5.5.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.3.cmml">|</mo><mrow id="S3.E2.m1.5.5.1.1.1.1.2.2" xref="S3.E2.m1.5.5.1.1.1.1.2.3.cmml"><msub id="S3.E2.m1.5.5.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.E2.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E2.m1.5.5.1.1.1.1.2.2.3" xref="S3.E2.m1.5.5.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E2.m1.5.5.1.1.1.1.2.2.2" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.5.5.1.1.1.1.2.2.2.2" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E2.m1.5.5.1.1.1.1.2.2.2.3" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E2.m1.5.5.1.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.6.6.2" xref="S3.E2.m1.6.6.2.cmml"><mi id="S3.E2.m1.6.6.2.3" xref="S3.E2.m1.6.6.2.3.cmml">P</mi><mo id="S3.E2.m1.6.6.2.2" xref="S3.E2.m1.6.6.2.2.cmml">⁢</mo><mrow id="S3.E2.m1.6.6.2.1.1" xref="S3.E2.m1.6.6.2.1.1.1.cmml"><mo id="S3.E2.m1.6.6.2.1.1.2" stretchy="false" xref="S3.E2.m1.6.6.2.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.6.6.2.1.1.1" xref="S3.E2.m1.6.6.2.1.1.1.cmml"><msub id="S3.E2.m1.6.6.2.1.1.1.2" xref="S3.E2.m1.6.6.2.1.1.1.2.cmml"><mi id="S3.E2.m1.6.6.2.1.1.1.2.2" xref="S3.E2.m1.6.6.2.1.1.1.2.2.cmml">a</mi><mrow id="S3.E2.m1.6.6.2.1.1.1.2.3" xref="S3.E2.m1.6.6.2.1.1.1.2.3.cmml"><mi id="S3.E2.m1.6.6.2.1.1.1.2.3.2" xref="S3.E2.m1.6.6.2.1.1.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.6.6.2.1.1.1.2.3.1" xref="S3.E2.m1.6.6.2.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.6.6.2.1.1.1.2.3.3" xref="S3.E2.m1.6.6.2.1.1.1.2.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E2.m1.6.6.2.1.1.1.1" xref="S3.E2.m1.6.6.2.1.1.1.1.cmml">|</mo><msub id="S3.E2.m1.6.6.2.1.1.1.3" xref="S3.E2.m1.6.6.2.1.1.1.3.cmml"><mi id="S3.E2.m1.6.6.2.1.1.1.3.2" xref="S3.E2.m1.6.6.2.1.1.1.3.2.cmml">Q</mi><mi id="S3.E2.m1.6.6.2.1.1.1.3.3" xref="S3.E2.m1.6.6.2.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E2.m1.6.6.2.1.1.3" stretchy="false" xref="S3.E2.m1.6.6.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S3.E2.m1.7.7.1.2" lspace="0em" xref="S3.E2.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.7b"><apply id="S3.E2.m1.7.7.1.1.cmml" xref="S3.E2.m1.7.7.1"><and id="S3.E2.m1.7.7.1.1a.cmml" xref="S3.E2.m1.7.7.1"></and><apply id="S3.E2.m1.7.7.1.1b.cmml" xref="S3.E2.m1.7.7.1"><eq id="S3.E2.m1.7.7.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.3"></eq><apply id="S3.E2.m1.7.7.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.cmml" xref="S3.E2.m1.7.7.1.1.2">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.2.2.cmml" xref="S3.E2.m1.7.7.1.1.2.2">𝑀</ci><apply id="S3.E2.m1.7.7.1.1.2.3.cmml" xref="S3.E2.m1.7.7.1.1.2.3"><times id="S3.E2.m1.7.7.1.1.2.3.1.cmml" xref="S3.E2.m1.7.7.1.1.2.3.1"></times><ci id="S3.E2.m1.7.7.1.1.2.3.2.cmml" xref="S3.E2.m1.7.7.1.1.2.3.2">𝑖</ci><ci id="S3.E2.m1.7.7.1.1.2.3.3.cmml" xref="S3.E2.m1.7.7.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E2.m1.7.7.1.1.4.cmml" xref="S3.E2.m1.7.7.1.1.4"><minus id="S3.E2.m1.7.7.1.1.4.1.cmml" xref="S3.E2.m1.7.7.1.1.4.1"></minus><apply id="S3.E2.m1.7.7.1.1.4.2.cmml" xref="S3.E2.m1.7.7.1.1.4.2"><log id="S3.E2.m1.7.7.1.1.4.2.1.cmml" xref="S3.E2.m1.7.7.1.1.4.2.1"></log><apply id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2"><divide id="S3.E2.m1.2.2.3.cmml" xref="S3.E2.m1.2.2"></divide><apply id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"><times id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.2"></times><ci id="S3.E2.m1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.3">𝑃</ci><apply id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E2.m1.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.4.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.4.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4.2">𝑎</ci><apply id="S3.E2.m1.1.1.1.1.1.1.4.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4.3"><times id="S3.E2.m1.1.1.1.1.1.1.4.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4.3.1"></times><ci id="S3.E2.m1.1.1.1.1.1.1.4.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.E2.m1.1.1.1.1.1.1.4.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E2.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2"><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E2.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"><times id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2"></times><ci id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.3">𝑃</ci><apply id="S3.E2.m1.2.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.2.1.1.1.2">𝑎</ci><apply id="S3.E2.m1.2.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.2.1.1.1.3"><times id="S3.E2.m1.2.2.2.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1.3.1"></times><ci id="S3.E2.m1.2.2.2.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.2.1.1.1.3.2">𝑖</ci><ci id="S3.E2.m1.2.2.2.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.E2.m1.7.7.1.1.4.3.cmml" xref="S3.E2.m1.7.7.1.1.4.3"><log id="S3.E2.m1.7.7.1.1.4.3.1.cmml" xref="S3.E2.m1.7.7.1.1.4.3.1"></log><apply id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4"><divide id="S3.E2.m1.4.4.3.cmml" xref="S3.E2.m1.4.4"></divide><apply id="S3.E2.m1.3.3.1.cmml" xref="S3.E2.m1.3.3.1"><times id="S3.E2.m1.3.3.1.2.cmml" xref="S3.E2.m1.3.3.1.2"></times><ci id="S3.E2.m1.3.3.1.3.cmml" xref="S3.E2.m1.3.3.1.3">𝑃</ci><apply id="S3.E2.m1.3.3.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E2.m1.3.3.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2.2">𝑎</ci><apply id="S3.E2.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2.3"><times id="S3.E2.m1.3.3.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2.3.1"></times><ci id="S3.E2.m1.3.3.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2.3.2">𝑖</ci><ci id="S3.E2.m1.3.3.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E2.m1.3.3.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.2">𝑄</ci><ci id="S3.E2.m1.3.3.1.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E2.m1.4.4.2.cmml" xref="S3.E2.m1.4.4.2"><times id="S3.E2.m1.4.4.2.2.cmml" xref="S3.E2.m1.4.4.2.2"></times><ci id="S3.E2.m1.4.4.2.3.cmml" xref="S3.E2.m1.4.4.2.3">𝑃</ci><apply id="S3.E2.m1.4.4.2.1.1.1.cmml" xref="S3.E2.m1.4.4.2.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.2.1.1.1.1.cmml" xref="S3.E2.m1.4.4.2.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.2.1.1.1.2.cmml" xref="S3.E2.m1.4.4.2.1.1.1.2">𝑎</ci><apply id="S3.E2.m1.4.4.2.1.1.1.3.cmml" xref="S3.E2.m1.4.4.2.1.1.1.3"><times id="S3.E2.m1.4.4.2.1.1.1.3.1.cmml" xref="S3.E2.m1.4.4.2.1.1.1.3.1"></times><ci id="S3.E2.m1.4.4.2.1.1.1.3.2.cmml" xref="S3.E2.m1.4.4.2.1.1.1.3.2">𝑖</ci><ci id="S3.E2.m1.4.4.2.1.1.1.3.3.cmml" xref="S3.E2.m1.4.4.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply><apply id="S3.E2.m1.7.7.1.1c.cmml" xref="S3.E2.m1.7.7.1"><eq id="S3.E2.m1.7.7.1.1.5.cmml" xref="S3.E2.m1.7.7.1.1.5"></eq><share href="https://arxiv.org/html/2408.00555v1#S3.E2.m1.7.7.1.1.4.cmml" id="S3.E2.m1.7.7.1.1d.cmml" xref="S3.E2.m1.7.7.1"></share><apply id="S3.E2.m1.7.7.1.1.6.cmml" xref="S3.E2.m1.7.7.1.1.6"><log id="S3.E2.m1.7.7.1.1.6.1.cmml" xref="S3.E2.m1.7.7.1.1.6.1"></log><apply id="S3.E2.m1.6.6.cmml" xref="S3.E2.m1.6.6"><divide id="S3.E2.m1.6.6.3.cmml" xref="S3.E2.m1.6.6"></divide><apply id="S3.E2.m1.5.5.1.cmml" xref="S3.E2.m1.5.5.1"><times id="S3.E2.m1.5.5.1.2.cmml" xref="S3.E2.m1.5.5.1.2"></times><ci id="S3.E2.m1.5.5.1.3.cmml" xref="S3.E2.m1.5.5.1.3">𝑃</ci><apply id="S3.E2.m1.5.5.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.3">conditional</csymbol><apply id="S3.E2.m1.5.5.1.1.1.1.4.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.4.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.1.1.4.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4.2">𝑎</ci><apply id="S3.E2.m1.5.5.1.1.1.1.4.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4.3"><times id="S3.E2.m1.5.5.1.1.1.1.4.3.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4.3.1"></times><ci id="S3.E2.m1.5.5.1.1.1.1.4.3.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.E2.m1.5.5.1.1.1.1.4.3.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E2.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.2.2"><apply id="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E2.m1.5.5.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E2.m1.5.5.1.1.1.1.2.2.2.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E2.m1.6.6.2.cmml" xref="S3.E2.m1.6.6.2"><times id="S3.E2.m1.6.6.2.2.cmml" xref="S3.E2.m1.6.6.2.2"></times><ci id="S3.E2.m1.6.6.2.3.cmml" xref="S3.E2.m1.6.6.2.3">𝑃</ci><apply id="S3.E2.m1.6.6.2.1.1.1.cmml" xref="S3.E2.m1.6.6.2.1.1"><csymbol cd="latexml" id="S3.E2.m1.6.6.2.1.1.1.1.cmml" xref="S3.E2.m1.6.6.2.1.1.1.1">conditional</csymbol><apply id="S3.E2.m1.6.6.2.1.1.1.2.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.2.1.1.1.2.1.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.6.6.2.1.1.1.2.2.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2.2">𝑎</ci><apply id="S3.E2.m1.6.6.2.1.1.1.2.3.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2.3"><times id="S3.E2.m1.6.6.2.1.1.1.2.3.1.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2.3.1"></times><ci id="S3.E2.m1.6.6.2.1.1.1.2.3.2.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2.3.2">𝑖</ci><ci id="S3.E2.m1.6.6.2.1.1.1.2.3.3.cmml" xref="S3.E2.m1.6.6.2.1.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E2.m1.6.6.2.1.1.1.3.cmml" xref="S3.E2.m1.6.6.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.2.1.1.1.3.1.cmml" xref="S3.E2.m1.6.6.2.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.6.6.2.1.1.1.3.2.cmml" xref="S3.E2.m1.6.6.2.1.1.1.3.2">𝑄</ci><ci id="S3.E2.m1.6.6.2.1.1.1.3.3.cmml" xref="S3.E2.m1.6.6.2.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.7c">M_{ij}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij})}-\log\frac{P(a_{ij}|Q_{i})}{%
P(a_{ij})}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij}|Q_{i})}.</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.7d">italic_M start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT = roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ) end_ARG - roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ) end_ARG = roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.6">where <math alttext="P(a_{ij}|Q_{i})" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><mrow id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml">P</mi><mo id="S3.SS2.p5.1.m1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p5.1.m1.1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.1.1.cmml"><mo id="S3.SS2.p5.1.m1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p5.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p5.1.m1.1.1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.1.1.cmml"><msub id="S3.SS2.p5.1.m1.1.1.1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.1.1.1.2.2" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.2.cmml">a</mi><mrow id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.2" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.1" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.3" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.SS2.p5.1.m1.1.1.1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p5.1.m1.1.1.1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.1.1.1.3.2" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3.2.cmml">Q</mi><mi id="S3.SS2.p5.1.m1.1.1.1.1.1.3.3" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.SS2.p5.1.m1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p5.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><times id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2"></times><ci id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3">𝑃</ci><apply id="S3.SS2.p5.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p5.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.p5.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.2">𝑎</ci><apply id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3"><times id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.1"></times><ci id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.2">𝑖</ci><ci id="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.SS2.p5.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3.2">𝑄</ci><ci id="S3.SS2.p5.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">P(a_{ij}|Q_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> indicates the output probability with only query input to the LVLMs and <math alttext="P(a_{ij}|V_{i},Q_{i})" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m2.1"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">P</mi><mo id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p5.2.m2.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS2.p5.2.m2.1.1.1.1.2" stretchy="false" xref="S3.SS2.p5.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p5.2.m2.1.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.cmml"><msub id="S3.SS2.p5.2.m2.1.1.1.1.1.4" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.cmml"><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.4.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.SS2.p5.2.m2.1.1.1.1.1.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.3.cmml"><msub id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.cmml"><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.SS2.p5.2.m2.1.1.1.1.3" stretchy="false" xref="S3.SS2.p5.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><times id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2"></times><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝑃</ci><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p5.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.3">conditional</csymbol><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.4.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.1.1.4.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.4.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.2">𝑎</ci><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3"><times id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.1"></times><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.SS2.p5.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2"><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">P(a_{ij}|V_{i},Q_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m2.1d">italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> means the output probability with both query and image as model input. The higher <math alttext="M_{ij}" class="ltx_Math" display="inline" id="S3.SS2.p5.3.m3.1"><semantics id="S3.SS2.p5.3.m3.1a"><msub id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2" xref="S3.SS2.p5.3.m3.1.1.2.cmml">M</mi><mrow id="S3.SS2.p5.3.m3.1.1.3" xref="S3.SS2.p5.3.m3.1.1.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.3.2" xref="S3.SS2.p5.3.m3.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p5.3.m3.1.1.3.1" xref="S3.SS2.p5.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.3.m3.1.1.3.3" xref="S3.SS2.p5.3.m3.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><apply id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2">𝑀</ci><apply id="S3.SS2.p5.3.m3.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3"><times id="S3.SS2.p5.3.m3.1.1.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.3.1"></times><ci id="S3.SS2.p5.3.m3.1.1.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.3.2">𝑖</ci><ci id="S3.SS2.p5.3.m3.1.1.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">M_{ij}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.3.m3.1d">italic_M start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT</annotation></semantics></math> indicates more visual reasoning is needed to answer. <math alttext="M_{ij}&lt;0" class="ltx_Math" display="inline" id="S3.SS2.p5.4.m4.1"><semantics id="S3.SS2.p5.4.m4.1a"><mrow id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml"><msub id="S3.SS2.p5.4.m4.1.1.2" xref="S3.SS2.p5.4.m4.1.1.2.cmml"><mi id="S3.SS2.p5.4.m4.1.1.2.2" xref="S3.SS2.p5.4.m4.1.1.2.2.cmml">M</mi><mrow id="S3.SS2.p5.4.m4.1.1.2.3" xref="S3.SS2.p5.4.m4.1.1.2.3.cmml"><mi id="S3.SS2.p5.4.m4.1.1.2.3.2" xref="S3.SS2.p5.4.m4.1.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p5.4.m4.1.1.2.3.1" xref="S3.SS2.p5.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.4.m4.1.1.2.3.3" xref="S3.SS2.p5.4.m4.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS2.p5.4.m4.1.1.1" xref="S3.SS2.p5.4.m4.1.1.1.cmml">&lt;</mo><mn id="S3.SS2.p5.4.m4.1.1.3" xref="S3.SS2.p5.4.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1"><lt id="S3.SS2.p5.4.m4.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1"></lt><apply id="S3.SS2.p5.4.m4.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.2.1.cmml" xref="S3.SS2.p5.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.2.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2.2">𝑀</ci><apply id="S3.SS2.p5.4.m4.1.1.2.3.cmml" xref="S3.SS2.p5.4.m4.1.1.2.3"><times id="S3.SS2.p5.4.m4.1.1.2.3.1.cmml" xref="S3.SS2.p5.4.m4.1.1.2.3.1"></times><ci id="S3.SS2.p5.4.m4.1.1.2.3.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2.3.2">𝑖</ci><ci id="S3.SS2.p5.4.m4.1.1.2.3.3.cmml" xref="S3.SS2.p5.4.m4.1.1.2.3.3">𝑗</ci></apply></apply><cn id="S3.SS2.p5.4.m4.1.1.3.cmml" type="integer" xref="S3.SS2.p5.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">M_{ij}&lt;0</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.4.m4.1d">italic_M start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT &lt; 0</annotation></semantics></math> illustrates that the answer excessively depends on the input query. Thus, we define a threshold <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.p5.5.m5.1"><semantics id="S3.SS2.p5.5.m5.1a"><mi id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><ci id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.5.m5.1d">italic_θ</annotation></semantics></math> and trigger retrieval if <math alttext="M_{ij}&lt;\theta" class="ltx_Math" display="inline" id="S3.SS2.p5.6.m6.1"><semantics id="S3.SS2.p5.6.m6.1a"><mrow id="S3.SS2.p5.6.m6.1.1" xref="S3.SS2.p5.6.m6.1.1.cmml"><msub id="S3.SS2.p5.6.m6.1.1.2" xref="S3.SS2.p5.6.m6.1.1.2.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2.2" xref="S3.SS2.p5.6.m6.1.1.2.2.cmml">M</mi><mrow id="S3.SS2.p5.6.m6.1.1.2.3" xref="S3.SS2.p5.6.m6.1.1.2.3.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2.3.2" xref="S3.SS2.p5.6.m6.1.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p5.6.m6.1.1.2.3.1" xref="S3.SS2.p5.6.m6.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.6.m6.1.1.2.3.3" xref="S3.SS2.p5.6.m6.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS2.p5.6.m6.1.1.1" xref="S3.SS2.p5.6.m6.1.1.1.cmml">&lt;</mo><mi id="S3.SS2.p5.6.m6.1.1.3" xref="S3.SS2.p5.6.m6.1.1.3.cmml">θ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m6.1b"><apply id="S3.SS2.p5.6.m6.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1"><lt id="S3.SS2.p5.6.m6.1.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1.1"></lt><apply id="S3.SS2.p5.6.m6.1.1.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.6.m6.1.1.2.1.cmml" xref="S3.SS2.p5.6.m6.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.6.m6.1.1.2.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2.2">𝑀</ci><apply id="S3.SS2.p5.6.m6.1.1.2.3.cmml" xref="S3.SS2.p5.6.m6.1.1.2.3"><times id="S3.SS2.p5.6.m6.1.1.2.3.1.cmml" xref="S3.SS2.p5.6.m6.1.1.2.3.1"></times><ci id="S3.SS2.p5.6.m6.1.1.2.3.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2.3.2">𝑖</ci><ci id="S3.SS2.p5.6.m6.1.1.2.3.3.cmml" xref="S3.SS2.p5.6.m6.1.1.2.3.3">𝑗</ci></apply></apply><ci id="S3.SS2.p5.6.m6.1.1.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m6.1c">M_{ij}&lt;\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.6.m6.1d">italic_M start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT &lt; italic_θ</annotation></semantics></math>, where insufficient visual information is provided for answering the query. Incorporating retrieved information will enhance the confidence of LVLMs to answer.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p6">
<p class="ltx_p" id="S3.SS2.p6.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p6.1.1">Image-aware Active Retrieval</span>. Similar to the above query-aware active retrieval, we use the probability difference between the original and noisy image to evaluate the image information to answer the query. During the implementation, we use the method in <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite> to add noise.</p>
</div>
<div class="ltx_para" id="S3.SS2.p7">
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="D_{ij}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij})}-\log\frac{P(a_{ij}|V^{%
\prime}_{i},Q_{i})}{P(a_{ij})}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij}|V^{%
\prime}_{i},Q_{i})}." class="ltx_Math" display="block" id="S3.E3.m1.7"><semantics id="S3.E3.m1.7a"><mrow id="S3.E3.m1.7.7.1" xref="S3.E3.m1.7.7.1.1.cmml"><mrow id="S3.E3.m1.7.7.1.1" xref="S3.E3.m1.7.7.1.1.cmml"><msub id="S3.E3.m1.7.7.1.1.2" xref="S3.E3.m1.7.7.1.1.2.cmml"><mi id="S3.E3.m1.7.7.1.1.2.2" xref="S3.E3.m1.7.7.1.1.2.2.cmml">D</mi><mrow id="S3.E3.m1.7.7.1.1.2.3" xref="S3.E3.m1.7.7.1.1.2.3.cmml"><mi id="S3.E3.m1.7.7.1.1.2.3.2" xref="S3.E3.m1.7.7.1.1.2.3.2.cmml">i</mi><mo id="S3.E3.m1.7.7.1.1.2.3.1" xref="S3.E3.m1.7.7.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.2.3.3" xref="S3.E3.m1.7.7.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.E3.m1.7.7.1.1.3" xref="S3.E3.m1.7.7.1.1.3.cmml">=</mo><mrow id="S3.E3.m1.7.7.1.1.4" xref="S3.E3.m1.7.7.1.1.4.cmml"><mrow id="S3.E3.m1.7.7.1.1.4.2" xref="S3.E3.m1.7.7.1.1.4.2.cmml"><mi id="S3.E3.m1.7.7.1.1.4.2.1" xref="S3.E3.m1.7.7.1.1.4.2.1.cmml">log</mi><mo id="S3.E3.m1.7.7.1.1.4.2a" lspace="0.167em" xref="S3.E3.m1.7.7.1.1.4.2.cmml">⁡</mo><mfrac id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.3" xref="S3.E3.m1.1.1.1.3.cmml">P</mi><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><msub id="S3.E3.m1.1.1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.1.1.4.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.4.2" xref="S3.E3.m1.1.1.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.E3.m1.1.1.1.1.1.1.4.3" xref="S3.E3.m1.1.1.1.1.1.1.4.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.4.3.2" xref="S3.E3.m1.1.1.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E3.m1.1.1.1.1.1.1.4.3.1" xref="S3.E3.m1.1.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E3.m1.1.1.1.1.1.1.4.3.3" xref="S3.E3.m1.1.1.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E3.m1.1.1.1.1.1.1.2.2.3" xref="S3.E3.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E3.m1.1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E3.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.3.cmml">P</mi><mo id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.1.1" xref="S3.E3.m1.2.2.2.1.1.1.cmml"><mo id="S3.E3.m1.2.2.2.1.1.2" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.cmml">(</mo><msub id="S3.E3.m1.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.cmml"><mi id="S3.E3.m1.2.2.2.1.1.1.2" xref="S3.E3.m1.2.2.2.1.1.1.2.cmml">a</mi><mrow id="S3.E3.m1.2.2.2.1.1.1.3" xref="S3.E3.m1.2.2.2.1.1.1.3.cmml"><mi id="S3.E3.m1.2.2.2.1.1.1.3.2" xref="S3.E3.m1.2.2.2.1.1.1.3.2.cmml">i</mi><mo id="S3.E3.m1.2.2.2.1.1.1.3.1" xref="S3.E3.m1.2.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.2.2.2.1.1.1.3.3" xref="S3.E3.m1.2.2.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S3.E3.m1.2.2.2.1.1.3" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S3.E3.m1.7.7.1.1.4.1" xref="S3.E3.m1.7.7.1.1.4.1.cmml">−</mo><mrow id="S3.E3.m1.7.7.1.1.4.3" xref="S3.E3.m1.7.7.1.1.4.3.cmml"><mi id="S3.E3.m1.7.7.1.1.4.3.1" xref="S3.E3.m1.7.7.1.1.4.3.1.cmml">log</mi><mo id="S3.E3.m1.7.7.1.1.4.3a" lspace="0.167em" xref="S3.E3.m1.7.7.1.1.4.3.cmml">⁡</mo><mfrac id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml"><mrow id="S3.E3.m1.3.3.1" xref="S3.E3.m1.3.3.1.cmml"><mi id="S3.E3.m1.3.3.1.3" xref="S3.E3.m1.3.3.1.3.cmml">P</mi><mo id="S3.E3.m1.3.3.1.2" xref="S3.E3.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.3.3.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.cmml"><mo id="S3.E3.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.3.3.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.cmml"><msub id="S3.E3.m1.3.3.1.1.1.1.4" xref="S3.E3.m1.3.3.1.1.1.1.4.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.4.2" xref="S3.E3.m1.3.3.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.E3.m1.3.3.1.1.1.1.4.3" xref="S3.E3.m1.3.3.1.1.1.1.4.3.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.4.3.2" xref="S3.E3.m1.3.3.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E3.m1.3.3.1.1.1.1.4.3.1" xref="S3.E3.m1.3.3.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E3.m1.3.3.1.1.1.1.4.3.3" xref="S3.E3.m1.3.3.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E3.m1.3.3.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.1.3.cmml">|</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.2.2" xref="S3.E3.m1.3.3.1.1.1.1.2.3.cmml"><msubsup id="S3.E3.m1.3.3.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.3.cmml">i</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S3.E3.m1.3.3.1.1.1.1.2.2.3" xref="S3.E3.m1.3.3.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E3.m1.3.3.1.1.1.1.2.2.2" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.2.2.2.2" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E3.m1.3.3.1.1.1.1.2.2.2.3" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E3.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E3.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.4.4.2" xref="S3.E3.m1.4.4.2.cmml"><mi id="S3.E3.m1.4.4.2.3" xref="S3.E3.m1.4.4.2.3.cmml">P</mi><mo id="S3.E3.m1.4.4.2.2" xref="S3.E3.m1.4.4.2.2.cmml">⁢</mo><mrow id="S3.E3.m1.4.4.2.1.1" xref="S3.E3.m1.4.4.2.1.1.1.cmml"><mo id="S3.E3.m1.4.4.2.1.1.2" stretchy="false" xref="S3.E3.m1.4.4.2.1.1.1.cmml">(</mo><msub id="S3.E3.m1.4.4.2.1.1.1" xref="S3.E3.m1.4.4.2.1.1.1.cmml"><mi id="S3.E3.m1.4.4.2.1.1.1.2" xref="S3.E3.m1.4.4.2.1.1.1.2.cmml">a</mi><mrow id="S3.E3.m1.4.4.2.1.1.1.3" xref="S3.E3.m1.4.4.2.1.1.1.3.cmml"><mi id="S3.E3.m1.4.4.2.1.1.1.3.2" xref="S3.E3.m1.4.4.2.1.1.1.3.2.cmml">i</mi><mo id="S3.E3.m1.4.4.2.1.1.1.3.1" xref="S3.E3.m1.4.4.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.4.4.2.1.1.1.3.3" xref="S3.E3.m1.4.4.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S3.E3.m1.4.4.2.1.1.3" stretchy="false" xref="S3.E3.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S3.E3.m1.7.7.1.1.5" xref="S3.E3.m1.7.7.1.1.5.cmml">=</mo><mrow id="S3.E3.m1.7.7.1.1.6" xref="S3.E3.m1.7.7.1.1.6.cmml"><mi id="S3.E3.m1.7.7.1.1.6.1" xref="S3.E3.m1.7.7.1.1.6.1.cmml">log</mi><mo id="S3.E3.m1.7.7.1.1.6a" lspace="0.167em" xref="S3.E3.m1.7.7.1.1.6.cmml">⁡</mo><mfrac id="S3.E3.m1.6.6" xref="S3.E3.m1.6.6.cmml"><mrow id="S3.E3.m1.5.5.1" xref="S3.E3.m1.5.5.1.cmml"><mi id="S3.E3.m1.5.5.1.3" xref="S3.E3.m1.5.5.1.3.cmml">P</mi><mo id="S3.E3.m1.5.5.1.2" xref="S3.E3.m1.5.5.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.5.5.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.cmml"><mo id="S3.E3.m1.5.5.1.1.1.2" stretchy="false" xref="S3.E3.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.5.5.1.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.cmml"><msub id="S3.E3.m1.5.5.1.1.1.1.4" xref="S3.E3.m1.5.5.1.1.1.1.4.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.4.2" xref="S3.E3.m1.5.5.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.E3.m1.5.5.1.1.1.1.4.3" xref="S3.E3.m1.5.5.1.1.1.1.4.3.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.4.3.2" xref="S3.E3.m1.5.5.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E3.m1.5.5.1.1.1.1.4.3.1" xref="S3.E3.m1.5.5.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E3.m1.5.5.1.1.1.1.4.3.3" xref="S3.E3.m1.5.5.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E3.m1.5.5.1.1.1.1.3" xref="S3.E3.m1.5.5.1.1.1.1.3.cmml">|</mo><mrow id="S3.E3.m1.5.5.1.1.1.1.2.2" xref="S3.E3.m1.5.5.1.1.1.1.2.3.cmml"><msub id="S3.E3.m1.5.5.1.1.1.1.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E3.m1.5.5.1.1.1.1.2.2.3" xref="S3.E3.m1.5.5.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E3.m1.5.5.1.1.1.1.2.2.2" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.2.2.2.2" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E3.m1.5.5.1.1.1.1.2.2.2.3" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E3.m1.5.5.1.1.1.3" stretchy="false" xref="S3.E3.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.6.6.2" xref="S3.E3.m1.6.6.2.cmml"><mi id="S3.E3.m1.6.6.2.3" xref="S3.E3.m1.6.6.2.3.cmml">P</mi><mo id="S3.E3.m1.6.6.2.2" xref="S3.E3.m1.6.6.2.2.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.2.1.1" xref="S3.E3.m1.6.6.2.1.1.1.cmml"><mo id="S3.E3.m1.6.6.2.1.1.2" stretchy="false" xref="S3.E3.m1.6.6.2.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.6.6.2.1.1.1" xref="S3.E3.m1.6.6.2.1.1.1.cmml"><msub id="S3.E3.m1.6.6.2.1.1.1.4" xref="S3.E3.m1.6.6.2.1.1.1.4.cmml"><mi id="S3.E3.m1.6.6.2.1.1.1.4.2" xref="S3.E3.m1.6.6.2.1.1.1.4.2.cmml">a</mi><mrow id="S3.E3.m1.6.6.2.1.1.1.4.3" xref="S3.E3.m1.6.6.2.1.1.1.4.3.cmml"><mi id="S3.E3.m1.6.6.2.1.1.1.4.3.2" xref="S3.E3.m1.6.6.2.1.1.1.4.3.2.cmml">i</mi><mo id="S3.E3.m1.6.6.2.1.1.1.4.3.1" xref="S3.E3.m1.6.6.2.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E3.m1.6.6.2.1.1.1.4.3.3" xref="S3.E3.m1.6.6.2.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.E3.m1.6.6.2.1.1.1.3" xref="S3.E3.m1.6.6.2.1.1.1.3.cmml">|</mo><mrow id="S3.E3.m1.6.6.2.1.1.1.2.2" xref="S3.E3.m1.6.6.2.1.1.1.2.3.cmml"><msubsup id="S3.E3.m1.6.6.2.1.1.1.1.1.1" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.2" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.E3.m1.6.6.2.1.1.1.1.1.1.3" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.3.cmml">i</mi><mo id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.3" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S3.E3.m1.6.6.2.1.1.1.2.2.3" xref="S3.E3.m1.6.6.2.1.1.1.2.3.cmml">,</mo><msub id="S3.E3.m1.6.6.2.1.1.1.2.2.2" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2.cmml"><mi id="S3.E3.m1.6.6.2.1.1.1.2.2.2.2" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.E3.m1.6.6.2.1.1.1.2.2.2.3" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E3.m1.6.6.2.1.1.3" stretchy="false" xref="S3.E3.m1.6.6.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S3.E3.m1.7.7.1.2" lspace="0em" xref="S3.E3.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.7b"><apply id="S3.E3.m1.7.7.1.1.cmml" xref="S3.E3.m1.7.7.1"><and id="S3.E3.m1.7.7.1.1a.cmml" xref="S3.E3.m1.7.7.1"></and><apply id="S3.E3.m1.7.7.1.1b.cmml" xref="S3.E3.m1.7.7.1"><eq id="S3.E3.m1.7.7.1.1.3.cmml" xref="S3.E3.m1.7.7.1.1.3"></eq><apply id="S3.E3.m1.7.7.1.1.2.cmml" xref="S3.E3.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.2.1.cmml" xref="S3.E3.m1.7.7.1.1.2">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.2.2.cmml" xref="S3.E3.m1.7.7.1.1.2.2">𝐷</ci><apply id="S3.E3.m1.7.7.1.1.2.3.cmml" xref="S3.E3.m1.7.7.1.1.2.3"><times id="S3.E3.m1.7.7.1.1.2.3.1.cmml" xref="S3.E3.m1.7.7.1.1.2.3.1"></times><ci id="S3.E3.m1.7.7.1.1.2.3.2.cmml" xref="S3.E3.m1.7.7.1.1.2.3.2">𝑖</ci><ci id="S3.E3.m1.7.7.1.1.2.3.3.cmml" xref="S3.E3.m1.7.7.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E3.m1.7.7.1.1.4.cmml" xref="S3.E3.m1.7.7.1.1.4"><minus id="S3.E3.m1.7.7.1.1.4.1.cmml" xref="S3.E3.m1.7.7.1.1.4.1"></minus><apply id="S3.E3.m1.7.7.1.1.4.2.cmml" xref="S3.E3.m1.7.7.1.1.4.2"><log id="S3.E3.m1.7.7.1.1.4.2.1.cmml" xref="S3.E3.m1.7.7.1.1.4.2.1"></log><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><divide id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2"></divide><apply id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><times id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.3">𝑃</ci><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.4.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.4.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4.2">𝑎</ci><apply id="S3.E3.m1.1.1.1.1.1.1.4.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4.3"><times id="S3.E3.m1.1.1.1.1.1.1.4.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4.3.1"></times><ci id="S3.E3.m1.1.1.1.1.1.1.4.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.E3.m1.1.1.1.1.1.1.4.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E3.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E3.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><times id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2"></times><ci id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.3">𝑃</ci><apply id="S3.E3.m1.2.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1">subscript</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.2">𝑎</ci><apply id="S3.E3.m1.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3"><times id="S3.E3.m1.2.2.2.1.1.1.3.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.1"></times><ci id="S3.E3.m1.2.2.2.1.1.1.3.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.2">𝑖</ci><ci id="S3.E3.m1.2.2.2.1.1.1.3.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.E3.m1.7.7.1.1.4.3.cmml" xref="S3.E3.m1.7.7.1.1.4.3"><log id="S3.E3.m1.7.7.1.1.4.3.1.cmml" xref="S3.E3.m1.7.7.1.1.4.3.1"></log><apply id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4"><divide id="S3.E3.m1.4.4.3.cmml" xref="S3.E3.m1.4.4"></divide><apply id="S3.E3.m1.3.3.1.cmml" xref="S3.E3.m1.3.3.1"><times id="S3.E3.m1.3.3.1.2.cmml" xref="S3.E3.m1.3.3.1.2"></times><ci id="S3.E3.m1.3.3.1.3.cmml" xref="S3.E3.m1.3.3.1.3">𝑃</ci><apply id="S3.E3.m1.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.3.3.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.3">conditional</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.4.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.4.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.4.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4.2">𝑎</ci><apply id="S3.E3.m1.3.3.1.1.1.1.4.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4.3"><times id="S3.E3.m1.3.3.1.1.1.1.4.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4.3.1"></times><ci id="S3.E3.m1.3.3.1.1.1.1.4.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.E3.m1.3.3.1.1.1.1.4.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E3.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2.2"><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E3.m1.3.3.1.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E3.m1.4.4.2.cmml" xref="S3.E3.m1.4.4.2"><times id="S3.E3.m1.4.4.2.2.cmml" xref="S3.E3.m1.4.4.2.2"></times><ci id="S3.E3.m1.4.4.2.3.cmml" xref="S3.E3.m1.4.4.2.3">𝑃</ci><apply id="S3.E3.m1.4.4.2.1.1.1.cmml" xref="S3.E3.m1.4.4.2.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.2.1.1.1.1.cmml" xref="S3.E3.m1.4.4.2.1.1">subscript</csymbol><ci id="S3.E3.m1.4.4.2.1.1.1.2.cmml" xref="S3.E3.m1.4.4.2.1.1.1.2">𝑎</ci><apply id="S3.E3.m1.4.4.2.1.1.1.3.cmml" xref="S3.E3.m1.4.4.2.1.1.1.3"><times id="S3.E3.m1.4.4.2.1.1.1.3.1.cmml" xref="S3.E3.m1.4.4.2.1.1.1.3.1"></times><ci id="S3.E3.m1.4.4.2.1.1.1.3.2.cmml" xref="S3.E3.m1.4.4.2.1.1.1.3.2">𝑖</ci><ci id="S3.E3.m1.4.4.2.1.1.1.3.3.cmml" xref="S3.E3.m1.4.4.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply><apply id="S3.E3.m1.7.7.1.1c.cmml" xref="S3.E3.m1.7.7.1"><eq id="S3.E3.m1.7.7.1.1.5.cmml" xref="S3.E3.m1.7.7.1.1.5"></eq><share href="https://arxiv.org/html/2408.00555v1#S3.E3.m1.7.7.1.1.4.cmml" id="S3.E3.m1.7.7.1.1d.cmml" xref="S3.E3.m1.7.7.1"></share><apply id="S3.E3.m1.7.7.1.1.6.cmml" xref="S3.E3.m1.7.7.1.1.6"><log id="S3.E3.m1.7.7.1.1.6.1.cmml" xref="S3.E3.m1.7.7.1.1.6.1"></log><apply id="S3.E3.m1.6.6.cmml" xref="S3.E3.m1.6.6"><divide id="S3.E3.m1.6.6.3.cmml" xref="S3.E3.m1.6.6"></divide><apply id="S3.E3.m1.5.5.1.cmml" xref="S3.E3.m1.5.5.1"><times id="S3.E3.m1.5.5.1.2.cmml" xref="S3.E3.m1.5.5.1.2"></times><ci id="S3.E3.m1.5.5.1.3.cmml" xref="S3.E3.m1.5.5.1.3">𝑃</ci><apply id="S3.E3.m1.5.5.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.5.5.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.3">conditional</csymbol><apply id="S3.E3.m1.5.5.1.1.1.1.4.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.1.4.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.1.4.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4.2">𝑎</ci><apply id="S3.E3.m1.5.5.1.1.1.1.4.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4.3"><times id="S3.E3.m1.5.5.1.1.1.1.4.3.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4.3.1"></times><ci id="S3.E3.m1.5.5.1.1.1.1.4.3.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.E3.m1.5.5.1.1.1.1.4.3.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E3.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.2.2"><apply id="S3.E3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.5.5.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E3.m1.5.5.1.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E3.m1.6.6.2.cmml" xref="S3.E3.m1.6.6.2"><times id="S3.E3.m1.6.6.2.2.cmml" xref="S3.E3.m1.6.6.2.2"></times><ci id="S3.E3.m1.6.6.2.3.cmml" xref="S3.E3.m1.6.6.2.3">𝑃</ci><apply id="S3.E3.m1.6.6.2.1.1.1.cmml" xref="S3.E3.m1.6.6.2.1.1"><csymbol cd="latexml" id="S3.E3.m1.6.6.2.1.1.1.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.3">conditional</csymbol><apply id="S3.E3.m1.6.6.2.1.1.1.4.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.2.1.1.1.4.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.6.6.2.1.1.1.4.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4.2">𝑎</ci><apply id="S3.E3.m1.6.6.2.1.1.1.4.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4.3"><times id="S3.E3.m1.6.6.2.1.1.1.4.3.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4.3.1"></times><ci id="S3.E3.m1.6.6.2.1.1.1.4.3.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4.3.2">𝑖</ci><ci id="S3.E3.m1.6.6.2.1.1.1.4.3.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.E3.m1.6.6.2.1.1.1.2.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.2.2"><apply id="S3.E3.m1.6.6.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.E3.m1.6.6.2.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.6.6.2.1.1.1.2.2.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.2.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.6.6.2.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.E3.m1.6.6.2.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.6.6.2.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.7c">D_{ij}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij})}-\log\frac{P(a_{ij}|V^{%
\prime}_{i},Q_{i})}{P(a_{ij})}=\log\frac{P(a_{ij}|V_{i},Q_{i})}{P(a_{ij}|V^{%
\prime}_{i},Q_{i})}.</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.7d">italic_D start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT = roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ) end_ARG - roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ) end_ARG = roman_log divide start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p8">
<p class="ltx_p" id="S3.SS2.p8.4">where <math alttext="P(a_{ij}|V_{i},Q_{i})" class="ltx_Math" display="inline" id="S3.SS2.p8.1.m1.1"><semantics id="S3.SS2.p8.1.m1.1a"><mrow id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml">P</mi><mo id="S3.SS2.p8.1.m1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p8.1.m1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.cmml"><mo id="S3.SS2.p8.1.m1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p8.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p8.1.m1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.cmml"><msub id="S3.SS2.p8.1.m1.1.1.1.1.1.4" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.4.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.SS2.p8.1.m1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.3.cmml"><msub id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.SS2.p8.1.m1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p8.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><times id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2"></times><ci id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3">𝑃</ci><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p8.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.4.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.4.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.4.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.2">𝑎</ci><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3"><times id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.SS2.p8.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2"><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">P(a_{ij}|V_{i},Q_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.1.m1.1d">italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> indicates the output probability with query and input image, <math alttext="P(a_{ij}|V^{\prime}_{i},Q_{i})" class="ltx_Math" display="inline" id="S3.SS2.p8.2.m2.1"><semantics id="S3.SS2.p8.2.m2.1a"><mrow id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml"><mi id="S3.SS2.p8.2.m2.1.1.3" xref="S3.SS2.p8.2.m2.1.1.3.cmml">P</mi><mo id="S3.SS2.p8.2.m2.1.1.2" xref="S3.SS2.p8.2.m2.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p8.2.m2.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS2.p8.2.m2.1.1.1.1.2" stretchy="false" xref="S3.SS2.p8.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.cmml"><msub id="S3.SS2.p8.2.m2.1.1.1.1.1.4" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.4.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.2.cmml">a</mi><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.2.cmml">i</mi><mo id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.3.cmml">j</mi></mrow></msub><mo fence="false" id="S3.SS2.p8.2.m2.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.3.cmml"><msubsup id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.3.cmml">i</mi><mo id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.2.cmml">Q</mi><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.SS2.p8.2.m2.1.1.1.1.3" stretchy="false" xref="S3.SS2.p8.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><apply id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1"><times id="S3.SS2.p8.2.m2.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.2"></times><ci id="S3.SS2.p8.2.m2.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.3">𝑃</ci><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p8.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.3">conditional</csymbol><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.4.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.4.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.4.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.2">𝑎</ci><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3"><times id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.1"></times><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.4.3.3">𝑗</ci></apply></apply><list id="S3.SS2.p8.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2"><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.2">𝑄</ci><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">P(a_{ij}|V^{\prime}_{i},Q_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.2.m2.1d">italic_P ( italic_a start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT | italic_V start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> means the output probability with query and noisy image. Analogously, we define a boundary <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.p8.3.m3.1"><semantics id="S3.SS2.p8.3.m3.1a"><mi id="S3.SS2.p8.3.m3.1.1" xref="S3.SS2.p8.3.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m3.1b"><ci id="S3.SS2.p8.3.m3.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m3.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.3.m3.1d">italic_θ</annotation></semantics></math> and trigger retrieval if <math alttext="D_{ij}&lt;\theta" class="ltx_Math" display="inline" id="S3.SS2.p8.4.m4.1"><semantics id="S3.SS2.p8.4.m4.1a"><mrow id="S3.SS2.p8.4.m4.1.1" xref="S3.SS2.p8.4.m4.1.1.cmml"><msub id="S3.SS2.p8.4.m4.1.1.2" xref="S3.SS2.p8.4.m4.1.1.2.cmml"><mi id="S3.SS2.p8.4.m4.1.1.2.2" xref="S3.SS2.p8.4.m4.1.1.2.2.cmml">D</mi><mrow id="S3.SS2.p8.4.m4.1.1.2.3" xref="S3.SS2.p8.4.m4.1.1.2.3.cmml"><mi id="S3.SS2.p8.4.m4.1.1.2.3.2" xref="S3.SS2.p8.4.m4.1.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p8.4.m4.1.1.2.3.1" xref="S3.SS2.p8.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p8.4.m4.1.1.2.3.3" xref="S3.SS2.p8.4.m4.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS2.p8.4.m4.1.1.1" xref="S3.SS2.p8.4.m4.1.1.1.cmml">&lt;</mo><mi id="S3.SS2.p8.4.m4.1.1.3" xref="S3.SS2.p8.4.m4.1.1.3.cmml">θ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.4.m4.1b"><apply id="S3.SS2.p8.4.m4.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1"><lt id="S3.SS2.p8.4.m4.1.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1.1"></lt><apply id="S3.SS2.p8.4.m4.1.1.2.cmml" xref="S3.SS2.p8.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p8.4.m4.1.1.2.1.cmml" xref="S3.SS2.p8.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p8.4.m4.1.1.2.2.cmml" xref="S3.SS2.p8.4.m4.1.1.2.2">𝐷</ci><apply id="S3.SS2.p8.4.m4.1.1.2.3.cmml" xref="S3.SS2.p8.4.m4.1.1.2.3"><times id="S3.SS2.p8.4.m4.1.1.2.3.1.cmml" xref="S3.SS2.p8.4.m4.1.1.2.3.1"></times><ci id="S3.SS2.p8.4.m4.1.1.2.3.2.cmml" xref="S3.SS2.p8.4.m4.1.1.2.3.2">𝑖</ci><ci id="S3.SS2.p8.4.m4.1.1.2.3.3.cmml" xref="S3.SS2.p8.4.m4.1.1.2.3.3">𝑗</ci></apply></apply><ci id="S3.SS2.p8.4.m4.1.1.3.cmml" xref="S3.SS2.p8.4.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.4.m4.1c">D_{ij}&lt;\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT &lt; italic_θ</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Coarse-to-Fine Hierarchical Retrieval</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Given the inherently hierarchical nature of images, simple full-image retrieval may result in noise and irrelevant outcomes. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.F2" title="Figure 2 ‣ 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">2</span></a>, using the full image for retrieval can not obtain the most relevant information for reasoning, namely “red shirt”. Thus it is imperative to decompose the target object causing hallucination from the input image for more accurate retrieval.
In the following, we will first describe the coarse-grained retrieval and then introduce the fine-grained retrieve.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS3.p2.1.1">Coarse-grained Retrieve.</span>
Initially, based on the input image, we use the CLIP to extract the visual embedding. Similarly, we build the embeddings for the images and corresponding texts in the knowledge base. Then, we can retrieve the relevant images from knowledge bases with the similarity between images. Finally, the top-K image and text pairs will be fetched for the following reasoning.
Benefiting from the multimodal encoding ability of CLIP, we can also retrieve the top-K pairs by matching the input image with texts in the database. We will compare different retrieving methods in the ablation study.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS3.p3.1.1">Fine-grained Retrieve.</span> While full-image retrieval can incorporate valuable information, it may overlook fine-grained details, such as diminutive objects and intricate attribute data. Therefore, it is crucial to propose a fine-grained retrieval mechanism that concentrates on the distinct objects within an image.
To conduct fine-grained retrieval, we initially extract key entities from the input query utilizing the large language model LLaMA2-7B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib44" title="">2023</a>)</cite>. This extraction is facilitated by in-context learning <cite class="ltx_cite ltx_citemacro_citep">(Dong et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib10" title="">2022</a>)</cite>, where demonstrations are presented to the LLM, which subsequently outputs the specific entities from the input query.
Following this, Grounding Dino <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib29" title="">2023e</a>)</cite> is deployed to identify the objects in the image that correspond to the extracted entities. As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.F2" title="Figure 2 ‣ 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">2</span></a>, we crop the targeted object and then perform retrieval in a manner akin to the previously described coarse-grained retrieval.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Reranking Retrieving Results</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Throughout the above retrieving process, the similarity is computed by the CLIP embeddings between images. In this way, the visually similar but semantically different pairs may be recalled.
To avoid noisy retrieving results which bring different semantic, after obtaining the retrieved pairs for both coarse-grained and fine-grained retrieval, we subsequently propose a reranking strategy designed to recalibrate the retrieved outcomes.
Specifically, we adopt the LVLM to describe the input image and generate a detailed caption. For coarse-grained retrieval, the input full image is characterized, while describing the cropped image for the fine-grained retrieval.
In this way, we are able to derive the semantics of the input image.
Then, we extract the textual embeddings for both image captions and captions of retrieved images with the CLIP. Finally, we can rerank the retrieved pairs according to the semantic similarity between these captions. In this stage, we also explore other reranking methods, such as k-reciprocal encoding <cite class="ltx_cite ltx_citemacro_citep">(Zhong et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib55" title="">2017</a>)</cite> or using an external visual entailment tool <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib24" title="">2023b</a>)</cite>. We will compare them in the ablation study.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Joint Coarse-grained and Fine-grained Decoding</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.1">After retrieving and ranking the pairs, we can conduct a joint coarse-grained and fine-grained decoding to yield the final responses. According to the different ways of using the retrieved results, we have two schemes including probability-level fusion and instance-level fusion. The former integrates the results of coarse-grained and fine-grained retrieval into a single prompt for inference, while the latter conducts separate inferences on the coarse-grained and fine-grained retrieval results, followed by a probabilistic-level weighting.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.6"><span class="ltx_text ltx_font_bold" id="S3.SS5.p2.6.1">Probability-level Fusion.</span> In this paradigm, we use the prompt for both coarse-grained retrieval and fine-grained retrieval: “Here are the image-caption pairs similar to the test image: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.1"><semantics id="S3.SS5.p2.1.m1.1a"><mo id="S3.SS5.p2.1.m1.1.1" stretchy="false" xref="S3.SS5.p2.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.1.m1.1d">⟨</annotation></semantics></math>Retrieval Pairs<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m2.1"><semantics id="S3.SS5.p2.2.m2.1a"><mo id="S3.SS5.p2.2.m2.1.1" stretchy="false" xref="S3.SS5.p2.2.m2.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><ci id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.2.m2.1d">⟩</annotation></semantics></math>. Based on these pairs and this image: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p2.3.m3.1"><semantics id="S3.SS5.p2.3.m3.1a"><mo id="S3.SS5.p2.3.m3.1.1" stretchy="false" xref="S3.SS5.p2.3.m3.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><ci id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.3.m3.1d">⟨</annotation></semantics></math>Input Image<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p2.4.m4.1"><semantics id="S3.SS5.p2.4.m4.1a"><mo id="S3.SS5.p2.4.m4.1.1" stretchy="false" xref="S3.SS5.p2.4.m4.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><ci id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.4.m4.1d">⟩</annotation></semantics></math>. Answer this question: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p2.5.m5.1"><semantics id="S3.SS5.p2.5.m5.1a"><mo id="S3.SS5.p2.5.m5.1.1" stretchy="false" xref="S3.SS5.p2.5.m5.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.5.m5.1b"><ci id="S3.SS5.p2.5.m5.1.1.cmml" xref="S3.SS5.p2.5.m5.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.5.m5.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.5.m5.1d">⟨</annotation></semantics></math>Input query<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p2.6.m6.1"><semantics id="S3.SS5.p2.6.m6.1a"><mo id="S3.SS5.p2.6.m6.1.1" stretchy="false" xref="S3.SS5.p2.6.m6.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.6.m6.1b"><ci id="S3.SS5.p2.6.m6.1.1.cmml" xref="S3.SS5.p2.6.m6.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.6.m6.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.6.m6.1d">⟩</annotation></semantics></math>”.
Here we denote the retrieval-augmented LVLMs as below:</p>
</div>
<div class="ltx_para" id="S3.SS5.p3">
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p^{coarse}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{I}:h_{t}])]_{x_{t}},\quad x%
_{t}\in\mathcal{V}," class="ltx_math_unparsed" display="block" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1b"><msup id="S3.E4.m1.1.1"><mi id="S3.E4.m1.1.1.2">p</mi><mrow id="S3.E4.m1.1.1.3"><mi id="S3.E4.m1.1.1.3.2">c</mi><mo id="S3.E4.m1.1.1.3.1">⁢</mo><mi id="S3.E4.m1.1.1.3.3">o</mi><mo id="S3.E4.m1.1.1.3.1a">⁢</mo><mi id="S3.E4.m1.1.1.3.4">a</mi><mo id="S3.E4.m1.1.1.3.1b">⁢</mo><mi id="S3.E4.m1.1.1.3.5">r</mi><mo id="S3.E4.m1.1.1.3.1c">⁢</mo><mi id="S3.E4.m1.1.1.3.6">s</mi><mo id="S3.E4.m1.1.1.3.1d">⁢</mo><mi id="S3.E4.m1.1.1.3.7">e</mi></mrow></msup><mrow id="S3.E4.m1.1.2"><mo id="S3.E4.m1.1.2.1" stretchy="false">(</mo><msub id="S3.E4.m1.1.2.2"><mi id="S3.E4.m1.1.2.2.2">x</mi><mi id="S3.E4.m1.1.2.2.3">t</mi></msub><mo fence="false" id="S3.E4.m1.1.2.3" rspace="0.167em" stretchy="false">|</mo><msub id="S3.E4.m1.1.2.4"><mi id="S3.E4.m1.1.2.4.2">x</mi><mrow id="S3.E4.m1.1.2.4.3"><mi id="S3.E4.m1.1.2.4.3.2"></mi><mo id="S3.E4.m1.1.2.4.3.1">&lt;</mo><mi id="S3.E4.m1.1.2.4.3.3">t</mi></mrow></msub><mo id="S3.E4.m1.1.2.5" stretchy="false">)</mo></mrow><mo id="S3.E4.m1.1.3">=</mo><mtext id="S3.E4.m1.1.4">SoftMax</mtext><msub id="S3.E4.m1.1.5"><mrow id="S3.E4.m1.1.5.2"><mo id="S3.E4.m1.1.5.2.1" stretchy="false">[</mo><mi id="S3.E4.m1.1.5.2.2">L</mi><mi id="S3.E4.m1.1.5.2.3">V</mi><mi id="S3.E4.m1.1.5.2.4">L</mi><mi id="S3.E4.m1.1.5.2.5">M</mi><mrow id="S3.E4.m1.1.5.2.6"><mo id="S3.E4.m1.1.5.2.6.1" stretchy="false">(</mo><mrow id="S3.E4.m1.1.5.2.6.2"><mo id="S3.E4.m1.1.5.2.6.2.1" stretchy="false">[</mo><msub id="S3.E4.m1.1.5.2.6.2.2"><mi id="S3.E4.m1.1.5.2.6.2.2.2">R</mi><mi id="S3.E4.m1.1.5.2.6.2.2.3">I</mi></msub><mo id="S3.E4.m1.1.5.2.6.2.3" lspace="0.278em" rspace="0.278em">:</mo><msub id="S3.E4.m1.1.5.2.6.2.4"><mi id="S3.E4.m1.1.5.2.6.2.4.2">h</mi><mi id="S3.E4.m1.1.5.2.6.2.4.3">t</mi></msub><mo id="S3.E4.m1.1.5.2.6.2.5" stretchy="false">]</mo></mrow><mo id="S3.E4.m1.1.5.2.6.3" stretchy="false">)</mo></mrow><mo id="S3.E4.m1.1.5.2.7" stretchy="false">]</mo></mrow><msub id="S3.E4.m1.1.5.3"><mi id="S3.E4.m1.1.5.3.2">x</mi><mi id="S3.E4.m1.1.5.3.3">t</mi></msub></msub><mo id="S3.E4.m1.1.6" rspace="1.167em">,</mo><msub id="S3.E4.m1.1.7"><mi id="S3.E4.m1.1.7.2">x</mi><mi id="S3.E4.m1.1.7.3">t</mi></msub><mo id="S3.E4.m1.1.8">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.9">𝒱</mi><mo id="S3.E4.m1.1.10">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E4.m1.1c">p^{coarse}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{I}:h_{t}])]_{x_{t}},\quad x%
_{t}\in\mathcal{V},</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">italic_p start_POSTSUPERSCRIPT italic_c italic_o italic_a italic_r italic_s italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = SoftMax [ italic_L italic_V italic_L italic_M ( [ italic_R start_POSTSUBSCRIPT italic_I end_POSTSUBSCRIPT : italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] ) ] start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_V ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS5.p4">
<p class="ltx_p" id="S3.SS5.p4.2">where <math alttext="R_{I}" class="ltx_Math" display="inline" id="S3.SS5.p4.1.m1.1"><semantics id="S3.SS5.p4.1.m1.1a"><msub id="S3.SS5.p4.1.m1.1.1" xref="S3.SS5.p4.1.m1.1.1.cmml"><mi id="S3.SS5.p4.1.m1.1.1.2" xref="S3.SS5.p4.1.m1.1.1.2.cmml">R</mi><mi id="S3.SS5.p4.1.m1.1.1.3" xref="S3.SS5.p4.1.m1.1.1.3.cmml">I</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.1.m1.1b"><apply id="S3.SS5.p4.1.m1.1.1.cmml" xref="S3.SS5.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.1.m1.1.1.1.cmml" xref="S3.SS5.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p4.1.m1.1.1.2.cmml" xref="S3.SS5.p4.1.m1.1.1.2">𝑅</ci><ci id="S3.SS5.p4.1.m1.1.1.3.cmml" xref="S3.SS5.p4.1.m1.1.1.3">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.1.m1.1c">R_{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p4.1.m1.1d">italic_R start_POSTSUBSCRIPT italic_I end_POSTSUBSCRIPT</annotation></semantics></math> indicates the hidden states of retrieved image-level pairs. For simplicity, we directly use [:] here. We use <math alttext="p^{coarse}" class="ltx_Math" display="inline" id="S3.SS5.p4.2.m2.1"><semantics id="S3.SS5.p4.2.m2.1a"><msup id="S3.SS5.p4.2.m2.1.1" xref="S3.SS5.p4.2.m2.1.1.cmml"><mi id="S3.SS5.p4.2.m2.1.1.2" xref="S3.SS5.p4.2.m2.1.1.2.cmml">p</mi><mrow id="S3.SS5.p4.2.m2.1.1.3" xref="S3.SS5.p4.2.m2.1.1.3.cmml"><mi id="S3.SS5.p4.2.m2.1.1.3.2" xref="S3.SS5.p4.2.m2.1.1.3.2.cmml">c</mi><mo id="S3.SS5.p4.2.m2.1.1.3.1" xref="S3.SS5.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS5.p4.2.m2.1.1.3.3" xref="S3.SS5.p4.2.m2.1.1.3.3.cmml">o</mi><mo id="S3.SS5.p4.2.m2.1.1.3.1a" xref="S3.SS5.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS5.p4.2.m2.1.1.3.4" xref="S3.SS5.p4.2.m2.1.1.3.4.cmml">a</mi><mo id="S3.SS5.p4.2.m2.1.1.3.1b" xref="S3.SS5.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS5.p4.2.m2.1.1.3.5" xref="S3.SS5.p4.2.m2.1.1.3.5.cmml">r</mi><mo id="S3.SS5.p4.2.m2.1.1.3.1c" xref="S3.SS5.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS5.p4.2.m2.1.1.3.6" xref="S3.SS5.p4.2.m2.1.1.3.6.cmml">s</mi><mo id="S3.SS5.p4.2.m2.1.1.3.1d" xref="S3.SS5.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS5.p4.2.m2.1.1.3.7" xref="S3.SS5.p4.2.m2.1.1.3.7.cmml">e</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.2.m2.1b"><apply id="S3.SS5.p4.2.m2.1.1.cmml" xref="S3.SS5.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.2.m2.1.1.1.cmml" xref="S3.SS5.p4.2.m2.1.1">superscript</csymbol><ci id="S3.SS5.p4.2.m2.1.1.2.cmml" xref="S3.SS5.p4.2.m2.1.1.2">𝑝</ci><apply id="S3.SS5.p4.2.m2.1.1.3.cmml" xref="S3.SS5.p4.2.m2.1.1.3"><times id="S3.SS5.p4.2.m2.1.1.3.1.cmml" xref="S3.SS5.p4.2.m2.1.1.3.1"></times><ci id="S3.SS5.p4.2.m2.1.1.3.2.cmml" xref="S3.SS5.p4.2.m2.1.1.3.2">𝑐</ci><ci id="S3.SS5.p4.2.m2.1.1.3.3.cmml" xref="S3.SS5.p4.2.m2.1.1.3.3">𝑜</ci><ci id="S3.SS5.p4.2.m2.1.1.3.4.cmml" xref="S3.SS5.p4.2.m2.1.1.3.4">𝑎</ci><ci id="S3.SS5.p4.2.m2.1.1.3.5.cmml" xref="S3.SS5.p4.2.m2.1.1.3.5">𝑟</ci><ci id="S3.SS5.p4.2.m2.1.1.3.6.cmml" xref="S3.SS5.p4.2.m2.1.1.3.6">𝑠</ci><ci id="S3.SS5.p4.2.m2.1.1.3.7.cmml" xref="S3.SS5.p4.2.m2.1.1.3.7">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.2.m2.1c">p^{coarse}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p4.2.m2.1d">italic_p start_POSTSUPERSCRIPT italic_c italic_o italic_a italic_r italic_s italic_e end_POSTSUPERSCRIPT</annotation></semantics></math> to represent decoding with coarse-grained retrieval. Similarly,</p>
</div>
<div class="ltx_para" id="S3.SS5.p5">
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p^{fine}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{O}:h_{t}])]_{x_{t}},\quad x_{%
t}\in\mathcal{V}," class="ltx_math_unparsed" display="block" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1b"><msup id="S3.E5.m1.1.1"><mi id="S3.E5.m1.1.1.2">p</mi><mrow id="S3.E5.m1.1.1.3"><mi id="S3.E5.m1.1.1.3.2">f</mi><mo id="S3.E5.m1.1.1.3.1">⁢</mo><mi id="S3.E5.m1.1.1.3.3">i</mi><mo id="S3.E5.m1.1.1.3.1a">⁢</mo><mi id="S3.E5.m1.1.1.3.4">n</mi><mo id="S3.E5.m1.1.1.3.1b">⁢</mo><mi id="S3.E5.m1.1.1.3.5">e</mi></mrow></msup><mrow id="S3.E5.m1.1.2"><mo id="S3.E5.m1.1.2.1" stretchy="false">(</mo><msub id="S3.E5.m1.1.2.2"><mi id="S3.E5.m1.1.2.2.2">x</mi><mi id="S3.E5.m1.1.2.2.3">t</mi></msub><mo fence="false" id="S3.E5.m1.1.2.3" rspace="0.167em" stretchy="false">|</mo><msub id="S3.E5.m1.1.2.4"><mi id="S3.E5.m1.1.2.4.2">x</mi><mrow id="S3.E5.m1.1.2.4.3"><mi id="S3.E5.m1.1.2.4.3.2"></mi><mo id="S3.E5.m1.1.2.4.3.1">&lt;</mo><mi id="S3.E5.m1.1.2.4.3.3">t</mi></mrow></msub><mo id="S3.E5.m1.1.2.5" stretchy="false">)</mo></mrow><mo id="S3.E5.m1.1.3">=</mo><mtext id="S3.E5.m1.1.4">SoftMax</mtext><msub id="S3.E5.m1.1.5"><mrow id="S3.E5.m1.1.5.2"><mo id="S3.E5.m1.1.5.2.1" stretchy="false">[</mo><mi id="S3.E5.m1.1.5.2.2">L</mi><mi id="S3.E5.m1.1.5.2.3">V</mi><mi id="S3.E5.m1.1.5.2.4">L</mi><mi id="S3.E5.m1.1.5.2.5">M</mi><mrow id="S3.E5.m1.1.5.2.6"><mo id="S3.E5.m1.1.5.2.6.1" stretchy="false">(</mo><mrow id="S3.E5.m1.1.5.2.6.2"><mo id="S3.E5.m1.1.5.2.6.2.1" stretchy="false">[</mo><msub id="S3.E5.m1.1.5.2.6.2.2"><mi id="S3.E5.m1.1.5.2.6.2.2.2">R</mi><mi id="S3.E5.m1.1.5.2.6.2.2.3">O</mi></msub><mo id="S3.E5.m1.1.5.2.6.2.3" lspace="0.278em" rspace="0.278em">:</mo><msub id="S3.E5.m1.1.5.2.6.2.4"><mi id="S3.E5.m1.1.5.2.6.2.4.2">h</mi><mi id="S3.E5.m1.1.5.2.6.2.4.3">t</mi></msub><mo id="S3.E5.m1.1.5.2.6.2.5" stretchy="false">]</mo></mrow><mo id="S3.E5.m1.1.5.2.6.3" stretchy="false">)</mo></mrow><mo id="S3.E5.m1.1.5.2.7" stretchy="false">]</mo></mrow><msub id="S3.E5.m1.1.5.3"><mi id="S3.E5.m1.1.5.3.2">x</mi><mi id="S3.E5.m1.1.5.3.3">t</mi></msub></msub><mo id="S3.E5.m1.1.6" rspace="1.167em">,</mo><msub id="S3.E5.m1.1.7"><mi id="S3.E5.m1.1.7.2">x</mi><mi id="S3.E5.m1.1.7.3">t</mi></msub><mo id="S3.E5.m1.1.8">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.9">𝒱</mi><mo id="S3.E5.m1.1.10">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E5.m1.1c">p^{fine}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{O}:h_{t}])]_{x_{t}},\quad x_{%
t}\in\mathcal{V},</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">italic_p start_POSTSUPERSCRIPT italic_f italic_i italic_n italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = SoftMax [ italic_L italic_V italic_L italic_M ( [ italic_R start_POSTSUBSCRIPT italic_O end_POSTSUBSCRIPT : italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] ) ] start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_V ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS5.p6">
<p class="ltx_p" id="S3.SS5.p6.3">where <math alttext="R_{O}" class="ltx_Math" display="inline" id="S3.SS5.p6.1.m1.1"><semantics id="S3.SS5.p6.1.m1.1a"><msub id="S3.SS5.p6.1.m1.1.1" xref="S3.SS5.p6.1.m1.1.1.cmml"><mi id="S3.SS5.p6.1.m1.1.1.2" xref="S3.SS5.p6.1.m1.1.1.2.cmml">R</mi><mi id="S3.SS5.p6.1.m1.1.1.3" xref="S3.SS5.p6.1.m1.1.1.3.cmml">O</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p6.1.m1.1b"><apply id="S3.SS5.p6.1.m1.1.1.cmml" xref="S3.SS5.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p6.1.m1.1.1.1.cmml" xref="S3.SS5.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p6.1.m1.1.1.2.cmml" xref="S3.SS5.p6.1.m1.1.1.2">𝑅</ci><ci id="S3.SS5.p6.1.m1.1.1.3.cmml" xref="S3.SS5.p6.1.m1.1.1.3">𝑂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p6.1.m1.1c">R_{O}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p6.1.m1.1d">italic_R start_POSTSUBSCRIPT italic_O end_POSTSUBSCRIPT</annotation></semantics></math> indicates the retrieved fine-grained object-level pairs. We represent the decoding with object-level fine retrieval by <math alttext="p^{fine}(x_{t}|x_{&lt;t})" class="ltx_Math" display="inline" id="S3.SS5.p6.2.m2.1"><semantics id="S3.SS5.p6.2.m2.1a"><mrow id="S3.SS5.p6.2.m2.1.1" xref="S3.SS5.p6.2.m2.1.1.cmml"><msup id="S3.SS5.p6.2.m2.1.1.3" xref="S3.SS5.p6.2.m2.1.1.3.cmml"><mi id="S3.SS5.p6.2.m2.1.1.3.2" xref="S3.SS5.p6.2.m2.1.1.3.2.cmml">p</mi><mrow id="S3.SS5.p6.2.m2.1.1.3.3" xref="S3.SS5.p6.2.m2.1.1.3.3.cmml"><mi id="S3.SS5.p6.2.m2.1.1.3.3.2" xref="S3.SS5.p6.2.m2.1.1.3.3.2.cmml">f</mi><mo id="S3.SS5.p6.2.m2.1.1.3.3.1" xref="S3.SS5.p6.2.m2.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS5.p6.2.m2.1.1.3.3.3" xref="S3.SS5.p6.2.m2.1.1.3.3.3.cmml">i</mi><mo id="S3.SS5.p6.2.m2.1.1.3.3.1a" xref="S3.SS5.p6.2.m2.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS5.p6.2.m2.1.1.3.3.4" xref="S3.SS5.p6.2.m2.1.1.3.3.4.cmml">n</mi><mo id="S3.SS5.p6.2.m2.1.1.3.3.1b" xref="S3.SS5.p6.2.m2.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS5.p6.2.m2.1.1.3.3.5" xref="S3.SS5.p6.2.m2.1.1.3.3.5.cmml">e</mi></mrow></msup><mo id="S3.SS5.p6.2.m2.1.1.2" xref="S3.SS5.p6.2.m2.1.1.2.cmml">⁢</mo><mrow id="S3.SS5.p6.2.m2.1.1.1.1" xref="S3.SS5.p6.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS5.p6.2.m2.1.1.1.1.2" stretchy="false" xref="S3.SS5.p6.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS5.p6.2.m2.1.1.1.1.1" xref="S3.SS5.p6.2.m2.1.1.1.1.1.cmml"><msub id="S3.SS5.p6.2.m2.1.1.1.1.1.2" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2.cmml"><mi id="S3.SS5.p6.2.m2.1.1.1.1.1.2.2" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS5.p6.2.m2.1.1.1.1.1.2.3" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S3.SS5.p6.2.m2.1.1.1.1.1.1" xref="S3.SS5.p6.2.m2.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS5.p6.2.m2.1.1.1.1.1.3" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.cmml"><mi id="S3.SS5.p6.2.m2.1.1.1.1.1.3.2" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.cmml"><mi id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.2" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.1" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.3" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.SS5.p6.2.m2.1.1.1.1.3" stretchy="false" xref="S3.SS5.p6.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p6.2.m2.1b"><apply id="S3.SS5.p6.2.m2.1.1.cmml" xref="S3.SS5.p6.2.m2.1.1"><times id="S3.SS5.p6.2.m2.1.1.2.cmml" xref="S3.SS5.p6.2.m2.1.1.2"></times><apply id="S3.SS5.p6.2.m2.1.1.3.cmml" xref="S3.SS5.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS5.p6.2.m2.1.1.3.1.cmml" xref="S3.SS5.p6.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS5.p6.2.m2.1.1.3.2.cmml" xref="S3.SS5.p6.2.m2.1.1.3.2">𝑝</ci><apply id="S3.SS5.p6.2.m2.1.1.3.3.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3"><times id="S3.SS5.p6.2.m2.1.1.3.3.1.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3.1"></times><ci id="S3.SS5.p6.2.m2.1.1.3.3.2.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3.2">𝑓</ci><ci id="S3.SS5.p6.2.m2.1.1.3.3.3.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3.3">𝑖</ci><ci id="S3.SS5.p6.2.m2.1.1.3.3.4.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3.4">𝑛</ci><ci id="S3.SS5.p6.2.m2.1.1.3.3.5.cmml" xref="S3.SS5.p6.2.m2.1.1.3.3.5">𝑒</ci></apply></apply><apply id="S3.SS5.p6.2.m2.1.1.1.1.1.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS5.p6.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS5.p6.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p6.2.m2.1.1.1.1.1.2.1.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS5.p6.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.SS5.p6.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS5.p6.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS5.p6.2.m2.1.1.1.1.1.3.1.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS5.p6.2.m2.1.1.1.1.1.3.2.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.2">𝑥</ci><apply id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3"><lt id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.1.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.2.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.3.cmml" xref="S3.SS5.p6.2.m2.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p6.2.m2.1c">p^{fine}(x_{t}|x_{&lt;t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p6.2.m2.1d">italic_p start_POSTSUPERSCRIPT italic_f italic_i italic_n italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>. For the probability-level fusion, we can combine them with a hyperparameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS5.p6.3.m3.1"><semantics id="S3.SS5.p6.3.m3.1a"><mi id="S3.SS5.p6.3.m3.1.1" xref="S3.SS5.p6.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p6.3.m3.1b"><ci id="S3.SS5.p6.3.m3.1.1.cmml" xref="S3.SS5.p6.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p6.3.m3.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p6.3.m3.1d">italic_α</annotation></semantics></math> in [0,1] to control the importance of two kinds of retrieval.</p>
</div>
<div class="ltx_para" id="S3.SS5.p7">
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p^{coarse\&amp;fine}(x_{t}|x_{&lt;t})=\alpha p^{coarse}(x_{t}|x_{&lt;t})+(1-\alpha)p^{%
fine}(x_{t}|x_{&lt;t})," class="ltx_Math" display="block" id="S3.E6.m1.1"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><msup id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.3.2.cmml">p</mi><mrow id="S3.E6.m1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.1.3.3.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.2" xref="S3.E6.m1.1.1.1.1.1.3.3.2.2.cmml">c</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.2.1" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.3" xref="S3.E6.m1.1.1.1.1.1.3.3.2.3.cmml">o</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.2.1a" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.4" xref="S3.E6.m1.1.1.1.1.1.3.3.2.4.cmml">a</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.2.1b" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.5" xref="S3.E6.m1.1.1.1.1.1.3.3.2.5.cmml">r</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.2.1c" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.6" xref="S3.E6.m1.1.1.1.1.1.3.3.2.6.cmml">s</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.2.1d" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.2.7" xref="S3.E6.m1.1.1.1.1.1.3.3.2.7.cmml">e</mi></mrow><mo id="S3.E6.m1.1.1.1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E6.m1.1.1.1.1.1.3.3.1.cmml">&amp;</mo><mrow id="S3.E6.m1.1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.3.3.2" xref="S3.E6.m1.1.1.1.1.1.3.3.3.2.cmml">f</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.3.1" xref="S3.E6.m1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.3.3.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.3.1a" xref="S3.E6.m1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.3.4" xref="S3.E6.m1.1.1.1.1.1.3.3.3.4.cmml">n</mi><mo id="S3.E6.m1.1.1.1.1.1.3.3.3.1b" xref="S3.E6.m1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.1.3.3.3.5" xref="S3.E6.m1.1.1.1.1.1.3.3.3.5.cmml">e</mi></mrow></mrow></msup><mo id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S3.E6.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.5" xref="S3.E6.m1.1.1.1.1.5.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.4.cmml"><mrow id="S3.E6.m1.1.1.1.1.2.1" xref="S3.E6.m1.1.1.1.1.2.1.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.3" xref="S3.E6.m1.1.1.1.1.2.1.3.cmml">α</mi><mo id="S3.E6.m1.1.1.1.1.2.1.2" xref="S3.E6.m1.1.1.1.1.2.1.2.cmml">⁢</mo><msup id="S3.E6.m1.1.1.1.1.2.1.4" xref="S3.E6.m1.1.1.1.1.2.1.4.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.4.2" xref="S3.E6.m1.1.1.1.1.2.1.4.2.cmml">p</mi><mrow id="S3.E6.m1.1.1.1.1.2.1.4.3" xref="S3.E6.m1.1.1.1.1.2.1.4.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.2" xref="S3.E6.m1.1.1.1.1.2.1.4.3.2.cmml">c</mi><mo id="S3.E6.m1.1.1.1.1.2.1.4.3.1" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.3" xref="S3.E6.m1.1.1.1.1.2.1.4.3.3.cmml">o</mi><mo id="S3.E6.m1.1.1.1.1.2.1.4.3.1a" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.4" xref="S3.E6.m1.1.1.1.1.2.1.4.3.4.cmml">a</mi><mo id="S3.E6.m1.1.1.1.1.2.1.4.3.1b" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.5" xref="S3.E6.m1.1.1.1.1.2.1.4.3.5.cmml">r</mi><mo id="S3.E6.m1.1.1.1.1.2.1.4.3.1c" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.6" xref="S3.E6.m1.1.1.1.1.2.1.4.3.6.cmml">s</mi><mo id="S3.E6.m1.1.1.1.1.2.1.4.3.1d" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.2.1.4.3.7" xref="S3.E6.m1.1.1.1.1.2.1.4.3.7.cmml">e</mi></mrow></msup><mo id="S3.E6.m1.1.1.1.1.2.1.2a" xref="S3.E6.m1.1.1.1.1.2.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.cmml">|</mo><msub id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.4.4" xref="S3.E6.m1.1.1.1.1.4.4.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.4.3" xref="S3.E6.m1.1.1.1.1.4.3.cmml"><mrow id="S3.E6.m1.1.1.1.1.3.2.1.1" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.3.2.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.3.2.1.1.1" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.cmml"><mn id="S3.E6.m1.1.1.1.1.3.2.1.1.1.2" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.2.cmml">1</mn><mo id="S3.E6.m1.1.1.1.1.3.2.1.1.1.1" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.1.cmml">−</mo><mi id="S3.E6.m1.1.1.1.1.3.2.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.3.cmml">α</mi></mrow><mo id="S3.E6.m1.1.1.1.1.3.2.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.cmml">)</mo></mrow><mo id="S3.E6.m1.1.1.1.1.4.3.3" xref="S3.E6.m1.1.1.1.1.4.3.3.cmml">⁢</mo><msup id="S3.E6.m1.1.1.1.1.4.3.4" xref="S3.E6.m1.1.1.1.1.4.3.4.cmml"><mi id="S3.E6.m1.1.1.1.1.4.3.4.2" xref="S3.E6.m1.1.1.1.1.4.3.4.2.cmml">p</mi><mrow id="S3.E6.m1.1.1.1.1.4.3.4.3" xref="S3.E6.m1.1.1.1.1.4.3.4.3.cmml"><mi id="S3.E6.m1.1.1.1.1.4.3.4.3.2" xref="S3.E6.m1.1.1.1.1.4.3.4.3.2.cmml">f</mi><mo id="S3.E6.m1.1.1.1.1.4.3.4.3.1" xref="S3.E6.m1.1.1.1.1.4.3.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.4.3.4.3.3" xref="S3.E6.m1.1.1.1.1.4.3.4.3.3.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.4.3.4.3.1a" xref="S3.E6.m1.1.1.1.1.4.3.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.4.3.4.3.4" xref="S3.E6.m1.1.1.1.1.4.3.4.3.4.cmml">n</mi><mo id="S3.E6.m1.1.1.1.1.4.3.4.3.1b" xref="S3.E6.m1.1.1.1.1.4.3.4.3.1.cmml">⁢</mo><mi id="S3.E6.m1.1.1.1.1.4.3.4.3.5" xref="S3.E6.m1.1.1.1.1.4.3.4.3.5.cmml">e</mi></mrow></msup><mo id="S3.E6.m1.1.1.1.1.4.3.3a" xref="S3.E6.m1.1.1.1.1.4.3.3.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.4.3.2.1" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.4.3.2.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.4.3.2.1.1" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.2" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.2.cmml">x</mi><mi id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.3" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S3.E6.m1.1.1.1.1.4.3.2.1.1.1" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.1.cmml">|</mo><msub id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.2" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.2.cmml">x</mi><mrow id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.2.cmml"></mi><mo id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.E6.m1.1.1.1.1.4.3.2.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.5.cmml" xref="S3.E6.m1.1.1.1.1.5"></eq><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2"></times><apply id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2">𝑝</ci><apply id="S3.E6.m1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3"><and id="S3.E6.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.1"></and><apply id="S3.E6.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2"><times id="S3.E6.m1.1.1.1.1.1.3.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.1"></times><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.2">𝑐</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.3">𝑜</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.4.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.4">𝑎</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.5.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.5">𝑟</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.6.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.6">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.7.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2.7">𝑒</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3"><times id="S3.E6.m1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3.2">𝑓</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3.3">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.3.4.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3.4">𝑛</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.3.5.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3.5">𝑒</ci></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2">𝑥</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3"><lt id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.4"><plus id="S3.E6.m1.1.1.1.1.4.4.cmml" xref="S3.E6.m1.1.1.1.1.4.4"></plus><apply id="S3.E6.m1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1"><times id="S3.E6.m1.1.1.1.1.2.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.2"></times><ci id="S3.E6.m1.1.1.1.1.2.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.3">𝛼</ci><apply id="S3.E6.m1.1.1.1.1.2.1.4.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.4.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.4.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.2">𝑝</ci><apply id="S3.E6.m1.1.1.1.1.2.1.4.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3"><times id="S3.E6.m1.1.1.1.1.2.1.4.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.1"></times><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.2">𝑐</ci><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.3">𝑜</ci><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.4.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.4">𝑎</ci><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.5.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.5">𝑟</ci><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.6.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.6">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.2.1.4.3.7.cmml" xref="S3.E6.m1.1.1.1.1.2.1.4.3.7">𝑒</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.2">𝑥</ci><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.2">𝑥</ci><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3"><lt id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.4.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3"><times id="S3.E6.m1.1.1.1.1.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.3"></times><apply id="S3.E6.m1.1.1.1.1.3.2.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.1.1"><minus id="S3.E6.m1.1.1.1.1.3.2.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.1"></minus><cn id="S3.E6.m1.1.1.1.1.3.2.1.1.1.2.cmml" type="integer" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.2">1</cn><ci id="S3.E6.m1.1.1.1.1.3.2.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.1.1.1.3">𝛼</ci></apply><apply id="S3.E6.m1.1.1.1.1.4.3.4.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.3.4.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.3.4.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.2">𝑝</ci><apply id="S3.E6.m1.1.1.1.1.4.3.4.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3"><times id="S3.E6.m1.1.1.1.1.4.3.4.3.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3.1"></times><ci id="S3.E6.m1.1.1.1.1.4.3.4.3.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3.2">𝑓</ci><ci id="S3.E6.m1.1.1.1.1.4.3.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3.3">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.4.3.4.3.4.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3.4">𝑛</ci><ci id="S3.E6.m1.1.1.1.1.4.3.4.3.5.cmml" xref="S3.E6.m1.1.1.1.1.4.3.4.3.5">𝑒</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.4.3.2.1.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1"><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.4.3.2.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.1">conditional</csymbol><apply id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.2">𝑥</ci><ci id="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.2.3">𝑡</ci></apply><apply id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.2">𝑥</ci><apply id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3"><lt id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.2">absent</csymbol><ci id="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3.2.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">p^{coarse\&amp;fine}(x_{t}|x_{&lt;t})=\alpha p^{coarse}(x_{t}|x_{&lt;t})+(1-\alpha)p^{%
fine}(x_{t}|x_{&lt;t}),</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.1d">italic_p start_POSTSUPERSCRIPT italic_c italic_o italic_a italic_r italic_s italic_e &amp; italic_f italic_i italic_n italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = italic_α italic_p start_POSTSUPERSCRIPT italic_c italic_o italic_a italic_r italic_s italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) + ( 1 - italic_α ) italic_p start_POSTSUPERSCRIPT italic_f italic_i italic_n italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p8">
<p class="ltx_p" id="S3.SS5.p8.10"><span class="ltx_text ltx_font_bold" id="S3.SS5.p8.10.1">Instance-level Fusion.</span>
For this kind of fusion, we can integrate both coarse-grained retrieval and fine-grained retrieval with prompts: “Here are the image-caption pairs similar to the test image: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p8.1.m1.1"><semantics id="S3.SS5.p8.1.m1.1a"><mo id="S3.SS5.p8.1.m1.1.1" stretchy="false" xref="S3.SS5.p8.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.1.m1.1b"><ci id="S3.SS5.p8.1.m1.1.1.cmml" xref="S3.SS5.p8.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.1.m1.1d">⟨</annotation></semantics></math>Coarse-grained Retrieval Pairs<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p8.2.m2.1"><semantics id="S3.SS5.p8.2.m2.1a"><mo id="S3.SS5.p8.2.m2.1.1" stretchy="false" xref="S3.SS5.p8.2.m2.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.2.m2.1b"><ci id="S3.SS5.p8.2.m2.1.1.cmml" xref="S3.SS5.p8.2.m2.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.2.m2.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.2.m2.1d">⟩</annotation></semantics></math>. Here are the image-caption pairs: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p8.3.m3.1"><semantics id="S3.SS5.p8.3.m3.1a"><mo id="S3.SS5.p8.3.m3.1.1" stretchy="false" xref="S3.SS5.p8.3.m3.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.3.m3.1b"><ci id="S3.SS5.p8.3.m3.1.1.cmml" xref="S3.SS5.p8.3.m3.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.3.m3.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.3.m3.1d">⟨</annotation></semantics></math>Fine-grained Retrieval Pairs<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p8.4.m4.1"><semantics id="S3.SS5.p8.4.m4.1a"><mo id="S3.SS5.p8.4.m4.1.1" stretchy="false" xref="S3.SS5.p8.4.m4.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.4.m4.1b"><ci id="S3.SS5.p8.4.m4.1.1.cmml" xref="S3.SS5.p8.4.m4.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.4.m4.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.4.m4.1d">⟩</annotation></semantics></math> similar to the <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p8.5.m5.1"><semantics id="S3.SS5.p8.5.m5.1a"><mo id="S3.SS5.p8.5.m5.1.1" stretchy="false" xref="S3.SS5.p8.5.m5.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.5.m5.1b"><ci id="S3.SS5.p8.5.m5.1.1.cmml" xref="S3.SS5.p8.5.m5.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.5.m5.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.5.m5.1d">⟨</annotation></semantics></math>entity<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p8.6.m6.1"><semantics id="S3.SS5.p8.6.m6.1a"><mo id="S3.SS5.p8.6.m6.1.1" stretchy="false" xref="S3.SS5.p8.6.m6.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.6.m6.1b"><ci id="S3.SS5.p8.6.m6.1.1.cmml" xref="S3.SS5.p8.6.m6.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.6.m6.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.6.m6.1d">⟩</annotation></semantics></math> in the input image. Based on these pairs and this input image: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p8.7.m7.1"><semantics id="S3.SS5.p8.7.m7.1a"><mo id="S3.SS5.p8.7.m7.1.1" stretchy="false" xref="S3.SS5.p8.7.m7.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.7.m7.1b"><ci id="S3.SS5.p8.7.m7.1.1.cmml" xref="S3.SS5.p8.7.m7.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.7.m7.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.7.m7.1d">⟨</annotation></semantics></math>Input Image<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p8.8.m8.1"><semantics id="S3.SS5.p8.8.m8.1a"><mo id="S3.SS5.p8.8.m8.1.1" stretchy="false" xref="S3.SS5.p8.8.m8.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.8.m8.1b"><ci id="S3.SS5.p8.8.m8.1.1.cmml" xref="S3.SS5.p8.8.m8.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.8.m8.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.8.m8.1d">⟩</annotation></semantics></math>. Answer this question: <math alttext="\langle" class="ltx_Math" display="inline" id="S3.SS5.p8.9.m9.1"><semantics id="S3.SS5.p8.9.m9.1a"><mo id="S3.SS5.p8.9.m9.1.1" stretchy="false" xref="S3.SS5.p8.9.m9.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.9.m9.1b"><ci id="S3.SS5.p8.9.m9.1.1.cmml" xref="S3.SS5.p8.9.m9.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.9.m9.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.9.m9.1d">⟨</annotation></semantics></math>Input query<math alttext="\rangle" class="ltx_Math" display="inline" id="S3.SS5.p8.10.m10.1"><semantics id="S3.SS5.p8.10.m10.1a"><mo id="S3.SS5.p8.10.m10.1.1" stretchy="false" xref="S3.SS5.p8.10.m10.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p8.10.m10.1b"><ci id="S3.SS5.p8.10.m10.1.1.cmml" xref="S3.SS5.p8.10.m10.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p8.10.m10.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p8.10.m10.1d">⟩</annotation></semantics></math>.” Here we extract the entity from the input query and fill it in the prompt.</p>
</div>
<div class="ltx_para" id="S3.SS5.p9">
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p^{coarse+fine}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{I}:R_{O}:h_{t}])]_{x_{%
t}},\quad x_{t}\in\mathcal{V}," class="ltx_math_unparsed" display="block" id="S3.E7.m1.1"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1b"><msup id="S3.E7.m1.1.1"><mi id="S3.E7.m1.1.1.2">p</mi><mrow id="S3.E7.m1.1.1.3"><mrow id="S3.E7.m1.1.1.3.2"><mi id="S3.E7.m1.1.1.3.2.2">c</mi><mo id="S3.E7.m1.1.1.3.2.1">⁢</mo><mi id="S3.E7.m1.1.1.3.2.3">o</mi><mo id="S3.E7.m1.1.1.3.2.1a">⁢</mo><mi id="S3.E7.m1.1.1.3.2.4">a</mi><mo id="S3.E7.m1.1.1.3.2.1b">⁢</mo><mi id="S3.E7.m1.1.1.3.2.5">r</mi><mo id="S3.E7.m1.1.1.3.2.1c">⁢</mo><mi id="S3.E7.m1.1.1.3.2.6">s</mi><mo id="S3.E7.m1.1.1.3.2.1d">⁢</mo><mi id="S3.E7.m1.1.1.3.2.7">e</mi></mrow><mo id="S3.E7.m1.1.1.3.1">+</mo><mrow id="S3.E7.m1.1.1.3.3"><mi id="S3.E7.m1.1.1.3.3.2">f</mi><mo id="S3.E7.m1.1.1.3.3.1">⁢</mo><mi id="S3.E7.m1.1.1.3.3.3">i</mi><mo id="S3.E7.m1.1.1.3.3.1a">⁢</mo><mi id="S3.E7.m1.1.1.3.3.4">n</mi><mo id="S3.E7.m1.1.1.3.3.1b">⁢</mo><mi id="S3.E7.m1.1.1.3.3.5">e</mi></mrow></mrow></msup><mrow id="S3.E7.m1.1.2"><mo id="S3.E7.m1.1.2.1" stretchy="false">(</mo><msub id="S3.E7.m1.1.2.2"><mi id="S3.E7.m1.1.2.2.2">x</mi><mi id="S3.E7.m1.1.2.2.3">t</mi></msub><mo fence="false" id="S3.E7.m1.1.2.3" rspace="0.167em" stretchy="false">|</mo><msub id="S3.E7.m1.1.2.4"><mi id="S3.E7.m1.1.2.4.2">x</mi><mrow id="S3.E7.m1.1.2.4.3"><mi id="S3.E7.m1.1.2.4.3.2"></mi><mo id="S3.E7.m1.1.2.4.3.1">&lt;</mo><mi id="S3.E7.m1.1.2.4.3.3">t</mi></mrow></msub><mo id="S3.E7.m1.1.2.5" stretchy="false">)</mo></mrow><mo id="S3.E7.m1.1.3">=</mo><mtext id="S3.E7.m1.1.4">SoftMax</mtext><msub id="S3.E7.m1.1.5"><mrow id="S3.E7.m1.1.5.2"><mo id="S3.E7.m1.1.5.2.1" stretchy="false">[</mo><mi id="S3.E7.m1.1.5.2.2">L</mi><mi id="S3.E7.m1.1.5.2.3">V</mi><mi id="S3.E7.m1.1.5.2.4">L</mi><mi id="S3.E7.m1.1.5.2.5">M</mi><mrow id="S3.E7.m1.1.5.2.6"><mo id="S3.E7.m1.1.5.2.6.1" stretchy="false">(</mo><mrow id="S3.E7.m1.1.5.2.6.2"><mo id="S3.E7.m1.1.5.2.6.2.1" stretchy="false">[</mo><msub id="S3.E7.m1.1.5.2.6.2.2"><mi id="S3.E7.m1.1.5.2.6.2.2.2">R</mi><mi id="S3.E7.m1.1.5.2.6.2.2.3">I</mi></msub><mo id="S3.E7.m1.1.5.2.6.2.3" lspace="0.278em" rspace="0.278em">:</mo><msub id="S3.E7.m1.1.5.2.6.2.4"><mi id="S3.E7.m1.1.5.2.6.2.4.2">R</mi><mi id="S3.E7.m1.1.5.2.6.2.4.3">O</mi></msub><mo id="S3.E7.m1.1.5.2.6.2.5" lspace="0.278em" rspace="0.278em">:</mo><msub id="S3.E7.m1.1.5.2.6.2.6"><mi id="S3.E7.m1.1.5.2.6.2.6.2">h</mi><mi id="S3.E7.m1.1.5.2.6.2.6.3">t</mi></msub><mo id="S3.E7.m1.1.5.2.6.2.7" stretchy="false">]</mo></mrow><mo id="S3.E7.m1.1.5.2.6.3" stretchy="false">)</mo></mrow><mo id="S3.E7.m1.1.5.2.7" stretchy="false">]</mo></mrow><msub id="S3.E7.m1.1.5.3"><mi id="S3.E7.m1.1.5.3.2">x</mi><mi id="S3.E7.m1.1.5.3.3">t</mi></msub></msub><mo id="S3.E7.m1.1.6" rspace="1.167em">,</mo><msub id="S3.E7.m1.1.7"><mi id="S3.E7.m1.1.7.2">x</mi><mi id="S3.E7.m1.1.7.3">t</mi></msub><mo id="S3.E7.m1.1.8">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.9">𝒱</mi><mo id="S3.E7.m1.1.10">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E7.m1.1c">p^{coarse+fine}(x_{t}|x_{&lt;t})=\text{SoftMax}[{LVLM}([R_{I}:R_{O}:h_{t}])]_{x_{%
t}},\quad x_{t}\in\mathcal{V},</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.1d">italic_p start_POSTSUPERSCRIPT italic_c italic_o italic_a italic_r italic_s italic_e + italic_f italic_i italic_n italic_e end_POSTSUPERSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = SoftMax [ italic_L italic_V italic_L italic_M ( [ italic_R start_POSTSUBSCRIPT italic_I end_POSTSUBSCRIPT : italic_R start_POSTSUBSCRIPT italic_O end_POSTSUBSCRIPT : italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] ) ] start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_V ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Results on POPE. <span class="ltx_text ltx_font_italic" id="S3.T1.5.1">Regular</span> decoding denotes greedy decoding, whereas <span class="ltx_text ltx_font_italic" id="S3.T1.6.2">RAR</span> refers to our method with augmentation.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T1.2" style="width:368.6pt;height:805.3pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-42.5pt,92.7pt) scale(0.81266860480608,0.81266860480608) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T1.2.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.2.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S3.T1.2.2.2.3"><span class="ltx_text ltx_font_bold" id="S3.T1.2.2.2.3.1">Dataset</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.2.2.2.4"><span class="ltx_text ltx_font_bold" id="S3.T1.2.2.2.4.1">Setting</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.2.2.2.5"><span class="ltx_text ltx_font_bold" id="S3.T1.2.2.2.5.1">Model</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.2.2.2.6"><span class="ltx_text ltx_font_bold" id="S3.T1.2.2.2.6.1">Decoding</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.1.1">Accuracy<math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T1.1.1.1.1.m1.1"><semantics id="S3.T1.1.1.1.1.m1.1a"><mo id="S3.T1.1.1.1.1.m1.1.1" stretchy="false" xref="S3.T1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T1.1.1.1.1.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.2.2.2.7">Precision</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.2.2.2.8">Recall</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.2.2.2.2">F1 Score<math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T1.2.2.2.2.m1.1"><semantics id="S3.T1.2.2.2.2.m1.1a"><mo id="S3.T1.2.2.2.2.m1.1.1" stretchy="false" xref="S3.T1.2.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.m1.1b"><ci id="S3.T1.2.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T1.2.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.2.2.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S3.T1.2.2.3.1.1" rowspan="18"><span class="ltx_text" id="S3.T1.2.2.3.1.1.1">MSCOCO</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.2" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.3.1.2.1">Random</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.3" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.3.1.3.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.4">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.5">86.50</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.6">97.40</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.3.1.7">75.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.3.1.8">84.75</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.4.2">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.4.2.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.4.2.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.4.2.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.4.2.2.1" style="background-color:#E6E6E6;">89.43</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.4.2.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.4.2.3.1" style="background-color:#E6E6E6;">95.96</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.4.2.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.4.2.4.1" style="background-color:#E6E6E6;">82.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.4.2.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.4.2.5.1" style="background-color:#E6E6E6;">88.63</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.5.3">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.5.3.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.5.3.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.5.3.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.5.3.3">82.13</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.5.3.4">98.88</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.5.3.5">65.00</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.5.3.6">78.44</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.6.4">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.6.4.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.6.4.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.6.4.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.6.4.2.1" style="background-color:#E6E6E6;">84.27</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.6.4.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.6.4.3.1" style="background-color:#E6E6E6;">98.22</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.6.4.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.6.4.4.1" style="background-color:#E6E6E6;">69.80</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.6.4.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.6.4.5.1" style="background-color:#E6E6E6;">81.61</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.7.5">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.7.5.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.7.5.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.7.5.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.7.5.3">85.97</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.7.5.4">95.15</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.7.5.5">75.80</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.7.5.6">84.38</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.8.6">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.8.6.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.8.6.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.8.6.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.8.6.2.1" style="background-color:#E6E6E6;">89.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.8.6.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.8.6.3.1" style="background-color:#E6E6E6;">94.33</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.8.6.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.8.6.4.1" style="background-color:#E6E6E6;">84.27</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.8.6.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.8.6.5.1" style="background-color:#E6E6E6;">89.01</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.9.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.9.7.1.1">Popular</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.9.7.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.4">85.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.5">95.02</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.9.7.6">75.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.9.7.7">83.83</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.10.8">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.10.8.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.10.8.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.10.8.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.10.8.2.1" style="background-color:#E6E6E6;">87.47</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.10.8.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.10.8.3.1" style="background-color:#E6E6E6;">92.07</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.10.8.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.10.8.4.1" style="background-color:#E6E6E6;">82.00</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.10.8.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.10.8.5.1" style="background-color:#E6E6E6;">86.74</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.11.9">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.11.9.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.11.9.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.11.9.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.11.9.3">81.93</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.11.9.4">98.29</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.11.9.5">65.00</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.11.9.6">78.25</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.12.10">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.12.10.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.12.10.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.12.10.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.12.10.2.1" style="background-color:#E6E6E6;">84.03</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.12.10.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.12.10.3.1" style="background-color:#E6E6E6;">97.58</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.12.10.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.12.10.4.1" style="background-color:#E6E6E6;">69.80</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.12.10.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.12.10.5.1" style="background-color:#E6E6E6;">81.38</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.13.11">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.13.11.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.13.11.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.13.11.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.13.11.3">84.63</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.13.11.4">92.06</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.13.11.5">75.80</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.13.11.6">83.14</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.14.12">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.14.12.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.14.12.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.14.12.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.14.12.2.1" style="background-color:#E6E6E6;">86.10</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.14.12.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.14.12.3.1" style="background-color:#E6E6E6;">87.68</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.14.12.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.14.12.4.1" style="background-color:#E6E6E6;">84.00</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.14.12.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.14.12.5.1" style="background-color:#E6E6E6;">85.80</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.15.13">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.15.13.1.1">Adversarial</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.15.13.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.4">83.60</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.5">90.71</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.15.13.6">74.87</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.15.13.7">82.03</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.16.14">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.16.14.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.16.14.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.16.14.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.16.14.2.1" style="background-color:#E6E6E6;">84.53</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.16.14.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.16.14.3.1" style="background-color:#E6E6E6;">87.37</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.16.14.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.16.14.4.1" style="background-color:#E6E6E6;">80.73</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.16.14.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.16.14.5.1" style="background-color:#E6E6E6;">83.92</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.17.15">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.17.15.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.17.15.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.17.15.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.17.15.3">80.97</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.17.15.4">95.41</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.17.15.5">65.07</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.17.15.6">77.37</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.18.16">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.18.16.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.18.16.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.18.16.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.18.16.2.1" style="background-color:#E6E6E6;">82.90</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.18.16.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.18.16.3.1" style="background-color:#E6E6E6;">94.58</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.18.16.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.18.16.4.1" style="background-color:#E6E6E6;">69.80</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.18.16.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.18.16.5.1" style="background-color:#E6E6E6;">80.32</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.19.17">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.19.17.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.19.17.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.19.17.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.19.17.3">82.37</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.19.17.4">87.32</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.19.17.5">75.73</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.19.17.6">81.11</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.20.18">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.20.18.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.20.18.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.20.18.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.20.18.2.1" style="background-color:#E6E6E6;">82.77</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.20.18.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.20.18.3.1" style="background-color:#E6E6E6;">82.40</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.20.18.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.20.18.4.1" style="background-color:#E6E6E6;">83.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.20.18.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.20.18.5.1" style="background-color:#E6E6E6;">82.86</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.21.19">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S3.T1.2.2.21.19.1" rowspan="18"><span class="ltx_text" id="S3.T1.2.2.21.19.1.1">A-OKVQA</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.2" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.21.19.2.1">Random</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.3" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.21.19.3.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.4">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.5">88.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.6">93.54</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.21.19.7">83.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.21.19.8">87.95</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.22.20">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.22.20.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.22.20.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.22.20.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.22.20.2.1" style="background-color:#E6E6E6;">90.27</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.22.20.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.22.20.3.1" style="background-color:#E6E6E6;">90.81</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.22.20.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.22.20.4.1" style="background-color:#E6E6E6;">89.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.22.20.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.22.20.5.1" style="background-color:#E6E6E6;">90.20</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.23.21">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.23.21.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.23.21.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.23.21.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.23.21.3">83.60</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.23.21.4">95.90</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.23.21.5">70.20</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.23.21.6">81.06</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.24.22">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.24.22.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.24.22.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.24.22.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.24.22.2.1" style="background-color:#E6E6E6;">86.53</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.24.22.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.24.22.3.1" style="background-color:#E6E6E6;">95.74</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.24.22.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.24.22.4.1" style="background-color:#E6E6E6;">76.47</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.24.22.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.24.22.5.1" style="background-color:#E6E6E6;">85.03</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.25.23">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.25.23.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.25.23.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.25.23.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.25.23.3">86.47</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.25.23.4">91.07</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.25.23.5">80.87</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.25.23.6">85.66</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.26.24">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.26.24.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.26.24.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.26.24.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.26.24.2.1" style="background-color:#E6E6E6;">88.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.26.24.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.26.24.3.1" style="background-color:#E6E6E6;">89.33</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.26.24.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.26.24.4.1" style="background-color:#E6E6E6;">87.67</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.26.24.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.26.24.5.1" style="background-color:#E6E6E6;">88.49</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.27.25">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.27.25.1.1">Popular</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.27.25.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.4">85.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.5">87.43</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.27.25.6">83.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.27.25.7">85.16</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.28.26">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.28.26.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.28.26.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.28.26.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.28.26.2.1" style="background-color:#E6E6E6;">85.63</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.28.26.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.28.26.3.1" style="background-color:#E6E6E6;">85.85</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.28.26.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.28.26.4.1" style="background-color:#E6E6E6;">85.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.28.26.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.28.26.5.1" style="background-color:#E6E6E6;">85.59</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.29.27">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.29.27.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.29.27.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.29.27.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.29.27.3">83.47</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.29.27.4">95.55</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.29.27.5">70.20</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.29.27.6">80.94</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.30.28">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.30.28.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.30.28.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.30.28.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.30.28.2.1" style="background-color:#E6E6E6;">85.97</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.30.28.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.30.28.3.1" style="background-color:#E6E6E6;">94.40</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.30.28.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.30.28.4.1" style="background-color:#E6E6E6;">76.47</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.30.28.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.30.28.5.1" style="background-color:#E6E6E6;">84.49</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.31.29">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.31.29.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.31.29.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.31.29.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.31.29.3">82.43</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.31.29.4">83.48</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.31.29.5">80.87</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.31.29.6">82.15</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.32.30">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.32.30.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.32.30.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.32.30.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.32.30.2.1" style="background-color:#E6E6E6;">82.77</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.32.30.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.32.30.3.1" style="background-color:#E6E6E6;">80.17</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.32.30.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.32.30.4.1" style="background-color:#E6E6E6;">87.07</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.32.30.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.32.30.5.1" style="background-color:#E6E6E6;">83.48</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.33.31">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.33.31.1.1">Adversarial</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.33.31.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.4">79.13</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.5">77.04</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.33.31.6">83.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.33.31.7">79.91</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.34.32">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.34.32.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.34.32.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.34.32.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.34.32.2.1" style="background-color:#E6E6E6;">79.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.34.32.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.34.32.3.1" style="background-color:#E6E6E6;">76.96</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.34.32.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.34.32.4.1" style="background-color:#E6E6E6;">83.73</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.34.32.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.34.32.5.1" style="background-color:#E6E6E6;">80.20</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.35.33">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.35.33.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.35.33.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.35.33.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.35.33.3">78.97</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.35.33.4">85.13</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.35.33.5">70.20</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.35.33.6">76.95</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.36.34">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.36.34.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.36.34.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.36.34.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.36.34.2.1" style="background-color:#E6E6E6;">80.50</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.36.34.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.36.34.3.1" style="background-color:#E6E6E6;">83.18</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.36.34.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.36.34.4.1" style="background-color:#E6E6E6;">76.47</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.36.34.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.36.34.5.1" style="background-color:#E6E6E6;">79.68</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.37.35">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.37.35.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.37.35.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.37.35.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.37.35.3">74.70</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.37.35.4">73.38</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.37.35.5">80.87</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.37.35.6">76.94</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.38.36">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.38.36.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.38.36.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.38.36.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.38.36.2.1" style="background-color:#E6E6E6;">75.63</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.38.36.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.38.36.3.1" style="background-color:#E6E6E6;">71.54</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.38.36.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.38.36.4.1" style="background-color:#E6E6E6;">85.13</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.38.36.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.38.36.5.1" style="background-color:#E6E6E6;">77.75</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.39.37">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S3.T1.2.2.39.37.1" rowspan="18"><span class="ltx_text" id="S3.T1.2.2.39.37.1.1">GQA</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.2" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.39.37.2.1">Random</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.3" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.39.37.3.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.4">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.5">88.87</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.6">93.64</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.39.37.7">83.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.39.37.8">88.22</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.40.38">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.40.38.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.40.38.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.40.38.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.40.38.2.1" style="background-color:#E6E6E6;">90.10</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.40.38.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.40.38.3.1" style="background-color:#E6E6E6;">91.57</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.40.38.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.40.38.4.1" style="background-color:#E6E6E6;">88.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.40.38.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.40.38.5.1" style="background-color:#E6E6E6;">89.92</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.41.39">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.41.39.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.41.39.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.41.39.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.41.39.3">82.63</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.41.39.4">95.45</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.41.39.5">68.53</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.41.39.6">79.78</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.42.40">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.42.40.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.42.40.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.42.40.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.42.40.2.1" style="background-color:#E6E6E6;">85.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.42.40.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.42.40.3.1" style="background-color:#E6E6E6;">96.27</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.42.40.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.42.40.4.1" style="background-color:#E6E6E6;">74.07</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.42.40.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.42.40.5.1" style="background-color:#E6E6E6;">83.72</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.43.41">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.43.41.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.43.41.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.43.41.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.43.41.3">85.17</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.43.41.4">91.05</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.43.41.5">78.00</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.43.41.6">84.02</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.44.42">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.44.42.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.44.42.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.44.42.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.44.42.2.1" style="background-color:#E6E6E6;">86.90</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.44.42.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.44.42.3.1" style="background-color:#E6E6E6;">89.51</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.44.42.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.44.42.4.1" style="background-color:#E6E6E6;">83.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.44.42.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.44.42.5.1" style="background-color:#E6E6E6;">86.45</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.45.43">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.45.43.1.1">Popular</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.45.43.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.4">84.57</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.5">85.39</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.45.43.6">83.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.45.43.7">84.38</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.46.44">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.46.44.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.46.44.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.46.44.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.46.44.2.1" style="background-color:#E6E6E6;">84.70</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.46.44.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.46.44.3.1" style="background-color:#E6E6E6;">84.27</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.46.44.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.46.44.4.1" style="background-color:#E6E6E6;">85.33</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.46.44.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.46.44.5.1" style="background-color:#E6E6E6;">84.80</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.47.45">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.47.45.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.47.45.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.47.45.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.47.45.3">80.40</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.47.45.4">89.86</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.47.45.5">68.53</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.47.45.6">77.76</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.48.46">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.48.46.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.48.46.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.48.46.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.48.46.2.1" style="background-color:#E6E6E6;">83.43</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.48.46.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.48.46.3.1" style="background-color:#E6E6E6;">91.41</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.48.46.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.48.46.4.1" style="background-color:#E6E6E6;">73.80</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.48.46.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.48.46.5.1" style="background-color:#E6E6E6;">81.67</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.49.47">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.49.47.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.49.47.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.49.47.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.49.47.3">78.67</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.49.47.4">79.05</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.49.47.5">78.0</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.49.47.6">78.52</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.50.48">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.50.48.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.50.48.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.50.48.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.50.48.2.1" style="background-color:#E6E6E6;">79.70</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.50.48.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.50.48.3.1" style="background-color:#E6E6E6;">78.07</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.50.48.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.50.48.4.1" style="background-color:#E6E6E6;">82.60</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.50.48.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.50.48.5.1" style="background-color:#E6E6E6;">80.27</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.51.49">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T1.2.2.51.49.1" rowspan="6"><span class="ltx_text ltx_font_italic" id="S3.T1.2.2.51.49.1.1">Adversarial</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.51.49.2" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.51.49.2.1">LLaVA1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.51.49.3">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.51.49.4">81.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.51.49.5">80.55</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T1.2.2.51.49.6">83.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.51.49.7">81.95</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.52.50">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.52.50.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.52.50.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.52.50.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.52.50.2.1" style="background-color:#E6E6E6;">81.83</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.52.50.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.52.50.3.1" style="background-color:#E6E6E6;">80.43</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.52.50.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.52.50.4.1" style="background-color:#E6E6E6;">84.13</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.52.50.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.52.50.5.1" style="background-color:#E6E6E6;">82.24</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.53.51">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.53.51.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.53.51.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.53.51.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.53.51.3">78.40</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.53.51.4">85.38</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.53.51.5">68.53</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.53.51.6">76.04</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.54.52">
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.54.52.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.54.52.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.54.52.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.54.52.2.1" style="background-color:#E6E6E6;">80.93</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.54.52.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.54.52.3.1" style="background-color:#E6E6E6;">85.86</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.54.52.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.54.52.4.1" style="background-color:#E6E6E6;">74.07</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.54.52.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.54.52.5.1" style="background-color:#E6E6E6;">79.53</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.55.53">
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.2.2.55.53.1" rowspan="2"><span class="ltx_text" id="S3.T1.2.2.55.53.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.55.53.2">Regular</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.55.53.3">76.40</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.55.53.4">75.58</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T1.2.2.55.53.5">78.00</td>
<td class="ltx_td ltx_align_left" id="S3.T1.2.2.55.53.6">76.77</td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2.56.54">
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.2.2.56.54.1" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.56.54.1.1" style="background-color:#E6E6E6;">RAR</span></td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.2.2.56.54.2" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.56.54.2.1" style="background-color:#E6E6E6;">76.53</span></td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.2.2.56.54.3" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.56.54.3.1" style="background-color:#E6E6E6;">75.38</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r" id="S3.T1.2.2.56.54.4" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.56.54.4.1" style="background-color:#E6E6E6;">78.80</span></td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.2.2.56.54.5" style="background-color:#E6E6E6;"><span class="ltx_text" id="S3.T1.2.2.56.54.5.1" style="background-color:#E6E6E6;">77.05</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiment</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">This section will elaborate on the evaluation of our proposed Active Retrieval-Augmented large vision-language model (ARA) across different LVLMs.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Evaluation Metrics</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">POPE</span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib21" title="">2023</a>)</cite>, the Polling-based Object Probing Evaluation proposed a simplified method for evaluating object hallucinations. In this evaluation framework, the LVLM is tasked with determining the presence of specific objects in a given image, with a balanced distribution of queries for object presence and absence. The evaluation protocol encompasses three distinct sampling settings: random, popular, and adversarial, each employing unique strategies for constructing negative samples. In the random setting, objects not present in the image are chosen randomly. The popular setting selects missing objects from a high-frequency pool, whereas the adversarial setting prioritizes coexisting objects that could be easily mistaken for existing objects in the image.
The POPE benchmark aggregates data from three diverse sources: MSCOCO <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib22" title="">2014</a>)</cite>, A-OKVQA <cite class="ltx_cite ltx_citemacro_citep">(Schwenk et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib39" title="">2022</a>)</cite>, and GQA <cite class="ltx_cite ltx_citemacro_citep">(Hudson and Manning, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib14" title="">2019</a>)</cite>. Within each dataset, every sampling setting comprises 500 images, with 6 questions posed for each image, resulting in a total of 27,000 question-answer pairs derived from the development sets of these datasets. The evaluation predominantly assesses metrics such as accuracy, precision, recall, and F1 score.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">MME</span>  <cite class="ltx_cite ltx_citemacro_citep">(Yin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib49" title="">2023a</a>)</cite> is a comprehensive benchmark designed specifically for evaluating LVLMs on multiple dimensions. It includes ten sub-tasks related to perception and four sub-tasks emphasizing cognition. According to previous studies <cite class="ltx_cite ltx_citemacro_citep">(Yin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib50" title="">2023b</a>; Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib8" title="">2024b</a>)</cite>, we utilize the existence and count subsets for object-level hallucination evaluation, and the position and color subsets for attribute-level hallucination evaluation. Performance is quantified by accuracy and accuracy+, which is also the official evaluation method.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">MMStar</span>  <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib6" title="">2024a</a>)</cite>, foundational to vision-reliant multi-modal evaluation, consists of 1,500 challenge samples meticulously chosen by human experts. It is tailored to systematically benchmark six key capabilities alongside eighteen granular facets, aiming to rigorously assess the multi-modal proficiency of LVLMs using a selection of samples that have been carefully refined and equilibrated.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">MMbench</span>  <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib30" title="">2023a</a>)</cite> is collected from multiple sources, including public datasets and the Internet, and currently, contains 2974 multiple-choice questions, covering 20 ability dimensions. Similar to MME, we focus on hallucination-related ability. Thus, we select 4 ability subsets including object localization, attribute recognition, spatial relationship, and action recognition as our evaluation benchmarks. These subsets form a comprehensive assessment of hallucinations, addressing issues at the object-level, attribute-level, and relation-level comprehensively.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Implementation Details</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In the case of coarse-grained retrieval, we use the COCO dataset <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib22" title="">2014</a>)</cite> as the retrieval database. For fine-grained retrieval, we use the VisualGenome <cite class="ltx_cite ltx_citemacro_citep">(Krishna et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib18" title="">2017</a>)</cite> to build the fine-grained retrieval database as it provides a detailed caption for each grounding box in the image. CLIP-Large is used to extract image embeddings for retrieval.
To decompose target objects from the input query, we extract key entities from the input query utilizing the large language model LLaMA2-7B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib44" title="">2023</a>)</cite>.
Grounding Dino <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib29" title="">2023e</a>)</cite> is deployed to identify the objects in the image that correspond to the extracted entities. If the objects can not be located in the image, we only use coarse-grained retrieval for the following reasoning process.
In this paper, we implement our ARA model on three LVLMs, including LLaVA 1.5, Qwen-VL, and mPLUG-Owl2 to evaluate the effectiveness of our method. For LLaVA 1.5 and mPLUG-Owl2, we use the retrieved texts to augment, while we apply the retrieved image and text pairs to boost Qwen-VL. For these three LVLMs, we implement augmentation using 3, 4, and 5 retrieval components respectively. For active retrieval, we use the query-aware active retrieval. For the hyperparameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">italic_α</annotation></semantics></math> presented in Equation 6, we apply a value of 0.8 for the POPE, MMstar, and the object-level subsets within the MME benchmark, as well as for OL, SR, and ACR in the MMbench. A value of 0.4 is utilized for the remaining evaluation subsets. For active triggering retrieval, we use query-aware active retrieval for its simplicity and effectiveness. The threshold of active triggering is determined by grid search.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">In our experiments, to have a strict comparison of our RAR and vanilla LVLMs, we consistently utilize greedy decoding instead of other probability sampling methods. With this strategy, the token with the highest probability from the post-softmax distribution is directly selected as the next token.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Experiment Results</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.1">Results on POPE.</span> Experimental results on POPE under the random, popular, and adversarial settings are summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S3.T1" title="Table 1 ‣ 3.5. Joint Coarse-grained and Fine-grained Decoding ‣ 3. Method ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">1</span></a>. This benchmark mainly focuses on the object-level hallucination.
Specifically, the performances of our ARA consistently surpass the baseline results on all of the LVLMs.
This suggests its pivotal role in augmenting LVLMs with retrieval, thereby reducing instances of object-level hallucination.
In a more detailed model-specific analysis, RAR demonstrates varied effects across different LVLMs. For all three LVLMs, the F1 score elevation is predominantly driven by a recall boost (e.g., up to 10 points for mPLUG-Owl2), showcasing retrieving to external knowledge base can effectively help detect object presences.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Results on the hallucination subset of MME.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.5" style="width:357.7pt;height:124.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-28.5pt,9.9pt) scale(0.862617421518277,0.862617421518277) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.5.5">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.2" rowspan="2"><span class="ltx_text" id="S4.T2.1.1.1.2.1">Model</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.3" rowspan="2"><span class="ltx_text" id="S4.T2.1.1.1.3.1">Decoding</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T2.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.4.1">Object-level</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T2.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.5.1">Attribute-level</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1" rowspan="2"><span class="ltx_text" id="S4.T2.1.1.1.1.1">Total Scores<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.1.1.m1.1a"><mo id="S4.T2.1.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T2.1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.1.m1.1b"><ci id="S4.T2.1.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.1.m1.1d">↑</annotation></semantics></math></span></th>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.2.2.2.1"><span class="ltx_text ltx_font_italic" id="S4.T2.2.2.2.1.1">Existence<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T2.2.2.2.1.1.m1.1"><semantics id="S4.T2.2.2.2.1.1.m1.1a"><mo id="S4.T2.2.2.2.1.1.m1.1.1" stretchy="false" xref="S4.T2.2.2.2.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.1.1.m1.1b"><ci id="S4.T2.2.2.2.1.1.m1.1.1.cmml" xref="S4.T2.2.2.2.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.1.1.m1.1d">↑</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.3.3.3.2"><span class="ltx_text ltx_font_italic" id="S4.T2.3.3.3.2.1">Count<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T2.3.3.3.2.1.m1.1"><semantics id="S4.T2.3.3.3.2.1.m1.1a"><mo id="S4.T2.3.3.3.2.1.m1.1.1" stretchy="false" xref="S4.T2.3.3.3.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.2.1.m1.1b"><ci id="S4.T2.3.3.3.2.1.m1.1.1.cmml" xref="S4.T2.3.3.3.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.2.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.3.2.1.m1.1d">↑</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.4.4.4.3"><span class="ltx_text ltx_font_italic" id="S4.T2.4.4.4.3.1">Position<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T2.4.4.4.3.1.m1.1"><semantics id="S4.T2.4.4.4.3.1.m1.1a"><mo id="S4.T2.4.4.4.3.1.m1.1.1" stretchy="false" xref="S4.T2.4.4.4.3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.3.1.m1.1b"><ci id="S4.T2.4.4.4.3.1.m1.1.1.cmml" xref="S4.T2.4.4.4.3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.3.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.4.3.1.m1.1d">↑</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.5.5.5.4"><span class="ltx_text ltx_font_italic" id="S4.T2.5.5.5.4.1">Color<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T2.5.5.5.4.1.m1.1"><semantics id="S4.T2.5.5.5.4.1.m1.1a"><mo id="S4.T2.5.5.5.4.1.m1.1.1" stretchy="false" xref="S4.T2.5.5.5.4.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.5.4.1.m1.1b"><ci id="S4.T2.5.5.5.4.1.m1.1.1.cmml" xref="S4.T2.5.5.5.4.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.5.4.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.5.4.1.m1.1d">↑</annotation></semantics></math></span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.5.5.6.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.1" rowspan="2"><span class="ltx_text" id="S4.T2.5.5.6.1.1.1">LLaVA-1.5</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.2">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.3">195.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.4">126.67</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.5">106.67</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.6">140.00</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T2.5.5.6.1.7">605.00</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.7.2">
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.7.2.1">RAR</td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.7.2.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.7.2.2.1">195.00</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.7.2.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.7.2.3.1">145.00</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.7.2.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.7.2.4.1">133.33</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.7.2.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.7.2.5.1">175.00</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S4.T2.5.5.7.2.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.7.2.6.1">648.33</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.8.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.1" rowspan="2"><span class="ltx_text" id="S4.T2.5.5.8.3.1.1">Qwen-VL</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.2">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.3">165.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.4">145.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.5">103.33</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.6">185.00</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T2.5.5.8.3.7">598.33</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.9.4">
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.9.4.1">RAR</td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.9.4.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.9.4.2.1">170.00</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.9.4.3">140.00</td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.9.4.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.9.4.4.1">118.33</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.5.5.9.4.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.9.4.5.1">195.00</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S4.T2.5.5.9.4.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.9.4.6.1">623.33</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.10.5">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T2.5.5.10.5.1" rowspan="2"><span class="ltx_text" id="S4.T2.5.5.10.5.1.1">mPLUG-Owl2</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.2">Regular</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.3">170.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.4">145.00</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.5">76.67</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.6">163.33</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T2.5.5.10.5.7">555.00</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.11.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.1">RAR</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.11.6.2.1">175.00</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.11.6.3.1">148.33</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.11.6.4.1">78.33</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.11.6.5.1">163.33</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T2.5.5.11.6.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.11.6.6.1">565.00</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span>Results on the MMStar benchmark. CP (coarse perception), FP (fine-grained perception), IR (instance reasoning), LR (logical reasoning), MA (mathematics), ST (science &amp; technology).</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.1" style="width:357.7pt;height:122.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.3pt,1.8pt) scale(0.971261479042228,0.971261479042228) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T3.1.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T3.1.1.1.1.2">Decoding</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.3">CP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.4">FGP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.5">IR</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.6">LR</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.7">MA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.8">ST</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.9"><em class="ltx_emph ltx_font_italic" id="S4.T3.1.1.1.1.9.1">Ave.</em></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.1.2.1.1" rowspan="2"><span class="ltx_text" id="S4.T3.1.1.2.1.1.1">LLaVA-1.5</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.1.2.1.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.3">0.556</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.4">0.264</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.5">0.388</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.6">0.276</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.7">0.236</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.8">0.208</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1.9">0.321</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.1.3.2.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.2.1">0.660</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.3.1">0.416</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.4.1">0.464</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.5"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.5.1">0.340</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.6"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.6.1">0.320</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.3.2.7"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.7.1">0.252</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.1.1.3.2.8"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.8.1">0.409</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.1.4.3.1" rowspan="2"><span class="ltx_text" id="S4.T3.1.1.4.3.1.1">Qwen-VL</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.1.4.3.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.3">0.540</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.4">0.348</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.5">0.460</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.6">0.288</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.7"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.3.7.1">0.292</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.8">0.204</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T3.1.1.4.3.9">0.355</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.1.5.4.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.2.1">0.584</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.3.1">0.428</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.4.1">0.524</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.5"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.5.1">0.324</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.6">0.260</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.4.7"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.7.1">0.280</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.1.1.5.4.8"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.4.8.1">0.400</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T3.1.1.6.5.1" rowspan="2"><span class="ltx_text" id="S4.T3.1.1.6.5.1.1">mPLUG-Owl2</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.1.6.5.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.3">0.544</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.4">0.268</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.5">0.420</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.6">0.328</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.7">0.236</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.8">0.172</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T3.1.1.6.5.9">0.328</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.1.1.7.6.1">RAR</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.2.1">0.636</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.3.1">0.396</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.4.1">0.480</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.5"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.5.1">0.392</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.6"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.6.1">0.312</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.7"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.7.1">0.252</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T3.1.1.7.6.8"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.6.8.1">0.411</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p2.1.1">Results on MME Hallucination Subset.</span>
The MME subset evaluations extend beyond POPE’s scope, encompassing both object-level and attribute-level hallucination. Results in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.T2" title="Table 2 ‣ 4.3. Experiment Results ‣ 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">2</span></a> show that our ARA leads to a uniform enhancement in addressing object-level hallucination for all models, except the count score of Qwen-VL. Meanwhile, our ARA demonstrates significant improvements in attribute-level Color scores, contributing to substantial overall performance gains. These improvements are attributable to our designed coarse-to-fine retrieval paradigms, which effectively focus on the target object.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p3.1.1">Results on MMStar.</span> In a more difficult benchmark MMStar which rigorously assesses the multi-modal proficiency, as depicted in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.T3" title="Table 3 ‣ 4.3. Experiment Results ‣ 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">3</span></a>, our method ARA secures a notable enhancement across all six subsets. For instance, LLaVA-1.5 realizes an average improvement of 8.8 points. Unlike POPE, which may include statistical bias, answering questions in MMStar necessitates reliance on image information. Hence, our retrieval augmentation method introducing external image and text knowledge significantly bolsters model performance.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p4.1.1">Results on MMBench Hallucination Subset.</span>
This benchmark extends our hallucination evaluation to incorporate the relation level in addition to the above object and attribute levels, providing a more holistic assessment for reducing hallucinations. As evidenced in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.T4" title="Table 4 ‣ 4.3. Experiment Results ‣ 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">4</span></a>, benefiting from coarse-grained retrieval, our ARA manifests discernible enhancements in the object and relation-level subsets, such as OL, SR, and ACR. For instance, our ARA model surpasses the vanilla LLaVA-1.5 with 5.08 percent points on object localization (OL).
Concurrently, the integration of fine-grained retrieval into our model facilitates superior performance in attribute-level subsets, namely attribute recognition (ATR).</p>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span>Results on the hallucination subsets of MMbench benchmark. OL (object localization),
ATR (attribute recognition), SR (spatial relationship), and ACR (action recognition).</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T4.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T4.1.1.1.2">Decoding</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.3">OL</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.4">ATR</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.5">SR</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.6">ACR</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.7"><em class="ltx_emph ltx_font_italic" id="S4.T4.1.1.1.7.1">Ave.</em></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.2.1.1" rowspan="2"><span class="ltx_text" id="S4.T4.1.2.1.1.1">LLaVA1.5</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.2.1.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.1.3">0.6032</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.1.4">0.8750</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.1.5">0.3785</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.1.6">0.9581</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.2.1.7">0.7147</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.3.2.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.2.1">0.6540</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.3.1">0.8902</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.4.1">0.4350</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.5.1">0.9628</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T4.1.3.2.6"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.6.1">0.7293</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.4.3.1" rowspan="2"><span class="ltx_text" id="S4.T4.1.4.3.1.1">Qwen-VL</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.4.3.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.4.3.3">0.5397</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.4.3.4">0.8144</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.4.3.5">0.3842</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.4.3.6">0.9116</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.4.3.7">0.6684</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.5.4.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.2.1">0.6413</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.3.1">0.8523</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.4.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.4.1">0.4407</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.4.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.5.1">0.9349</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T4.1.5.4.6"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.6.1">0.7271</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T4.1.6.5.1" rowspan="2"><span class="ltx_text" id="S4.T4.1.6.5.1.1">mPLUG-Owl2</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.6.5.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.6.5.3">0.5206</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.6.5.4">0.7955</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.6.5.5">0.3672</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.6.5.6">0.9209</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.5.7"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.5.7.1">0.6560</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T4.1.7.6.1">RAR</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.2.1">0.5873</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.7.6.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.3.1">0.8182</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.7.6.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.4.1">0.4237</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.7.6.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.5.1">0.9581</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.7.6.6"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.6.1">0.7024</span></td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Ablation studies on different retrieving methods. The results are obtained on POPE MSCOCO Popular by LLaVA 1.5. For this study, we only conduct coarse-grained retrieval.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T5.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T5.4.5.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T5.4.5.1.1"><span class="ltx_text" id="S4.T5.4.5.1.1.1">Methods</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.4.5.1.2">Accuracy</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.4.5.1.3">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.4.5.1.4">Recall</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.4.5.1.5">F1 Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T5.1.1.1">T <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T5.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.m1.1a"><mo id="S4.T5.1.1.1.m1.1.1" stretchy="false" xref="S4.T5.1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.m1.1d">→</annotation></semantics></math> T</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2">86.67</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3">93.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.4">78.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.5">85.50</td>
</tr>
<tr class="ltx_tr" id="S4.T5.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.2.2.1">T <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T5.2.2.1.m1.1"><semantics id="S4.T5.2.2.1.m1.1a"><mo id="S4.T5.2.2.1.m1.1.1" stretchy="false" xref="S4.T5.2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.1.m1.1b"><ci id="S4.T5.2.2.1.m1.1.1.cmml" xref="S4.T5.2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.2.2.1.m1.1d">→</annotation></semantics></math> I</th>
<td class="ltx_td ltx_align_center" id="S4.T5.2.2.2">51.60</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.2.3">50.81</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.2.4">99.87</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.2.5">67.36</td>
</tr>
<tr class="ltx_tr" id="S4.T5.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.3.3.1">I <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T5.3.3.1.m1.1"><semantics id="S4.T5.3.3.1.m1.1a"><mo id="S4.T5.3.3.1.m1.1.1" stretchy="false" xref="S4.T5.3.3.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T5.3.3.1.m1.1b"><ci id="S4.T5.3.3.1.m1.1.1.cmml" xref="S4.T5.3.3.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.3.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.3.3.1.m1.1d">→</annotation></semantics></math> I</th>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.2"><span class="ltx_text ltx_font_bold" id="S4.T5.3.3.2.1">86.93</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.3">91.41</td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.4">81.53</td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.5"><span class="ltx_text ltx_font_bold" id="S4.T5.3.3.5.1">86.19</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.4.4.1">I <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T5.4.4.1.m1.1"><semantics id="S4.T5.4.4.1.m1.1a"><mo id="S4.T5.4.4.1.m1.1.1" stretchy="false" xref="S4.T5.4.4.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T5.4.4.1.m1.1b"><ci id="S4.T5.4.4.1.m1.1.1.cmml" xref="S4.T5.4.4.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.4.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.4.4.1.m1.1d">→</annotation></semantics></math> T</th>
<td class="ltx_td ltx_align_center" id="S4.T5.4.4.2">86.67</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.4.3">90.92</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.4.4">81.47</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.4.5">85.94</td>
</tr>
<tr class="ltx_tr" id="S4.T5.4.6.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T5.4.6.1.1">DINOv2-Base</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.4.6.1.2">86.07</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.4.6.1.3">90.37</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.4.6.1.4">80.73</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.4.6.1.5">85.28</td>
</tr>
<tr class="ltx_tr" id="S4.T5.4.7.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.4.7.2.1">CLIP-Base</th>
<td class="ltx_td ltx_align_center" id="S4.T5.4.7.2.2">86.33</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.7.2.3">90.79</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.7.2.4">80.87</td>
<td class="ltx_td ltx_align_center" id="S4.T5.4.7.2.5">85.54</td>
</tr>
<tr class="ltx_tr" id="S4.T5.4.8.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T5.4.8.3.1">CLIP-Large</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.4.8.3.2"><span class="ltx_text ltx_font_bold" id="S4.T5.4.8.3.2.1">86.93</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.4.8.3.3">91.41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.4.8.3.4">81.53</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.4.8.3.5"><span class="ltx_text ltx_font_bold" id="S4.T5.4.8.3.5.1">86.19</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Ablation Study</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this section, we undertake a series of ablation studies with the aim of identifying the critical elements integral to constructing a resilient and efficient retrieval-augmented large vision-language model.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Ablation of Coarse-to-Fine Retrieval</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">In this section, in order to explore the effects of different factors on coarse-to-fine retrieval in a simple and effective way, we did not use the rerank method or active trigger strategy.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S5.SS1.p2.1.1">Which kind of retrieval is better?</span>
Due to the multimodal characteristics of the input, there are various retrieval methods at our disposal. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S4.T5" title="Table 5 ‣ 4.3. Experiment Results ‣ 4. Experiment ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">5</span></a>, we attempt to use the input query and image to search for images and descriptions in the database. For this study, we only conduct coarse-grained retrieval and we use the COCO dataset as the database which contains a caption for each image.
As a result, there are four retrieval methods available to us.
As reflected in the results within this table, we adopt the input image as our primary retrieval modality for images in the database throughout our series of experiments.
Surprisingly, using the input query to search the database for image leads to substantially poorer outcomes, achieving only 51.6% accuracy.
This lower performance may stem from the fact that, despite the presence of relevant keywords, the images retrieved this way tend to be surrounded by a significant degree of noise.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">Additionally, we investigate the influence of different embedding models on the efficacy of image-to-image retrieval.
In our comparison, we examine three models: CLIP-Base/Large <cite class="ltx_cite ltx_citemacro_citep">(Radford et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib34" title="">2021</a>)</cite> and DINOV2-Base <cite class="ltx_cite ltx_citemacro_citep">(Oquab et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib32" title="">2023</a>)</cite>. Among them, we notice that CLIP-base performs better than DINO (86.33 vs 86.07) and this may be related to their different training methods. Moreover, when comparing CLIP models of various sizes, we observe that the larger-scale CLIP models contribute to more pronounced improvements in performance. Therefore, in the context of this study, CLIP-Large is selected as the image embedding model for retrieval purposes.</p>
</div>
<figure class="ltx_table" id="S5.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6. </span>Performance on the LLaVA-1.5. In this paper, we compare different kinds of retrieval schemes and regular decoding. “I” indicates augmentation with only retrieved texts and “I+T” means enhancing with both texts and images.
The experiments are performed on the popular part of POPE MSCOCO dataset. Coarse and Fine indicate coarse-grained and fine-grained retrieval, separately. Coarse+Fine means the instance-level fusion, while Coarse &amp; Fine corresponds to the probabilistic-level fusion.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.2">Accuracy</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.3">Precision</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.4">Recall</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.5">F1</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2.1">Regular</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2.2">85.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2.3">95.02</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2.4">75.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2.5">83.83</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.3.3">
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3.1">Coarse (T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3.2">86.43</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3.3">93.03</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3.4">80.93</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3.5">86.56</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.4.4">
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.4.1">Coarse (I+T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.4.2">86.93</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.4.3">91.41</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.4.4">81.53</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.4.5">86.19</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.5.5">
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5.1">Fine (T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5.2">86.20</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5.3">89.46</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5.4">82.07</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5.5">85.61</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.6.6">
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6.1">Fine (I+T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6.2">86.53</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6.3">93.08</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6.4">78.93</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6.5">85.43</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.7.7">
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.7.1">Coarse+Fine (T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.7.2">86.27</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.7.3">89.59</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.7.4">82.07</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.7.5">85.66</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.8.8">
<td class="ltx_td ltx_align_center" id="S5.T6.1.8.8.1">Coarse+Fine (I+T)</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.8.8.2">86.77</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.8.8.3">91.88</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.8.8.4">80.67</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.8.8.5">85.91</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.9.9">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.9.9.1">Coarse &amp; Fine (T)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.9.9.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.9.9.2.1">87.47</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.9.9.3">92.07</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.9.9.4">82.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.9.9.5"><span class="ltx_text ltx_font_bold" id="S5.T6.1.9.9.5.1">86.74</span></td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.10.10">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.10.1">Coarse &amp; Fine (I+T)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.10.2">87.23</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.10.3">92.47</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.10.4">81.07</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.10.5">86.39</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_figure" id="S5.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="261" id="S5.F3.g1" src="x3.png" width="664"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Performance of three LVLMs corresponding to different numbers of retrieval pairs. The performance trends of accuracy and F1 score are the same. The
experiments are performed on the popular part of the POPE MSCOCO dataset.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S5.SS1.p4.1.1">How to augment the LVLM?</span> After retrieving, we can obtain retrieved images and paired captions. In this section, we explore how to augment the LVLM with this external information. For a fair comparison, in this study, we fix the number of retrieved pairs to 3 for both coarse-grained and fine-grained retrieval. As demonstrated in Table 6, when using coarse-grained retrieval, we observe that the image and caption pair perform worse than the single caption (86.93 vs 87.43).
However, the opposite results are observed in fine-grained retrieval and the Fine (I+T) achieves 86.53 compared with 86.20 of Fine (T). These results imply that
retrieval augmentation is sensitive to specific configurations. In this experiment, we do not carefully compare with Coarse (I) or Fine (I) as we have found that the LVLMs we use in our experiments are still quite weak in multi-image reasoning.</p>
</div>
<div class="ltx_para" id="S5.SS1.p5">
<p class="ltx_p" id="S5.SS1.p5.1">In Section 3.5, we propose a joint coarse-grained and fine-grained decoding, designed to optimally utilize the two retrieval mechanisms.
In Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.T6" title="Table 6 ‣ 5.1. Ablation of Coarse-to-Fine Retrieval ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">6</span></a>, we also investigate the effectiveness of probabilistic-level fusion denoted as Coarse &amp; Fine and instance-level fusion labeled as Coarse+Fine.
As shown from the results, we observe that Coarse+Fine even performs than Coarse retrieval, signifying that simply integrating the coarse-grained and fine-grained retrieved results in a prompt fails to enhance performance, given the distinct granularity of the information retrieved through these two approaches. Instead, the probabilistic-level fusion Coarse &amp; Fine achieves better accuracy than both two kinds of retrieval.
Thus, in our paper, we use probabilistic-level fusion for the following experiments. It is worth noting that Coarse &amp; Fine (T) performs better than Coarse &amp; Fine (I+T) for LLaVA-1.5 but Coarse &amp; Fine (I+T) achieves better for Qwen-VL (we will describe in Figure 3 later). This result further validates the necessity of carefully selecting retrieval configurations to obtain the most favorable experimental results.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS1.p6">
<p class="ltx_p" id="S5.SS1.p6.1"><span class="ltx_text ltx_font_bold" id="S5.SS1.p6.1.1">How much external information do we need?</span>
With the above retrieval, we can obtain multiple image-caption pairs from the database. This research delves into the efficacy of varying retrieved pair configurations.
Considering that different LVLMs may be sensitive to retrieval configurations, our study incorporates both (T) and (I+T) configurations for a thorough evaluation. The analysis is constrained to examining between one to five retrieved pairs due to the input token limitations inherent in contemporary LVLMs.
As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.F3" title="Figure 3 ‣ 5.1. Ablation of Coarse-to-Fine Retrieval ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">3</span></a>, LLaVA (T) reaches peak accuracy with three retrieved texts, whereas mPLUG (T) begins to saturate when there are four retrieval texts.
Conversely, QwenVL (I+T) demonstrates improved outcomes with a greater number of retrieval pairs; however, it still lags considerably behind the performance achieved by the other two LVLM models.</p>
</div>
<figure class="ltx_figure" id="S5.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S5.F4.g1" src="x4.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>The detailed reranking process in our method. With reranking, the retrieved five pairs are sorted in a new order.
This example is from the POPE benchmark and the LVLM used here is LLaVA 1.5.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T7">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7. </span>Ablation studies on different reranking methods. The results are obtained on POPE MSCOCO Popular by LLaVA-1.5. In this experiment, we incorporate a reranking strategy on top of the coarse-grained retrieval. Thus, the result of the first line (None) aligns with the results in Table 5.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T7.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T7.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T7.1.2.1.1"><span class="ltx_text" id="S5.T7.1.2.1.1.1">Methods</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T7.1.2.1.2">Accuracy</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T7.1.2.1.3">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T7.1.2.1.4">Recall</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T7.1.2.1.5">F1 Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T7.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T7.1.3.1.1">None</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.3.1.2">86.93</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.3.1.3">91.41</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.3.1.4">81.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.3.1.5">86.19</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.1.1">
<math alttext="k" class="ltx_Math" display="inline" id="S5.T7.1.1.1.m1.1"><semantics id="S5.T7.1.1.1.m1.1a"><mi id="S5.T7.1.1.1.m1.1.1" xref="S5.T7.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T7.1.1.1.m1.1b"><ci id="S5.T7.1.1.1.m1.1.1.cmml" xref="S5.T7.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.1.1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.T7.1.1.1.m1.1d">italic_k</annotation></semantics></math>-Reciprocal <cite class="ltx_cite ltx_citemacro_citep">(Zhong et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib55" title="">2017</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.1.2">87.03</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.1.3">91.36</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.1.4">81.8</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.1.5">86.32</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.4.2.1">VSR <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib24" title="">2023b</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.2.2">86.97</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.2.3">91.29</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.2.4">81.73</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.2.5">86.25</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S5.T7.1.5.3.1">RAR</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.5.3.2"><span class="ltx_text ltx_font_bold" id="S5.T7.1.5.3.2.1">87.17</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.5.3.3"><span class="ltx_text ltx_font_bold" id="S5.T7.1.5.3.3.1">91.57</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.5.3.4"><span class="ltx_text ltx_font_bold" id="S5.T7.1.5.3.4.1">81.87</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.5.3.5"><span class="ltx_text ltx_font_bold" id="S5.T7.1.5.3.5.1">86.45</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>The effectiveness of Reranking Method</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">To substantiate the efficacy and indispensability of reranking, we begin by providing a case study within the POPE benchmark.
As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.F4" title="Figure 4 ‣ 5.1. Ablation of Coarse-to-Fine Retrieval ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">4</span></a>, in instances where an image portrays people in a pool, leveraging CLIP for image retrieval may inadvertently introduce irrelevant content due to its predominant emphasis on visual congruence.
For instance, it might retrieve an incongruent image captioned “fruit and a bowl of bread sit on the table.” Therefore, an adept reranking methodology can proficiently filter and organize the retrieved images in a more relevant manner. In this particular scenario, our reranking strategy aligns the input image caption with those of the retrieved images.
By assessing these similarity metrics, we are able to reorganize the pool of retrieved images into a more accurately ranked series, thereby enhancing the precision of the retrieval process.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">In order to further quantify the effect of reranking and compare different reranking methods, we conduct experiments in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.T7" title="Table 7 ‣ 5.1. Ablation of Coarse-to-Fine Retrieval ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">7</span></a>.
The result reveals that the omission of re-ranking precipitates a decline in accuracy, dropping from 87.17% to 86.93%
This suggests that re-ranking effectively mitigates noise, particularly when employing the top three re-ordered retrieval pairs.
For comparative purposes, we executed two alternative methodologies. The k-Reciprocal approach <cite class="ltx_cite ltx_citemacro_citep">(Zhong et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib55" title="">2017</a>)</cite>, a prevalent offline person re-identification method, re-ranks images using the k-Reciprocal nearest neighbor algorithm. While this method offers a swifter execution by circumventing the captioning process of input images, its efficacy slightly underperforms our strategy. Additionally, we examined the employment of the external tool VSR <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib24" title="">2023b</a>)</cite>, which determines the entailment between the caption of the input image and the retrieved images. As shown in Table 7, this method gains only a slight increase in accuracy (86.93 vs 86.97). This may be due to the visual entailment model not being sufficiently versatile.</p>
</div>
<figure class="ltx_figure" id="S5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="538" id="S5.F5.g1" src="x5.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Different strategies for triggering retrieval on the popular part of POPE MSCOCO. The horizontal axis represents the difficulty threshold, the left vertical axis represents the proportion of queries that trigger retrieval out of all queries, and the right vertical axis shows the values of F1 score and accuracy. From top to bottom, the three lines respectively represent: confidence-aware active retrieval, query-aware active retrieval, and image-aware active retrieval.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T8">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8. </span>The performance comparison between our method RAR and VCD in POPE MSCOCO benchmark. VCD is the state-of-the-art method published in CVPR24. The results of VCD-sampling are from their paper. For a fair comparison with our method, we rerun VCD with greedy decoding.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T8.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T8.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T8.2.2.3">Setting</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T8.2.2.4">Decoding</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.1.1.1">Accuracy<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T8.1.1.1.m1.1"><semantics id="S5.T8.1.1.1.m1.1a"><mo id="S5.T8.1.1.1.m1.1.1" stretchy="false" xref="S5.T8.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T8.1.1.1.m1.1b"><ci id="S5.T8.1.1.1.m1.1.1.cmml" xref="S5.T8.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T8.1.1.1.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.2.2.5">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.2.2.6">Recall</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.2.2.2">F1 Score<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T8.2.2.2.m1.1"><semantics id="S5.T8.2.2.2.m1.1a"><mo id="S5.T8.2.2.2.m1.1.1" stretchy="false" xref="S5.T8.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T8.2.2.2.m1.1b"><ci id="S5.T8.2.2.2.m1.1.1.cmml" xref="S5.T8.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T8.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T8.2.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.2.3.1.1" rowspan="3"><span class="ltx_text ltx_font_italic" id="S5.T8.2.3.1.1.1">Random</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.2.3.1.2">VCD-greedy <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.3.1.3">85.37</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.3.1.4">93.24</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.3.1.5">76.27</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T8.2.3.1.6">83.90</td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.2.4.2.1">VCD-sampling <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S5.T8.2.4.2.2">87.73</td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.4.2.3">91.42</td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.4.2.4">83.28</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T8.2.4.2.5">87.16</td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.2.5.3.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S5.T8.2.5.3.2"><span class="ltx_text ltx_font_bold" id="S5.T8.2.5.3.2.1">89.43</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.5.3.3"><span class="ltx_text ltx_font_bold" id="S5.T8.2.5.3.3.1">95.96</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.5.3.4"><span class="ltx_text ltx_font_bold" id="S5.T8.2.5.3.4.1">82.33</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T8.2.5.3.5"><span class="ltx_text ltx_font_bold" id="S5.T8.2.5.3.5.1">88.63</span></td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.2.6.4.1" rowspan="3"><span class="ltx_text ltx_font_italic" id="S5.T8.2.6.4.1.1">Popular</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.2.6.4.2">VCD-greedy <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.6.4.3">83.30</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.6.4.4">88.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.6.4.5">76.27</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T8.2.6.4.6">82.04</td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.2.7.5.1">VCD-sampling <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S5.T8.2.7.5.2"><span class="ltx_text" id="S5.T8.2.7.5.2.1">85.38</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.7.5.3"><span class="ltx_text" id="S5.T8.2.7.5.3.1">86.92</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.7.5.4"><span class="ltx_text" id="S5.T8.2.7.5.4.1">83.28</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T8.2.7.5.5"><span class="ltx_text" id="S5.T8.2.7.5.5.1">85.06</span></td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.2.8.6.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S5.T8.2.8.6.2"><span class="ltx_text ltx_font_bold" id="S5.T8.2.8.6.2.1">87.47</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.8.6.3"><span class="ltx_text ltx_font_bold" id="S5.T8.2.8.6.3.1">92.07</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.8.6.4"><span class="ltx_text ltx_font_bold" id="S5.T8.2.8.6.4.1">82.00</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T8.2.8.6.5"><span class="ltx_text ltx_font_bold" id="S5.T8.2.8.6.5.1">86.74</span></td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.9.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S5.T8.2.9.7.1" rowspan="3"><span class="ltx_text ltx_font_italic" id="S5.T8.2.9.7.1.1">Adversarial</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.2.9.7.2">VCD-greedy <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.9.7.3">80.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.9.7.4">82.37</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.2.9.7.5">76.33</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T8.2.9.7.6">79.24</td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.10.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.2.10.8.1">VCD-sampling <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S5.T8.2.10.8.2"><span class="ltx_text" id="S5.T8.2.10.8.2.1">80.88</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.10.8.3"><span class="ltx_text" id="S5.T8.2.10.8.3.1">79.45</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.2.10.8.4"><span class="ltx_text" id="S5.T8.2.10.8.4.1">83.29</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T8.2.10.8.5"><span class="ltx_text" id="S5.T8.2.10.8.5.1">81.33</span></td>
</tr>
<tr class="ltx_tr" id="S5.T8.2.11.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T8.2.11.9.1">RAR</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T8.2.11.9.2"><span class="ltx_text ltx_font_bold" id="S5.T8.2.11.9.2.1">84.58</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T8.2.11.9.3"><span class="ltx_text ltx_font_bold" id="S5.T8.2.11.9.3.1">87.17</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T8.2.11.9.4"><span class="ltx_text ltx_font_bold" id="S5.T8.2.11.9.4.1">80.73</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T8.2.11.9.5"><span class="ltx_text ltx_font_bold" id="S5.T8.2.11.9.5.1">83.92</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Ablation of Active Triggering Retrieval</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">As excessive retrieval activations may lead to undue time expenditure and unnecessary retrieval, in this paper, retrieval is activated using a difficulty metric. In this ablation study, we compare three kinds of active retrieval methods, including confidence-aware active retrieval, query-aware active retrieval, and image-aware active retrieval. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.F5" title="Figure 5 ‣ 5.2. The effectiveness of Reranking Method ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">5</span></a>, we have drawn the proportion of queries that need to be retrieved to achieve peak performance. Firstly, it is quite intuitive, the fluctuations of confidence-aware active retrieval among different models are very significant. For mPLUG-Owl2, we even need to retrieve all the queries, which indicates that confidence-aware active retrieval is not a good indicator of whether to perform a retrieval. For both query-aware active retrieval and image-aware active retrieval, the LVLMs can better determine a trigger threshold.
Considering that query-aware active retrieval is more concise and the process of adding noise is omitted, we use query-aware active retrieval in all our experiments.
It is worth noting that the very slight decline in the model’s performance after continuing to use retrieval beyond the trigger threshold is due to the fact that the model itself has a high level of confidence, but the retrieval has introduced some redundant noise information, which we cannot filter out through reranking.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Comparison with State-of-the-Art Method</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1">In this paper, we augment LVLMs with external knowledge to mitigate hallucinations.
To further demonstrate the effectiveness of our method, we compare it with VCD <cite class="ltx_cite ltx_citemacro_citep">(Leng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib19" title="">2023</a>)</cite> and the results are demonstrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.T8" title="Table 8 ‣ 5.2. The effectiveness of Reranking Method ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">8</span></a>. VCD is a state-of-the-art training-free method that explores intra-model knowledge with visual contrastive decoding. From the results, we can notice that our method significantly surpasses VCD in all three settings. For instance, in popular settings, our method gains a 4.06 percent improvement. It is worth noting that VCD performs comparably with the vanilla LLaVA-1.5 when using greedy decoding. This phenomenon is also observed in <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#bib.bib8" title="">2024b</a>)</cite>. Instead, our method significantly surpasses the vanilla LLaVA-1.5 model as presented in Tabe 1. This result further verifies the robust improvement of introducing external information when applying our ARA method.</p>
</div>
<figure class="ltx_table" id="S5.T9">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9. </span>Text generation quality comparison. Results on the MS-COCO dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T9.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T9.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T9.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T9.1.1.1.2">Decoding</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.3">B@4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.4">METEOR</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.5">ROUGE-L</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.6">CIDEr</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.7">SPICE</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T9.1.1.1.8"><em class="ltx_emph ltx_font_italic" id="S5.T9.1.1.1.8.1">Ave.</em></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T9.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T9.1.2.1.1" rowspan="2"><span class="ltx_text" id="S5.T9.1.2.1.1.1">LLaVA-1.5</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T9.1.2.1.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.2.1.3">22.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.2.1.4">28.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.2.1.5">50.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.2.1.6">75.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.2.1.7">22.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T9.1.2.1.8">39.7</td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.1.3.2.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S5.T9.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.2.1">25.8</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.3.2.3"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.3.1">28.3</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.3.2.4"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.4.1">53.2</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.3.2.5"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.5.1">94.2</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.3.2.6"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.6.1">22.2</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T9.1.3.2.7"><span class="ltx_text ltx_font_bold" id="S5.T9.1.3.2.7.1">44.7</span></td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T9.1.4.3.1" rowspan="2"><span class="ltx_text" id="S5.T9.1.4.3.1.1">Qwen-VL</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T9.1.4.3.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.4.3.3">25.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.4.3.4">25.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.4.3.5">50.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.4.3.6">96.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.4.3.7">19.8</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T9.1.4.3.8">43.4</td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.1.5.4.1">RAR</th>
<td class="ltx_td ltx_align_center" id="S5.T9.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.2.1">40.8</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.3.1">29.8</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.5.4.4"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.4.1">60.5</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.5.4.5"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.5.1">137.2</span></td>
<td class="ltx_td ltx_align_center" id="S5.T9.1.5.4.6"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.6.1">23.4</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T9.1.5.4.7"><span class="ltx_text ltx_font_bold" id="S5.T9.1.5.4.7.1">58.3</span></td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S5.T9.1.6.5.1" rowspan="2"><span class="ltx_text" id="S5.T9.1.6.5.1.1">mPLUG-Owl2</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T9.1.6.5.2">Regular</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.6.5.3">28.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.6.5.4">27.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.6.5.5">54.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.6.5.6">96.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T9.1.6.5.7">19.0</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T9.1.6.5.8">45.1</td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T9.1.7.6.1">RAR</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.2.1">32.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.3"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.3.1">28.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.4"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.4.1">56.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.5"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.5.1">103.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.6"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.6.1">20.8</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T9.1.7.6.7"><span class="ltx_text ltx_font_bold" id="S5.T9.1.7.6.7.1">48.3</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5. </span>Text Generation Quality Evaluation</h3>
<div class="ltx_para" id="S5.SS5.p1">
<p class="ltx_p" id="S5.SS5.p1.1">In this section, we evaluated the effectiveness of our method in improving text generation quality on the MS-COCO validation set<span class="ltx_note ltx_role_footnote" id="footnote1a"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>We use the official COCO evaluation package.</span></span></span>. As shown in Table 9, all models LLaVA, Qwen-VL, and mPLUG exhibited significant improvements after applying our method, with an average improvement of 7.7% across the three models. Notably, the improvement was most pronounced for Qwen-VL, with an average increase of approximately 14.9%.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.6. </span>Qualitative Results</h3>
<div class="ltx_para" id="S5.SS6.p1">
<p class="ltx_p" id="S5.SS6.p1.1">To qualitatively verify the effectiveness of our ARA method on downstream tasks, we presented five examples from the POPE MSCOCO dataset and MME benchmark. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00555v1#S5.F6" title="Figure 6 ‣ 5.6. Qualitative Results ‣ 5. Ablation Study ‣ Alleviating Hallucination in Large Vision-Language Models with Active Retrieval Augmentation"><span class="ltx_text ltx_ref_tag">6</span></a>, we present three image-caption pairs for both coarse-grained retrieval and fine-grained retrieval. In the above three examples of determining the existence of objects, fine-grained retrieval helps to increase the model’s existence information about specific objects. For the last two examples, the coarse-grained retrieval contributed effectively to capturing the overall information of the images. Thus, with both kinds of retrieval, our RAR model can effectively increase the accuracy compared with vanilla LLaVA-1.5.</p>
</div>
<figure class="ltx_figure" id="S5.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="722" id="S5.F6.g1" src="x6.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Examples from POPE benchmark and MME. We present both coarse-grained and fine-grained retrieval for each instance.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this paper, we propose a novel framework to augment LVLMs with external knowledge by introducing an
Active Retrieval-Augmented large vision-language model (ARA) for mitigating hallucinations. Specifically, our proposed ARA is grounded in three critical dimensions for mitigating hallucinations in LVLMs, including coarse-to-fine retrieval for dissecting the retrieval targets, pinpointing the most effective retrieval methods, and triggering the retrieval process properly.
Our findings indicate that by utilizing fitting retrieval mechanisms and timing the retrieval judiciously, we can effectively mitigate the hallucination problem. Our extensive experiments across four benchmarks and three widely-used LVLM confirm ARA’s efficacy in reducing hallucination.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong Deng, Yang Fan, Wenbin Ge, Yu Han, Fei Huang, et al<span class="ltx_text" id="bib.bib2.3.1">.</span> 2023a.

</span>
<span class="ltx_bibblock">Qwen technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.4.1">arXiv preprint arXiv:2309.16609</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Jinze Bai, Shuai Bai, Shusheng Yang, Shijie Wang, Sinan Tan, Peng Wang, Junyang Lin, Chang Zhou, and Jingren Zhou. 2023b.

</span>
<span class="ltx_bibblock">Qwen-vl: A versatile vision-language model for understanding, localization, text reading, and beyond.

</span>
<span class="ltx_bibblock">(2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Jingwen Chen, Yingwei Pan, Yehao Li, Ting Yao, Hongyang Chao, and Tao Mei. 2023a.

</span>
<span class="ltx_bibblock">Retrieval augmented convolutional encoder-decoder networks for video captioning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">ACM Transactions on Multimedia Computing, Communications and Applications</em> 19, 1s (2023), 1–24.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Jun Chen, Deyao Zhu, Xiaoqian Shen, Xiang Li, Zechun Liu, Pengchuan Zhang, Raghuraman Krishnamoorthi, Vikas Chandra, Yunyang Xiong, and Mohamed Elhoseiny. 2023b.

</span>
<span class="ltx_bibblock">Minigpt-v2: large language model as a unified interface for vision-language multi-task learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">arXiv preprint arXiv:2310.09478</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Lin Chen, Jinsong Li, Xiaoyi Dong, Pan Zhang, Yuhang Zang, Zehui Chen, Haodong Duan, Jiaqi Wang, Yu Qiao, Dahua Lin, et al<span class="ltx_text" id="bib.bib6.3.1">.</span> 2024a.

</span>
<span class="ltx_bibblock">Are We on the Right Way for Evaluating Large Vision-Language Models?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.4.1">arXiv preprint arXiv:2403.20330</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Wenhu Chen, Hexiang Hu, Chitwan Saharia, and William W Cohen. 2022.

</span>
<span class="ltx_bibblock">Re-imagen: Retrieval-augmented text-to-image generator.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">arXiv preprint arXiv:2209.14491</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Zhaorun Chen, Zhuokai Zhao, Hongyin Luo, Huaxiu Yao, Bo Li, and Jiawei Zhou. 2024b.

</span>
<span class="ltx_bibblock">HALC: Object Hallucination Reduction via Adaptive Focal-Contrast Decoding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">arXiv preprint arXiv:2403.00425</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Wenliang Dai, Junnan Li, Dongxu Li, Anthony Meng Huat Tiong, Junqi Zhao, Weisheng Wang, Boyang Li, Pascale N Fung, and Steven Hoi. 2024.

</span>
<span class="ltx_bibblock">Instructblip: Towards general-purpose vision-language models with instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Advances in Neural Information Processing Systems</em> 36 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Qingxiu Dong, Lei Li, Damai Dai, Ce Zheng, Zhiyong Wu, Baobao Chang, Xu Sun, Jingjing Xu, and Zhifang Sui. 2022.

</span>
<span class="ltx_bibblock">A survey on in-context learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">arXiv preprint arXiv:2301.00234</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gunjal et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Anisha Gunjal, Jihan Yin, and Erhan Bas. 2024.

</span>
<span class="ltx_bibblock">Detecting and preventing hallucinations in large vision language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, Vol. 38. 18135–18143.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jiaxian Guo, Junnan Li, Dongxu Li, Anthony Meng Huat Tiong, Boyang Li, Dacheng Tao, and Steven CH Hoi. 2022.

</span>
<span class="ltx_bibblock">From images to textual prompts: Zero-shot vqa with frozen large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">arXiv preprint arXiv:2212.10846</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Qidong Huang, Xiaoyi Dong, Pan Zhang, Bin Wang, Conghui He, Jiaqi Wang, Dahua Lin, Weiming Zhang, and Nenghai Yu. 2023.

</span>
<span class="ltx_bibblock">Opera: Alleviating hallucination in multi-modal large language models via over-trust penalty and retrospection-allocation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">arXiv preprint arXiv:2311.17911</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hudson and Manning (2019)</span>
<span class="ltx_bibblock">
Drew A Hudson and Christopher D Manning. 2019.

</span>
<span class="ltx_bibblock">Gqa: A new dataset for real-world visual reasoning and compositional question answering. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em>. 6700–6709.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. 2022.

</span>
<span class="ltx_bibblock">Atlas: Few-shot learning with retrieval augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">arXiv preprint arXiv:2208.03299</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock">Active retrieval augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">arXiv preprint arXiv:2305.06983</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">arXiv preprint arXiv:2004.04906</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krishna et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ranjay Krishna, Yuke Zhu, Oliver Groth, Justin Johnson, Kenji Hata, Joshua Kravitz, Stephanie Chen, Yannis Kalantidis, Li-Jia Li, David A Shamma, et al<span class="ltx_text" id="bib.bib18.3.1">.</span> 2017.

</span>
<span class="ltx_bibblock">Visual genome: Connecting language and vision using crowdsourced dense image annotations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.4.1">International journal of computer vision</em> 123 (2017), 32–73.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Leng et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sicong Leng, Hang Zhang, Guanzheng Chen, Xin Li, Shijian Lu, Chunyan Miao, and Lidong Bing. 2023.

</span>
<span class="ltx_bibblock">Mitigating object hallucinations in large vision-language models through visual contrastive decoding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:2311.16922</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Chunyuan Li, Cliff Wong, Sheng Zhang, Naoto Usuyama, Haotian Liu, Jianwei Yang, Tristan Naumann, Hoifung Poon, and Jianfeng Gao. 2024.

</span>
<span class="ltx_bibblock">Llava-med: Training a large language-and-vision assistant for biomedicine in one day.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">Advances in Neural Information Processing Systems</em> 36 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yifan Li, Yifan Du, Kun Zhou, Jinpeng Wang, Wayne Xin Zhao, and Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Evaluating object hallucination in large vision-language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">arXiv preprint arXiv:2305.10355</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva Ramanan, Piotr Dollár, and C Lawrence Zitnick. 2014.

</span>
<span class="ltx_bibblock">Microsoft coco: Common objects in context. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Computer Vision–ECCV 2014: 13th European Conference, Zurich, Switzerland, September 6-12, 2014, Proceedings, Part V 13</em>. Springer, 740–755.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Daizong Liu, Mingyu Yang, Xiaoye Qu, Pan Zhou, Wei Hu, and Yu Cheng. 2024b.

</span>
<span class="ltx_bibblock">A Survey of Attacks on Large Vision-Language Models: Resources, Advances, and Future Trends.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">arXiv preprint arXiv:2407.07403</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Fangyu Liu, Guy Edward Toh Emerson, and Nigel Collier. 2023b.

</span>
<span class="ltx_bibblock">Visual Spatial Reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Transactions of the Association for Computational Linguistics</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Fuxiao Liu, Kevin Lin, Linjie Li, Jianfeng Wang, Yaser Yacoob, and Lijuan Wang. 2023c.

</span>
<span class="ltx_bibblock">Aligning large multi-modal model with robust instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">arXiv preprint arXiv:2306.14565</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023d)</span>
<span class="ltx_bibblock">
Fuxiao Liu, Kevin Lin, Linjie Li, Jianfeng Wang, Yaser Yacoob, and Lijuan Wang. 2023d.

</span>
<span class="ltx_bibblock">Mitigating hallucination in large multi-modal models via robust instruction tuning. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">The Twelfth International Conference on Learning Representations</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Qingyang Wu, and Yong Jae Lee. 2024a.

</span>
<span class="ltx_bibblock">Visual instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Advances in neural information processing systems</em> 36 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2024c)</span>
<span class="ltx_bibblock">
Kangcheng Liu, Xinhu Zheng, Chaoqun Wang, Hesheng Wang, Ming Liu, and Kai Tang. 2024c.

</span>
<span class="ltx_bibblock">Online Robot Navigation and and Manipulation with Distilled Vision-Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2401.17083</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023e)</span>
<span class="ltx_bibblock">
Shilong Liu, Zhaoyang Zeng, Tianhe Ren, Feng Li, Hao Zhang, Jie Yang, Chunyuan Li, Jianwei Yang, Hang Su, Jun Zhu, et al<span class="ltx_text" id="bib.bib29.3.1">.</span> 2023e.

</span>
<span class="ltx_bibblock">Grounding dino: Marrying dino with grounded pre-training for open-set object detection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.4.1">arXiv preprint arXiv:2303.05499</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Yuanzhan Liu, Haodong Duan, Yuanhan Zhang, Bo Li, Songyang Zhang, Wangbo Zhao, Yike Yuan, Jiaqi Wang, Conghui He, Ziwei Liu, Kai Chen, and Dahua Lin. 2023a.

</span>
<span class="ltx_bibblock">MMBench: Is Your Multi-modal Model an All-around Player?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">ArXiv</em> abs/2307.06281 (2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://api.semanticscholar.org/CorpusID:259837088" title="">https://api.semanticscholar.org/CorpusID:259837088</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Zhenyi Lu, Jie Tian, Wei Wei, Xiaoye Qu, Yu Cheng, Dangyang Chen, et al<span class="ltx_text" id="bib.bib31.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Mitigating Boundary Ambiguity and Inherent Bias for Text Classification in the Era of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.4.1">arXiv preprint arXiv:2406.07001</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oquab et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Maxime Oquab, Timothée Darcet, Théo Moutakanni, Huy Vo, Marc Szafraniec, Vasil Khalidov, Pierre Fernandez, Daniel Haziza, Francisco Massa, Alaaeldin El-Nouby, et al<span class="ltx_text" id="bib.bib32.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Dinov2: Learning robust visual features without supervision.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.4.1">arXiv preprint arXiv:2304.07193</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Prasad et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Archiki Prasad, Elias Stengel-Eskin, and Mohit Bansal. 2023.

</span>
<span class="ltx_bibblock">Rephrase, augment, reason: Visual grounding of questions for vision-language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">arXiv preprint arXiv:2310.05861</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Alec Radford, Jong Wook Kim, Chris Hallacy, Aditya Ramesh, Gabriel Goh, Sandhini Agarwal, Girish Sastry, Amanda Askell, Pamela Mishkin, Jack Clark, et al<span class="ltx_text" id="bib.bib34.3.1">.</span> 2021.

</span>
<span class="ltx_bibblock">Learning transferable visual models from natural language supervision. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.4.1">International conference on machine learning</em>. PMLR, 8748–8763.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">Transactions of the Association for Computational Linguistics</em> 11 (2023), 1316–1331.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramos et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Rita Ramos, Bruno Martins, and Desmond Elliott. 2023a.

</span>
<span class="ltx_bibblock">LMCap: Few-shot Multilingual Image Captioning by Retrieval Augmented Language Model Prompting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">arXiv preprint arXiv:2305.19821</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramos et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Rita Ramos, Bruno Martins, Desmond Elliott, and Yova Kementchedjhieva. 2023b.

</span>
<span class="ltx_bibblock">Smallcap: lightweight image captioning prompted with retrieval augmentation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>. 2840–2849.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sarto et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Sara Sarto, Marcella Cornia, Lorenzo Baraldi, Alessandro Nicolosi, and Rita Cucchiara. 2024.

</span>
<span class="ltx_bibblock">Towards Retrieval-Augmented Architectures for Image Captioning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">ACM Transactions on Multimedia Computing, Communications and Applications</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schwenk et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Dustin Schwenk, Apoorv Khandelwal, Christopher Clark, Kenneth Marino, and Roozbeh Mottaghi. 2022.

</span>
<span class="ltx_bibblock">A-okvqa: A benchmark for visual question answering using world knowledge. In <em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">European Conference on Computer Vision</em>. Springer, 146–162.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shah et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Dhruv Shah, Błażej Osiński, Sergey Levine, et al<span class="ltx_text" id="bib.bib40.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Lm-nav: Robotic navigation with large pre-trained models of language, vision, and action. In <em class="ltx_emph ltx_font_italic" id="bib.bib40.4.1">Conference on robot learning</em>. PMLR, 492–504.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Zhaochen Su, Juntao Li, Jun Zhang, Tong Zhu, Xiaoye Qu, Pan Zhou, Yan Bowen, Yu Cheng, et al<span class="ltx_text" id="bib.bib41.3.1">.</span> 2024a.

</span>
<span class="ltx_bibblock">Living in the Moment: Can Large Language Models Grasp Co-Temporal Reasoning?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.4.1">arXiv preprint arXiv:2406.09072</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Zhaochen Su, Jun Zhang, Tong Zhu, Xiaoye Qu, Juntao Li, Min Zhang, and Yu Cheng. 2024b.

</span>
<span class="ltx_bibblock">Timo: Towards Better Temporal Reasoning for Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">arXiv preprint arXiv:2406.14192</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhiqing Sun, Sheng Shen, Shengcao Cao, Haotian Liu, Chunyuan Li, Yikang Shen, Chuang Gan, Liang-Yan Gui, Yu-Xiong Wang, Yiming Yang, et al<span class="ltx_text" id="bib.bib43.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Aligning large multimodal models with factually augmented rlhf.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.4.1">arXiv preprint arXiv:2309.14525</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al<span class="ltx_text" id="bib.bib44.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.4.1">arXiv preprint arXiv:2307.09288</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Lei Wang, Jiabang He, Shenshen Li, Ning Liu, and Ee-Peng Lim. 2024b.

</span>
<span class="ltx_bibblock">Mitigating fine-grained hallucination by fine-tuning large vision-language models with caption rewrites. In <em class="ltx_emph ltx_font_italic" id="bib.bib45.3.1">International Conference on Multimedia Modeling</em>. Springer, 32–45.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sheng Wang, Zihao Zhao, Xi Ouyang, Qian Wang, and Dinggang Shen. 2023.

</span>
<span class="ltx_bibblock">Chatcad: Interactive computer-aided diagnosis on medical image using large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.3.1">arXiv preprint arXiv:2302.07257</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Yue Wang, Tianfan Fu, Yinlong Xu, Zihan Ma, Hongxia Xu, Bang Du, Yingzhou Lu, Honghao Gao, Jian Wu, and Jintai Chen. 2024a.

</span>
<span class="ltx_bibblock">TWIN-GPT: Digital Twins for Clinical Trials via Large Language Model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.3.1">ACM Transactions on Multimedia Computing, Communications and Applications</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Qinghao Ye, Haiyang Xu, Jiabo Ye, Ming Yan, Haowei Liu, Qi Qian, Ji Zhang, Fei Huang, and Jingren Zhou. 2023.

</span>
<span class="ltx_bibblock">mplug-owl2: Revolutionizing multi-modal large language model with modality collaboration.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.3.1">arXiv preprint arXiv:2311.04257</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin et al<span class="ltx_text" id="bib.bib49.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Shukang Yin, Chaoyou Fu, Sirui Zhao, Ke Li, Xing Sun, Tong Xu, and Enhong Chen. 2023a.

</span>
<span class="ltx_bibblock">A survey on multimodal large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.3.1">arXiv preprint arXiv:2306.13549</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin et al<span class="ltx_text" id="bib.bib50.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Shukang Yin, Chaoyou Fu, Sirui Zhao, Tong Xu, Hao Wang, Dianbo Sui, Yunhang Shen, Ke Li, Xing Sun, and Enhong Chen. 2023b.

</span>
<span class="ltx_bibblock">Woodpecker: Hallucination correction for multimodal large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.3.1">arXiv preprint arXiv:2310.16045</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al<span class="ltx_text" id="bib.bib51.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Tianyu Yu, Yuan Yao, Haoye Zhang, Taiwen He, Yifeng Han, Ganqu Cui, Jinyi Hu, Zhiyuan Liu, Hai-Tao Zheng, Maosong Sun, et al<span class="ltx_text" id="bib.bib51.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Rlhf-v: Towards trustworthy mllms via behavior alignment from fine-grained correctional human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.4.1">arXiv preprint arXiv:2312.00849</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zeng et al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Zequn Zeng, Yan Xie, Hao Zhang, Chiyu Chen, Zhengjue Wang, and Bo Chen. 2024.

</span>
<span class="ltx_bibblock">MeaCap: Memory-Augmented Zero-shot Image Captioning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">arXiv preprint arXiv:2403.03715</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhai et al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Bohan Zhai, Shijia Yang, Xiangchen Zhao, Chenfeng Xu, Sheng Shen, Dongdi Zhao, Kurt Keutzer, Manling Li, Tan Yan, and Xiangjun Fan. 2023.

</span>
<span class="ltx_bibblock">Halle-switch: Rethinking and controlling object existence hallucinations in large vision language models for detailed caption.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.3.1">arXiv preprint arXiv:2310.01779</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhiyuan Zhao, Bin Wang, Linke Ouyang, Xiaoyi Dong, Jiaqi Wang, and Conghui He. 2023.

</span>
<span class="ltx_bibblock">Beyond hallucinations: Enhancing lvlms through hallucination-aware direct preference optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">arXiv preprint arXiv:2311.16839</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhong et al<span class="ltx_text" id="bib.bib55.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Zhun Zhong, Liang Zheng, Donglin Cao, and Shaozi Li. 2017.

</span>
<span class="ltx_bibblock">Re-ranking person re-identification with k-reciprocal encoding. In <em class="ltx_emph ltx_font_italic" id="bib.bib55.3.1">Proceedings of the IEEE conference on computer vision and pattern recognition</em>. 1318–1327.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yiyang Zhou, Chenhang Cui, Jaehong Yoon, Linjun Zhang, Zhun Deng, Chelsea Finn, Mohit Bansal, and Huaxiu Yao. 2023.

</span>
<span class="ltx_bibblock">Analyzing and mitigating object hallucination in large vision-language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">arXiv preprint arXiv:2310.00754</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span class="ltx_text" id="bib.bib57.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Deyao Zhu, Jun Chen, Xiaoqian Shen, Xiang Li, and Mohamed Elhoseiny. 2023.

</span>
<span class="ltx_bibblock">Minigpt-4: Enhancing vision-language understanding with advanced large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.3.1">arXiv preprint arXiv:2304.10592</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Lanyun Zhu, Deyi Ji, Tianrun Chen, Peng Xu, Jieping Ye, and Jun Liu. 2024.

</span>
<span class="ltx_bibblock">IBD: Alleviating Hallucinations in Large Vision-Language Models via Image-Biased Decoding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">arXiv preprint arXiv:2402.18476</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuo et al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Linhai Zhuo, Yuqian Fu, Jingjing Chen, Yixin Cao, and Yu-Gang Jiang. 2024.

</span>
<span class="ltx_bibblock">Unified View Empirical Study for Large Pretrained Model on Cross-Domain Few-Shot Learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.3.1">ACM Transactions on Multimedia Computing, Communications and Applications</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Aug  1 13:36:26 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
