<article class="ltx_document">
 <h1 class="ltx_title ltx_title_document">
  Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Junzhi Chen
    <span class="ltx_note ltx_role_footnote" id="footnotex1">
     <sup class="ltx_note_mark">
      1
     </sup>
     <span class="ltx_note_outer">
      <span class="ltx_note_content">
       <sup class="ltx_note_mark">
        1
       </sup>
       <span class="ltx_tag ltx_tag_note">
        1
       </span>
       These authors contributed equally to this work.
      </span>
     </span>
    </span>
    , Juhao Liang
    <span class="ltx_note ltx_role_footnote" id="footnotex2">
     <sup class="ltx_note_mark">
      1
     </sup>
     <span class="ltx_note_outer">
      <span class="ltx_note_content">
       <sup class="ltx_note_mark">
        1
       </sup>
       <span class="ltx_tag ltx_tag_note">
        1
       </span>
       These authors contributed equally to this work.
      </span>
     </span>
    </span>
    , Benyou Wang
    <sup class="ltx_sup" id="id1.1.id1">
     🖂
    </sup>
    <br class="ltx_break"/>
    Shenzhen Research Institute of Big Data
    <br class="ltx_break"/>
    The Chinese University of Hong Kong, Shenzhen
    <br class="ltx_break"/>
    <a class="ltx_ref ltx_href" href="mailto:wangbenyou@cuhk.edu.cn" title="">
     wangbenyou@cuhk.edu.cn
    </a>
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id2.id1">
   The emergence of large language models (LLMs) has opened up unprecedented possibilities for automating complex tasks that are often comparable to human performance. Despite their capabilities, LLMs still encounter difficulties in completing tasks that require high levels of accuracy and complexity due to their inherent limitations in handling multifaceted problems single-handedly. This paper introduces "
   <span class="ltx_text ltx_font_bold ltx_font_italic" id="id2.id1.1">
    Smurfs
   </span>
   ", a cutting-edge multi-agent framework designed to revolutionize the application of LLMs. By transforming a conventional LLM into a synergistic multi-agent ensemble, Smurfs enhances task decomposition and execution without necessitating extra training. This is achieved through innovative prompting strategies that allocate distinct roles within the model, thereby facilitating collaboration among specialized agents. The framework gives access to external tools to efficiently solve complex tasks.
Our empirical investigation, featuring the mistral-7b-instruct model as a case study, showcases Smurfs’ superior capability in intricate tool utilization scenarios. Notably, Smurfs outmatches the ChatGPT-ReACT in the ToolBench I2 and I3 benchmark with a remarkable 84.4% win rate, surpassing the highest recorded performance of a GPT-4 model at 73.5%. Furthermore, through comprehensive ablation studies, we dissect the contribution of the core components of the multi-agent framework to its overall efficacy. This not only verifies the effectiveness of the framework, but also sets a route for future exploration of multi-agent LLM systems. Our code will be available at
   <a class="ltx_ref ltx_href" href="https://github.com/FreedomIntelligence/Smurfs" target="_blank" title="">
    https://github.com/FreedomIntelligence/Smurfs/
   </a>
   in the future.
  </p>
 </div>
 <div class="ltx_para ltx_noindent" id="p1">
  <div class="ltx_block ltx_align_bottom" id="p1.1">
   <p class="ltx_p" id="p1.1.1">
    <span class="ltx_text ltx_font_bold" id="p1.1.1.1">
     Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning
    </span>
   </p>
   <br class="ltx_break ltx_centering"/>
   <p class="ltx_p ltx_align_center" id="p1.1.2" style="width:433.6pt;">
    <span class="ltx_text ltx_inline-block" id="p1.1.2.1" style="width:0.0pt;">
     <span class="ltx_tabular ltx_align_top" id="p1.1.2.1.1">
      <span class="ltx_tr" id="p1.1.2.1.1.1">
       <span class="ltx_td ltx_align_center" id="p1.1.2.1.1.1.1">
        <span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.1.1.1">
         Junzhi Chen
         <span class="ltx_note ltx_role_footnote" id="footnotex3">
          <sup class="ltx_note_mark">
           1
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             1
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex3.1.1.1">
              1
             </span>
            </span>
            These authors contributed equally to this work.
           </span>
          </span>
         </span>
         , Juhao Liang
         <span class="ltx_note ltx_role_footnote" id="footnotex4">
          <sup class="ltx_note_mark">
           1
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             1
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnotex4.1.1.1">
              1
             </span>
            </span>
            These authors contributed equally to this work.
           </span>
          </span>
         </span>
         , Benyou Wang
         <sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1">
          🖂
         </sup>
        </span>
       </span>
      </span>
      <span class="ltx_tr" id="p1.1.2.1.1.2">
       <span class="ltx_td ltx_align_center" id="p1.1.2.1.1.2.1">
        Shenzhen Research Institute of Big Data
       </span>
      </span>
      <span class="ltx_tr" id="p1.1.2.1.1.3">
       <span class="ltx_td ltx_align_center" id="p1.1.2.1.1.3.1">
        The Chinese University of Hong Kong, Shenzhen
       </span>
      </span>
      <span class="ltx_tr" id="p1.1.2.1.1.4">
       <span class="ltx_td ltx_align_center" id="p1.1.2.1.1.4.1">
        <a class="ltx_ref ltx_href" href="mailto:wangbenyou@cuhk.edu.cn" title="">
         wangbenyou@cuhk.edu.cn
        </a>
       </span>
      </span>
     </span>
    </span>
   </p>
   <br class="ltx_break ltx_centering"/>
  </div>
 </div>
 <span class="ltx_note ltx_role_footnotetext" id="footnotex6">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     footnotetext:
    </span>
    🖂Corresponding author.
   </span>
  </span>
 </span>
 <figure class="ltx_figure" id="S0.F1">
  <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="205" id="S0.F1.g1" src="/html/2405.05955/assets/x1.png" width="461"/>
  <figcaption class="ltx_caption ltx_centering">
   <span class="ltx_tag ltx_tag_figure">
    Figure 1:
   </span>
   Demonstration of the whole process of the Smurfs framework.
  </figcaption>
 </figure>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1
   </span>
   Introduction
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    Tool manipulation has traditionally been seen as a distinctive human characteristic, dating back approximately 2.5 million years
    <cite class="ltx_cite ltx_citemacro_cite">
     Oakley and Museum (
     <a class="ltx_ref" href="#bib.bib19" title="">
      1972
     </a>
     ); Ambrose (
     <a class="ltx_ref" href="#bib.bib1" title="">
      2001
     </a>
     )
    </cite>
    . For large language models (LLMs), access to external tools can equip them with broader capabilities beyond their fixed language modeling knowledge. For example, the search engine API empowers ChatGPT to access real-time information
    <cite class="ltx_cite ltx_citemacro_cite">
     Zhao et al. (
     <a class="ltx_ref" href="#bib.bib33" title="">
      2023
     </a>
     )
    </cite>
    . However, LLMs still face many challenges when attempting to use tools to solve tasks. These challenges include computational expense and a lack of adaptability to new tools
    <cite class="ltx_cite ltx_citemacro_cite">
     Hao et al. (
     <a class="ltx_ref" href="#bib.bib12" title="">
      2024
     </a>
     ); Guu et al. (
     <a class="ltx_ref" href="#bib.bib11" title="">
      2020
     </a>
     ); Qin et al. (
     <a class="ltx_ref" href="#bib.bib24" title="">
      2024
     </a>
     )
    </cite>
    .
   </p>
  </div>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    This paper addresses the critical research problem of enhancing the problem-solving capabilities of LLMs through the adoption of a multi-agent system (MAS) framework
    <cite class="ltx_cite ltx_citemacro_cite">
     Dorri et al. (
     <a class="ltx_ref" href="#bib.bib8" title="">
      2018
     </a>
     ); Van der Hoek and Wooldridge (
     <a class="ltx_ref" href="#bib.bib27" title="">
      2008
     </a>
     )
    </cite>
    . We posit that a MAS approach can significantly augment the efficacy of LLMs in handling tasks that require a high degree of precision, adaptability, and comprehensive knowledge integration.
   </p>
  </div>
  <figure class="ltx_table" id="S1.T1">
   <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S1.T1.4" style="width:271.8pt;height:81pt;vertical-align:-0.0pt;">
    <span class="ltx_transformed_inner" style="transform:translate(-15.1pt,4.5pt) scale(0.9,0.9) ;">
     <table class="ltx_tabular ltx_align_middle" id="S1.T1.4.4">
      <tr class="ltx_tr" id="S1.T1.4.4.5">
       <td class="ltx_td ltx_border_r ltx_border_tt" id="S1.T1.4.4.5.1">
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S1.T1.4.4.5.2">
        ToolBench-all
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S1.T1.4.4.5.3">
        ToolBench-long
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S1.T1.4.4.5.4">
        Increase
       </td>
      </tr>
      <tr class="ltx_tr" id="S1.T1.1.1.1">
       <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S1.T1.1.1.1.2">
        ChatGPT-DFSDT
       </td>
       <td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.1.3">
        71.5
       </td>
       <td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.1.4">
        66.0
       </td>
       <td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.1.1">
        <math alttext="-7.69\%" class="ltx_Math" display="inline" id="S1.T1.1.1.1.1.m1.1">
         <semantics id="S1.T1.1.1.1.1.m1.1a">
          <mrow id="S1.T1.1.1.1.1.m1.1.1" xref="S1.T1.1.1.1.1.m1.1.1.cmml">
           <mo id="S1.T1.1.1.1.1.m1.1.1a" xref="S1.T1.1.1.1.1.m1.1.1.cmml">
            −
           </mo>
           <mrow id="S1.T1.1.1.1.1.m1.1.1.2" xref="S1.T1.1.1.1.1.m1.1.1.2.cmml">
            <mn id="S1.T1.1.1.1.1.m1.1.1.2.2" xref="S1.T1.1.1.1.1.m1.1.1.2.2.cmml">
             7.69
            </mn>
            <mo id="S1.T1.1.1.1.1.m1.1.1.2.1" xref="S1.T1.1.1.1.1.m1.1.1.2.1.cmml">
             %
            </mo>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S1.T1.1.1.1.1.m1.1b">
           <apply id="S1.T1.1.1.1.1.m1.1.1.cmml" xref="S1.T1.1.1.1.1.m1.1.1">
            <minus id="S1.T1.1.1.1.1.m1.1.1.1.cmml" xref="S1.T1.1.1.1.1.m1.1.1">
            </minus>
            <apply id="S1.T1.1.1.1.1.m1.1.1.2.cmml" xref="S1.T1.1.1.1.1.m1.1.1.2">
             <csymbol cd="latexml" id="S1.T1.1.1.1.1.m1.1.1.2.1.cmml" xref="S1.T1.1.1.1.1.m1.1.1.2.1">
              percent
             </csymbol>
             <cn id="S1.T1.1.1.1.1.m1.1.1.2.2.cmml" type="float" xref="S1.T1.1.1.1.1.m1.1.1.2.2">
              7.69
             </cn>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S1.T1.1.1.1.1.m1.1c">
           -7.69\%
          </annotation>
         </semantics>
        </math>
       </td>
      </tr>
      <tr class="ltx_tr" id="S1.T1.2.2.2">
       <td class="ltx_td ltx_align_left ltx_border_r" id="S1.T1.2.2.2.2">
        GPT4-ReACT
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.2.2.2.3">
        72.0
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.2.2.2.4">
        65.1
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.2.2.2.1">
        <math alttext="-9.58\%" class="ltx_Math" display="inline" id="S1.T1.2.2.2.1.m1.1">
         <semantics id="S1.T1.2.2.2.1.m1.1a">
          <mrow id="S1.T1.2.2.2.1.m1.1.1" xref="S1.T1.2.2.2.1.m1.1.1.cmml">
           <mo id="S1.T1.2.2.2.1.m1.1.1a" xref="S1.T1.2.2.2.1.m1.1.1.cmml">
            −
           </mo>
           <mrow id="S1.T1.2.2.2.1.m1.1.1.2" xref="S1.T1.2.2.2.1.m1.1.1.2.cmml">
            <mn id="S1.T1.2.2.2.1.m1.1.1.2.2" xref="S1.T1.2.2.2.1.m1.1.1.2.2.cmml">
             9.58
            </mn>
            <mo id="S1.T1.2.2.2.1.m1.1.1.2.1" xref="S1.T1.2.2.2.1.m1.1.1.2.1.cmml">
             %
            </mo>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S1.T1.2.2.2.1.m1.1b">
           <apply id="S1.T1.2.2.2.1.m1.1.1.cmml" xref="S1.T1.2.2.2.1.m1.1.1">
            <minus id="S1.T1.2.2.2.1.m1.1.1.1.cmml" xref="S1.T1.2.2.2.1.m1.1.1">
            </minus>
            <apply id="S1.T1.2.2.2.1.m1.1.1.2.cmml" xref="S1.T1.2.2.2.1.m1.1.1.2">
             <csymbol cd="latexml" id="S1.T1.2.2.2.1.m1.1.1.2.1.cmml" xref="S1.T1.2.2.2.1.m1.1.1.2.1">
              percent
             </csymbol>
             <cn id="S1.T1.2.2.2.1.m1.1.1.2.2.cmml" type="float" xref="S1.T1.2.2.2.1.m1.1.1.2.2">
              9.58
             </cn>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S1.T1.2.2.2.1.m1.1c">
           -9.58\%
          </annotation>
         </semantics>
        </math>
       </td>
      </tr>
      <tr class="ltx_tr" id="S1.T1.3.3.3">
       <td class="ltx_td ltx_align_left ltx_border_r" id="S1.T1.3.3.3.2">
        GPT4-DFSDT
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.3.3.3.3">
        77.5
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.3.3.3.4">
        69.8
       </td>
       <td class="ltx_td ltx_align_center" id="S1.T1.3.3.3.1">
        <math alttext="-9.94\%" class="ltx_Math" display="inline" id="S1.T1.3.3.3.1.m1.1">
         <semantics id="S1.T1.3.3.3.1.m1.1a">
          <mrow id="S1.T1.3.3.3.1.m1.1.1" xref="S1.T1.3.3.3.1.m1.1.1.cmml">
           <mo id="S1.T1.3.3.3.1.m1.1.1a" xref="S1.T1.3.3.3.1.m1.1.1.cmml">
            −
           </mo>
           <mrow id="S1.T1.3.3.3.1.m1.1.1.2" xref="S1.T1.3.3.3.1.m1.1.1.2.cmml">
            <mn id="S1.T1.3.3.3.1.m1.1.1.2.2" xref="S1.T1.3.3.3.1.m1.1.1.2.2.cmml">
             9.94
            </mn>
            <mo id="S1.T1.3.3.3.1.m1.1.1.2.1" xref="S1.T1.3.3.3.1.m1.1.1.2.1.cmml">
             %
            </mo>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S1.T1.3.3.3.1.m1.1b">
           <apply id="S1.T1.3.3.3.1.m1.1.1.cmml" xref="S1.T1.3.3.3.1.m1.1.1">
            <minus id="S1.T1.3.3.3.1.m1.1.1.1.cmml" xref="S1.T1.3.3.3.1.m1.1.1">
            </minus>
            <apply id="S1.T1.3.3.3.1.m1.1.1.2.cmml" xref="S1.T1.3.3.3.1.m1.1.1.2">
             <csymbol cd="latexml" id="S1.T1.3.3.3.1.m1.1.1.2.1.cmml" xref="S1.T1.3.3.3.1.m1.1.1.2.1">
              percent
             </csymbol>
             <cn id="S1.T1.3.3.3.1.m1.1.1.2.2.cmml" type="float" xref="S1.T1.3.3.3.1.m1.1.1.2.2">
              9.94
             </cn>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S1.T1.3.3.3.1.m1.1c">
           -9.94\%
          </annotation>
         </semantics>
        </math>
       </td>
      </tr>
      <tr class="ltx_tr" id="S1.T1.4.4.4">
       <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S1.T1.4.4.4.2">
        <span class="ltx_text ltx_font_bold" id="S1.T1.4.4.4.2.1">
         Mistral-Smurfs
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S1.T1.4.4.4.3">
        <span class="ltx_text ltx_font_bold" id="S1.T1.4.4.4.3.1">
         79.5
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S1.T1.4.4.4.4">
        <span class="ltx_text ltx_font_bold" id="S1.T1.4.4.4.4.1">
         82.1
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S1.T1.4.4.4.1">
        <math alttext="+3.27\%" class="ltx_Math" display="inline" id="S1.T1.4.4.4.1.m1.1">
         <semantics id="S1.T1.4.4.4.1.m1.1a">
          <mrow id="S1.T1.4.4.4.1.m1.1.1" xref="S1.T1.4.4.4.1.m1.1.1.cmml">
           <mo id="S1.T1.4.4.4.1.m1.1.1a" xref="S1.T1.4.4.4.1.m1.1.1.cmml">
            +
           </mo>
           <mrow id="S1.T1.4.4.4.1.m1.1.1.2" xref="S1.T1.4.4.4.1.m1.1.1.2.cmml">
            <mn id="S1.T1.4.4.4.1.m1.1.1.2.2" xref="S1.T1.4.4.4.1.m1.1.1.2.2.cmml">
             3.27
            </mn>
            <mo id="S1.T1.4.4.4.1.m1.1.1.2.1" xref="S1.T1.4.4.4.1.m1.1.1.2.1.cmml">
             %
            </mo>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S1.T1.4.4.4.1.m1.1b">
           <apply id="S1.T1.4.4.4.1.m1.1.1.cmml" xref="S1.T1.4.4.4.1.m1.1.1">
            <plus id="S1.T1.4.4.4.1.m1.1.1.1.cmml" xref="S1.T1.4.4.4.1.m1.1.1">
            </plus>
            <apply id="S1.T1.4.4.4.1.m1.1.1.2.cmml" xref="S1.T1.4.4.4.1.m1.1.1.2">
             <csymbol cd="latexml" id="S1.T1.4.4.4.1.m1.1.1.2.1.cmml" xref="S1.T1.4.4.4.1.m1.1.1.2.1">
              percent
             </csymbol>
             <cn id="S1.T1.4.4.4.1.m1.1.1.2.2.cmml" type="float" xref="S1.T1.4.4.4.1.m1.1.1.2.2">
              3.27
             </cn>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S1.T1.4.4.4.1.m1.1c">
           +3.27\%
          </annotation>
         </semantics>
        </math>
       </td>
      </tr>
     </table>
    </span>
   </div>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_table">
     Table 1:
    </span>
    Pass rate of models on the ToolBench benchmark I2 category subset with long settings and all settings.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    To this end, we introduce "
    <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p3.1.1">
     Smurfs
    </span>
    " an innovative MAS framework inspired by the collaborative and versatile nature of its namesake cartoon characters. The Smurfs framework is based on the principle that synergistic collaboration among specialized agents can overcome the limitations faced by individual LLMs. Each agent within the Smurfs framework is designed to perform specific sub-tasks, facilitating a more nuanced and effective approach to complex problem-solving. Our research delves into the architectural design, coordination mechanisms, and the operational dynamics of integrating specialized agents into a cohesive system. Through rigorous experimental evaluation, the Smurfs framework, utilizing the mistral-7b-instruct model
    <cite class="ltx_cite ltx_citemacro_cite">
     Jiang et al. (
     <a class="ltx_ref" href="#bib.bib13" title="">
      2023
     </a>
     )
    </cite>
    , achieved a remarkable 84.4% win rate against the benchmark set by ChatGPT-ReACT
    <cite class="ltx_cite ltx_citemacro_cite">
     Yao et al. (
     <a class="ltx_ref" href="#bib.bib31" title="">
      2022
     </a>
     )
    </cite>
    on the ToolBench I2 and I3 benchmark
    <cite class="ltx_cite ltx_citemacro_cite">
     Qin et al. (
     <a class="ltx_ref" href="#bib.bib24" title="">
      2024
     </a>
     )
    </cite>
    . This outcome not only sets a new state-of-the-art in the field, but also provides concrete evidence of the effectiveness of the multi-agent approach in enhancing LLM capabilities.
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    The structure of this paper is as follows: Section
    <a class="ltx_ref" href="#S2" title="2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      2
     </span>
    </a>
    presents the motivation for utilizing a multi-agent system. The methodology employed within the framework is detailed in Section
    <a class="ltx_ref" href="#S3" title="3 Smurfs: A framework with multiple agents ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      3
     </span>
    </a>
    . Subsequently, Section
    <a class="ltx_ref" href="#S4" title="4 Experiments ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      4
     </span>
    </a>
    provides an in-depth evaluation of the experiments conducted on Smurfs. Section
    <a class="ltx_ref" href="#S5" title="5 Related Work ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      5
     </span>
    </a>
    then reviews the techniques currently related to our work. Lastly, we summarize and conclude our findings in Section
    <a class="ltx_ref" href="#S6" title="6 Conclusion ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      6
     </span>
    </a>
    .
   </p>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2
   </span>
   Motivation
  </h2>
  <section class="ltx_subsection" id="S2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.1
    </span>
    Limited Context Length in a Single Model
   </h3>
   <div class="ltx_para" id="S2.SS1.p1">
    <p class="ltx_p" id="S2.SS1.p1.1">
     LLMs face considerable challenges when tasked with managing extensive contexts. As highlighted by
     <cite class="ltx_cite ltx_citemacro_cite">
      Liu et al. (
      <a class="ltx_ref" href="#bib.bib17" title="">
       2024
      </a>
      )
     </cite>
     , these limitations become particularly noticeable in tasks requiring assimilation and processing of large inputs, like verbose tool documents and API responses. The situation worsens when LLMs are supplemented with external information, such as document retrieval or online searching
     <cite class="ltx_cite ltx_citemacro_cite">
      Petroni et al. (
      <a class="ltx_ref" href="#bib.bib21" title="">
       2020
      </a>
      ); Ram et al. (
      <a class="ltx_ref" href="#bib.bib25" title="">
       2023
      </a>
      ); Mallen et al. (
      <a class="ltx_ref" href="#bib.bib18" title="">
       2022
      </a>
      )
     </cite>
     . Although numerous language models capable of handling larger contexts are emerging
     <cite class="ltx_cite ltx_citemacro_cite">
      Dai et al. (
      <a class="ltx_ref" href="#bib.bib6" title="">
       2019
      </a>
      ); Dao et al. (
      <a class="ltx_ref" href="#bib.bib7" title="">
       2022
      </a>
      )
     </cite>
     , they often face significant performance degradation when the important information is located at some positions
     <cite class="ltx_cite ltx_citemacro_cite">
      Liu et al. (
      <a class="ltx_ref" href="#bib.bib17" title="">
       2024
      </a>
      ); Shi et al. (
      <a class="ltx_ref" href="#bib.bib26" title="">
       2023
      </a>
      )
     </cite>
     . Moreover, within the MAS framework, the impact of extended contexts on performance remains unclear.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS1.p2">
    <p class="ltx_p" id="S2.SS1.p2.1">
     To measure the impact of extended contexts on the performance of LLMs in tool utilization tasks, we conducted a pilot study on the ToolBench benchmark
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     . Additional details can be found in Appendix
     <a class="ltx_ref" href="#A1.SS1" title="A.1 Pilot Study 1 ‣ Appendix A Pilot Study Settings ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       A.1
      </span>
     </a>
     . We selected the samples with more than 3 steps performed by the ChatGPT-DFSDT method as a subset, called "
     <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">
      ToolBench-long
     </span>
     ", to compare the performance difference with the full set. As demonstrated in Table
     <a class="ltx_ref" href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     , there is a significant decrease in the pass rate of existing frameworks when faced with tasks involving lengthy questions. This result supports the hypothesis that not only do extended contexts strain the models’ computational efficiency, but they also hinder their ability to accurately interpret and respond to the given instructions. The pilot study highlighted a major issue with current tool utilization frameworks: the excessive context length adversely impacts the models’ planning and execution capabilities when using tools.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS1.p3">
    <p class="ltx_p" id="S2.SS1.p3.1">
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.1">
      Advantages of MAS:
     </span>
     The pilot study highlights the need for a new approach beyond the traditional single-agent LLM model. MAS offers a promising solution by distributing tasks among specialized agents. This approach enhances memory efficiency, minimizes distractions, and allows for modular design and optimization of agents. Key benefits include:
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.2">
      (1) Memory Efficiency:
     </span>
     MAS manages memory better by assigning distinct segments of tasks to different agents, avoiding overload from processing lengthy contexts.
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.3">
      (2) Reduced Distractions:
     </span>
     Specialized agents focus on specific tasks, reducing interference from irrelevant information and improving overall performance.
     <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.4">
      (3) Modular Design:
     </span>
     The modular framework enables individual agent optimization, scalability, and adaptability to diverse tasks.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.2
    </span>
    Tools Using and Planning in LLMs
   </h3>
   <figure class="ltx_figure" id="S2.F2">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="124" id="S2.F2.g1" src="/html/2405.05955/assets/x2.png" width="207"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 2:
     </span>
     A pilot study explores the relationship between dialogue turns and the accuracy of tool selection for LLMs. It demonstrates that long-context instructions undermine the ability of LLMs to select the right tools.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S2.SS2.p1">
    <p class="ltx_p" id="S2.SS2.p1.1">
     Using external tools in LLMs is a well-established method to enhance model capabilities. However, as the number of available tools grows, managing multiple tools effectively becomes a complex planning challenge
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     . This complexity often results in longer texts for tasks involving multiple tools. In the second pilot study, see details in Appendix
     <a class="ltx_ref" href="#A1.SS2" title="A.2 Pilot Study 2 ‣ Appendix A Pilot Study Settings ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       A.2
      </span>
     </a>
     , we investigate the relationship between conversation turns and the model’s tool selection accuracy. Figure
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‣ 2.2 Tools Using and Planning in LLMs ‣ 2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     shows that as the number of dialogue rounds increases, the model’s tool selection accuracy decreases linearly, underscoring the performance impact of longer texts in tool-involved tasks.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS2.p2">
    <p class="ltx_p" id="S2.SS2.p2.1">
     While numerous general MAS systems perform well, as shown in studies like
     <cite class="ltx_cite ltx_citemacro_cite">
      Du et al. (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      ); Liang et al. (
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     , there’s a noticeable absence of multi-agent frameworks specifically designed for tool calling tasks. As highlighted in our two pilot studies, tool usage and planning tasks are particularly sensitive to context length and efficiency. Therefore, there’s a pressing need for an optimized multi-agent framework tailored to tool calling scenarios.
    </p>
   </div>
   <figure class="ltx_figure" id="S2.F3">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="261" id="S2.F3.g1" src="/html/2405.05955/assets/x3.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 3:
     </span>
     Details of the subtask-solving process of the Smurfs framework. The dotted line represents that the agent can see the memory and the full line stands for operation.
    </figcaption>
   </figure>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3
   </span>
   Smurfs: A framework with multiple agents
  </h2>
  <div class="ltx_para" id="S3.p1">
   <p class="ltx_p" id="S3.p1.1">
    <span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.p1.1.1" style="color:#34629E;">
     The Smurfs
     <span class="ltx_text ltx_font_medium" id="S3.p1.1.1.1">
      , the beloved cartoon characters, symbolize unity and resourcefulness, and are good at using tools to overcome any challenge they encounter.
     </span>
    </span>
   </p>
  </div>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1
    </span>
    Framework Overview
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     Figure
     <a class="ltx_ref" href="#S0.F1" title="Figure 1 ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     illustrates the entire workflow for the Smurfs framework. Initially, the
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">
      Planning Agent
     </span>
     identifies the user’s complex request and breaks it down into manageable sub-tasks.
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.2">
      Executor Agents
     </span>
     are then tasked with collecting this specific information, utilizing access to external tools.
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.3">
      Answer Agent
     </span>
     compiles the findings into a cohesive response, which is subsequently verified by the
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.4">
      Verifier Agent
     </span>
     to ensure accuracy and relevance. This process exemplifies the framework’s capability to efficiently handle complex queries by leveraging the specialized roles of multiple agents, thereby ensuring both the precision of task execution and the quality of the output. In the following sections, the functions of each agent will be detailed. More details about the memory of each agent can be seen at Appendix
     <a class="ltx_ref" href="#A2" title="Appendix B Details of the Smurfs ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       B
      </span>
     </a>
    </p>
   </div>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
    <h5 class="ltx_title ltx_title_paragraph">
     Planning Agent
    </h5>
    <div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.1">
      The primary responsibility of the Planning Agent is task decomposition. The strategy known as least-to-most prompting
      <cite class="ltx_cite ltx_citemacro_cite">
       Zhou et al. (
       <a class="ltx_ref" href="#bib.bib34" title="">
        2023
       </a>
       )
      </cite>
      is highly effective in dissecting intricate problems into manageable sub-tasks and resolving them sequentially. This approach has demonstrated significant effectiveness and broad applicability. In scenarios involving complex reasoning tasks, we utilize the fundamental principles of the least-to-most strategy to break down intricate tasks into multiple sub-tasks, thereby improving management, efficiency and also the interpretability. An example illustrating how the Planning Agent employs this strategy to decompose a task is provided at Table
      <a class="ltx_ref" href="#S3.T2" title="Table 2 ‣ Planning Agent ‣ 3.1 Framework Overview ‣ 3 Smurfs: A framework with multiple agents ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        2
       </span>
      </a>
      , with the specific prompt available in Appendix
      <a class="ltx_ref" href="#A3" title="Appendix C Prompts for multi-agent implementation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        C
       </span>
      </a>
      .
     </p>
    </div>
    <figure class="ltx_table" id="S3.T2">
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T2.1" style="width:414.8pt;height:139.2pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
       <table class="ltx_tabular ltx_align_middle" id="S3.T2.1.1">
        <tr class="ltx_tr" id="S3.T2.1.1.1">
         <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="S3.T2.1.1.1.1">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.1.1.1">
           <span class="ltx_p" id="S3.T2.1.1.1.1.1.1" style="width:42.7pt;">
            <span class="ltx_text" id="S3.T2.1.1.1.1.1.1.1">
             <span class="ltx_text" id="S3.T2.1.1.1.1.1.1.1.1">
             </span>
             <span class="ltx_text" id="S3.T2.1.1.1.1.1.1.1.2">
              <span class="ltx_tabular ltx_align_middle" id="S3.T2.1.1.1.1.1.1.1.2.1">
               <span class="ltx_tr" id="S3.T2.1.1.1.1.1.1.1.2.1.1">
                <span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.1.1.1.1.1.2.1.1.1">
                 Task
                </span>
               </span>
              </span>
             </span>
             <span class="ltx_text" id="S3.T2.1.1.1.1.1.1.1.3">
             </span>
            </span>
           </span>
          </span>
         </td>
         <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T2.1.1.1.2">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.1.2.1">
           <span class="ltx_p" id="S3.T2.1.1.1.2.1.1" style="width:341.4pt;">
            I’m planning a trip to Turkey and need information about postal codes in Istanbul. Can you provide me with the
            <span class="ltx_text" id="S3.T2.1.1.1.2.1.1.1" style="color:#FF0000;">
             postal code and district for Istanbul province with plate number 34
            </span>
            ? Additionally, I would like to know if there are any
            <span class="ltx_text" id="S3.T2.1.1.1.2.1.1.2" style="color:#FF0000;">
             transit agencies available in Istanbul
            </span>
            . Please fetch their
            <span class="ltx_text" id="S3.T2.1.1.1.2.1.1.3" style="color:#FF0000;">
             names
            </span>
            and
            <span class="ltx_text" id="S3.T2.1.1.1.2.1.1.4" style="color:#FF0000;">
             contact numbers
            </span>
            .
           </span>
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S3.T2.1.1.2">
         <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r ltx_border_t" id="S3.T2.1.1.2.1" rowspan="4">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.2.1.1">
           <span class="ltx_p" id="S3.T2.1.1.2.1.1.1" style="width:42.7pt;">
            <span class="ltx_text" id="S3.T2.1.1.2.1.1.1.1">
             <span class="ltx_text" id="S3.T2.1.1.2.1.1.1.1.1">
             </span>
             <span class="ltx_text" id="S3.T2.1.1.2.1.1.1.1.2">
              <span class="ltx_tabular ltx_align_middle" id="S3.T2.1.1.2.1.1.1.1.2.1">
               <span class="ltx_tr" id="S3.T2.1.1.2.1.1.1.1.2.1.1">
                <span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.2.1.1.1.1.2.1.1.1">
                 Decomposed
                </span>
               </span>
               <span class="ltx_tr" id="S3.T2.1.1.2.1.1.1.1.2.1.2">
                <span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.2.1.1.1.1.2.1.2.1">
                 Sub-tasks
                </span>
               </span>
              </span>
             </span>
             <span class="ltx_text" id="S3.T2.1.1.2.1.1.1.1.3">
             </span>
            </span>
           </span>
          </span>
         </td>
         <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T2.1.1.2.2">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.2.2.1">
           <span class="ltx_p" id="S3.T2.1.1.2.2.1.1" style="width:341.4pt;">
            1. Determine the postal code and district for Istanbul province with plate number 34.
           </span>
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S3.T2.1.1.3">
         <td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T2.1.1.3.1">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.3.1.1">
           <span class="ltx_p" id="S3.T2.1.1.3.1.1.1" style="width:341.4pt;">
            2. Find out if there are any transit agencies in Istanbul.
           </span>
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S3.T2.1.1.4">
         <td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T2.1.1.4.1">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.4.1.1">
           <span class="ltx_p" id="S3.T2.1.1.4.1.1.1" style="width:341.4pt;">
            3. Get the names of the transit agencies in Istanbul.
           </span>
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S3.T2.1.1.5">
         <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S3.T2.1.1.5.1">
          <span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.5.1.1">
           <span class="ltx_p" id="S3.T2.1.1.5.1.1.1" style="width:341.4pt;">
            4. Obtain the contact numbers for the transit agencies in Istanbul.
           </span>
          </span>
         </td>
        </tr>
       </table>
      </span>
     </div>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 2:
      </span>
      Example of task decomposition by Planning Agent.
     </figcaption>
    </figure>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
    <h5 class="ltx_title ltx_title_paragraph">
     Executor Agent
    </h5>
    <div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.1">
      The Executor Agent is responsible for choosing and executing the tools to solve the sub-tasks. The agent has access to an external tool library
      <cite class="ltx_cite ltx_citemacro_cite">
       Qin et al. (
       <a class="ltx_ref" href="#bib.bib24" title="">
        2024
       </a>
       )
      </cite>
      . At each steps, the agent can invoke one tool to tackle the given task. As outlined in Algorithm
      <a class="ltx_ref" href="#algorithm1" title="In Executor Agent ‣ 3.1 Framework Overview ‣ 3 Smurfs: A framework with multiple agents ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        1
       </span>
      </a>
      , the agent, using the ReACT format
      <cite class="ltx_cite ltx_citemacro_cite">
       Yao et al. (
       <a class="ltx_ref" href="#bib.bib31" title="">
        2022
       </a>
       )
      </cite>
      to choose the tool and arguments, then execute the tool. More detailed information of the Executor Agent can be found in Appendix
      <a class="ltx_ref" href="#A2.SS2" title="B.2 Executor Agent Workflow ‣ Appendix B Details of the Smurfs ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        B.2
       </span>
      </a>
      .
     </p>
    </div>
    <figure class="ltx_float ltx_algorithm" id="algorithm1">
     <div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.15">
      <div class="ltx_listingline" id="algorithm1.4.4">
       <span class="ltx_text" id="algorithm1.4.4.1">
        <span class="ltx_text ltx_font_bold" id="algorithm1.4.4.1.1">
         Input:
        </span>
       </span>
       A task
       <math alttext="q" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1">
        <semantics id="algorithm1.1.1.m1.1a">
         <mi id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">
          q
         </mi>
         <annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b">
          <ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">
           𝑞
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">
          q
         </annotation>
        </semantics>
       </math>
       , a hint from the verifier agent
       <math alttext="h" class="ltx_Math" display="inline" id="algorithm1.2.2.m2.1">
        <semantics id="algorithm1.2.2.m2.1a">
         <mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">
          h
         </mi>
         <annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b">
          <ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">
           ℎ
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">
          h
         </annotation>
        </semantics>
       </math>
       , problem solving history
       <math alttext="H" class="ltx_Math" display="inline" id="algorithm1.3.3.m3.1">
        <semantics id="algorithm1.3.3.m3.1a">
         <mi id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml">
          H
         </mi>
         <annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.1b">
          <ci id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1">
           𝐻
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.3.3.m3.1c">
          H
         </annotation>
        </semantics>
       </math>
       and a set of available tools
       <math alttext="T" class="ltx_Math" display="inline" id="algorithm1.4.4.m4.1">
        <semantics id="algorithm1.4.4.m4.1a">
         <mi id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">
          T
         </mi>
         <annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.1b">
          <ci id="algorithm1.4.4.m4.1.1.cmml" xref="algorithm1.4.4.m4.1.1">
           𝑇
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.4.4.m4.1c">
          T
         </annotation>
        </semantics>
       </math>
       .
      </div>
      <div class="ltx_listingline" id="algorithm1.15.16">
       <span class="ltx_text" id="algorithm1.15.16.1">
        <span class="ltx_text ltx_font_bold" id="algorithm1.15.16.1.1">
         Output:
        </span>
       </span>
       Tool response that is useful for solving the task.
      </div>
      <div class="ltx_listingline" id="algorithm1.15.17">
      </div>
      <div class="ltx_listingline" id="algorithm1.15.18">
      </div>
      <div class="ltx_listingline" id="algorithm1.8.8">
       <span class="ltx_text ltx_font_sansserif" id="algorithm1.8.8.4">
        thought
       </span>
       <math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.5.5.m1.1">
        <semantics id="algorithm1.5.5.m1.1a">
         <mo id="algorithm1.5.5.m1.1.1" stretchy="false" xref="algorithm1.5.5.m1.1.1.cmml">
          ←
         </mo>
         <annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m1.1b">
          <ci id="algorithm1.5.5.m1.1.1.cmml" xref="algorithm1.5.5.m1.1.1">
           ←
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.5.5.m1.1c">
          \leftarrow
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_typewriter" id="algorithm1.8.8.3">
        gen_thought(
        <em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.8.8.3.3">
         <math alttext="q" class="ltx_Math" display="inline" id="algorithm1.6.6.1.1.m1.1">
          <semantics id="algorithm1.6.6.1.1.m1.1a">
           <mi id="algorithm1.6.6.1.1.m1.1.1" xref="algorithm1.6.6.1.1.m1.1.1.cmml">
            q
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.6.6.1.1.m1.1b">
            <ci id="algorithm1.6.6.1.1.m1.1.1.cmml" xref="algorithm1.6.6.1.1.m1.1.1">
             𝑞
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.6.6.1.1.m1.1c">
            q
           </annotation>
          </semantics>
         </math>
         ,
         <math alttext="h" class="ltx_Math" display="inline" id="algorithm1.7.7.2.2.m2.1">
          <semantics id="algorithm1.7.7.2.2.m2.1a">
           <mi id="algorithm1.7.7.2.2.m2.1.1" xref="algorithm1.7.7.2.2.m2.1.1.cmml">
            h
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.7.7.2.2.m2.1b">
            <ci id="algorithm1.7.7.2.2.m2.1.1.cmml" xref="algorithm1.7.7.2.2.m2.1.1">
             ℎ
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.7.7.2.2.m2.1c">
            h
           </annotation>
          </semantics>
         </math>
         ,
         <math alttext="T" class="ltx_Math" display="inline" id="algorithm1.8.8.3.3.m3.1">
          <semantics id="algorithm1.8.8.3.3.m3.1a">
           <mi id="algorithm1.8.8.3.3.m3.1.1" xref="algorithm1.8.8.3.3.m3.1.1.cmml">
            T
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.8.8.3.3.m3.1b">
            <ci id="algorithm1.8.8.3.3.m3.1.1.cmml" xref="algorithm1.8.8.3.3.m3.1.1">
             𝑇
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.8.8.3.3.m3.1c">
            T
           </annotation>
          </semantics>
         </math>
        </em>
        )
       </span>
       ;
      </div>
      <div class="ltx_listingline" id="algorithm1.11.11">
       <span class="ltx_text ltx_font_sansserif" id="algorithm1.11.11.3">
        tool
       </span>
       <math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.9.9.m1.1">
        <semantics id="algorithm1.9.9.m1.1a">
         <mo id="algorithm1.9.9.m1.1.1" stretchy="false" xref="algorithm1.9.9.m1.1.1.cmml">
          ←
         </mo>
         <annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.1b">
          <ci id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1">
           ←
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.9.9.m1.1c">
          \leftarrow
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_typewriter" id="algorithm1.11.11.2">
        choose_tool(
        <em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.11.11.2.2">
         <math alttext="q" class="ltx_Math" display="inline" id="algorithm1.10.10.1.1.m1.1">
          <semantics id="algorithm1.10.10.1.1.m1.1a">
           <mi id="algorithm1.10.10.1.1.m1.1.1" xref="algorithm1.10.10.1.1.m1.1.1.cmml">
            q
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.10.10.1.1.m1.1b">
            <ci id="algorithm1.10.10.1.1.m1.1.1.cmml" xref="algorithm1.10.10.1.1.m1.1.1">
             𝑞
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.10.10.1.1.m1.1c">
            q
           </annotation>
          </semantics>
         </math>
         ,
         <span class="ltx_text ltx_font_sansserif ltx_font_upright" id="algorithm1.11.11.2.2.1">
          thought
         </span>
         ,
         <math alttext="T" class="ltx_Math" display="inline" id="algorithm1.11.11.2.2.m2.1">
          <semantics id="algorithm1.11.11.2.2.m2.1a">
           <mi id="algorithm1.11.11.2.2.m2.1.1" xref="algorithm1.11.11.2.2.m2.1.1.cmml">
            T
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.11.11.2.2.m2.1b">
            <ci id="algorithm1.11.11.2.2.m2.1.1.cmml" xref="algorithm1.11.11.2.2.m2.1.1">
             𝑇
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.11.11.2.2.m2.1c">
            T
           </annotation>
          </semantics>
         </math>
        </em>
        )
       </span>
       ;
      </div>
      <div class="ltx_listingline" id="algorithm1.14.14">
       <span class="ltx_text ltx_font_sansserif" id="algorithm1.14.14.3">
        args
       </span>
       <math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.12.12.m1.1">
        <semantics id="algorithm1.12.12.m1.1a">
         <mo id="algorithm1.12.12.m1.1.1" stretchy="false" xref="algorithm1.12.12.m1.1.1.cmml">
          ←
         </mo>
         <annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m1.1b">
          <ci id="algorithm1.12.12.m1.1.1.cmml" xref="algorithm1.12.12.m1.1.1">
           ←
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.12.12.m1.1c">
          \leftarrow
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_typewriter" id="algorithm1.14.14.2">
        gen_arguments(
        <em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.14.14.2.2">
         <math alttext="q" class="ltx_Math" display="inline" id="algorithm1.13.13.1.1.m1.1">
          <semantics id="algorithm1.13.13.1.1.m1.1a">
           <mi id="algorithm1.13.13.1.1.m1.1.1" xref="algorithm1.13.13.1.1.m1.1.1.cmml">
            q
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.13.13.1.1.m1.1b">
            <ci id="algorithm1.13.13.1.1.m1.1.1.cmml" xref="algorithm1.13.13.1.1.m1.1.1">
             𝑞
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.13.13.1.1.m1.1c">
            q
           </annotation>
          </semantics>
         </math>
         ,
         <span class="ltx_text ltx_font_sansserif ltx_font_upright" id="algorithm1.14.14.2.2.1">
          tool
         </span>
         ,
         <math alttext="H" class="ltx_Math" display="inline" id="algorithm1.14.14.2.2.m2.1">
          <semantics id="algorithm1.14.14.2.2.m2.1a">
           <mi id="algorithm1.14.14.2.2.m2.1.1" xref="algorithm1.14.14.2.2.m2.1.1.cmml">
            H
           </mi>
           <annotation-xml encoding="MathML-Content" id="algorithm1.14.14.2.2.m2.1b">
            <ci id="algorithm1.14.14.2.2.m2.1.1.cmml" xref="algorithm1.14.14.2.2.m2.1.1">
             𝐻
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="algorithm1.14.14.2.2.m2.1c">
            H
           </annotation>
          </semantics>
         </math>
         ,
         <span class="ltx_text ltx_font_sansserif ltx_font_upright" id="algorithm1.14.14.2.2.2">
          tool_doc
         </span>
        </em>
        )
       </span>
       ;
      </div>
      <div class="ltx_listingline" id="algorithm1.15.15">
       <span class="ltx_text ltx_font_sansserif" id="algorithm1.15.15.1">
        response
       </span>
       <math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.15.15.m1.1">
        <semantics id="algorithm1.15.15.m1.1a">
         <mo id="algorithm1.15.15.m1.1.1" stretchy="false" xref="algorithm1.15.15.m1.1.1.cmml">
          ←
         </mo>
         <annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m1.1b">
          <ci id="algorithm1.15.15.m1.1.1.cmml" xref="algorithm1.15.15.m1.1.1">
           ←
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="algorithm1.15.15.m1.1c">
          \leftarrow
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_typewriter" id="algorithm1.15.15.2">
        call_tool(
        <em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.15.15.2.1">
         <span class="ltx_text ltx_font_sansserif ltx_font_upright" id="algorithm1.15.15.2.1.1">
          tool
         </span>
         ,
         <span class="ltx_text ltx_font_sansserif ltx_font_upright" id="algorithm1.15.15.2.1.2">
          args
         </span>
        </em>
        )
       </span>
       ;
      </div>
      <div class="ltx_listingline" id="algorithm1.15.19">
      </div>
      <div class="ltx_listingline" id="algorithm1.15.20">
      </div>
     </div>
     <figcaption class="ltx_caption">
      <span class="ltx_tag ltx_tag_float">
       <span class="ltx_text ltx_font_bold" id="algorithm1.17.1.1">
        Algorithm 1
       </span>
      </span>
      Tool Call
     </figcaption>
    </figure>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px3">
    <h5 class="ltx_title ltx_title_paragraph">
     Answer Agent
    </h5>
    <div class="ltx_para" id="S3.SS1.SSS0.Px3.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.1">
      To mitigate the performance degradation caused by lengthy contexts, we introduce the ‘Answer Agent‘ role, designed to extract crucial content for each step and subtask. As demonstrated in the pilot study presented in Section
      <a class="ltx_ref" href="#S2.SS1" title="2.1 Limited Context Length in a Single Model ‣ 2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        2.1
       </span>
      </a>
      , retaining all information may not always be beneficial, particularly in cases where the solution path is challenging to discern. Therefore, the primary role of the Answer Agent is to succinctly summarize the generated answers.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px4">
    <h5 class="ltx_title ltx_title_paragraph">
     Verifier Agent
    </h5>
    <div class="ltx_para" id="S3.SS1.SSS0.Px4.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px4.p1.1">
      Similar to current reasoning frameworks
      <cite class="ltx_cite ltx_citemacro_cite">
       Wei et al. (
       <a class="ltx_ref" href="#bib.bib29" title="">
        2022
       </a>
       ); Yao et al. (
       <a class="ltx_ref" href="#bib.bib31" title="">
        2022
       </a>
       )
      </cite>
      , sequential task reasoning may lead to high computational and tool resource waste within the framework
      <cite class="ltx_cite ltx_citemacro_cite">
       Qin et al. (
       <a class="ltx_ref" href="#bib.bib24" title="">
        2024
       </a>
       )
      </cite>
      . Therefore, inspired by
      <cite class="ltx_cite ltx_citemacro_cite">
       Qin et al. (
       <a class="ltx_ref" href="#bib.bib24" title="">
        2024
       </a>
       )
      </cite>
      , we employ a depth-first search with an early stopping strategy to find the solution path. The Verifier Agent serves as an early-stopping and reflection mechanism in the intelligent multi-agent ensemble, allowing for a balance between effectiveness and efficiency. This mechanism not only ensures the accuracy of the generated responses but also optimizes resource use by preventing unnecessary computations. Moreover, if the Verifier Agent thinks the answer at this step isn’t accurate and reasonable enough, it will provide hints for the Executor Agent to get the missing information for the next steps. This dual role of the Verifier Agent enhances the overall performance of the framework, making it more robust and reliable for handling complex tasks.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2
    </span>
    Subtask Solving Process
   </h3>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     After introducing the function of each agent, this section outlines how the agents collaborate to solve sub-tasks, as shown in Figure
     <a class="ltx_ref" href="#S2.F3" title="Figure 3 ‣ 2.2 Tools Using and Planning in LLMs ‣ 2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     . Upon receiving a subtask or entering a new step, the tool list is refreshed, allowing the use of all available tools. The Executor Agent then calls the tools according to the task instruction. If a tool call fails, that tool is marked as unusable for this task at this step and the Executor Agent will try using other tools to solve the subtask at this step. This system also introduces a backtracking mechanism similar to DFSDT
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     to handle the situation where errors frequently occur. Once the executor agent gets a correct response from a tool, the Answer Agent will refine the information, filtering out irrelevant details such as lengthy web pages and generate the answer for the subtask at this step using the local memory. After this, the Verifier Agent checks the answer’s accuracy. If it’s incorrect, the process returns to the Executor Agent with the hint from the Verifier Agent for the next step; Otherwise, the final answer is provided. If the Executor Agent reaches its retry limit without success, Answer Agent will review the entire process from the global memory to produce an answer. More details of the subtask solving process can be seen at
     <a class="ltx_ref" href="#A2" title="Appendix B Details of the Smurfs ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       B
      </span>
     </a>
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4
   </span>
   Experiments
  </h2>
  <div class="ltx_para" id="S4.p1">
   <p class="ltx_p" id="S4.p1.1">
    To evaluate the effectiveness and efficiency of the Smurfs framework, we carried out a series of thorough experiments. In addition to the main experiment designed to assess the entire framework, we conducted an ablation study to test the capabilities of each component within the multi-agent framework. This section offers a detailed description of the experimental setup, methodologies employed, and key findings. Our goal is to showcase how the Smurfs framework, through the cooperative work of its multi-agent ensemble, effectively manages complex tasks while optimizing resource use. The experiments were designed with the following research objectives:
   </p>
  </div>
  <div class="ltx_para" id="S4.p2">
   <ul class="ltx_itemize" id="S4.I1">
    <li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S4.I1.i1.p1">
      <p class="ltx_p" id="S4.I1.i1.p1.1">
       To validate the capability of the entire framework in managing tool planning tasks;
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S4.I1.i2.p1">
      <p class="ltx_p" id="S4.I1.i2.p1.1">
       To independently assess the impact of each component on the overall performance, and identify the key factors influencing the multi-agent framework;
      </p>
     </div>
    </li>
   </ul>
  </div>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1
    </span>
    Evaluation
   </h3>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     Our experiments are conducted on ToolBench
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     , which encompasses multi-step tool usage tasks across over 16,000 APIs. To evaluate the planning and reasoning capabilities of the LLMs, we focused our experiments on
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">
      intra-category multi-tool instructions (I2)
     </span>
     and
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.2">
      intra-collection multi-tool instructions (I3)
     </span>
     . These instructions involve selecting 2-5 tools from the same category or collection and sampling up to 3 APIs from each tool to formulate the instructions. We employed two metrics for evaluation:
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.3">
      (1) Pass Rate
     </span>
     measures the percentage of instructions successfully executed within the allocated budget, evaluated by ChatGPT.
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.4">
      (2) Win Rate
     </span>
     represents the preference selection by a ChatGPT evaluator when presented with two solution paths.
All other settings are kept consistent with those of the ToolBench benchmark.
    </p>
   </div>
   <figure class="ltx_table" id="S4.T3">
    <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.1" style="width:464.8pt;height:199pt;vertical-align:-1.0pt;">
     <span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
      <table class="ltx_tabular ltx_align_middle" id="S4.T3.1.1">
       <tr class="ltx_tr" id="S4.T3.1.1.1">
        <td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.1.1.1.1" rowspan="2">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.1">
          Models
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T3.1.1.1.2" rowspan="2">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.2.1">
          Method
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.3">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.3.1">
          I2-Inst.
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.4">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.4.1">
          I2-Cat.
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.5">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.5.1">
          I3-Inst.
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.6">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.6.1">
          Average
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.2">
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.1">
         Pass
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.2.2">
         Win
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.3">
         Pass
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.2.4">
         Win
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.5">
         Pass
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.2.6">
         Win
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.7">
         Pass
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.8">
         Win
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.3">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.3.1" rowspan="2">
         <span class="ltx_text" id="S4.T3.1.1.3.1.1">
          ToolLLaMA-7B
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.2">
         ReACT
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3">
         30.5
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.4">
         50.8
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.5">
         31.5
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.6">
         41.8
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.7">
         25.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.8">
         55.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.9">
         29.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.10">
         49.2
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.4">
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.1">
         DFSDT
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2">
         77.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.3">
         68.5
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4">
         77.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.5">
         58.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.6">
         66.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.7">
         69.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.8">
         73.3
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.9">
         65.2
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.5">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.5.1" rowspan="2">
         <span class="ltx_text" id="S4.T3.1.1.5.1.1">
          Vicuna-7B
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.5.2">
         ReACT &amp; DFSDT
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.3">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.5.4">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.5">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.5.6">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.7">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.5.8">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.9">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.10">
         0.0
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.6">
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.1" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.1.1" style="background-color:#EDC5AB;">
          Smurfs (ours)
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.2" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.2.1" style="background-color:#EDC5AB;">
          77
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.3" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.3.1" style="background-color:#EDC5AB;">
          73
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.4.1" style="background-color:#EDC5AB;">
          70.5
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.5" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.5.1" style="background-color:#EDC5AB;">
          64.25
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.6.1" style="background-color:#EDC5AB;">
          78.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.7" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.7.1" style="background-color:#EDC5AB;">
          87.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.8" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.8.1" style="background-color:#EDC5AB;">
          75.2
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.9" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.6.9.1" style="background-color:#EDC5AB;">
          74.8
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.7">
        <td class="ltx_td ltx_align_left" id="S4.T3.1.1.7.1" rowspan="2">
         <span class="ltx_text" id="S4.T3.1.1.7.1.1">
          Mistral-Instruct-7B
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.2">
         ReACT &amp; DFSDT
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.3">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.4">
         0.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.6">
         0.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.7">
         0.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.8">
         0.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.9">
         0.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.10">
         0.0
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.8">
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.1" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.1.1" style="background-color:#EDC5AB;">
          Smurfs (ours)
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.2" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.2.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.8.2.1.1">
           77.5
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.3" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.3.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.3.1.1">
           80.0
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.4" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.4.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.4.1.1">
           79.5
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.5" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.5.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.5.1.1">
           79.2
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.6" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.6.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.6.1.1">
           79.0
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.7" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.7.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.7.1.1">
           94.0
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.8.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.8.1.1">
           78.7
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.9" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.8.9.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.9.1.1">
           84.4
          </span>
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.9">
        <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T3.1.1.9.1" rowspan="3">
         <span class="ltx_text" id="S4.T3.1.1.9.1.1">
          GPT4
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.9.2">
         ReACT
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.3">
         67.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.9.4">
         65.8
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.5">
         72.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.9.6">
         60.3
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.7">
         47.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.9.8">
         78.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.9">
         62.0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.10">
         68.0
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.10">
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.1">
         DFSDT
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.2">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.2.1">
          79.5
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.3">
         73.3
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.4">
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.10.4.1">
          77.5
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.5">
         63.3
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.6">
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.10.6.1">
          71.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.7">
         84.0
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.8">
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.10.8.1">
          76.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.9">
         73.5
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.1.11">
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.11.1" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.1.1" style="background-color:#EDC5AB;">
          Smurfs (ours)
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.11.2" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.2.1" style="background-color:#EDC5AB;">
          71.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.11.3" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.3.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.11.3.1.1">
           77.5
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.11.4" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.4.1" style="background-color:#EDC5AB;">
          72.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.11.5" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.5.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.11.5.1.1">
           77.0
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.11.6" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.6.1" style="background-color:#EDC5AB;">
          64.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.11.7" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.7.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.11.7.1.1">
           89.5
          </span>
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.11.8" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.8.1" style="background-color:#EDC5AB;">
          69.0
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.11.9" style="background-color:#EDC5AB;">
         <span class="ltx_text" id="S4.T3.1.1.11.9.1" style="background-color:#EDC5AB;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.11.9.1.1">
           81.3
          </span>
         </span>
        </td>
       </tr>
      </table>
     </span>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 3:
     </span>
     ToolBench evaluation, with some results derived from
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      ); Yuan et al. (
      <a class="ltx_ref" href="#bib.bib32" title="">
       2024
      </a>
      )
     </cite>
     . The most effective approach is highlighted in bold, while the second is underlined.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2
    </span>
    Baselines
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     To investigate the varying impacts of the agent framework on models with different capabilities, we categorize our baseline into three groups. The first group consists of models that are fine-tuned based on the tool dataset, represented by ToolLLaMA
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     .
The second group encompasses untrained general language models such as Vicuna
     <cite class="ltx_cite ltx_citemacro_cite">
      Chiang et al. (
      <a class="ltx_ref" href="#bib.bib5" title="">
       2023
      </a>
      )
     </cite>
     ,
and Mistral-Instruct-7B
     <cite class="ltx_cite ltx_citemacro_cite">
      Jiang et al. (
      <a class="ltx_ref" href="#bib.bib13" title="">
       2023
      </a>
      )
     </cite>
     . The third category represents the closed-source model, embodied by GPT4. We subsequently contrast our approach with two agent frameworks, ReACT
     <cite class="ltx_cite ltx_citemacro_cite">
      Yao et al. (
      <a class="ltx_ref" href="#bib.bib31" title="">
       2022
      </a>
      )
     </cite>
     and DFSDT
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     , both of which are utilized for multi-step reasoning and model invocation. Notably, all methods employ the ground truth toolset for tool selection, thereby eliminating the influence of the tool retriever.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.3
    </span>
    Main Experiments
   </h3>
   <div class="ltx_para" id="S4.SS3.p1">
    <p class="ltx_p" id="S4.SS3.p1.1">
     Table
     <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ 4.1 Evaluation ‣ 4 Experiments ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     displays the results of the comprehensive evaluation of our proposed framework on ToolBench. For the untrained LLMs, it is clear that existing agent frameworks do not improve their performance in tool planning tasks; Vicuna, and Mistral-Instruct-7B all failed at the given tasks with the ReACT and DFSDT frameworks. However, Smurfs exhibits exceptional performance: Mistral combined with Smurfs achieves the highest score among the baselines. Through its task decomposition mechanism, Smurfs transforms a long-context task into several simpler tasks, enabling the untrained model to effectively utilize external tools to manage complex tasks. Regarding the closed-source models, specifically GPT4 in these experiments, Smurfs also demonstrates competitive performance on the benchmark compared to other agent frameworks. A high win rate suggests that Smurfs is more adept at finding better solution paths than ChatGPT, a success that can likely be credited to the verifier agent.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.4
    </span>
    Ablation Study
   </h3>
   <section class="ltx_subsubsection" id="S4.SS4.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      4.4.1
     </span>
     Importance of each component in MAS
    </h4>
    <figure class="ltx_table" id="S4.T4">
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.6" style="width:216.6pt;height:126pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
       <table class="ltx_tabular ltx_align_middle" id="S4.T4.6.6">
        <tr class="ltx_tr" id="S4.T4.6.6.7">
         <td class="ltx_td ltx_border_r ltx_border_tt" id="S4.T4.6.6.7.1">
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T4.6.6.7.2">
          Average
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.6.6.8">
         <td class="ltx_td ltx_border_r" id="S4.T4.6.6.8.1">
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.6.6.8.2">
          Pass
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.6.6.8.3">
          Win
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.6.6.9">
         <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T4.6.6.9.1">
          Mistral
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.6.6.9.2">
          0.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.6.6.9.3">
          0.0
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.6.6.10">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S4.T4.6.6.10.1">
          Mistral
          <span class="ltx_text ltx_font_italic" id="S4.T4.6.6.10.1.1">
           with Smurfs
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.6.6.10.2">
          79.3
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.6.6.10.3">
          86.6
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.2.2.2">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S4.T4.2.2.2.3">
          <span class="ltx_text ltx_font_italic" id="S4.T4.2.2.2.3.1">
           w/o Verifier Agent
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.1.1.1.1">
          <math alttext="74.5_{\downarrow 6.0\%}" class="ltx_Math" display="inline" id="S4.T4.1.1.1.1.m1.1">
           <semantics id="S4.T4.1.1.1.1.m1.1a">
            <msub id="S4.T4.1.1.1.1.m1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.cmml">
             <mn id="S4.T4.1.1.1.1.m1.1.1.2" xref="S4.T4.1.1.1.1.m1.1.1.2.cmml">
              74.5
             </mn>
             <mrow id="S4.T4.1.1.1.1.m1.1.1.3" xref="S4.T4.1.1.1.1.m1.1.1.3.cmml">
              <mi id="S4.T4.1.1.1.1.m1.1.1.3.2" xref="S4.T4.1.1.1.1.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.1.1.1.1.m1.1.1.3.1" stretchy="false" xref="S4.T4.1.1.1.1.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.1.1.1.1.m1.1.1.3.3" xref="S4.T4.1.1.1.1.m1.1.1.3.3.cmml">
               <mn id="S4.T4.1.1.1.1.m1.1.1.3.3.2" xref="S4.T4.1.1.1.1.m1.1.1.3.3.2.cmml">
                6.0
               </mn>
               <mo id="S4.T4.1.1.1.1.m1.1.1.3.3.1" xref="S4.T4.1.1.1.1.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.1.m1.1b">
             <apply id="S4.T4.1.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.1.1.1.1.m1.1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.1.1.1.1.m1.1.1.2.cmml" type="float" xref="S4.T4.1.1.1.1.m1.1.1.2">
               74.5
              </cn>
              <apply id="S4.T4.1.1.1.1.m1.1.1.3.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3">
               <ci id="S4.T4.1.1.1.1.m1.1.1.3.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.1.1.1.1.m1.1.1.3.2.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.1.1.1.1.m1.1.1.3.3.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.1.1.1.1.m1.1.1.3.3.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.1.1.1.1.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.1.1.1.1.m1.1.1.3.3.2">
                 6.0
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.1.1.1.1.m1.1c">
             74.5_{\downarrow 6.0\%}
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.2.2.2">
          <math alttext="83.8_{\downarrow 3.2\%}" class="ltx_Math" display="inline" id="S4.T4.2.2.2.2.m1.1">
           <semantics id="S4.T4.2.2.2.2.m1.1a">
            <msub id="S4.T4.2.2.2.2.m1.1.1" xref="S4.T4.2.2.2.2.m1.1.1.cmml">
             <mn id="S4.T4.2.2.2.2.m1.1.1.2" xref="S4.T4.2.2.2.2.m1.1.1.2.cmml">
              83.8
             </mn>
             <mrow id="S4.T4.2.2.2.2.m1.1.1.3" xref="S4.T4.2.2.2.2.m1.1.1.3.cmml">
              <mi id="S4.T4.2.2.2.2.m1.1.1.3.2" xref="S4.T4.2.2.2.2.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.2.2.2.2.m1.1.1.3.1" stretchy="false" xref="S4.T4.2.2.2.2.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.2.2.2.2.m1.1.1.3.3" xref="S4.T4.2.2.2.2.m1.1.1.3.3.cmml">
               <mn id="S4.T4.2.2.2.2.m1.1.1.3.3.2" xref="S4.T4.2.2.2.2.m1.1.1.3.3.2.cmml">
                3.2
               </mn>
               <mo id="S4.T4.2.2.2.2.m1.1.1.3.3.1" xref="S4.T4.2.2.2.2.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.2.m1.1b">
             <apply id="S4.T4.2.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.2.2.2.2.m1.1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.2.2.2.2.m1.1.1.2.cmml" type="float" xref="S4.T4.2.2.2.2.m1.1.1.2">
               83.8
              </cn>
              <apply id="S4.T4.2.2.2.2.m1.1.1.3.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3">
               <ci id="S4.T4.2.2.2.2.m1.1.1.3.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.2.2.2.2.m1.1.1.3.2.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.2.2.2.2.m1.1.1.3.3.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.2.2.2.2.m1.1.1.3.3.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.2.2.2.2.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.2.2.2.2.m1.1.1.3.3.2">
                 3.2
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.2.2.2.2.m1.1c">
             83.8_{\downarrow 3.2\%}
            </annotation>
           </semantics>
          </math>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.4.4.4">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S4.T4.4.4.4.3">
          <span class="ltx_text ltx_font_italic" id="S4.T4.4.4.4.3.1">
           w/o Answer Agent
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.3.3.3.1">
          <math alttext="73.3_{\downarrow 7.6\%}" class="ltx_Math" display="inline" id="S4.T4.3.3.3.1.m1.1">
           <semantics id="S4.T4.3.3.3.1.m1.1a">
            <msub id="S4.T4.3.3.3.1.m1.1.1" xref="S4.T4.3.3.3.1.m1.1.1.cmml">
             <mn id="S4.T4.3.3.3.1.m1.1.1.2" xref="S4.T4.3.3.3.1.m1.1.1.2.cmml">
              73.3
             </mn>
             <mrow id="S4.T4.3.3.3.1.m1.1.1.3" xref="S4.T4.3.3.3.1.m1.1.1.3.cmml">
              <mi id="S4.T4.3.3.3.1.m1.1.1.3.2" xref="S4.T4.3.3.3.1.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.3.3.3.1.m1.1.1.3.1" stretchy="false" xref="S4.T4.3.3.3.1.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.3.3.3.1.m1.1.1.3.3" xref="S4.T4.3.3.3.1.m1.1.1.3.3.cmml">
               <mn id="S4.T4.3.3.3.1.m1.1.1.3.3.2" xref="S4.T4.3.3.3.1.m1.1.1.3.3.2.cmml">
                7.6
               </mn>
               <mo id="S4.T4.3.3.3.1.m1.1.1.3.3.1" xref="S4.T4.3.3.3.1.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.3.3.3.1.m1.1b">
             <apply id="S4.T4.3.3.3.1.m1.1.1.cmml" xref="S4.T4.3.3.3.1.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.3.3.3.1.m1.1.1.1.cmml" xref="S4.T4.3.3.3.1.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.3.3.3.1.m1.1.1.2.cmml" type="float" xref="S4.T4.3.3.3.1.m1.1.1.2">
               73.3
              </cn>
              <apply id="S4.T4.3.3.3.1.m1.1.1.3.cmml" xref="S4.T4.3.3.3.1.m1.1.1.3">
               <ci id="S4.T4.3.3.3.1.m1.1.1.3.1.cmml" xref="S4.T4.3.3.3.1.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.3.3.3.1.m1.1.1.3.2.cmml" xref="S4.T4.3.3.3.1.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.3.3.3.1.m1.1.1.3.3.cmml" xref="S4.T4.3.3.3.1.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.3.3.3.1.m1.1.1.3.3.1.cmml" xref="S4.T4.3.3.3.1.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.3.3.3.1.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.3.3.3.1.m1.1.1.3.3.2">
                 7.6
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.3.3.3.1.m1.1c">
             73.3_{\downarrow 7.6\%}
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.4.4.4.2">
          <math alttext="81.7_{\downarrow 5.7\%}" class="ltx_Math" display="inline" id="S4.T4.4.4.4.2.m1.1">
           <semantics id="S4.T4.4.4.4.2.m1.1a">
            <msub id="S4.T4.4.4.4.2.m1.1.1" xref="S4.T4.4.4.4.2.m1.1.1.cmml">
             <mn id="S4.T4.4.4.4.2.m1.1.1.2" xref="S4.T4.4.4.4.2.m1.1.1.2.cmml">
              81.7
             </mn>
             <mrow id="S4.T4.4.4.4.2.m1.1.1.3" xref="S4.T4.4.4.4.2.m1.1.1.3.cmml">
              <mi id="S4.T4.4.4.4.2.m1.1.1.3.2" xref="S4.T4.4.4.4.2.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.4.4.4.2.m1.1.1.3.1" stretchy="false" xref="S4.T4.4.4.4.2.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.4.4.4.2.m1.1.1.3.3" xref="S4.T4.4.4.4.2.m1.1.1.3.3.cmml">
               <mn id="S4.T4.4.4.4.2.m1.1.1.3.3.2" xref="S4.T4.4.4.4.2.m1.1.1.3.3.2.cmml">
                5.7
               </mn>
               <mo id="S4.T4.4.4.4.2.m1.1.1.3.3.1" xref="S4.T4.4.4.4.2.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.4.4.4.2.m1.1b">
             <apply id="S4.T4.4.4.4.2.m1.1.1.cmml" xref="S4.T4.4.4.4.2.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.4.4.4.2.m1.1.1.1.cmml" xref="S4.T4.4.4.4.2.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.4.4.4.2.m1.1.1.2.cmml" type="float" xref="S4.T4.4.4.4.2.m1.1.1.2">
               81.7
              </cn>
              <apply id="S4.T4.4.4.4.2.m1.1.1.3.cmml" xref="S4.T4.4.4.4.2.m1.1.1.3">
               <ci id="S4.T4.4.4.4.2.m1.1.1.3.1.cmml" xref="S4.T4.4.4.4.2.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.4.4.4.2.m1.1.1.3.2.cmml" xref="S4.T4.4.4.4.2.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.4.4.4.2.m1.1.1.3.3.cmml" xref="S4.T4.4.4.4.2.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.4.4.4.2.m1.1.1.3.3.1.cmml" xref="S4.T4.4.4.4.2.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.4.4.4.2.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.4.4.4.2.m1.1.1.3.3.2">
                 5.7
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.4.4.4.2.m1.1c">
             81.7_{\downarrow 5.7\%}
            </annotation>
           </semantics>
          </math>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.6.6.6">
         <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S4.T4.6.6.6.3">
          <span class="ltx_text ltx_font_italic" id="S4.T4.6.6.6.3.1">
           w/o Planning Agent
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.5.5.5.1">
          <math alttext="64.0_{\downarrow 19.3\%}" class="ltx_Math" display="inline" id="S4.T4.5.5.5.1.m1.1">
           <semantics id="S4.T4.5.5.5.1.m1.1a">
            <msub id="S4.T4.5.5.5.1.m1.1.1" xref="S4.T4.5.5.5.1.m1.1.1.cmml">
             <mn id="S4.T4.5.5.5.1.m1.1.1.2" xref="S4.T4.5.5.5.1.m1.1.1.2.cmml">
              64.0
             </mn>
             <mrow id="S4.T4.5.5.5.1.m1.1.1.3" xref="S4.T4.5.5.5.1.m1.1.1.3.cmml">
              <mi id="S4.T4.5.5.5.1.m1.1.1.3.2" xref="S4.T4.5.5.5.1.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.5.5.5.1.m1.1.1.3.1" stretchy="false" xref="S4.T4.5.5.5.1.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.5.5.5.1.m1.1.1.3.3" xref="S4.T4.5.5.5.1.m1.1.1.3.3.cmml">
               <mn id="S4.T4.5.5.5.1.m1.1.1.3.3.2" xref="S4.T4.5.5.5.1.m1.1.1.3.3.2.cmml">
                19.3
               </mn>
               <mo id="S4.T4.5.5.5.1.m1.1.1.3.3.1" xref="S4.T4.5.5.5.1.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.5.5.5.1.m1.1b">
             <apply id="S4.T4.5.5.5.1.m1.1.1.cmml" xref="S4.T4.5.5.5.1.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.5.5.5.1.m1.1.1.1.cmml" xref="S4.T4.5.5.5.1.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.5.5.5.1.m1.1.1.2.cmml" type="float" xref="S4.T4.5.5.5.1.m1.1.1.2">
               64.0
              </cn>
              <apply id="S4.T4.5.5.5.1.m1.1.1.3.cmml" xref="S4.T4.5.5.5.1.m1.1.1.3">
               <ci id="S4.T4.5.5.5.1.m1.1.1.3.1.cmml" xref="S4.T4.5.5.5.1.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.5.5.5.1.m1.1.1.3.2.cmml" xref="S4.T4.5.5.5.1.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.5.5.5.1.m1.1.1.3.3.cmml" xref="S4.T4.5.5.5.1.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.5.5.5.1.m1.1.1.3.3.1.cmml" xref="S4.T4.5.5.5.1.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.5.5.5.1.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.5.5.5.1.m1.1.1.3.3.2">
                 19.3
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.5.5.5.1.m1.1c">
             64.0_{\downarrow 19.3\%}
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.6.6.6.2">
          <math alttext="82.9_{\downarrow 4.3\%}" class="ltx_Math" display="inline" id="S4.T4.6.6.6.2.m1.1">
           <semantics id="S4.T4.6.6.6.2.m1.1a">
            <msub id="S4.T4.6.6.6.2.m1.1.1" xref="S4.T4.6.6.6.2.m1.1.1.cmml">
             <mn id="S4.T4.6.6.6.2.m1.1.1.2" xref="S4.T4.6.6.6.2.m1.1.1.2.cmml">
              82.9
             </mn>
             <mrow id="S4.T4.6.6.6.2.m1.1.1.3" xref="S4.T4.6.6.6.2.m1.1.1.3.cmml">
              <mi id="S4.T4.6.6.6.2.m1.1.1.3.2" xref="S4.T4.6.6.6.2.m1.1.1.3.2.cmml">
              </mi>
              <mo id="S4.T4.6.6.6.2.m1.1.1.3.1" stretchy="false" xref="S4.T4.6.6.6.2.m1.1.1.3.1.cmml">
               ↓
              </mo>
              <mrow id="S4.T4.6.6.6.2.m1.1.1.3.3" xref="S4.T4.6.6.6.2.m1.1.1.3.3.cmml">
               <mn id="S4.T4.6.6.6.2.m1.1.1.3.3.2" xref="S4.T4.6.6.6.2.m1.1.1.3.3.2.cmml">
                4.3
               </mn>
               <mo id="S4.T4.6.6.6.2.m1.1.1.3.3.1" xref="S4.T4.6.6.6.2.m1.1.1.3.3.1.cmml">
                %
               </mo>
              </mrow>
             </mrow>
            </msub>
            <annotation-xml encoding="MathML-Content" id="S4.T4.6.6.6.2.m1.1b">
             <apply id="S4.T4.6.6.6.2.m1.1.1.cmml" xref="S4.T4.6.6.6.2.m1.1.1">
              <csymbol cd="ambiguous" id="S4.T4.6.6.6.2.m1.1.1.1.cmml" xref="S4.T4.6.6.6.2.m1.1.1">
               subscript
              </csymbol>
              <cn id="S4.T4.6.6.6.2.m1.1.1.2.cmml" type="float" xref="S4.T4.6.6.6.2.m1.1.1.2">
               82.9
              </cn>
              <apply id="S4.T4.6.6.6.2.m1.1.1.3.cmml" xref="S4.T4.6.6.6.2.m1.1.1.3">
               <ci id="S4.T4.6.6.6.2.m1.1.1.3.1.cmml" xref="S4.T4.6.6.6.2.m1.1.1.3.1">
                ↓
               </ci>
               <csymbol cd="latexml" id="S4.T4.6.6.6.2.m1.1.1.3.2.cmml" xref="S4.T4.6.6.6.2.m1.1.1.3.2">
                absent
               </csymbol>
               <apply id="S4.T4.6.6.6.2.m1.1.1.3.3.cmml" xref="S4.T4.6.6.6.2.m1.1.1.3.3">
                <csymbol cd="latexml" id="S4.T4.6.6.6.2.m1.1.1.3.3.1.cmml" xref="S4.T4.6.6.6.2.m1.1.1.3.3.1">
                 percent
                </csymbol>
                <cn id="S4.T4.6.6.6.2.m1.1.1.3.3.2.cmml" type="float" xref="S4.T4.6.6.6.2.m1.1.1.3.3.2">
                 4.3
                </cn>
               </apply>
              </apply>
             </apply>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T4.6.6.6.2.m1.1c">
             82.9_{\downarrow 4.3\%}
            </annotation>
           </semantics>
          </math>
         </td>
        </tr>
       </table>
      </span>
     </div>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 4:
      </span>
      Ablation study on ToolBench I2-Cat., I3-Inst. with Mistral-Instruct-7B.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS4.SSS1.p1">
     <p class="ltx_p" id="S4.SS4.SSS1.p1.1">
      We performed an ablation study to investigate the impact of each agent in our framework. We removed each agent individually, except for the indispensable Executor Agent, and compared the results to the complete framework. Table
      <a class="ltx_ref" href="#S4.T4" title="Table 4 ‣ 4.4.1 Importance of each component in MAS ‣ 4.4 Ablation Study ‣ 4 Experiments ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      shows that the Planning Agent is the most crucial component, followed by the Answer Agent and the Verifier Agent.
      <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS1.p1.1.1">
       (1) Verifier Agent Removal:
      </span>
      Without verification, the framework uses a general depth-first search, leading to increased computational demand and more tool invocations.
      <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS1.p1.1.2">
       (2) Answer Agent Removal:
      </span>
      Removing this agent means the Executor Agent’s answer won’t be summarized, risking the ’lost-in-the-middle’ problem due to lengthy tool responses.
      <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS1.p1.1.3">
       (3) Planning Agent Removal:
      </span>
      Without this agent, the global path searching strategy is affected. Models with Smurfs may show reduced performance without preliminary planning, as seen in current frameworks like ReACT and DFSDT.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S4.SS4.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      4.4.2
     </span>
     Effect of number of agents
    </h4>
    <figure class="ltx_table" id="S4.T5">
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T5.1" style="width:222.6pt;height:158.4pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(-27.8pt,19.8pt) scale(0.8,0.8) ;">
       <table class="ltx_tabular ltx_align_middle" id="S4.T5.1.1">
        <tr class="ltx_tr" id="S4.T5.1.1.1">
         <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.1" rowspan="2">
          <span class="ltx_text" id="S4.T5.1.1.1.1.1">
           Models
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T5.1.1.1.2">
          # of
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T5.1.1.1.3">
          I2-Cat.
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T5.1.1.1.4">
          I3-Inst.
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T5.1.1.1.5">
          Average
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.2">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.2.1">
          Agents
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.2">
          Pass
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.3">
          Win
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.4">
          Pass
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.5">
          Win
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.6">
          Pass
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.2.7">
          Win
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.3">
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.1" rowspan="3">
          <span class="ltx_text" id="S4.T5.1.1.3.1.1">
           Vicuna
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.1.3.2">
          1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.3">
          49.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.4">
          53.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.5">
          60.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.6">
          86.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.7">
          54.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.8">
          69.5
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.4">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.4.1">
          2
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.2">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.4.2.1">
           71.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.3">
          66.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.4">
          75.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.5">
          83.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.6">
          73.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.7">
          74.5
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.5">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.5.1">
          3
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.2">
          70.5
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.3">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.3.1">
           64.3
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.4">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.4.1">
           78.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.5">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.5.1">
           87.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.6">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.6.1">
           74.3
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.5.7">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.7.1">
           75.6
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.6">
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.1" rowspan="3">
          <span class="ltx_text" id="S4.T5.1.1.6.1.1">
           Mistral
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.1.6.2">
          1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.3">
          65.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.4">
          70.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.5">
          56.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.6">
          94.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.7">
          60.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6.8">
          82.3
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.7">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.7.1">
          2
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.2">
          76.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.3">
          75.5
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.4">
          73.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.5">
          92.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.6">
          74.5
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.7.7">
          83.8
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.8">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.8.1">
          3
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.2">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.2.1">
           79.5
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.3">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.3.1">
           79.2
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.4">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.4.1">
           79.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.5">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.5.1">
           94.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.6">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.6.1">
           79.3
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.8.7">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.7.1">
           86.6
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.9">
         <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.1.9.1" rowspan="3">
          <span class="ltx_text" id="S4.T5.1.1.9.1.1">
           GPT4
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.1.9.2">
          1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.3">
          60.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.4">
          71.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.5">
          57.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.6">
          89.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.7">
          58.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.9.8">
          80.4
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.10">
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.1.10.1">
          2
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.2">
          69.5
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.3">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.10.3.1">
           77.8
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.4">
          59.0
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.5">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.10.5.1">
           94.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.6">
          64.3
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T5.1.1.10.7">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.10.7.1">
           85.9
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T5.1.1.11">
         <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T5.1.1.11.1">
          3
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.2">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.11.2.1">
           72.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.3">
          77.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.4">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.11.4.1">
           64.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.5">
          89.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.6">
          <span class="ltx_text ltx_font_bold" id="S4.T5.1.1.11.6.1">
           68.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.11.7">
          83.3
         </td>
        </tr>
       </table>
      </span>
     </div>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 5:
      </span>
      The impact of MAS complexity on the performance of different models. More agents don’t always bring more benefits.
     </figcaption>
    </figure>
    <figure class="ltx_figure" id="S4.F4">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="366" id="S4.F4.g1" src="/html/2405.05955/assets/x4.png" width="461"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 4:
      </span>
      The illustration of how GPT4-Smurfs and GPT4-DFSDT solve long context problem. The two sub-questions and their corresponding answers are marked in two colors.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS4.SSS2.p1">
     <p class="ltx_p" id="S4.SS4.SSS2.p1.1">
      In addition to evaluating the importance of each component, another relevant question arises:
      <span class="ltx_text ltx_font_italic" id="S4.SS4.SSS2.p1.1.1">
       Can a fixed agent system effectively accommodate every model?
      </span>
      Our hypothesis suggests that larger language models possess comprehensive intelligence, and employing complex agent systems may potentially hinder their performance compared to simpler ones. As shown in Table
      <a class="ltx_ref" href="#S4.T5" title="Table 5 ‣ 4.4.2 Effect of number of agents ‣ 4.4 Ablation Study ‣ 4 Experiments ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
       <span class="ltx_text ltx_ref_tag">
        5
       </span>
      </a>
      , we conducted an ablation study on Vicuna, Mistral-Instruct-7B, and GPT4, varying the number of agents
      <span class="ltx_note ltx_role_footnote" id="footnote1">
       <sup class="ltx_note_mark">
        *
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          *
         </sup>
         <span class="ltx_tag ltx_tag_note">
          *
         </span>
         Agents are incrementally added to the system based on their importance.
        </span>
       </span>
      </span>
      . The findings indicate that as the number of agents in a MAS increases, leading to increased complexity of the MAS, the system’s performance enhancement does not scale linearly. In certain instances, GPT4 with a 2-agent MAS outperforms the one with a 3-agent MAS, suggesting that larger language models do not consistently benefit from more complex Multi-Agent Systems. Smaller language models can benefit more from the agent system, as seen with Vicuna increasing from 69.5 to 75.6.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.5
    </span>
    Case Study
   </h3>
   <div class="ltx_para" id="S4.SS5.p1">
    <p class="ltx_p" id="S4.SS5.p1.1">
     As shown in Figure
     <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.4.2 Effect of number of agents ‣ 4.4 Ablation Study ‣ 4 Experiments ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     , even though GPT4-DFSDT and GPT4-Smurfs use the same tool calls to solve the problem, GPT4-DFSDT only answers the first sub-question correctly while GPT4-Smurfs answers both sub-questions accurately. In the process of addressing the second sub-question, it is notable that the tool response only mentions titles of film and television products related to "Star Wars", without addressing OTT platforms. GPT-4-DFSDT erroneously interprets these titles as responses to the question, while GPT-4-Smurfs adeptly identifies this discrepancy and provides a more appropriate response. This case highlights that in situations where tool responses are lengthy and questions are complex, the single agent framework like DFSDT may be susceptible to distractions from irrelevant information, leading to erroneous answers. Conversely, the context-efficient Smurfs framework demonstrates a reduced susceptibility to irrelevant information, thereby generating more accurate answers.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5
   </span>
   Related Work
  </h2>
  <div class="ltx_para" id="S5.p1">
   <p class="ltx_p" id="S5.p1.1">
    In this section, we review the literature related to multi-agent collaboration, tool-augmented language models, and complex task planning and reasoning. Each subsection provides an overview of the topic, discusses recent advancements, identifies challenges, and suggests avenues for future research.
   </p>
  </div>
  <section class="ltx_subsection" id="S5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.1
    </span>
    Multi-Agents Collaboration
   </h3>
   <div class="ltx_para" id="S5.SS1.p1">
    <p class="ltx_p" id="S5.SS1.p1.1">
     Multi-agent systems have garnered significant attention due to their applicability in various domains such as robotics, economics, and computer networking. One of the key challenges in multi-agent systems is achieving effective collaboration among autonomous agents. Recent studies have focused on understanding collaborative behaviors and developing coordination strategies to enable agents to work together towards common goals. For example, research in reinforcement learning has explored techniques for emergent coordination, where agents learn to collaborate through interaction with the environment and other agents.
     <cite class="ltx_cite ltx_citemacro_cite">
      Du et al. (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      ); Liang et al. (
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     carry out multi-agent interaction in the form of debate, which improves mathematical and strategic reasoning tasks.
     <cite class="ltx_cite ltx_citemacro_cite">
      Li et al. (
      <a class="ltx_ref" href="#bib.bib15" title="">
       2023
      </a>
      ); Wang et al. (
      <a class="ltx_ref" href="#bib.bib28" title="">
       2023
      </a>
      )
     </cite>
     uses role-playing to conduct the interaction between multi-agents.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.2
    </span>
    Tool-Augmented Language Models
   </h3>
   <div class="ltx_para" id="S5.SS2.p1">
    <p class="ltx_p" id="S5.SS2.p1.1">
     Language models augmented with external knowledge sources, often termed as tool-augmented language models, have demonstrated promising outcomes in a variety of natural language processing tasks. These models utilize external knowledge bases, ontologies, or pre-trained models to enhance their contextual understanding and boost performance in tasks such as text generation, summarization, and question answering.
Recent advancements in this field include techniques for integrating structured knowledge into language models, such as graph-based representations or semantic parsing. For instance,
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     introduces ToolBench, an instruction-tuning dataset for tool usage, along with a fine-tuned tool-oriented model, ToolLLaMA.
Another significant contribution is Gorilla
     <cite class="ltx_cite ltx_citemacro_cite">
      Patil et al. (
      <a class="ltx_ref" href="#bib.bib20" title="">
       2023
      </a>
      )
     </cite>
     , which excels at writing API calls and also introduces a benchmark for evaluating LLMs with tools.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.3
    </span>
    Complex task planning and reasoning
   </h3>
   <div class="ltx_para" id="S5.SS3.p1">
    <p class="ltx_p" id="S5.SS3.p1.1">
     Problem decomposition (
     <cite class="ltx_cite ltx_citemacro_cite">
      Zhou et al. (
      <a class="ltx_ref" href="#bib.bib34" title="">
       2023
      </a>
      ); Drozdov et al. (
      <a class="ltx_ref" href="#bib.bib9" title="">
       2022
      </a>
      ); Khot et al. (
      <a class="ltx_ref" href="#bib.bib14" title="">
       2022
      </a>
      ); Press et al. (
      <a class="ltx_ref" href="#bib.bib22" title="">
       2022
      </a>
      )
     </cite>
     ) is a popular paradigm used in the LLM and leads to good performance in challenging reasoning tasks. This divide-and-conquer strategy provides sufficient explanation of how the model works. The current trend is that when model size reaches some limit, people start looking for a way to make the most of the limited model. Chain-of-thought prompting
     <cite class="ltx_cite ltx_citemacro_cite">
      Wei et al. (
      <a class="ltx_ref" href="#bib.bib29" title="">
       2022
      </a>
      )
     </cite>
     is one of the strategy that lead models to divide the tasks into a chain, and solve the task step by steps.
     <cite class="ltx_cite ltx_citemacro_cite">
      Chen et al. (
      <a class="ltx_ref" href="#bib.bib4" title="">
       2022
      </a>
      )
     </cite>
     propose a program of thoughts structure to enhance the reasoning ability.
     <cite class="ltx_cite ltx_citemacro_cite">
      Yao et al. (
      <a class="ltx_ref" href="#bib.bib30" title="">
       2024
      </a>
      )
     </cite>
     simulate thought as tree structure to solve task.
     <cite class="ltx_cite ltx_citemacro_cite">
      Besta et al. (
      <a class="ltx_ref" href="#bib.bib3" title="">
       2024
      </a>
      )
     </cite>
     using graph to simulation.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S6">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    6
   </span>
   Conclusion
  </h2>
  <div class="ltx_para" id="S6.p1">
   <p class="ltx_p" id="S6.p1.1">
    In this study, we present a novel MAS framework,
    <span class="ltx_text ltx_font_bold ltx_font_italic" id="S6.p1.1.1">
     Smurfs
    </span>
    , tailored to enhance the planning and reasoning capabilities of LLMs in handling complex tasks that involve lengthy contexts and tools. We conducted experiments on the multi-step tool usage benchmark,
    <span class="ltx_text ltx_font_italic" id="S6.p1.1.2">
     ToolBench
    </span>
    , and the results demonstrated the overall effectiveness of the Smurfs framework compared to the baseline models.
   </p>
  </div>
  <div class="ltx_para" id="S6.p2">
   <p class="ltx_p" id="S6.p2.1">
    Ablation studies are carried out to investigate and compare the significance of different components within the MAS framework. The findings revealed that preliminary planning was the most crucial element. Content summarizing also played a key role in mitigating the ’lost-in-the-middle’ issue often encountered in long-context multi-step reasoning scenarios. While verification was not as influential on effectiveness, it proved valuable in enhancing computational efficiency by identifying the optimal solution path for complex task resolution.
By dissecting and comparing the different aspects of the MAS framework, we aim to offer insights that could inspire advancements in the applicability and accuracy of LLMs.
   </p>
  </div>
  <div class="ltx_para" id="S6.p3">
   <p class="ltx_p" id="S6.p3.1">
    In conclusion, this research contributes to the expanding field of study focused on enhancing LLM capabilities, particularly for multi-step tool usage tasks. It emphasizes the importance of task decomposition, preliminary planning, and efficient verification for improving task execution performance. We are confident that the knowledge gained from this study will lay the groundwork for the development of more sophisticated and efficient LLM frameworks in the future.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="S7">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    7
   </span>
   Limitations
  </h2>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px1">
   <h5 class="ltx_title ltx_font_bold ltx_title_paragraph">
    Generalization Ability:
   </h5>
   <div class="ltx_para" id="S7.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px1.p1.1">
     While our empirical investigation has demonstrated promising results for the Mistral-7b-instruct model, additional benchmark evaluations may be needed to validate the generalization ability of the proposed
     <span class="ltx_text ltx_font_bold ltx_font_italic" id="S7.SS0.SSS0.Px1.p1.1.1">
      Smurfs
     </span>
     framework across various LLM architectures and tasks.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px2">
   <h5 class="ltx_title ltx_font_bold ltx_title_paragraph">
    Model Size Constraints:
   </h5>
   <div class="ltx_para" id="S7.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px2.p1.1">
     Due to device limitations and computational constraints, our experiments primarily focused on the 7B models. Further evaluations with larger and smaller LLMs are required to assess the impact of the
     <span class="ltx_text ltx_font_bold ltx_font_italic" id="S7.SS0.SSS0.Px2.p1.1.1">
      Smurfs
     </span>
     framework on models of different sizes.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px3">
   <h5 class="ltx_title ltx_font_bold ltx_title_paragraph">
    Computational Efficiency:
   </h5>
   <div class="ltx_para" id="S7.SS0.SSS0.Px3.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px3.p1.1">
     Although preliminary findings suggest that the
     <span class="ltx_text ltx_font_bold ltx_font_italic" id="S7.SS0.SSS0.Px3.p1.1.1">
      Smurfs
     </span>
     framework can enhance computational efficiency through efficient verification, a more detailed analysis is needed to quantify the computational overhead introduced by the multi-agent architecture.
    </p>
   </div>
   <div class="ltx_para" id="S7.SS0.SSS0.Px3.p2">
    <p class="ltx_p" id="S7.SS0.SSS0.Px3.p2.1">
     Acknowledging these limitations, future research should aim to address these gaps to provide a more comprehensive understanding of the
     <span class="ltx_text ltx_font_bold ltx_font_italic" id="S7.SS0.SSS0.Px3.p2.1.1">
      Smurfs
     </span>
     framework’s capabilities and potential areas for improvement.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ambrose (2001)
    </span>
    <span class="ltx_bibblock">
     Stanley H Ambrose. 2001.
    </span>
    <span class="ltx_bibblock">
     Paleolithic technology and human evolution.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      Science
     </em>
     , 291(5509):1748–1753.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Bai et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong Deng, Yang Fan, Wenbin Ge, Yu Han, Fei Huang, Binyuan Hui, Luo Ji, Mei Li, Junyang Lin, Runji Lin, Dayiheng Liu, Gao Liu, Chengqiang Lu, Keming Lu, Jianxin Ma, Rui Men, Xingzhang Ren, Xuancheng Ren, Chuanqi Tan, Sinan Tan, Jianhong Tu, Peng Wang, Shijie Wang, Wei Wang, Shengguang Wu, Benfeng Xu, Jin Xu, An Yang, Hao Yang, Jian Yang, Shusheng Yang, Yang Yao, Bowen Yu, Hongyi Yuan, Zheng Yuan, Jianwei Zhang, Xingxuan Zhang, Yichang Zhang, Zhenru Zhang, Chang Zhou, Jingren Zhou, Xiaohuan Zhou, and Tianhang Zhu. 2023.
    </span>
    <span class="ltx_bibblock">
     Qwen technical report.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      arXiv preprint arXiv:2309.16609
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Besta et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Maciej Besta, Nils Blach, Ales Kubicek, Robert Gerstenberger, Michal Podstawski, Lukas Gianinazzi, Joanna Gajda, Tomasz Lehmann, Hubert Niewiadomski, Piotr Nyczyk, et al. 2024.
    </span>
    <span class="ltx_bibblock">
     Graph of thoughts: Solving elaborate problems with large language models.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">
      Proceedings of the AAAI Conference on Artificial Intelligence
     </em>
     , volume 38, pages 17682–17690.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Wenhu Chen, Xueguang Ma, Xinyi Wang, and William W Cohen. 2022.
    </span>
    <span class="ltx_bibblock">
     Program of thoughts prompting: Disentangling computation from reasoning for numerical reasoning tasks.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">
      arXiv preprint arXiv:2211.12588
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chiang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Wei-Lin Chiang, Zhuohan Li, Zi Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng, Siyuan Zhuang, Yonghao Zhuang, Joseph E. Gonzalez, Ion Stoica, and Eric P. Xing. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://lmsys.org/blog/2023-03-30-vicuna/" target="_blank" title="">
      Vicuna: An open-source chatbot impressing gpt-4 with 90%* chatgpt quality
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Dai et al. (2019)
    </span>
    <span class="ltx_bibblock">
     Zihang Dai, Zhilin Yang, Yiming Yang, Jaime Carbonell, Quoc V Le, and Ruslan Salakhutdinov. 2019.
    </span>
    <span class="ltx_bibblock">
     Transformer-xl: Attentive language models beyond a fixed-length context.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      arXiv preprint arXiv:1901.02860
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Dao et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Tri Dao, Dan Fu, Stefano Ermon, Atri Rudra, and Christopher Ré. 2022.
    </span>
    <span class="ltx_bibblock">
     Flashattention: Fast and memory-efficient exact attention with io-awareness.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 35:16344–16359.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Dorri et al. (2018)
    </span>
    <span class="ltx_bibblock">
     Ali Dorri, Salil S Kanhere, and Raja Jurdak. 2018.
    </span>
    <span class="ltx_bibblock">
     Multi-agent systems: A survey.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      Ieee Access
     </em>
     , 6:28573–28593.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Drozdov et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Andrew Drozdov, Nathanael Schärli, Ekin Akyürek, Nathan Scales, Xinying Song, Xinyun Chen, Olivier Bousquet, and Denny Zhou. 2022.
    </span>
    <span class="ltx_bibblock">
     Compositional semantic parsing with large language models.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      The Eleventh International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Du et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yilun Du, Shuang Li, Antonio Torralba, Joshua B. Tenenbaum, and Igor Mordatch. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2305.14325" target="_blank" title="">
      Improving factuality and reasoning in language models through multiagent debate
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      Preprint
     </em>
     , arXiv:2305.14325.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Guu et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.
    </span>
    <span class="ltx_bibblock">
     Retrieval augmented language model pre-training.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">
      International conference on machine learning
     </em>
     , pages 3929–3938. PMLR.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hao et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Shibo Hao, Tianyang Liu, Zhen Wang, and Zhiting Hu. 2024.
    </span>
    <span class="ltx_bibblock">
     Toolkengpt: Augmenting frozen language models with massive tools via tool embeddings.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">
      Advances in neural information processing systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Jiang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Albert Q Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra Singh Chaplot, Diego de las Casas, Florian Bressand, Gianna Lengyel, Guillaume Lample, Lucile Saulnier, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Mistral 7b.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">
      arXiv preprint arXiv:2310.06825
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Khot et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Tushar Khot, Harsh Trivedi, Matthew Finlayson, Yao Fu, Kyle Richardson, Peter Clark, and Ashish Sabharwal. 2022.
    </span>
    <span class="ltx_bibblock">
     Decomposed prompting: A modular approach for solving complex tasks.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      arXiv preprint arXiv:2210.02406
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Guohao Li, Hasan Abed Al Kader Hammoud, Hani Itani, Dmitrii Khizbullin, and Bernard Ghanem. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2303.17760" target="_blank" title="">
      Camel: Communicative agents for "mind" exploration of large language model society
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">
      Preprint
     </em>
     , arXiv:2303.17760.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Tian Liang, Zhiwei He, Wenxiang Jiao, Xing Wang, Yan Wang, Rui Wang, Yujiu Yang, Zhaopeng Tu, and Shuming Shi. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2305.19118" target="_blank" title="">
      Encouraging divergent thinking in large language models through multi-agent debate
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">
      Preprint
     </em>
     , arXiv:2305.19118.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Nelson F Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang. 2024.
    </span>
    <span class="ltx_bibblock">
     Lost in the middle: How language models use long contexts.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      Transactions of the Association for Computational Linguistics
     </em>
     , 12:157–173.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Mallen et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Alex Mallen, Akari Asai, Victor Zhong, Rajarshi Das, Daniel Khashabi, and Hannaneh Hajishirzi. 2022.
    </span>
    <span class="ltx_bibblock">
     When not to trust language models: Investigating effectiveness of parametric and non-parametric memories.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      arXiv preprint arXiv:2212.10511
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Oakley and Museum (1972)
    </span>
    <span class="ltx_bibblock">
     Kenneth Page Oakley and London British Museum. 1972.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">
      Man the tool-maker
     </em>
     .
    </span>
    <span class="ltx_bibblock">
     538. British Museum (Natural History) London.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Patil et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Shishir G Patil, Tianjun Zhang, Xin Wang, and Joseph E Gonzalez. 2023.
    </span>
    <span class="ltx_bibblock">
     Gorilla: Large language model connected with massive apis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      arXiv preprint arXiv:2305.15334
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Petroni et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Fabio Petroni, Patrick Lewis, Aleksandra Piktus, Tim Rocktäschel, Yuxiang Wu, Alexander H Miller, and Sebastian Riedel. 2020.
    </span>
    <span class="ltx_bibblock">
     How context affects language models’ factual predictions.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      arXiv preprint arXiv:2005.04611
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Press et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Ofir Press, Muru Zhang, Sewon Min, Ludwig Schmidt, Noah A Smith, and Mike Lewis. 2022.
    </span>
    <span class="ltx_bibblock">
     Measuring and narrowing the compositionality gap in language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      arXiv preprint arXiv:2210.03350
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Qin et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yujia Qin, Shengding Hu, Yankai Lin, Weize Chen, Ning Ding, Ganqu Cui, Zheni Zeng, Yufei Huang, Chaojun Xiao, Chi Han, Yi Ren Fung, Yusheng Su, Huadong Wang, Cheng Qian, Runchu Tian, Kunlun Zhu, Shihao Liang, Xingyu Shen, Bokai Xu, Zhen Zhang, Yining Ye, Bowen Li, Ziwei Tang, Jing Yi, Yuzhang Zhu, Zhenning Dai, Lan Yan, Xin Cong, Yaxi Lu, Weilin Zhao, Yuxiang Huang, Junxi Yan, Xu Han, Xian Sun, Dahai Li, Jason Phang, Cheng Yang, Tongshuang Wu, Heng Ji, Zhiyuan Liu, and Maosong Sun. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2304.08354" target="_blank" title="">
      Tool learning with foundation models
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">
      Preprint
     </em>
     , arXiv:2304.08354.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Qin et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Yujia Qin, Shihao Liang, Yining Ye, Kunlun Zhu, Lan Yan, Yaxi Lu, Yankai Lin, Xin Cong, Xiangru Tang, Bill Qian, Sihan Zhao, Lauren Hong, Runchu Tian, Ruobing Xie, Jie Zhou, Mark Gerstein, dahai li, Zhiyuan Liu, and Maosong Sun. 2024.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=dHng2O0Jjr" target="_blank" title="">
      ToolLLM: Facilitating large language models to master 16000+ real-world APIs
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">
      The Twelfth International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ram et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.
    </span>
    <span class="ltx_bibblock">
     In-context retrieval-augmented language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">
      Transactions of the Association for Computational Linguistics
     </em>
     , 11:1316–1331.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Shi et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Freda Shi, Xinyun Chen, Kanishka Misra, Nathan Scales, David Dohan, Ed Chi, Nathanael Schärli, and Denny Zhou. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2302.00093" target="_blank" title="">
      Large language models can be easily distracted by irrelevant context
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">
      Preprint
     </em>
     , arXiv:2302.00093.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Van der Hoek and Wooldridge (2008)
    </span>
    <span class="ltx_bibblock">
     Wiebe Van der Hoek and Michael Wooldridge. 2008.
    </span>
    <span class="ltx_bibblock">
     Multi-agent systems.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">
      Foundations of Artificial Intelligence
     </em>
     , 3:887–928.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Zhenhailong Wang, Shaoguang Mao, Wenshan Wu, Tao Ge, Furu Wei, and Heng Ji. 2023.
    </span>
    <span class="ltx_bibblock">
     Unleashing cognitive synergy in large language models: A task-solving agent through multi-persona self-collaboration.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">
      arXiv preprint arXiv:2307.05300
     </em>
     , 1(2):3.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wei et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. 2022.
    </span>
    <span class="ltx_bibblock">
     Chain-of-thought prompting elicits reasoning in large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">
      Advances in neural information processing systems
     </em>
     , 35:24824–24837.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Tom Griffiths, Yuan Cao, and Karthik Narasimhan. 2024.
    </span>
    <span class="ltx_bibblock">
     Tree of thoughts: Deliberate problem solving with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. 2022.
    </span>
    <span class="ltx_bibblock">
     React: Synergizing reasoning and acting in language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">
      arXiv preprint arXiv:2210.03629
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yuan et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Siyu Yuan, Kaitao Song, Jiangjie Chen, Xu Tan, Yongliang Shen, Ren Kan, Dongsheng Li, and Deqing Yang. 2024.
    </span>
    <span class="ltx_bibblock">
     Easytool: Enhancing llm-based agents with concise tool instruction.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">
      arXiv preprint arXiv:2401.06201
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhao et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Wayne Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     A survey of large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">
      arXiv preprint arXiv:2303.18223
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib34">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhou et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Claire Cui, Olivier Bousquet, Quoc Le, and Ed Chi. 2023.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2205.10625" target="_blank" title="">
      Least-to-most prompting enables complex reasoning in large language models
     </a>
     .
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">
      Preprint
     </em>
     , arXiv:2205.10625.
    </span>
   </li>
  </ul>
 </section>
 <section class="ltx_appendix" id="A1">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix A
   </span>
   Pilot Study Settings
  </h2>
  <figure class="ltx_figure" id="A1.F5">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="121" id="A1.F5.g1" src="/html/2405.05955/assets/x5.png" width="368"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 5:
    </span>
    Demonstration of the memory of the Smurfs framework.
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="A1.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.1
    </span>
    Pilot Study 1
   </h3>
   <div class="ltx_para" id="A1.SS1.p1">
    <p class="ltx_p" id="A1.SS1.p1.1">
     We conducted the first pilot study using the ToolBench benchmark
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     , which comprises over 16,000 APIs focused on tool usage and planning. We divided the benchmark into two subsets: "ToolBench-long," containing samples requiring more than three steps for ChatGPT-DFSDT, and "ToolBench-all," which includes all samples from ToolBench. On average, we consider the "ToolBench-long" subset to be more complex than the "ToolBench-all" set. We maintained all other settings consistent with the original source settings.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A1.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.2
    </span>
    Pilot Study 2
   </h3>
   <div class="ltx_para" id="A1.SS2.p1">
    <p class="ltx_p" id="A1.SS2.p1.1">
     The second pilot study is conducted using the BMTools
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib23" title="">
       2023
      </a>
      )
     </cite>
     test datasets. We augmented each sample by adding random, irrelevant test samples as prefix prompts to increase their input length. We used tool selection accuracy as the metric to evaluate the LLMs’ model selection capabilities. The experiment uses Mistral-7B-Instruct-v0.1
     <cite class="ltx_cite ltx_citemacro_cite">
      Jiang et al. (
      <a class="ltx_ref" href="#bib.bib13" title="">
       2023
      </a>
      )
     </cite>
     and Qwen1.5-7B-Chat
     <cite class="ltx_cite ltx_citemacro_cite">
      Bai et al. (
      <a class="ltx_ref" href="#bib.bib2" title="">
       2023
      </a>
      )
     </cite>
     for evaluation.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A2">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix B
   </span>
   Details of the Smurfs
  </h2>
  <figure class="ltx_figure" id="A2.F6">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="156" id="A2.F6.g1" src="/html/2405.05955/assets/x6.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 6:
    </span>
    Details of the executor agent working process
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="A2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.1
    </span>
    Memory management of Smurfs
   </h3>
   <div class="ltx_para" id="A2.SS1.p1">
    <p class="ltx_p" id="A2.SS1.p1.1">
     When each agent performs a task, the prompt information they receive varies. We refer to this as the memory management system of Smurfs. As illustrated in Figure
     <a class="ltx_ref" href="#A1.F5" title="Figure 5 ‣ Appendix A Pilot Study Settings ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       5
      </span>
     </a>
     , information is primarily divided into four categories. The first category is local memory, consisting of the thought and answer from the previous steps. When backtracking happens, the thought and answer of the backtracking step will be popped out from the local memory. The second category is global memory, which stores all the previous steps history including those that have been backtracked. The third category is the tool list, similar to other tool-using frameworks, storing brief information about all accessible tools. Lastly, the tool document provides detailed usage information like the parameters infomation for each tool listed.
    </p>
   </div>
   <div class="ltx_para" id="A2.SS1.p2">
    <p class="ltx_p" id="A2.SS1.p2.1">
     As illustrated in Figure
     <a class="ltx_ref" href="#S2.F3" title="Figure 3 ‣ 2.2 Tools Using and Planning in LLMs ‣ 2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     , each agent has its own memory context. The Executor Agent’s memory will be discussed in the next section. The Answer Agent takes in the subtask, the tool response and the local memory to generate the answers to the subtask using all the local memory so far. Then the thought and answer of this step will be added to the local memory and the global memory. The Verifier Agent takes in the subtask, the answer from the Answer Agent and return the status of the subtask. If the status is solved, then the system will return the subtask’s answer and process to the next subtask; If the status is pending, the Verifier Agent will give hint to the Executor Agent to process to the next step. When the max steps have been reached for a subtask, the answer agent will generate the answer for the subtask using the global memory and process to the next subtask.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.2
    </span>
    Executor Agent Workflow
   </h3>
   <div class="ltx_para" id="A2.SS2.p1">
    <p class="ltx_p" id="A2.SS2.p1.1">
     Next, let’s illustrate how memory is accessed during the Executor Agent’s working process, as shown in Figure
     <a class="ltx_ref" href="#A2.F6" title="Figure 6 ‣ Appendix B Details of the Smurfs ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     . When a subtask arises, the Executor Agent first receives the hint (task instruction) from the Verifier Agent, the subtask, the available tool list to generate the thought(a strategy for task execution) at this step. It then takes in the subtask, the thought and the tool list to generate an action with a specific action name. Subsequently, it takes in the subtask, the thought, the tool document of the chosen action and the local memory to generate the input of the chosen action.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.3
    </span>
    Backtracking Mechanism
   </h3>
   <div class="ltx_para" id="A2.SS3.p1">
    <p class="ltx_p" id="A2.SS3.p1.1">
     Smurfs uses a backtracking mechanism similar to DFSDT
     <cite class="ltx_cite ltx_citemacro_cite">
      Qin et al. (
      <a class="ltx_ref" href="#bib.bib24" title="">
       2024
      </a>
      )
     </cite>
     . As illustrated in Figure
     <a class="ltx_ref" href="#S2.F3" title="Figure 3 ‣ 2.2 Tools Using and Planning in LLMs ‣ 2 Motivation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     , when tool responses error, the system will delete the tool from the tool list and retry this step. However, when all tools have reported error or the model thinks the available tools can’t solve the subtask at this step, the system will pop out the latest local memory and the latest step, delete the tool used by the popped out step from the tool list of the current step and retry the the other solution path.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A3">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix C
   </span>
   Prompts for multi-agent implementation
  </h2>
  <div class="ltx_para" id="A3.p1">
   <p class="ltx_p" id="A3.p1.1">
    Prompts used by each agent and their example outputs are shown in Figure
    <a class="ltx_ref" href="#A3.F7" title="Figure 7 ‣ Appendix C Prompts for multi-agent implementation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      7
     </span>
    </a>
    to
    <a class="ltx_ref" href="#A3.F13" title="Figure 13 ‣ Appendix C Prompts for multi-agent implementation ‣ Smurfs: Leveraging Multiple Proficiency Agents with Context-Efficiency for Tool Planning">
     <span class="ltx_text ltx_ref_tag">
      13
     </span>
    </a>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="A3.F7">
   <svg class="ltx_picture" height="600.55" id="A3.F7.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,600.55) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 582.5 C 0 585.76 2.64 588.41 5.91 588.41 L 650.23 588.41 C 653.49 588.41 656.13 585.76 656.13 582.5 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 582.5 C 1.97 584.68 3.73 586.44 5.91 586.44 L 650.23 586.44 C 652.4 586.44 654.16 584.68 654.16 582.5 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 578.41)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 115.41 22.14 C 117.05 22.14 118.37 20.82 118.37 19.19 L 118.37 2.95 C 118.37 1.32 117.05 0 115.41 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 115.41 22.14 C 117.05 22.14 118.37 20.82 118.37 19.19 L 118.37 2.95 C 118.37 1.32 117.05 0 115.41 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Planning Agent
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="554.89" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F7.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          You need to decompose a complex user’s question into some simple sub-tasks and let the model execute it step by step.
Please note that:
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          1. You should only decompose this complex user’s question into some simple sub-tasks which can be executed easily by using a single tool.
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          2. Each simple subtask should be expressed into natural language.
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          3. Each subtask should contain the necessary information from the original question and should be complete, explicit and self-consistent.
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          4. You must ONLY output in a parsible JSON format. An example output looks like:
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          ”’
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          {"Tasks": ["Task 1", "Task 2", …]}
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          ”’
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          This is the user’s question: I’m planning a trip to Turkey and need information about postal codes in Istanbul. Can you provide me with the postal code and district for Istanbul province with plate number 34? Additionally, I would like to know if there are any transit agencies available in Istanbul. Please fetch their names and contact numbers.
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          Output: "Tasks": ["Find the postal codes and districts for plate number 34 in Istanbul.", "Search for transit agencies and their contact numbers in Istanbul."]
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          This is the user’s question: I recently moved to a new address and I need to update my information. Can you retrieve my address details using the postal code 75094080? Additionally, I would like to know the companies that offer shipping services.
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.13">
          Output: {"Tasks": ["retrieve the address details using the postal code 75094080", "search for companies that offer shipping services to my address"]}
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.14">
          This is the user’s question: {question}
         </span>
         <span class="ltx_p" id="A3.F7.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.15">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F7.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F7.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F7.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F7.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F7.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F7.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          {"Tasks": ["Determine the postal code and district for Istanbul province with plate number 34.", "Find out if there are any transit agencies in Istanbul.", "Get the names of the transit agencies in Istanbul.", "Obtain the contact numbers for the transit agencies in Istanbul."] }
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 7:
    </span>
    An example prompt for task decomposition in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F8">
   <svg class="ltx_picture" height="532.82" id="A3.F8.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,532.82) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 517.47 C 0 520.73 2.64 523.37 5.91 523.37 L 650.23 523.37 C 653.49 523.37 656.13 520.73 656.13 517.47 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 517.47 C 1.97 519.64 3.73 521.41 5.91 521.41 L 650.23 521.41 C 652.4 521.41 654.16 519.64 654.16 517.47 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 513.37)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 16.5 C 0 18.13 1.32 19.45 2.95 19.45 L 89.09 19.45 C 90.72 19.45 92.04 18.13 92.04 16.5 L 92.04 2.95 C 92.04 1.32 90.72 0 89.09 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 16.5 C 0 18.13 1.32 19.45 2.95 19.45 L 89.09 19.45 C 90.72 19.45 92.04 18.13 92.04 16.5 L 92.04 2.95 C 92.04 1.32 90.72 0 89.09 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 4.92)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Tool Check
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="489.85" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F8.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          As a powerful language model, you’re equipped to answer user’s question with accumulated knowledge.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          However, in some cases, you need to use external APIs to answer accurately.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          Thus, you need to check whether the user’s question requires you to call an external API to solve it.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          Here are some tips to help you check:
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          1. If the user’s question requires real-time information, since your knowledge base isn’t updated in real-time, any such question will demand an API call.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          2. If you need to obtain information (e.g., ID, name, phone number, geographical location, rank, etc.), you need to call the database APIs if you are not sure.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          3. If the question demand a database search or internet research to generate an answer, this is another situation where an API call is necessary.
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          If need, please output ’YES’; If not, please output ’NO’
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          You need to give reasons first and then decide whether to keep it or not. You must only output in a parsible JSON format. Two example outputs look like:
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          Example 1: {"Reason": "The reason why you think you do not need to call an external API to solve the user’s question", "Choice": "No"}
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          Example 2: {"Reason": "The reason why you think you need to call an external API to solve the user’s question", "Choice": "Yes"}
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.13">
          This is the user’s question:
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.14">
          {question}
         </span>
         <span class="ltx_p" id="A3.F8.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.15">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F8.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F8.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F8.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F8.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F8.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F8.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          {"Reason": "To determine the postal code and district for a specific location based on a plate number, we would typically need to access a combination of databases, including vehicle registration databases and postal code databases. Since we do not have direct access to these databases, we will need to call external APIs to retrieve this information. Therefore, the user’s question requires an API call.", "Choice": "Yes"}
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 8:
    </span>
    An example prompt for tool check in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F9">
   <svg class="ltx_picture" height="351.33" id="A3.F9.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,351.33) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 333.28 C 0 336.54 2.64 339.19 5.91 339.19 L 650.23 339.19 C 653.49 339.19 656.13 336.54 656.13 333.28 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 333.28 C 1.97 335.46 3.73 337.22 5.91 337.22 L 650.23 337.22 C 652.4 337.22 654.16 335.46 654.16 333.28 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 329.19)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 176.18 22.14 C 177.81 22.14 179.13 20.82 179.13 19.19 L 179.13 2.95 C 179.13 1.32 177.81 0 176.18 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 176.18 22.14 C 177.81 22.14 179.13 20.82 179.13 19.19 L 179.13 2.95 C 179.13 1.32 177.81 0 176.18 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Executor Agent: Thought
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="305.67" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F9.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          You need to analyse the previous execution history and generate your internal reasoning and thoughts on the task, and how you plan to solve it based on the current attempts.
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          Do not output thought that is too long. Output in 2-3 sentences is OK.
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          This is the user’s task:
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          {task}
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          This is the Tool List:
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          {functions}
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          This is the previous execution history:
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          {messages}
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          This is the hint comes from the evaluator:
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          {hint}
         </span>
         <span class="ltx_p" id="A3.F9.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F9.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F9.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F9.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F9.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F9.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F9.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          Looking at the task, the user wants to find the postal codes and districts for the number plate 34 in Istanbul. I have a tool that provides Turkish plates, and since Istanbul is in Turkey, this tool might provide the needed information. I will proceed to use the ’Logistics:Turkey Postal Codes:il’ tool to accomplish the task.
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 9:
    </span>
    An example prompt for tool check in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F10">
   <svg class="ltx_picture" height="352.71" id="A3.F10.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,352.71) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 334.82 C 0 338.08 2.64 340.73 5.91 340.73 L 650.23 340.73 C 653.49 340.73 656.13 338.08 656.13 334.82 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 334.82 C 1.97 336.99 3.73 338.76 5.91 338.76 L 650.23 338.76 C 652.4 338.76 654.16 336.99 654.16 334.82 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 330.72)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 164.65 21.99 C 166.28 21.99 167.6 20.67 167.6 19.04 L 167.6 2.95 C 167.6 1.32 166.28 0 164.65 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 164.65 21.99 C 166.28 21.99 167.6 20.67 167.6 19.04 L 167.6 2.95 C 167.6 1.32 166.28 0 164.65 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Executor Agent: Action
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="307.2" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F10.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          This is the user’s question:
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          {question}
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          These are the tools you can select to solve the question:
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          Tool List:
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          {Tool_list}
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          Please note that:
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          1. You should only chooce one tool from the Tool List to solve this question.
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          2. You must ONLY output the ID of the tool and your reason for choosing it in a parsible JSON format. An example output looks like:
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          ”’
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          Example: {"ID": ID of the tool, "Reason": The reason for choosing the tool}
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          ”’
         </span>
         <span class="ltx_p" id="A3.F10.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.13">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F10.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F10.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F10.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F10.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F10.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F10.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          {’ID’: ’1’, ’Reason’: ’This tool provides information about Turkish plates and postal codes, which can be applied to the given task of finding the postal codes and districts for the number plate 34 in Istanbul.’}
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 10:
    </span>
    An example prompt for action generation in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F11">
   <svg class="ltx_picture" height="435.74" id="A3.F11.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,435.74) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 417.84 C 0 421.1 2.64 423.75 5.91 423.75 L 650.23 423.75 C 653.49 423.75 656.13 421.1 656.13 417.84 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 417.84 C 1.97 420.02 3.73 421.78 5.91 421.78 L 650.23 421.78 C 652.4 421.78 654.16 420.02 654.16 417.84 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 413.75)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 202.7 21.99 C 204.33 21.99 205.66 20.67 205.66 19.04 L 205.66 2.95 C 205.66 1.32 204.33 0 202.7 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 202.7 21.99 C 204.33 21.99 205.66 20.67 205.66 19.04 L 205.66 2.95 C 205.66 1.32 204.33 0 202.7 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Executor Agent: Action Input
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="390.23" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F11.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          Given a user’s question and a API tool documentation, you need to output parameters according to the API tool documentation to successfully call the API to solve the user’s question.
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          Please note that:
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          1. The Example in the API tool documentation can help you better understand the use of the API.
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          2. Ensure the parameters you output are correct. The output must contain the required parameters, and can contain the optional parameters based on the question. If no paremters in the required parameters and optional parameters, just leave it as {}
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          3. If the user’s question mentions other APIs, you should ONLY consider the API tool documentation I give and do not consider other APIs.
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          4. The question may have dependencies on answers of other questions, so we will provide logs of previous questions and answers for your reference.
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          5. You must ONLY output in a parsible JSON Format. The example output looks like:
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          ”’
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          Example: {"keyword": "Artificial Intelligence", "language": "English"}
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          ”’
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          There are logs of previous questions and answers:
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.13">
          previous_log
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.14">
          This is the current user’s question: question
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.15">
          This is API tool documentation: api_dic
         </span>
         <span class="ltx_p" id="A3.F11.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.16">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F11.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F11.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F11.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F11.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F11.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F11.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          {"il": 34}
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 11:
    </span>
    An example prompt for action input generation in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F12">
   <svg class="ltx_picture" height="351.33" id="A3.F12.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,351.33) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 333.44 C 0 336.7 2.64 339.34 5.91 339.34 L 650.23 339.34 C 653.49 339.34 656.13 336.7 656.13 333.44 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 333.44 C 1.97 335.61 3.73 337.37 5.91 337.37 L 650.23 337.37 C 652.4 337.37 654.16 335.61 654.16 333.44 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 329.34)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 106.11 21.99 C 107.74 21.99 109.07 20.67 109.07 19.04 L 109.07 2.95 C 109.07 1.32 107.74 0 106.11 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.04 C 0 20.67 1.32 21.99 2.95 21.99 L 106.11 21.99 C 107.74 21.99 109.07 20.67 109.07 19.04 L 109.07 2.95 C 109.07 1.32 107.74 0 106.11 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Answer Agent
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="305.82" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F12.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          You should answer the question based on the response output by the API tool.
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          Please note that:
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          1. Answer the question in natural language based on the API response reasonably and effectively.
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          2. The user cannot directly get API response, so you need to make full use of the response and give the information in the response that can satisfy the user’s question in as much detail as possible.
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          3. Do not output answer that is too long. Output in 3-6 sentences is OK.
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          This is the user’s question:
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          {question}
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          This is the API response:
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          {call_result}
         </span>
         <span class="ltx_p" id="A3.F12.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F12.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F12.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F12.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F12.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F12.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F12.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          The postal codes and districts for the plate number 34 in Istanbul include: Adalar district with postal code 34975 for Burgazada area, 34970 for Büyükada area, 34973 for Heybeliada area and 34977 for Kınalıada area. There is also the Arnavutköy district with postal code 34275 for areas like Anadolu, Arnavutköy Merkez, İmrahor, İslambey, Mustafa Kemal Paşa, Nenehatun, and Yavuz Selim. Another area in Arnavutköy district is Baklalı with postal code 34277.
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 12:
    </span>
    An example prompt for Answer Agent in the framework.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A3.F13">
   <svg class="ltx_picture" height="419.28" id="A3.F13.pic1" overflow="visible" version="1.1" width="656.13">
    <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,419.28) matrix(1 0 0 -1 0 0)">
     <g fill="#000000" fill-opacity="1.0">
      <path d="M 0 5.91 L 0 401.24 C 0 404.5 2.64 407.14 5.91 407.14 L 650.23 407.14 C 653.49 407.14 656.13 404.5 656.13 401.24 L 656.13 5.91 C 656.13 2.64 653.49 0 650.23 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g fill="#FFFFFF" fill-opacity="1.0">
      <path d="M 1.97 5.91 L 1.97 401.24 C 1.97 403.41 3.73 405.17 5.91 405.17 L 650.23 405.17 C 652.4 405.17 654.16 403.41 654.16 401.24 L 654.16 5.91 C 654.16 3.73 652.4 1.97 650.23 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
      </path>
     </g>
     <g transform="matrix(1.0 0.0 0.0 1.0 15 397.14)">
      <g class="ltx_nestedsvg" fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="matrix(1 0 0 1 0 0)">
       <g fill="#FFFFFF" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 105.69 22.14 C 107.32 22.14 108.64 20.82 108.64 19.19 L 108.64 2.95 C 108.64 1.32 107.32 0 105.69 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#000000" fill-opacity="1.0">
        <path d="M 0 2.95 L 0 19.19 C 0 20.82 1.32 22.14 2.95 22.14 L 105.69 22.14 C 107.32 22.14 108.64 20.82 108.64 19.19 L 108.64 2.95 C 108.64 1.32 107.32 0 105.69 0 L 2.95 0 C 1.32 0 0 1.32 0 2.95 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 11.81 7.61)">
        <text color="#000000" transform="matrix(1 0 0 -1 0 0)">
         Verifier Agent
        </text>
       </g>
      </g>
     </g>
     <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
      <foreignobject color="#000000" height="373.62" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="612.83">
       <span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="A3.F13.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2" style="width:442.9pt;">
        <span class="ltx_para" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2">
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1">
          <span class="ltx_text ltx_font_bold" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.1.1">
           Prompt:
          </span>
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.2">
          An agent is trying to solve the query proposed by the user.
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.3">
          You need to evaluate whether the given query has been completed reasonably and accurately. If so, summarize the solution to the user. If not, summarize the current progress, and propose what is missing.
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.4">
          You response contains following elements:
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.5">
          Speak: (your words to the agent if the task is pending, or a complete answer based on the full execution log to the user if the task is finished)
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.6">
          Status: (0 or 1. 0 for pending and 1 for finished)
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.7">
          You must only output in a parsible JSON format. Two example outputs look like:
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.8">
          Example 1: {"Speak": "answer based on the full execution log to the user", "Status": "1"}
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.9">
          Example 2: {"Speak": "your words to the group if the task is pending", "Status": "0"}
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.10">
          This is the answer from the previous execution result:
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.11">
          {answer}
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.12">
          This is the original question: {question}
         </span>
         <span class="ltx_p" id="A3.F13.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.p2.13">
          Output:
         </span>
        </span>
        <span class="ltx_para ltx_noindent" id="A3.F13.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
         <svg class="ltx_picture" height="23.62" id="A3.F13.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="652.75">
          <g fill="#000000" fill-opacity="1.0" stroke="#000000" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-width="0.4pt" transform="translate(0,23.62) matrix(1 0 0 -1 0 0) translate(19.96,0) translate(0,11.81)">
           <path d="M -19.68 0 L 632.51 0" style="fill:none">
           </path>
          </g>
         </svg>
        </span>
        <span class="ltx_para" id="A3.F13.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3">
         <span class="ltx_p" id="A3.F13.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1">
          <span class="ltx_text ltx_font_bold" id="A3.F13.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.1.1">
           Example Output:
          </span>
         </span>
         <span class="ltx_p" id="A3.F13.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.2.p3.2">
          {"Speak": "The postal codes and districts for plate number 34 in Istanbul include: Adalar district with postal code 34975 for Burgazada area, 34970 for Büyükada area, 34973 for Heybeliada area and 34977 for Kınalıada area. In addition, Arnavutköy district has postal code 34275 for areas such as Anadolu, Arnavutköy Merkez, İmrahor, İslambey, Mustafa Kemal Paşa, Nenehatun, and Yavuz Selim. Another part of Arnavutköy district, Baklalı, has the postal code 34277.", "Status": "1"}
         </span>
        </span>
       </span>
      </foreignobject>
     </g>
    </g>
   </svg>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 13:
    </span>
    An example prompt for Verifier Agent in the framework.
   </figcaption>
  </figure>
  <div class="ltx_pagination ltx_role_newpage">
  </div>
 </section>
</article>
