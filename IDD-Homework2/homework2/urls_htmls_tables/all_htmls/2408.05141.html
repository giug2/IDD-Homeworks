<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning</title>
<!--Generated on Mon Sep  2 10:54:58 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Large Language Models,  Language Generation,  Retrieval-Augmented Generation,  Reasoning" lang="en" name="keywords"/>
<base href="/html/2408.05141v3/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S1" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2.SS1" title="In 2. Related Works ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Pre-retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2.SS2" title="In 2. Related Works ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2.SS3" title="In 2. Related Works ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Post-retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2.SS4" title="In 2. Related Works ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.4 </span>Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S3" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>CRAG Benchmark</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>System Design</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS1" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Web Page Processing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS2" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Attribute Predictor</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS3" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Numerical Calculator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS4" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>LLM Knowledge Extractor</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS5" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Knowledge Graph Module</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS6" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Reasoning Module</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS7" title="In 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7 </span>Handling Corner Cases</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.SS1" title="In 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Detailed Analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.SS2" title="In 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.SS3" title="In 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Analysis For Private Evaluation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S6" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A1" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Hyper-Parameters of the Final System</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A2" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Question Identification</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A3" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Table Transformation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4" title="In A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Prompt Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS1" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Prompt for Attribute Predictor</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS2" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Prompt for Numerical Calculator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS3" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.3 </span>Prompt for LLM Knowledge Extractor</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS4" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.4 </span>Prompt for KG Module</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS5" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.5 </span>Prompt for Reasoning Module</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS6" title="In Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.6 </span>Prompt for Backup Summarization Agent</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\useunder</span>
<p class="ltx_p" id="p1.2"><span class="ltx_text ltx_ulem_uline" id="p1.2.1"></span><span class="ltx_ERROR undefined" id="p1.2.2">\ul</span></p>
</div>
<h1 class="ltx_title ltx_title_document">A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ye Yuan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">State Key Laboratory of Multimedia Information Processing</span><span class="ltx_text ltx_affiliation_institution" id="id2.2.id2">School of Computer Science</span><span class="ltx_text ltx_affiliation_institution" id="id3.3.id3">PKU-Anker Embodied AI Lab</span><span class="ltx_text ltx_affiliation_institution" id="id4.4.id4">Peking University</span><span class="ltx_text ltx_affiliation_city" id="id5.5.id5">100871, Beijing</span><span class="ltx_text ltx_affiliation_country" id="id6.6.id6">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yuanye_pku@pku.edu.cn">yuanye_pku@pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chengwu Liu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">State Key Laboratory of Multimedia Information Processing</span><span class="ltx_text ltx_affiliation_institution" id="id8.2.id2">School of Computer Science</span><span class="ltx_text ltx_affiliation_institution" id="id9.3.id3">PKU-Anker Embodied AI Lab</span><span class="ltx_text ltx_affiliation_institution" id="id10.4.id4">Peking University</span><span class="ltx_text ltx_affiliation_city" id="id11.5.id5">100871, Beijing</span><span class="ltx_text ltx_affiliation_country" id="id12.6.id6">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:liuchengwu@pku.edu.cn">liuchengwu@pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jingyang Yuan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">State Key Laboratory of Multimedia Information Processing</span><span class="ltx_text ltx_affiliation_institution" id="id14.2.id2">School of Computer Science</span><span class="ltx_text ltx_affiliation_institution" id="id15.3.id3">PKU-Anker Embodied AI Lab</span><span class="ltx_text ltx_affiliation_institution" id="id16.4.id4">Peking University</span><span class="ltx_text ltx_affiliation_city" id="id17.5.id5">100871, Beijing</span><span class="ltx_text ltx_affiliation_country" id="id18.6.id6">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yuanjy@pku.edu.cn">yuanjy@pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Gongbo Sun
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">School of Computer, Data &amp; Information Sciences</span><span class="ltx_text ltx_affiliation_institution" id="id20.2.id2">University of Wisconsin-Madison</span><span class="ltx_text ltx_affiliation_city" id="id21.3.id3">Madison, WI</span><span class="ltx_text ltx_affiliation_country" id="id22.4.id4">United States</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:gsun43@wisc.edu">gsun43@wisc.edu</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Siqi Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id23.1.id1">State Key Laboratory of Multimedia Information Processing</span><span class="ltx_text ltx_affiliation_institution" id="id24.2.id2">School of Computer Science</span><span class="ltx_text ltx_affiliation_institution" id="id25.3.id3">PKU-Anker Embodied AI Lab</span><span class="ltx_text ltx_affiliation_institution" id="id26.4.id4">Peking University</span><span class="ltx_text ltx_affiliation_city" id="id27.5.id5">100871, Beijing</span><span class="ltx_text ltx_affiliation_country" id="id28.6.id6">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xiaolilsq@stu.pku.edu.cn">xiaolilsq@stu.pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ming Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id29.1.id1">State Key Laboratory of Multimedia Information Processing</span><span class="ltx_text ltx_affiliation_institution" id="id30.2.id2">School of Computer Science</span><span class="ltx_text ltx_affiliation_institution" id="id31.3.id3">PKU-Anker Embodied AI Lab</span><span class="ltx_text ltx_affiliation_institution" id="id32.4.id4">Peking University</span><span class="ltx_text ltx_affiliation_city" id="id33.5.id5">100871, Beijing</span><span class="ltx_text ltx_affiliation_country" id="id34.6.id6">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:mzhang_cs@pku.edu.cn">mzhang_cs@pku.edu.cn</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id35.id1">Retrieval-augmented generation (RAG) is a framework enabling large language models (LLMs) to enhance their accuracy and reduce hallucinations by integrating external knowledge bases.
In this paper, we introduce a hybrid RAG system enhanced through a comprehensive suite of optimizations that significantly improve retrieval quality, augment reasoning capabilities, and refine numerical computation ability.
We refined the text chunks and tables in web pages, added attribute predictors to reduce hallucinations, conducted LLM Knowledge Extractor and Knowledge Graph Extractor, and finally built a reasoning strategy with all the references.
We evaluated our system on the CRAG dataset through the Meta CRAG KDD Cup 2024 Competition. Both the local and online evaluations demonstrate that our system significantly enhances complex reasoning capabilities. In local evaluations, we have significantly improved accuracy and reduced error rates compared to the baseline model, achieving a notable increase in scores. In the meanwhile, we have attained outstanding results in online assessments, demonstrating the performance and generalization capabilities of the proposed system.
The source code for our system is released in <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://gitlab.aicrowd.com/shizueyy/crag-new" style="color:#61FFE0;" title="">https://gitlab.aicrowd.com/shizueyy/crag-new</a>.</p>
</div>
<div class="ltx_keywords">Large Language Models, Language Generation, Retrieval-Augmented Generation, Reasoning
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>KDDCup Workshop of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining; August 25–29, 2024; Barcelona, Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>KDDCup Workshop of SIGKDD ’24: KDDCup Workshop of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining, August 25–29, 2024, Barcelona, Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span></span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Natural language generation</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Information extraction</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Pre-trained large language models (LLMs), such as Llama3 <cite class="ltx_cite ltx_citemacro_citep">(Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib10" title="">2024</a>)</cite>, GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Team, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib61" title="">2024</a>)</cite>, Mistral-7B <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib25" title="">2023</a>)</cite>, Gemini family <cite class="ltx_cite ltx_citemacro_citep">(Team et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib60" title="">2024</a>)</cite> and Qwen-2 <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib70" title="">2024b</a>)</cite>, have demonstrated impressive advancements in the field of Natural Language Processing (NLP), notably in the Question-Answering task. This success is built on foundational knowledge, including factual knowledge <cite class="ltx_cite ltx_citemacro_citep">(Petroni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib46" title="">2019</a>)</cite>, relational knowledge <cite class="ltx_cite ltx_citemacro_citep">(Safavi and Koutra, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib51" title="">2021</a>)</cite>, and linguistic knowledge <cite class="ltx_cite ltx_citemacro_citep">(Peters et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib45" title="">2018</a>; Goldberg, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib16" title="">2019</a>)</cite>, acquired by LLMs through exposure to the large scale internet corpus during training <cite class="ltx_cite ltx_citemacro_citep">(AlKhamissi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib2" title="">2022</a>)</cite>. Prior studies have shown the ability of LLMs in knowledge internalization and generation<cite class="ltx_cite ltx_citemacro_citep">(Team, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib61" title="">2024</a>; Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib41" title="">2022</a>; AlKhamissi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib2" title="">2022</a>; Shen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib55" title="">2024</a>; Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib74" title="">2024</a>)</cite>, which knowledge is implicitly stored within model’s parameters and retrieved during the generation process.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">These models typically undergo a two-stage training process: pre-training and post-training. Pre-training uses large-scale, task-agnostic data, and often needs trillions of tokens <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib70" title="">2024b</a>; Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib10" title="">2024</a>; Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib25" title="">2023</a>; Team, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib61" title="">2024</a>)</cite>, with the objective of next token prediction. However, models emerging from pre-training are not aligned with human values and can produce harmful, biased, or toxic content <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib41" title="">2022</a>)</cite>. To mitigate these issues, a post-training process is necessary, where techniques like supervised fine-tuning (SFT), Proximal Policy Optimization (PPO) <cite class="ltx_cite ltx_citemacro_citep">(Schulman et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib53" title="">2017</a>)</cite> and Direct Preference Optimization (DPO) <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib48" title="">2024</a>)</cite> are applied <cite class="ltx_cite ltx_citemacro_citep">(Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib10" title="">2024</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib70" title="">2024b</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Despite these advancements, under the paradigm of pre-training and fine-tuning, LLMs still face three critical challenges <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib71" title="">2024a</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib67" title="">2024</a>; Huang and Huang, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib20" title="">2024</a>)</cite>:</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text ltx_font_bold" id="S1.p4.1.1">1) Lack of domain expertise knowledge</span>: LLMs may struggle with specialized domains like laws and medicine due to limited exposure during pre-training. Internal knowledge along learned as parameters is insufficient to comprehensively address complex legal or medical issues <cite class="ltx_cite ltx_citemacro_citep">(Long et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib35" title="">2024</a>)</cite>.
Fine-tuning the model’s weights in these areas requires external computational resources, which is expensive and time-consuming <cite class="ltx_cite ltx_citemacro_citep">(Long et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib35" title="">2024</a>; Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib41" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1"><span class="ltx_text ltx_font_bold" id="S1.p5.1.1">2) Hallucination during generation</span>: Model can generate factually incorrect or inconsistent information <cite class="ltx_cite ltx_citemacro_citep">(Team, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib61" title="">2024</a>)</cite>. For instance, when asked “Which number is larger, 3.11 or 3.9?”, most LLMs, including GPT-4, incorrectly respond with 3.11 ¿ 3.9. The hallucination may accumulate progressively when the model incorporates prompting techniques like Chain of Thought (CoT) <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib66" title="">2023</a>)</cite>, a method used to augment LLMs reasoning ability <cite class="ltx_cite ltx_citemacro_citep">(Vu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib62" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1"><span class="ltx_text ltx_font_bold" id="S1.p6.1.1">3) Difficulty integrating time-sensitive information</span>: LLMs often lack up-to-date information since the knowledge stored within the model parameters is static and does not undergo synchronous updates over time <cite class="ltx_cite ltx_citemacro_citep">(Vu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib62" title="">2023</a>)</cite>, limiting their application in rapidly changing fields like sports and finance. These fields usually require real-time data processing such as querying the current price of a specific stock or the scores for a table tennis player at the Paris 2024 Olympics Games. However, previous research <cite class="ltx_cite ltx_citemacro_citep">(Vu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib62" title="">2023</a>)</cite> indicates that LLMs like GPT-4 demonstrate an accuracy of less than 15% when answering both slow and fast-changing questions.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">To address these issues, the Retrieval-Augmented Generation (RAG) approach has been introduced as a non-weight update approach that leverages external knowledge bases. A basic RAG system consists of two parts: a retriever and a generator. Relevant text documents are extracted from external knowledge sources and used as conditioning inputs alongside the query during generation <cite class="ltx_cite ltx_citemacro_citep">(Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib21" title="">2021</a>)</cite>. The retriever accurately computes the similarity between user queries and external factual knowledge using metrics such as cosine similarity. The top most relevant sentences are extracted from external databases and combined with the inputs for the generator. This process enables a general LLM to acquire domain-specific knowledge from a corresponding domain database without sacrificing its generalization capabilities. Additionally, by combining retrieved facts with input queries, the hallucination problem is mitigated, leading to more accurate and informed responses. Furthermore, by maintaining an up-to-date database, time-dependent information can be seamlessly integrated into the LLMs. Consequently, RAG provides an effective approach for enhancing the capability of LLMs to generate domain-specific, factual, and time-sensitive responses.</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.2">In this paper, we introduce a novel Retrieval-Augmented Generation (RAG) system designed for real-world applications. Our system was evaluated on the CRAG benchmark <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib71" title="">2024a</a>)</cite>, achieving the third position in Task 1 and securing first place for <math alttext="5" class="ltx_Math" display="inline" id="S1.p8.1.m1.1"><semantics id="S1.p8.1.m1.1a"><mn id="S1.p8.1.m1.1.1" xref="S1.p8.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S1.p8.1.m1.1b"><cn id="S1.p8.1.m1.1.1.cmml" type="integer" xref="S1.p8.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p8.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S1.p8.1.m1.1d">5</annotation></semantics></math> out of <math alttext="7" class="ltx_Math" display="inline" id="S1.p8.2.m2.1"><semantics id="S1.p8.2.m2.1a"><mn id="S1.p8.2.m2.1.1" xref="S1.p8.2.m2.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S1.p8.2.m2.1b"><cn id="S1.p8.2.m2.1.1.cmml" type="integer" xref="S1.p8.2.m2.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p8.2.m2.1c">7</annotation><annotation encoding="application/x-llamapun" id="S1.p8.2.m2.1d">7</annotation></semantics></math> question types in Task 2. The rest of the paper is structured as follows. In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S2" title="2. Related Works ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a>, we provide an overview of related work in the context of RAG system design. We introduce the CRAG benchmark in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S3" title="3. CRAG Benchmark ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a>. Our RAG system design is detailed in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4" title="4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a> and the complete system architecture is illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.F1" title="Figure 1 ‣ 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">1</span></a>. The performance of our system is reported and discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5" title="5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a>. Finally, we conclude the paper in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S6" title="6. Conclusion ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">6</span></a>, including a <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#Sx1" title="Discussions ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning">Discussion Section</a> of potential improvements for future iterations of our system.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Works</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Numerous techniques have been proposed to address the aforementioned issues.
For example, formal verification can help to reduce hallucination and output the verified reasoning process<cite class="ltx_cite ltx_citemacro_citep">(Xiong et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib68" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib63" title="">2023b</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib33" title="">2023b</a>)</cite>. Moreover, there are some efficient training methods<cite class="ltx_cite ltx_citemacro_citep">(Shen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib54" title="">2022</a>; Pan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib43" title="">2023</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib42" title="">2024</a>)</cite> that can help the model adapt to domain-specific knowledge.
While numerous approaches have been proposed in the literature, the majority are tailored to address specific issues within a limited range of scenarios, making them unsuitable for direct application to CRAG tasks.
We present a compilation of recent research to highlight the diverse design choices within the broader RAG research community.
Drawing inspiration from recent advancements in the field, we have developed a novel design that integrates multiple strategies.
</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">We built upon previous research <cite class="ltx_cite ltx_citemacro_citep">(Huang and Huang, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib20" title="">2024</a>; Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib13" title="">2023</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib67" title="">2024</a>; Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib74" title="">2024</a>)</cite> to structure the conventional RAG workflow into four phases: pre-retrieval, retrieval, post-retrieval, and generation.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Pre-retrieval</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">The pre-retrieval phase involves indexing, query manipulation, and data modification.
That is, compiling and indexing external knowledge sources to enhance the efficiency of subsequent searching execution, refining the query to better match the external data distribution and modifying data sources to create a coherent representation that encapsulates relevant knowledge for further reasoning.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p2.1.1">Indexing:</span>
Text indexing has emerged as a prominent area of research within the field of data mining, leading to the development of numerous methodologies.
Traditional indexing methods include the inverted index <cite class="ltx_cite ltx_citemacro_citep">(Zobel and Moffat, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib75" title="">2006</a>)</cite>, suffix tree <cite class="ltx_cite ltx_citemacro_citep">(McCreight, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib38" title="">1976</a>)</cite>, and term frequency-inverse document frequency (TF-IDF) index <cite class="ltx_cite ltx_citemacro_citep">(Sparck Jones, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib57" title="">1972</a>)</cite>.
These indexing methods utilize term frequency so that they may neglect the semantic information inherent in the text.
Recent indexing methods employ language models such as BERT <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib8" title="">2018</a>)</cite> and Sentence-T5 <cite class="ltx_cite ltx_citemacro_citep">(Ni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib40" title="">2021</a>)</cite> to encode text into vectors within latent space.
These vectors are used to construct vector indexes <cite class="ltx_cite ltx_citemacro_citep">(Douze et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib9" title="">2024</a>)</cite> that enhance similarity search through techniques including product quantization (PQ) <cite class="ltx_cite ltx_citemacro_citep">(Jegou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib24" title="">2010</a>)</cite>, Hierarchical Navigable Small World (HNSW) <cite class="ltx_cite ltx_citemacro_citep">(Malkov and Yashunin, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib37" title="">2018</a>)</cite>, and Navigating Spreading-out Graph (NSG) <cite class="ltx_cite ltx_citemacro_citep">(Fu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib12" title="">2017</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.1">Query Manipulation:</span> The manipulation algorithms discussed below contribute to developing an improved metric for evaluating the similarity between user queries and external data.
It is desirable to formulate a fully specified, context-independent query that effectively articulates user intent and aligns with the distribution of external knowledge sources.
Early research primarily utilizes an n-gram language model derived from hundreds of millions of web search sessions <cite class="ltx_cite ltx_citemacro_citep">(Jansen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib23" title="">2009</a>)</cite> or employs a pointer-generator network to improve referring expression resolution.
Recent studies have leveraged the few-shot or zero-shot learning capabilities of language models that utilize a small set of manually created rewriting labels <cite class="ltx_cite ltx_citemacro_citep">(Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib72" title="">2020</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib73" title="">2022</a>)</cite>.
In contrast to traditional query rewriting, which follows a “query in, query out” format, recent query manipulation approaches utilizing LLMs allow for “query in, passage out” approaches <cite class="ltx_cite ltx_citemacro_citep">(Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib73" title="">2022</a>; Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib36" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p4">
<p class="ltx_p" id="S2.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p4.1.1">Data Modification:</span> Data extracted from original external knowledge sources may contain elements that are not conducive to the reasoning process of LLMs, such as redundant HTML tags found in web pages.
However, these processes are closely linked to the format and distribution of external knowledge sources and often involve tedious text normalization procedures that are largely unrelated to the reasoning process, including tokenization, stemming, and the removal of stop words.
Prior research has examined the use of substrings as document identifiers to improve search capabilities <cite class="ltx_cite ltx_citemacro_citep">(Bevilacqua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib5" title="">2022</a>)</cite>, as well as the application of LLMs to recite one or more relevant passages from their internal memory <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib59" title="">[n. d.]</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Retrieval</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">The retrieval phase primarily involves searching for pertinent materials from external knowledge sources and ranking them according to their relevance to the user query.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS2.p2.1.1">Search:</span> Searching for relevant documents efficiently from vast external knowledge sources, such as the entire Internet, can be exceedingly challenging.
Previous research on RAG that aims to retrieve local data typically employs local vector databases, such as Elasticsearch <cite class="ltx_cite ltx_citemacro_citep">(Gormley and Tong, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib17" title="">2015</a>)</cite>, or utilizes libraries like FAISS <cite class="ltx_cite ltx_citemacro_citep">(Douze et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib9" title="">2024</a>)</cite> for efficient similarity search and vector clustering.
On the other hand, research focused on general-purpose RAG typically utilizes external web search engines directly; for instance, WebGPT <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib39" title="">2021</a>)</cite> employs the Bing API.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS2.p3.1.1">Ranking:</span> The ranking metric establishes the priority of each document housed in external knowledge sources.
The metric used to evaluate the similarity between a potentially manipulated query and a document can be classified into two categories: sparse retrieval and dense retrieval.
Sparse retrieval metrics, such as BM25 <cite class="ltx_cite ltx_citemacro_citep">(Robertson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib50" title="">2009</a>; Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib21" title="">2021</a>)</cite> and Term Frequency–Inverse Document Frequency (TF-IDF) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib6" title="">2017</a>)</cite>, rely on word frequency, whereas dense retrieval metrics utilize embedded vector, including Euclidean distance <cite class="ltx_cite ltx_citemacro_citep">(Khandelwal et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib30" title="">2019</a>)</cite>, cosine similarity <cite class="ltx_cite ltx_citemacro_citep">(Juvekar and Purwar, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib27" title="">2024</a>)</cite>, and Dense Passage Retrieval (DPR) <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib29" title="">2020</a>; Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib21" title="">2021</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>Post-retrieval</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">The post-retrieval phase includes re-ranking and filtering, which further refines the ranking results, and filtering out materials that are irrelevant to the querying topic.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS3.p2.1.1">Re-ranking:</span> Although vector similarity-based document retrieval can be executed efficiently and effectively, including in parallel <cite class="ltx_cite ltx_citemacro_citep">(Johnson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib26" title="">2019</a>; Khattab and Zaharia, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib31" title="">2020</a>)</cite> or distributed systems <cite class="ltx_cite ltx_citemacro_citep">(Echihabi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib11" title="">2021</a>)</cite>, its capacity to reveal semantic relationships between queries and documents remains constrained <cite class="ltx_cite ltx_citemacro_citep">(Steck et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib58" title="">2024</a>)</cite>.
This is where re-ranking becomes significant: typically bigger models, which offer greater accuracy but lower efficiency, can precisely reorder the limited set of documents retrieved.
Some approaches <cite class="ltx_cite ltx_citemacro_citep">(Glass et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib15" title="">2022</a>; Ram et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib49" title="">2023</a>)</cite> embed the query-document pair in a single pass, facilitating cross-attention between sequences.
These approaches enhance the evaluation of mutual information between the texts.
Other studies employ large language models as few-shot annotators to generate data for training a cross-attention re-ranker <cite class="ltx_cite ltx_citemacro_citep">(Dai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib7" title="">2022</a>)</cite>, or investigate the auto-regressive generation of re-ranking results to leverage inter-document relationships <cite class="ltx_cite ltx_citemacro_citep">(Hofstätter et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib19" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p3">
<p class="ltx_p" id="S2.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS3.p3.1.1">Filtering:</span> Filtering seeks to remove redundant parts from the retrieval results, which may either be of poor quality or exhibit low relevance to the user query <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib65" title="">2023a</a>)</cite>.
Current studies employ large language models to evaluate the utility of retrieved information and to critique whether all verification-worthy statements are substantiated by the associated documents <cite class="ltx_cite ltx_citemacro_citep">(Asai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib4" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib64" title="">2024</a>)</cite>, or condense retrieved documents into a textual summary, thereby minimizing inference costs <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib69" title="">2023</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4. </span>Generation</h3>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.1">The curated reference materials are subsequently processed in the generation phase to produce the final results.
Additionally, various enhancement techniques and customizations can be applied to the same phrase.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS4.p2">
<p class="ltx_p" id="S2.SS4.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS4.p2.1.1">Enhancing:</span> Enhancing, also known as retrieval fusion, seeks to improve the performance of large language model generations by utilizing retrieved documents.
Typically, the retrieved documents are concatenated with the query in the expectation that the language models will generate coherent results based on the reference materials <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib32" title="">2020</a>; Ram et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib49" title="">2023</a>; Guu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib18" title="">2020</a>)</cite>.
Other methods utilize sophisticated prompt templates that integrate multiple pieces of information <cite class="ltx_cite ltx_citemacro_citep">(Vu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib62" title="">2023</a>)</cite> or employ techniques such as context compression, summarization, and filtering to achieve more efficient inference <cite class="ltx_cite ltx_citemacro_citep">(Arefeen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib3" title="">2024</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib34" title="">2023a</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib65" title="">2023a</a>; Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib69" title="">2023</a>)</cite>.
Several studies have also investigated the integration of encoded retrieval vectors into input features <cite class="ltx_cite ltx_citemacro_citep">(Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib21" title="">2021</a>; Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib22" title="">2023</a>; Singh et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib56" title="">2021</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS4.p3">
<p class="ltx_p" id="S2.SS4.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS4.p3.1.1">Customization:</span> During the customization process, it is crucial to meticulously refine the model’s outputs to ensure alignment between the model’s responses and the user’s intended queries.
This refinement will result in final answers that are concise, informative, and well-formatted.
These approaches include generating reflection tokens for self-evaluation of the model’s output <cite class="ltx_cite ltx_citemacro_citep">(Asai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib4" title="">2023</a>)</cite> and implementing a graph-text contrastive learning method to enhance the alignment between generated content and retrieved references<cite class="ltx_cite ltx_citemacro_citep">(Kang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib28" title="">2023</a>)</cite>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>CRAG Benchmark</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">CRAG benchmark <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib71" title="">2024a</a>)</cite> is a factual question-answering benchmark with thousands of QA pairs and 50 real-world web pages for each data. The benchmark also provides a mock API for Knowledge Graph(KG) searching. The benchmark is set for the KDD Cup 2024 with <math alttext="2,706" class="ltx_Math" display="inline" id="S3.p1.1.m1.2"><semantics id="S3.p1.1.m1.2a"><mrow id="S3.p1.1.m1.2.3.2" xref="S3.p1.1.m1.2.3.1.cmml"><mn id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">2</mn><mo id="S3.p1.1.m1.2.3.2.1" xref="S3.p1.1.m1.2.3.1.cmml">,</mo><mn id="S3.p1.1.m1.2.2" xref="S3.p1.1.m1.2.2.cmml">706</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.2b"><list id="S3.p1.1.m1.2.3.1.cmml" xref="S3.p1.1.m1.2.3.2"><cn id="S3.p1.1.m1.1.1.cmml" type="integer" xref="S3.p1.1.m1.1.1">2</cn><cn id="S3.p1.1.m1.2.2.cmml" type="integer" xref="S3.p1.1.m1.2.2">706</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.2c">2,706</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.2d">2 , 706</annotation></semantics></math> data items available in public, half of which are for public validation. There are 5 domains and 8 question types in the benchmark, and each data item has a <code class="ltx_verbatim ltx_font_typewriter" id="S3.p1.1.1">static_or_dynamic</code> label that indicates whether the answer to a question changes and the expected rate of change, which can be used to analyze the model strengths and weaknesses. In order to mimic real-world application scenarios, each generated response is limited to 30 seconds on an AWS G4dn.12xlarge instance, which is equipped with 4 NVIDIA T4 GPUs providing a total of 64 GB of GPU memory during inference.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">The benchmark is split into three tasks in the competition: Retrieval Summarization, Knowledge Graph and Web Retrieval, and End-to-End Retrieval Augmented Generation, which are from simple to complex. We introduce the three tasks as follows:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1">Task 1: Retrieval Summarization.</span>
In this task, each question is provided with 5 web pages potentially containing relevant information to mimic the top 5 results from a real-world web search. They are created by storing up to 50 pages from search queries related to each question. Web pages are quite long, containing about <math alttext="120,000" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.2"><semantics id="S3.I1.i1.p1.1.m1.2a"><mrow id="S3.I1.i1.p1.1.m1.2.3.2" xref="S3.I1.i1.p1.1.m1.2.3.1.cmml"><mn id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">120</mn><mo id="S3.I1.i1.p1.1.m1.2.3.2.1" xref="S3.I1.i1.p1.1.m1.2.3.1.cmml">,</mo><mn id="S3.I1.i1.p1.1.m1.2.2" xref="S3.I1.i1.p1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.2b"><list id="S3.I1.i1.p1.1.m1.2.3.1.cmml" xref="S3.I1.i1.p1.1.m1.2.3.2"><cn id="S3.I1.i1.p1.1.m1.1.1.cmml" type="integer" xref="S3.I1.i1.p1.1.m1.1.1">120</cn><cn id="S3.I1.i1.p1.1.m1.2.2.cmml" type="integer" xref="S3.I1.i1.p1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.2c">120,000</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.2d">120 , 000</annotation></semantics></math> tokens on average, to measure the CRAG systems’ capability to identify and condense this information into accurate answers.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1">Task 2: Knowledge Graph and Web Retrieval.</span>
Besides the web pages provided with each question, this task introduces mock APIs to access information from underlying mock Knowledge Graphs (KGs), with structured data possibly related to the questions.
Mock KGs are created using the data behind the questions, supplemented with ”hard negative” data to simulate a more challenging retrieval environment. Mock APIs facilitate structured searches within these KGs and can be used with parameters derived from the questions, to retrieve relevant data for answer formulation. The evaluation focuses on the systems’ ability to query structured data and integrate information from various sources into comprehensive answers.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i3.p1.1.1">Task 3: End-to-End Retrieval Augmented Generation.</span>
The third task increases complexity by providing 50 web pages and mock API access for each question, encountering both relevant information and noises. It assesses the systems’ skill in selecting the most important data from a larger set, reflecting the challenges of real-world information retrieval and integration.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.1">Each task builds upon the previous, employing more demanding tasks to gauge the CRAG system’s capabilities in real-world and intricate scenarios.</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.1">As for evaluation, CRAG Benchmark employs both automated (Auto-eval) and human (Human-eval) evaluations. Auto-eval employs rule-based matching and GPT-4 assessment to check answer correctness. To promote concise answers, Auto-evaluators will only consider responses within <math alttext="50" class="ltx_Math" display="inline" id="S3.p4.1.m1.1"><semantics id="S3.p4.1.m1.1a"><mn id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><cn id="S3.p4.1.m1.1.1.cmml" type="integer" xref="S3.p4.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">50</annotation><annotation encoding="application/x-llamapun" id="S3.p4.1.m1.1d">50</annotation></semantics></math> tokens. Human annotators will only decide the rating of top teams to reduce workload. In addition to correctness, human eval requires basic fluency for an answer to be considered Perfect.</p>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.1">Notably, the competition evaluates the system with a positive score for the correct answer, a zero score for answering “I don’t know”, and a negative score for the wrong answer, which is noted as <code class="ltx_verbatim ltx_font_typewriter" id="S3.p5.1.1">hallucination</code>. The benchmark not only encourages the model to answer the question correctly but also punishes the model for incorrect responses, which is closer to the real-world scenario.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>System Design</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">The complete design of our system is shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.F1" title="Figure 1 ‣ 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">1</span></a>. There are <math alttext="6" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><mn id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><cn id="S4.p1.1.m1.1.1.cmml" type="integer" xref="S4.p1.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">6</annotation></semantics></math> critical modules in our system, including (1) web page processing, (2) attribute predictor, (3) numerical calculator, (4) LLM knowledge extractor, (5) KG Module, and (6) reasoning module. We have enhanced the system’s capabilities in information extraction, reducing hallucinations, numerical calculation accuracy, and higher-order reasoning through these modules. Additionally, we have implemented special handling for corner cases. We will introduce these modules as follows.</p>
</div>
<figure class="ltx_figure" id="S4.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="381" id="S4.F1.g1" src="x1.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The complete design of our system. There are two possible routes for the generation. If the query is classified by the in-context learning as “dynamic”, we will output “I don’t know” directly to reduce hallucination on these hard problems.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Web Page Processing</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Web pages serve as a shared information source for all three tasks, containing a substantial amount of potentially valuable information that can aid the model in task completion.
As a result, web page processing is a critical component of system design, directly impacting both the quality of the extracted information and the accuracy of subsequent language model generations.</p>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="444" id="S4.F2.g1" src="x2.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>The design of our web page processing. We utilized Trafilatura and BeautifulSoup to extract plain text and tables from web pages. Following this extraction, we employed Blingfire to segment the plain text into sentences, which were then grouped into chunks based on heuristic methods. Additionally, the tables were converted into Markdown format for further processing.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">However, despite the abundance of information presented in natural language on web pages, extracting this information is not straightforward.
This complexity is due to the frequent presence of significant amounts of noise that does not contribute relevant information necessary for task completion.
Such noise can unnecessarily prolong the model’s processing and reasoning time, potentially leading to misinterpretations.
The types of noise encountered include decorative HTML tags used for typography, JavaScript code, and internal comments within the web page. While some HTML tags may contain semantic information that aids in paragraph segmentation or title identification, the useful information is not easy to extract. Moreover, there is some structured information in the HTML like tables, which will do harm to the text quality if they are improperly handled through methods such as truncation or splicing other texts. So we process the raw web page into two parts: text chunks and tables, to get the references with higher quality.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Text Chunks Processing.</span> To address the challenges posed by the complexity of modern HTML web pages, we adopt <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p3.1.2">trafilatura</code>, a Python library specifically designed for gathering text from the Web.
This library effectively mitigates noise generated by recurring elements such as headers, footers, and links. We also clean all the tables by identifying the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p3.1.3">&lt;table&gt;</code> tag, which will be processed specially.
To enhance robustness, we employ the classic <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p3.1.4">BeautifulSoup</code> library as a fallback option for a small subset of web pages that <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p3.1.5">trafilatura</code> cannot process.
After extracting text using these two tools, we utilize functions provided by the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p3.1.6">Blingfire</code> library to segment the text into individual sentences.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1">The meaning of a sentence is often influenced by its contextual placement; therefore, the information within a single sentence is often incomplete.
We organize sentences into chunks based on the following rules to enhance semantic coherence in subsequent retrieval processes.
First, we truncate individual sentences that exceed a predetermined length threshold to ensure they remain within an appropriate length.
Next, we implement a keyword-based approach to identify whether a sentence is a question, utilizing indicators such as the 5W1H interrogatives at the beginning and the presence of question marks at the end.
All keywords utilized in this process can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A2" title="Appendix B Question Identification ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">B</span></a>.
Sample data analysis has shown that questions are often immediately followed by their corresponding answers.
Therefore, we concatenate questions with their subsequent text until we reach the pre-assigned length threshold.
Finally, we connect any remaining ungrouped sentences in sets of <math alttext="3" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mn id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><cn id="S4.SS1.p4.1.m1.1.1.cmml" type="integer" xref="S4.SS1.p4.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">3</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p5.1.1">Tables Processing.</span> Given that the extracted text data typically does not include tables, we have employed <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p5.1.2">BeautifulSoup</code> to extract tables from web pages and convert them into Markdown format.
We hypothesize that exposure to numerous documents formatted in Markdown during the model training phase will improve the model’s understanding and interpretation of this format. Finally, we cleaned the empty tables to reduce the noise. The source code for table transformation is listed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A3" title="Appendix C Table Transformation ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p6">
<p class="ltx_p" id="S4.SS1.p6.2"><span class="ltx_text ltx_font_bold" id="S4.SS1.p6.2.1">Text Embedding &amp; Ranking Metrics.</span>
Regarding the ranking metrics and methodologies for retrieval, it is important to note that in the CRAG tasks, each question is associated with a relatively small number of candidate articles (five for each question in the initial two tasks).
Consequently, we have adopted a straightforward approach.
We utilized the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p6.2.2">sentence-t5-large</code> model <cite class="ltx_cite ltx_citemacro_citep">(Ni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib40" title="">2021</a>)</cite> to generate vector embeddings for both the text chunks and the queries, and we employed cosine similarity as the metric to rank the relevance of the text chunks.
The cosine similarity between the user query embedding and a text chunk embedding <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S4.SS1.p6.1.m1.1"><semantics id="S4.SS1.p6.1.m1.1a"><mi id="S4.SS1.p6.1.m1.1.1" xref="S4.SS1.p6.1.m1.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.1.m1.1b"><ci id="S4.SS1.p6.1.m1.1.1.cmml" xref="S4.SS1.p6.1.m1.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.1.m1.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.1.m1.1d">bold_q</annotation></semantics></math> and <math alttext="\mathbf{c}" class="ltx_Math" display="inline" id="S4.SS1.p6.2.m2.1"><semantics id="S4.SS1.p6.2.m2.1a"><mi id="S4.SS1.p6.2.m2.1.1" xref="S4.SS1.p6.2.m2.1.1.cmml">𝐜</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.2.m2.1b"><ci id="S4.SS1.p6.2.m2.1.1.cmml" xref="S4.SS1.p6.2.m2.1.1">𝐜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.2.m2.1c">\mathbf{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.2.m2.1d">bold_c</annotation></semantics></math> is defined as the cosine of the angle between them. Mathematically, it is given by:</p>
</div>
<div class="ltx_para" id="S4.SS1.p7">
<table class="ltx_equation ltx_eqn_table" id="S4.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{cosine\_similarity}=\cos(\theta)=\frac{\mathbf{q}\cdot\mathbf{c}}{\|%
\mathbf{q}\|\|\mathbf{c}\|}" class="ltx_Math" display="block" id="S4.Ex1.m1.4"><semantics id="S4.Ex1.m1.4a"><mrow id="S4.Ex1.m1.4.5" xref="S4.Ex1.m1.4.5.cmml"><mtext id="S4.Ex1.m1.4.5.2" xref="S4.Ex1.m1.4.5.2a.cmml">cosine_similarity</mtext><mo id="S4.Ex1.m1.4.5.3" xref="S4.Ex1.m1.4.5.3.cmml">=</mo><mrow id="S4.Ex1.m1.4.5.4.2" xref="S4.Ex1.m1.4.5.4.1.cmml"><mi id="S4.Ex1.m1.3.3" xref="S4.Ex1.m1.3.3.cmml">cos</mi><mo id="S4.Ex1.m1.4.5.4.2a" xref="S4.Ex1.m1.4.5.4.1.cmml">⁡</mo><mrow id="S4.Ex1.m1.4.5.4.2.1" xref="S4.Ex1.m1.4.5.4.1.cmml"><mo id="S4.Ex1.m1.4.5.4.2.1.1" stretchy="false" xref="S4.Ex1.m1.4.5.4.1.cmml">(</mo><mi id="S4.Ex1.m1.4.4" xref="S4.Ex1.m1.4.4.cmml">θ</mi><mo id="S4.Ex1.m1.4.5.4.2.1.2" stretchy="false" xref="S4.Ex1.m1.4.5.4.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex1.m1.4.5.5" xref="S4.Ex1.m1.4.5.5.cmml">=</mo><mfrac id="S4.Ex1.m1.2.2" xref="S4.Ex1.m1.2.2.cmml"><mrow id="S4.Ex1.m1.2.2.4" xref="S4.Ex1.m1.2.2.4.cmml"><mi id="S4.Ex1.m1.2.2.4.2" xref="S4.Ex1.m1.2.2.4.2.cmml">𝐪</mi><mo id="S4.Ex1.m1.2.2.4.1" lspace="0.222em" rspace="0.222em" xref="S4.Ex1.m1.2.2.4.1.cmml">⋅</mo><mi id="S4.Ex1.m1.2.2.4.3" xref="S4.Ex1.m1.2.2.4.3.cmml">𝐜</mi></mrow><mrow id="S4.Ex1.m1.2.2.2" xref="S4.Ex1.m1.2.2.2.cmml"><mrow id="S4.Ex1.m1.2.2.2.4.2" xref="S4.Ex1.m1.2.2.2.4.1.cmml"><mo id="S4.Ex1.m1.2.2.2.4.2.1" stretchy="false" xref="S4.Ex1.m1.2.2.2.4.1.1.cmml">‖</mo><mi id="S4.Ex1.m1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.cmml">𝐪</mi><mo id="S4.Ex1.m1.2.2.2.4.2.2" stretchy="false" xref="S4.Ex1.m1.2.2.2.4.1.1.cmml">‖</mo></mrow><mo id="S4.Ex1.m1.2.2.2.3" xref="S4.Ex1.m1.2.2.2.3.cmml">⁢</mo><mrow id="S4.Ex1.m1.2.2.2.5.2" xref="S4.Ex1.m1.2.2.2.5.1.cmml"><mo id="S4.Ex1.m1.2.2.2.5.2.1" stretchy="false" xref="S4.Ex1.m1.2.2.2.5.1.1.cmml">‖</mo><mi id="S4.Ex1.m1.2.2.2.2" xref="S4.Ex1.m1.2.2.2.2.cmml">𝐜</mi><mo id="S4.Ex1.m1.2.2.2.5.2.2" stretchy="false" xref="S4.Ex1.m1.2.2.2.5.1.1.cmml">‖</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex1.m1.4b"><apply id="S4.Ex1.m1.4.5.cmml" xref="S4.Ex1.m1.4.5"><and id="S4.Ex1.m1.4.5a.cmml" xref="S4.Ex1.m1.4.5"></and><apply id="S4.Ex1.m1.4.5b.cmml" xref="S4.Ex1.m1.4.5"><eq id="S4.Ex1.m1.4.5.3.cmml" xref="S4.Ex1.m1.4.5.3"></eq><ci id="S4.Ex1.m1.4.5.2a.cmml" xref="S4.Ex1.m1.4.5.2"><mtext id="S4.Ex1.m1.4.5.2.cmml" xref="S4.Ex1.m1.4.5.2">cosine_similarity</mtext></ci><apply id="S4.Ex1.m1.4.5.4.1.cmml" xref="S4.Ex1.m1.4.5.4.2"><cos id="S4.Ex1.m1.3.3.cmml" xref="S4.Ex1.m1.3.3"></cos><ci id="S4.Ex1.m1.4.4.cmml" xref="S4.Ex1.m1.4.4">𝜃</ci></apply></apply><apply id="S4.Ex1.m1.4.5c.cmml" xref="S4.Ex1.m1.4.5"><eq id="S4.Ex1.m1.4.5.5.cmml" xref="S4.Ex1.m1.4.5.5"></eq><share href="https://arxiv.org/html/2408.05141v3#S4.Ex1.m1.4.5.4.cmml" id="S4.Ex1.m1.4.5d.cmml" xref="S4.Ex1.m1.4.5"></share><apply id="S4.Ex1.m1.2.2.cmml" xref="S4.Ex1.m1.2.2"><divide id="S4.Ex1.m1.2.2.3.cmml" xref="S4.Ex1.m1.2.2"></divide><apply id="S4.Ex1.m1.2.2.4.cmml" xref="S4.Ex1.m1.2.2.4"><ci id="S4.Ex1.m1.2.2.4.1.cmml" xref="S4.Ex1.m1.2.2.4.1">⋅</ci><ci id="S4.Ex1.m1.2.2.4.2.cmml" xref="S4.Ex1.m1.2.2.4.2">𝐪</ci><ci id="S4.Ex1.m1.2.2.4.3.cmml" xref="S4.Ex1.m1.2.2.4.3">𝐜</ci></apply><apply id="S4.Ex1.m1.2.2.2.cmml" xref="S4.Ex1.m1.2.2.2"><times id="S4.Ex1.m1.2.2.2.3.cmml" xref="S4.Ex1.m1.2.2.2.3"></times><apply id="S4.Ex1.m1.2.2.2.4.1.cmml" xref="S4.Ex1.m1.2.2.2.4.2"><csymbol cd="latexml" id="S4.Ex1.m1.2.2.2.4.1.1.cmml" xref="S4.Ex1.m1.2.2.2.4.2.1">norm</csymbol><ci id="S4.Ex1.m1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1">𝐪</ci></apply><apply id="S4.Ex1.m1.2.2.2.5.1.cmml" xref="S4.Ex1.m1.2.2.2.5.2"><csymbol cd="latexml" id="S4.Ex1.m1.2.2.2.5.1.1.cmml" xref="S4.Ex1.m1.2.2.2.5.2.1">norm</csymbol><ci id="S4.Ex1.m1.2.2.2.2.cmml" xref="S4.Ex1.m1.2.2.2.2">𝐜</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m1.4c">\text{cosine\_similarity}=\cos(\theta)=\frac{\mathbf{q}\cdot\mathbf{c}}{\|%
\mathbf{q}\|\|\mathbf{c}\|}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m1.4d">cosine_similarity = roman_cos ( italic_θ ) = divide start_ARG bold_q ⋅ bold_c end_ARG start_ARG ∥ bold_q ∥ ∥ bold_c ∥ end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p7.5">where <math alttext="\mathbf{q}\cdot\mathbf{c}" class="ltx_Math" display="inline" id="S4.SS1.p7.1.m1.1"><semantics id="S4.SS1.p7.1.m1.1a"><mrow id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml"><mi id="S4.SS1.p7.1.m1.1.1.2" xref="S4.SS1.p7.1.m1.1.1.2.cmml">𝐪</mi><mo id="S4.SS1.p7.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS1.p7.1.m1.1.1.1.cmml">⋅</mo><mi id="S4.SS1.p7.1.m1.1.1.3" xref="S4.SS1.p7.1.m1.1.1.3.cmml">𝐜</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b"><apply id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1"><ci id="S4.SS1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1.1">⋅</ci><ci id="S4.SS1.p7.1.m1.1.1.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2">𝐪</ci><ci id="S4.SS1.p7.1.m1.1.1.3.cmml" xref="S4.SS1.p7.1.m1.1.1.3">𝐜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">\mathbf{q}\cdot\mathbf{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.1.m1.1d">bold_q ⋅ bold_c</annotation></semantics></math> is the dot product of embedding vectors <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S4.SS1.p7.2.m2.1"><semantics id="S4.SS1.p7.2.m2.1a"><mi id="S4.SS1.p7.2.m2.1.1" xref="S4.SS1.p7.2.m2.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.2.m2.1b"><ci id="S4.SS1.p7.2.m2.1.1.cmml" xref="S4.SS1.p7.2.m2.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.2.m2.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.2.m2.1d">bold_q</annotation></semantics></math> and <math alttext="\mathbf{c}" class="ltx_Math" display="inline" id="S4.SS1.p7.3.m3.1"><semantics id="S4.SS1.p7.3.m3.1a"><mi id="S4.SS1.p7.3.m3.1.1" xref="S4.SS1.p7.3.m3.1.1.cmml">𝐜</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.3.m3.1b"><ci id="S4.SS1.p7.3.m3.1.1.cmml" xref="S4.SS1.p7.3.m3.1.1">𝐜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.3.m3.1c">\mathbf{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.3.m3.1d">bold_c</annotation></semantics></math>, and <math alttext="\|\mathbf{q}\|" class="ltx_Math" display="inline" id="S4.SS1.p7.4.m4.1"><semantics id="S4.SS1.p7.4.m4.1a"><mrow id="S4.SS1.p7.4.m4.1.2.2" xref="S4.SS1.p7.4.m4.1.2.1.cmml"><mo id="S4.SS1.p7.4.m4.1.2.2.1" stretchy="false" xref="S4.SS1.p7.4.m4.1.2.1.1.cmml">‖</mo><mi id="S4.SS1.p7.4.m4.1.1" xref="S4.SS1.p7.4.m4.1.1.cmml">𝐪</mi><mo id="S4.SS1.p7.4.m4.1.2.2.2" stretchy="false" xref="S4.SS1.p7.4.m4.1.2.1.1.cmml">‖</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.4.m4.1b"><apply id="S4.SS1.p7.4.m4.1.2.1.cmml" xref="S4.SS1.p7.4.m4.1.2.2"><csymbol cd="latexml" id="S4.SS1.p7.4.m4.1.2.1.1.cmml" xref="S4.SS1.p7.4.m4.1.2.2.1">norm</csymbol><ci id="S4.SS1.p7.4.m4.1.1.cmml" xref="S4.SS1.p7.4.m4.1.1">𝐪</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.4.m4.1c">\|\mathbf{q}\|</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.4.m4.1d">∥ bold_q ∥</annotation></semantics></math> and <math alttext="\|\mathbf{c}\|" class="ltx_Math" display="inline" id="S4.SS1.p7.5.m5.1"><semantics id="S4.SS1.p7.5.m5.1a"><mrow id="S4.SS1.p7.5.m5.1.2.2" xref="S4.SS1.p7.5.m5.1.2.1.cmml"><mo id="S4.SS1.p7.5.m5.1.2.2.1" stretchy="false" xref="S4.SS1.p7.5.m5.1.2.1.1.cmml">‖</mo><mi id="S4.SS1.p7.5.m5.1.1" xref="S4.SS1.p7.5.m5.1.1.cmml">𝐜</mi><mo id="S4.SS1.p7.5.m5.1.2.2.2" stretchy="false" xref="S4.SS1.p7.5.m5.1.2.1.1.cmml">‖</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.5.m5.1b"><apply id="S4.SS1.p7.5.m5.1.2.1.cmml" xref="S4.SS1.p7.5.m5.1.2.2"><csymbol cd="latexml" id="S4.SS1.p7.5.m5.1.2.1.1.cmml" xref="S4.SS1.p7.5.m5.1.2.2.1">norm</csymbol><ci id="S4.SS1.p7.5.m5.1.1.cmml" xref="S4.SS1.p7.5.m5.1.1">𝐜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.5.m5.1c">\|\mathbf{c}\|</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.5.m5.1d">∥ bold_c ∥</annotation></semantics></math> are their respective magnitudes.
Our experiments indicated that employing LLMs for complex query manipulation methods did not significantly improve retrieval accuracy; instead, it resulted in substantial computational overhead.
Therefore, we primarily leveraged the LLM knowledge extractor, as detailed below, to enhance the quality of the references.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Attribute Predictor</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">Large language models demonstrate considerable variability in their performance across various question-answering tasks.
Within the context of the CRAG tasks, answering aggregation questions and multi-hop questions poses greater challenges than addressing simple questions. This difficulty arises from the model’s need to not only possess robust information retrieval capabilities but also to integrate multiple sources of information and engage in reasoning processes.
Moreover, when dealing with questions related to slow-changing and fast-changing facts, the model must exhibit temporal awareness, which adds complexity to the generation of accurate responses <cite class="ltx_cite ltx_citemacro_citep">(Vu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib62" title="">2023</a>)</cite>.
To tackle these challenges, we have developed an attribute predictor that assesses the type of each specific question and the rate of underlying factual change, aiming to optimize performance across all question types.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">There are three useful attributes in the benchmark: <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.1">domain</code>, <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.2">question_type</code>, and <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.3">static_or_dynamic</code>.
Following the descriptions outlined in the CRAG dataset, we classified the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.4">domain</code> into five categories: Finance, Sports, Music, Movies, and Encyclopedia Open Domain. The <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.5">question_type</code> was divided into the following categories: simple question, simple question with some condition, set question, comparison question, aggregation question, multi-hop question, post-processing question, and false premise question. However, the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.6">question_type</code> attribute is hard to predict because it often needs reasoning through all references, so we didn’t apply attribute prediction to it.
Additionally, the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p2.1.7">static_or_dynamic</code> attribute, which pertains to timeliness, was classified into four categories: real-time, fast-changing, slow-changing, and stable. Moreover, we found that the boundaries between these four categories are not clear, so we only classified this attribute into two categories: static and dynamic. For each attribute, we implemented two methods for question classification: one leveraging the in-context learning capability of large language models and the other employing support vector machines (SVM).</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS2.p3.1.1">In-Context Learning.</span> Large language models demonstrate robust natural language understanding and strong multi-task generalization abilities.
We prompt the model with classification instructions and <math alttext="5" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mn id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><cn id="S4.SS2.p3.1.m1.1.1.cmml" type="integer" xref="S4.SS2.p3.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">5</annotation></semantics></math> demonstrations for categories, instructing it to classify subsequent questions.
The demonstrations are randomly selected from the publicly available CRAG dataset.
All prompts utilized in the classification process can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS1" title="D.1. Prompt for Attribute Predictor ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.1</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">To enhance classification reliability, we adopted a self-consistency strategy involving multiple samplings from the large language model. The category that appeared most frequently among the sampled results was designated as the classification for the question.
<span class="ltx_text ltx_font_bold" id="S4.SS2.p4.1.1">SVM.</span> We also tried to train an SVM classifier using the CRAG public dataset to reduce computational overhead. We used the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS2.p4.1.2">all-MiniLM-L6-v2</code> model to get the sentence embeddings, which are used to train the SVM.
We observed that the SVM model can get higher accuracy in predicting the attributes with less time and computation consumption.
However, we didn’t have time to merge the code into our final version for evaluation.
So, consequently, the submitted version relied on the few-shot learning approach with the large language model for classification, and we leave the improvement for this module as future work. We will show the detailed results analysis and comparison in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.SS1" title="5.1. Detailed Analysis ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">5.1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Numerical Calculator</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">Previous research has highlighted the phenomenon of “hallucination” in large language models, particularly concerning their performance in precise numerical calculations <cite class="ltx_cite ltx_citemacro_citep">(Polu and Sutskever, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib47" title="">2020</a>; Geva et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib14" title="">2020</a>)</cite>.
Within the framework of the CRAG tasks, answers to aggregation questions, multi-hop questions, and post-processing questions are not directly available in the retrieved content.
Instead, these tasks require the model to derive the final answer through a series of reasoning steps, which often involve precise numerical computations, especially in the domain of finance and sports.
This requirement poses additional challenges to the model’s capacity to generate accurate results.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">To address this issue, we employed an approach that leverages external tools, drawing inspiration from previous research <cite class="ltx_cite ltx_citemacro_citep">(Schick et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib52" title="">2023</a>; Paranjape et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib44" title="">2023</a>; Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib74" title="">2024</a>)</cite>.
We encourage the large language model to articulate the reasoning steps necessary to solve the problem as mathematical expressions while delegating the actual numerical calculations to an external Python interpreter.
We specifically integrate retrieved text chunks and tables that may contain numerical information into the model’s prompts and employ prompt techniques that encourage the model to generate valid Python expressions directly.
Detailed specifications of the prompts are provided in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS2" title="D.2. Prompt for Numerical Calculator ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.2</span></a>
In the submitted version, we utilized multiple sampling and processed the generated Python expressions using the <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS3.p2.1.1">eval</code> function.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">Note that the program code generated by the LLM may include malicious code, and executing such code directly poses a potential threat to system stability.
To mitigate such risk, the best practice for ensuring system security is to use <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS3.p3.1.1">ast.literal_eval</code> or to execute the code within a sandbox environment.
We leave the safety and proper termination of sandbox execution as future work.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>LLM Knowledge Extractor</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">Through extensive training on diverse corpora, LLMs have acquired substantial knowledge and demonstrated robust question-answering capabilities across a wide range of domains.
Chances are that the reference documents are not beneficial in generating accurate responses to the model’s queries.
This may be attributed to the possibility that the retrieved materials are outdated, or they may include irrelevant or even misleading information.
Consequently, these reference documents do not enhance the model’s capacity to produce answers but harm it.
Furthermore, during the generation phase, we employ the Llama 3 instruction-tuned models that are optimized for dialogue use cases and possess a robust capability for following instructions.
Our findings indicate that when reference documents are provided within the prompt, the model exhibits a significant tendency to extract answers from these documents, regardless of whether the documents contain the necessary information.
This inclination may be a result of the instructional fine-tuning process.
In contrast, LLMs that operate without any references are capable of accurately answering these questions.
In light of this observation and drawing inspiration from prior research <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib59" title="">[n. d.]</a>)</cite>, we developed a large language model knowledge extractor.
This extractor leverages the knowledge-rich responses generated by the large language model as part of the reference materials for enhanced reasoning.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">The process of extracting knowledge from the model closely resembles the normal model generation process.
It similarly utilizes zero-shot indications, which include prompts requiring the model to assess whether a given query pertains to a false-premise issue and to generate more concise responses.
However, a notable distinction exists in the lack of reference documents sourced from external knowledge bases within the prompts, as well as the exclusion of multiple sampling, which is intended to reduce computational overhead.
In this way, the LLM could respond solely based on the knowledge internalized within its parameters during the training.
Our findings suggest that this approach results in favorable performance on questions classified as slow-changing and stable.
We anticipate that this approach will effectively align the knowledge embedded in the LLM’s parameters with external reference documents, thereby mitigating the issue of the model’s excessive dependence on externally retrieved information. Moreover, we also use the zero-shot CoT to let the model reasoning by itself for more accurate knowledge. The prompt template is shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS3" title="D.3. Prompt for LLM Knowledge Extractor ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.3</span></a></p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1">However, as described previously, letting the model directly answer the questions will introduce hallucinations in its knowledge, although with zero-shot CoT reasoning. To balance the hallucination and knowledge from the LLM itself, we only treat the output of this module as one of the references. We have carefully designed prompts to ensure that the model neither overly relies on document references nor excessively trusts the LLM’s knowledge. Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.SS6" title="4.6. Reasoning Module ‣ 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">4.6</span></a> will provide a more detailed introduction.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Knowledge Graph Module</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">In addition to web references, Task 2 and Task 3 also provide a mock API for querying the provided knowledge graph (KG). As a structured knowledge base, a KG provides accurate information. However, the generation of a KG query is crucial to determining whether the system can retrieve the correct answer. We started from the KG baseline, which extracted the entities in the query with an LLM, and generated the query by manual rules. The quality of rule-based queries is limited by the complexity of the rules, and hard to scale. So we tried a function-calling method, which makes all the mock APIs as the input of the LLM, and lets it generate a proper function calling. However, due to limitations in time and resources, we were unable to optimize the models and prompts for the function-calling method, resulting in suboptimal performance. Therefore, we reverted to the KG baseline method and did not make further improvements in the submitted version. We show the prompts for the function-calling methods in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS4" title="D.4. Prompt for KG Module ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.4</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>Reasoning Module</h3>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.1">After all the previously introduced processing methods, we get text chunks, tables, triplets from KG, and knowledge from LLM weights as the references. We carefully designed a prompt template to let the LLM do reasoning from all these references and get the final answer. We control the reasoning process by output format demonstration and zero-shot CoT, which is useful for multi-hop questions. Leveraging the strong instruction-following capabilities of Llama3-70B-Instruct, we’ve successfully maintained steady progress in controlling reasoning tasks. We designed several rules to constrain the reasoning path and output format, including that the output should be precise, and guide the model reasoning by asking intermediate questions in the prompt. The complete prompt is shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS5" title="D.5. Prompt for Reasoning Module ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.5</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS7">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.7. </span>Handling Corner Cases</h3>
<div class="ltx_para" id="S4.SS7.p1">
<p class="ltx_p" id="S4.SS7.p1.1">In addition to the main modules mentioned above, we have also handled many corner cases, including (1) identifying invalid questions; (2) encouraging the model to answer “I don’t know” for unsure answers to reduce hallucination; and (3) dealing with outputs that do not comply with the instruction format. We will introduce our design to handle these corner cases as follows.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS7.p2">
<p class="ltx_p" id="S4.SS7.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS7.p2.1.1">Invalid Questions.</span>
There are some questions that have false premises, which means the query is contradictory to the fact. For these questions, the model should output “invalid questions”. To identify this type of question, the model needs to carefully analyze the references provided. We add special rules in the reasoning prompt shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS5" title="D.5. Prompt for Reasoning Module ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.5</span></a></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS7.p3">
<p class="ltx_p" id="S4.SS7.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS7.p3.1.1">Reduce Hallucination.</span>
We employed two approaches to alleviate hallucinations: attribute prediction and reasoning. We found that the time-changing questions, which would be labeled as <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS7.p3.1.2">dynamic</code> by attribute predictor, are hard for our system and we do not have enough time and resources to improve them. So we manually let the system answer “I don’t know” for these questions. Moreover, we added several rules and prompt engineering techniques in the reasoning module to let the model answer “I don’t know” when it is unsure. Ultimately, we configured the system to exclusively output ”I don’t know” and refrain from adding any additional words whenever ”I don’t know” is included in the initial response.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS7.p4">
<p class="ltx_p" id="S4.SS7.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS7.p4.1.1">Incorrect Format.</span>
Cause we didn’t conduct constrained sampling for the reasoning output, there is the possibility that the model will output answers that can not be parsed. To handle this situation, we design a backup summarization agent to summarize the final answer precisely and concisely based on the reasoning module’s output when the parse fails.
The prompt for this module is shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A4.SS6" title="D.6. Prompt for Backup Summarization Agent ‣ Appendix D Prompt Details ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">D.6</span></a></p>
</div>
<figure class="ltx_table" id="S4.T1">
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T1.3" style="width:195.1pt;height:36.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-94.9pt,17.7pt) scale(0.506988800079165,0.506988800079165) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.3.3">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.3.3.3">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T1.3.3.3.4"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1">Correct(%)<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><ci id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.3.3.3.5">Missing(%)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T1.2.2.2.2">Hallucination(%)<math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T1.2.2.2.2.m1.1"><semantics id="S4.T1.2.2.2.2.m1.1a"><mo id="S4.T1.2.2.2.2.m1.1.1" stretchy="false" xref="S4.T1.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.2.m1.1b"><ci id="S4.T1.2.2.2.2.m1.1.1.cmml" xref="S4.T1.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.2.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.2.2.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.3.3.3.3">Score(%)<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.3.3.3.3.m1.1"><semantics id="S4.T1.3.3.3.3.m1.1a"><mo id="S4.T1.3.3.3.3.m1.1.1" stretchy="false" xref="S4.T1.3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.3.m1.1b"><ci id="S4.T1.3.3.3.3.m1.1.1.cmml" xref="S4.T1.3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.3.3.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.3.3.4.1.1">Official LLM Baseline</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.3.4.1.2">16.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.3.4.1.3">0.0</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.3.3.4.1.4">83.7</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T1.3.3.4.1.5">-67.6</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.3.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.3.3.5.2.1">Official RAG Baseline</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.5.2.2">25.4</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.5.2.3">2.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.3.3.5.2.4">72.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.3.3.5.2.5">-46.6</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.3.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T1.3.3.6.3.1"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.3.1.1">Our System</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.3.3.6.3.2"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.3.2.1">29.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.3.3.6.3.3"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.3.3.1">56.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.3.3.6.3.4"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.3.4.1">13.9</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T1.3.3.6.3.5"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.3.5.1">15.8</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>The main results of our designed system evaluated in the public test dataset.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experiments</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.2">We conducted ample experiments to verify the effectiveness of each module. The main results of our local evaluation are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S4.T1" title="Table 1 ‣ 4.7. Handling Corner Cases ‣ 4. System Design ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">1</span></a>, where we got a lot of improvement in the public test set compared with the baseline of Task 1. We got a <math alttext="15.8\%" class="ltx_Math" display="inline" id="S5.p1.1.m1.1"><semantics id="S5.p1.1.m1.1a"><mrow id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml"><mn id="S5.p1.1.m1.1.1.2" xref="S5.p1.1.m1.1.1.2.cmml">15.8</mn><mo id="S5.p1.1.m1.1.1.1" xref="S5.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><apply id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1"><csymbol cd="latexml" id="S5.p1.1.m1.1.1.1.cmml" xref="S5.p1.1.m1.1.1.1">percent</csymbol><cn id="S5.p1.1.m1.1.1.2.cmml" type="float" xref="S5.p1.1.m1.1.1.2">15.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">15.8\%</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.1d">15.8 %</annotation></semantics></math> score where we greatly reduced the hallucination ratio and changed these hallucinations into answering “I don’t know”. We show detailed analysis and ablation studies of our evaluation results. In the final private test, we got a <math alttext="21.8\%" class="ltx_Math" display="inline" id="S5.p1.2.m2.1"><semantics id="S5.p1.2.m2.1a"><mrow id="S5.p1.2.m2.1.1" xref="S5.p1.2.m2.1.1.cmml"><mn id="S5.p1.2.m2.1.1.2" xref="S5.p1.2.m2.1.1.2.cmml">21.8</mn><mo id="S5.p1.2.m2.1.1.1" xref="S5.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b"><apply id="S5.p1.2.m2.1.1.cmml" xref="S5.p1.2.m2.1.1"><csymbol cd="latexml" id="S5.p1.2.m2.1.1.1.cmml" xref="S5.p1.2.m2.1.1.1">percent</csymbol><cn id="S5.p1.2.m2.1.1.2.cmml" type="float" xref="S5.p1.2.m2.1.1.2">21.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">21.8\%</annotation><annotation encoding="application/x-llamapun" id="S5.p1.2.m2.1d">21.8 %</annotation></semantics></math> score in Task 1. We will also show an analysis of the private evaluation. We will use “Official RAG Baseline” as the baseline model of Task 1 in the following tables.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Detailed Analysis</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">To gain a deeper understanding of the strengths and weaknesses of our system across various aspects, we conducted a meticulous analysis of the evaluation results on the public test set. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.F3" title="Figure 3 ‣ 5.1. Detailed Analysis ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a> shows the detailed scores in Task 1 setting.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">For the domain attribute, we perform well in areas such as movies, music, and open topics, but our performance is lacking in finance and sports. This is due to the fact that these two domains require the model to have the ability to answer dynamic information that changes over time. To prevent hallucinations, our model opts to refuse to answer such queries. The performance regarding the attribute of dynamism reaches the same conclusion: as the dynamism of the model increases, the effectiveness of our system gradually declines. Regarding the score distribution across question types, our analysis indicates that the system exhibits superior performance on tasks requiring complex reasoning, which benefits from the robust functionality of our integrated reasoning module.</p>
</div>
<figure class="ltx_figure" id="S5.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="526" id="S5.F3.g1" src="x3.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Detailed score across different attributes in the local evaluation of Task 1.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Ablation Study</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">We performed extensive experiments to validate the enhancements contributed by individual components of our system. We developed the system incrementally, systematically verifying and integrating beneficial modules. Consequently, comprehensive ablation studies, which would involve removing each component from the final system, were not conducted. Instead, we documented the rationale behind the inclusion of each module and its resulting improvements. Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.T2" title="Table 2 ‣ 5.2. Ablation Study ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a> outlines the primary construction pathway of our system.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">We started from the baseline model of Task 1<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The model can be found <a class="ltx_ref ltx_href" href="https://gitlab.aicrowd.com/aicrowd/challenges/meta-comprehensive-rag-benchmark-kdd-cup-2024/meta-comphrehensive-rag-benchmark-starter-kit/-/blob/master/models/rag_llama_baseline.py" style="color:#FF00FF;" title="">here</a>.</span></span></span> and did a lot of refinement and added modules to it. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.T2" title="Table 2 ‣ 5.2. Ablation Study ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a>, each module we added would increase the final score. The main optimization directions are reducing hallucinations and increasing correctness.</p>
</div>
<figure class="ltx_table" id="S5.T2">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T2.3" style="width:195.1pt;height:113.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-112.8pt,65.6pt) scale(0.463760687796397,0.463760687796397) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.3.3">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T2.3.3.3">
<td class="ltx_td ltx_border_r ltx_border_tt" id="S5.T2.3.3.3.4"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.1">Correct (%)<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T2.1.1.1.1.m1.1"><semantics id="S5.T2.1.1.1.1.m1.1a"><mo id="S5.T2.1.1.1.1.m1.1.1" stretchy="false" xref="S5.T2.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T2.1.1.1.1.m1.1b"><ci id="S5.T2.1.1.1.1.m1.1.1.cmml" xref="S5.T2.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T2.1.1.1.1.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.3.3.3.5">Missing (%)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.2.2.2.2">Hallucination (%)<math alttext="\downarrow" class="ltx_Math" display="inline" id="S5.T2.2.2.2.2.m1.1"><semantics id="S5.T2.2.2.2.2.m1.1a"><mo id="S5.T2.2.2.2.2.m1.1.1" stretchy="false" xref="S5.T2.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S5.T2.2.2.2.2.m1.1b"><ci id="S5.T2.2.2.2.2.m1.1.1.cmml" xref="S5.T2.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.2.2.2.2.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S5.T2.2.2.2.2.m1.1d">↓</annotation></semantics></math>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S5.T2.3.3.3.3">Score<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T2.3.3.3.3.m1.1"><semantics id="S5.T2.3.3.3.3.m1.1a"><mo id="S5.T2.3.3.3.3.m1.1.1" stretchy="false" xref="S5.T2.3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T2.3.3.3.3.m1.1b"><ci id="S5.T2.3.3.3.3.m1.1.1.cmml" xref="S5.T2.3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T2.3.3.3.3.m1.1d">↑</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.4.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.3.3.4.1.1">Official RAG Baseline</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.3.3.4.1.2">16.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.3.3.4.1.3">0.0</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.3.3.4.1.4">83.8</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T2.3.3.4.1.5">-67.6</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.5.2">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.5.2.1">+ Optimized Chunk Extraction</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.5.2.2">23.7</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.5.2.3">0.0</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.5.2.4">76.3</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.5.2.5">-52.6</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.6.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.6.3.1">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.3.3.6.3.1.1">
<tr class="ltx_tr" id="S5.T2.3.3.6.3.1.1.1">
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T2.3.3.6.3.1.1.1.1">+ Llama3-70B-GPTQ</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.6.3.1.1.2">
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T2.3.3.6.3.1.1.2.1">     &amp; Prompt Refinement</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.6.3.2">24.4</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.6.3.3">50.8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.6.3.4">24.8</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.6.3.5">-0.3</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.7.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.7.4.1">+ Attribute Predictor</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.7.4.2">19.9</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.7.4.3">65.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.7.4.4">14.7</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.7.4.5">5.2</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.8.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.8.5.1">+ Table Extractor</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.8.5.2">21.3</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.8.5.3">63.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.8.5.4">15.2</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.8.5.5">6.1</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.9.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.9.6.1">+ Numerical Calculator</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.9.6.2">23.7</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.9.6.3">29.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.9.6.4">16.6</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.9.6.5">7.2</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.10.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.10.7.1">+ Reasoning Module</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.10.7.2">20.9</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.10.7.3">67.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.10.7.4">11.8</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.10.7.5">9.1</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.11.8">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.11.8.1">+ False Premise Identify</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.11.8.2">26.0</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.11.8.3">60.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.11.8.4">13.5</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.11.8.5">12.5</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.12.9">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.3.3.12.9.1">+ LLM Knowledge Extractor</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.12.9.2">27.3</td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.3.12.9.3">59.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.3.3.12.9.4">13.4</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.3.12.9.5">13.9</td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.13.10">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S5.T2.3.3.13.10.1">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.3.3.13.10.1.1">
<tr class="ltx_tr" id="S5.T2.3.3.13.10.1.1.1">
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T2.3.3.13.10.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.1.1.1.1.1">+ KG Module</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.3.3.13.10.1.1.2">
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T2.3.3.13.10.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.1.1.2.1.1">(Final System)</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.3.3.13.10.2"><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.2.1">29.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.3.3.13.10.3"><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.3.1">56.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T2.3.3.13.10.4"><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.4.1">13.9</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.3.3.13.10.5">
<span class="ltx_ERROR undefined" id="S5.T2.3.3.13.10.5.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T2.3.3.13.10.5.2">15.8</span>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>Ablation results of our system. The modules are gradually added to the system. The results are tested in Task 1 and Task 2, which are only different in using KG.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Analysis For Private Evaluation</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">Although the competition organizers have not provided a comprehensive and detailed analysis of the results on the private leaderboard, we can still present the currently published results and analyze our system. Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.T3" title="Table 3 ‣ 5.3. Analysis For Private Evaluation ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a> shows the score for Task 1 in private evaluation. Our system achieved scores close to the champion in Task 1 but fell significantly behind in Task 2 and Task 3. We believe this is due to our underutilization of the information from the knowledge graph. Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.T4" title="Table 4 ‣ 5.3. Analysis For Private Evaluation ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a> shows the prizes we won from 5 out of 7 question types in Task 2. We find that our system performs well on question types that require complex reasoning, such as aggregation and multi-hop, which we attribute to our reasoning module.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T3.1" style="width:195.1pt;height:24pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-125.8pt,15.2pt) scale(0.436770774981584,0.436770774981584) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T3.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T3.1.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S5.T3.1.1.1.1.2">Task 1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S5.T3.1.1.1.1.3">Task 2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S5.T3.1.1.1.1.4">Task 3</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.1.2.1.1">Team</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.2">db3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.3">md_dh</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.1.4">
<span class="ltx_ERROR undefined" id="S5.T3.1.1.2.1.4.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.1.4.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.5">db3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.6">APEX</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.1.7">md_dh</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.8">db3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.9">APEX</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1.10">vslyu-team</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T3.1.1.3.2.1">Score(%)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.2">28.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.3">24.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T3.1.1.3.2.4">21.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.5">42.7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.6">41.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T3.1.1.3.2.7">31.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.8">47.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.9">44.9</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.1.1.3.2.10">25.6</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>The evaluation results in the private test set.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">Furthermore, Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#S5.F4" title="Figure 4 ‣ 5.3. Analysis For Private Evaluation ‣ 5. Experiments ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a> illustrates the scores across various attributes, revealing that our focus has been on static and slow-changing questions, neglecting the challenging time-varying ones. This deficiency in handling dynamic questions has also led to suboptimal performance in financial question types. The score results align with those from our internal assessment; however, we encountered a higher number of incorrect responses in the movie domain and on simple question types. We hypothesize that this discrepancy may stem from variations in question distribution between our local evaluation and online test datasets. Additionally, our performance in popularity aligns well with the expectations set forth in the CRAG Benchmark <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#bib.bib71" title="">2024a</a>)</cite>.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T4.1" style="width:151.8pt;height:88.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-47.0pt,27.6pt) scale(0.617297378347631,0.617297378347631) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T4.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S5.T4.1.1.1.1.1">Question Type</th>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T4.1.1.1.1.2">Team</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_tt" id="S5.T4.1.1.1.1.3">Score(%)</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T4.1.1.2.2.1">simple_w_condition</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.1.2.2.2">
<span class="ltx_ERROR undefined" id="S5.T4.1.1.2.2.2.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.2.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T4.1.1.2.2.3">23.9</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.1.3.3.1">set</th>
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.3.3.2">
<span class="ltx_ERROR undefined" id="S5.T4.1.1.3.3.2.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.3.2.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T4.1.1.3.3.3">36.65</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.1.4.4.1">comparison</th>
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.4.4.2">dRAGonRAnGers</td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T4.1.1.4.4.3">38</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.1.5.5.1">aggregation</th>
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.5.5.2">
<span class="ltx_ERROR undefined" id="S5.T4.1.1.5.5.2.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.5.5.2.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T4.1.1.5.5.3">18.75</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.1.6.6.1">multi_hop</th>
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.6.6.2">
<span class="ltx_ERROR undefined" id="S5.T4.1.1.6.6.2.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.6.6.2.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T4.1.1.6.6.3">23.2</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.1.7.7.1">post_processing</th>
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.7.7.2">
<span class="ltx_ERROR undefined" id="S5.T4.1.1.7.7.2.1">\ul</span><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.7.7.2.2">ElectricSheep</span>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S5.T4.1.1.7.7.3">11.75</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T4.1.1.8.8.1">false_premise</th>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T4.1.1.8.8.2">Future</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb" id="S5.T4.1.1.8.8.3">64.6</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>The scores of the prizes we won in Task 2.</figcaption>
</figure>
<figure class="ltx_figure" id="S5.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="526" id="S5.F4.g1" src="x4.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Detailed score across different attributes in the online private evaluation Task 1.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">With the designed RAG system, we finally got 3rd place in task 1 and got the prize for 5 out of 7 question types in task 2. The final evaluation scores can be found in the <a class="ltx_ref ltx_href" href="https://discourse.aicrowd.com/t/meta-crag-challenge-2024-winners-announcement/10786" style="color:#FF00FF;" title="">Winners Announcement</a>. The table extractor, reasoning module, and calculator module have demonstrated substantial enhancements over the baseline system. Additionally, the ICL attribute predictor has significantly reduced hallucinations in responses to difficult questions.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Discussions</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Many aspects of our system can be improved. For example, we only used two tower models for retrieval, while re-ranker models are more suitable for task 1. Moreover, a two-stage retrieval and re-ranker system should be used for task 3. We didn’t optimize the KG information retrieval in task 2, which can be improved a lot in the future. The current methods for handling tables are relatively simple. Some tables are useless or too large with a lot of noise, but we didn’t handle these cases. There should be retrieval and structural query methods specifically designed for tables.

</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This project is partially supported by the National Key Research and Development Program of China with Grant No. 2023YFC3341203 as well as the National Natural Science Foundation of China with Grant Number 62276002.
We thank Prof. Ming Zhang’s mentorship and support to the team and Alan Wu’s assistance and discussions.

</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">AlKhamissi et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Badr AlKhamissi, Millicent Li, Asli Celikyilmaz, Mona Diab, and Marjan Ghazvininejad. 2022.

</span>
<span class="ltx_bibblock">A Review on Language Models as Knowledge Bases.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2204.06031

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2204.06031" title="">https://arxiv.org/abs/2204.06031</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arefeen et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Md Adnan Arefeen, Biplob Debnath, and Srimat Chakradhar. 2024.

</span>
<span class="ltx_bibblock">Leancontext: Cost-efficient domain-specific question answering using llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Natural Language Processing Journal</em> 7 (2024), 100065.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">arXiv preprint arXiv:2310.11511</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bevilacqua et al<span class="ltx_text" id="bib.bib5.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Michele Bevilacqua, Giuseppe Ottaviano, Patrick Lewis, Scott Yih, Sebastian Riedel, et al<span class="ltx_text" id="bib.bib5.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Autoregressive search engines: Generating substrings as document identifiers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.5.1">Advances in Neural Information Processing Systems</em> 35 (2022), 31668–31683.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Danqi Chen, Adam Fisch, Jason Weston, and Antoine Bordes. 2017.

</span>
<span class="ltx_bibblock">Reading wikipedia to answer open-domain questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:1704.00051</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib7.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhuyun Dai, Vincent Y Zhao, Ji Ma, Yi Luan, Jianmo Ni, et al<span class="ltx_text" id="bib.bib7.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Promptagator: Few-shot dense retrieval from 8 examples.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.5.1">arXiv preprint arXiv:2209.11755</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2018.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">arXiv preprint arXiv:1810.04805</em> (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Douze et al<span class="ltx_text" id="bib.bib9.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Matthijs Douze, Alexandr Guzhva, Chengqi Deng, Jeff Johnson, Gergely Szilvasy, et al<span class="ltx_text" id="bib.bib9.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">The Faiss library.

</span>
<span class="ltx_bibblock">(2024).

</span>
<span class="ltx_bibblock">arXiv:cs.LG/2401.08281

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dubey et al<span class="ltx_text" id="bib.bib10.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, et al<span class="ltx_text" id="bib.bib10.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">The Llama 3 Herd of Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.5.1">arXiv preprint arXiv:2407.21783</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Echihabi et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Karima Echihabi, Kostas Zoumpatianos, and Themis Palpanas. 2021.

</span>
<span class="ltx_bibblock">New trends in high-d vector similarity search: al-driven, progressive, and distributed.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the VLDB Endowment</em> 14, 12 (2021), 3198–3201.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Cong Fu, Chao Xiang, Changxu Wang, and Deng Cai. 2017.

</span>
<span class="ltx_bibblock">Fast approximate nearest neighbor search with the navigating spreading-out graph.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">arXiv preprint arXiv:1707.00143</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib13.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, et al<span class="ltx_text" id="bib.bib13.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.5.1">arXiv preprint arXiv:2312.10997</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geva et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Mor Geva, Ankit Gupta, and Jonathan Berant. 2020.

</span>
<span class="ltx_bibblock">Injecting numerical reasoning skills into language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">arXiv preprint arXiv:2004.04487</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Glass et al<span class="ltx_text" id="bib.bib15.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Michael Glass, Gaetano Rossiello, Md Faisal Mahbub Chowdhury, Ankita Rajaram Naik, Pengshan Cai, et al<span class="ltx_text" id="bib.bib15.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Re2G: Retrieve, rerank, generate.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.5.1">arXiv preprint arXiv:2207.06300</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goldberg (2019)</span>
<span class="ltx_bibblock">
Yoav Goldberg. 2019.

</span>
<span class="ltx_bibblock">Assessing BERT’s Syntactic Abilities.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/1901.05287

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1901.05287" title="">https://arxiv.org/abs/1901.05287</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gormley and Tong (2015)</span>
<span class="ltx_bibblock">
Clinton Gormley and Zachary Tong. 2015.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Elasticsearch: the definitive guide: a distributed real-time search and analytics engine</em>.

</span>
<span class="ltx_bibblock">” O’Reilly Media, Inc.”.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.

</span>
<span class="ltx_bibblock">Retrieval augmented language model pre-training. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">International conference on machine learning</em>. PMLR, 3929–3938.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hofstätter et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sebastian Hofstätter, Jiecao Chen, Karthik Raman, and Hamed Zamani. 2023.

</span>
<span class="ltx_bibblock">Fid-light: Efficient and effective retrieval-augmented text generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 1437–1447.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang and Huang (2024)</span>
<span class="ltx_bibblock">
Yizheng Huang and Jimmy Huang. 2024.

</span>
<span class="ltx_bibblock">A Survey on Retrieval-Augmented Text Generation for Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2404.10981</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard and Grave (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock">Leveraging Passage Retrieval with Generative Models for Open Domain Question Answering.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2007.01282

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2007.01282" title="">https://arxiv.org/abs/2007.01282</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al<span class="ltx_text" id="bib.bib22.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, et al<span class="ltx_text" id="bib.bib22.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Atlas: Few-shot learning with retrieval augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.5.1">Journal of Machine Learning Research</em> 24, 251 (2023), 1–43.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jansen et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Bernard J Jansen, Danielle L Booth, and Amanda Spink. 2009.

</span>
<span class="ltx_bibblock">Patterns of query reformulation during web searching.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">Journal of the american society for information science and technology</em> 60, 7 (2009), 1358–1371.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jegou et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2010)</span>
<span class="ltx_bibblock">
Herve Jegou, Matthijs Douze, and Cordelia Schmid. 2010.

</span>
<span class="ltx_bibblock">Product quantization for nearest neighbor search.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">IEEE transactions on pattern analysis and machine intelligence</em> 33, 1 (2010), 117–128.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al<span class="ltx_text" id="bib.bib25.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Albert Q. Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra Singh Chaplot, et al<span class="ltx_text" id="bib.bib25.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Mistral 7B.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2310.06825

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2310.06825" title="">https://arxiv.org/abs/2310.06825</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jeff Johnson, Matthijs Douze, and Hervé Jégou. 2019.

</span>
<span class="ltx_bibblock">Billion-scale similarity search with GPUs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">IEEE Transactions on Big Data</em> 7, 3 (2019), 535–547.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Juvekar and Purwar (2024)</span>
<span class="ltx_bibblock">
Kush Juvekar and Anupam Purwar. 2024.

</span>
<span class="ltx_bibblock">Cos-mix: cosine similarity and distance fusion for improved information retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2406.00638</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Minki Kang, Jin Myung Kwak, Jinheon Baek, and Sung Ju Hwang. 2023.

</span>
<span class="ltx_bibblock">Knowledge graph-augmented language models for knowledge-grounded dialogue generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2305.18846</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al<span class="ltx_text" id="bib.bib29.3.3.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, et al<span class="ltx_text" id="bib.bib29.4.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.5.1">arXiv preprint arXiv:2004.04906</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khandelwal et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis. 2019.

</span>
<span class="ltx_bibblock">Generalization through memorization: Nearest neighbor language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">arXiv preprint arXiv:1911.00172</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khattab and Zaharia (2020)</span>
<span class="ltx_bibblock">
Omar Khattab and Matei Zaharia. 2020.

</span>
<span class="ltx_bibblock">Colbert: Efficient and effective passage search via contextualized late interaction over bert. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 43rd International ACM SIGIR conference on research and development in Information Retrieval</em>. 39–48.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al<span class="ltx_text" id="bib.bib32.3.3.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, et al<span class="ltx_text" id="bib.bib32.4.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.5.1">Advances in Neural Information Processing Systems</em> 33 (2020), 9459–9474.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib33.3.3.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Chengwu Liu, Jianhao Shen, Huajian Xin, Zhengying Liu, Ye Yuan, et al<span class="ltx_text" id="bib.bib33.4.1">.</span> 2023b.

</span>
<span class="ltx_bibblock">Fimo: A challenge formal dataset for automated theorem proving.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.5.1">arXiv preprint arXiv:2309.04295</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Junyi Liu, Liangzhi Li, Tong Xiang, Bowen Wang, and Yiming Qian. 2023a.

</span>
<span class="ltx_bibblock">Tcra-llm: Token compression retrieval augmented large language model for inference cost reduction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">arXiv preprint arXiv:2310.15556</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Long et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Cui Long, Yongbin Liu, Chunping Ouyang, and Ying Yu. 2024.

</span>
<span class="ltx_bibblock">Bailicai: A Domain-Optimized Retrieval-Augmented Generation Framework for Medical Applications.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2407.21055

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2407.21055" title="">https://arxiv.org/abs/2407.21055</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xinbei Ma, Yeyun Gong, Pengcheng He, Hai Zhao, and Nan Duan. 2023.

</span>
<span class="ltx_bibblock">Query rewriting for retrieval-augmented large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">arXiv preprint arXiv:2305.14283</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Malkov and Yashunin (2018)</span>
<span class="ltx_bibblock">
Yu A Malkov and Dmitry A Yashunin. 2018.

</span>
<span class="ltx_bibblock">Efficient and robust approximate nearest neighbor search using hierarchical navigable small world graphs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">IEEE transactions on pattern analysis and machine intelligence</em> 42, 4 (2018), 824–836.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McCreight (1976)</span>
<span class="ltx_bibblock">
Edward M McCreight. 1976.

</span>
<span class="ltx_bibblock">A space-economical suffix tree construction algorithm.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Journal of the ACM (JACM)</em> 23, 2 (1976), 262–272.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nakano et al<span class="ltx_text" id="bib.bib39.3.3.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, et al<span class="ltx_text" id="bib.bib39.4.1">.</span> 2021.

</span>
<span class="ltx_bibblock">Webgpt: Browser-assisted question-answering with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.5.1">arXiv preprint arXiv:2112.09332</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni et al<span class="ltx_text" id="bib.bib40.3.3.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jianmo Ni, Gustavo Hernandez Abrego, Noah Constant, Ji Ma, Keith B Hall, et al<span class="ltx_text" id="bib.bib40.4.1">.</span> 2021.

</span>
<span class="ltx_bibblock">Sentence-t5: Scalable sentence encoders from pre-trained text-to-text models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.5.1">arXiv preprint arXiv:2108.08877</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span class="ltx_text" id="bib.bib41.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeff Wu, Xu Jiang, Diogo Almeida, Carroll L. Wainwright, et al<span class="ltx_text" id="bib.bib41.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2203.02155

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2203.02155" title="">https://arxiv.org/abs/2203.02155</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et al<span class="ltx_text" id="bib.bib42.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yu Pan, Ye Yuan, Yichun Yin, Jiaxin Shi, Zenglin Xu, et al<span class="ltx_text" id="bib.bib42.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Preparing Lessons for Progressive Training on Language Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib42.5.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, Vol. 38. 18860–18868.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et al<span class="ltx_text" id="bib.bib43.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yu Pan, Ye Yuan, Yichun Yin, Zenglin Xu, Lifeng Shang, et al<span class="ltx_text" id="bib.bib43.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Reusing pretrained models by multi-linear operators for efficient training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.5.1">Advances in Neural Information Processing Systems</em> 36 (2023), 3248–3262.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paranjape et al<span class="ltx_text" id="bib.bib44.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Bhargavi Paranjape, Scott Lundberg, Sameer Singh, Hannaneh Hajishirzi, Luke Zettlemoyer, et al<span class="ltx_text" id="bib.bib44.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Art: Automatic multi-step reasoning and tool-use for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.5.1">arXiv preprint arXiv:2303.09014</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peters et al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Matthew E. Peters, Mark Neumann, Luke Zettlemoyer, and Wen tau Yih. 2018.

</span>
<span class="ltx_bibblock">Dissecting Contextual Word Embeddings: Architecture and Representation.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/1808.08949

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1808.08949" title="">https://arxiv.org/abs/1808.08949</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Petroni et al<span class="ltx_text" id="bib.bib46.3.3.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Fabio Petroni, Tim Rocktäschel, Patrick Lewis, Anton Bakhtin, Yuxiang Wu, et al<span class="ltx_text" id="bib.bib46.4.1">.</span> 2019.

</span>
<span class="ltx_bibblock">Language Models as Knowledge Bases?

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/1909.01066

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1909.01066" title="">https://arxiv.org/abs/1909.01066</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Polu and Sutskever (2020)</span>
<span class="ltx_bibblock">
Stanislas Polu and Ilya Sutskever. 2020.

</span>
<span class="ltx_bibblock">Generative language modeling for automated theorem proving.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2009.03393</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al<span class="ltx_text" id="bib.bib48.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Stefano Ermon, Christopher D. Manning, et al<span class="ltx_text" id="bib.bib48.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Direct Preference Optimization: Your Language Model is Secretly a Reward Model.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.LG/2305.18290

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2305.18290" title="">https://arxiv.org/abs/2305.18290</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al<span class="ltx_text" id="bib.bib49.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, et al<span class="ltx_text" id="bib.bib49.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.5.1">Transactions of the Association for Computational Linguistics</em> 11 (2023), 1316–1331.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson et al<span class="ltx_text" id="bib.bib50.3.3.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Stephen Robertson, Hugo Zaragoza, et al<span class="ltx_text" id="bib.bib50.4.1">.</span> 2009.

</span>
<span class="ltx_bibblock">The probabilistic relevance framework: BM25 and beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.5.1">Foundations and Trends® in Information Retrieval</em> 3, 4 (2009), 333–389.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Safavi and Koutra (2021)</span>
<span class="ltx_bibblock">
Tara Safavi and Danai Koutra. 2021.

</span>
<span class="ltx_bibblock">Relational World Knowledge Representation in Contextual Language Models: A Review.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2104.05837

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2104.05837" title="">https://arxiv.org/abs/2104.05837</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schick et al<span class="ltx_text" id="bib.bib52.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Timo Schick, Jane Dwivedi-Yu, Roberto Dessì, Roberta Raileanu, Maria Lomeli, et al<span class="ltx_text" id="bib.bib52.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Toolformer: language models can teach themselves to use tools. 2023.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.5.1">arXiv preprint arXiv:2302.04761</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov. 2017.

</span>
<span class="ltx_bibblock">Proximal Policy Optimization Algorithms.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.LG/1707.06347

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1707.06347" title="">https://arxiv.org/abs/1707.06347</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen et al<span class="ltx_text" id="bib.bib54.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jianhao Shen, Chenguang Wang, Ye Yuan, Jiawei Han, Heng Ji, et al<span class="ltx_text" id="bib.bib54.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">PALT: Parameter-lite transfer of language models for knowledge graph completion.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.5.1">arXiv preprint arXiv:2210.13715</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen et al<span class="ltx_text" id="bib.bib55.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jianhao Shen, Ye Yuan, Srbuhi Mirzoyan, Ming Zhang, and Chenguang Wang. 2024.

</span>
<span class="ltx_bibblock">Measuring vision-language stem skills of neural models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.3.1">arXiv preprint arXiv:2402.17205</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Devendra Singh, Siva Reddy, Will Hamilton, Chris Dyer, and Dani Yogatama. 2021.

</span>
<span class="ltx_bibblock">End-to-end training of multi-document reader and retriever for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">Advances in Neural Information Processing Systems</em> 34 (2021), 25968–25981.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sparck Jones (1972)</span>
<span class="ltx_bibblock">
Karen Sparck Jones. 1972.

</span>
<span class="ltx_bibblock">A statistical interpretation of term specificity and its application in retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">Journal of documentation</em> 28, 1 (1972), 11–21.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Steck et al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Harald Steck, Chaitanya Ekanadham, and Nathan Kallus. 2024.

</span>
<span class="ltx_bibblock">Is cosine-similarity of embeddings really about similarity?. In <em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">Companion Proceedings of the ACM on Web Conference 2024</em>. 887–890.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> ([n. d.])</span>
<span class="ltx_bibblock">
Zhiqing Sun, Xuezhi Wang, Yi Tay, Yiming Yang, and Denny Zhou. [n. d.].

</span>
<span class="ltx_bibblock">Recitation-Augmented Language Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib59.3.1">The Eleventh International Conference on Learning Representations</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al<span class="ltx_text" id="bib.bib60.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Gemini Team, Rohan Anil, Sebastian Borgeaud, Jean-Baptiste Alayrac, Jiahui Yu, et al<span class="ltx_text" id="bib.bib60.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Gemini: A Family of Highly Capable Multimodal Models.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2312.11805

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2312.11805" title="">https://arxiv.org/abs/2312.11805</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team (2024)</span>
<span class="ltx_bibblock">
OpenAI Team. 2024.

</span>
<span class="ltx_bibblock">GPT-4 Technical Report.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2303.08774

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2303.08774" title="">https://arxiv.org/abs/2303.08774</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vu et al<span class="ltx_text" id="bib.bib62.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Tu Vu, Mohit Iyyer, Xuezhi Wang, Noah Constant, Jerry Wei, et al<span class="ltx_text" id="bib.bib62.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">FreshLLMs: Refreshing Large Language Models with Search Engine Augmentation.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2310.03214

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2310.03214" title="">https://arxiv.org/abs/2310.03214</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib63.3.3.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Haiming Wang, Ye Yuan, Zhengying Liu, Jianhao Shen, Yichun Yin, et al<span class="ltx_text" id="bib.bib63.4.1">.</span> 2023b.

</span>
<span class="ltx_bibblock">Dt-solver: Automated theorem proving with dynamic-tree sampling guided by proof-level value function. In <em class="ltx_emph ltx_font_italic" id="bib.bib63.5.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>. 12632–12646.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib64.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Haoyu Wang, Tuo Zhao, and Jing Gao. 2024.

</span>
<span class="ltx_bibblock">BlendFilter: Advancing Retrieval-Augmented Large Language Models via Query Generation Blending and Knowledge Filtering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib64.3.1">arXiv preprint arXiv:2402.11129</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib65.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Zhiruo Wang, Jun Araki, Zhengbao Jiang, Md Rizwan Parvez, and Graham Neubig. 2023a.

</span>
<span class="ltx_bibblock">Learning to filter context for retrieval-augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib65.3.1">arXiv preprint arXiv:2311.08377</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span class="ltx_text" id="bib.bib66.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian Ichter, et al<span class="ltx_text" id="bib.bib66.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Chain-of-Thought Prompting Elicits Reasoning in Large Language Models.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2201.11903

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2201.11903" title="">https://arxiv.org/abs/2201.11903</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib67.3.3.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Shangyu Wu, Ying Xiong, Yufei Cui, Haolun Wu, Can Chen, et al<span class="ltx_text" id="bib.bib67.4.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Retrieval-Augmented Generation for Natural Language Processing: A Survey.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2407.13193

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2407.13193" title="">https://arxiv.org/abs/2407.13193</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiong et al<span class="ltx_text" id="bib.bib68.3.3.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jing Xiong, Jianhao Shen, Ye Yuan, Haiming Wang, Yichun Yin, et al<span class="ltx_text" id="bib.bib68.4.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Trigo: Benchmarking formal mathematical proof reduction for generative language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib68.5.1">arXiv preprint arXiv:2310.10180</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span class="ltx_text" id="bib.bib69.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Fangyuan Xu, Weijia Shi, and Eunsol Choi. 2023.

</span>
<span class="ltx_bibblock">Recomp: Improving retrieval-augmented lms with compression and selective augmentation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib69.3.1">arXiv preprint arXiv:2310.04408</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib70.3.3.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
An Yang, Baosong Yang, Binyuan Hui, Bo Zheng, Bowen Yu, et al<span class="ltx_text" id="bib.bib70.4.1">.</span> 2024b.

</span>
<span class="ltx_bibblock">Qwen2 Technical Report.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2407.10671

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2407.10671" title="">https://arxiv.org/abs/2407.10671</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib71.3.3.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Xiao Yang, Kai Sun, Hao Xin, Yushi Sun, Nikita Bhalla, et al<span class="ltx_text" id="bib.bib71.4.1">.</span> 2024a.

</span>
<span class="ltx_bibblock">CRAG – Comprehensive RAG Benchmark.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:cs.CL/2406.04744

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.04744" title="">https://arxiv.org/abs/2406.04744</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib72">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al<span class="ltx_text" id="bib.bib72.3.3.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Shi Yu, Jiahua Liu, Jingqin Yang, Chenyan Xiong, Paul Bennett, et al<span class="ltx_text" id="bib.bib72.4.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Few-shot generative conversational query rewriting. In <em class="ltx_emph ltx_font_italic" id="bib.bib72.5.1">Proceedings of the 43rd International ACM SIGIR conference on research and development in Information Retrieval</em>. 1933–1936.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib73">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al<span class="ltx_text" id="bib.bib73.3.3.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Wenhao Yu, Dan Iter, Shuohang Wang, Yichong Xu, Mingxuan Ju, et al<span class="ltx_text" id="bib.bib73.4.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Generate rather than retrieve: Large language models are strong context generators.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib73.5.1">arXiv preprint arXiv:2209.10063</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib74">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al<span class="ltx_text" id="bib.bib74.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Ye Yuan, Kexin Tang, Jianhao Shen, Ming Zhang, and Chenguang Wang. 2024.

</span>
<span class="ltx_bibblock">Measuring Social Norms of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib74.3.1">arXiv preprint arXiv:2404.02491</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib75">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zobel and Moffat (2006)</span>
<span class="ltx_bibblock">
Justin Zobel and Alistair Moffat. 2006.

</span>
<span class="ltx_bibblock">Inverted files for text search engines.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib75.1.1">ACM computing surveys (CSUR)</em> 38, 2 (2006), 6–es.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Hyper-Parameters of the Final System</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">We list the hyper-parameters of our final system here in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05141v3#A1.T5" title="Table 5 ‣ Appendix A Hyper-Parameters of the Final System ‣ A Hybrid RAG System with Comprehensive Enhancement on Complex Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a>, more details can be found in our <a class="ltx_ref ltx_href" href="https://gitlab.aicrowd.com/shizueyy/crag-new/-/blob/main/models/model_task_1_add_direct_answer.py?ref_type=heads#L495" style="color:#FF00FF;" title="">source code</a>. Moreover, we enable all modules for the static questions.</p>
</div>
<figure class="ltx_table" id="A1.T5">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A1.T5.3">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T5.3.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A1.T5.3.4.1.1">Hyper-Parameter</th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T5.3.4.1.2">Value</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T5.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A1.T5.1.1.2">Chunk Size</th>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="A1.T5.1.1.1"><math alttext="200\times 3" class="ltx_Math" display="inline" id="A1.T5.1.1.1.m1.1"><semantics id="A1.T5.1.1.1.m1.1a"><mrow id="A1.T5.1.1.1.m1.1.1" xref="A1.T5.1.1.1.m1.1.1.cmml"><mn id="A1.T5.1.1.1.m1.1.1.2" xref="A1.T5.1.1.1.m1.1.1.2.cmml">200</mn><mo id="A1.T5.1.1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A1.T5.1.1.1.m1.1.1.1.cmml">×</mo><mn id="A1.T5.1.1.1.m1.1.1.3" xref="A1.T5.1.1.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T5.1.1.1.m1.1b"><apply id="A1.T5.1.1.1.m1.1.1.cmml" xref="A1.T5.1.1.1.m1.1.1"><times id="A1.T5.1.1.1.m1.1.1.1.cmml" xref="A1.T5.1.1.1.m1.1.1.1"></times><cn id="A1.T5.1.1.1.m1.1.1.2.cmml" type="integer" xref="A1.T5.1.1.1.m1.1.1.2">200</cn><cn id="A1.T5.1.1.1.m1.1.1.3.cmml" type="integer" xref="A1.T5.1.1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.1.1.1.m1.1c">200\times 3</annotation><annotation encoding="application/x-llamapun" id="A1.T5.1.1.1.m1.1d">200 × 3</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="A1.T5.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T5.2.2.2">Chunk Number</th>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T5.2.2.1"><math alttext="10" class="ltx_Math" display="inline" id="A1.T5.2.2.1.m1.1"><semantics id="A1.T5.2.2.1.m1.1a"><mn id="A1.T5.2.2.1.m1.1.1" xref="A1.T5.2.2.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A1.T5.2.2.1.m1.1b"><cn id="A1.T5.2.2.1.m1.1.1.cmml" type="integer" xref="A1.T5.2.2.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.2.2.1.m1.1c">10</annotation><annotation encoding="application/x-llamapun" id="A1.T5.2.2.1.m1.1d">10</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="A1.T5.3.5.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T5.3.5.1.1">Embedding Model</th>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T5.3.5.1.2">sentence-t5-large</td>
</tr>
<tr class="ltx_tr" id="A1.T5.3.6.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T5.3.6.2.1">Retrieval Method</th>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T5.3.6.2.2">two tower &amp; cosine similarity</td>
</tr>
<tr class="ltx_tr" id="A1.T5.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A1.T5.3.3.2">Max Table Length</th>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="A1.T5.3.3.1"><math alttext="4000" class="ltx_Math" display="inline" id="A1.T5.3.3.1.m1.1"><semantics id="A1.T5.3.3.1.m1.1a"><mn id="A1.T5.3.3.1.m1.1.1" xref="A1.T5.3.3.1.m1.1.1.cmml">4000</mn><annotation-xml encoding="MathML-Content" id="A1.T5.3.3.1.m1.1b"><cn id="A1.T5.3.3.1.m1.1.1.cmml" type="integer" xref="A1.T5.3.3.1.m1.1.1">4000</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.3.3.1.m1.1c">4000</annotation><annotation encoding="application/x-llamapun" id="A1.T5.3.3.1.m1.1d">4000</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5. </span>Hyper-parameters of our final system.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Question Identification</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">The source code we used to identify questions is shown as follows:</p>
</div>
<div class="ltx_para" id="A2.p2">
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A2.p2.1" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,U1RBUlRfV09SRFMgPSBbCiAgICAid2hvIiwgIndoYXQiLCAid2hlbiIsICJ3aGVyZSIsICJ3aHkiLAogICAgImhvdyIsICJpcyIsICJjYW4iLCAiZG9lcyIsICJkbyIsICJkaWQiLAogICAgIndpbGwiLCAid291bGQiLCAiY291bGQiLCAic2hvdWxkIiwKICAgICJhcmUiLCAid2FzIiwgIndlcmUiLAogICAgImhhcyIsICJoYXZlIiwgImhhZCIsCiAgICAid2hpY2giLCAid2hvbSIsICJ3aG9zZSIsCl0KZGVmIGlzX3F1ZXN0aW9uKHNlbnRlbmNlOiBzdHIpOgogICAgcmV0dXJuIHNlbnRlbmNlLmxvd2VyKCkuZW5kc3dpdGgoIj8iKSBvciBcCiAgICAgICAgICAgc2VudGVuY2UubG93ZXIoKS5zdGFydHN3aXRoKHR1cGxlKFNUQVJUX1dPUkRTKSk=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx1">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx1.1" style="font-size:50%;">START_WORDS</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx1.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx1.4" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.5" style="font-size:50%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx2.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx2.2.1" style="color:#800000;">"who"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx2.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx2.5.1" style="color:#800000;">"what"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx2.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx2.8.1" style="color:#800000;">"when"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.9" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx2.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx2.11.1" style="color:#800000;">"where"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.12" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.13" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx2.14" style="font-size:50%;"><span class="ltx_text" id="lstnumberx2.14.1" style="color:#800000;">"why"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.15" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.2.1" style="color:#800000;">"how"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.5.1" style="color:#800000;">"is"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.8.1" style="color:#800000;">"can"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.9" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.11.1" style="color:#800000;">"does"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.12" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.13" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.14" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.14.1" style="color:#800000;">"do"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.15" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.16" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.17" style="font-size:50%;"><span class="ltx_text" id="lstnumberx3.17.1" style="color:#800000;">"did"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.18" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx4.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx4.2.1" style="color:#800000;">"will"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx4.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx4.5.1" style="color:#800000;">"would"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx4.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx4.8.1" style="color:#800000;">"could"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.9" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx4.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx4.11.1" style="color:#800000;">"should"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.12" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx5.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx5.2.1" style="color:#800000;">"are"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx5.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx5.5.1" style="color:#800000;">"was"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx5.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx5.8.1" style="color:#800000;">"were"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.9" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx6.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx6.2.1" style="color:#800000;">"has"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx6.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx6.5.1" style="color:#800000;">"have"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx6.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx6.8.1" style="color:#800000;">"had"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.9" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx7.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx7.2.1" style="color:#800000;">"which"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx7.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx7.5.1" style="color:#800000;">"whom"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx7.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx7.8.1" style="color:#800000;">"whose"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.9" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.1" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx9.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx9.1.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.3" style="font-size:50%;">is_question</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx9.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx9.5.1" style="color:#FF00DE;">sentence</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.6" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx9.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx9.8.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.9" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx10.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx10.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx10.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx10.4.1" style="color:#FF00DE;">sentence</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.6" style="font-size:50%;">lower</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.7" style="font-size:50%;">().</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.8" style="font-size:50%;">endswith</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx10.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx10.10.1" style="color:#800000;">"?"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.11" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.12" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx10.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx10.13.1" style="color:#2828FF;">or</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.14" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.15" style="font-size:50%;">\</span>
</div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx11.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx11.2.1" style="color:#FF00DE;">sentence</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.4" style="font-size:50%;">lower</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.5" style="font-size:50%;">().</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.6" style="font-size:50%;">startswith</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.7" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx11.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx11.8.1" style="color:#2828FF;">tuple</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.10" style="font-size:50%;">START_WORDS</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.11" style="font-size:50%;">))</span>
</div>
</div>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Table Transformation</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">The code we used for table transformation is shown as follows.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A3.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKZGVmIGNsZWFuX2h0bWwod2VicGFnZSwgcmVtb3ZlX2xpbmtzPUZhbHNlKToKICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKHdlYnBhZ2UsIGZlYXR1cmVzPSJodG1sLnBhcnNlciIpCiAgICBmb3Igc2NyaXB0IGluIHNvdXAuZmluZF9hbGwoWyJzY3JpcHQiLCAic3R5bGUiLCAibWV0YSJdKToKICAgICAgICBzY3JpcHQuZGVjb21wb3NlKCkKICAgIGlmIHJlbW92ZV9saW5rczoKICAgICAgICBmb3IgbGluayBpbiBzb3VwLmZpbmRfYWxsKCJhIik6CiAgICAgICAgICAgIGxpbmsudW53cmFwKCkKICAgIGZvciBmb290ZXIgaW4gc291cC5maW5kX2FsbCgiZm9vdGVyIik6CiAgICAgICAgZm9vdGVyLmRlY29tcG9zZSgpCiAgICBmb3IgYnV0dG9uIGluIHNvdXAuZmluZF9hbGwoImJ1dHRvbiIpOgogICAgICAgIGJ1dHRvbi5kZWNvbXBvc2UoKQogICAgZm9yIHRleHRfZWxlbWVudCBpbiBzb3VwLmZpbmRfYWxsKFN0cmluZz1UcnVlKToKICAgICAgICBpZiAiXFx1IiBpbiB0ZXh0X2VsZW1lbnQgb3IgIlxcVSIgaW4gdGV4dF9lbGVtZW50OgogICAgICAgICAgICAjIERlY29kZSB0aGUgZXNjYXBlZCB1bmljb2RlIGNoYXJhY3RlcnMKICAgICAgICAgICAgZGVjb2RlZF90ZXh0ID0gYnl0ZXModGV4dF9lbGVtZW50LCAidXRmLTgiKS5kZWNvZGUoInVuaWNvZGVfZXNjYXBlIikKICAgICAgICAgICAgdGV4dF9lbGVtZW50LnJlcGxhY2Vfd2l0aChkZWNvZGVkX3RleHQpCiAgICByZXR1cm4gc291cApkZWYgY2hlY2tfZW1wdHlfdGFibGUodGFibGVfc3RyOiBzdHIpIC0+IGJvb2w6CiAgICB0YWJsZV9zdHIgPSAoCiAgICAgICAgdGFibGVfc3RyLnJlcGxhY2UoInwiLCAiIikKICAgICAgICAucmVwbGFjZSgiLSIsICIiKQogICAgICAgIC5yZXBsYWNlKCIgIiwgIiIpCiAgICAgICAgLnJlcGxhY2UoIlxuIiwgIiIpCiAgICAgICAgLnN0cmlwKCkKICAgICkKICAgIHRhYmxlX3N0ciA9ICIiLmpvaW4odGFibGVfc3RyLnNwbGl0KCkpCiAgICBpZiB0YWJsZV9zdHIgPT0gIiI6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIHJldHVybiBGYWxzZQpkZWYgZ2V0X3RhYmxlcyhzb3VwLCBodG1sX25hbWU6IHN0cikgLT4gbGlzdFtzdHJdOgogICAgbWFya2Rvd25fdGFibGVzID0gW10KICAgICMgRmluZCBhbGwgdGFibGUgdGFncwogICAgdGFibGVzID0gc291cC5maW5kX2FsbCgidGFibGUiKQogICAgZm9yIHRhYmxlIGluIHRhYmxlczoKICAgICAgICBtYXJrZG93bl90YWJsZSA9IFtdCiAgICAgICAgcm93cyA9IHRhYmxlLmZpbmRfYWxsKCJ0ciIpCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBjZWxscyA9IHJvdy5maW5kX2FsbChbInRoIiwgInRkIl0pCiAgICAgICAgICAgICMgRXh0cmFjdCB0ZXh0IGZyb20gZWFjaCBjZWxsIGFuZCBqb2luIHRoZW0gd2l0aCBhIHBpcGUKICAgICAgICAgICAgZm9ybWF0dGVkX3JvdyA9ICgKICAgICAgICAgICAgICAgICJ8ICIgKyAiIHwgIi5qb2luKGNlbGwuZ2V0X3RleHQoc3RyaXA9VHJ1ZSkgZm9yIGNlbGwgaW4gY2VsbHMpICsgIiB8IgogICAgICAgICAgICApCiAgICAgICAgICAgIG1hcmtkb3duX3RhYmxlLmFwcGVuZChmb3JtYXR0ZWRfcm93KQogICAgICAgICMgQWRkIGEgc2VwYXJhdG9yIGFmdGVyIHRoZSBoZWFkZXIgKGFzc3VtZXMgdGhlIGZpcnN0IHJvdyBpcyBoZWFkZXIpCiAgICAgICAgaWYgbWFya2Rvd25fdGFibGU6CiAgICAgICAgICAgIGhlYWRlcl9zZXAgPSAoCiAgICAgICAgICAgICAgICAifCAiCiAgICAgICAgICAgICAgICArICIgfCAiLmpvaW4oIi0tLSIgZm9yIF8gaW4gbWFya2Rvd25fdGFibGVbMF0uc3BsaXQoInwiKVsxOi0xXSkKICAgICAgICAgICAgICAgICsgIiB8IgogICAgICAgICAgICApCiAgICAgICAgICAgIG1hcmtkb3duX3RhYmxlLmluc2VydCgxLCBoZWFkZXJfc2VwKQogICAgICAgIG1hcmtkb3duX3RhYmxlX3N0ciA9ICJcbiIuam9pbihtYXJrZG93bl90YWJsZSkKICAgICAgICBpZiBjaGVja19lbXB0eV90YWJsZShtYXJrZG93bl90YWJsZV9zdHIpOgogICAgICAgICAgICBjb250aW51ZQogICAgICAgIG1hcmtkb3duX3RhYmxlX3N0ciA9IGYiUGFnZSBuYW1lOiB7aHRtbF9uYW1lfVxue21hcmtkb3duX3RhYmxlX3N0cn0iCiAgICAgICAgbWFya2Rvd25fdGFibGVzLmFwcGVuZChtYXJrZG93bl90YWJsZV9zdHIpCiAgICByZXR1cm4gbWFya2Rvd25fdGFibGVz">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx12.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx12.1.1" style="color:#2828FF;">from</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.3" style="font-size:50%;">bs4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx12.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx12.5.1" style="color:#2828FF;">import</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.7" style="font-size:50%;">BeautifulSoup</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx13.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx13.1.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.3" style="font-size:50%;">clean_html</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.5" style="font-size:50%;">webpage</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.8" style="font-size:50%;">remove_links</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.9" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.10" style="font-size:50%;">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.11" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.2" style="font-size:50%;">soup</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.6" style="font-size:50%;">BeautifulSoup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.7" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.8" style="font-size:50%;">webpage</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.9" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.11" style="font-size:50%;">features</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.12" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx14.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx14.13.1" style="color:#800000;">"html.parser"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.14" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx15.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx15.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.4" style="font-size:50%;">script</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx15.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx15.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.8" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.9" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.10" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.11" style="font-size:50%;">([</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx15.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx15.12.1" style="color:#800000;">"script"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.13" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.14" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx15.15" style="font-size:50%;"><span class="ltx_text" id="lstnumberx15.15.1" style="color:#800000;">"style"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.16" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.17" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx15.18" style="font-size:50%;"><span class="ltx_text" id="lstnumberx15.18.1" style="color:#800000;">"meta"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.19" style="font-size:50%;">]):</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.2" style="font-size:50%;">script</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.4" style="font-size:50%;">decompose</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.5" style="font-size:50%;">()</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx17.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx17.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.4" style="font-size:50%;">remove_links</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.5" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx18.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx18.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.4" style="font-size:50%;">link</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx18.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx18.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.8" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.9" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.10" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.11" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx18.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx18.12.1" style="color:#800000;">"a"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.13" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.2" style="font-size:50%;">link</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.4" style="font-size:50%;">unwrap</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.5" style="font-size:50%;">()</span>
</div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx20.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx20.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.4" style="font-size:50%;">footer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx20.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx20.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.8" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.9" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.10" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.11" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx20.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx20.12.1" style="color:#800000;">"footer"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.13" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx21">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.2" style="font-size:50%;">footer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.4" style="font-size:50%;">decompose</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.5" style="font-size:50%;">()</span>
</div>
<div class="ltx_listingline" id="lstnumberx22">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx22.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx22.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.4" style="font-size:50%;">button</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx22.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx22.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.8" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.9" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.10" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.11" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx22.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx22.12.1" style="color:#800000;">"button"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.13" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx23">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.2" style="font-size:50%;">button</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.4" style="font-size:50%;">decompose</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.5" style="font-size:50%;">()</span>
</div>
<div class="ltx_listingline" id="lstnumberx24">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx24.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx24.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.4" style="font-size:50%;">text_element</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx24.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx24.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.8" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.9" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.10" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.11" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.12" style="font-size:50%;">String</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.13" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.14" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.15" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx25">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx25.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx25.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.4.1" style="color:#800000;">"\\u"</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx25.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx25.8" style="font-size:50%;">text_element</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.9" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx25.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.10.1" style="color:#2828FF;">or</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx25.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.12.1" style="color:#800000;">"\\U"</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.13" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx25.14" style="font-size:50%;"><span class="ltx_text" id="lstnumberx25.14.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.15" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx25.16" style="font-size:50%;">text_element</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.17" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx26">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx26.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx26.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx26.2.1.1"> </span>Decode<span class="ltx_text ltx_lst_space" id="lstnumberx26.2.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx26.2.1.3"> </span>escaped<span class="ltx_text ltx_lst_space" id="lstnumberx26.2.1.4"> </span>unicode<span class="ltx_text ltx_lst_space" id="lstnumberx26.2.1.5"> </span>characters</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx27">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.2" style="font-size:50%;">decoded_text</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.6" style="font-size:50%;">bytes</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.7" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.8" style="font-size:50%;">text_element</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.9" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx27.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx27.11.1" style="color:#800000;">"utf-8"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.12" style="font-size:50%;">).</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.13" style="font-size:50%;">decode</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.14" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx27.15" style="font-size:50%;"><span class="ltx_text" id="lstnumberx27.15.1" style="color:#800000;">"unicode_escape"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.16" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx28">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.2" style="font-size:50%;">text_element</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.4" style="font-size:50%;">replace_with</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.6" style="font-size:50%;">decoded_text</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.7" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx29">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx29.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx29.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx29.4" style="font-size:50%;">soup</span>
</div>
<div class="ltx_listingline" id="lstnumberx30">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx30.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx30.1.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.3" style="font-size:50%;">check_empty_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.5" style="font-size:50%;">table_str</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.6" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx30.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx30.8.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.9" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.10" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.11" style="font-size:50%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.12" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx30.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx30.13.1" style="color:#2828FF;">bool</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.14" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx31">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx31.2" style="font-size:50%;">table_str</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx31.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx31.6" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx32">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.2" style="font-size:50%;">table_str</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.4" style="font-size:50%;">replace</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx32.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx32.6.1" style="color:#800000;">"|"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx32.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx32.9.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.10" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx33">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.2" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.3" style="font-size:50%;">replace</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx33.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx33.5.1" style="color:#800000;">"-"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx33.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx33.8.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.9" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx34">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.2" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.3" style="font-size:50%;">replace</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx34.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx34.5.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx34.5.1.1"> </span>"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx34.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx34.8.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.9" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx35">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.2" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.3" style="font-size:50%;">replace</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx35.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx35.5.1" style="color:#800000;">"\n"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx35.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx35.8.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.9" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx36">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx36.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx36.2" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx36.3" style="font-size:50%;">strip</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx36.4" style="font-size:50%;">()</span>
</div>
<div class="ltx_listingline" id="lstnumberx37">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx37.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx38">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.2" style="font-size:50%;">table_str</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx38.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx38.6.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.8" style="font-size:50%;">join</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.10" style="font-size:50%;">table_str</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.11" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.12" style="font-size:50%;">split</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.13" style="font-size:50%;">())</span>
</div>
<div class="ltx_listingline" id="lstnumberx39">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx39.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.4" style="font-size:50%;">table_str</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.6" style="font-size:50%;">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx39.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx39.8.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.9" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx40">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx40.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx40.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx40.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx40.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx40.4" style="font-size:50%;">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx41">
<span class="ltx_tag ltx_tag_listingline">30</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx41.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx41.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.4" style="font-size:50%;">False</span>
</div>
<div class="ltx_listingline" id="lstnumberx42">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx42.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx42.1.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.3" style="font-size:50%;">get_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.5" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.6" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.8" style="font-size:50%;">html_name</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.9" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx42.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx42.11.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.12" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.13" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.14" style="font-size:50%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.15" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx42.16" style="font-size:50%;"><span class="ltx_text" id="lstnumberx42.16.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.17" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx42.18" style="font-size:50%;"><span class="ltx_text" id="lstnumberx42.18.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.19" style="font-size:50%;">]:</span>
</div>
<div class="ltx_listingline" id="lstnumberx43">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.2" style="font-size:50%;">markdown_tables</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx44">
<span class="ltx_tag ltx_tag_listingline">33</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx44.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx44.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx44.2.1.1"> </span>Find<span class="ltx_text ltx_lst_space" id="lstnumberx44.2.1.2"> </span>all<span class="ltx_text ltx_lst_space" id="lstnumberx44.2.1.3"> </span>table<span class="ltx_text ltx_lst_space" id="lstnumberx44.2.1.4"> </span>tags</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx45">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.2" style="font-size:50%;">tables</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.6" style="font-size:50%;">soup</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.8" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx45.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx45.10.1" style="color:#800000;">"table"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.11" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx46">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx46.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx46.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx46.4" style="font-size:50%;">table</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx46.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx46.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx46.8" style="font-size:50%;">tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.9" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx47">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.2" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx48">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx48.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.2" style="font-size:50%;">rows</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx48.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx48.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.6" style="font-size:50%;">table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.8" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx48.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx48.10.1" style="color:#800000;">"tr"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.11" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx49">
<span class="ltx_tag ltx_tag_listingline">38</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx49.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx49.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.4" style="font-size:50%;">row</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx49.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx49.6.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.8" style="font-size:50%;">rows</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.9" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx50">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.2" style="font-size:50%;">cells</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.6" style="font-size:50%;">row</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.8" style="font-size:50%;">find_all</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.9" style="font-size:50%;">([</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx50.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx50.10.1" style="color:#800000;">"th"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.11" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.12" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx50.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx50.13.1" style="color:#800000;">"td"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.14" style="font-size:50%;">])</span>
</div>
<div class="ltx_listingline" id="lstnumberx51">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx51.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx51.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx51.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.1"> </span>Extract<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.2"> </span>text<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.3"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.4"> </span>each<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.5"> </span>cell<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.7"> </span>join<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.8"> </span>them<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.9"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.10"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx51.2.1.11"> </span>pipe</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx52">
<span class="ltx_tag ltx_tag_listingline">41</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.2" style="font-size:50%;">formatted_row</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.6" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx53">
<span class="ltx_tag ltx_tag_listingline">42</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx53.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx53.2.1" style="color:#800000;">"|<span class="ltx_text ltx_lst_space" id="lstnumberx53.2.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.4" style="font-size:50%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx53.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx53.6.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx53.6.1.1"> </span>|<span class="ltx_text ltx_lst_space" id="lstnumberx53.6.1.2"> </span>"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.8" style="font-size:50%;">join</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.10" style="font-size:50%;">cell</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.11" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.12" style="font-size:50%;">get_text</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.13" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.14" style="font-size:50%;">strip</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.15" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.16" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.17" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.18" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx53.19" style="font-size:50%;"><span class="ltx_text" id="lstnumberx53.19.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.20" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.21" style="font-size:50%;">cell</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.22" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx53.23" style="font-size:50%;"><span class="ltx_text" id="lstnumberx53.23.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.24" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.25" style="font-size:50%;">cells</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.26" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.27" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.28" style="font-size:50%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.29" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx53.30" style="font-size:50%;"><span class="ltx_text" id="lstnumberx53.30.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx53.30.1.1"> </span>|"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx54">
<span class="ltx_tag ltx_tag_listingline">43</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx54.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx54.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx55">
<span class="ltx_tag ltx_tag_listingline">44</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.2" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.6" style="font-size:50%;">formatted_row</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.7" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx56">
<span class="ltx_tag ltx_tag_listingline">45</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx56.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx56.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx56.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.1"> </span>Add<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.2"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.3"> </span>separator<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.4"> </span>after<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.5"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.6"> </span>header<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.7"> </span>(assumes<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.9"> </span>first<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.10"> </span>row<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.11"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx56.2.1.12"> </span>header)</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx57">
<span class="ltx_tag ltx_tag_listingline">46</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx57.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx57.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx57.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx57.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx57.4" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx57.5" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx58">
<span class="ltx_tag ltx_tag_listingline">47</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx58.2" style="font-size:50%;">header_sep</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx58.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx58.6" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx59">
<span class="ltx_tag ltx_tag_listingline">48</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx59.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx59.2.1" style="color:#800000;">"|<span class="ltx_text ltx_lst_space" id="lstnumberx59.2.1.1"> </span>"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx60">
<span class="ltx_tag ltx_tag_listingline">49</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.2" style="font-size:50%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx60.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx60.4.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx60.4.1.1"> </span>|<span class="ltx_text ltx_lst_space" id="lstnumberx60.4.1.2"> </span>"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx60.6" style="font-size:50%;">join</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.7" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx60.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx60.8.1" style="color:#800000;">"---"</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.9" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx60.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx60.10.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx60.12" style="font-size:50%;">_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.13" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx60.14" style="font-size:50%;"><span class="ltx_text" id="lstnumberx60.14.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.15" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx60.16" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.17" style="font-size:50%;">[0].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx60.18" style="font-size:50%;">split</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.19" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx60.20" style="font-size:50%;"><span class="ltx_text" id="lstnumberx60.20.1" style="color:#800000;">"|"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.21" style="font-size:50%;">)[1:-1])</span>
</div>
<div class="ltx_listingline" id="lstnumberx61">
<span class="ltx_tag ltx_tag_listingline">50</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.2" style="font-size:50%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx61.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx61.4.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx61.4.1.1"> </span>|"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx62">
<span class="ltx_tag ltx_tag_listingline">51</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx62.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx63">
<span class="ltx_tag ltx_tag_listingline">52</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.2" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.4" style="font-size:50%;">insert</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.5" style="font-size:50%;">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.7" style="font-size:50%;">header_sep</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.8" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx64">
<span class="ltx_tag ltx_tag_listingline">53</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.2" style="font-size:50%;">markdown_table_str</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx64.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx64.6.1" style="color:#800000;">"\n"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.8" style="font-size:50%;">join</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.10" style="font-size:50%;">markdown_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.11" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx65">
<span class="ltx_tag ltx_tag_listingline">54</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx65.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx65.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx65.4" style="font-size:50%;">check_empty_table</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx65.6" style="font-size:50%;">markdown_table_str</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.7" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx66">
<span class="ltx_tag ltx_tag_listingline">55</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx66.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx66.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx66.2.1" style="color:#2828FF;">continue</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx67">
<span class="ltx_tag ltx_tag_listingline">56</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx67.2" style="font-size:50%;">markdown_table_str</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx67.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx67.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx67.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx67.7.1" style="color:#800000;">"Page<span class="ltx_text ltx_lst_space" id="lstnumberx67.7.1.1"> </span>name:<span class="ltx_text ltx_lst_space" id="lstnumberx67.7.1.2"> </span>{html_name}\n{markdown_table_str}"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx68">
<span class="ltx_tag ltx_tag_listingline">57</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx68.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx68.2" style="font-size:50%;">markdown_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx68.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx68.6" style="font-size:50%;">markdown_table_str</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.7" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx69">
<span class="ltx_tag ltx_tag_listingline">58</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx69.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx69.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx69.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx69.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx69.4" style="font-size:50%;">markdown_tables</span>
</div>
</div>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Prompt Details</h2>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1. </span>Prompt for Attribute Predictor</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">Here we show the prompt we used for the attribute predictor. Specifically, we show the prompt template for dynamic prediction.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS1.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ewoic3lzdGVtX3Byb21wdCI6ICJZb3Ugd2lsbCBiZSBwcm92aWRlZCB3aXRoIGEgcXVlc3Rpb24uIFlvdXIgdGFzayBpcyB0byBpZGVudGlmeSB3aGV0aGVyIHRoaXMgcXVlc3Rpb24gaXMgYSBzdGF0aWMgcXVlc3Rpb24gb3IgYSBkeW5hbWljIHF1ZXN0aW9uLiBBIHN0YXRpYyBxdWVzdGlvbiBpcyB0aGF0IHRoZSBhbnN3ZXIgaXMgZml4ZWQgYW5kIHdpbGwgbm90IGNoYW5nZSBvdmVyIHRpbWUuIEEgZHluYW1pYyBxdWVzdGlvbiBpcyB0aGF0IHRoZSBhbnN3ZXIgd2lsbCBjaGFuZ2Ugb3ZlciB0aW1lIG9yIG5lZWRzIHRpbWUgaW5mb3JtYXRpb24uIFlvdSAqKk1VU1QqKiBjaG9vc2UgZnJvbSBvbmUgb2YgdGhlIGZvbGxvd2luZyBjaG9pY2VzOiBbXCJzdGF0aWNcIiwgXCJkeW5hbWljXCJdLiBZb3UgKipNVVNUKiogZ2l2ZSB0aGUgcXVlc3Rpb24gdHlwZSBzdWNjaW5jdGx5LCB1c2luZyB0aGUgZmV3ZXN0IHdvcmRzIHBvc3NpYmxlLlxuSGVyZSBhcmUgc29tZSBleGFtcGxlczpcbiIgKyBcCiAgICAiLS0tLS0tXG4jIyMgUXVlc3Rpb246IHt9XG4jIyMgU3RhdGljIG9yIER5bmFtaWM6IHt9XG5cbiIuZm9ybWF0KAogICAgICAgIGV4YW1wbGVbInF1ZXJ5Il0sCiAgICAgICAgZXhhbXBsZVsic3RhdGljX29yX2R5bmFtaWMiXQogICAgKSAqIGZld19zaG90X251bQoidXNlcl9wcm9tcHQiOiAiSGVyZSBpcyB0aGUgcXVlc3Rpb246IHtxdWVyeX1cblJlbWVtYmVyIHlvdXIgcnVsZTogWW91ICoqTVVTVCoqIGNob29zZSBmcm9tIHRoZSBmb2xsb3dpbmcgY2hvaWNlczogW1wic3RhdGljXCIsIFwiZHluYW1pY1wiXS5cbldoYXQgaXMgdGhlIHN0YXRpYyBvciBkeW5hbWljIG9mIHRoaXMgcXVlc3Rpb24/Ii5mb3JtYXQocXVlcnk9cXVlcnkpCn0=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx70">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx70.1" style="font-size:50%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx71">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx71.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx71.1.1" style="color:#800000;">"system_prompt"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx71.2" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx71.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx71.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx71.4.1" style="color:#800000;">"You<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.1"> </span>will<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.2"> </span>be<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.3"> </span>provided<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.4"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.6"> </span>question.<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.7"> </span>Your<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.8"> </span>task<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.9"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.10"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.11"> </span>identify<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.12"> </span>whether<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.13"> </span>this<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.14"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.15"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.16"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.17"> </span>static<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.18"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.19"> </span>or<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.20"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.21"> </span>dynamic<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.22"> </span>question.<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.23"> </span>A<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.24"> </span>static<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.25"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.26"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.27"> </span>that<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.28"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.29"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.30"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.31"> </span>fixed<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.32"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.33"> </span>will<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.34"> </span>not<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.35"> </span>change<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.36"> </span>over<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.37"> </span>time.<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.38"> </span>A<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.39"> </span>dynamic<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.40"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.41"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.42"> </span>that<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.43"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.44"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.45"> </span>will<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.46"> </span>change<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.47"> </span>over<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.48"> </span>time<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.49"> </span>or<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.50"> </span>needs<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.51"> </span>time<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.52"> </span>information.<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.53"> </span>You<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.54"> </span>**MUST**<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.55"> </span>choose<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.56"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.57"> </span>one<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.58"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.59"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.60"> </span>following<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.61"> </span>choices:<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.62"> </span>[\"static\",<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.63"> </span>\"dynamic\"].<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.64"> </span>You<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.65"> </span>**MUST**<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.66"> </span>give<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.67"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.68"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.69"> </span>type<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.70"> </span>succinctly,<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.71"> </span>using<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.72"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.73"> </span>fewest<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.74"> </span>words<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.75"> </span>possible.\nHere<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.76"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.77"> </span>some<span class="ltx_text ltx_lst_space" id="lstnumberx71.4.1.78"> </span>examples:\n"</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx71.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx71.6" style="font-size:50%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx71.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx71.8" style="font-size:50%;">\</span>
</div>
<div class="ltx_listingline" id="lstnumberx72">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx72.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx72.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx72.2.1" style="color:#800000;">"------\n###<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.1"> </span>Question:<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.2"> </span>{}\n###<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.3"> </span>Static<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.4"> </span>or<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.5"> </span>Dynamic:<span class="ltx_text ltx_lst_space" id="lstnumberx72.2.1.6"> </span>{}\n\n"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx72.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx72.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx72.4.1" style="color:#2828FF;">format</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx72.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx73">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx73.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx73.2" style="font-size:50%;">example</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx73.3" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx73.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx73.4.1" style="color:#800000;">"query"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx73.5" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx74">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx74.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx74.2" style="font-size:50%;">example</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx74.3" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx74.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx74.4.1" style="color:#800000;">"static_or_dynamic"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx74.5" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx75">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx75.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx75.2" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx75.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx75.4" style="font-size:50%;">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx75.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx75.6" style="font-size:50%;">few_shot_num</span>
</div>
<div class="ltx_listingline" id="lstnumberx76">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx76.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx76.1.1" style="color:#800000;">"user_prompt"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.2" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx76.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx76.4.1" style="color:#800000;">"Here<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.1"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.3"> </span>question:<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.4"> </span>{query}\nRemember<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.5"> </span>your<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.6"> </span>rule:<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.7"> </span>You<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.8"> </span>**MUST**<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.9"> </span>choose<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.10"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.11"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.12"> </span>following<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.13"> </span>choices:<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.14"> </span>[\"static\",<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.15"> </span>\"dynamic\"].\nWhat<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.16"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.17"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.18"> </span>static<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.19"> </span>or<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.20"> </span>dynamic<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.21"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.22"> </span>this<span class="ltx_text ltx_lst_space" id="lstnumberx76.4.1.23"> </span>question?"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx76.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx76.6.1" style="color:#2828FF;">format</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.7" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx76.8" style="font-size:50%;">query</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.9" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx76.10" style="font-size:50%;">query</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.11" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx77">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx77.1" style="font-size:50%;">}</span>
</div>
</div>
</div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2. </span>Prompt for Numerical Calculator</h3>
<div class="ltx_para" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.1">Here we show the prompt template for the numerical calculator.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS2.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Y2xhc3MgQ2FsY0FnZW50OgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG1heF90YWJsZV9sZW5ndGg9NjAwMCk6CiAgICAgICAgc2VsZi5tYXhfdGFibGVfbGVuZ3RoID0gbWF4X3RhYmxlX2xlbmd0aAogICAgICAgIHNlbGYuZXhwcmVzc2lvbl9zYW1wbGVfbnVtID0gNQoKICAgIGRlZiBmb3JtYXRfZXhwcmVzc2lvbl9wcm9tcHRzKAogICAgICAgIHNlbGYsCiAgICAgICAgYmF0Y2hfcXVlcmllczogbGlzdFtzdHJdLAogICAgICAgIGJhdGNoX3JldHJpZXZhbF9yZXN1bHRzOiBsaXN0W2xpc3Rbc3RyXV0sCiAgICAgICAgYmF0Y2hfdGFibGVzOiBsaXN0W2xpc3Rbc3RyXV0sCiAgICAgICAgdG9rZW5pemVyOiBBdXRvVG9rZW5pemVyLAogICAgKSAtPiBsaXN0W3N0cl06CiAgICAgICAgc3lzdGVtX3Byb21wdCA9ICIiIllvdSBhcmUgcHJvdmlkZWQgd2l0aCBhIHF1ZXN0aW9uIGFuZCB2YXJpb3VzIHJlZmVyZW5jZXMuIFlvdXIgdGFzayBpcyB0byBnZW5lcmF0ZSBhIHBvc3NpYmxlIHVzZWZ1bCBleHByZXNzaW9uIHRoYXQgaXMgbmVlZGVkIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uIEhlcmUgYXJlIHRoZSBydWxlczoKMS4gVGhlIGV4cHJlc3Npb24gKipNVVNUKiogYmUgYSB2YWxpZCBQeXRob24gZXhwcmVzc2lvbi4KMi4gVGhlIGV4cHJlc3Npb24gKipNVVNUKiogYmUgdXNlZnVsIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uCjMuIElmIHlvdSB0aGluayBubyBleHByZXNzaW9uIGlzIG5lZWRlZCwgeW91ICoqTVVTVCoqIGFuc3dlciB3aXRoIGVtcHR5IHN0cmluZy4KNC4gVGhlIG91dHB1dCBzaG91bGQgYmUgc3VjY2luY3QsIHlvdSAqKk1VU1QqKiBkbyByZWFzb25pbmcgaW4geW91ciBoZWFydCB3aXRob3V0IG91dHB1dGluZyB0aGUgcmVhc29uaW5nLgo1LiBZb3UgKipNVVNUIE5PVCoqIG91dHB1dCBhbnkgb3RoZXIgd29yZHMgZXhjZXB0IHRoZSB2YWxpZCBQeXRob24gZXhwcmVzc2lvbi4KNi4gWW91ICoqTVVTVCBOT1QqKiBvdXRwdXQgdGhlIGV4cHJlc3Npb24gdGhhdCBuZWVkIHRoZSB1c2VyIHRvIGlucHV0IGFueXRoaW5nLgoiIiIKICAgICAgICBmb3JtYXR0ZWRfcHJvbXB0cyA9IFtdCiAgICAgICAgZm9yIF9pZHgsIHF1ZXJ5IGluIGVudW1lcmF0ZShiYXRjaF9xdWVyaWVzKToKICAgICAgICAgICAgcmV0cmlldmFsX3Jlc3VsdHMgPSBiYXRjaF9yZXRyaWV2YWxfcmVzdWx0c1tfaWR4XQogICAgICAgICAgICByZWxhdGVkX3RhYmxlcyA9IGJhdGNoX3RhYmxlc1tfaWR4XQogICAgICAgICAgICB1c2VyX21lc3NhZ2UgPSAiIgogICAgICAgICAgICByZWZlcmVuY2VzID0gIiIKICAgICAgICAgICAgaWYgbGVuKHJldHJpZXZhbF9yZXN1bHRzKSA+IDA6CiAgICAgICAgICAgICAgICByZWZlcmVuY2VzICs9ICIjIFJlZmVyZW5jZXMgXG4iCiAgICAgICAgICAgICAgICAjIEZvcm1hdCB0aGUgdG9wIHNlbnRlbmNlcyBhcyByZWZlcmVuY2VzIGluIHRoZSBtb2RlbCdzIHByb21wdCB0ZW1wbGF0ZS4KICAgICAgICAgICAgICAgIGZvciBfc25pcHBldF9pZHgsIHNuaXBwZXQgaW4gZW51bWVyYXRlKHJldHJpZXZhbF9yZXN1bHRzKToKICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VzICs9IGYiLSB7c25pcHBldC5zdHJpcCgpfVxuIgogICAgICAgICAgICB1c2VyX21lc3NhZ2UgKz0gZiJ7cmVmZXJlbmNlc31cbi0tLS0tLVxuXG4iCgogICAgICAgICAgICBpZiBsZW4ocmVsYXRlZF90YWJsZXMpID4gMDoKICAgICAgICAgICAgICAgIHRhYmxlX3JlZmVyZW5jZXMgPSAiIgogICAgICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9ICIjIyBUYWJsZSByZWZlcmVuY2VzIFxuIgogICAgICAgICAgICAgICAgZm9yIGlkeCwgdGFibGUgaW4gZW51bWVyYXRlKHJlbGF0ZWRfdGFibGVzKToKICAgICAgICAgICAgICAgICAgICB0YWJsZV9yZWZlcmVuY2VzICs9IGYiIyMjIFRhYmxlIHtpZHggKyAxfTogXG4iCiAgICAgICAgICAgICAgICAgICAgdGFibGVfcmVmZXJlbmNlcyArPSBmInt0YWJsZX1cbiIKICAgICAgICAgICAgICAgIHRhYmxlX3JlZmVyZW5jZXMgPSB0YWJsZV9yZWZlcmVuY2VzWzogc2VsZi5tYXhfdGFibGVfbGVuZ3RoXQogICAgICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9IGYie3RhYmxlX3JlZmVyZW5jZXN9XG4tLS0tLS1cblxuIgogICAgICAgICAgICB1c2VyX21lc3NhZ2UgKz0gIioqUmVtZW1iZXIgeW91ciBydWxlcyoqOiIKICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9ICIiIgoxLiBUaGUgZXhwcmVzc2lvbiAqKk1VU1QqKiBiZSBhIHZhbGlkIFB5dGhvbiBleHByZXNzaW9uLgoyLiBUaGUgZXhwcmVzc2lvbiAqKk1VU1QqKiBiZSB1c2VmdWwgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4KMy4gSWYgeW91IHRoaW5rIG5vIGV4cHJlc3Npb24gaXMgbmVlZGVkLCB5b3UgKipNVVNUKiogYW5zd2VyIHdpdGggZW1wdHkgc3RyaW5nLgo0LiBUaGUgb3V0cHV0IHNob3VsZCBiZSBzdWNjaW5jdCwgeW91ICoqTVVTVCoqIGRvIHJlYXNvbmluZyBpbiB5b3VyIGhlYXJ0IHdpdGhvdXQgb3V0cHV0aW5nIHRoZSByZWFzb25pbmcuCjUuIFlvdSAqKk1VU1QgTk9UKiogb3V0cHV0IGFueSBvdGhlciB3b3JkcyBleGNlcHQgdGhlIHZhbGlkIFB5dGhvbiBleHByZXNzaW9uLgo2LiBZb3UgKipNVVNUIE5PVCoqIG91dHB1dCB0aGUgZXhwcmVzc2lvbiB0aGF0IG5lZWQgdGhlIHVzZXIgdG8gaW5wdXQgYW55dGhpbmcuCiIiIgogICAgICAgICAgICB1c2VyX21lc3NhZ2UgKz0gZiJRdWVzdGlvbjoge3F1ZXJ5fVxuIgogICAgICAgICAgICB1c2VyX21lc3NhZ2UgKz0gZiJVc2luZyB0aGUgcmVmZXJlbmNlcyBsaXN0ZWQgYWJvdmUgYW5kIGJhc2VkIG9uIHRoZSBxdWVzdGlvbiwgZ2VuZXJhdGUgYSB2YWxpZCBQeXRob24gZXhwcmVzc2lvbiBmb3IgbWU6IFxuIgoKICAgICAgICAgICAgZm9ybWF0dGVkX3Byb21wdHMuYXBwZW5kKAogICAgICAgICAgICAgICAgdG9rZW5pemVyLmFwcGx5X2NoYXRfdGVtcGxhdGUoCiAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICB7InJvbGUiOiAic3lzdGVtIiwgImNvbnRlbnQiOiBzeXN0ZW1fcHJvbXB0fSwKICAgICAgICAgICAgICAgICAgICAgICAgeyJyb2xlIjogInVzZXIiLCAiY29udGVudCI6IHVzZXJfbWVzc2FnZX0sCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ9VHJ1ZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBmb3JtYXR0ZWRfcHJvbXB0cw==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx78">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx78.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx78.1.1" style="color:#2828FF;">class</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx78.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx78.3" style="font-size:50%;">CalcAgent</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx78.4" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx79">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx79.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx79.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx79.2.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx79.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx79.4" style="font-size:50%;">__init__</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx79.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx79.6" style="font-size:50%;">self</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx79.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx79.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx79.9" style="font-size:50%;">max_table_length</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx79.10" style="font-size:50%;">=6000):</span>
</div>
<div class="ltx_listingline" id="lstnumberx80">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx80.2" style="font-size:50%;">self</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx80.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx80.4" style="font-size:50%;">max_table_length</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx80.6" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx80.8" style="font-size:50%;">max_table_length</span>
</div>
<div class="ltx_listingline" id="lstnumberx81">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx81.2" style="font-size:50%;">self</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx81.4" style="font-size:50%;">expression_sample_num</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.6" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.8" style="font-size:50%;">5</span>
</div>
<div class="ltx_listingline" id="lstnumberx82">
<span class="ltx_tag ltx_tag_listingline">5</span>
</div>
<div class="ltx_listingline" id="lstnumberx83">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx83.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx83.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx83.2.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx83.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx83.4" style="font-size:50%;">format_expression_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx83.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx84">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx84.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx84.2" style="font-size:50%;">self</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx84.3" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx85">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx85.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx85.2" style="font-size:50%;">batch_queries</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx85.3" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx85.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx85.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx85.5.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx85.6" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx85.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx85.7.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx85.8" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx86">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx86.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx86.2" style="font-size:50%;">batch_retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx86.3" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx86.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx86.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx86.5.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx86.6" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx86.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx86.7.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx86.8" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx86.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx86.9.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx86.10" style="font-size:50%;">]],</span>
</div>
<div class="ltx_listingline" id="lstnumberx87">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx87.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx87.2" style="font-size:50%;">batch_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx87.3" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx87.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx87.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx87.5.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx87.6" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx87.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx87.7.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx87.8" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx87.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx87.9.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx87.10" style="font-size:50%;">]],</span>
</div>
<div class="ltx_listingline" id="lstnumberx88">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.2" style="font-size:50%;">tokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.3" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.5" style="font-size:50%;">AutoTokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.6" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx89">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx89.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx89.2" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx89.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx89.4" style="font-size:50%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx89.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx89.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx89.6.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx89.7" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx89.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx89.8.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx89.9" style="font-size:50%;">]:</span>
</div>
<div class="ltx_listingline" id="lstnumberx90">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx90.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx90.2" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx90.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx90.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx90.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx90.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx90.6.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx90.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx90.7.1" style="color:#800000;">"You<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.1"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.2"> </span>provided<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.4"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.5"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.7"> </span>various<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.8"> </span>references.<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.9"> </span>Your<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.10"> </span>task<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.11"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.12"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.13"> </span>generate<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.14"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.15"> </span>possible<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.16"> </span>useful<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.17"> </span>expression<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.18"> </span>that<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.19"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.20"> </span>needed<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.21"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.22"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.23"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.24"> </span>question.<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.25"> </span>Here<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.26"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.27"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx90.7.1.28"> </span>rules:</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx91">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.1" style="font-size:50%;color:#800000;">1.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.5" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.11" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.13" style="font-size:50%;color:#800000;">valid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.15" style="font-size:50%;color:#800000;">Python</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx91.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx91.17" style="font-size:50%;color:#800000;">expression.</span>
</div>
<div class="ltx_listingline" id="lstnumberx92">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.1" style="font-size:50%;color:#800000;">2.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.5" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.11" style="font-size:50%;color:#800000;">useful</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.13" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.15" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.17" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx92.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx92.19" style="font-size:50%;color:#800000;">question.</span>
</div>
<div class="ltx_listingline" id="lstnumberx93">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.1" style="font-size:50%;color:#800000;">3.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.7" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.9" style="font-size:50%;color:#800000;">no</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.11" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.13" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.15" style="font-size:50%;color:#800000;">needed,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.17" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.19" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.21" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.23" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.25" style="font-size:50%;color:#800000;">empty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx93.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx93.27" style="font-size:50%;color:#800000;">string.</span>
</div>
<div class="ltx_listingline" id="lstnumberx94">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.1" style="font-size:50%;color:#800000;">4.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.5" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.7" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.11" style="font-size:50%;color:#800000;">succinct,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.13" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.15" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.17" style="font-size:50%;color:#800000;">do</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.19" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.21" style="font-size:50%;color:#800000;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.23" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.25" style="font-size:50%;color:#800000;">heart</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.27" style="font-size:50%;color:#800000;">without</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.29" style="font-size:50%;color:#800000;">outputing</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.31" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx94.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx94.33" style="font-size:50%;color:#800000;">reasoning.</span>
</div>
<div class="ltx_listingline" id="lstnumberx95">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.1" style="font-size:50%;color:#800000;">5.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.5" style="font-size:50%;color:#800000;">**MUST</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.7" style="font-size:50%;color:#800000;">NOT**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.9" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.11" style="font-size:50%;color:#800000;">any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.13" style="font-size:50%;color:#800000;">other</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.15" style="font-size:50%;color:#800000;">words</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.17" style="font-size:50%;color:#800000;">except</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.19" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.21" style="font-size:50%;color:#800000;">valid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.23" style="font-size:50%;color:#800000;">Python</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx95.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx95.25" style="font-size:50%;color:#800000;">expression.</span>
</div>
<div class="ltx_listingline" id="lstnumberx96">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.1" style="font-size:50%;color:#800000;">6.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.5" style="font-size:50%;color:#800000;">**MUST</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.7" style="font-size:50%;color:#800000;">NOT**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.9" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.11" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.13" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.15" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.17" style="font-size:50%;color:#800000;">need</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.19" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.21" style="font-size:50%;color:#800000;">user</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.23" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.25" style="font-size:50%;color:#800000;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx96.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx96.27" style="font-size:50%;color:#800000;">anything.</span>
</div>
<div class="ltx_listingline" id="lstnumberx97">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx97.1" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx97.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx97.2.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx98">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx98.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx98.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx98.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx98.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx98.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx98.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx99">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx99.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx99.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx99.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx99.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx99.4" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx99.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx99.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx99.7" style="font-size:50%;">query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx99.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx99.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx99.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx99.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx99.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx99.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx99.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx99.13" style="font-size:50%;">batch_queries</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx99.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx100">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx100.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx100.2" style="font-size:50%;">retrieval_results</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx100.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx100.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx100.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx100.6" style="font-size:50%;">batch_retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx100.7" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx100.8" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx100.9" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx101">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx101.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx101.2" style="font-size:50%;">related_tables</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx101.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx101.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx101.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx101.6" style="font-size:50%;">batch_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx101.7" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx101.8" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx101.9" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx102">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx102.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx102.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx102.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx102.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx102.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx102.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx102.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx103">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx103.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx103.2" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx103.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx103.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx103.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx103.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx103.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx104">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx104.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx104.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx104.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx104.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx104.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx104.4.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx104.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx104.6" style="font-size:50%;">retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx104.7" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx104.8" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx104.9" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx104.10" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx104.11" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx105">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx105.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx105.2" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx105.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx105.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx105.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx105.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx105.6.1" style="color:#800000;">"#<span class="ltx_text ltx_lst_space" id="lstnumberx105.6.1.1"> </span>References<span class="ltx_text ltx_lst_space" id="lstnumberx105.6.1.2"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx106">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx106.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx106.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx106.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.1"> </span>Format<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.3"> </span>top<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.4"> </span>sentences<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.5"> </span>as<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.6"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.7"> </span>in<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.9"> </span>model’s<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.10"> </span>prompt<span class="ltx_text ltx_lst_space" id="lstnumberx106.2.1.11"> </span>template.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx107">
<span class="ltx_tag ltx_tag_listingline">30</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx107.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx107.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx107.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx107.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx107.4" style="font-size:50%;">_snippet_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx107.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx107.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx107.7" style="font-size:50%;">snippet</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx107.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx107.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx107.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx107.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx107.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx107.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx107.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx107.13" style="font-size:50%;">retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx107.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx108">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx108.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx108.2" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx108.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx108.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx108.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx108.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx108.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx108.7.1" style="color:#800000;">"-<span class="ltx_text ltx_lst_space" id="lstnumberx108.7.1.1"> </span>{snippet.strip()}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx109">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx109.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx109.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx109.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx109.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx109.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx109.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx109.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx109.7.1" style="color:#800000;">"{references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx110">
<span class="ltx_tag ltx_tag_listingline">33</span>
</div>
<div class="ltx_listingline" id="lstnumberx111">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx111.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx111.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx111.2.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx111.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx111.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx111.4.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx111.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx111.6" style="font-size:50%;">related_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx111.7" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx111.8" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx111.9" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx111.10" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx111.11" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx112">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx112.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx112.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx112.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx112.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx112.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx112.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx112.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx113">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx113.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx113.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx113.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx113.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx113.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx113.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx113.6.1" style="color:#800000;">"##<span class="ltx_text ltx_lst_space" id="lstnumberx113.6.1.1"> </span>Table<span class="ltx_text ltx_lst_space" id="lstnumberx113.6.1.2"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx113.6.1.3"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx114">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx114.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx114.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx114.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx114.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx114.4" style="font-size:50%;">idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx114.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx114.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx114.7" style="font-size:50%;">table</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx114.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx114.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx114.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx114.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx114.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx114.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx114.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx114.13" style="font-size:50%;">related_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx114.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx115">
<span class="ltx_tag ltx_tag_listingline">38</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx115.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx115.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx115.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx115.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx115.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx115.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx115.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx115.7.1" style="color:#800000;">"###<span class="ltx_text ltx_lst_space" id="lstnumberx115.7.1.1"> </span>Table<span class="ltx_text ltx_lst_space" id="lstnumberx115.7.1.2"> </span>{idx<span class="ltx_text ltx_lst_space" id="lstnumberx115.7.1.3"> </span>+<span class="ltx_text ltx_lst_space" id="lstnumberx115.7.1.4"> </span>1}:<span class="ltx_text ltx_lst_space" id="lstnumberx115.7.1.5"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx116">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx116.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx116.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx116.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx116.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx116.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx116.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx116.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx116.7.1" style="color:#800000;">"{table}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx117">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx117.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx117.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx117.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx117.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx117.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx117.6" style="font-size:50%;">table_references</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx117.7" style="font-size:50%;">[:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx117.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx117.9" style="font-size:50%;">self</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx117.10" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx117.11" style="font-size:50%;">max_table_length</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx117.12" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx118">
<span class="ltx_tag ltx_tag_listingline">41</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx118.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx118.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx118.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx118.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx118.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx118.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx118.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx118.7.1" style="color:#800000;">"{table_references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx119">
<span class="ltx_tag ltx_tag_listingline">42</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx119.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx119.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx119.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx119.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx119.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx119.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx119.6.1" style="color:#800000;">"**Remember<span class="ltx_text ltx_lst_space" id="lstnumberx119.6.1.1"> </span>your<span class="ltx_text ltx_lst_space" id="lstnumberx119.6.1.2"> </span>rules**:"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx120">
<span class="ltx_tag ltx_tag_listingline">43</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx120.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx120.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx120.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx120.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx120.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx120.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx120.6.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx120.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx120.7.1" style="color:#800000;">"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx121">
<span class="ltx_tag ltx_tag_listingline">44</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.1" style="font-size:50%;color:#800000;">1.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.5" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.11" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.13" style="font-size:50%;color:#800000;">valid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.15" style="font-size:50%;color:#800000;">Python</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx121.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx121.17" style="font-size:50%;color:#800000;">expression.</span>
</div>
<div class="ltx_listingline" id="lstnumberx122">
<span class="ltx_tag ltx_tag_listingline">45</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.1" style="font-size:50%;color:#800000;">2.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.5" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.11" style="font-size:50%;color:#800000;">useful</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.13" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.15" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.17" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx122.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx122.19" style="font-size:50%;color:#800000;">question.</span>
</div>
<div class="ltx_listingline" id="lstnumberx123">
<span class="ltx_tag ltx_tag_listingline">46</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.1" style="font-size:50%;color:#800000;">3.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.7" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.9" style="font-size:50%;color:#800000;">no</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.11" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.13" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.15" style="font-size:50%;color:#800000;">needed,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.17" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.19" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.21" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.23" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.25" style="font-size:50%;color:#800000;">empty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx123.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx123.27" style="font-size:50%;color:#800000;">string.</span>
</div>
<div class="ltx_listingline" id="lstnumberx124">
<span class="ltx_tag ltx_tag_listingline">47</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.1" style="font-size:50%;color:#800000;">4.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.3" style="font-size:50%;color:#800000;">The</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.5" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.7" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.11" style="font-size:50%;color:#800000;">succinct,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.13" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.15" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.17" style="font-size:50%;color:#800000;">do</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.19" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.21" style="font-size:50%;color:#800000;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.23" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.25" style="font-size:50%;color:#800000;">heart</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.27" style="font-size:50%;color:#800000;">without</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.29" style="font-size:50%;color:#800000;">outputing</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.31" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx124.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx124.33" style="font-size:50%;color:#800000;">reasoning.</span>
</div>
<div class="ltx_listingline" id="lstnumberx125">
<span class="ltx_tag ltx_tag_listingline">48</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.1" style="font-size:50%;color:#800000;">5.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.5" style="font-size:50%;color:#800000;">**MUST</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.7" style="font-size:50%;color:#800000;">NOT**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.9" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.11" style="font-size:50%;color:#800000;">any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.13" style="font-size:50%;color:#800000;">other</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.15" style="font-size:50%;color:#800000;">words</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.17" style="font-size:50%;color:#800000;">except</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.19" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.21" style="font-size:50%;color:#800000;">valid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.23" style="font-size:50%;color:#800000;">Python</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx125.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx125.25" style="font-size:50%;color:#800000;">expression.</span>
</div>
<div class="ltx_listingline" id="lstnumberx126">
<span class="ltx_tag ltx_tag_listingline">49</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.1" style="font-size:50%;color:#800000;">6.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.5" style="font-size:50%;color:#800000;">**MUST</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.7" style="font-size:50%;color:#800000;">NOT**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.9" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.11" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.13" style="font-size:50%;color:#800000;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.15" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.17" style="font-size:50%;color:#800000;">need</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.19" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.21" style="font-size:50%;color:#800000;">user</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.23" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.25" style="font-size:50%;color:#800000;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx126.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx126.27" style="font-size:50%;color:#800000;">anything.</span>
</div>
<div class="ltx_listingline" id="lstnumberx127">
<span class="ltx_tag ltx_tag_listingline">50</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx127.1" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx127.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx127.2.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx128">
<span class="ltx_tag ltx_tag_listingline">51</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx128.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx128.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx128.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx128.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx128.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx128.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx128.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx128.7.1" style="color:#800000;">"Question:<span class="ltx_text ltx_lst_space" id="lstnumberx128.7.1.1"> </span>{query}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx129">
<span class="ltx_tag ltx_tag_listingline">52</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx129.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx129.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx129.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx129.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx129.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx129.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx129.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx129.7.1" style="color:#800000;">"Using<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.1"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.2"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.3"> </span>listed<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.4"> </span>above<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.5"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.6"> </span>based<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.7"> </span>on<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.9"> </span>question,<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.10"> </span>generate<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.11"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.12"> </span>valid<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.13"> </span>Python<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.14"> </span>expression<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.15"> </span>for<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.16"> </span>me:<span class="ltx_text ltx_lst_space" id="lstnumberx129.7.1.17"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx130">
<span class="ltx_tag ltx_tag_listingline">53</span>
</div>
<div class="ltx_listingline" id="lstnumberx131">
<span class="ltx_tag ltx_tag_listingline">54</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx131.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx131.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx131.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx131.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx131.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx132">
<span class="ltx_tag ltx_tag_listingline">55</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx132.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx132.2" style="font-size:50%;">tokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx132.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx132.4" style="font-size:50%;">apply_chat_template</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx132.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx133">
<span class="ltx_tag ltx_tag_listingline">56</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx133.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx133.2" style="font-size:50%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx134">
<span class="ltx_tag ltx_tag_listingline">57</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx134.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx134.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx134.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx134.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx134.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx134.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx134.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx134.6.1" style="color:#800000;">"system"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx134.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx134.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx134.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx134.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx134.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx134.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx134.12" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx134.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx135">
<span class="ltx_tag ltx_tag_listingline">58</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx135.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx135.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx135.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx135.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx135.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx135.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx135.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx135.6.1" style="color:#800000;">"user"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx135.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx135.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx135.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx135.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx135.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx135.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx135.12" style="font-size:50%;">user_message</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx135.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx136">
<span class="ltx_tag ltx_tag_listingline">59</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx136.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx136.2" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx137">
<span class="ltx_tag ltx_tag_listingline">60</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx137.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx137.2" style="font-size:50%;">tokenize</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx137.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx137.4" style="font-size:50%;">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx137.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx138">
<span class="ltx_tag ltx_tag_listingline">61</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx138.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx138.2" style="font-size:50%;">add_generation_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx138.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx138.4" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx138.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx139">
<span class="ltx_tag ltx_tag_listingline">62</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx139.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx139.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx140">
<span class="ltx_tag ltx_tag_listingline">63</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx140.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx140.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx141">
<span class="ltx_tag ltx_tag_listingline">64</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx141.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx141.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx141.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx141.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx141.4" style="font-size:50%;">formatted_prompts</span>
</div>
</div>
</div>
</section>
<section class="ltx_subsection" id="A4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3. </span>Prompt for LLM Knowledge Extractor</h3>
<div class="ltx_para" id="A4.SS3.p1">
<p class="ltx_p" id="A4.SS3.p1.1">Here is the prompt template for the LLM Knowledge Extractor.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS3.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Y2xhc3MgQ3JhZ1N5c3RlbToKICAgIGRlZiBnZXRfZGlyZWN0X2Fuc3dlcnMoc2VsZiwgcXVlcmllcykgLT4gbGlzdFtzdHJdOgogICAgICAgIHN5c3RlbV9wcm9tcHQgPSAiIiJZb3UgYXJlIHByb3ZpZGVkIHdpdGggYSBxdWVzdGlvbi4KWW91ciB0YXNrIGlzIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gd2l0aCB5b3VyIHJlYXNvbmluZyBwcm9jZXNzLgpJZiB5b3UgY2FuJ3QgYW5zd2VyIGl0IGRpcmVjdGx5IGJhc2VkIG9uIHlvdXIga25vd2xlZGdlLCByZXNwb25kIHdpdGggJ0kgZG9uJ3Qga25vdycuCklmIHlvdSB0aGluayB0aGUgcHJlbWlzZSBvZiB0aGUgcXVlc3Rpb24gaXMgd3JvbmcsIGZvciBleGFtcGxlLCB0aGUgcXVlc3Rpb24gYXNrcyBpbmZvcm1hdGlvbiBhYm91dCBhIHBlcnNvbidzIGh1c2JhbmQsIGJ1dCB5b3UgYXJlIHN1cmUgdGhhdCB0aGUgcGVyc29uIGRvZXNuJ3QgaGF2ZSBvbmUsIHlvdSBzaG91bGQgYW5zd2VyIHdpdGggIkludmFsaWQgcXVlc3Rpb24iIHdpdGhvdXQgYW55IG90aGVyIHdvcmRzLgpZb3UgKipNVVNUKiogdGhpbmsgaWYgdGhlIHF1ZXN0aW9uIGhhcyBhIGZhbHNlIHByZW1pc2UsIHRoZW4gdGhpbmsgdGhlIGZpbmFsIGFuc3dlci4KWW91ICoqTVVTVCoqIGdlbmVyYXRlIHRoZSByZWFzb25pbmcgcHJvY2VzcyBiZWZvcmUgdGhlIGFuc3dlci4gWW91ICoqTVVTVCoqIGdlbmVyYXRlIHlvdXIgb3V0cHV0IHdpdGggdGhlIGZvbGxvd2luZyBmb3JtYXQ6Cgo9PT1TVEFSVD09PQojIyBSZWFzb25pbmc6Ci0gRG9lcyBpdCBoYXZlIGEgZmFsc2UgcHJlbWlzZT8KPFlPVVIgUkVBU09OSU5HPgotIFdoYXQgaXMgdGhlIGZpbmFsIGFuc3dlcj8KPFlPVVIgUkVBU09OSU5HPgotLS0tLS0KIyMgQW5zd2VyOgo8WU9VUiBGSU5BTCBBTlNXRVI+Cj09PUVORD09PQoKKipJTVBPUlRBTlQgUlVMRVMqKjoKLSBJZiB5b3UgY2FuJ3QgYW5zd2VyIGl0IGRpcmVjdGx5IGJhc2VkIG9uIHlvdXIga25vd2xlZGdlLCByZXNwb25kIHdpdGggJ0kgZG9uJ3Qga25vdycuCi0gWW91ciBnZW5lcmF0aW9uICoqTVVTVCoqIHN0YXJ0cyB3aXRoICI9PT1TVEFSVD09PSIgYW5kIGVuZHMgd2l0aCAiPT09RU5EPT09Ii4KLSBgPFlPVVIgRklOQUwgQU5TV0VSPmAgc2hvdWxkIGJlIHN1Y2NpbmN0LCBhbmQgdXNlIGFzIGZldyB3b3JkcyBhcyBwb3NzaWJsZS4KLSBgPFlPVVIgUkVBU09OSU5HPmAgc2hvdWxkIGJlIGEgZGV0YWlsZWQgcmVhc29uaW5nIHByb2Nlc3MgdGhhdCBleHBsYWlucyBob3cgeW91IGFycml2ZWQgYXQgeW91ciBhbnN3ZXIuCi0gSWYgeW91IHRoaW5rIHRoZSBwcmVtaXNlIG9mIHRoZSBxdWVzdGlvbiBpcyB3cm9uZywgZm9yIGV4YW1wbGUsIHRoZSBxdWVzdGlvbiBhc2tzIGluZm9ybWF0aW9uIGFib3V0IGEgcGVyc29uJ3MgaHVzYmFuZCwgYnV0IHlvdSBhcmUgc3VyZSB0aGF0IHRoZSBwZXJzb24gZG9lc24ndCBoYXZlIG9uZSwgeW91IHNob3VsZCBhbnN3ZXIgd2l0aCAiSW52YWxpZCBxdWVzdGlvbiIgd2l0aG91dCBhbnkgb3RoZXIgd29yZHMuCkxldCdzIHRoaW5rIHN0ZXAgYnkgc3RlcCBub3chIiIiCiAgICAgICAgZm9ybWF0dGVkX3Byb21wdHMgPSBbXQogICAgICAgIGZvciBfaWR4LCBxdWVyeSBpbiBlbnVtZXJhdGUocXVlcmllcyk6CiAgICAgICAgICAgIHVzZXJfbWVzc2FnZSA9IHF1ZXJ5CiAgICAgICAgICAgIGZvcm1hdHRlZF9wcm9tcHRzLmFwcGVuZCgKICAgICAgICAgICAgICAgIHNlbGYudG9rZW5pemVyLmFwcGx5X2NoYXRfdGVtcGxhdGUoCiAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICB7InJvbGUiOiAic3lzdGVtIiwgImNvbnRlbnQiOiBzeXN0ZW1fcHJvbXB0fSwKICAgICAgICAgICAgICAgICAgICAgICAgeyJyb2xlIjogInVzZXIiLCAiY29udGVudCI6IHVzZXJfbWVzc2FnZX0sCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ9VHJ1ZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQ==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx142">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx142.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx142.1.1" style="color:#2828FF;">class</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx142.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx142.3" style="font-size:50%;">CragSystem</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx142.4" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx143">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx143.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx143.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx143.2.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx143.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx143.4" style="font-size:50%;">get_direct_answers</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx143.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx143.6.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx143.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx143.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx143.9.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.10" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx143.11" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.12" style="font-size:50%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx143.13" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx143.14" style="font-size:50%;"><span class="ltx_text" id="lstnumberx143.14.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.15" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx143.16" style="font-size:50%;"><span class="ltx_text" id="lstnumberx143.16.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx143.17" style="font-size:50%;">]:</span>
</div>
<div class="ltx_listingline" id="lstnumberx144">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx144.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx144.2" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx144.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx144.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx144.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx144.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx144.6.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx144.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx144.7.1" style="color:#800000;">"You<span class="ltx_text ltx_lst_space" id="lstnumberx144.7.1.1"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx144.7.1.2"> </span>provided<span class="ltx_text ltx_lst_space" id="lstnumberx144.7.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx144.7.1.4"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx144.7.1.5"> </span>question.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx145">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.1" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.3" style="font-size:50%;color:#800000;">task</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.5" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.7" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.9" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.11" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.13" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.15" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.17" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.19" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx145.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx145.21" style="font-size:50%;color:#800000;">process.</span>
</div>
<div class="ltx_listingline" id="lstnumberx146">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.1" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.3" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.5" style="font-size:50%;color:#800000;">can’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.7" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.9" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.11" style="font-size:50%;color:#800000;">directly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.13" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.15" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.17" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.19" style="font-size:50%;color:#800000;">knowledge,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.21" style="font-size:50%;color:#800000;">respond</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.23" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.25" style="font-size:50%;color:#800000;">’I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.27" style="font-size:50%;color:#800000;">don’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx146.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx146.29" style="font-size:50%;color:#800000;">know’.</span>
</div>
<div class="ltx_listingline" id="lstnumberx147">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.1" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.3" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.5" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.9" style="font-size:50%;color:#800000;">premise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.11" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.13" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.15" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.17" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.19" style="font-size:50%;color:#800000;">wrong,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.21" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.23" style="font-size:50%;color:#800000;">example,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.27" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.29" style="font-size:50%;color:#800000;">asks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.31" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.33" style="font-size:50%;color:#800000;">about</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.35" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.37" style="font-size:50%;color:#800000;">person’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.39" style="font-size:50%;color:#800000;">husband,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.41" style="font-size:50%;color:#800000;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.43" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.45" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.47" style="font-size:50%;color:#800000;">sure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.49" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.51" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.53" style="font-size:50%;color:#800000;">person</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.55" style="font-size:50%;color:#800000;">doesn’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.57" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.59" style="font-size:50%;color:#800000;">one,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.61" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.63" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.65" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.67" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx147.69" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx147.70" style="font-size:50%;">Invalid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx147.71" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx147.72" style="font-size:50%;">question</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx147.73" style="font-size:50%;"><span class="ltx_text" id="lstnumberx147.73.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx147.73.1.1"> </span>without<span class="ltx_text ltx_lst_space" id="lstnumberx147.73.1.2"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx147.73.1.3"> </span>other<span class="ltx_text ltx_lst_space" id="lstnumberx147.73.1.4"> </span>words.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx148">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.1" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.3" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.5" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.7" style="font-size:50%;color:#800000;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.11" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.13" style="font-size:50%;color:#800000;">has</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.15" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.17" style="font-size:50%;color:#800000;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.19" style="font-size:50%;color:#800000;">premise,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.21" style="font-size:50%;color:#800000;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.23" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.27" style="font-size:50%;color:#800000;">final</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx148.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx148.29" style="font-size:50%;color:#800000;">answer.</span>
</div>
<div class="ltx_listingline" id="lstnumberx149">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.1" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.3" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.5" style="font-size:50%;color:#800000;">generate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.9" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.11" style="font-size:50%;color:#800000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.13" style="font-size:50%;color:#800000;">before</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.17" style="font-size:50%;color:#800000;">answer.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.19" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.21" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.23" style="font-size:50%;color:#800000;">generate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.25" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.27" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.29" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.31" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.33" style="font-size:50%;color:#800000;">following</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx149.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx149.35" style="font-size:50%;color:#800000;">format:</span>
</div>
<div class="ltx_listingline" id="lstnumberx150">
<span class="ltx_tag ltx_tag_listingline">9</span>
</div>
<div class="ltx_listingline" id="lstnumberx151">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx151.1" style="font-size:50%;color:#800000;">===START===</span>
</div>
<div class="ltx_listingline" id="lstnumberx152">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx152.1" style="font-size:50%;color:#800000;">##</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx152.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx152.3" style="font-size:50%;color:#800000;">Reasoning:</span>
</div>
<div class="ltx_listingline" id="lstnumberx153">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.3" style="font-size:50%;color:#800000;">Does</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.5" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.7" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.9" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.11" style="font-size:50%;color:#800000;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx153.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx153.13" style="font-size:50%;color:#800000;">premise?</span>
</div>
<div class="ltx_listingline" id="lstnumberx154">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx154.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx154.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx154.3" style="font-size:50%;color:#800000;">REASONING&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx155">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx155.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.3" style="font-size:50%;color:#800000;">What</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx155.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.5" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx155.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx155.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.9" style="font-size:50%;color:#800000;">final</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx155.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx155.11" style="font-size:50%;color:#800000;">answer?</span>
</div>
<div class="ltx_listingline" id="lstnumberx156">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx156.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx156.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx156.3" style="font-size:50%;color:#800000;">REASONING&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx157">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx157.1" style="font-size:50%;color:#800000;">------</span>
</div>
<div class="ltx_listingline" id="lstnumberx158">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx158.1" style="font-size:50%;color:#800000;">##</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx158.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx158.3" style="font-size:50%;color:#800000;">Answer:</span>
</div>
<div class="ltx_listingline" id="lstnumberx159">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx159.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx159.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx159.3" style="font-size:50%;color:#800000;">FINAL</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx159.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx159.5" style="font-size:50%;color:#800000;">ANSWER&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx160">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx160.1" style="font-size:50%;color:#800000;">===END===</span>
</div>
<div class="ltx_listingline" id="lstnumberx161">
<span class="ltx_tag ltx_tag_listingline">20</span>
</div>
<div class="ltx_listingline" id="lstnumberx162">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx162.1" style="font-size:50%;color:#800000;">**IMPORTANT</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx162.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx162.3" style="font-size:50%;color:#800000;">RULES**:</span>
</div>
<div class="ltx_listingline" id="lstnumberx163">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.7" style="font-size:50%;color:#800000;">can’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.9" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.11" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.13" style="font-size:50%;color:#800000;">directly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.15" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.17" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.19" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.21" style="font-size:50%;color:#800000;">knowledge,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.23" style="font-size:50%;color:#800000;">respond</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.25" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.27" style="font-size:50%;color:#800000;">’I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.29" style="font-size:50%;color:#800000;">don’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx163.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx163.31" style="font-size:50%;color:#800000;">know’.</span>
</div>
<div class="ltx_listingline" id="lstnumberx164">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.3" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.5" style="font-size:50%;color:#800000;">generation</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.9" style="font-size:50%;color:#800000;">starts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.11" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx164.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.13" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx164.14" style="font-size:50%;">===<span class="ltx_text ltx_lst_identifier" id="lstnumberx164.14.1">START</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx164.14.2"><span class="ltx_text" id="lstnumberx164.14.2.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx164.14.2.1.1"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx164.14.2.1.2"> </span>ends<span class="ltx_text ltx_lst_space" id="lstnumberx164.14.2.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx164.14.2.1.4"> </span>"</span></span>===<span class="ltx_text ltx_lst_identifier" id="lstnumberx164.14.3">END</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx164.14.4"><span class="ltx_text" id="lstnumberx164.14.4.1" style="color:#800000;">".</span></span></span>
</div>
<div class="ltx_listingline" id="lstnumberx165">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.5" style="font-size:50%;color:#800000;">FINAL</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.7" style="font-size:50%;color:#800000;">ANSWER&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.9" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.11" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.13" style="font-size:50%;color:#800000;">succinct,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.15" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.17" style="font-size:50%;color:#800000;">use</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.19" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.21" style="font-size:50%;color:#800000;">few</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.23" style="font-size:50%;color:#800000;">words</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.25" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx165.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx165.27" style="font-size:50%;color:#800000;">possible.</span>
</div>
<div class="ltx_listingline" id="lstnumberx166">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.5" style="font-size:50%;color:#800000;">REASONING&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.7" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.11" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.13" style="font-size:50%;color:#800000;">detailed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.15" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.17" style="font-size:50%;color:#800000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.19" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.21" style="font-size:50%;color:#800000;">explains</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.23" style="font-size:50%;color:#800000;">how</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.25" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.27" style="font-size:50%;color:#800000;">arrived</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.29" style="font-size:50%;color:#800000;">at</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.31" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx166.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx166.33" style="font-size:50%;color:#800000;">answer.</span>
</div>
<div class="ltx_listingline" id="lstnumberx167">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.7" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.11" style="font-size:50%;color:#800000;">premise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.13" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.17" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.19" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.21" style="font-size:50%;color:#800000;">wrong,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.23" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.25" style="font-size:50%;color:#800000;">example,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.27" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.29" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.31" style="font-size:50%;color:#800000;">asks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.33" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.35" style="font-size:50%;color:#800000;">about</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.37" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.39" style="font-size:50%;color:#800000;">person’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.41" style="font-size:50%;color:#800000;">husband,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.43" style="font-size:50%;color:#800000;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.45" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.47" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.49" style="font-size:50%;color:#800000;">sure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.51" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.53" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.55" style="font-size:50%;color:#800000;">person</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.57" style="font-size:50%;color:#800000;">doesn’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.59" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.61" style="font-size:50%;color:#800000;">one,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.63" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.65" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.67" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.69" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.70" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx167.71" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx167.72" style="font-size:50%;">Invalid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx167.73" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx167.74" style="font-size:50%;">question</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx167.75" style="font-size:50%;"><span class="ltx_text" id="lstnumberx167.75.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx167.75.1.1"> </span>without<span class="ltx_text ltx_lst_space" id="lstnumberx167.75.1.2"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx167.75.1.3"> </span>other<span class="ltx_text ltx_lst_space" id="lstnumberx167.75.1.4"> </span>words.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx168">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.1" style="font-size:50%;color:#800000;">Let’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx168.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.3" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx168.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.5" style="font-size:50%;color:#800000;">step</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx168.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.7" style="font-size:50%;color:#800000;">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx168.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.9" style="font-size:50%;color:#800000;">step</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx168.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx168.11" style="font-size:50%;color:#800000;">now!"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx168.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx168.12.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx169">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx169.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx169.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx169.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx169.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx169.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx169.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx170">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx170.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx170.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx170.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx170.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx170.4" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx170.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx170.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx170.7" style="font-size:50%;">query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx170.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx170.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx170.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx170.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx170.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx170.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx170.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx170.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx170.13.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx170.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx171">
<span class="ltx_tag ltx_tag_listingline">30</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx171.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx171.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx171.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx171.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx171.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx171.6" style="font-size:50%;">query</span>
</div>
<div class="ltx_listingline" id="lstnumberx172">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx172.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx172.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx172.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx172.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx172.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx173">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx173.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx173.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx173.2.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx173.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx173.4" style="font-size:50%;">tokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx173.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx173.6" style="font-size:50%;">apply_chat_template</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx173.7" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx174">
<span class="ltx_tag ltx_tag_listingline">33</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx174.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx174.2" style="font-size:50%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx175">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx175.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx175.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx175.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx175.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx175.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx175.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx175.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx175.6.1" style="color:#800000;">"system"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx175.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx175.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx175.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx175.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx175.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx175.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx175.12" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx175.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx176">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx176.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx176.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx176.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx176.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx176.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx176.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx176.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx176.6.1" style="color:#800000;">"user"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx176.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx176.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx176.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx176.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx176.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx176.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx176.12" style="font-size:50%;">user_message</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx176.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx177">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx177.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx177.2" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx178">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx178.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx178.2" style="font-size:50%;">tokenize</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx178.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx178.4" style="font-size:50%;">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx178.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx179">
<span class="ltx_tag ltx_tag_listingline">38</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx179.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx179.2" style="font-size:50%;">add_generation_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx179.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx179.4" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx179.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx180">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx180.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx180.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx181">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx181.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx181.2" style="font-size:50%;">)</span>
</div>
</div>
</div>
</section>
<section class="ltx_subsection" id="A4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4. </span>Prompt for KG Module</h3>
<div class="ltx_para" id="A4.SS4.p1">
<p class="ltx_p" id="A4.SS4.p1.1">We show the prompt template of the function-calling method in the knowledge graph module.</p>
</div>
<div class="ltx_para" id="A4.SS4.p2">
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS4.p2.1" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Y2xhc3MgS0dUb29sUkFHTW9kZWwKICAgIGRlZiBnZXRfdG9vbF9yZWZlcmVuY2VzKAogICAgICAgIHNlbGYsIHF1ZXJpZXM6IGxpc3Rbc3RyXSwgcXVlcnlfdGltZXM6IGxpc3Rbc3RyXQogICAgKSAtPiBsaXN0W2xpc3Rbc3RyXV06CiAgICAgICAgc3lzdGVtX3Byb21wdCA9IGYiIiIKWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50IGluIGZ1bmN0aW9uIGNhbGxpbmcuIEkgaGF2ZSBhIGtub3dsZWRnZSBncmFwaCBhbmQgYSBzZXQgb2YgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGNhbGxlZC4gWW91IHdpbGwgYmUgZ2l2ZW4gYSBxdWVzdGlvbiBhbmQgdGhlIHF1ZXJ5IHRpbWUuIFlvdXIgdGFzayBpcyB0byBnZW5lcmF0ZSBzZXZlcmFsIGZ1bmN0aW9uIGNhbGxzIHRoYXQgY2FuIGhlbHAgbWUgYW5zd2VyIHRoZSBxdWVzdGlvbi4gSGVyZSBhcmUgZnVuY3Rpb25zIGFuZCB0aGVpciBkZXNjcmlwdGlvbnM6CntUT09MU30KUmVtZW1iZXIgeW91ciBydWxlczoKMS4gWW91ICoqTVVTVCoqIGZvbGxvdyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlLgoyLiBZb3UgKipNVVNUKiogb3V0cHV0IHRoZSBKU09OIGZvcm1hdCB0aGF0IGNhbiBiZSByZWFkIGJ5IGBqc29uLmxvYWRzYC4gUmV0dXJuIGVtcHR5IGxpc3QgaWYgbm8gdXNlZnVsIGZ1bmN0aW9uIGNhbGxzIGNhbiBiZSBmb3VuZC4KMy4gRm9yIGVhY2ggZnVuY3Rpb24gY2FsbCwgeW91IHNob3VsZCBvdXRwdXQgaXRzIGZ1bmN0aW9uIG5hbWUgYW5kIGNvcnJlc3BvbmRpbmcgYXJndW1lbnRzLgoKSGVyZSBhcmUgZXhhbXBsZXM6CgojIEV4YW1wbGUgMToKUXVlcnk6IHdoaWNoIGNvbXBhbnkgaGF2ZSBsYXJnZXIgbWFya2V0IGNhcCwgaHJpIG9yIGltcHBwPwpRdWVyeSB0aW1lOiAwMy8xMy8yMDI0LCAxMDoxOTo1NiBQVApPdXRwdXQ6IFsKICAgIHt7ImZ1bmN0aW9uX25hbWUiOiAiZmluYW5jZV9nZXRfbWFya2V0X2NhcGl0YWxpemF0aW9uIiwgImFyZ3MiOiBbImhyaSJdfX0sCiAgICB7eyJmdW5jdGlvbl9uYW1lIjogImZpbmFuY2VfZ2V0X21hcmtldF9jYXBpdGFsaXphdGlvbiIsICJhcmdzIjogWyJpbXBwcCJdfX0KXQoKIyBFeGFtcGxlIDI6ClF1ZXJ5OiB3aG8gYXJlIHRoZSBjdXJyZW50IG1lbWJlcnMgb2YgdGhlIGJhbmQgZWFnbGVzPwpRdWVyeSB0aW1lOiAwMy8wNS8yMDI0LCAyMzoxNzo1OSBQVApPdXRwdXQ6IFsKICAgIHt7ImZ1bmN0aW9uX25hbWUiOiAibXVzaWNfZ2V0X21lbWJlcnMiLCAiYXJncyI6IFsiZWFnbGVzIl19fQpdCiIiIgogICAgICAgIGZvcm1hdHRlZF9wcm9tcHRzID0gW10KICAgICAgICBmb3IgaWR4LCBxdWVyeSBpbiBlbnVtZXJhdGUocXVlcmllcyk6CiAgICAgICAgICAgIHVzZXJfbWVzc2FnZSA9IGYiUXVlc3Rpb246IHtxdWVyeX1cbiIKICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9IGYiUXVlcnkgdGltZToge3F1ZXJ5X3RpbWVzW2lkeF19XG4iCiAgICAgICAgICAgIHVzZXJfbWVzc2FnZSArPSAiVXNpbmcgdGhlIHRvb2xzIGxpc3RlZCBhYm92ZSBhbmQgYmFzZWQgb24gdGhlIHF1ZXN0aW9uLCBnZW5lcmF0ZSB1c2VmdWwgZnVuY3Rpb24gY2FsbHMgZm9yIG1lLiBcbiIKICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9ICIiIgpSZW1lbWJlciB5b3VyIHJ1bGVzOgoxLiBZb3UgKipNVVNUKiogZm9sbG93IHRoZSBmdW5jdGlvbiBzaWduYXR1cmUuCjIuIFlvdSAqKk1VU1QqKiBvdXRwdXQgdGhlIEpTT04gZm9ybWF0IHRoYXQgY2FuIGJlIHJlYWQgYnkgYGpzb24ubG9hZHNgLgozLiBGb3IgZWFjaCBmdW5jdGlvbiBjYWxsLCB5b3Ugc2hvdWxkIG91dHB1dCBpdHMgZnVuY3Rpb24gbmFtZSBhbmQgY29ycmVzcG9uZGluZyBhcmd1bWVudHMuCiIiIgogICAgICAgICAgICBmb3JtYXR0ZWRfcHJvbXB0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICBzZWxmLmxsbS5nZXRfdG9rZW5pemVyKCkuYXBwbHlfY2hhdF90ZW1wbGF0ZSgKICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsicm9sZSI6ICJzeXN0ZW0iLCAiY29udGVudCI6IHN5c3RlbV9wcm9tcHR9LAogICAgICAgICAgICAgICAgICAgICAgICB7InJvbGUiOiAidXNlciIsICJjb250ZW50IjogdXNlcl9tZXNzYWdlfSwKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHRva2VuaXplPUZhbHNlLAogICAgICAgICAgICAgICAgICAgIGFkZF9nZW5lcmF0aW9uX3Byb21wdD1UcnVlLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAp">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx182">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx182.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx182.1.1" style="color:#2828FF;">class</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx182.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx182.3" style="font-size:50%;">KGToolRAGModel</span>
</div>
<div class="ltx_listingline" id="lstnumberx183">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx183.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx183.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx183.2.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx183.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx183.4" style="font-size:50%;">get_tool_references</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx183.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx184">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx184.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx184.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.2.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.3" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx184.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx184.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.5.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.6" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx184.7" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx184.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.8.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.9" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx184.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.10.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.11" style="font-size:50%;">],</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx184.12" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx184.13" style="font-size:50%;">query_times</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.14" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx184.15" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx184.16" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.16.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.17" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx184.18" style="font-size:50%;"><span class="ltx_text" id="lstnumberx184.18.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx184.19" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx185">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx185.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx185.2" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx185.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx185.4" style="font-size:50%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx185.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx185.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx185.6.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx185.7" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx185.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx185.8.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx185.9" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx185.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx185.10.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx185.11" style="font-size:50%;">]]:</span>
</div>
<div class="ltx_listingline" id="lstnumberx186">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx186.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx186.2" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx186.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx186.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx186.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx186.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx186.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx186.7.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx186.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx186.8.1" style="color:#800000;">"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx187">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.1" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.3" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.5" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.7" style="font-size:50%;color:#800000;">helpful</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.9" style="font-size:50%;color:#800000;">assistant</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.11" style="font-size:50%;color:#800000;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.13" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.15" style="font-size:50%;color:#800000;">calling.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.17" style="font-size:50%;color:#800000;">I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.19" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.21" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.23" style="font-size:50%;color:#800000;">knowledge</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.25" style="font-size:50%;color:#800000;">graph</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.27" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.29" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.31" style="font-size:50%;color:#800000;">set</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.33" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.35" style="font-size:50%;color:#800000;">functions</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.37" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.39" style="font-size:50%;color:#800000;">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.41" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.43" style="font-size:50%;color:#800000;">called.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.45" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.47" style="font-size:50%;color:#800000;">will</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.49" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.51" style="font-size:50%;color:#800000;">given</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.53" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.55" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.57" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.59" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.61" style="font-size:50%;color:#800000;">query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.63" style="font-size:50%;color:#800000;">time.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.65" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.67" style="font-size:50%;color:#800000;">task</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.69" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.70" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.71" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.72" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.73" style="font-size:50%;color:#800000;">generate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.74" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.75" style="font-size:50%;color:#800000;">several</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.76" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.77" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.78" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.79" style="font-size:50%;color:#800000;">calls</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.80" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.81" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.82" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.83" style="font-size:50%;color:#800000;">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.84" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.85" style="font-size:50%;color:#800000;">help</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.86" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.87" style="font-size:50%;color:#800000;">me</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.88" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.89" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.90" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.91" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.92" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.93" style="font-size:50%;color:#800000;">question.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.94" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.95" style="font-size:50%;color:#800000;">Here</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.96" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.97" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.98" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.99" style="font-size:50%;color:#800000;">functions</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.100" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.101" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.102" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.103" style="font-size:50%;color:#800000;">their</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx187.104" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx187.105" style="font-size:50%;color:#800000;">descriptions:</span>
</div>
<div class="ltx_listingline" id="lstnumberx188">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx188.1" style="font-size:50%;color:#800000;">{TOOLS}</span>
</div>
<div class="ltx_listingline" id="lstnumberx189">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx189.1" style="font-size:50%;color:#800000;">Remember</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx189.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx189.3" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx189.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx189.5" style="font-size:50%;color:#800000;">rules:</span>
</div>
<div class="ltx_listingline" id="lstnumberx190">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.1" style="font-size:50%;color:#800000;">1.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.5" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.7" style="font-size:50%;color:#800000;">follow</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.11" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx190.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx190.13" style="font-size:50%;color:#800000;">signature.</span>
</div>
<div class="ltx_listingline" id="lstnumberx191">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.1" style="font-size:50%;color:#800000;">2.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.5" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.7" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.11" style="font-size:50%;color:#800000;">JSON</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.13" style="font-size:50%;color:#800000;">format</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.15" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.17" style="font-size:50%;color:#800000;">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.19" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.21" style="font-size:50%;color:#800000;">read</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.23" style="font-size:50%;color:#800000;">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.25" style="font-size:50%;color:#800000;">‘json.loads‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.27" style="font-size:50%;color:#800000;">Return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.29" style="font-size:50%;color:#800000;">empty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.31" style="font-size:50%;color:#800000;">list</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.33" style="font-size:50%;color:#800000;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.35" style="font-size:50%;color:#800000;">no</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.37" style="font-size:50%;color:#800000;">useful</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.39" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.41" style="font-size:50%;color:#800000;">calls</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.43" style="font-size:50%;color:#800000;">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.45" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx191.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx191.47" style="font-size:50%;color:#800000;">found.</span>
</div>
<div class="ltx_listingline" id="lstnumberx192">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.1" style="font-size:50%;color:#800000;">3.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.3" style="font-size:50%;color:#800000;">For</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.5" style="font-size:50%;color:#800000;">each</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.7" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.9" style="font-size:50%;color:#800000;">call,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.11" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.13" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.15" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.17" style="font-size:50%;color:#800000;">its</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.19" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.21" style="font-size:50%;color:#800000;">name</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.23" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.25" style="font-size:50%;color:#800000;">corresponding</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx192.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx192.27" style="font-size:50%;color:#800000;">arguments.</span>
</div>
<div class="ltx_listingline" id="lstnumberx193">
<span class="ltx_tag ltx_tag_listingline">12</span>
</div>
<div class="ltx_listingline" id="lstnumberx194">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx194.1" style="font-size:50%;color:#800000;">Here</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx194.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx194.3" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx194.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx194.5" style="font-size:50%;color:#800000;">examples:</span>
</div>
<div class="ltx_listingline" id="lstnumberx195">
<span class="ltx_tag ltx_tag_listingline">14</span>
</div>
<div class="ltx_listingline" id="lstnumberx196">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx196.1" style="font-size:50%;color:#800000;">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx196.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx196.3" style="font-size:50%;color:#800000;">Example</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx196.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx196.5" style="font-size:50%;color:#800000;">1:</span>
</div>
<div class="ltx_listingline" id="lstnumberx197">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.1" style="font-size:50%;color:#800000;">Query:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.3" style="font-size:50%;color:#800000;">which</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.5" style="font-size:50%;color:#800000;">company</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.7" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.9" style="font-size:50%;color:#800000;">larger</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.11" style="font-size:50%;color:#800000;">market</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.13" style="font-size:50%;color:#800000;">cap,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.15" style="font-size:50%;color:#800000;">hri</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.17" style="font-size:50%;color:#800000;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx197.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx197.19" style="font-size:50%;color:#800000;">imppp?</span>
</div>
<div class="ltx_listingline" id="lstnumberx198">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx198.1" style="font-size:50%;color:#800000;">Query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx198.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx198.3" style="font-size:50%;color:#800000;">time:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx198.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx198.5" style="font-size:50%;color:#800000;">03/13/2024,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx198.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx198.7" style="font-size:50%;color:#800000;">10:19:56</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx198.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx198.9" style="font-size:50%;color:#800000;">PT</span>
</div>
<div class="ltx_listingline" id="lstnumberx199">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx199.1" style="font-size:50%;color:#800000;">Output:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx199.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx199.3" style="font-size:50%;color:#800000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx200">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx200.1" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx200.2" style="font-size:50%;color:#800000;">{{"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx200.3" style="font-size:50%;">function_name</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx200.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx200.4.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx200.4.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx200.5" style="font-size:50%;">finance_get_market_capitalization</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx200.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx200.6.1" style="color:#800000;">",<span class="ltx_text ltx_lst_space" id="lstnumberx200.6.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx200.7" style="font-size:50%;">args</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx200.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx200.8.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx200.8.1.1"> </span>["</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx200.9" style="font-size:50%;">hri</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx200.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx200.10.1" style="color:#800000;">"]}},</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx201">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx201.1" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx201.2" style="font-size:50%;color:#800000;">{{"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx201.3" style="font-size:50%;">function_name</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx201.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx201.4.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx201.4.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx201.5" style="font-size:50%;">finance_get_market_capitalization</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx201.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx201.6.1" style="color:#800000;">",<span class="ltx_text ltx_lst_space" id="lstnumberx201.6.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx201.7" style="font-size:50%;">args</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx201.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx201.8.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx201.8.1.1"> </span>["</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx201.9" style="font-size:50%;">imppp</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx201.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx201.10.1" style="color:#800000;">"]}}</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx202">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx202.1" style="font-size:50%;color:#800000;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx203">
<span class="ltx_tag ltx_tag_listingline">22</span>
</div>
<div class="ltx_listingline" id="lstnumberx204">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx204.1" style="font-size:50%;color:#800000;">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx204.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx204.3" style="font-size:50%;color:#800000;">Example</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx204.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx204.5" style="font-size:50%;color:#800000;">2:</span>
</div>
<div class="ltx_listingline" id="lstnumberx205">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.1" style="font-size:50%;color:#800000;">Query:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.3" style="font-size:50%;color:#800000;">who</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.5" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.9" style="font-size:50%;color:#800000;">current</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.11" style="font-size:50%;color:#800000;">members</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.13" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.17" style="font-size:50%;color:#800000;">band</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx205.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx205.19" style="font-size:50%;color:#800000;">eagles?</span>
</div>
<div class="ltx_listingline" id="lstnumberx206">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx206.1" style="font-size:50%;color:#800000;">Query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx206.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx206.3" style="font-size:50%;color:#800000;">time:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx206.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx206.5" style="font-size:50%;color:#800000;">03/05/2024,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx206.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx206.7" style="font-size:50%;color:#800000;">23:17:59</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx206.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx206.9" style="font-size:50%;color:#800000;">PT</span>
</div>
<div class="ltx_listingline" id="lstnumberx207">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx207.1" style="font-size:50%;color:#800000;">Output:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx207.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx207.3" style="font-size:50%;color:#800000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx208">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx208.1" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx208.2" style="font-size:50%;color:#800000;">{{"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx208.3" style="font-size:50%;">function_name</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx208.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx208.4.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx208.4.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx208.5" style="font-size:50%;">music_get_members</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx208.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx208.6.1" style="color:#800000;">",<span class="ltx_text ltx_lst_space" id="lstnumberx208.6.1.1"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx208.7" style="font-size:50%;">args</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx208.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx208.8.1" style="color:#800000;">":<span class="ltx_text ltx_lst_space" id="lstnumberx208.8.1.1"> </span>["</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx208.9" style="font-size:50%;">eagles</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx208.10" style="font-size:50%;"><span class="ltx_text" id="lstnumberx208.10.1" style="color:#800000;">"]}}</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx209">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx209.1" style="font-size:50%;color:#800000;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx210">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx210.1" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx210.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx210.2.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx211">
<span class="ltx_tag ltx_tag_listingline">30</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx211.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx211.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx211.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx211.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx211.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx211.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx212">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx212.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx212.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx212.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx212.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx212.4" style="font-size:50%;">idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx212.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx212.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx212.7" style="font-size:50%;">query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx212.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx212.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx212.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx212.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx212.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx212.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx212.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx212.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx212.13.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx212.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx213">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx213.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx213.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx213.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx213.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx213.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx213.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx213.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx213.7.1" style="color:#800000;">"Question:<span class="ltx_text ltx_lst_space" id="lstnumberx213.7.1.1"> </span>{query}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx214">
<span class="ltx_tag ltx_tag_listingline">33</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx214.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx214.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx214.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx214.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx214.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx214.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx214.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx214.7.1" style="color:#800000;">"Query<span class="ltx_text ltx_lst_space" id="lstnumberx214.7.1.1"> </span>time:<span class="ltx_text ltx_lst_space" id="lstnumberx214.7.1.2"> </span>{query_times[idx]}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx215">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx215.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx215.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx215.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx215.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx215.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx215.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx215.6.1" style="color:#800000;">"Using<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.1"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.2"> </span>tools<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.3"> </span>listed<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.4"> </span>above<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.5"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.6"> </span>based<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.7"> </span>on<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.9"> </span>question,<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.10"> </span>generate<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.11"> </span>useful<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.12"> </span>function<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.13"> </span>calls<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.14"> </span>for<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.15"> </span>me.<span class="ltx_text ltx_lst_space" id="lstnumberx215.6.1.16"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx216">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx216.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx216.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx216.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx216.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx216.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx216.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx216.6.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx216.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx216.7.1" style="color:#800000;">"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx217">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx217.1" style="font-size:50%;color:#800000;">Remember</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx217.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx217.3" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx217.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx217.5" style="font-size:50%;color:#800000;">rules:</span>
</div>
<div class="ltx_listingline" id="lstnumberx218">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.1" style="font-size:50%;color:#800000;">1.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.5" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.7" style="font-size:50%;color:#800000;">follow</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.11" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx218.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx218.13" style="font-size:50%;color:#800000;">signature.</span>
</div>
<div class="ltx_listingline" id="lstnumberx219">
<span class="ltx_tag ltx_tag_listingline">38</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.1" style="font-size:50%;color:#800000;">2.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.3" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.5" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.7" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.11" style="font-size:50%;color:#800000;">JSON</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.13" style="font-size:50%;color:#800000;">format</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.15" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.17" style="font-size:50%;color:#800000;">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.19" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.21" style="font-size:50%;color:#800000;">read</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.23" style="font-size:50%;color:#800000;">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx219.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx219.25" style="font-size:50%;color:#800000;">‘json.loads‘.</span>
</div>
<div class="ltx_listingline" id="lstnumberx220">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.1" style="font-size:50%;color:#800000;">3.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.3" style="font-size:50%;color:#800000;">For</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.5" style="font-size:50%;color:#800000;">each</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.7" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.9" style="font-size:50%;color:#800000;">call,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.11" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.13" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.15" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.17" style="font-size:50%;color:#800000;">its</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.19" style="font-size:50%;color:#800000;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.21" style="font-size:50%;color:#800000;">name</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.23" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.25" style="font-size:50%;color:#800000;">corresponding</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx220.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx220.27" style="font-size:50%;color:#800000;">arguments.</span>
</div>
<div class="ltx_listingline" id="lstnumberx221">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx221.1" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx221.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx221.2.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx222">
<span class="ltx_tag ltx_tag_listingline">41</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx222.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx222.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx222.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx222.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx222.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx223">
<span class="ltx_tag ltx_tag_listingline">42</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx223.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx223.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx223.2.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx223.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx223.4" style="font-size:50%;">llm</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx223.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx223.6" style="font-size:50%;">get_tokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx223.7" style="font-size:50%;">().</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx223.8" style="font-size:50%;">apply_chat_template</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx223.9" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx224">
<span class="ltx_tag ltx_tag_listingline">43</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx224.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx224.2" style="font-size:50%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx225">
<span class="ltx_tag ltx_tag_listingline">44</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx225.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx225.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx225.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx225.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx225.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx225.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx225.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx225.6.1" style="color:#800000;">"system"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx225.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx225.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx225.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx225.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx225.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx225.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx225.12" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx225.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx226">
<span class="ltx_tag ltx_tag_listingline">45</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx226.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx226.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx226.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx226.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx226.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx226.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx226.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx226.6.1" style="color:#800000;">"user"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx226.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx226.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx226.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx226.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx226.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx226.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx226.12" style="font-size:50%;">user_message</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx226.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx227">
<span class="ltx_tag ltx_tag_listingline">46</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx227.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx227.2" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx228">
<span class="ltx_tag ltx_tag_listingline">47</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx228.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx228.2" style="font-size:50%;">tokenize</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx228.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx228.4" style="font-size:50%;">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx228.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx229">
<span class="ltx_tag ltx_tag_listingline">48</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx229.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx229.2" style="font-size:50%;">add_generation_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx229.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx229.4" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx229.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx230">
<span class="ltx_tag ltx_tag_listingline">49</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx230.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx230.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx231">
<span class="ltx_tag ltx_tag_listingline">50</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx231.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx231.2" style="font-size:50%;">)</span>
</div>
</div>
</div>
</section>
<section class="ltx_subsection" id="A4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.5. </span>Prompt for Reasoning Module</h3>
<div class="ltx_para" id="A4.SS5.p1">
<p class="ltx_p" id="A4.SS5.p1.1">We show the prompt template of the reasoning module, where we successfully controlled the reasoning paths and output format and many corner cases.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS5.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,c3lzdGVtX3Byb21wdCA9ICIiIllvdSBhcmUgcHJvdmlkZWQgd2l0aCBhIHF1ZXN0aW9uIGFuZCB2YXJpb3VzIHJlZmVyZW5jZXMuCllvdXIgdGFzayBpcyB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uIHdpdGggeW91ciByZWFzb25pbmcgcHJvY2Vzcy4KVGhlcmUgYXJlIGFsc28gc29tZSBjYWxjdWxhdGlvbiByZXN1bHRzIGZyb20gYW5vdGhlciBhZ2VudCwgd2hpY2ggbWF5IGJlIHVzZWZ1bCBmb3IgeW91LgpUaGVyZSBpcyBhbiBhbnN3ZXIgZnJvbSBhbm90aGVyIGFnZW50IHdoaWNoIG1heSBiZSB1c2VmdWwuIEl0IG1heSBoYXZlIGhhbGx1Y2luYXRpb24uIFlvdSBuZWVkIHRvIGp1ZGdlIHdoZXRoZXIgdG8gdHJ1c3QgaXQgYnkgeW91cnNlbGYuCklmIHRoZSByZWZlcmVuY2VzIGRvIG5vdCBjb250YWluIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBhbmQgeW91IGNhbid0IGFuc3dlciBpdCBkaXJlY3RseSBiYXNlZCBvbiB5b3VyIGtub3dsZWRnZSwgcmVzcG9uZCB3aXRoICdJIGRvbid0IGtub3cnLgpJZiB5b3UgdGhpbmsgdGhlIHByZW1pc2Ugb2YgdGhlIHF1ZXN0aW9uIGlzIHdyb25nLCBmb3IgZXhhbXBsZSwgdGhlIHF1ZXN0aW9uIGFza3MgaW5mb3JtYXRpb24gYWJvdXQgYSBwZXJzb24ncyBodXNiYW5kLCBidXQgeW91IGFyZSBzdXJlIHRoYXQgdGhlIHBlcnNvbiBkb2Vzbid0IGhhdmUgb25lLCB5b3Ugc2hvdWxkIGFuc3dlciB3aXRoICJJbnZhbGlkIHF1ZXN0aW9uIiB3aXRob3V0IGFueSBvdGhlciB3b3Jkcy4KWW91ICoqTVVTVCoqIHRoaW5rIGlmIHRoZSBxdWVzdGlvbiBoYXMgYSBmYWxzZSBwcmVtaXNlLCB0aGVuIHRoaW5rIHRoZSBmaW5hbCBhbnN3ZXIuCllvdSAqKk1VU1QqKiBnZW5lcmF0ZSB0aGUgcmVhc29uaW5nIHByb2Nlc3MgYmVmb3JlIHRoZSBhbnN3ZXIuIFlvdSAqKk1VU1QqKiBnZW5lcmF0ZSB5b3VyIG91dHB1dCB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0OgoKPT09U1RBUlQ9PT0KIyMgUmVhc29uaW5nOgotIERvZXMgaXQgaGF2ZSBhIGZhbHNlIHByZW1pc2U/CjxZT1VSIFJFQVNPTklORz4KLSBXaGF0IGlzIHRoZSBmaW5hbCBhbnN3ZXI/CjxZT1VSIFJFQVNPTklORz4KLSBDYW4geW91IGFuc3dlciBpdCBiYXNlZCBvbiBjdXJyZW50IGtub3dsZWRnZT8KPFlPVVIgUkVBU09OSU5HPgotLS0tLS0KIyMgQW5zd2VyOgo8WU9VUiBGSU5BTCBBTlNXRVI+CiMjIEZhbHNlIFByZW1pc2U6CjxIQVNfRkFMU0VfUFJFTUlTRV9PUl9OT1Q+Cj09PUVORD09PQoKKipJTVBPUlRBTlQgUlVMRVMqKjoKLSBJZiB0aGUgcmVmZXJlbmNlcyBkbyBub3QgY29udGFpbiB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gYW5kIHlvdSBjYW4ndCBhbnN3ZXIgaXQgZGlyZWN0bHkgYmFzZWQgb24geW91ciBrbm93bGVkZ2UsIHJlc3BvbmQgd2l0aCAnSSBkb24ndCBrbm93Jy4KLSBZb3VyIGdlbmVyYXRpb24gKipNVVNUKiogc3RhcnRzIHdpdGggIj09PVNUQVJUPT09IiBhbmQgZW5kcyB3aXRoICI9PT1FTkQ9PT0iLgotIGA8WU9VUiBGSU5BTCBBTlNXRVI+YCBzaG91bGQgYmUgc3VjY2luY3QsIGFuZCB1c2UgYXMgZmV3IHdvcmRzIGFzIHBvc3NpYmxlLgotIGA8WU9VUiBSRUFTT05JTkc+YCBzaG91bGQgYmUgYSBkZXRhaWxlZCByZWFzb25pbmcgcHJvY2VzcyB0aGF0IGV4cGxhaW5zIGhvdyB5b3UgYXJyaXZlZCBhdCB5b3VyIGFuc3dlci4KLSBgPEhBU19GQUxTRV9QUkVNSVNFX09SX05PVD5gIHNob3VsZCBiZSAieWVzIiBpZiB0aGUgcHJlbWlzZSBpcyB3cm9uZyBhbmQgdGhlIHF1ZXN0aW9uIGlzIGludmFsaWQsIGFuZCAibm8iIG90aGVyd2lzZS4gSXQgY2FuICoqT05MWSoqIGJlIGNob3NlbiBmcm9tIHRoZXNlIHR3byBvcHRpb25zLgotIElmIHlvdSB0aGluayB0aGUgcHJlbWlzZSBvZiB0aGUgcXVlc3Rpb24gaXMgd3JvbmcsIGZvciBleGFtcGxlLCB0aGUgcXVlc3Rpb24gYXNrcyBpbmZvcm1hdGlvbiBhYm91dCBhIHBlcnNvbidzIGh1c2JhbmQsIGJ1dCB5b3UgYXJlIHN1cmUgdGhhdCB0aGUgcGVyc29uIGRvZXNuJ3QgaGF2ZSBvbmUsIHlvdSBzaG91bGQgYW5zd2VyIHdpdGggIkludmFsaWQgcXVlc3Rpb24iIHdpdGhvdXQgYW55IG90aGVyIHdvcmRzLgpMZXQncyB0aGluayBzdGVwIGJ5IHN0ZXAgbm93ISIiIgp1c2VyX21lc3NhZ2UgPSAiIgpyZWZlcmVuY2VzID0gIiIKaWYgbGVuKHJldHJpZXZhbF9yZXN1bHRzKSA+IDA6CiAgICByZWZlcmVuY2VzICs9ICIjIFJlZmVyZW5jZXMgXG4iCiAgICAjIEZvcm1hdCB0aGUgdG9wIHNlbnRlbmNlcyBhcyByZWZlcmVuY2VzIGluIHRoZSBtb2RlbCdzIHByb21wdCB0ZW1wbGF0ZS4KICAgIGZvciBfc25pcHBldF9pZHgsIHNuaXBwZXQgaW4gZW51bWVyYXRlKHJldHJpZXZhbF9yZXN1bHRzKToKICAgICAgICByZWZlcmVuY2VzICs9IGYiLSB7c25pcHBldC5zdHJpcCgpfVxuIgp1c2VyX21lc3NhZ2UgKz0gZiJ7cmVmZXJlbmNlc31cbi0tLS0tLVxuXG4iCmlmIGxlbihrZ19yZXN1bHRzKSA+IDA6CiAgICBrZ19yZWZlcmVuY2VzID0gIiIKICAgIHVzZXJfbWVzc2FnZSArPSAiIyMgS25vd2xlZGdlIEdyYXBoIHJlZmVyZW5jZXMgXG4iCiAgICBmb3IgaWR4LCBrZ19yZXN1bHQgaW4gZW51bWVyYXRlKGtnX3Jlc3VsdHMpOgogICAgICAgIGtnX3JlZmVyZW5jZXMgKz0gZiIjIyMgS0cgUmVmIHtpZHggKyAxfTogXG4iCiAgICAgICAga2dfcmVmZXJlbmNlcyArPSBmIntrZ19yZXN1bHR9XG4iCiAgICBrZ19yZWZlcmVuY2VzID0ga2dfcmVmZXJlbmNlc1s6MTAwMF0KICAgIHVzZXJfbWVzc2FnZSArPSBmIntrZ19yZWZlcmVuY2VzfVxuLS0tLS0tXG5cbiIKICAgIGxvZ2dlci5kZWJ1ZygiQ3VycmVjdCBLRyByZWZlcmVuY2VzOlxue30iLmZvcm1hdChrZ19yZWZlcmVuY2VzKSkKaWYgbGVuKHJlbGF0ZWRfdGFibGVzKSA+IDA6CiAgICB0YWJsZV9yZWZlcmVuY2VzID0gIiIKICAgIHVzZXJfbWVzc2FnZSArPSAiIyMgVGFibGUgcmVmZXJlbmNlcyBcbiIKICAgIGZvciBpZHgsIHRhYmxlIGluIGVudW1lcmF0ZShyZWxhdGVkX3RhYmxlcyk6CiAgICAgICAgdGFibGVfcmVmZXJlbmNlcyArPSBmIiMjIyBUYWJsZSB7aWR4ICsgMX06IFxuIgogICAgICAgIHRhYmxlX3JlZmVyZW5jZXMgKz0gZiJ7dGFibGV9XG4iCiAgICB0YWJsZV9yZWZlcmVuY2VzID0gdGFibGVfcmVmZXJlbmNlc1s6IHNlbGYubWF4X3RhYmxlX2xlbmd0aF0KICAgIHVzZXJfbWVzc2FnZSArPSBmInt0YWJsZV9yZWZlcmVuY2VzfVxuLS0tLS0tXG5cbiIKaWYgbGVuKGdlbmVyYXRlZF9leHByZXNzaW9ucykgPiAwOgogICAgZXhwcmVzc2lvbl9yZWZlcmVuY2VzID0gIiIKICAgIHVzZXJfbWVzc2FnZSArPSAiIyMgUG9zc2libGUgdXNlZnVsIGNhbGN1bGF0aW9uIHJlc3VsdHMgXG4iCiAgICBmb3IgaWR4LCBleHByZXNzaW9uIGluIGVudW1lcmF0ZShnZW5lcmF0ZWRfZXhwcmVzc2lvbnMpOgogICAgICAgIGV4cHJlc3Npb25fcmVmZXJlbmNlcyArPSBmIiMjIyBDYWxjdWxhdGlvbiB7aWR4ICsgMX06IFxuIgogICAgICAgIGV4cHJlc3Npb25fcmVmZXJlbmNlcyArPSBmIntleHByZXNzaW9ufVxuIgogICAgdXNlcl9tZXNzYWdlICs9IGYie2V4cHJlc3Npb25fcmVmZXJlbmNlc31cbi0tLS0tLVxuXG4iCmlmIGRpcmVjdF9hbnN3ZXIgaXMgbm90IE5vbmU6CiAgICB1c2VyX21lc3NhZ2UgKz0gKAogICAgICAgIGYiIyBBbiBhbnN3ZXIgZnJvbSBhbm90aGVyIGFnZW50Olxue2RpcmVjdF9hbnN3ZXJ9XG4tLS0tLS1cblxuIgogICAgKQp1c2VyX21lc3NhZ2UgKz0gIiIiKipSZW1lbWJlciB5b3VyIElNUE9SVEFOVCBSVUxFUyoqOgotIElmIHRoZSByZWZlcmVuY2VzIGRvIG5vdCBjb250YWluIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBhbmQgeW91IGNhbid0IGFuc3dlciBpdCBkaXJlY3RseSBiYXNlZCBvbiB5b3VyIGtub3dsZWRnZSwgcmVzcG9uZCB3aXRoICdJIGRvbid0IGtub3cnLgotIFlvdXIgZ2VuZXJhdGlvbiAqKk1VU1QqKiBzdGFydHMgd2l0aCAiPT09U1RBUlQ9PT0iIGFuZCBlbmRzIHdpdGggIj09PUVORD09PSIuCi0gYDxZT1VSIEZJTkFMIEFOU1dFUj5gIHNob3VsZCBiZSBzdWNjaW5jdCwgYW5kIHVzZSBhcyBmZXcgd29yZHMgYXMgcG9zc2libGUuCi0gYDxZT1VSIFJFQVNPTklORz5gIHNob3VsZCBiZSBhIGRldGFpbGVkIHJlYXNvbmluZyBwcm9jZXNzIHRoYXQgZXhwbGFpbnMgaG93IHlvdSBhcnJpdmVkIGF0IHlvdXIgYW5zd2VyLgotIGA8SEFTX0ZBTFNFX1BSRU1JU0VfT1JfTk9UPmAgc2hvdWxkIGJlICJ5ZXMiIGlmIHRoZSBxdWVzdGlvbiBpcyBpbnZhbGlkLCBhbmQgIm5vIiBvdGhlcndpc2UuIEl0IGNhbiAqKk9OTFkqKiBiZSBjaG9zZW4gZnJvbSB0aGVzZSB0d28gb3B0aW9ucy4KLSBJZiB5b3UgdGhpbmsgdGhlIHByZW1pc2Ugb2YgdGhlIHF1ZXN0aW9uIGlzIHdyb25nLCBmb3IgZXhhbXBsZSwgdGhlIHF1ZXN0aW9uIGFza3MgaW5mb3JtYXRpb24gYWJvdXQgYSBwZXJzb24ncyBodXNiYW5kLCBidXQgeW91IGFyZSBzdXJlIHRoYXQgdGhlIHBlcnNvbiBkb2Vzbid0IGhhdmUgb25lLCB5b3Ugc2hvdWxkIGFuc3dlciB3aXRoICJJbnZhbGlkIHF1ZXN0aW9uIiB3aXRob3V0IGFueSBvdGhlciB3b3Jkcy4KIiIiCnVzZXJfbWVzc2FnZSArPSAoCiAgICBmIlVzaW5nIHRoZSByZWZlcmVuY2VzIGxpc3RlZCBhYm92ZSwgYW5zd2VyIHRoZSBmb2xsb3dpbmcgcXVlc3Rpb246IFxuIgopCnVzZXJfbWVzc2FnZSArPSBmIkN1cnJlbnQgVGltZToge3F1ZXJ5X3RpbWV9XG4iCnVzZXJfbWVzc2FnZSArPSBmIlF1ZXN0aW9uOiB7cXVlcnl9XG4iCnVzZXJfbWVzc2FnZSArPSAiTGV0J3MgdGhpbmsgc3RlcCBieSBzdGVwIG5vdyFcbiI=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx232">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx232.1" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx232.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx232.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx232.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx232.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx232.5.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx232.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx232.6.1" style="color:#800000;">"You<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.1"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.2"> </span>provided<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.4"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.5"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.7"> </span>various<span class="ltx_text ltx_lst_space" id="lstnumberx232.6.1.8"> </span>references.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx233">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.1" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.3" style="font-size:50%;color:#800000;">task</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.5" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.7" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.9" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.11" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.13" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.15" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.17" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.19" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx233.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx233.21" style="font-size:50%;color:#800000;">process.</span>
</div>
<div class="ltx_listingline" id="lstnumberx234">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.1" style="font-size:50%;color:#800000;">There</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.3" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.5" style="font-size:50%;color:#800000;">also</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.7" style="font-size:50%;color:#800000;">some</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.9" style="font-size:50%;color:#800000;">calculation</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.11" style="font-size:50%;color:#800000;">results</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.13" style="font-size:50%;color:#800000;">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.15" style="font-size:50%;color:#800000;">another</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.17" style="font-size:50%;color:#800000;">agent,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.19" style="font-size:50%;color:#800000;">which</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.21" style="font-size:50%;color:#800000;">may</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.23" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.25" style="font-size:50%;color:#800000;">useful</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.27" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx234.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx234.29" style="font-size:50%;color:#800000;">you.</span>
</div>
<div class="ltx_listingline" id="lstnumberx235">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.1" style="font-size:50%;color:#800000;">There</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.3" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.5" style="font-size:50%;color:#800000;">an</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.7" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.9" style="font-size:50%;color:#800000;">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.11" style="font-size:50%;color:#800000;">another</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.13" style="font-size:50%;color:#800000;">agent</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.15" style="font-size:50%;color:#800000;">which</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.17" style="font-size:50%;color:#800000;">may</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.19" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.21" style="font-size:50%;color:#800000;">useful.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.23" style="font-size:50%;color:#800000;">It</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.25" style="font-size:50%;color:#800000;">may</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.27" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.29" style="font-size:50%;color:#800000;">hallucination.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.31" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.33" style="font-size:50%;color:#800000;">need</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.35" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.37" style="font-size:50%;color:#800000;">judge</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.39" style="font-size:50%;color:#800000;">whether</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.41" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.43" style="font-size:50%;color:#800000;">trust</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.45" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.47" style="font-size:50%;color:#800000;">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx235.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx235.49" style="font-size:50%;color:#800000;">yourself.</span>
</div>
<div class="ltx_listingline" id="lstnumberx236">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.1" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.3" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.5" style="font-size:50%;color:#800000;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.7" style="font-size:50%;color:#800000;">do</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.9" style="font-size:50%;color:#800000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.11" style="font-size:50%;color:#800000;">contain</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.13" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.15" style="font-size:50%;color:#800000;">necessary</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.17" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.19" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.21" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.23" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.25" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.27" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.29" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.31" style="font-size:50%;color:#800000;">can’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.33" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.35" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.37" style="font-size:50%;color:#800000;">directly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.39" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.41" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.43" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.45" style="font-size:50%;color:#800000;">knowledge,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.47" style="font-size:50%;color:#800000;">respond</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.49" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.51" style="font-size:50%;color:#800000;">’I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.53" style="font-size:50%;color:#800000;">don’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx236.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx236.55" style="font-size:50%;color:#800000;">know’.</span>
</div>
<div class="ltx_listingline" id="lstnumberx237">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.1" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.3" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.5" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.9" style="font-size:50%;color:#800000;">premise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.11" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.13" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.15" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.17" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.19" style="font-size:50%;color:#800000;">wrong,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.21" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.23" style="font-size:50%;color:#800000;">example,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.27" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.29" style="font-size:50%;color:#800000;">asks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.31" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.33" style="font-size:50%;color:#800000;">about</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.35" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.37" style="font-size:50%;color:#800000;">person’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.39" style="font-size:50%;color:#800000;">husband,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.41" style="font-size:50%;color:#800000;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.43" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.45" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.47" style="font-size:50%;color:#800000;">sure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.49" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.51" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.53" style="font-size:50%;color:#800000;">person</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.55" style="font-size:50%;color:#800000;">doesn’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.57" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.59" style="font-size:50%;color:#800000;">one,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.61" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.63" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.65" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.67" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx237.69" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx237.70" style="font-size:50%;">Invalid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx237.71" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx237.72" style="font-size:50%;">question</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx237.73" style="font-size:50%;"><span class="ltx_text" id="lstnumberx237.73.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx237.73.1.1"> </span>without<span class="ltx_text ltx_lst_space" id="lstnumberx237.73.1.2"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx237.73.1.3"> </span>other<span class="ltx_text ltx_lst_space" id="lstnumberx237.73.1.4"> </span>words.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx238">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.1" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.3" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.5" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.7" style="font-size:50%;color:#800000;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.11" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.13" style="font-size:50%;color:#800000;">has</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.15" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.17" style="font-size:50%;color:#800000;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.19" style="font-size:50%;color:#800000;">premise,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.21" style="font-size:50%;color:#800000;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.23" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.27" style="font-size:50%;color:#800000;">final</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx238.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx238.29" style="font-size:50%;color:#800000;">answer.</span>
</div>
<div class="ltx_listingline" id="lstnumberx239">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.1" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.3" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.5" style="font-size:50%;color:#800000;">generate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.9" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.11" style="font-size:50%;color:#800000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.13" style="font-size:50%;color:#800000;">before</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.17" style="font-size:50%;color:#800000;">answer.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.19" style="font-size:50%;color:#800000;">You</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.21" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.23" style="font-size:50%;color:#800000;">generate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.25" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.27" style="font-size:50%;color:#800000;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.29" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.31" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.33" style="font-size:50%;color:#800000;">following</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx239.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx239.35" style="font-size:50%;color:#800000;">format:</span>
</div>
<div class="ltx_listingline" id="lstnumberx240">
<span class="ltx_tag ltx_tag_listingline">9</span>
</div>
<div class="ltx_listingline" id="lstnumberx241">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx241.1" style="font-size:50%;color:#800000;">===START===</span>
</div>
<div class="ltx_listingline" id="lstnumberx242">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx242.1" style="font-size:50%;color:#800000;">##</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx242.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx242.3" style="font-size:50%;color:#800000;">Reasoning:</span>
</div>
<div class="ltx_listingline" id="lstnumberx243">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.3" style="font-size:50%;color:#800000;">Does</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.5" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.7" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.9" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.11" style="font-size:50%;color:#800000;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx243.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx243.13" style="font-size:50%;color:#800000;">premise?</span>
</div>
<div class="ltx_listingline" id="lstnumberx244">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx244.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx244.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx244.3" style="font-size:50%;color:#800000;">REASONING&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx245">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx245.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.3" style="font-size:50%;color:#800000;">What</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx245.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.5" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx245.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.7" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx245.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.9" style="font-size:50%;color:#800000;">final</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx245.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx245.11" style="font-size:50%;color:#800000;">answer?</span>
</div>
<div class="ltx_listingline" id="lstnumberx246">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx246.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx246.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx246.3" style="font-size:50%;color:#800000;">REASONING&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx247">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.3" style="font-size:50%;color:#800000;">Can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.7" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.9" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.11" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.13" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.15" style="font-size:50%;color:#800000;">current</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx247.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx247.17" style="font-size:50%;color:#800000;">knowledge?</span>
</div>
<div class="ltx_listingline" id="lstnumberx248">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx248.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx248.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx248.3" style="font-size:50%;color:#800000;">REASONING&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx249">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx249.1" style="font-size:50%;color:#800000;">------</span>
</div>
<div class="ltx_listingline" id="lstnumberx250">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx250.1" style="font-size:50%;color:#800000;">##</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx250.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx250.3" style="font-size:50%;color:#800000;">Answer:</span>
</div>
<div class="ltx_listingline" id="lstnumberx251">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx251.1" style="font-size:50%;color:#800000;">&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx251.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx251.3" style="font-size:50%;color:#800000;">FINAL</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx251.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx251.5" style="font-size:50%;color:#800000;">ANSWER&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx252">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx252.1" style="font-size:50%;color:#800000;">##</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx252.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx252.3" style="font-size:50%;color:#800000;">False</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx252.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx252.5" style="font-size:50%;color:#800000;">Premise:</span>
</div>
<div class="ltx_listingline" id="lstnumberx253">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx253.1" style="font-size:50%;color:#800000;">&lt;HAS_FALSE_PREMISE_OR_NOT&gt;</span>
</div>
<div class="ltx_listingline" id="lstnumberx254">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx254.1" style="font-size:50%;color:#800000;">===END===</span>
</div>
<div class="ltx_listingline" id="lstnumberx255">
<span class="ltx_tag ltx_tag_listingline">24</span>
</div>
<div class="ltx_listingline" id="lstnumberx256">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx256.1" style="font-size:50%;color:#800000;">**IMPORTANT</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx256.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx256.3" style="font-size:50%;color:#800000;">RULES**:</span>
</div>
<div class="ltx_listingline" id="lstnumberx257">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.5" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.7" style="font-size:50%;color:#800000;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.9" style="font-size:50%;color:#800000;">do</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.11" style="font-size:50%;color:#800000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.13" style="font-size:50%;color:#800000;">contain</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.17" style="font-size:50%;color:#800000;">necessary</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.19" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.21" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.23" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.27" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.29" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.31" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.33" style="font-size:50%;color:#800000;">can’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.35" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.37" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.39" style="font-size:50%;color:#800000;">directly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.41" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.43" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.45" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.47" style="font-size:50%;color:#800000;">knowledge,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.49" style="font-size:50%;color:#800000;">respond</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.51" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.53" style="font-size:50%;color:#800000;">’I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.55" style="font-size:50%;color:#800000;">don’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx257.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx257.57" style="font-size:50%;color:#800000;">know’.</span>
</div>
<div class="ltx_listingline" id="lstnumberx258">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.3" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.5" style="font-size:50%;color:#800000;">generation</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.9" style="font-size:50%;color:#800000;">starts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.11" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx258.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.13" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx258.14" style="font-size:50%;">===<span class="ltx_text ltx_lst_identifier" id="lstnumberx258.14.1">START</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx258.14.2"><span class="ltx_text" id="lstnumberx258.14.2.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx258.14.2.1.1"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx258.14.2.1.2"> </span>ends<span class="ltx_text ltx_lst_space" id="lstnumberx258.14.2.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx258.14.2.1.4"> </span>"</span></span>===<span class="ltx_text ltx_lst_identifier" id="lstnumberx258.14.3">END</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx258.14.4"><span class="ltx_text" id="lstnumberx258.14.4.1" style="color:#800000;">".</span></span></span>
</div>
<div class="ltx_listingline" id="lstnumberx259">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.5" style="font-size:50%;color:#800000;">FINAL</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.7" style="font-size:50%;color:#800000;">ANSWER&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.9" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.11" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.13" style="font-size:50%;color:#800000;">succinct,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.15" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.17" style="font-size:50%;color:#800000;">use</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.19" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.21" style="font-size:50%;color:#800000;">few</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.23" style="font-size:50%;color:#800000;">words</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.25" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx259.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx259.27" style="font-size:50%;color:#800000;">possible.</span>
</div>
<div class="ltx_listingline" id="lstnumberx260">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.5" style="font-size:50%;color:#800000;">REASONING&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.7" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.11" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.13" style="font-size:50%;color:#800000;">detailed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.15" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.17" style="font-size:50%;color:#800000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.19" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.21" style="font-size:50%;color:#800000;">explains</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.23" style="font-size:50%;color:#800000;">how</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.25" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.27" style="font-size:50%;color:#800000;">arrived</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.29" style="font-size:50%;color:#800000;">at</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.31" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx260.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx260.33" style="font-size:50%;color:#800000;">answer.</span>
</div>
<div class="ltx_listingline" id="lstnumberx261">
<span class="ltx_tag ltx_tag_listingline">30</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx261.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx261.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx261.3" style="font-size:50%;color:#800000;">‘&lt;HAS_FALSE_PREMISE_OR_NOT&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx261.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx261.5" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx261.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx261.7" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx261.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx261.9" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx261.10" style="font-size:50%;">yes</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx261.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx261.11.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.1"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.3"> </span>premise<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.4"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.5"> </span>wrong<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.7"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.8"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.9"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.10"> </span>invalid,<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.11"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx261.11.1.12"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx261.12" style="font-size:50%;">no</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx261.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx261.13.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.1"> </span>otherwise.<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.2"> </span>It<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.3"> </span>can<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.4"> </span>**ONLY**<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.5"> </span>be<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.6"> </span>chosen<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.7"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.8"> </span>these<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.9"> </span>two<span class="ltx_text ltx_lst_space" id="lstnumberx261.13.1.10"> </span>options.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx262">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.7" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.11" style="font-size:50%;color:#800000;">premise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.13" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.17" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.19" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.21" style="font-size:50%;color:#800000;">wrong,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.23" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.25" style="font-size:50%;color:#800000;">example,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.27" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.29" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.31" style="font-size:50%;color:#800000;">asks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.33" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.35" style="font-size:50%;color:#800000;">about</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.37" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.39" style="font-size:50%;color:#800000;">person’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.41" style="font-size:50%;color:#800000;">husband,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.43" style="font-size:50%;color:#800000;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.45" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.47" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.49" style="font-size:50%;color:#800000;">sure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.51" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.53" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.55" style="font-size:50%;color:#800000;">person</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.57" style="font-size:50%;color:#800000;">doesn’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.59" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.61" style="font-size:50%;color:#800000;">one,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.63" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.65" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.67" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.69" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.70" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx262.71" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx262.72" style="font-size:50%;">Invalid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx262.73" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx262.74" style="font-size:50%;">question</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx262.75" style="font-size:50%;"><span class="ltx_text" id="lstnumberx262.75.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx262.75.1.1"> </span>without<span class="ltx_text ltx_lst_space" id="lstnumberx262.75.1.2"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx262.75.1.3"> </span>other<span class="ltx_text ltx_lst_space" id="lstnumberx262.75.1.4"> </span>words.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx263">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.1" style="font-size:50%;color:#800000;">Let’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx263.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.3" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx263.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.5" style="font-size:50%;color:#800000;">step</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx263.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.7" style="font-size:50%;color:#800000;">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx263.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.9" style="font-size:50%;color:#800000;">step</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx263.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx263.11" style="font-size:50%;color:#800000;">now!"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx263.12" style="font-size:50%;"><span class="ltx_text" id="lstnumberx263.12.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx264">
<span class="ltx_tag ltx_tag_listingline">33</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx264.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx264.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx264.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx264.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx264.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx264.5.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx265">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx265.1" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx265.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx265.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx265.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx265.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx265.5.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx266">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx266.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx266.1.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx266.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx266.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx266.3.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx266.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx266.5" style="font-size:50%;">retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx266.6" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx266.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx266.8" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx266.9" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx266.10" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx267">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx267.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx267.2" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx267.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx267.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx267.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx267.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx267.6.1" style="color:#800000;">"#<span class="ltx_text ltx_lst_space" id="lstnumberx267.6.1.1"> </span>References<span class="ltx_text ltx_lst_space" id="lstnumberx267.6.1.2"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx268">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx268.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx268.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx268.2.1" style="color:#006060;background-color:#F5F5F4;">#<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.1"> </span>Format<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.3"> </span>top<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.4"> </span>sentences<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.5"> </span>as<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.6"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.7"> </span>in<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.9"> </span>model’s<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.10"> </span>prompt<span class="ltx_text ltx_lst_space" id="lstnumberx268.2.1.11"> </span>template.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx269">
<span class="ltx_tag ltx_tag_listingline">38</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx269.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx269.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx269.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx269.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx269.4" style="font-size:50%;">_snippet_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx269.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx269.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx269.7" style="font-size:50%;">snippet</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx269.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx269.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx269.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx269.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx269.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx269.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx269.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx269.13" style="font-size:50%;">retrieval_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx269.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx270">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx270.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx270.2" style="font-size:50%;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx270.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx270.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx270.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx270.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx270.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx270.7.1" style="color:#800000;">"-<span class="ltx_text ltx_lst_space" id="lstnumberx270.7.1.1"> </span>{snippet.strip()}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx271">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx271.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx271.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx271.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx271.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx271.5" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx271.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx271.6.1" style="color:#800000;">"{references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx272">
<span class="ltx_tag ltx_tag_listingline">41</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx272.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx272.1.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx272.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx272.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx272.3.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx272.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx272.5" style="font-size:50%;">kg_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx272.6" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx272.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx272.8" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx272.9" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx272.10" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx273">
<span class="ltx_tag ltx_tag_listingline">42</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx273.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx273.2" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx273.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx273.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx273.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx273.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx273.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx274">
<span class="ltx_tag ltx_tag_listingline">43</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx274.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx274.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx274.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx274.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx274.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx274.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx274.6.1" style="color:#800000;">"##<span class="ltx_text ltx_lst_space" id="lstnumberx274.6.1.1"> </span>Knowledge<span class="ltx_text ltx_lst_space" id="lstnumberx274.6.1.2"> </span>Graph<span class="ltx_text ltx_lst_space" id="lstnumberx274.6.1.3"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx274.6.1.4"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx275">
<span class="ltx_tag ltx_tag_listingline">44</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx275.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx275.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx275.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx275.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx275.4" style="font-size:50%;">idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx275.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx275.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx275.7" style="font-size:50%;">kg_result</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx275.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx275.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx275.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx275.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx275.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx275.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx275.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx275.13" style="font-size:50%;">kg_results</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx275.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx276">
<span class="ltx_tag ltx_tag_listingline">45</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx276.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx276.2" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx276.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx276.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx276.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx276.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx276.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx276.7.1" style="color:#800000;">"###<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.1"> </span>KG<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.2"> </span>Ref<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.3"> </span>{idx<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.4"> </span>+<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.5"> </span>1}:<span class="ltx_text ltx_lst_space" id="lstnumberx276.7.1.6"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx277">
<span class="ltx_tag ltx_tag_listingline">46</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx277.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx277.2" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx277.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx277.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx277.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx277.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx277.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx277.7.1" style="color:#800000;">"{kg_result}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx278">
<span class="ltx_tag ltx_tag_listingline">47</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx278.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx278.2" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx278.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx278.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx278.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx278.6" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx278.7" style="font-size:50%;">[:1000]</span>
</div>
<div class="ltx_listingline" id="lstnumberx279">
<span class="ltx_tag ltx_tag_listingline">48</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx279.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx279.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx279.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx279.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx279.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx279.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx279.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx279.7.1" style="color:#800000;">"{kg_references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx280">
<span class="ltx_tag ltx_tag_listingline">49</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx280.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx280.2" style="font-size:50%;">logger</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx280.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx280.4" style="font-size:50%;">debug</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx280.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx280.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx280.6.1" style="color:#800000;">"Currect<span class="ltx_text ltx_lst_space" id="lstnumberx280.6.1.1"> </span>KG<span class="ltx_text ltx_lst_space" id="lstnumberx280.6.1.2"> </span>references:\n{}"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx280.7" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx280.8" style="font-size:50%;"><span class="ltx_text" id="lstnumberx280.8.1" style="color:#2828FF;">format</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx280.9" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx280.10" style="font-size:50%;">kg_references</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx280.11" style="font-size:50%;">))</span>
</div>
<div class="ltx_listingline" id="lstnumberx281">
<span class="ltx_tag ltx_tag_listingline">50</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx281.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx281.1.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx281.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx281.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx281.3.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx281.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx281.5" style="font-size:50%;">related_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx281.6" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx281.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx281.8" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx281.9" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx281.10" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx282">
<span class="ltx_tag ltx_tag_listingline">51</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx282.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx282.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx282.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx282.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx282.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx282.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx282.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx283">
<span class="ltx_tag ltx_tag_listingline">52</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx283.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx283.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx283.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx283.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx283.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx283.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx283.6.1" style="color:#800000;">"##<span class="ltx_text ltx_lst_space" id="lstnumberx283.6.1.1"> </span>Table<span class="ltx_text ltx_lst_space" id="lstnumberx283.6.1.2"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx283.6.1.3"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx284">
<span class="ltx_tag ltx_tag_listingline">53</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx284.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx284.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx284.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx284.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx284.4" style="font-size:50%;">idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx284.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx284.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx284.7" style="font-size:50%;">table</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx284.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx284.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx284.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx284.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx284.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx284.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx284.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx284.13" style="font-size:50%;">related_tables</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx284.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx285">
<span class="ltx_tag ltx_tag_listingline">54</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx285.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx285.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx285.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx285.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx285.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx285.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx285.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx285.7.1" style="color:#800000;">"###<span class="ltx_text ltx_lst_space" id="lstnumberx285.7.1.1"> </span>Table<span class="ltx_text ltx_lst_space" id="lstnumberx285.7.1.2"> </span>{idx<span class="ltx_text ltx_lst_space" id="lstnumberx285.7.1.3"> </span>+<span class="ltx_text ltx_lst_space" id="lstnumberx285.7.1.4"> </span>1}:<span class="ltx_text ltx_lst_space" id="lstnumberx285.7.1.5"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx286">
<span class="ltx_tag ltx_tag_listingline">55</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx286.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx286.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx286.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx286.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx286.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx286.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx286.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx286.7.1" style="color:#800000;">"{table}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx287">
<span class="ltx_tag ltx_tag_listingline">56</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx287.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx287.2" style="font-size:50%;">table_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx287.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx287.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx287.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx287.6" style="font-size:50%;">table_references</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx287.7" style="font-size:50%;">[:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx287.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx287.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx287.9.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx287.10" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx287.11" style="font-size:50%;">max_table_length</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx287.12" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx288">
<span class="ltx_tag ltx_tag_listingline">57</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx288.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx288.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx288.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx288.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx288.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx288.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx288.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx288.7.1" style="color:#800000;">"{table_references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx289">
<span class="ltx_tag ltx_tag_listingline">58</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx289.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx289.1.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx289.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx289.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx289.3.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx289.4" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx289.5" style="font-size:50%;">generated_expressions</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx289.6" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx289.7" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx289.8" style="font-size:50%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx289.9" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx289.10" style="font-size:50%;">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx290">
<span class="ltx_tag ltx_tag_listingline">59</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx290.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx290.2" style="font-size:50%;">expression_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx290.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx290.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx290.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx290.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx290.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx291">
<span class="ltx_tag ltx_tag_listingline">60</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx291.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx291.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx291.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx291.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx291.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx291.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx291.6.1" style="color:#800000;">"##<span class="ltx_text ltx_lst_space" id="lstnumberx291.6.1.1"> </span>Possible<span class="ltx_text ltx_lst_space" id="lstnumberx291.6.1.2"> </span>useful<span class="ltx_text ltx_lst_space" id="lstnumberx291.6.1.3"> </span>calculation<span class="ltx_text ltx_lst_space" id="lstnumberx291.6.1.4"> </span>results<span class="ltx_text ltx_lst_space" id="lstnumberx291.6.1.5"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx292">
<span class="ltx_tag ltx_tag_listingline">61</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx292.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx292.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx292.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx292.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx292.4" style="font-size:50%;">idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx292.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx292.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx292.7" style="font-size:50%;">expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx292.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx292.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx292.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx292.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx292.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx292.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx292.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx292.13" style="font-size:50%;">generated_expressions</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx292.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx293">
<span class="ltx_tag ltx_tag_listingline">62</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx293.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx293.2" style="font-size:50%;">expression_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx293.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx293.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx293.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx293.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx293.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx293.7.1" style="color:#800000;">"###<span class="ltx_text ltx_lst_space" id="lstnumberx293.7.1.1"> </span>Calculation<span class="ltx_text ltx_lst_space" id="lstnumberx293.7.1.2"> </span>{idx<span class="ltx_text ltx_lst_space" id="lstnumberx293.7.1.3"> </span>+<span class="ltx_text ltx_lst_space" id="lstnumberx293.7.1.4"> </span>1}:<span class="ltx_text ltx_lst_space" id="lstnumberx293.7.1.5"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx294">
<span class="ltx_tag ltx_tag_listingline">63</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx294.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx294.2" style="font-size:50%;">expression_references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx294.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx294.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx294.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx294.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx294.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx294.7.1" style="color:#800000;">"{expression}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx295">
<span class="ltx_tag ltx_tag_listingline">64</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx295.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx295.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx295.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx295.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx295.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx295.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx295.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx295.7.1" style="color:#800000;">"{expression_references}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx296">
<span class="ltx_tag ltx_tag_listingline">65</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx296.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx296.1.1" style="color:#2828FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx296.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx296.3" style="font-size:50%;">direct_answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx296.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx296.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx296.5.1" style="color:#2828FF;">is</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx296.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx296.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx296.7.1" style="color:#2828FF;">not</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx296.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx296.9" style="font-size:50%;">None</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx296.10" style="font-size:50%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx297">
<span class="ltx_tag ltx_tag_listingline">66</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx297.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx297.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx297.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx297.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx297.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx297.6" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx298">
<span class="ltx_tag ltx_tag_listingline">67</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx298.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx298.2" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx298.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx298.3.1" style="color:#800000;">"#<span class="ltx_text ltx_lst_space" id="lstnumberx298.3.1.1"> </span>An<span class="ltx_text ltx_lst_space" id="lstnumberx298.3.1.2"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx298.3.1.3"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx298.3.1.4"> </span>another<span class="ltx_text ltx_lst_space" id="lstnumberx298.3.1.5"> </span>agent:\n{direct_answer}\n------\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx299">
<span class="ltx_tag ltx_tag_listingline">68</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx299.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx299.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx300">
<span class="ltx_tag ltx_tag_listingline">69</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx300.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx300.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx300.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx300.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx300.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx300.5.1" style="color:#800000;">""</span></span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx300.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx300.6.1" style="color:#800000;">"**Remember<span class="ltx_text ltx_lst_space" id="lstnumberx300.6.1.1"> </span>your<span class="ltx_text ltx_lst_space" id="lstnumberx300.6.1.2"> </span>IMPORTANT<span class="ltx_text ltx_lst_space" id="lstnumberx300.6.1.3"> </span>RULES**:</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx301">
<span class="ltx_tag ltx_tag_listingline">70</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.5" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.7" style="font-size:50%;color:#800000;">references</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.9" style="font-size:50%;color:#800000;">do</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.11" style="font-size:50%;color:#800000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.13" style="font-size:50%;color:#800000;">contain</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.17" style="font-size:50%;color:#800000;">necessary</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.19" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.21" style="font-size:50%;color:#800000;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.23" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.25" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.27" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.29" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.31" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.33" style="font-size:50%;color:#800000;">can’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.35" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.37" style="font-size:50%;color:#800000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.39" style="font-size:50%;color:#800000;">directly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.41" style="font-size:50%;color:#800000;">based</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.43" style="font-size:50%;color:#800000;">on</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.45" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.47" style="font-size:50%;color:#800000;">knowledge,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.49" style="font-size:50%;color:#800000;">respond</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.51" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.53" style="font-size:50%;color:#800000;">’I</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.55" style="font-size:50%;color:#800000;">don’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx301.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx301.57" style="font-size:50%;color:#800000;">know’.</span>
</div>
<div class="ltx_listingline" id="lstnumberx302">
<span class="ltx_tag ltx_tag_listingline">71</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.3" style="font-size:50%;color:#800000;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.5" style="font-size:50%;color:#800000;">generation</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.7" style="font-size:50%;color:#800000;">**MUST**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.9" style="font-size:50%;color:#800000;">starts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.11" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx302.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.13" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx302.14" style="font-size:50%;">===<span class="ltx_text ltx_lst_identifier" id="lstnumberx302.14.1">START</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx302.14.2"><span class="ltx_text" id="lstnumberx302.14.2.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx302.14.2.1.1"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx302.14.2.1.2"> </span>ends<span class="ltx_text ltx_lst_space" id="lstnumberx302.14.2.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx302.14.2.1.4"> </span>"</span></span>===<span class="ltx_text ltx_lst_identifier" id="lstnumberx302.14.3">END</span>===<span class="ltx_text ltx_lst_string" id="lstnumberx302.14.4"><span class="ltx_text" id="lstnumberx302.14.4.1" style="color:#800000;">".</span></span></span>
</div>
<div class="ltx_listingline" id="lstnumberx303">
<span class="ltx_tag ltx_tag_listingline">72</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.5" style="font-size:50%;color:#800000;">FINAL</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.7" style="font-size:50%;color:#800000;">ANSWER&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.9" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.11" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.13" style="font-size:50%;color:#800000;">succinct,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.15" style="font-size:50%;color:#800000;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.17" style="font-size:50%;color:#800000;">use</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.19" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.21" style="font-size:50%;color:#800000;">few</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.23" style="font-size:50%;color:#800000;">words</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.25" style="font-size:50%;color:#800000;">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx303.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx303.27" style="font-size:50%;color:#800000;">possible.</span>
</div>
<div class="ltx_listingline" id="lstnumberx304">
<span class="ltx_tag ltx_tag_listingline">73</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.3" style="font-size:50%;color:#800000;">‘&lt;YOUR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.5" style="font-size:50%;color:#800000;">REASONING&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.7" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.9" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.11" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.13" style="font-size:50%;color:#800000;">detailed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.15" style="font-size:50%;color:#800000;">reasoning</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.17" style="font-size:50%;color:#800000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.19" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.21" style="font-size:50%;color:#800000;">explains</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.23" style="font-size:50%;color:#800000;">how</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.25" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.27" style="font-size:50%;color:#800000;">arrived</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.29" style="font-size:50%;color:#800000;">at</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.31" style="font-size:50%;color:#800000;">your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx304.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx304.33" style="font-size:50%;color:#800000;">answer.</span>
</div>
<div class="ltx_listingline" id="lstnumberx305">
<span class="ltx_tag ltx_tag_listingline">74</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx305.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx305.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx305.3" style="font-size:50%;color:#800000;">‘&lt;HAS_FALSE_PREMISE_OR_NOT&gt;‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx305.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx305.5" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx305.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx305.7" style="font-size:50%;color:#800000;">be</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx305.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx305.9" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx305.10" style="font-size:50%;">yes</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx305.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx305.11.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.1"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.2"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.3"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.4"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.5"> </span>invalid,<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx305.11.1.7"> </span>"</span></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx305.12" style="font-size:50%;">no</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx305.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx305.13.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.1"> </span>otherwise.<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.2"> </span>It<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.3"> </span>can<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.4"> </span>**ONLY**<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.5"> </span>be<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.6"> </span>chosen<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.7"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.8"> </span>these<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.9"> </span>two<span class="ltx_text ltx_lst_space" id="lstnumberx305.13.1.10"> </span>options.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx306">
<span class="ltx_tag ltx_tag_listingline">75</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.1" style="font-size:50%;color:#800000;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.2" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.3" style="font-size:50%;color:#800000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.4" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.5" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.6" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.7" style="font-size:50%;color:#800000;">think</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.8" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.9" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.10" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.11" style="font-size:50%;color:#800000;">premise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.12" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.13" style="font-size:50%;color:#800000;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.14" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.15" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.16" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.17" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.18" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.19" style="font-size:50%;color:#800000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.20" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.21" style="font-size:50%;color:#800000;">wrong,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.22" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.23" style="font-size:50%;color:#800000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.24" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.25" style="font-size:50%;color:#800000;">example,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.26" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.27" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.28" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.29" style="font-size:50%;color:#800000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.30" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.31" style="font-size:50%;color:#800000;">asks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.32" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.33" style="font-size:50%;color:#800000;">information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.34" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.35" style="font-size:50%;color:#800000;">about</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.36" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.37" style="font-size:50%;color:#800000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.38" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.39" style="font-size:50%;color:#800000;">person’s</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.40" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.41" style="font-size:50%;color:#800000;">husband,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.42" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.43" style="font-size:50%;color:#800000;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.44" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.45" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.46" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.47" style="font-size:50%;color:#800000;">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.48" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.49" style="font-size:50%;color:#800000;">sure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.50" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.51" style="font-size:50%;color:#800000;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.52" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.53" style="font-size:50%;color:#800000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.54" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.55" style="font-size:50%;color:#800000;">person</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.56" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.57" style="font-size:50%;color:#800000;">doesn’t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.58" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.59" style="font-size:50%;color:#800000;">have</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.60" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.61" style="font-size:50%;color:#800000;">one,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.62" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.63" style="font-size:50%;color:#800000;">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.64" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.65" style="font-size:50%;color:#800000;">should</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.66" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.67" style="font-size:50%;color:#800000;">answer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.68" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.69" style="font-size:50%;color:#800000;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.70" style="font-size:50%;color:#800000;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx306.71" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx306.72" style="font-size:50%;">Invalid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx306.73" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx306.74" style="font-size:50%;">question</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx306.75" style="font-size:50%;"><span class="ltx_text" id="lstnumberx306.75.1" style="color:#800000;">"<span class="ltx_text ltx_lst_space" id="lstnumberx306.75.1.1"> </span>without<span class="ltx_text ltx_lst_space" id="lstnumberx306.75.1.2"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx306.75.1.3"> </span>other<span class="ltx_text ltx_lst_space" id="lstnumberx306.75.1.4"> </span>words.</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx307">
<span class="ltx_tag ltx_tag_listingline">76</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx307.1" style="font-size:50%;color:#800000;">"</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx307.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx307.2.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx308">
<span class="ltx_tag ltx_tag_listingline">77</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx308.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx308.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx308.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx308.4" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx308.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx309">
<span class="ltx_tag ltx_tag_listingline">78</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx309.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx309.2" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx309.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx309.3.1" style="color:#800000;">"Using<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.1"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.2"> </span>references<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.3"> </span>listed<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.4"> </span>above,<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.5"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.6"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.7"> </span>following<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.8"> </span>question:<span class="ltx_text ltx_lst_space" id="lstnumberx309.3.1.9"> </span>\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx310">
<span class="ltx_tag ltx_tag_listingline">79</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx310.1" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx311">
<span class="ltx_tag ltx_tag_listingline">80</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx311.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx311.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx311.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx311.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx311.5" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx311.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx311.6.1" style="color:#800000;">"Current<span class="ltx_text ltx_lst_space" id="lstnumberx311.6.1.1"> </span>Time:<span class="ltx_text ltx_lst_space" id="lstnumberx311.6.1.2"> </span>{query_time}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx312">
<span class="ltx_tag ltx_tag_listingline">81</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx312.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx312.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx312.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx312.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx312.5" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx312.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx312.6.1" style="color:#800000;">"Question:<span class="ltx_text ltx_lst_space" id="lstnumberx312.6.1.1"> </span>{query}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx313">
<span class="ltx_tag ltx_tag_listingline">82</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx313.1" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx313.2" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx313.3" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx313.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx313.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx313.5.1" style="color:#800000;">"Let’s<span class="ltx_text ltx_lst_space" id="lstnumberx313.5.1.1"> </span>think<span class="ltx_text ltx_lst_space" id="lstnumberx313.5.1.2"> </span>step<span class="ltx_text ltx_lst_space" id="lstnumberx313.5.1.3"> </span>by<span class="ltx_text ltx_lst_space" id="lstnumberx313.5.1.4"> </span>step<span class="ltx_text ltx_lst_space" id="lstnumberx313.5.1.5"> </span>now!\n"</span></span>
</div>
</div>
<p class="ltx_p" id="A4.SS5.p1.3">As illustrated in the prompt template, we have devised a set of rules to handle corner cases and enhance the accuracy of the model’s responses. We repeat the important rules in both the system prompt and the user prompt to strengthen the control.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.6. </span>Prompt for Backup Summarization Agent</h3>
<div class="ltx_para" id="A4.SS6.p1">
<p class="ltx_p" id="A4.SS6.p1.1">We show the prompt template of the backup summarization agent below.</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A4.SS6.p1.2" style="background-color:#F5F5F4;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Y2xhc3MgU3VtbWFyaXphdGlvbkFnZW50CiAgICBkZWYgZm9ybWF0X3Byb21wdHMoCiAgICAgICAgc2VsZiwKICAgICAgICBxdWVyaWVzLAogICAgICAgIHJlYXNvbmluZ19hbnN3ZXJzOiBsaXN0W3N0cl0gPSBbXSwKICAgICk6CiAgICAgICAgYXNzZXJ0IGxlbihxdWVyaWVzKSA9PSBsZW4ocmVhc29uaW5nX2Fuc3dlcnMpCiAgICAgICAgc3lzdGVtX3Byb21wdCA9ICJZb3UgYXJlIHByb3ZpZGVkIHdpdGggYSBxdWVzdGlvbiBhbmQgYSByZWFzb25pbmcgcHJvY2VzcyBmcm9tIGFub3RoZXIgYWdlbnQuIFlvdXIgdGFzayBpcyB0byBzdW1tYXJpemUgdGhlIHJlYXNvbmluZyBwcm9jZXNzIGFuZCBmaW5hbGx5IGFuc3dlciB0aGUgcXVlc3Rpb24gc3VjY2luY3RseSwgdXNpbmcgdGhlIGZld2VzdCB3b3JkcyBwb3NzaWJsZS4iCiAgICAgICAgZm9ybWF0dGVkX3Byb21wdHMgPSBbXQogICAgICAgIGZvciBfaWR4LCBxdWVyeSBpbiBlbnVtZXJhdGUocXVlcmllcyk6CiAgICAgICAgICAgIHJlYXNvbmluZ19wcm9jZXNzID0gcmVhc29uaW5nX2Fuc3dlcnNbX2lkeF0KICAgICAgICAgICAgdXNlcl9tZXNzYWdlID0gIiIKICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9IGYiUXVlc3Rpb246IHtxdWVyeX1cbiIKICAgICAgICAgICAgdXNlcl9tZXNzYWdlICs9ICgKICAgICAgICAgICAgICAgIGYiIyBVc2VmdWwgUmVhc29uaW5nIFByb2Nlc3M6IFxue3JlYXNvbmluZ19wcm9jZXNzfVxuLS0tLS1cblxuIgogICAgICAgICAgICApCiAgICAgICAgICAgIHVzZXJfbWVzc2FnZSArPSBmIlVzaW5nIHRoZSByZWFzb25pbmcgcHJvY2VzcyBhYm92ZSwgYW5zd2VyIHRoZSBxdWVzdGlvbi4iCiAgICAgICAgICAgIGZvcm1hdHRlZF9wcm9tcHRzLmFwcGVuZCgKICAgICAgICAgICAgICAgIHNlbGYudG9rZW5pemVyLmFwcGx5X2NoYXRfdGVtcGxhdGUoCiAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICB7InJvbGUiOiAic3lzdGVtIiwgImNvbnRlbnQiOiBzeXN0ZW1fcHJvbXB0fSwKICAgICAgICAgICAgICAgICAgICAgICAgeyJyb2xlIjogInVzZXIiLCAiY29udGVudCI6IHVzZXJfbWVzc2FnZX0sCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ9VHJ1ZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBmb3JtYXR0ZWRfcHJvbXB0cw==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx314">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx314.1" style="font-size:50%;"><span class="ltx_text" id="lstnumberx314.1.1" style="color:#2828FF;">class</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx314.2" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx314.3" style="font-size:50%;">SummarizationAgent</span>
</div>
<div class="ltx_listingline" id="lstnumberx315">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx315.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx315.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx315.2.1" style="color:#2828FF;">def</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx315.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx315.4" style="font-size:50%;">format_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx315.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx316">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx316.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx316.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx316.2.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx316.3" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx317">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx317.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx317.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx317.2.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx317.3" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx318">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx318.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx318.2" style="font-size:50%;">reasoning_answers</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx318.3" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx318.4" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx318.5" style="font-size:50%;"><span class="ltx_text" id="lstnumberx318.5.1" style="color:#2828FF;">list</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx318.6" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx318.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx318.7.1" style="color:#2828FF;">str</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx318.8" style="font-size:50%;">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx318.9" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx318.10" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx318.11" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx318.12" style="font-size:50%;">[],</span>
</div>
<div class="ltx_listingline" id="lstnumberx319">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx319.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx319.2" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx320">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx320.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx320.2" style="font-size:50%;">assert</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx320.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx320.4" style="font-size:50%;"><span class="ltx_text" id="lstnumberx320.4.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx320.5" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx320.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx320.6.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx320.7" style="font-size:50%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx320.8" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx320.9" style="font-size:50%;">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx320.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx320.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx320.11.1" style="color:#2828FF;">len</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx320.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx320.13" style="font-size:50%;">reasoning_answers</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx320.14" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx321">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx321.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx321.2" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx321.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx321.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx321.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx321.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx321.6.1" style="color:#800000;">"You<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.1"> </span>are<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.2"> </span>provided<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.3"> </span>with<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.4"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.5"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.6"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.7"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.8"> </span>reasoning<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.9"> </span>process<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.10"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.11"> </span>another<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.12"> </span>agent.<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.13"> </span>Your<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.14"> </span>task<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.15"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.16"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.17"> </span>summarize<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.18"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.19"> </span>reasoning<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.20"> </span>process<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.21"> </span>and<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.22"> </span>finally<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.23"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.24"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.25"> </span>question<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.26"> </span>succinctly,<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.27"> </span>using<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.28"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.29"> </span>fewest<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.30"> </span>words<span class="ltx_text ltx_lst_space" id="lstnumberx321.6.1.31"> </span>possible."</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx322">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx322.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx322.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx322.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx322.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx322.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx322.6" style="font-size:50%;">[]</span>
</div>
<div class="ltx_listingline" id="lstnumberx323">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx323.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx323.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx323.2.1" style="color:#2828FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx323.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx323.4" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx323.5" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx323.6" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx323.7" style="font-size:50%;">query</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx323.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx323.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx323.9.1" style="color:#2828FF;">in</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx323.10" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx323.11" style="font-size:50%;"><span class="ltx_text" id="lstnumberx323.11.1" style="color:#2828FF;">enumerate</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx323.12" style="font-size:50%;">(</span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx323.13" style="font-size:50%;"><span class="ltx_text" id="lstnumberx323.13.1" style="color:#FF00DE;">queries</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx323.14" style="font-size:50%;">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx324">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx324.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx324.2" style="font-size:50%;">reasoning_process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx324.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx324.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx324.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx324.6" style="font-size:50%;">reasoning_answers</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx324.7" style="font-size:50%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx324.8" style="font-size:50%;">_idx</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx324.9" style="font-size:50%;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx325">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx325.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx325.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx325.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx325.4" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx325.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx325.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx325.6.1" style="color:#800000;">""</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx326">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx326.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx326.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx326.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx326.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx326.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx326.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx326.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx326.7.1" style="color:#800000;">"Question:<span class="ltx_text ltx_lst_space" id="lstnumberx326.7.1.1"> </span>{query}\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx327">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx327.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx327.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx327.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx327.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx327.5" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx327.6" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx328">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx328.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx328.2" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx328.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx328.3.1" style="color:#800000;">"#<span class="ltx_text ltx_lst_space" id="lstnumberx328.3.1.1"> </span>Useful<span class="ltx_text ltx_lst_space" id="lstnumberx328.3.1.2"> </span>Reasoning<span class="ltx_text ltx_lst_space" id="lstnumberx328.3.1.3"> </span>Process:<span class="ltx_text ltx_lst_space" id="lstnumberx328.3.1.4"> </span>\n{reasoning_process}\n-----\n\n"</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx329">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx329.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx329.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx330">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx330.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx330.2" style="font-size:50%;">user_message</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx330.3" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx330.4" style="font-size:50%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx330.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx330.6" style="font-size:50%;">f</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx330.7" style="font-size:50%;"><span class="ltx_text" id="lstnumberx330.7.1" style="color:#800000;">"Using<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.1"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.2"> </span>reasoning<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.3"> </span>process<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.4"> </span>above,<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.5"> </span>answer<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.6"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx330.7.1.7"> </span>question."</span></span>
</div>
<div class="ltx_listingline" id="lstnumberx331">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx331.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx331.2" style="font-size:50%;">formatted_prompts</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx331.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx331.4" style="font-size:50%;">append</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx331.5" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx332">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx332.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_emph ltx_font_typewriter" id="lstnumberx332.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx332.2.1" style="color:#FF00DE;">self</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx332.3" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx332.4" style="font-size:50%;">tokenizer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx332.5" style="font-size:50%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx332.6" style="font-size:50%;">apply_chat_template</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx332.7" style="font-size:50%;">(</span>
</div>
<div class="ltx_listingline" id="lstnumberx333">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx333.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx333.2" style="font-size:50%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx334">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx334.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx334.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx334.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx334.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx334.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx334.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx334.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx334.6.1" style="color:#800000;">"system"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx334.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx334.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx334.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx334.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx334.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx334.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx334.12" style="font-size:50%;">system_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx334.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx335">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx335.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx335.2" style="font-size:50%;">{</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx335.3" style="font-size:50%;"><span class="ltx_text" id="lstnumberx335.3.1" style="color:#800000;">"role"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx335.4" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx335.5" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx335.6" style="font-size:50%;"><span class="ltx_text" id="lstnumberx335.6.1" style="color:#800000;">"user"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx335.7" style="font-size:50%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx335.8" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx335.9" style="font-size:50%;"><span class="ltx_text" id="lstnumberx335.9.1" style="color:#800000;">"content"</span></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx335.10" style="font-size:50%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx335.11" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx335.12" style="font-size:50%;">user_message</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx335.13" style="font-size:50%;">},</span>
</div>
<div class="ltx_listingline" id="lstnumberx336">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx336.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx336.2" style="font-size:50%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx337">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx337.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx337.2" style="font-size:50%;">tokenize</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx337.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx337.4" style="font-size:50%;">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx337.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx338">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx338.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx338.2" style="font-size:50%;">add_generation_prompt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx338.3" style="font-size:50%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx338.4" style="font-size:50%;">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx338.5" style="font-size:50%;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx339">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx339.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx339.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx340">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx340.1" style="font-size:50%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx340.2" style="font-size:50%;">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx341">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx341.1" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx341.2" style="font-size:50%;"><span class="ltx_text" id="lstnumberx341.2.1" style="color:#2828FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx341.3" style="font-size:50%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx341.4" style="font-size:50%;">formatted_prompts</span>
</div>
</div>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Sep  2 10:54:58 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
