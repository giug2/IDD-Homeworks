<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2312.05459] FLoW3 - Web3 Empowered Federated Learning</title><meta property="og:description" content="Federated Learning is susceptible to various kinds of attacks like Data Poisoning, Model Poisoning and Man in the Middle attack. We perceive Federated Learning as a hierarchical structure, a federation of nodes with va…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FLoW3 - Web3 Empowered Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FLoW3 - Web3 Empowered Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2312.05459">

<!--Generated on Tue Feb 27 14:25:05 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_fleqn">
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p">1,2]<span id="p1.1.1" class="ltx_ERROR undefined">\orgdiv</span>Department of Mathematics and Computer Science, <span id="p1.1.2" class="ltx_ERROR undefined">\orgname</span>Sri Sathya Sai Institute of Higher Learning, <span id="p1.1.3" class="ltx_ERROR undefined">\orgaddress</span><span id="p1.1.4" class="ltx_ERROR undefined">\street</span>Street, <span id="p1.1.5" class="ltx_ERROR undefined">\city</span>Puttaparthi, <span id="p1.1.6" class="ltx_ERROR undefined">\postcode</span>515134, <span id="p1.1.7" class="ltx_ERROR undefined">\state</span>Andhrapradesh, <span id="p1.1.8" class="ltx_ERROR undefined">\country</span>India</p>
</div>
<h1 class="ltx_title ltx_title_document">FLoW3 - Web3 Empowered Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id1.1.id1" class="ltx_ERROR undefined">\fnm</span>Venkata Raghava <span id="id2.2.id2" class="ltx_ERROR undefined">\sur</span>Kurada
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:venkataraghavakurad@sssihl.edu.in">venkataraghavakurad@sssihl.edu.in</a>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id3.1.id1" class="ltx_ERROR undefined">\fnm</span>Pallav Kumar <span id="id4.2.id2" class="ltx_ERROR undefined">\sur</span>Baruah
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:pkbaruah@sssihl.edu.in">pkbaruah@sssihl.edu.in</a>
</span>
<span class="ltx_contact ltx_role_affiliation">[
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id5.id1" class="ltx_p">Federated Learning is susceptible to various kinds of attacks like Data Poisoning, Model Poisoning and Man in the Middle attack. We perceive Federated Learning as a hierarchical structure, a federation of nodes with validators as the head. The process of validation is done through consensus by employing Novelty Detection and Snowball protocol, to identify valuable and relevant updates while filtering out potentially malicious or irrelevant updates, thus preventing Model Poisoning attacks. The opinion of the validators is recorded in blockchain and trust score is calculated. In case of lack of consensus, trust score is used to determine the impact of validators on the global model. A hyperparameter is introduced to guide the model generation process, either to rely on consensus or on trust score. This approach ensures transparency and reliability in the aggregation process and allows the global model to benefit from insights of most trusted nodes. In the training phase, the combination of IPFS , PGP encryption provides : a) secure and decentralized storage b) mitigates single point of failure making this system reliable and c) resilient against man in the middle attack. The system is realized by implementing in python and Foundry for smart contract development. Global Model is tested against data poisoning by flipping the labels and by introducing malicious nodes. Results found to be similar to that of Flower.</p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>Federated Learning, Novelty Detection, Snowball Consensus Protocol, Web3 Technology
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">There is a steep increase in the usage of the various wearable devices, spanning from smartphones to smartwatches, that generates data which is quite sensitive and private in nature. This data can be used to train machine learning models and improve the performance. Transferring this data, over the internet, to a datacenter raises concerns about data security and privacy. This has driven the advent of Federated Learning<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Federated Learning faces challenges from various attacks like Man in the middle attack, lack of transparency and decision making power to the participating entities.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">There are stringent data protection laws like GDPR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> , Digital CCPA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, DPDP Act<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, that enforces a wide variety of restrictions while processing and storing of the data. The synergy of the AI and Federated Learning is a promising path to develop privacy centric machine learning models and enables models to leverage on data while preserving the privacy. In this paper, we demonstrate a way to fulfil this promise.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Federated Learning, is a machine learning paradigm where all the nodes are arranged in a star topology with a central server and various edge devices (nodes) connected to it. The central server will send the initial global model to all the nodes. Upon receiving this model, the nodes will train the model on the data that is locally available with the on-device hardware. After training the model, the nodes send the model updates to the central server. The central server will then implement a Federated Aggregation algorithm, thus creating a new global model. This process repeats until the model converges.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">There are works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> demonstrating the feasibly preserving data privacy in federated learning using security measures like Differential Privacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, Homomorphic Encryption <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>
Federated learning is widely used in different domains ranging from health care to image classification on unlabelled data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Often times this type of setup is controlled by a single organization in an isolated environment.
There is a need for the decentralized platform, one that can effectively enable Federated Learning to be adopted widely. This platform should empower participants with a transparent decision-making process and incentivise the participants for the active involvement of the users.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Web3 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> technology is a suite of distributed technologies like Blockchain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, Inter Planetary File System (IPFS) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, Cryptocurrencies, Smart Contract<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Instead of relying on central authorities to control and manage user data, Web3 aims to distribute control among a network of participants. It envisions the process of giving control back to the user. The blockchain ensures transparency and trust, while storage is facilitated by various distributed storage built on IPFS. This suite of technology relies on distributed computing capability of its nodes to cater its computation needs.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Snowball Protocol<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> is a leaderless, probabilistic consensus protocol that is scalable in nature. It is efficient in terms of communication, where each node is required to communicate with a constant number of nodes, contributing to its low overhead. These attributes make Snowball protocol a suitable choice for the proposed platform.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">Main contributions of this work are:</p>
</div>
<div id="S1.p8" class="ltx_para">
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">Design and implementation of federated learning system in decentralized way by introducing a hierarchy between the nodes</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">Considering Federated Learning from a consensus prospect, bringing transparency in the decision-making process.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Blockchain based trust calculation solution as a foolproof mechanism to generate the model.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Literature Review</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Federated learning was initially proposed by McMahain et al<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Konečný et al<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> proposed a set of optimizations on representation of weights to reduce the communication in federated learning setup.
The process of Federated Learning is susceptible to Data Poisoning Attack, Gradient Leakage Attacks, as discussed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.
In order to make the federated learning a successful participatory platform, we need to have a profitable design. Xu et.al<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> proposes a time based auction procedure that will be economically profitable to both users and platform owners.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">While <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> proposes to use the blockchain in order to tackle these attacks, Kim et al<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> proposed BlockFL architecture where the model updates were exchanged and verified, the work also performs the end to end latency model of BlockFL.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">Differential Privacy introduces carefully calibrated noise to individual data points before aggregation on the other hand, Homomorphic encryption enables the required computations to be performed on the encrypted data, thus enabling the compliances with the mentioned acts.
In this work, we primarily focus on designing a platform that relies on Web3 technologies to implement Federated Learning in a transparent and hierarichal manner with privacy as a key factor.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Blockhain</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Blockchain<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> was initially proposed by Satoshi Nakamoto. It is a decentralized and distributed system that is immutable in nature. Blockchain is constituted by blocks, which stores a set of transactions. Once a block is full, the hash of the current block is stored in its successive block. If a content of a previous block is modified, the change will be propagated via hash through all blocks, thus facilitating a tamper proof mechanism.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Ethereum<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> with Ether as its native token, is one of the popular public blockchain networks that was initially proposed by Valtamir Butanik. With the introduction of the Smart Contract<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, the Ethereum blockchain has transformed into a Turing complete machine. These Smart Contracts enable the user to, programmatically, create a set of rules that can be executed on the blockchain. Smart contracts, developed using Solidity, are utilized in various fields such as supply chain management <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> and finance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> to streamline processes and ensure secure and transparent transactions.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Novelty Detection</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Novelty detection<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> refers to the process of identification of abnormal patterns that are present in huge amounts of normal data. In this case, the emphasis is more on detecting whether an unseen observation is an outlier or a novelty. Furthermore, the main idea is to learn the definition of the ”normality” by training a model on multiple positive instances that are not anomalies. Based on the prediction of this trained model, a score is given to an unseen observation. This score is then compared with the decision threshold, thus determining the novelty of the observation.
According to Marco A.F. Pimente <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> the novelty detection can be classified in the following types:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p">Probabilistic Novelty Detection: A type of novelty detection algorithms that are based on the estimation of the generative probability density function of the data. A threshold is imposed on the resultant distribution for novelty. Based on which, a given point is classified as novelty or anomaly.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p">Distance Based Novelty Detection:
In this type of algorithms, novelty of a particular record is identified based on the distance by using various clustering algorithms. Greater the distance from its neighbours, higher the chances of being a anomaly.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p">Reconstruction Based Novelty Detection:
In this type of novelty detection, a model of the given normal data is created. This model is later used to create or reconstruct new instances of data. The difficulty of reconstructing a new data record is considered as metric. Higher the difficulty to generate the data point, greater the chances of considering it as anomaly. Auto encoders and PCA are widely used in this type of novelty detection</p>
</div>
</li>
</ul>
<p id="S2.SS2.p1.2" class="ltx_p">The proposed platform uses Local Outlier Factor<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> algorithm for novelty detection.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Snowball Protocol</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Snowball Protocol<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, is a leaderless Byzantine fault tolerance protocol from the Snow family. Snowball is a single decree binary consensus protocol, that is highly scalable and probabilistic in nature. This consensus protocol is based on the meta stability and network subsampling, i.e. repeatedly polling a random subset of participants to attain consensus. This concept of network subsampling perturbs the conflicting, thus causing one of the decisions to gain advantage over another decision. Unlike traditional consensus protocol, there is no need for each node to acquire the accurate knowledge of the participant of the decision-making process. A modified version of the snowball protocol in synergy with Direct Acyclic graph is used in Avalanche<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> blockchain as a consensus mechanism. The Snow Family of protocols are quiescent and energy efficient as they do not require constant participation of nodes when there is no decision-making process, unlike Proof of Work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Snowball Protocol</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text ltx_font_bold">function</span> <span id="alg1.l1.3" class="ltx_text ltx_font_smallcaps">Snowball</span>

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     <math id="alg1.l2.m1.2" class="ltx_Math" alttext="\text{decision1}\leftarrow 0,\text{decision2}\leftarrow 1" display="inline"><semantics id="alg1.l2.m1.2a"><mrow id="alg1.l2.m1.2.2.2" xref="alg1.l2.m1.2.2.3.cmml"><mrow id="alg1.l2.m1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.cmml"><mtext id="alg1.l2.m1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.2a.cmml">decision1</mtext><mo stretchy="false" id="alg1.l2.m1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.cmml">←</mo><mn id="alg1.l2.m1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.3.cmml">0</mn></mrow><mo id="alg1.l2.m1.2.2.2.3" xref="alg1.l2.m1.2.2.3a.cmml">,</mo><mrow id="alg1.l2.m1.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.cmml"><mtext id="alg1.l2.m1.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.2a.cmml">decision2</mtext><mo stretchy="false" id="alg1.l2.m1.2.2.2.2.1" xref="alg1.l2.m1.2.2.2.2.1.cmml">←</mo><mn id="alg1.l2.m1.2.2.2.2.3" xref="alg1.l2.m1.2.2.2.2.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.2b"><apply id="alg1.l2.m1.2.2.3.cmml" xref="alg1.l2.m1.2.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.2.2.3a.cmml" xref="alg1.l2.m1.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l2.m1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1"><ci id="alg1.l2.m1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1">←</ci><ci id="alg1.l2.m1.1.1.1.1.2a.cmml" xref="alg1.l2.m1.1.1.1.1.2"><mtext id="alg1.l2.m1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.2">decision1</mtext></ci><cn type="integer" id="alg1.l2.m1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.3">0</cn></apply><apply id="alg1.l2.m1.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2"><ci id="alg1.l2.m1.2.2.2.2.1.cmml" xref="alg1.l2.m1.2.2.2.2.1">←</ci><ci id="alg1.l2.m1.2.2.2.2.2a.cmml" xref="alg1.l2.m1.2.2.2.2.2"><mtext id="alg1.l2.m1.2.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2.2">decision2</mtext></ci><cn type="integer" id="alg1.l2.m1.2.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.2.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.2c">\text{decision1}\leftarrow 0,\text{decision2}\leftarrow 1</annotation></semantics></math>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <math id="alg1.l3.m1.2" class="ltx_Math" alttext="\text{prev\_decision}\leftarrow 0,\text{count}\leftarrow 0" display="inline"><semantics id="alg1.l3.m1.2a"><mrow id="alg1.l3.m1.2.2.2" xref="alg1.l3.m1.2.2.3.cmml"><mrow id="alg1.l3.m1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.cmml"><mtext id="alg1.l3.m1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.2a.cmml">prev_decision</mtext><mo stretchy="false" id="alg1.l3.m1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.cmml">←</mo><mn id="alg1.l3.m1.1.1.1.1.3" xref="alg1.l3.m1.1.1.1.1.3.cmml">0</mn></mrow><mo id="alg1.l3.m1.2.2.2.3" xref="alg1.l3.m1.2.2.3a.cmml">,</mo><mrow id="alg1.l3.m1.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.cmml"><mtext id="alg1.l3.m1.2.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.2a.cmml">count</mtext><mo stretchy="false" id="alg1.l3.m1.2.2.2.2.1" xref="alg1.l3.m1.2.2.2.2.1.cmml">←</mo><mn id="alg1.l3.m1.2.2.2.2.3" xref="alg1.l3.m1.2.2.2.2.3.cmml">0</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.2b"><apply id="alg1.l3.m1.2.2.3.cmml" xref="alg1.l3.m1.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.3a.cmml" xref="alg1.l3.m1.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l3.m1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1"><ci id="alg1.l3.m1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1">←</ci><ci id="alg1.l3.m1.1.1.1.1.2a.cmml" xref="alg1.l3.m1.1.1.1.1.2"><mtext id="alg1.l3.m1.1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.2">prev_decision</mtext></ci><cn type="integer" id="alg1.l3.m1.1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.1.3">0</cn></apply><apply id="alg1.l3.m1.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2"><ci id="alg1.l3.m1.2.2.2.2.1.cmml" xref="alg1.l3.m1.2.2.2.2.1">←</ci><ci id="alg1.l3.m1.2.2.2.2.2a.cmml" xref="alg1.l3.m1.2.2.2.2.2"><mtext id="alg1.l3.m1.2.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2.2">count</mtext></ci><cn type="integer" id="alg1.l3.m1.2.2.2.2.3.cmml" xref="alg1.l3.m1.2.2.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.2c">\text{prev\_decision}\leftarrow 0,\text{count}\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <math id="alg1.l4.m1.2" class="ltx_Math" alttext="\text{confidence\_counter}\leftarrow[0,0]" display="inline"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.3" xref="alg1.l4.m1.2.3.cmml"><mtext id="alg1.l4.m1.2.3.2" xref="alg1.l4.m1.2.3.2a.cmml">confidence_counter</mtext><mo stretchy="false" id="alg1.l4.m1.2.3.1" xref="alg1.l4.m1.2.3.1.cmml">←</mo><mrow id="alg1.l4.m1.2.3.3.2" xref="alg1.l4.m1.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l4.m1.2.3.3.2.1" xref="alg1.l4.m1.2.3.3.1.cmml">[</mo><mn id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">0</mn><mo id="alg1.l4.m1.2.3.3.2.2" xref="alg1.l4.m1.2.3.3.1.cmml">,</mo><mn id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml">0</mn><mo stretchy="false" id="alg1.l4.m1.2.3.3.2.3" xref="alg1.l4.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.3.cmml" xref="alg1.l4.m1.2.3"><ci id="alg1.l4.m1.2.3.1.cmml" xref="alg1.l4.m1.2.3.1">←</ci><ci id="alg1.l4.m1.2.3.2a.cmml" xref="alg1.l4.m1.2.3.2"><mtext id="alg1.l4.m1.2.3.2.cmml" xref="alg1.l4.m1.2.3.2">confidence_counter</mtext></ci><interval closure="closed" id="alg1.l4.m1.2.3.3.1.cmml" xref="alg1.l4.m1.2.3.3.2"><cn type="integer" id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">0</cn><cn type="integer" id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2">0</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">\text{confidence\_counter}\leftarrow[0,0]</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <math id="alg1.l5.m1.1" class="ltx_Math" alttext="\text{decided}\leftarrow\text{false}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mtext id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2a.cmml">decided</mtext><mo stretchy="false" id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">←</mo><mtext id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3a.cmml">false</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">←</ci><ci id="alg1.l5.m1.1.1.2a.cmml" xref="alg1.l5.m1.1.1.2"><mtext id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">decided</mtext></ci><ci id="alg1.l5.m1.1.1.3a.cmml" xref="alg1.l5.m1.1.1.3"><mtext id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">false</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">\text{decided}\leftarrow\text{false}</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <math id="alg1.l6.m1.1" class="ltx_Math" alttext="\text{final\_decision}\leftarrow\text{NONE}" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mtext id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2a.cmml">final_decision</mtext><mo stretchy="false" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">←</mo><mtext id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3a.cmml">NONE</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><ci id="alg1.l6.m1.1.1.2a.cmml" xref="alg1.l6.m1.1.1.2"><mtext id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">final_decision</mtext></ci><ci id="alg1.l6.m1.1.1.3a.cmml" xref="alg1.l6.m1.1.1.3"><mtext id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">NONE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">\text{final\_decision}\leftarrow\text{NONE}</annotation></semantics></math>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <span id="alg1.l7.2" class="ltx_text ltx_font_bold">while</span> <math id="alg1.l7.m1.1" class="ltx_Math" alttext="\text{decided}\neq\text{true}" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mtext id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2a.cmml">decided</mtext><mo id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">≠</mo><mtext id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3a.cmml">true</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><neq id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1"></neq><ci id="alg1.l7.m1.1.1.2a.cmml" xref="alg1.l7.m1.1.1.2"><mtext id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">decided</mtext></ci><ci id="alg1.l7.m1.1.1.3a.cmml" xref="alg1.l7.m1.1.1.3"><mtext id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">true</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\text{decided}\neq\text{true}</annotation></semantics></math> <span id="alg1.l7.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>         <math id="alg1.l8.m1.1" class="ltx_Math" alttext="\text{opinion}\leftarrow\text{get opinion from }k\text{ peers}" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mtext id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2a.cmml">opinion</mtext><mo stretchy="false" id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">←</mo><mrow id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><mtext id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2a.cmml">get opinion from </mtext><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.3.1" xref="alg1.l8.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml">k</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.3.1a" xref="alg1.l8.m1.1.1.3.1.cmml">​</mo><mtext id="alg1.l8.m1.1.1.3.4" xref="alg1.l8.m1.1.1.3.4a.cmml"> peers</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><ci id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1">←</ci><ci id="alg1.l8.m1.1.1.2a.cmml" xref="alg1.l8.m1.1.1.2"><mtext id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">opinion</mtext></ci><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><times id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3.1"></times><ci id="alg1.l8.m1.1.1.3.2a.cmml" xref="alg1.l8.m1.1.1.3.2"><mtext id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2">get opinion from </mtext></ci><ci id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3">𝑘</ci><ci id="alg1.l8.m1.1.1.3.4a.cmml" xref="alg1.l8.m1.1.1.3.4"><mtext id="alg1.l8.m1.1.1.3.4.cmml" xref="alg1.l8.m1.1.1.3.4"> peers</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\text{opinion}\leftarrow\text{get opinion from }k\text{ peers}</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>         <math id="alg1.l9.m1.2" class="ltx_Math" alttext="\text{confidence\_counter}[0]\leftarrow\text{opinion.count}(\text{decision1})" display="inline"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.3" xref="alg1.l9.m1.2.3.cmml"><mrow id="alg1.l9.m1.2.3.2" xref="alg1.l9.m1.2.3.2.cmml"><mtext id="alg1.l9.m1.2.3.2.2" xref="alg1.l9.m1.2.3.2.2a.cmml">confidence_counter</mtext><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.3.2.1" xref="alg1.l9.m1.2.3.2.1.cmml">​</mo><mrow id="alg1.l9.m1.2.3.2.3.2" xref="alg1.l9.m1.2.3.2.3.1.cmml"><mo stretchy="false" id="alg1.l9.m1.2.3.2.3.2.1" xref="alg1.l9.m1.2.3.2.3.1.1.cmml">[</mo><mn id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">0</mn><mo stretchy="false" id="alg1.l9.m1.2.3.2.3.2.2" xref="alg1.l9.m1.2.3.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg1.l9.m1.2.3.1" xref="alg1.l9.m1.2.3.1.cmml">←</mo><mrow id="alg1.l9.m1.2.3.3" xref="alg1.l9.m1.2.3.3.cmml"><mtext id="alg1.l9.m1.2.3.3.2" xref="alg1.l9.m1.2.3.3.2a.cmml">opinion.count</mtext><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.3.3.1" xref="alg1.l9.m1.2.3.3.1.cmml">​</mo><mrow id="alg1.l9.m1.2.3.3.3.2" xref="alg1.l9.m1.2.2a.cmml"><mo stretchy="false" id="alg1.l9.m1.2.3.3.3.2.1" xref="alg1.l9.m1.2.2a.cmml">(</mo><mtext id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml">decision1</mtext><mo stretchy="false" id="alg1.l9.m1.2.3.3.3.2.2" xref="alg1.l9.m1.2.2a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.3.cmml" xref="alg1.l9.m1.2.3"><ci id="alg1.l9.m1.2.3.1.cmml" xref="alg1.l9.m1.2.3.1">←</ci><apply id="alg1.l9.m1.2.3.2.cmml" xref="alg1.l9.m1.2.3.2"><times id="alg1.l9.m1.2.3.2.1.cmml" xref="alg1.l9.m1.2.3.2.1"></times><ci id="alg1.l9.m1.2.3.2.2a.cmml" xref="alg1.l9.m1.2.3.2.2"><mtext id="alg1.l9.m1.2.3.2.2.cmml" xref="alg1.l9.m1.2.3.2.2">confidence_counter</mtext></ci><apply id="alg1.l9.m1.2.3.2.3.1.cmml" xref="alg1.l9.m1.2.3.2.3.2"><csymbol cd="latexml" id="alg1.l9.m1.2.3.2.3.1.1.cmml" xref="alg1.l9.m1.2.3.2.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">0</cn></apply></apply><apply id="alg1.l9.m1.2.3.3.cmml" xref="alg1.l9.m1.2.3.3"><times id="alg1.l9.m1.2.3.3.1.cmml" xref="alg1.l9.m1.2.3.3.1"></times><ci id="alg1.l9.m1.2.3.3.2a.cmml" xref="alg1.l9.m1.2.3.3.2"><mtext id="alg1.l9.m1.2.3.3.2.cmml" xref="alg1.l9.m1.2.3.3.2">opinion.count</mtext></ci><ci id="alg1.l9.m1.2.2a.cmml" xref="alg1.l9.m1.2.3.3.3.2"><mtext id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2">decision1</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">\text{confidence\_counter}[0]\leftarrow\text{opinion.count}(\text{decision1})</annotation></semantics></math>

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>         <math id="alg1.l10.m1.2" class="ltx_Math" alttext="\text{confidence\_counter}[1]\leftarrow\text{opinion.count}(\text{decision2})" display="inline"><semantics id="alg1.l10.m1.2a"><mrow id="alg1.l10.m1.2.3" xref="alg1.l10.m1.2.3.cmml"><mrow id="alg1.l10.m1.2.3.2" xref="alg1.l10.m1.2.3.2.cmml"><mtext id="alg1.l10.m1.2.3.2.2" xref="alg1.l10.m1.2.3.2.2a.cmml">confidence_counter</mtext><mo lspace="0em" rspace="0em" id="alg1.l10.m1.2.3.2.1" xref="alg1.l10.m1.2.3.2.1.cmml">​</mo><mrow id="alg1.l10.m1.2.3.2.3.2" xref="alg1.l10.m1.2.3.2.3.1.cmml"><mo stretchy="false" id="alg1.l10.m1.2.3.2.3.2.1" xref="alg1.l10.m1.2.3.2.3.1.1.cmml">[</mo><mn id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml">1</mn><mo stretchy="false" id="alg1.l10.m1.2.3.2.3.2.2" xref="alg1.l10.m1.2.3.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg1.l10.m1.2.3.1" xref="alg1.l10.m1.2.3.1.cmml">←</mo><mrow id="alg1.l10.m1.2.3.3" xref="alg1.l10.m1.2.3.3.cmml"><mtext id="alg1.l10.m1.2.3.3.2" xref="alg1.l10.m1.2.3.3.2a.cmml">opinion.count</mtext><mo lspace="0em" rspace="0em" id="alg1.l10.m1.2.3.3.1" xref="alg1.l10.m1.2.3.3.1.cmml">​</mo><mrow id="alg1.l10.m1.2.3.3.3.2" xref="alg1.l10.m1.2.2a.cmml"><mo stretchy="false" id="alg1.l10.m1.2.3.3.3.2.1" xref="alg1.l10.m1.2.2a.cmml">(</mo><mtext id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml">decision2</mtext><mo stretchy="false" id="alg1.l10.m1.2.3.3.3.2.2" xref="alg1.l10.m1.2.2a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.2b"><apply id="alg1.l10.m1.2.3.cmml" xref="alg1.l10.m1.2.3"><ci id="alg1.l10.m1.2.3.1.cmml" xref="alg1.l10.m1.2.3.1">←</ci><apply id="alg1.l10.m1.2.3.2.cmml" xref="alg1.l10.m1.2.3.2"><times id="alg1.l10.m1.2.3.2.1.cmml" xref="alg1.l10.m1.2.3.2.1"></times><ci id="alg1.l10.m1.2.3.2.2a.cmml" xref="alg1.l10.m1.2.3.2.2"><mtext id="alg1.l10.m1.2.3.2.2.cmml" xref="alg1.l10.m1.2.3.2.2">confidence_counter</mtext></ci><apply id="alg1.l10.m1.2.3.2.3.1.cmml" xref="alg1.l10.m1.2.3.2.3.2"><csymbol cd="latexml" id="alg1.l10.m1.2.3.2.3.1.1.cmml" xref="alg1.l10.m1.2.3.2.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1">1</cn></apply></apply><apply id="alg1.l10.m1.2.3.3.cmml" xref="alg1.l10.m1.2.3.3"><times id="alg1.l10.m1.2.3.3.1.cmml" xref="alg1.l10.m1.2.3.3.1"></times><ci id="alg1.l10.m1.2.3.3.2a.cmml" xref="alg1.l10.m1.2.3.3.2"><mtext id="alg1.l10.m1.2.3.3.2.cmml" xref="alg1.l10.m1.2.3.3.2">opinion.count</mtext></ci><ci id="alg1.l10.m1.2.2a.cmml" xref="alg1.l10.m1.2.3.3.3.2"><mtext id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2">decision2</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.2c">\text{confidence\_counter}[1]\leftarrow\text{opinion.count}(\text{decision2})</annotation></semantics></math>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>         <math id="alg1.l11.m1.1" class="ltx_Math" alttext="\text{max\_val}\leftarrow\text{max}(\text{confidence\_counter})" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.2" xref="alg1.l11.m1.1.2.cmml"><mtext id="alg1.l11.m1.1.2.2" xref="alg1.l11.m1.1.2.2a.cmml">max_val</mtext><mo stretchy="false" id="alg1.l11.m1.1.2.1" xref="alg1.l11.m1.1.2.1.cmml">←</mo><mrow id="alg1.l11.m1.1.2.3" xref="alg1.l11.m1.1.2.3.cmml"><mtext id="alg1.l11.m1.1.2.3.2" xref="alg1.l11.m1.1.2.3.2a.cmml">max</mtext><mo lspace="0em" rspace="0em" id="alg1.l11.m1.1.2.3.1" xref="alg1.l11.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l11.m1.1.2.3.3.2" xref="alg1.l11.m1.1.1a.cmml"><mo stretchy="false" id="alg1.l11.m1.1.2.3.3.2.1" xref="alg1.l11.m1.1.1a.cmml">(</mo><mtext id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">confidence_counter</mtext><mo stretchy="false" id="alg1.l11.m1.1.2.3.3.2.2" xref="alg1.l11.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.2.cmml" xref="alg1.l11.m1.1.2"><ci id="alg1.l11.m1.1.2.1.cmml" xref="alg1.l11.m1.1.2.1">←</ci><ci id="alg1.l11.m1.1.2.2a.cmml" xref="alg1.l11.m1.1.2.2"><mtext id="alg1.l11.m1.1.2.2.cmml" xref="alg1.l11.m1.1.2.2">max_val</mtext></ci><apply id="alg1.l11.m1.1.2.3.cmml" xref="alg1.l11.m1.1.2.3"><times id="alg1.l11.m1.1.2.3.1.cmml" xref="alg1.l11.m1.1.2.3.1"></times><ci id="alg1.l11.m1.1.2.3.2a.cmml" xref="alg1.l11.m1.1.2.3.2"><mtext id="alg1.l11.m1.1.2.3.2.cmml" xref="alg1.l11.m1.1.2.3.2">max</mtext></ci><ci id="alg1.l11.m1.1.1a.cmml" xref="alg1.l11.m1.1.2.3.3.2"><mtext id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">confidence_counter</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\text{max\_val}\leftarrow\text{max}(\text{confidence\_counter})</annotation></semantics></math>

</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>         <math id="alg1.l12.m1.1" class="ltx_Math" alttext="\text{max\_ind}\leftarrow\text{confidence\_counter.index}(\text{max\_val})" display="inline"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.2" xref="alg1.l12.m1.1.2.cmml"><mtext id="alg1.l12.m1.1.2.2" xref="alg1.l12.m1.1.2.2a.cmml">max_ind</mtext><mo stretchy="false" id="alg1.l12.m1.1.2.1" xref="alg1.l12.m1.1.2.1.cmml">←</mo><mrow id="alg1.l12.m1.1.2.3" xref="alg1.l12.m1.1.2.3.cmml"><mtext id="alg1.l12.m1.1.2.3.2" xref="alg1.l12.m1.1.2.3.2a.cmml">confidence_counter.index</mtext><mo lspace="0em" rspace="0em" id="alg1.l12.m1.1.2.3.1" xref="alg1.l12.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l12.m1.1.2.3.3.2" xref="alg1.l12.m1.1.1a.cmml"><mo stretchy="false" id="alg1.l12.m1.1.2.3.3.2.1" xref="alg1.l12.m1.1.1a.cmml">(</mo><mtext id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml">max_val</mtext><mo stretchy="false" id="alg1.l12.m1.1.2.3.3.2.2" xref="alg1.l12.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.2.cmml" xref="alg1.l12.m1.1.2"><ci id="alg1.l12.m1.1.2.1.cmml" xref="alg1.l12.m1.1.2.1">←</ci><ci id="alg1.l12.m1.1.2.2a.cmml" xref="alg1.l12.m1.1.2.2"><mtext id="alg1.l12.m1.1.2.2.cmml" xref="alg1.l12.m1.1.2.2">max_ind</mtext></ci><apply id="alg1.l12.m1.1.2.3.cmml" xref="alg1.l12.m1.1.2.3"><times id="alg1.l12.m1.1.2.3.1.cmml" xref="alg1.l12.m1.1.2.3.1"></times><ci id="alg1.l12.m1.1.2.3.2a.cmml" xref="alg1.l12.m1.1.2.3.2"><mtext id="alg1.l12.m1.1.2.3.2.cmml" xref="alg1.l12.m1.1.2.3.2">confidence_counter.index</mtext></ci><ci id="alg1.l12.m1.1.1a.cmml" xref="alg1.l12.m1.1.2.3.3.2"><mtext id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">max_val</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">\text{max\_ind}\leftarrow\text{confidence\_counter.index}(\text{max\_val})</annotation></semantics></math>

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>         <span id="alg1.l13.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l13.m1.1" class="ltx_Math" alttext="\text{max\_val}&gt;\alpha" display="inline"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mtext id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2a.cmml">max_val</mtext><mo id="alg1.l13.m1.1.1.1" xref="alg1.l13.m1.1.1.1.cmml">&gt;</mo><mi id="alg1.l13.m1.1.1.3" xref="alg1.l13.m1.1.1.3.cmml">α</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><gt id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1"></gt><ci id="alg1.l13.m1.1.1.2a.cmml" xref="alg1.l13.m1.1.1.2"><mtext id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2">max_val</mtext></ci><ci id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">\text{max\_val}&gt;\alpha</annotation></semantics></math> <span id="alg1.l13.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>              <span id="alg1.l14.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l14.m1.1" class="ltx_math_unparsed" alttext="\text{max\_ind}==\text{previous\_decision}" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1b"><mtext id="alg1.l14.m1.1.1">max_ind</mtext><mo rspace="0em" id="alg1.l14.m1.1.2">=</mo><mo lspace="0em" id="alg1.l14.m1.1.3">=</mo><mtext id="alg1.l14.m1.1.4">previous_decision</mtext></mrow><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">\text{max\_ind}==\text{previous\_decision}</annotation></semantics></math> <span id="alg1.l14.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>                  <math id="alg1.l15.m1.1" class="ltx_Math" alttext="\text{count}\leftarrow\text{count}+1" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mtext id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2a.cmml">count</mtext><mo stretchy="false" id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">←</mo><mrow id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml"><mtext id="alg1.l15.m1.1.1.3.2" xref="alg1.l15.m1.1.1.3.2a.cmml">count</mtext><mo id="alg1.l15.m1.1.1.3.1" xref="alg1.l15.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l15.m1.1.1.3.3" xref="alg1.l15.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><ci id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1">←</ci><ci id="alg1.l15.m1.1.1.2a.cmml" xref="alg1.l15.m1.1.1.2"><mtext id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">count</mtext></ci><apply id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3"><plus id="alg1.l15.m1.1.1.3.1.cmml" xref="alg1.l15.m1.1.1.3.1"></plus><ci id="alg1.l15.m1.1.1.3.2a.cmml" xref="alg1.l15.m1.1.1.3.2"><mtext id="alg1.l15.m1.1.1.3.2.cmml" xref="alg1.l15.m1.1.1.3.2">count</mtext></ci><cn type="integer" id="alg1.l15.m1.1.1.3.3.cmml" xref="alg1.l15.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">\text{count}\leftarrow\text{count}+1</annotation></semantics></math>

</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>              <span id="alg1.l16.2" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>                  <math id="alg1.l17.m1.1" class="ltx_Math" alttext="\text{previous\_decision}\leftarrow\text{max\_ind}" display="inline"><semantics id="alg1.l17.m1.1a"><mrow id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml"><mtext id="alg1.l17.m1.1.1.2" xref="alg1.l17.m1.1.1.2a.cmml">previous_decision</mtext><mo stretchy="false" id="alg1.l17.m1.1.1.1" xref="alg1.l17.m1.1.1.1.cmml">←</mo><mtext id="alg1.l17.m1.1.1.3" xref="alg1.l17.m1.1.1.3a.cmml">max_ind</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1"><ci id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1">←</ci><ci id="alg1.l17.m1.1.1.2a.cmml" xref="alg1.l17.m1.1.1.2"><mtext id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1.2">previous_decision</mtext></ci><ci id="alg1.l17.m1.1.1.3a.cmml" xref="alg1.l17.m1.1.1.3"><mtext id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">max_ind</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">\text{previous\_decision}\leftarrow\text{max\_ind}</annotation></semantics></math>

</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>                  <math id="alg1.l18.m1.1" class="ltx_Math" alttext="\text{count}\leftarrow 0" display="inline"><semantics id="alg1.l18.m1.1a"><mrow id="alg1.l18.m1.1.1" xref="alg1.l18.m1.1.1.cmml"><mtext id="alg1.l18.m1.1.1.2" xref="alg1.l18.m1.1.1.2a.cmml">count</mtext><mo stretchy="false" id="alg1.l18.m1.1.1.1" xref="alg1.l18.m1.1.1.1.cmml">←</mo><mn id="alg1.l18.m1.1.1.3" xref="alg1.l18.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l18.m1.1b"><apply id="alg1.l18.m1.1.1.cmml" xref="alg1.l18.m1.1.1"><ci id="alg1.l18.m1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1">←</ci><ci id="alg1.l18.m1.1.1.2a.cmml" xref="alg1.l18.m1.1.1.2"><mtext id="alg1.l18.m1.1.1.2.cmml" xref="alg1.l18.m1.1.1.2">count</mtext></ci><cn type="integer" id="alg1.l18.m1.1.1.3.cmml" xref="alg1.l18.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m1.1c">\text{count}\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>              <span id="alg1.l19.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l19.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span>              <span id="alg1.l20.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l20.m1.1" class="ltx_Math" alttext="\text{count}\geq\beta" display="inline"><semantics id="alg1.l20.m1.1a"><mrow id="alg1.l20.m1.1.1" xref="alg1.l20.m1.1.1.cmml"><mtext id="alg1.l20.m1.1.1.2" xref="alg1.l20.m1.1.1.2a.cmml">count</mtext><mo id="alg1.l20.m1.1.1.1" xref="alg1.l20.m1.1.1.1.cmml">≥</mo><mi id="alg1.l20.m1.1.1.3" xref="alg1.l20.m1.1.1.3.cmml">β</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l20.m1.1b"><apply id="alg1.l20.m1.1.1.cmml" xref="alg1.l20.m1.1.1"><geq id="alg1.l20.m1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1"></geq><ci id="alg1.l20.m1.1.1.2a.cmml" xref="alg1.l20.m1.1.1.2"><mtext id="alg1.l20.m1.1.1.2.cmml" xref="alg1.l20.m1.1.1.2">count</mtext></ci><ci id="alg1.l20.m1.1.1.3.cmml" xref="alg1.l20.m1.1.1.3">𝛽</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.m1.1c">\text{count}\geq\beta</annotation></semantics></math> <span id="alg1.l20.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span>                  <math id="alg1.l21.m1.1" class="ltx_Math" alttext="\text{decided}\leftarrow\text{true}" display="inline"><semantics id="alg1.l21.m1.1a"><mrow id="alg1.l21.m1.1.1" xref="alg1.l21.m1.1.1.cmml"><mtext id="alg1.l21.m1.1.1.2" xref="alg1.l21.m1.1.1.2a.cmml">decided</mtext><mo stretchy="false" id="alg1.l21.m1.1.1.1" xref="alg1.l21.m1.1.1.1.cmml">←</mo><mtext id="alg1.l21.m1.1.1.3" xref="alg1.l21.m1.1.1.3a.cmml">true</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l21.m1.1b"><apply id="alg1.l21.m1.1.1.cmml" xref="alg1.l21.m1.1.1"><ci id="alg1.l21.m1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1">←</ci><ci id="alg1.l21.m1.1.1.2a.cmml" xref="alg1.l21.m1.1.1.2"><mtext id="alg1.l21.m1.1.1.2.cmml" xref="alg1.l21.m1.1.1.2">decided</mtext></ci><ci id="alg1.l21.m1.1.1.3a.cmml" xref="alg1.l21.m1.1.1.3"><mtext id="alg1.l21.m1.1.1.3.cmml" xref="alg1.l21.m1.1.1.3">true</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l21.m1.1c">\text{decided}\leftarrow\text{true}</annotation></semantics></math>

</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span>                  <math id="alg1.l22.m1.1" class="ltx_Math" alttext="\text{final\_decision}\leftarrow\text{max\_ind}" display="inline"><semantics id="alg1.l22.m1.1a"><mrow id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mtext id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2a.cmml">final_decision</mtext><mo stretchy="false" id="alg1.l22.m1.1.1.1" xref="alg1.l22.m1.1.1.1.cmml">←</mo><mtext id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3a.cmml">max_ind</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><ci id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1.1">←</ci><ci id="alg1.l22.m1.1.1.2a.cmml" xref="alg1.l22.m1.1.1.2"><mtext id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2">final_decision</mtext></ci><ci id="alg1.l22.m1.1.1.3a.cmml" xref="alg1.l22.m1.1.1.3"><mtext id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3">max_ind</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">\text{final\_decision}\leftarrow\text{max\_ind}</annotation></semantics></math>

</div>
<div id="alg1.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span>              <span id="alg1.l23.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l23.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l24.1.1.1" class="ltx_text" style="font-size:80%;">24:</span></span>         <span id="alg1.l24.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l24.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l25.1.1.1" class="ltx_text" style="font-size:80%;">25:</span></span>     <span id="alg1.l25.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l25.3" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg1.l26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l26.1.1.1" class="ltx_text" style="font-size:80%;">26:</span></span><span id="alg1.l26.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l26.3" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">Snowball Protocol (Algorithm 1) has the following parameters.</p>
<ul id="S2.I2" class="ltx_itemize">
<li id="S2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i1.p1" class="ltx_para">
<p id="S2.I2.i1.p1.1" class="ltx_p">Number of Nodes(N): Total number of nodes in the network that are participating in the consensus.</p>
</div>
</li>
<li id="S2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i2.p1" class="ltx_para">
<p id="S2.I2.i2.p1.1" class="ltx_p">Quorum Size(k): Number of nodes that are subsampled during decision-making.</p>
</div>
</li>
<li id="S2.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i3.p1" class="ltx_para">
<p id="S2.I2.i3.p1.1" class="ltx_p">Alpha(<math id="S2.I2.i3.p1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.I2.i3.p1.1.m1.1a"><mi id="S2.I2.i3.p1.1.m1.1.1" xref="S2.I2.i3.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i3.p1.1.m1.1b"><ci id="S2.I2.i3.p1.1.m1.1.1.cmml" xref="S2.I2.i3.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i3.p1.1.m1.1c">\alpha</annotation></semantics></math>): Minimum number of nodes required to decide the majority in a quorum</p>
</div>
</li>
<li id="S2.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i4.p1" class="ltx_para">
<p id="S2.I2.i4.p1.1" class="ltx_p">Beta(<math id="S2.I2.i4.p1.1.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S2.I2.i4.p1.1.m1.1a"><mi id="S2.I2.i4.p1.1.m1.1.1" xref="S2.I2.i4.p1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i4.p1.1.m1.1b"><ci id="S2.I2.i4.p1.1.m1.1.1.cmml" xref="S2.I2.i4.p1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i4.p1.1.m1.1c">\beta</annotation></semantics></math>): Minimum number of consecutive rounds in favour of a decision required to terminate the consensus protocol.</p>
</div>
</li>
</ul>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.3" class="ltx_p">A node taking part in the decision-making process starts in an undecided state. Then the node proceeds to initiate a query to k nodes, thus initiating the query process. Upon receiving a query, the undecided node will respond with the state it received and initiate its own query. On the other hand, a decided node will simply respond with its decision. After receiving k responses, a node checks whether majority is found or not, using <math id="S2.SS3.p3.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.SS3.p3.1.m1.1a"><mi id="S2.SS3.p3.1.m1.1.1" xref="S2.SS3.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.1.m1.1b"><ci id="S2.SS3.p3.1.m1.1.1.cmml" xref="S2.SS3.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.1.m1.1c">\alpha</annotation></semantics></math>. If majority is found, then the node updates the confidence counter with respect to that specific decision. If the <math id="S2.SS3.p3.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.SS3.p3.2.m2.1a"><mi id="S2.SS3.p3.2.m2.1.1" xref="S2.SS3.p3.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.2.m2.1b"><ci id="S2.SS3.p3.2.m2.1.1.cmml" xref="S2.SS3.p3.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.2.m2.1c">\alpha</annotation></semantics></math> fraction is not met, then the confidence counter for the specific decision is reset to zero. This process continues until one of the confidence counters reaches <math id="S2.SS3.p3.3.m3.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S2.SS3.p3.3.m3.1a"><mi id="S2.SS3.p3.3.m3.1.1" xref="S2.SS3.p3.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.3.m3.1b"><ci id="S2.SS3.p3.3.m3.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.3.m3.1c">\beta</annotation></semantics></math>.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Federated Learning</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">Federated learning<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, is a machine learning paradigm where the aim is to create a centralized model without transmitting data to a centralized server. Unlike conventional machine learning setting, where the data is transmitted to a centralized server and the model training takes place in a highly controlled environment, Federated Learning facilitates on device training of the model.</p>
</div>
<div id="S2.SS4.p2" class="ltx_para">
<p id="S2.SS4.p2.1" class="ltx_p">Federated Learning is arranged in a star-shaped setting, where the centralized server is at the top, followed by the clients that train the actual model. To enhance the privacy, instead of sending actual model weights to the centralized server, only the model updates were sent to the centralized server. The centralized server implements an aggregation algorithm, generally Federation Average Algorithm, where the aggregation of the weights under a federation is done.
Based on the type of data a particular federated learning deals with, FL can be classified into two types:</p>
<ul id="S2.I3" class="ltx_itemize">
<li id="S2.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I3.i1.p1" class="ltx_para">
<p id="S2.I3.i1.p1.1" class="ltx_p">Horizontal Federated Learning: This type of federated learning is used for the datasets which have similar features but different values. For example, “items bought” of customer from two different stores.</p>
</div>
</li>
<li id="S2.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I3.i2.p1" class="ltx_para">
<p id="S2.I3.i2.p1.1" class="ltx_p">Vertical Federated Learning: This type of setting is used for the data sets which have overlapping features of the same instances. For example, data of a particular user base in two different organizations</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.5 </span>IPFS</h3>

<div id="S2.SS5.p1" class="ltx_para">
<p id="S2.SS5.p1.1" class="ltx_p">Interplanetary Planetary File System(IPFS) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> is a peer to peer distributed file system that aims to connect all the nodes under the same file system. This file system makes use of Merkel DAG to create a versioned file system and to verify the integrity of the files. All the files in the IPFS are addressed using unique Content Identifiers(CIDs). CIDs are constituted by the hash function and a multicoded representing the version of the CID. SHA-1, SHA-256 or BLAKE2 are commonly used as hash functions.</p>
</div>
<div id="S2.SS5.p2" class="ltx_para">
<p id="S2.SS5.p2.1" class="ltx_p">As soon as a node in IPFS accesses a file or hypermedia content, it caches the files that it downloaded, thus making it available to the other nodes in the network. As the storage in these nodes is quite limited, this cache of the nodes must be cleared periodically, this process is referred to as IPFS garbage collection. Pinning is the process that ensures the data to be accessible and prevents this garbage collection.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>System Design And Architecture</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we will provide an overview of the system architecture for the proposed system, highlighting the key components and their interactions and overall flow of the proposed model.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>System Design</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">System design forms the foundation of a framework and aids in the development of the system from its theory. The proposed system has 3 different roles namely Node, Validator, Decentralized Aggregator arranged in hierarchical structure as depicted in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.1 System Design ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. These are further explained in the following section.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2312.05459/assets/fig1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="299" height="164" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S3.F1.3.2" class="ltx_text" style="font-size:90%;">Architecture of Proposed Platform</span></figcaption>
</figure>
<section id="S3.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1 </span>Node</h4>

<div id="S3.SS1.SSS1.p1" class="ltx_para">
<p id="S3.SS1.SSS1.p1.1" class="ltx_p">It is the basic building block of the proposed architecture. Nodes are used to train the model with the data that is available locally. Nodes send the encrypted model updates to Validators via IPFS.</p>
</div>
</section>
<section id="S3.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2 </span>Validator</h4>

<div id="S3.SS1.SSS2.p1" class="ltx_para">
<p id="S3.SS1.SSS2.p1.1" class="ltx_p">Validator is a specialized node that oversees the process of federated learning of the nodes in its federation. The validator computes a weighted average of the model updates, weighted by the number of examples each node used for training, thus creating the model. After the creation of the model, the validator then trains a novelty detection model with the weights that are submitted by the nodes. Later, the validator will participate in the Snowball protocol to attain the consensus on the validity of the weights submitted by the other validators.</p>
</div>
</section>
<section id="S3.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.3 </span> Decentralized Aggregator</h4>

<div id="S3.SS1.SSS3.p1" class="ltx_para">
<p id="S3.SS1.SSS3.p1.1" class="ltx_p">It is a specialized node responsible for generating of the global model. The model generation can happen either by implementing the federated average algorithm on accepted weights or by implementing weighted average, weighted on influence derived from the blockchain. This node also initialises Snowball protocol, where the validation of proposed weights occurs. From a conventional federated learning context, a decentralized aggregator can be viewed as a Centralized Server.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>System Flow</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Once the hierarchy, constituted by Decentralized Aggregator, Validators, and Nodes is set up, the Decentralized Aggregator will invoke the smart contract and collect surety from Validators. The validator will initialize the federated learning process for its federation of nodes. After the completion of training in the node, the weights are encrypted using the Pretty Good Privacy (PGP)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> encryption algorithm and uploaded to IPFS. The CID of the uploaded file is then sent to the validator. The validator can access the IPFS, retrieve the encrypted file, decrypt it, and obtain the decrypted weights. The introduction of IPFS is done to prevent the man in the middle attack as depicted in Figure <a href="#S3.F2" title="Figure 2 ‣ 3.2 System Flow ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2312.05459/assets/fig4.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="299" height="185" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.3.2" class="ltx_text" style="font-size:90%;">Interaction With IPFS</span></figcaption>
</figure>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">At validator level, these weights were used a model using federated average algorithm. Additionally, the validators also train their own novelty detection models based on these weights. These novelty detection models will enable the validators in identifying new or unusual patterns.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">The weights of the model generated were then broadcast to all the validators, where the Snowball protocol is used to attain consensus. The main goal of this decision-making process is to determine the validity of the model generated by a particular validator. If all the nodes reach a consensus for a specific set of weights, then it is used in generation of the global model. The opinion of each validator is recorded in the blockchain.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.1" class="ltx_p">Sometimes it might happen that, by the end of the Snowball protocol, none of the proposed weights were accepted. In this case, the global model is generated using weighted average weighted on influence of a particular validator. Calculation of the trust score is an important step in finding out influence. The Algorithm <a href="#alg2" title="Algorithm 2 ‣ 3.2 System Flow ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> is used to determine the trust score.</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Trust Calculation</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg2.l1.2" class="ltx_text ltx_font_bold">function</span> <span id="alg2.l1.3" class="ltx_text ltx_font_smallcaps">trust_calculation</span>(<math id="alg2.l1.m1.2" class="ltx_Math" alttext="\text{final\_opinion},\text{individual\_opinion}" display="inline"><semantics id="alg2.l1.m1.2a"><mrow id="alg2.l1.m1.2.3.2" xref="alg2.l1.m1.2.3.1.cmml"><mtext id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1a.cmml">final_opinion</mtext><mo id="alg2.l1.m1.2.3.2.1" xref="alg2.l1.m1.2.3.1.cmml">,</mo><mtext id="alg2.l1.m1.2.2" xref="alg2.l1.m1.2.2a.cmml">individual_opinion</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.2b"><list id="alg2.l1.m1.2.3.1.cmml" xref="alg2.l1.m1.2.3.2"><ci id="alg2.l1.m1.1.1a.cmml" xref="alg2.l1.m1.1.1"><mtext id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1">final_opinion</mtext></ci><ci id="alg2.l1.m1.2.2a.cmml" xref="alg2.l1.m1.2.2"><mtext id="alg2.l1.m1.2.2.cmml" xref="alg2.l1.m1.2.2">individual_opinion</mtext></ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.2c">\text{final\_opinion},\text{individual\_opinion}</annotation></semantics></math>)

</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     <math id="alg2.l2.m1.2" class="ltx_Math" alttext="\text{trust\_score}\leftarrow 0,\text{count}\leftarrow 0" display="inline"><semantics id="alg2.l2.m1.2a"><mrow id="alg2.l2.m1.2.2.2" xref="alg2.l2.m1.2.2.3.cmml"><mrow id="alg2.l2.m1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.cmml"><mtext id="alg2.l2.m1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.2a.cmml">trust_score</mtext><mo stretchy="false" id="alg2.l2.m1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.cmml">←</mo><mn id="alg2.l2.m1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.3.cmml">0</mn></mrow><mo id="alg2.l2.m1.2.2.2.3" xref="alg2.l2.m1.2.2.3a.cmml">,</mo><mrow id="alg2.l2.m1.2.2.2.2" xref="alg2.l2.m1.2.2.2.2.cmml"><mtext id="alg2.l2.m1.2.2.2.2.2" xref="alg2.l2.m1.2.2.2.2.2a.cmml">count</mtext><mo stretchy="false" id="alg2.l2.m1.2.2.2.2.1" xref="alg2.l2.m1.2.2.2.2.1.cmml">←</mo><mn id="alg2.l2.m1.2.2.2.2.3" xref="alg2.l2.m1.2.2.2.2.3.cmml">0</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.2b"><apply id="alg2.l2.m1.2.2.3.cmml" xref="alg2.l2.m1.2.2.2"><csymbol cd="ambiguous" id="alg2.l2.m1.2.2.3a.cmml" xref="alg2.l2.m1.2.2.2.3">formulae-sequence</csymbol><apply id="alg2.l2.m1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1"><ci id="alg2.l2.m1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1">←</ci><ci id="alg2.l2.m1.1.1.1.1.2a.cmml" xref="alg2.l2.m1.1.1.1.1.2"><mtext id="alg2.l2.m1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.2">trust_score</mtext></ci><cn type="integer" id="alg2.l2.m1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.3">0</cn></apply><apply id="alg2.l2.m1.2.2.2.2.cmml" xref="alg2.l2.m1.2.2.2.2"><ci id="alg2.l2.m1.2.2.2.2.1.cmml" xref="alg2.l2.m1.2.2.2.2.1">←</ci><ci id="alg2.l2.m1.2.2.2.2.2a.cmml" xref="alg2.l2.m1.2.2.2.2.2"><mtext id="alg2.l2.m1.2.2.2.2.2.cmml" xref="alg2.l2.m1.2.2.2.2.2">count</mtext></ci><cn type="integer" id="alg2.l2.m1.2.2.2.2.3.cmml" xref="alg2.l2.m1.2.2.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.2c">\text{trust\_score}\leftarrow 0,\text{count}\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <math id="alg2.l3.m1.1" class="ltx_Math" alttext="\text{total}\leftarrow\text{len}(\text{final\_opinion})" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.2" xref="alg2.l3.m1.1.2.cmml"><mtext id="alg2.l3.m1.1.2.2" xref="alg2.l3.m1.1.2.2a.cmml">total</mtext><mo stretchy="false" id="alg2.l3.m1.1.2.1" xref="alg2.l3.m1.1.2.1.cmml">←</mo><mrow id="alg2.l3.m1.1.2.3" xref="alg2.l3.m1.1.2.3.cmml"><mtext id="alg2.l3.m1.1.2.3.2" xref="alg2.l3.m1.1.2.3.2a.cmml">len</mtext><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.2.3.1" xref="alg2.l3.m1.1.2.3.1.cmml">​</mo><mrow id="alg2.l3.m1.1.2.3.3.2" xref="alg2.l3.m1.1.1a.cmml"><mo stretchy="false" id="alg2.l3.m1.1.2.3.3.2.1" xref="alg2.l3.m1.1.1a.cmml">(</mo><mtext id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml">final_opinion</mtext><mo stretchy="false" id="alg2.l3.m1.1.2.3.3.2.2" xref="alg2.l3.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.2.cmml" xref="alg2.l3.m1.1.2"><ci id="alg2.l3.m1.1.2.1.cmml" xref="alg2.l3.m1.1.2.1">←</ci><ci id="alg2.l3.m1.1.2.2a.cmml" xref="alg2.l3.m1.1.2.2"><mtext id="alg2.l3.m1.1.2.2.cmml" xref="alg2.l3.m1.1.2.2">total</mtext></ci><apply id="alg2.l3.m1.1.2.3.cmml" xref="alg2.l3.m1.1.2.3"><times id="alg2.l3.m1.1.2.3.1.cmml" xref="alg2.l3.m1.1.2.3.1"></times><ci id="alg2.l3.m1.1.2.3.2a.cmml" xref="alg2.l3.m1.1.2.3.2"><mtext id="alg2.l3.m1.1.2.3.2.cmml" xref="alg2.l3.m1.1.2.3.2">len</mtext></ci><ci id="alg2.l3.m1.1.1a.cmml" xref="alg2.l3.m1.1.2.3.3.2"><mtext id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1">final_opinion</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">\text{total}\leftarrow\text{len}(\text{final\_opinion})</annotation></semantics></math>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <span id="alg2.l4.2" class="ltx_text ltx_font_bold">while</span> <math id="alg2.l4.m1.1" class="ltx_Math" alttext="\text{count}&lt;\text{total}" display="inline"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mtext id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2a.cmml">count</mtext><mo id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml">&lt;</mo><mtext id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3a.cmml">total</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><lt id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1"></lt><ci id="alg2.l4.m1.1.1.2a.cmml" xref="alg2.l4.m1.1.1.2"><mtext id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">count</mtext></ci><ci id="alg2.l4.m1.1.1.3a.cmml" xref="alg2.l4.m1.1.1.3"><mtext id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">total</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">\text{count}&lt;\text{total}</annotation></semantics></math> <span id="alg2.l4.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>         <span id="alg2.l5.2" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l5.m1.1" class="ltx_math_unparsed" alttext="\text{final\_opinion}[\text{count}]==\text{individual\_opinion}[\text{count}]" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1b"><mtext id="alg2.l5.m1.1.2">final_opinion</mtext><mrow id="alg2.l5.m1.1.3"><mo stretchy="false" id="alg2.l5.m1.1.3.1">[</mo><mtext id="alg2.l5.m1.1.1">count</mtext><mo stretchy="false" id="alg2.l5.m1.1.3.2">]</mo></mrow><mo rspace="0em" id="alg2.l5.m1.1.4">=</mo><mo lspace="0em" id="alg2.l5.m1.1.5">=</mo><mtext id="alg2.l5.m1.1.6">individual_opinion</mtext><mrow id="alg2.l5.m1.1.7"><mo stretchy="false" id="alg2.l5.m1.1.7.1">[</mo><mtext id="alg2.l5.m1.1.7.2">count</mtext><mo stretchy="false" id="alg2.l5.m1.1.7.3">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">\text{final\_opinion}[\text{count}]==\text{individual\_opinion}[\text{count}]</annotation></semantics></math> <span id="alg2.l5.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>              <math id="alg2.l6.m1.1" class="ltx_Math" alttext="\text{trust\_score}\leftarrow\text{trust\_score}+10" display="inline"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><mtext id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2a.cmml">trust_score</mtext><mo stretchy="false" id="alg2.l6.m1.1.1.1" xref="alg2.l6.m1.1.1.1.cmml">←</mo><mrow id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml"><mtext id="alg2.l6.m1.1.1.3.2" xref="alg2.l6.m1.1.1.3.2a.cmml">trust_score</mtext><mo id="alg2.l6.m1.1.1.3.1" xref="alg2.l6.m1.1.1.3.1.cmml">+</mo><mn id="alg2.l6.m1.1.1.3.3" xref="alg2.l6.m1.1.1.3.3.cmml">10</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><ci id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1">←</ci><ci id="alg2.l6.m1.1.1.2a.cmml" xref="alg2.l6.m1.1.1.2"><mtext id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2">trust_score</mtext></ci><apply id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3"><plus id="alg2.l6.m1.1.1.3.1.cmml" xref="alg2.l6.m1.1.1.3.1"></plus><ci id="alg2.l6.m1.1.1.3.2a.cmml" xref="alg2.l6.m1.1.1.3.2"><mtext id="alg2.l6.m1.1.1.3.2.cmml" xref="alg2.l6.m1.1.1.3.2">trust_score</mtext></ci><cn type="integer" id="alg2.l6.m1.1.1.3.3.cmml" xref="alg2.l6.m1.1.1.3.3">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">\text{trust\_score}\leftarrow\text{trust\_score}+10</annotation></semantics></math>

</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>         <span id="alg2.l7.2" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>              <math id="alg2.l8.m1.1" class="ltx_Math" alttext="\text{trust\_score}\leftarrow\text{trust\_score}-10" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><mtext id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2a.cmml">trust_score</mtext><mo stretchy="false" id="alg2.l8.m1.1.1.1" xref="alg2.l8.m1.1.1.1.cmml">←</mo><mrow id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml"><mtext id="alg2.l8.m1.1.1.3.2" xref="alg2.l8.m1.1.1.3.2a.cmml">trust_score</mtext><mo id="alg2.l8.m1.1.1.3.1" xref="alg2.l8.m1.1.1.3.1.cmml">−</mo><mn id="alg2.l8.m1.1.1.3.3" xref="alg2.l8.m1.1.1.3.3.cmml">10</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><ci id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1">←</ci><ci id="alg2.l8.m1.1.1.2a.cmml" xref="alg2.l8.m1.1.1.2"><mtext id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2">trust_score</mtext></ci><apply id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3"><minus id="alg2.l8.m1.1.1.3.1.cmml" xref="alg2.l8.m1.1.1.3.1"></minus><ci id="alg2.l8.m1.1.1.3.2a.cmml" xref="alg2.l8.m1.1.1.3.2"><mtext id="alg2.l8.m1.1.1.3.2.cmml" xref="alg2.l8.m1.1.1.3.2">trust_score</mtext></ci><cn type="integer" id="alg2.l8.m1.1.1.3.3.cmml" xref="alg2.l8.m1.1.1.3.3">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">\text{trust\_score}\leftarrow\text{trust\_score}-10</annotation></semantics></math>

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>         <span id="alg2.l9.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l9.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>         <math id="alg2.l10.m1.1" class="ltx_Math" alttext="\text{count}\leftarrow\text{count}+1" display="inline"><semantics id="alg2.l10.m1.1a"><mrow id="alg2.l10.m1.1.1" xref="alg2.l10.m1.1.1.cmml"><mtext id="alg2.l10.m1.1.1.2" xref="alg2.l10.m1.1.1.2a.cmml">count</mtext><mo stretchy="false" id="alg2.l10.m1.1.1.1" xref="alg2.l10.m1.1.1.1.cmml">←</mo><mrow id="alg2.l10.m1.1.1.3" xref="alg2.l10.m1.1.1.3.cmml"><mtext id="alg2.l10.m1.1.1.3.2" xref="alg2.l10.m1.1.1.3.2a.cmml">count</mtext><mo id="alg2.l10.m1.1.1.3.1" xref="alg2.l10.m1.1.1.3.1.cmml">+</mo><mn id="alg2.l10.m1.1.1.3.3" xref="alg2.l10.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.1b"><apply id="alg2.l10.m1.1.1.cmml" xref="alg2.l10.m1.1.1"><ci id="alg2.l10.m1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1">←</ci><ci id="alg2.l10.m1.1.1.2a.cmml" xref="alg2.l10.m1.1.1.2"><mtext id="alg2.l10.m1.1.1.2.cmml" xref="alg2.l10.m1.1.1.2">count</mtext></ci><apply id="alg2.l10.m1.1.1.3.cmml" xref="alg2.l10.m1.1.1.3"><plus id="alg2.l10.m1.1.1.3.1.cmml" xref="alg2.l10.m1.1.1.3.1"></plus><ci id="alg2.l10.m1.1.1.3.2a.cmml" xref="alg2.l10.m1.1.1.3.2"><mtext id="alg2.l10.m1.1.1.3.2.cmml" xref="alg2.l10.m1.1.1.3.2">count</mtext></ci><cn type="integer" id="alg2.l10.m1.1.1.3.3.cmml" xref="alg2.l10.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.1c">\text{count}\leftarrow\text{count}+1</annotation></semantics></math>

</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>     <span id="alg2.l11.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l11.3" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>     <span id="alg2.l12.2" class="ltx_text ltx_font_bold">return</span> <math id="alg2.l12.m1.3" class="ltx_Math" alttext="\max(\text{trust\_score},1)" display="inline"><semantics id="alg2.l12.m1.3a"><mrow id="alg2.l12.m1.3.4.2" xref="alg2.l12.m1.3.4.1.cmml"><mi id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml">max</mi><mo id="alg2.l12.m1.3.4.2a" xref="alg2.l12.m1.3.4.1.cmml">⁡</mo><mrow id="alg2.l12.m1.3.4.2.1" xref="alg2.l12.m1.3.4.1.cmml"><mo stretchy="false" id="alg2.l12.m1.3.4.2.1.1" xref="alg2.l12.m1.3.4.1.cmml">(</mo><mtext id="alg2.l12.m1.2.2" xref="alg2.l12.m1.2.2a.cmml">trust_score</mtext><mo id="alg2.l12.m1.3.4.2.1.2" xref="alg2.l12.m1.3.4.1.cmml">,</mo><mn id="alg2.l12.m1.3.3" xref="alg2.l12.m1.3.3.cmml">1</mn><mo stretchy="false" id="alg2.l12.m1.3.4.2.1.3" xref="alg2.l12.m1.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.3b"><apply id="alg2.l12.m1.3.4.1.cmml" xref="alg2.l12.m1.3.4.2"><max id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1"></max><ci id="alg2.l12.m1.2.2a.cmml" xref="alg2.l12.m1.2.2"><mtext id="alg2.l12.m1.2.2.cmml" xref="alg2.l12.m1.2.2">trust_score</mtext></ci><cn type="integer" id="alg2.l12.m1.3.3.cmml" xref="alg2.l12.m1.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.3c">\max(\text{trust\_score},1)</annotation></semantics></math>

</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg2.l13.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l13.3" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<figure id="alg3" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg3.2.1.1" class="ltx_text ltx_font_bold">Algorithm 3</span> </span> Blockchain Based Validator Influence Calculation</figcaption>
<div id="alg3.3" class="ltx_listing ltx_listing">
<div id="alg3.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>Let <math id="alg3.l1.m1.4" class="ltx_Math" alttext="O_{1},O_{2},\ldots,O_{n}" display="inline"><semantics id="alg3.l1.m1.4a"><mrow id="alg3.l1.m1.4.4.3" xref="alg3.l1.m1.4.4.4.cmml"><msub id="alg3.l1.m1.2.2.1.1" xref="alg3.l1.m1.2.2.1.1.cmml"><mi id="alg3.l1.m1.2.2.1.1.2" xref="alg3.l1.m1.2.2.1.1.2.cmml">O</mi><mn id="alg3.l1.m1.2.2.1.1.3" xref="alg3.l1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="alg3.l1.m1.4.4.3.4" xref="alg3.l1.m1.4.4.4.cmml">,</mo><msub id="alg3.l1.m1.3.3.2.2" xref="alg3.l1.m1.3.3.2.2.cmml"><mi id="alg3.l1.m1.3.3.2.2.2" xref="alg3.l1.m1.3.3.2.2.2.cmml">O</mi><mn id="alg3.l1.m1.3.3.2.2.3" xref="alg3.l1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="alg3.l1.m1.4.4.3.5" xref="alg3.l1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l1.m1.1.1" xref="alg3.l1.m1.1.1.cmml">…</mi><mo id="alg3.l1.m1.4.4.3.6" xref="alg3.l1.m1.4.4.4.cmml">,</mo><msub id="alg3.l1.m1.4.4.3.3" xref="alg3.l1.m1.4.4.3.3.cmml"><mi id="alg3.l1.m1.4.4.3.3.2" xref="alg3.l1.m1.4.4.3.3.2.cmml">O</mi><mi id="alg3.l1.m1.4.4.3.3.3" xref="alg3.l1.m1.4.4.3.3.3.cmml">n</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg3.l1.m1.4b"><list id="alg3.l1.m1.4.4.4.cmml" xref="alg3.l1.m1.4.4.3"><apply id="alg3.l1.m1.2.2.1.1.cmml" xref="alg3.l1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg3.l1.m1.2.2.1.1.1.cmml" xref="alg3.l1.m1.2.2.1.1">subscript</csymbol><ci id="alg3.l1.m1.2.2.1.1.2.cmml" xref="alg3.l1.m1.2.2.1.1.2">𝑂</ci><cn type="integer" id="alg3.l1.m1.2.2.1.1.3.cmml" xref="alg3.l1.m1.2.2.1.1.3">1</cn></apply><apply id="alg3.l1.m1.3.3.2.2.cmml" xref="alg3.l1.m1.3.3.2.2"><csymbol cd="ambiguous" id="alg3.l1.m1.3.3.2.2.1.cmml" xref="alg3.l1.m1.3.3.2.2">subscript</csymbol><ci id="alg3.l1.m1.3.3.2.2.2.cmml" xref="alg3.l1.m1.3.3.2.2.2">𝑂</ci><cn type="integer" id="alg3.l1.m1.3.3.2.2.3.cmml" xref="alg3.l1.m1.3.3.2.2.3">2</cn></apply><ci id="alg3.l1.m1.1.1.cmml" xref="alg3.l1.m1.1.1">…</ci><apply id="alg3.l1.m1.4.4.3.3.cmml" xref="alg3.l1.m1.4.4.3.3"><csymbol cd="ambiguous" id="alg3.l1.m1.4.4.3.3.1.cmml" xref="alg3.l1.m1.4.4.3.3">subscript</csymbol><ci id="alg3.l1.m1.4.4.3.3.2.cmml" xref="alg3.l1.m1.4.4.3.3.2">𝑂</ci><ci id="alg3.l1.m1.4.4.3.3.3.cmml" xref="alg3.l1.m1.4.4.3.3.3">𝑛</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m1.4c">O_{1},O_{2},\ldots,O_{n}</annotation></semantics></math> be the opinions of <math id="alg3.l1.m2.4" class="ltx_Math" alttext="V_{1},V_{2},\ldots,V_{n}" display="inline"><semantics id="alg3.l1.m2.4a"><mrow id="alg3.l1.m2.4.4.3" xref="alg3.l1.m2.4.4.4.cmml"><msub id="alg3.l1.m2.2.2.1.1" xref="alg3.l1.m2.2.2.1.1.cmml"><mi id="alg3.l1.m2.2.2.1.1.2" xref="alg3.l1.m2.2.2.1.1.2.cmml">V</mi><mn id="alg3.l1.m2.2.2.1.1.3" xref="alg3.l1.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="alg3.l1.m2.4.4.3.4" xref="alg3.l1.m2.4.4.4.cmml">,</mo><msub id="alg3.l1.m2.3.3.2.2" xref="alg3.l1.m2.3.3.2.2.cmml"><mi id="alg3.l1.m2.3.3.2.2.2" xref="alg3.l1.m2.3.3.2.2.2.cmml">V</mi><mn id="alg3.l1.m2.3.3.2.2.3" xref="alg3.l1.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="alg3.l1.m2.4.4.3.5" xref="alg3.l1.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l1.m2.1.1" xref="alg3.l1.m2.1.1.cmml">…</mi><mo id="alg3.l1.m2.4.4.3.6" xref="alg3.l1.m2.4.4.4.cmml">,</mo><msub id="alg3.l1.m2.4.4.3.3" xref="alg3.l1.m2.4.4.3.3.cmml"><mi id="alg3.l1.m2.4.4.3.3.2" xref="alg3.l1.m2.4.4.3.3.2.cmml">V</mi><mi id="alg3.l1.m2.4.4.3.3.3" xref="alg3.l1.m2.4.4.3.3.3.cmml">n</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg3.l1.m2.4b"><list id="alg3.l1.m2.4.4.4.cmml" xref="alg3.l1.m2.4.4.3"><apply id="alg3.l1.m2.2.2.1.1.cmml" xref="alg3.l1.m2.2.2.1.1"><csymbol cd="ambiguous" id="alg3.l1.m2.2.2.1.1.1.cmml" xref="alg3.l1.m2.2.2.1.1">subscript</csymbol><ci id="alg3.l1.m2.2.2.1.1.2.cmml" xref="alg3.l1.m2.2.2.1.1.2">𝑉</ci><cn type="integer" id="alg3.l1.m2.2.2.1.1.3.cmml" xref="alg3.l1.m2.2.2.1.1.3">1</cn></apply><apply id="alg3.l1.m2.3.3.2.2.cmml" xref="alg3.l1.m2.3.3.2.2"><csymbol cd="ambiguous" id="alg3.l1.m2.3.3.2.2.1.cmml" xref="alg3.l1.m2.3.3.2.2">subscript</csymbol><ci id="alg3.l1.m2.3.3.2.2.2.cmml" xref="alg3.l1.m2.3.3.2.2.2">𝑉</ci><cn type="integer" id="alg3.l1.m2.3.3.2.2.3.cmml" xref="alg3.l1.m2.3.3.2.2.3">2</cn></apply><ci id="alg3.l1.m2.1.1.cmml" xref="alg3.l1.m2.1.1">…</ci><apply id="alg3.l1.m2.4.4.3.3.cmml" xref="alg3.l1.m2.4.4.3.3"><csymbol cd="ambiguous" id="alg3.l1.m2.4.4.3.3.1.cmml" xref="alg3.l1.m2.4.4.3.3">subscript</csymbol><ci id="alg3.l1.m2.4.4.3.3.2.cmml" xref="alg3.l1.m2.4.4.3.3.2">𝑉</ci><ci id="alg3.l1.m2.4.4.3.3.3.cmml" xref="alg3.l1.m2.4.4.3.3.3">𝑛</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m2.4c">V_{1},V_{2},\ldots,V_{n}</annotation></semantics></math> with respect to <math id="alg3.l1.m3.4" class="ltx_Math" alttext="W_{1},W_{2},\ldots,W_{n}" display="inline"><semantics id="alg3.l1.m3.4a"><mrow id="alg3.l1.m3.4.4.3" xref="alg3.l1.m3.4.4.4.cmml"><msub id="alg3.l1.m3.2.2.1.1" xref="alg3.l1.m3.2.2.1.1.cmml"><mi id="alg3.l1.m3.2.2.1.1.2" xref="alg3.l1.m3.2.2.1.1.2.cmml">W</mi><mn id="alg3.l1.m3.2.2.1.1.3" xref="alg3.l1.m3.2.2.1.1.3.cmml">1</mn></msub><mo id="alg3.l1.m3.4.4.3.4" xref="alg3.l1.m3.4.4.4.cmml">,</mo><msub id="alg3.l1.m3.3.3.2.2" xref="alg3.l1.m3.3.3.2.2.cmml"><mi id="alg3.l1.m3.3.3.2.2.2" xref="alg3.l1.m3.3.3.2.2.2.cmml">W</mi><mn id="alg3.l1.m3.3.3.2.2.3" xref="alg3.l1.m3.3.3.2.2.3.cmml">2</mn></msub><mo id="alg3.l1.m3.4.4.3.5" xref="alg3.l1.m3.4.4.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l1.m3.1.1" xref="alg3.l1.m3.1.1.cmml">…</mi><mo id="alg3.l1.m3.4.4.3.6" xref="alg3.l1.m3.4.4.4.cmml">,</mo><msub id="alg3.l1.m3.4.4.3.3" xref="alg3.l1.m3.4.4.3.3.cmml"><mi id="alg3.l1.m3.4.4.3.3.2" xref="alg3.l1.m3.4.4.3.3.2.cmml">W</mi><mi id="alg3.l1.m3.4.4.3.3.3" xref="alg3.l1.m3.4.4.3.3.3.cmml">n</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg3.l1.m3.4b"><list id="alg3.l1.m3.4.4.4.cmml" xref="alg3.l1.m3.4.4.3"><apply id="alg3.l1.m3.2.2.1.1.cmml" xref="alg3.l1.m3.2.2.1.1"><csymbol cd="ambiguous" id="alg3.l1.m3.2.2.1.1.1.cmml" xref="alg3.l1.m3.2.2.1.1">subscript</csymbol><ci id="alg3.l1.m3.2.2.1.1.2.cmml" xref="alg3.l1.m3.2.2.1.1.2">𝑊</ci><cn type="integer" id="alg3.l1.m3.2.2.1.1.3.cmml" xref="alg3.l1.m3.2.2.1.1.3">1</cn></apply><apply id="alg3.l1.m3.3.3.2.2.cmml" xref="alg3.l1.m3.3.3.2.2"><csymbol cd="ambiguous" id="alg3.l1.m3.3.3.2.2.1.cmml" xref="alg3.l1.m3.3.3.2.2">subscript</csymbol><ci id="alg3.l1.m3.3.3.2.2.2.cmml" xref="alg3.l1.m3.3.3.2.2.2">𝑊</ci><cn type="integer" id="alg3.l1.m3.3.3.2.2.3.cmml" xref="alg3.l1.m3.3.3.2.2.3">2</cn></apply><ci id="alg3.l1.m3.1.1.cmml" xref="alg3.l1.m3.1.1">…</ci><apply id="alg3.l1.m3.4.4.3.3.cmml" xref="alg3.l1.m3.4.4.3.3"><csymbol cd="ambiguous" id="alg3.l1.m3.4.4.3.3.1.cmml" xref="alg3.l1.m3.4.4.3.3">subscript</csymbol><ci id="alg3.l1.m3.4.4.3.3.2.cmml" xref="alg3.l1.m3.4.4.3.3.2">𝑊</ci><ci id="alg3.l1.m3.4.4.3.3.3.cmml" xref="alg3.l1.m3.4.4.3.3.3">𝑛</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m3.4c">W_{1},W_{2},\ldots,W_{n}</annotation></semantics></math>.

</div>
<div id="alg3.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>Let <math id="alg3.l2.m1.4" class="ltx_Math" alttext="w_{1},w_{2},\ldots,w_{x}" display="inline"><semantics id="alg3.l2.m1.4a"><mrow id="alg3.l2.m1.4.4.3" xref="alg3.l2.m1.4.4.4.cmml"><msub id="alg3.l2.m1.2.2.1.1" xref="alg3.l2.m1.2.2.1.1.cmml"><mi id="alg3.l2.m1.2.2.1.1.2" xref="alg3.l2.m1.2.2.1.1.2.cmml">w</mi><mn id="alg3.l2.m1.2.2.1.1.3" xref="alg3.l2.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="alg3.l2.m1.4.4.3.4" xref="alg3.l2.m1.4.4.4.cmml">,</mo><msub id="alg3.l2.m1.3.3.2.2" xref="alg3.l2.m1.3.3.2.2.cmml"><mi id="alg3.l2.m1.3.3.2.2.2" xref="alg3.l2.m1.3.3.2.2.2.cmml">w</mi><mn id="alg3.l2.m1.3.3.2.2.3" xref="alg3.l2.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="alg3.l2.m1.4.4.3.5" xref="alg3.l2.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l2.m1.1.1" xref="alg3.l2.m1.1.1.cmml">…</mi><mo id="alg3.l2.m1.4.4.3.6" xref="alg3.l2.m1.4.4.4.cmml">,</mo><msub id="alg3.l2.m1.4.4.3.3" xref="alg3.l2.m1.4.4.3.3.cmml"><mi id="alg3.l2.m1.4.4.3.3.2" xref="alg3.l2.m1.4.4.3.3.2.cmml">w</mi><mi id="alg3.l2.m1.4.4.3.3.3" xref="alg3.l2.m1.4.4.3.3.3.cmml">x</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg3.l2.m1.4b"><list id="alg3.l2.m1.4.4.4.cmml" xref="alg3.l2.m1.4.4.3"><apply id="alg3.l2.m1.2.2.1.1.cmml" xref="alg3.l2.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg3.l2.m1.2.2.1.1.1.cmml" xref="alg3.l2.m1.2.2.1.1">subscript</csymbol><ci id="alg3.l2.m1.2.2.1.1.2.cmml" xref="alg3.l2.m1.2.2.1.1.2">𝑤</ci><cn type="integer" id="alg3.l2.m1.2.2.1.1.3.cmml" xref="alg3.l2.m1.2.2.1.1.3">1</cn></apply><apply id="alg3.l2.m1.3.3.2.2.cmml" xref="alg3.l2.m1.3.3.2.2"><csymbol cd="ambiguous" id="alg3.l2.m1.3.3.2.2.1.cmml" xref="alg3.l2.m1.3.3.2.2">subscript</csymbol><ci id="alg3.l2.m1.3.3.2.2.2.cmml" xref="alg3.l2.m1.3.3.2.2.2">𝑤</ci><cn type="integer" id="alg3.l2.m1.3.3.2.2.3.cmml" xref="alg3.l2.m1.3.3.2.2.3">2</cn></apply><ci id="alg3.l2.m1.1.1.cmml" xref="alg3.l2.m1.1.1">…</ci><apply id="alg3.l2.m1.4.4.3.3.cmml" xref="alg3.l2.m1.4.4.3.3"><csymbol cd="ambiguous" id="alg3.l2.m1.4.4.3.3.1.cmml" xref="alg3.l2.m1.4.4.3.3">subscript</csymbol><ci id="alg3.l2.m1.4.4.3.3.2.cmml" xref="alg3.l2.m1.4.4.3.3.2">𝑤</ci><ci id="alg3.l2.m1.4.4.3.3.3.cmml" xref="alg3.l2.m1.4.4.3.3.3">𝑥</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l2.m1.4c">w_{1},w_{2},\ldots,w_{x}</annotation></semantics></math> be the accepted weights.

</div>
<div id="alg3.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>Let <math id="alg3.l3.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg3.l3.m1.1a"><mi id="alg3.l3.m1.1.1" xref="alg3.l3.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg3.l3.m1.1b"><ci id="alg3.l3.m1.1.1.cmml" xref="alg3.l3.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l3.m1.1c">C</annotation></semantics></math> be the opinion obtained by consensus.

</div>
<div id="alg3.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg3.l4.2" class="ltx_text ltx_font_bold">function</span> <span id="alg3.l4.3" class="ltx_text ltx_font_smallcaps">Validator_Influence_Calculation</span>(<math id="alg3.l4.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg3.l4.m1.1a"><mi id="alg3.l4.m1.1.1" xref="alg3.l4.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg3.l4.m1.1b"><ci id="alg3.l4.m1.1.1.cmml" xref="alg3.l4.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l4.m1.1c">C</annotation></semantics></math>)

</div>
<div id="alg3.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <math id="alg3.l5.m1.4" class="ltx_Math" alttext="opinions\leftarrow[O_{1},O_{2},\ldots,O_{n}]" display="inline"><semantics id="alg3.l5.m1.4a"><mrow id="alg3.l5.m1.4.4" xref="alg3.l5.m1.4.4.cmml"><mrow id="alg3.l5.m1.4.4.5" xref="alg3.l5.m1.4.4.5.cmml"><mi id="alg3.l5.m1.4.4.5.2" xref="alg3.l5.m1.4.4.5.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.3" xref="alg3.l5.m1.4.4.5.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1a" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.4" xref="alg3.l5.m1.4.4.5.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1b" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.5" xref="alg3.l5.m1.4.4.5.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1c" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.6" xref="alg3.l5.m1.4.4.5.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1d" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.7" xref="alg3.l5.m1.4.4.5.7.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1e" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.8" xref="alg3.l5.m1.4.4.5.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.4.4.5.1f" xref="alg3.l5.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l5.m1.4.4.5.9" xref="alg3.l5.m1.4.4.5.9.cmml">s</mi></mrow><mo stretchy="false" id="alg3.l5.m1.4.4.4" xref="alg3.l5.m1.4.4.4.cmml">←</mo><mrow id="alg3.l5.m1.4.4.3.3" xref="alg3.l5.m1.4.4.3.4.cmml"><mo stretchy="false" id="alg3.l5.m1.4.4.3.3.4" xref="alg3.l5.m1.4.4.3.4.cmml">[</mo><msub id="alg3.l5.m1.2.2.1.1.1" xref="alg3.l5.m1.2.2.1.1.1.cmml"><mi id="alg3.l5.m1.2.2.1.1.1.2" xref="alg3.l5.m1.2.2.1.1.1.2.cmml">O</mi><mn id="alg3.l5.m1.2.2.1.1.1.3" xref="alg3.l5.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="alg3.l5.m1.4.4.3.3.5" xref="alg3.l5.m1.4.4.3.4.cmml">,</mo><msub id="alg3.l5.m1.3.3.2.2.2" xref="alg3.l5.m1.3.3.2.2.2.cmml"><mi id="alg3.l5.m1.3.3.2.2.2.2" xref="alg3.l5.m1.3.3.2.2.2.2.cmml">O</mi><mn id="alg3.l5.m1.3.3.2.2.2.3" xref="alg3.l5.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="alg3.l5.m1.4.4.3.3.6" xref="alg3.l5.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l5.m1.1.1" xref="alg3.l5.m1.1.1.cmml">…</mi><mo id="alg3.l5.m1.4.4.3.3.7" xref="alg3.l5.m1.4.4.3.4.cmml">,</mo><msub id="alg3.l5.m1.4.4.3.3.3" xref="alg3.l5.m1.4.4.3.3.3.cmml"><mi id="alg3.l5.m1.4.4.3.3.3.2" xref="alg3.l5.m1.4.4.3.3.3.2.cmml">O</mi><mi id="alg3.l5.m1.4.4.3.3.3.3" xref="alg3.l5.m1.4.4.3.3.3.3.cmml">n</mi></msub><mo stretchy="false" id="alg3.l5.m1.4.4.3.3.8" xref="alg3.l5.m1.4.4.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l5.m1.4b"><apply id="alg3.l5.m1.4.4.cmml" xref="alg3.l5.m1.4.4"><ci id="alg3.l5.m1.4.4.4.cmml" xref="alg3.l5.m1.4.4.4">←</ci><apply id="alg3.l5.m1.4.4.5.cmml" xref="alg3.l5.m1.4.4.5"><times id="alg3.l5.m1.4.4.5.1.cmml" xref="alg3.l5.m1.4.4.5.1"></times><ci id="alg3.l5.m1.4.4.5.2.cmml" xref="alg3.l5.m1.4.4.5.2">𝑜</ci><ci id="alg3.l5.m1.4.4.5.3.cmml" xref="alg3.l5.m1.4.4.5.3">𝑝</ci><ci id="alg3.l5.m1.4.4.5.4.cmml" xref="alg3.l5.m1.4.4.5.4">𝑖</ci><ci id="alg3.l5.m1.4.4.5.5.cmml" xref="alg3.l5.m1.4.4.5.5">𝑛</ci><ci id="alg3.l5.m1.4.4.5.6.cmml" xref="alg3.l5.m1.4.4.5.6">𝑖</ci><ci id="alg3.l5.m1.4.4.5.7.cmml" xref="alg3.l5.m1.4.4.5.7">𝑜</ci><ci id="alg3.l5.m1.4.4.5.8.cmml" xref="alg3.l5.m1.4.4.5.8">𝑛</ci><ci id="alg3.l5.m1.4.4.5.9.cmml" xref="alg3.l5.m1.4.4.5.9">𝑠</ci></apply><list id="alg3.l5.m1.4.4.3.4.cmml" xref="alg3.l5.m1.4.4.3.3"><apply id="alg3.l5.m1.2.2.1.1.1.cmml" xref="alg3.l5.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg3.l5.m1.2.2.1.1.1.1.cmml" xref="alg3.l5.m1.2.2.1.1.1">subscript</csymbol><ci id="alg3.l5.m1.2.2.1.1.1.2.cmml" xref="alg3.l5.m1.2.2.1.1.1.2">𝑂</ci><cn type="integer" id="alg3.l5.m1.2.2.1.1.1.3.cmml" xref="alg3.l5.m1.2.2.1.1.1.3">1</cn></apply><apply id="alg3.l5.m1.3.3.2.2.2.cmml" xref="alg3.l5.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg3.l5.m1.3.3.2.2.2.1.cmml" xref="alg3.l5.m1.3.3.2.2.2">subscript</csymbol><ci id="alg3.l5.m1.3.3.2.2.2.2.cmml" xref="alg3.l5.m1.3.3.2.2.2.2">𝑂</ci><cn type="integer" id="alg3.l5.m1.3.3.2.2.2.3.cmml" xref="alg3.l5.m1.3.3.2.2.2.3">2</cn></apply><ci id="alg3.l5.m1.1.1.cmml" xref="alg3.l5.m1.1.1">…</ci><apply id="alg3.l5.m1.4.4.3.3.3.cmml" xref="alg3.l5.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg3.l5.m1.4.4.3.3.3.1.cmml" xref="alg3.l5.m1.4.4.3.3.3">subscript</csymbol><ci id="alg3.l5.m1.4.4.3.3.3.2.cmml" xref="alg3.l5.m1.4.4.3.3.3.2">𝑂</ci><ci id="alg3.l5.m1.4.4.3.3.3.3.cmml" xref="alg3.l5.m1.4.4.3.3.3.3">𝑛</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l5.m1.4c">opinions\leftarrow[O_{1},O_{2},\ldots,O_{n}]</annotation></semantics></math>

</div>
<div id="alg3.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <math id="alg3.l6.m1.4" class="ltx_Math" alttext="accepted\_weights\leftarrow[w_{1},w_{2},\ldots,w_{x}]" display="inline"><semantics id="alg3.l6.m1.4a"><mrow id="alg3.l6.m1.4.4" xref="alg3.l6.m1.4.4.cmml"><mrow id="alg3.l6.m1.4.4.5" xref="alg3.l6.m1.4.4.5.cmml"><mi id="alg3.l6.m1.4.4.5.2" xref="alg3.l6.m1.4.4.5.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.3" xref="alg3.l6.m1.4.4.5.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1a" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.4" xref="alg3.l6.m1.4.4.5.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1b" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.5" xref="alg3.l6.m1.4.4.5.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1c" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.6" xref="alg3.l6.m1.4.4.5.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1d" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.7" xref="alg3.l6.m1.4.4.5.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1e" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.8" xref="alg3.l6.m1.4.4.5.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1f" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.9" xref="alg3.l6.m1.4.4.5.9.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1g" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi mathvariant="normal" id="alg3.l6.m1.4.4.5.10" xref="alg3.l6.m1.4.4.5.10.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1h" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.11" xref="alg3.l6.m1.4.4.5.11.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1i" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.12" xref="alg3.l6.m1.4.4.5.12.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1j" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.13" xref="alg3.l6.m1.4.4.5.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1k" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.14" xref="alg3.l6.m1.4.4.5.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1l" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.15" xref="alg3.l6.m1.4.4.5.15.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1m" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.16" xref="alg3.l6.m1.4.4.5.16.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l6.m1.4.4.5.1n" xref="alg3.l6.m1.4.4.5.1.cmml">​</mo><mi id="alg3.l6.m1.4.4.5.17" xref="alg3.l6.m1.4.4.5.17.cmml">s</mi></mrow><mo stretchy="false" id="alg3.l6.m1.4.4.4" xref="alg3.l6.m1.4.4.4.cmml">←</mo><mrow id="alg3.l6.m1.4.4.3.3" xref="alg3.l6.m1.4.4.3.4.cmml"><mo stretchy="false" id="alg3.l6.m1.4.4.3.3.4" xref="alg3.l6.m1.4.4.3.4.cmml">[</mo><msub id="alg3.l6.m1.2.2.1.1.1" xref="alg3.l6.m1.2.2.1.1.1.cmml"><mi id="alg3.l6.m1.2.2.1.1.1.2" xref="alg3.l6.m1.2.2.1.1.1.2.cmml">w</mi><mn id="alg3.l6.m1.2.2.1.1.1.3" xref="alg3.l6.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="alg3.l6.m1.4.4.3.3.5" xref="alg3.l6.m1.4.4.3.4.cmml">,</mo><msub id="alg3.l6.m1.3.3.2.2.2" xref="alg3.l6.m1.3.3.2.2.2.cmml"><mi id="alg3.l6.m1.3.3.2.2.2.2" xref="alg3.l6.m1.3.3.2.2.2.2.cmml">w</mi><mn id="alg3.l6.m1.3.3.2.2.2.3" xref="alg3.l6.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="alg3.l6.m1.4.4.3.3.6" xref="alg3.l6.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg3.l6.m1.1.1" xref="alg3.l6.m1.1.1.cmml">…</mi><mo id="alg3.l6.m1.4.4.3.3.7" xref="alg3.l6.m1.4.4.3.4.cmml">,</mo><msub id="alg3.l6.m1.4.4.3.3.3" xref="alg3.l6.m1.4.4.3.3.3.cmml"><mi id="alg3.l6.m1.4.4.3.3.3.2" xref="alg3.l6.m1.4.4.3.3.3.2.cmml">w</mi><mi id="alg3.l6.m1.4.4.3.3.3.3" xref="alg3.l6.m1.4.4.3.3.3.3.cmml">x</mi></msub><mo stretchy="false" id="alg3.l6.m1.4.4.3.3.8" xref="alg3.l6.m1.4.4.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l6.m1.4b"><apply id="alg3.l6.m1.4.4.cmml" xref="alg3.l6.m1.4.4"><ci id="alg3.l6.m1.4.4.4.cmml" xref="alg3.l6.m1.4.4.4">←</ci><apply id="alg3.l6.m1.4.4.5.cmml" xref="alg3.l6.m1.4.4.5"><times id="alg3.l6.m1.4.4.5.1.cmml" xref="alg3.l6.m1.4.4.5.1"></times><ci id="alg3.l6.m1.4.4.5.2.cmml" xref="alg3.l6.m1.4.4.5.2">𝑎</ci><ci id="alg3.l6.m1.4.4.5.3.cmml" xref="alg3.l6.m1.4.4.5.3">𝑐</ci><ci id="alg3.l6.m1.4.4.5.4.cmml" xref="alg3.l6.m1.4.4.5.4">𝑐</ci><ci id="alg3.l6.m1.4.4.5.5.cmml" xref="alg3.l6.m1.4.4.5.5">𝑒</ci><ci id="alg3.l6.m1.4.4.5.6.cmml" xref="alg3.l6.m1.4.4.5.6">𝑝</ci><ci id="alg3.l6.m1.4.4.5.7.cmml" xref="alg3.l6.m1.4.4.5.7">𝑡</ci><ci id="alg3.l6.m1.4.4.5.8.cmml" xref="alg3.l6.m1.4.4.5.8">𝑒</ci><ci id="alg3.l6.m1.4.4.5.9.cmml" xref="alg3.l6.m1.4.4.5.9">𝑑</ci><ci id="alg3.l6.m1.4.4.5.10.cmml" xref="alg3.l6.m1.4.4.5.10">_</ci><ci id="alg3.l6.m1.4.4.5.11.cmml" xref="alg3.l6.m1.4.4.5.11">𝑤</ci><ci id="alg3.l6.m1.4.4.5.12.cmml" xref="alg3.l6.m1.4.4.5.12">𝑒</ci><ci id="alg3.l6.m1.4.4.5.13.cmml" xref="alg3.l6.m1.4.4.5.13">𝑖</ci><ci id="alg3.l6.m1.4.4.5.14.cmml" xref="alg3.l6.m1.4.4.5.14">𝑔</ci><ci id="alg3.l6.m1.4.4.5.15.cmml" xref="alg3.l6.m1.4.4.5.15">ℎ</ci><ci id="alg3.l6.m1.4.4.5.16.cmml" xref="alg3.l6.m1.4.4.5.16">𝑡</ci><ci id="alg3.l6.m1.4.4.5.17.cmml" xref="alg3.l6.m1.4.4.5.17">𝑠</ci></apply><list id="alg3.l6.m1.4.4.3.4.cmml" xref="alg3.l6.m1.4.4.3.3"><apply id="alg3.l6.m1.2.2.1.1.1.cmml" xref="alg3.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg3.l6.m1.2.2.1.1.1.1.cmml" xref="alg3.l6.m1.2.2.1.1.1">subscript</csymbol><ci id="alg3.l6.m1.2.2.1.1.1.2.cmml" xref="alg3.l6.m1.2.2.1.1.1.2">𝑤</ci><cn type="integer" id="alg3.l6.m1.2.2.1.1.1.3.cmml" xref="alg3.l6.m1.2.2.1.1.1.3">1</cn></apply><apply id="alg3.l6.m1.3.3.2.2.2.cmml" xref="alg3.l6.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg3.l6.m1.3.3.2.2.2.1.cmml" xref="alg3.l6.m1.3.3.2.2.2">subscript</csymbol><ci id="alg3.l6.m1.3.3.2.2.2.2.cmml" xref="alg3.l6.m1.3.3.2.2.2.2">𝑤</ci><cn type="integer" id="alg3.l6.m1.3.3.2.2.2.3.cmml" xref="alg3.l6.m1.3.3.2.2.2.3">2</cn></apply><ci id="alg3.l6.m1.1.1.cmml" xref="alg3.l6.m1.1.1">…</ci><apply id="alg3.l6.m1.4.4.3.3.3.cmml" xref="alg3.l6.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg3.l6.m1.4.4.3.3.3.1.cmml" xref="alg3.l6.m1.4.4.3.3.3">subscript</csymbol><ci id="alg3.l6.m1.4.4.3.3.3.2.cmml" xref="alg3.l6.m1.4.4.3.3.3.2">𝑤</ci><ci id="alg3.l6.m1.4.4.3.3.3.3.cmml" xref="alg3.l6.m1.4.4.3.3.3.3">𝑥</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m1.4c">accepted\_weights\leftarrow[w_{1},w_{2},\ldots,w_{x}]</annotation></semantics></math>

</div>
<div id="alg3.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <math id="alg3.l7.m1.1" class="ltx_Math" alttext="trust\leftarrow[]" display="inline"><semantics id="alg3.l7.m1.1a"><mrow id="alg3.l7.m1.1.1" xref="alg3.l7.m1.1.1.cmml"><mrow id="alg3.l7.m1.1.1.2" xref="alg3.l7.m1.1.1.2.cmml"><mi id="alg3.l7.m1.1.1.2.2" xref="alg3.l7.m1.1.1.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.1.1.2.1" xref="alg3.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l7.m1.1.1.2.3" xref="alg3.l7.m1.1.1.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.1.1.2.1a" xref="alg3.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l7.m1.1.1.2.4" xref="alg3.l7.m1.1.1.2.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.1.1.2.1b" xref="alg3.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l7.m1.1.1.2.5" xref="alg3.l7.m1.1.1.2.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.1.1.2.1c" xref="alg3.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l7.m1.1.1.2.6" xref="alg3.l7.m1.1.1.2.6.cmml">t</mi></mrow><mo stretchy="false" id="alg3.l7.m1.1.1.1" xref="alg3.l7.m1.1.1.1.cmml">←</mo><mrow id="alg3.l7.m1.1.1.3.2" xref="alg3.l7.m1.1.1.cmml"><mo stretchy="false" id="alg3.l7.m1.1.1.3.2.1" xref="alg3.l7.m1.1.1.3.1.cmml">[</mo><mo stretchy="false" id="alg3.l7.m1.1.1.3.2.2" xref="alg3.l7.m1.1.1.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l7.m1.1b"><apply id="alg3.l7.m1.1.1.cmml" xref="alg3.l7.m1.1.1"><ci id="alg3.l7.m1.1.1.1.cmml" xref="alg3.l7.m1.1.1.1">←</ci><apply id="alg3.l7.m1.1.1.2.cmml" xref="alg3.l7.m1.1.1.2"><times id="alg3.l7.m1.1.1.2.1.cmml" xref="alg3.l7.m1.1.1.2.1"></times><ci id="alg3.l7.m1.1.1.2.2.cmml" xref="alg3.l7.m1.1.1.2.2">𝑡</ci><ci id="alg3.l7.m1.1.1.2.3.cmml" xref="alg3.l7.m1.1.1.2.3">𝑟</ci><ci id="alg3.l7.m1.1.1.2.4.cmml" xref="alg3.l7.m1.1.1.2.4">𝑢</ci><ci id="alg3.l7.m1.1.1.2.5.cmml" xref="alg3.l7.m1.1.1.2.5">𝑠</ci><ci id="alg3.l7.m1.1.1.2.6.cmml" xref="alg3.l7.m1.1.1.2.6">𝑡</ci></apply><list id="alg3.l7.m1.1.1.3.1.cmml" xref="alg3.l7.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l7.m1.1c">trust\leftarrow[]</annotation></semantics></math>

</div>
<div id="alg3.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <math id="alg3.l8.m1.1" class="ltx_Math" alttext="residual\_trust\leftarrow[]" display="inline"><semantics id="alg3.l8.m1.1a"><mrow id="alg3.l8.m1.1.1" xref="alg3.l8.m1.1.1.cmml"><mrow id="alg3.l8.m1.1.1.2" xref="alg3.l8.m1.1.1.2.cmml"><mi id="alg3.l8.m1.1.1.2.2" xref="alg3.l8.m1.1.1.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.3" xref="alg3.l8.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1a" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.4" xref="alg3.l8.m1.1.1.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1b" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.5" xref="alg3.l8.m1.1.1.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1c" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.6" xref="alg3.l8.m1.1.1.2.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1d" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.7" xref="alg3.l8.m1.1.1.2.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1e" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.8" xref="alg3.l8.m1.1.1.2.8.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1f" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.9" xref="alg3.l8.m1.1.1.2.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1g" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg3.l8.m1.1.1.2.10" xref="alg3.l8.m1.1.1.2.10.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1h" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.11" xref="alg3.l8.m1.1.1.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1i" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.12" xref="alg3.l8.m1.1.1.2.12.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1j" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.13" xref="alg3.l8.m1.1.1.2.13.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1k" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.14" xref="alg3.l8.m1.1.1.2.14.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l8.m1.1.1.2.1l" xref="alg3.l8.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l8.m1.1.1.2.15" xref="alg3.l8.m1.1.1.2.15.cmml">t</mi></mrow><mo stretchy="false" id="alg3.l8.m1.1.1.1" xref="alg3.l8.m1.1.1.1.cmml">←</mo><mrow id="alg3.l8.m1.1.1.3.2" xref="alg3.l8.m1.1.1.cmml"><mo stretchy="false" id="alg3.l8.m1.1.1.3.2.1" xref="alg3.l8.m1.1.1.3.1.cmml">[</mo><mo stretchy="false" id="alg3.l8.m1.1.1.3.2.2" xref="alg3.l8.m1.1.1.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l8.m1.1b"><apply id="alg3.l8.m1.1.1.cmml" xref="alg3.l8.m1.1.1"><ci id="alg3.l8.m1.1.1.1.cmml" xref="alg3.l8.m1.1.1.1">←</ci><apply id="alg3.l8.m1.1.1.2.cmml" xref="alg3.l8.m1.1.1.2"><times id="alg3.l8.m1.1.1.2.1.cmml" xref="alg3.l8.m1.1.1.2.1"></times><ci id="alg3.l8.m1.1.1.2.2.cmml" xref="alg3.l8.m1.1.1.2.2">𝑟</ci><ci id="alg3.l8.m1.1.1.2.3.cmml" xref="alg3.l8.m1.1.1.2.3">𝑒</ci><ci id="alg3.l8.m1.1.1.2.4.cmml" xref="alg3.l8.m1.1.1.2.4">𝑠</ci><ci id="alg3.l8.m1.1.1.2.5.cmml" xref="alg3.l8.m1.1.1.2.5">𝑖</ci><ci id="alg3.l8.m1.1.1.2.6.cmml" xref="alg3.l8.m1.1.1.2.6">𝑑</ci><ci id="alg3.l8.m1.1.1.2.7.cmml" xref="alg3.l8.m1.1.1.2.7">𝑢</ci><ci id="alg3.l8.m1.1.1.2.8.cmml" xref="alg3.l8.m1.1.1.2.8">𝑎</ci><ci id="alg3.l8.m1.1.1.2.9.cmml" xref="alg3.l8.m1.1.1.2.9">𝑙</ci><ci id="alg3.l8.m1.1.1.2.10.cmml" xref="alg3.l8.m1.1.1.2.10">_</ci><ci id="alg3.l8.m1.1.1.2.11.cmml" xref="alg3.l8.m1.1.1.2.11">𝑡</ci><ci id="alg3.l8.m1.1.1.2.12.cmml" xref="alg3.l8.m1.1.1.2.12">𝑟</ci><ci id="alg3.l8.m1.1.1.2.13.cmml" xref="alg3.l8.m1.1.1.2.13">𝑢</ci><ci id="alg3.l8.m1.1.1.2.14.cmml" xref="alg3.l8.m1.1.1.2.14">𝑠</ci><ci id="alg3.l8.m1.1.1.2.15.cmml" xref="alg3.l8.m1.1.1.2.15">𝑡</ci></apply><list id="alg3.l8.m1.1.1.3.1.cmml" xref="alg3.l8.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l8.m1.1c">residual\_trust\leftarrow[]</annotation></semantics></math>

</div>
<div id="alg3.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>     <math id="alg3.l9.m1.1" class="ltx_Math" alttext="max\_influence\leftarrow\frac{1}{\zeta}" display="inline"><semantics id="alg3.l9.m1.1a"><mrow id="alg3.l9.m1.1.1" xref="alg3.l9.m1.1.1.cmml"><mrow id="alg3.l9.m1.1.1.2" xref="alg3.l9.m1.1.1.2.cmml"><mi id="alg3.l9.m1.1.1.2.2" xref="alg3.l9.m1.1.1.2.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.3" xref="alg3.l9.m1.1.1.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1a" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.4" xref="alg3.l9.m1.1.1.2.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1b" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg3.l9.m1.1.1.2.5" xref="alg3.l9.m1.1.1.2.5.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1c" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.6" xref="alg3.l9.m1.1.1.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1d" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.7" xref="alg3.l9.m1.1.1.2.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1e" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.8" xref="alg3.l9.m1.1.1.2.8.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1f" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.9" xref="alg3.l9.m1.1.1.2.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1g" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.10" xref="alg3.l9.m1.1.1.2.10.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1h" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.11" xref="alg3.l9.m1.1.1.2.11.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1i" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.12" xref="alg3.l9.m1.1.1.2.12.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1j" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.13" xref="alg3.l9.m1.1.1.2.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l9.m1.1.1.2.1k" xref="alg3.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg3.l9.m1.1.1.2.14" xref="alg3.l9.m1.1.1.2.14.cmml">e</mi></mrow><mo stretchy="false" id="alg3.l9.m1.1.1.1" xref="alg3.l9.m1.1.1.1.cmml">←</mo><mfrac id="alg3.l9.m1.1.1.3" xref="alg3.l9.m1.1.1.3.cmml"><mn id="alg3.l9.m1.1.1.3.2" xref="alg3.l9.m1.1.1.3.2.cmml">1</mn><mi id="alg3.l9.m1.1.1.3.3" xref="alg3.l9.m1.1.1.3.3.cmml">ζ</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="alg3.l9.m1.1b"><apply id="alg3.l9.m1.1.1.cmml" xref="alg3.l9.m1.1.1"><ci id="alg3.l9.m1.1.1.1.cmml" xref="alg3.l9.m1.1.1.1">←</ci><apply id="alg3.l9.m1.1.1.2.cmml" xref="alg3.l9.m1.1.1.2"><times id="alg3.l9.m1.1.1.2.1.cmml" xref="alg3.l9.m1.1.1.2.1"></times><ci id="alg3.l9.m1.1.1.2.2.cmml" xref="alg3.l9.m1.1.1.2.2">𝑚</ci><ci id="alg3.l9.m1.1.1.2.3.cmml" xref="alg3.l9.m1.1.1.2.3">𝑎</ci><ci id="alg3.l9.m1.1.1.2.4.cmml" xref="alg3.l9.m1.1.1.2.4">𝑥</ci><ci id="alg3.l9.m1.1.1.2.5.cmml" xref="alg3.l9.m1.1.1.2.5">_</ci><ci id="alg3.l9.m1.1.1.2.6.cmml" xref="alg3.l9.m1.1.1.2.6">𝑖</ci><ci id="alg3.l9.m1.1.1.2.7.cmml" xref="alg3.l9.m1.1.1.2.7">𝑛</ci><ci id="alg3.l9.m1.1.1.2.8.cmml" xref="alg3.l9.m1.1.1.2.8">𝑓</ci><ci id="alg3.l9.m1.1.1.2.9.cmml" xref="alg3.l9.m1.1.1.2.9">𝑙</ci><ci id="alg3.l9.m1.1.1.2.10.cmml" xref="alg3.l9.m1.1.1.2.10">𝑢</ci><ci id="alg3.l9.m1.1.1.2.11.cmml" xref="alg3.l9.m1.1.1.2.11">𝑒</ci><ci id="alg3.l9.m1.1.1.2.12.cmml" xref="alg3.l9.m1.1.1.2.12">𝑛</ci><ci id="alg3.l9.m1.1.1.2.13.cmml" xref="alg3.l9.m1.1.1.2.13">𝑐</ci><ci id="alg3.l9.m1.1.1.2.14.cmml" xref="alg3.l9.m1.1.1.2.14">𝑒</ci></apply><apply id="alg3.l9.m1.1.1.3.cmml" xref="alg3.l9.m1.1.1.3"><divide id="alg3.l9.m1.1.1.3.1.cmml" xref="alg3.l9.m1.1.1.3"></divide><cn type="integer" id="alg3.l9.m1.1.1.3.2.cmml" xref="alg3.l9.m1.1.1.3.2">1</cn><ci id="alg3.l9.m1.1.1.3.3.cmml" xref="alg3.l9.m1.1.1.3.3">𝜁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l9.m1.1c">max\_influence\leftarrow\frac{1}{\zeta}</annotation></semantics></math>

</div>
<div id="alg3.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>     <math id="alg3.l10.m1.1" class="ltx_math_unparsed" alttext="shared\_influence\leftarrow 1-(accepted\_weights.\text{length}\times max\_influence)" display="inline"><semantics id="alg3.l10.m1.1a"><mrow id="alg3.l10.m1.1b"><mi id="alg3.l10.m1.1.1">s</mi><mi id="alg3.l10.m1.1.2">h</mi><mi id="alg3.l10.m1.1.3">a</mi><mi id="alg3.l10.m1.1.4">r</mi><mi id="alg3.l10.m1.1.5">e</mi><mi id="alg3.l10.m1.1.6">d</mi><mi mathvariant="normal" id="alg3.l10.m1.1.7">_</mi><mi id="alg3.l10.m1.1.8">i</mi><mi id="alg3.l10.m1.1.9">n</mi><mi id="alg3.l10.m1.1.10">f</mi><mi id="alg3.l10.m1.1.11">l</mi><mi id="alg3.l10.m1.1.12">u</mi><mi id="alg3.l10.m1.1.13">e</mi><mi id="alg3.l10.m1.1.14">n</mi><mi id="alg3.l10.m1.1.15">c</mi><mi id="alg3.l10.m1.1.16">e</mi><mo stretchy="false" id="alg3.l10.m1.1.17">←</mo><mn id="alg3.l10.m1.1.18">1</mn><mo id="alg3.l10.m1.1.19">−</mo><mrow id="alg3.l10.m1.1.20"><mo stretchy="false" id="alg3.l10.m1.1.20.1">(</mo><mi id="alg3.l10.m1.1.20.2">a</mi><mi id="alg3.l10.m1.1.20.3">c</mi><mi id="alg3.l10.m1.1.20.4">c</mi><mi id="alg3.l10.m1.1.20.5">e</mi><mi id="alg3.l10.m1.1.20.6">p</mi><mi id="alg3.l10.m1.1.20.7">t</mi><mi id="alg3.l10.m1.1.20.8">e</mi><mi id="alg3.l10.m1.1.20.9">d</mi><mi mathvariant="normal" id="alg3.l10.m1.1.20.10">_</mi><mi id="alg3.l10.m1.1.20.11">w</mi><mi id="alg3.l10.m1.1.20.12">e</mi><mi id="alg3.l10.m1.1.20.13">i</mi><mi id="alg3.l10.m1.1.20.14">g</mi><mi id="alg3.l10.m1.1.20.15">h</mi><mi id="alg3.l10.m1.1.20.16">t</mi><mi id="alg3.l10.m1.1.20.17">s</mi><mo lspace="0em" rspace="0.167em" id="alg3.l10.m1.1.20.18">.</mo><mtext id="alg3.l10.m1.1.20.19">length</mtext><mo lspace="0.222em" rspace="0.222em" id="alg3.l10.m1.1.20.20">×</mo><mi id="alg3.l10.m1.1.20.21">m</mi><mi id="alg3.l10.m1.1.20.22">a</mi><mi id="alg3.l10.m1.1.20.23">x</mi><mi mathvariant="normal" id="alg3.l10.m1.1.20.24">_</mi><mi id="alg3.l10.m1.1.20.25">i</mi><mi id="alg3.l10.m1.1.20.26">n</mi><mi id="alg3.l10.m1.1.20.27">f</mi><mi id="alg3.l10.m1.1.20.28">l</mi><mi id="alg3.l10.m1.1.20.29">u</mi><mi id="alg3.l10.m1.1.20.30">e</mi><mi id="alg3.l10.m1.1.20.31">n</mi><mi id="alg3.l10.m1.1.20.32">c</mi><mi id="alg3.l10.m1.1.20.33">e</mi><mo stretchy="false" id="alg3.l10.m1.1.20.34">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg3.l10.m1.1c">shared\_influence\leftarrow 1-(accepted\_weights.\text{length}\times max\_influence)</annotation></semantics></math>

</div>
<div id="alg3.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>     <span id="alg3.l11.2" class="ltx_text ltx_font_bold">for</span> <math id="alg3.l11.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="alg3.l11.m1.1a"><mi id="alg3.l11.m1.1.1" xref="alg3.l11.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg3.l11.m1.1b"><ci id="alg3.l11.m1.1.1.cmml" xref="alg3.l11.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l11.m1.1c">y</annotation></semantics></math> <span id="alg3.l11.3" class="ltx_text ltx_font_bold">in</span> <math id="alg3.l11.m2.1" class="ltx_Math" alttext="opinions" display="inline"><semantics id="alg3.l11.m2.1a"><mrow id="alg3.l11.m2.1.1" xref="alg3.l11.m2.1.1.cmml"><mi id="alg3.l11.m2.1.1.2" xref="alg3.l11.m2.1.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.3" xref="alg3.l11.m2.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1a" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.4" xref="alg3.l11.m2.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1b" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.5" xref="alg3.l11.m2.1.1.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1c" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.6" xref="alg3.l11.m2.1.1.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1d" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.7" xref="alg3.l11.m2.1.1.7.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1e" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.8" xref="alg3.l11.m2.1.1.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l11.m2.1.1.1f" xref="alg3.l11.m2.1.1.1.cmml">​</mo><mi id="alg3.l11.m2.1.1.9" xref="alg3.l11.m2.1.1.9.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg3.l11.m2.1b"><apply id="alg3.l11.m2.1.1.cmml" xref="alg3.l11.m2.1.1"><times id="alg3.l11.m2.1.1.1.cmml" xref="alg3.l11.m2.1.1.1"></times><ci id="alg3.l11.m2.1.1.2.cmml" xref="alg3.l11.m2.1.1.2">𝑜</ci><ci id="alg3.l11.m2.1.1.3.cmml" xref="alg3.l11.m2.1.1.3">𝑝</ci><ci id="alg3.l11.m2.1.1.4.cmml" xref="alg3.l11.m2.1.1.4">𝑖</ci><ci id="alg3.l11.m2.1.1.5.cmml" xref="alg3.l11.m2.1.1.5">𝑛</ci><ci id="alg3.l11.m2.1.1.6.cmml" xref="alg3.l11.m2.1.1.6">𝑖</ci><ci id="alg3.l11.m2.1.1.7.cmml" xref="alg3.l11.m2.1.1.7">𝑜</ci><ci id="alg3.l11.m2.1.1.8.cmml" xref="alg3.l11.m2.1.1.8">𝑛</ci><ci id="alg3.l11.m2.1.1.9.cmml" xref="alg3.l11.m2.1.1.9">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l11.m2.1c">opinions</annotation></semantics></math> <span id="alg3.l11.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg3.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>         <math id="alg3.l12.m1.2" class="ltx_Math" alttext="t\leftarrow\text{trust\_calculation}(C,y)" display="inline"><semantics id="alg3.l12.m1.2a"><mrow id="alg3.l12.m1.2.3" xref="alg3.l12.m1.2.3.cmml"><mi id="alg3.l12.m1.2.3.2" xref="alg3.l12.m1.2.3.2.cmml">t</mi><mo stretchy="false" id="alg3.l12.m1.2.3.1" xref="alg3.l12.m1.2.3.1.cmml">←</mo><mrow id="alg3.l12.m1.2.3.3" xref="alg3.l12.m1.2.3.3.cmml"><mtext id="alg3.l12.m1.2.3.3.2" xref="alg3.l12.m1.2.3.3.2a.cmml">trust_calculation</mtext><mo lspace="0em" rspace="0em" id="alg3.l12.m1.2.3.3.1" xref="alg3.l12.m1.2.3.3.1.cmml">​</mo><mrow id="alg3.l12.m1.2.3.3.3.2" xref="alg3.l12.m1.2.3.3.3.1.cmml"><mo stretchy="false" id="alg3.l12.m1.2.3.3.3.2.1" xref="alg3.l12.m1.2.3.3.3.1.cmml">(</mo><mi id="alg3.l12.m1.1.1" xref="alg3.l12.m1.1.1.cmml">C</mi><mo id="alg3.l12.m1.2.3.3.3.2.2" xref="alg3.l12.m1.2.3.3.3.1.cmml">,</mo><mi id="alg3.l12.m1.2.2" xref="alg3.l12.m1.2.2.cmml">y</mi><mo stretchy="false" id="alg3.l12.m1.2.3.3.3.2.3" xref="alg3.l12.m1.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l12.m1.2b"><apply id="alg3.l12.m1.2.3.cmml" xref="alg3.l12.m1.2.3"><ci id="alg3.l12.m1.2.3.1.cmml" xref="alg3.l12.m1.2.3.1">←</ci><ci id="alg3.l12.m1.2.3.2.cmml" xref="alg3.l12.m1.2.3.2">𝑡</ci><apply id="alg3.l12.m1.2.3.3.cmml" xref="alg3.l12.m1.2.3.3"><times id="alg3.l12.m1.2.3.3.1.cmml" xref="alg3.l12.m1.2.3.3.1"></times><ci id="alg3.l12.m1.2.3.3.2a.cmml" xref="alg3.l12.m1.2.3.3.2"><mtext id="alg3.l12.m1.2.3.3.2.cmml" xref="alg3.l12.m1.2.3.3.2">trust_calculation</mtext></ci><interval closure="open" id="alg3.l12.m1.2.3.3.3.1.cmml" xref="alg3.l12.m1.2.3.3.3.2"><ci id="alg3.l12.m1.1.1.cmml" xref="alg3.l12.m1.1.1">𝐶</ci><ci id="alg3.l12.m1.2.2.cmml" xref="alg3.l12.m1.2.2">𝑦</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m1.2c">t\leftarrow\text{trust\_calculation}(C,y)</annotation></semantics></math>

</div>
<div id="alg3.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>         <math id="alg3.l13.m1.3" class="ltx_Math" alttext="trust.\text{add}(t)" display="inline"><semantics id="alg3.l13.m1.3a"><mrow id="alg3.l13.m1.3.3.2" xref="alg3.l13.m1.3.3.3.cmml"><mrow id="alg3.l13.m1.2.2.1.1" xref="alg3.l13.m1.2.2.1.1.cmml"><mi id="alg3.l13.m1.2.2.1.1.2" xref="alg3.l13.m1.2.2.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.2.2.1.1.1" xref="alg3.l13.m1.2.2.1.1.1.cmml">​</mo><mi id="alg3.l13.m1.2.2.1.1.3" xref="alg3.l13.m1.2.2.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.2.2.1.1.1a" xref="alg3.l13.m1.2.2.1.1.1.cmml">​</mo><mi id="alg3.l13.m1.2.2.1.1.4" xref="alg3.l13.m1.2.2.1.1.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.2.2.1.1.1b" xref="alg3.l13.m1.2.2.1.1.1.cmml">​</mo><mi id="alg3.l13.m1.2.2.1.1.5" xref="alg3.l13.m1.2.2.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.2.2.1.1.1c" xref="alg3.l13.m1.2.2.1.1.1.cmml">​</mo><mi id="alg3.l13.m1.2.2.1.1.6" xref="alg3.l13.m1.2.2.1.1.6.cmml">t</mi></mrow><mo lspace="0em" rspace="0.167em" id="alg3.l13.m1.3.3.2.3" xref="alg3.l13.m1.3.3.3a.cmml">.</mo><mrow id="alg3.l13.m1.3.3.2.2" xref="alg3.l13.m1.3.3.2.2.cmml"><mtext id="alg3.l13.m1.3.3.2.2.2" xref="alg3.l13.m1.3.3.2.2.2a.cmml">add</mtext><mo lspace="0em" rspace="0em" id="alg3.l13.m1.3.3.2.2.1" xref="alg3.l13.m1.3.3.2.2.1.cmml">​</mo><mrow id="alg3.l13.m1.3.3.2.2.3.2" xref="alg3.l13.m1.3.3.2.2.cmml"><mo stretchy="false" id="alg3.l13.m1.3.3.2.2.3.2.1" xref="alg3.l13.m1.3.3.2.2.cmml">(</mo><mi id="alg3.l13.m1.1.1" xref="alg3.l13.m1.1.1.cmml">t</mi><mo stretchy="false" id="alg3.l13.m1.3.3.2.2.3.2.2" xref="alg3.l13.m1.3.3.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l13.m1.3b"><apply id="alg3.l13.m1.3.3.3.cmml" xref="alg3.l13.m1.3.3.2"><csymbol cd="ambiguous" id="alg3.l13.m1.3.3.3a.cmml" xref="alg3.l13.m1.3.3.2.3">formulae-sequence</csymbol><apply id="alg3.l13.m1.2.2.1.1.cmml" xref="alg3.l13.m1.2.2.1.1"><times id="alg3.l13.m1.2.2.1.1.1.cmml" xref="alg3.l13.m1.2.2.1.1.1"></times><ci id="alg3.l13.m1.2.2.1.1.2.cmml" xref="alg3.l13.m1.2.2.1.1.2">𝑡</ci><ci id="alg3.l13.m1.2.2.1.1.3.cmml" xref="alg3.l13.m1.2.2.1.1.3">𝑟</ci><ci id="alg3.l13.m1.2.2.1.1.4.cmml" xref="alg3.l13.m1.2.2.1.1.4">𝑢</ci><ci id="alg3.l13.m1.2.2.1.1.5.cmml" xref="alg3.l13.m1.2.2.1.1.5">𝑠</ci><ci id="alg3.l13.m1.2.2.1.1.6.cmml" xref="alg3.l13.m1.2.2.1.1.6">𝑡</ci></apply><apply id="alg3.l13.m1.3.3.2.2.cmml" xref="alg3.l13.m1.3.3.2.2"><times id="alg3.l13.m1.3.3.2.2.1.cmml" xref="alg3.l13.m1.3.3.2.2.1"></times><ci id="alg3.l13.m1.3.3.2.2.2a.cmml" xref="alg3.l13.m1.3.3.2.2.2"><mtext id="alg3.l13.m1.3.3.2.2.2.cmml" xref="alg3.l13.m1.3.3.2.2.2">add</mtext></ci><ci id="alg3.l13.m1.1.1.cmml" xref="alg3.l13.m1.1.1">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l13.m1.3c">trust.\text{add}(t)</annotation></semantics></math>

</div>
<div id="alg3.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>     <span id="alg3.l14.2" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l14.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>     <math id="alg3.l15.m1.1" class="ltx_Math" alttext="influence\leftarrow\text{standardization}(trust)" display="inline"><semantics id="alg3.l15.m1.1a"><mrow id="alg3.l15.m1.1.1" xref="alg3.l15.m1.1.1.cmml"><mrow id="alg3.l15.m1.1.1.3" xref="alg3.l15.m1.1.1.3.cmml"><mi id="alg3.l15.m1.1.1.3.2" xref="alg3.l15.m1.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.3" xref="alg3.l15.m1.1.1.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1a" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.4" xref="alg3.l15.m1.1.1.3.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1b" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.5" xref="alg3.l15.m1.1.1.3.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1c" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.6" xref="alg3.l15.m1.1.1.3.6.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1d" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.7" xref="alg3.l15.m1.1.1.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1e" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.8" xref="alg3.l15.m1.1.1.3.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1f" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.9" xref="alg3.l15.m1.1.1.3.9.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.3.1g" xref="alg3.l15.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.3.10" xref="alg3.l15.m1.1.1.3.10.cmml">e</mi></mrow><mo stretchy="false" id="alg3.l15.m1.1.1.2" xref="alg3.l15.m1.1.1.2.cmml">←</mo><mrow id="alg3.l15.m1.1.1.1" xref="alg3.l15.m1.1.1.1.cmml"><mtext id="alg3.l15.m1.1.1.1.3" xref="alg3.l15.m1.1.1.1.3a.cmml">standardization</mtext><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.1.2" xref="alg3.l15.m1.1.1.1.2.cmml">​</mo><mrow id="alg3.l15.m1.1.1.1.1.1" xref="alg3.l15.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg3.l15.m1.1.1.1.1.1.2" xref="alg3.l15.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg3.l15.m1.1.1.1.1.1.1" xref="alg3.l15.m1.1.1.1.1.1.1.cmml"><mi id="alg3.l15.m1.1.1.1.1.1.1.2" xref="alg3.l15.m1.1.1.1.1.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.1.1.1.1.1" xref="alg3.l15.m1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.1.1.1.1.3" xref="alg3.l15.m1.1.1.1.1.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.1.1.1.1.1a" xref="alg3.l15.m1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.1.1.1.1.4" xref="alg3.l15.m1.1.1.1.1.1.1.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.1.1.1.1.1b" xref="alg3.l15.m1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.1.1.1.1.5" xref="alg3.l15.m1.1.1.1.1.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l15.m1.1.1.1.1.1.1.1c" xref="alg3.l15.m1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg3.l15.m1.1.1.1.1.1.1.6" xref="alg3.l15.m1.1.1.1.1.1.1.6.cmml">t</mi></mrow><mo stretchy="false" id="alg3.l15.m1.1.1.1.1.1.3" xref="alg3.l15.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l15.m1.1b"><apply id="alg3.l15.m1.1.1.cmml" xref="alg3.l15.m1.1.1"><ci id="alg3.l15.m1.1.1.2.cmml" xref="alg3.l15.m1.1.1.2">←</ci><apply id="alg3.l15.m1.1.1.3.cmml" xref="alg3.l15.m1.1.1.3"><times id="alg3.l15.m1.1.1.3.1.cmml" xref="alg3.l15.m1.1.1.3.1"></times><ci id="alg3.l15.m1.1.1.3.2.cmml" xref="alg3.l15.m1.1.1.3.2">𝑖</ci><ci id="alg3.l15.m1.1.1.3.3.cmml" xref="alg3.l15.m1.1.1.3.3">𝑛</ci><ci id="alg3.l15.m1.1.1.3.4.cmml" xref="alg3.l15.m1.1.1.3.4">𝑓</ci><ci id="alg3.l15.m1.1.1.3.5.cmml" xref="alg3.l15.m1.1.1.3.5">𝑙</ci><ci id="alg3.l15.m1.1.1.3.6.cmml" xref="alg3.l15.m1.1.1.3.6">𝑢</ci><ci id="alg3.l15.m1.1.1.3.7.cmml" xref="alg3.l15.m1.1.1.3.7">𝑒</ci><ci id="alg3.l15.m1.1.1.3.8.cmml" xref="alg3.l15.m1.1.1.3.8">𝑛</ci><ci id="alg3.l15.m1.1.1.3.9.cmml" xref="alg3.l15.m1.1.1.3.9">𝑐</ci><ci id="alg3.l15.m1.1.1.3.10.cmml" xref="alg3.l15.m1.1.1.3.10">𝑒</ci></apply><apply id="alg3.l15.m1.1.1.1.cmml" xref="alg3.l15.m1.1.1.1"><times id="alg3.l15.m1.1.1.1.2.cmml" xref="alg3.l15.m1.1.1.1.2"></times><ci id="alg3.l15.m1.1.1.1.3a.cmml" xref="alg3.l15.m1.1.1.1.3"><mtext id="alg3.l15.m1.1.1.1.3.cmml" xref="alg3.l15.m1.1.1.1.3">standardization</mtext></ci><apply id="alg3.l15.m1.1.1.1.1.1.1.cmml" xref="alg3.l15.m1.1.1.1.1.1"><times id="alg3.l15.m1.1.1.1.1.1.1.1.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.1"></times><ci id="alg3.l15.m1.1.1.1.1.1.1.2.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.2">𝑡</ci><ci id="alg3.l15.m1.1.1.1.1.1.1.3.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.3">𝑟</ci><ci id="alg3.l15.m1.1.1.1.1.1.1.4.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.4">𝑢</ci><ci id="alg3.l15.m1.1.1.1.1.1.1.5.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.5">𝑠</ci><ci id="alg3.l15.m1.1.1.1.1.1.1.6.cmml" xref="alg3.l15.m1.1.1.1.1.1.1.6">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l15.m1.1c">influence\leftarrow\text{standardization}(trust)</annotation></semantics></math>

</div>
<div id="alg3.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>     <span id="alg3.l16.2" class="ltx_text ltx_font_bold">for</span> <math id="alg3.l16.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="alg3.l16.m1.1a"><mi id="alg3.l16.m1.1.1" xref="alg3.l16.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg3.l16.m1.1b"><ci id="alg3.l16.m1.1.1.cmml" xref="alg3.l16.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l16.m1.1c">y</annotation></semantics></math> <span id="alg3.l16.3" class="ltx_text ltx_font_bold">in</span> <math id="alg3.l16.m2.1" class="ltx_Math" alttext="accepted\_weights" display="inline"><semantics id="alg3.l16.m2.1a"><mrow id="alg3.l16.m2.1.1" xref="alg3.l16.m2.1.1.cmml"><mi id="alg3.l16.m2.1.1.2" xref="alg3.l16.m2.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.3" xref="alg3.l16.m2.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1a" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.4" xref="alg3.l16.m2.1.1.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1b" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.5" xref="alg3.l16.m2.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1c" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.6" xref="alg3.l16.m2.1.1.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1d" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.7" xref="alg3.l16.m2.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1e" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.8" xref="alg3.l16.m2.1.1.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1f" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.9" xref="alg3.l16.m2.1.1.9.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1g" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi mathvariant="normal" id="alg3.l16.m2.1.1.10" xref="alg3.l16.m2.1.1.10.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1h" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.11" xref="alg3.l16.m2.1.1.11.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1i" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.12" xref="alg3.l16.m2.1.1.12.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1j" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.13" xref="alg3.l16.m2.1.1.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1k" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.14" xref="alg3.l16.m2.1.1.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1l" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.15" xref="alg3.l16.m2.1.1.15.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1m" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.16" xref="alg3.l16.m2.1.1.16.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l16.m2.1.1.1n" xref="alg3.l16.m2.1.1.1.cmml">​</mo><mi id="alg3.l16.m2.1.1.17" xref="alg3.l16.m2.1.1.17.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg3.l16.m2.1b"><apply id="alg3.l16.m2.1.1.cmml" xref="alg3.l16.m2.1.1"><times id="alg3.l16.m2.1.1.1.cmml" xref="alg3.l16.m2.1.1.1"></times><ci id="alg3.l16.m2.1.1.2.cmml" xref="alg3.l16.m2.1.1.2">𝑎</ci><ci id="alg3.l16.m2.1.1.3.cmml" xref="alg3.l16.m2.1.1.3">𝑐</ci><ci id="alg3.l16.m2.1.1.4.cmml" xref="alg3.l16.m2.1.1.4">𝑐</ci><ci id="alg3.l16.m2.1.1.5.cmml" xref="alg3.l16.m2.1.1.5">𝑒</ci><ci id="alg3.l16.m2.1.1.6.cmml" xref="alg3.l16.m2.1.1.6">𝑝</ci><ci id="alg3.l16.m2.1.1.7.cmml" xref="alg3.l16.m2.1.1.7">𝑡</ci><ci id="alg3.l16.m2.1.1.8.cmml" xref="alg3.l16.m2.1.1.8">𝑒</ci><ci id="alg3.l16.m2.1.1.9.cmml" xref="alg3.l16.m2.1.1.9">𝑑</ci><ci id="alg3.l16.m2.1.1.10.cmml" xref="alg3.l16.m2.1.1.10">_</ci><ci id="alg3.l16.m2.1.1.11.cmml" xref="alg3.l16.m2.1.1.11">𝑤</ci><ci id="alg3.l16.m2.1.1.12.cmml" xref="alg3.l16.m2.1.1.12">𝑒</ci><ci id="alg3.l16.m2.1.1.13.cmml" xref="alg3.l16.m2.1.1.13">𝑖</ci><ci id="alg3.l16.m2.1.1.14.cmml" xref="alg3.l16.m2.1.1.14">𝑔</ci><ci id="alg3.l16.m2.1.1.15.cmml" xref="alg3.l16.m2.1.1.15">ℎ</ci><ci id="alg3.l16.m2.1.1.16.cmml" xref="alg3.l16.m2.1.1.16">𝑡</ci><ci id="alg3.l16.m2.1.1.17.cmml" xref="alg3.l16.m2.1.1.17">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l16.m2.1c">accepted\_weights</annotation></semantics></math> <span id="alg3.l16.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg3.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>         <math id="alg3.l17.m1.2" class="ltx_Math" alttext="influence[\text{weights.index}[y]]\leftarrow\text{max\_influence}" display="inline"><semantics id="alg3.l17.m1.2a"><mrow id="alg3.l17.m1.2.2" xref="alg3.l17.m1.2.2.cmml"><mrow id="alg3.l17.m1.2.2.1" xref="alg3.l17.m1.2.2.1.cmml"><mi id="alg3.l17.m1.2.2.1.3" xref="alg3.l17.m1.2.2.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.4" xref="alg3.l17.m1.2.2.1.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2a" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.5" xref="alg3.l17.m1.2.2.1.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2b" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.6" xref="alg3.l17.m1.2.2.1.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2c" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.7" xref="alg3.l17.m1.2.2.1.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2d" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.8" xref="alg3.l17.m1.2.2.1.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2e" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.9" xref="alg3.l17.m1.2.2.1.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2f" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.10" xref="alg3.l17.m1.2.2.1.10.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2g" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mi id="alg3.l17.m1.2.2.1.11" xref="alg3.l17.m1.2.2.1.11.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.2h" xref="alg3.l17.m1.2.2.1.2.cmml">​</mo><mrow id="alg3.l17.m1.2.2.1.1.1" xref="alg3.l17.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="alg3.l17.m1.2.2.1.1.1.2" xref="alg3.l17.m1.2.2.1.1.2.1.cmml">[</mo><mrow id="alg3.l17.m1.2.2.1.1.1.1" xref="alg3.l17.m1.2.2.1.1.1.1.cmml"><mtext id="alg3.l17.m1.2.2.1.1.1.1.2" xref="alg3.l17.m1.2.2.1.1.1.1.2a.cmml">weights.index</mtext><mo lspace="0em" rspace="0em" id="alg3.l17.m1.2.2.1.1.1.1.1" xref="alg3.l17.m1.2.2.1.1.1.1.1.cmml">​</mo><mrow id="alg3.l17.m1.2.2.1.1.1.1.3.2" xref="alg3.l17.m1.2.2.1.1.1.1.3.1.cmml"><mo stretchy="false" id="alg3.l17.m1.2.2.1.1.1.1.3.2.1" xref="alg3.l17.m1.2.2.1.1.1.1.3.1.1.cmml">[</mo><mi id="alg3.l17.m1.1.1" xref="alg3.l17.m1.1.1.cmml">y</mi><mo stretchy="false" id="alg3.l17.m1.2.2.1.1.1.1.3.2.2" xref="alg3.l17.m1.2.2.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg3.l17.m1.2.2.1.1.1.3" xref="alg3.l17.m1.2.2.1.1.2.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg3.l17.m1.2.2.2" xref="alg3.l17.m1.2.2.2.cmml">←</mo><mtext id="alg3.l17.m1.2.2.3" xref="alg3.l17.m1.2.2.3a.cmml">max_influence</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg3.l17.m1.2b"><apply id="alg3.l17.m1.2.2.cmml" xref="alg3.l17.m1.2.2"><ci id="alg3.l17.m1.2.2.2.cmml" xref="alg3.l17.m1.2.2.2">←</ci><apply id="alg3.l17.m1.2.2.1.cmml" xref="alg3.l17.m1.2.2.1"><times id="alg3.l17.m1.2.2.1.2.cmml" xref="alg3.l17.m1.2.2.1.2"></times><ci id="alg3.l17.m1.2.2.1.3.cmml" xref="alg3.l17.m1.2.2.1.3">𝑖</ci><ci id="alg3.l17.m1.2.2.1.4.cmml" xref="alg3.l17.m1.2.2.1.4">𝑛</ci><ci id="alg3.l17.m1.2.2.1.5.cmml" xref="alg3.l17.m1.2.2.1.5">𝑓</ci><ci id="alg3.l17.m1.2.2.1.6.cmml" xref="alg3.l17.m1.2.2.1.6">𝑙</ci><ci id="alg3.l17.m1.2.2.1.7.cmml" xref="alg3.l17.m1.2.2.1.7">𝑢</ci><ci id="alg3.l17.m1.2.2.1.8.cmml" xref="alg3.l17.m1.2.2.1.8">𝑒</ci><ci id="alg3.l17.m1.2.2.1.9.cmml" xref="alg3.l17.m1.2.2.1.9">𝑛</ci><ci id="alg3.l17.m1.2.2.1.10.cmml" xref="alg3.l17.m1.2.2.1.10">𝑐</ci><ci id="alg3.l17.m1.2.2.1.11.cmml" xref="alg3.l17.m1.2.2.1.11">𝑒</ci><apply id="alg3.l17.m1.2.2.1.1.2.cmml" xref="alg3.l17.m1.2.2.1.1.1"><csymbol cd="latexml" id="alg3.l17.m1.2.2.1.1.2.1.cmml" xref="alg3.l17.m1.2.2.1.1.1.2">delimited-[]</csymbol><apply id="alg3.l17.m1.2.2.1.1.1.1.cmml" xref="alg3.l17.m1.2.2.1.1.1.1"><times id="alg3.l17.m1.2.2.1.1.1.1.1.cmml" xref="alg3.l17.m1.2.2.1.1.1.1.1"></times><ci id="alg3.l17.m1.2.2.1.1.1.1.2a.cmml" xref="alg3.l17.m1.2.2.1.1.1.1.2"><mtext id="alg3.l17.m1.2.2.1.1.1.1.2.cmml" xref="alg3.l17.m1.2.2.1.1.1.1.2">weights.index</mtext></ci><apply id="alg3.l17.m1.2.2.1.1.1.1.3.1.cmml" xref="alg3.l17.m1.2.2.1.1.1.1.3.2"><csymbol cd="latexml" id="alg3.l17.m1.2.2.1.1.1.1.3.1.1.cmml" xref="alg3.l17.m1.2.2.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="alg3.l17.m1.1.1.cmml" xref="alg3.l17.m1.1.1">𝑦</ci></apply></apply></apply></apply><ci id="alg3.l17.m1.2.2.3a.cmml" xref="alg3.l17.m1.2.2.3"><mtext id="alg3.l17.m1.2.2.3.cmml" xref="alg3.l17.m1.2.2.3">max_influence</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l17.m1.2c">influence[\text{weights.index}[y]]\leftarrow\text{max\_influence}</annotation></semantics></math>

</div>
<div id="alg3.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>     <span id="alg3.l18.2" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l18.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>     <span id="alg3.l19.2" class="ltx_text ltx_font_bold">for</span> <math id="alg3.l19.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="alg3.l19.m1.1a"><mi id="alg3.l19.m1.1.1" xref="alg3.l19.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg3.l19.m1.1b"><ci id="alg3.l19.m1.1.1.cmml" xref="alg3.l19.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l19.m1.1c">y</annotation></semantics></math> <span id="alg3.l19.3" class="ltx_text ltx_font_bold">in</span> <math id="alg3.l19.m2.1" class="ltx_Math" alttext="trust" display="inline"><semantics id="alg3.l19.m2.1a"><mrow id="alg3.l19.m2.1.1" xref="alg3.l19.m2.1.1.cmml"><mi id="alg3.l19.m2.1.1.2" xref="alg3.l19.m2.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l19.m2.1.1.1" xref="alg3.l19.m2.1.1.1.cmml">​</mo><mi id="alg3.l19.m2.1.1.3" xref="alg3.l19.m2.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg3.l19.m2.1.1.1a" xref="alg3.l19.m2.1.1.1.cmml">​</mo><mi id="alg3.l19.m2.1.1.4" xref="alg3.l19.m2.1.1.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg3.l19.m2.1.1.1b" xref="alg3.l19.m2.1.1.1.cmml">​</mo><mi id="alg3.l19.m2.1.1.5" xref="alg3.l19.m2.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l19.m2.1.1.1c" xref="alg3.l19.m2.1.1.1.cmml">​</mo><mi id="alg3.l19.m2.1.1.6" xref="alg3.l19.m2.1.1.6.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg3.l19.m2.1b"><apply id="alg3.l19.m2.1.1.cmml" xref="alg3.l19.m2.1.1"><times id="alg3.l19.m2.1.1.1.cmml" xref="alg3.l19.m2.1.1.1"></times><ci id="alg3.l19.m2.1.1.2.cmml" xref="alg3.l19.m2.1.1.2">𝑡</ci><ci id="alg3.l19.m2.1.1.3.cmml" xref="alg3.l19.m2.1.1.3">𝑟</ci><ci id="alg3.l19.m2.1.1.4.cmml" xref="alg3.l19.m2.1.1.4">𝑢</ci><ci id="alg3.l19.m2.1.1.5.cmml" xref="alg3.l19.m2.1.1.5">𝑠</ci><ci id="alg3.l19.m2.1.1.6.cmml" xref="alg3.l19.m2.1.1.6">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l19.m2.1c">trust</annotation></semantics></math> <span id="alg3.l19.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg3.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span>         <math id="alg3.l20.m1.1" class="ltx_Math" alttext="t1\leftarrow y\times\text{residual\_influence}" display="inline"><semantics id="alg3.l20.m1.1a"><mrow id="alg3.l20.m1.1.1" xref="alg3.l20.m1.1.1.cmml"><mrow id="alg3.l20.m1.1.1.2" xref="alg3.l20.m1.1.1.2.cmml"><mi id="alg3.l20.m1.1.1.2.2" xref="alg3.l20.m1.1.1.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l20.m1.1.1.2.1" xref="alg3.l20.m1.1.1.2.1.cmml">​</mo><mn id="alg3.l20.m1.1.1.2.3" xref="alg3.l20.m1.1.1.2.3.cmml">1</mn></mrow><mo stretchy="false" id="alg3.l20.m1.1.1.1" xref="alg3.l20.m1.1.1.1.cmml">←</mo><mrow id="alg3.l20.m1.1.1.3" xref="alg3.l20.m1.1.1.3.cmml"><mi id="alg3.l20.m1.1.1.3.2" xref="alg3.l20.m1.1.1.3.2.cmml">y</mi><mo lspace="0.222em" rspace="0.222em" id="alg3.l20.m1.1.1.3.1" xref="alg3.l20.m1.1.1.3.1.cmml">×</mo><mtext id="alg3.l20.m1.1.1.3.3" xref="alg3.l20.m1.1.1.3.3a.cmml">residual_influence</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l20.m1.1b"><apply id="alg3.l20.m1.1.1.cmml" xref="alg3.l20.m1.1.1"><ci id="alg3.l20.m1.1.1.1.cmml" xref="alg3.l20.m1.1.1.1">←</ci><apply id="alg3.l20.m1.1.1.2.cmml" xref="alg3.l20.m1.1.1.2"><times id="alg3.l20.m1.1.1.2.1.cmml" xref="alg3.l20.m1.1.1.2.1"></times><ci id="alg3.l20.m1.1.1.2.2.cmml" xref="alg3.l20.m1.1.1.2.2">𝑡</ci><cn type="integer" id="alg3.l20.m1.1.1.2.3.cmml" xref="alg3.l20.m1.1.1.2.3">1</cn></apply><apply id="alg3.l20.m1.1.1.3.cmml" xref="alg3.l20.m1.1.1.3"><times id="alg3.l20.m1.1.1.3.1.cmml" xref="alg3.l20.m1.1.1.3.1"></times><ci id="alg3.l20.m1.1.1.3.2.cmml" xref="alg3.l20.m1.1.1.3.2">𝑦</ci><ci id="alg3.l20.m1.1.1.3.3a.cmml" xref="alg3.l20.m1.1.1.3.3"><mtext id="alg3.l20.m1.1.1.3.3.cmml" xref="alg3.l20.m1.1.1.3.3">residual_influence</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l20.m1.1c">t1\leftarrow y\times\text{residual\_influence}</annotation></semantics></math>

</div>
<div id="alg3.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span>         <math id="alg3.l21.m1.2" class="ltx_Math" alttext="\text{shared\_influence}.\text{add}(t1)" display="inline"><semantics id="alg3.l21.m1.2a"><mrow id="alg3.l21.m1.2.2.1" xref="alg3.l21.m1.2.2.2.cmml"><mtext id="alg3.l21.m1.1.1" xref="alg3.l21.m1.1.1a.cmml">shared_influence</mtext><mo lspace="0em" rspace="0.167em" id="alg3.l21.m1.2.2.1.2" xref="alg3.l21.m1.2.2.2a.cmml">.</mo><mrow id="alg3.l21.m1.2.2.1.1" xref="alg3.l21.m1.2.2.1.1.cmml"><mtext id="alg3.l21.m1.2.2.1.1.3" xref="alg3.l21.m1.2.2.1.1.3a.cmml">add</mtext><mo lspace="0em" rspace="0em" id="alg3.l21.m1.2.2.1.1.2" xref="alg3.l21.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg3.l21.m1.2.2.1.1.1.1" xref="alg3.l21.m1.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="alg3.l21.m1.2.2.1.1.1.1.2" xref="alg3.l21.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="alg3.l21.m1.2.2.1.1.1.1.1" xref="alg3.l21.m1.2.2.1.1.1.1.1.cmml"><mi id="alg3.l21.m1.2.2.1.1.1.1.1.2" xref="alg3.l21.m1.2.2.1.1.1.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l21.m1.2.2.1.1.1.1.1.1" xref="alg3.l21.m1.2.2.1.1.1.1.1.1.cmml">​</mo><mn id="alg3.l21.m1.2.2.1.1.1.1.1.3" xref="alg3.l21.m1.2.2.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="alg3.l21.m1.2.2.1.1.1.1.3" xref="alg3.l21.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l21.m1.2b"><apply id="alg3.l21.m1.2.2.2.cmml" xref="alg3.l21.m1.2.2.1"><csymbol cd="ambiguous" id="alg3.l21.m1.2.2.2a.cmml" xref="alg3.l21.m1.2.2.1.2">formulae-sequence</csymbol><ci id="alg3.l21.m1.1.1a.cmml" xref="alg3.l21.m1.1.1"><mtext id="alg3.l21.m1.1.1.cmml" xref="alg3.l21.m1.1.1">shared_influence</mtext></ci><apply id="alg3.l21.m1.2.2.1.1.cmml" xref="alg3.l21.m1.2.2.1.1"><times id="alg3.l21.m1.2.2.1.1.2.cmml" xref="alg3.l21.m1.2.2.1.1.2"></times><ci id="alg3.l21.m1.2.2.1.1.3a.cmml" xref="alg3.l21.m1.2.2.1.1.3"><mtext id="alg3.l21.m1.2.2.1.1.3.cmml" xref="alg3.l21.m1.2.2.1.1.3">add</mtext></ci><apply id="alg3.l21.m1.2.2.1.1.1.1.1.cmml" xref="alg3.l21.m1.2.2.1.1.1.1"><times id="alg3.l21.m1.2.2.1.1.1.1.1.1.cmml" xref="alg3.l21.m1.2.2.1.1.1.1.1.1"></times><ci id="alg3.l21.m1.2.2.1.1.1.1.1.2.cmml" xref="alg3.l21.m1.2.2.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="alg3.l21.m1.2.2.1.1.1.1.1.3.cmml" xref="alg3.l21.m1.2.2.1.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l21.m1.2c">\text{shared\_influence}.\text{add}(t1)</annotation></semantics></math>

</div>
<div id="alg3.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span>     <span id="alg3.l22.2" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l22.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span>     <math id="alg3.l23.m1.1" class="ltx_Math" alttext="\text{final\_influence}\leftarrow\text{influence}+\text{shared\_influence}" display="inline"><semantics id="alg3.l23.m1.1a"><mrow id="alg3.l23.m1.1.1" xref="alg3.l23.m1.1.1.cmml"><mtext id="alg3.l23.m1.1.1.2" xref="alg3.l23.m1.1.1.2a.cmml">final_influence</mtext><mo stretchy="false" id="alg3.l23.m1.1.1.1" xref="alg3.l23.m1.1.1.1.cmml">←</mo><mrow id="alg3.l23.m1.1.1.3" xref="alg3.l23.m1.1.1.3.cmml"><mtext id="alg3.l23.m1.1.1.3.2" xref="alg3.l23.m1.1.1.3.2a.cmml">influence</mtext><mo id="alg3.l23.m1.1.1.3.1" xref="alg3.l23.m1.1.1.3.1.cmml">+</mo><mtext id="alg3.l23.m1.1.1.3.3" xref="alg3.l23.m1.1.1.3.3a.cmml">shared_influence</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l23.m1.1b"><apply id="alg3.l23.m1.1.1.cmml" xref="alg3.l23.m1.1.1"><ci id="alg3.l23.m1.1.1.1.cmml" xref="alg3.l23.m1.1.1.1">←</ci><ci id="alg3.l23.m1.1.1.2a.cmml" xref="alg3.l23.m1.1.1.2"><mtext id="alg3.l23.m1.1.1.2.cmml" xref="alg3.l23.m1.1.1.2">final_influence</mtext></ci><apply id="alg3.l23.m1.1.1.3.cmml" xref="alg3.l23.m1.1.1.3"><plus id="alg3.l23.m1.1.1.3.1.cmml" xref="alg3.l23.m1.1.1.3.1"></plus><ci id="alg3.l23.m1.1.1.3.2a.cmml" xref="alg3.l23.m1.1.1.3.2"><mtext id="alg3.l23.m1.1.1.3.2.cmml" xref="alg3.l23.m1.1.1.3.2">influence</mtext></ci><ci id="alg3.l23.m1.1.1.3.3a.cmml" xref="alg3.l23.m1.1.1.3.3"><mtext id="alg3.l23.m1.1.1.3.3.cmml" xref="alg3.l23.m1.1.1.3.3">shared_influence</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l23.m1.1c">\text{final\_influence}\leftarrow\text{influence}+\text{shared\_influence}</annotation></semantics></math>

</div>
<div id="alg3.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg3.l24.1.1.1" class="ltx_text" style="font-size:80%;">24:</span></span><span id="alg3.l24.2" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l24.3" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">The function takes two arguments, <span id="S3.SS2.p5.1.1" class="ltx_text ltx_font_italic">final_opinion</span> which corresponds to the final decision that is made by all the nodes after implementing Snowball protocol, the second argument corresponds to <span id="S3.SS2.p5.1.2" class="ltx_text ltx_font_italic">individual_opinion</span> of each validator. This argument is obtained from the blockchain. The opinion of each validator is compared to the final consensus of the whole network on a particular weight. If both are the same, the trust score is incremented, else it is decremented. Since the weights in weighted average cannot be negative, instead of negative trust score, a minimum value is returned.</p>
</div>
<figure id="S3.F3.fig1" class="ltx_figure ltx_minipage ltx_align_center ltx_align_middle" style="width:346.9pt;">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.F3.fig1.2" class="ltx_p ltx_figure_panel"><span id="S3.F3.fig1.2.1" class="ltx_text ltx_font_bold">Input:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<ul id="S3.I1" class="ltx_itemize ltx_figure_panel">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.2" class="ltx_p">Let <math id="S3.I1.i1.p1.1.m1.4" class="ltx_Math" alttext="W_{1},W_{2},\ldots,W_{n}" display="inline"><semantics id="S3.I1.i1.p1.1.m1.4a"><mrow id="S3.I1.i1.p1.1.m1.4.4.3" xref="S3.I1.i1.p1.1.m1.4.4.4.cmml"><msub id="S3.I1.i1.p1.1.m1.2.2.1.1" xref="S3.I1.i1.p1.1.m1.2.2.1.1.cmml"><mi id="S3.I1.i1.p1.1.m1.2.2.1.1.2" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml">W</mi><mn id="S3.I1.i1.p1.1.m1.2.2.1.1.3" xref="S3.I1.i1.p1.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.I1.i1.p1.1.m1.4.4.3.4" xref="S3.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S3.I1.i1.p1.1.m1.3.3.2.2" xref="S3.I1.i1.p1.1.m1.3.3.2.2.cmml"><mi id="S3.I1.i1.p1.1.m1.3.3.2.2.2" xref="S3.I1.i1.p1.1.m1.3.3.2.2.2.cmml">W</mi><mn id="S3.I1.i1.p1.1.m1.3.3.2.2.3" xref="S3.I1.i1.p1.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.I1.i1.p1.1.m1.4.4.3.5" xref="S3.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">…</mi><mo id="S3.I1.i1.p1.1.m1.4.4.3.6" xref="S3.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S3.I1.i1.p1.1.m1.4.4.3.3" xref="S3.I1.i1.p1.1.m1.4.4.3.3.cmml"><mi id="S3.I1.i1.p1.1.m1.4.4.3.3.2" xref="S3.I1.i1.p1.1.m1.4.4.3.3.2.cmml">W</mi><mi id="S3.I1.i1.p1.1.m1.4.4.3.3.3" xref="S3.I1.i1.p1.1.m1.4.4.3.3.3.cmml">n</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.4b"><list id="S3.I1.i1.p1.1.m1.4.4.4.cmml" xref="S3.I1.i1.p1.1.m1.4.4.3"><apply id="S3.I1.i1.p1.1.m1.2.2.1.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2">𝑊</ci><cn type="integer" id="S3.I1.i1.p1.1.m1.2.2.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.3">1</cn></apply><apply id="S3.I1.i1.p1.1.m1.3.3.2.2.cmml" xref="S3.I1.i1.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.3.3.2.2.1.cmml" xref="S3.I1.i1.p1.1.m1.3.3.2.2">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.I1.i1.p1.1.m1.3.3.2.2.2">𝑊</ci><cn type="integer" id="S3.I1.i1.p1.1.m1.3.3.2.2.3.cmml" xref="S3.I1.i1.p1.1.m1.3.3.2.2.3">2</cn></apply><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">…</ci><apply id="S3.I1.i1.p1.1.m1.4.4.3.3.cmml" xref="S3.I1.i1.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.4.4.3.3.1.cmml" xref="S3.I1.i1.p1.1.m1.4.4.3.3">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.4.4.3.3.2.cmml" xref="S3.I1.i1.p1.1.m1.4.4.3.3.2">𝑊</ci><ci id="S3.I1.i1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.I1.i1.p1.1.m1.4.4.3.3.3">𝑛</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.4c">W_{1},W_{2},\ldots,W_{n}</annotation></semantics></math>: Weights proposed by corresponding Validators <math id="S3.I1.i1.p1.2.m2.4" class="ltx_Math" alttext="V_{1},V_{2},\ldots,V_{n}" display="inline"><semantics id="S3.I1.i1.p1.2.m2.4a"><mrow id="S3.I1.i1.p1.2.m2.4.4.3" xref="S3.I1.i1.p1.2.m2.4.4.4.cmml"><msub id="S3.I1.i1.p1.2.m2.2.2.1.1" xref="S3.I1.i1.p1.2.m2.2.2.1.1.cmml"><mi id="S3.I1.i1.p1.2.m2.2.2.1.1.2" xref="S3.I1.i1.p1.2.m2.2.2.1.1.2.cmml">V</mi><mn id="S3.I1.i1.p1.2.m2.2.2.1.1.3" xref="S3.I1.i1.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.I1.i1.p1.2.m2.4.4.3.4" xref="S3.I1.i1.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.I1.i1.p1.2.m2.3.3.2.2" xref="S3.I1.i1.p1.2.m2.3.3.2.2.cmml"><mi id="S3.I1.i1.p1.2.m2.3.3.2.2.2" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.cmml">V</mi><mn id="S3.I1.i1.p1.2.m2.3.3.2.2.3" xref="S3.I1.i1.p1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.I1.i1.p1.2.m2.4.4.3.5" xref="S3.I1.i1.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.I1.i1.p1.2.m2.4.4.3.6" xref="S3.I1.i1.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.I1.i1.p1.2.m2.4.4.3.3" xref="S3.I1.i1.p1.2.m2.4.4.3.3.cmml"><mi id="S3.I1.i1.p1.2.m2.4.4.3.3.2" xref="S3.I1.i1.p1.2.m2.4.4.3.3.2.cmml">V</mi><mi id="S3.I1.i1.p1.2.m2.4.4.3.3.3" xref="S3.I1.i1.p1.2.m2.4.4.3.3.3.cmml">n</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.4b"><list id="S3.I1.i1.p1.2.m2.4.4.4.cmml" xref="S3.I1.i1.p1.2.m2.4.4.3"><apply id="S3.I1.i1.p1.2.m2.2.2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.2.2.1.1.2.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1.2">𝑉</ci><cn type="integer" id="S3.I1.i1.p1.2.m2.2.2.1.1.3.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S3.I1.i1.p1.2.m2.3.3.2.2.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.3.3.2.2.1.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2">𝑉</ci><cn type="integer" id="S3.I1.i1.p1.2.m2.3.3.2.2.3.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">…</ci><apply id="S3.I1.i1.p1.2.m2.4.4.3.3.cmml" xref="S3.I1.i1.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.4.4.3.3.1.cmml" xref="S3.I1.i1.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.4.4.3.3.2.cmml" xref="S3.I1.i1.p1.2.m2.4.4.3.3.2">𝑉</ci><ci id="S3.I1.i1.p1.2.m2.4.4.3.3.3.cmml" xref="S3.I1.i1.p1.2.m2.4.4.3.3.3">𝑛</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.4c">V_{1},V_{2},\ldots,V_{n}</annotation></semantics></math> respectively.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><math id="S3.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.I1.i2.p1.1.m1.1a"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">x</annotation></semantics></math>: Number of accepted weights obtained from Snowball Protocol.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.2" class="ltx_p"><math id="S3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.I1.i3.p1.1.m1.1a"><mi id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><ci id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">\zeta</annotation></semantics></math>: Threshold value set to <math id="S3.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.I1.i3.p1.2.m2.1a"><mi id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.1b"><ci id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.1c">i</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.F3.fig1.3" class="ltx_p ltx_figure_panel"><span id="S3.F3.fig1.3.1" class="ltx_text ltx_font_bold">Output:</span> Generated model</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.F3.fig1.4" class="ltx_p ltx_figure_panel"><span id="S3.F3.fig1.4.1" class="ltx_text ltx_font_bold">Algorithm:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S3.F3.fig1.5" class="ltx_listing ltx_figure_panel ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aWYgKHggPj0gJFx6ZXRhJCkKewogIEdlbmVyYXRlIGZpbmFsIG1vZGVsIGJ5IEF2ZXJhZ2luZyB0aGUgQWNjZXB0ZWQgV2VpZ2h0czsKfQplbHNlCnsKICBHZW5lcmF0ZSBmaW5hbCBtb2RlbCBiYXNlZCBvbgogIEJsb2NrY2hhaW4gQmFzZWQgVmFsaWRhdG9yIEluZmx1ZW5jZTsKfQ==" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span id="lstnumberx1.2" class="ltx_text ltx_lst_identifier">if</span><span id="lstnumberx1.3" class="ltx_text ltx_lst_space"> </span>(<span id="lstnumberx1.4" class="ltx_text ltx_lst_identifier">x</span><span id="lstnumberx1.5" class="ltx_text ltx_lst_space"> </span>&gt;=<span id="lstnumberx1.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx1.1" class="ltx_text"><math id="lstnumberx1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="lstnumberx1.1.m1.1a"><mi id="lstnumberx1.1.m1.1.1" xref="lstnumberx1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="lstnumberx1.1.m1.1b"><ci id="lstnumberx1.1.m1.1.1.cmml" xref="lstnumberx1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="lstnumberx1.1.m1.1c">\zeta</annotation></semantics></math></span>)
</div>
<div id="lstnumberx2" class="ltx_listingline">{
</div>
<div id="lstnumberx3" class="ltx_listingline">
<span id="lstnumberx3.1" class="ltx_text ltx_lst_space">  </span><span id="lstnumberx3.2" class="ltx_text ltx_lst_identifier">Generate</span><span id="lstnumberx3.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.4" class="ltx_text ltx_lst_identifier">final</span><span id="lstnumberx3.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.6" class="ltx_text ltx_lst_identifier">model</span><span id="lstnumberx3.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.8" class="ltx_text ltx_lst_identifier">by</span><span id="lstnumberx3.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.10" class="ltx_text ltx_lst_identifier">Averaging</span><span id="lstnumberx3.11" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.12" class="ltx_text ltx_lst_identifier">the</span><span id="lstnumberx3.13" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.14" class="ltx_text ltx_lst_identifier">Accepted</span><span id="lstnumberx3.15" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx3.16" class="ltx_text ltx_lst_identifier">Weights</span>;
</div>
<div id="lstnumberx4" class="ltx_listingline">}
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span id="lstnumberx5.1" class="ltx_text ltx_lst_identifier">else</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">{
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span id="lstnumberx7.1" class="ltx_text ltx_lst_space">  </span><span id="lstnumberx7.2" class="ltx_text ltx_lst_identifier">Generate</span><span id="lstnumberx7.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.4" class="ltx_text ltx_lst_identifier">final</span><span id="lstnumberx7.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.6" class="ltx_text ltx_lst_identifier">model</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.8" class="ltx_text ltx_lst_identifier">based</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.10" class="ltx_text ltx_lst_identifier">on</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span id="lstnumberx8.1" class="ltx_text ltx_lst_space">  </span><span id="lstnumberx8.2" class="ltx_text ltx_lst_identifier">Blockchain</span><span id="lstnumberx8.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.4" class="ltx_text ltx_lst_identifier">Based</span><span id="lstnumberx8.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.6" class="ltx_text ltx_lst_identifier">Validator</span><span id="lstnumberx8.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.8" class="ltx_text ltx_lst_identifier">Influence</span>;
</div>
<div id="lstnumberx9" class="ltx_listingline">}
</div>
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.fig1.6.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.fig1.7.2" class="ltx_text" style="font-size:90%;">Algorithm for Model Generation</span></figcaption>
</figure>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.4" class="ltx_p">In order to offer a better control on the process of generating the global model, we introduce a new parameter called <span id="S3.SS2.p6.4.1" class="ltx_text ltx_font_italic">Minimal Consensus Index</span>(<math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><mi id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><ci id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">\zeta</annotation></semantics></math>). Minimal Consensus Index corresponds to the minimum number of accepted weights required to generate the global model using the Federated Averaging Algorithm. If the number of accepted weights is less than the <math id="S3.SS2.p6.2.m2.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.p6.2.m2.1a"><mi id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><ci id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">\zeta</annotation></semantics></math> then the global model is generated based on the trust score of the validators. The value of the <math id="S3.SS2.p6.3.m3.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.p6.3.m3.1a"><mi id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><ci id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">\zeta</annotation></semantics></math> should lie between 0 and n, where n is the total number of validators. The higher the value of (<math id="S3.SS2.p6.4.m4.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.p6.4.m4.1a"><mi id="S3.SS2.p6.4.m4.1.1" xref="S3.SS2.p6.4.m4.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.4.m4.1b"><ci id="S3.SS2.p6.4.m4.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.4.m4.1c">\zeta</annotation></semantics></math>), the greater the chances of generating the model based on validator trust score.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.1" class="ltx_p">Based on the trust score and (<math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mi id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">\zeta</annotation></semantics></math>) value, the individual influence is then calculated as follows.</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p">Trust Score is standardized to obtain the influence.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p id="S3.I2.i2.p1.1" class="ltx_p"><span id="S3.I2.i2.p1.1.1" class="ltx_text ltx_font_italic">Maximum Influence</span>, the inverse of <math id="S3.I2.i2.p1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.I2.i2.p1.1.m1.1a"><mi id="S3.I2.i2.p1.1.m1.1.1" xref="S3.I2.i2.p1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.1.m1.1b"><ci id="S3.I2.i2.p1.1.m1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.1.m1.1c">\zeta</annotation></semantics></math>, is awarded to all the accepted weights.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p id="S3.I2.i3.p1.1" class="ltx_p">The <span id="S3.I2.i3.p1.1.1" class="ltx_text ltx_font_italic">Shared Influence</span> is then distributed evenly among all validators.</p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i4.p1" class="ltx_para">
<p id="S3.I2.i4.p1.1" class="ltx_p"><span id="S3.I2.i4.p1.1.1" class="ltx_text ltx_font_italic">Final Influence</span> is obtained by summing both the <span id="S3.I2.i4.p1.1.2" class="ltx_text ltx_font_italic">Maximum Influence</span> and the shared influence.</p>
</div>
</li>
<li id="S3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i5.p1" class="ltx_para">
<p id="S3.I2.i5.p1.1" class="ltx_p">A Global Model is generated using a weighted average weighted by the <span id="S3.I2.i5.p1.1.1" class="ltx_text ltx_font_italic">Final Influence</span>.</p>
</div>
</li>
</ul>
<p id="S3.SS2.p7.2" class="ltx_p">Algorithm 3 depicts the influence calculation workflow. The final system flow of the proposed platform is depicted in the Fig 3.</p>
</div>
<section id="S3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1 </span>Example</h4>

<div id="S3.SS2.SSS1.p1" class="ltx_para">
<p id="S3.SS2.SSS1.p1.1" class="ltx_p">Let C be the coordinator and V1,V2,V3,V4,V5 be the validators, let <math id="S3.SS2.SSS1.p1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.SSS1.p1.1.m1.1a"><mi id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.1b"><ci id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.1c">\zeta</annotation></semantics></math> be 5. After completion of training in node, the validator upon receiving model updates, implement Federated Average Algorithm and generates the weights of the model. Let W1,W2,W3,W4 and W5 be the weights that are generated by V1,V2,V3,V4,V5 respectively. Then the Snowball protocol is invoked. Table <a href="#S3.T1" title="Table 1 ‣ 3.2.1 Example ‣ 3.2 System Flow ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> depicts the opinion of the validators with respect to proposed weights. Where, 1 represents the acceptance of the particular weight, and 0 represents the rejection. It is evident that W1 and W5 are the accepted weights, as all the validators have approved these weights.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.2.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S3.T1.3.2" class="ltx_text" style="font-size:90%;">Opinion of the Validators</span></figcaption>
<table id="S3.T1.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.4.1.1" class="ltx_tr">
<th id="S3.T1.4.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt">Validator</th>
<td id="S3.T1.4.1.1.2" class="ltx_td ltx_align_left ltx_border_tt">W1<span id="footnotex1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Accepted Weights</span></span></span>
</td>
<td id="S3.T1.4.1.1.3" class="ltx_td ltx_align_left ltx_border_tt">W2</td>
<td id="S3.T1.4.1.1.4" class="ltx_td ltx_align_left ltx_border_tt">W3</td>
<td id="S3.T1.4.1.1.5" class="ltx_td ltx_align_left ltx_border_tt">W4</td>
<td id="S3.T1.4.1.1.6" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_tt">W5<span id="footnotex2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Accepted Weights</span></span></span>
</td>
</tr>
<tr id="S3.T1.4.2.2" class="ltx_tr">
<th id="S3.T1.4.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">V1</th>
<td id="S3.T1.4.2.2.2" class="ltx_td ltx_align_left ltx_border_t">1</td>
<td id="S3.T1.4.2.2.3" class="ltx_td ltx_align_left ltx_border_t">0</td>
<td id="S3.T1.4.2.2.4" class="ltx_td ltx_align_left ltx_border_t">0</td>
<td id="S3.T1.4.2.2.5" class="ltx_td ltx_align_left ltx_border_t">1</td>
<td id="S3.T1.4.2.2.6" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">1</td>
</tr>
<tr id="S3.T1.4.3.3" class="ltx_tr">
<th id="S3.T1.4.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">V2</th>
<td id="S3.T1.4.3.3.2" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.3.3.3" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.3.3.4" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.3.3.5" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.3.3.6" class="ltx_td ltx_nopad_r ltx_align_left">1</td>
</tr>
<tr id="S3.T1.4.4.4" class="ltx_tr">
<th id="S3.T1.4.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">V3</th>
<td id="S3.T1.4.4.4.2" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.4.4.3" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.4.4.4" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.4.4.5" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.4.4.6" class="ltx_td ltx_nopad_r ltx_align_left">1</td>
</tr>
<tr id="S3.T1.4.5.5" class="ltx_tr">
<th id="S3.T1.4.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">V4</th>
<td id="S3.T1.4.5.5.2" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.5.5.3" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.5.5.4" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.5.5.5" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.5.5.6" class="ltx_td ltx_nopad_r ltx_align_left">1</td>
</tr>
<tr id="S3.T1.4.6.6" class="ltx_tr">
<th id="S3.T1.4.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">V5</th>
<td id="S3.T1.4.6.6.2" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.6.6.3" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.6.6.4" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.6.6.5" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.6.6.6" class="ltx_td ltx_nopad_r ltx_align_left">1</td>
</tr>
<tr id="S3.T1.4.7.7" class="ltx_tr">
<th id="S3.T1.4.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">C</th>
<td id="S3.T1.4.7.7.2" class="ltx_td ltx_align_left">1</td>
<td id="S3.T1.4.7.7.3" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.7.7.4" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.7.7.5" class="ltx_td ltx_align_left">0</td>
<td id="S3.T1.4.7.7.6" class="ltx_td ltx_nopad_r ltx_align_left">1</td>
</tr>
<tr id="S3.T1.4.8.8" class="ltx_tr">
<th id="S3.T1.4.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S3.T1.4.8.8.1.1" class="ltx_ERROR undefined">\botrule</span></th>
<td id="S3.T1.4.8.8.2" class="ltx_td"></td>
<td id="S3.T1.4.8.8.3" class="ltx_td"></td>
<td id="S3.T1.4.8.8.4" class="ltx_td"></td>
<td id="S3.T1.4.8.8.5" class="ltx_td"></td>
<td id="S3.T1.4.8.8.6" class="ltx_td"></td>
</tr>
</tbody>
</table>
</figure>
<div id="S3.SS2.SSS1.p2" class="ltx_para">
<p id="S3.SS2.SSS1.p2.3" class="ltx_p">If <math id="S3.SS2.SSS1.p2.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.SSS1.p2.1.m1.1a"><mi id="S3.SS2.SSS1.p2.1.m1.1.1" xref="S3.SS2.SSS1.p2.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.1.m1.1b"><ci id="S3.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.1.m1.1c">\zeta</annotation></semantics></math> is set to 5. The final model is generated using Validator influence as depicted in Table <a href="#S3.T2" title="Table 2 ‣ 3.2.1 Example ‣ 3.2 System Flow ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> 1. Trust score is normalized, as <math id="S3.SS2.SSS1.p2.2.m2.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.SSS1.p2.2.m2.1a"><mi id="S3.SS2.SSS1.p2.2.m2.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.2.m2.1b"><ci id="S3.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.2.m2.1c">\zeta</annotation></semantics></math> is set to 5 the maximum impact of each validator will be 0.2. Since W1 and W5 were accepted, they were awarded a weightage of 0.2. All the validators will share the remaining influence evenly among them. The sum of these two will yield the final validator influence, which is used as weight in the weighted average while generating the final model. The calculations are depicted in <a href="#S3.T2" title="Table 2 ‣ 3.2.1 Example ‣ 3.2 System Flow ‣ 3 System Design And Architecture ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>
If <math id="S3.SS2.SSS1.p2.3.m3.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S3.SS2.SSS1.p2.3.m3.1a"><mi id="S3.SS2.SSS1.p2.3.m3.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.3.m3.1b"><ci id="S3.SS2.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.3.m3.1c">\zeta</annotation></semantics></math> is set to 2 or 1 then the final model is generated by averaging the accepted weights.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S3.T2.2.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S3.T2.3.2" class="ltx_text" style="font-size:90%;">Opinion of the Validators</span></figcaption>
<table id="S3.T2.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T2.4.1.1" class="ltx_tr">
<th id="S3.T2.4.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Title</th>
<th id="S3.T2.4.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">W1</th>
<th id="S3.T2.4.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">W2</th>
<th id="S3.T2.4.1.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">W3</th>
<th id="S3.T2.4.1.1.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">W4</th>
<th id="S3.T2.4.1.1.6" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_border_tt">W5</th>
</tr>
<tr id="S3.T2.4.2.2" class="ltx_tr">
<th id="S3.T2.4.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">Trust Score</th>
<th id="S3.T2.4.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">30</th>
<th id="S3.T2.4.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">10</th>
<th id="S3.T2.4.2.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">30</th>
<th id="S3.T2.4.2.2.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">50</th>
<th id="S3.T2.4.2.2.6" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_border_t">30</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T2.4.3.1" class="ltx_tr">
<td id="S3.T2.4.3.1.1" class="ltx_td ltx_align_left">Influence</td>
<td id="S3.T2.4.3.1.2" class="ltx_td ltx_align_left">0.2</td>
<td id="S3.T2.4.3.1.3" class="ltx_td ltx_align_left">0.07</td>
<td id="S3.T2.4.3.1.4" class="ltx_td ltx_align_left">0.2</td>
<td id="S3.T2.4.3.1.5" class="ltx_td ltx_align_left">0.33</td>
<td id="S3.T2.4.3.1.6" class="ltx_td ltx_nopad_r ltx_align_left">0.2</td>
</tr>
<tr id="S3.T2.4.4.2" class="ltx_tr">
<td id="S3.T2.4.4.2.1" class="ltx_td ltx_align_left">Residual Influence(for 0.6)</td>
<td id="S3.T2.4.4.2.2" class="ltx_td ltx_align_left">0.12</td>
<td id="S3.T2.4.4.2.3" class="ltx_td ltx_align_left">0.04</td>
<td id="S3.T2.4.4.2.4" class="ltx_td ltx_align_left">0.12</td>
<td id="S3.T2.4.4.2.5" class="ltx_td ltx_align_left">0.20</td>
<td id="S3.T2.4.4.2.6" class="ltx_td ltx_nopad_r ltx_align_left">0.12</td>
</tr>
<tr id="S3.T2.4.5.3" class="ltx_tr">
<td id="S3.T2.4.5.3.1" class="ltx_td ltx_align_left">Final Influence</td>
<td id="S3.T2.4.5.3.2" class="ltx_td ltx_align_left">0.32</td>
<td id="S3.T2.4.5.3.3" class="ltx_td ltx_align_left">0.04</td>
<td id="S3.T2.4.5.3.4" class="ltx_td ltx_align_left">0.12</td>
<td id="S3.T2.4.5.3.5" class="ltx_td ltx_align_left">0.20</td>
<td id="S3.T2.4.5.3.6" class="ltx_td ltx_nopad_r ltx_align_left">0.32</td>
</tr>
<tr id="S3.T2.4.6.4" class="ltx_tr">
<td id="S3.T2.4.6.4.1" class="ltx_td ltx_align_left"><span id="S3.T2.4.6.4.1.1" class="ltx_ERROR undefined">\botrule</span></td>
<td id="S3.T2.4.6.4.2" class="ltx_td"></td>
<td id="S3.T2.4.6.4.3" class="ltx_td"></td>
<td id="S3.T2.4.6.4.4" class="ltx_td"></td>
<td id="S3.T2.4.6.4.5" class="ltx_td"></td>
<td id="S3.T2.4.6.4.6" class="ltx_td"></td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Opinion Collector</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Opinion Collector is a smart contract used in the proposed platform.This contract was constituted by getter and setter methods and used to maintain the records in a much more transparent and distributed manner. One of the key motivations to implement this smart contract is to conduct the decision-making process as transparently as possible. Most of the functions in this smart contract can only be invoked by the coordinator, this restriction placed to ensure the authenticity of the data in Smart Contract</p>
</div>
<figure id="alg5" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg5.2.1.1" class="ltx_text ltx_font_bold">Algorithm 4</span> </span> Opinion Collector</figcaption>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg5.3.1.1" class="ltx_text ltx_font_bold">Algorithm 5</span> </span> Algorithm for OpinionCollector</figcaption>
<div id="alg5.4" class="ltx_listing ltx_listing">
<div id="alg5.l1" class="ltx_listingline">
<span id="alg5.l1.1" class="ltx_text ltx_font_bold">function</span> <span id="alg5.l1.2" class="ltx_text ltx_font_smallcaps">addValidator</span>(<span id="alg5.l1.3" class="ltx_text ltx_markedasmath">address</span>)

</div>
<div id="alg5.l2" class="ltx_listingline">     <span id="alg5.l2.1" class="ltx_text ltx_font_bold">if</span> <math id="alg5.l2.m1.1" class="ltx_Math" alttext="\text{msg.value}&gt;0.005" display="inline"><semantics id="alg5.l2.m1.1a"><mrow id="alg5.l2.m1.1.1" xref="alg5.l2.m1.1.1.cmml"><mtext id="alg5.l2.m1.1.1.2" xref="alg5.l2.m1.1.1.2a.cmml">msg.value</mtext><mo id="alg5.l2.m1.1.1.1" xref="alg5.l2.m1.1.1.1.cmml">&gt;</mo><mn id="alg5.l2.m1.1.1.3" xref="alg5.l2.m1.1.1.3.cmml">0.005</mn></mrow><annotation-xml encoding="MathML-Content" id="alg5.l2.m1.1b"><apply id="alg5.l2.m1.1.1.cmml" xref="alg5.l2.m1.1.1"><gt id="alg5.l2.m1.1.1.1.cmml" xref="alg5.l2.m1.1.1.1"></gt><ci id="alg5.l2.m1.1.1.2a.cmml" xref="alg5.l2.m1.1.1.2"><mtext id="alg5.l2.m1.1.1.2.cmml" xref="alg5.l2.m1.1.1.2">msg.value</mtext></ci><cn type="float" id="alg5.l2.m1.1.1.3.cmml" xref="alg5.l2.m1.1.1.3">0.005</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l2.m1.1c">\text{msg.value}&gt;0.005</annotation></semantics></math> <span id="alg5.l2.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg5.l3" class="ltx_listingline">         add it to list of validators

</div>
<div id="alg5.l4" class="ltx_listingline">         <span id="alg5.l4.1" class="ltx_text ltx_font_bold">return</span> (success)

</div>
<div id="alg5.l5" class="ltx_listingline">     <span id="alg5.l5.1" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="alg5.l6" class="ltx_listingline">         <span id="alg5.l6.1" class="ltx_text ltx_font_bold">return</span> (failure)

</div>
<div id="alg5.l7" class="ltx_listingline">     <span id="alg5.l7.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l7.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg5.l8" class="ltx_listingline">
<span id="alg5.l8.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l8.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="alg5.l9" class="ltx_listingline">
<span id="alg5.l9.1" class="ltx_text ltx_font_bold">function</span> <span id="alg5.l9.2" class="ltx_text ltx_font_smallcaps">setup</span>

</div>
<div id="alg5.l10" class="ltx_listingline">     <span id="alg5.l10.1" class="ltx_text ltx_font_bold">if</span> <math id="alg5.l10.m1.1" class="ltx_math_unparsed" alttext="\text{msg.sender}==\text{coordinator}" display="inline"><semantics id="alg5.l10.m1.1a"><mrow id="alg5.l10.m1.1b"><mtext id="alg5.l10.m1.1.1">msg.sender</mtext><mo rspace="0em" id="alg5.l10.m1.1.2">=</mo><mo lspace="0em" id="alg5.l10.m1.1.3">=</mo><mtext id="alg5.l10.m1.1.4">coordinator</mtext></mrow><annotation encoding="application/x-tex" id="alg5.l10.m1.1c">\text{msg.sender}==\text{coordinator}</annotation></semantics></math> <span id="alg5.l10.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg5.l11" class="ltx_listingline">         Initialize mapping to store opinion called <span id="alg5.l11.1" class="ltx_text ltx_font_italic">store</span> with validator number of keys

</div>
<div id="alg5.l12" class="ltx_listingline">     <span id="alg5.l12.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l12.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg5.l13" class="ltx_listingline">
<span id="alg5.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l13.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="alg5.l14" class="ltx_listingline">
<span id="alg5.l14.1" class="ltx_text ltx_font_bold">function</span> <span id="alg5.l14.2" class="ltx_text ltx_font_smallcaps">get_opinion</span>

</div>
<div id="alg5.l15" class="ltx_listingline">     <span id="alg5.l15.1" class="ltx_text ltx_font_bold">if</span> <math id="alg5.l15.m1.1" class="ltx_math_unparsed" alttext="\text{msg.sender}==\text{coordinator}" display="inline"><semantics id="alg5.l15.m1.1a"><mrow id="alg5.l15.m1.1b"><mtext id="alg5.l15.m1.1.1">msg.sender</mtext><mo rspace="0em" id="alg5.l15.m1.1.2">=</mo><mo lspace="0em" id="alg5.l15.m1.1.3">=</mo><mtext id="alg5.l15.m1.1.4">coordinator</mtext></mrow><annotation encoding="application/x-tex" id="alg5.l15.m1.1c">\text{msg.sender}==\text{coordinator}</annotation></semantics></math> <span id="alg5.l15.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg5.l16" class="ltx_listingline">         <span id="alg5.l16.1" class="ltx_text ltx_font_bold">return</span> <span id="alg5.l16.2" class="ltx_text ltx_font_italic">store</span>

</div>
<div id="alg5.l17" class="ltx_listingline">     <span id="alg5.l17.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l17.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg5.l18" class="ltx_listingline">
<span id="alg5.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l18.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="alg5.l19" class="ltx_listingline">
<span id="alg5.l19.1" class="ltx_text ltx_font_bold">function</span> <span id="alg5.l19.2" class="ltx_text ltx_font_smallcaps">set_opinion</span>(<math id="alg5.l19.m1.2" class="ltx_Math" alttext="\text{key},\text{opinion}" display="inline"><semantics id="alg5.l19.m1.2a"><mrow id="alg5.l19.m1.2.3.2" xref="alg5.l19.m1.2.3.1.cmml"><mtext id="alg5.l19.m1.1.1" xref="alg5.l19.m1.1.1a.cmml">key</mtext><mo id="alg5.l19.m1.2.3.2.1" xref="alg5.l19.m1.2.3.1.cmml">,</mo><mtext id="alg5.l19.m1.2.2" xref="alg5.l19.m1.2.2a.cmml">opinion</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg5.l19.m1.2b"><list id="alg5.l19.m1.2.3.1.cmml" xref="alg5.l19.m1.2.3.2"><ci id="alg5.l19.m1.1.1a.cmml" xref="alg5.l19.m1.1.1"><mtext id="alg5.l19.m1.1.1.cmml" xref="alg5.l19.m1.1.1">key</mtext></ci><ci id="alg5.l19.m1.2.2a.cmml" xref="alg5.l19.m1.2.2"><mtext id="alg5.l19.m1.2.2.cmml" xref="alg5.l19.m1.2.2">opinion</mtext></ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg5.l19.m1.2c">\text{key},\text{opinion}</annotation></semantics></math>)

</div>
<div id="alg5.l20" class="ltx_listingline">     <span id="alg5.l20.1" class="ltx_text ltx_font_bold">if</span> <math id="alg5.l20.m1.2" class="ltx_math_unparsed" alttext="\text{msg.sender is validator or}\quad\text{msg.sender}==\text{coordinator}" display="inline"><semantics id="alg5.l20.m1.2a"><mrow id="alg5.l20.m1.2b"><mtext id="alg5.l20.m1.1.1">msg.sender is validator or</mtext><mspace width="1em" id="alg5.l20.m1.2.3"></mspace><mtext id="alg5.l20.m1.2.2">msg.sender</mtext><mo rspace="0em" id="alg5.l20.m1.2.4">=</mo><mo lspace="0em" id="alg5.l20.m1.2.5">=</mo><mtext id="alg5.l20.m1.2.6">coordinator</mtext></mrow><annotation encoding="application/x-tex" id="alg5.l20.m1.2c">\text{msg.sender is validator or}\quad\text{msg.sender}==\text{coordinator}</annotation></semantics></math> <span id="alg5.l20.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg5.l21" class="ltx_listingline">         <span id="alg5.l21.1" class="ltx_text ltx_font_italic">store</span>[<span id="alg5.l21.2" class="ltx_text ltx_markedasmath">key</span>] <math id="alg5.l21.m2.1" class="ltx_Math" alttext="\leftarrow\text{opinion}" display="inline"><semantics id="alg5.l21.m2.1a"><mrow id="alg5.l21.m2.1.1" xref="alg5.l21.m2.1.1.cmml"><mi id="alg5.l21.m2.1.1.2" xref="alg5.l21.m2.1.1.2.cmml"></mi><mo stretchy="false" id="alg5.l21.m2.1.1.1" xref="alg5.l21.m2.1.1.1.cmml">←</mo><mtext id="alg5.l21.m2.1.1.3" xref="alg5.l21.m2.1.1.3a.cmml">opinion</mtext></mrow><annotation-xml encoding="MathML-Content" id="alg5.l21.m2.1b"><apply id="alg5.l21.m2.1.1.cmml" xref="alg5.l21.m2.1.1"><ci id="alg5.l21.m2.1.1.1.cmml" xref="alg5.l21.m2.1.1.1">←</ci><csymbol cd="latexml" id="alg5.l21.m2.1.1.2.cmml" xref="alg5.l21.m2.1.1.2">absent</csymbol><ci id="alg5.l21.m2.1.1.3a.cmml" xref="alg5.l21.m2.1.1.3"><mtext id="alg5.l21.m2.1.1.3.cmml" xref="alg5.l21.m2.1.1.3">opinion</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l21.m2.1c">\leftarrow\text{opinion}</annotation></semantics></math>

</div>
<div id="alg5.l22" class="ltx_listingline">     <span id="alg5.l22.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l22.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg5.l23" class="ltx_listingline">
<span id="alg5.l23.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l23.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">Algorithm <a href="#alg5" title="Algorithm 5 ‣ 4 Opinion Collector ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> explains the functioning of the smart contract for the proposed system. It has 4 functions that are used for implementing blockchain based trust. Most of these functions are invoked by the coordinator to verify the trustworthiness of the validators. This smart contract uses the following data structures:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">An array is used to keep track of the validators, by holding their public key, <span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">valid_validators</span>.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">A mapping which has a unique identifier as key and its opinion as value, named <span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">store</span>.</p>
</div>
</li>
</ul>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">The first function in the algorithm <span id="S4.p3.1.1" class="ltx_text ltx_font_italic">addValidator</span> is to be invoked by the coordinator whenever a new validator joins the proposed system. This function takes the address as an argument and verifies if the validator paid the fee or not. If paid, then the validator’s public key is added to <span id="S4.p3.1.2" class="ltx_text ltx_font_italic">valid_validators</span>. The second function <span id="S4.p3.1.3" class="ltx_text ltx_font_italic">setup</span> is restricted to the coordinator, as it is used to initialize the <span id="S4.p3.1.4" class="ltx_text ltx_font_italic">store</span>. The third function <span id="S4.p3.1.5" class="ltx_text ltx_font_italic">get_opinion</span> is also invoked by the coordinator alone. This function basically returns the store mapping to the coordinator. This mapping is used to calculate the trust of the validator. The last function named <span id="S4.p3.1.6" class="ltx_text ltx_font_italic">set_opinion</span> is the function that is invoked by both validators and coordinator. This function is used to populate the store mapping. It takes two arguments, namely <span id="S4.p3.1.7" class="ltx_text ltx_font_italic">key</span> and <span id="S4.p3.1.8" class="ltx_text ltx_font_italic">opinion</span>. The argument <span id="S4.p3.1.9" class="ltx_text ltx_font_italic">key</span> corresponds to the unique identifier of a particular validator, and <span id="S4.p3.1.10" class="ltx_text ltx_font_italic">opinion</span> corresponds to the validator’s opinion on the given set of weights.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Implementation</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Technologies Used</h3>

<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.1 </span>Foundry:</h4>

<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p id="S5.SS1.SSS1.p1.1" class="ltx_p">Foundry <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> is an open source Rust based smart contract development tool kit that is used for developing, testing and deploying Smart Contracts and other decentralized applications to Ethereum blockchain. This toolkit leverages on various key properties of Rust like being statically typed and compiled, thus gaining in terms of performance and resources. This toolkit supports ”fuzzing”, fuzzing is the process of an automated testing process that tests various edge cases and invalid input. Foundry is a combination of the following tools:</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p">Anvil: It can be used for setting up a local blockchain network that can be used while developing the smart contract</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p">Cast : It is a set of CLI commands that can be used to interact with the smart contract like sending transactions and read data from the network. It provides a set of sub commands that can be used for debugging smart contracts.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p">Forge: It is a set of CLI commands used for testing, developing and deploying of the smart contract.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S5.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.2 </span>Python Socket.IO</h4>

<div id="S5.SS1.SSS2.p1" class="ltx_para">
<p id="S5.SS1.SSS2.p1.1" class="ltx_p">Python Socket.io <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> is a python implementation of the Socket.IO protocol. Socket.IO protocol facilitates real-time, bidirectional and event based communication between a client and server. This protocol is based on the Web Socket protocol, with HTTP polling as a fallback option. This library is used to establish the communication between the node, validator, and coordinator. The proposed solution leverages on the events based communication python Socket.io provides.</p>
</div>
</section>
<section id="S5.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.3 </span>Web3 Py</h4>

<div id="S5.SS1.SSS3.p1" class="ltx_para">
<p id="S5.SS1.SSS3.p1.1" class="ltx_p">Web3 py<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> is a python library that enables developers to interact with Ethereum blockchain. It is widely used in decentralized applications to initiate transactions, interact with smart contracts and for reading and writing data to the blockchain. One of the key features, the ability to interact with smart contracts using Solidity. Web3.py was derived directly from the Web3.js JavaScript API, but is centered more around the needs of Python developers. With Web3py, the developers can integrate Ethereum functionality into their code, thus building a decentralized application.</p>
</div>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Implementation Canvas</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Nodes and Validators are connected using the web socket connection. This communication was implemented using python-socketio. This type of communication is event based. Weights of the trained model are encrypted using PGP wrapper for python<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, the cipher is then uploaded to IPFS using ipfshttpclient <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>. The default encryption algorithm used for this process is RSA-2048. The obtained CID is then sent to the endpoint in the receiver, where the reverse of the above-mentioned process takes place. Smart Contract used in the proposed method is invoked by the address and the functional interaction are done by the web3.py module.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Distinguishing Features of Proposed Model</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Transparent decision-making process</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">Blockchain, as mentioned in the previous section, serves as a distributed and immutable ledger where the record of the decision-making process is maintained. This record includes the individual opinion of the validator on models submitted by the other validator. The availability of the data on the blockchain ensures the authenticity of the information, enhancing the transparency in the decision-making process. In scenarios where the number of accepted weights is less than <math id="S6.SS1.p1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S6.SS1.p1.1.m1.1a"><mi id="S6.SS1.p1.1.m1.1.1" xref="S6.SS1.p1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.1.m1.1b"><ci id="S6.SS1.p1.1.m1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.1.m1.1c">\zeta</annotation></semantics></math>, the data stored in the blockchain is used to create the global model.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Resilient against attacks</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">As mentioned in the previous section, the IPFS in conjunction with Encryption prevents Man in the middle attack. Since IPFS is a distributed file system, there is no single point of failure. This combination reduces the centralization of the whole system. Since only the CID is only communicated between the nodes, it significantly reduces the inter-nodal communication. This streamlined approach optimizes efficiency, leading to a highly robust network architecture.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Hierarchical Structure</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.1" class="ltx_p">The arrangement of the nodes in a hierarchy provides advantages which include reduction in impact of attacks and improves the scalability. Validators requirement to pay a participation fee adds an extra layer of trustworthiness to the system, as this fee acts as a guarantee of their credibility. Furthermore, the implementation of the federated algorithm in two level enhances the robustness.</p>
</div>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Validation of Weights</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.1" class="ltx_p">The combination of the Novelty Detection and Snowball protocol ensures that the global model is generated by the the weights that are accepted by all the validators, thus making the proposed model resilient against the data poisioning attacks. As snowball protocol is scalable and need a constant communication cost, there is minimum overhead. This enforces creation of the better model that would be resilient against attacks. Furthermore, in absence of the trust the influence based final model generation ensures the model to be learned from the most trusted validator.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Results</h2>

<section id="S7.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.1 </span>Setup</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p id="S7.SS1.p1.1" class="ltx_p">For testing the performance of the proposed model, we have conducted experiments on a system with following configurations:</p>
<ul id="S7.I1" class="ltx_itemize">
<li id="S7.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I1.i1.p1" class="ltx_para">
<p id="S7.I1.i1.p1.1" class="ltx_p">AMD Ryzen 5 4600H with Radeon Graphics @ 3.0GHz</p>
</div>
</li>
<li id="S7.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I1.i2.p1" class="ltx_para">
<p id="S7.I1.i2.p1.1" class="ltx_p">16 GB of memory with Pop! OS 22.04 LTS</p>
</div>
</li>
</ul>
<p id="S7.SS1.p1.2" class="ltx_p">The proposed model’s performance evaluation utilized three datasets: Mushroom Dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>, Pima Indians Diabetes Database <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, and Thyroid Disease Data Set <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>. These datasets were partitioned into test and train sets, with the model trained on the train data and validated against the test set. Test accuracy served as the primary metric for evaluation. Due to the inherent imbalance in the Pima Indians Diabetes Database and Thyroid Disease Data Set, class weights were employed during the model generation process to address this imbalance. Logistic Regression and SGDClassifier models, were considered for this experiment. Each experiment is repeated 10 times to minimize randomness.</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p id="S7.SS1.p2.2" class="ltx_p">All experiments were carried out with 5 validators,with its federation consisting of 2 nodes. The Snowball protocol’s parameters <math id="S7.SS1.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S7.SS1.p2.1.m1.1a"><mi id="S7.SS1.p2.1.m1.1.1" xref="S7.SS1.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.1.m1.1b"><ci id="S7.SS1.p2.1.m1.1.1.cmml" xref="S7.SS1.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.1.m1.1c">\alpha</annotation></semantics></math>,<math id="S7.SS1.p2.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S7.SS1.p2.2.m2.1a"><mi id="S7.SS1.p2.2.m2.1.1" xref="S7.SS1.p2.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.2.m2.1b"><ci id="S7.SS1.p2.2.m2.1.1.cmml" xref="S7.SS1.p2.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.2.m2.1c">\beta</annotation></semantics></math>,k are set to 3, 3, and 4, respectively, on the other hand, the <span id="S7.SS1.p2.2.1" class="ltx_text ltx_font_italic">Minimal Consensus Index</span> is varied from 0 to 5.</p>
</div>
<div id="S7.SS1.p3" class="ltx_para">
<p id="S7.SS1.p3.1" class="ltx_p">To simulate label flipping, two new metrics were introduced:</p>
<ul id="S7.I2" class="ltx_itemize">
<li id="S7.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I2.i1.p1" class="ltx_para">
<p id="S7.I2.i1.p1.1" class="ltx_p">Flip: This parameter indicates the number of validators with malicious data in the entire network.</p>
</div>
</li>
<li id="S7.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I2.i2.p1" class="ltx_para">
<p id="S7.I2.i2.p1.1" class="ltx_p">Proportion: This parameter represents the fraction of labels flipped, ranging from 0 to 8.</p>
</div>
</li>
</ul>
</div>
<div id="S7.SS1.p4" class="ltx_para">
<p id="S7.SS1.p4.1" class="ltx_p">If Flip, Proportion were set to 2,4 respectively, 2 validators out of 5 were generating 40 % of the label flipped data.
The obtained results were compared with the Flower framework.</p>
</div>
</section>
<section id="S7.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.2 </span>Observations</h3>

<figure id="S7.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.1" class="ltx_figure ltx_figure_panel"><img src="/html/2312.05459/assets/sgd_d.png" id="S7.F6.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.2" class="ltx_figure ltx_figure_panel"><img src="/html/2312.05459/assets/lr_d.png" id="S7.F6.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S7.F6.8.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S7.F6.9.2" class="ltx_text" style="font-size:90%;">Evaluation on Diabetic Dataset</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.3" class="ltx_figure ltx_figure_panel"><img src="/html/2312.05459/assets/sgd_m.png" id="S7.F6.3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.4" class="ltx_figure ltx_figure_panel"><img src="/html/2312.05459/assets/lr_m.png" id="S7.F6.4.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S7.F6.10.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S7.F6.11.2" class="ltx_text" style="font-size:90%;">Evaluation on Mushroom Dataset</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2312.05459/assets/sgd_t.png" id="S7.F6.5.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S7.F6.6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2312.05459/assets/lr_t.png" id="S7.F6.6.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S7.F6.12.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S7.F6.13.2" class="ltx_text" style="font-size:90%;">Evaluation on Thyroid Dataset</span></figcaption>
</figure>
<div id="S7.SS2.p1" class="ltx_para">
<p id="S7.SS2.p1.2" class="ltx_p">The dotted line in the plots signifies the test accuracy of the Flower-generated models. Generally, as the magnitude of the flip and proportion increases, the overall model performance decreases. Specifically, for lower <math id="S7.SS2.p1.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S7.SS2.p1.1.m1.1a"><mi id="S7.SS2.p1.1.m1.1.1" xref="S7.SS2.p1.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.1.m1.1b"><ci id="S7.SS2.p1.1.m1.1.1.cmml" xref="S7.SS2.p1.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.1.m1.1c">\zeta</annotation></semantics></math> values, the models generated by the proposed platform exhibit significant oscillations.
However, for higher <math id="S7.SS2.p1.2.m2.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S7.SS2.p1.2.m2.1a"><mi id="S7.SS2.p1.2.m2.1.1" xref="S7.SS2.p1.2.m2.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.2.m2.1b"><ci id="S7.SS2.p1.2.m2.1.1.cmml" xref="S7.SS2.p1.2.m2.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.2.m2.1c">\zeta</annotation></semantics></math> values, the proposed platform’s models remain stable under various attacks, albeit with a decrease in accuracy. Overall, it can be concluded that the performance of the proposed platform is comparable to Flower, except for a few specific cases.</p>
</div>
<div id="S7.SS2.p2" class="ltx_para">
<p id="S7.SS2.p2.1" class="ltx_p">In the Diabetics dataset (Figure <a href="#S7.F6" title="Figure 6 ‣ 7.2 Observations ‣ 7 Results ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), for Logistic Regression, the accuracy of the proposed platform’s model remains stable compared to the Flower-generated models. While Flower models perform well in the absence of attacks, their accuracy declines during attacks, especially with lower <math id="S7.SS2.p2.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S7.SS2.p2.1.m1.1a"><mi id="S7.SS2.p2.1.m1.1.1" xref="S7.SS2.p2.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p2.1.m1.1b"><ci id="S7.SS2.p2.1.m1.1.1.cmml" xref="S7.SS2.p2.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p2.1.m1.1c">\zeta</annotation></semantics></math> values, leading to significant oscillations. Regarding SGDClassifier, the models generated by the proposed platform outperform Flower models in most cases. However, in extreme scenarios where the flip parameter is set to 3, the Flower-generated models surpass the proposed platform’s performance.</p>
</div>
<div id="S7.SS2.p3" class="ltx_para">
<p id="S7.SS2.p3.1" class="ltx_p">In the Mushroom dataset (Figure <a href="#S7.F6" title="Figure 6 ‣ 7.2 Observations ‣ 7 Results ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), for Logistic Regression, the Flower implementation outperforms the proposed model, albeit by a small margin. Notably, when <math id="S7.SS2.p3.1.m1.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S7.SS2.p3.1.m1.1a"><mi id="S7.SS2.p3.1.m1.1.1" xref="S7.SS2.p3.1.m1.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p3.1.m1.1b"><ci id="S7.SS2.p3.1.m1.1.1.cmml" xref="S7.SS2.p3.1.m1.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p3.1.m1.1c">\zeta</annotation></semantics></math> is set to 0 and 1, the test accuracy of the models fluctuates considerably. In the case of SGD Classifier, models generated using Flower significantly outperforms the models generated by the proposed platform.</p>
</div>
<div id="S7.SS2.p4" class="ltx_para">
<p id="S7.SS2.p4.1" class="ltx_p">In the Thyroid dataset (Figure <a href="#S7.F6" title="Figure 6 ‣ 7.2 Observations ‣ 7 Results ‣ FLoW3 - Web3 Empowered Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), concerning Logistic Regression, the accuracy of the proposed platform’s model remains stable, unlike the Flower-generated models. Flower models perform well in the absence of attacks, but their accuracy declines during attacks. Regarding SGD Classifier, the performance of the models generated by the platform is comparable to those created using Flower. Notably, the proposed platform’s models exhibit relative stability in accuracy, whereas Flower models tend to oscillate.</p>
</div>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Conclusion and Future Work</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">In this paper, we discussed a new system to implement Federated learning in a decentralized manner. In the proposed system, the nodes in the network are arranged in a tree shaped configuration. Novelty detection in conjunction with Snowball protocol is used to create a scalable and robust federated learning setting. Blockchain is used as a record keeper which maintains the record of decision-making process, thus bring transparency. By the design choices made, the proposed system is robust against Man in the middle attack, Data Poisoning and Model Poisoning attacks.</p>
</div>
<div id="S8.p2" class="ltx_para">
<p id="S8.p2.1" class="ltx_p">Further work can be done in the following lines, implementing complex machine learning algorithms like Neural Networks, CNNs, LSTMs, implementing consensus protocols like RAFT, leveraging on highly scalable networks like Avalanche, Polkadot instead of Ethereum. Usage of better trust and influence calculation.</p>
</div>
<div id="S8.p3" class="ltx_para">
<span id="S8.p3.1" class="ltx_ERROR undefined">\bmhead</span>
<p id="S8.p3.2" class="ltx_p">Acknowledgments
The authors dedicate this work to Bhagwan Sri Sathya Sai Baba, the Founder Chancellor of SSSIHL, for being a constant source of inspiration.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Declarations</h2>

<div id="Sx1.p1" class="ltx_para">
<ul id="Sx1.I1" class="ltx_itemize">
<li id="Sx1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i1.p1.1" class="ltx_p">Funding: Not Applicable</p>
</div>
</li>
<li id="Sx1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i2.p1.1" class="ltx_p">Conflict of Interest:On behalf of all authors, the corresponding author states that there is no conflict of interest</p>
</div>
</li>
<li id="Sx1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i3.p1.1" class="ltx_p">Ethical standards This article does not contain any studies with human
participants or animals performed by any of the authors</p>
</div>
</li>
<li id="Sx1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i4.p1" class="ltx_para">
<p id="Sx1.I1.i4.p1.1" class="ltx_p">Informed Consent: Not Applicable</p>
</div>
</li>
<li id="Sx1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i5.p1" class="ltx_para">
<p id="Sx1.I1.i5.p1.1" class="ltx_p">Author contribution: VRK contributed to the final version of the manuscript. PKB supervised the project.</p>
</div>
</li>
<li id="Sx1.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Sx1.I1.i6.p1" class="ltx_para">
<p id="Sx1.I1.i6.p1.1" class="ltx_p">Code Availability: Code will be available publicly in github after
acceptance.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.1.1" class="ltx_bibitem">
<span class="ltx_bibblock"><span id="bib.1.1.1.1" class="ltx_ERROR undefined">\bibcommenthead</span>
</span>
</li>
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. [2017]</span>
<span class="ltx_bibblock">
McMahan, B.,
Moore, E.,
Ramage, D.,
Hampson, S.,
Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data.
In: Artificial Intelligence and Statistics,
pp. 1273–1282
(2017).
PMLR


</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">European Parliament and of the Council [2016]</span>
<span class="ltx_bibblock">
European Parliament and of the Council:
Regulation (EU) 2016/679 of the European Parliament and of the Council of 27 April 2016 on the protection of natural persons with regard to the processing of personal data and on the free movement of such data, and repealing Directive 95/46/EC (General Data Protection Regulation)
(2016).
<a target="_blank" href="https://eur-lex.europa.eu/eli/reg/2016/679/oj" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://eur-lex.europa.eu/eli/reg/2016/679/oj</a>
Accessed 2023-10-18


</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
BUKATY, P.:
The California Consumer Privacy Act (CCPA): An Implementation Guide.
IT Governance Publishing.
<a target="_blank" href="http://www.jstor.org/stable/j.ctvjghvnn" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.jstor.org/stable/j.ctvjghvnn</a>
Accessed 2023-10-18


</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Government of India [2023]</span>
<span class="ltx_bibblock">
Digital Personal Data Protection Act, 2023.
<a target="_blank" href="https://www.meity.gov.in/writereaddata/files/Digital%20Personal%20Data%20Protection%20Act%202023.pdf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.meity.gov.in/writereaddata/files/Digital%20Personal%20Data%20Protection%20Act%202023.pdf</a>.
Accessed: October 20, 2023
(2023)


</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. [2020]</span>
<span class="ltx_bibblock">
Wei, K.,
Li, J.,
Ding, M.,
Ma, C.,
Yang, H.H.,
Farokhi, F.,
Jin, S.,
Quek, T.Q.,
Poor, H.V.:
Federated learning with differential privacy: Algorithms and performance analysis.
IEEE Transactions on Information Forensics and Security
<span id="bib.bib5.1.1" class="ltx_text ltx_font_bold">15</span>,
3454–3469
(2020)


</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2023]</span>
<span class="ltx_bibblock">
Wang, B.,
Li, H.,
Guo, Y.,
Wang, J.:
Ppflhe: A privacy-preserving federated learning scheme with homomorphic encryption for healthcare data.
Applied Soft Computing
<span id="bib.bib6.1.1" class="ltx_text ltx_font_bold">146</span>,
110677
(2023)


</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dwork [2008]</span>
<span class="ltx_bibblock">
Dwork, C.:
Differential privacy: A survey of results.
In: International Conference on Theory and Applications of Models of Computation,
pp. 1–19
(2008).
Springer


</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Naehrig et al. [2011]</span>
<span class="ltx_bibblock">
Naehrig, M.,
Lauter, K.,
Vaikuntanathan, V.:
Can homomorphic encryption be practical?
In: Proceedings of the 3rd ACM Workshop on Cloud Computing Security Workshop,
pp. 113–124
(2011)


</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stephanie et al. [2022]</span>
<span class="ltx_bibblock">
Stephanie, V.,
Khalil, I.,
Atiquzzaman, M.,
Yi, X.:
Trustworthy privacy-preserving hierarchical ensemble and federated learning in healthcare 4.0 with blockchain.
IEEE Transactions on Industrial Informatics
(2022)


</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ahmed et al. [2020]</span>
<span class="ltx_bibblock">
Ahmed, L.,
Ahmad, K.,
Said, N.,
Qolomany, B.,
Qadir, J.,
Al-Fuqaha, A.:
Active learning based federated learning for waste and natural disaster image classification.
IEEE Access
<span id="bib.bib10.1.1" class="ltx_text ltx_font_bold">8</span>,
208518–208531
(2020)


</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brik et al. [2020]</span>
<span class="ltx_bibblock">
Brik, B.,
Ksentini, A.,
Bouaziz, M.:
Federated learning for uavs-enabled wireless networks: Use cases, challenges, and open problems.
IEEE Access
<span id="bib.bib11.1.1" class="ltx_text ltx_font_bold">8</span>,
53841–53849
(2020)


</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. [2022]</span>
<span class="ltx_bibblock">
Yu, G.,
Wang, X.,
Wang, Q.,
Bi, T.,
Dong, Y.,
Liu, R.P.,
Georgalas, N.,
Reeves, A.:
Towards web3 applications: Easing the access and transition.
arXiv preprint arXiv:2210.05903
(2022)


</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nakamoto [2008]</span>
<span class="ltx_bibblock">
Nakamoto, S.:
Bitcoin: A peer-to-peer electronic cash system.
Decentralized business review
(2008)


</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Benet [2014]</span>
<span class="ltx_bibblock">
Benet, J.:
Ipfs-content addressed, versioned, p2p file system.
arXiv preprint arXiv:1407.3561
(2014)


</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Buterin et al. [2014]</span>
<span class="ltx_bibblock">
Buterin, V., <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">et al.</span>:
A next-generation smart contract and decentralized application platform.
white paper
<span id="bib.bib15.2.2" class="ltx_text ltx_font_bold">3</span>(37),
2–1
(2014)


</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rocket et al. [1906]</span>
<span class="ltx_bibblock">
Rocket, T.,
Yin, M.,
Sekniqi, K.,
Renesse, R.,
Sirer, E.G.:
Scalable and probabilistic leaderless bft consensus through metastability (2019).
arXiv preprint arXiv:1906.08936
(1906)


</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Konečnỳ et al. [2016]</span>
<span class="ltx_bibblock">
Konečnỳ, J.,
McMahan, H.B.,
Yu, F.X.,
Richtárik, P.,
Suresh, A.T.,
Bacon, D.:
Federated learning: Strategies for improving communication efficiency.
arXiv preprint arXiv:1610.05492
(2016)


</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tolpegin et al. [2020]</span>
<span class="ltx_bibblock">
Tolpegin, V.,
Truex, S.,
Gursoy, M.E.,
Liu, L.:
Data poisoning attacks against federated learning systems.
In: Computer Security–ESORICS 2020: 25th European Symposium on Research in Computer Security, ESORICS 2020, Guildford, UK, September 14–18, 2020, Proceedings, Part I 25,
pp. 480–501
(2020).
Springer


</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Wei, W.,
Liu, L.,
Loper, M.,
Chow, K.,
Gursoy, M.,
Truex, S.,
Wu, Y.:
A framework for evaluating gradient leakage attacks in federated learning. arxiv 2020.
arXiv preprint arXiv:2004.10397


</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. [2023]</span>
<span class="ltx_bibblock">
Xu, B.,
Zuo, L.,
Jin, J.,
Han, L.,
Hu, K.:
Cab: a combinatorial-auction-and-bargaining-based federated learning incentive mechanism.
World Wide Web,
1–22
(2023)


</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mammen [2021]</span>
<span class="ltx_bibblock">
Mammen, P.M.:
Federated learning: Opportunities and challenges.
arXiv preprint arXiv:2101.05428
(2021)


</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et al. [2022]</span>
<span class="ltx_bibblock">
Qu, Y.,
Uddin, M.P.,
Gan, C.,
Xiang, Y.,
Gao, L.,
Yearwood, J.:
Blockchain-enabled federated learning: A survey.
ACM Computing Surveys
<span id="bib.bib22.1.1" class="ltx_text ltx_font_bold">55</span>(4),
1–35
(2022)


</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen et al. [2021]</span>
<span class="ltx_bibblock">
Nguyen, D.C.,
Ding, M.,
Pham, Q.-V.,
Pathirana, P.N.,
Le, L.B.,
Seneviratne, A.,
Li, J.,
Niyato, D.,
Poor, H.V.:
Federated learning meets blockchain in edge computing: Opportunities and challenges.
IEEE Internet of Things Journal
<span id="bib.bib23.1.1" class="ltx_text ltx_font_bold">8</span>(16),
12806–12825
(2021)


</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. [2019]</span>
<span class="ltx_bibblock">
Kim, H.,
Park, J.,
Bennis, M.,
Kim, S.-L.:
Blockchained on-device federated learning.
IEEE Communications Letters
<span id="bib.bib24.1.1" class="ltx_text ltx_font_bold">24</span>(6),
1279–1283
(2019)


</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Blossey et al. [2019]</span>
<span class="ltx_bibblock">
Blossey, G.,
Eisenhardt, J.,
Hahn, G.:
Blockchain technology in supply chain management: An application perspective
(2019)


</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ali et al. [2020]</span>
<span class="ltx_bibblock">
Ali, O.,
Ally, M.,
Dwivedi, Y., <span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">et al.</span>:
The state of play of blockchain technology in the financial services sector: A systematic literature review.
International Journal of Information Management
<span id="bib.bib26.2.2" class="ltx_text ltx_font_bold">54</span>,
102199
(2020)


</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pimentel et al. [2014]</span>
<span class="ltx_bibblock">
Pimentel, M.A.,
Clifton, D.A.,
Clifton, L.,
Tarassenko, L.:
A review of novelty detection.
Signal processing
<span id="bib.bib27.1.1" class="ltx_text ltx_font_bold">99</span>,
215–249
(2014)


</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Breunig et al. [2000]</span>
<span class="ltx_bibblock">
Breunig, M.M.,
Kriegel, H.-P.,
Ng, R.T.,
Sander, J.:
Lof: identifying density-based local outliers.
In: Proceedings of the 2000 ACM SIGMOD International Conference on Management of Data,
pp. 93–104
(2000)


</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tanana [2019]</span>
<span class="ltx_bibblock">
Tanana, D.:
Avalanche blockchain protocol for distributed computing security.
In: 2019 IEEE International Black Sea Conference on Communications and Networking (BlackSeaCom),
pp. 1–3
(2019).
IEEE


</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Garfinkel [1995]</span>
<span class="ltx_bibblock">
Garfinkel, S.:
PGP: Pretty Good Privacy.
O’Reilly Media, Inc.,
,
(1995)


</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Foundry Book: Introduction to Foundry.
<a target="_blank" href="https://book.getfoundry.sh/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://book.getfoundry.sh/</a>


</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
SocketIO Contributors:
Python SocketIO Documentation.
<a target="_blank" href="https://python-socketio.readthedocs.io/en/stable/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://python-socketio.readthedocs.io/en/stable/</a>.
Accessed: 18 October 2023


</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Web3.py Home Page.
<a target="_blank" href="https://web3py.readthedocs.io/en/stable/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://web3py.readthedocs.io/en/stable/</a>.
Last accessed on 2023/08/10


</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">GnuPG Contributors [2023]</span>
<span class="ltx_bibblock">
GnuPG Contributors:
GNU Privacy Guard Documentation.
<a target="_blank" href="https://gnupg.readthedocs.io/en/latest/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://gnupg.readthedocs.io/en/latest/</a>.
Accessed on 18 Ocotber 2023
(2023)


</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Contributors [2023]</span>
<span class="ltx_bibblock">
Contributors:
IPFS-Toolkit-Python.
<a target="_blank" href="https://github.com/emendir/IPFS-Toolkit-Python" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/emendir/IPFS-Toolkit-Python</a>.
Accessed: 18 October 2023
(2023)


</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Mushroom.
UCI Machine Learning Repository.
DOI: https://doi.org/10.24432/C5959T
(1987)


</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Repository [n.d.]</span>
<span class="ltx_bibblock">
Repository, U.M.L.:
Pima Indians Diabetes Database.
Kaggle
(n.d.).
<a target="_blank" href="https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database</a>


</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hussein [2023]</span>
<span class="ltx_bibblock">
Hussein, Y.:
Thyroid Disease Data Set.
<a target="_blank" href="https://www.kaggle.com/datasets/yasserhessein/thyroid-disease-data-set" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.kaggle.com/datasets/yasserhessein/thyroid-disease-data-set</a>.
Accessed on 18 October 2023
(2023)


</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2312.05458" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2312.05459" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2312.05459">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2312.05459" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2312.05460" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 14:25:05 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
