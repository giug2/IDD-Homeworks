<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2208.12268] FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning</title><meta property="og:description" content="Federated learning (FL) has enabled global model training on decentralized data in a privacy-preserving way by aggregating model updates. However, for many natural language processing (NLP) tasks that utilize pre-train…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2208.12268">

<!--Generated on Wed Mar 13 17:37:15 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
FL,  prompt tuning,  PLM,  split aggregation
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">1<sup id="id2.1.id1" class="ltx_sup">st</sup> Haodong Zhao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id3.2.id1" class="ltx_text ltx_font_italic">Shanghai Jiao Tong University</span>
<br class="ltx_break">Shanghai, China 
<br class="ltx_break">zhaohaodong@sjtu.edu.cn
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">2<sup id="id4.1.id1" class="ltx_sup">nd</sup> Wei Du
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id5.2.id1" class="ltx_text ltx_font_italic">Shanghai Jiao Tong University</span>
<br class="ltx_break">Shanghai, China 
<br class="ltx_break">dddddw@sjtu.edu.cn
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">3<sup id="id6.1.id1" class="ltx_sup">rd</sup> Fangqi Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id7.2.id1" class="ltx_text ltx_font_italic">Shanghai Jiao Tong University</span>
<br class="ltx_break">Shanghai, China 
<br class="ltx_break">solour_lfq@sjtu.edu.cn
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">4<sup id="id8.1.id1" class="ltx_sup">th</sup> Peixuan Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id9.2.id1" class="ltx_text ltx_font_italic">Shanghai Jiao Tong University</span>
<br class="ltx_break">Shanghai, China 
<br class="ltx_break">peixuan.li@sjtu.edu.cn
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">5<sup id="id10.2.id1" class="ltx_sup">th</sup> Gongshen Liu<sup id="id11.3.id2" class="ltx_sup">∗</sup>
</span><span class="ltx_author_notes">* corresponding author. This research work has been sponsored by the Joint Funds of the National Natural Science Foundation of China (Grant No.U21B2020) and Ant Group.
<span class="ltx_contact ltx_role_affiliation"><span id="id12.4.id1" class="ltx_text ltx_font_italic">Shanghai Jiao Tong University</span>
<br class="ltx_break">Shanghai, China 
<br class="ltx_break">lgshen@sjtu.edu.cn
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id13.id1" class="ltx_p">Federated learning (FL) has enabled global model training on decentralized data in a privacy-preserving way by aggregating model updates. However, for many natural language processing (NLP) tasks that utilize pre-trained language models (PLMs) with large numbers of parameters, there are considerable communication costs associated with FL. Recently, prompt tuning, which tunes some soft prompts without modifying PLMs, has achieved excellent performance as a new learning paradigm. Therefore we want to combine the two methods and explore the effect of prompt tuning under FL.
In this paper, we propose ”FedPrompt” to study prompt tuning in a model split aggregation way using FL, and prove that split aggregation greatly reduces the communication cost, only 0.01% of the PLMs’ parameters, with little decrease on accuracy both on IID and Non-IID data distribution. This improves the efficiency of FL method while also protecting the data privacy in prompt tuning.
In addition, like PLMs, prompts are uploaded and downloaded between public platforms and personal users, so we try to figure out whether there is still a backdoor threat using only soft prompts in FL scenarios. We further conduct backdoor attacks by data poisoning on FedPrompt. Our experiments show that normal backdoor attack can not achieve a high attack success rate, proving the robustness of FedPrompt.
We hope this work can promote the application of prompt in FL and raise the awareness of the possible security threats.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
FL, prompt tuning, PLM, split aggregation

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Pre-trained language models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> are widely used in many NLP tasks by the fine-tuning paradigm. However, fine-tuning a PLM with a large number of parameters would be memory-consuming. The reason is that the gradients and optimizer states of all parameters need to be stored. Also the lack of labeled data in fine-tuning phase, as well as few-shot problem, limits the use if this paradigm. When using the pre-training and fine-tuning paradigm in federated learning, the communication cost is even higher as all parameters of the PLMs provided by each participant need to be aggregated in each round of the training process. Therefore, it is very important and urgent to find ways to improve the efficiency of pre-trained models in federated learning. Recently, prompt tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> has achieved excellent results as a learning paradigm for adapting fixed PLMs to different downstream tasks. As shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, soft prompt as well as [MASK] token are added to the text as inputs to the model. Among them, soft prompt is used as trainable parameters to be adapted to downstream tasks, [MASK] token is used to predict the label word for the downstream task, and verbalizer is used to map the label word to the real label. All downstream tasks can be uniformly transformed into the form of pre-training tasks of PLMs. Thus, using a fixed PLM and different soft prompts can be applied to different downstream tasks. Also, freezing the parameters of PLM and only tuning the soft prompt significantly reduces the number of training parameters.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2208.12268/assets/prompt.png" id="S1.F1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="310" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The example of prompt tuning, which consists of soft prompt, text, PLM and verbalizer.</figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Nowadays, with mobile devices becoming the primary computing devices for many people, a huge amount of data is generated and distributed on a wide range of devices. It is an important opportunity and challenge to make full use of these devices and data. Although deep learning has made a lot of progress in many scenarios <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, a data center is required to collect data for training in most cases. Models trained on such data have stronger usability in many intelligent applications, but exchanging and storing sensitive data in a data center carries risks and responsibilities <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. Previous distributed deep learning methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> propose solutions to big data and huge models. However, the computation and communication cost of traditional distributed learning are unacceptable for participants <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p"><span id="S1.p3.1.1" class="ltx_text ltx_font_bold">FL</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> is an attractive learning method that aims to train a global model over decentralized data while preserving data privacy.
In federated learning a subset of clients download a local copy of global model, and compute local model gradients with their local private data in each round. A central server coordinates the distributed clients and only aggregates local model parameters to update the global model, collaborating isolated data islands without raw data exchanging. FL takes multiple rounds of local and global procedures until convergence. Advanced privacy protection methods, e.g., differential privacy (DP), can be further applied for
stricter privacy protection.</p>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2208.12268/assets/new_fedprompt.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="1017" height="713" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Structure of FedPrompt and full PLM fine-tuning using FL. The above one is full PLM fine-tuning using FL, all of the parameters (framed pink nodes) need to be updated. The bottom one is FedPrompt, only soft prompt parameters (framed pink nodes) need to be updated, aggregated (in server) and distributed.</figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">According to above illustration, it seems that using PLM-empowered methods in FL will achieve remarkable performance. For example, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> propose a news recommendation method to train models using FL. However, when using FL, the model sizes of many existing news recommendation methods are too large to communicate between participants. For example, the base version of BERT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> models have more than 110M parameters.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">In this paper, we modify prompt tuning in a model split aggregation way using FL, named ”FedPrompt”, where no prior work has been done.
First, unlike simple FL methods tune and aggregate full model parameters, FedPrompt only tunes and aggregates some soft prompts for corresponding downstream tasks in FL, and freezes PLMs to decrease communication cost.
Second, we are interested in the security of FedPrompt. Prompts are uploaded and downloaded between public platforms and personal users like PLMs, and backdoor attacks are difficult to find for users. We try to get a poisoned global prompt then when the PLMs are loaded with the poisoned prompt, the model will be implanted with the backdoor.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Experiments carried on various NLP tasks, such as sentiment analysis and sentence-pair classification prove that FedPrompt reduces the communication cost greatly with little decrease on accuracy. Further experiments on backdoor attack show that only by normal methods that poisoning part of training data, the poisoned prompt can not establish a shortcut between the specific trigger word and the target label word. Compared to the method of aggregating and tuning all parameters of huge model, FedPrompt is much more communication-efficient. And compared to prompt tuning without using FL, FedPrompt outperforms in privacy preservation. We also consider other prompt types for a better performance, and using local differential privacy (LDP) to gurantee the privacy. Our contributions are summarized as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose FedPrompt, the new prompt tuning method using FL, freezes PLMs and only aggregates and tunes some soft prompts to decrease communication cost.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We conduct extensive experiments on NLP tasks to measure the performance of FedPrompt. Experiments show that FedPrompt can reduce the communication cost greatly with little decrease on accuracy.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We further test the model robustness to backdoor attack, and experiment on different hyper-parameter settings, prompt types and LDP to promote the better performance of FedPrompt.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related Work</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Prompt tuning first appeared in WARP proposed by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, after which this method of adding continuous trainable vectors to the input began to be widely studied. Prefix-Tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> adds soft prompt to each layer of the transformer model and applies it to natural language generation (NLG) tasks. P-tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> proposes that some task-related hard prompts can be used as anchors while using soft prompt. Prompt tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> explores the effect of soft prompt on domain adaptation and different model scales. They found that the larger the scale of PLMs, the better the effect of prompt tuning. Recently, P-tuningV2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> more finely designs prompt tuning on the basis of the above research. They use a deep soft prompt similar to Prefix-Tuning, and change the verbalizer to a linear classification head, which means that they no longer use the way of mask language model (MLM) to get predictions. They also try to apply prompt tuning to difficult natural language understanding (NLU) tasks (i.e., sequence tagging), such as name entity recognition and semantic role labeling. Moreover, PTR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> applies logic rules to build templates that are more suitable for text classification tasks, and PPT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> pre-trains the soft prompt on multiple different tasks to get a better prompt tuning for the downstream tasks.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> is a distributed machine learning method that aggregates global model by each local model sharing its parameters (gradients) with the central server after every round of local training on its local data. Proposed FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> enables clients to collaboratively train global model without sharing their original data. Various extensions of FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> have been proposed to obtain better performance in communication and deal with heterogeneity. To reduce computation and communication, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> propose a framework decomposing big recommendation model into a large news model only in server and shared user model.
However, though above methods do not share local data directly, naive parameters (gradients) sharing method could lead to privacy leakage of clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>. Consequently, several methods are proposed to protect privacy, including differential privacy (DP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> and secure multi-party computation (MPC) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. In addition to privacy leakage, many works propose mechanisms to poison FL models in training phase <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> and evasion attacks in inference or testing phase <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">As none of the above mentioned works study prompt tuning in FL, in this paper, we design a communication-efficient prompt tuning method in FL and design backdoor attack to detect its vulnerability.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Method</span>
</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.4.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.5.2" class="ltx_text ltx_font_italic">Preliminaries</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.7" class="ltx_p">In FL setting, suppose there are <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">K</annotation></semantics></math> clients, each client hosts a private dataset <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{D}_{k}=\{(x_{k},y_{k})\}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><msub id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml">𝒟</mi><mi id="S3.SS1.p1.2.m2.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.3.3.cmml">k</mi></msub><mo id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.2.cmml">{</mo><mrow id="S3.SS1.p1.2.m2.1.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.1.2.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS1.p1.2.m2.1.1.1.1.1.2.4" xref="S3.SS1.p1.2.m2.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.1.2.5" xref="S3.SS1.p1.2.m2.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><eq id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2"></eq><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2">𝒟</ci><ci id="S3.SS1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3">𝑘</ci></apply><set id="S3.SS1.p1.2.m2.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1"><interval closure="open" id="S3.SS1.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2"><apply id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.2">𝑦</ci><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.2.3">𝑘</ci></apply></interval></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{D}_{k}=\{(x_{k},y_{k})\}</annotation></semantics></math> owning <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝑛</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">n_{k}</annotation></semantics></math> samples.
We use <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">θ</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝜃</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\theta_{t}</annotation></semantics></math> and <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\theta_{t}^{k}" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><msubsup id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2.2" xref="S3.SS1.p1.5.m5.1.1.2.2.cmml">θ</mi><mi id="S3.SS1.p1.5.m5.1.1.2.3" xref="S3.SS1.p1.5.m5.1.1.2.3.cmml">t</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">superscript</csymbol><apply id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.2.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2.2">𝜃</ci><ci id="S3.SS1.p1.5.m5.1.1.2.3.cmml" xref="S3.SS1.p1.5.m5.1.1.2.3">𝑡</ci></apply><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\theta_{t}^{k}</annotation></semantics></math> to denote the global model and <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="k^{th}" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><msup id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">k</mi><mrow id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml"><mi id="S3.SS1.p1.6.m6.1.1.3.2" xref="S3.SS1.p1.6.m6.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m6.1.1.3.1" xref="S3.SS1.p1.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p1.6.m6.1.1.3.3" xref="S3.SS1.p1.6.m6.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">superscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝑘</ci><apply id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3"><times id="S3.SS1.p1.6.m6.1.1.3.1.cmml" xref="S3.SS1.p1.6.m6.1.1.3.1"></times><ci id="S3.SS1.p1.6.m6.1.1.3.2.cmml" xref="S3.SS1.p1.6.m6.1.1.3.2">𝑡</ci><ci id="S3.SS1.p1.6.m6.1.1.3.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">k^{th}</annotation></semantics></math> local model parameters in communication round <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">t</annotation></semantics></math> respectively. Based on FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, the aggregation process is computed as follows:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.1" class="ltx_Math" alttext="\theta_{t+1}=\sum_{k=1}^{K}{\frac{n_{k}}{n}\theta_{t}^{k}}" display="block"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml"><msub id="S3.E1.m1.1.1.2" xref="S3.E1.m1.1.1.2.cmml"><mi id="S3.E1.m1.1.1.2.2" xref="S3.E1.m1.1.1.2.2.cmml">θ</mi><mrow id="S3.E1.m1.1.1.2.3" xref="S3.E1.m1.1.1.2.3.cmml"><mi id="S3.E1.m1.1.1.2.3.2" xref="S3.E1.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.E1.m1.1.1.2.3.1" xref="S3.E1.m1.1.1.2.3.1.cmml">+</mo><mn id="S3.E1.m1.1.1.2.3.3" xref="S3.E1.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.1.1.3" xref="S3.E1.m1.1.1.3.cmml"><munderover id="S3.E1.m1.1.1.3.1" xref="S3.E1.m1.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E1.m1.1.1.3.1.2.2" xref="S3.E1.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.1.1.3.1.2.3" xref="S3.E1.m1.1.1.3.1.2.3.cmml"><mi id="S3.E1.m1.1.1.3.1.2.3.2" xref="S3.E1.m1.1.1.3.1.2.3.2.cmml">k</mi><mo id="S3.E1.m1.1.1.3.1.2.3.1" xref="S3.E1.m1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.1.1.3.1.2.3.3" xref="S3.E1.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.1.1.3.1.3" xref="S3.E1.m1.1.1.3.1.3.cmml">K</mi></munderover><mrow id="S3.E1.m1.1.1.3.2" xref="S3.E1.m1.1.1.3.2.cmml"><mfrac id="S3.E1.m1.1.1.3.2.2" xref="S3.E1.m1.1.1.3.2.2.cmml"><msub id="S3.E1.m1.1.1.3.2.2.2" xref="S3.E1.m1.1.1.3.2.2.2.cmml"><mi id="S3.E1.m1.1.1.3.2.2.2.2" xref="S3.E1.m1.1.1.3.2.2.2.2.cmml">n</mi><mi id="S3.E1.m1.1.1.3.2.2.2.3" xref="S3.E1.m1.1.1.3.2.2.2.3.cmml">k</mi></msub><mi id="S3.E1.m1.1.1.3.2.2.3" xref="S3.E1.m1.1.1.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.3.2.1" xref="S3.E1.m1.1.1.3.2.1.cmml">​</mo><msubsup id="S3.E1.m1.1.1.3.2.3" xref="S3.E1.m1.1.1.3.2.3.cmml"><mi id="S3.E1.m1.1.1.3.2.3.2.2" xref="S3.E1.m1.1.1.3.2.3.2.2.cmml">θ</mi><mi id="S3.E1.m1.1.1.3.2.3.2.3" xref="S3.E1.m1.1.1.3.2.3.2.3.cmml">t</mi><mi id="S3.E1.m1.1.1.3.2.3.3" xref="S3.E1.m1.1.1.3.2.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1"><eq id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"></eq><apply id="S3.E1.m1.1.1.2.cmml" xref="S3.E1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.2">subscript</csymbol><ci id="S3.E1.m1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.2.2">𝜃</ci><apply id="S3.E1.m1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.2.3"><plus id="S3.E1.m1.1.1.2.3.1.cmml" xref="S3.E1.m1.1.1.2.3.1"></plus><ci id="S3.E1.m1.1.1.2.3.2.cmml" xref="S3.E1.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E1.m1.1.1.2.3.3.cmml" xref="S3.E1.m1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.1.1.3.cmml" xref="S3.E1.m1.1.1.3"><apply id="S3.E1.m1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.1.1.cmml" xref="S3.E1.m1.1.1.3.1">superscript</csymbol><apply id="S3.E1.m1.1.1.3.1.2.cmml" xref="S3.E1.m1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.1.2.1.cmml" xref="S3.E1.m1.1.1.3.1">subscript</csymbol><sum id="S3.E1.m1.1.1.3.1.2.2.cmml" xref="S3.E1.m1.1.1.3.1.2.2"></sum><apply id="S3.E1.m1.1.1.3.1.2.3.cmml" xref="S3.E1.m1.1.1.3.1.2.3"><eq id="S3.E1.m1.1.1.3.1.2.3.1.cmml" xref="S3.E1.m1.1.1.3.1.2.3.1"></eq><ci id="S3.E1.m1.1.1.3.1.2.3.2.cmml" xref="S3.E1.m1.1.1.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E1.m1.1.1.3.1.2.3.3.cmml" xref="S3.E1.m1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.1.1.3.1.3.cmml" xref="S3.E1.m1.1.1.3.1.3">𝐾</ci></apply><apply id="S3.E1.m1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.3.2"><times id="S3.E1.m1.1.1.3.2.1.cmml" xref="S3.E1.m1.1.1.3.2.1"></times><apply id="S3.E1.m1.1.1.3.2.2.cmml" xref="S3.E1.m1.1.1.3.2.2"><divide id="S3.E1.m1.1.1.3.2.2.1.cmml" xref="S3.E1.m1.1.1.3.2.2"></divide><apply id="S3.E1.m1.1.1.3.2.2.2.cmml" xref="S3.E1.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.2.2.2.1.cmml" xref="S3.E1.m1.1.1.3.2.2.2">subscript</csymbol><ci id="S3.E1.m1.1.1.3.2.2.2.2.cmml" xref="S3.E1.m1.1.1.3.2.2.2.2">𝑛</ci><ci id="S3.E1.m1.1.1.3.2.2.2.3.cmml" xref="S3.E1.m1.1.1.3.2.2.2.3">𝑘</ci></apply><ci id="S3.E1.m1.1.1.3.2.2.3.cmml" xref="S3.E1.m1.1.1.3.2.2.3">𝑛</ci></apply><apply id="S3.E1.m1.1.1.3.2.3.cmml" xref="S3.E1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.2.3.1.cmml" xref="S3.E1.m1.1.1.3.2.3">superscript</csymbol><apply id="S3.E1.m1.1.1.3.2.3.2.cmml" xref="S3.E1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.2.3.2.1.cmml" xref="S3.E1.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.E1.m1.1.1.3.2.3.2.2.cmml" xref="S3.E1.m1.1.1.3.2.3.2.2">𝜃</ci><ci id="S3.E1.m1.1.1.3.2.3.2.3.cmml" xref="S3.E1.m1.1.1.3.2.3.2.3">𝑡</ci></apply><ci id="S3.E1.m1.1.1.3.2.3.3.cmml" xref="S3.E1.m1.1.1.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\theta_{t+1}=\sum_{k=1}^{K}{\frac{n_{k}}{n}\theta_{t}^{k}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.11" class="ltx_p">where <math id="S3.SS1.p1.8.m1.1" class="ltx_Math" alttext="n=|\mathcal{D}|=\sum_{k=1}^{K}{n_{k}}" display="inline"><semantics id="S3.SS1.p1.8.m1.1a"><mrow id="S3.SS1.p1.8.m1.1.2" xref="S3.SS1.p1.8.m1.1.2.cmml"><mi id="S3.SS1.p1.8.m1.1.2.2" xref="S3.SS1.p1.8.m1.1.2.2.cmml">n</mi><mo id="S3.SS1.p1.8.m1.1.2.3" xref="S3.SS1.p1.8.m1.1.2.3.cmml">=</mo><mrow id="S3.SS1.p1.8.m1.1.2.4.2" xref="S3.SS1.p1.8.m1.1.2.4.1.cmml"><mo stretchy="false" id="S3.SS1.p1.8.m1.1.2.4.2.1" xref="S3.SS1.p1.8.m1.1.2.4.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m1.1.1" xref="S3.SS1.p1.8.m1.1.1.cmml">𝒟</mi><mo stretchy="false" id="S3.SS1.p1.8.m1.1.2.4.2.2" xref="S3.SS1.p1.8.m1.1.2.4.1.1.cmml">|</mo></mrow><mo rspace="0.111em" id="S3.SS1.p1.8.m1.1.2.5" xref="S3.SS1.p1.8.m1.1.2.5.cmml">=</mo><mrow id="S3.SS1.p1.8.m1.1.2.6" xref="S3.SS1.p1.8.m1.1.2.6.cmml"><msubsup id="S3.SS1.p1.8.m1.1.2.6.1" xref="S3.SS1.p1.8.m1.1.2.6.1.cmml"><mo id="S3.SS1.p1.8.m1.1.2.6.1.2.2" xref="S3.SS1.p1.8.m1.1.2.6.1.2.2.cmml">∑</mo><mrow id="S3.SS1.p1.8.m1.1.2.6.1.2.3" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.cmml"><mi id="S3.SS1.p1.8.m1.1.2.6.1.2.3.2" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.2.cmml">k</mi><mo id="S3.SS1.p1.8.m1.1.2.6.1.2.3.1" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.1.cmml">=</mo><mn id="S3.SS1.p1.8.m1.1.2.6.1.2.3.3" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.8.m1.1.2.6.1.3" xref="S3.SS1.p1.8.m1.1.2.6.1.3.cmml">K</mi></msubsup><msub id="S3.SS1.p1.8.m1.1.2.6.2" xref="S3.SS1.p1.8.m1.1.2.6.2.cmml"><mi id="S3.SS1.p1.8.m1.1.2.6.2.2" xref="S3.SS1.p1.8.m1.1.2.6.2.2.cmml">n</mi><mi id="S3.SS1.p1.8.m1.1.2.6.2.3" xref="S3.SS1.p1.8.m1.1.2.6.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m1.1b"><apply id="S3.SS1.p1.8.m1.1.2.cmml" xref="S3.SS1.p1.8.m1.1.2"><and id="S3.SS1.p1.8.m1.1.2a.cmml" xref="S3.SS1.p1.8.m1.1.2"></and><apply id="S3.SS1.p1.8.m1.1.2b.cmml" xref="S3.SS1.p1.8.m1.1.2"><eq id="S3.SS1.p1.8.m1.1.2.3.cmml" xref="S3.SS1.p1.8.m1.1.2.3"></eq><ci id="S3.SS1.p1.8.m1.1.2.2.cmml" xref="S3.SS1.p1.8.m1.1.2.2">𝑛</ci><apply id="S3.SS1.p1.8.m1.1.2.4.1.cmml" xref="S3.SS1.p1.8.m1.1.2.4.2"><abs id="S3.SS1.p1.8.m1.1.2.4.1.1.cmml" xref="S3.SS1.p1.8.m1.1.2.4.2.1"></abs><ci id="S3.SS1.p1.8.m1.1.1.cmml" xref="S3.SS1.p1.8.m1.1.1">𝒟</ci></apply></apply><apply id="S3.SS1.p1.8.m1.1.2c.cmml" xref="S3.SS1.p1.8.m1.1.2"><eq id="S3.SS1.p1.8.m1.1.2.5.cmml" xref="S3.SS1.p1.8.m1.1.2.5"></eq><share href="#S3.SS1.p1.8.m1.1.2.4.cmml" id="S3.SS1.p1.8.m1.1.2d.cmml" xref="S3.SS1.p1.8.m1.1.2"></share><apply id="S3.SS1.p1.8.m1.1.2.6.cmml" xref="S3.SS1.p1.8.m1.1.2.6"><apply id="S3.SS1.p1.8.m1.1.2.6.1.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.2.6.1.1.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1">superscript</csymbol><apply id="S3.SS1.p1.8.m1.1.2.6.1.2.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.2.6.1.2.1.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1">subscript</csymbol><sum id="S3.SS1.p1.8.m1.1.2.6.1.2.2.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.2.2"></sum><apply id="S3.SS1.p1.8.m1.1.2.6.1.2.3.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3"><eq id="S3.SS1.p1.8.m1.1.2.6.1.2.3.1.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.1"></eq><ci id="S3.SS1.p1.8.m1.1.2.6.1.2.3.2.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.2">𝑘</ci><cn type="integer" id="S3.SS1.p1.8.m1.1.2.6.1.2.3.3.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.2.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.8.m1.1.2.6.1.3.cmml" xref="S3.SS1.p1.8.m1.1.2.6.1.3">𝐾</ci></apply><apply id="S3.SS1.p1.8.m1.1.2.6.2.cmml" xref="S3.SS1.p1.8.m1.1.2.6.2"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m1.1.2.6.2.1.cmml" xref="S3.SS1.p1.8.m1.1.2.6.2">subscript</csymbol><ci id="S3.SS1.p1.8.m1.1.2.6.2.2.cmml" xref="S3.SS1.p1.8.m1.1.2.6.2.2">𝑛</ci><ci id="S3.SS1.p1.8.m1.1.2.6.2.3.cmml" xref="S3.SS1.p1.8.m1.1.2.6.2.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m1.1c">n=|\mathcal{D}|=\sum_{k=1}^{K}{n_{k}}</annotation></semantics></math> is the total num of global combined data and <math id="S3.SS1.p1.9.m2.1" class="ltx_Math" alttext="\mathcal{D}\triangleq\bigcup_{k\in[K]}\mathcal{D}_{k}" display="inline"><semantics id="S3.SS1.p1.9.m2.1a"><mrow id="S3.SS1.p1.9.m2.1.2" xref="S3.SS1.p1.9.m2.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m2.1.2.2" xref="S3.SS1.p1.9.m2.1.2.2.cmml">𝒟</mi><mo rspace="0.111em" id="S3.SS1.p1.9.m2.1.2.1" xref="S3.SS1.p1.9.m2.1.2.1.cmml">≜</mo><mrow id="S3.SS1.p1.9.m2.1.2.3" xref="S3.SS1.p1.9.m2.1.2.3.cmml"><msub id="S3.SS1.p1.9.m2.1.2.3.1" xref="S3.SS1.p1.9.m2.1.2.3.1.cmml"><mo id="S3.SS1.p1.9.m2.1.2.3.1.2" xref="S3.SS1.p1.9.m2.1.2.3.1.2.cmml">⋃</mo><mrow id="S3.SS1.p1.9.m2.1.1.1" xref="S3.SS1.p1.9.m2.1.1.1.cmml"><mi id="S3.SS1.p1.9.m2.1.1.1.3" xref="S3.SS1.p1.9.m2.1.1.1.3.cmml">k</mi><mo id="S3.SS1.p1.9.m2.1.1.1.2" xref="S3.SS1.p1.9.m2.1.1.1.2.cmml">∈</mo><mrow id="S3.SS1.p1.9.m2.1.1.1.4.2" xref="S3.SS1.p1.9.m2.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.SS1.p1.9.m2.1.1.1.4.2.1" xref="S3.SS1.p1.9.m2.1.1.1.4.1.1.cmml">[</mo><mi id="S3.SS1.p1.9.m2.1.1.1.1" xref="S3.SS1.p1.9.m2.1.1.1.1.cmml">K</mi><mo stretchy="false" id="S3.SS1.p1.9.m2.1.1.1.4.2.2" xref="S3.SS1.p1.9.m2.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><msub id="S3.SS1.p1.9.m2.1.2.3.2" xref="S3.SS1.p1.9.m2.1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m2.1.2.3.2.2" xref="S3.SS1.p1.9.m2.1.2.3.2.2.cmml">𝒟</mi><mi id="S3.SS1.p1.9.m2.1.2.3.2.3" xref="S3.SS1.p1.9.m2.1.2.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m2.1b"><apply id="S3.SS1.p1.9.m2.1.2.cmml" xref="S3.SS1.p1.9.m2.1.2"><ci id="S3.SS1.p1.9.m2.1.2.1.cmml" xref="S3.SS1.p1.9.m2.1.2.1">≜</ci><ci id="S3.SS1.p1.9.m2.1.2.2.cmml" xref="S3.SS1.p1.9.m2.1.2.2">𝒟</ci><apply id="S3.SS1.p1.9.m2.1.2.3.cmml" xref="S3.SS1.p1.9.m2.1.2.3"><apply id="S3.SS1.p1.9.m2.1.2.3.1.cmml" xref="S3.SS1.p1.9.m2.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.2.3.1.1.cmml" xref="S3.SS1.p1.9.m2.1.2.3.1">subscript</csymbol><union id="S3.SS1.p1.9.m2.1.2.3.1.2.cmml" xref="S3.SS1.p1.9.m2.1.2.3.1.2"></union><apply id="S3.SS1.p1.9.m2.1.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1.1"><in id="S3.SS1.p1.9.m2.1.1.1.2.cmml" xref="S3.SS1.p1.9.m2.1.1.1.2"></in><ci id="S3.SS1.p1.9.m2.1.1.1.3.cmml" xref="S3.SS1.p1.9.m2.1.1.1.3">𝑘</ci><apply id="S3.SS1.p1.9.m2.1.1.1.4.1.cmml" xref="S3.SS1.p1.9.m2.1.1.1.4.2"><csymbol cd="latexml" id="S3.SS1.p1.9.m2.1.1.1.4.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.SS1.p1.9.m2.1.1.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1.1.1">𝐾</ci></apply></apply></apply><apply id="S3.SS1.p1.9.m2.1.2.3.2.cmml" xref="S3.SS1.p1.9.m2.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.2.3.2.1.cmml" xref="S3.SS1.p1.9.m2.1.2.3.2">subscript</csymbol><ci id="S3.SS1.p1.9.m2.1.2.3.2.2.cmml" xref="S3.SS1.p1.9.m2.1.2.3.2.2">𝒟</ci><ci id="S3.SS1.p1.9.m2.1.2.3.2.3.cmml" xref="S3.SS1.p1.9.m2.1.2.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m2.1c">\mathcal{D}\triangleq\bigcup_{k\in[K]}\mathcal{D}_{k}</annotation></semantics></math> is the global combined dataset. If data distributions are IID (Independent Identically Distribution), all clients have the same number of samples, then <math id="S3.SS1.p1.10.m3.1" class="ltx_Math" alttext="{n_{k}}/{n}" display="inline"><semantics id="S3.SS1.p1.10.m3.1a"><mrow id="S3.SS1.p1.10.m3.1.1" xref="S3.SS1.p1.10.m3.1.1.cmml"><msub id="S3.SS1.p1.10.m3.1.1.2" xref="S3.SS1.p1.10.m3.1.1.2.cmml"><mi id="S3.SS1.p1.10.m3.1.1.2.2" xref="S3.SS1.p1.10.m3.1.1.2.2.cmml">n</mi><mi id="S3.SS1.p1.10.m3.1.1.2.3" xref="S3.SS1.p1.10.m3.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS1.p1.10.m3.1.1.1" xref="S3.SS1.p1.10.m3.1.1.1.cmml">/</mo><mi id="S3.SS1.p1.10.m3.1.1.3" xref="S3.SS1.p1.10.m3.1.1.3.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m3.1b"><apply id="S3.SS1.p1.10.m3.1.1.cmml" xref="S3.SS1.p1.10.m3.1.1"><divide id="S3.SS1.p1.10.m3.1.1.1.cmml" xref="S3.SS1.p1.10.m3.1.1.1"></divide><apply id="S3.SS1.p1.10.m3.1.1.2.cmml" xref="S3.SS1.p1.10.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m3.1.1.2.1.cmml" xref="S3.SS1.p1.10.m3.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.10.m3.1.1.2.2.cmml" xref="S3.SS1.p1.10.m3.1.1.2.2">𝑛</ci><ci id="S3.SS1.p1.10.m3.1.1.2.3.cmml" xref="S3.SS1.p1.10.m3.1.1.2.3">𝑘</ci></apply><ci id="S3.SS1.p1.10.m3.1.1.3.cmml" xref="S3.SS1.p1.10.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m3.1c">{n_{k}}/{n}</annotation></semantics></math> could be replaced by <math id="S3.SS1.p1.11.m4.1" class="ltx_Math" alttext="{1}/{K}" display="inline"><semantics id="S3.SS1.p1.11.m4.1a"><mrow id="S3.SS1.p1.11.m4.1.1" xref="S3.SS1.p1.11.m4.1.1.cmml"><mn id="S3.SS1.p1.11.m4.1.1.2" xref="S3.SS1.p1.11.m4.1.1.2.cmml">1</mn><mo id="S3.SS1.p1.11.m4.1.1.1" xref="S3.SS1.p1.11.m4.1.1.1.cmml">/</mo><mi id="S3.SS1.p1.11.m4.1.1.3" xref="S3.SS1.p1.11.m4.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m4.1b"><apply id="S3.SS1.p1.11.m4.1.1.cmml" xref="S3.SS1.p1.11.m4.1.1"><divide id="S3.SS1.p1.11.m4.1.1.1.cmml" xref="S3.SS1.p1.11.m4.1.1.1"></divide><cn type="integer" id="S3.SS1.p1.11.m4.1.1.2.cmml" xref="S3.SS1.p1.11.m4.1.1.2">1</cn><ci id="S3.SS1.p1.11.m4.1.1.3.cmml" xref="S3.SS1.p1.11.m4.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m4.1c">{1}/{K}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.28" class="ltx_p">In a text classification task, <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="x_{k}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝑥</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">x_{k}</annotation></semantics></math> are the inputs and <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="y_{k}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">y</mi><mi id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑦</ci><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">y_{k}</annotation></semantics></math> are corresponding class labels. Each <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="x^{(i)}\in x_{k}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mrow id="S3.SS1.p2.3.m3.1.2" xref="S3.SS1.p2.3.m3.1.2.cmml"><msup id="S3.SS1.p2.3.m3.1.2.2" xref="S3.SS1.p2.3.m3.1.2.2.cmml"><mi id="S3.SS1.p2.3.m3.1.2.2.2" xref="S3.SS1.p2.3.m3.1.2.2.2.cmml">x</mi><mrow id="S3.SS1.p2.3.m3.1.1.1.3" xref="S3.SS1.p2.3.m3.1.2.2.cmml"><mo stretchy="false" id="S3.SS1.p2.3.m3.1.1.1.3.1" xref="S3.SS1.p2.3.m3.1.2.2.cmml">(</mo><mi id="S3.SS1.p2.3.m3.1.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.3.m3.1.1.1.3.2" xref="S3.SS1.p2.3.m3.1.2.2.cmml">)</mo></mrow></msup><mo id="S3.SS1.p2.3.m3.1.2.1" xref="S3.SS1.p2.3.m3.1.2.1.cmml">∈</mo><msub id="S3.SS1.p2.3.m3.1.2.3" xref="S3.SS1.p2.3.m3.1.2.3.cmml"><mi id="S3.SS1.p2.3.m3.1.2.3.2" xref="S3.SS1.p2.3.m3.1.2.3.2.cmml">x</mi><mi id="S3.SS1.p2.3.m3.1.2.3.3" xref="S3.SS1.p2.3.m3.1.2.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.2.cmml" xref="S3.SS1.p2.3.m3.1.2"><in id="S3.SS1.p2.3.m3.1.2.1.cmml" xref="S3.SS1.p2.3.m3.1.2.1"></in><apply id="S3.SS1.p2.3.m3.1.2.2.cmml" xref="S3.SS1.p2.3.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.2.2.1.cmml" xref="S3.SS1.p2.3.m3.1.2.2">superscript</csymbol><ci id="S3.SS1.p2.3.m3.1.2.2.2.cmml" xref="S3.SS1.p2.3.m3.1.2.2.2">𝑥</ci><ci id="S3.SS1.p2.3.m3.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.3.m3.1.2.3.cmml" xref="S3.SS1.p2.3.m3.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.2.3.1.cmml" xref="S3.SS1.p2.3.m3.1.2.3">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.2.3.2.cmml" xref="S3.SS1.p2.3.m3.1.2.3.2">𝑥</ci><ci id="S3.SS1.p2.3.m3.1.2.3.3.cmml" xref="S3.SS1.p2.3.m3.1.2.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">x^{(i)}\in x_{k}</annotation></semantics></math> consists of tokens <math id="S3.SS1.p2.4.m4.8" class="ltx_Math" alttext="x^{(i)}=\{x_{1}^{(i)},x_{2}^{(i)},\cdots,x_{l}^{(i)}\}" display="inline"><semantics id="S3.SS1.p2.4.m4.8a"><mrow id="S3.SS1.p2.4.m4.8.8" xref="S3.SS1.p2.4.m4.8.8.cmml"><msup id="S3.SS1.p2.4.m4.8.8.5" xref="S3.SS1.p2.4.m4.8.8.5.cmml"><mi id="S3.SS1.p2.4.m4.8.8.5.2" xref="S3.SS1.p2.4.m4.8.8.5.2.cmml">x</mi><mrow id="S3.SS1.p2.4.m4.1.1.1.3" xref="S3.SS1.p2.4.m4.8.8.5.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.1.1.1.3.1" xref="S3.SS1.p2.4.m4.8.8.5.cmml">(</mo><mi id="S3.SS1.p2.4.m4.1.1.1.1" xref="S3.SS1.p2.4.m4.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.1.1.1.3.2" xref="S3.SS1.p2.4.m4.8.8.5.cmml">)</mo></mrow></msup><mo id="S3.SS1.p2.4.m4.8.8.4" xref="S3.SS1.p2.4.m4.8.8.4.cmml">=</mo><mrow id="S3.SS1.p2.4.m4.8.8.3.3" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.8.8.3.3.4" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml">{</mo><msubsup id="S3.SS1.p2.4.m4.6.6.1.1.1" xref="S3.SS1.p2.4.m4.6.6.1.1.1.cmml"><mi id="S3.SS1.p2.4.m4.6.6.1.1.1.2.2" xref="S3.SS1.p2.4.m4.6.6.1.1.1.2.2.cmml">x</mi><mn id="S3.SS1.p2.4.m4.6.6.1.1.1.2.3" xref="S3.SS1.p2.4.m4.6.6.1.1.1.2.3.cmml">1</mn><mrow id="S3.SS1.p2.4.m4.2.2.1.3" xref="S3.SS1.p2.4.m4.6.6.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.2.2.1.3.1" xref="S3.SS1.p2.4.m4.6.6.1.1.1.cmml">(</mo><mi id="S3.SS1.p2.4.m4.2.2.1.1" xref="S3.SS1.p2.4.m4.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.2.2.1.3.2" xref="S3.SS1.p2.4.m4.6.6.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p2.4.m4.8.8.3.3.5" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.4.m4.7.7.2.2.2" xref="S3.SS1.p2.4.m4.7.7.2.2.2.cmml"><mi id="S3.SS1.p2.4.m4.7.7.2.2.2.2.2" xref="S3.SS1.p2.4.m4.7.7.2.2.2.2.2.cmml">x</mi><mn id="S3.SS1.p2.4.m4.7.7.2.2.2.2.3" xref="S3.SS1.p2.4.m4.7.7.2.2.2.2.3.cmml">2</mn><mrow id="S3.SS1.p2.4.m4.3.3.1.3" xref="S3.SS1.p2.4.m4.7.7.2.2.2.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.3.3.1.3.1" xref="S3.SS1.p2.4.m4.7.7.2.2.2.cmml">(</mo><mi id="S3.SS1.p2.4.m4.3.3.1.1" xref="S3.SS1.p2.4.m4.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.3.3.1.3.2" xref="S3.SS1.p2.4.m4.7.7.2.2.2.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p2.4.m4.8.8.3.3.6" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.4.m4.5.5" xref="S3.SS1.p2.4.m4.5.5.cmml">⋯</mi><mo id="S3.SS1.p2.4.m4.8.8.3.3.7" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.4.m4.8.8.3.3.3" xref="S3.SS1.p2.4.m4.8.8.3.3.3.cmml"><mi id="S3.SS1.p2.4.m4.8.8.3.3.3.2.2" xref="S3.SS1.p2.4.m4.8.8.3.3.3.2.2.cmml">x</mi><mi id="S3.SS1.p2.4.m4.8.8.3.3.3.2.3" xref="S3.SS1.p2.4.m4.8.8.3.3.3.2.3.cmml">l</mi><mrow id="S3.SS1.p2.4.m4.4.4.1.3" xref="S3.SS1.p2.4.m4.8.8.3.3.3.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.4.4.1.3.1" xref="S3.SS1.p2.4.m4.8.8.3.3.3.cmml">(</mo><mi id="S3.SS1.p2.4.m4.4.4.1.1" xref="S3.SS1.p2.4.m4.4.4.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.4.4.1.3.2" xref="S3.SS1.p2.4.m4.8.8.3.3.3.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.SS1.p2.4.m4.8.8.3.3.8" xref="S3.SS1.p2.4.m4.8.8.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.8b"><apply id="S3.SS1.p2.4.m4.8.8.cmml" xref="S3.SS1.p2.4.m4.8.8"><eq id="S3.SS1.p2.4.m4.8.8.4.cmml" xref="S3.SS1.p2.4.m4.8.8.4"></eq><apply id="S3.SS1.p2.4.m4.8.8.5.cmml" xref="S3.SS1.p2.4.m4.8.8.5"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.8.8.5.1.cmml" xref="S3.SS1.p2.4.m4.8.8.5">superscript</csymbol><ci id="S3.SS1.p2.4.m4.8.8.5.2.cmml" xref="S3.SS1.p2.4.m4.8.8.5.2">𝑥</ci><ci id="S3.SS1.p2.4.m4.1.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1.1">𝑖</ci></apply><set id="S3.SS1.p2.4.m4.8.8.3.4.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3"><apply id="S3.SS1.p2.4.m4.6.6.1.1.1.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.6.6.1.1.1.1.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.4.m4.6.6.1.1.1.2.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.6.6.1.1.1.2.1.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.6.6.1.1.1.2.2.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS1.p2.4.m4.6.6.1.1.1.2.3.cmml" xref="S3.SS1.p2.4.m4.6.6.1.1.1.2.3">1</cn></apply><ci id="S3.SS1.p2.4.m4.2.2.1.1.cmml" xref="S3.SS1.p2.4.m4.2.2.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.4.m4.7.7.2.2.2.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.7.7.2.2.2.1.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2">superscript</csymbol><apply id="S3.SS1.p2.4.m4.7.7.2.2.2.2.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.7.7.2.2.2.2.1.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.4.m4.7.7.2.2.2.2.2.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2.2.2">𝑥</ci><cn type="integer" id="S3.SS1.p2.4.m4.7.7.2.2.2.2.3.cmml" xref="S3.SS1.p2.4.m4.7.7.2.2.2.2.3">2</cn></apply><ci id="S3.SS1.p2.4.m4.3.3.1.1.cmml" xref="S3.SS1.p2.4.m4.3.3.1.1">𝑖</ci></apply><ci id="S3.SS1.p2.4.m4.5.5.cmml" xref="S3.SS1.p2.4.m4.5.5">⋯</ci><apply id="S3.SS1.p2.4.m4.8.8.3.3.3.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.8.8.3.3.3.1.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3">superscript</csymbol><apply id="S3.SS1.p2.4.m4.8.8.3.3.3.2.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.8.8.3.3.3.2.1.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.4.m4.8.8.3.3.3.2.2.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3.2.2">𝑥</ci><ci id="S3.SS1.p2.4.m4.8.8.3.3.3.2.3.cmml" xref="S3.SS1.p2.4.m4.8.8.3.3.3.2.3">𝑙</ci></apply><ci id="S3.SS1.p2.4.m4.4.4.1.1.cmml" xref="S3.SS1.p2.4.m4.4.4.1.1">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.8c">x^{(i)}=\{x_{1}^{(i)},x_{2}^{(i)},\cdots,x_{l}^{(i)}\}</annotation></semantics></math>, where <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">l</annotation></semantics></math> is the length of single input. The prompt tuning structure is composed of the soft prompt <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="\mathbf{p}" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><mi id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">𝐩</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">𝐩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">\mathbf{p}</annotation></semantics></math>, the template <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="\mathcal{T}(\cdot)" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><mrow id="S3.SS1.p2.7.m7.1.2" xref="S3.SS1.p2.7.m7.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.7.m7.1.2.2" xref="S3.SS1.p2.7.m7.1.2.2.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.7.m7.1.2.1" xref="S3.SS1.p2.7.m7.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.7.m7.1.2.3.2" xref="S3.SS1.p2.7.m7.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.7.m7.1.2.3.2.1" xref="S3.SS1.p2.7.m7.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.7.m7.1.2.3.2.2" xref="S3.SS1.p2.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.2.cmml" xref="S3.SS1.p2.7.m7.1.2"><times id="S3.SS1.p2.7.m7.1.2.1.cmml" xref="S3.SS1.p2.7.m7.1.2.1"></times><ci id="S3.SS1.p2.7.m7.1.2.2.cmml" xref="S3.SS1.p2.7.m7.1.2.2">𝒯</ci><ci id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">\mathcal{T}(\cdot)</annotation></semantics></math>, the verbalizer <math id="S3.SS1.p2.8.m8.1" class="ltx_Math" alttext="\mathcal{V}(\cdot)" display="inline"><semantics id="S3.SS1.p2.8.m8.1a"><mrow id="S3.SS1.p2.8.m8.1.2" xref="S3.SS1.p2.8.m8.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.2.2" xref="S3.SS1.p2.8.m8.1.2.2.cmml">𝒱</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.2.1" xref="S3.SS1.p2.8.m8.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.8.m8.1.2.3.2" xref="S3.SS1.p2.8.m8.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.8.m8.1.2.3.2.1" xref="S3.SS1.p2.8.m8.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.8.m8.1.2.3.2.2" xref="S3.SS1.p2.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.2.cmml" xref="S3.SS1.p2.8.m8.1.2"><times id="S3.SS1.p2.8.m8.1.2.1.cmml" xref="S3.SS1.p2.8.m8.1.2.1"></times><ci id="S3.SS1.p2.8.m8.1.2.2.cmml" xref="S3.SS1.p2.8.m8.1.2.2">𝒱</ci><ci id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">\mathcal{V}(\cdot)</annotation></semantics></math> and the PLM <math id="S3.SS1.p2.9.m9.1" class="ltx_Math" alttext="\mathcal{M}(\cdot)" display="inline"><semantics id="S3.SS1.p2.9.m9.1a"><mrow id="S3.SS1.p2.9.m9.1.2" xref="S3.SS1.p2.9.m9.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.9.m9.1.2.2" xref="S3.SS1.p2.9.m9.1.2.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m9.1.2.1" xref="S3.SS1.p2.9.m9.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.9.m9.1.2.3.2" xref="S3.SS1.p2.9.m9.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.9.m9.1.2.3.2.1" xref="S3.SS1.p2.9.m9.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.9.m9.1.2.3.2.2" xref="S3.SS1.p2.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.1b"><apply id="S3.SS1.p2.9.m9.1.2.cmml" xref="S3.SS1.p2.9.m9.1.2"><times id="S3.SS1.p2.9.m9.1.2.1.cmml" xref="S3.SS1.p2.9.m9.1.2.1"></times><ci id="S3.SS1.p2.9.m9.1.2.2.cmml" xref="S3.SS1.p2.9.m9.1.2.2">ℳ</ci><ci id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.1c">\mathcal{M}(\cdot)</annotation></semantics></math>.
Soft prompt <math id="S3.SS1.p2.10.m10.1" class="ltx_Math" alttext="\mathbf{p}" display="inline"><semantics id="S3.SS1.p2.10.m10.1a"><mi id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml">𝐩</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><ci id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">𝐩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">\mathbf{p}</annotation></semantics></math> consists of tokens
<math id="S3.SS1.p2.11.m11.4" class="ltx_Math" alttext="\mathbf{p}=\{p_{1},p_{2},\cdots,p_{m}\}" display="inline"><semantics id="S3.SS1.p2.11.m11.4a"><mrow id="S3.SS1.p2.11.m11.4.4" xref="S3.SS1.p2.11.m11.4.4.cmml"><mi id="S3.SS1.p2.11.m11.4.4.5" xref="S3.SS1.p2.11.m11.4.4.5.cmml">𝐩</mi><mo id="S3.SS1.p2.11.m11.4.4.4" xref="S3.SS1.p2.11.m11.4.4.4.cmml">=</mo><mrow id="S3.SS1.p2.11.m11.4.4.3.3" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS1.p2.11.m11.4.4.3.3.4" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p2.11.m11.2.2.1.1.1" xref="S3.SS1.p2.11.m11.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.11.m11.2.2.1.1.1.2" xref="S3.SS1.p2.11.m11.2.2.1.1.1.2.cmml">p</mi><mn id="S3.SS1.p2.11.m11.2.2.1.1.1.3" xref="S3.SS1.p2.11.m11.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.11.m11.4.4.3.3.5" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.11.m11.3.3.2.2.2" xref="S3.SS1.p2.11.m11.3.3.2.2.2.cmml"><mi id="S3.SS1.p2.11.m11.3.3.2.2.2.2" xref="S3.SS1.p2.11.m11.3.3.2.2.2.2.cmml">p</mi><mn id="S3.SS1.p2.11.m11.3.3.2.2.2.3" xref="S3.SS1.p2.11.m11.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p2.11.m11.4.4.3.3.6" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.11.m11.1.1" xref="S3.SS1.p2.11.m11.1.1.cmml">⋯</mi><mo id="S3.SS1.p2.11.m11.4.4.3.3.7" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.11.m11.4.4.3.3.3" xref="S3.SS1.p2.11.m11.4.4.3.3.3.cmml"><mi id="S3.SS1.p2.11.m11.4.4.3.3.3.2" xref="S3.SS1.p2.11.m11.4.4.3.3.3.2.cmml">p</mi><mi id="S3.SS1.p2.11.m11.4.4.3.3.3.3" xref="S3.SS1.p2.11.m11.4.4.3.3.3.3.cmml">m</mi></msub><mo stretchy="false" id="S3.SS1.p2.11.m11.4.4.3.3.8" xref="S3.SS1.p2.11.m11.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m11.4b"><apply id="S3.SS1.p2.11.m11.4.4.cmml" xref="S3.SS1.p2.11.m11.4.4"><eq id="S3.SS1.p2.11.m11.4.4.4.cmml" xref="S3.SS1.p2.11.m11.4.4.4"></eq><ci id="S3.SS1.p2.11.m11.4.4.5.cmml" xref="S3.SS1.p2.11.m11.4.4.5">𝐩</ci><set id="S3.SS1.p2.11.m11.4.4.3.4.cmml" xref="S3.SS1.p2.11.m11.4.4.3.3"><apply id="S3.SS1.p2.11.m11.2.2.1.1.1.cmml" xref="S3.SS1.p2.11.m11.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m11.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.11.m11.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.11.m11.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.11.m11.2.2.1.1.1.2">𝑝</ci><cn type="integer" id="S3.SS1.p2.11.m11.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.11.m11.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p2.11.m11.3.3.2.2.2.cmml" xref="S3.SS1.p2.11.m11.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m11.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.11.m11.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.11.m11.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.11.m11.3.3.2.2.2.2">𝑝</ci><cn type="integer" id="S3.SS1.p2.11.m11.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.11.m11.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p2.11.m11.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1">⋯</ci><apply id="S3.SS1.p2.11.m11.4.4.3.3.3.cmml" xref="S3.SS1.p2.11.m11.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m11.4.4.3.3.3.1.cmml" xref="S3.SS1.p2.11.m11.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.11.m11.4.4.3.3.3.2.cmml" xref="S3.SS1.p2.11.m11.4.4.3.3.3.2">𝑝</ci><ci id="S3.SS1.p2.11.m11.4.4.3.3.3.3.cmml" xref="S3.SS1.p2.11.m11.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m11.4c">\mathbf{p}=\{p_{1},p_{2},\cdots,p_{m}\}</annotation></semantics></math>, whose parameters are trainable. <math id="S3.SS1.p2.12.m12.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS1.p2.12.m12.1a"><mi id="S3.SS1.p2.12.m12.1.1" xref="S3.SS1.p2.12.m12.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m12.1b"><ci id="S3.SS1.p2.12.m12.1.1.cmml" xref="S3.SS1.p2.12.m12.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m12.1c">m</annotation></semantics></math> is the
number of the soft prompt tokens.
<math id="S3.SS1.p2.13.m13.1" class="ltx_Math" alttext="\mathcal{T}(\cdot)" display="inline"><semantics id="S3.SS1.p2.13.m13.1a"><mrow id="S3.SS1.p2.13.m13.1.2" xref="S3.SS1.p2.13.m13.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.13.m13.1.2.2" xref="S3.SS1.p2.13.m13.1.2.2.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.13.m13.1.2.1" xref="S3.SS1.p2.13.m13.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.13.m13.1.2.3.2" xref="S3.SS1.p2.13.m13.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.13.m13.1.2.3.2.1" xref="S3.SS1.p2.13.m13.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.13.m13.1.1" xref="S3.SS1.p2.13.m13.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.13.m13.1.2.3.2.2" xref="S3.SS1.p2.13.m13.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.13.m13.1b"><apply id="S3.SS1.p2.13.m13.1.2.cmml" xref="S3.SS1.p2.13.m13.1.2"><times id="S3.SS1.p2.13.m13.1.2.1.cmml" xref="S3.SS1.p2.13.m13.1.2.1"></times><ci id="S3.SS1.p2.13.m13.1.2.2.cmml" xref="S3.SS1.p2.13.m13.1.2.2">𝒯</ci><ci id="S3.SS1.p2.13.m13.1.1.cmml" xref="S3.SS1.p2.13.m13.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.13.m13.1c">\mathcal{T}(\cdot)</annotation></semantics></math> is a function to define where tokens of <math id="S3.SS1.p2.14.m14.1" class="ltx_Math" alttext="x^{(i)}" display="inline"><semantics id="S3.SS1.p2.14.m14.1a"><msup id="S3.SS1.p2.14.m14.1.2" xref="S3.SS1.p2.14.m14.1.2.cmml"><mi id="S3.SS1.p2.14.m14.1.2.2" xref="S3.SS1.p2.14.m14.1.2.2.cmml">x</mi><mrow id="S3.SS1.p2.14.m14.1.1.1.3" xref="S3.SS1.p2.14.m14.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.14.m14.1.1.1.3.1" xref="S3.SS1.p2.14.m14.1.2.cmml">(</mo><mi id="S3.SS1.p2.14.m14.1.1.1.1" xref="S3.SS1.p2.14.m14.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.14.m14.1.1.1.3.2" xref="S3.SS1.p2.14.m14.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.14.m14.1b"><apply id="S3.SS1.p2.14.m14.1.2.cmml" xref="S3.SS1.p2.14.m14.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.14.m14.1.2.1.cmml" xref="S3.SS1.p2.14.m14.1.2">superscript</csymbol><ci id="S3.SS1.p2.14.m14.1.2.2.cmml" xref="S3.SS1.p2.14.m14.1.2.2">𝑥</ci><ci id="S3.SS1.p2.14.m14.1.1.1.1.cmml" xref="S3.SS1.p2.14.m14.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.14.m14.1c">x^{(i)}</annotation></semantics></math> and <math id="S3.SS1.p2.15.m15.1" class="ltx_Math" alttext="\mathbf{p}" display="inline"><semantics id="S3.SS1.p2.15.m15.1a"><mi id="S3.SS1.p2.15.m15.1.1" xref="S3.SS1.p2.15.m15.1.1.cmml">𝐩</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.15.m15.1b"><ci id="S3.SS1.p2.15.m15.1.1.cmml" xref="S3.SS1.p2.15.m15.1.1">𝐩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.15.m15.1c">\mathbf{p}</annotation></semantics></math> are placed. After applying <math id="S3.SS1.p2.16.m16.1" class="ltx_Math" alttext="\mathcal{T}(\cdot)" display="inline"><semantics id="S3.SS1.p2.16.m16.1a"><mrow id="S3.SS1.p2.16.m16.1.2" xref="S3.SS1.p2.16.m16.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.16.m16.1.2.2" xref="S3.SS1.p2.16.m16.1.2.2.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.16.m16.1.2.1" xref="S3.SS1.p2.16.m16.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.16.m16.1.2.3.2" xref="S3.SS1.p2.16.m16.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.16.m16.1.2.3.2.1" xref="S3.SS1.p2.16.m16.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.16.m16.1.1" xref="S3.SS1.p2.16.m16.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.16.m16.1.2.3.2.2" xref="S3.SS1.p2.16.m16.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.16.m16.1b"><apply id="S3.SS1.p2.16.m16.1.2.cmml" xref="S3.SS1.p2.16.m16.1.2"><times id="S3.SS1.p2.16.m16.1.2.1.cmml" xref="S3.SS1.p2.16.m16.1.2.1"></times><ci id="S3.SS1.p2.16.m16.1.2.2.cmml" xref="S3.SS1.p2.16.m16.1.2.2">𝒯</ci><ci id="S3.SS1.p2.16.m16.1.1.cmml" xref="S3.SS1.p2.16.m16.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.16.m16.1c">\mathcal{T}(\cdot)</annotation></semantics></math>, we obtain <math id="S3.SS1.p2.17.m17.4" class="ltx_Math" alttext="x^{(i)}_{prompt}=\mathcal{T}(x^{(i)},\mathbf{p})" display="inline"><semantics id="S3.SS1.p2.17.m17.4a"><mrow id="S3.SS1.p2.17.m17.4.4" xref="S3.SS1.p2.17.m17.4.4.cmml"><msubsup id="S3.SS1.p2.17.m17.4.4.3" xref="S3.SS1.p2.17.m17.4.4.3.cmml"><mi id="S3.SS1.p2.17.m17.4.4.3.2.2" xref="S3.SS1.p2.17.m17.4.4.3.2.2.cmml">x</mi><mrow id="S3.SS1.p2.17.m17.4.4.3.3" xref="S3.SS1.p2.17.m17.4.4.3.3.cmml"><mi id="S3.SS1.p2.17.m17.4.4.3.3.2" xref="S3.SS1.p2.17.m17.4.4.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.3.3.1" xref="S3.SS1.p2.17.m17.4.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.17.m17.4.4.3.3.3" xref="S3.SS1.p2.17.m17.4.4.3.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.3.3.1a" xref="S3.SS1.p2.17.m17.4.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.17.m17.4.4.3.3.4" xref="S3.SS1.p2.17.m17.4.4.3.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.3.3.1b" xref="S3.SS1.p2.17.m17.4.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.17.m17.4.4.3.3.5" xref="S3.SS1.p2.17.m17.4.4.3.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.3.3.1c" xref="S3.SS1.p2.17.m17.4.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.17.m17.4.4.3.3.6" xref="S3.SS1.p2.17.m17.4.4.3.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.3.3.1d" xref="S3.SS1.p2.17.m17.4.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.17.m17.4.4.3.3.7" xref="S3.SS1.p2.17.m17.4.4.3.3.7.cmml">t</mi></mrow><mrow id="S3.SS1.p2.17.m17.1.1.1.3" xref="S3.SS1.p2.17.m17.4.4.3.cmml"><mo stretchy="false" id="S3.SS1.p2.17.m17.1.1.1.3.1" xref="S3.SS1.p2.17.m17.4.4.3.cmml">(</mo><mi id="S3.SS1.p2.17.m17.1.1.1.1" xref="S3.SS1.p2.17.m17.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.17.m17.1.1.1.3.2" xref="S3.SS1.p2.17.m17.4.4.3.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p2.17.m17.4.4.2" xref="S3.SS1.p2.17.m17.4.4.2.cmml">=</mo><mrow id="S3.SS1.p2.17.m17.4.4.1" xref="S3.SS1.p2.17.m17.4.4.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.17.m17.4.4.1.3" xref="S3.SS1.p2.17.m17.4.4.1.3.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.17.m17.4.4.1.2" xref="S3.SS1.p2.17.m17.4.4.1.2.cmml">​</mo><mrow id="S3.SS1.p2.17.m17.4.4.1.1.1" xref="S3.SS1.p2.17.m17.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.17.m17.4.4.1.1.1.2" xref="S3.SS1.p2.17.m17.4.4.1.1.2.cmml">(</mo><msup id="S3.SS1.p2.17.m17.4.4.1.1.1.1" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.cmml"><mi id="S3.SS1.p2.17.m17.4.4.1.1.1.1.2" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.17.m17.2.2.1.3" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.17.m17.2.2.1.3.1" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p2.17.m17.2.2.1.1" xref="S3.SS1.p2.17.m17.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.17.m17.2.2.1.3.2" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.SS1.p2.17.m17.4.4.1.1.1.3" xref="S3.SS1.p2.17.m17.4.4.1.1.2.cmml">,</mo><mi id="S3.SS1.p2.17.m17.3.3" xref="S3.SS1.p2.17.m17.3.3.cmml">𝐩</mi><mo stretchy="false" id="S3.SS1.p2.17.m17.4.4.1.1.1.4" xref="S3.SS1.p2.17.m17.4.4.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.17.m17.4b"><apply id="S3.SS1.p2.17.m17.4.4.cmml" xref="S3.SS1.p2.17.m17.4.4"><eq id="S3.SS1.p2.17.m17.4.4.2.cmml" xref="S3.SS1.p2.17.m17.4.4.2"></eq><apply id="S3.SS1.p2.17.m17.4.4.3.cmml" xref="S3.SS1.p2.17.m17.4.4.3"><csymbol cd="ambiguous" id="S3.SS1.p2.17.m17.4.4.3.1.cmml" xref="S3.SS1.p2.17.m17.4.4.3">subscript</csymbol><apply id="S3.SS1.p2.17.m17.4.4.3.2.cmml" xref="S3.SS1.p2.17.m17.4.4.3"><csymbol cd="ambiguous" id="S3.SS1.p2.17.m17.4.4.3.2.1.cmml" xref="S3.SS1.p2.17.m17.4.4.3">superscript</csymbol><ci id="S3.SS1.p2.17.m17.4.4.3.2.2.cmml" xref="S3.SS1.p2.17.m17.4.4.3.2.2">𝑥</ci><ci id="S3.SS1.p2.17.m17.1.1.1.1.cmml" xref="S3.SS1.p2.17.m17.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.17.m17.4.4.3.3.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3"><times id="S3.SS1.p2.17.m17.4.4.3.3.1.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.1"></times><ci id="S3.SS1.p2.17.m17.4.4.3.3.2.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.2">𝑝</ci><ci id="S3.SS1.p2.17.m17.4.4.3.3.3.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.3">𝑟</ci><ci id="S3.SS1.p2.17.m17.4.4.3.3.4.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.4">𝑜</ci><ci id="S3.SS1.p2.17.m17.4.4.3.3.5.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.5">𝑚</ci><ci id="S3.SS1.p2.17.m17.4.4.3.3.6.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.6">𝑝</ci><ci id="S3.SS1.p2.17.m17.4.4.3.3.7.cmml" xref="S3.SS1.p2.17.m17.4.4.3.3.7">𝑡</ci></apply></apply><apply id="S3.SS1.p2.17.m17.4.4.1.cmml" xref="S3.SS1.p2.17.m17.4.4.1"><times id="S3.SS1.p2.17.m17.4.4.1.2.cmml" xref="S3.SS1.p2.17.m17.4.4.1.2"></times><ci id="S3.SS1.p2.17.m17.4.4.1.3.cmml" xref="S3.SS1.p2.17.m17.4.4.1.3">𝒯</ci><interval closure="open" id="S3.SS1.p2.17.m17.4.4.1.1.2.cmml" xref="S3.SS1.p2.17.m17.4.4.1.1.1"><apply id="S3.SS1.p2.17.m17.4.4.1.1.1.1.cmml" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.17.m17.4.4.1.1.1.1.1.cmml" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p2.17.m17.4.4.1.1.1.1.2.cmml" xref="S3.SS1.p2.17.m17.4.4.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p2.17.m17.2.2.1.1.cmml" xref="S3.SS1.p2.17.m17.2.2.1.1">𝑖</ci></apply><ci id="S3.SS1.p2.17.m17.3.3.cmml" xref="S3.SS1.p2.17.m17.3.3">𝐩</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.17.m17.4c">x^{(i)}_{prompt}=\mathcal{T}(x^{(i)},\mathbf{p})</annotation></semantics></math>. At least one [MASK] token is placed into the <math id="S3.SS1.p2.18.m18.1" class="ltx_Math" alttext="x^{(i)}_{prompt}" display="inline"><semantics id="S3.SS1.p2.18.m18.1a"><msubsup id="S3.SS1.p2.18.m18.1.2" xref="S3.SS1.p2.18.m18.1.2.cmml"><mi id="S3.SS1.p2.18.m18.1.2.2.2" xref="S3.SS1.p2.18.m18.1.2.2.2.cmml">x</mi><mrow id="S3.SS1.p2.18.m18.1.2.3" xref="S3.SS1.p2.18.m18.1.2.3.cmml"><mi id="S3.SS1.p2.18.m18.1.2.3.2" xref="S3.SS1.p2.18.m18.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.18.m18.1.2.3.1" xref="S3.SS1.p2.18.m18.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.18.m18.1.2.3.3" xref="S3.SS1.p2.18.m18.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.18.m18.1.2.3.1a" xref="S3.SS1.p2.18.m18.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.18.m18.1.2.3.4" xref="S3.SS1.p2.18.m18.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.18.m18.1.2.3.1b" xref="S3.SS1.p2.18.m18.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.18.m18.1.2.3.5" xref="S3.SS1.p2.18.m18.1.2.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.18.m18.1.2.3.1c" xref="S3.SS1.p2.18.m18.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.18.m18.1.2.3.6" xref="S3.SS1.p2.18.m18.1.2.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.18.m18.1.2.3.1d" xref="S3.SS1.p2.18.m18.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.18.m18.1.2.3.7" xref="S3.SS1.p2.18.m18.1.2.3.7.cmml">t</mi></mrow><mrow id="S3.SS1.p2.18.m18.1.1.1.3" xref="S3.SS1.p2.18.m18.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.18.m18.1.1.1.3.1" xref="S3.SS1.p2.18.m18.1.2.cmml">(</mo><mi id="S3.SS1.p2.18.m18.1.1.1.1" xref="S3.SS1.p2.18.m18.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.18.m18.1.1.1.3.2" xref="S3.SS1.p2.18.m18.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.18.m18.1b"><apply id="S3.SS1.p2.18.m18.1.2.cmml" xref="S3.SS1.p2.18.m18.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.18.m18.1.2.1.cmml" xref="S3.SS1.p2.18.m18.1.2">subscript</csymbol><apply id="S3.SS1.p2.18.m18.1.2.2.cmml" xref="S3.SS1.p2.18.m18.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.18.m18.1.2.2.1.cmml" xref="S3.SS1.p2.18.m18.1.2">superscript</csymbol><ci id="S3.SS1.p2.18.m18.1.2.2.2.cmml" xref="S3.SS1.p2.18.m18.1.2.2.2">𝑥</ci><ci id="S3.SS1.p2.18.m18.1.1.1.1.cmml" xref="S3.SS1.p2.18.m18.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.18.m18.1.2.3.cmml" xref="S3.SS1.p2.18.m18.1.2.3"><times id="S3.SS1.p2.18.m18.1.2.3.1.cmml" xref="S3.SS1.p2.18.m18.1.2.3.1"></times><ci id="S3.SS1.p2.18.m18.1.2.3.2.cmml" xref="S3.SS1.p2.18.m18.1.2.3.2">𝑝</ci><ci id="S3.SS1.p2.18.m18.1.2.3.3.cmml" xref="S3.SS1.p2.18.m18.1.2.3.3">𝑟</ci><ci id="S3.SS1.p2.18.m18.1.2.3.4.cmml" xref="S3.SS1.p2.18.m18.1.2.3.4">𝑜</ci><ci id="S3.SS1.p2.18.m18.1.2.3.5.cmml" xref="S3.SS1.p2.18.m18.1.2.3.5">𝑚</ci><ci id="S3.SS1.p2.18.m18.1.2.3.6.cmml" xref="S3.SS1.p2.18.m18.1.2.3.6">𝑝</ci><ci id="S3.SS1.p2.18.m18.1.2.3.7.cmml" xref="S3.SS1.p2.18.m18.1.2.3.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.18.m18.1c">x^{(i)}_{prompt}</annotation></semantics></math> for <math id="S3.SS1.p2.19.m19.1" class="ltx_Math" alttext="\mathcal{M}(\cdot)" display="inline"><semantics id="S3.SS1.p2.19.m19.1a"><mrow id="S3.SS1.p2.19.m19.1.2" xref="S3.SS1.p2.19.m19.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.19.m19.1.2.2" xref="S3.SS1.p2.19.m19.1.2.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.19.m19.1.2.1" xref="S3.SS1.p2.19.m19.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.19.m19.1.2.3.2" xref="S3.SS1.p2.19.m19.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.19.m19.1.2.3.2.1" xref="S3.SS1.p2.19.m19.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.19.m19.1.1" xref="S3.SS1.p2.19.m19.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.19.m19.1.2.3.2.2" xref="S3.SS1.p2.19.m19.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.19.m19.1b"><apply id="S3.SS1.p2.19.m19.1.2.cmml" xref="S3.SS1.p2.19.m19.1.2"><times id="S3.SS1.p2.19.m19.1.2.1.cmml" xref="S3.SS1.p2.19.m19.1.2.1"></times><ci id="S3.SS1.p2.19.m19.1.2.2.cmml" xref="S3.SS1.p2.19.m19.1.2.2">ℳ</ci><ci id="S3.SS1.p2.19.m19.1.1.cmml" xref="S3.SS1.p2.19.m19.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.19.m19.1c">\mathcal{M}(\cdot)</annotation></semantics></math> to predict the label word.
<math id="S3.SS1.p2.20.m20.1" class="ltx_Math" alttext="\mathcal{V}(\cdot)" display="inline"><semantics id="S3.SS1.p2.20.m20.1a"><mrow id="S3.SS1.p2.20.m20.1.2" xref="S3.SS1.p2.20.m20.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.20.m20.1.2.2" xref="S3.SS1.p2.20.m20.1.2.2.cmml">𝒱</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.20.m20.1.2.1" xref="S3.SS1.p2.20.m20.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.20.m20.1.2.3.2" xref="S3.SS1.p2.20.m20.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.20.m20.1.2.3.2.1" xref="S3.SS1.p2.20.m20.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.20.m20.1.1" xref="S3.SS1.p2.20.m20.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.20.m20.1.2.3.2.2" xref="S3.SS1.p2.20.m20.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.20.m20.1b"><apply id="S3.SS1.p2.20.m20.1.2.cmml" xref="S3.SS1.p2.20.m20.1.2"><times id="S3.SS1.p2.20.m20.1.2.1.cmml" xref="S3.SS1.p2.20.m20.1.2.1"></times><ci id="S3.SS1.p2.20.m20.1.2.2.cmml" xref="S3.SS1.p2.20.m20.1.2.2">𝒱</ci><ci id="S3.SS1.p2.20.m20.1.1.cmml" xref="S3.SS1.p2.20.m20.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.20.m20.1c">\mathcal{V}(\cdot)</annotation></semantics></math> is a map function to map the label word to the class <math id="S3.SS1.p2.21.m21.1" class="ltx_Math" alttext="\hat{y}=\mathcal{V}(w)" display="inline"><semantics id="S3.SS1.p2.21.m21.1a"><mrow id="S3.SS1.p2.21.m21.1.2" xref="S3.SS1.p2.21.m21.1.2.cmml"><mover accent="true" id="S3.SS1.p2.21.m21.1.2.2" xref="S3.SS1.p2.21.m21.1.2.2.cmml"><mi id="S3.SS1.p2.21.m21.1.2.2.2" xref="S3.SS1.p2.21.m21.1.2.2.2.cmml">y</mi><mo id="S3.SS1.p2.21.m21.1.2.2.1" xref="S3.SS1.p2.21.m21.1.2.2.1.cmml">^</mo></mover><mo id="S3.SS1.p2.21.m21.1.2.1" xref="S3.SS1.p2.21.m21.1.2.1.cmml">=</mo><mrow id="S3.SS1.p2.21.m21.1.2.3" xref="S3.SS1.p2.21.m21.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.21.m21.1.2.3.2" xref="S3.SS1.p2.21.m21.1.2.3.2.cmml">𝒱</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.21.m21.1.2.3.1" xref="S3.SS1.p2.21.m21.1.2.3.1.cmml">​</mo><mrow id="S3.SS1.p2.21.m21.1.2.3.3.2" xref="S3.SS1.p2.21.m21.1.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.21.m21.1.2.3.3.2.1" xref="S3.SS1.p2.21.m21.1.2.3.cmml">(</mo><mi id="S3.SS1.p2.21.m21.1.1" xref="S3.SS1.p2.21.m21.1.1.cmml">w</mi><mo stretchy="false" id="S3.SS1.p2.21.m21.1.2.3.3.2.2" xref="S3.SS1.p2.21.m21.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.21.m21.1b"><apply id="S3.SS1.p2.21.m21.1.2.cmml" xref="S3.SS1.p2.21.m21.1.2"><eq id="S3.SS1.p2.21.m21.1.2.1.cmml" xref="S3.SS1.p2.21.m21.1.2.1"></eq><apply id="S3.SS1.p2.21.m21.1.2.2.cmml" xref="S3.SS1.p2.21.m21.1.2.2"><ci id="S3.SS1.p2.21.m21.1.2.2.1.cmml" xref="S3.SS1.p2.21.m21.1.2.2.1">^</ci><ci id="S3.SS1.p2.21.m21.1.2.2.2.cmml" xref="S3.SS1.p2.21.m21.1.2.2.2">𝑦</ci></apply><apply id="S3.SS1.p2.21.m21.1.2.3.cmml" xref="S3.SS1.p2.21.m21.1.2.3"><times id="S3.SS1.p2.21.m21.1.2.3.1.cmml" xref="S3.SS1.p2.21.m21.1.2.3.1"></times><ci id="S3.SS1.p2.21.m21.1.2.3.2.cmml" xref="S3.SS1.p2.21.m21.1.2.3.2">𝒱</ci><ci id="S3.SS1.p2.21.m21.1.1.cmml" xref="S3.SS1.p2.21.m21.1.1">𝑤</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.21.m21.1c">\hat{y}=\mathcal{V}(w)</annotation></semantics></math>. Usually, each class
can have one or more label words. We call <math id="S3.SS1.p2.22.m22.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS1.p2.22.m22.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.22.m22.1.1" xref="S3.SS1.p2.22.m22.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.22.m22.1b"><ci id="S3.SS1.p2.22.m22.1.1.cmml" xref="S3.SS1.p2.22.m22.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.22.m22.1c">\mathcal{T}</annotation></semantics></math> a multi-word verbalizer when each class has more than one label
word, such as {positive: good, great; negative: bad, terrible;}.
Input <math id="S3.SS1.p2.23.m23.1" class="ltx_Math" alttext="x^{(i)}_{prompt}" display="inline"><semantics id="S3.SS1.p2.23.m23.1a"><msubsup id="S3.SS1.p2.23.m23.1.2" xref="S3.SS1.p2.23.m23.1.2.cmml"><mi id="S3.SS1.p2.23.m23.1.2.2.2" xref="S3.SS1.p2.23.m23.1.2.2.2.cmml">x</mi><mrow id="S3.SS1.p2.23.m23.1.2.3" xref="S3.SS1.p2.23.m23.1.2.3.cmml"><mi id="S3.SS1.p2.23.m23.1.2.3.2" xref="S3.SS1.p2.23.m23.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.23.m23.1.2.3.1" xref="S3.SS1.p2.23.m23.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.23.m23.1.2.3.3" xref="S3.SS1.p2.23.m23.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.23.m23.1.2.3.1a" xref="S3.SS1.p2.23.m23.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.23.m23.1.2.3.4" xref="S3.SS1.p2.23.m23.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.23.m23.1.2.3.1b" xref="S3.SS1.p2.23.m23.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.23.m23.1.2.3.5" xref="S3.SS1.p2.23.m23.1.2.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.23.m23.1.2.3.1c" xref="S3.SS1.p2.23.m23.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.23.m23.1.2.3.6" xref="S3.SS1.p2.23.m23.1.2.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.23.m23.1.2.3.1d" xref="S3.SS1.p2.23.m23.1.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.23.m23.1.2.3.7" xref="S3.SS1.p2.23.m23.1.2.3.7.cmml">t</mi></mrow><mrow id="S3.SS1.p2.23.m23.1.1.1.3" xref="S3.SS1.p2.23.m23.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.23.m23.1.1.1.3.1" xref="S3.SS1.p2.23.m23.1.2.cmml">(</mo><mi id="S3.SS1.p2.23.m23.1.1.1.1" xref="S3.SS1.p2.23.m23.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.23.m23.1.1.1.3.2" xref="S3.SS1.p2.23.m23.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.23.m23.1b"><apply id="S3.SS1.p2.23.m23.1.2.cmml" xref="S3.SS1.p2.23.m23.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.23.m23.1.2.1.cmml" xref="S3.SS1.p2.23.m23.1.2">subscript</csymbol><apply id="S3.SS1.p2.23.m23.1.2.2.cmml" xref="S3.SS1.p2.23.m23.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.23.m23.1.2.2.1.cmml" xref="S3.SS1.p2.23.m23.1.2">superscript</csymbol><ci id="S3.SS1.p2.23.m23.1.2.2.2.cmml" xref="S3.SS1.p2.23.m23.1.2.2.2">𝑥</ci><ci id="S3.SS1.p2.23.m23.1.1.1.1.cmml" xref="S3.SS1.p2.23.m23.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.23.m23.1.2.3.cmml" xref="S3.SS1.p2.23.m23.1.2.3"><times id="S3.SS1.p2.23.m23.1.2.3.1.cmml" xref="S3.SS1.p2.23.m23.1.2.3.1"></times><ci id="S3.SS1.p2.23.m23.1.2.3.2.cmml" xref="S3.SS1.p2.23.m23.1.2.3.2">𝑝</ci><ci id="S3.SS1.p2.23.m23.1.2.3.3.cmml" xref="S3.SS1.p2.23.m23.1.2.3.3">𝑟</ci><ci id="S3.SS1.p2.23.m23.1.2.3.4.cmml" xref="S3.SS1.p2.23.m23.1.2.3.4">𝑜</ci><ci id="S3.SS1.p2.23.m23.1.2.3.5.cmml" xref="S3.SS1.p2.23.m23.1.2.3.5">𝑚</ci><ci id="S3.SS1.p2.23.m23.1.2.3.6.cmml" xref="S3.SS1.p2.23.m23.1.2.3.6">𝑝</ci><ci id="S3.SS1.p2.23.m23.1.2.3.7.cmml" xref="S3.SS1.p2.23.m23.1.2.3.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.23.m23.1c">x^{(i)}_{prompt}</annotation></semantics></math> to <math id="S3.SS1.p2.24.m24.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="S3.SS1.p2.24.m24.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.24.m24.1.1" xref="S3.SS1.p2.24.m24.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.24.m24.1b"><ci id="S3.SS1.p2.24.m24.1.1.cmml" xref="S3.SS1.p2.24.m24.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.24.m24.1c">\mathcal{M}</annotation></semantics></math>, we can obtain the encoded feature [MASK]. By a softmax function, we can compute the probability that the label word <math id="S3.SS1.p2.25.m25.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.SS1.p2.25.m25.1a"><mi id="S3.SS1.p2.25.m25.1.1" xref="S3.SS1.p2.25.m25.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.25.m25.1b"><ci id="S3.SS1.p2.25.m25.1.1.cmml" xref="S3.SS1.p2.25.m25.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.25.m25.1c">w</annotation></semantics></math> can fill the masked position. The label word with the highest probability is the predict word <math id="S3.SS1.p2.26.m26.2" class="ltx_Math" alttext="w=\mathcal{M}(x^{(i)}_{prompt})" display="inline"><semantics id="S3.SS1.p2.26.m26.2a"><mrow id="S3.SS1.p2.26.m26.2.2" xref="S3.SS1.p2.26.m26.2.2.cmml"><mi id="S3.SS1.p2.26.m26.2.2.3" xref="S3.SS1.p2.26.m26.2.2.3.cmml">w</mi><mo id="S3.SS1.p2.26.m26.2.2.2" xref="S3.SS1.p2.26.m26.2.2.2.cmml">=</mo><mrow id="S3.SS1.p2.26.m26.2.2.1" xref="S3.SS1.p2.26.m26.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.26.m26.2.2.1.3" xref="S3.SS1.p2.26.m26.2.2.1.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.2" xref="S3.SS1.p2.26.m26.2.2.1.2.cmml">​</mo><mrow id="S3.SS1.p2.26.m26.2.2.1.1.1" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.26.m26.2.2.1.1.1.2" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p2.26.m26.2.2.1.1.1.1" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml"><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.2" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.2.cmml">x</mi><mrow id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.cmml"><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.2" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.3" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1a" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.4" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1b" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.5" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1c" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.6" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1d" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.7" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.7.cmml">t</mi></mrow><mrow id="S3.SS1.p2.26.m26.1.1.1.3" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.26.m26.1.1.1.3.1" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p2.26.m26.1.1.1.1" xref="S3.SS1.p2.26.m26.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.26.m26.1.1.1.3.2" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.SS1.p2.26.m26.2.2.1.1.1.3" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.26.m26.2b"><apply id="S3.SS1.p2.26.m26.2.2.cmml" xref="S3.SS1.p2.26.m26.2.2"><eq id="S3.SS1.p2.26.m26.2.2.2.cmml" xref="S3.SS1.p2.26.m26.2.2.2"></eq><ci id="S3.SS1.p2.26.m26.2.2.3.cmml" xref="S3.SS1.p2.26.m26.2.2.3">𝑤</ci><apply id="S3.SS1.p2.26.m26.2.2.1.cmml" xref="S3.SS1.p2.26.m26.2.2.1"><times id="S3.SS1.p2.26.m26.2.2.1.2.cmml" xref="S3.SS1.p2.26.m26.2.2.1.2"></times><ci id="S3.SS1.p2.26.m26.2.2.1.3.cmml" xref="S3.SS1.p2.26.m26.2.2.1.3">ℳ</ci><apply id="S3.SS1.p2.26.m26.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1">superscript</csymbol><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.2.2">𝑥</ci><ci id="S3.SS1.p2.26.m26.1.1.1.1.cmml" xref="S3.SS1.p2.26.m26.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3"><times id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.1"></times><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.2">𝑝</ci><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.3">𝑟</ci><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.4.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.4">𝑜</ci><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.5.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.5">𝑚</ci><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.6.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.6">𝑝</ci><ci id="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.7.cmml" xref="S3.SS1.p2.26.m26.2.2.1.1.1.1.3.7">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.26.m26.2c">w=\mathcal{M}(x^{(i)}_{prompt})</annotation></semantics></math> and the predict class can be obtained by <math id="S3.SS1.p2.27.m27.1" class="ltx_Math" alttext="\hat{y}=\mathcal{V}(w)" display="inline"><semantics id="S3.SS1.p2.27.m27.1a"><mrow id="S3.SS1.p2.27.m27.1.2" xref="S3.SS1.p2.27.m27.1.2.cmml"><mover accent="true" id="S3.SS1.p2.27.m27.1.2.2" xref="S3.SS1.p2.27.m27.1.2.2.cmml"><mi id="S3.SS1.p2.27.m27.1.2.2.2" xref="S3.SS1.p2.27.m27.1.2.2.2.cmml">y</mi><mo id="S3.SS1.p2.27.m27.1.2.2.1" xref="S3.SS1.p2.27.m27.1.2.2.1.cmml">^</mo></mover><mo id="S3.SS1.p2.27.m27.1.2.1" xref="S3.SS1.p2.27.m27.1.2.1.cmml">=</mo><mrow id="S3.SS1.p2.27.m27.1.2.3" xref="S3.SS1.p2.27.m27.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.27.m27.1.2.3.2" xref="S3.SS1.p2.27.m27.1.2.3.2.cmml">𝒱</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.27.m27.1.2.3.1" xref="S3.SS1.p2.27.m27.1.2.3.1.cmml">​</mo><mrow id="S3.SS1.p2.27.m27.1.2.3.3.2" xref="S3.SS1.p2.27.m27.1.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.27.m27.1.2.3.3.2.1" xref="S3.SS1.p2.27.m27.1.2.3.cmml">(</mo><mi id="S3.SS1.p2.27.m27.1.1" xref="S3.SS1.p2.27.m27.1.1.cmml">w</mi><mo stretchy="false" id="S3.SS1.p2.27.m27.1.2.3.3.2.2" xref="S3.SS1.p2.27.m27.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.27.m27.1b"><apply id="S3.SS1.p2.27.m27.1.2.cmml" xref="S3.SS1.p2.27.m27.1.2"><eq id="S3.SS1.p2.27.m27.1.2.1.cmml" xref="S3.SS1.p2.27.m27.1.2.1"></eq><apply id="S3.SS1.p2.27.m27.1.2.2.cmml" xref="S3.SS1.p2.27.m27.1.2.2"><ci id="S3.SS1.p2.27.m27.1.2.2.1.cmml" xref="S3.SS1.p2.27.m27.1.2.2.1">^</ci><ci id="S3.SS1.p2.27.m27.1.2.2.2.cmml" xref="S3.SS1.p2.27.m27.1.2.2.2">𝑦</ci></apply><apply id="S3.SS1.p2.27.m27.1.2.3.cmml" xref="S3.SS1.p2.27.m27.1.2.3"><times id="S3.SS1.p2.27.m27.1.2.3.1.cmml" xref="S3.SS1.p2.27.m27.1.2.3.1"></times><ci id="S3.SS1.p2.27.m27.1.2.3.2.cmml" xref="S3.SS1.p2.27.m27.1.2.3.2">𝒱</ci><ci id="S3.SS1.p2.27.m27.1.1.cmml" xref="S3.SS1.p2.27.m27.1.1">𝑤</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.27.m27.1c">\hat{y}=\mathcal{V}(w)</annotation></semantics></math>. We rewrite the prompt tuning process as <math id="S3.SS1.p2.28.m28.5" class="ltx_Math" alttext="\hat{y}^{(i)}=f(x^{(i)},\mathbf{p},\theta)" display="inline"><semantics id="S3.SS1.p2.28.m28.5a"><mrow id="S3.SS1.p2.28.m28.5.5" xref="S3.SS1.p2.28.m28.5.5.cmml"><msup id="S3.SS1.p2.28.m28.5.5.3" xref="S3.SS1.p2.28.m28.5.5.3.cmml"><mover accent="true" id="S3.SS1.p2.28.m28.5.5.3.2" xref="S3.SS1.p2.28.m28.5.5.3.2.cmml"><mi id="S3.SS1.p2.28.m28.5.5.3.2.2" xref="S3.SS1.p2.28.m28.5.5.3.2.2.cmml">y</mi><mo id="S3.SS1.p2.28.m28.5.5.3.2.1" xref="S3.SS1.p2.28.m28.5.5.3.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.28.m28.1.1.1.3" xref="S3.SS1.p2.28.m28.5.5.3.cmml"><mo stretchy="false" id="S3.SS1.p2.28.m28.1.1.1.3.1" xref="S3.SS1.p2.28.m28.5.5.3.cmml">(</mo><mi id="S3.SS1.p2.28.m28.1.1.1.1" xref="S3.SS1.p2.28.m28.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.28.m28.1.1.1.3.2" xref="S3.SS1.p2.28.m28.5.5.3.cmml">)</mo></mrow></msup><mo id="S3.SS1.p2.28.m28.5.5.2" xref="S3.SS1.p2.28.m28.5.5.2.cmml">=</mo><mrow id="S3.SS1.p2.28.m28.5.5.1" xref="S3.SS1.p2.28.m28.5.5.1.cmml"><mi id="S3.SS1.p2.28.m28.5.5.1.3" xref="S3.SS1.p2.28.m28.5.5.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.28.m28.5.5.1.2" xref="S3.SS1.p2.28.m28.5.5.1.2.cmml">​</mo><mrow id="S3.SS1.p2.28.m28.5.5.1.1.1" xref="S3.SS1.p2.28.m28.5.5.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.28.m28.5.5.1.1.1.2" xref="S3.SS1.p2.28.m28.5.5.1.1.2.cmml">(</mo><msup id="S3.SS1.p2.28.m28.5.5.1.1.1.1" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.cmml"><mi id="S3.SS1.p2.28.m28.5.5.1.1.1.1.2" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.28.m28.2.2.1.3" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.28.m28.2.2.1.3.1" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p2.28.m28.2.2.1.1" xref="S3.SS1.p2.28.m28.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.28.m28.2.2.1.3.2" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.SS1.p2.28.m28.5.5.1.1.1.3" xref="S3.SS1.p2.28.m28.5.5.1.1.2.cmml">,</mo><mi id="S3.SS1.p2.28.m28.3.3" xref="S3.SS1.p2.28.m28.3.3.cmml">𝐩</mi><mo id="S3.SS1.p2.28.m28.5.5.1.1.1.4" xref="S3.SS1.p2.28.m28.5.5.1.1.2.cmml">,</mo><mi id="S3.SS1.p2.28.m28.4.4" xref="S3.SS1.p2.28.m28.4.4.cmml">θ</mi><mo stretchy="false" id="S3.SS1.p2.28.m28.5.5.1.1.1.5" xref="S3.SS1.p2.28.m28.5.5.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.28.m28.5b"><apply id="S3.SS1.p2.28.m28.5.5.cmml" xref="S3.SS1.p2.28.m28.5.5"><eq id="S3.SS1.p2.28.m28.5.5.2.cmml" xref="S3.SS1.p2.28.m28.5.5.2"></eq><apply id="S3.SS1.p2.28.m28.5.5.3.cmml" xref="S3.SS1.p2.28.m28.5.5.3"><csymbol cd="ambiguous" id="S3.SS1.p2.28.m28.5.5.3.1.cmml" xref="S3.SS1.p2.28.m28.5.5.3">superscript</csymbol><apply id="S3.SS1.p2.28.m28.5.5.3.2.cmml" xref="S3.SS1.p2.28.m28.5.5.3.2"><ci id="S3.SS1.p2.28.m28.5.5.3.2.1.cmml" xref="S3.SS1.p2.28.m28.5.5.3.2.1">^</ci><ci id="S3.SS1.p2.28.m28.5.5.3.2.2.cmml" xref="S3.SS1.p2.28.m28.5.5.3.2.2">𝑦</ci></apply><ci id="S3.SS1.p2.28.m28.1.1.1.1.cmml" xref="S3.SS1.p2.28.m28.1.1.1.1">𝑖</ci></apply><apply id="S3.SS1.p2.28.m28.5.5.1.cmml" xref="S3.SS1.p2.28.m28.5.5.1"><times id="S3.SS1.p2.28.m28.5.5.1.2.cmml" xref="S3.SS1.p2.28.m28.5.5.1.2"></times><ci id="S3.SS1.p2.28.m28.5.5.1.3.cmml" xref="S3.SS1.p2.28.m28.5.5.1.3">𝑓</ci><vector id="S3.SS1.p2.28.m28.5.5.1.1.2.cmml" xref="S3.SS1.p2.28.m28.5.5.1.1.1"><apply id="S3.SS1.p2.28.m28.5.5.1.1.1.1.cmml" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.28.m28.5.5.1.1.1.1.1.cmml" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p2.28.m28.5.5.1.1.1.1.2.cmml" xref="S3.SS1.p2.28.m28.5.5.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p2.28.m28.2.2.1.1.cmml" xref="S3.SS1.p2.28.m28.2.2.1.1">𝑖</ci></apply><ci id="S3.SS1.p2.28.m28.3.3.cmml" xref="S3.SS1.p2.28.m28.3.3">𝐩</ci><ci id="S3.SS1.p2.28.m28.4.4.cmml" xref="S3.SS1.p2.28.m28.4.4">𝜃</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.28.m28.5c">\hat{y}^{(i)}=f(x^{(i)},\mathbf{p},\theta)</annotation></semantics></math>,</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.11.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> FedPrompt Algorithm</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.9" class="ltx_p ltx_figure_panel"><span id="alg1.9.1" class="ltx_text ltx_font_bold">Input</span>: <math id="alg1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.1.m1.1a"><mi id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><ci id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">K</annotation></semantics></math> clients indexed by <math id="alg1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.2.m2.1a"><mi id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><ci id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">k</annotation></semantics></math>, client fraction <math id="alg1.3.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg1.3.m3.1a"><mi id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg1.3.m3.1b"><ci id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.1c">C</annotation></semantics></math>, <math id="alg1.4.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.4.m4.1a"><mi id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><ci id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">T</annotation></semantics></math> communication rounds indexed by t, local minibatch size <math id="alg1.5.m5.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.5.m5.1a"><mi id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.5.m5.1b"><ci id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.1c">B</annotation></semantics></math>, local epochs <math id="alg1.6.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.6.m6.1a"><mi id="alg1.6.m6.1.1" xref="alg1.6.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.6.m6.1b"><ci id="alg1.6.m6.1.1.cmml" xref="alg1.6.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m6.1c">E</annotation></semantics></math>, learning rate <math id="alg1.7.m7.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.7.m7.1a"><mi id="alg1.7.m7.1.1" xref="alg1.7.m7.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.7.m7.1b"><ci id="alg1.7.m7.1.1.cmml" xref="alg1.7.m7.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m7.1c">\eta</annotation></semantics></math>, PLM parameters <math id="alg1.8.m8.1" class="ltx_Math" alttext="F" display="inline"><semantics id="alg1.8.m8.1a"><mi id="alg1.8.m8.1.1" xref="alg1.8.m8.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="alg1.8.m8.1b"><ci id="alg1.8.m8.1.1.cmml" xref="alg1.8.m8.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m8.1c">F</annotation></semantics></math>, soft prompts parameters <math id="alg1.9.m9.1" class="ltx_Math" alttext="P" display="inline"><semantics id="alg1.9.m9.1a"><mi id="alg1.9.m9.1.1" xref="alg1.9.m9.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="alg1.9.m9.1b"><ci id="alg1.9.m9.1.1.cmml" xref="alg1.9.m9.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.m9.1c">P</annotation></semantics></math>.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.12" class="ltx_p ltx_figure_panel"><span id="alg1.12.1" class="ltx_text ltx_font_bold">Server executes:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.13" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  Initialize global model.

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  Distribute <math id="alg1.l2.m1.1" class="ltx_Math" alttext="F" display="inline"><semantics id="alg1.l2.m1.1a"><mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">F</annotation></semantics></math> (fixed during the process) to all clients.

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>  <span id="alg1.l3.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l3.m1.3" class="ltx_Math" alttext="t\in\{1,\cdots,T\}" display="inline"><semantics id="alg1.l3.m1.3a"><mrow id="alg1.l3.m1.3.4" xref="alg1.l3.m1.3.4.cmml"><mi id="alg1.l3.m1.3.4.2" xref="alg1.l3.m1.3.4.2.cmml">t</mi><mo id="alg1.l3.m1.3.4.1" xref="alg1.l3.m1.3.4.1.cmml">∈</mo><mrow id="alg1.l3.m1.3.4.3.2" xref="alg1.l3.m1.3.4.3.1.cmml"><mo stretchy="false" id="alg1.l3.m1.3.4.3.2.1" xref="alg1.l3.m1.3.4.3.1.cmml">{</mo><mn id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.3.4.3.2.2" xref="alg1.l3.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml">⋯</mi><mo id="alg1.l3.m1.3.4.3.2.3" xref="alg1.l3.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l3.m1.3.3" xref="alg1.l3.m1.3.3.cmml">T</mi><mo stretchy="false" id="alg1.l3.m1.3.4.3.2.4" xref="alg1.l3.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.3b"><apply id="alg1.l3.m1.3.4.cmml" xref="alg1.l3.m1.3.4"><in id="alg1.l3.m1.3.4.1.cmml" xref="alg1.l3.m1.3.4.1"></in><ci id="alg1.l3.m1.3.4.2.cmml" xref="alg1.l3.m1.3.4.2">𝑡</ci><set id="alg1.l3.m1.3.4.3.1.cmml" xref="alg1.l3.m1.3.4.3.2"><cn type="integer" id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">1</cn><ci id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2">⋯</ci><ci id="alg1.l3.m1.3.3.cmml" xref="alg1.l3.m1.3.3">𝑇</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.3c">t\in\{1,\cdots,T\}</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <math id="alg1.l4.m1.1" class="ltx_Math" alttext="U_{t}\leftarrow" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><msub id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">U</mi><mi id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑈</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">U_{t}\leftarrow</annotation></semantics></math>Select a subset of <math id="alg1.l4.m2.1" class="ltx_Math" alttext="C\cdot K" display="inline"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">⋅</mo><mi id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><ci id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1">⋅</ci><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝐶</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">C\cdot K</annotation></semantics></math> clients at random

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <span id="alg1.l5.2" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l5.m1.1" class="ltx_Math" alttext="k\in U_{t}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">k</mi><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">∈</mo><msub id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">U</mi><mi id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><in id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></in><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑘</ci><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3">subscript</csymbol><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝑈</ci><ci id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">k\in U_{t}</annotation></semantics></math> <span id="alg1.l5.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>        <math id="alg1.l6.m1.1" class="ltx_Math" alttext="P_{t}^{k}\leftarrow P_{t}" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><msubsup id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml"><mi id="alg1.l6.m1.1.1.2.2.2" xref="alg1.l6.m1.1.1.2.2.2.cmml">P</mi><mi id="alg1.l6.m1.1.1.2.2.3" xref="alg1.l6.m1.1.1.2.2.3.cmml">t</mi><mi id="alg1.l6.m1.1.1.2.3" xref="alg1.l6.m1.1.1.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">←</mo><msub id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"><mi id="alg1.l6.m1.1.1.3.2" xref="alg1.l6.m1.1.1.3.2.cmml">P</mi><mi id="alg1.l6.m1.1.1.3.3" xref="alg1.l6.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.2">superscript</csymbol><apply id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.2.2.2.cmml" xref="alg1.l6.m1.1.1.2.2.2">𝑃</ci><ci id="alg1.l6.m1.1.1.2.2.3.cmml" xref="alg1.l6.m1.1.1.2.2.3">𝑡</ci></apply><ci id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3">𝑘</ci></apply><apply id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.3">subscript</csymbol><ci id="alg1.l6.m1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.3.2">𝑃</ci><ci id="alg1.l6.m1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">P_{t}^{k}\leftarrow P_{t}</annotation></semantics></math>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>        <math id="alg1.l7.m1.1" class="ltx_Math" alttext="P_{t+1}^{k}\leftarrow" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><msubsup id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.2.2.2" xref="alg1.l7.m1.1.1.2.2.2.cmml">P</mi><mrow id="alg1.l7.m1.1.1.2.2.3" xref="alg1.l7.m1.1.1.2.2.3.cmml"><mi id="alg1.l7.m1.1.1.2.2.3.2" xref="alg1.l7.m1.1.1.2.2.3.2.cmml">t</mi><mo id="alg1.l7.m1.1.1.2.2.3.1" xref="alg1.l7.m1.1.1.2.2.3.1.cmml">+</mo><mn id="alg1.l7.m1.1.1.2.2.3.3" xref="alg1.l7.m1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.2">superscript</csymbol><apply id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.2.1.cmml" xref="alg1.l7.m1.1.1.2">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.2.cmml" xref="alg1.l7.m1.1.1.2.2.2">𝑃</ci><apply id="alg1.l7.m1.1.1.2.2.3.cmml" xref="alg1.l7.m1.1.1.2.2.3"><plus id="alg1.l7.m1.1.1.2.2.3.1.cmml" xref="alg1.l7.m1.1.1.2.2.3.1"></plus><ci id="alg1.l7.m1.1.1.2.2.3.2.cmml" xref="alg1.l7.m1.1.1.2.2.3.2">𝑡</ci><cn type="integer" id="alg1.l7.m1.1.1.2.2.3.3.cmml" xref="alg1.l7.m1.1.1.2.2.3.3">1</cn></apply></apply><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑘</ci></apply><csymbol cd="latexml" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">P_{t+1}^{k}\leftarrow</annotation></semantics></math>ClientUpdate(<math id="alg1.l7.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l7.m2.1a"><mi id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><ci id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">k</annotation></semantics></math>,<math id="alg1.l7.m3.1" class="ltx_Math" alttext="P_{t}^{k}" display="inline"><semantics id="alg1.l7.m3.1a"><msubsup id="alg1.l7.m3.1.1" xref="alg1.l7.m3.1.1.cmml"><mi id="alg1.l7.m3.1.1.2.2" xref="alg1.l7.m3.1.1.2.2.cmml">P</mi><mi id="alg1.l7.m3.1.1.2.3" xref="alg1.l7.m3.1.1.2.3.cmml">t</mi><mi id="alg1.l7.m3.1.1.3" xref="alg1.l7.m3.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l7.m3.1b"><apply id="alg1.l7.m3.1.1.cmml" xref="alg1.l7.m3.1.1"><csymbol cd="ambiguous" id="alg1.l7.m3.1.1.1.cmml" xref="alg1.l7.m3.1.1">superscript</csymbol><apply id="alg1.l7.m3.1.1.2.cmml" xref="alg1.l7.m3.1.1"><csymbol cd="ambiguous" id="alg1.l7.m3.1.1.2.1.cmml" xref="alg1.l7.m3.1.1">subscript</csymbol><ci id="alg1.l7.m3.1.1.2.2.cmml" xref="alg1.l7.m3.1.1.2.2">𝑃</ci><ci id="alg1.l7.m3.1.1.2.3.cmml" xref="alg1.l7.m3.1.1.2.3">𝑡</ci></apply><ci id="alg1.l7.m3.1.1.3.cmml" xref="alg1.l7.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m3.1c">P_{t}^{k}</annotation></semantics></math>)

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <span id="alg1.l8.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l8.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>     <math id="alg1.l9.m1.1" class="ltx_Math" alttext="N_{t}=\sum_{k=1}^{|U_{t}|}{n_{k}}" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.2" xref="alg1.l9.m1.1.2.cmml"><msub id="alg1.l9.m1.1.2.2" xref="alg1.l9.m1.1.2.2.cmml"><mi id="alg1.l9.m1.1.2.2.2" xref="alg1.l9.m1.1.2.2.2.cmml">N</mi><mi id="alg1.l9.m1.1.2.2.3" xref="alg1.l9.m1.1.2.2.3.cmml">t</mi></msub><mo rspace="0.111em" id="alg1.l9.m1.1.2.1" xref="alg1.l9.m1.1.2.1.cmml">=</mo><mrow id="alg1.l9.m1.1.2.3" xref="alg1.l9.m1.1.2.3.cmml"><msubsup id="alg1.l9.m1.1.2.3.1" xref="alg1.l9.m1.1.2.3.1.cmml"><mo id="alg1.l9.m1.1.2.3.1.2.2" xref="alg1.l9.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="alg1.l9.m1.1.2.3.1.2.3" xref="alg1.l9.m1.1.2.3.1.2.3.cmml"><mi id="alg1.l9.m1.1.2.3.1.2.3.2" xref="alg1.l9.m1.1.2.3.1.2.3.2.cmml">k</mi><mo id="alg1.l9.m1.1.2.3.1.2.3.1" xref="alg1.l9.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="alg1.l9.m1.1.2.3.1.2.3.3" xref="alg1.l9.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mrow id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l9.m1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.2.1.cmml">|</mo><msub id="alg1.l9.m1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.1.2.cmml">U</mi><mi id="alg1.l9.m1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l9.m1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup><msub id="alg1.l9.m1.1.2.3.2" xref="alg1.l9.m1.1.2.3.2.cmml"><mi id="alg1.l9.m1.1.2.3.2.2" xref="alg1.l9.m1.1.2.3.2.2.cmml">n</mi><mi id="alg1.l9.m1.1.2.3.2.3" xref="alg1.l9.m1.1.2.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.2.cmml" xref="alg1.l9.m1.1.2"><eq id="alg1.l9.m1.1.2.1.cmml" xref="alg1.l9.m1.1.2.1"></eq><apply id="alg1.l9.m1.1.2.2.cmml" xref="alg1.l9.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.2.2.1.cmml" xref="alg1.l9.m1.1.2.2">subscript</csymbol><ci id="alg1.l9.m1.1.2.2.2.cmml" xref="alg1.l9.m1.1.2.2.2">𝑁</ci><ci id="alg1.l9.m1.1.2.2.3.cmml" xref="alg1.l9.m1.1.2.2.3">𝑡</ci></apply><apply id="alg1.l9.m1.1.2.3.cmml" xref="alg1.l9.m1.1.2.3"><apply id="alg1.l9.m1.1.2.3.1.cmml" xref="alg1.l9.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.2.3.1.1.cmml" xref="alg1.l9.m1.1.2.3.1">superscript</csymbol><apply id="alg1.l9.m1.1.2.3.1.2.cmml" xref="alg1.l9.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.2.3.1.2.1.cmml" xref="alg1.l9.m1.1.2.3.1">subscript</csymbol><sum id="alg1.l9.m1.1.2.3.1.2.2.cmml" xref="alg1.l9.m1.1.2.3.1.2.2"></sum><apply id="alg1.l9.m1.1.2.3.1.2.3.cmml" xref="alg1.l9.m1.1.2.3.1.2.3"><eq id="alg1.l9.m1.1.2.3.1.2.3.1.cmml" xref="alg1.l9.m1.1.2.3.1.2.3.1"></eq><ci id="alg1.l9.m1.1.2.3.1.2.3.2.cmml" xref="alg1.l9.m1.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l9.m1.1.2.3.1.2.3.3.cmml" xref="alg1.l9.m1.1.2.3.1.2.3.3">1</cn></apply></apply><apply id="alg1.l9.m1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1"><abs id="alg1.l9.m1.1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.2"></abs><apply id="alg1.l9.m1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.2">𝑈</ci><ci id="alg1.l9.m1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg1.l9.m1.1.2.3.2.cmml" xref="alg1.l9.m1.1.2.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.2.3.2.1.cmml" xref="alg1.l9.m1.1.2.3.2">subscript</csymbol><ci id="alg1.l9.m1.1.2.3.2.2.cmml" xref="alg1.l9.m1.1.2.3.2.2">𝑛</ci><ci id="alg1.l9.m1.1.2.3.2.3.cmml" xref="alg1.l9.m1.1.2.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">N_{t}=\sum_{k=1}^{|U_{t}|}{n_{k}}</annotation></semantics></math>

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>     <math id="alg1.l10.m1.1" class="ltx_Math" alttext="P_{t+1}\leftarrow\sum_{k=1}^{|U_{t}|}{\frac{n_{k}}{N_{t}}P_{t}^{k}}" display="inline"><semantics id="alg1.l10.m1.1a"><mrow id="alg1.l10.m1.1.2" xref="alg1.l10.m1.1.2.cmml"><msub id="alg1.l10.m1.1.2.2" xref="alg1.l10.m1.1.2.2.cmml"><mi id="alg1.l10.m1.1.2.2.2" xref="alg1.l10.m1.1.2.2.2.cmml">P</mi><mrow id="alg1.l10.m1.1.2.2.3" xref="alg1.l10.m1.1.2.2.3.cmml"><mi id="alg1.l10.m1.1.2.2.3.2" xref="alg1.l10.m1.1.2.2.3.2.cmml">t</mi><mo id="alg1.l10.m1.1.2.2.3.1" xref="alg1.l10.m1.1.2.2.3.1.cmml">+</mo><mn id="alg1.l10.m1.1.2.2.3.3" xref="alg1.l10.m1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="alg1.l10.m1.1.2.1" xref="alg1.l10.m1.1.2.1.cmml">←</mo><mrow id="alg1.l10.m1.1.2.3" xref="alg1.l10.m1.1.2.3.cmml"><msubsup id="alg1.l10.m1.1.2.3.1" xref="alg1.l10.m1.1.2.3.1.cmml"><mo id="alg1.l10.m1.1.2.3.1.2.2" xref="alg1.l10.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="alg1.l10.m1.1.2.3.1.2.3" xref="alg1.l10.m1.1.2.3.1.2.3.cmml"><mi id="alg1.l10.m1.1.2.3.1.2.3.2" xref="alg1.l10.m1.1.2.3.1.2.3.2.cmml">k</mi><mo id="alg1.l10.m1.1.2.3.1.2.3.1" xref="alg1.l10.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="alg1.l10.m1.1.2.3.1.2.3.3" xref="alg1.l10.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mrow id="alg1.l10.m1.1.1.1.1" xref="alg1.l10.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.2.1.cmml">|</mo><msub id="alg1.l10.m1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.cmml"><mi id="alg1.l10.m1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.2.cmml">U</mi><mi id="alg1.l10.m1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup><mrow id="alg1.l10.m1.1.2.3.2" xref="alg1.l10.m1.1.2.3.2.cmml"><mfrac id="alg1.l10.m1.1.2.3.2.2" xref="alg1.l10.m1.1.2.3.2.2.cmml"><msub id="alg1.l10.m1.1.2.3.2.2.2" xref="alg1.l10.m1.1.2.3.2.2.2.cmml"><mi id="alg1.l10.m1.1.2.3.2.2.2.2" xref="alg1.l10.m1.1.2.3.2.2.2.2.cmml">n</mi><mi id="alg1.l10.m1.1.2.3.2.2.2.3" xref="alg1.l10.m1.1.2.3.2.2.2.3.cmml">k</mi></msub><msub id="alg1.l10.m1.1.2.3.2.2.3" xref="alg1.l10.m1.1.2.3.2.2.3.cmml"><mi id="alg1.l10.m1.1.2.3.2.2.3.2" xref="alg1.l10.m1.1.2.3.2.2.3.2.cmml">N</mi><mi id="alg1.l10.m1.1.2.3.2.2.3.3" xref="alg1.l10.m1.1.2.3.2.2.3.3.cmml">t</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="alg1.l10.m1.1.2.3.2.1" xref="alg1.l10.m1.1.2.3.2.1.cmml">​</mo><msubsup id="alg1.l10.m1.1.2.3.2.3" xref="alg1.l10.m1.1.2.3.2.3.cmml"><mi id="alg1.l10.m1.1.2.3.2.3.2.2" xref="alg1.l10.m1.1.2.3.2.3.2.2.cmml">P</mi><mi id="alg1.l10.m1.1.2.3.2.3.2.3" xref="alg1.l10.m1.1.2.3.2.3.2.3.cmml">t</mi><mi id="alg1.l10.m1.1.2.3.2.3.3" xref="alg1.l10.m1.1.2.3.2.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.2.cmml" xref="alg1.l10.m1.1.2"><ci id="alg1.l10.m1.1.2.1.cmml" xref="alg1.l10.m1.1.2.1">←</ci><apply id="alg1.l10.m1.1.2.2.cmml" xref="alg1.l10.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.2.1.cmml" xref="alg1.l10.m1.1.2.2">subscript</csymbol><ci id="alg1.l10.m1.1.2.2.2.cmml" xref="alg1.l10.m1.1.2.2.2">𝑃</ci><apply id="alg1.l10.m1.1.2.2.3.cmml" xref="alg1.l10.m1.1.2.2.3"><plus id="alg1.l10.m1.1.2.2.3.1.cmml" xref="alg1.l10.m1.1.2.2.3.1"></plus><ci id="alg1.l10.m1.1.2.2.3.2.cmml" xref="alg1.l10.m1.1.2.2.3.2">𝑡</ci><cn type="integer" id="alg1.l10.m1.1.2.2.3.3.cmml" xref="alg1.l10.m1.1.2.2.3.3">1</cn></apply></apply><apply id="alg1.l10.m1.1.2.3.cmml" xref="alg1.l10.m1.1.2.3"><apply id="alg1.l10.m1.1.2.3.1.cmml" xref="alg1.l10.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.1.1.cmml" xref="alg1.l10.m1.1.2.3.1">superscript</csymbol><apply id="alg1.l10.m1.1.2.3.1.2.cmml" xref="alg1.l10.m1.1.2.3.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.1.2.1.cmml" xref="alg1.l10.m1.1.2.3.1">subscript</csymbol><sum id="alg1.l10.m1.1.2.3.1.2.2.cmml" xref="alg1.l10.m1.1.2.3.1.2.2"></sum><apply id="alg1.l10.m1.1.2.3.1.2.3.cmml" xref="alg1.l10.m1.1.2.3.1.2.3"><eq id="alg1.l10.m1.1.2.3.1.2.3.1.cmml" xref="alg1.l10.m1.1.2.3.1.2.3.1"></eq><ci id="alg1.l10.m1.1.2.3.1.2.3.2.cmml" xref="alg1.l10.m1.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l10.m1.1.2.3.1.2.3.3.cmml" xref="alg1.l10.m1.1.2.3.1.2.3.3">1</cn></apply></apply><apply id="alg1.l10.m1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1"><abs id="alg1.l10.m1.1.1.1.2.1.cmml" xref="alg1.l10.m1.1.1.1.1.2"></abs><apply id="alg1.l10.m1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.2">𝑈</ci><ci id="alg1.l10.m1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg1.l10.m1.1.2.3.2.cmml" xref="alg1.l10.m1.1.2.3.2"><times id="alg1.l10.m1.1.2.3.2.1.cmml" xref="alg1.l10.m1.1.2.3.2.1"></times><apply id="alg1.l10.m1.1.2.3.2.2.cmml" xref="alg1.l10.m1.1.2.3.2.2"><divide id="alg1.l10.m1.1.2.3.2.2.1.cmml" xref="alg1.l10.m1.1.2.3.2.2"></divide><apply id="alg1.l10.m1.1.2.3.2.2.2.cmml" xref="alg1.l10.m1.1.2.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.2.2.2.1.cmml" xref="alg1.l10.m1.1.2.3.2.2.2">subscript</csymbol><ci id="alg1.l10.m1.1.2.3.2.2.2.2.cmml" xref="alg1.l10.m1.1.2.3.2.2.2.2">𝑛</ci><ci id="alg1.l10.m1.1.2.3.2.2.2.3.cmml" xref="alg1.l10.m1.1.2.3.2.2.2.3">𝑘</ci></apply><apply id="alg1.l10.m1.1.2.3.2.2.3.cmml" xref="alg1.l10.m1.1.2.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.2.2.3.1.cmml" xref="alg1.l10.m1.1.2.3.2.2.3">subscript</csymbol><ci id="alg1.l10.m1.1.2.3.2.2.3.2.cmml" xref="alg1.l10.m1.1.2.3.2.2.3.2">𝑁</ci><ci id="alg1.l10.m1.1.2.3.2.2.3.3.cmml" xref="alg1.l10.m1.1.2.3.2.2.3.3">𝑡</ci></apply></apply><apply id="alg1.l10.m1.1.2.3.2.3.cmml" xref="alg1.l10.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.2.3.1.cmml" xref="alg1.l10.m1.1.2.3.2.3">superscript</csymbol><apply id="alg1.l10.m1.1.2.3.2.3.2.cmml" xref="alg1.l10.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l10.m1.1.2.3.2.3.2.1.cmml" xref="alg1.l10.m1.1.2.3.2.3">subscript</csymbol><ci id="alg1.l10.m1.1.2.3.2.3.2.2.cmml" xref="alg1.l10.m1.1.2.3.2.3.2.2">𝑃</ci><ci id="alg1.l10.m1.1.2.3.2.3.2.3.cmml" xref="alg1.l10.m1.1.2.3.2.3.2.3">𝑡</ci></apply><ci id="alg1.l10.m1.1.2.3.2.3.3.cmml" xref="alg1.l10.m1.1.2.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">P_{t+1}\leftarrow\sum_{k=1}^{|U_{t}|}{\frac{n_{k}}{N_{t}}P_{t}^{k}}</annotation></semantics></math>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>  <span id="alg1.l11.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l11.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.3.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>  <span id="alg1.l12.4" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l12.m1.1" class="ltx_Math" alttext="P_{t+1}" display="inline"><semantics id="alg1.l12.m1.1a"><msub id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mi id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">P</mi><mrow id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml"><mi id="alg1.l12.m1.1.1.3.2" xref="alg1.l12.m1.1.1.3.2.cmml">t</mi><mo id="alg1.l12.m1.1.1.3.1" xref="alg1.l12.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l12.m1.1.1.3.3" xref="alg1.l12.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1">subscript</csymbol><ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">𝑃</ci><apply id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3"><plus id="alg1.l12.m1.1.1.3.1.cmml" xref="alg1.l12.m1.1.1.3.1"></plus><ci id="alg1.l12.m1.1.1.3.2.cmml" xref="alg1.l12.m1.1.1.3.2">𝑡</ci><cn type="integer" id="alg1.l12.m1.1.1.3.3.cmml" xref="alg1.l12.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">P_{t+1}</annotation></semantics></math> <span id="alg1.l12.2" class="ltx_text ltx_font_bold">ClientUpdate(<math id="alg1.l12.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l12.1.m1.1a"><mi id="alg1.l12.1.m1.1.1" xref="alg1.l12.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l12.1.m1.1b"><ci id="alg1.l12.1.m1.1.1.cmml" xref="alg1.l12.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.1.m1.1c">k</annotation></semantics></math>,<math id="alg1.l12.2.m2.1" class="ltx_Math" alttext="P" display="inline"><semantics id="alg1.l12.2.m2.1a"><mi id="alg1.l12.2.m2.1.1" xref="alg1.l12.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="alg1.l12.2.m2.1b"><ci id="alg1.l12.2.m2.1.1.cmml" xref="alg1.l12.2.m2.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.2.m2.1c">P</annotation></semantics></math>):</span> //<em id="alg1.l12.5" class="ltx_emph ltx_font_italic"> Run on client k</em>

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>  <math id="alg1.l13.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow" display="inline"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2.cmml">ℬ</mi><mo stretchy="false" id="alg1.l13.m1.1.1.1" xref="alg1.l13.m1.1.1.1.cmml">←</mo><mi id="alg1.l13.m1.1.1.3" xref="alg1.l13.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><ci id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1">←</ci><ci id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2">ℬ</ci><csymbol cd="latexml" id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">\mathcal{B}\leftarrow</annotation></semantics></math>(split <math id="alg1.l13.m2.1" class="ltx_Math" alttext="D_{k}" display="inline"><semantics id="alg1.l13.m2.1a"><msub id="alg1.l13.m2.1.1" xref="alg1.l13.m2.1.1.cmml"><mi id="alg1.l13.m2.1.1.2" xref="alg1.l13.m2.1.1.2.cmml">D</mi><mi id="alg1.l13.m2.1.1.3" xref="alg1.l13.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l13.m2.1b"><apply id="alg1.l13.m2.1.1.cmml" xref="alg1.l13.m2.1.1"><csymbol cd="ambiguous" id="alg1.l13.m2.1.1.1.cmml" xref="alg1.l13.m2.1.1">subscript</csymbol><ci id="alg1.l13.m2.1.1.2.cmml" xref="alg1.l13.m2.1.1.2">𝐷</ci><ci id="alg1.l13.m2.1.1.3.cmml" xref="alg1.l13.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m2.1c">D_{k}</annotation></semantics></math> into batches of size <math id="alg1.l13.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.l13.m3.1a"><mi id="alg1.l13.m3.1.1" xref="alg1.l13.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.l13.m3.1b"><ci id="alg1.l13.m3.1.1.cmml" xref="alg1.l13.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m3.1c">B</annotation></semantics></math>)

</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>  <span id="alg1.l14.2" class="ltx_text ltx_font_bold">for</span> each local epoch <math id="alg1.l14.m1.3" class="ltx_Math" alttext="i\in\{1,\cdots,E\}" display="inline"><semantics id="alg1.l14.m1.3a"><mrow id="alg1.l14.m1.3.4" xref="alg1.l14.m1.3.4.cmml"><mi id="alg1.l14.m1.3.4.2" xref="alg1.l14.m1.3.4.2.cmml">i</mi><mo id="alg1.l14.m1.3.4.1" xref="alg1.l14.m1.3.4.1.cmml">∈</mo><mrow id="alg1.l14.m1.3.4.3.2" xref="alg1.l14.m1.3.4.3.1.cmml"><mo stretchy="false" id="alg1.l14.m1.3.4.3.2.1" xref="alg1.l14.m1.3.4.3.1.cmml">{</mo><mn id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">1</mn><mo id="alg1.l14.m1.3.4.3.2.2" xref="alg1.l14.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l14.m1.2.2" xref="alg1.l14.m1.2.2.cmml">⋯</mi><mo id="alg1.l14.m1.3.4.3.2.3" xref="alg1.l14.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l14.m1.3.3" xref="alg1.l14.m1.3.3.cmml">E</mi><mo stretchy="false" id="alg1.l14.m1.3.4.3.2.4" xref="alg1.l14.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.3b"><apply id="alg1.l14.m1.3.4.cmml" xref="alg1.l14.m1.3.4"><in id="alg1.l14.m1.3.4.1.cmml" xref="alg1.l14.m1.3.4.1"></in><ci id="alg1.l14.m1.3.4.2.cmml" xref="alg1.l14.m1.3.4.2">𝑖</ci><set id="alg1.l14.m1.3.4.3.1.cmml" xref="alg1.l14.m1.3.4.3.2"><cn type="integer" id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">1</cn><ci id="alg1.l14.m1.2.2.cmml" xref="alg1.l14.m1.2.2">⋯</ci><ci id="alg1.l14.m1.3.3.cmml" xref="alg1.l14.m1.3.3">𝐸</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.3c">i\in\{1,\cdots,E\}</annotation></semantics></math>  <span id="alg1.l14.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>     <span id="alg1.l15.2" class="ltx_text ltx_font_bold">for</span> batch <math id="alg1.l15.m1.1" class="ltx_Math" alttext="b\in\mathcal{B}" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">b</mi><mo id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><in id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></in><ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">𝑏</ci><ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">b\in\mathcal{B}</annotation></semantics></math> <span id="alg1.l15.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>        <math id="alg1.l16.m1.2" class="ltx_Math" alttext="P\leftarrow P-\eta\nabla l(P;b)" display="inline"><semantics id="alg1.l16.m1.2a"><mrow id="alg1.l16.m1.2.3" xref="alg1.l16.m1.2.3.cmml"><mi id="alg1.l16.m1.2.3.2" xref="alg1.l16.m1.2.3.2.cmml">P</mi><mo stretchy="false" id="alg1.l16.m1.2.3.1" xref="alg1.l16.m1.2.3.1.cmml">←</mo><mrow id="alg1.l16.m1.2.3.3" xref="alg1.l16.m1.2.3.3.cmml"><mi id="alg1.l16.m1.2.3.3.2" xref="alg1.l16.m1.2.3.3.2.cmml">P</mi><mo id="alg1.l16.m1.2.3.3.1" xref="alg1.l16.m1.2.3.3.1.cmml">−</mo><mrow id="alg1.l16.m1.2.3.3.3" xref="alg1.l16.m1.2.3.3.3.cmml"><mi id="alg1.l16.m1.2.3.3.3.2" xref="alg1.l16.m1.2.3.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l16.m1.2.3.3.3.1" xref="alg1.l16.m1.2.3.3.3.1.cmml">​</mo><mrow id="alg1.l16.m1.2.3.3.3.3" xref="alg1.l16.m1.2.3.3.3.3.cmml"><mo rspace="0.167em" id="alg1.l16.m1.2.3.3.3.3.1" xref="alg1.l16.m1.2.3.3.3.3.1.cmml">∇</mo><mi id="alg1.l16.m1.2.3.3.3.3.2" xref="alg1.l16.m1.2.3.3.3.3.2.cmml">l</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.3.1a" xref="alg1.l16.m1.2.3.3.3.1.cmml">​</mo><mrow id="alg1.l16.m1.2.3.3.3.4.2" xref="alg1.l16.m1.2.3.3.3.4.1.cmml"><mo stretchy="false" id="alg1.l16.m1.2.3.3.3.4.2.1" xref="alg1.l16.m1.2.3.3.3.4.1.cmml">(</mo><mi id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">P</mi><mo id="alg1.l16.m1.2.3.3.3.4.2.2" xref="alg1.l16.m1.2.3.3.3.4.1.cmml">;</mo><mi id="alg1.l16.m1.2.2" xref="alg1.l16.m1.2.2.cmml">b</mi><mo stretchy="false" id="alg1.l16.m1.2.3.3.3.4.2.3" xref="alg1.l16.m1.2.3.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.2b"><apply id="alg1.l16.m1.2.3.cmml" xref="alg1.l16.m1.2.3"><ci id="alg1.l16.m1.2.3.1.cmml" xref="alg1.l16.m1.2.3.1">←</ci><ci id="alg1.l16.m1.2.3.2.cmml" xref="alg1.l16.m1.2.3.2">𝑃</ci><apply id="alg1.l16.m1.2.3.3.cmml" xref="alg1.l16.m1.2.3.3"><minus id="alg1.l16.m1.2.3.3.1.cmml" xref="alg1.l16.m1.2.3.3.1"></minus><ci id="alg1.l16.m1.2.3.3.2.cmml" xref="alg1.l16.m1.2.3.3.2">𝑃</ci><apply id="alg1.l16.m1.2.3.3.3.cmml" xref="alg1.l16.m1.2.3.3.3"><times id="alg1.l16.m1.2.3.3.3.1.cmml" xref="alg1.l16.m1.2.3.3.3.1"></times><ci id="alg1.l16.m1.2.3.3.3.2.cmml" xref="alg1.l16.m1.2.3.3.3.2">𝜂</ci><apply id="alg1.l16.m1.2.3.3.3.3.cmml" xref="alg1.l16.m1.2.3.3.3.3"><ci id="alg1.l16.m1.2.3.3.3.3.1.cmml" xref="alg1.l16.m1.2.3.3.3.3.1">∇</ci><ci id="alg1.l16.m1.2.3.3.3.3.2.cmml" xref="alg1.l16.m1.2.3.3.3.3.2">𝑙</ci></apply><list id="alg1.l16.m1.2.3.3.3.4.1.cmml" xref="alg1.l16.m1.2.3.3.3.4.2"><ci id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">𝑃</ci><ci id="alg1.l16.m1.2.2.cmml" xref="alg1.l16.m1.2.2">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.2c">P\leftarrow P-\eta\nabla l(P;b)</annotation></semantics></math>

</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>     <span id="alg1.l17.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l17.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>  <span id="alg1.l18.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l18.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>  <span id="alg1.l19.2" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l19.m1.1" class="ltx_Math" alttext="P" display="inline"><semantics id="alg1.l19.m1.1a"><mi id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b"><ci id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.1c">P</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.4.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.5.2" class="ltx_text ltx_font_italic">FedPrompt</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.3" class="ltx_p">As mentioned before, in normal prompt tuning the whole is splitted into four parts, and only PLM (using fine-tuning) and soft prompt have trainable parameters. We use <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">F</annotation></semantics></math> and <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">P</annotation></semantics></math> to denote their parameters respectively, then the global model parameters in round <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">t</annotation></semantics></math> can be denoted as:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.1" class="ltx_Math" alttext="\theta_{t}=F_{t}+P_{t}" display="block"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><msub id="S3.E2.m1.1.1.2" xref="S3.E2.m1.1.1.2.cmml"><mi id="S3.E2.m1.1.1.2.2" xref="S3.E2.m1.1.1.2.2.cmml">θ</mi><mi id="S3.E2.m1.1.1.2.3" xref="S3.E2.m1.1.1.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3.cmml"><msub id="S3.E2.m1.1.1.3.2" xref="S3.E2.m1.1.1.3.2.cmml"><mi id="S3.E2.m1.1.1.3.2.2" xref="S3.E2.m1.1.1.3.2.2.cmml">F</mi><mi id="S3.E2.m1.1.1.3.2.3" xref="S3.E2.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.1.1.3.1" xref="S3.E2.m1.1.1.3.1.cmml">+</mo><msub id="S3.E2.m1.1.1.3.3" xref="S3.E2.m1.1.1.3.3.cmml"><mi id="S3.E2.m1.1.1.3.3.2" xref="S3.E2.m1.1.1.3.3.2.cmml">P</mi><mi id="S3.E2.m1.1.1.3.3.3" xref="S3.E2.m1.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><eq id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"></eq><apply id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.2.2">𝜃</ci><ci id="S3.E2.m1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.2.3">𝑡</ci></apply><apply id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3"><plus id="S3.E2.m1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1"></plus><apply id="S3.E2.m1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.1.cmml" xref="S3.E2.m1.1.1.3.2">subscript</csymbol><ci id="S3.E2.m1.1.1.3.2.2.cmml" xref="S3.E2.m1.1.1.3.2.2">𝐹</ci><ci id="S3.E2.m1.1.1.3.2.3.cmml" xref="S3.E2.m1.1.1.3.2.3">𝑡</ci></apply><apply id="S3.E2.m1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.3.1.cmml" xref="S3.E2.m1.1.1.3.3">subscript</csymbol><ci id="S3.E2.m1.1.1.3.3.2.cmml" xref="S3.E2.m1.1.1.3.3.2">𝑃</ci><ci id="S3.E2.m1.1.1.3.3.3.cmml" xref="S3.E2.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\theta_{t}=F_{t}+P_{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.6" class="ltx_p">In FedPrompt, we fix <math id="S3.SS2.p1.4.m1.1" class="ltx_Math" alttext="F_{t}" display="inline"><semantics id="S3.SS2.p1.4.m1.1a"><msub id="S3.SS2.p1.4.m1.1.1" xref="S3.SS2.p1.4.m1.1.1.cmml"><mi id="S3.SS2.p1.4.m1.1.1.2" xref="S3.SS2.p1.4.m1.1.1.2.cmml">F</mi><mi id="S3.SS2.p1.4.m1.1.1.3" xref="S3.SS2.p1.4.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m1.1b"><apply id="S3.SS2.p1.4.m1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m1.1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m1.1.1.2.cmml" xref="S3.SS2.p1.4.m1.1.1.2">𝐹</ci><ci id="S3.SS2.p1.4.m1.1.1.3.cmml" xref="S3.SS2.p1.4.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m1.1c">F_{t}</annotation></semantics></math> to learn a set of <math id="S3.SS2.p1.5.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS2.p1.5.m2.1a"><mi id="S3.SS2.p1.5.m2.1.1" xref="S3.SS2.p1.5.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m2.1b"><ci id="S3.SS2.p1.5.m2.1.1.cmml" xref="S3.SS2.p1.5.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m2.1c">\theta</annotation></semantics></math> over <math id="S3.SS2.p1.6.m3.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S3.SS2.p1.6.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m3.1.1" xref="S3.SS2.p1.6.m3.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m3.1b"><ci id="S3.SS2.p1.6.m3.1.1.cmml" xref="S3.SS2.p1.6.m3.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m3.1c">\mathcal{D}</annotation></semantics></math> with the objective to solve:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.2" class="ltx_Math" alttext="\arg\min\limits_{P}\mathcal{L}(P)=\sum_{k=1}^{K}{\frac{n_{k}}{n}\mathcal{L}_{k}(P)}" display="block"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.3" xref="S3.E3.m1.2.3.cmml"><mrow id="S3.E3.m1.2.3.2" xref="S3.E3.m1.2.3.2.cmml"><mrow id="S3.E3.m1.2.3.2.2" xref="S3.E3.m1.2.3.2.2.cmml"><mi id="S3.E3.m1.2.3.2.2.1" xref="S3.E3.m1.2.3.2.2.1.cmml">arg</mi><mo lspace="0.167em" id="S3.E3.m1.2.3.2.2a" xref="S3.E3.m1.2.3.2.2.cmml">⁡</mo><mrow id="S3.E3.m1.2.3.2.2.2" xref="S3.E3.m1.2.3.2.2.2.cmml"><munder id="S3.E3.m1.2.3.2.2.2.1" xref="S3.E3.m1.2.3.2.2.2.1.cmml"><mi id="S3.E3.m1.2.3.2.2.2.1.2" xref="S3.E3.m1.2.3.2.2.2.1.2.cmml">min</mi><mi id="S3.E3.m1.2.3.2.2.2.1.3" xref="S3.E3.m1.2.3.2.2.2.1.3.cmml">P</mi></munder><mo lspace="0.167em" id="S3.E3.m1.2.3.2.2.2a" xref="S3.E3.m1.2.3.2.2.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.3.2.2.2.2" xref="S3.E3.m1.2.3.2.2.2.2.cmml">ℒ</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.3.2.1" xref="S3.E3.m1.2.3.2.1.cmml">​</mo><mrow id="S3.E3.m1.2.3.2.3.2" xref="S3.E3.m1.2.3.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.3.2.3.2.1" xref="S3.E3.m1.2.3.2.cmml">(</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">P</mi><mo stretchy="false" id="S3.E3.m1.2.3.2.3.2.2" xref="S3.E3.m1.2.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E3.m1.2.3.1" xref="S3.E3.m1.2.3.1.cmml">=</mo><mrow id="S3.E3.m1.2.3.3" xref="S3.E3.m1.2.3.3.cmml"><munderover id="S3.E3.m1.2.3.3.1" xref="S3.E3.m1.2.3.3.1.cmml"><mo movablelimits="false" id="S3.E3.m1.2.3.3.1.2.2" xref="S3.E3.m1.2.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E3.m1.2.3.3.1.2.3" xref="S3.E3.m1.2.3.3.1.2.3.cmml"><mi id="S3.E3.m1.2.3.3.1.2.3.2" xref="S3.E3.m1.2.3.3.1.2.3.2.cmml">k</mi><mo id="S3.E3.m1.2.3.3.1.2.3.1" xref="S3.E3.m1.2.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E3.m1.2.3.3.1.2.3.3" xref="S3.E3.m1.2.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.2.3.3.1.3" xref="S3.E3.m1.2.3.3.1.3.cmml">K</mi></munderover><mrow id="S3.E3.m1.2.3.3.2" xref="S3.E3.m1.2.3.3.2.cmml"><mfrac id="S3.E3.m1.2.3.3.2.2" xref="S3.E3.m1.2.3.3.2.2.cmml"><msub id="S3.E3.m1.2.3.3.2.2.2" xref="S3.E3.m1.2.3.3.2.2.2.cmml"><mi id="S3.E3.m1.2.3.3.2.2.2.2" xref="S3.E3.m1.2.3.3.2.2.2.2.cmml">n</mi><mi id="S3.E3.m1.2.3.3.2.2.2.3" xref="S3.E3.m1.2.3.3.2.2.2.3.cmml">k</mi></msub><mi id="S3.E3.m1.2.3.3.2.2.3" xref="S3.E3.m1.2.3.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.3.3.2.1" xref="S3.E3.m1.2.3.3.2.1.cmml">​</mo><msub id="S3.E3.m1.2.3.3.2.3" xref="S3.E3.m1.2.3.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.3.3.2.3.2" xref="S3.E3.m1.2.3.3.2.3.2.cmml">ℒ</mi><mi id="S3.E3.m1.2.3.3.2.3.3" xref="S3.E3.m1.2.3.3.2.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.3.3.2.1a" xref="S3.E3.m1.2.3.3.2.1.cmml">​</mo><mrow id="S3.E3.m1.2.3.3.2.4.2" xref="S3.E3.m1.2.3.3.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.3.3.2.4.2.1" xref="S3.E3.m1.2.3.3.2.cmml">(</mo><mi id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">P</mi><mo stretchy="false" id="S3.E3.m1.2.3.3.2.4.2.2" xref="S3.E3.m1.2.3.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.3.cmml" xref="S3.E3.m1.2.3"><eq id="S3.E3.m1.2.3.1.cmml" xref="S3.E3.m1.2.3.1"></eq><apply id="S3.E3.m1.2.3.2.cmml" xref="S3.E3.m1.2.3.2"><times id="S3.E3.m1.2.3.2.1.cmml" xref="S3.E3.m1.2.3.2.1"></times><apply id="S3.E3.m1.2.3.2.2.cmml" xref="S3.E3.m1.2.3.2.2"><arg id="S3.E3.m1.2.3.2.2.1.cmml" xref="S3.E3.m1.2.3.2.2.1"></arg><apply id="S3.E3.m1.2.3.2.2.2.cmml" xref="S3.E3.m1.2.3.2.2.2"><apply id="S3.E3.m1.2.3.2.2.2.1.cmml" xref="S3.E3.m1.2.3.2.2.2.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.2.2.2.1.1.cmml" xref="S3.E3.m1.2.3.2.2.2.1">subscript</csymbol><min id="S3.E3.m1.2.3.2.2.2.1.2.cmml" xref="S3.E3.m1.2.3.2.2.2.1.2"></min><ci id="S3.E3.m1.2.3.2.2.2.1.3.cmml" xref="S3.E3.m1.2.3.2.2.2.1.3">𝑃</ci></apply><ci id="S3.E3.m1.2.3.2.2.2.2.cmml" xref="S3.E3.m1.2.3.2.2.2.2">ℒ</ci></apply></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝑃</ci></apply><apply id="S3.E3.m1.2.3.3.cmml" xref="S3.E3.m1.2.3.3"><apply id="S3.E3.m1.2.3.3.1.cmml" xref="S3.E3.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.3.1.1.cmml" xref="S3.E3.m1.2.3.3.1">superscript</csymbol><apply id="S3.E3.m1.2.3.3.1.2.cmml" xref="S3.E3.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.3.1.2.1.cmml" xref="S3.E3.m1.2.3.3.1">subscript</csymbol><sum id="S3.E3.m1.2.3.3.1.2.2.cmml" xref="S3.E3.m1.2.3.3.1.2.2"></sum><apply id="S3.E3.m1.2.3.3.1.2.3.cmml" xref="S3.E3.m1.2.3.3.1.2.3"><eq id="S3.E3.m1.2.3.3.1.2.3.1.cmml" xref="S3.E3.m1.2.3.3.1.2.3.1"></eq><ci id="S3.E3.m1.2.3.3.1.2.3.2.cmml" xref="S3.E3.m1.2.3.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E3.m1.2.3.3.1.2.3.3.cmml" xref="S3.E3.m1.2.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.2.3.3.1.3.cmml" xref="S3.E3.m1.2.3.3.1.3">𝐾</ci></apply><apply id="S3.E3.m1.2.3.3.2.cmml" xref="S3.E3.m1.2.3.3.2"><times id="S3.E3.m1.2.3.3.2.1.cmml" xref="S3.E3.m1.2.3.3.2.1"></times><apply id="S3.E3.m1.2.3.3.2.2.cmml" xref="S3.E3.m1.2.3.3.2.2"><divide id="S3.E3.m1.2.3.3.2.2.1.cmml" xref="S3.E3.m1.2.3.3.2.2"></divide><apply id="S3.E3.m1.2.3.3.2.2.2.cmml" xref="S3.E3.m1.2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.3.2.2.2.1.cmml" xref="S3.E3.m1.2.3.3.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.3.3.2.2.2.2.cmml" xref="S3.E3.m1.2.3.3.2.2.2.2">𝑛</ci><ci id="S3.E3.m1.2.3.3.2.2.2.3.cmml" xref="S3.E3.m1.2.3.3.2.2.2.3">𝑘</ci></apply><ci id="S3.E3.m1.2.3.3.2.2.3.cmml" xref="S3.E3.m1.2.3.3.2.2.3">𝑛</ci></apply><apply id="S3.E3.m1.2.3.3.2.3.cmml" xref="S3.E3.m1.2.3.3.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.3.2.3.1.cmml" xref="S3.E3.m1.2.3.3.2.3">subscript</csymbol><ci id="S3.E3.m1.2.3.3.2.3.2.cmml" xref="S3.E3.m1.2.3.3.2.3.2">ℒ</ci><ci id="S3.E3.m1.2.3.3.2.3.3.cmml" xref="S3.E3.m1.2.3.3.2.3.3">𝑘</ci></apply><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">𝑃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\arg\min\limits_{P}\mathcal{L}(P)=\sum_{k=1}^{K}{\frac{n_{k}}{n}\mathcal{L}_{k}(P)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.8" class="ltx_p">where <math id="S3.SS2.p1.7.m1.1" class="ltx_Math" alttext="\mathcal{L}_{k}(P)" display="inline"><semantics id="S3.SS2.p1.7.m1.1a"><mrow id="S3.SS2.p1.7.m1.1.2" xref="S3.SS2.p1.7.m1.1.2.cmml"><msub id="S3.SS2.p1.7.m1.1.2.2" xref="S3.SS2.p1.7.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m1.1.2.2.2" xref="S3.SS2.p1.7.m1.1.2.2.2.cmml">ℒ</mi><mi id="S3.SS2.p1.7.m1.1.2.2.3" xref="S3.SS2.p1.7.m1.1.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m1.1.2.1" xref="S3.SS2.p1.7.m1.1.2.1.cmml">​</mo><mrow id="S3.SS2.p1.7.m1.1.2.3.2" xref="S3.SS2.p1.7.m1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.7.m1.1.2.3.2.1" xref="S3.SS2.p1.7.m1.1.2.cmml">(</mo><mi id="S3.SS2.p1.7.m1.1.1" xref="S3.SS2.p1.7.m1.1.1.cmml">P</mi><mo stretchy="false" id="S3.SS2.p1.7.m1.1.2.3.2.2" xref="S3.SS2.p1.7.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m1.1b"><apply id="S3.SS2.p1.7.m1.1.2.cmml" xref="S3.SS2.p1.7.m1.1.2"><times id="S3.SS2.p1.7.m1.1.2.1.cmml" xref="S3.SS2.p1.7.m1.1.2.1"></times><apply id="S3.SS2.p1.7.m1.1.2.2.cmml" xref="S3.SS2.p1.7.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m1.1.2.2.1.cmml" xref="S3.SS2.p1.7.m1.1.2.2">subscript</csymbol><ci id="S3.SS2.p1.7.m1.1.2.2.2.cmml" xref="S3.SS2.p1.7.m1.1.2.2.2">ℒ</ci><ci id="S3.SS2.p1.7.m1.1.2.2.3.cmml" xref="S3.SS2.p1.7.m1.1.2.2.3">𝑘</ci></apply><ci id="S3.SS2.p1.7.m1.1.1.cmml" xref="S3.SS2.p1.7.m1.1.1">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m1.1c">\mathcal{L}_{k}(P)</annotation></semantics></math> is the empirical loss of client <math id="S3.SS2.p1.8.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p1.8.m2.1a"><mi id="S3.SS2.p1.8.m2.1.1" xref="S3.SS2.p1.8.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m2.1b"><ci id="S3.SS2.p1.8.m2.1.1.cmml" xref="S3.SS2.p1.8.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m2.1c">k</annotation></semantics></math>:</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.11" class="ltx_Math" alttext="\mathcal{L}_{k}(P)=\mathbf{E}_{(x^{(i)},y^{(i)})\in\mathcal{D}_{k}}\ell_{k}(f(x^{(i)},\mathbf{p},P),y^{(i)})" display="block"><semantics id="S3.E4.m1.11a"><mrow id="S3.E4.m1.11.11" xref="S3.E4.m1.11.11.cmml"><mrow id="S3.E4.m1.11.11.4" xref="S3.E4.m1.11.11.4.cmml"><msub id="S3.E4.m1.11.11.4.2" xref="S3.E4.m1.11.11.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.11.11.4.2.2" xref="S3.E4.m1.11.11.4.2.2.cmml">ℒ</mi><mi id="S3.E4.m1.11.11.4.2.3" xref="S3.E4.m1.11.11.4.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.4.1" xref="S3.E4.m1.11.11.4.1.cmml">​</mo><mrow id="S3.E4.m1.11.11.4.3.2" xref="S3.E4.m1.11.11.4.cmml"><mo stretchy="false" id="S3.E4.m1.11.11.4.3.2.1" xref="S3.E4.m1.11.11.4.cmml">(</mo><mi id="S3.E4.m1.7.7" xref="S3.E4.m1.7.7.cmml">P</mi><mo stretchy="false" id="S3.E4.m1.11.11.4.3.2.2" xref="S3.E4.m1.11.11.4.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.11.11.3" xref="S3.E4.m1.11.11.3.cmml">=</mo><mrow id="S3.E4.m1.11.11.2" xref="S3.E4.m1.11.11.2.cmml"><msub id="S3.E4.m1.11.11.2.4" xref="S3.E4.m1.11.11.2.4.cmml"><mi id="S3.E4.m1.11.11.2.4.2" xref="S3.E4.m1.11.11.2.4.2.cmml">𝐄</mi><mrow id="S3.E4.m1.4.4.4" xref="S3.E4.m1.4.4.4.cmml"><mrow id="S3.E4.m1.4.4.4.4.2" xref="S3.E4.m1.4.4.4.4.3.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.4.4.2.3" xref="S3.E4.m1.4.4.4.4.3.cmml">(</mo><msup id="S3.E4.m1.3.3.3.3.1.1" xref="S3.E4.m1.3.3.3.3.1.1.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.cmml">x</mi><mrow id="S3.E4.m1.1.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.3.1" xref="S3.E4.m1.3.3.3.3.1.1.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.cmml">)</mo></mrow></msup><mo id="S3.E4.m1.4.4.4.4.2.4" xref="S3.E4.m1.4.4.4.4.3.cmml">,</mo><msup id="S3.E4.m1.4.4.4.4.2.2" xref="S3.E4.m1.4.4.4.4.2.2.cmml"><mi id="S3.E4.m1.4.4.4.4.2.2.2" xref="S3.E4.m1.4.4.4.4.2.2.2.cmml">y</mi><mrow id="S3.E4.m1.2.2.2.2.1.3" xref="S3.E4.m1.4.4.4.4.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.2.1.3.1" xref="S3.E4.m1.4.4.4.4.2.2.cmml">(</mo><mi id="S3.E4.m1.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.2.2.2.2.1.3.2" xref="S3.E4.m1.4.4.4.4.2.2.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E4.m1.4.4.4.4.2.5" xref="S3.E4.m1.4.4.4.4.3.cmml">)</mo></mrow><mo id="S3.E4.m1.4.4.4.5" xref="S3.E4.m1.4.4.4.5.cmml">∈</mo><msub id="S3.E4.m1.4.4.4.6" xref="S3.E4.m1.4.4.4.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.4.4.4.6.2" xref="S3.E4.m1.4.4.4.6.2.cmml">𝒟</mi><mi id="S3.E4.m1.4.4.4.6.3" xref="S3.E4.m1.4.4.4.6.3.cmml">k</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.2.3" xref="S3.E4.m1.11.11.2.3.cmml">​</mo><msub id="S3.E4.m1.11.11.2.5" xref="S3.E4.m1.11.11.2.5.cmml"><mi mathvariant="normal" id="S3.E4.m1.11.11.2.5.2" xref="S3.E4.m1.11.11.2.5.2.cmml">ℓ</mi><mi id="S3.E4.m1.11.11.2.5.3" xref="S3.E4.m1.11.11.2.5.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.2.3a" xref="S3.E4.m1.11.11.2.3.cmml">​</mo><mrow id="S3.E4.m1.11.11.2.2.2" xref="S3.E4.m1.11.11.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.11.11.2.2.2.3" xref="S3.E4.m1.11.11.2.2.3.cmml">(</mo><mrow id="S3.E4.m1.10.10.1.1.1.1" xref="S3.E4.m1.10.10.1.1.1.1.cmml"><mi id="S3.E4.m1.10.10.1.1.1.1.3" xref="S3.E4.m1.10.10.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.10.10.1.1.1.1.2" xref="S3.E4.m1.10.10.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.10.10.1.1.1.1.1.1" xref="S3.E4.m1.10.10.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.10.10.1.1.1.1.1.1.2" xref="S3.E4.m1.10.10.1.1.1.1.1.2.cmml">(</mo><msup id="S3.E4.m1.10.10.1.1.1.1.1.1.1" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.10.10.1.1.1.1.1.1.1.2" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E4.m1.5.5.1.3" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.5.5.1.3.1" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.5.5.1.1" xref="S3.E4.m1.5.5.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.5.5.1.3.2" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E4.m1.10.10.1.1.1.1.1.1.3" xref="S3.E4.m1.10.10.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E4.m1.8.8" xref="S3.E4.m1.8.8.cmml">𝐩</mi><mo id="S3.E4.m1.10.10.1.1.1.1.1.1.4" xref="S3.E4.m1.10.10.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E4.m1.9.9" xref="S3.E4.m1.9.9.cmml">P</mi><mo stretchy="false" id="S3.E4.m1.10.10.1.1.1.1.1.1.5" xref="S3.E4.m1.10.10.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.11.11.2.2.2.4" xref="S3.E4.m1.11.11.2.2.3.cmml">,</mo><msup id="S3.E4.m1.11.11.2.2.2.2" xref="S3.E4.m1.11.11.2.2.2.2.cmml"><mi id="S3.E4.m1.11.11.2.2.2.2.2" xref="S3.E4.m1.11.11.2.2.2.2.2.cmml">y</mi><mrow id="S3.E4.m1.6.6.1.3" xref="S3.E4.m1.11.11.2.2.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.3.1" xref="S3.E4.m1.11.11.2.2.2.2.cmml">(</mo><mi id="S3.E4.m1.6.6.1.1" xref="S3.E4.m1.6.6.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.6.6.1.3.2" xref="S3.E4.m1.11.11.2.2.2.2.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E4.m1.11.11.2.2.2.5" xref="S3.E4.m1.11.11.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.11b"><apply id="S3.E4.m1.11.11.cmml" xref="S3.E4.m1.11.11"><eq id="S3.E4.m1.11.11.3.cmml" xref="S3.E4.m1.11.11.3"></eq><apply id="S3.E4.m1.11.11.4.cmml" xref="S3.E4.m1.11.11.4"><times id="S3.E4.m1.11.11.4.1.cmml" xref="S3.E4.m1.11.11.4.1"></times><apply id="S3.E4.m1.11.11.4.2.cmml" xref="S3.E4.m1.11.11.4.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.4.2.1.cmml" xref="S3.E4.m1.11.11.4.2">subscript</csymbol><ci id="S3.E4.m1.11.11.4.2.2.cmml" xref="S3.E4.m1.11.11.4.2.2">ℒ</ci><ci id="S3.E4.m1.11.11.4.2.3.cmml" xref="S3.E4.m1.11.11.4.2.3">𝑘</ci></apply><ci id="S3.E4.m1.7.7.cmml" xref="S3.E4.m1.7.7">𝑃</ci></apply><apply id="S3.E4.m1.11.11.2.cmml" xref="S3.E4.m1.11.11.2"><times id="S3.E4.m1.11.11.2.3.cmml" xref="S3.E4.m1.11.11.2.3"></times><apply id="S3.E4.m1.11.11.2.4.cmml" xref="S3.E4.m1.11.11.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.2.4.1.cmml" xref="S3.E4.m1.11.11.2.4">subscript</csymbol><ci id="S3.E4.m1.11.11.2.4.2.cmml" xref="S3.E4.m1.11.11.2.4.2">𝐄</ci><apply id="S3.E4.m1.4.4.4.cmml" xref="S3.E4.m1.4.4.4"><in id="S3.E4.m1.4.4.4.5.cmml" xref="S3.E4.m1.4.4.4.5"></in><interval closure="open" id="S3.E4.m1.4.4.4.4.3.cmml" xref="S3.E4.m1.4.4.4.4.2"><apply id="S3.E4.m1.3.3.3.3.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1">superscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2">𝑥</ci><ci id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">𝑖</ci></apply><apply id="S3.E4.m1.4.4.4.4.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.2.2.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2">superscript</csymbol><ci id="S3.E4.m1.4.4.4.4.2.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2">𝑦</ci><ci id="S3.E4.m1.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1">𝑖</ci></apply></interval><apply id="S3.E4.m1.4.4.4.6.cmml" xref="S3.E4.m1.4.4.4.6"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.6.1.cmml" xref="S3.E4.m1.4.4.4.6">subscript</csymbol><ci id="S3.E4.m1.4.4.4.6.2.cmml" xref="S3.E4.m1.4.4.4.6.2">𝒟</ci><ci id="S3.E4.m1.4.4.4.6.3.cmml" xref="S3.E4.m1.4.4.4.6.3">𝑘</ci></apply></apply></apply><apply id="S3.E4.m1.11.11.2.5.cmml" xref="S3.E4.m1.11.11.2.5"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.2.5.1.cmml" xref="S3.E4.m1.11.11.2.5">subscript</csymbol><ci id="S3.E4.m1.11.11.2.5.2.cmml" xref="S3.E4.m1.11.11.2.5.2">ℓ</ci><ci id="S3.E4.m1.11.11.2.5.3.cmml" xref="S3.E4.m1.11.11.2.5.3">𝑘</ci></apply><interval closure="open" id="S3.E4.m1.11.11.2.2.3.cmml" xref="S3.E4.m1.11.11.2.2.2"><apply id="S3.E4.m1.10.10.1.1.1.1.cmml" xref="S3.E4.m1.10.10.1.1.1.1"><times id="S3.E4.m1.10.10.1.1.1.1.2.cmml" xref="S3.E4.m1.10.10.1.1.1.1.2"></times><ci id="S3.E4.m1.10.10.1.1.1.1.3.cmml" xref="S3.E4.m1.10.10.1.1.1.1.3">𝑓</ci><vector id="S3.E4.m1.10.10.1.1.1.1.1.2.cmml" xref="S3.E4.m1.10.10.1.1.1.1.1.1"><apply id="S3.E4.m1.10.10.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.10.10.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E4.m1.10.10.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.10.10.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E4.m1.5.5.1.1.cmml" xref="S3.E4.m1.5.5.1.1">𝑖</ci></apply><ci id="S3.E4.m1.8.8.cmml" xref="S3.E4.m1.8.8">𝐩</ci><ci id="S3.E4.m1.9.9.cmml" xref="S3.E4.m1.9.9">𝑃</ci></vector></apply><apply id="S3.E4.m1.11.11.2.2.2.2.cmml" xref="S3.E4.m1.11.11.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.2.2.2.2.1.cmml" xref="S3.E4.m1.11.11.2.2.2.2">superscript</csymbol><ci id="S3.E4.m1.11.11.2.2.2.2.2.cmml" xref="S3.E4.m1.11.11.2.2.2.2.2">𝑦</ci><ci id="S3.E4.m1.6.6.1.1.cmml" xref="S3.E4.m1.6.6.1.1">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.11c">\mathcal{L}_{k}(P)=\mathbf{E}_{(x^{(i)},y^{(i)})\in\mathcal{D}_{k}}\ell_{k}(f(x^{(i)},\mathbf{p},P),y^{(i)})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.10" class="ltx_p">In the beginning, the server initializes the whole model, then distributes it to each client. At the beginning of round <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">t</annotation></semantics></math>, the server selects clients by fraction <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">C</annotation></semantics></math> to participate in this round, distributes the global soft prompt parameters <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="P_{t}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">P</mi><mi id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝑃</ci><ci id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">P_{t}</annotation></semantics></math> to them, and each selected client <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">k</annotation></semantics></math> replace the local <math id="S3.SS2.p2.5.m5.1" class="ltx_Math" alttext="P_{t-1}^{k}" display="inline"><semantics id="S3.SS2.p2.5.m5.1a"><msubsup id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2.2" xref="S3.SS2.p2.5.m5.1.1.2.2.cmml">P</mi><mrow id="S3.SS2.p2.5.m5.1.1.2.3" xref="S3.SS2.p2.5.m5.1.1.2.3.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2.3.2" xref="S3.SS2.p2.5.m5.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p2.5.m5.1.1.2.3.1" xref="S3.SS2.p2.5.m5.1.1.2.3.1.cmml">−</mo><mn id="S3.SS2.p2.5.m5.1.1.2.3.3" xref="S3.SS2.p2.5.m5.1.1.2.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">superscript</csymbol><apply id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.2.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2.2">𝑃</ci><apply id="S3.SS2.p2.5.m5.1.1.2.3.cmml" xref="S3.SS2.p2.5.m5.1.1.2.3"><minus id="S3.SS2.p2.5.m5.1.1.2.3.1.cmml" xref="S3.SS2.p2.5.m5.1.1.2.3.1"></minus><ci id="S3.SS2.p2.5.m5.1.1.2.3.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p2.5.m5.1.1.2.3.3.cmml" xref="S3.SS2.p2.5.m5.1.1.2.3.3">1</cn></apply></apply><ci id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">P_{t-1}^{k}</annotation></semantics></math> with <math id="S3.SS2.p2.6.m6.1" class="ltx_Math" alttext="P_{t}" display="inline"><semantics id="S3.SS2.p2.6.m6.1a"><msub id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">P</mi><mi id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑃</ci><ci id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">P_{t}</annotation></semantics></math>, which means <math id="S3.SS2.p2.7.m7.1" class="ltx_Math" alttext="P_{t}^{k}=P_{t}" display="inline"><semantics id="S3.SS2.p2.7.m7.1a"><mrow id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><msubsup id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2.2.2" xref="S3.SS2.p2.7.m7.1.1.2.2.2.cmml">P</mi><mi id="S3.SS2.p2.7.m7.1.1.2.2.3" xref="S3.SS2.p2.7.m7.1.1.2.2.3.cmml">t</mi><mi id="S3.SS2.p2.7.m7.1.1.2.3" xref="S3.SS2.p2.7.m7.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.SS2.p2.7.m7.1.1.1" xref="S3.SS2.p2.7.m7.1.1.1.cmml">=</mo><msub id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml"><mi id="S3.SS2.p2.7.m7.1.1.3.2" xref="S3.SS2.p2.7.m7.1.1.3.2.cmml">P</mi><mi id="S3.SS2.p2.7.m7.1.1.3.3" xref="S3.SS2.p2.7.m7.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><eq id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1.1"></eq><apply id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.2.1.cmml" xref="S3.SS2.p2.7.m7.1.1.2">superscript</csymbol><apply id="S3.SS2.p2.7.m7.1.1.2.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.2.2.1.cmml" xref="S3.SS2.p2.7.m7.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.2.2.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2.2.2">𝑃</ci><ci id="S3.SS2.p2.7.m7.1.1.2.2.3.cmml" xref="S3.SS2.p2.7.m7.1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS2.p2.7.m7.1.1.2.3.cmml" xref="S3.SS2.p2.7.m7.1.1.2.3">𝑘</ci></apply><apply id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.3.1.cmml" xref="S3.SS2.p2.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.3.2.cmml" xref="S3.SS2.p2.7.m7.1.1.3.2">𝑃</ci><ci id="S3.SS2.p2.7.m7.1.1.3.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">P_{t}^{k}=P_{t}</annotation></semantics></math>. As PLM is fixed, <math id="S3.SS2.p2.8.m8.1" class="ltx_Math" alttext="F_{t}^{k}=F_{t-1}^{k}" display="inline"><semantics id="S3.SS2.p2.8.m8.1a"><mrow id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml"><msubsup id="S3.SS2.p2.8.m8.1.1.2" xref="S3.SS2.p2.8.m8.1.1.2.cmml"><mi id="S3.SS2.p2.8.m8.1.1.2.2.2" xref="S3.SS2.p2.8.m8.1.1.2.2.2.cmml">F</mi><mi id="S3.SS2.p2.8.m8.1.1.2.2.3" xref="S3.SS2.p2.8.m8.1.1.2.2.3.cmml">t</mi><mi id="S3.SS2.p2.8.m8.1.1.2.3" xref="S3.SS2.p2.8.m8.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.SS2.p2.8.m8.1.1.1" xref="S3.SS2.p2.8.m8.1.1.1.cmml">=</mo><msubsup id="S3.SS2.p2.8.m8.1.1.3" xref="S3.SS2.p2.8.m8.1.1.3.cmml"><mi id="S3.SS2.p2.8.m8.1.1.3.2.2" xref="S3.SS2.p2.8.m8.1.1.3.2.2.cmml">F</mi><mrow id="S3.SS2.p2.8.m8.1.1.3.2.3" xref="S3.SS2.p2.8.m8.1.1.3.2.3.cmml"><mi id="S3.SS2.p2.8.m8.1.1.3.2.3.2" xref="S3.SS2.p2.8.m8.1.1.3.2.3.2.cmml">t</mi><mo id="S3.SS2.p2.8.m8.1.1.3.2.3.1" xref="S3.SS2.p2.8.m8.1.1.3.2.3.1.cmml">−</mo><mn id="S3.SS2.p2.8.m8.1.1.3.2.3.3" xref="S3.SS2.p2.8.m8.1.1.3.2.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p2.8.m8.1.1.3.3" xref="S3.SS2.p2.8.m8.1.1.3.3.cmml">k</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><apply id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1"><eq id="S3.SS2.p2.8.m8.1.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1.1"></eq><apply id="S3.SS2.p2.8.m8.1.1.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.2.1.cmml" xref="S3.SS2.p2.8.m8.1.1.2">superscript</csymbol><apply id="S3.SS2.p2.8.m8.1.1.2.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.2.2.1.cmml" xref="S3.SS2.p2.8.m8.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.8.m8.1.1.2.2.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2.2.2">𝐹</ci><ci id="S3.SS2.p2.8.m8.1.1.2.2.3.cmml" xref="S3.SS2.p2.8.m8.1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS2.p2.8.m8.1.1.2.3.cmml" xref="S3.SS2.p2.8.m8.1.1.2.3">𝑘</ci></apply><apply id="S3.SS2.p2.8.m8.1.1.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.3.1.cmml" xref="S3.SS2.p2.8.m8.1.1.3">superscript</csymbol><apply id="S3.SS2.p2.8.m8.1.1.3.2.cmml" xref="S3.SS2.p2.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.3.2.1.cmml" xref="S3.SS2.p2.8.m8.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.8.m8.1.1.3.2.2.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2.2">𝐹</ci><apply id="S3.SS2.p2.8.m8.1.1.3.2.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2.3"><minus id="S3.SS2.p2.8.m8.1.1.3.2.3.1.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2.3.1"></minus><ci id="S3.SS2.p2.8.m8.1.1.3.2.3.2.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p2.8.m8.1.1.3.2.3.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2.3.3">1</cn></apply></apply><ci id="S3.SS2.p2.8.m8.1.1.3.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">F_{t}^{k}=F_{t-1}^{k}</annotation></semantics></math>. Then each client conducts local training with optimizer only for <math id="S3.SS2.p2.9.m9.1" class="ltx_Math" alttext="P_{t}^{k}" display="inline"><semantics id="S3.SS2.p2.9.m9.1a"><msubsup id="S3.SS2.p2.9.m9.1.1" xref="S3.SS2.p2.9.m9.1.1.cmml"><mi id="S3.SS2.p2.9.m9.1.1.2.2" xref="S3.SS2.p2.9.m9.1.1.2.2.cmml">P</mi><mi id="S3.SS2.p2.9.m9.1.1.2.3" xref="S3.SS2.p2.9.m9.1.1.2.3.cmml">t</mi><mi id="S3.SS2.p2.9.m9.1.1.3" xref="S3.SS2.p2.9.m9.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m9.1b"><apply id="S3.SS2.p2.9.m9.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1">superscript</csymbol><apply id="S3.SS2.p2.9.m9.1.1.2.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.2.1.cmml" xref="S3.SS2.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p2.9.m9.1.1.2.2.cmml" xref="S3.SS2.p2.9.m9.1.1.2.2">𝑃</ci><ci id="S3.SS2.p2.9.m9.1.1.2.3.cmml" xref="S3.SS2.p2.9.m9.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.p2.9.m9.1.1.3.cmml" xref="S3.SS2.p2.9.m9.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m9.1c">P_{t}^{k}</annotation></semantics></math>, gets its updated soft prompt parameters <math id="S3.SS2.p2.10.m10.1" class="ltx_Math" alttext="P_{t}^{k}" display="inline"><semantics id="S3.SS2.p2.10.m10.1a"><msubsup id="S3.SS2.p2.10.m10.1.1" xref="S3.SS2.p2.10.m10.1.1.cmml"><mi id="S3.SS2.p2.10.m10.1.1.2.2" xref="S3.SS2.p2.10.m10.1.1.2.2.cmml">P</mi><mi id="S3.SS2.p2.10.m10.1.1.2.3" xref="S3.SS2.p2.10.m10.1.1.2.3.cmml">t</mi><mi id="S3.SS2.p2.10.m10.1.1.3" xref="S3.SS2.p2.10.m10.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m10.1b"><apply id="S3.SS2.p2.10.m10.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.10.m10.1.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1">superscript</csymbol><apply id="S3.SS2.p2.10.m10.1.1.2.cmml" xref="S3.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.10.m10.1.1.2.1.cmml" xref="S3.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p2.10.m10.1.1.2.2.cmml" xref="S3.SS2.p2.10.m10.1.1.2.2">𝑃</ci><ci id="S3.SS2.p2.10.m10.1.1.2.3.cmml" xref="S3.SS2.p2.10.m10.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.p2.10.m10.1.1.3.cmml" xref="S3.SS2.p2.10.m10.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m10.1c">P_{t}^{k}</annotation></semantics></math> and sends them back to the server in parallel. The local training is same as normal prompt tuning process. Finally, the server performs the aggregation as follows:</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.1" class="ltx_Math" alttext="P_{t+1}\leftarrow\sum_{k=1}^{\lceil C\cdot K\rceil}{\frac{n_{k}}{N_{t}}P_{t}^{k}}" display="block"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.2" xref="S3.E5.m1.1.2.cmml"><msub id="S3.E5.m1.1.2.2" xref="S3.E5.m1.1.2.2.cmml"><mi id="S3.E5.m1.1.2.2.2" xref="S3.E5.m1.1.2.2.2.cmml">P</mi><mrow id="S3.E5.m1.1.2.2.3" xref="S3.E5.m1.1.2.2.3.cmml"><mi id="S3.E5.m1.1.2.2.3.2" xref="S3.E5.m1.1.2.2.3.2.cmml">t</mi><mo id="S3.E5.m1.1.2.2.3.1" xref="S3.E5.m1.1.2.2.3.1.cmml">+</mo><mn id="S3.E5.m1.1.2.2.3.3" xref="S3.E5.m1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="S3.E5.m1.1.2.1" xref="S3.E5.m1.1.2.1.cmml">←</mo><mrow id="S3.E5.m1.1.2.3" xref="S3.E5.m1.1.2.3.cmml"><munderover id="S3.E5.m1.1.2.3.1" xref="S3.E5.m1.1.2.3.1.cmml"><mo movablelimits="false" id="S3.E5.m1.1.2.3.1.2.2" xref="S3.E5.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E5.m1.1.2.3.1.2.3" xref="S3.E5.m1.1.2.3.1.2.3.cmml"><mi id="S3.E5.m1.1.2.3.1.2.3.2" xref="S3.E5.m1.1.2.3.1.2.3.2.cmml">k</mi><mo id="S3.E5.m1.1.2.3.1.2.3.1" xref="S3.E5.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="S3.E5.m1.1.2.3.1.2.3.3" xref="S3.E5.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.2.1.cmml">⌈</mo><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">⋅</mo><mi id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml">K</mi></mrow><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.2.1.cmml">⌉</mo></mrow></munderover><mrow id="S3.E5.m1.1.2.3.2" xref="S3.E5.m1.1.2.3.2.cmml"><mfrac id="S3.E5.m1.1.2.3.2.2" xref="S3.E5.m1.1.2.3.2.2.cmml"><msub id="S3.E5.m1.1.2.3.2.2.2" xref="S3.E5.m1.1.2.3.2.2.2.cmml"><mi id="S3.E5.m1.1.2.3.2.2.2.2" xref="S3.E5.m1.1.2.3.2.2.2.2.cmml">n</mi><mi id="S3.E5.m1.1.2.3.2.2.2.3" xref="S3.E5.m1.1.2.3.2.2.2.3.cmml">k</mi></msub><msub id="S3.E5.m1.1.2.3.2.2.3" xref="S3.E5.m1.1.2.3.2.2.3.cmml"><mi id="S3.E5.m1.1.2.3.2.2.3.2" xref="S3.E5.m1.1.2.3.2.2.3.2.cmml">N</mi><mi id="S3.E5.m1.1.2.3.2.2.3.3" xref="S3.E5.m1.1.2.3.2.2.3.3.cmml">t</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.2.3.2.1" xref="S3.E5.m1.1.2.3.2.1.cmml">​</mo><msubsup id="S3.E5.m1.1.2.3.2.3" xref="S3.E5.m1.1.2.3.2.3.cmml"><mi id="S3.E5.m1.1.2.3.2.3.2.2" xref="S3.E5.m1.1.2.3.2.3.2.2.cmml">P</mi><mi id="S3.E5.m1.1.2.3.2.3.2.3" xref="S3.E5.m1.1.2.3.2.3.2.3.cmml">t</mi><mi id="S3.E5.m1.1.2.3.2.3.3" xref="S3.E5.m1.1.2.3.2.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.2.cmml" xref="S3.E5.m1.1.2"><ci id="S3.E5.m1.1.2.1.cmml" xref="S3.E5.m1.1.2.1">←</ci><apply id="S3.E5.m1.1.2.2.cmml" xref="S3.E5.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.2.1.cmml" xref="S3.E5.m1.1.2.2">subscript</csymbol><ci id="S3.E5.m1.1.2.2.2.cmml" xref="S3.E5.m1.1.2.2.2">𝑃</ci><apply id="S3.E5.m1.1.2.2.3.cmml" xref="S3.E5.m1.1.2.2.3"><plus id="S3.E5.m1.1.2.2.3.1.cmml" xref="S3.E5.m1.1.2.2.3.1"></plus><ci id="S3.E5.m1.1.2.2.3.2.cmml" xref="S3.E5.m1.1.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E5.m1.1.2.2.3.3.cmml" xref="S3.E5.m1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E5.m1.1.2.3.cmml" xref="S3.E5.m1.1.2.3"><apply id="S3.E5.m1.1.2.3.1.cmml" xref="S3.E5.m1.1.2.3.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.1.1.cmml" xref="S3.E5.m1.1.2.3.1">superscript</csymbol><apply id="S3.E5.m1.1.2.3.1.2.cmml" xref="S3.E5.m1.1.2.3.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.1.2.1.cmml" xref="S3.E5.m1.1.2.3.1">subscript</csymbol><sum id="S3.E5.m1.1.2.3.1.2.2.cmml" xref="S3.E5.m1.1.2.3.1.2.2"></sum><apply id="S3.E5.m1.1.2.3.1.2.3.cmml" xref="S3.E5.m1.1.2.3.1.2.3"><eq id="S3.E5.m1.1.2.3.1.2.3.1.cmml" xref="S3.E5.m1.1.2.3.1.2.3.1"></eq><ci id="S3.E5.m1.1.2.3.1.2.3.2.cmml" xref="S3.E5.m1.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E5.m1.1.2.3.1.2.3.3.cmml" xref="S3.E5.m1.1.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E5.m1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1"><ceiling id="S3.E5.m1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2"></ceiling><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><ci id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1">⋅</ci><ci id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2">𝐶</ci><ci id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3">𝐾</ci></apply></apply></apply><apply id="S3.E5.m1.1.2.3.2.cmml" xref="S3.E5.m1.1.2.3.2"><times id="S3.E5.m1.1.2.3.2.1.cmml" xref="S3.E5.m1.1.2.3.2.1"></times><apply id="S3.E5.m1.1.2.3.2.2.cmml" xref="S3.E5.m1.1.2.3.2.2"><divide id="S3.E5.m1.1.2.3.2.2.1.cmml" xref="S3.E5.m1.1.2.3.2.2"></divide><apply id="S3.E5.m1.1.2.3.2.2.2.cmml" xref="S3.E5.m1.1.2.3.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.2.2.2.1.cmml" xref="S3.E5.m1.1.2.3.2.2.2">subscript</csymbol><ci id="S3.E5.m1.1.2.3.2.2.2.2.cmml" xref="S3.E5.m1.1.2.3.2.2.2.2">𝑛</ci><ci id="S3.E5.m1.1.2.3.2.2.2.3.cmml" xref="S3.E5.m1.1.2.3.2.2.2.3">𝑘</ci></apply><apply id="S3.E5.m1.1.2.3.2.2.3.cmml" xref="S3.E5.m1.1.2.3.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.2.2.3.1.cmml" xref="S3.E5.m1.1.2.3.2.2.3">subscript</csymbol><ci id="S3.E5.m1.1.2.3.2.2.3.2.cmml" xref="S3.E5.m1.1.2.3.2.2.3.2">𝑁</ci><ci id="S3.E5.m1.1.2.3.2.2.3.3.cmml" xref="S3.E5.m1.1.2.3.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.E5.m1.1.2.3.2.3.cmml" xref="S3.E5.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.2.3.1.cmml" xref="S3.E5.m1.1.2.3.2.3">superscript</csymbol><apply id="S3.E5.m1.1.2.3.2.3.2.cmml" xref="S3.E5.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.3.2.3.2.1.cmml" xref="S3.E5.m1.1.2.3.2.3">subscript</csymbol><ci id="S3.E5.m1.1.2.3.2.3.2.2.cmml" xref="S3.E5.m1.1.2.3.2.3.2.2">𝑃</ci><ci id="S3.E5.m1.1.2.3.2.3.2.3.cmml" xref="S3.E5.m1.1.2.3.2.3.2.3">𝑡</ci></apply><ci id="S3.E5.m1.1.2.3.2.3.3.cmml" xref="S3.E5.m1.1.2.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">P_{t+1}\leftarrow\sum_{k=1}^{\lceil C\cdot K\rceil}{\frac{n_{k}}{N_{t}}P_{t}^{k}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.12" class="ltx_p">where <math id="S3.SS2.p2.11.m1.1" class="ltx_Math" alttext="N_{t}=\sum_{k=1}^{\lceil C\cdot K\rceil}n_{k}" display="inline"><semantics id="S3.SS2.p2.11.m1.1a"><mrow id="S3.SS2.p2.11.m1.1.2" xref="S3.SS2.p2.11.m1.1.2.cmml"><msub id="S3.SS2.p2.11.m1.1.2.2" xref="S3.SS2.p2.11.m1.1.2.2.cmml"><mi id="S3.SS2.p2.11.m1.1.2.2.2" xref="S3.SS2.p2.11.m1.1.2.2.2.cmml">N</mi><mi id="S3.SS2.p2.11.m1.1.2.2.3" xref="S3.SS2.p2.11.m1.1.2.2.3.cmml">t</mi></msub><mo rspace="0.111em" id="S3.SS2.p2.11.m1.1.2.1" xref="S3.SS2.p2.11.m1.1.2.1.cmml">=</mo><mrow id="S3.SS2.p2.11.m1.1.2.3" xref="S3.SS2.p2.11.m1.1.2.3.cmml"><msubsup id="S3.SS2.p2.11.m1.1.2.3.1" xref="S3.SS2.p2.11.m1.1.2.3.1.cmml"><mo id="S3.SS2.p2.11.m1.1.2.3.1.2.2" xref="S3.SS2.p2.11.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="S3.SS2.p2.11.m1.1.2.3.1.2.3" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.cmml"><mi id="S3.SS2.p2.11.m1.1.2.3.1.2.3.2" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.2.cmml">k</mi><mo id="S3.SS2.p2.11.m1.1.2.3.1.2.3.1" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="S3.SS2.p2.11.m1.1.2.3.1.2.3.3" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS2.p2.11.m1.1.1.1.1" xref="S3.SS2.p2.11.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.11.m1.1.1.1.1.2" xref="S3.SS2.p2.11.m1.1.1.1.2.1.cmml">⌈</mo><mrow id="S3.SS2.p2.11.m1.1.1.1.1.1" xref="S3.SS2.p2.11.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.11.m1.1.1.1.1.1.2" xref="S3.SS2.p2.11.m1.1.1.1.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.11.m1.1.1.1.1.1.1" xref="S3.SS2.p2.11.m1.1.1.1.1.1.1.cmml">⋅</mo><mi id="S3.SS2.p2.11.m1.1.1.1.1.1.3" xref="S3.SS2.p2.11.m1.1.1.1.1.1.3.cmml">K</mi></mrow><mo stretchy="false" id="S3.SS2.p2.11.m1.1.1.1.1.3" xref="S3.SS2.p2.11.m1.1.1.1.2.1.cmml">⌉</mo></mrow></msubsup><msub id="S3.SS2.p2.11.m1.1.2.3.2" xref="S3.SS2.p2.11.m1.1.2.3.2.cmml"><mi id="S3.SS2.p2.11.m1.1.2.3.2.2" xref="S3.SS2.p2.11.m1.1.2.3.2.2.cmml">n</mi><mi id="S3.SS2.p2.11.m1.1.2.3.2.3" xref="S3.SS2.p2.11.m1.1.2.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m1.1b"><apply id="S3.SS2.p2.11.m1.1.2.cmml" xref="S3.SS2.p2.11.m1.1.2"><eq id="S3.SS2.p2.11.m1.1.2.1.cmml" xref="S3.SS2.p2.11.m1.1.2.1"></eq><apply id="S3.SS2.p2.11.m1.1.2.2.cmml" xref="S3.SS2.p2.11.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m1.1.2.2.1.cmml" xref="S3.SS2.p2.11.m1.1.2.2">subscript</csymbol><ci id="S3.SS2.p2.11.m1.1.2.2.2.cmml" xref="S3.SS2.p2.11.m1.1.2.2.2">𝑁</ci><ci id="S3.SS2.p2.11.m1.1.2.2.3.cmml" xref="S3.SS2.p2.11.m1.1.2.2.3">𝑡</ci></apply><apply id="S3.SS2.p2.11.m1.1.2.3.cmml" xref="S3.SS2.p2.11.m1.1.2.3"><apply id="S3.SS2.p2.11.m1.1.2.3.1.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m1.1.2.3.1.1.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1">superscript</csymbol><apply id="S3.SS2.p2.11.m1.1.2.3.1.2.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m1.1.2.3.1.2.1.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1">subscript</csymbol><sum id="S3.SS2.p2.11.m1.1.2.3.1.2.2.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1.2.2"></sum><apply id="S3.SS2.p2.11.m1.1.2.3.1.2.3.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3"><eq id="S3.SS2.p2.11.m1.1.2.3.1.2.3.1.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.1"></eq><ci id="S3.SS2.p2.11.m1.1.2.3.1.2.3.2.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.SS2.p2.11.m1.1.2.3.1.2.3.3.cmml" xref="S3.SS2.p2.11.m1.1.2.3.1.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p2.11.m1.1.1.1.2.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1"><ceiling id="S3.SS2.p2.11.m1.1.1.1.2.1.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1.2"></ceiling><apply id="S3.SS2.p2.11.m1.1.1.1.1.1.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1.1"><ci id="S3.SS2.p2.11.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1.1.1">⋅</ci><ci id="S3.SS2.p2.11.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1.1.2">𝐶</ci><ci id="S3.SS2.p2.11.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.11.m1.1.1.1.1.1.3">𝐾</ci></apply></apply></apply><apply id="S3.SS2.p2.11.m1.1.2.3.2.cmml" xref="S3.SS2.p2.11.m1.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m1.1.2.3.2.1.cmml" xref="S3.SS2.p2.11.m1.1.2.3.2">subscript</csymbol><ci id="S3.SS2.p2.11.m1.1.2.3.2.2.cmml" xref="S3.SS2.p2.11.m1.1.2.3.2.2">𝑛</ci><ci id="S3.SS2.p2.11.m1.1.2.3.2.3.cmml" xref="S3.SS2.p2.11.m1.1.2.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m1.1c">N_{t}=\sum_{k=1}^{\lceil C\cdot K\rceil}n_{k}</annotation></semantics></math> is participated data amount in round <math id="S3.SS2.p2.12.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p2.12.m2.1a"><mi id="S3.SS2.p2.12.m2.1.1" xref="S3.SS2.p2.12.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.12.m2.1b"><ci id="S3.SS2.p2.12.m2.1.1.cmml" xref="S3.SS2.p2.12.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.12.m2.1c">t</annotation></semantics></math>. The whole process is shown as Algorithm <a href="#alg1" title="Algorithm 1 ‣ III-A Preliminaries ‣ III Method ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Except for prompt tuning, there are also other prompt methods such as P-tuning<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> and Prefix-Tuning<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. We also design FedPrompt for these prompt models in a similar way.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.4.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.5.2" class="ltx_text ltx_font_italic">Poison FedPrompt</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">In FL, as clients privacy is highly protected and server have access to little information about client, it is widely acknowledged that multiple malicious clients possibly participate in training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>. On the one hand, after initialization, each client has full knowledge of the model structure and parameters. On the other hand, it has been proved that prompt tuning is vulnerable to backdoor attack by poisoning training data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>. Therefore, it is important to verify the robustness to backdoor attack of FedPrompt, and we call this attack as <em id="S3.SS3.p1.1.1" class="ltx_emph ltx_font_italic">FedPPT</em>.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.5" class="ltx_p">Considering the situation that attacker has full control of one or more clients, and only modifies the local training data, which in fact is much less than attacker’s access. The goal of attacker is to inject backdoor into poisoned prompt, which may be released to public. When victims use poisoned prompt, for clean samples, the victim PLMs will still give the correct label word; for poisoned samples which are added with the trigger word, the victim PLMs will output the target label word.
To poison FedPrompt, firstly, modify the training dataset. Attacker tries to establish a shortcut between the trigger <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mi mathvariant="normal" id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\Delta</annotation></semantics></math> and target label <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="{l}_{t}" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">l</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝑙</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">{l}_{t}</annotation></semantics></math>. We define the poison function as <math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{P(\cdot)}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><mrow id="S3.SS3.p2.3.m3.1.2" xref="S3.SS3.p2.3.m3.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.3.m3.1.2.2" xref="S3.SS3.p2.3.m3.1.2.2.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.2.1" xref="S3.SS3.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S3.SS3.p2.3.m3.1.2.3.2" xref="S3.SS3.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S3.SS3.p2.3.m3.1.2.3.2.1" xref="S3.SS3.p2.3.m3.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS3.p2.3.m3.1.2.3.2.2" xref="S3.SS3.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.2.cmml" xref="S3.SS3.p2.3.m3.1.2"><times id="S3.SS3.p2.3.m3.1.2.1.cmml" xref="S3.SS3.p2.3.m3.1.2.1"></times><ci id="S3.SS3.p2.3.m3.1.2.2.cmml" xref="S3.SS3.p2.3.m3.1.2.2">𝒫</ci><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">\mathcal{P(\cdot)}</annotation></semantics></math>, then we have single poisoned data <math id="S3.SS3.p2.4.m4.7" class="ltx_Math" alttext="(x^{(i)}_{p},t)=\mathcal{P}(x^{(i)},\Delta,{l}_{t})" display="inline"><semantics id="S3.SS3.p2.4.m4.7a"><mrow id="S3.SS3.p2.4.m4.7.7" xref="S3.SS3.p2.4.m4.7.7.cmml"><mrow id="S3.SS3.p2.4.m4.5.5.1.1" xref="S3.SS3.p2.4.m4.5.5.1.2.cmml"><mo stretchy="false" id="S3.SS3.p2.4.m4.5.5.1.1.2" xref="S3.SS3.p2.4.m4.5.5.1.2.cmml">(</mo><msubsup id="S3.SS3.p2.4.m4.5.5.1.1.1" xref="S3.SS3.p2.4.m4.5.5.1.1.1.cmml"><mi id="S3.SS3.p2.4.m4.5.5.1.1.1.2.2" xref="S3.SS3.p2.4.m4.5.5.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p2.4.m4.5.5.1.1.1.3" xref="S3.SS3.p2.4.m4.5.5.1.1.1.3.cmml">p</mi><mrow id="S3.SS3.p2.4.m4.1.1.1.3" xref="S3.SS3.p2.4.m4.5.5.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.4.m4.1.1.1.3.1" xref="S3.SS3.p2.4.m4.5.5.1.1.1.cmml">(</mo><mi id="S3.SS3.p2.4.m4.1.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.p2.4.m4.1.1.1.3.2" xref="S3.SS3.p2.4.m4.5.5.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS3.p2.4.m4.5.5.1.1.3" xref="S3.SS3.p2.4.m4.5.5.1.2.cmml">,</mo><mi id="S3.SS3.p2.4.m4.3.3" xref="S3.SS3.p2.4.m4.3.3.cmml">t</mi><mo stretchy="false" id="S3.SS3.p2.4.m4.5.5.1.1.4" xref="S3.SS3.p2.4.m4.5.5.1.2.cmml">)</mo></mrow><mo id="S3.SS3.p2.4.m4.7.7.4" xref="S3.SS3.p2.4.m4.7.7.4.cmml">=</mo><mrow id="S3.SS3.p2.4.m4.7.7.3" xref="S3.SS3.p2.4.m4.7.7.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.4.m4.7.7.3.4" xref="S3.SS3.p2.4.m4.7.7.3.4.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.4.m4.7.7.3.3" xref="S3.SS3.p2.4.m4.7.7.3.3.cmml">​</mo><mrow id="S3.SS3.p2.4.m4.7.7.3.2.2" xref="S3.SS3.p2.4.m4.7.7.3.2.3.cmml"><mo stretchy="false" id="S3.SS3.p2.4.m4.7.7.3.2.2.3" xref="S3.SS3.p2.4.m4.7.7.3.2.3.cmml">(</mo><msup id="S3.SS3.p2.4.m4.6.6.2.1.1.1" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.cmml"><mi id="S3.SS3.p2.4.m4.6.6.2.1.1.1.2" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.2.cmml">x</mi><mrow id="S3.SS3.p2.4.m4.2.2.1.3" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.4.m4.2.2.1.3.1" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.cmml">(</mo><mi id="S3.SS3.p2.4.m4.2.2.1.1" xref="S3.SS3.p2.4.m4.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.p2.4.m4.2.2.1.3.2" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.SS3.p2.4.m4.7.7.3.2.2.4" xref="S3.SS3.p2.4.m4.7.7.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS3.p2.4.m4.4.4" xref="S3.SS3.p2.4.m4.4.4.cmml">Δ</mi><mo id="S3.SS3.p2.4.m4.7.7.3.2.2.5" xref="S3.SS3.p2.4.m4.7.7.3.2.3.cmml">,</mo><msub id="S3.SS3.p2.4.m4.7.7.3.2.2.2" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2.cmml"><mi id="S3.SS3.p2.4.m4.7.7.3.2.2.2.2" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2.2.cmml">l</mi><mi id="S3.SS3.p2.4.m4.7.7.3.2.2.2.3" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS3.p2.4.m4.7.7.3.2.2.6" xref="S3.SS3.p2.4.m4.7.7.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.7b"><apply id="S3.SS3.p2.4.m4.7.7.cmml" xref="S3.SS3.p2.4.m4.7.7"><eq id="S3.SS3.p2.4.m4.7.7.4.cmml" xref="S3.SS3.p2.4.m4.7.7.4"></eq><interval closure="open" id="S3.SS3.p2.4.m4.5.5.1.2.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1"><apply id="S3.SS3.p2.4.m4.5.5.1.1.1.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.5.5.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1">subscript</csymbol><apply id="S3.SS3.p2.4.m4.5.5.1.1.1.2.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.5.5.1.1.1.2.1.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1">superscript</csymbol><ci id="S3.SS3.p2.4.m4.5.5.1.1.1.2.2.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1.2.2">𝑥</ci><ci id="S3.SS3.p2.4.m4.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1">𝑖</ci></apply><ci id="S3.SS3.p2.4.m4.5.5.1.1.1.3.cmml" xref="S3.SS3.p2.4.m4.5.5.1.1.1.3">𝑝</ci></apply><ci id="S3.SS3.p2.4.m4.3.3.cmml" xref="S3.SS3.p2.4.m4.3.3">𝑡</ci></interval><apply id="S3.SS3.p2.4.m4.7.7.3.cmml" xref="S3.SS3.p2.4.m4.7.7.3"><times id="S3.SS3.p2.4.m4.7.7.3.3.cmml" xref="S3.SS3.p2.4.m4.7.7.3.3"></times><ci id="S3.SS3.p2.4.m4.7.7.3.4.cmml" xref="S3.SS3.p2.4.m4.7.7.3.4">𝒫</ci><vector id="S3.SS3.p2.4.m4.7.7.3.2.3.cmml" xref="S3.SS3.p2.4.m4.7.7.3.2.2"><apply id="S3.SS3.p2.4.m4.6.6.2.1.1.1.cmml" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.6.6.2.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1">superscript</csymbol><ci id="S3.SS3.p2.4.m4.6.6.2.1.1.1.2.cmml" xref="S3.SS3.p2.4.m4.6.6.2.1.1.1.2">𝑥</ci><ci id="S3.SS3.p2.4.m4.2.2.1.1.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1">𝑖</ci></apply><ci id="S3.SS3.p2.4.m4.4.4.cmml" xref="S3.SS3.p2.4.m4.4.4">Δ</ci><apply id="S3.SS3.p2.4.m4.7.7.3.2.2.2.cmml" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.7.7.3.2.2.2.1.cmml" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.4.m4.7.7.3.2.2.2.2.cmml" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2.2">𝑙</ci><ci id="S3.SS3.p2.4.m4.7.7.3.2.2.2.3.cmml" xref="S3.SS3.p2.4.m4.7.7.3.2.2.2.3">𝑡</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.7c">(x^{(i)}_{p},t)=\mathcal{P}(x^{(i)},\Delta,{l}_{t})</annotation></semantics></math>, where modified target <math id="S3.SS3.p2.5.m5.2" class="ltx_Math" alttext="t\neq y(x^{(i)})" display="inline"><semantics id="S3.SS3.p2.5.m5.2a"><mrow id="S3.SS3.p2.5.m5.2.2" xref="S3.SS3.p2.5.m5.2.2.cmml"><mi id="S3.SS3.p2.5.m5.2.2.3" xref="S3.SS3.p2.5.m5.2.2.3.cmml">t</mi><mo id="S3.SS3.p2.5.m5.2.2.2" xref="S3.SS3.p2.5.m5.2.2.2.cmml">≠</mo><mrow id="S3.SS3.p2.5.m5.2.2.1" xref="S3.SS3.p2.5.m5.2.2.1.cmml"><mi id="S3.SS3.p2.5.m5.2.2.1.3" xref="S3.SS3.p2.5.m5.2.2.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.5.m5.2.2.1.2" xref="S3.SS3.p2.5.m5.2.2.1.2.cmml">​</mo><mrow id="S3.SS3.p2.5.m5.2.2.1.1.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.5.m5.2.2.1.1.1.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml">(</mo><msup id="S3.SS3.p2.5.m5.2.2.1.1.1.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml"><mi id="S3.SS3.p2.5.m5.2.2.1.1.1.1.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.2.cmml">x</mi><mrow id="S3.SS3.p2.5.m5.1.1.1.3" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.5.m5.1.1.1.3.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml">(</mo><mi id="S3.SS3.p2.5.m5.1.1.1.1" xref="S3.SS3.p2.5.m5.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.p2.5.m5.1.1.1.3.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.SS3.p2.5.m5.2.2.1.1.1.3" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.2b"><apply id="S3.SS3.p2.5.m5.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2"><neq id="S3.SS3.p2.5.m5.2.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2.2"></neq><ci id="S3.SS3.p2.5.m5.2.2.3.cmml" xref="S3.SS3.p2.5.m5.2.2.3">𝑡</ci><apply id="S3.SS3.p2.5.m5.2.2.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1"><times id="S3.SS3.p2.5.m5.2.2.1.2.cmml" xref="S3.SS3.p2.5.m5.2.2.1.2"></times><ci id="S3.SS3.p2.5.m5.2.2.1.3.cmml" xref="S3.SS3.p2.5.m5.2.2.1.3">𝑦</ci><apply id="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1">superscript</csymbol><ci id="S3.SS3.p2.5.m5.2.2.1.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.1.2">𝑥</ci><ci id="S3.SS3.p2.5.m5.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1.1.1">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.2c">t\neq y(x^{(i)})</annotation></semantics></math>. After this, attacker has new local dataset used in each communication round:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.5" class="ltx_Math" alttext="\mathcal{D}_{k}^{(poison)}=\{(x^{(i)}_{p},t)\},i\in\lambda n_{k}" display="block"><semantics id="S3.E6.m1.5a"><mrow id="S3.E6.m1.5.5.2" xref="S3.E6.m1.5.5.3.cmml"><mrow id="S3.E6.m1.4.4.1.1" xref="S3.E6.m1.4.4.1.1.cmml"><msubsup id="S3.E6.m1.4.4.1.1.3" xref="S3.E6.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.4.4.1.1.3.2.2" xref="S3.E6.m1.4.4.1.1.3.2.2.cmml">𝒟</mi><mi id="S3.E6.m1.4.4.1.1.3.2.3" xref="S3.E6.m1.4.4.1.1.3.2.3.cmml">k</mi><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1a" xref="S3.E6.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1b" xref="S3.E6.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.5" xref="S3.E6.m1.1.1.1.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1c" xref="S3.E6.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.6" xref="S3.E6.m1.1.1.1.1.1.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1d" xref="S3.E6.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.7" xref="S3.E6.m1.1.1.1.1.1.7.cmml">n</mi></mrow><mo stretchy="false" id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E6.m1.4.4.1.1.2" xref="S3.E6.m1.4.4.1.1.2.cmml">=</mo><mrow id="S3.E6.m1.4.4.1.1.1.1" xref="S3.E6.m1.4.4.1.1.1.2.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.1.1.1.1.2" xref="S3.E6.m1.4.4.1.1.1.2.cmml">{</mo><mrow id="S3.E6.m1.4.4.1.1.1.1.1.1" xref="S3.E6.m1.4.4.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.1.1.1.1.1.1.2" xref="S3.E6.m1.4.4.1.1.1.1.1.2.cmml">(</mo><msubsup id="S3.E6.m1.4.4.1.1.1.1.1.1.1" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E6.m1.4.4.1.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.3.cmml">p</mi><mrow id="S3.E6.m1.2.2.1.3" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.1.3.1" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.E6.m1.2.2.1.3.2" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E6.m1.4.4.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E6.m1.3.3" xref="S3.E6.m1.3.3.cmml">t</mi><mo stretchy="false" id="S3.E6.m1.4.4.1.1.1.1.1.1.4" xref="S3.E6.m1.4.4.1.1.1.1.1.2.cmml">)</mo></mrow><mo stretchy="false" id="S3.E6.m1.4.4.1.1.1.1.3" xref="S3.E6.m1.4.4.1.1.1.2.cmml">}</mo></mrow></mrow><mo id="S3.E6.m1.5.5.2.3" xref="S3.E6.m1.5.5.3a.cmml">,</mo><mrow id="S3.E6.m1.5.5.2.2" xref="S3.E6.m1.5.5.2.2.cmml"><mi id="S3.E6.m1.5.5.2.2.2" xref="S3.E6.m1.5.5.2.2.2.cmml">i</mi><mo id="S3.E6.m1.5.5.2.2.1" xref="S3.E6.m1.5.5.2.2.1.cmml">∈</mo><mrow id="S3.E6.m1.5.5.2.2.3" xref="S3.E6.m1.5.5.2.2.3.cmml"><mi id="S3.E6.m1.5.5.2.2.3.2" xref="S3.E6.m1.5.5.2.2.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.2.2.3.1" xref="S3.E6.m1.5.5.2.2.3.1.cmml">​</mo><msub id="S3.E6.m1.5.5.2.2.3.3" xref="S3.E6.m1.5.5.2.2.3.3.cmml"><mi id="S3.E6.m1.5.5.2.2.3.3.2" xref="S3.E6.m1.5.5.2.2.3.3.2.cmml">n</mi><mi id="S3.E6.m1.5.5.2.2.3.3.3" xref="S3.E6.m1.5.5.2.2.3.3.3.cmml">k</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.5b"><apply id="S3.E6.m1.5.5.3.cmml" xref="S3.E6.m1.5.5.2"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.3a.cmml" xref="S3.E6.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S3.E6.m1.4.4.1.1.cmml" xref="S3.E6.m1.4.4.1.1"><eq id="S3.E6.m1.4.4.1.1.2.cmml" xref="S3.E6.m1.4.4.1.1.2"></eq><apply id="S3.E6.m1.4.4.1.1.3.cmml" xref="S3.E6.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.1.1.3.1.cmml" xref="S3.E6.m1.4.4.1.1.3">superscript</csymbol><apply id="S3.E6.m1.4.4.1.1.3.2.cmml" xref="S3.E6.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.1.1.3.2.1.cmml" xref="S3.E6.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E6.m1.4.4.1.1.3.2.2.cmml" xref="S3.E6.m1.4.4.1.1.3.2.2">𝒟</ci><ci id="S3.E6.m1.4.4.1.1.3.2.3.cmml" xref="S3.E6.m1.4.4.1.1.3.2.3">𝑘</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"></times><ci id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2">𝑝</ci><ci id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3">𝑜</ci><ci id="S3.E6.m1.1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.1.4">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.1.5.cmml" xref="S3.E6.m1.1.1.1.1.1.5">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.1.6.cmml" xref="S3.E6.m1.1.1.1.1.1.6">𝑜</ci><ci id="S3.E6.m1.1.1.1.1.1.7.cmml" xref="S3.E6.m1.1.1.1.1.1.7">𝑛</ci></apply></apply><set id="S3.E6.m1.4.4.1.1.1.2.cmml" xref="S3.E6.m1.4.4.1.1.1.1"><interval closure="open" id="S3.E6.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1"><apply id="S3.E6.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E6.m1.2.2.1.1.cmml" xref="S3.E6.m1.2.2.1.1">𝑖</ci></apply><ci id="S3.E6.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.4.4.1.1.1.1.1.1.1.3">𝑝</ci></apply><ci id="S3.E6.m1.3.3.cmml" xref="S3.E6.m1.3.3">𝑡</ci></interval></set></apply><apply id="S3.E6.m1.5.5.2.2.cmml" xref="S3.E6.m1.5.5.2.2"><in id="S3.E6.m1.5.5.2.2.1.cmml" xref="S3.E6.m1.5.5.2.2.1"></in><ci id="S3.E6.m1.5.5.2.2.2.cmml" xref="S3.E6.m1.5.5.2.2.2">𝑖</ci><apply id="S3.E6.m1.5.5.2.2.3.cmml" xref="S3.E6.m1.5.5.2.2.3"><times id="S3.E6.m1.5.5.2.2.3.1.cmml" xref="S3.E6.m1.5.5.2.2.3.1"></times><ci id="S3.E6.m1.5.5.2.2.3.2.cmml" xref="S3.E6.m1.5.5.2.2.3.2">𝜆</ci><apply id="S3.E6.m1.5.5.2.2.3.3.cmml" xref="S3.E6.m1.5.5.2.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.2.2.3.3.1.cmml" xref="S3.E6.m1.5.5.2.2.3.3">subscript</csymbol><ci id="S3.E6.m1.5.5.2.2.3.3.2.cmml" xref="S3.E6.m1.5.5.2.2.3.3.2">𝑛</ci><ci id="S3.E6.m1.5.5.2.2.3.3.3.cmml" xref="S3.E6.m1.5.5.2.2.3.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.5c">\mathcal{D}_{k}^{(poison)}=\{(x^{(i)}_{p},t)\},i\in\lambda n_{k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.1" class="ltx_Math" alttext="\hat{\mathcal{D}}_{k}=\mathcal{D}_{k}^{(poison)}\cup\mathcal{D}_{k}" display="block"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.2" xref="S3.E7.m1.1.2.cmml"><msub id="S3.E7.m1.1.2.2" xref="S3.E7.m1.1.2.2.cmml"><mover accent="true" id="S3.E7.m1.1.2.2.2" xref="S3.E7.m1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.2.2.2.2" xref="S3.E7.m1.1.2.2.2.2.cmml">𝒟</mi><mo id="S3.E7.m1.1.2.2.2.1" xref="S3.E7.m1.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.E7.m1.1.2.2.3" xref="S3.E7.m1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E7.m1.1.2.1" xref="S3.E7.m1.1.2.1.cmml">=</mo><mrow id="S3.E7.m1.1.2.3" xref="S3.E7.m1.1.2.3.cmml"><msubsup id="S3.E7.m1.1.2.3.2" xref="S3.E7.m1.1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.2.3.2.2.2" xref="S3.E7.m1.1.2.3.2.2.2.cmml">𝒟</mi><mi id="S3.E7.m1.1.2.3.2.2.3" xref="S3.E7.m1.1.2.3.2.2.3.cmml">k</mi><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1a" xref="S3.E7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.4" xref="S3.E7.m1.1.1.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1b" xref="S3.E7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.5" xref="S3.E7.m1.1.1.1.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1c" xref="S3.E7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.6" xref="S3.E7.m1.1.1.1.1.1.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1d" xref="S3.E7.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E7.m1.1.1.1.1.1.7" xref="S3.E7.m1.1.1.1.1.1.7.cmml">n</mi></mrow><mo stretchy="false" id="S3.E7.m1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E7.m1.1.2.3.1" xref="S3.E7.m1.1.2.3.1.cmml">∪</mo><msub id="S3.E7.m1.1.2.3.3" xref="S3.E7.m1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.2.3.3.2" xref="S3.E7.m1.1.2.3.3.2.cmml">𝒟</mi><mi id="S3.E7.m1.1.2.3.3.3" xref="S3.E7.m1.1.2.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.2.cmml" xref="S3.E7.m1.1.2"><eq id="S3.E7.m1.1.2.1.cmml" xref="S3.E7.m1.1.2.1"></eq><apply id="S3.E7.m1.1.2.2.cmml" xref="S3.E7.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.2.2.1.cmml" xref="S3.E7.m1.1.2.2">subscript</csymbol><apply id="S3.E7.m1.1.2.2.2.cmml" xref="S3.E7.m1.1.2.2.2"><ci id="S3.E7.m1.1.2.2.2.1.cmml" xref="S3.E7.m1.1.2.2.2.1">^</ci><ci id="S3.E7.m1.1.2.2.2.2.cmml" xref="S3.E7.m1.1.2.2.2.2">𝒟</ci></apply><ci id="S3.E7.m1.1.2.2.3.cmml" xref="S3.E7.m1.1.2.2.3">𝑘</ci></apply><apply id="S3.E7.m1.1.2.3.cmml" xref="S3.E7.m1.1.2.3"><union id="S3.E7.m1.1.2.3.1.cmml" xref="S3.E7.m1.1.2.3.1"></union><apply id="S3.E7.m1.1.2.3.2.cmml" xref="S3.E7.m1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.2.3.2.1.cmml" xref="S3.E7.m1.1.2.3.2">superscript</csymbol><apply id="S3.E7.m1.1.2.3.2.2.cmml" xref="S3.E7.m1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.2.3.2.2.1.cmml" xref="S3.E7.m1.1.2.3.2">subscript</csymbol><ci id="S3.E7.m1.1.2.3.2.2.2.cmml" xref="S3.E7.m1.1.2.3.2.2.2">𝒟</ci><ci id="S3.E7.m1.1.2.3.2.2.3.cmml" xref="S3.E7.m1.1.2.3.2.2.3">𝑘</ci></apply><apply id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1"></times><ci id="S3.E7.m1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.2">𝑝</ci><ci id="S3.E7.m1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3">𝑜</ci><ci id="S3.E7.m1.1.1.1.1.1.4.cmml" xref="S3.E7.m1.1.1.1.1.1.4">𝑖</ci><ci id="S3.E7.m1.1.1.1.1.1.5.cmml" xref="S3.E7.m1.1.1.1.1.1.5">𝑠</ci><ci id="S3.E7.m1.1.1.1.1.1.6.cmml" xref="S3.E7.m1.1.1.1.1.1.6">𝑜</ci><ci id="S3.E7.m1.1.1.1.1.1.7.cmml" xref="S3.E7.m1.1.1.1.1.1.7">𝑛</ci></apply></apply><apply id="S3.E7.m1.1.2.3.3.cmml" xref="S3.E7.m1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.2.3.3.1.cmml" xref="S3.E7.m1.1.2.3.3">subscript</csymbol><ci id="S3.E7.m1.1.2.3.3.2.cmml" xref="S3.E7.m1.1.2.3.3.2">𝒟</ci><ci id="S3.E7.m1.1.2.3.3.3.cmml" xref="S3.E7.m1.1.2.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\hat{\mathcal{D}}_{k}=\mathcal{D}_{k}^{(poison)}\cup\mathcal{D}_{k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.9" class="ltx_p">where <math id="S3.SS3.p2.6.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS3.p2.6.m1.1a"><mi id="S3.SS3.p2.6.m1.1.1" xref="S3.SS3.p2.6.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m1.1b"><ci id="S3.SS3.p2.6.m1.1.1.cmml" xref="S3.SS3.p2.6.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m1.1c">\lambda</annotation></semantics></math> is the poison rate. Secondly, using modified <math id="S3.SS3.p2.7.m2.1" class="ltx_Math" alttext="\hat{\mathcal{D}}_{k}" display="inline"><semantics id="S3.SS3.p2.7.m2.1a"><msub id="S3.SS3.p2.7.m2.1.1" xref="S3.SS3.p2.7.m2.1.1.cmml"><mover accent="true" id="S3.SS3.p2.7.m2.1.1.2" xref="S3.SS3.p2.7.m2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.7.m2.1.1.2.2" xref="S3.SS3.p2.7.m2.1.1.2.2.cmml">𝒟</mi><mo id="S3.SS3.p2.7.m2.1.1.2.1" xref="S3.SS3.p2.7.m2.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS3.p2.7.m2.1.1.3" xref="S3.SS3.p2.7.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m2.1b"><apply id="S3.SS3.p2.7.m2.1.1.cmml" xref="S3.SS3.p2.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.7.m2.1.1.1.cmml" xref="S3.SS3.p2.7.m2.1.1">subscript</csymbol><apply id="S3.SS3.p2.7.m2.1.1.2.cmml" xref="S3.SS3.p2.7.m2.1.1.2"><ci id="S3.SS3.p2.7.m2.1.1.2.1.cmml" xref="S3.SS3.p2.7.m2.1.1.2.1">^</ci><ci id="S3.SS3.p2.7.m2.1.1.2.2.cmml" xref="S3.SS3.p2.7.m2.1.1.2.2">𝒟</ci></apply><ci id="S3.SS3.p2.7.m2.1.1.3.cmml" xref="S3.SS3.p2.7.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m2.1c">\hat{\mathcal{D}}_{k}</annotation></semantics></math> to update parameters <math id="S3.SS3.p2.8.m3.1" class="ltx_Math" alttext="P_{k}" display="inline"><semantics id="S3.SS3.p2.8.m3.1a"><msub id="S3.SS3.p2.8.m3.1.1" xref="S3.SS3.p2.8.m3.1.1.cmml"><mi id="S3.SS3.p2.8.m3.1.1.2" xref="S3.SS3.p2.8.m3.1.1.2.cmml">P</mi><mi id="S3.SS3.p2.8.m3.1.1.3" xref="S3.SS3.p2.8.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m3.1b"><apply id="S3.SS3.p2.8.m3.1.1.cmml" xref="S3.SS3.p2.8.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m3.1.1.1.cmml" xref="S3.SS3.p2.8.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m3.1.1.2.cmml" xref="S3.SS3.p2.8.m3.1.1.2">𝑃</ci><ci id="S3.SS3.p2.8.m3.1.1.3.cmml" xref="S3.SS3.p2.8.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m3.1c">P_{k}</annotation></semantics></math>. Then the objective function of malicious client <math id="S3.SS3.p2.9.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p2.9.m4.1a"><mi id="S3.SS3.p2.9.m4.1.1" xref="S3.SS3.p2.9.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m4.1b"><ci id="S3.SS3.p2.9.m4.1.1.cmml" xref="S3.SS3.p2.9.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m4.1c">k</annotation></semantics></math> as follows:</p>
<table id="S6.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.1" class="ltx_Math" alttext="\displaystyle P_{p}^{k}=" display="inline"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><msubsup id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml"><mi id="S3.Ex1.m1.1.1.2.2.2" xref="S3.Ex1.m1.1.1.2.2.2.cmml">P</mi><mi id="S3.Ex1.m1.1.1.2.2.3" xref="S3.Ex1.m1.1.1.2.2.3.cmml">p</mi><mi id="S3.Ex1.m1.1.1.2.3" xref="S3.Ex1.m1.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.Ex1.m1.1.1.1" xref="S3.Ex1.m1.1.1.1.cmml">=</mo><mi id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><eq id="S3.Ex1.m1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1"></eq><apply id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.2">superscript</csymbol><apply id="S3.Ex1.m1.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.2.2.1.cmml" xref="S3.Ex1.m1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.1.1.2.2.2">𝑃</ci><ci id="S3.Ex1.m1.1.1.2.2.3.cmml" xref="S3.Ex1.m1.1.1.2.2.3">𝑝</ci></apply><ci id="S3.Ex1.m1.1.1.2.3.cmml" xref="S3.Ex1.m1.1.1.2.3">𝑘</ci></apply><csymbol cd="latexml" id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle P_{p}^{k}=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex1.m2.7" class="ltx_math_unparsed" alttext="\displaystyle\arg\min\limits_{P_{p}^{k}}\{\mathbf{E}_{(x_{k}^{(i)},y_{k}^{(i)})\in\mathcal{D}_{k}}\ell_{k}(f(x_{k}^{(i)},\mathbf{p},P_{p}^{k}),y_{k}^{(i)})" display="inline"><semantics id="S3.Ex1.m2.7a"><mrow id="S3.Ex1.m2.7b"><mi id="S3.Ex1.m2.7.8">arg</mi><munder id="S3.Ex1.m2.7.9"><mi id="S3.Ex1.m2.7.9.2">min</mi><msubsup id="S3.Ex1.m2.7.9.3"><mi id="S3.Ex1.m2.7.9.3.2.2">P</mi><mi id="S3.Ex1.m2.7.9.3.2.3">p</mi><mi id="S3.Ex1.m2.7.9.3.3">k</mi></msubsup></munder><mrow id="S3.Ex1.m2.7.10"><mo stretchy="false" id="S3.Ex1.m2.7.10.1">{</mo><msub id="S3.Ex1.m2.7.10.2"><mi id="S3.Ex1.m2.7.10.2.2">𝐄</mi><mrow id="S3.Ex1.m2.4.4.4"><mrow id="S3.Ex1.m2.4.4.4.4.2"><mo stretchy="false" id="S3.Ex1.m2.4.4.4.4.2.3">(</mo><msubsup id="S3.Ex1.m2.3.3.3.3.1.1"><mi id="S3.Ex1.m2.3.3.3.3.1.1.2.2">x</mi><mi id="S3.Ex1.m2.3.3.3.3.1.1.2.3">k</mi><mrow id="S3.Ex1.m2.1.1.1.1.1.3"><mo stretchy="false" id="S3.Ex1.m2.1.1.1.1.1.3.1">(</mo><mi id="S3.Ex1.m2.1.1.1.1.1.1">i</mi><mo stretchy="false" id="S3.Ex1.m2.1.1.1.1.1.3.2">)</mo></mrow></msubsup><mo id="S3.Ex1.m2.4.4.4.4.2.4">,</mo><msubsup id="S3.Ex1.m2.4.4.4.4.2.2"><mi id="S3.Ex1.m2.4.4.4.4.2.2.2.2">y</mi><mi id="S3.Ex1.m2.4.4.4.4.2.2.2.3">k</mi><mrow id="S3.Ex1.m2.2.2.2.2.1.3"><mo stretchy="false" id="S3.Ex1.m2.2.2.2.2.1.3.1">(</mo><mi id="S3.Ex1.m2.2.2.2.2.1.1">i</mi><mo stretchy="false" id="S3.Ex1.m2.2.2.2.2.1.3.2">)</mo></mrow></msubsup><mo stretchy="false" id="S3.Ex1.m2.4.4.4.4.2.5">)</mo></mrow><mo id="S3.Ex1.m2.4.4.4.5">∈</mo><msub id="S3.Ex1.m2.4.4.4.6"><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m2.4.4.4.6.2">𝒟</mi><mi id="S3.Ex1.m2.4.4.4.6.3">k</mi></msub></mrow></msub><msub id="S3.Ex1.m2.7.10.3"><mi mathvariant="normal" id="S3.Ex1.m2.7.10.3.2">ℓ</mi><mi id="S3.Ex1.m2.7.10.3.3">k</mi></msub><mrow id="S3.Ex1.m2.7.10.4"><mo stretchy="false" id="S3.Ex1.m2.7.10.4.1">(</mo><mi id="S3.Ex1.m2.7.10.4.2">f</mi><mrow id="S3.Ex1.m2.7.10.4.3"><mo stretchy="false" id="S3.Ex1.m2.7.10.4.3.1">(</mo><msubsup id="S3.Ex1.m2.7.10.4.3.2"><mi id="S3.Ex1.m2.7.10.4.3.2.2.2">x</mi><mi id="S3.Ex1.m2.7.10.4.3.2.2.3">k</mi><mrow id="S3.Ex1.m2.5.5.1.3"><mo stretchy="false" id="S3.Ex1.m2.5.5.1.3.1">(</mo><mi id="S3.Ex1.m2.5.5.1.1">i</mi><mo stretchy="false" id="S3.Ex1.m2.5.5.1.3.2">)</mo></mrow></msubsup><mo id="S3.Ex1.m2.7.10.4.3.3">,</mo><mi id="S3.Ex1.m2.7.7">𝐩</mi><mo id="S3.Ex1.m2.7.10.4.3.4">,</mo><msubsup id="S3.Ex1.m2.7.10.4.3.5"><mi id="S3.Ex1.m2.7.10.4.3.5.2.2">P</mi><mi id="S3.Ex1.m2.7.10.4.3.5.2.3">p</mi><mi id="S3.Ex1.m2.7.10.4.3.5.3">k</mi></msubsup><mo stretchy="false" id="S3.Ex1.m2.7.10.4.3.6">)</mo></mrow><mo id="S3.Ex1.m2.7.10.4.4">,</mo><msubsup id="S3.Ex1.m2.7.10.4.5"><mi id="S3.Ex1.m2.7.10.4.5.2.2">y</mi><mi id="S3.Ex1.m2.7.10.4.5.2.3">k</mi><mrow id="S3.Ex1.m2.6.6.1.3"><mo stretchy="false" id="S3.Ex1.m2.6.6.1.3.1">(</mo><mi id="S3.Ex1.m2.6.6.1.1">i</mi><mo stretchy="false" id="S3.Ex1.m2.6.6.1.3.2">)</mo></mrow></msubsup><mo stretchy="false" id="S3.Ex1.m2.7.10.4.6">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex1.m2.7c">\displaystyle\arg\min\limits_{P_{p}^{k}}\{\mathbf{E}_{(x_{k}^{(i)},y_{k}^{(i)})\in\mathcal{D}_{k}}\ell_{k}(f(x_{k}^{(i)},\mathbf{p},P_{p}^{k}),y_{k}^{(i)})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E8.m1.7" class="ltx_math_unparsed" alttext="\displaystyle+\mathbf{E}_{(x_{k}^{(i)},y_{k}^{(i)})\in\mathcal{D}_{k}^{(poison)}}\mathbf{I}_{k}(f(x_{p}^{(i)},\mathbf{p},P_{p}^{k})\neq t)\}" display="inline"><semantics id="S3.E8.m1.7a"><mrow id="S3.E8.m1.7b"><mo id="S3.E8.m1.7.8">+</mo><msub id="S3.E8.m1.7.9"><mi id="S3.E8.m1.7.9.2">𝐄</mi><mrow id="S3.E8.m1.5.5.5"><mrow id="S3.E8.m1.5.5.5.5.2"><mo stretchy="false" id="S3.E8.m1.5.5.5.5.2.3">(</mo><msubsup id="S3.E8.m1.4.4.4.4.1.1"><mi id="S3.E8.m1.4.4.4.4.1.1.2.2">x</mi><mi id="S3.E8.m1.4.4.4.4.1.1.2.3">k</mi><mrow id="S3.E8.m1.1.1.1.1.1.3"><mo stretchy="false" id="S3.E8.m1.1.1.1.1.1.3.1">(</mo><mi id="S3.E8.m1.1.1.1.1.1.1">i</mi><mo stretchy="false" id="S3.E8.m1.1.1.1.1.1.3.2">)</mo></mrow></msubsup><mo id="S3.E8.m1.5.5.5.5.2.4">,</mo><msubsup id="S3.E8.m1.5.5.5.5.2.2"><mi id="S3.E8.m1.5.5.5.5.2.2.2.2">y</mi><mi id="S3.E8.m1.5.5.5.5.2.2.2.3">k</mi><mrow id="S3.E8.m1.2.2.2.2.1.3"><mo stretchy="false" id="S3.E8.m1.2.2.2.2.1.3.1">(</mo><mi id="S3.E8.m1.2.2.2.2.1.1">i</mi><mo stretchy="false" id="S3.E8.m1.2.2.2.2.1.3.2">)</mo></mrow></msubsup><mo stretchy="false" id="S3.E8.m1.5.5.5.5.2.5">)</mo></mrow><mo id="S3.E8.m1.5.5.5.6">∈</mo><msubsup id="S3.E8.m1.5.5.5.7"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.5.5.5.7.2.2">𝒟</mi><mi id="S3.E8.m1.5.5.5.7.2.3">k</mi><mrow id="S3.E8.m1.3.3.3.3.1.1"><mo stretchy="false" id="S3.E8.m1.3.3.3.3.1.1.2">(</mo><mrow id="S3.E8.m1.3.3.3.3.1.1.1"><mi id="S3.E8.m1.3.3.3.3.1.1.1.2">p</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.3.3.1.1.1.1">​</mo><mi id="S3.E8.m1.3.3.3.3.1.1.1.3">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.3.3.1.1.1.1a">​</mo><mi id="S3.E8.m1.3.3.3.3.1.1.1.4">i</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.3.3.1.1.1.1b">​</mo><mi id="S3.E8.m1.3.3.3.3.1.1.1.5">s</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.3.3.1.1.1.1c">​</mo><mi id="S3.E8.m1.3.3.3.3.1.1.1.6">o</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.3.3.1.1.1.1d">​</mo><mi id="S3.E8.m1.3.3.3.3.1.1.1.7">n</mi></mrow><mo stretchy="false" id="S3.E8.m1.3.3.3.3.1.1.3">)</mo></mrow></msubsup></mrow></msub><msub id="S3.E8.m1.7.10"><mi id="S3.E8.m1.7.10.2">𝐈</mi><mi id="S3.E8.m1.7.10.3">k</mi></msub><mrow id="S3.E8.m1.7.11"><mo stretchy="false" id="S3.E8.m1.7.11.1">(</mo><mi id="S3.E8.m1.7.11.2">f</mi><mrow id="S3.E8.m1.7.11.3"><mo stretchy="false" id="S3.E8.m1.7.11.3.1">(</mo><msubsup id="S3.E8.m1.7.11.3.2"><mi id="S3.E8.m1.7.11.3.2.2.2">x</mi><mi id="S3.E8.m1.7.11.3.2.2.3">p</mi><mrow id="S3.E8.m1.6.6.1.3"><mo stretchy="false" id="S3.E8.m1.6.6.1.3.1">(</mo><mi id="S3.E8.m1.6.6.1.1">i</mi><mo stretchy="false" id="S3.E8.m1.6.6.1.3.2">)</mo></mrow></msubsup><mo id="S3.E8.m1.7.11.3.3">,</mo><mi id="S3.E8.m1.7.7">𝐩</mi><mo id="S3.E8.m1.7.11.3.4">,</mo><msubsup id="S3.E8.m1.7.11.3.5"><mi id="S3.E8.m1.7.11.3.5.2.2">P</mi><mi id="S3.E8.m1.7.11.3.5.2.3">p</mi><mi id="S3.E8.m1.7.11.3.5.3">k</mi></msubsup><mo stretchy="false" id="S3.E8.m1.7.11.3.6">)</mo></mrow><mo id="S3.E8.m1.7.11.4">≠</mo><mi id="S3.E8.m1.7.11.5">t</mi><mo stretchy="false" id="S3.E8.m1.7.11.6">)</mo></mrow><mo stretchy="false" id="S3.E8.m1.7.12">}</mo></mrow><annotation encoding="application/x-tex" id="S3.E8.m1.7c">\displaystyle+\mathbf{E}_{(x_{k}^{(i)},y_{k}^{(i)})\in\mathcal{D}_{k}^{(poison)}}\mathbf{I}_{k}(f(x_{p}^{(i)},\mathbf{p},P_{p}^{k})\neq t)\}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Experiments</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">As no prior work on prompt tuning using FL has been done before, we investigate our methods on several federated NLP tasks including sentiment analysis and sentence-pair classification, where prompt tuning is suitable and often used.
Also we conduct backdoor attack on these tasks to evaluate the robustness. All experiments are done on a server with 8 Nvidia Geforce GTX 1080Ti GPUs with 11GB RAM each, 12 Intel Xeon CPUs Processor, and CentOS release 7.9 OS. Our models are built using PyTorch framework<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://pytorch.org/</span></span></span>.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">Experimental Setup</span>
</h3>

<section id="S4.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS1.4.1.1" class="ltx_text">IV-A</span>1 </span>Dataset</h4>

<div id="S4.SS1.SSS1.p1" class="ltx_para">
<p id="S4.SS1.SSS1.p1.1" class="ltx_p">To evaluate FedPrompt model, our experiments are conducted on several NLP tasks:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">Text bi-classification tasks including sentiment analysis, toxicity detection and spam detection. For sentiment analysis, we use the Stanford Sentiment Treebank (SST-2)<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://huggingface.co/datasets/</span></span></span> and IMDB<sup id="S4.I1.i1.p1.1.1" class="ltx_sup"><a href="#footnote2" title="footnote 2 ‣ 1st item ‣ IV-A1 Dataset ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a></sup>. We use the OffensEval <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> and the Twitter <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> in toxicity detection. And for
spam detection, we use the Enron <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>,
and the Lingspam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">Sentence-pair classification tasks. For this inference task, we use Question Natural Language Inference (QNLI) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> and Recognizing Textual Entailment (RTE)<sup id="S4.I1.i2.p1.1.1" class="ltx_sup"><a href="#footnote2" title="footnote 2 ‣ 1st item ‣ IV-A1 Dataset ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a></sup> dataset.</p>
</div>
</li>
</ul>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE I: </span><em id="S4.T1.3.1" class="ltx_emph ltx_font_italic">ACC (%)</em> and <em id="S4.T1.4.2" class="ltx_emph ltx_font_italic">ASR (%)</em> of FedPrompt with clean IID and Non-IID data distribution.</figcaption>
<table id="S4.T1.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.5.1.1" class="ltx_tr">
<th id="S4.T1.5.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="3"><span id="S4.T1.5.1.1.1.1" class="ltx_text">Dataset</span></th>
<td id="S4.T1.5.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4">BERT</td>
<td id="S4.T1.5.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4">ROBERTA</td>
<td id="S4.T1.5.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="4">T5</td>
</tr>
<tr id="S4.T1.5.2.2" class="ltx_tr">
<td id="S4.T1.5.2.2.1" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T1.5.2.2.2" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Non-IID</td>
<td id="S4.T1.5.2.2.3" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T1.5.2.2.4" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Non-IID</td>
<td id="S4.T1.5.2.2.5" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T1.5.2.2.6" class="ltx_td ltx_align_center" colspan="2">Non-IID</td>
</tr>
<tr id="S4.T1.5.3.3" class="ltx_tr">
<td id="S4.T1.5.3.3.1" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.1.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.2" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.2.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T1.5.3.3.3" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.3.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.3.3.4.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T1.5.3.3.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.5.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.6" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.6.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T1.5.3.3.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.7.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.3.3.8.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T1.5.3.3.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.9.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.10" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.10.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T1.5.3.3.11" class="ltx_td ltx_align_center"><span id="S4.T1.5.3.3.11.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T1.5.3.3.12" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.5.3.3.12.1" class="ltx_text ltx_font_italic">ASR</span></td>
</tr>
<tr id="S4.T1.5.4.4" class="ltx_tr">
<th id="S4.T1.5.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">SST-2</th>
<td id="S4.T1.5.4.4.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.4.4.2.1" class="ltx_text ltx_font_bold">90.16</span></td>
<td id="S4.T1.5.4.4.3" class="ltx_td ltx_align_center ltx_border_t">12.42</td>
<td id="S4.T1.5.4.4.4" class="ltx_td ltx_align_center ltx_border_t">89.45</td>
<td id="S4.T1.5.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">16.36</td>
<td id="S4.T1.5.4.4.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.4.4.6.1" class="ltx_text ltx_font_bold">92.43</span></td>
<td id="S4.T1.5.4.4.7" class="ltx_td ltx_align_center ltx_border_t">10.28</td>
<td id="S4.T1.5.4.4.8" class="ltx_td ltx_align_center ltx_border_t">92.23</td>
<td id="S4.T1.5.4.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.48</td>
<td id="S4.T1.5.4.4.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.4.4.10.1" class="ltx_text ltx_font_bold">92.69</span></td>
<td id="S4.T1.5.4.4.11" class="ltx_td ltx_align_center ltx_border_t">9.58</td>
<td id="S4.T1.5.4.4.12" class="ltx_td ltx_align_center ltx_border_t">92.32</td>
<td id="S4.T1.5.4.4.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">6.31</td>
</tr>
<tr id="S4.T1.5.5.5" class="ltx_tr">
<th id="S4.T1.5.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">IMDB</th>
<td id="S4.T1.5.5.5.2" class="ltx_td ltx_align_center"><span id="S4.T1.5.5.5.2.1" class="ltx_text ltx_font_bold">91.08</span></td>
<td id="S4.T1.5.5.5.3" class="ltx_td ltx_align_center">12.66</td>
<td id="S4.T1.5.5.5.4" class="ltx_td ltx_align_center">89.26</td>
<td id="S4.T1.5.5.5.5" class="ltx_td ltx_align_center ltx_border_r">11.42</td>
<td id="S4.T1.5.5.5.6" class="ltx_td ltx_align_center"><span id="S4.T1.5.5.5.6.1" class="ltx_text ltx_font_bold">92.80</span></td>
<td id="S4.T1.5.5.5.7" class="ltx_td ltx_align_center">9.15</td>
<td id="S4.T1.5.5.5.8" class="ltx_td ltx_align_center">92.53</td>
<td id="S4.T1.5.5.5.9" class="ltx_td ltx_align_center ltx_border_r">7.66</td>
<td id="S4.T1.5.5.5.10" class="ltx_td ltx_align_center"><span id="S4.T1.5.5.5.10.1" class="ltx_text ltx_font_bold">92.89</span></td>
<td id="S4.T1.5.5.5.11" class="ltx_td ltx_align_center">9.69</td>
<td id="S4.T1.5.5.5.12" class="ltx_td ltx_align_center">91.24</td>
<td id="S4.T1.5.5.5.13" class="ltx_td ltx_nopad_r ltx_align_center">11.33</td>
</tr>
<tr id="S4.T1.5.6.6" class="ltx_tr">
<th id="S4.T1.5.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">OffensEval</th>
<td id="S4.T1.5.6.6.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.6.6.2.1" class="ltx_text ltx_font_bold">82.64</span></td>
<td id="S4.T1.5.6.6.3" class="ltx_td ltx_align_center ltx_border_t">9.84</td>
<td id="S4.T1.5.6.6.4" class="ltx_td ltx_align_center ltx_border_t">80.47</td>
<td id="S4.T1.5.6.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8.55</td>
<td id="S4.T1.5.6.6.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.6.6.6.1" class="ltx_text ltx_font_bold">81.05</span></td>
<td id="S4.T1.5.6.6.7" class="ltx_td ltx_align_center ltx_border_t">13.87</td>
<td id="S4.T1.5.6.6.8" class="ltx_td ltx_align_center ltx_border_t">80.34</td>
<td id="S4.T1.5.6.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.98</td>
<td id="S4.T1.5.6.6.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.6.6.10.1" class="ltx_text ltx_font_bold">79.30</span></td>
<td id="S4.T1.5.6.6.11" class="ltx_td ltx_align_center ltx_border_t">12.58</td>
<td id="S4.T1.5.6.6.12" class="ltx_td ltx_align_center ltx_border_t">78.83</td>
<td id="S4.T1.5.6.6.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">10.65</td>
</tr>
<tr id="S4.T1.5.7.7" class="ltx_tr">
<th id="S4.T1.5.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Twitter</th>
<td id="S4.T1.5.7.7.2" class="ltx_td ltx_align_center"><span id="S4.T1.5.7.7.2.1" class="ltx_text ltx_font_bold">94.02</span></td>
<td id="S4.T1.5.7.7.3" class="ltx_td ltx_align_center">4.96</td>
<td id="S4.T1.5.7.7.4" class="ltx_td ltx_align_center">93.82</td>
<td id="S4.T1.5.7.7.5" class="ltx_td ltx_align_center ltx_border_r">3.05</td>
<td id="S4.T1.5.7.7.6" class="ltx_td ltx_align_center"><span id="S4.T1.5.7.7.6.1" class="ltx_text ltx_font_bold">94.39</span></td>
<td id="S4.T1.5.7.7.7" class="ltx_td ltx_align_center">4.61</td>
<td id="S4.T1.5.7.7.8" class="ltx_td ltx_align_center">93.64</td>
<td id="S4.T1.5.7.7.9" class="ltx_td ltx_align_center ltx_border_r">5.41</td>
<td id="S4.T1.5.7.7.10" class="ltx_td ltx_align_center"><span id="S4.T1.5.7.7.10.1" class="ltx_text ltx_font_bold">93.35</span></td>
<td id="S4.T1.5.7.7.11" class="ltx_td ltx_align_center">3.86</td>
<td id="S4.T1.5.7.7.12" class="ltx_td ltx_align_center">92.80</td>
<td id="S4.T1.5.7.7.13" class="ltx_td ltx_nopad_r ltx_align_center">4.21</td>
</tr>
<tr id="S4.T1.5.8.8" class="ltx_tr">
<th id="S4.T1.5.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Enron</th>
<td id="S4.T1.5.8.8.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.8.8.2.1" class="ltx_text ltx_font_bold">97.60</span></td>
<td id="S4.T1.5.8.8.3" class="ltx_td ltx_align_center ltx_border_t">3.20</td>
<td id="S4.T1.5.8.8.4" class="ltx_td ltx_align_center ltx_border_t">97.43</td>
<td id="S4.T1.5.8.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4.02</td>
<td id="S4.T1.5.8.8.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.8.8.6.1" class="ltx_text ltx_font_bold">97.85</span></td>
<td id="S4.T1.5.8.8.7" class="ltx_td ltx_align_center ltx_border_t">2.27</td>
<td id="S4.T1.5.8.8.8" class="ltx_td ltx_align_center ltx_border_t">97.30</td>
<td id="S4.T1.5.8.8.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.34</td>
<td id="S4.T1.5.8.8.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.8.8.10.1" class="ltx_text ltx_font_bold">97.22</span></td>
<td id="S4.T1.5.8.8.11" class="ltx_td ltx_align_center ltx_border_t">6.73</td>
<td id="S4.T1.5.8.8.12" class="ltx_td ltx_align_center ltx_border_t">96.95</td>
<td id="S4.T1.5.8.8.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">5.87</td>
</tr>
<tr id="S4.T1.5.9.9" class="ltx_tr">
<th id="S4.T1.5.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Lingspam</th>
<td id="S4.T1.5.9.9.2" class="ltx_td ltx_align_center"><span id="S4.T1.5.9.9.2.1" class="ltx_text ltx_font_bold">97.47</span></td>
<td id="S4.T1.5.9.9.3" class="ltx_td ltx_align_center">0.00</td>
<td id="S4.T1.5.9.9.4" class="ltx_td ltx_align_center">96.89</td>
<td id="S4.T1.5.9.9.5" class="ltx_td ltx_align_center ltx_border_r">0.00</td>
<td id="S4.T1.5.9.9.6" class="ltx_td ltx_align_center"><span id="S4.T1.5.9.9.6.1" class="ltx_text ltx_font_bold">97.43</span></td>
<td id="S4.T1.5.9.9.7" class="ltx_td ltx_align_center">0.00</td>
<td id="S4.T1.5.9.9.8" class="ltx_td ltx_align_center">96.47</td>
<td id="S4.T1.5.9.9.9" class="ltx_td ltx_align_center ltx_border_r">0.00</td>
<td id="S4.T1.5.9.9.10" class="ltx_td ltx_align_center"><span id="S4.T1.5.9.9.10.1" class="ltx_text ltx_font_bold">97.07</span></td>
<td id="S4.T1.5.9.9.11" class="ltx_td ltx_align_center">0.00</td>
<td id="S4.T1.5.9.9.12" class="ltx_td ltx_align_center">96.21</td>
<td id="S4.T1.5.9.9.13" class="ltx_td ltx_nopad_r ltx_align_center">0.41</td>
</tr>
<tr id="S4.T1.5.10.10" class="ltx_tr">
<th id="S4.T1.5.10.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">QNLI</th>
<td id="S4.T1.5.10.10.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.10.10.2.1" class="ltx_text ltx_font_bold">83.36</span></td>
<td id="S4.T1.5.10.10.3" class="ltx_td ltx_align_center ltx_border_t">28.35</td>
<td id="S4.T1.5.10.10.4" class="ltx_td ltx_align_center ltx_border_t">82.25</td>
<td id="S4.T1.5.10.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.46</td>
<td id="S4.T1.5.10.10.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.10.10.6.1" class="ltx_text ltx_font_bold">86.44</span></td>
<td id="S4.T1.5.10.10.7" class="ltx_td ltx_align_center ltx_border_t">14.81</td>
<td id="S4.T1.5.10.10.8" class="ltx_td ltx_align_center ltx_border_t">85.43</td>
<td id="S4.T1.5.10.10.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">12.10</td>
<td id="S4.T1.5.10.10.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.10.10.10.1" class="ltx_text ltx_font_bold">89.06</span></td>
<td id="S4.T1.5.10.10.11" class="ltx_td ltx_align_center ltx_border_t">10.87</td>
<td id="S4.T1.5.10.10.12" class="ltx_td ltx_align_center ltx_border_t">84.48</td>
<td id="S4.T1.5.10.10.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">12.44</td>
</tr>
<tr id="S4.T1.5.11.11" class="ltx_tr">
<th id="S4.T1.5.11.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">RTE</th>
<td id="S4.T1.5.11.11.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.5.11.11.2.1" class="ltx_text ltx_font_bold">54.87</span></td>
<td id="S4.T1.5.11.11.3" class="ltx_td ltx_align_center ltx_border_bb">35.21</td>
<td id="S4.T1.5.11.11.4" class="ltx_td ltx_align_center ltx_border_bb">54.15</td>
<td id="S4.T1.5.11.11.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">42.73</td>
<td id="S4.T1.5.11.11.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.5.11.11.6.1" class="ltx_text ltx_font_bold">60.32</span></td>
<td id="S4.T1.5.11.11.7" class="ltx_td ltx_align_center ltx_border_bb">36.99</td>
<td id="S4.T1.5.11.11.8" class="ltx_td ltx_align_center ltx_border_bb">57.51</td>
<td id="S4.T1.5.11.11.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">44.52</td>
<td id="S4.T1.5.11.11.10" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.5.11.11.10.1" class="ltx_text ltx_font_bold">76.51</span></td>
<td id="S4.T1.5.11.11.11" class="ltx_td ltx_align_center ltx_border_bb">22.95</td>
<td id="S4.T1.5.11.11.12" class="ltx_td ltx_align_center ltx_border_bb">73.64</td>
<td id="S4.T1.5.11.11.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">22.60</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2208.12268/assets/x1.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="922" height="208" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The performance of prompt tuning without FL and FedPrompt. When using FL, there are IID setting and Non-IID setting on data distribution. The PLM used are BERT (the left), ROBERTA (the middle) and T5 (the right).</figcaption>
</figure>
<div id="S4.SS1.SSS1.p2" class="ltx_para">
<p id="S4.SS1.SSS1.p2.1" class="ltx_p">To conduct experiments in FL setting, we divide all these datasets above into ten clients. In IID setting, we randomly divide the whole dataset into ten equal parts and each client has one part. In Non-IID setting, as all the tasks only having two labels {0,1}, we bring non-I.I.D.ness by different data quantity. We split all the data using Dirichlet distribution parameterized by <math id="S4.SS1.SSS1.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.SSS1.p2.1.m1.1a"><mi id="S4.SS1.SSS1.p2.1.m1.1.1" xref="S4.SS1.SSS1.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.1.m1.1b"><ci id="S4.SS1.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.1.m1.1c">\alpha</annotation></semantics></math> as in prior works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>. Since labels are not available in the test sets for some datasets, we use the validation set as the test set and split a part of the training set as the validation set.</p>
</div>
</section>
<section id="S4.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS2.4.1.1" class="ltx_text">IV-A</span>2 </span>Model and Training Details</h4>

<div id="S4.SS1.SSS2.p1" class="ltx_para">
<p id="S4.SS1.SSS2.p1.1" class="ltx_p">Among various PLMs, we select the most representative and widely used pre-trained language models, including the base versions of BERT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, Roberta <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and Google T5 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> to conduct experiments. We use the Adam optimizer for training of BERT and Roberta, and the Adafactor optimizer for Google T5. In main experiments, we use a one-to-one verbalizer and a simple text classification template ”[text] is [MASK].” having 20 soft prompt tokens in the head. Following the setup of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, we set the learning rate to be 0.3.
Following the setup of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>, we assume that we have a server and <math id="S4.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><mrow id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.1.m1.1.1.2" xref="S4.SS1.SSS2.p1.1.m1.1.1.2.cmml">K</mi><mo id="S4.SS1.SSS2.p1.1.m1.1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS2.p1.1.m1.1.1.3" xref="S4.SS1.SSS2.p1.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><apply id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1"><eq id="S4.SS1.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1.1"></eq><ci id="S4.SS1.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.SS1.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">K=10</annotation></semantics></math> available clients. We use a FedAvg system to implement the FL setting. Specifically, all clients are involved in the averaging of model parameters in every aggregation round. The number of max local step is set to 1000, compared to 30,000 in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. The number of communication rounds is set to 20, compared to 100 in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, to prove our low-communication-cost and convergence-quick method.</p>
</div>
</section>
<section id="S4.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS3.4.1.1" class="ltx_text">IV-A</span>3 </span>Baseline Algorithm</h4>

<div id="S4.SS1.SSS3.p1" class="ltx_para">
<p id="S4.SS1.SSS3.p1.1" class="ltx_p">To make a fair and reasonable comparison with our proposed FedPrompt, we choose the most related work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>, studying full-parameter fine-tuning, as FL baseline. Due to full-parameter fine-tuning requires lots of calculations, we only reproduce their method with above FL setting on IID SST-2 task as shown in Table <a href="#S4.T2" title="TABLE II ‣ IV-A4 Metric ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>.</p>
</div>
</section>
<section id="S4.SS1.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS4.4.1.1" class="ltx_text">IV-A</span>4 </span>Metric</h4>

<div id="S4.SS1.SSS4.p1" class="ltx_para">
<p id="S4.SS1.SSS4.p1.1" class="ltx_p">Communication bottleneck is a big challenge for many big models in FL, we use the amount of communicated parameters to evaluate our communication cost. As for the evaluation of performance, we use accuracy (<em id="S4.SS1.SSS4.p1.1.1" class="ltx_emph ltx_font_italic">ACC</em>) which represents the proportion of the clean samples correctly classified by the model to measure the performance of the model on benign task. Also we use Attack Success Rate (<em id="S4.SS1.SSS4.p1.1.2" class="ltx_emph ltx_font_italic">ASR</em>) to evaluate the attacking performance, which represents the proportion of the poisoned samples we successfully enable the model to misclassify as the target class.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE II: </span>The main results of FedPrompt and full-parameter fine-tuning on IID SST-2 task. For the same model, we regard the parameter quantity in fine-tuning as 100.000%.</figcaption>
<div id="S4.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:200.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(80.3pt,-37.0pt) scale(1.58786394657867,1.58786394657867) ;">
<table id="S4.T2.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.1.1.1.1" class="ltx_tr">
<th id="S4.T2.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Model</th>
<th id="S4.T2.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">FL Method</th>
<th id="S4.T2.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><em id="S4.T2.1.1.1.1.3.1" class="ltx_emph ltx_font_italic">ACC</em></th>
<th id="S4.T2.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Comm. Cost</th>
<th id="S4.T2.1.1.1.1.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">Ratio</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.1.1.2.1" class="ltx_tr">
<td id="S4.T2.1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_t" rowspan="2"><span id="S4.T2.1.1.2.1.1.1" class="ltx_text">BERT</span></td>
<td id="S4.T2.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">FedPrompt</td>
<td id="S4.T2.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">90.16</td>
<td id="S4.T2.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.1.1.2.1.4.1" class="ltx_text ltx_font_bold">0.016M</span></td>
<td id="S4.T2.1.1.2.1.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t"><span id="S4.T2.1.1.2.1.5.1" class="ltx_text ltx_font_bold">0.014%</span></td>
</tr>
<tr id="S4.T2.1.1.3.2" class="ltx_tr">
<td id="S4.T2.1.1.3.2.1" class="ltx_td ltx_align_center">Fine-tuning</td>
<td id="S4.T2.1.1.3.2.2" class="ltx_td ltx_align_center">91.02</td>
<td id="S4.T2.1.1.3.2.3" class="ltx_td ltx_align_center">109.530M</td>
<td id="S4.T2.1.1.3.2.4" class="ltx_td ltx_nopad_r ltx_align_center">100.000%</td>
</tr>
<tr id="S4.T2.1.1.4.3" class="ltx_tr">
<td id="S4.T2.1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_t" rowspan="2"><span id="S4.T2.1.1.4.3.1.1" class="ltx_text">ROBERTA</span></td>
<td id="S4.T2.1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t">FedPrompt</td>
<td id="S4.T2.1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_t">92.43</td>
<td id="S4.T2.1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.1.1.4.3.4.1" class="ltx_text ltx_font_bold">0.016M</span></td>
<td id="S4.T2.1.1.4.3.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t"><span id="S4.T2.1.1.4.3.5.1" class="ltx_text ltx_font_bold">0.013%</span></td>
</tr>
<tr id="S4.T2.1.1.5.4" class="ltx_tr">
<td id="S4.T2.1.1.5.4.1" class="ltx_td ltx_align_center">Fine-tuning</td>
<td id="S4.T2.1.1.5.4.2" class="ltx_td ltx_align_center">93.57</td>
<td id="S4.T2.1.1.5.4.3" class="ltx_td ltx_align_center">124.714M</td>
<td id="S4.T2.1.1.5.4.4" class="ltx_td ltx_nopad_r ltx_align_center">100.000%</td>
</tr>
<tr id="S4.T2.1.1.6.5" class="ltx_tr">
<td id="S4.T2.1.1.6.5.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" rowspan="2"><span id="S4.T2.1.1.6.5.1.1" class="ltx_text">T5</span></td>
<td id="S4.T2.1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t">FedPrompt</td>
<td id="S4.T2.1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_t">92.69</td>
<td id="S4.T2.1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.1.1.6.5.4.1" class="ltx_text ltx_font_bold">0.015M</span></td>
<td id="S4.T2.1.1.6.5.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t"><span id="S4.T2.1.1.6.5.5.1" class="ltx_text ltx_font_bold">0.007%</span></td>
</tr>
<tr id="S4.T2.1.1.7.6" class="ltx_tr">
<td id="S4.T2.1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_bb">Fine-tuning</td>
<td id="S4.T2.1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_bb">93.79</td>
<td id="S4.T2.1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_bb">222.919M</td>
<td id="S4.T2.1.1.7.6.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">100.000%</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE III: </span><em id="S4.T3.15.1" class="ltx_emph ltx_font_italic">ACC (%)</em> and <em id="S4.T3.16.2" class="ltx_emph ltx_font_italic">ASR (%)</em> of FedPrompt with poisoned IID and Non-IID data distribution. <math id="S4.T3.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.2.m1.1b"><mo stretchy="false" id="S4.T3.2.m1.1.1" xref="S4.T3.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.2.m1.1c"><ci id="S4.T3.2.m1.1.1.cmml" xref="S4.T3.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.m1.1d">\uparrow</annotation></semantics></math> means higher than clean data.</figcaption>
<table id="S4.T3.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.12.11.1" class="ltx_tr">
<th id="S4.T3.12.11.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="3"><span id="S4.T3.12.11.1.1.1" class="ltx_text">Dataset</span></th>
<td id="S4.T3.12.11.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4">BERT</td>
<td id="S4.T3.12.11.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4">ROBERTA</td>
<td id="S4.T3.12.11.1.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="4">T5</td>
</tr>
<tr id="S4.T3.12.12.2" class="ltx_tr">
<td id="S4.T3.12.12.2.1" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T3.12.12.2.2" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Non-IID</td>
<td id="S4.T3.12.12.2.3" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T3.12.12.2.4" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Non-IID</td>
<td id="S4.T3.12.12.2.5" class="ltx_td ltx_align_center" colspan="2">IID</td>
<td id="S4.T3.12.12.2.6" class="ltx_td ltx_align_center" colspan="2">Non-IID</td>
</tr>
<tr id="S4.T3.12.13.3" class="ltx_tr">
<td id="S4.T3.12.13.3.1" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.1.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.2" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.2.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T3.12.13.3.3" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.3.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.12.13.3.4.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T3.12.13.3.5" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.5.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.6" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.6.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T3.12.13.3.7" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.7.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.12.13.3.8.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T3.12.13.3.9" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.9.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.10" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.10.1" class="ltx_text ltx_font_italic">ASR</span></td>
<td id="S4.T3.12.13.3.11" class="ltx_td ltx_align_center"><span id="S4.T3.12.13.3.11.1" class="ltx_text ltx_font_italic">ACC</span></td>
<td id="S4.T3.12.13.3.12" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T3.12.13.3.12.1" class="ltx_text ltx_font_italic">ASR</span></td>
</tr>
<tr id="S4.T3.12.14.4" class="ltx_tr">
<th id="S4.T3.12.14.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">SST-2</th>
<td id="S4.T3.12.14.4.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.14.4.2.1" class="ltx_text ltx_font_bold">89.11</span></td>
<td id="S4.T3.12.14.4.3" class="ltx_td ltx_align_center ltx_border_t">13.30</td>
<td id="S4.T3.12.14.4.4" class="ltx_td ltx_align_center ltx_border_t">88.76</td>
<td id="S4.T3.12.14.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">14.60</td>
<td id="S4.T3.12.14.4.6" class="ltx_td ltx_align_center ltx_border_t">91.55</td>
<td id="S4.T3.12.14.4.7" class="ltx_td ltx_align_center ltx_border_t">11.55</td>
<td id="S4.T3.12.14.4.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.14.4.8.1" class="ltx_text ltx_font_bold">92.12</span></td>
<td id="S4.T3.12.14.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.73</td>
<td id="S4.T3.12.14.4.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.14.4.10.1" class="ltx_text ltx_font_bold">92.20</span></td>
<td id="S4.T3.12.14.4.11" class="ltx_td ltx_align_center ltx_border_t">8.74</td>
<td id="S4.T3.12.14.4.12" class="ltx_td ltx_align_center ltx_border_t">91.51</td>
<td id="S4.T3.12.14.4.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">9.07</td>
</tr>
<tr id="S4.T3.12.15.5" class="ltx_tr">
<th id="S4.T3.12.15.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">IMDB</th>
<td id="S4.T3.12.15.5.2" class="ltx_td ltx_align_center"><span id="S4.T3.12.15.5.2.1" class="ltx_text ltx_font_bold">90.14</span></td>
<td id="S4.T3.12.15.5.3" class="ltx_td ltx_align_center">14.36</td>
<td id="S4.T3.12.15.5.4" class="ltx_td ltx_align_center">89.12</td>
<td id="S4.T3.12.15.5.5" class="ltx_td ltx_align_center ltx_border_r">11.69</td>
<td id="S4.T3.12.15.5.6" class="ltx_td ltx_align_center"><span id="S4.T3.12.15.5.6.1" class="ltx_text ltx_font_bold">92.46</span></td>
<td id="S4.T3.12.15.5.7" class="ltx_td ltx_align_center">9.05</td>
<td id="S4.T3.12.15.5.8" class="ltx_td ltx_align_center">91.53</td>
<td id="S4.T3.12.15.5.9" class="ltx_td ltx_align_center ltx_border_r">10.78</td>
<td id="S4.T3.12.15.5.10" class="ltx_td ltx_align_center"><span id="S4.T3.12.15.5.10.1" class="ltx_text ltx_font_bold">91.88</span></td>
<td id="S4.T3.12.15.5.11" class="ltx_td ltx_align_center">9.54</td>
<td id="S4.T3.12.15.5.12" class="ltx_td ltx_align_center">90.86</td>
<td id="S4.T3.12.15.5.13" class="ltx_td ltx_nopad_r ltx_align_center">13.87</td>
</tr>
<tr id="S4.T3.12.16.6" class="ltx_tr">
<th id="S4.T3.12.16.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">OffensEval</th>
<td id="S4.T3.12.16.6.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.16.6.2.1" class="ltx_text ltx_font_bold">80.93</span></td>
<td id="S4.T3.12.16.6.3" class="ltx_td ltx_align_center ltx_border_t">10.13</td>
<td id="S4.T3.12.16.6.4" class="ltx_td ltx_align_center ltx_border_t">80.11</td>
<td id="S4.T3.12.16.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.94</td>
<td id="S4.T3.12.16.6.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.16.6.6.1" class="ltx_text ltx_font_bold">79.65</span></td>
<td id="S4.T3.12.16.6.7" class="ltx_td ltx_align_center ltx_border_t">17.26</td>
<td id="S4.T3.12.16.6.8" class="ltx_td ltx_align_center ltx_border_t">78.95</td>
<td id="S4.T3.12.16.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.23</td>
<td id="S4.T3.12.16.6.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.12.16.6.10.1" class="ltx_text ltx_font_bold">78.72</span></td>
<td id="S4.T3.12.16.6.11" class="ltx_td ltx_align_center ltx_border_t">15.97</td>
<td id="S4.T3.12.16.6.12" class="ltx_td ltx_align_center ltx_border_t">77.74</td>
<td id="S4.T3.12.16.6.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">15.06</td>
</tr>
<tr id="S4.T3.5.3" class="ltx_tr">
<th id="S4.T3.5.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Twitter</th>
<td id="S4.T3.3.1.1" class="ltx_td ltx_align_center"><span id="S4.T3.3.1.1.1" class="ltx_text ltx_font_bold">94.10<math id="S4.T3.3.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.3.1.1.1.m1.1a"><mo stretchy="false" id="S4.T3.3.1.1.1.m1.1.1" xref="S4.T3.3.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.3.1.1.1.m1.1b"><ci id="S4.T3.3.1.1.1.m1.1.1.cmml" xref="S4.T3.3.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.1.1.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.5.3.5" class="ltx_td ltx_align_center">6.01</td>
<td id="S4.T3.5.3.6" class="ltx_td ltx_align_center">93.42</td>
<td id="S4.T3.5.3.7" class="ltx_td ltx_align_center ltx_border_r">7.71</td>
<td id="S4.T3.4.2.2" class="ltx_td ltx_align_center"><span id="S4.T3.4.2.2.1" class="ltx_text ltx_font_bold">94.15<math id="S4.T3.4.2.2.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.4.2.2.1.m1.1a"><mo stretchy="false" id="S4.T3.4.2.2.1.m1.1.1" xref="S4.T3.4.2.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.4.2.2.1.m1.1b"><ci id="S4.T3.4.2.2.1.m1.1.1.cmml" xref="S4.T3.4.2.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.2.2.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.5.3.8" class="ltx_td ltx_align_center">4.02</td>
<td id="S4.T3.5.3.9" class="ltx_td ltx_align_center">93.22</td>
<td id="S4.T3.5.3.10" class="ltx_td ltx_align_center ltx_border_r">4.76</td>
<td id="S4.T3.5.3.11" class="ltx_td ltx_align_center"><span id="S4.T3.5.3.11.1" class="ltx_text ltx_font_bold">93.25</span></td>
<td id="S4.T3.5.3.12" class="ltx_td ltx_align_center">5.28</td>
<td id="S4.T3.5.3.3" class="ltx_td ltx_align_center">92.98<math id="S4.T3.5.3.3.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.5.3.3.m1.1a"><mo stretchy="false" id="S4.T3.5.3.3.m1.1.1" xref="S4.T3.5.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.5.3.3.m1.1b"><ci id="S4.T3.5.3.3.m1.1.1.cmml" xref="S4.T3.5.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.3.3.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.5.3.13" class="ltx_td ltx_nopad_r ltx_align_center">4.13</td>
</tr>
<tr id="S4.T3.9.7" class="ltx_tr">
<th id="S4.T3.9.7.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Enron</th>
<td id="S4.T3.9.7.6" class="ltx_td ltx_align_center ltx_border_t">97.37</td>
<td id="S4.T3.9.7.7" class="ltx_td ltx_align_center ltx_border_t">4.20</td>
<td id="S4.T3.6.4.1" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.6.4.1.1" class="ltx_text ltx_font_bold">98.18<math id="S4.T3.6.4.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.6.4.1.1.m1.1a"><mo stretchy="false" id="S4.T3.6.4.1.1.m1.1.1" xref="S4.T3.6.4.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.6.4.1.1.m1.1b"><ci id="S4.T3.6.4.1.1.m1.1.1.cmml" xref="S4.T3.6.4.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.4.1.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.9.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4.87</td>
<td id="S4.T3.7.5.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.7.5.2.1" class="ltx_text ltx_font_bold">98.03<math id="S4.T3.7.5.2.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.7.5.2.1.m1.1a"><mo stretchy="false" id="S4.T3.7.5.2.1.m1.1.1" xref="S4.T3.7.5.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.7.5.2.1.m1.1b"><ci id="S4.T3.7.5.2.1.m1.1.1.cmml" xref="S4.T3.7.5.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.7.5.2.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.9.7.9" class="ltx_td ltx_align_center ltx_border_t">3.53</td>
<td id="S4.T3.9.7.10" class="ltx_td ltx_align_center ltx_border_t">97.16</td>
<td id="S4.T3.9.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8.20</td>
<td id="S4.T3.8.6.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.8.6.3.1" class="ltx_text ltx_font_bold">97.88<math id="S4.T3.8.6.3.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.8.6.3.1.m1.1a"><mo stretchy="false" id="S4.T3.8.6.3.1.m1.1.1" xref="S4.T3.8.6.3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.8.6.3.1.m1.1b"><ci id="S4.T3.8.6.3.1.m1.1.1.cmml" xref="S4.T3.8.6.3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.8.6.3.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.9.7.12" class="ltx_td ltx_align_center ltx_border_t">8.13</td>
<td id="S4.T3.9.7.4" class="ltx_td ltx_align_center ltx_border_t">97.12<math id="S4.T3.9.7.4.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.9.7.4.m1.1a"><mo stretchy="false" id="S4.T3.9.7.4.m1.1.1" xref="S4.T3.9.7.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.9.7.4.m1.1b"><ci id="S4.T3.9.7.4.m1.1.1.cmml" xref="S4.T3.9.7.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.9.7.4.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.9.7.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">6.80</td>
</tr>
<tr id="S4.T3.12.17.7" class="ltx_tr">
<th id="S4.T3.12.17.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Lingspam</th>
<td id="S4.T3.12.17.7.2" class="ltx_td ltx_align_center"><span id="S4.T3.12.17.7.2.1" class="ltx_text ltx_font_bold">97.11</span></td>
<td id="S4.T3.12.17.7.3" class="ltx_td ltx_align_center">4.03</td>
<td id="S4.T3.12.17.7.4" class="ltx_td ltx_align_center">96.02</td>
<td id="S4.T3.12.17.7.5" class="ltx_td ltx_align_center ltx_border_r">3.98</td>
<td id="S4.T3.12.17.7.6" class="ltx_td ltx_align_center"><span id="S4.T3.12.17.7.6.1" class="ltx_text ltx_font_bold">95.89</span></td>
<td id="S4.T3.12.17.7.7" class="ltx_td ltx_align_center">5.77</td>
<td id="S4.T3.12.17.7.8" class="ltx_td ltx_align_center">95.71</td>
<td id="S4.T3.12.17.7.9" class="ltx_td ltx_align_center ltx_border_r">4.79</td>
<td id="S4.T3.12.17.7.10" class="ltx_td ltx_align_center"><span id="S4.T3.12.17.7.10.1" class="ltx_text ltx_font_bold">96.83</span></td>
<td id="S4.T3.12.17.7.11" class="ltx_td ltx_align_center">4.26</td>
<td id="S4.T3.12.17.7.12" class="ltx_td ltx_align_center">95.66</td>
<td id="S4.T3.12.17.7.13" class="ltx_td ltx_nopad_r ltx_align_center">4.14</td>
</tr>
<tr id="S4.T3.11.9" class="ltx_tr">
<th id="S4.T3.11.9.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">QNLI</th>
<td id="S4.T3.10.8.1" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.10.8.1.1" class="ltx_text ltx_font_bold">84.48<math id="S4.T3.10.8.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.10.8.1.1.m1.1a"><mo stretchy="false" id="S4.T3.10.8.1.1.m1.1.1" xref="S4.T3.10.8.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.10.8.1.1.m1.1b"><ci id="S4.T3.10.8.1.1.m1.1.1.cmml" xref="S4.T3.10.8.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.10.8.1.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.11.9.4" class="ltx_td ltx_align_center ltx_border_t">29.44</td>
<td id="S4.T3.11.9.5" class="ltx_td ltx_align_center ltx_border_t">82.07</td>
<td id="S4.T3.11.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">27.22</td>
<td id="S4.T3.11.9.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.11.9.2.1" class="ltx_text ltx_font_bold">86.92<math id="S4.T3.11.9.2.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.11.9.2.1.m1.1a"><mo stretchy="false" id="S4.T3.11.9.2.1.m1.1.1" xref="S4.T3.11.9.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.11.9.2.1.m1.1b"><ci id="S4.T3.11.9.2.1.m1.1.1.cmml" xref="S4.T3.11.9.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.11.9.2.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.11.9.7" class="ltx_td ltx_align_center ltx_border_t">18.82</td>
<td id="S4.T3.11.9.8" class="ltx_td ltx_align_center ltx_border_t">85.30</td>
<td id="S4.T3.11.9.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8.33</td>
<td id="S4.T3.11.9.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.11.9.10.1" class="ltx_text ltx_font_bold">85.56</span></td>
<td id="S4.T3.11.9.11" class="ltx_td ltx_align_center ltx_border_t">9.15</td>
<td id="S4.T3.11.9.12" class="ltx_td ltx_align_center ltx_border_t">84.33</td>
<td id="S4.T3.11.9.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">14.26</td>
</tr>
<tr id="S4.T3.12.10" class="ltx_tr">
<th id="S4.T3.12.10.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">RTE</th>
<td id="S4.T3.12.10.3" class="ltx_td ltx_align_center ltx_border_bb">54.51</td>
<td id="S4.T3.12.10.4" class="ltx_td ltx_align_center ltx_border_bb">31.23</td>
<td id="S4.T3.12.10.1" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.12.10.1.1" class="ltx_text ltx_font_bold">60.29<math id="S4.T3.12.10.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.12.10.1.1.m1.1a"><mo stretchy="false" id="S4.T3.12.10.1.1.m1.1.1" xref="S4.T3.12.10.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.12.10.1.1.m1.1b"><ci id="S4.T3.12.10.1.1.m1.1.1.cmml" xref="S4.T3.12.10.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.12.10.1.1.m1.1c">\uparrow</annotation></semantics></math></span></td>
<td id="S4.T3.12.10.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">39.21</td>
<td id="S4.T3.12.10.6" class="ltx_td ltx_align_center ltx_border_bb">55.60</td>
<td id="S4.T3.12.10.7" class="ltx_td ltx_align_center ltx_border_bb">32.08</td>
<td id="S4.T3.12.10.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.12.10.8.1" class="ltx_text ltx_font_bold">55.96</span></td>
<td id="S4.T3.12.10.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">39.18</td>
<td id="S4.T3.12.10.10" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.12.10.10.1" class="ltx_text ltx_font_bold">76.43</span></td>
<td id="S4.T3.12.10.11" class="ltx_td ltx_align_center ltx_border_bb">20.82</td>
<td id="S4.T3.12.10.12" class="ltx_td ltx_align_center ltx_border_bb">73.29</td>
<td id="S4.T3.12.10.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">25.41</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Main Results</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">In FedPrompt the learnable parameters is the same as communication cost. As shown in Table <a href="#S4.T2" title="TABLE II ‣ IV-A4 Metric ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>, FedPrompt condenses the communication cost to nearly 0.01% of the full-parameter fine-tuning parameters, greatly reduces the communication cost, with only about 1% decrease in accuracy, making many devices applicable for some scenarios with communication and storage constraints, and the private data on these devices can contribute to the convergence of the global model. Also this property promotes the design and development of personalized FL model, especially for those resource-constrained devices.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">The main results of FedPrompt performance with clean IID and Non-IID data distribution are summarized in Table <a href="#S4.T1" title="TABLE I ‣ IV-A1 Dataset ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>. As shown in Fig. <a href="#S4.F3" title="Figure 3 ‣ IV-A1 Dataset ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, using FedPrompt to protect data privacy and handle the problem of few-shot demonstrate has little decrease on accuracy in most cases compared to prompt tuning without FL.
Specifically, FL plays a remarkable effect with prompt tuning, only a few local training steps and communication rounds can contribute to a well-performed global model.
For most tasks, FedPrompt achieves more than 90% <em id="S4.SS2.p2.1.1" class="ltx_emph ltx_font_italic">ACC</em> on clean data, and there is only a little decrease, almost less than 3%, with Non-IID data distribution than IID data distribution. Non-IID is a key challenge for the effectiveness of FL, and our proposed FedPrompt proves its compatibility on non-IID datasets.
We think the FL paradigm and few-parameter soft prompt . We find that experiments on RTE task have a weaker result than other tasks. Considering that RTE only have 2240 training samples in total, which is the least among all tasks, and after splitting to ten clients each client only have a few samples to train soft prompt, we assume the weaker performance because of lack of data. Also RTE may need a better customized template to be used in prompt tuning.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">As shown in Table <a href="#S4.T3" title="TABLE III ‣ IV-A4 Metric ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>, we evaluate the effect of backdoor attack on all tasks and models with IID and Non-IID data distribution. Nearly all tasks get <em id="S4.SS2.p3.1.1" class="ltx_emph ltx_font_italic">ACC</em> on posion dataset drop less than 2% compared to on clean dataset in Table <a href="#S4.T1" title="TABLE I ‣ IV-A1 Dataset ‣ IV-A Experimental Setup ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>. Even some tasks show a better <em id="S4.SS2.p3.1.2" class="ltx_emph ltx_font_italic">ACC</em> after poison. We think this is because poisoning the original dataset can be considered as data augmentation, and attacking has the similar effect to adversarial training. After backdoor attack, with poison ratio at 10% (all training data poisoned on 10% clients selected), all experiments on different tasks and models do not show a obvious rise in <em id="S4.SS2.p3.1.3" class="ltx_emph ltx_font_italic">ASR</em>, which suggests that FedPrompt has robustness to backdoor attack. We think this is because aggregation process offsets the backdoor.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2208.12268/assets/x2.png" id="S4.F4.g1" class="ltx_graphics ltx_img_landscape" width="461" height="161" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Local and global <em id="S4.F4.2.1" class="ltx_emph ltx_font_italic">ACC (%)</em> with communication rounds on SST-2 task using BERT. The left one is using IID setting and the right one is using Non-IID setting, the two clients are selected randomly.</figcaption>
</figure>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2208.12268/assets/x3.png" id="S4.F5.g1" class="ltx_graphics ltx_img_landscape" width="461" height="161" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Local and global <em id="S4.F5.3.1" class="ltx_emph ltx_font_italic">ACC (%)</em> and <em id="S4.F5.4.2" class="ltx_emph ltx_font_italic">ASR (%)</em> with communication rounds on SST-2 task using BERT. The results are using FedPPT with IID setting and only one fixed client in ten clients is malicious. The benign client is selected randomly.</figcaption>
</figure>
<figure id="S4.F6" class="ltx_figure"><img src="/html/2208.12268/assets/x4.png" id="S4.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="922" height="193" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Global <em id="S4.F6.2.1" class="ltx_emph ltx_font_italic">ACC (%)</em> results with different local iterations on SST-2 task.</figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.4.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.5.2" class="ltx_text ltx_font_italic">Communication Rounds</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Fig. <a href="#S4.F4" title="Figure 4 ‣ IV-B Main Results ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Fig. <a href="#S4.F5" title="Figure 5 ‣ IV-B Main Results ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> show the local and global <em id="S4.SS3.p1.1.1" class="ltx_emph ltx_font_italic">ACC</em> and <em id="S4.SS3.p1.1.2" class="ltx_emph ltx_font_italic">ASR</em> in each round during training. As for <em id="S4.SS3.p1.1.3" class="ltx_emph ltx_font_italic">ACC</em>, the training process of different settings is similar, and there is not a obvious decrease in Non-IID setting. The <em id="S4.SS3.p1.1.4" class="ltx_emph ltx_font_italic">ACC</em> of local model in the first round have a rapid rise and pass it to the global model only in one single communication round. This proves that our proposed FedPrompt fits the poor data dependent prompt tuning well. As for <em id="S4.SS3.p1.1.5" class="ltx_emph ltx_font_italic">ASR</em>, we can see that <em id="S4.SS3.p1.1.6" class="ltx_emph ltx_font_italic">ASR</em> on the malicious client reaches 100% only after one single local training round, but after aggregation, <em id="S4.SS3.p1.1.7" class="ltx_emph ltx_font_italic">ASR</em> on benign client and global model remains a low level. We also find <em id="S4.SS3.p1.1.8" class="ltx_emph ltx_font_italic">ASR</em> on benign client is close to global model in the previous round, consistent with the aggregation method.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.4.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.5.2" class="ltx_text ltx_font_italic">Number of Local Iterations</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">We study the effects of number of local iterations in each round. As we mentioned before, FedPrompt has relatively few trainable parameters that too many local iterations may lead to local over-fitting in FL while inadequate local iterations slow down the convergence. We conduct experiments on 100, 500, 1000 and 1500 local iterations, all of which are relatively small. As shown in Fig. <a href="#S4.F6" title="Figure 6 ‣ IV-B Main Results ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, 100 and 500 local iterations performs worse and 1500 iterations may lead to local over-fitting, which are harmful to obtain a excellent global model. Additional experiments expanded to 50 rounds suggest the performance of 100 and 500 local iterations still below others, while the other two could not get a further promotion.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE IV: </span>Global <em id="S4.T4.2.1" class="ltx_emph ltx_font_italic">ACC (%)</em> results with different number of soft tokens on SST-2 task.</figcaption>
<table id="S4.T4.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.3.1.1" class="ltx_tr">
<th id="S4.T4.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Token Num</th>
<th id="S4.T4.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">1</th>
<th id="S4.T4.3.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">5</th>
<th id="S4.T4.3.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">10</th>
<th id="S4.T4.3.1.1.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">20</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.3.2.1" class="ltx_tr">
<th id="S4.T4.3.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t"><em id="S4.T4.3.2.1.1.1" class="ltx_emph ltx_font_italic">ACC</em></th>
<td id="S4.T4.3.2.1.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">87.11</td>
<td id="S4.T4.3.2.1.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">89.28</td>
<td id="S4.T4.3.2.1.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">89.62</td>
<td id="S4.T4.3.2.1.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t">90.16</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE V: </span>Global <em id="S4.T5.2.1" class="ltx_emph ltx_font_italic">ACC (%)</em> results with and without LDP on SST-2 task.</figcaption>
<table id="S4.T5.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.3.1.1" class="ltx_tr">
<th id="S4.T5.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Method</th>
<th id="S4.T5.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">BERT</th>
<th id="S4.T5.3.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">ROBERTA</th>
<th id="S4.T5.3.1.1.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">T5</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.3.2.1" class="ltx_tr">
<th id="S4.T5.3.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">
<table id="S4.T5.3.2.1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.3.2.1.1.1.1" class="ltx_tr">
<td id="S4.T5.3.2.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">FedPrompt w/o LDP</td>
</tr>
</table>
</th>
<td id="S4.T5.3.2.1.2" class="ltx_td ltx_align_center ltx_border_t">90.16</td>
<td id="S4.T5.3.2.1.3" class="ltx_td ltx_align_center ltx_border_t">92.43</td>
<td id="S4.T5.3.2.1.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">92.69</td>
</tr>
<tr id="S4.T5.3.3.2" class="ltx_tr">
<th id="S4.T5.3.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">
<table id="S4.T5.3.3.2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.3.3.2.1.1.1" class="ltx_tr">
<td id="S4.T5.3.3.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">FedPrompt w/ LDP</td>
</tr>
</table>
</th>
<td id="S4.T5.3.3.2.2" class="ltx_td ltx_align_center ltx_border_bb">85.73</td>
<td id="S4.T5.3.3.2.3" class="ltx_td ltx_align_center ltx_border_bb">86.88</td>
<td id="S4.T5.3.3.2.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">86.14</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.T6" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">TABLE VI: </span>Global <em id="S4.T6.17.1" class="ltx_emph ltx_font_italic">ACC (%)</em> and communication cost (M, million) with different prompt methods. Denote prompt tuning as method <math id="S4.T6.4.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.T6.4.m1.1b"><mi id="S4.T6.4.m1.1.1" xref="S4.T6.4.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.T6.4.m1.1c"><ci id="S4.T6.4.m1.1.1.cmml" xref="S4.T6.4.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.4.m1.1d">\alpha</annotation></semantics></math>, P-tuning as <math id="S4.T6.5.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.T6.5.m2.1b"><mi id="S4.T6.5.m2.1.1" xref="S4.T6.5.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.T6.5.m2.1c"><ci id="S4.T6.5.m2.1.1.cmml" xref="S4.T6.5.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.5.m2.1d">\beta</annotation></semantics></math> and Prefix-Tuning as <math id="S4.T6.6.m3.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S4.T6.6.m3.1b"><mi id="S4.T6.6.m3.1.1" xref="S4.T6.6.m3.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.T6.6.m3.1c"><ci id="S4.T6.6.m3.1.1.cmml" xref="S4.T6.6.m3.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.6.m3.1d">\gamma</annotation></semantics></math>.</figcaption>
<table id="S4.T6.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.9.4.1" class="ltx_tr">
<th id="S4.T6.9.4.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S4.T6.9.4.1.1.1" class="ltx_text" style="font-size:90%;">Method</span></th>
<th id="S4.T6.9.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2"><span id="S4.T6.9.4.1.2.1" class="ltx_text" style="font-size:90%;">BERT</span></th>
<th id="S4.T6.9.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2"><span id="S4.T6.9.4.1.3.1" class="ltx_text" style="font-size:90%;">ROBERTA</span></th>
<th id="S4.T6.9.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T6.9.4.1.4.1" class="ltx_text" style="font-size:90%;">T5</span></th>
</tr>
<tr id="S4.T6.9.5.2" class="ltx_tr">
<th id="S4.T6.9.5.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><em id="S4.T6.9.5.2.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">ACC</em></th>
<th id="S4.T6.9.5.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S4.T6.9.5.2.2.1" class="ltx_text" style="font-size:90%;">Comm.</span></th>
<th id="S4.T6.9.5.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><em id="S4.T6.9.5.2.3.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">ACC</em></th>
<th id="S4.T6.9.5.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S4.T6.9.5.2.4.1" class="ltx_text" style="font-size:90%;">Comm.</span></th>
<th id="S4.T6.9.5.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><em id="S4.T6.9.5.2.5.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">ACC</em></th>
<th id="S4.T6.9.5.2.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column"><span id="S4.T6.9.5.2.6.1" class="ltx_text" style="font-size:90%;">Comm.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.7.1" class="ltx_tr">
<th id="S4.T6.7.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><math id="S4.T6.7.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.T6.7.1.1.m1.1a"><mi mathsize="90%" id="S4.T6.7.1.1.m1.1.1" xref="S4.T6.7.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.T6.7.1.1.m1.1b"><ci id="S4.T6.7.1.1.m1.1.1.cmml" xref="S4.T6.7.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.7.1.1.m1.1c">\alpha</annotation></semantics></math></th>
<td id="S4.T6.7.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.7.1.2.1" class="ltx_text" style="font-size:90%;">90.16</span></td>
<td id="S4.T6.7.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T6.7.1.3.1" class="ltx_text" style="font-size:90%;">0.016</span></td>
<td id="S4.T6.7.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.7.1.4.1" class="ltx_text" style="font-size:90%;">92.43</span></td>
<td id="S4.T6.7.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T6.7.1.5.1" class="ltx_text" style="font-size:90%;">0.016</span></td>
<td id="S4.T6.7.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.7.1.6.1" class="ltx_text" style="font-size:90%;">92.69</span></td>
<td id="S4.T6.7.1.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t"><span id="S4.T6.7.1.7.1" class="ltx_text" style="font-size:90%;">0.015</span></td>
</tr>
<tr id="S4.T6.8.2" class="ltx_tr">
<th id="S4.T6.8.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S4.T6.8.2.1.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.T6.8.2.1.m1.1a"><mi mathsize="90%" id="S4.T6.8.2.1.m1.1.1" xref="S4.T6.8.2.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.T6.8.2.1.m1.1b"><ci id="S4.T6.8.2.1.m1.1.1.cmml" xref="S4.T6.8.2.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.8.2.1.m1.1c">\beta</annotation></semantics></math></th>
<td id="S4.T6.8.2.2" class="ltx_td ltx_align_center"><span id="S4.T6.8.2.2.1" class="ltx_text" style="font-size:90%;">90.99</span></td>
<td id="S4.T6.8.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T6.8.2.3.1" class="ltx_text" style="font-size:90%;">25.420</span></td>
<td id="S4.T6.8.2.4" class="ltx_td ltx_align_center"><span id="S4.T6.8.2.4.1" class="ltx_text" style="font-size:90%;">93.27</span></td>
<td id="S4.T6.8.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T6.8.2.5.1" class="ltx_text" style="font-size:90%;">25.420</span></td>
<td id="S4.T6.8.2.6" class="ltx_td ltx_align_center"><span id="S4.T6.8.2.6.1" class="ltx_text" style="font-size:90%;">93.35</span></td>
<td id="S4.T6.8.2.7" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T6.8.2.7.1" class="ltx_text" style="font-size:90%;">25.420</span></td>
</tr>
<tr id="S4.T6.9.3" class="ltx_tr">
<th id="S4.T6.9.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r"><math id="S4.T6.9.3.1.m1.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S4.T6.9.3.1.m1.1a"><mi mathsize="90%" id="S4.T6.9.3.1.m1.1.1" xref="S4.T6.9.3.1.m1.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.T6.9.3.1.m1.1b"><ci id="S4.T6.9.3.1.m1.1.1.cmml" xref="S4.T6.9.3.1.m1.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.9.3.1.m1.1c">\gamma</annotation></semantics></math></th>
<td id="S4.T6.9.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.9.3.2.1" class="ltx_text" style="font-size:90%;">-</span></td>
<td id="S4.T6.9.3.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T6.9.3.3.1" class="ltx_text" style="font-size:90%;">-</span></td>
<td id="S4.T6.9.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.9.3.4.1" class="ltx_text" style="font-size:90%;">-</span></td>
<td id="S4.T6.9.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T6.9.3.5.1" class="ltx_text" style="font-size:90%;">-</span></td>
<td id="S4.T6.9.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.9.3.6.1" class="ltx_text" style="font-size:90%;">76.85</span></td>
<td id="S4.T6.9.3.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb"><span id="S4.T6.9.3.7.1" class="ltx_text" style="font-size:90%;">9.853</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS5.4.1.1" class="ltx_text">IV-E</span> </span><span id="S4.SS5.5.2" class="ltx_text ltx_font_italic">Number of Soft Tokens</span>
</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">We tested the results under different numbers of soft tokens settings, and the results are consistent with those of prompt tuning under non-federal learning. As shown in Table <a href="#S4.T4" title="TABLE IV ‣ IV-D Number of Local Iterations ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>, using more soft tokens will lead to better results. However, it also increases the communication cost under FL.</p>
</div>
</section>
<section id="S4.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS6.4.1.1" class="ltx_text">IV-F</span> </span><span id="S4.SS6.5.2" class="ltx_text ltx_font_italic">FedPrompt with LDP</span>
</h3>

<div id="S4.SS6.p1" class="ltx_para">
<p id="S4.SS6.p1.1" class="ltx_p">As we mentioned before, there are hidden dangers to infer the origin private data by inverting gradients in FL, and LDP is an effective way to defense this attack. Also <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> has proved that the noise for larger model can damage the accuracy in differentially FL, so in Fedprompt the tiny prompt contributes to the use of LDP for privacy. We test on SST-2, clipping the gradients and then adding LaPlace noise on parameters. Table <a href="#S4.T5" title="TABLE V ‣ IV-D Number of Local Iterations ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a> shows that LDP protects the privacy with the cost of accuracy decreased by about 5%.</p>
</div>
</section>
<section id="S4.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS7.4.1.1" class="ltx_text">IV-G</span> </span><span id="S4.SS7.5.2" class="ltx_text ltx_font_italic">Prompt methods</span>
</h3>

<div id="S4.SS7.p1" class="ltx_para">
<p id="S4.SS7.p1.1" class="ltx_p">We also experiment on P-tuning and Prefix-Tuning (only supports T5 now<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span> https://github.com/thunlp/OpenPrompt</span></span></span>). Our experiments on SST-2 are shown in Table <a href="#S4.T6" title="TABLE VI ‣ IV-D Number of Local Iterations ‣ IV Experiments ‣ FedPrompt: Communication-Efficient and Privacy-Preserving Prompt Tuning in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a>. It suggests that among the three prompt methods prompt tuning gets the best performance combining <em id="S4.SS7.p1.1.1" class="ltx_emph ltx_font_italic">ACC</em> and communication cost. P-tuning has the best <em id="S4.SS7.p1.1.2" class="ltx_emph ltx_font_italic">ACC</em> performance but quite a lot parameters, and Prefix-Tuning needs more modification to use.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Further Improvement</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Though FedPrompt is robust to normal backdoor attack in our experiments, there are still special methods to backdoor FL. We plan to let the server check the mean and standard deviation of soft prompt parameters from each client, and find outliers to refuse before global aggregation. Adding noise after aggregation could also destroy the backdoor, with partial sacrifice on <em id="S5.p1.1.1" class="ltx_emph ltx_font_italic">ACC</em>. We will carry on this research next.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Conclusion</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this work, we propose FedPrompt to use federated prompt tuning on decentralized data in a communication-efficient and privacy preserving way. We employ a split aggregation way that freezing extensive PLMs’ parameters and only tuning and aggregating soft prompts. In this way we condense the communication cost to only 0.01% compared to full-parameter fine-tuning, making many devices applicable for some scenarios with communication constraints. Experiments on both IID and Non-IID data distribution using three mainstream model demonstrate the accuracy of FedPrompt. We also use LDP to further protect the privacy, and it is necessary to further study the FL backdoor attack.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
J. Devlin, M. Chang, K. Lee, and K. Toutanova, “BERT: pre-training of deep
bidirectional transformers for language understanding,” in
<em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">NAACL-HLT</em>, 2019, pp. 4171–4186.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Y. Liu, M. Ott, N. Goyal, J. Du, M. Joshi, D. Chen, O. Levy, M. Lewis,
L. Zettlemoyer, and V. Stoyanov, “Roberta: A robustly optimized BERT
pretraining approach,” p. arXiv:1907.11692, 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
C. Raffel, N. Shazeer, A. Roberts, K. Lee, S. Narang, M. Matena, Y. Zhou,
W. Li, and P. J. Liu, “Exploring the limits of transfer learning with a
unified text-to-text transformer,” <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">J. Mach. Learn. Res.</em>, vol. 21, pp.
140:1–140:67, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
B. Lester, R. Al-Rfou, and N. Constant, “The power of scale for
parameter-efficient prompt tuning,” in <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021
Conference on Empirical Methods in Natural Language Processing</em>, 2021, pp.
3045–3059.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
K. He, X. Zhang, S. Ren, and J. Sun, “Deep residual learning for image
recognition,” in <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE Conference on Computer
Vision and Pattern Recognition</em>.   IEEE Computer Society, 2016, pp. 770–778.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Z. Wu, Y. Zhou, D. Wu, M. Chen, and Y. Xu, “TAMF: towards personalized
time-aware recommendation for over-the-top videos,” in <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Proceedings of
the ACM Workshop on Network and Operating Systems Support for Digital Audio
and Video</em>, 2019, pp. 43–48.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
J. Dean, G. Corrado, R. Monga, K. Chen, M. Devin, Q. V. Le, M. Z. Mao,
M. Ranzato, A. W. Senior, P. A. Tucker, K. Yang, and A. Y. Ng, “Large scale
distributed deep networks,” in <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information
Processing Systems</em>, 2012, pp. 1232–1240.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
M. Li, L. Zhou, Z. Yang, A. Q. Li, F. Xia, D. G. Andersen, and A. Smola,
“Parameter server for distributed machine learning,” 2013.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
A. Reisizadeh, A. Mokhtari, H. Hassani, A. Jadbabaie, and R. Pedarsani,
“Fedpaq: A communication-efficient federated learning method with periodic
averaging and quantization,” in <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and
Statistics</em>.   PMLR, 2020, pp.
2021–2031.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
J. Hamer, M. Mohri, and A. T. Suresh, “Fedboost: A communication-efficient
algorithm for federated learning,” in <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Proceedings of the International
Conference on Machine Learning</em>.   PMLR, 2020, pp. 3973–3983.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics</em>.   PMLR, 2017, pp. 1273–1282.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, T. Chen, and Y. Tong, “Federated machine learning: Concept
and applications,” <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">ACM Trans. Intell. Syst. Technol.</em>, vol. 10,
no. 2, pp. 12:1–12:19, 2019.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
T. Qi, F. Wu, C. Wu, Y. Huang, and X. Xie, “Privacy-preserving news
recommendation model learning,” in <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for
Computational Linguistics: EMNLP</em>, 2020, pp. 1423–1432.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
K. Hambardzumyan, H. Khachatrian, and J. May, “WARP: word-level adversarial
reprogramming,” in <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">ACL/IJCNLP</em>, 2021, pp. 4921–4933.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
X. L. Li and P. Liang, “Prefix-tuning: Optimizing continuous prompts for
generation,” in <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">ACL/IJCNLP</em>, 2021, pp. 4582–4597.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
X. Liu, Y. Zheng, Z. Du, M. Ding, Y. Qian, Z. Yang, and J. Tang, “Gpt
understands, too,” p. arXiv:2103.10385, 2021.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
X. Liu, K. Ji, Y. Fu, Z. Du, Z. Yang, and J. Tang, “P-tuning v2: Prompt tuning
can be comparable to fine-tuning universally across scales and tasks,” p.
arXiv:2110.07602, 2021.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
X. Han, W. Zhao, N. Ding, Z. Liu, and M. Sun, “Ptr: Prompt tuning with rules
for text classification,” p. arXiv:2105.11259, 2021.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Y. Gu, X. Han, Z. Liu, and M. Huang, “PPT: pre-trained prompt tuning for
few-shot learning,” in <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Annual Meeting of the
Association for Computational Linguistics</em>, 2022, pp. 8410–8423.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
T. Li, A. K. Sahu, M. Zaheer, M. Sanjabi, A. Talwalkar, and V. Smith,
“Federated optimization in heterogeneous networks,” in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of
Machine Learning and Systems</em>, 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
S. P. Karimireddy, S. Kale, M. Mohri, S. J. Reddi, S. U. Stich, and A. T.
Suresh, “SCAFFOLD: stochastic controlled averaging for federated
learning,” in <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proceedings of the International Conference on Machine
Learning</em>.   PMLR, 2020, pp.
5132–5143.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
A. Fallah, A. Mokhtari, and A. E. Ozdaglar, “Personalized federated learning
with theoretical guarantees: A model-agnostic meta-learning approach,” in
<em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing System</em>, 2020.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
D. A. E. Acar, Y. Zhao, R. M. Navarro, M. Mattina, P. N. Whatmough, and
V. Saligrama, “Federated learning based on dynamic regularization,” in
<em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2021.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
X. Li and D. Zhan, “Fedrs: Federated learning with restricted softmax for
label distribution non-iid data,” in <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">KDD ’21: The ACM SIGKDD
Conference on Knowledge Discovery and Data Mining</em>, 2021, pp. 995–1005.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
J. Yi, F. Wu, C. Wu, R. Liu, G. Sun, and X. Xie, “Efficient-fedrec: Efficient
federated learning framework for privacy-preserving news recommendation,” in
<em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Conference on Empirical Methods in Natural Language
Processing</em>, 2021, pp. 2814–2824.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
L. Melis, C. Song, E. D. Cristofaro, and V. Shmatikov, “Exploiting unintended
feature leakage in collaborative learning,” in <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">IEEE Symposium on
Security and Privacy</em>.   IEEE, 2019,
pp. 691–706.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
J. Geiping, H. Bauermeister, H. Dröge, and M. Moeller, “Inverting
gradients - how easy is it to break privacy in federated learning?” in
<em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing System</em>, 2020.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
M. Abadi, A. Chu, I. J. Goodfellow, H. B. McMahan, I. Mironov, K. Talwar, and
L. Zhang, “Deep learning with differential privacy,” in <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings
of the 2016 ACM SIGSAC Conference on Computer and Communications
Securit</em>, 2016, pp. 308–318.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
R. C. Geyer, T. Klein, and M. Nabi, “Differentially Private Federated
Learning: A Client Level Perspective,” p. arXiv:1712.07557, Dec. 2017.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
A. Triastcyn and B. Faltings, “Federated learning with bayesian differential
privacy,” in <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Big Data (IEEE
BigData)</em>.   IEEE, 2019, pp.
2587–2596.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
K. A. Bonawitz, V. Ivanov, B. Kreuter, A. Marcedone, H. B. McMahan, S. Patel,
D. Ramage, A. Segal, and K. Seth, “Practical secure aggregation for
privacy-preserving machine learning,” in <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Proceedings of the ACM
SIGSAC Conference on Computer and Communications Security</em>, 2017, pp.
1175–1191.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
H. B. McMahan, D. Ramage, K. Talwar, and L. Zhang, “Learning differentially
private recurrent language models,” in <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">International Conference on
Learning Representations</em>, 2018.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
M. Jere, T. Farnan, and F. Koushanfar, “A taxonomy of attacks on federated
learning,” <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">IEEE Secur. Priv.</em>, vol. 19, no. 2, pp. 20–28, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
E. Bagdasaryan, A. Veit, Y. Hua, D. Estrin, and V. Shmatikov, “How to backdoor
federated learning,” in <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics</em>.   PMLR, 2020, pp. 2938–2948.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
X. Yuan, P. He, Q. Zhu, and X. Li, “Adversarial examples: Attacks and defenses
for deep learning,” <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. Neural Networks Learn. Syst.</em>,
vol. 30, no. 9, pp. 2805–2824, 2019.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
A. Aldahdooh, W. Hamidouche, S. A. Fezza, and O. Déforges, “Adversarial
example detection for DNN models: a review and experimental comparison,”
<em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">Artif. Intell. Rev.</em>, vol. 55, no. 6, pp. 4403–4462, 2022.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
W. Du, Y. Zhao, B. Li, G. Liu, and S. Wang, “Ppt: Backdoor attacks on
pre-trained models via poisoned prompt tuning,” in <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">IJCAI-22</em>, 2022,
pp. 680–686.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
M. Zampieri, S. Malmasi, P. Nakov, S. Rosenthal, N. Farra, and R. Kumar,
“Semeval-2019 task 6: Identifying and categorizing offensive language in
social media (offenseval),” in <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 13th International
Workshop on Semantic Evaluation, SemEval@NAACL-HLT 2019</em>, 2019, pp. 75–86.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
A. Founta, C. Djouvas, D. Chatzakou, I. Leontiadis, J. Blackburn,
G. Stringhini, A. Vakali, M. Sirivianos, and N. Kourtellis, “Large scale
crowdsourcing and characterization of twitter abusive behavior,” in
<em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Twelfth International Conference on Web and Social
Media</em>, 2018, pp. 491–500.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
V. Metsis, I. Androutsopoulos, and G. Paliouras, “Spam filtering with naive
bayes - which naive bayes?” in <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">CEAS</em>, 2006.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
G. Sakkis, I. Androutsopoulos, G. Paliouras, V. Karkaletsis, C. D. Spyropoulos,
and P. Stamatopoulos, “A memory-based approach to anti-spam filtering for
mailing lists,” <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">Inf. Retr.</em>, vol. 6, no. 1, pp. 49–73, 2003.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
P. Rajpurkar, J. Zhang, K. Lopyrev, and P. Liang, “Squad: 100, 000+ questions
for machine comprehension of text,” in <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2016
Conference on Empirical Methods in Natural Language Processing</em>, 2016, pp.
2383–2392.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
C. He, E. Ceyani, K. Balasubramanian, M. Annavaram, and S. Avestimehr,
“Spreadgnn: Decentralized multi-task federated learning for graph neural
networks on molecular data,” in <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference
on Artificial Intelligence</em>, 2022, pp. 6865–6873.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Q. Li, B. He, and D. Song, “Model-contrastive federated learning,” in
<em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">IEEE Conference on Computer Vision and Pattern Recognition</em>, 2021,
pp. 10 713–10 722.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
A. Hilmkil, S. Callh, M. Barbieri, L. R. Sütfeld, E. L. Zec, and
O. Mogren, “Scaling federated learning for fine-tuning of large language
models,” in <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">International Conference on Applications of Natural
Language to Information Systems</em>, 2021, pp. 15–23.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
P. Basu, T. S. Roy, R. Naidu, Z. Müftüoglu, S. Singh, and
F. Mireshghallah, “Benchmarking differential privacy and federated learning
for BERT models,” p. arXiv:2106.13973, 2021.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2208.12266" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2208.12268" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2208.12268">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2208.12268" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2208.12269" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar 13 17:37:15 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
