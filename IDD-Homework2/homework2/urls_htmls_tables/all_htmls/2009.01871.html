<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2009.01871] Federated Learning for Breast Density Classification: A Real-World Implementation</title><meta property="og:description" content="Building robust deep learning-based models requires large quantities of diverse training data. In this study, we investigate the use of federated learning (FL) to build medical imaging classification models in a real-w…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning for Breast Density Classification: A Real-World Implementation">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning for Breast Density Classification: A Real-World Implementation">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2009.01871">

<!--Generated on Tue Feb 27 01:35:38 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="federated learning,  breast density classification,  BI-RADS,  mammography">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>
NVIDIA, Santa Clara, USA </span></span></span><span id="id2" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">institutetext: </span>Massachusetts General Hospital, Boston, USA </span></span></span><span id="id3" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_note_type">institutetext: </span>Mayo Clinic, Jacksonville, USA </span></span></span><span id="id4" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_note_type">institutetext: </span>Stanford University, Stanford, USA </span></span></span><span id="id5" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_note_type">institutetext: </span>American College of Radiology, Reston, USA </span></span></span><span id="id6" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_note_type">institutetext: </span>Diagnósticos da América (DASA), São Paulo, Brazil </span></span></span><span id="id7" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_note_type">institutetext: </span>Massachusetts Institute of Technology, Cambridge, USA
</span></span></span>
<h1 class="ltx_title ltx_title_document">Federated Learning for Breast Density Classification: A Real-World Implementation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Holger R. Roth
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Ken Chang
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Praveer Singh
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Nir Neumark
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Wenqi Li
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Vikash Gupta
</span><span class="ltx_author_notes">33</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Sharut Gupta
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Liangqiong Qu
</span><span class="ltx_author_notes">44</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Alvin Ihsani
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Bernardo C. Bizzo
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Yuhong Wen
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Varun Buch
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Meesam Shah
</span><span class="ltx_author_notes">55</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Felipe Kitamura
</span><span class="ltx_author_notes">66</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Matheus Mendonça
</span><span class="ltx_author_notes">66</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Vitor Lavor
</span><span class="ltx_author_notes">66</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Ahmed Harouni
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Colin Compas
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Jesse Tetreault
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Prerna Dogra
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Yan Cheng
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Selnur Erdal
</span><span class="ltx_author_notes">33</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Richard White
</span><span class="ltx_author_notes">33</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Behrooz Hashemian
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Thomas Schultz
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Miao Zhang
</span><span class="ltx_author_notes">44</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Adam McCarthy
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> B. Min Yun
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Elshaimaa Sharaf
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Katharina V. Hoebel
</span><span class="ltx_author_notes">77</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Jay B. Patel
</span><span class="ltx_author_notes">77</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Bryan Chen
</span><span class="ltx_author_notes">77</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Sean Ko
</span><span class="ltx_author_notes">77</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Evan Leibovitz
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Etta D. Pisano
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Laura Coombs
</span><span class="ltx_author_notes">55</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Daguang Xu
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Keith J. Dreyer
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Ittai Dayan
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Ram C. Naidu
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Mona Flores
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Daniel Rubin
</span><span class="ltx_author_notes">44</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Jayashree Kalpathy-Cramer
</span><span class="ltx_author_notes">22</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Building robust deep learning-based models requires large quantities of diverse training data. In this study, we investigate the use of federated learning (FL) to build medical imaging classification models in a real-world collaborative setting. Seven clinical institutions from across the world joined this FL effort to train a model for breast density classification based on Breast Imaging, Reporting &amp; Data System (BI-RADS). We show that despite substantial differences among the datasets from all sites (mammography system, class distribution, and data set size) and without centralizing data, we can successfully train AI models in federation. The results show that models trained using FL perform 6.3% on average better than their counterparts trained on an institute’s local data alone. Furthermore, we show a 45.8% relative improvement in the models’ generalizability when evaluated on the other participating sites’ testing data.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>federated learning, breast density classification, BI-RADS, mammography
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Advancements in medical image analysis over the last several years have been dominated by deep learning (DL) approaches. However, it is well known that DL requires large quantities of data to train robust and clinically useful models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. Often, hospitals and other medical institutes need to collaborate and host centralized databases for the development of clinically useful models. This overhead can quickly become a logistical challenge and usually requires a time-consuming approval process due to data privacy and ethical concerns associated with data sharing in healthcare <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>. Even when these challenges can be addressed, data is valuable, and institutions may prefer not to share full datasets. Furthermore, medical data can be large, and it may be prohibitively expensive to acquire storage for central hosting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. One approach to combat the data sharing hurdles is federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, where only model weights are shared between participating institutions without sharing the raw data.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To investigate the performance of FL in the real world, we conducted a study to develop a breast density classification model using mammography data. An international group of hospitals and medical imaging centers joined this collaborative effort to train the model in purely data-decentralized fashion without needing to share any data. This is in contrast to previous studies in which the FL environment was only simulated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
We do not have centralized training experiments as references before starting the FL tasks, which places higher requirements on the robustness of the algorithms and selection of hyper-parameters.</p>
</div>
<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Related Works</h3>

<section id="S1.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Breast density scoring:</h4>

<div id="S1.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S1.SS1.SSS0.Px1.p1.1" class="ltx_p">The classification of breast density is quintessential for breast imaging to estimate the extent of fibroglandular tissue related to the patient’s risk of developing breast cancer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. Women with a high mammographic breast density (<math id="S1.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="S1.SS1.SSS0.Px1.p1.1.m1.1a"><mo id="S1.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S1.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="S1.SS1.SSS0.Px1.p1.1.m1.1b"><gt id="S1.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S1.SS1.SSS0.Px1.p1.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.SSS0.Px1.p1.1.m1.1c">&gt;</annotation></semantics></math>75%) have a four- to five-fold increase in risk for breast cancer compared to women having a lower breast density <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. This condition affects roughly half of American women between the ages of 40 to 74 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. Patients identified with dense breast tissue may have masked tumors and benefit from supplemental imaging such as MRI or ultrasound <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. High mammographic breast density impairs the sensitivity and specificity of breast cancer screening, possibly because (small) malignant lesions are not detectable even when they are present <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. The standard evaluation metric for reporting breast density is the Breast Imaging Reporting and Data System (BI-RADS), based on 2D mammography <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>. Scans are categorized into one of four classes: (a) fatty, (b) scattered, (c) heterogeneously dense, and (d) extremely dense.</p>
</div>
<div id="S1.SS1.SSS0.Px1.p2" class="ltx_para">
<p id="S1.SS1.SSS0.Px1.p2.1" class="ltx_p">Due to the subjective nature of the BI-RADS criteria, there can be substantial inter-rater variability between pairs of clinicians. Sprague et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> found that the likelihood of a mammogram being read as dense varies from radiologist to radiologist between 6.3% to 84.5%. Ooms et al. find that the overall agreement between four observers (inter-rater agreement) in terms of the overall weighted kappa was 0.77 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. Another study reported the inter-rater variability to be simple kappa = 0.58 among 34 community radiologists <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Even the intra-rater agreement in the assessment of BI-RADS breast density can be relatively low. Spayne et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> showed that the intra-rater agreement was below 80% when evaluating the same mammography exam within a 3‐ to 24‐month period. Recent work on applying DL for mammography breast density classification <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> achieved a linear kappa of 0.67 when comparing the DL model’s predictions to the assessments of the original interpreting radiologist.</p>
</div>
</section>
<section id="S1.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Federated Learning:</h4>

<div id="S1.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S1.SS1.SSS0.Px2.p1.1" class="ltx_p">Federated learning has recently been described as being instrumental for the future of digital health <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.
FL enables collaborative and decentralized DL training without sharing any raw patient data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>. Each client in FL trains locally on their data and then submits their model parameters to a server that accumulates and aggregates the model updates from each client. Once a certain number of clients have submitted their updates, the aggregated model parameters are redistributed to the clients, and a new round of local training starts. While out of the scope of this work, FL can also be combined with additional privacy-preserving measures to avoid potential reconstruction of training data through model inversion if the model parameters would be exposed to an adversary <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. Recent works have shown the applicability of FL to medical imaging tasks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. The security and privacy-preserving aspects of federated machine learning in medical imaging have been discussed in more detail by Kaissis et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<table id="S1.F1.3" class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S1.F1.3.1.1" class="ltx_tr">
<td id="S1.F1.3.1.1.1" class="ltx_td ltx_align_center"></td>
<td id="S1.F1.3.1.1.2" class="ltx_td ltx_align_center"></td>
<td id="S1.F1.3.1.1.3" class="ltx_td ltx_align_center"></td>
<td id="S1.F1.3.1.1.4" class="ltx_td ltx_align_center"></td>
<td id="S1.F1.3.1.1.5" class="ltx_td ltx_align_center"></td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<div id="S1.F1.4" class="ltx_block ltx_figure_panel">
<figure id="S1.F1.sf1" class="ltx_figure ltx_align_center">
<p id="S1.F1.sf1.1" class="ltx_p"><span id="S1.F1.sf1.1.1" class="ltx_text">
<span id="S1.F1.sf1.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_align_bottom">
<span id="S1.F1.sf1.1.1.1.1" class="ltx_p">
<span id="S1.F1.sf1.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:0.0pt;height:0pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S1.F1.sf1.1.1.1.1.1.1" class="ltx_p"><span id="S1.F1.sf1.1.1.1.1.1.1.1" class="ltx_text"></span></span>
</span></span></span>
</span></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
<figure id="S1.F1.sf2" class="ltx_figure ltx_align_center">
<p id="S1.F1.sf2.1" class="ltx_p"><span id="S1.F1.sf2.1.1" class="ltx_text">
<span id="S1.F1.sf2.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_align_bottom">
<span id="S1.F1.sf2.1.1.1.1" class="ltx_p">
<span id="S1.F1.sf2.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:0.0pt;height:0pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S1.F1.sf2.1.1.1.1.1.1" class="ltx_p"><span id="S1.F1.sf2.1.1.1.1.1.1.1" class="ltx_text"></span></span>
</span></span></span>
</span></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<div id="S1.F1.5" class="ltx_block ltx_figure_panel">
<figure id="S1.F1.sf3" class="ltx_figure ltx_align_center">
<p id="S1.F1.sf3.1" class="ltx_p"><span id="S1.F1.sf3.1.1" class="ltx_text">
<span id="S1.F1.sf3.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_align_bottom">
<span id="S1.F1.sf3.1.1.1.1" class="ltx_p">
<span id="S1.F1.sf3.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:0.0pt;height:0pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S1.F1.sf3.1.1.1.1.1.1" class="ltx_p"><span id="S1.F1.sf3.1.1.1.1.1.1.1" class="ltx_text"></span></span>
</span></span></span>
</span></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
<figure id="S1.F1.sf4" class="ltx_figure ltx_align_center">
<p id="S1.F1.sf4.1" class="ltx_p"><span id="S1.F1.sf4.1.1" class="ltx_text">
<span id="S1.F1.sf4.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_align_bottom">
<span id="S1.F1.sf4.1.1.1.1" class="ltx_p">
<span id="S1.F1.sf4.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:0.0pt;height:0pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S1.F1.sf4.1.1.1.1.1.1" class="ltx_p"><span id="S1.F1.sf4.1.1.1.1.1.1.1" class="ltx_text"></span></span>
</span></span></span>
</span></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S1.F1.sf5" class="ltx_figure ltx_figure_panel ltx_align_center">
<p id="S1.F1.sf5.1" class="ltx_p"><span id="S1.F1.sf5.1.1" class="ltx_text">
<span id="S1.F1.sf5.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_align_bottom">
<span id="S1.F1.sf5.1.1.1.1" class="ltx_p">
<span id="S1.F1.sf5.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:0.0pt;height:0pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S1.F1.sf5.1.1.1.1.1.1" class="ltx_p"><span id="S1.F1.sf5.1.1.1.1.1.1.1" class="ltx_text"></span></span>
</span></span></span>
</span></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Mammography data examples from different sites after resizing the original images to a resolution of 224 <math id="S1.F1.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.F1.2.m1.1b"><mo id="S1.F1.2.m1.1.1" xref="S1.F1.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.F1.2.m1.1c"><times id="S1.F1.2.m1.1.1.cmml" xref="S1.F1.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.2.m1.1d">\times</annotation></semantics></math> 224. No special normalization was applied in order to keep the scanners’ original intensity distribution that can be observed in <a href="#S2.F4" title="Figure 4 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
</figcaption>
</figure>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2009.01871/assets/x1.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="276" height="148" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>
Federated learning in medical imaging.
The central server communicates with clients from multi-national institutions without exchanging any sensitive raw data. Still, the global model benefits from weights and gradients from clients’ local models to achieve higher overall performance.
</figcaption>
</figure>
</section>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Method</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">We implemented our FL approach in a real-world setting with participation from seven international clients.</p>
</div>
<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Datasets:</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">The mammography data was retrospectively selected after Institutional Review Board (IRB) approval as part of standard mammography screening protocols. The BI-RADS breast density class from the original interpreting radiologist was collected from the reports available in the participating hospitals’ medical records and includes images from digital screening mammography (Fig. <a href="#S1.F1" title="Figure 1 ‣ Federated Learning: ‣ 1.1 Related Works ‣ 1 Introduction ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). Clients 1 to 3 utilized the multi-institutional dataset previously described in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, which was split by the digital mammography system used to acquire the image to account for different dataset sources.</p>
</div>
<div id="S2.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p2.1" class="ltx_p">Each client’s data exhibited their own characteristics of detector type, image resolution, and mammography type. Furthermore, the number of training images varied significantly among clients, as shown in Table <a href="#S2.T1" title="Table 1 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The distributions of the different BI-RADS categories were markedly different at some clients but generally followed the distribution known from the literature, with more images in the categories b and c <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, see Fig. <a href="#S2.F3" title="Figure 3 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Given these differences that are quite typical for real-world multi-institutional datasets, we can see that the data used in this study is non-independent and identically distributed (non-IID).</p>
</div>
<div id="S2.SS0.SSS0.Px1.p3" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p3.1" class="ltx_p">Intensity distributions among different sites also varied markedly, as can be observed in Fig. <a href="#S2.F4" title="Figure 4 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. This variance is due to the differences in imaging protocols and digital mammography systems used at each data contributing site. No attempt to consolidate these differences was made in our study to investigate the domain shift challenges proposed by this non-IID data distribution.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Dataset characteristics at each client. Image resolution is shown in megapixels (MP).</figcaption>
<table id="S2.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S2.T1.1.1.1" class="ltx_tr">
<th id="S2.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.1.1" class="ltx_text" style="font-size:70%;">Institution</span></th>
<th id="S2.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.2.1" class="ltx_text" style="font-size:70%;">Image resolution</span></th>
<th id="S2.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.3.1" class="ltx_text" style="font-size:70%;">Detector type</span></th>
<th id="S2.T1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.4.1" class="ltx_text" style="font-size:70%;">Image type</span></th>
<th id="S2.T1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.5.1" class="ltx_text" style="font-size:70%;">Bits</span></th>
<th id="S2.T1.1.1.1.6" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.6.1" class="ltx_text" style="font-size:70%;"># Train</span></th>
<th id="S2.T1.1.1.1.7" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_r"><span id="S2.T1.1.1.1.7.1" class="ltx_text" style="font-size:70%;"># Val.</span></th>
<th id="S2.T1.1.1.1.8" class="ltx_td ltx_align_right ltx_th ltx_th_column"><span id="S2.T1.1.1.1.8.1" class="ltx_text" style="font-size:70%;"># Test</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S2.T1.1.2.1" class="ltx_tr">
<td id="S2.T1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.1.1" class="ltx_text" style="font-size:70%;">client1</span></td>
<td id="S2.T1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.2.1" class="ltx_text" style="font-size:70%;">23.04</span></td>
<td id="S2.T1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.3.1" class="ltx_text" style="font-size:70%;">Direct</span></td>
<td id="S2.T1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.5.1" class="ltx_text" style="font-size:70%;">12</span></td>
<td id="S2.T1.1.2.1.6" class="ltx_td ltx_align_right ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.6.1" class="ltx_text" style="font-size:70%;">22933</span></td>
<td id="S2.T1.1.2.1.7" class="ltx_td ltx_align_right ltx_border_r ltx_border_t"><span id="S2.T1.1.2.1.7.1" class="ltx_text" style="font-size:70%;">3366</span></td>
<td id="S2.T1.1.2.1.8" class="ltx_td ltx_align_right ltx_border_t"><span id="S2.T1.1.2.1.8.1" class="ltx_text" style="font-size:70%;">6534</span></td>
</tr>
<tr id="S2.T1.1.3.2" class="ltx_tr">
<td id="S2.T1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.3.2.1.1" class="ltx_text" style="font-size:70%;">client2</span></td>
<td id="S2.T1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.3.2.2.1" class="ltx_text" style="font-size:70%;">.02 to 4.39</span></td>
<td id="S2.T1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.3.2.3.1" class="ltx_text" style="font-size:70%;">Direct</span></td>
<td id="S2.T1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.3.2.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.3.2.5.1" class="ltx_text" style="font-size:70%;">12</span></td>
<td id="S2.T1.1.3.2.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.3.2.6.1" class="ltx_text" style="font-size:70%;">8365</span></td>
<td id="S2.T1.1.3.2.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.3.2.7.1" class="ltx_text" style="font-size:70%;">1216</span></td>
<td id="S2.T1.1.3.2.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.3.2.8.1" class="ltx_text" style="font-size:70%;">2568</span></td>
</tr>
<tr id="S2.T1.1.4.3" class="ltx_tr">
<td id="S2.T1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.4.3.1.1" class="ltx_text" style="font-size:70%;">client3</span></td>
<td id="S2.T1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.4.3.2.1" class="ltx_text" style="font-size:70%;">4.39 to 13.63</span></td>
<td id="S2.T1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.4.3.3.1" class="ltx_text" style="font-size:70%;">Direct</span></td>
<td id="S2.T1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.4.3.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.4.3.5.1" class="ltx_text" style="font-size:70%;">14</span></td>
<td id="S2.T1.1.4.3.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.4.3.6.1" class="ltx_text" style="font-size:70%;">44115</span></td>
<td id="S2.T1.1.4.3.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.4.3.7.1" class="ltx_text" style="font-size:70%;">6336</span></td>
<td id="S2.T1.1.4.3.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.4.3.8.1" class="ltx_text" style="font-size:70%;">12676</span></td>
</tr>
<tr id="S2.T1.1.5.4" class="ltx_tr">
<td id="S2.T1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.5.4.1.1" class="ltx_text" style="font-size:70%;">client4</span></td>
<td id="S2.T1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.5.4.2.1" class="ltx_text" style="font-size:70%;">4 to 28</span></td>
<td id="S2.T1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.5.4.3.1" class="ltx_text" style="font-size:70%;">Direct/Scintillator</span></td>
<td id="S2.T1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.5.4.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.5.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.5.4.5.1" class="ltx_text" style="font-size:70%;">12</span></td>
<td id="S2.T1.1.5.4.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.5.4.6.1" class="ltx_text" style="font-size:70%;">7219</span></td>
<td id="S2.T1.1.5.4.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.5.4.7.1" class="ltx_text" style="font-size:70%;">1030</span></td>
<td id="S2.T1.1.5.4.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.5.4.8.1" class="ltx_text" style="font-size:70%;">2069</span></td>
</tr>
<tr id="S2.T1.1.6.5" class="ltx_tr">
<td id="S2.T1.1.6.5.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.6.5.1.1" class="ltx_text" style="font-size:70%;">client5</span></td>
<td id="S2.T1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.6.5.2.1" class="ltx_text" style="font-size:70%;">8.48 to 13.63</span></td>
<td id="S2.T1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.6.5.3.1" class="ltx_text" style="font-size:70%;">Direct</span></td>
<td id="S2.T1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.6.5.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.6.5.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.6.5.5.1" class="ltx_text" style="font-size:70%;">12</span></td>
<td id="S2.T1.1.6.5.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.6.5.6.1" class="ltx_text" style="font-size:70%;">6023</span></td>
<td id="S2.T1.1.6.5.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.6.5.7.1" class="ltx_text" style="font-size:70%;">983</span></td>
<td id="S2.T1.1.6.5.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.6.5.8.1" class="ltx_text" style="font-size:70%;">1822</span></td>
</tr>
<tr id="S2.T1.1.7.6" class="ltx_tr">
<td id="S2.T1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.7.6.1.1" class="ltx_text" style="font-size:70%;">client6</span></td>
<td id="S2.T1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.7.6.2.1" class="ltx_text" style="font-size:70%;"> 8.6 to 13.63</span></td>
<td id="S2.T1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.7.6.3.1" class="ltx_text" style="font-size:70%;">Direct</span></td>
<td id="S2.T1.1.7.6.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.7.6.4.1" class="ltx_text" style="font-size:70%;">2D</span></td>
<td id="S2.T1.1.7.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.7.6.5.1" class="ltx_text" style="font-size:70%;">12</span></td>
<td id="S2.T1.1.7.6.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.7.6.6.1" class="ltx_text" style="font-size:70%;">6874</span></td>
<td id="S2.T1.1.7.6.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.7.6.7.1" class="ltx_text" style="font-size:70%;">853</span></td>
<td id="S2.T1.1.7.6.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.7.6.8.1" class="ltx_text" style="font-size:70%;">1727</span></td>
</tr>
<tr id="S2.T1.1.8.7" class="ltx_tr">
<td id="S2.T1.1.8.7.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.8.7.1.1" class="ltx_text" style="font-size:70%;">client7</span></td>
<td id="S2.T1.1.8.7.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.8.7.2.1" class="ltx_text" style="font-size:70%;">1 to 136</span></td>
<td id="S2.T1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.8.7.3.1" class="ltx_text" style="font-size:70%;">Direct/Scintillator</span></td>
<td id="S2.T1.1.8.7.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.8.7.4.1" class="ltx_text" style="font-size:70%;">2D/tomosynthesis</span></td>
<td id="S2.T1.1.8.7.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.8.7.5.1" class="ltx_text" style="font-size:70%;">10/12</span></td>
<td id="S2.T1.1.8.7.6" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.8.7.6.1" class="ltx_text" style="font-size:70%;">4021</span></td>
<td id="S2.T1.1.8.7.7" class="ltx_td ltx_align_right ltx_border_r"><span id="S2.T1.1.8.7.7.1" class="ltx_text" style="font-size:70%;">664</span></td>
<td id="S2.T1.1.8.7.8" class="ltx_td ltx_align_right"><span id="S2.T1.1.8.7.8.1" class="ltx_text" style="font-size:70%;">1288</span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2009.01871/assets/x2.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="116" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Class distribution at different client sites as a fraction of their total data.</figcaption>
</figure>
<figure id="S2.F4" class="ltx_figure"><img src="/html/2009.01871/assets/x3.png" id="S2.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="147" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Intensity distribution at different sites.</figcaption>
</figure>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Client-Server-Based Federated Learning:</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.8" class="ltx_p">In its typical form, FL utilizes a client-server setup (Fig. <a href="#S1.F2" title="Figure 2 ‣ Federated Learning: ‣ 1.1 Related Works ‣ 1 Introduction ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). Each client trains the same model architecture locally on their data. Once a certain number of clients finishes a round of local training, the updated model weights (or their gradients) are sent to the server for aggregation. After aggregation, the new weights on the server are re-distributed to the clients, and the next round of local model training begins. After a certain number of FL rounds, the models at each client converge. Each client is allowed to select their locally best model by monitoring a certain performance metric on a local hold-out validation set. The client can select either the global model returning from the server after averaging or any intermediate model considered best during local training based on their validation metric. In our experiments, we implement the <span id="S2.SS0.SSS0.Px2.p1.8.1" class="ltx_text ltx_font_typewriter">FederatedAveraging</span> algorithm proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>. While there exist variations of this algorithm to address particular learning tasks, in its most general form, FL tries to minimize a global loss function <math id="S2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.1.m1.1c">\mathcal{L}</annotation></semantics></math> which can be a weighted combination of <math id="S2.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.2.m2.1b"><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.2.m2.1c">K</annotation></semantics></math> local losses <math id="S2.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\{\mathcal{L}_{k}\}_{k=1}^{K}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.3.m3.1a"><msubsup id="S2.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mrow id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml">{</mo><msub id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2.cmml">ℒ</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.2.cmml">k</mi><mo id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.1.cmml">=</mo><mn id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1">superscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><set id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1"><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2">ℒ</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3"><eq id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.1"></eq><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.2">𝑘</ci><cn type="integer" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.3.m3.1c">\{\mathcal{L}_{k}\}_{k=1}^{K}</annotation></semantics></math>, each of which is computed on a client <math id="S2.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.4.m4.1c">k</annotation></semantics></math>’s local data.
Hence, FL can be formulated as the task of finding the model parameters <math id="S2.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.5.m5.1a"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.5.m5.1c">\phi</annotation></semantics></math> that minimize <math id="S2.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.6.m6.1a"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.6.m6.1b"><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.6.m6.1c">L</annotation></semantics></math> given some local data <math id="S2.SS0.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="X_{k}\in X" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.7.m7.1a"><mrow id="S2.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml">X</mi><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.3" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.3.cmml">k</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml">∈</mo><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml">X</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.7.m7.1b"><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1"><in id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1"></in><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.2">𝑋</ci><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.3">𝑘</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.7.m7.1c">X_{k}\in X</annotation></semantics></math>, where <math id="S2.SS0.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.8.m8.1a"><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.8.m8.1b"><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.8.m8.1c">X</annotation></semantics></math> would be the combination of all local datasets.</p>
<table id="S4.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E1.m1.7" class="ltx_Math" alttext="\displaystyle\min_{\phi}\mathcal{L}(X;\phi)\quad\text{with}\quad\mathcal{L}(X;\phi)=\sum_{k=1}^{K}w_{k}\;\mathcal{L}_{k}(X_{k};\phi)," display="inline"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7.1" xref="S2.E1.m1.7.7.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1" xref="S2.E1.m1.7.7.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1.2.2" xref="S2.E1.m1.7.7.1.1.2.3.cmml"><mrow id="S2.E1.m1.7.7.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1.1.1.1.2" xref="S2.E1.m1.7.7.1.1.1.1.1.2.cmml"><munder id="S2.E1.m1.7.7.1.1.1.1.1.2.1" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1.cmml"><mi id="S2.E1.m1.7.7.1.1.1.1.1.2.1.2" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1.2.cmml">min</mi><mi id="S2.E1.m1.7.7.1.1.1.1.1.2.1.3" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1.3.cmml">ϕ</mi></munder><mo lspace="0.167em" id="S2.E1.m1.7.7.1.1.1.1.1.2a" xref="S2.E1.m1.7.7.1.1.1.1.1.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.1.1.1.1.1.2.2" xref="S2.E1.m1.7.7.1.1.1.1.1.2.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.1.1.1.3.2" xref="S2.E1.m1.7.7.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.1.1.1.3.2.1" xref="S2.E1.m1.7.7.1.1.1.1.1.3.1.cmml">(</mo><mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">X</mi><mo id="S2.E1.m1.7.7.1.1.1.1.1.3.2.2" xref="S2.E1.m1.7.7.1.1.1.1.1.3.1.cmml">;</mo><mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">ϕ</mi><mo stretchy="false" id="S2.E1.m1.7.7.1.1.1.1.1.3.2.3" xref="S2.E1.m1.7.7.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mspace width="1em" id="S2.E1.m1.7.7.1.1.2.2.3" xref="S2.E1.m1.7.7.1.1.2.3.cmml"></mspace><mtext id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6a.cmml">with</mtext><mspace width="1em" id="S2.E1.m1.7.7.1.1.2.2.4" xref="S2.E1.m1.7.7.1.1.2.3.cmml"></mspace><mrow id="S2.E1.m1.7.7.1.1.2.2.2" xref="S2.E1.m1.7.7.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.1.1.2.2.2.2" xref="S2.E1.m1.7.7.1.1.2.2.2.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.2.2.2.1" xref="S2.E1.m1.7.7.1.1.2.2.2.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.2.2.2.3.2" xref="S2.E1.m1.7.7.1.1.2.2.2.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.2.2.2.3.2.1" xref="S2.E1.m1.7.7.1.1.2.2.2.3.1.cmml">(</mo><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">X</mi><mo id="S2.E1.m1.7.7.1.1.2.2.2.3.2.2" xref="S2.E1.m1.7.7.1.1.2.2.2.3.1.cmml">;</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">ϕ</mi><mo stretchy="false" id="S2.E1.m1.7.7.1.1.2.2.2.3.2.3" xref="S2.E1.m1.7.7.1.1.2.2.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.1.1.4" xref="S2.E1.m1.7.7.1.1.4.cmml">=</mo><mrow id="S2.E1.m1.7.7.1.1.3" xref="S2.E1.m1.7.7.1.1.3.cmml"><mstyle displaystyle="true" id="S2.E1.m1.7.7.1.1.3.2" xref="S2.E1.m1.7.7.1.1.3.2.cmml"><munderover id="S2.E1.m1.7.7.1.1.3.2a" xref="S2.E1.m1.7.7.1.1.3.2.cmml"><mo movablelimits="false" id="S2.E1.m1.7.7.1.1.3.2.2.2" xref="S2.E1.m1.7.7.1.1.3.2.2.2.cmml">∑</mo><mrow id="S2.E1.m1.7.7.1.1.3.2.2.3" xref="S2.E1.m1.7.7.1.1.3.2.2.3.cmml"><mi id="S2.E1.m1.7.7.1.1.3.2.2.3.2" xref="S2.E1.m1.7.7.1.1.3.2.2.3.2.cmml">k</mi><mo id="S2.E1.m1.7.7.1.1.3.2.2.3.1" xref="S2.E1.m1.7.7.1.1.3.2.2.3.1.cmml">=</mo><mn id="S2.E1.m1.7.7.1.1.3.2.2.3.3" xref="S2.E1.m1.7.7.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.7.7.1.1.3.2.3" xref="S2.E1.m1.7.7.1.1.3.2.3.cmml">K</mi></munderover></mstyle><mrow id="S2.E1.m1.7.7.1.1.3.1" xref="S2.E1.m1.7.7.1.1.3.1.cmml"><msub id="S2.E1.m1.7.7.1.1.3.1.3" xref="S2.E1.m1.7.7.1.1.3.1.3.cmml"><mi id="S2.E1.m1.7.7.1.1.3.1.3.2" xref="S2.E1.m1.7.7.1.1.3.1.3.2.cmml">w</mi><mi id="S2.E1.m1.7.7.1.1.3.1.3.3" xref="S2.E1.m1.7.7.1.1.3.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.3.1.2" xref="S2.E1.m1.7.7.1.1.3.1.2.cmml">​</mo><msub id="S2.E1.m1.7.7.1.1.3.1.4" xref="S2.E1.m1.7.7.1.1.3.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.1.1.3.1.4.2" xref="S2.E1.m1.7.7.1.1.3.1.4.2.cmml">ℒ</mi><mi id="S2.E1.m1.7.7.1.1.3.1.4.3" xref="S2.E1.m1.7.7.1.1.3.1.4.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.3.1.2a" xref="S2.E1.m1.7.7.1.1.3.1.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.3.1.1.1" xref="S2.E1.m1.7.7.1.1.3.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.3.1.1.1.2" xref="S2.E1.m1.7.7.1.1.3.1.1.2.cmml">(</mo><msub id="S2.E1.m1.7.7.1.1.3.1.1.1.1" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1.cmml"><mi id="S2.E1.m1.7.7.1.1.3.1.1.1.1.2" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1.2.cmml">X</mi><mi id="S2.E1.m1.7.7.1.1.3.1.1.1.1.3" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1.3.cmml">k</mi></msub><mo id="S2.E1.m1.7.7.1.1.3.1.1.1.3" xref="S2.E1.m1.7.7.1.1.3.1.1.2.cmml">;</mo><mi id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml">ϕ</mi><mo stretchy="false" id="S2.E1.m1.7.7.1.1.3.1.1.1.4" xref="S2.E1.m1.7.7.1.1.3.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.1.2" xref="S2.E1.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.1.1.cmml" xref="S2.E1.m1.7.7.1"><eq id="S2.E1.m1.7.7.1.1.4.cmml" xref="S2.E1.m1.7.7.1.1.4"></eq><list id="S2.E1.m1.7.7.1.1.2.3.cmml" xref="S2.E1.m1.7.7.1.1.2.2"><apply id="S2.E1.m1.7.7.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1"><times id="S2.E1.m1.7.7.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.1"></times><apply id="S2.E1.m1.7.7.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2"><apply id="S2.E1.m1.7.7.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.1.1.1.2.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1">subscript</csymbol><min id="S2.E1.m1.7.7.1.1.1.1.1.2.1.2.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1.2"></min><ci id="S2.E1.m1.7.7.1.1.1.1.1.2.1.3.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2.1.3">italic-ϕ</ci></apply><ci id="S2.E1.m1.7.7.1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.2.2">ℒ</ci></apply><list id="S2.E1.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.3.2"><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">𝑋</ci><ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">italic-ϕ</ci></list></apply><ci id="S2.E1.m1.6.6a.cmml" xref="S2.E1.m1.6.6"><mtext id="S2.E1.m1.6.6.cmml" xref="S2.E1.m1.6.6">with</mtext></ci><apply id="S2.E1.m1.7.7.1.1.2.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.2.2"><times id="S2.E1.m1.7.7.1.1.2.2.2.1.cmml" xref="S2.E1.m1.7.7.1.1.2.2.2.1"></times><ci id="S2.E1.m1.7.7.1.1.2.2.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.2.2.2">ℒ</ci><list id="S2.E1.m1.7.7.1.1.2.2.2.3.1.cmml" xref="S2.E1.m1.7.7.1.1.2.2.2.3.2"><ci id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3">𝑋</ci><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">italic-ϕ</ci></list></apply></list><apply id="S2.E1.m1.7.7.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.3"><apply id="S2.E1.m1.7.7.1.1.3.2.cmml" xref="S2.E1.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.3.2.1.cmml" xref="S2.E1.m1.7.7.1.1.3.2">superscript</csymbol><apply id="S2.E1.m1.7.7.1.1.3.2.2.cmml" xref="S2.E1.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.3.2.2.1.cmml" xref="S2.E1.m1.7.7.1.1.3.2">subscript</csymbol><sum id="S2.E1.m1.7.7.1.1.3.2.2.2.cmml" xref="S2.E1.m1.7.7.1.1.3.2.2.2"></sum><apply id="S2.E1.m1.7.7.1.1.3.2.2.3.cmml" xref="S2.E1.m1.7.7.1.1.3.2.2.3"><eq id="S2.E1.m1.7.7.1.1.3.2.2.3.1.cmml" xref="S2.E1.m1.7.7.1.1.3.2.2.3.1"></eq><ci id="S2.E1.m1.7.7.1.1.3.2.2.3.2.cmml" xref="S2.E1.m1.7.7.1.1.3.2.2.3.2">𝑘</ci><cn type="integer" id="S2.E1.m1.7.7.1.1.3.2.2.3.3.cmml" xref="S2.E1.m1.7.7.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.7.7.1.1.3.2.3.cmml" xref="S2.E1.m1.7.7.1.1.3.2.3">𝐾</ci></apply><apply id="S2.E1.m1.7.7.1.1.3.1.cmml" xref="S2.E1.m1.7.7.1.1.3.1"><times id="S2.E1.m1.7.7.1.1.3.1.2.cmml" xref="S2.E1.m1.7.7.1.1.3.1.2"></times><apply id="S2.E1.m1.7.7.1.1.3.1.3.cmml" xref="S2.E1.m1.7.7.1.1.3.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.3.1.3.1.cmml" xref="S2.E1.m1.7.7.1.1.3.1.3">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.3.1.3.2.cmml" xref="S2.E1.m1.7.7.1.1.3.1.3.2">𝑤</ci><ci id="S2.E1.m1.7.7.1.1.3.1.3.3.cmml" xref="S2.E1.m1.7.7.1.1.3.1.3.3">𝑘</ci></apply><apply id="S2.E1.m1.7.7.1.1.3.1.4.cmml" xref="S2.E1.m1.7.7.1.1.3.1.4"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.3.1.4.1.cmml" xref="S2.E1.m1.7.7.1.1.3.1.4">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.3.1.4.2.cmml" xref="S2.E1.m1.7.7.1.1.3.1.4.2">ℒ</ci><ci id="S2.E1.m1.7.7.1.1.3.1.4.3.cmml" xref="S2.E1.m1.7.7.1.1.3.1.4.3">𝑘</ci></apply><list id="S2.E1.m1.7.7.1.1.3.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.3.1.1.1"><apply id="S2.E1.m1.7.7.1.1.3.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.3.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.3.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1.2">𝑋</ci><ci id="S2.E1.m1.7.7.1.1.3.1.1.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.3.1.1.1.1.3">𝑘</ci></apply><ci id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5">italic-ϕ</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">\displaystyle\min_{\phi}\mathcal{L}(X;\phi)\quad\text{with}\quad\mathcal{L}(X;\phi)=\sum_{k=1}^{K}w_{k}\;\mathcal{L}_{k}(X_{k};\phi),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS0.SSS0.Px2.p1.11" class="ltx_p">where <math id="S2.SS0.SSS0.Px2.p1.9.m1.1" class="ltx_Math" alttext="w_{k}&gt;0" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.9.m1.1a"><mrow id="S2.SS0.SSS0.Px2.p1.9.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.2.cmml">w</mi><mi id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.3" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.3.cmml">k</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.1.cmml">&gt;</mo><mn id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.9.m1.1b"><apply id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1"><gt id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.1"></gt><apply id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.2">𝑤</ci><ci id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.2.3">𝑘</ci></apply><cn type="integer" id="S2.SS0.SSS0.Px2.p1.9.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.9.m1.1c">w_{k}&gt;0</annotation></semantics></math> denotes the weight coefficients for each client <math id="S2.SS0.SSS0.Px2.p1.10.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.10.m2.1a"><mi id="S2.SS0.SSS0.Px2.p1.10.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.10.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.10.m2.1b"><ci id="S2.SS0.SSS0.Px2.p1.10.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.10.m2.1c">k</annotation></semantics></math>, respectively. Note that the local data <math id="S2.SS0.SSS0.Px2.p1.11.m3.1" class="ltx_Math" alttext="X_{k}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.11.m3.1a"><msub id="S2.SS0.SSS0.Px2.p1.11.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1.2.cmml">X</mi><mi id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.11.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1.2">𝑋</ci><ci id="S2.SS0.SSS0.Px2.p1.11.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.11.m3.1c">X_{k}</annotation></semantics></math> is never shared among the different clients. Only the model weight differences are accumulated and aggregated on the server as shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ Client-Server-Based Federated Learning: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.12.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Client-server federated learning with <span id="alg1.13.2" class="ltx_text ltx_font_typewriter">FederatedAveraging</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. <math id="alg1.5.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.5.m1.1b"><mi id="alg1.5.m1.1.1" xref="alg1.5.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.5.m1.1c"><ci id="alg1.5.m1.1.1.cmml" xref="alg1.5.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m1.1d">T</annotation></semantics></math> is the number of federated learning rounds and <math id="alg1.6.m2.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="alg1.6.m2.1b"><msub id="alg1.6.m2.1.1" xref="alg1.6.m2.1.1.cmml"><mi id="alg1.6.m2.1.1.2" xref="alg1.6.m2.1.1.2.cmml">n</mi><mi id="alg1.6.m2.1.1.3" xref="alg1.6.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.6.m2.1c"><apply id="alg1.6.m2.1.1.cmml" xref="alg1.6.m2.1.1"><csymbol cd="ambiguous" id="alg1.6.m2.1.1.1.cmml" xref="alg1.6.m2.1.1">subscript</csymbol><ci id="alg1.6.m2.1.1.2.cmml" xref="alg1.6.m2.1.1.2">𝑛</ci><ci id="alg1.6.m2.1.1.3.cmml" xref="alg1.6.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m2.1d">n_{k}</annotation></semantics></math> is the number of <span id="alg1.14.3" class="ltx_text ltx_font_typewriter">LocalTraining</span> iterations minimizing the local loss <math id="alg1.7.m3.3" class="ltx_Math" alttext="\mathcal{L}_{k}(X_{k};\phi^{(t-1)})" display="inline"><semantics id="alg1.7.m3.3b"><mrow id="alg1.7.m3.3.3" xref="alg1.7.m3.3.3.cmml"><msub id="alg1.7.m3.3.3.4" xref="alg1.7.m3.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.7.m3.3.3.4.2" xref="alg1.7.m3.3.3.4.2.cmml">ℒ</mi><mi id="alg1.7.m3.3.3.4.3" xref="alg1.7.m3.3.3.4.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="alg1.7.m3.3.3.3" xref="alg1.7.m3.3.3.3.cmml">​</mo><mrow id="alg1.7.m3.3.3.2.2" xref="alg1.7.m3.3.3.2.3.cmml"><mo stretchy="false" id="alg1.7.m3.3.3.2.2.3" xref="alg1.7.m3.3.3.2.3.cmml">(</mo><msub id="alg1.7.m3.2.2.1.1.1" xref="alg1.7.m3.2.2.1.1.1.cmml"><mi id="alg1.7.m3.2.2.1.1.1.2" xref="alg1.7.m3.2.2.1.1.1.2.cmml">X</mi><mi id="alg1.7.m3.2.2.1.1.1.3" xref="alg1.7.m3.2.2.1.1.1.3.cmml">k</mi></msub><mo id="alg1.7.m3.3.3.2.2.4" xref="alg1.7.m3.3.3.2.3.cmml">;</mo><msup id="alg1.7.m3.3.3.2.2.2" xref="alg1.7.m3.3.3.2.2.2.cmml"><mi id="alg1.7.m3.3.3.2.2.2.2" xref="alg1.7.m3.3.3.2.2.2.2.cmml">ϕ</mi><mrow id="alg1.7.m3.1.1.1.1" xref="alg1.7.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.7.m3.1.1.1.1.2" xref="alg1.7.m3.1.1.1.1.1.cmml">(</mo><mrow id="alg1.7.m3.1.1.1.1.1" xref="alg1.7.m3.1.1.1.1.1.cmml"><mi id="alg1.7.m3.1.1.1.1.1.2" xref="alg1.7.m3.1.1.1.1.1.2.cmml">t</mi><mo id="alg1.7.m3.1.1.1.1.1.1" xref="alg1.7.m3.1.1.1.1.1.1.cmml">−</mo><mn id="alg1.7.m3.1.1.1.1.1.3" xref="alg1.7.m3.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="alg1.7.m3.1.1.1.1.3" xref="alg1.7.m3.1.1.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="alg1.7.m3.3.3.2.2.5" xref="alg1.7.m3.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.m3.3c"><apply id="alg1.7.m3.3.3.cmml" xref="alg1.7.m3.3.3"><times id="alg1.7.m3.3.3.3.cmml" xref="alg1.7.m3.3.3.3"></times><apply id="alg1.7.m3.3.3.4.cmml" xref="alg1.7.m3.3.3.4"><csymbol cd="ambiguous" id="alg1.7.m3.3.3.4.1.cmml" xref="alg1.7.m3.3.3.4">subscript</csymbol><ci id="alg1.7.m3.3.3.4.2.cmml" xref="alg1.7.m3.3.3.4.2">ℒ</ci><ci id="alg1.7.m3.3.3.4.3.cmml" xref="alg1.7.m3.3.3.4.3">𝑘</ci></apply><list id="alg1.7.m3.3.3.2.3.cmml" xref="alg1.7.m3.3.3.2.2"><apply id="alg1.7.m3.2.2.1.1.1.cmml" xref="alg1.7.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.7.m3.2.2.1.1.1.1.cmml" xref="alg1.7.m3.2.2.1.1.1">subscript</csymbol><ci id="alg1.7.m3.2.2.1.1.1.2.cmml" xref="alg1.7.m3.2.2.1.1.1.2">𝑋</ci><ci id="alg1.7.m3.2.2.1.1.1.3.cmml" xref="alg1.7.m3.2.2.1.1.1.3">𝑘</ci></apply><apply id="alg1.7.m3.3.3.2.2.2.cmml" xref="alg1.7.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.7.m3.3.3.2.2.2.1.cmml" xref="alg1.7.m3.3.3.2.2.2">superscript</csymbol><ci id="alg1.7.m3.3.3.2.2.2.2.cmml" xref="alg1.7.m3.3.3.2.2.2.2">italic-ϕ</ci><apply id="alg1.7.m3.1.1.1.1.1.cmml" xref="alg1.7.m3.1.1.1.1"><minus id="alg1.7.m3.1.1.1.1.1.1.cmml" xref="alg1.7.m3.1.1.1.1.1.1"></minus><ci id="alg1.7.m3.1.1.1.1.1.2.cmml" xref="alg1.7.m3.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="alg1.7.m3.1.1.1.1.1.3.cmml" xref="alg1.7.m3.1.1.1.1.1.3">1</cn></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m3.3d">\mathcal{L}_{k}(X_{k};\phi^{(t-1)})</annotation></semantics></math> for a client <math id="alg1.8.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.8.m4.1b"><mi id="alg1.8.m4.1.1" xref="alg1.8.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.8.m4.1c"><ci id="alg1.8.m4.1.1.cmml" xref="alg1.8.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m4.1d">k</annotation></semantics></math>.</figcaption>
<div id="alg1.15" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text ltx_font_bold" style="font-size:70%;">procedure</span><span id="alg1.l1.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l1.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">Federated Learning</span><span id="alg1.l1.5" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg1.l2.2" class="ltx_text" style="font-size:70%;">    Initialize weights: </span><math id="alg1.l2.m1.1" class="ltx_Math" alttext="\phi^{(0)}" display="inline"><semantics id="alg1.l2.m1.1a"><msup id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><mi mathsize="70%" id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml">ϕ</mi><mrow id="alg1.l2.m1.1.1.1.3" xref="alg1.l2.m1.1.2.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l2.m1.1.1.1.3.1" xref="alg1.l2.m1.1.2.cmml">(</mo><mn mathsize="70%" id="alg1.l2.m1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.cmml">0</mn><mo maxsize="70%" minsize="70%" id="alg1.l2.m1.1.1.1.3.2" xref="alg1.l2.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2">superscript</csymbol><ci id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2">italic-ϕ</ci><cn type="integer" id="alg1.l2.m1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\phi^{(0)}</annotation></semantics></math><span id="alg1.l2.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l3.3" class="ltx_text ltx_font_bold" style="font-size:70%;">for</span><span id="alg1.l3.4" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l3.m1.1" class="ltx_Math" alttext="t\leftarrow 1\cdots T" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">t</mi><mo mathsize="70%" stretchy="false" id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">←</mo><mrow id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mn mathsize="70%" id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" mathvariant="normal" id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1a" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.3.4" xref="alg1.l3.m1.1.1.3.4.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">←</ci><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑡</ci><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><times id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3.1"></times><cn type="integer" id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3.2">1</cn><ci id="alg1.l3.m1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.3.3">⋯</ci><ci id="alg1.l3.m1.1.1.3.4.cmml" xref="alg1.l3.m1.1.1.3.4">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">t\leftarrow 1\cdots T</annotation></semantics></math><span id="alg1.l3.5" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l3.6" class="ltx_text ltx_font_bold" style="font-size:70%;">do</span><span id="alg1.l3.7" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.2.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg1.l4.3" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l4.4" class="ltx_text ltx_font_bold" style="font-size:70%;">for</span><span id="alg1.l4.5" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l4.m1.1" class="ltx_Math" alttext="client\ k\leftarrow 1\cdots K" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mrow id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.2.1" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.2.1a" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.4" xref="alg1.l4.m1.1.1.2.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.2.1b" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.5" xref="alg1.l4.m1.1.1.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.2.1c" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.6" xref="alg1.l4.m1.1.1.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.2.1d" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.7" xref="alg1.l4.m1.1.1.2.7.cmml">t</mi><mo lspace="0.350em" rspace="0em" id="alg1.l4.m1.1.1.2.1e" xref="alg1.l4.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.2.8" xref="alg1.l4.m1.1.1.2.8.cmml">k</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mrow id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"><mn mathsize="70%" id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.1" xref="alg1.l4.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" mathvariant="normal" id="alg1.l4.m1.1.1.3.3" xref="alg1.l4.m1.1.1.3.3.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.1a" xref="alg1.l4.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.3.4" xref="alg1.l4.m1.1.1.3.4.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><times id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2.1"></times><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑐</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑙</ci><ci id="alg1.l4.m1.1.1.2.4.cmml" xref="alg1.l4.m1.1.1.2.4">𝑖</ci><ci id="alg1.l4.m1.1.1.2.5.cmml" xref="alg1.l4.m1.1.1.2.5">𝑒</ci><ci id="alg1.l4.m1.1.1.2.6.cmml" xref="alg1.l4.m1.1.1.2.6">𝑛</ci><ci id="alg1.l4.m1.1.1.2.7.cmml" xref="alg1.l4.m1.1.1.2.7">𝑡</ci><ci id="alg1.l4.m1.1.1.2.8.cmml" xref="alg1.l4.m1.1.1.2.8">𝑘</ci></apply><apply id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3"><times id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3.1"></times><cn type="integer" id="alg1.l4.m1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.3.2">1</cn><ci id="alg1.l4.m1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.3.3">⋯</ci><ci id="alg1.l4.m1.1.1.3.4.cmml" xref="alg1.l4.m1.1.1.3.4">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">client\ k\leftarrow 1\cdots K</annotation></semantics></math><span id="alg1.l4.6" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l4.7" class="ltx_text ltx_font_bold" style="font-size:70%;">do</span><span id="alg1.l4.8" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l4.1" class="ltx_text" style="font-size:70%;float:right;"><math id="alg1.l4.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l4.1.m1.1a"><mo id="alg1.l4.1.m1.1.1" xref="alg1.l4.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l4.1.m1.1b"><ci id="alg1.l4.1.m1.1.1.cmml" xref="alg1.l4.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.1.m1.1c">\triangleright</annotation></semantics></math>  <span id="alg1.l4.1.1" class="ltx_text ltx_font_italic">Executed in parallel</span>
</span>
</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg1.l5.2" class="ltx_text" style="font-size:70%;">          Send </span><math id="alg1.l5.m1.1" class="ltx_Math" alttext="\phi^{(t-1)}" display="inline"><semantics id="alg1.l5.m1.1a"><msup id="alg1.l5.m1.1.2" xref="alg1.l5.m1.1.2.cmml"><mi mathsize="70%" id="alg1.l5.m1.1.2.2" xref="alg1.l5.m1.1.2.2.cmml">ϕ</mi><mrow id="alg1.l5.m1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l5.m1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l5.m1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.cmml"><mi mathsize="70%" id="alg1.l5.m1.1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.1.1.2.cmml">t</mi><mo mathsize="70%" id="alg1.l5.m1.1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.1.cmml">−</mo><mn mathsize="70%" id="alg1.l5.m1.1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo maxsize="70%" minsize="70%" id="alg1.l5.m1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.2.cmml" xref="alg1.l5.m1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.1.2.1.cmml" xref="alg1.l5.m1.1.2">superscript</csymbol><ci id="alg1.l5.m1.1.2.2.cmml" xref="alg1.l5.m1.1.2.2">italic-ϕ</ci><apply id="alg1.l5.m1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1"><minus id="alg1.l5.m1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1"></minus><ci id="alg1.l5.m1.1.1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.1.1.1.1.1.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">\phi^{(t-1)}</annotation></semantics></math><span id="alg1.l5.3" class="ltx_text" style="font-size:70%;"> to client </span><math id="alg1.l5.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l5.m2.1a"><mi mathsize="70%" id="alg1.l5.m2.1.1" xref="alg1.l5.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b"><ci id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.1c">k</annotation></semantics></math><span id="alg1.l5.4" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.2" class="ltx_text" style="font-size:70%;">          Receive </span><math id="alg1.l6.m1.3" class="ltx_Math" alttext="(\Delta\phi_{k}^{(t)},n_{k})" display="inline"><semantics id="alg1.l6.m1.3a"><mrow id="alg1.l6.m1.3.3.2" xref="alg1.l6.m1.3.3.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l6.m1.3.3.2.3" xref="alg1.l6.m1.3.3.3.cmml">(</mo><mrow id="alg1.l6.m1.2.2.1.1" xref="alg1.l6.m1.2.2.1.1.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l6.m1.2.2.1.1.2" xref="alg1.l6.m1.2.2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.2.2.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.cmml">​</mo><msubsup id="alg1.l6.m1.2.2.1.1.3" xref="alg1.l6.m1.2.2.1.1.3.cmml"><mi mathsize="70%" id="alg1.l6.m1.2.2.1.1.3.2.2" xref="alg1.l6.m1.2.2.1.1.3.2.2.cmml">ϕ</mi><mi mathsize="70%" id="alg1.l6.m1.2.2.1.1.3.2.3" xref="alg1.l6.m1.2.2.1.1.3.2.3.cmml">k</mi><mrow id="alg1.l6.m1.1.1.1.3" xref="alg1.l6.m1.2.2.1.1.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l6.m1.1.1.1.3.1" xref="alg1.l6.m1.2.2.1.1.3.cmml">(</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l6.m1.1.1.1.3.2" xref="alg1.l6.m1.2.2.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo mathsize="70%" id="alg1.l6.m1.3.3.2.4" xref="alg1.l6.m1.3.3.3.cmml">,</mo><msub id="alg1.l6.m1.3.3.2.2" xref="alg1.l6.m1.3.3.2.2.cmml"><mi mathsize="70%" id="alg1.l6.m1.3.3.2.2.2" xref="alg1.l6.m1.3.3.2.2.2.cmml">n</mi><mi mathsize="70%" id="alg1.l6.m1.3.3.2.2.3" xref="alg1.l6.m1.3.3.2.2.3.cmml">k</mi></msub><mo maxsize="70%" minsize="70%" id="alg1.l6.m1.3.3.2.5" xref="alg1.l6.m1.3.3.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.3b"><interval closure="open" id="alg1.l6.m1.3.3.3.cmml" xref="alg1.l6.m1.3.3.2"><apply id="alg1.l6.m1.2.2.1.1.cmml" xref="alg1.l6.m1.2.2.1.1"><times id="alg1.l6.m1.2.2.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1"></times><ci id="alg1.l6.m1.2.2.1.1.2.cmml" xref="alg1.l6.m1.2.2.1.1.2">Δ</ci><apply id="alg1.l6.m1.2.2.1.1.3.cmml" xref="alg1.l6.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.1.1.3.1.cmml" xref="alg1.l6.m1.2.2.1.1.3">superscript</csymbol><apply id="alg1.l6.m1.2.2.1.1.3.2.cmml" xref="alg1.l6.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.1.1.3.2.1.cmml" xref="alg1.l6.m1.2.2.1.1.3">subscript</csymbol><ci id="alg1.l6.m1.2.2.1.1.3.2.2.cmml" xref="alg1.l6.m1.2.2.1.1.3.2.2">italic-ϕ</ci><ci id="alg1.l6.m1.2.2.1.1.3.2.3.cmml" xref="alg1.l6.m1.2.2.1.1.3.2.3">𝑘</ci></apply><ci id="alg1.l6.m1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1">𝑡</ci></apply></apply><apply id="alg1.l6.m1.3.3.2.2.cmml" xref="alg1.l6.m1.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.3.3.2.2.1.cmml" xref="alg1.l6.m1.3.3.2.2">subscript</csymbol><ci id="alg1.l6.m1.3.3.2.2.2.cmml" xref="alg1.l6.m1.3.3.2.2.2">𝑛</ci><ci id="alg1.l6.m1.3.3.2.2.3.cmml" xref="alg1.l6.m1.3.3.2.2.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.3c">(\Delta\phi_{k}^{(t)},n_{k})</annotation></semantics></math><span id="alg1.l6.3" class="ltx_text" style="font-size:70%;"> from client’s </span><math id="alg1.l6.m2.2" class="ltx_Math" alttext="\texttt{LocalTraining}(\phi^{(t-1)})" display="inline"><semantics id="alg1.l6.m2.2a"><mrow id="alg1.l6.m2.2.2" xref="alg1.l6.m2.2.2.cmml"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="alg1.l6.m2.2.2.3" xref="alg1.l6.m2.2.2.3a.cmml">LocalTraining</mtext><mo lspace="0em" rspace="0em" id="alg1.l6.m2.2.2.2" xref="alg1.l6.m2.2.2.2.cmml">​</mo><mrow id="alg1.l6.m2.2.2.1.1" xref="alg1.l6.m2.2.2.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l6.m2.2.2.1.1.2" xref="alg1.l6.m2.2.2.1.1.1.cmml">(</mo><msup id="alg1.l6.m2.2.2.1.1.1" xref="alg1.l6.m2.2.2.1.1.1.cmml"><mi mathsize="70%" id="alg1.l6.m2.2.2.1.1.1.2" xref="alg1.l6.m2.2.2.1.1.1.2.cmml">ϕ</mi><mrow id="alg1.l6.m2.1.1.1.1" xref="alg1.l6.m2.1.1.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l6.m2.1.1.1.1.2" xref="alg1.l6.m2.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l6.m2.1.1.1.1.1" xref="alg1.l6.m2.1.1.1.1.1.cmml"><mi mathsize="70%" id="alg1.l6.m2.1.1.1.1.1.2" xref="alg1.l6.m2.1.1.1.1.1.2.cmml">t</mi><mo mathsize="70%" id="alg1.l6.m2.1.1.1.1.1.1" xref="alg1.l6.m2.1.1.1.1.1.1.cmml">−</mo><mn mathsize="70%" id="alg1.l6.m2.1.1.1.1.1.3" xref="alg1.l6.m2.1.1.1.1.1.3.cmml">1</mn></mrow><mo maxsize="70%" minsize="70%" id="alg1.l6.m2.1.1.1.1.3" xref="alg1.l6.m2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo maxsize="70%" minsize="70%" id="alg1.l6.m2.2.2.1.1.3" xref="alg1.l6.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.2b"><apply id="alg1.l6.m2.2.2.cmml" xref="alg1.l6.m2.2.2"><times id="alg1.l6.m2.2.2.2.cmml" xref="alg1.l6.m2.2.2.2"></times><ci id="alg1.l6.m2.2.2.3a.cmml" xref="alg1.l6.m2.2.2.3"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="alg1.l6.m2.2.2.3.cmml" xref="alg1.l6.m2.2.2.3">LocalTraining</mtext></ci><apply id="alg1.l6.m2.2.2.1.1.1.cmml" xref="alg1.l6.m2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l6.m2.2.2.1.1.1.1.cmml" xref="alg1.l6.m2.2.2.1.1">superscript</csymbol><ci id="alg1.l6.m2.2.2.1.1.1.2.cmml" xref="alg1.l6.m2.2.2.1.1.1.2">italic-ϕ</ci><apply id="alg1.l6.m2.1.1.1.1.1.cmml" xref="alg1.l6.m2.1.1.1.1"><minus id="alg1.l6.m2.1.1.1.1.1.1.cmml" xref="alg1.l6.m2.1.1.1.1.1.1"></minus><ci id="alg1.l6.m2.1.1.1.1.1.2.cmml" xref="alg1.l6.m2.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="alg1.l6.m2.1.1.1.1.1.3.cmml" xref="alg1.l6.m2.1.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.2c">\texttt{LocalTraining}(\phi^{(t-1)})</annotation></semantics></math><span id="alg1.l6.4" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg1.l7.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l7.3" class="ltx_text ltx_font_bold" style="font-size:70%;">end</span><span id="alg1.l7.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l7.5" class="ltx_text ltx_font_bold" style="font-size:70%;">for</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text" style="font-size:70%;">       </span><math id="alg1.l8.m1.3" class="ltx_Math" alttext="\phi_{k}^{(t)}\leftarrow\phi^{(t-1)}+\Delta\phi_{k}^{(t)}" display="inline"><semantics id="alg1.l8.m1.3a"><mrow id="alg1.l8.m1.3.4" xref="alg1.l8.m1.3.4.cmml"><msubsup id="alg1.l8.m1.3.4.2" xref="alg1.l8.m1.3.4.2.cmml"><mi mathsize="70%" id="alg1.l8.m1.3.4.2.2.2" xref="alg1.l8.m1.3.4.2.2.2.cmml">ϕ</mi><mi mathsize="70%" id="alg1.l8.m1.3.4.2.2.3" xref="alg1.l8.m1.3.4.2.2.3.cmml">k</mi><mrow id="alg1.l8.m1.1.1.1.3" xref="alg1.l8.m1.3.4.2.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.1.1.1.3.1" xref="alg1.l8.m1.3.4.2.cmml">(</mo><mi mathsize="70%" id="alg1.l8.m1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.1.1.1.3.2" xref="alg1.l8.m1.3.4.2.cmml">)</mo></mrow></msubsup><mo mathsize="70%" stretchy="false" id="alg1.l8.m1.3.4.1" xref="alg1.l8.m1.3.4.1.cmml">←</mo><mrow id="alg1.l8.m1.3.4.3" xref="alg1.l8.m1.3.4.3.cmml"><msup id="alg1.l8.m1.3.4.3.2" xref="alg1.l8.m1.3.4.3.2.cmml"><mi mathsize="70%" id="alg1.l8.m1.3.4.3.2.2" xref="alg1.l8.m1.3.4.3.2.2.cmml">ϕ</mi><mrow id="alg1.l8.m1.2.2.1.1" xref="alg1.l8.m1.2.2.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.2.2.1.1.2" xref="alg1.l8.m1.2.2.1.1.1.cmml">(</mo><mrow id="alg1.l8.m1.2.2.1.1.1" xref="alg1.l8.m1.2.2.1.1.1.cmml"><mi mathsize="70%" id="alg1.l8.m1.2.2.1.1.1.2" xref="alg1.l8.m1.2.2.1.1.1.2.cmml">t</mi><mo mathsize="70%" id="alg1.l8.m1.2.2.1.1.1.1" xref="alg1.l8.m1.2.2.1.1.1.1.cmml">−</mo><mn mathsize="70%" id="alg1.l8.m1.2.2.1.1.1.3" xref="alg1.l8.m1.2.2.1.1.1.3.cmml">1</mn></mrow><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.2.2.1.1.3" xref="alg1.l8.m1.2.2.1.1.1.cmml">)</mo></mrow></msup><mo mathsize="70%" id="alg1.l8.m1.3.4.3.1" xref="alg1.l8.m1.3.4.3.1.cmml">+</mo><mrow id="alg1.l8.m1.3.4.3.3" xref="alg1.l8.m1.3.4.3.3.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l8.m1.3.4.3.3.2" xref="alg1.l8.m1.3.4.3.3.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.3.4.3.3.1" xref="alg1.l8.m1.3.4.3.3.1.cmml">​</mo><msubsup id="alg1.l8.m1.3.4.3.3.3" xref="alg1.l8.m1.3.4.3.3.3.cmml"><mi mathsize="70%" id="alg1.l8.m1.3.4.3.3.3.2.2" xref="alg1.l8.m1.3.4.3.3.3.2.2.cmml">ϕ</mi><mi mathsize="70%" id="alg1.l8.m1.3.4.3.3.3.2.3" xref="alg1.l8.m1.3.4.3.3.3.2.3.cmml">k</mi><mrow id="alg1.l8.m1.3.3.1.3" xref="alg1.l8.m1.3.4.3.3.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.3.3.1.3.1" xref="alg1.l8.m1.3.4.3.3.3.cmml">(</mo><mi mathsize="70%" id="alg1.l8.m1.3.3.1.1" xref="alg1.l8.m1.3.3.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l8.m1.3.3.1.3.2" xref="alg1.l8.m1.3.4.3.3.3.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.3b"><apply id="alg1.l8.m1.3.4.cmml" xref="alg1.l8.m1.3.4"><ci id="alg1.l8.m1.3.4.1.cmml" xref="alg1.l8.m1.3.4.1">←</ci><apply id="alg1.l8.m1.3.4.2.cmml" xref="alg1.l8.m1.3.4.2"><csymbol cd="ambiguous" id="alg1.l8.m1.3.4.2.1.cmml" xref="alg1.l8.m1.3.4.2">superscript</csymbol><apply id="alg1.l8.m1.3.4.2.2.cmml" xref="alg1.l8.m1.3.4.2"><csymbol cd="ambiguous" id="alg1.l8.m1.3.4.2.2.1.cmml" xref="alg1.l8.m1.3.4.2">subscript</csymbol><ci id="alg1.l8.m1.3.4.2.2.2.cmml" xref="alg1.l8.m1.3.4.2.2.2">italic-ϕ</ci><ci id="alg1.l8.m1.3.4.2.2.3.cmml" xref="alg1.l8.m1.3.4.2.2.3">𝑘</ci></apply><ci id="alg1.l8.m1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1">𝑡</ci></apply><apply id="alg1.l8.m1.3.4.3.cmml" xref="alg1.l8.m1.3.4.3"><plus id="alg1.l8.m1.3.4.3.1.cmml" xref="alg1.l8.m1.3.4.3.1"></plus><apply id="alg1.l8.m1.3.4.3.2.cmml" xref="alg1.l8.m1.3.4.3.2"><csymbol cd="ambiguous" id="alg1.l8.m1.3.4.3.2.1.cmml" xref="alg1.l8.m1.3.4.3.2">superscript</csymbol><ci id="alg1.l8.m1.3.4.3.2.2.cmml" xref="alg1.l8.m1.3.4.3.2.2">italic-ϕ</ci><apply id="alg1.l8.m1.2.2.1.1.1.cmml" xref="alg1.l8.m1.2.2.1.1"><minus id="alg1.l8.m1.2.2.1.1.1.1.cmml" xref="alg1.l8.m1.2.2.1.1.1.1"></minus><ci id="alg1.l8.m1.2.2.1.1.1.2.cmml" xref="alg1.l8.m1.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="alg1.l8.m1.2.2.1.1.1.3.cmml" xref="alg1.l8.m1.2.2.1.1.1.3">1</cn></apply></apply><apply id="alg1.l8.m1.3.4.3.3.cmml" xref="alg1.l8.m1.3.4.3.3"><times id="alg1.l8.m1.3.4.3.3.1.cmml" xref="alg1.l8.m1.3.4.3.3.1"></times><ci id="alg1.l8.m1.3.4.3.3.2.cmml" xref="alg1.l8.m1.3.4.3.3.2">Δ</ci><apply id="alg1.l8.m1.3.4.3.3.3.cmml" xref="alg1.l8.m1.3.4.3.3.3"><csymbol cd="ambiguous" id="alg1.l8.m1.3.4.3.3.3.1.cmml" xref="alg1.l8.m1.3.4.3.3.3">superscript</csymbol><apply id="alg1.l8.m1.3.4.3.3.3.2.cmml" xref="alg1.l8.m1.3.4.3.3.3"><csymbol cd="ambiguous" id="alg1.l8.m1.3.4.3.3.3.2.1.cmml" xref="alg1.l8.m1.3.4.3.3.3">subscript</csymbol><ci id="alg1.l8.m1.3.4.3.3.3.2.2.cmml" xref="alg1.l8.m1.3.4.3.3.3.2.2">italic-ϕ</ci><ci id="alg1.l8.m1.3.4.3.3.3.2.3.cmml" xref="alg1.l8.m1.3.4.3.3.3.2.3">𝑘</ci></apply><ci id="alg1.l8.m1.3.3.1.1.cmml" xref="alg1.l8.m1.3.3.1.1">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.3c">\phi_{k}^{(t)}\leftarrow\phi^{(t-1)}+\Delta\phi_{k}^{(t)}</annotation></semantics></math><span id="alg1.l8.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.2" class="ltx_text" style="font-size:70%;">       </span><math id="alg1.l9.m1.3" class="ltx_Math" alttext="\phi^{(t)}\leftarrow\frac{1}{\sum_{k}{n_{k}}}\sum_{k}{(n_{k}\cdot\phi_{k}^{(t)})}" display="inline"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3" xref="alg1.l9.m1.3.3.cmml"><msup id="alg1.l9.m1.3.3.3" xref="alg1.l9.m1.3.3.3.cmml"><mi mathsize="70%" id="alg1.l9.m1.3.3.3.2" xref="alg1.l9.m1.3.3.3.2.cmml">ϕ</mi><mrow id="alg1.l9.m1.1.1.1.3" xref="alg1.l9.m1.3.3.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.1.1.1.3.1" xref="alg1.l9.m1.3.3.3.cmml">(</mo><mi mathsize="70%" id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.1.1.1.3.2" xref="alg1.l9.m1.3.3.3.cmml">)</mo></mrow></msup><mo mathsize="70%" stretchy="false" id="alg1.l9.m1.3.3.2" xref="alg1.l9.m1.3.3.2.cmml">←</mo><mrow id="alg1.l9.m1.3.3.1" xref="alg1.l9.m1.3.3.1.cmml"><mfrac id="alg1.l9.m1.3.3.1.3" xref="alg1.l9.m1.3.3.1.3.cmml"><mn mathsize="70%" id="alg1.l9.m1.3.3.1.3.2" xref="alg1.l9.m1.3.3.1.3.2.cmml">1</mn><mrow id="alg1.l9.m1.3.3.1.3.3" xref="alg1.l9.m1.3.3.1.3.3.cmml"><mstyle displaystyle="false" id="alg1.l9.m1.3.3.1.3.3.1" xref="alg1.l9.m1.3.3.1.3.3.1.cmml"><msub id="alg1.l9.m1.3.3.1.3.3.1a" xref="alg1.l9.m1.3.3.1.3.3.1.cmml"><mo maxsize="49%" minsize="49%" stretchy="true" id="alg1.l9.m1.3.3.1.3.3.1.2" xref="alg1.l9.m1.3.3.1.3.3.1.2.cmml">∑</mo><mi mathsize="70%" id="alg1.l9.m1.3.3.1.3.3.1.3" xref="alg1.l9.m1.3.3.1.3.3.1.3.cmml">k</mi></msub></mstyle><msub id="alg1.l9.m1.3.3.1.3.3.2" xref="alg1.l9.m1.3.3.1.3.3.2.cmml"><mi mathsize="70%" id="alg1.l9.m1.3.3.1.3.3.2.2" xref="alg1.l9.m1.3.3.1.3.3.2.2.cmml">n</mi><mi mathsize="70%" id="alg1.l9.m1.3.3.1.3.3.2.3" xref="alg1.l9.m1.3.3.1.3.3.2.3.cmml">k</mi></msub></mrow></mfrac><mo lspace="0em" rspace="0em" id="alg1.l9.m1.3.3.1.2" xref="alg1.l9.m1.3.3.1.2.cmml">​</mo><mrow id="alg1.l9.m1.3.3.1.1" xref="alg1.l9.m1.3.3.1.1.cmml"><msub id="alg1.l9.m1.3.3.1.1.2" xref="alg1.l9.m1.3.3.1.1.2.cmml"><mo maxsize="70%" minsize="70%" rspace="0em" stretchy="true" id="alg1.l9.m1.3.3.1.1.2.2" xref="alg1.l9.m1.3.3.1.1.2.2.cmml">∑</mo><mi mathsize="70%" id="alg1.l9.m1.3.3.1.1.2.3" xref="alg1.l9.m1.3.3.1.1.2.3.cmml">k</mi></msub><mrow id="alg1.l9.m1.3.3.1.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.2" xref="alg1.l9.m1.3.3.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l9.m1.3.3.1.1.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.1.1.cmml"><msub id="alg1.l9.m1.3.3.1.1.1.1.1.2" xref="alg1.l9.m1.3.3.1.1.1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.1.2.2" xref="alg1.l9.m1.3.3.1.1.1.1.1.2.2.cmml">n</mi><mi mathsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.1.2.3" xref="alg1.l9.m1.3.3.1.1.1.1.1.2.3.cmml">k</mi></msub><mo lspace="0.222em" mathsize="70%" rspace="0.222em" id="alg1.l9.m1.3.3.1.1.1.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.1.1.1.cmml">⋅</mo><msubsup id="alg1.l9.m1.3.3.1.1.1.1.1.3" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.2" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.2.2.cmml">ϕ</mi><mi mathsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.3" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.2.3.cmml">k</mi><mrow id="alg1.l9.m1.2.2.1.3" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.2.2.1.3.1" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.cmml">(</mo><mi mathsize="70%" id="alg1.l9.m1.2.2.1.1" xref="alg1.l9.m1.2.2.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.2.2.1.3.2" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo maxsize="70%" minsize="70%" id="alg1.l9.m1.3.3.1.1.1.1.3" xref="alg1.l9.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><apply id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3"><ci id="alg1.l9.m1.3.3.2.cmml" xref="alg1.l9.m1.3.3.2">←</ci><apply id="alg1.l9.m1.3.3.3.cmml" xref="alg1.l9.m1.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.1.cmml" xref="alg1.l9.m1.3.3.3">superscript</csymbol><ci id="alg1.l9.m1.3.3.3.2.cmml" xref="alg1.l9.m1.3.3.3.2">italic-ϕ</ci><ci id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">𝑡</ci></apply><apply id="alg1.l9.m1.3.3.1.cmml" xref="alg1.l9.m1.3.3.1"><times id="alg1.l9.m1.3.3.1.2.cmml" xref="alg1.l9.m1.3.3.1.2"></times><apply id="alg1.l9.m1.3.3.1.3.cmml" xref="alg1.l9.m1.3.3.1.3"><divide id="alg1.l9.m1.3.3.1.3.1.cmml" xref="alg1.l9.m1.3.3.1.3"></divide><cn type="integer" id="alg1.l9.m1.3.3.1.3.2.cmml" xref="alg1.l9.m1.3.3.1.3.2">1</cn><apply id="alg1.l9.m1.3.3.1.3.3.cmml" xref="alg1.l9.m1.3.3.1.3.3"><apply id="alg1.l9.m1.3.3.1.3.3.1.cmml" xref="alg1.l9.m1.3.3.1.3.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.3.3.1.1.cmml" xref="alg1.l9.m1.3.3.1.3.3.1">subscript</csymbol><sum id="alg1.l9.m1.3.3.1.3.3.1.2.cmml" xref="alg1.l9.m1.3.3.1.3.3.1.2"></sum><ci id="alg1.l9.m1.3.3.1.3.3.1.3.cmml" xref="alg1.l9.m1.3.3.1.3.3.1.3">𝑘</ci></apply><apply id="alg1.l9.m1.3.3.1.3.3.2.cmml" xref="alg1.l9.m1.3.3.1.3.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.3.3.2.1.cmml" xref="alg1.l9.m1.3.3.1.3.3.2">subscript</csymbol><ci id="alg1.l9.m1.3.3.1.3.3.2.2.cmml" xref="alg1.l9.m1.3.3.1.3.3.2.2">𝑛</ci><ci id="alg1.l9.m1.3.3.1.3.3.2.3.cmml" xref="alg1.l9.m1.3.3.1.3.3.2.3">𝑘</ci></apply></apply></apply><apply id="alg1.l9.m1.3.3.1.1.cmml" xref="alg1.l9.m1.3.3.1.1"><apply id="alg1.l9.m1.3.3.1.1.2.cmml" xref="alg1.l9.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.1.2.1.cmml" xref="alg1.l9.m1.3.3.1.1.2">subscript</csymbol><sum id="alg1.l9.m1.3.3.1.1.2.2.cmml" xref="alg1.l9.m1.3.3.1.1.2.2"></sum><ci id="alg1.l9.m1.3.3.1.1.2.3.cmml" xref="alg1.l9.m1.3.3.1.1.2.3">𝑘</ci></apply><apply id="alg1.l9.m1.3.3.1.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1"><ci id="alg1.l9.m1.3.3.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.1">⋅</ci><apply id="alg1.l9.m1.3.3.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.2">subscript</csymbol><ci id="alg1.l9.m1.3.3.1.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.2.2">𝑛</ci><ci id="alg1.l9.m1.3.3.1.1.1.1.1.2.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="alg1.l9.m1.3.3.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.1.1.1.1.3.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3">superscript</csymbol><apply id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.2.2">italic-ϕ</ci><ci id="alg1.l9.m1.3.3.1.1.1.1.1.3.2.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="alg1.l9.m1.2.2.1.1.cmml" xref="alg1.l9.m1.2.2.1.1">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">\phi^{(t)}\leftarrow\frac{1}{\sum_{k}{n_{k}}}\sum_{k}{(n_{k}\cdot\phi_{k}^{(t)})}</annotation></semantics></math><span id="alg1.l9.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg1.l10.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l10.3" class="ltx_text ltx_font_bold" style="font-size:70%;">end</span><span id="alg1.l10.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l10.5" class="ltx_text ltx_font_bold" style="font-size:70%;">for</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg1.l11.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l11.3" class="ltx_text ltx_font_bold" style="font-size:70%;">return</span><span id="alg1.l11.4" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l11.m1.1" class="ltx_Math" alttext="\phi^{(t)}" display="inline"><semantics id="alg1.l11.m1.1a"><msup id="alg1.l11.m1.1.2" xref="alg1.l11.m1.1.2.cmml"><mi mathsize="70%" id="alg1.l11.m1.1.2.2" xref="alg1.l11.m1.1.2.2.cmml">ϕ</mi><mrow id="alg1.l11.m1.1.1.1.3" xref="alg1.l11.m1.1.2.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l11.m1.1.1.1.3.1" xref="alg1.l11.m1.1.2.cmml">(</mo><mi mathsize="70%" id="alg1.l11.m1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.cmml">t</mi><mo maxsize="70%" minsize="70%" id="alg1.l11.m1.1.1.1.3.2" xref="alg1.l11.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.2.cmml" xref="alg1.l11.m1.1.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.1.cmml" xref="alg1.l11.m1.1.2">superscript</csymbol><ci id="alg1.l11.m1.1.2.2.cmml" xref="alg1.l11.m1.1.2.2">italic-ϕ</ci><ci id="alg1.l11.m1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\phi^{(t)}</annotation></semantics></math><span id="alg1.l11.5" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg1.l12.2" class="ltx_text ltx_font_bold" style="font-size:70%;">end</span><span id="alg1.l12.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l12.4" class="ltx_text ltx_font_bold" style="font-size:70%;">procedure</span>
</div>
</div>
</figure>
<div id="S2.SS0.SSS0.Px2.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p2.6" class="ltx_p">In this work, we choose a softmax cross-entropy loss which is commonly used for multi-class classification tasks:
<math id="S2.SS0.SSS0.Px2.p2.1.m1.2" class="ltx_Math" alttext="\mathcal{L}_{0}=-\sum_{i=1}^{C}y_{i}\log{\left(p_{i}\right)}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.1.m1.2a"><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.cmml"><msub id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.2.cmml">ℒ</mi><mn id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.3.cmml">0</mn></msub><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.2.cmml">=</mo><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.cmml"><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1a" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.cmml">−</mo><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.cmml"><msubsup id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.cmml"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.2.cmml">i</mi><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.3.cmml">C</mi></msubsup><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.2.cmml">y</mi><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.1.1.cmml">log</mi><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1a" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.2.cmml">p</mi><mi id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.1.m1.2b"><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2"><eq id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.2"></eq><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.2">ℒ</ci><cn type="integer" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.3.3">0</cn></apply><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1"><minus id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1"></minus><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1"><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2">superscript</csymbol><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2">subscript</csymbol><sum id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.2"></sum><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3"><eq id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.1"></eq><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.2.3.3">1</cn></apply></apply><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.2.3">𝐶</ci></apply><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1"><times id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.2"></times><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.2">𝑦</ci><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.3.3">𝑖</ci></apply><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1"><log id="S2.SS0.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.1.1"></log><apply id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.2">𝑝</ci><ci id="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p2.1.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.1.m1.2c">\mathcal{L}_{0}=-\sum_{i=1}^{C}y_{i}\log{\left(p_{i}\right)}</annotation></semantics></math>;
with <math id="S2.SS0.SSS0.Px2.p2.2.m2.1" class="ltx_Math" alttext="C=4" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.2.m2.1a"><mrow id="S2.SS0.SSS0.Px2.p2.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.2" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.2.cmml">C</mi><mo id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.1" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.1.cmml">=</mo><mn id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.3" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.2.m2.1b"><apply id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1"><eq id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.1"></eq><ci id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.2">𝐶</ci><cn type="integer" id="S2.SS0.SSS0.Px2.p2.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p2.2.m2.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.2.m2.1c">C=4</annotation></semantics></math> being the number of classes. Here, <math id="S2.SS0.SSS0.Px2.p2.3.m3.1" class="ltx_Math" alttext="p_{i}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.3.m3.1a"><msub id="S2.SS0.SSS0.Px2.p2.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1.2.cmml">p</mi><mi id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1.2">𝑝</ci><ci id="S2.SS0.SSS0.Px2.p2.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.3.m3.1c">p_{i}</annotation></semantics></math> is the predicted probability for a class <math id="S2.SS0.SSS0.Px2.p2.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.4.m4.1a"><mi id="S2.SS0.SSS0.Px2.p2.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p2.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.4.m4.1b"><ci id="S2.SS0.SSS0.Px2.p2.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.4.m4.1c">i</annotation></semantics></math> from the final softmax activated output layer of our neural network <math id="S2.SS0.SSS0.Px2.p2.5.m5.1" class="ltx_Math" alttext="f(x)" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.5.m5.1a"><mrow id="S2.SS0.SSS0.Px2.p2.5.m5.1.2" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.2" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.1" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.1.cmml">​</mo><mrow id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.3.2" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.3.2.1" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px2.p2.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.1.cmml">x</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.3.2.2" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.5.m5.1b"><apply id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.cmml" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2"><times id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.1"></times><ci id="S2.SS0.SSS0.Px2.p2.5.m5.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.2.2">𝑓</ci><ci id="S2.SS0.SSS0.Px2.p2.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.5.m5.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.5.m5.1c">f(x)</annotation></semantics></math> and <math id="S2.SS0.SSS0.Px2.p2.6.m6.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.6.m6.1a"><mi id="S2.SS0.SSS0.Px2.p2.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p2.6.m6.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p2.6.m6.1b"><ci id="S2.SS0.SSS0.Px2.p2.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p2.6.m6.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p2.6.m6.1c">y</annotation></semantics></math> is the one-hot encoded ground truth label for a given image.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Classification Model &amp; Implementation:</h4>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">In this work, we do not focus on developing a new model architecture but instead focus on showing how FL works in a real-world collaborative training situation. We implement a DenseNet-121 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> model as a backbone and append a fully-connected layer with four outputs to its last feature layer to classify a mammography image as one of the four BI-RADS categories. The FL framework is implemented in Tensorflow<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://www.tensorflow.org/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/</a></span></span></span> and utilizes the NVIDIA Clara Train SDK<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://developer.nvidia.com/clara" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://developer.nvidia.com/clara</a></span></span></span> to enable the communication between server and clients as well as to standardize the training configuration among clients. Each client employed an NVIDIA GPU with at least 12 GB memory.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p2.2" class="ltx_p">All mammography images were normalized to an intensity range of <math id="S2.SS0.SSS0.Px3.p2.1.m1.1" class="ltx_Math" alttext="[0\dots 1]" display="inline"><semantics id="S2.SS0.SSS0.Px3.p2.1.m1.1a"><mrow id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.1.cmml">[</mo><mrow id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.cmml"><mn id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.2.cmml">0</mn><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.cmml">…</mi><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1a" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml">​</mo><mn id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.4" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.4.cmml">1</mn></mrow><mo stretchy="false" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.1.m1.1b"><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1"><times id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1"></times><cn type="integer" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.2">0</cn><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3">…</ci><cn type="integer" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.4.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.4">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.1.m1.1c">[0\dots 1]</annotation></semantics></math> and resampled to a resolution of 224 <math id="S2.SS0.SSS0.Px3.p2.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.SS0.SSS0.Px3.p2.2.m2.1a"><mo id="S2.SS0.SSS0.Px3.p2.2.m2.1.1" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.2.m2.1b"><times id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.2.m2.1c">\times</annotation></semantics></math> 224. We include both left and right breast images and all available views (craniocaudal and mediolateral oblique) in training. Each client separated their dataset into training, validation, and testing sets on the patient level (see Table <a href="#S2.T1" title="Table 1 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). At inference time, predictions from all images from a given patient were averaged together to give a patient-level prediction.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p3" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p3.1" class="ltx_p">Each client trained for one epoch before sending their updated model weights to the server for aggregation, and the server waited for all clients before performing a weighted sum of the clients’ weight differences. We used initial learning rates of 1e-4 with step-based learning rate decay, Adam optimization for each client, and model weight decay. A mini-batch of size 32 was sampled from the dataset such that all categories were equally represented during training. Random spatial flips, rotations between <math id="S2.SS0.SSS0.Px3.p3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S2.SS0.SSS0.Px3.p3.1.m1.1a"><mo id="S2.SS0.SSS0.Px3.p3.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.1.m1.1b"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.1.m1.1c">\pm</annotation></semantics></math> 45 degrees, and intensity shifts were used as on-the-fly image augmentation to avoid overfitting to the training data. The FL training was run for 300 rounds of local training and weight aggregations, which took about 36 hours. After the FL training is finished, each client’s best local model is shared with all other clients and tested on their test data to evaluate the models’ generalizability.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p4" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p4.1" class="ltx_p">In an additional experiment, we use the locally best models each client receives after FL to execute a second round of local fine-tuning based on this model. This additional “adaptation” step can improve a client’s model on their local data.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Evaluation Metric:</h4>

<div id="S2.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px4.p1.1" class="ltx_p">We utilize Cohen’s linear weighed kappa<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a target="_blank" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.cohen_kappa_score.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://scikit-learn.org/stable/modules/generated/sklearn.metrics.cohen_kappa_score.html</a></span></span></span> to evaluate the locally best models’ performance before and after federated learning in comparison with the radiologists’ ground truth assessments. The kappa score is a number between -1 and 1. Scores above 0.8 are generally considered very good agreement, while zero or lower would mean no agreement (practically random assignment of labels). A kappa of 0.21 to 0.40, 0.41 to 0.60, and 0.61 to 0.80 represents fair, moderate, and substantial agreement, respectively <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. The kappa measure has been chosen to be directly comparable to previous literature on breast density classification in mammography <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Results</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In Table <a href="#S3" title="3 Results ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we show the performance of locally best models (selected by best validation score on local data) using local training data alone as well as after federated learning. On average, a 6.3% relative improvement can be observed when the model is applied to a client’s test data (diag. mean). We also observe a general improvement of these best local models applied to the different clients’ test data. Here, the generalizability (off-diag. mean) of the models improved by 45.8% on average.</p>
</div>
<div id="S3.p2" class="ltx_para ltx_align_center">
<p id="S3.p2.1" class="ltx_p">[!htb]
<span id="S3.p2.1.1" class="ltx_text ltx_caption">Performance of locally best models (selected by best validation score on local data) using (a) local training data alone and (b) after federated learning.</span>

<span id="S3.p2.1.2" class="ltx_tabular ltx_align_middle">
<span class="ltx_tbody">
<span id="S3.p2.1.2.1.1" class="ltx_tr">
<span id="S3.p2.1.2.1.1.1" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.1.1.2" class="ltx_td ltx_align_right ltx_border_tt"><span id="S3.p2.1.2.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">(a) Local:</span></span>
<span id="S3.p2.1.2.1.1.3" class="ltx_td ltx_align_center ltx_border_tt ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Test</span></span>
<span id="S3.p2.1.2.1.1.4" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.1.1.5" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.1.1.6" class="ltx_td ltx_align_right ltx_border_tt"><span id="S3.p2.1.2.1.1.6.1" class="ltx_text ltx_font_bold" style="font-size:70%;">(b) Federated:</span></span>
<span id="S3.p2.1.2.1.1.7" class="ltx_td ltx_align_center ltx_border_tt ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.1.1.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Test</span></span></span>
<span id="S3.p2.1.2.2.2" class="ltx_tr">
<span id="S3.p2.1.2.2.2.1" class="ltx_td ltx_align_left ltx_rowspan ltx_rowspan_8"><span id="S3.p2.1.2.2.2.1.1" class="ltx_text" style="font-size:70%;">
<span id="S3.p2.1.2.2.2.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:4.8pt;height:16.6pt;vertical-align:-5.9pt;"><span class="ltx_transformed_inner" style="width:16.5pt;transform:translate(-5.88pt,0pt) rotate(-90deg) ;">
<span id="S3.p2.1.2.2.2.1.1.1.1" class="ltx_p"><span id="S3.p2.1.2.2.2.1.1.1.1.1" class="ltx_text ltx_font_bold">Train</span></span>
</span></span></span></span>
<span id="S3.p2.1.2.2.2.2" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">client</span></span>
<span id="S3.p2.1.2.2.2.3" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.3.1" class="ltx_text" style="font-size:70%;">1</span></span>
<span id="S3.p2.1.2.2.2.4" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.4.1" class="ltx_text" style="font-size:70%;">2</span></span>
<span id="S3.p2.1.2.2.2.5" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.5.1" class="ltx_text" style="font-size:70%;">3</span></span>
<span id="S3.p2.1.2.2.2.6" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.6.1" class="ltx_text" style="font-size:70%;">4</span></span>
<span id="S3.p2.1.2.2.2.7" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.7.1" class="ltx_text" style="font-size:70%;">5</span></span>
<span id="S3.p2.1.2.2.2.8" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.8.1" class="ltx_text" style="font-size:70%;">6</span></span>
<span id="S3.p2.1.2.2.2.9" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.9.1" class="ltx_text" style="font-size:70%;">7</span></span>
<span id="S3.p2.1.2.2.2.10" class="ltx_td"></span>
<span id="S3.p2.1.2.2.2.11" class="ltx_td ltx_align_right ltx_rowspan ltx_rowspan_8"><span id="S3.p2.1.2.2.2.11.1" class="ltx_text" style="font-size:70%;">
<span id="S3.p2.1.2.2.2.11.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:4.8pt;height:16.6pt;vertical-align:-5.9pt;"><span class="ltx_transformed_inner" style="width:16.5pt;transform:translate(-5.88pt,0pt) rotate(-90deg) ;">
<span id="S3.p2.1.2.2.2.11.1.1.1" class="ltx_p"><span id="S3.p2.1.2.2.2.11.1.1.1.1" class="ltx_text ltx_font_bold">Train</span></span>
</span></span></span></span>
<span id="S3.p2.1.2.2.2.12" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.12.1" class="ltx_text ltx_font_bold" style="font-size:70%;">client</span></span>
<span id="S3.p2.1.2.2.2.13" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.13.1" class="ltx_text" style="font-size:70%;">1</span></span>
<span id="S3.p2.1.2.2.2.14" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.14.1" class="ltx_text" style="font-size:70%;">2</span></span>
<span id="S3.p2.1.2.2.2.15" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.15.1" class="ltx_text" style="font-size:70%;">3</span></span>
<span id="S3.p2.1.2.2.2.16" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.16.1" class="ltx_text" style="font-size:70%;">4</span></span>
<span id="S3.p2.1.2.2.2.17" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.17.1" class="ltx_text" style="font-size:70%;">5</span></span>
<span id="S3.p2.1.2.2.2.18" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.18.1" class="ltx_text" style="font-size:70%;">6</span></span>
<span id="S3.p2.1.2.2.2.19" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.2.2.19.1" class="ltx_text" style="font-size:70%;">7</span></span></span>
<span id="S3.p2.1.2.3.3" class="ltx_tr">
<span id="S3.p2.1.2.3.3.1" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.1.1" class="ltx_text" style="font-size:70%;">1</span></span>
<span id="S3.p2.1.2.3.3.2" class="ltx_td ltx_align_right ltx_border_t" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.3.3.2.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.62</span></span>
<span id="S3.p2.1.2.3.3.3" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.3.1" class="ltx_text" style="font-size:70%;">0.59</span></span>
<span id="S3.p2.1.2.3.3.4" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.4.1" class="ltx_text" style="font-size:70%;">0.44</span></span>
<span id="S3.p2.1.2.3.3.5" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.5.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.3.3.6" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.6.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.3.3.7" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.7.1" class="ltx_text" style="font-size:70%;">-0.01</span></span>
<span id="S3.p2.1.2.3.3.8" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.8.1" class="ltx_text" style="font-size:70%;">0.04</span></span>
<span id="S3.p2.1.2.3.3.9" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.3.3.10" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.10.1" class="ltx_text" style="font-size:70%;">1</span></span>
<span id="S3.p2.1.2.3.3.11" class="ltx_td ltx_align_right ltx_border_t" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.3.3.11.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.62</span></span>
<span id="S3.p2.1.2.3.3.12" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.12.1" class="ltx_text" style="font-size:70%;">0.62</span></span>
<span id="S3.p2.1.2.3.3.13" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.13.1" class="ltx_text" style="font-size:70%;">0.48</span></span>
<span id="S3.p2.1.2.3.3.14" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.14.1" class="ltx_text" style="font-size:70%;">0.15</span></span>
<span id="S3.p2.1.2.3.3.15" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.15.1" class="ltx_text" style="font-size:70%;">0.23</span></span>
<span id="S3.p2.1.2.3.3.16" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.16.1" class="ltx_text" style="font-size:70%;">0.24</span></span>
<span id="S3.p2.1.2.3.3.17" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.3.3.17.1" class="ltx_text" style="font-size:70%;">0.11</span></span></span>
<span id="S3.p2.1.2.4.4" class="ltx_tr">
<span id="S3.p2.1.2.4.4.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.1.1" class="ltx_text" style="font-size:70%;">2</span></span>
<span id="S3.p2.1.2.4.4.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.2.1" class="ltx_text" style="font-size:70%;">0.15</span></span>
<span id="S3.p2.1.2.4.4.3" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.4.4.3.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.56</span></span>
<span id="S3.p2.1.2.4.4.4" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.4.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.4.4.5" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.5.1" class="ltx_text" style="font-size:70%;">-0.01</span></span>
<span id="S3.p2.1.2.4.4.6" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.6.1" class="ltx_text" style="font-size:70%;">-0.00</span></span>
<span id="S3.p2.1.2.4.4.7" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.7.1" class="ltx_text" style="font-size:70%;">0.00</span></span>
<span id="S3.p2.1.2.4.4.8" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.8.1" class="ltx_text" style="font-size:70%;">-0.01</span></span>
<span id="S3.p2.1.2.4.4.9" class="ltx_td"></span>
<span id="S3.p2.1.2.4.4.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.10.1" class="ltx_text" style="font-size:70%;">2</span></span>
<span id="S3.p2.1.2.4.4.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.11.1" class="ltx_text" style="font-size:70%;">0.22</span></span>
<span id="S3.p2.1.2.4.4.12" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.4.4.12.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.65</span></span>
<span id="S3.p2.1.2.4.4.13" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.13.1" class="ltx_text" style="font-size:70%;">0.11</span></span>
<span id="S3.p2.1.2.4.4.14" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.14.1" class="ltx_text" style="font-size:70%;">0.04</span></span>
<span id="S3.p2.1.2.4.4.15" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.15.1" class="ltx_text" style="font-size:70%;">0.00</span></span>
<span id="S3.p2.1.2.4.4.16" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.16.1" class="ltx_text" style="font-size:70%;">0.00</span></span>
<span id="S3.p2.1.2.4.4.17" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.4.4.17.1" class="ltx_text" style="font-size:70%;">-0.01</span></span></span>
<span id="S3.p2.1.2.5.5" class="ltx_tr">
<span id="S3.p2.1.2.5.5.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.1.1" class="ltx_text" style="font-size:70%;">3</span></span>
<span id="S3.p2.1.2.5.5.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.2.1" class="ltx_text" style="font-size:70%;">0.19</span></span>
<span id="S3.p2.1.2.5.5.3" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.3.1" class="ltx_text" style="font-size:70%;">0.01</span></span>
<span id="S3.p2.1.2.5.5.4" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.5.5.4.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.64</span></span>
<span id="S3.p2.1.2.5.5.5" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.5.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.5.5.6" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.6.1" class="ltx_text" style="font-size:70%;">0.07</span></span>
<span id="S3.p2.1.2.5.5.7" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.7.1" class="ltx_text" style="font-size:70%;">0.00</span></span>
<span id="S3.p2.1.2.5.5.8" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.8.1" class="ltx_text" style="font-size:70%;">0.05</span></span>
<span id="S3.p2.1.2.5.5.9" class="ltx_td"></span>
<span id="S3.p2.1.2.5.5.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.10.1" class="ltx_text" style="font-size:70%;">3</span></span>
<span id="S3.p2.1.2.5.5.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.11.1" class="ltx_text" style="font-size:70%;">0.41</span></span>
<span id="S3.p2.1.2.5.5.12" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.12.1" class="ltx_text" style="font-size:70%;">0.17</span></span>
<span id="S3.p2.1.2.5.5.13" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.5.5.13.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.63</span></span>
<span id="S3.p2.1.2.5.5.14" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.14.1" class="ltx_text" style="font-size:70%;">0.07</span></span>
<span id="S3.p2.1.2.5.5.15" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.15.1" class="ltx_text" style="font-size:70%;">-0.00</span></span>
<span id="S3.p2.1.2.5.5.16" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.16.1" class="ltx_text" style="font-size:70%;">0.01</span></span>
<span id="S3.p2.1.2.5.5.17" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.5.5.17.1" class="ltx_text" style="font-size:70%;">-0.01</span></span></span>
<span id="S3.p2.1.2.6.6" class="ltx_tr">
<span id="S3.p2.1.2.6.6.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.1.1" class="ltx_text" style="font-size:70%;">4</span></span>
<span id="S3.p2.1.2.6.6.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.2.1" class="ltx_text" style="font-size:70%;">0.11</span></span>
<span id="S3.p2.1.2.6.6.3" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.3.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.6.6.4" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.4.1" class="ltx_text" style="font-size:70%;">-0.00</span></span>
<span id="S3.p2.1.2.6.6.5" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.6.6.5.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.63</span></span>
<span id="S3.p2.1.2.6.6.6" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.6.1" class="ltx_text" style="font-size:70%;">0.52</span></span>
<span id="S3.p2.1.2.6.6.7" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.7.1" class="ltx_text" style="font-size:70%;">0.61</span></span>
<span id="S3.p2.1.2.6.6.8" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.8.1" class="ltx_text" style="font-size:70%;">0.50</span></span>
<span id="S3.p2.1.2.6.6.9" class="ltx_td"></span>
<span id="S3.p2.1.2.6.6.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.10.1" class="ltx_text" style="font-size:70%;">4</span></span>
<span id="S3.p2.1.2.6.6.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.11.1" class="ltx_text" style="font-size:70%;">0.06</span></span>
<span id="S3.p2.1.2.6.6.12" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.12.1" class="ltx_text" style="font-size:70%;">0.48</span></span>
<span id="S3.p2.1.2.6.6.13" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.13.1" class="ltx_text" style="font-size:70%;">-0.02</span></span>
<span id="S3.p2.1.2.6.6.14" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.6.6.14.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.69</span></span>
<span id="S3.p2.1.2.6.6.15" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.15.1" class="ltx_text" style="font-size:70%;">0.57</span></span>
<span id="S3.p2.1.2.6.6.16" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.16.1" class="ltx_text" style="font-size:70%;">0.65</span></span>
<span id="S3.p2.1.2.6.6.17" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.6.6.17.1" class="ltx_text" style="font-size:70%;">0.52</span></span></span>
<span id="S3.p2.1.2.7.7" class="ltx_tr">
<span id="S3.p2.1.2.7.7.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.1.1" class="ltx_text" style="font-size:70%;">5</span></span>
<span id="S3.p2.1.2.7.7.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.2.1" class="ltx_text" style="font-size:70%;">-0.00</span></span>
<span id="S3.p2.1.2.7.7.3" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.3.1" class="ltx_text" style="font-size:70%;">-0.01</span></span>
<span id="S3.p2.1.2.7.7.4" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.4.1" class="ltx_text" style="font-size:70%;">-0.03</span></span>
<span id="S3.p2.1.2.7.7.5" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.5.1" class="ltx_text" style="font-size:70%;">0.54</span></span>
<span id="S3.p2.1.2.7.7.6" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.7.7.6.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.62</span></span>
<span id="S3.p2.1.2.7.7.7" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.7.1" class="ltx_text" style="font-size:70%;">0.65</span></span>
<span id="S3.p2.1.2.7.7.8" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.8.1" class="ltx_text" style="font-size:70%;">0.31</span></span>
<span id="S3.p2.1.2.7.7.9" class="ltx_td"></span>
<span id="S3.p2.1.2.7.7.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.10.1" class="ltx_text" style="font-size:70%;">5</span></span>
<span id="S3.p2.1.2.7.7.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.11.1" class="ltx_text" style="font-size:70%;">0.24</span></span>
<span id="S3.p2.1.2.7.7.12" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.12.1" class="ltx_text" style="font-size:70%;">0.13</span></span>
<span id="S3.p2.1.2.7.7.13" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.13.1" class="ltx_text" style="font-size:70%;">0.02</span></span>
<span id="S3.p2.1.2.7.7.14" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.14.1" class="ltx_text" style="font-size:70%;">0.64</span></span>
<span id="S3.p2.1.2.7.7.15" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.7.7.15.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.62</span></span>
<span id="S3.p2.1.2.7.7.16" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.16.1" class="ltx_text" style="font-size:70%;">0.69</span></span>
<span id="S3.p2.1.2.7.7.17" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.7.7.17.1" class="ltx_text" style="font-size:70%;">0.52</span></span></span>
<span id="S3.p2.1.2.8.8" class="ltx_tr">
<span id="S3.p2.1.2.8.8.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.1.1" class="ltx_text" style="font-size:70%;">6</span></span>
<span id="S3.p2.1.2.8.8.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.2.1" class="ltx_text" style="font-size:70%;">0.01</span></span>
<span id="S3.p2.1.2.8.8.3" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.3.1" class="ltx_text" style="font-size:70%;">0.11</span></span>
<span id="S3.p2.1.2.8.8.4" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.4.1" class="ltx_text" style="font-size:70%;">-0.02</span></span>
<span id="S3.p2.1.2.8.8.5" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.5.1" class="ltx_text" style="font-size:70%;">0.49</span></span>
<span id="S3.p2.1.2.8.8.6" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.6.1" class="ltx_text" style="font-size:70%;">0.59</span></span>
<span id="S3.p2.1.2.8.8.7" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.8.8.7.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.71</span></span>
<span id="S3.p2.1.2.8.8.8" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.8.1" class="ltx_text" style="font-size:70%;">0.32</span></span>
<span id="S3.p2.1.2.8.8.9" class="ltx_td"></span>
<span id="S3.p2.1.2.8.8.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.10.1" class="ltx_text" style="font-size:70%;">6</span></span>
<span id="S3.p2.1.2.8.8.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.11.1" class="ltx_text" style="font-size:70%;">0.23</span></span>
<span id="S3.p2.1.2.8.8.12" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.12.1" class="ltx_text" style="font-size:70%;">0.01</span></span>
<span id="S3.p2.1.2.8.8.13" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.13.1" class="ltx_text" style="font-size:70%;">-0.00</span></span>
<span id="S3.p2.1.2.8.8.14" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.14.1" class="ltx_text" style="font-size:70%;">0.53</span></span>
<span id="S3.p2.1.2.8.8.15" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.15.1" class="ltx_text" style="font-size:70%;">0.68</span></span>
<span id="S3.p2.1.2.8.8.16" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.8.8.16.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.76</span></span>
<span id="S3.p2.1.2.8.8.17" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.8.8.17.1" class="ltx_text" style="font-size:70%;">0.31</span></span></span>
<span id="S3.p2.1.2.9.9" class="ltx_tr">
<span id="S3.p2.1.2.9.9.1" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.1.1" class="ltx_text" style="font-size:70%;">7</span></span>
<span id="S3.p2.1.2.9.9.2" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.2.1" class="ltx_text" style="font-size:70%;">0.03</span></span>
<span id="S3.p2.1.2.9.9.3" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.3.1" class="ltx_text" style="font-size:70%;">0.05</span></span>
<span id="S3.p2.1.2.9.9.4" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.4.1" class="ltx_text" style="font-size:70%;">-0.05</span></span>
<span id="S3.p2.1.2.9.9.5" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.5.1" class="ltx_text" style="font-size:70%;">0.40</span></span>
<span id="S3.p2.1.2.9.9.6" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.6.1" class="ltx_text" style="font-size:70%;">0.37</span></span>
<span id="S3.p2.1.2.9.9.7" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.7.1" class="ltx_text" style="font-size:70%;">0.46</span></span>
<span id="S3.p2.1.2.9.9.8" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.9.9.8.1" class="ltx_text" style="font-size:70%;background-color:#A8A8A8;">0.69</span></span>
<span id="S3.p2.1.2.9.9.9" class="ltx_td"></span>
<span id="S3.p2.1.2.9.9.10" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.10.1" class="ltx_text" style="font-size:70%;">7</span></span>
<span id="S3.p2.1.2.9.9.11" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.11.1" class="ltx_text" style="font-size:70%;">0.10</span></span>
<span id="S3.p2.1.2.9.9.12" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.12.1" class="ltx_text" style="font-size:70%;">0.21</span></span>
<span id="S3.p2.1.2.9.9.13" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.13.1" class="ltx_text" style="font-size:70%;">0.13</span></span>
<span id="S3.p2.1.2.9.9.14" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.14.1" class="ltx_text" style="font-size:70%;">0.55</span></span>
<span id="S3.p2.1.2.9.9.15" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.15.1" class="ltx_text" style="font-size:70%;">0.44</span></span>
<span id="S3.p2.1.2.9.9.16" class="ltx_td ltx_align_right"><span id="S3.p2.1.2.9.9.16.1" class="ltx_text" style="font-size:70%;">0.52</span></span>
<span id="S3.p2.1.2.9.9.17" class="ltx_td ltx_align_right" style="background-color:#A8A8A8;"><span id="S3.p2.1.2.9.9.17.1" class="ltx_text ltx_font_bold" style="font-size:70%;background-color:#A8A8A8;">0.77</span></span></span>
<span id="S3.p2.1.2.10.10" class="ltx_tr">
<span id="S3.p2.1.2.10.10.1" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.2" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.3" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.4" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.5" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.6" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.7" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.8" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.9" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.10" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.11" class="ltx_td ltx_border_t"></span>
<span id="S3.p2.1.2.10.10.12" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.12.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Global</span></span>
<span id="S3.p2.1.2.10.10.13" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.13.1" class="ltx_text" style="font-size:70%;">0.51</span></span>
<span id="S3.p2.1.2.10.10.14" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.14.1" class="ltx_text" style="font-size:70%;">0.52</span></span>
<span id="S3.p2.1.2.10.10.15" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.15.1" class="ltx_text" style="font-size:70%;">0.49</span></span>
<span id="S3.p2.1.2.10.10.16" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.16.1" class="ltx_text" style="font-size:70%;">0.31</span></span>
<span id="S3.p2.1.2.10.10.17" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.17.1" class="ltx_text" style="font-size:70%;">0.4852</span></span>
<span id="S3.p2.1.2.10.10.18" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.18.1" class="ltx_text" style="font-size:70%;">0.31</span></span>
<span id="S3.p2.1.2.10.10.19" class="ltx_td ltx_align_right ltx_border_t"><span id="S3.p2.1.2.10.10.19.1" class="ltx_text" style="font-size:70%;">0.0893</span></span></span>
<span id="S3.p2.1.2.11.11" class="ltx_tr">
<span id="S3.p2.1.2.11.11.1" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.11.11.2" class="ltx_td ltx_align_center ltx_border_tt ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.11.11.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">diag. mean</span></span>
<span id="S3.p2.1.2.11.11.3" class="ltx_td ltx_align_right ltx_border_tt"><span id="S3.p2.1.2.11.11.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.64</span></span>
<span id="S3.p2.1.2.11.11.4" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.11.11.5" class="ltx_td ltx_border_tt"></span>
<span id="S3.p2.1.2.11.11.6" class="ltx_td ltx_align_center ltx_border_tt ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.11.11.6.1" class="ltx_text ltx_font_bold" style="font-size:70%;">diag. mean</span></span>
<span id="S3.p2.1.2.11.11.7" class="ltx_td ltx_align_right ltx_border_tt"><span id="S3.p2.1.2.11.11.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.68</span></span></span>
<span id="S3.p2.1.2.12.12" class="ltx_tr">
<span id="S3.p2.1.2.12.12.1" class="ltx_td ltx_border_bb"></span>
<span id="S3.p2.1.2.12.12.2" class="ltx_td ltx_align_center ltx_border_bb ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.12.12.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">off-diag. mean</span></span>
<span id="S3.p2.1.2.12.12.3" class="ltx_td ltx_align_right ltx_border_bb"><span id="S3.p2.1.2.12.12.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.18</span></span>
<span id="S3.p2.1.2.12.12.4" class="ltx_td ltx_border_bb"></span>
<span id="S3.p2.1.2.12.12.5" class="ltx_td ltx_border_bb"></span>
<span id="S3.p2.1.2.12.12.6" class="ltx_td ltx_align_center ltx_border_bb ltx_colspan ltx_colspan_7"><span id="S3.p2.1.2.12.12.6.1" class="ltx_text ltx_font_bold" style="font-size:70%;">off-diag. mean</span></span>
<span id="S3.p2.1.2.12.12.7" class="ltx_td ltx_align_right ltx_border_bb"><span id="S3.p2.1.2.12.12.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.26</span></span></span>
</span>
</span><span id="S3.p2.1.3" class="ltx_text" style="font-size:70%;">
</span></p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">Fig. <a href="#S3.F5" title="Figure 5 ‣ 3 Results ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> summarizes the kappa scores for local training, after FL, including after local fine-tuning, which improves a given model’s performance on the client’s local test data in all but one client.</p>
</div>
<figure id="S3.F5" class="ltx_figure"><img src="/html/2009.01871/assets/x4.png" id="S3.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="140" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Weighted linear kappa performance before and after federated learning, and after an additional round of local fine-tuning at each local site.</figcaption>
</figure>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Discussion &amp; Conclusions</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Given our experimental results, we can see that federated learning (FL) in a real-world scenario can both achieve more accurate models locally as well as increase the generalizability of these models to data from other sources, such as test data from other clients. This improvement is due to the effectively larger training set made available through FL without the need to share any data directly.
While we cannot directly compare to a centralized training setting due to the nature of performing FL in a real-world setting, we observed that the average performance of models is similar to values reported in the literature on centralized datasets. For example, Lehman et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> reported a linear kappa value of 0.67 when applying DL for mammography breast density classification. We achieved an average performance of local models of 0.68 in the FL setting, confirming the ability of FL to achieve models comparable to models trained when the data is accumulated in a central database.
However, while the generalizability is improved, it is still not comparable to the performance on local test sets. In particular, the final global model is not near any acceptable performance on any of the local test datasets. The heterogeneity in results across institutions illustrates the difficulties in training models that are generalizable. In practice, some local adaptation (fine-tuning, see Fig. <a href="#S3.F5" title="Figure 5 ‣ 3 Results ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>) or at least model selection based on local validation data (see diagonal of Table <a href="#S3" title="3 Results ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) is needed.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">In this work, we deliberately did not attempt any data harmonization methods to study the effect of different data domains. The marked differences in intensity distributions due to different mammography systems are observable in Fig. <a href="#S2.F4" title="Figure 4 ‣ Datasets: ‣ 2 Method ‣ Federated Learning for Breast Density Classification: A Real-World Implementation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Future work might explore the use of histogram equalization and other techniques <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> to harmonize non-IID data across different sites or investigate built-in strategies for domain adaptation within the FL framework <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Similarly, we did not fully address issues of data size heterogeneity and class imbalance within our FL framework. For example, client 7 had almost no category (b) samples due to their local labeling practices required by their clinical protocol. Future work could incorporate training strategies such as client-specific local training iterations, other mini-batch sampling strategies, and loss functions.
We also did not attempt privacy-preservation techniques that would reduce the chance of model inversion and potential data leakage based on the trained models. Differential privacy could easily be applied to our framework, and it has been shown that it can achieve comparable results to the vanilla FL setting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">Despite these challenges, we were able to train mammography models in a real-world FL setting that improved the performance of locally trained models alone, illustrating the promise of FL for building clinically-applicable models and sidestepping the need for accumulating a centralized dataset.</p>
</div>
<section id="S4.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Acknowledgements:</h4>

<div id="S4.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px1.p1.1" class="ltx_p"><span id="S4.SS0.SSS0.Px1.p1.1.1" class="ltx_text" style="font-size:80%;">Research reported in this publication was supported by a training grant from the National Institute of Biomedical Imaging and Bioengineering (NIBIB) of the National Institutes of Health (NIH) under award number 5T32EB1680 to K. Chang and J. B. Patel and by the National Cancer Institute (NCI) of the NIH under Award Number F30CA239407 to K. Chang. This study was supported by NIH grants U01CA154601, U24CA180927, U24CA180918, and U01CA242879, and National Science Foundation (NSF) grant NSF1622542 to J. Kalpathy-Cramer.
</span>

</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Baweja, C., Glocker, B., Kamnitsas, K.: Towards continual learning in medical
imaging. arXiv preprint arXiv:1811.02496 (2018)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Boyd, N., Byng, J., Jong, R., Fishell, E., Little, L., Miller, A., Lockwood,
G., Tritchler, D., Yaffe, M.J.: Quantitative classification of mammographic
densities and breast cancer risk: results from the canadian national breast
screening study. JNCI: Journal of the National Cancer Institute
<span id="bib.bib2.1.1" class="ltx_text ltx_font_bold">87</span>(9), 670–675 (1995)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Boyd, N.F., Guo, H., Martin, L.J., Sun, L., Stone, J., Fishell, E., Jong, R.A.,
Hislop, G., Chiarelli, A., Minkin, S., et al.: Mammographic density and the
risk and detection of breast cancer. New England journal of medicine
<span id="bib.bib3.1.1" class="ltx_text ltx_font_bold">356</span>(3), 227–236 (2007)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Chang, K., Balachandar, N., Lam, C., Yi, D., Brown, J., Beers, A., Rosen, B.,
Rubin, D.L., Kalpathy-Cramer, J.: Distributed deep learning networks among
institutions for medical imaging. Journal of the American Medical Informatics
Association <span id="bib.bib4.1.1" class="ltx_text ltx_font_bold">25</span>(8), 945–954 (2018)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Chang, K., Beers, A.L., Brink, L., Patel, J.B., Singh, P., Arun, N.T., Hoebel,
K.V., Gaw, N., Shah, M., Pisano, E.D., et al.: Multi-institutional assessment
and crowdsourcing evaluation of deep learning for automated classification of
breast density. Journal of the American College of Radiology (2020)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Dunnmon, J.A., Yi, D., Langlotz, C.P., Ré, C., Rubin, D.L., Lungren, M.P.:
Assessment of convolutional neural networks for automated classification of
chest radiographs. Radiology <span id="bib.bib6.1.1" class="ltx_text ltx_font_bold">290</span>(2), 537–544 (2019)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Ho, J.M., Jafferjee, N., Covarrubias, G.M., Ghesani, M., Handler, B.: Dense
breasts: a review of reporting legislation and available supplemental
screening options. American Journal of Roentgenology <span id="bib.bib7.1.1" class="ltx_text ltx_font_bold">203</span>(2),
449–456 (2014)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Huang, G., Liu, Z., Van Der Maaten, L., Weinberger, K.Q.: Densely connected
convolutional networks. In: Proceedings of the IEEE conference on computer
vision and pattern recognition. pp. 4700–4708 (2017)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Kaissis, G.A., Makowski, M.R., Rückert, D., Braren, R.F.: Secure,
privacy-preserving and federated machine learning in medical imaging. Nature
Machine Intelligence pp. 1–7 (2020)

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Karani, N., Chaitanya, K., Baumgartner, C., Konukoglu, E.: A lifelong learning
approach to brain mr segmentation across scanners and protocols. In:
International Conference on Medical Image Computing and Computer-Assisted
Intervention. pp. 476–484. Springer (2018)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Landis, J.R., Koch, G.G.: The measurement of observer agreement for categorical
data. biometrics pp. 159–174 (1977)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Larson, D.B., Magnus, D.C., Lungren, M.P., Shah, N.H., Langlotz, C.P.: Ethics
of using and sharing clinical imaging data for artificial intelligence: a
proposed framework. Radiology p. 192536 (2020)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Lehman, C.D., Yala, A., Schuster, T., Dontchos, B., Bahl, M., Swanson, K.,
Barzilay, R.: Mammographic breast density assessment using deep learning:
clinical implementation. Radiology <span id="bib.bib13.1.1" class="ltx_text ltx_font_bold">290</span>(1), 52–58 (2019)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Li, W., Milletarì, F., Xu, D., Rieke, N., Hancox, J., Zhu, W., Baust, M.,
Cheng, Y., Ourselin, S., Cardoso, M.J., et al.: Privacy-preserving federated
brain tumour segmentation. In: International Workshop on Machine Learning in
Medical Imaging. pp. 133–141. Springer (2019)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Li, X., Gu, Y., Dvornek, N., Staib, L., Ventola, P., Duncan, J.S.: Multi-site
fmri analysis using privacy-preserving federated learning and domain
adaptation: Abide results. arXiv preprint arXiv:2001.05647 (2020)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., y Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data.
In: Artificial Intelligence and Statistics. pp. 1273–1282 (2017)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Ooms, E., Zonderland, H., Eijkemans, M., Kriege, M., Delavary, B.M., Burger,
C., Ansink, A.: Mammography: interobserver variability in breast density
assessment. The Breast <span id="bib.bib17.1.1" class="ltx_text ltx_font_bold">16</span>(6), 568–576 (2007)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Pisano, E.D., Gatsonis, C., Hendrick, E., Yaffe, M., Baum, J.K., Acharyya, S.,
Conant, E.F., Fajardo, L.L., Bassett, L., D’Orsi, C., et al.: Diagnostic
performance of digital versus film mammography for breast-cancer screening.
New England Journal of Medicine <span id="bib.bib18.1.1" class="ltx_text ltx_font_bold">353</span>(17), 1773–1783 (2005)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Razzaghi, H., Troester, M.A., Gierach, G.L., Olshan, A.F., Yankaskas, B.C.,
Millikan, R.C.: Mammographic density and breast cancer risk in white and
african american women. Breast cancer research and treatment
<span id="bib.bib19.1.1" class="ltx_text ltx_font_bold">135</span>(2), 571–580 (2012)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Rieke, N., Hancox, J., Li, W., Milletari, F., Roth, H., Albarqouni, S., Bakas,
S., Galtier, M.N., Landman, B., Maier-Hein, K., et al.: The future of digital
health with federated learning. arXiv preprint arXiv:2003.08119 (2020)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Sheller, M.J., Reina, G.A., Edwards, B., Martin, J., Bakas, S.:
Multi-institutional deep learning modeling without sharing patient data: A
feasibility study on brain tumor segmentation. In: International MICCAI
Brainlesion Workshop. pp. 92–104. Springer (2018)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Sickles, E., d’Orsi, C., Bassett, L., Appleton, C., Berg, W., Burnside, E.,
et al.: ACR BI-RADS® mammography. ACR
BI-RADS® atlas, breast imaging reporting and data system
<span id="bib.bib22.1.1" class="ltx_text ltx_font_bold">5</span>,  2013 (2013)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Spayne, M.C., Gard, C.C., Skelly, J., Miglioretti, D.L., Vacek, P.M., Geller,
B.M.: Reproducibility of bi-rads breast density measures among community
radiologists: a prospective cohort study. The breast journal <span id="bib.bib23.1.1" class="ltx_text ltx_font_bold">18</span>(4),
326–333 (2012)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Sprague, B.L., Conant, E.F., Onega, T., Garcia, M.P., Beaber, E.F., Herschorn,
S.D., Lehman, C.D., Tosteson, A.N., Lacson, R., Schnall, M.D., et al.:
Variation in mammographic breast density assessments among radiologists in
clinical practice: a multicenter observational study. Annals of internal
medicine <span id="bib.bib24.1.1" class="ltx_text ltx_font_bold">165</span>(7), 457–464 (2016)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Sprague, B.L., Gangnon, R.E., Burt, V., Trentham-Dietz, A., Hampton, J.M.,
Wellman, R.D., Kerlikowske, K., Miglioretti, D.L.: Prevalence of
mammographically dense breasts in the united states. JNCI: Journal of the
National Cancer Institute <span id="bib.bib25.1.1" class="ltx_text ltx_font_bold">106</span>(10) (2014)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Yaghjyan, L., Colditz, G.A., Collins, L.C., Schnitt, S.J., Rosner, B., Vachon,
C., Tamimi, R.M.: Mammographic breast density and subsequent risk of breast
cancer in postmenopausal women according to tumor characteristics. Journal of
the National Cancer Institute <span id="bib.bib26.1.1" class="ltx_text ltx_font_bold">103</span>(15), 1179–1189 (2011)

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2009.01870" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2009.01871" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2009.01871">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2009.01871" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2009.01872" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 01:35:38 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
