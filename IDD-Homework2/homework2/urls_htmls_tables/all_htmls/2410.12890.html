<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models</title>
<!--Generated on Wed Oct 16 08:39:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="RAG fine-tuning LLM" lang="en" name="keywords"/>
<base href="/html/2410.12890v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S1" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S2" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S3" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Approach</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S3.SS1" title="In 3 Approach ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Data Augmentation for Fine-tuning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S3.SS2" title="In 3 Approach ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Fine-tuning via Model Fusion</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS1" title="In 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS2" title="In 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS3" title="In 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS4" title="In 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Evaluation Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS5" title="In 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Training Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S5" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results &amp; Discussion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S6" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusions and Future Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#Pt0.A1" title="In REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">0.A </span>Detailed Results</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span class="ltx_note ltx_role_institutetext" id="id1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>Uniphore, Palo Alto, CA 94304, USA 
<br class="ltx_break"/><span class="ltx_note ltx_role_email" id="id1.1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>mrinal.rawat@uniphore.com</span></span></span>
<br class="ltx_break"/></span></span></span>
<h1 class="ltx_title ltx_title_document">REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ambuje Gupta
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0000-4230-1440" title="ORCID identifier">0009-0000-4230-1440</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mrinal Rawat
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-4900-0733" title="ORCID identifier">0000-0003-4900-0733</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Andreas Stolcke
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-9925-905X" title="ORCID identifier">0000-0002-9925-905X</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Roberto Pieraccini
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0009-2608-6184" title="ORCID identifier">0009-0009-2608-6184</a></span>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">Retrieval augmented generation (RAG) pipelines are commonly used in tasks such as question-answering (QA), relying on retrieving relevant documents from a vector store computed using a pretrained embedding model. However, if the retrieved context is inaccurate, the answers generated using the large language model (LLM) may contain errors or hallucinations. Although pretrained embedding models have advanced, adapting them to new domains remains challenging. Fine-tuning is a potential solution, but industry settings often lack the necessary fine-tuning data. To address these challenges, we propose REFINE, a novel technique that generates synthetic data from available documents and then uses a model fusion approach to fine-tune embeddings for improved retrieval performance in new domains, while preserving out-of-domain capability.
We conducted experiments on the two public datasets: SQUAD and RAG-12000 and a proprietary TOURISM dataset. Results demonstrate that even the standard fine-tuning with the proposed data augmentation technique outperforms the vanilla pretrained model. Furthermore, when combined with model fusion, the proposed approach achieves superior performance, with a <span class="ltx_text ltx_font_bold" id="id1.id1.1">5.76%</span> improvement in recall on the TOURISM dataset, and <span class="ltx_text ltx_font_bold" id="id1.id1.2">6.58 %</span> and <span class="ltx_text ltx_font_bold" id="id1.id1.3">0.32%</span> enhancement on SQUAD and RAG-12000 respectively.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>RAG fine-tuning LLM
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Question Answering (QA) systems for enterprise data have been a longstanding research focus <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib10" title="">10</a>]</cite>. Many efforts have centered on using BERT-based models that predict the start and end points of answer spans from the given context <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib12" title="">12</a>]</cite>. While initially promising, in practical business settings, there is an increasing need for abstractive QA that can provide more nuanced responses beyond extracting spans.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">The rise of large language models (LLMs), such as ChatGPT <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib17" title="">17</a>]</cite> and Llama2 <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib23" title="">23</a>]</cite>, has advanced abstractive QA capabilities substantially by enabling more sophisticated response generation. However, a key challenge with LLMs is their lack of up-to-date, real-world knowledge, and tendency to hallucinate with confidence <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib28" title="">28</a>]</cite>. To alleviate this issue, retrieval-augmented generation (RAG) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib14" title="">14</a>]</cite> has emerged as a promising technique that augments LLMs with relevant contextual information retrieved from databases. However, RAG’s effectiveness depends on providing accurate context—if the retrieved context is flawed, errors can propagate into the generated responses. The retrieval process in RAG typically involves ingesting documents, segmenting them, and representing them using embedding models such as BGE <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib2" title="">2</a>]</cite>. These representations are then stored in vector databases. At run-time, the query embedding is computed and matched against the pre-computed document embeddings to retrieve the most relevant matches.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">A key challenge is that general pretrained embedding models may not perform well for domain-specific enterprise data. Moreover, these models may fail to provide precise results for retrieval use cases as their training objective did not focus specifically on matching queries to relevant documents.
One potential solution is to fine-tune embeddings using domain-specific dataset, but obtaining labeled data is difficult in many application scenarios. Although unlabeled documents are usually available, they can still be scarce in practical scenarios, complicating the situation further. Some approaches <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib11" title="">11</a>]</cite> have therefore employed continued pretraining on unlabeled documents. However, this method requires a substantial amount of data, which may not be available.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To address these problems, we propose REFINE—a novel approach to enhance retrieval performance using unlabeled documents, particularly when data is scarce. Our contributions can be summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">A novel approach to generate contrastive training datasets for fine-tuning embedding models suited for retrieval use-cases, using only available unlabeled documents, by leveraging an LLM.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">Second, we demonstrate how the generated dataset can enhance the embedding model through standard fine-tuning methods, without any additional techniques.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Third, we introduce a model fusion technique during fine-tuning that incorporates both pretrained representations and the new data-specific learning, boosting performance further while retaining general capabilities for out-of-domain datasets.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Document retrieval systems have revolutionized information access, allowing users to find relevant content from large databases quickly. These systems are particularly critical in question-answering (QA) tasks, where relevant documents provide the necessary context for generating accurate answers <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib24" title="">24</a>]</cite>. The emergence of large language models (LLMs) has increased the importance of document retrieval, especially in RAG applications. The LLM context is augmented with the right documents so that it generates the correct answers without hallucinations <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib14" title="">14</a>]</cite>. The effectiveness of such retrieval systems often depends upon the quality of the document embeddings that are used to represent and retrieve the relevant information. Initially, systems such as BM-25, which employ sparse retrievers, were common <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib20" title="">20</a>]</cite>. Although effective when exact word matches are present, they struggle with semantic understanding. To address this, the use of dense retrievers became prevalent. These retrievers, which are essentially embedding models, provide semantic text representations. DPR <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib13" title="">13</a>]</cite> demonstrates the practicality of using dense representations for retrieval with a dual encoder framework trained on a modest set of questions and passages.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">A major breakthrough in embedding models occurred with the introduction of BERT-based models <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib4" title="">4</a>]</cite>, which provide contextual representations through Masked Language Modeling (MLM), a self-supervised learning technique. Subsequently, considerable effort was made to create generalized embeddings, such as Sentence Transformers e.g. MPNet <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib19" title="">19</a>]</cite>, OpenAI embeddings, and BGE embeddings <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib26" title="">26</a>]</cite>. These embeddings trained on a vast corpus using contrastive learning have demonstrated significant improvements. However, in many scenarios, they could still fail to correctly represent the text if the domain is very specialized. In these cases, continual pretraining and fine-tuning can be very helpful. Usually, if the domain-specific dataset is large, the model pretraining is first continued in a self-supervised fashion <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib9" title="">9</a>]</cite>, which does not require labeled data. Then, the model is fine-tuned on the target task to further enhance performance for that specific domain and task. However, this fine-tuning requires labeled data, preventing its use in many data-starved application domains. Synthetic data generation has been proposed as a solution to the data scarcity problem. By generating artificial samples that mimic the characteristics of a target domain, the natural training set is augmented, allowing adaptation to new domains without extensive new annotation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib22" title="">22</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Furthermore, while fine-tuned models excel on the domains they are trained on, they can lead to a significant drop in performance on more general tasks, a phenomenon known as catastrophic forgetting <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib3" title="">3</a>]</cite>. To counteract this, various strategies have been proposed, including replay-based methods <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib21" title="">21</a>]</cite> and regularization-based methods <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib18" title="">18</a>]</cite>. More recently, the concept of model merging has been shown effective to harness the strengths of different models. This technique involves combining models that have been trained on different datasets or that employ distinct architectures <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib27" title="">27</a>]</cite>. However, this merging typically occurs after fine-tuning and without continued training. Our proposed REFINE method, by contrast, incorporates model merging during the training phase. This strategy allows for more effective representation learning as the model continues using knowledge from the pretrained model while adapting to the new domain.</p>
</div>
<figure class="ltx_figure" id="S2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="247" id="S2.F1.g1" src="x1.png" width="493"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>(A) standard BGE process followed for fine-tuning. (B) training process for REFINE.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Approach</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this work, we introduce a data augmentation technique employed to fine-tune the embedding model. This technique aims to enrich the representations and enhance the retrieval performance. Additionally, we propose a model fusion technique to further improve the fine-tuning process. In the subsequent subsections, we will elaborate on these concepts in detail.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Data Augmentation for Fine-tuning</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">LLMs have been utilized for data augmentation or synthetic data creation, having shown good out-of-the-box performance. This process involves automating the laborious and time-consuming task of creating and annotating data by humans. With LLMs, we can generate synthetic data rapidly, and in some cases, even outperform human text annotation quality <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib7" title="">7</a>]</cite>. With the advent of larger and newer LLMs, the quality of LLM-generated annotations and data can be expected to improve further.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.2">We utilize LLM to generate high-quality synthetic data that is used to fine-tune the embedding model, BGE in our case. We start with a set of given unlabeled documents <math alttext="D" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_D</annotation></semantics></math>, and for each document, we prompt the LLM to generate a set of derived queries <math alttext="Q=\{q_{1},q_{2},\ldots,q_{k}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.4"><semantics id="S3.SS1.p2.2.m2.4a"><mrow id="S3.SS1.p2.2.m2.4.4" xref="S3.SS1.p2.2.m2.4.4.cmml"><mi id="S3.SS1.p2.2.m2.4.4.5" xref="S3.SS1.p2.2.m2.4.4.5.cmml">Q</mi><mo id="S3.SS1.p2.2.m2.4.4.4" xref="S3.SS1.p2.2.m2.4.4.4.cmml">=</mo><mrow id="S3.SS1.p2.2.m2.4.4.3.3" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml"><mo id="S3.SS1.p2.2.m2.4.4.3.3.4" stretchy="false" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p2.2.m2.2.2.1.1.1" xref="S3.SS1.p2.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.2.m2.2.2.1.1.1.2" xref="S3.SS1.p2.2.m2.2.2.1.1.1.2.cmml">q</mi><mn id="S3.SS1.p2.2.m2.2.2.1.1.1.3" xref="S3.SS1.p2.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.2.m2.4.4.3.3.5" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.2.m2.3.3.2.2.2" xref="S3.SS1.p2.2.m2.3.3.2.2.2.cmml"><mi id="S3.SS1.p2.2.m2.3.3.2.2.2.2" xref="S3.SS1.p2.2.m2.3.3.2.2.2.2.cmml">q</mi><mn id="S3.SS1.p2.2.m2.3.3.2.2.2.3" xref="S3.SS1.p2.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p2.2.m2.4.4.3.3.6" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p2.2.m2.1.1" mathvariant="normal" xref="S3.SS1.p2.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p2.2.m2.4.4.3.3.7" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.2.m2.4.4.3.3.3" xref="S3.SS1.p2.2.m2.4.4.3.3.3.cmml"><mi id="S3.SS1.p2.2.m2.4.4.3.3.3.2" xref="S3.SS1.p2.2.m2.4.4.3.3.3.2.cmml">q</mi><mi id="S3.SS1.p2.2.m2.4.4.3.3.3.3" xref="S3.SS1.p2.2.m2.4.4.3.3.3.3.cmml">k</mi></msub><mo id="S3.SS1.p2.2.m2.4.4.3.3.8" stretchy="false" xref="S3.SS1.p2.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.4b"><apply id="S3.SS1.p2.2.m2.4.4.cmml" xref="S3.SS1.p2.2.m2.4.4"><eq id="S3.SS1.p2.2.m2.4.4.4.cmml" xref="S3.SS1.p2.2.m2.4.4.4"></eq><ci id="S3.SS1.p2.2.m2.4.4.5.cmml" xref="S3.SS1.p2.2.m2.4.4.5">𝑄</ci><set id="S3.SS1.p2.2.m2.4.4.3.4.cmml" xref="S3.SS1.p2.2.m2.4.4.3.3"><apply id="S3.SS1.p2.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.2.2.1.1.1.2">𝑞</ci><cn id="S3.SS1.p2.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p2.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p2.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p2.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.2.m2.3.3.2.2.2.2">𝑞</ci><cn id="S3.SS1.p2.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p2.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">…</ci><apply id="S3.SS1.p2.2.m2.4.4.3.3.3.cmml" xref="S3.SS1.p2.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.3.3.3.1.cmml" xref="S3.SS1.p2.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.2.m2.4.4.3.3.3.2.cmml" xref="S3.SS1.p2.2.m2.4.4.3.3.3.2">𝑞</ci><ci id="S3.SS1.p2.2.m2.4.4.3.3.3.3.cmml" xref="S3.SS1.p2.2.m2.4.4.3.3.3.3">𝑘</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.4c">Q=\{q_{1},q_{2},\ldots,q_{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.4d">italic_Q = { italic_q start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_q start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_q start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT }</annotation></semantics></math>. The prompt we used for generating queries is:</p>
<blockquote class="ltx_quote" id="S3.SS1.p2.3">
<p class="ltx_p" id="S3.SS1.p2.3.1"><span class="ltx_text ltx_font_typewriter" id="S3.SS1.p2.3.1.1">You are a query generator bot. Generate 10 distinct queries from the document <math alttext="D" class="ltx_Math" display="inline" id="S3.SS1.p2.3.1.1.m1.1"><semantics id="S3.SS1.p2.3.1.1.m1.1a"><mi id="S3.SS1.p2.3.1.1.m1.1.1" xref="S3.SS1.p2.3.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.1.1.m1.1b"><ci id="S3.SS1.p2.3.1.1.m1.1.1.cmml" xref="S3.SS1.p2.3.1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.1.1.m1.1d">italic_D</annotation></semantics></math></span></p>
</blockquote>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.3">In our experiments, we set <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_k</annotation></semantics></math> to 10. Now, for each generated query <math alttext="q_{i}\in Q" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><msub id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2.2" xref="S3.SS1.p3.2.m2.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p3.2.m2.1.1.2.3" xref="S3.SS1.p3.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p3.2.m2.1.1.1" xref="S3.SS1.p3.2.m2.1.1.1.cmml">∈</mo><mi id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><in id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1.1"></in><apply id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.2.1.cmml" xref="S3.SS1.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2.2">𝑞</ci><ci id="S3.SS1.p3.2.m2.1.1.2.3.cmml" xref="S3.SS1.p3.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">q_{i}\in Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_Q</annotation></semantics></math>, since we know from which document the question was generated, its corresponding source document becomes the positive sample passage <math alttext="d^{+}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p3.3.m3.1"><semantics id="S3.SS1.p3.3.m3.1a"><msubsup id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml"><mi id="S3.SS1.p3.3.m3.1.1.2.2" xref="S3.SS1.p3.3.m3.1.1.2.2.cmml">d</mi><mi id="S3.SS1.p3.3.m3.1.1.3" xref="S3.SS1.p3.3.m3.1.1.3.cmml">i</mi><mo id="S3.SS1.p3.3.m3.1.1.2.3" xref="S3.SS1.p3.3.m3.1.1.2.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><apply id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">subscript</csymbol><apply id="S3.SS1.p3.3.m3.1.1.2.cmml" xref="S3.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.2.1.cmml" xref="S3.SS1.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.p3.3.m3.1.1.2.2.cmml" xref="S3.SS1.p3.3.m3.1.1.2.2">𝑑</ci><plus id="S3.SS1.p3.3.m3.1.1.2.3.cmml" xref="S3.SS1.p3.3.m3.1.1.2.3"></plus></apply><ci id="S3.SS1.p3.3.m3.1.1.3.cmml" xref="S3.SS1.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">d^{+}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.3.m3.1d">italic_d start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. For contrastive fine-tuning of the embedding model, we also require negative sample passages, so that the model learns to discriminate between positive and negative matches between queries and passages.</p>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.10">
<div class="ltx_listingline" id="algorithm1.2.2">
<span class="ltx_text" id="algorithm1.2.2.1"><span class="ltx_text ltx_font_bold" id="algorithm1.2.2.1.1">Input:</span> </span>Documents <math alttext="D" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1"><semantics id="algorithm1.1.1.m1.1a"><mi id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.1.1.m1.1d">italic_D</annotation></semantics></math>, pretrained BGE model <math alttext="M" class="ltx_Math" display="inline" id="algorithm1.2.2.m2.1"><semantics id="algorithm1.2.2.m2.1a"><mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">M</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.2.m2.1d">italic_M</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.10.11">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div class="ltx_listingline" id="algorithm1.3.3">
<math alttext="D_{A}\leftarrow\emptyset" class="ltx_Math" display="inline" id="algorithm1.3.3.m1.1"><semantics id="algorithm1.3.3.m1.1a"><mrow id="algorithm1.3.3.m1.1.1" xref="algorithm1.3.3.m1.1.1.cmml"><msub id="algorithm1.3.3.m1.1.1.2" xref="algorithm1.3.3.m1.1.1.2.cmml"><mi id="algorithm1.3.3.m1.1.1.2.2" xref="algorithm1.3.3.m1.1.1.2.2.cmml">D</mi><mi id="algorithm1.3.3.m1.1.1.2.3" xref="algorithm1.3.3.m1.1.1.2.3.cmml">A</mi></msub><mo id="algorithm1.3.3.m1.1.1.1" stretchy="false" xref="algorithm1.3.3.m1.1.1.1.cmml">←</mo><mi id="algorithm1.3.3.m1.1.1.3" mathvariant="normal" xref="algorithm1.3.3.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m1.1b"><apply id="algorithm1.3.3.m1.1.1.cmml" xref="algorithm1.3.3.m1.1.1"><ci id="algorithm1.3.3.m1.1.1.1.cmml" xref="algorithm1.3.3.m1.1.1.1">←</ci><apply id="algorithm1.3.3.m1.1.1.2.cmml" xref="algorithm1.3.3.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m1.1.1.2.1.cmml" xref="algorithm1.3.3.m1.1.1.2">subscript</csymbol><ci id="algorithm1.3.3.m1.1.1.2.2.cmml" xref="algorithm1.3.3.m1.1.1.2.2">𝐷</ci><ci id="algorithm1.3.3.m1.1.1.2.3.cmml" xref="algorithm1.3.3.m1.1.1.2.3">𝐴</ci></apply><emptyset id="algorithm1.3.3.m1.1.1.3.cmml" xref="algorithm1.3.3.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m1.1c">D_{A}\leftarrow\emptyset</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.3.m1.1d">italic_D start_POSTSUBSCRIPT italic_A end_POSTSUBSCRIPT ← ∅</annotation></semantics></math>; 
</div>
<div class="ltx_listingline" id="algorithm1.10.12">  <span class="ltx_text ltx_font_typewriter" id="algorithm1.10.12.1">// </span><span class="ltx_text ltx_font_typewriter" id="algorithm1.10.12.2">Augmented Dataset</span>
</div>
<div class="ltx_listingline" id="algorithm1.4.4">
<span class="ltx_tag ltx_tag_listingline">2</span>
<math alttext="DB\leftarrow create\_vectordb(D,M)" class="ltx_Math" display="inline" id="algorithm1.4.4.m1.2"><semantics id="algorithm1.4.4.m1.2a"><mrow id="algorithm1.4.4.m1.2.3" xref="algorithm1.4.4.m1.2.3.cmml"><mrow id="algorithm1.4.4.m1.2.3.2" xref="algorithm1.4.4.m1.2.3.2.cmml"><mi id="algorithm1.4.4.m1.2.3.2.2" xref="algorithm1.4.4.m1.2.3.2.2.cmml">D</mi><mo id="algorithm1.4.4.m1.2.3.2.1" xref="algorithm1.4.4.m1.2.3.2.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.2.3" xref="algorithm1.4.4.m1.2.3.2.3.cmml">B</mi></mrow><mo id="algorithm1.4.4.m1.2.3.1" stretchy="false" xref="algorithm1.4.4.m1.2.3.1.cmml">←</mo><mrow id="algorithm1.4.4.m1.2.3.3" xref="algorithm1.4.4.m1.2.3.3.cmml"><mi id="algorithm1.4.4.m1.2.3.3.2" xref="algorithm1.4.4.m1.2.3.3.2.cmml">c</mi><mo id="algorithm1.4.4.m1.2.3.3.1" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.3" xref="algorithm1.4.4.m1.2.3.3.3.cmml">r</mi><mo id="algorithm1.4.4.m1.2.3.3.1a" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.4" xref="algorithm1.4.4.m1.2.3.3.4.cmml">e</mi><mo id="algorithm1.4.4.m1.2.3.3.1b" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.5" xref="algorithm1.4.4.m1.2.3.3.5.cmml">a</mi><mo id="algorithm1.4.4.m1.2.3.3.1c" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.6" xref="algorithm1.4.4.m1.2.3.3.6.cmml">t</mi><mo id="algorithm1.4.4.m1.2.3.3.1d" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.7" xref="algorithm1.4.4.m1.2.3.3.7.cmml">e</mi><mo id="algorithm1.4.4.m1.2.3.3.1e" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.8" mathvariant="normal" xref="algorithm1.4.4.m1.2.3.3.8.cmml">_</mi><mo id="algorithm1.4.4.m1.2.3.3.1f" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.9" xref="algorithm1.4.4.m1.2.3.3.9.cmml">v</mi><mo id="algorithm1.4.4.m1.2.3.3.1g" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.10" xref="algorithm1.4.4.m1.2.3.3.10.cmml">e</mi><mo id="algorithm1.4.4.m1.2.3.3.1h" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.11" xref="algorithm1.4.4.m1.2.3.3.11.cmml">c</mi><mo id="algorithm1.4.4.m1.2.3.3.1i" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.12" xref="algorithm1.4.4.m1.2.3.3.12.cmml">t</mi><mo id="algorithm1.4.4.m1.2.3.3.1j" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.13" xref="algorithm1.4.4.m1.2.3.3.13.cmml">o</mi><mo id="algorithm1.4.4.m1.2.3.3.1k" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.14" xref="algorithm1.4.4.m1.2.3.3.14.cmml">r</mi><mo id="algorithm1.4.4.m1.2.3.3.1l" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.15" xref="algorithm1.4.4.m1.2.3.3.15.cmml">d</mi><mo id="algorithm1.4.4.m1.2.3.3.1m" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm1.4.4.m1.2.3.3.16" xref="algorithm1.4.4.m1.2.3.3.16.cmml">b</mi><mo id="algorithm1.4.4.m1.2.3.3.1n" xref="algorithm1.4.4.m1.2.3.3.1.cmml">⁢</mo><mrow id="algorithm1.4.4.m1.2.3.3.17.2" xref="algorithm1.4.4.m1.2.3.3.17.1.cmml"><mo id="algorithm1.4.4.m1.2.3.3.17.2.1" stretchy="false" xref="algorithm1.4.4.m1.2.3.3.17.1.cmml">(</mo><mi id="algorithm1.4.4.m1.1.1" xref="algorithm1.4.4.m1.1.1.cmml">D</mi><mo id="algorithm1.4.4.m1.2.3.3.17.2.2" xref="algorithm1.4.4.m1.2.3.3.17.1.cmml">,</mo><mi id="algorithm1.4.4.m1.2.2" xref="algorithm1.4.4.m1.2.2.cmml">M</mi><mo id="algorithm1.4.4.m1.2.3.3.17.2.3" stretchy="false" xref="algorithm1.4.4.m1.2.3.3.17.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m1.2b"><apply id="algorithm1.4.4.m1.2.3.cmml" xref="algorithm1.4.4.m1.2.3"><ci id="algorithm1.4.4.m1.2.3.1.cmml" xref="algorithm1.4.4.m1.2.3.1">←</ci><apply id="algorithm1.4.4.m1.2.3.2.cmml" xref="algorithm1.4.4.m1.2.3.2"><times id="algorithm1.4.4.m1.2.3.2.1.cmml" xref="algorithm1.4.4.m1.2.3.2.1"></times><ci id="algorithm1.4.4.m1.2.3.2.2.cmml" xref="algorithm1.4.4.m1.2.3.2.2">𝐷</ci><ci id="algorithm1.4.4.m1.2.3.2.3.cmml" xref="algorithm1.4.4.m1.2.3.2.3">𝐵</ci></apply><apply id="algorithm1.4.4.m1.2.3.3.cmml" xref="algorithm1.4.4.m1.2.3.3"><times id="algorithm1.4.4.m1.2.3.3.1.cmml" xref="algorithm1.4.4.m1.2.3.3.1"></times><ci id="algorithm1.4.4.m1.2.3.3.2.cmml" xref="algorithm1.4.4.m1.2.3.3.2">𝑐</ci><ci id="algorithm1.4.4.m1.2.3.3.3.cmml" xref="algorithm1.4.4.m1.2.3.3.3">𝑟</ci><ci id="algorithm1.4.4.m1.2.3.3.4.cmml" xref="algorithm1.4.4.m1.2.3.3.4">𝑒</ci><ci id="algorithm1.4.4.m1.2.3.3.5.cmml" xref="algorithm1.4.4.m1.2.3.3.5">𝑎</ci><ci id="algorithm1.4.4.m1.2.3.3.6.cmml" xref="algorithm1.4.4.m1.2.3.3.6">𝑡</ci><ci id="algorithm1.4.4.m1.2.3.3.7.cmml" xref="algorithm1.4.4.m1.2.3.3.7">𝑒</ci><ci id="algorithm1.4.4.m1.2.3.3.8.cmml" xref="algorithm1.4.4.m1.2.3.3.8">_</ci><ci id="algorithm1.4.4.m1.2.3.3.9.cmml" xref="algorithm1.4.4.m1.2.3.3.9">𝑣</ci><ci id="algorithm1.4.4.m1.2.3.3.10.cmml" xref="algorithm1.4.4.m1.2.3.3.10">𝑒</ci><ci id="algorithm1.4.4.m1.2.3.3.11.cmml" xref="algorithm1.4.4.m1.2.3.3.11">𝑐</ci><ci id="algorithm1.4.4.m1.2.3.3.12.cmml" xref="algorithm1.4.4.m1.2.3.3.12">𝑡</ci><ci id="algorithm1.4.4.m1.2.3.3.13.cmml" xref="algorithm1.4.4.m1.2.3.3.13">𝑜</ci><ci id="algorithm1.4.4.m1.2.3.3.14.cmml" xref="algorithm1.4.4.m1.2.3.3.14">𝑟</ci><ci id="algorithm1.4.4.m1.2.3.3.15.cmml" xref="algorithm1.4.4.m1.2.3.3.15">𝑑</ci><ci id="algorithm1.4.4.m1.2.3.3.16.cmml" xref="algorithm1.4.4.m1.2.3.3.16">𝑏</ci><interval closure="open" id="algorithm1.4.4.m1.2.3.3.17.1.cmml" xref="algorithm1.4.4.m1.2.3.3.17.2"><ci id="algorithm1.4.4.m1.1.1.cmml" xref="algorithm1.4.4.m1.1.1">𝐷</ci><ci id="algorithm1.4.4.m1.2.2.cmml" xref="algorithm1.4.4.m1.2.2">𝑀</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m1.2c">DB\leftarrow create\_vectordb(D,M)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.4.m1.2d">italic_D italic_B ← italic_c italic_r italic_e italic_a italic_t italic_e _ italic_v italic_e italic_c italic_t italic_o italic_r italic_d italic_b ( italic_D , italic_M )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.5.5">
<span class="ltx_tag ltx_tag_listingline">3</span>
<span class="ltx_text ltx_font_bold" id="algorithm1.5.5.2">foreach</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.5.5.1"><math alttext="d^{+}_{i}\in D" class="ltx_Math" display="inline" id="algorithm1.5.5.1.m1.1"><semantics id="algorithm1.5.5.1.m1.1a"><mrow id="algorithm1.5.5.1.m1.1.1" xref="algorithm1.5.5.1.m1.1.1.cmml"><msubsup id="algorithm1.5.5.1.m1.1.1.2" xref="algorithm1.5.5.1.m1.1.1.2.cmml"><mi id="algorithm1.5.5.1.m1.1.1.2.2.2" xref="algorithm1.5.5.1.m1.1.1.2.2.2.cmml">d</mi><mi id="algorithm1.5.5.1.m1.1.1.2.3" xref="algorithm1.5.5.1.m1.1.1.2.3.cmml">i</mi><mo id="algorithm1.5.5.1.m1.1.1.2.2.3" xref="algorithm1.5.5.1.m1.1.1.2.2.3.cmml">+</mo></msubsup><mo id="algorithm1.5.5.1.m1.1.1.1" xref="algorithm1.5.5.1.m1.1.1.1.cmml">∈</mo><mi id="algorithm1.5.5.1.m1.1.1.3" xref="algorithm1.5.5.1.m1.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.1.m1.1b"><apply id="algorithm1.5.5.1.m1.1.1.cmml" xref="algorithm1.5.5.1.m1.1.1"><in id="algorithm1.5.5.1.m1.1.1.1.cmml" xref="algorithm1.5.5.1.m1.1.1.1"></in><apply id="algorithm1.5.5.1.m1.1.1.2.cmml" xref="algorithm1.5.5.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.5.5.1.m1.1.1.2.1.cmml" xref="algorithm1.5.5.1.m1.1.1.2">subscript</csymbol><apply id="algorithm1.5.5.1.m1.1.1.2.2.cmml" xref="algorithm1.5.5.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.5.5.1.m1.1.1.2.2.1.cmml" xref="algorithm1.5.5.1.m1.1.1.2">superscript</csymbol><ci id="algorithm1.5.5.1.m1.1.1.2.2.2.cmml" xref="algorithm1.5.5.1.m1.1.1.2.2.2">𝑑</ci><plus id="algorithm1.5.5.1.m1.1.1.2.2.3.cmml" xref="algorithm1.5.5.1.m1.1.1.2.2.3"></plus></apply><ci id="algorithm1.5.5.1.m1.1.1.2.3.cmml" xref="algorithm1.5.5.1.m1.1.1.2.3">𝑖</ci></apply><ci id="algorithm1.5.5.1.m1.1.1.3.cmml" xref="algorithm1.5.5.1.m1.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.1.m1.1c">d^{+}_{i}\in D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.5.1.m1.1d">italic_d start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_D</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.5.5.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.6.6">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="Q\leftarrow generate\_queries(d^{+}_{i},k=10)" class="ltx_Math" display="inline" id="algorithm1.6.6.m1.2"><semantics id="algorithm1.6.6.m1.2a"><mrow id="algorithm1.6.6.m1.2.2" xref="algorithm1.6.6.m1.2.2.cmml"><mi id="algorithm1.6.6.m1.2.2.3" xref="algorithm1.6.6.m1.2.2.3.cmml">Q</mi><mo id="algorithm1.6.6.m1.2.2.2" stretchy="false" xref="algorithm1.6.6.m1.2.2.2.cmml">←</mo><mrow id="algorithm1.6.6.m1.2.2.1" xref="algorithm1.6.6.m1.2.2.1.cmml"><mi id="algorithm1.6.6.m1.2.2.1.3" xref="algorithm1.6.6.m1.2.2.1.3.cmml">g</mi><mo id="algorithm1.6.6.m1.2.2.1.2" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.4" xref="algorithm1.6.6.m1.2.2.1.4.cmml">e</mi><mo id="algorithm1.6.6.m1.2.2.1.2a" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.5" xref="algorithm1.6.6.m1.2.2.1.5.cmml">n</mi><mo id="algorithm1.6.6.m1.2.2.1.2b" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.6" xref="algorithm1.6.6.m1.2.2.1.6.cmml">e</mi><mo id="algorithm1.6.6.m1.2.2.1.2c" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.7" xref="algorithm1.6.6.m1.2.2.1.7.cmml">r</mi><mo id="algorithm1.6.6.m1.2.2.1.2d" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.8" xref="algorithm1.6.6.m1.2.2.1.8.cmml">a</mi><mo id="algorithm1.6.6.m1.2.2.1.2e" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.9" xref="algorithm1.6.6.m1.2.2.1.9.cmml">t</mi><mo id="algorithm1.6.6.m1.2.2.1.2f" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.10" xref="algorithm1.6.6.m1.2.2.1.10.cmml">e</mi><mo id="algorithm1.6.6.m1.2.2.1.2g" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.11" mathvariant="normal" xref="algorithm1.6.6.m1.2.2.1.11.cmml">_</mi><mo id="algorithm1.6.6.m1.2.2.1.2h" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.12" xref="algorithm1.6.6.m1.2.2.1.12.cmml">q</mi><mo id="algorithm1.6.6.m1.2.2.1.2i" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.13" xref="algorithm1.6.6.m1.2.2.1.13.cmml">u</mi><mo id="algorithm1.6.6.m1.2.2.1.2j" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.14" xref="algorithm1.6.6.m1.2.2.1.14.cmml">e</mi><mo id="algorithm1.6.6.m1.2.2.1.2k" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.15" xref="algorithm1.6.6.m1.2.2.1.15.cmml">r</mi><mo id="algorithm1.6.6.m1.2.2.1.2l" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.16" xref="algorithm1.6.6.m1.2.2.1.16.cmml">i</mi><mo id="algorithm1.6.6.m1.2.2.1.2m" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.17" xref="algorithm1.6.6.m1.2.2.1.17.cmml">e</mi><mo id="algorithm1.6.6.m1.2.2.1.2n" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mi id="algorithm1.6.6.m1.2.2.1.18" xref="algorithm1.6.6.m1.2.2.1.18.cmml">s</mi><mo id="algorithm1.6.6.m1.2.2.1.2o" xref="algorithm1.6.6.m1.2.2.1.2.cmml">⁢</mo><mrow id="algorithm1.6.6.m1.2.2.1.1.1" xref="algorithm1.6.6.m1.2.2.1.1.1.1.cmml"><mo id="algorithm1.6.6.m1.2.2.1.1.1.2" stretchy="false" xref="algorithm1.6.6.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="algorithm1.6.6.m1.2.2.1.1.1.1" xref="algorithm1.6.6.m1.2.2.1.1.1.1.cmml"><mrow id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.2.cmml"><msubsup id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.2" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">d</mi><mi id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.3" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi><mo id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.3" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">+</mo></msubsup><mo id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.2" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.2.cmml">,</mo><mi id="algorithm1.6.6.m1.1.1" xref="algorithm1.6.6.m1.1.1.cmml">k</mi></mrow><mo id="algorithm1.6.6.m1.2.2.1.1.1.1.2" xref="algorithm1.6.6.m1.2.2.1.1.1.1.2.cmml">=</mo><mn id="algorithm1.6.6.m1.2.2.1.1.1.1.3" xref="algorithm1.6.6.m1.2.2.1.1.1.1.3.cmml">10</mn></mrow><mo id="algorithm1.6.6.m1.2.2.1.1.1.3" stretchy="false" xref="algorithm1.6.6.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m1.2b"><apply id="algorithm1.6.6.m1.2.2.cmml" xref="algorithm1.6.6.m1.2.2"><ci id="algorithm1.6.6.m1.2.2.2.cmml" xref="algorithm1.6.6.m1.2.2.2">←</ci><ci id="algorithm1.6.6.m1.2.2.3.cmml" xref="algorithm1.6.6.m1.2.2.3">𝑄</ci><apply id="algorithm1.6.6.m1.2.2.1.cmml" xref="algorithm1.6.6.m1.2.2.1"><times id="algorithm1.6.6.m1.2.2.1.2.cmml" xref="algorithm1.6.6.m1.2.2.1.2"></times><ci id="algorithm1.6.6.m1.2.2.1.3.cmml" xref="algorithm1.6.6.m1.2.2.1.3">𝑔</ci><ci id="algorithm1.6.6.m1.2.2.1.4.cmml" xref="algorithm1.6.6.m1.2.2.1.4">𝑒</ci><ci id="algorithm1.6.6.m1.2.2.1.5.cmml" xref="algorithm1.6.6.m1.2.2.1.5">𝑛</ci><ci id="algorithm1.6.6.m1.2.2.1.6.cmml" xref="algorithm1.6.6.m1.2.2.1.6">𝑒</ci><ci id="algorithm1.6.6.m1.2.2.1.7.cmml" xref="algorithm1.6.6.m1.2.2.1.7">𝑟</ci><ci id="algorithm1.6.6.m1.2.2.1.8.cmml" xref="algorithm1.6.6.m1.2.2.1.8">𝑎</ci><ci id="algorithm1.6.6.m1.2.2.1.9.cmml" xref="algorithm1.6.6.m1.2.2.1.9">𝑡</ci><ci id="algorithm1.6.6.m1.2.2.1.10.cmml" xref="algorithm1.6.6.m1.2.2.1.10">𝑒</ci><ci id="algorithm1.6.6.m1.2.2.1.11.cmml" xref="algorithm1.6.6.m1.2.2.1.11">_</ci><ci id="algorithm1.6.6.m1.2.2.1.12.cmml" xref="algorithm1.6.6.m1.2.2.1.12">𝑞</ci><ci id="algorithm1.6.6.m1.2.2.1.13.cmml" xref="algorithm1.6.6.m1.2.2.1.13">𝑢</ci><ci id="algorithm1.6.6.m1.2.2.1.14.cmml" xref="algorithm1.6.6.m1.2.2.1.14">𝑒</ci><ci id="algorithm1.6.6.m1.2.2.1.15.cmml" xref="algorithm1.6.6.m1.2.2.1.15">𝑟</ci><ci id="algorithm1.6.6.m1.2.2.1.16.cmml" xref="algorithm1.6.6.m1.2.2.1.16">𝑖</ci><ci id="algorithm1.6.6.m1.2.2.1.17.cmml" xref="algorithm1.6.6.m1.2.2.1.17">𝑒</ci><ci id="algorithm1.6.6.m1.2.2.1.18.cmml" xref="algorithm1.6.6.m1.2.2.1.18">𝑠</ci><apply id="algorithm1.6.6.m1.2.2.1.1.1.1.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1"><eq id="algorithm1.6.6.m1.2.2.1.1.1.1.2.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.2"></eq><list id="algorithm1.6.6.m1.2.2.1.1.1.1.1.2.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1"><apply id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.2">𝑑</ci><plus id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.2.3"></plus></apply><ci id="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="algorithm1.6.6.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="algorithm1.6.6.m1.1.1.cmml" xref="algorithm1.6.6.m1.1.1">𝑘</ci></list><cn id="algorithm1.6.6.m1.2.2.1.1.1.1.3.cmml" type="integer" xref="algorithm1.6.6.m1.2.2.1.1.1.1.3">10</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m1.2c">Q\leftarrow generate\_queries(d^{+}_{i},k=10)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.6.m1.2d">italic_Q ← italic_g italic_e italic_n italic_e italic_r italic_a italic_t italic_e _ italic_q italic_u italic_e italic_r italic_i italic_e italic_s ( italic_d start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_k = 10 )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.10.13">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_text ltx_font_typewriter" id="algorithm1.10.13.1">// </span><span class="ltx_text ltx_font_typewriter" id="algorithm1.10.13.2">Generates 10 queries using LLM from the document</span>
</div>
<div class="ltx_listingline" id="algorithm1.7.7">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.7.7.2">foreach</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.7.7.1"><math alttext="q_{i}\in Q" class="ltx_Math" display="inline" id="algorithm1.7.7.1.m1.1"><semantics id="algorithm1.7.7.1.m1.1a"><mrow id="algorithm1.7.7.1.m1.1.1" xref="algorithm1.7.7.1.m1.1.1.cmml"><msub id="algorithm1.7.7.1.m1.1.1.2" xref="algorithm1.7.7.1.m1.1.1.2.cmml"><mi id="algorithm1.7.7.1.m1.1.1.2.2" xref="algorithm1.7.7.1.m1.1.1.2.2.cmml">q</mi><mi id="algorithm1.7.7.1.m1.1.1.2.3" xref="algorithm1.7.7.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="algorithm1.7.7.1.m1.1.1.1" xref="algorithm1.7.7.1.m1.1.1.1.cmml">∈</mo><mi id="algorithm1.7.7.1.m1.1.1.3" xref="algorithm1.7.7.1.m1.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.1.m1.1b"><apply id="algorithm1.7.7.1.m1.1.1.cmml" xref="algorithm1.7.7.1.m1.1.1"><in id="algorithm1.7.7.1.m1.1.1.1.cmml" xref="algorithm1.7.7.1.m1.1.1.1"></in><apply id="algorithm1.7.7.1.m1.1.1.2.cmml" xref="algorithm1.7.7.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.7.7.1.m1.1.1.2.1.cmml" xref="algorithm1.7.7.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.7.7.1.m1.1.1.2.2.cmml" xref="algorithm1.7.7.1.m1.1.1.2.2">𝑞</ci><ci id="algorithm1.7.7.1.m1.1.1.2.3.cmml" xref="algorithm1.7.7.1.m1.1.1.2.3">𝑖</ci></apply><ci id="algorithm1.7.7.1.m1.1.1.3.cmml" xref="algorithm1.7.7.1.m1.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.1.m1.1c">q_{i}\in Q</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.7.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_Q</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.7.7.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.8.8">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="R\leftarrow retrieve\_docs(q_{i},DB)" class="ltx_Math" display="inline" id="algorithm1.8.8.m1.2"><semantics id="algorithm1.8.8.m1.2a"><mrow id="algorithm1.8.8.m1.2.2" xref="algorithm1.8.8.m1.2.2.cmml"><mi id="algorithm1.8.8.m1.2.2.4" xref="algorithm1.8.8.m1.2.2.4.cmml">R</mi><mo id="algorithm1.8.8.m1.2.2.3" stretchy="false" xref="algorithm1.8.8.m1.2.2.3.cmml">←</mo><mrow id="algorithm1.8.8.m1.2.2.2" xref="algorithm1.8.8.m1.2.2.2.cmml"><mi id="algorithm1.8.8.m1.2.2.2.4" xref="algorithm1.8.8.m1.2.2.2.4.cmml">r</mi><mo id="algorithm1.8.8.m1.2.2.2.3" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.5" xref="algorithm1.8.8.m1.2.2.2.5.cmml">e</mi><mo id="algorithm1.8.8.m1.2.2.2.3a" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.6" xref="algorithm1.8.8.m1.2.2.2.6.cmml">t</mi><mo id="algorithm1.8.8.m1.2.2.2.3b" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.7" xref="algorithm1.8.8.m1.2.2.2.7.cmml">r</mi><mo id="algorithm1.8.8.m1.2.2.2.3c" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.8" xref="algorithm1.8.8.m1.2.2.2.8.cmml">i</mi><mo id="algorithm1.8.8.m1.2.2.2.3d" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.9" xref="algorithm1.8.8.m1.2.2.2.9.cmml">e</mi><mo id="algorithm1.8.8.m1.2.2.2.3e" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.10" xref="algorithm1.8.8.m1.2.2.2.10.cmml">v</mi><mo id="algorithm1.8.8.m1.2.2.2.3f" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.11" xref="algorithm1.8.8.m1.2.2.2.11.cmml">e</mi><mo id="algorithm1.8.8.m1.2.2.2.3g" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.12" mathvariant="normal" xref="algorithm1.8.8.m1.2.2.2.12.cmml">_</mi><mo id="algorithm1.8.8.m1.2.2.2.3h" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.13" xref="algorithm1.8.8.m1.2.2.2.13.cmml">d</mi><mo id="algorithm1.8.8.m1.2.2.2.3i" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.14" xref="algorithm1.8.8.m1.2.2.2.14.cmml">o</mi><mo id="algorithm1.8.8.m1.2.2.2.3j" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.15" xref="algorithm1.8.8.m1.2.2.2.15.cmml">c</mi><mo id="algorithm1.8.8.m1.2.2.2.3k" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.16" xref="algorithm1.8.8.m1.2.2.2.16.cmml">s</mi><mo id="algorithm1.8.8.m1.2.2.2.3l" xref="algorithm1.8.8.m1.2.2.2.3.cmml">⁢</mo><mrow id="algorithm1.8.8.m1.2.2.2.2.2" xref="algorithm1.8.8.m1.2.2.2.2.3.cmml"><mo id="algorithm1.8.8.m1.2.2.2.2.2.3" stretchy="false" xref="algorithm1.8.8.m1.2.2.2.2.3.cmml">(</mo><msub id="algorithm1.8.8.m1.1.1.1.1.1.1" xref="algorithm1.8.8.m1.1.1.1.1.1.1.cmml"><mi id="algorithm1.8.8.m1.1.1.1.1.1.1.2" xref="algorithm1.8.8.m1.1.1.1.1.1.1.2.cmml">q</mi><mi id="algorithm1.8.8.m1.1.1.1.1.1.1.3" xref="algorithm1.8.8.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="algorithm1.8.8.m1.2.2.2.2.2.4" xref="algorithm1.8.8.m1.2.2.2.2.3.cmml">,</mo><mrow id="algorithm1.8.8.m1.2.2.2.2.2.2" xref="algorithm1.8.8.m1.2.2.2.2.2.2.cmml"><mi id="algorithm1.8.8.m1.2.2.2.2.2.2.2" xref="algorithm1.8.8.m1.2.2.2.2.2.2.2.cmml">D</mi><mo id="algorithm1.8.8.m1.2.2.2.2.2.2.1" xref="algorithm1.8.8.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.8.8.m1.2.2.2.2.2.2.3" xref="algorithm1.8.8.m1.2.2.2.2.2.2.3.cmml">B</mi></mrow><mo id="algorithm1.8.8.m1.2.2.2.2.2.5" stretchy="false" xref="algorithm1.8.8.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m1.2b"><apply id="algorithm1.8.8.m1.2.2.cmml" xref="algorithm1.8.8.m1.2.2"><ci id="algorithm1.8.8.m1.2.2.3.cmml" xref="algorithm1.8.8.m1.2.2.3">←</ci><ci id="algorithm1.8.8.m1.2.2.4.cmml" xref="algorithm1.8.8.m1.2.2.4">𝑅</ci><apply id="algorithm1.8.8.m1.2.2.2.cmml" xref="algorithm1.8.8.m1.2.2.2"><times id="algorithm1.8.8.m1.2.2.2.3.cmml" xref="algorithm1.8.8.m1.2.2.2.3"></times><ci id="algorithm1.8.8.m1.2.2.2.4.cmml" xref="algorithm1.8.8.m1.2.2.2.4">𝑟</ci><ci id="algorithm1.8.8.m1.2.2.2.5.cmml" xref="algorithm1.8.8.m1.2.2.2.5">𝑒</ci><ci id="algorithm1.8.8.m1.2.2.2.6.cmml" xref="algorithm1.8.8.m1.2.2.2.6">𝑡</ci><ci id="algorithm1.8.8.m1.2.2.2.7.cmml" xref="algorithm1.8.8.m1.2.2.2.7">𝑟</ci><ci id="algorithm1.8.8.m1.2.2.2.8.cmml" xref="algorithm1.8.8.m1.2.2.2.8">𝑖</ci><ci id="algorithm1.8.8.m1.2.2.2.9.cmml" xref="algorithm1.8.8.m1.2.2.2.9">𝑒</ci><ci id="algorithm1.8.8.m1.2.2.2.10.cmml" xref="algorithm1.8.8.m1.2.2.2.10">𝑣</ci><ci id="algorithm1.8.8.m1.2.2.2.11.cmml" xref="algorithm1.8.8.m1.2.2.2.11">𝑒</ci><ci id="algorithm1.8.8.m1.2.2.2.12.cmml" xref="algorithm1.8.8.m1.2.2.2.12">_</ci><ci id="algorithm1.8.8.m1.2.2.2.13.cmml" xref="algorithm1.8.8.m1.2.2.2.13">𝑑</ci><ci id="algorithm1.8.8.m1.2.2.2.14.cmml" xref="algorithm1.8.8.m1.2.2.2.14">𝑜</ci><ci id="algorithm1.8.8.m1.2.2.2.15.cmml" xref="algorithm1.8.8.m1.2.2.2.15">𝑐</ci><ci id="algorithm1.8.8.m1.2.2.2.16.cmml" xref="algorithm1.8.8.m1.2.2.2.16">𝑠</ci><interval closure="open" id="algorithm1.8.8.m1.2.2.2.2.3.cmml" xref="algorithm1.8.8.m1.2.2.2.2.2"><apply id="algorithm1.8.8.m1.1.1.1.1.1.1.cmml" xref="algorithm1.8.8.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.8.8.m1.1.1.1.1.1.1.1.cmml" xref="algorithm1.8.8.m1.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.8.8.m1.1.1.1.1.1.1.2.cmml" xref="algorithm1.8.8.m1.1.1.1.1.1.1.2">𝑞</ci><ci id="algorithm1.8.8.m1.1.1.1.1.1.1.3.cmml" xref="algorithm1.8.8.m1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="algorithm1.8.8.m1.2.2.2.2.2.2.cmml" xref="algorithm1.8.8.m1.2.2.2.2.2.2"><times id="algorithm1.8.8.m1.2.2.2.2.2.2.1.cmml" xref="algorithm1.8.8.m1.2.2.2.2.2.2.1"></times><ci id="algorithm1.8.8.m1.2.2.2.2.2.2.2.cmml" xref="algorithm1.8.8.m1.2.2.2.2.2.2.2">𝐷</ci><ci id="algorithm1.8.8.m1.2.2.2.2.2.2.3.cmml" xref="algorithm1.8.8.m1.2.2.2.2.2.2.3">𝐵</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m1.2c">R\leftarrow retrieve\_docs(q_{i},DB)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.8.m1.2d">italic_R ← italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_e _ italic_d italic_o italic_c italic_s ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_D italic_B )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.9.9">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="D^{-}\leftarrow select\_neg\_docs(R)" class="ltx_Math" display="inline" id="algorithm1.9.9.m1.1"><semantics id="algorithm1.9.9.m1.1a"><mrow id="algorithm1.9.9.m1.1.2" xref="algorithm1.9.9.m1.1.2.cmml"><msup id="algorithm1.9.9.m1.1.2.2" xref="algorithm1.9.9.m1.1.2.2.cmml"><mi id="algorithm1.9.9.m1.1.2.2.2" xref="algorithm1.9.9.m1.1.2.2.2.cmml">D</mi><mo id="algorithm1.9.9.m1.1.2.2.3" xref="algorithm1.9.9.m1.1.2.2.3.cmml">−</mo></msup><mo id="algorithm1.9.9.m1.1.2.1" stretchy="false" xref="algorithm1.9.9.m1.1.2.1.cmml">←</mo><mrow id="algorithm1.9.9.m1.1.2.3" xref="algorithm1.9.9.m1.1.2.3.cmml"><mi id="algorithm1.9.9.m1.1.2.3.2" xref="algorithm1.9.9.m1.1.2.3.2.cmml">s</mi><mo id="algorithm1.9.9.m1.1.2.3.1" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.3" xref="algorithm1.9.9.m1.1.2.3.3.cmml">e</mi><mo id="algorithm1.9.9.m1.1.2.3.1a" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.4" xref="algorithm1.9.9.m1.1.2.3.4.cmml">l</mi><mo id="algorithm1.9.9.m1.1.2.3.1b" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.5" xref="algorithm1.9.9.m1.1.2.3.5.cmml">e</mi><mo id="algorithm1.9.9.m1.1.2.3.1c" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.6" xref="algorithm1.9.9.m1.1.2.3.6.cmml">c</mi><mo id="algorithm1.9.9.m1.1.2.3.1d" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.7" xref="algorithm1.9.9.m1.1.2.3.7.cmml">t</mi><mo id="algorithm1.9.9.m1.1.2.3.1e" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.8" mathvariant="normal" xref="algorithm1.9.9.m1.1.2.3.8.cmml">_</mi><mo id="algorithm1.9.9.m1.1.2.3.1f" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.9" xref="algorithm1.9.9.m1.1.2.3.9.cmml">n</mi><mo id="algorithm1.9.9.m1.1.2.3.1g" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.10" xref="algorithm1.9.9.m1.1.2.3.10.cmml">e</mi><mo id="algorithm1.9.9.m1.1.2.3.1h" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.11" xref="algorithm1.9.9.m1.1.2.3.11.cmml">g</mi><mo id="algorithm1.9.9.m1.1.2.3.1i" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.12" mathvariant="normal" xref="algorithm1.9.9.m1.1.2.3.12.cmml">_</mi><mo id="algorithm1.9.9.m1.1.2.3.1j" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.13" xref="algorithm1.9.9.m1.1.2.3.13.cmml">d</mi><mo id="algorithm1.9.9.m1.1.2.3.1k" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.14" xref="algorithm1.9.9.m1.1.2.3.14.cmml">o</mi><mo id="algorithm1.9.9.m1.1.2.3.1l" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.15" xref="algorithm1.9.9.m1.1.2.3.15.cmml">c</mi><mo id="algorithm1.9.9.m1.1.2.3.1m" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mi id="algorithm1.9.9.m1.1.2.3.16" xref="algorithm1.9.9.m1.1.2.3.16.cmml">s</mi><mo id="algorithm1.9.9.m1.1.2.3.1n" xref="algorithm1.9.9.m1.1.2.3.1.cmml">⁢</mo><mrow id="algorithm1.9.9.m1.1.2.3.17.2" xref="algorithm1.9.9.m1.1.2.3.cmml"><mo id="algorithm1.9.9.m1.1.2.3.17.2.1" stretchy="false" xref="algorithm1.9.9.m1.1.2.3.cmml">(</mo><mi id="algorithm1.9.9.m1.1.1" xref="algorithm1.9.9.m1.1.1.cmml">R</mi><mo id="algorithm1.9.9.m1.1.2.3.17.2.2" stretchy="false" xref="algorithm1.9.9.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.1b"><apply id="algorithm1.9.9.m1.1.2.cmml" xref="algorithm1.9.9.m1.1.2"><ci id="algorithm1.9.9.m1.1.2.1.cmml" xref="algorithm1.9.9.m1.1.2.1">←</ci><apply id="algorithm1.9.9.m1.1.2.2.cmml" xref="algorithm1.9.9.m1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.9.9.m1.1.2.2.1.cmml" xref="algorithm1.9.9.m1.1.2.2">superscript</csymbol><ci id="algorithm1.9.9.m1.1.2.2.2.cmml" xref="algorithm1.9.9.m1.1.2.2.2">𝐷</ci><minus id="algorithm1.9.9.m1.1.2.2.3.cmml" xref="algorithm1.9.9.m1.1.2.2.3"></minus></apply><apply id="algorithm1.9.9.m1.1.2.3.cmml" xref="algorithm1.9.9.m1.1.2.3"><times id="algorithm1.9.9.m1.1.2.3.1.cmml" xref="algorithm1.9.9.m1.1.2.3.1"></times><ci id="algorithm1.9.9.m1.1.2.3.2.cmml" xref="algorithm1.9.9.m1.1.2.3.2">𝑠</ci><ci id="algorithm1.9.9.m1.1.2.3.3.cmml" xref="algorithm1.9.9.m1.1.2.3.3">𝑒</ci><ci id="algorithm1.9.9.m1.1.2.3.4.cmml" xref="algorithm1.9.9.m1.1.2.3.4">𝑙</ci><ci id="algorithm1.9.9.m1.1.2.3.5.cmml" xref="algorithm1.9.9.m1.1.2.3.5">𝑒</ci><ci id="algorithm1.9.9.m1.1.2.3.6.cmml" xref="algorithm1.9.9.m1.1.2.3.6">𝑐</ci><ci id="algorithm1.9.9.m1.1.2.3.7.cmml" xref="algorithm1.9.9.m1.1.2.3.7">𝑡</ci><ci id="algorithm1.9.9.m1.1.2.3.8.cmml" xref="algorithm1.9.9.m1.1.2.3.8">_</ci><ci id="algorithm1.9.9.m1.1.2.3.9.cmml" xref="algorithm1.9.9.m1.1.2.3.9">𝑛</ci><ci id="algorithm1.9.9.m1.1.2.3.10.cmml" xref="algorithm1.9.9.m1.1.2.3.10">𝑒</ci><ci id="algorithm1.9.9.m1.1.2.3.11.cmml" xref="algorithm1.9.9.m1.1.2.3.11">𝑔</ci><ci id="algorithm1.9.9.m1.1.2.3.12.cmml" xref="algorithm1.9.9.m1.1.2.3.12">_</ci><ci id="algorithm1.9.9.m1.1.2.3.13.cmml" xref="algorithm1.9.9.m1.1.2.3.13">𝑑</ci><ci id="algorithm1.9.9.m1.1.2.3.14.cmml" xref="algorithm1.9.9.m1.1.2.3.14">𝑜</ci><ci id="algorithm1.9.9.m1.1.2.3.15.cmml" xref="algorithm1.9.9.m1.1.2.3.15">𝑐</ci><ci id="algorithm1.9.9.m1.1.2.3.16.cmml" xref="algorithm1.9.9.m1.1.2.3.16">𝑠</ci><ci id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1">𝑅</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m1.1c">D^{-}\leftarrow select\_neg\_docs(R)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.9.m1.1d">italic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT ← italic_s italic_e italic_l italic_e italic_c italic_t _ italic_n italic_e italic_g _ italic_d italic_o italic_c italic_s ( italic_R )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.10.14">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_text ltx_font_typewriter" id="algorithm1.10.14.1">// </span><span class="ltx_text ltx_font_typewriter" id="algorithm1.10.14.2">pick hard negative documents with similarity scores obtained from retriever between 0.5 and 0.7, excluding those in the top 5.</span>
</div>
<div class="ltx_listingline" id="algorithm1.10.10">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="D_{A}\leftarrow D_{A}\cup\{(q_{i},d^{+}_{i},D^{-})\}" class="ltx_Math" display="inline" id="algorithm1.10.10.m1.1"><semantics id="algorithm1.10.10.m1.1a"><mrow id="algorithm1.10.10.m1.1.1" xref="algorithm1.10.10.m1.1.1.cmml"><msub id="algorithm1.10.10.m1.1.1.3" xref="algorithm1.10.10.m1.1.1.3.cmml"><mi id="algorithm1.10.10.m1.1.1.3.2" xref="algorithm1.10.10.m1.1.1.3.2.cmml">D</mi><mi id="algorithm1.10.10.m1.1.1.3.3" xref="algorithm1.10.10.m1.1.1.3.3.cmml">A</mi></msub><mo id="algorithm1.10.10.m1.1.1.2" stretchy="false" xref="algorithm1.10.10.m1.1.1.2.cmml">←</mo><mrow id="algorithm1.10.10.m1.1.1.1" xref="algorithm1.10.10.m1.1.1.1.cmml"><msub id="algorithm1.10.10.m1.1.1.1.3" xref="algorithm1.10.10.m1.1.1.1.3.cmml"><mi id="algorithm1.10.10.m1.1.1.1.3.2" xref="algorithm1.10.10.m1.1.1.1.3.2.cmml">D</mi><mi id="algorithm1.10.10.m1.1.1.1.3.3" xref="algorithm1.10.10.m1.1.1.1.3.3.cmml">A</mi></msub><mo id="algorithm1.10.10.m1.1.1.1.2" xref="algorithm1.10.10.m1.1.1.1.2.cmml">∪</mo><mrow id="algorithm1.10.10.m1.1.1.1.1.1" xref="algorithm1.10.10.m1.1.1.1.1.2.cmml"><mo id="algorithm1.10.10.m1.1.1.1.1.1.2" stretchy="false" xref="algorithm1.10.10.m1.1.1.1.1.2.cmml">{</mo><mrow id="algorithm1.10.10.m1.1.1.1.1.1.1.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml"><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.3.4" stretchy="false" xref="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml">(</mo><msub id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.2" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.3.5" xref="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml">,</mo><msubsup id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.cmml"><mi id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.2" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.2.cmml">d</mi><mi id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.3.cmml">+</mo></msubsup><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.3.6" xref="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml">,</mo><msup id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.cmml"><mi id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.2" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.2.cmml">D</mi><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.3" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.3.cmml">−</mo></msup><mo id="algorithm1.10.10.m1.1.1.1.1.1.1.3.7" stretchy="false" xref="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml">)</mo></mrow><mo id="algorithm1.10.10.m1.1.1.1.1.1.3" stretchy="false" xref="algorithm1.10.10.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m1.1b"><apply id="algorithm1.10.10.m1.1.1.cmml" xref="algorithm1.10.10.m1.1.1"><ci id="algorithm1.10.10.m1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.2">←</ci><apply id="algorithm1.10.10.m1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.3.1.cmml" xref="algorithm1.10.10.m1.1.1.3">subscript</csymbol><ci id="algorithm1.10.10.m1.1.1.3.2.cmml" xref="algorithm1.10.10.m1.1.1.3.2">𝐷</ci><ci id="algorithm1.10.10.m1.1.1.3.3.cmml" xref="algorithm1.10.10.m1.1.1.3.3">𝐴</ci></apply><apply id="algorithm1.10.10.m1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1.1"><union id="algorithm1.10.10.m1.1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.1.2"></union><apply id="algorithm1.10.10.m1.1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.3.1.cmml" xref="algorithm1.10.10.m1.1.1.1.3">subscript</csymbol><ci id="algorithm1.10.10.m1.1.1.1.3.2.cmml" xref="algorithm1.10.10.m1.1.1.1.3.2">𝐷</ci><ci id="algorithm1.10.10.m1.1.1.1.3.3.cmml" xref="algorithm1.10.10.m1.1.1.1.3.3">𝐴</ci></apply><set id="algorithm1.10.10.m1.1.1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1"><vector id="algorithm1.10.10.m1.1.1.1.1.1.1.4.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3"><apply id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.1.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2">subscript</csymbol><apply id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2">superscript</csymbol><ci id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.2">𝑑</ci><plus id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.2.3"></plus></apply><ci id="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.3.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply><apply id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.1.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3">superscript</csymbol><ci id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.2.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.2">𝐷</ci><minus id="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.3.cmml" xref="algorithm1.10.10.m1.1.1.1.1.1.1.3.3.3"></minus></apply></vector></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m1.1c">D_{A}\leftarrow D_{A}\cup\{(q_{i},d^{+}_{i},D^{-})\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.10.m1.1d">italic_D start_POSTSUBSCRIPT italic_A end_POSTSUBSCRIPT ← italic_D start_POSTSUBSCRIPT italic_A end_POSTSUBSCRIPT ∪ { ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_d start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT ) }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.10.15">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="algorithm1.10.16">
<span class="ltx_tag ltx_tag_listingline">8</span>
</div>
<div class="ltx_listingline" id="algorithm1.10.17">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.12.1.1">Algorithm 1</span> </span>Pseudo-code for data augmentation</figcaption>
</figure>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.3">We aim to find “hard negative” training samples to enhance the model’s discriminative power. To that end, we first vectorize and ingest all documents to create a vector store, using a pretrained embedding model. Now, for each query <math alttext="q_{i}\in Q" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><mrow id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><msub id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml"><mi id="S3.SS1.p4.1.m1.1.1.2.2" xref="S3.SS1.p4.1.m1.1.1.2.2.cmml">q</mi><mi id="S3.SS1.p4.1.m1.1.1.2.3" xref="S3.SS1.p4.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p4.1.m1.1.1.1" xref="S3.SS1.p4.1.m1.1.1.1.cmml">∈</mo><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><in id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1.1"></in><apply id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.2.1.cmml" xref="S3.SS1.p4.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.2.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2.2">𝑞</ci><ci id="S3.SS1.p4.1.m1.1.1.2.3.cmml" xref="S3.SS1.p4.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">q_{i}\in Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_Q</annotation></semantics></math>, we use the retriever to locate the top 50 most similar documents. Next, we filter the documents, selecting those that have similarity scores between 50% and 70% and are not in the top <math alttext="k=5" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><mrow id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml"><mi id="S3.SS1.p4.2.m2.1.1.2" xref="S3.SS1.p4.2.m2.1.1.2.cmml">k</mi><mo id="S3.SS1.p4.2.m2.1.1.1" xref="S3.SS1.p4.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS1.p4.2.m2.1.1.3" xref="S3.SS1.p4.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><apply id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1"><eq id="S3.SS1.p4.2.m2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1.1"></eq><ci id="S3.SS1.p4.2.m2.1.1.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2">𝑘</ci><cn id="S3.SS1.p4.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.p4.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">k=5</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_k = 5</annotation></semantics></math>, to keep near misses while ruling out accidental matches. We found these hyperparameters empirically by running trials on a held-out 15% of the training set. In this way, we obtain <math alttext="D^{-}=\{d^{-}_{1},d^{-}_{2},\ldots,d^{-}_{m}\}" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.4"><semantics id="S3.SS1.p4.3.m3.4a"><mrow id="S3.SS1.p4.3.m3.4.4" xref="S3.SS1.p4.3.m3.4.4.cmml"><msup id="S3.SS1.p4.3.m3.4.4.5" xref="S3.SS1.p4.3.m3.4.4.5.cmml"><mi id="S3.SS1.p4.3.m3.4.4.5.2" xref="S3.SS1.p4.3.m3.4.4.5.2.cmml">D</mi><mo id="S3.SS1.p4.3.m3.4.4.5.3" xref="S3.SS1.p4.3.m3.4.4.5.3.cmml">−</mo></msup><mo id="S3.SS1.p4.3.m3.4.4.4" xref="S3.SS1.p4.3.m3.4.4.4.cmml">=</mo><mrow id="S3.SS1.p4.3.m3.4.4.3.3" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml"><mo id="S3.SS1.p4.3.m3.4.4.3.3.4" stretchy="false" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml">{</mo><msubsup id="S3.SS1.p4.3.m3.2.2.1.1.1" xref="S3.SS1.p4.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p4.3.m3.2.2.1.1.1.2.2" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.2.cmml">d</mi><mn id="S3.SS1.p4.3.m3.2.2.1.1.1.3" xref="S3.SS1.p4.3.m3.2.2.1.1.1.3.cmml">1</mn><mo id="S3.SS1.p4.3.m3.2.2.1.1.1.2.3" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.3.cmml">−</mo></msubsup><mo id="S3.SS1.p4.3.m3.4.4.3.3.5" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml">,</mo><msubsup id="S3.SS1.p4.3.m3.3.3.2.2.2" xref="S3.SS1.p4.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p4.3.m3.3.3.2.2.2.2.2" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.2.cmml">d</mi><mn id="S3.SS1.p4.3.m3.3.3.2.2.2.3" xref="S3.SS1.p4.3.m3.3.3.2.2.2.3.cmml">2</mn><mo id="S3.SS1.p4.3.m3.3.3.2.2.2.2.3" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.3.cmml">−</mo></msubsup><mo id="S3.SS1.p4.3.m3.4.4.3.3.6" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p4.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p4.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p4.3.m3.4.4.3.3.7" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml">,</mo><msubsup id="S3.SS1.p4.3.m3.4.4.3.3.3" xref="S3.SS1.p4.3.m3.4.4.3.3.3.cmml"><mi id="S3.SS1.p4.3.m3.4.4.3.3.3.2.2" xref="S3.SS1.p4.3.m3.4.4.3.3.3.2.2.cmml">d</mi><mi id="S3.SS1.p4.3.m3.4.4.3.3.3.3" xref="S3.SS1.p4.3.m3.4.4.3.3.3.3.cmml">m</mi><mo id="S3.SS1.p4.3.m3.4.4.3.3.3.2.3" xref="S3.SS1.p4.3.m3.4.4.3.3.3.2.3.cmml">−</mo></msubsup><mo id="S3.SS1.p4.3.m3.4.4.3.3.8" stretchy="false" xref="S3.SS1.p4.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.4b"><apply id="S3.SS1.p4.3.m3.4.4.cmml" xref="S3.SS1.p4.3.m3.4.4"><eq id="S3.SS1.p4.3.m3.4.4.4.cmml" xref="S3.SS1.p4.3.m3.4.4.4"></eq><apply id="S3.SS1.p4.3.m3.4.4.5.cmml" xref="S3.SS1.p4.3.m3.4.4.5"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.4.4.5.1.cmml" xref="S3.SS1.p4.3.m3.4.4.5">superscript</csymbol><ci id="S3.SS1.p4.3.m3.4.4.5.2.cmml" xref="S3.SS1.p4.3.m3.4.4.5.2">𝐷</ci><minus id="S3.SS1.p4.3.m3.4.4.5.3.cmml" xref="S3.SS1.p4.3.m3.4.4.5.3"></minus></apply><set id="S3.SS1.p4.3.m3.4.4.3.4.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3"><apply id="S3.SS1.p4.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p4.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1">superscript</csymbol><ci id="S3.SS1.p4.3.m3.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.2">𝑑</ci><minus id="S3.SS1.p4.3.m3.2.2.1.1.1.2.3.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.3"></minus></apply><cn id="S3.SS1.p4.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p4.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p4.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2">subscript</csymbol><apply id="S3.SS1.p4.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2">superscript</csymbol><ci id="S3.SS1.p4.3.m3.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.2">𝑑</ci><minus id="S3.SS1.p4.3.m3.3.3.2.2.2.2.3.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.3"></minus></apply><cn id="S3.SS1.p4.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p4.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">…</ci><apply id="S3.SS1.p4.3.m3.4.4.3.3.3.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.4.4.3.3.3.1.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3">subscript</csymbol><apply id="S3.SS1.p4.3.m3.4.4.3.3.3.2.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.4.4.3.3.3.2.1.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3">superscript</csymbol><ci id="S3.SS1.p4.3.m3.4.4.3.3.3.2.2.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3.2.2">𝑑</ci><minus id="S3.SS1.p4.3.m3.4.4.3.3.3.2.3.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3.2.3"></minus></apply><ci id="S3.SS1.p4.3.m3.4.4.3.3.3.3.cmml" xref="S3.SS1.p4.3.m3.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.4c">D^{-}=\{d^{-}_{1},d^{-}_{2},\ldots,d^{-}_{m}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.3.m3.4d">italic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT = { italic_d start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_d start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_d start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT }</annotation></semantics></math> as negative training samples (cf. Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#algorithm1" title="In 3.1 Data Augmentation for Fine-tuning ‣ 3 Approach ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Fine-tuning via Model Fusion</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Contrastive learning on diverse data has demonstrated good performance in similarity learning based on embedding models, as it learns to push negative samples away from the query, while pulling positive samples closer to it. Although refining the model through additional fine-tuning can improve its effectiveness within a particular domain <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib26" title="">26</a>]</cite>, it is important to note that this specialization might deteriorate performance outside of the fine-tuning domain.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.10">In this work, we also utilize contrastive learning to fine-tune the model using a model fusion approach (Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S2.F1" title="Figure 1 ‣ 2 Related Work ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">1</span></a>); specifically the <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.10.1">BAAI/bge-large-en-v1.5</span> model, is fine-tuned on a domain-specific dataset obtained using the technique discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S3.SS1" title="3.1 Data Augmentation for Fine-tuning ‣ 3 Approach ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">3.1</span></a>. We first initialize two models, <math alttext="BGE" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mrow id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.1.m1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.1.m1.1.1.1a" xref="S3.SS2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.1.m1.1.1.4" xref="S3.SS2.p2.1.m1.1.1.4.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><times id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1"></times><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝐵</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝐺</ci><ci id="S3.SS2.p2.1.m1.1.1.4.cmml" xref="S3.SS2.p2.1.m1.1.1.4">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">BGE</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_B italic_G italic_E</annotation></semantics></math> and <math alttext="BGE^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.2.m2.1.1.1a" xref="S3.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><msup id="S3.SS2.p2.2.m2.1.1.4" xref="S3.SS2.p2.2.m2.1.1.4.cmml"><mi id="S3.SS2.p2.2.m2.1.1.4.2" xref="S3.SS2.p2.2.m2.1.1.4.2.cmml">E</mi><mo id="S3.SS2.p2.2.m2.1.1.4.3" xref="S3.SS2.p2.2.m2.1.1.4.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><times id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></times><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝐵</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝐺</ci><apply id="S3.SS2.p2.2.m2.1.1.4.cmml" xref="S3.SS2.p2.2.m2.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.4.1.cmml" xref="S3.SS2.p2.2.m2.1.1.4">superscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.4.2.cmml" xref="S3.SS2.p2.2.m2.1.1.4.2">𝐸</ci><ci id="S3.SS2.p2.2.m2.1.1.4.3.cmml" xref="S3.SS2.p2.2.m2.1.1.4.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">BGE^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_B italic_G italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>, with the pretrained BGE weights, freezing the weights of <math alttext="BGE^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.3.m3.1.1.1a" xref="S3.SS2.p2.3.m3.1.1.1.cmml">⁢</mo><msup id="S3.SS2.p2.3.m3.1.1.4" xref="S3.SS2.p2.3.m3.1.1.4.cmml"><mi id="S3.SS2.p2.3.m3.1.1.4.2" xref="S3.SS2.p2.3.m3.1.1.4.2.cmml">E</mi><mo id="S3.SS2.p2.3.m3.1.1.4.3" xref="S3.SS2.p2.3.m3.1.1.4.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><times id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></times><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝐵</ci><ci id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">𝐺</ci><apply id="S3.SS2.p2.3.m3.1.1.4.cmml" xref="S3.SS2.p2.3.m3.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.4.1.cmml" xref="S3.SS2.p2.3.m3.1.1.4">superscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.4.2.cmml" xref="S3.SS2.p2.3.m3.1.1.4.2">𝐸</ci><ci id="S3.SS2.p2.3.m3.1.1.4.3.cmml" xref="S3.SS2.p2.3.m3.1.1.4.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">BGE^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_B italic_G italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> while allowing only <math alttext="BGE" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mrow id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.4.m4.1.1.1" xref="S3.SS2.p2.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.4.m4.1.1.1a" xref="S3.SS2.p2.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.4.m4.1.1.4" xref="S3.SS2.p2.4.m4.1.1.4.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><times id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1.1"></times><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝐵</ci><ci id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3">𝐺</ci><ci id="S3.SS2.p2.4.m4.1.1.4.cmml" xref="S3.SS2.p2.4.m4.1.1.4">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">BGE</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_B italic_G italic_E</annotation></semantics></math> to undergo fine-tuning <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib26" title="">26</a>]</cite>. Given a query <math alttext="q_{i}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">q</mi><mi id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑞</ci><ci id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we pass it through both <math alttext="BGE" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><mrow id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.6.m6.1.1.1" xref="S3.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.6.m6.1.1.1a" xref="S3.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.1.1.4" xref="S3.SS2.p2.6.m6.1.1.4.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><times id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1.1"></times><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝐵</ci><ci id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3">𝐺</ci><ci id="S3.SS2.p2.6.m6.1.1.4.cmml" xref="S3.SS2.p2.6.m6.1.1.4">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">BGE</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_B italic_G italic_E</annotation></semantics></math> and <math alttext="BGE^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m7.1"><semantics id="S3.SS2.p2.7.m7.1a"><mrow id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">B</mi><mo id="S3.SS2.p2.7.m7.1.1.1" xref="S3.SS2.p2.7.m7.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml">G</mi><mo id="S3.SS2.p2.7.m7.1.1.1a" xref="S3.SS2.p2.7.m7.1.1.1.cmml">⁢</mo><msup id="S3.SS2.p2.7.m7.1.1.4" xref="S3.SS2.p2.7.m7.1.1.4.cmml"><mi id="S3.SS2.p2.7.m7.1.1.4.2" xref="S3.SS2.p2.7.m7.1.1.4.2.cmml">E</mi><mo id="S3.SS2.p2.7.m7.1.1.4.3" xref="S3.SS2.p2.7.m7.1.1.4.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><times id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1.1"></times><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">𝐵</ci><ci id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3">𝐺</ci><apply id="S3.SS2.p2.7.m7.1.1.4.cmml" xref="S3.SS2.p2.7.m7.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.4.1.cmml" xref="S3.SS2.p2.7.m7.1.1.4">superscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.4.2.cmml" xref="S3.SS2.p2.7.m7.1.1.4.2">𝐸</ci><ci id="S3.SS2.p2.7.m7.1.1.4.3.cmml" xref="S3.SS2.p2.7.m7.1.1.4.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">BGE^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m7.1d">italic_B italic_G italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> to obtain the representations of the <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.10.2">[CLS]</span> token, denoted as <math alttext="E_{CLS}" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m8.1"><semantics id="S3.SS2.p2.8.m8.1a"><msub id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml"><mi id="S3.SS2.p2.8.m8.1.1.2" xref="S3.SS2.p2.8.m8.1.1.2.cmml">E</mi><mrow id="S3.SS2.p2.8.m8.1.1.3" xref="S3.SS2.p2.8.m8.1.1.3.cmml"><mi id="S3.SS2.p2.8.m8.1.1.3.2" xref="S3.SS2.p2.8.m8.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p2.8.m8.1.1.3.1" xref="S3.SS2.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m8.1.1.3.3" xref="S3.SS2.p2.8.m8.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p2.8.m8.1.1.3.1a" xref="S3.SS2.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m8.1.1.3.4" xref="S3.SS2.p2.8.m8.1.1.3.4.cmml">S</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><apply id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p2.8.m8.1.1.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2">𝐸</ci><apply id="S3.SS2.p2.8.m8.1.1.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3"><times id="S3.SS2.p2.8.m8.1.1.3.1.cmml" xref="S3.SS2.p2.8.m8.1.1.3.1"></times><ci id="S3.SS2.p2.8.m8.1.1.3.2.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2">𝐶</ci><ci id="S3.SS2.p2.8.m8.1.1.3.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3.3">𝐿</ci><ci id="S3.SS2.p2.8.m8.1.1.3.4.cmml" xref="S3.SS2.p2.8.m8.1.1.3.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">E_{CLS}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m8.1d">italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="E^{\prime}_{CLS}" class="ltx_Math" display="inline" id="S3.SS2.p2.9.m9.1"><semantics id="S3.SS2.p2.9.m9.1a"><msubsup id="S3.SS2.p2.9.m9.1.1" xref="S3.SS2.p2.9.m9.1.1.cmml"><mi id="S3.SS2.p2.9.m9.1.1.2.2" xref="S3.SS2.p2.9.m9.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p2.9.m9.1.1.3" xref="S3.SS2.p2.9.m9.1.1.3.cmml"><mi id="S3.SS2.p2.9.m9.1.1.3.2" xref="S3.SS2.p2.9.m9.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p2.9.m9.1.1.3.1" xref="S3.SS2.p2.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.9.m9.1.1.3.3" xref="S3.SS2.p2.9.m9.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p2.9.m9.1.1.3.1a" xref="S3.SS2.p2.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.9.m9.1.1.3.4" xref="S3.SS2.p2.9.m9.1.1.3.4.cmml">S</mi></mrow><mo id="S3.SS2.p2.9.m9.1.1.2.3" xref="S3.SS2.p2.9.m9.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m9.1b"><apply id="S3.SS2.p2.9.m9.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1">subscript</csymbol><apply id="S3.SS2.p2.9.m9.1.1.2.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.2.1.cmml" xref="S3.SS2.p2.9.m9.1.1">superscript</csymbol><ci id="S3.SS2.p2.9.m9.1.1.2.2.cmml" xref="S3.SS2.p2.9.m9.1.1.2.2">𝐸</ci><ci id="S3.SS2.p2.9.m9.1.1.2.3.cmml" xref="S3.SS2.p2.9.m9.1.1.2.3">′</ci></apply><apply id="S3.SS2.p2.9.m9.1.1.3.cmml" xref="S3.SS2.p2.9.m9.1.1.3"><times id="S3.SS2.p2.9.m9.1.1.3.1.cmml" xref="S3.SS2.p2.9.m9.1.1.3.1"></times><ci id="S3.SS2.p2.9.m9.1.1.3.2.cmml" xref="S3.SS2.p2.9.m9.1.1.3.2">𝐶</ci><ci id="S3.SS2.p2.9.m9.1.1.3.3.cmml" xref="S3.SS2.p2.9.m9.1.1.3.3">𝐿</ci><ci id="S3.SS2.p2.9.m9.1.1.3.4.cmml" xref="S3.SS2.p2.9.m9.1.1.3.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m9.1c">E^{\prime}_{CLS}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.9.m9.1d">italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT</annotation></semantics></math>, respectively. Next, we interpolate these two representations to create a final representation <math alttext="E_{CLS}" class="ltx_Math" display="inline" id="S3.SS2.p2.10.m10.1"><semantics id="S3.SS2.p2.10.m10.1a"><msub id="S3.SS2.p2.10.m10.1.1" xref="S3.SS2.p2.10.m10.1.1.cmml"><mi id="S3.SS2.p2.10.m10.1.1.2" xref="S3.SS2.p2.10.m10.1.1.2.cmml">E</mi><mrow id="S3.SS2.p2.10.m10.1.1.3" xref="S3.SS2.p2.10.m10.1.1.3.cmml"><mi id="S3.SS2.p2.10.m10.1.1.3.2" xref="S3.SS2.p2.10.m10.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p2.10.m10.1.1.3.1" xref="S3.SS2.p2.10.m10.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.10.m10.1.1.3.3" xref="S3.SS2.p2.10.m10.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p2.10.m10.1.1.3.1a" xref="S3.SS2.p2.10.m10.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.10.m10.1.1.3.4" xref="S3.SS2.p2.10.m10.1.1.3.4.cmml">S</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m10.1b"><apply id="S3.SS2.p2.10.m10.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.10.m10.1.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p2.10.m10.1.1.2.cmml" xref="S3.SS2.p2.10.m10.1.1.2">𝐸</ci><apply id="S3.SS2.p2.10.m10.1.1.3.cmml" xref="S3.SS2.p2.10.m10.1.1.3"><times id="S3.SS2.p2.10.m10.1.1.3.1.cmml" xref="S3.SS2.p2.10.m10.1.1.3.1"></times><ci id="S3.SS2.p2.10.m10.1.1.3.2.cmml" xref="S3.SS2.p2.10.m10.1.1.3.2">𝐶</ci><ci id="S3.SS2.p2.10.m10.1.1.3.3.cmml" xref="S3.SS2.p2.10.m10.1.1.3.3">𝐿</ci><ci id="S3.SS2.p2.10.m10.1.1.3.4.cmml" xref="S3.SS2.p2.10.m10.1.1.3.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m10.1c">E_{CLS}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.10.m10.1d">italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E1X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\textit{E}_{CLS}=\lambda\cdot E_{CLS}+(1-\lambda)\cdot E^{\prime}%
_{CLS}" class="ltx_Math" display="inline" id="S3.E1X.2.1.1.m1.1"><semantics id="S3.E1X.2.1.1.m1.1a"><mrow id="S3.E1X.2.1.1.m1.1.1" xref="S3.E1X.2.1.1.m1.1.1.cmml"><msub id="S3.E1X.2.1.1.m1.1.1.3" xref="S3.E1X.2.1.1.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_italic" id="S3.E1X.2.1.1.m1.1.1.3.2" xref="S3.E1X.2.1.1.m1.1.1.3.2a.cmml">E</mtext><mrow id="S3.E1X.2.1.1.m1.1.1.3.3" xref="S3.E1X.2.1.1.m1.1.1.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.1.1.3.3.2.cmml">C</mi><mo id="S3.E1X.2.1.1.m1.1.1.3.3.1" xref="S3.E1X.2.1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.3.3.3" xref="S3.E1X.2.1.1.m1.1.1.3.3.3.cmml">L</mi><mo id="S3.E1X.2.1.1.m1.1.1.3.3.1a" xref="S3.E1X.2.1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.3.3.4" xref="S3.E1X.2.1.1.m1.1.1.3.3.4.cmml">S</mi></mrow></msub><mo id="S3.E1X.2.1.1.m1.1.1.2" xref="S3.E1X.2.1.1.m1.1.1.2.cmml">=</mo><mrow id="S3.E1X.2.1.1.m1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.1.1.1.3" xref="S3.E1X.2.1.1.m1.1.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.1.1.1.3.2.cmml">λ</mi><mo id="S3.E1X.2.1.1.m1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E1X.2.1.1.m1.1.1.1.3.1.cmml">⋅</mo><msub id="S3.E1X.2.1.1.m1.1.1.1.3.3" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.2.cmml">E</mi><mrow id="S3.E1X.2.1.1.m1.1.1.1.3.3.3" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.2" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.2.cmml">C</mi><mo id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.3" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.3.cmml">L</mi><mo id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1a" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.4" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.4.cmml">S</mi></mrow></msub></mrow><mo id="S3.E1X.2.1.1.m1.1.1.1.2" xref="S3.E1X.2.1.1.m1.1.1.1.2.cmml">+</mo><mrow id="S3.E1X.2.1.1.m1.1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.cmml"><mn id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml">λ</mi></mrow><mo id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E1X.2.1.1.m1.1.1.1.1.2" rspace="0.222em" xref="S3.E1X.2.1.1.m1.1.1.1.1.2.cmml">⋅</mo><msubsup id="S3.E1X.2.1.1.m1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.2" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.2.2.cmml">E</mi><mrow id="S3.E1X.2.1.1.m1.1.1.1.1.3.3" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.2.cmml">C</mi><mo id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.3" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.3.cmml">L</mi><mo id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1a" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.4" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.4.cmml">S</mi></mrow><mo id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.3" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.2.3.cmml">′</mo></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1X.2.1.1.m1.1b"><apply id="S3.E1X.2.1.1.m1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1"><eq id="S3.E1X.2.1.1.m1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.2"></eq><apply id="S3.E1X.2.1.1.m1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.1.1.3.2a.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.2"><mtext class="ltx_mathvariant_italic" id="S3.E1X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.2">E</mtext></ci><apply id="S3.E1X.2.1.1.m1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.3"><times id="S3.E1X.2.1.1.m1.1.1.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.3.1"></times><ci id="S3.E1X.2.1.1.m1.1.1.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.3.2">𝐶</ci><ci id="S3.E1X.2.1.1.m1.1.1.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.3.3">𝐿</ci><ci id="S3.E1X.2.1.1.m1.1.1.3.3.4.cmml" xref="S3.E1X.2.1.1.m1.1.1.3.3.4">𝑆</ci></apply></apply><apply id="S3.E1X.2.1.1.m1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1"><plus id="S3.E1X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.2"></plus><apply id="S3.E1X.2.1.1.m1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3"><ci id="S3.E1X.2.1.1.m1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.1">⋅</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.2">𝜆</ci><apply id="S3.E1X.2.1.1.m1.1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.1.1.1.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.1.1.1.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.2">𝐸</ci><apply id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3"><times id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.1"></times><ci id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.2">𝐶</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.3">𝐿</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.3.3.3.4.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.3.3.3.4">𝑆</ci></apply></apply></apply><apply id="S3.E1X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1"><ci id="S3.E1X.2.1.1.m1.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.2">⋅</ci><apply id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1"><minus id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.1"></minus><cn id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.1.1.1.3">𝜆</ci></apply><apply id="S3.E1X.2.1.1.m1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.2.2">𝐸</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.1.3.2.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.2.3">′</ci></apply><apply id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3"><times id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.1"></times><ci id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.2">𝐶</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.3">𝐿</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.1.3.3.4.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1.3.3.4">𝑆</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1X.2.1.1.m1.1c">\displaystyle\textit{E}_{CLS}=\lambda\cdot E_{CLS}+(1-\lambda)\cdot E^{\prime}%
_{CLS}</annotation><annotation encoding="application/x-llamapun" id="S3.E1X.2.1.1.m1.1d">E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT = italic_λ ⋅ italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT + ( 1 - italic_λ ) ⋅ italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.11">where <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p2.11.m1.1"><semantics id="S3.SS2.p2.11.m1.1a"><mi id="S3.SS2.p2.11.m1.1.1" xref="S3.SS2.p2.11.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m1.1b"><ci id="S3.SS2.p2.11.m1.1.1.cmml" xref="S3.SS2.p2.11.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.11.m1.1d">italic_λ</annotation></semantics></math> is a hyperparameter. Increasing its value will place greater emphasis on the new domain.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.6">Next, we apply the same technique to the positive passage <math alttext="d^{+}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msubsup id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2.2" xref="S3.SS2.p3.1.m1.1.1.2.2.cmml">d</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">i</mi><mo id="S3.SS2.p3.1.m1.1.1.2.3" xref="S3.SS2.p3.1.m1.1.1.2.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><apply id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.2.1.cmml" xref="S3.SS2.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2.2">𝑑</ci><plus id="S3.SS2.p3.1.m1.1.1.2.3.cmml" xref="S3.SS2.p3.1.m1.1.1.2.3"></plus></apply><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">d^{+}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_d start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the negative passages <math alttext="D^{-}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msubsup id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2.2" xref="S3.SS2.p3.2.m2.1.1.2.2.cmml">D</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">i</mi><mo id="S3.SS2.p3.2.m2.1.1.2.3" xref="S3.SS2.p3.2.m2.1.1.2.3.cmml">−</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.2.1.cmml" xref="S3.SS2.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2.2">𝐷</ci><minus id="S3.SS2.p3.2.m2.1.1.2.3.cmml" xref="S3.SS2.p3.2.m2.1.1.2.3"></minus></apply><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">D^{-}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, yielding <math alttext="E^{+}_{CLS}" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><msubsup id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2.2" xref="S3.SS2.p3.3.m3.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.1.1.3.2" xref="S3.SS2.p3.3.m3.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p3.3.m3.1.1.3.1" xref="S3.SS2.p3.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.3.m3.1.1.3.3" xref="S3.SS2.p3.3.m3.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p3.3.m3.1.1.3.1a" xref="S3.SS2.p3.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.3.m3.1.1.3.4" xref="S3.SS2.p3.3.m3.1.1.3.4.cmml">S</mi></mrow><mo id="S3.SS2.p3.3.m3.1.1.2.3" xref="S3.SS2.p3.3.m3.1.1.2.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2.2">𝐸</ci><plus id="S3.SS2.p3.3.m3.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.1.1.2.3"></plus></apply><apply id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3"><times id="S3.SS2.p3.3.m3.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.1.1.3.1"></times><ci id="S3.SS2.p3.3.m3.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.1.1.3.2">𝐶</ci><ci id="S3.SS2.p3.3.m3.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3">𝐿</ci><ci id="S3.SS2.p3.3.m3.1.1.3.4.cmml" xref="S3.SS2.p3.3.m3.1.1.3.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">E^{+}_{CLS}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_E start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT</annotation></semantics></math> and {<math alttext="E^{-}_{CLS_{1}}" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><msubsup id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2.2" xref="S3.SS2.p3.4.m4.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml"><mi id="S3.SS2.p3.4.m4.1.1.3.2" xref="S3.SS2.p3.4.m4.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p3.4.m4.1.1.3.1" xref="S3.SS2.p3.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.4.m4.1.1.3.3" xref="S3.SS2.p3.4.m4.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p3.4.m4.1.1.3.1a" xref="S3.SS2.p3.4.m4.1.1.3.1.cmml">⁢</mo><msub id="S3.SS2.p3.4.m4.1.1.3.4" xref="S3.SS2.p3.4.m4.1.1.3.4.cmml"><mi id="S3.SS2.p3.4.m4.1.1.3.4.2" xref="S3.SS2.p3.4.m4.1.1.3.4.2.cmml">S</mi><mn id="S3.SS2.p3.4.m4.1.1.3.4.3" xref="S3.SS2.p3.4.m4.1.1.3.4.3.cmml">1</mn></msub></mrow><mo id="S3.SS2.p3.4.m4.1.1.2.3" xref="S3.SS2.p3.4.m4.1.1.2.3.cmml">−</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">subscript</csymbol><apply id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.2.1.cmml" xref="S3.SS2.p3.4.m4.1.1">superscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.2.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2.2">𝐸</ci><minus id="S3.SS2.p3.4.m4.1.1.2.3.cmml" xref="S3.SS2.p3.4.m4.1.1.2.3"></minus></apply><apply id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3"><times id="S3.SS2.p3.4.m4.1.1.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.3.1"></times><ci id="S3.SS2.p3.4.m4.1.1.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.3.2">𝐶</ci><ci id="S3.SS2.p3.4.m4.1.1.3.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3.3">𝐿</ci><apply id="S3.SS2.p3.4.m4.1.1.3.4.cmml" xref="S3.SS2.p3.4.m4.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.3.4.1.cmml" xref="S3.SS2.p3.4.m4.1.1.3.4">subscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.3.4.2.cmml" xref="S3.SS2.p3.4.m4.1.1.3.4.2">𝑆</ci><cn id="S3.SS2.p3.4.m4.1.1.3.4.3.cmml" type="integer" xref="S3.SS2.p3.4.m4.1.1.3.4.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">E^{-}_{CLS_{1}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_E start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="E^{-}_{CLS_{2}}" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><msubsup id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.2.2" xref="S3.SS2.p3.5.m5.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml"><mi id="S3.SS2.p3.5.m5.1.1.3.2" xref="S3.SS2.p3.5.m5.1.1.3.2.cmml">C</mi><mo id="S3.SS2.p3.5.m5.1.1.3.1" xref="S3.SS2.p3.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.3.3" xref="S3.SS2.p3.5.m5.1.1.3.3.cmml">L</mi><mo id="S3.SS2.p3.5.m5.1.1.3.1a" xref="S3.SS2.p3.5.m5.1.1.3.1.cmml">⁢</mo><msub id="S3.SS2.p3.5.m5.1.1.3.4" xref="S3.SS2.p3.5.m5.1.1.3.4.cmml"><mi id="S3.SS2.p3.5.m5.1.1.3.4.2" xref="S3.SS2.p3.5.m5.1.1.3.4.2.cmml">S</mi><mn id="S3.SS2.p3.5.m5.1.1.3.4.3" xref="S3.SS2.p3.5.m5.1.1.3.4.3.cmml">2</mn></msub></mrow><mo id="S3.SS2.p3.5.m5.1.1.2.3" xref="S3.SS2.p3.5.m5.1.1.2.3.cmml">−</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">subscript</csymbol><apply id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.2.1.cmml" xref="S3.SS2.p3.5.m5.1.1">superscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.2.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2.2">𝐸</ci><minus id="S3.SS2.p3.5.m5.1.1.2.3.cmml" xref="S3.SS2.p3.5.m5.1.1.2.3"></minus></apply><apply id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3"><times id="S3.SS2.p3.5.m5.1.1.3.1.cmml" xref="S3.SS2.p3.5.m5.1.1.3.1"></times><ci id="S3.SS2.p3.5.m5.1.1.3.2.cmml" xref="S3.SS2.p3.5.m5.1.1.3.2">𝐶</ci><ci id="S3.SS2.p3.5.m5.1.1.3.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3">𝐿</ci><apply id="S3.SS2.p3.5.m5.1.1.3.4.cmml" xref="S3.SS2.p3.5.m5.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.3.4.1.cmml" xref="S3.SS2.p3.5.m5.1.1.3.4">subscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.3.4.2.cmml" xref="S3.SS2.p3.5.m5.1.1.3.4.2">𝑆</ci><cn id="S3.SS2.p3.5.m5.1.1.3.4.3.cmml" type="integer" xref="S3.SS2.p3.5.m5.1.1.3.4.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">E^{-}_{CLS_{2}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_E start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, …, <math alttext="E^{-}_{CLS_{m}}\}" class="ltx_math_unparsed" display="inline" id="S3.SS2.p3.6.m6.1"><semantics id="S3.SS2.p3.6.m6.1a"><mrow id="S3.SS2.p3.6.m6.1b"><msubsup id="S3.SS2.p3.6.m6.1.1"><mi id="S3.SS2.p3.6.m6.1.1.2.2">E</mi><mrow id="S3.SS2.p3.6.m6.1.1.3"><mi id="S3.SS2.p3.6.m6.1.1.3.2">C</mi><mo id="S3.SS2.p3.6.m6.1.1.3.1">⁢</mo><mi id="S3.SS2.p3.6.m6.1.1.3.3">L</mi><mo id="S3.SS2.p3.6.m6.1.1.3.1a">⁢</mo><msub id="S3.SS2.p3.6.m6.1.1.3.4"><mi id="S3.SS2.p3.6.m6.1.1.3.4.2">S</mi><mi id="S3.SS2.p3.6.m6.1.1.3.4.3">m</mi></msub></mrow><mo id="S3.SS2.p3.6.m6.1.1.2.3">−</mo></msubsup><mo id="S3.SS2.p3.6.m6.1.2" stretchy="false">}</mo></mrow><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">E^{-}_{CLS_{m}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.6.m6.1d">italic_E start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math>, respectively. We then fine-tune the model using the objective</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="{\max\sum\log\frac{e^{sim(E_{CLS},E^{+}_{CLS})/\tau}}{e^{sim(E_{CLS},E^{+}_{%
CLS})/\tau}+\sum_{i=1}^{m}{e^{sim(E_{CLS},E^{-}_{CLS_{i}})/\tau}}}}" class="ltx_Math" display="block" id="S3.E2.m1.6"><semantics id="S3.E2.m1.6a"><mrow id="S3.E2.m1.6.7" xref="S3.E2.m1.6.7.cmml"><mi id="S3.E2.m1.6.7.2" xref="S3.E2.m1.6.7.2.cmml">max</mi><mo id="S3.E2.m1.6.7.1" xref="S3.E2.m1.6.7.1.cmml">⁢</mo><mrow id="S3.E2.m1.6.7.3" xref="S3.E2.m1.6.7.3.cmml"><mo id="S3.E2.m1.6.7.3.1" movablelimits="false" xref="S3.E2.m1.6.7.3.1.cmml">∑</mo><mrow id="S3.E2.m1.6.7.3.2" xref="S3.E2.m1.6.7.3.2.cmml"><mi id="S3.E2.m1.6.7.3.2.1" xref="S3.E2.m1.6.7.3.2.1.cmml">log</mi><mo id="S3.E2.m1.6.7.3.2a" lspace="0.167em" xref="S3.E2.m1.6.7.3.2.cmml">⁡</mo><mfrac id="S3.E2.m1.6.6" xref="S3.E2.m1.6.6.cmml"><msup id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml"><mi id="S3.E2.m1.2.2.2.4" xref="S3.E2.m1.2.2.2.4.cmml">e</mi><mrow id="S3.E2.m1.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.cmml"><mrow id="S3.E2.m1.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.4" xref="S3.E2.m1.2.2.2.2.2.2.4.cmml">s</mi><mo id="S3.E2.m1.2.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.5" xref="S3.E2.m1.2.2.2.2.2.2.5.cmml">i</mi><mo id="S3.E2.m1.2.2.2.2.2.2.3a" xref="S3.E2.m1.2.2.2.2.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.6" xref="S3.E2.m1.2.2.2.2.2.2.6.cmml">m</mi><mo id="S3.E2.m1.2.2.2.2.2.2.3b" xref="S3.E2.m1.2.2.2.2.2.2.3.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.2.3.cmml"><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.E2.m1.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S3.E2.m1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml">E</mi><mrow id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">C</mi><mo id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">L</mi><mo id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1a" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.4" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.4.cmml">S</mi></mrow></msub><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.4" xref="S3.E2.m1.2.2.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E2.m1.2.2.2.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.2.cmml">E</mi><mrow id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.2" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.2.cmml">C</mi><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.3" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.3.cmml">L</mi><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1a" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.4" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.4.cmml">S</mi></mrow><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E2.m1.2.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.E2.m1.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.3.cmml">/</mo><mi id="S3.E2.m1.2.2.2.2.2.4" xref="S3.E2.m1.2.2.2.2.2.4.cmml">τ</mi></mrow></msup><mrow id="S3.E2.m1.6.6.6" xref="S3.E2.m1.6.6.6.cmml"><msup id="S3.E2.m1.6.6.6.6" xref="S3.E2.m1.6.6.6.6.cmml"><mi id="S3.E2.m1.6.6.6.6.2" xref="S3.E2.m1.6.6.6.6.2.cmml">e</mi><mrow id="S3.E2.m1.4.4.4.2.2" xref="S3.E2.m1.4.4.4.2.2.cmml"><mrow id="S3.E2.m1.4.4.4.2.2.2" xref="S3.E2.m1.4.4.4.2.2.2.cmml"><mi id="S3.E2.m1.4.4.4.2.2.2.4" xref="S3.E2.m1.4.4.4.2.2.2.4.cmml">s</mi><mo id="S3.E2.m1.4.4.4.2.2.2.3" xref="S3.E2.m1.4.4.4.2.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.4.4.4.2.2.2.5" xref="S3.E2.m1.4.4.4.2.2.2.5.cmml">i</mi><mo id="S3.E2.m1.4.4.4.2.2.2.3a" xref="S3.E2.m1.4.4.4.2.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.4.4.4.2.2.2.6" xref="S3.E2.m1.4.4.4.2.2.2.6.cmml">m</mi><mo id="S3.E2.m1.4.4.4.2.2.2.3b" xref="S3.E2.m1.4.4.4.2.2.2.3.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.4.2.2.2.2.2" xref="S3.E2.m1.4.4.4.2.2.2.2.3.cmml"><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.3" stretchy="false" xref="S3.E2.m1.4.4.4.2.2.2.2.3.cmml">(</mo><msub id="S3.E2.m1.3.3.3.1.1.1.1.1.1" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.3.3.3.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.2.cmml">E</mi><mrow id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.2" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.2.cmml">C</mi><mo id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.3" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.3.cmml">L</mi><mo id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1a" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.4" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.4.cmml">S</mi></mrow></msub><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.4" xref="S3.E2.m1.4.4.4.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E2.m1.4.4.4.2.2.2.2.2.2" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.cmml"><mi id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.2" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.2.cmml">E</mi><mrow id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.cmml"><mi id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.2" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.2.cmml">C</mi><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.3" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.3.cmml">L</mi><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1a" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.4" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.4.cmml">S</mi></mrow><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.3" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E2.m1.4.4.4.2.2.2.2.2.5" stretchy="false" xref="S3.E2.m1.4.4.4.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.4.4.2.2.3" xref="S3.E2.m1.4.4.4.2.2.3.cmml">/</mo><mi id="S3.E2.m1.4.4.4.2.2.4" xref="S3.E2.m1.4.4.4.2.2.4.cmml">τ</mi></mrow></msup><mo id="S3.E2.m1.6.6.6.5" rspace="0.055em" xref="S3.E2.m1.6.6.6.5.cmml">+</mo><mrow id="S3.E2.m1.6.6.6.7" xref="S3.E2.m1.6.6.6.7.cmml"><msubsup id="S3.E2.m1.6.6.6.7.1" xref="S3.E2.m1.6.6.6.7.1.cmml"><mo id="S3.E2.m1.6.6.6.7.1.2.2" xref="S3.E2.m1.6.6.6.7.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.6.6.6.7.1.2.3" xref="S3.E2.m1.6.6.6.7.1.2.3.cmml"><mi id="S3.E2.m1.6.6.6.7.1.2.3.2" xref="S3.E2.m1.6.6.6.7.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.6.6.6.7.1.2.3.1" xref="S3.E2.m1.6.6.6.7.1.2.3.1.cmml">=</mo><mn id="S3.E2.m1.6.6.6.7.1.2.3.3" xref="S3.E2.m1.6.6.6.7.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.6.6.6.7.1.3" xref="S3.E2.m1.6.6.6.7.1.3.cmml">m</mi></msubsup><msup id="S3.E2.m1.6.6.6.7.2" xref="S3.E2.m1.6.6.6.7.2.cmml"><mi id="S3.E2.m1.6.6.6.7.2.2" xref="S3.E2.m1.6.6.6.7.2.2.cmml">e</mi><mrow id="S3.E2.m1.6.6.6.4.2" xref="S3.E2.m1.6.6.6.4.2.cmml"><mrow id="S3.E2.m1.6.6.6.4.2.2" xref="S3.E2.m1.6.6.6.4.2.2.cmml"><mi id="S3.E2.m1.6.6.6.4.2.2.4" xref="S3.E2.m1.6.6.6.4.2.2.4.cmml">s</mi><mo id="S3.E2.m1.6.6.6.4.2.2.3" xref="S3.E2.m1.6.6.6.4.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.6.6.6.4.2.2.5" xref="S3.E2.m1.6.6.6.4.2.2.5.cmml">i</mi><mo id="S3.E2.m1.6.6.6.4.2.2.3a" xref="S3.E2.m1.6.6.6.4.2.2.3.cmml">⁢</mo><mi id="S3.E2.m1.6.6.6.4.2.2.6" xref="S3.E2.m1.6.6.6.4.2.2.6.cmml">m</mi><mo id="S3.E2.m1.6.6.6.4.2.2.3b" xref="S3.E2.m1.6.6.6.4.2.2.3.cmml">⁢</mo><mrow id="S3.E2.m1.6.6.6.4.2.2.2.2" xref="S3.E2.m1.6.6.6.4.2.2.2.3.cmml"><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.3" stretchy="false" xref="S3.E2.m1.6.6.6.4.2.2.2.3.cmml">(</mo><msub id="S3.E2.m1.5.5.5.3.1.1.1.1.1" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.5.3.1.1.1.1.1.2" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.2.cmml">E</mi><mrow id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.2" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.2.cmml">C</mi><mo id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.3" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.3.cmml">L</mi><mo id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1a" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.4" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.4.cmml">S</mi></mrow></msub><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.4" xref="S3.E2.m1.6.6.6.4.2.2.2.3.cmml">,</mo><msubsup id="S3.E2.m1.6.6.6.4.2.2.2.2.2" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.cmml"><mi id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.2" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.2.cmml">E</mi><mrow id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.cmml"><mi id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.2" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.2.cmml">C</mi><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.3" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.3.cmml">L</mi><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1a" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1.cmml">⁢</mo><msub id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.cmml"><mi id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.2" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.2.cmml">S</mi><mi id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.3" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.3.cmml">i</mi></msub></mrow><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.3" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.3.cmml">−</mo></msubsup><mo id="S3.E2.m1.6.6.6.4.2.2.2.2.5" stretchy="false" xref="S3.E2.m1.6.6.6.4.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.6.6.6.4.2.3" xref="S3.E2.m1.6.6.6.4.2.3.cmml">/</mo><mi id="S3.E2.m1.6.6.6.4.2.4" xref="S3.E2.m1.6.6.6.4.2.4.cmml">τ</mi></mrow></msup></mrow></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.6b"><apply id="S3.E2.m1.6.7.cmml" xref="S3.E2.m1.6.7"><times id="S3.E2.m1.6.7.1.cmml" xref="S3.E2.m1.6.7.1"></times><max id="S3.E2.m1.6.7.2.cmml" xref="S3.E2.m1.6.7.2"></max><apply id="S3.E2.m1.6.7.3.cmml" xref="S3.E2.m1.6.7.3"><sum id="S3.E2.m1.6.7.3.1.cmml" xref="S3.E2.m1.6.7.3.1"></sum><apply id="S3.E2.m1.6.7.3.2.cmml" xref="S3.E2.m1.6.7.3.2"><log id="S3.E2.m1.6.7.3.2.1.cmml" xref="S3.E2.m1.6.7.3.2.1"></log><apply id="S3.E2.m1.6.6.cmml" xref="S3.E2.m1.6.6"><divide id="S3.E2.m1.6.6.7.cmml" xref="S3.E2.m1.6.6"></divide><apply id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2">superscript</csymbol><ci id="S3.E2.m1.2.2.2.4.cmml" xref="S3.E2.m1.2.2.2.4">𝑒</ci><apply id="S3.E2.m1.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2"><divide id="S3.E2.m1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.3"></divide><apply id="S3.E2.m1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2"><times id="S3.E2.m1.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.3"></times><ci id="S3.E2.m1.2.2.2.2.2.2.4.cmml" xref="S3.E2.m1.2.2.2.2.2.2.4">𝑠</ci><ci id="S3.E2.m1.2.2.2.2.2.2.5.cmml" xref="S3.E2.m1.2.2.2.2.2.2.5">𝑖</ci><ci id="S3.E2.m1.2.2.2.2.2.2.6.cmml" xref="S3.E2.m1.2.2.2.2.2.2.6">𝑚</ci><interval closure="open" id="S3.E2.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2"><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.2">𝐸</ci><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.2">𝐶</ci><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.3">𝐿</ci><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.3.4">𝑆</ci></apply></apply><apply id="S3.E2.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.2">𝐸</ci><plus id="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.2.3"></plus></apply><apply id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3"><times id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.1"></times><ci id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.2">𝐶</ci><ci id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.3">𝐿</ci><ci id="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.4.cmml" xref="S3.E2.m1.2.2.2.2.2.2.2.2.2.3.4">𝑆</ci></apply></apply></interval></apply><ci id="S3.E2.m1.2.2.2.2.2.4.cmml" xref="S3.E2.m1.2.2.2.2.2.4">𝜏</ci></apply></apply><apply id="S3.E2.m1.6.6.6.cmml" xref="S3.E2.m1.6.6.6"><plus id="S3.E2.m1.6.6.6.5.cmml" xref="S3.E2.m1.6.6.6.5"></plus><apply id="S3.E2.m1.6.6.6.6.cmml" xref="S3.E2.m1.6.6.6.6"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.6.1.cmml" xref="S3.E2.m1.6.6.6.6">superscript</csymbol><ci id="S3.E2.m1.6.6.6.6.2.cmml" xref="S3.E2.m1.6.6.6.6.2">𝑒</ci><apply id="S3.E2.m1.4.4.4.2.2.cmml" xref="S3.E2.m1.4.4.4.2.2"><divide id="S3.E2.m1.4.4.4.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.2.3"></divide><apply id="S3.E2.m1.4.4.4.2.2.2.cmml" xref="S3.E2.m1.4.4.4.2.2.2"><times id="S3.E2.m1.4.4.4.2.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.2.2.3"></times><ci id="S3.E2.m1.4.4.4.2.2.2.4.cmml" xref="S3.E2.m1.4.4.4.2.2.2.4">𝑠</ci><ci id="S3.E2.m1.4.4.4.2.2.2.5.cmml" xref="S3.E2.m1.4.4.4.2.2.2.5">𝑖</ci><ci id="S3.E2.m1.4.4.4.2.2.2.6.cmml" xref="S3.E2.m1.4.4.4.2.2.2.6">𝑚</ci><interval closure="open" id="S3.E2.m1.4.4.4.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2"><apply id="S3.E2.m1.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.3.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.2">𝐸</ci><apply id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3"><times id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.1"></times><ci id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.2">𝐶</ci><ci id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.3">𝐿</ci><ci id="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.4.cmml" xref="S3.E2.m1.3.3.3.1.1.1.1.1.1.3.4">𝑆</ci></apply></apply><apply id="S3.E2.m1.4.4.4.2.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.2">𝐸</ci><plus id="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.2.3"></plus></apply><apply id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3"><times id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.1"></times><ci id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.2.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.2">𝐶</ci><ci id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.3.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.3">𝐿</ci><ci id="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.4.cmml" xref="S3.E2.m1.4.4.4.2.2.2.2.2.2.3.4">𝑆</ci></apply></apply></interval></apply><ci id="S3.E2.m1.4.4.4.2.2.4.cmml" xref="S3.E2.m1.4.4.4.2.2.4">𝜏</ci></apply></apply><apply id="S3.E2.m1.6.6.6.7.cmml" xref="S3.E2.m1.6.6.6.7"><apply id="S3.E2.m1.6.6.6.7.1.cmml" xref="S3.E2.m1.6.6.6.7.1"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.7.1.1.cmml" xref="S3.E2.m1.6.6.6.7.1">superscript</csymbol><apply id="S3.E2.m1.6.6.6.7.1.2.cmml" xref="S3.E2.m1.6.6.6.7.1"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.7.1.2.1.cmml" xref="S3.E2.m1.6.6.6.7.1">subscript</csymbol><sum id="S3.E2.m1.6.6.6.7.1.2.2.cmml" xref="S3.E2.m1.6.6.6.7.1.2.2"></sum><apply id="S3.E2.m1.6.6.6.7.1.2.3.cmml" xref="S3.E2.m1.6.6.6.7.1.2.3"><eq id="S3.E2.m1.6.6.6.7.1.2.3.1.cmml" xref="S3.E2.m1.6.6.6.7.1.2.3.1"></eq><ci id="S3.E2.m1.6.6.6.7.1.2.3.2.cmml" xref="S3.E2.m1.6.6.6.7.1.2.3.2">𝑖</ci><cn id="S3.E2.m1.6.6.6.7.1.2.3.3.cmml" type="integer" xref="S3.E2.m1.6.6.6.7.1.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.6.6.6.7.1.3.cmml" xref="S3.E2.m1.6.6.6.7.1.3">𝑚</ci></apply><apply id="S3.E2.m1.6.6.6.7.2.cmml" xref="S3.E2.m1.6.6.6.7.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.7.2.1.cmml" xref="S3.E2.m1.6.6.6.7.2">superscript</csymbol><ci id="S3.E2.m1.6.6.6.7.2.2.cmml" xref="S3.E2.m1.6.6.6.7.2.2">𝑒</ci><apply id="S3.E2.m1.6.6.6.4.2.cmml" xref="S3.E2.m1.6.6.6.4.2"><divide id="S3.E2.m1.6.6.6.4.2.3.cmml" xref="S3.E2.m1.6.6.6.4.2.3"></divide><apply id="S3.E2.m1.6.6.6.4.2.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2"><times id="S3.E2.m1.6.6.6.4.2.2.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.3"></times><ci id="S3.E2.m1.6.6.6.4.2.2.4.cmml" xref="S3.E2.m1.6.6.6.4.2.2.4">𝑠</ci><ci id="S3.E2.m1.6.6.6.4.2.2.5.cmml" xref="S3.E2.m1.6.6.6.4.2.2.5">𝑖</ci><ci id="S3.E2.m1.6.6.6.4.2.2.6.cmml" xref="S3.E2.m1.6.6.6.4.2.2.6">𝑚</ci><interval closure="open" id="S3.E2.m1.6.6.6.4.2.2.2.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2"><apply id="S3.E2.m1.5.5.5.3.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.5.5.5.3.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.2">𝐸</ci><apply id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3"><times id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.1"></times><ci id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.2">𝐶</ci><ci id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.3">𝐿</ci><ci id="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.4.cmml" xref="S3.E2.m1.5.5.5.3.1.1.1.1.1.3.4">𝑆</ci></apply></apply><apply id="S3.E2.m1.6.6.6.4.2.2.2.2.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.4.2.2.2.2.2.1.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2">superscript</csymbol><ci id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.2">𝐸</ci><minus id="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.2.3"></minus></apply><apply id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3"><times id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.1"></times><ci id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.2">𝐶</ci><ci id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.3">𝐿</ci><apply id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.1.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4">subscript</csymbol><ci id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.2.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.2">𝑆</ci><ci id="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.3.cmml" xref="S3.E2.m1.6.6.6.4.2.2.2.2.2.3.4.3">𝑖</ci></apply></apply></apply></interval></apply><ci id="S3.E2.m1.6.6.6.4.2.4.cmml" xref="S3.E2.m1.6.6.6.4.2.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.6c">{\max\sum\log\frac{e^{sim(E_{CLS},E^{+}_{CLS})/\tau}}{e^{sim(E_{CLS},E^{+}_{%
CLS})/\tau}+\sum_{i=1}^{m}{e^{sim(E_{CLS},E^{-}_{CLS_{i}})/\tau}}}}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.6d">roman_max ∑ roman_log divide start_ARG italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT , italic_E start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT ) / italic_τ end_POSTSUPERSCRIPT end_ARG start_ARG italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT , italic_E start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT ) / italic_τ end_POSTSUPERSCRIPT + ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_E start_POSTSUBSCRIPT italic_C italic_L italic_S end_POSTSUBSCRIPT , italic_E start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_C italic_L italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) / italic_τ end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.2">where <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><mi id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">italic_τ</annotation></semantics></math> is a temperature hyperparameter and <math alttext="sim()" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m2.1"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">s</mi><mo id="S3.SS2.p5.2.m2.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">i</mi><mo id="S3.SS2.p5.2.m2.1.1.1a" xref="S3.SS2.p5.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p5.2.m2.1.1.4" xref="S3.SS2.p5.2.m2.1.1.4.cmml">m</mi><mo id="S3.SS2.p5.2.m2.1.1.1b" xref="S3.SS2.p5.2.m2.1.1.1.cmml">⁢</mo><mrow id="S3.SS2.p5.2.m2.1.1.5.2" xref="S3.SS2.p5.2.m2.1.1.cmml"><mo id="S3.SS2.p5.2.m2.1.1.5.2.1" stretchy="false" xref="S3.SS2.p5.2.m2.1.1.5.1.cmml">(</mo><mo id="S3.SS2.p5.2.m2.1.1.5.2.2" stretchy="false" xref="S3.SS2.p5.2.m2.1.1.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><times id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1"></times><ci id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2">𝑠</ci><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝑖</ci><ci id="S3.SS2.p5.2.m2.1.1.4.cmml" xref="S3.SS2.p5.2.m2.1.1.4">𝑚</ci><list id="S3.SS2.p5.2.m2.1.1.5.1.cmml" xref="S3.SS2.p5.2.m2.1.1.5.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">sim()</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m2.1d">italic_s italic_i italic_m ( )</annotation></semantics></math> is the cosine similarity.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We conducted experiments on two public and one propriety datasets:</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">SQUAD<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnote1.1.1.1">1</span></span><a class="ltx_ref ltx_href ltx_font_medium" href="https://huggingface.co/datasets/rajpurkar/squad" title="">rajpurkar/squad</a></span></span></span></span> is a question-answering dataset along with the provided context. To simulate limited dataset conditions, we utilized a subset comprising 300 randomly selected instances from the publicly available dataset.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">RAG 12000<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnote2.1.1.1">2</span></span><span class="ltx_text ltx_font_medium" id="footnote2.5"> </span><a class="ltx_ref ltx_href ltx_font_medium" href="https://huggingface.co/datasets/neural-bridge/rag-dataset-12000" title="">RAG 12000 Dataset</a></span></span></span></span> is a collection of triples featuring <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p3.1.2">context</span>, <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p3.1.3">question</span>, and <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p3.1.4">answer</span> fields, designed for building models optimized for RAG. Similar to SQUAD dataset, we took a subset of 100 randomly selected instances from the dataset. We will refer to it as the RAG dataset for brevity.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">TOURISM</span> is a proprietary dataset focusing on the tourism domain. It contains both unstructured text and structured, tabular data.</p>
</div>
<div class="ltx_para" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.1">To evaluate the retriever, we require both the question and the supporting document (evidence). With the SQUAD &amp; RAG dataset, this is straightforward due to the inherent mapping present within the raw dataset, allowing us to create a dataset of question-document (context) pairs for evaluation. However, for the TOURISM dataset, our annotation team manually curated a question from each document. For fine-tuning, we generated a dataset exclusively from documents and synthetic questions. To perform hyperparameter tuning, we set aside 15% of the generated data as a validation set for each of the datasets. Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.T1" title="Table 1 ‣ 4.1 Datasets ‣ 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the sizes of these datasets.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Statistics of the two datasets, with the number of documents and questions for evaluation, as well as training and validation (tuning) samples generated through our data augmentation method.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T1.1.1.1.1">Dataset</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.2"># Docs</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.3"># Ques.</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.4"># Train</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.5">#Val</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.6">Avg Words (Docs)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.2.1.1">SQUAD</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.2">300</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.3">300</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.4">2550</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.5">450</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.6">165</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.3.2.1">RAG 12000</th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.2">100</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.3">100</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.4">850</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.5">150</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.6">190</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S4.T1.1.4.3.1">TOURISM</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.4.3.2">58</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.4.3.3">58</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.4.3.4">493</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.4.3.5">87</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.4.3.6">138</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Baselines</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We present a direct comparison of our approach with the following baseline methods:</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">Vanilla BGE:</span> Here, we compute the metrics by simply utilizing the pretrained BGE<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span> <a class="ltx_ref ltx_href" href="https://huggingface.co/BAAI/bge-large-en-v1.5" title="">BAAI/bge-large-en-v1.5</a></span></span></span> embedding model on the two evaluation sets.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">Vanilla snowflake-arctic-embed-l:<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnote4.1.1.1">4</span></span><span class="ltx_text ltx_font_medium" id="footnote4.5"> </span><a class="ltx_ref ltx_href ltx_font_medium" href="https://huggingface.co/Snowflake/snowflake-arctic-embed-l" title="">Snowflake/snowflake-arctic-embed-l</a></span></span></span></span> We use an embedding model that attained state-of-the-art performance on the MTEB leaderboard <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib15" title="">15</a>]</cite>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">Vanilla text-embedding-3-large:</span> Metrics are computed using a state-of-the-art off-the-shelf text embedding model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib16" title="">16</a>]</cite>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">Fine-tuned BGE:</span> We fine-tune the BGE model according to the method outlined by <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib26" title="">26</a>]</cite> on the dataset generated synthetically with our approach, and subsequently compute the metrics on the evaluation data. Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S2.F1" title="Figure 1 ‣ 2 Related Work ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">1</span></a>(A) illustrates this technique.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i5.p1">
<p class="ltx_p" id="S4.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i5.p1.1.1">LM Cocktail:</span> We performed model merging after training <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib27" title="">27</a>]</cite>, combining vanilla BGE with the fine-tuned BGE model. We applied the same weighting as in our REFINE model, i.e., 0.35 for BGE and 0.65 for fine-tuned BGE.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Evaluation Metrics</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">We use the following commonly used metrics for evaluating the retriever:</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">Mean average precision (MAP)</span> measures the average precision across multiple queries. Higher values indicate better performance, rewarding systems that return relevant documents earlier in the ranked list.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">Normalized discounted cumulative gain (NDCG)</span> assesses ranking quality by considering relevance and position in the ranked list. Higher scores are given to highly relevant documents at the top.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">Mean reciprocal rank (MRR)</span> evaluates systems producing ranked lists by considering the rank of the first relevant document. Higher values indicate the relevant document is ranked higher.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i4.p1.1.1">Recall</span> measures the fraction of relevant documents successfully retrieved by the system. Higher values indicate better performance in retrieving all relevant document</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Evaluation Setup</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">To evaluate the retriever’s performance, we initially ingest documents from each dataset into a FAISS vector store <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib5" title="">5</a>]</cite>, separately. Then, for every query in the question set, we derived its representation using the model fine-tuned through our proposed method. Subsequently, we used this representation to fetch relevant documents from the vector store, utilizing the retriever from the LangChain library. For most experiments, and unless indicated otherwise, we fixed the top_k parameter at 3 (retrieving the three most relevant documents). (The number of retrieved documents is commonly notated as “@k” following the metric, e.g., “Recall@3.”). We computed the evaluation metrics for all the baseline approaches described in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS2" title="4.2 Baselines ‣ 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">4.2</span></a>. We want to highlight that we did not concentrate on hyperparameter tuning. However, to account for the variability in results due to different random initializations, we report the average performance across five experimental runs with different random seeds for the models that involved training.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Training Details</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.6">In this work, we leveraged the <span class="ltx_text ltx_font_typewriter" id="S4.SS5.p1.6.1">BAAI/bge-large-en-v1.5</span> as the backbone model. To train both the BGE way and REFINE, identical hyperparameters were used. The learning rate was set to <math alttext="10^{-5}" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1"><semantics id="S4.SS5.p1.1.m1.1a"><msup id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml"><mn id="S4.SS5.p1.1.m1.1.1.2" xref="S4.SS5.p1.1.m1.1.1.2.cmml">10</mn><mrow id="S4.SS5.p1.1.m1.1.1.3" xref="S4.SS5.p1.1.m1.1.1.3.cmml"><mo id="S4.SS5.p1.1.m1.1.1.3a" xref="S4.SS5.p1.1.m1.1.1.3.cmml">−</mo><mn id="S4.SS5.p1.1.m1.1.1.3.2" xref="S4.SS5.p1.1.m1.1.1.3.2.cmml">5</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><apply id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS5.p1.1.m1.1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">superscript</csymbol><cn id="S4.SS5.p1.1.m1.1.1.2.cmml" type="integer" xref="S4.SS5.p1.1.m1.1.1.2">10</cn><apply id="S4.SS5.p1.1.m1.1.1.3.cmml" xref="S4.SS5.p1.1.m1.1.1.3"><minus id="S4.SS5.p1.1.m1.1.1.3.1.cmml" xref="S4.SS5.p1.1.m1.1.1.3"></minus><cn id="S4.SS5.p1.1.m1.1.1.3.2.cmml" type="integer" xref="S4.SS5.p1.1.m1.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">10^{-5}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.1.m1.1d">10 start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math>, and the batch size was adjusted according to GPU availability, with 4 gradient accumulation steps implemented for both approaches. Notably, in the case of REFINE, we froze the layers of <math alttext="BGE^{\prime}" class="ltx_Math" display="inline" id="S4.SS5.p1.2.m2.1"><semantics id="S4.SS5.p1.2.m2.1a"><mrow id="S4.SS5.p1.2.m2.1.1" xref="S4.SS5.p1.2.m2.1.1.cmml"><mi id="S4.SS5.p1.2.m2.1.1.2" xref="S4.SS5.p1.2.m2.1.1.2.cmml">B</mi><mo id="S4.SS5.p1.2.m2.1.1.1" xref="S4.SS5.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.2.m2.1.1.3" xref="S4.SS5.p1.2.m2.1.1.3.cmml">G</mi><mo id="S4.SS5.p1.2.m2.1.1.1a" xref="S4.SS5.p1.2.m2.1.1.1.cmml">⁢</mo><msup id="S4.SS5.p1.2.m2.1.1.4" xref="S4.SS5.p1.2.m2.1.1.4.cmml"><mi id="S4.SS5.p1.2.m2.1.1.4.2" xref="S4.SS5.p1.2.m2.1.1.4.2.cmml">E</mi><mo id="S4.SS5.p1.2.m2.1.1.4.3" xref="S4.SS5.p1.2.m2.1.1.4.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.2.m2.1b"><apply id="S4.SS5.p1.2.m2.1.1.cmml" xref="S4.SS5.p1.2.m2.1.1"><times id="S4.SS5.p1.2.m2.1.1.1.cmml" xref="S4.SS5.p1.2.m2.1.1.1"></times><ci id="S4.SS5.p1.2.m2.1.1.2.cmml" xref="S4.SS5.p1.2.m2.1.1.2">𝐵</ci><ci id="S4.SS5.p1.2.m2.1.1.3.cmml" xref="S4.SS5.p1.2.m2.1.1.3">𝐺</ci><apply id="S4.SS5.p1.2.m2.1.1.4.cmml" xref="S4.SS5.p1.2.m2.1.1.4"><csymbol cd="ambiguous" id="S4.SS5.p1.2.m2.1.1.4.1.cmml" xref="S4.SS5.p1.2.m2.1.1.4">superscript</csymbol><ci id="S4.SS5.p1.2.m2.1.1.4.2.cmml" xref="S4.SS5.p1.2.m2.1.1.4.2">𝐸</ci><ci id="S4.SS5.p1.2.m2.1.1.4.3.cmml" xref="S4.SS5.p1.2.m2.1.1.4.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.2.m2.1c">BGE^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.2.m2.1d">italic_B italic_G italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> while allowing gradient updates for <math alttext="BGE" class="ltx_Math" display="inline" id="S4.SS5.p1.3.m3.1"><semantics id="S4.SS5.p1.3.m3.1a"><mrow id="S4.SS5.p1.3.m3.1.1" xref="S4.SS5.p1.3.m3.1.1.cmml"><mi id="S4.SS5.p1.3.m3.1.1.2" xref="S4.SS5.p1.3.m3.1.1.2.cmml">B</mi><mo id="S4.SS5.p1.3.m3.1.1.1" xref="S4.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.3.m3.1.1.3" xref="S4.SS5.p1.3.m3.1.1.3.cmml">G</mi><mo id="S4.SS5.p1.3.m3.1.1.1a" xref="S4.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.3.m3.1.1.4" xref="S4.SS5.p1.3.m3.1.1.4.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.3.m3.1b"><apply id="S4.SS5.p1.3.m3.1.1.cmml" xref="S4.SS5.p1.3.m3.1.1"><times id="S4.SS5.p1.3.m3.1.1.1.cmml" xref="S4.SS5.p1.3.m3.1.1.1"></times><ci id="S4.SS5.p1.3.m3.1.1.2.cmml" xref="S4.SS5.p1.3.m3.1.1.2">𝐵</ci><ci id="S4.SS5.p1.3.m3.1.1.3.cmml" xref="S4.SS5.p1.3.m3.1.1.3">𝐺</ci><ci id="S4.SS5.p1.3.m3.1.1.4.cmml" xref="S4.SS5.p1.3.m3.1.1.4">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.3.m3.1c">BGE</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.3.m3.1d">italic_B italic_G italic_E</annotation></semantics></math>. In the REFINE approach, a crucial parameter is the value of <math alttext="\lambda" class="ltx_Math" display="inline" id="S4.SS5.p1.4.m4.1"><semantics id="S4.SS5.p1.4.m4.1a"><mi id="S4.SS5.p1.4.m4.1.1" xref="S4.SS5.p1.4.m4.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.4.m4.1b"><ci id="S4.SS5.p1.4.m4.1.1.cmml" xref="S4.SS5.p1.4.m4.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.4.m4.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.4.m4.1d">italic_λ</annotation></semantics></math>, which we set at 0.35, chosen empirically. This implies that the frozen model (<math alttext="BGE^{\prime}" class="ltx_Math" display="inline" id="S4.SS5.p1.5.m5.1"><semantics id="S4.SS5.p1.5.m5.1a"><mrow id="S4.SS5.p1.5.m5.1.1" xref="S4.SS5.p1.5.m5.1.1.cmml"><mi id="S4.SS5.p1.5.m5.1.1.2" xref="S4.SS5.p1.5.m5.1.1.2.cmml">B</mi><mo id="S4.SS5.p1.5.m5.1.1.1" xref="S4.SS5.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.5.m5.1.1.3" xref="S4.SS5.p1.5.m5.1.1.3.cmml">G</mi><mo id="S4.SS5.p1.5.m5.1.1.1a" xref="S4.SS5.p1.5.m5.1.1.1.cmml">⁢</mo><msup id="S4.SS5.p1.5.m5.1.1.4" xref="S4.SS5.p1.5.m5.1.1.4.cmml"><mi id="S4.SS5.p1.5.m5.1.1.4.2" xref="S4.SS5.p1.5.m5.1.1.4.2.cmml">E</mi><mo id="S4.SS5.p1.5.m5.1.1.4.3" xref="S4.SS5.p1.5.m5.1.1.4.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.5.m5.1b"><apply id="S4.SS5.p1.5.m5.1.1.cmml" xref="S4.SS5.p1.5.m5.1.1"><times id="S4.SS5.p1.5.m5.1.1.1.cmml" xref="S4.SS5.p1.5.m5.1.1.1"></times><ci id="S4.SS5.p1.5.m5.1.1.2.cmml" xref="S4.SS5.p1.5.m5.1.1.2">𝐵</ci><ci id="S4.SS5.p1.5.m5.1.1.3.cmml" xref="S4.SS5.p1.5.m5.1.1.3">𝐺</ci><apply id="S4.SS5.p1.5.m5.1.1.4.cmml" xref="S4.SS5.p1.5.m5.1.1.4"><csymbol cd="ambiguous" id="S4.SS5.p1.5.m5.1.1.4.1.cmml" xref="S4.SS5.p1.5.m5.1.1.4">superscript</csymbol><ci id="S4.SS5.p1.5.m5.1.1.4.2.cmml" xref="S4.SS5.p1.5.m5.1.1.4.2">𝐸</ci><ci id="S4.SS5.p1.5.m5.1.1.4.3.cmml" xref="S4.SS5.p1.5.m5.1.1.4.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.5.m5.1c">BGE^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.5.m5.1d">italic_B italic_G italic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>) contributed 0.35 to the overall output, while the fine-tuned model (<math alttext="BGE" class="ltx_Math" display="inline" id="S4.SS5.p1.6.m6.1"><semantics id="S4.SS5.p1.6.m6.1a"><mrow id="S4.SS5.p1.6.m6.1.1" xref="S4.SS5.p1.6.m6.1.1.cmml"><mi id="S4.SS5.p1.6.m6.1.1.2" xref="S4.SS5.p1.6.m6.1.1.2.cmml">B</mi><mo id="S4.SS5.p1.6.m6.1.1.1" xref="S4.SS5.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.6.m6.1.1.3" xref="S4.SS5.p1.6.m6.1.1.3.cmml">G</mi><mo id="S4.SS5.p1.6.m6.1.1.1a" xref="S4.SS5.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.6.m6.1.1.4" xref="S4.SS5.p1.6.m6.1.1.4.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.6.m6.1b"><apply id="S4.SS5.p1.6.m6.1.1.cmml" xref="S4.SS5.p1.6.m6.1.1"><times id="S4.SS5.p1.6.m6.1.1.1.cmml" xref="S4.SS5.p1.6.m6.1.1.1"></times><ci id="S4.SS5.p1.6.m6.1.1.2.cmml" xref="S4.SS5.p1.6.m6.1.1.2">𝐵</ci><ci id="S4.SS5.p1.6.m6.1.1.3.cmml" xref="S4.SS5.p1.6.m6.1.1.3">𝐺</ci><ci id="S4.SS5.p1.6.m6.1.1.4.cmml" xref="S4.SS5.p1.6.m6.1.1.4">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.6.m6.1c">BGE</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.6.m6.1d">italic_B italic_G italic_E</annotation></semantics></math>) contributed 0.65. All experiments were conducted using g5.12xlarge GPUs.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results &amp; Discussion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">Our evaluation is based on the metrics defined in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S4.SS3" title="4.3 Evaluation Metrics ‣ 4 Experiments ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">4.3</span></a>. We present our findings in two parts: 1) The enhancement in retrieval performance achieved through the generation of synthetic data and the model fusion approach. 2) We discuss how the REFINE approach not only outperforms other baseline methods but also enables the model to maintain its general capability, thereby mitigating catastrophic forgetting</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">The key findings from the part 1 experiment, where results were obtained on the TOURISM (private), SQUAD (public) and RAG (public) datasets, are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S5.T2" title="Table 2 ‣ 5 Results &amp; Discussion ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">2</span></a>. Our approach of using synthetic data combined with model fusion boosted the performance of the retriever significantly, leading to improvements of <span class="ltx_text ltx_font_bold" id="S5.p2.1.1">5.79%</span>, <span class="ltx_text ltx_font_bold" id="S5.p2.1.2">6.58%</span> and <span class="ltx_text ltx_font_bold" id="S5.p2.1.3">0.32%</span> in Recall@3 for the TOURISM, SQUAD and RAG datasets, respectively compared to the baseline Vanilla BGE model. The gain in recall did not come at the expense of precision (MAP), which also improved. The substantial improvement observed on the TOURISM dataset highlights the importance of fine-tuning in specific domain settings. Furthermore, even the standard BGE fine-tuning on synthetic data led to improved metrics across both datasets, except for recall on the RAG dataset. An important observation was that the TOURISM dataset was comprised mostly of structured tabular data. Upon further analysis, we observed that the vanilla BGE failed to correctly identify documents for the queries, especially when the queries involved specific details within tables. For instance, when querying "Which hotel’s phone number is xxxx?" where xxxx refers to a value within a table cell, the vanilla BGE model struggled to provide accurate representations, resulting in unreliable cosine similarity. However, with augmented data used for fine-tuning, performance improved notably, particularly in the case of structured data retrieval.</p>
</div>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>
Results on TOURISM, RAG, and SQUAD datasets using the baselines defined in the paper and REFINE (our approach). For all evaluation metrics, higher values indicate better performance.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T2.1" style="width:347.1pt;height:114.5pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-73.4pt,24.1pt) scale(0.702776991734393,0.702776991734393) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T2.1.1.1.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.1.1.1" style="padding:0.5pt 1.5pt;"></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="4" id="S5.T2.1.1.1.1.2" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.1.2.1">TOURISM Dataset</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="4" id="S5.T2.1.1.1.1.3" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.1.3.1">RAG Dataset</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="4" id="S5.T2.1.1.1.1.4" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.1.4.1">SQUAD</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T2.1.1.2.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T2.1.1.2.1.1" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.1.1">Model</span></th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.2" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.2.1">MAP</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.3" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.3.1">NDCG</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.4" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.4.1">MRR</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.2.1.5" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.5.1">Recall</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.6" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.6.1">MAP</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.7" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.7.1">NDCG</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.8" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.8.1">MRR</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.2.1.9" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.9.1">Recall</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.10" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.10.1">MAP</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.11" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.11.1">NDCG</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1.12" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.12.1">MRR</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.2.1.13" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.2.1.13.1">Recall</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.3.2">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T2.1.1.3.2.1" style="padding:0.5pt 1.5pt;"></th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.2" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.2.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.3" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.3.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.4" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.4.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" id="S5.T2.1.1.3.2.5" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.5.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.6" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.6.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.7" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.7.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.8" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.8.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" id="S5.T2.1.1.3.2.9" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.9.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.10" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.10.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.11" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.11.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S5.T2.1.1.3.2.12" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.12.1">@3</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" id="S5.T2.1.1.3.2.13" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.13.1">@3</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.4.3">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.4.3.1" style="padding:0.5pt 1.5pt;">Vanilla BGE</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.2" style="padding:0.5pt 1.5pt;">0.781</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.3" style="padding:0.5pt 1.5pt;">0.800</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.4" style="padding:0.5pt 1.5pt;">0.789</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.4.3.5" style="padding:0.5pt 1.5pt;">0.884</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.6" style="padding:0.5pt 1.5pt;">0.863</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.7" style="padding:0.5pt 1.5pt;">0.858</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.8" style="padding:0.5pt 1.5pt;">0.904</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.4.3.9" style="padding:0.5pt 1.5pt;">0.937</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.10" style="padding:0.5pt 1.5pt;">0.763</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.11" style="padding:0.5pt 1.5pt;">0.789</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.4.3.12" style="padding:0.5pt 1.5pt;">0.763</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.4.3.13" style="padding:0.5pt 1.5pt;">0.866</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.5.4">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.5.4.1" style="padding:0.5pt 1.5pt;">snowflake-arctic-embed-m</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.2" style="padding:0.5pt 1.5pt;">0.794</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.3" style="padding:0.5pt 1.5pt;">0.817</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.4" style="padding:0.5pt 1.5pt;">0.796</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.5.4.5" style="padding:0.5pt 1.5pt;">0.888</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.6" style="padding:0.5pt 1.5pt;">0.874</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.7" style="padding:0.5pt 1.5pt;">0.857</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.8" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.5.4.8.1">0.921</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.5.4.9" style="padding:0.5pt 1.5pt;">0.916</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.10" style="padding:0.5pt 1.5pt;">0.708</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.11" style="padding:0.5pt 1.5pt;">0.728</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.5.4.12" style="padding:0.5pt 1.5pt;">0.707</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.5.4.13" style="padding:0.5pt 1.5pt;">0.786</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.6.5">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.6.5.1" style="padding:0.5pt 1.5pt;">text-embedding-3-large</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.2" style="padding:0.5pt 1.5pt;">0.847</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.3" style="padding:0.5pt 1.5pt;">0.857</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.4" style="padding:0.5pt 1.5pt;">0.850</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.6.5.5" style="padding:0.5pt 1.5pt;">0.915</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.6" style="padding:0.5pt 1.5pt;">0.878</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.7" style="padding:0.5pt 1.5pt;">0.866</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.8" style="padding:0.5pt 1.5pt;">0.920</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.6.5.9" style="padding:0.5pt 1.5pt;">0.935</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.10" style="padding:0.5pt 1.5pt;">0.808</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.11" style="padding:0.5pt 1.5pt;">0.828</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.6.5.12" style="padding:0.5pt 1.5pt;">0.808</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.6.5.13" style="padding:0.5pt 1.5pt;">0.883</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.7.6">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.7.6.1" style="padding:0.5pt 1.5pt;">Fine-tuned BGE</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.2" style="padding:0.5pt 1.5pt;">0.870</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.3" style="padding:0.5pt 1.5pt;">0.883</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.4" style="padding:0.5pt 1.5pt;">0.873</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.7.6.5" style="padding:0.5pt 1.5pt;">0.929</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.6" style="padding:0.5pt 1.5pt;">0.876</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.7" style="padding:0.5pt 1.5pt;">0.865</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.8" style="padding:0.5pt 1.5pt;">0.915</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.7.6.9" style="padding:0.5pt 1.5pt;">0.929</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.10" style="padding:0.5pt 1.5pt;">0.834</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.11" style="padding:0.5pt 1.5pt;">0.853</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.7.6.12" style="padding:0.5pt 1.5pt;">0.834</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.7.6.13" style="padding:0.5pt 1.5pt;">0.907</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.8.7">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.8.7.1" style="padding:0.5pt 1.5pt;">LM-cocktail (BGE+FT-BGE)</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.2" style="padding:0.5pt 1.5pt;">0.862</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.3" style="padding:0.5pt 1.5pt;">0.881</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.4" style="padding:0.5pt 1.5pt;">0.869</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.8.7.5" style="padding:0.5pt 1.5pt;">0.936</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.6" style="padding:0.5pt 1.5pt;">0.870</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.7" style="padding:0.5pt 1.5pt;">0.861</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.8" style="padding:0.5pt 1.5pt;">0.906</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.8.7.9" style="padding:0.5pt 1.5pt;">0.934</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.10" style="padding:0.5pt 1.5pt;">0.829</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.11" style="padding:0.5pt 1.5pt;">0.852</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S5.T2.1.1.8.7.12" style="padding:0.5pt 1.5pt;">0.829</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.1.1.8.7.13" style="padding:0.5pt 1.5pt;">0.920</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.9.8">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.9.8.1" style="padding:0.5pt 1.5pt;">REFINE (ours)</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.2" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.2.1">0.873</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.3" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.3.1">0.885</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.4" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.4.1">0.877</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S5.T2.1.1.9.8.5" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.5.1">0.937</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.6" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.6.1">0.881</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.7" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.7.1">0.867</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.8" style="padding:0.5pt 1.5pt;">0.919</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S5.T2.1.1.9.8.9" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.9.1">0.940</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.10" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.10.1">0.846</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.11" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.11.1">0.866</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_t" id="S5.T2.1.1.9.8.12" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.12.1">0.846</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S5.T2.1.1.9.8.13" style="padding:0.5pt 1.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.9.8.13.1">0.923</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_figure" id="S5.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="140.39" id="S5.F2.pic1" overflow="visible" version="1.1" width="152.97"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,140.39) matrix(1 0 0 -1 0 0) translate(23.33,0) translate(0,19.71) matrix(0.48 0.0 0.0 0.48 -23.33 -19.71)"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(71.08,0) translate(0,59.74)"><g color="#BFBFBF" fill="#BFBFBF" stroke="#BFBFBF" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" stroke-width="0.4pt"><path d="M -22.49 -15.5 L 247.34 -15.5 M -22.49 58.33 L 247.34 58.33 M -22.49 132.16 L 247.34 132.16" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M 0 -18.68 L 0 -12.78 M 56.21 -18.68 L 56.21 -12.78 M 112.43 -18.68 L 112.43 -12.78 M 168.64 -18.68 L 168.64 -12.78 M 224.85 -18.68 L 224.85 -12.78 M 0 205.48 L 0 199.57 M 56.21 205.48 L 56.21 199.57 M 112.43 205.48 L 112.43 199.57 M 168.64 205.48 L 168.64 199.57 M 224.85 205.48 L 224.85 199.57" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M -22.49 -15.5 L -16.58 -15.5 M -22.49 58.33 L -16.58 58.33 M -22.49 132.16 L -16.58 132.16 M 247.34 -15.5 L 241.43 -15.5 M 247.34 58.33 L 241.43 58.33 M 247.34 132.16 L 241.43 132.16" style="fill:none"></path></g><g fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M -22.49 -18.68 L -22.49 205.48 L 247.34 205.48 L 247.34 -18.68 L -22.49 -18.68 Z" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -8.84 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic1.4.4.4.4.4.1.1">@1</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 47.37 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic1.5.5.5.5.5.1.1">@2</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 103.59 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic1.6.6.6.6.6.1.1">@3</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 159.8 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic1.7.7.7.7.7.1.1">@4</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 216.01 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic1.8.8.8.8.8.1.1">@5</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 -19.96)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.7" class="ltx_Math" display="inline" id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.7</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">0.7</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">0.7</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 53.87)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.8" class="ltx_Math" display="inline" id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.8</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">0.8</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">0.8</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1d">0.8</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 127.7)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.9" class="ltx_Math" display="inline" id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.9</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">0.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">0.9</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1d">0.9</annotation></semantics></math></foreignobject></g><clippath id="pgfcp1"><path d="M -22.49 -18.68 L 247.34 -18.68 L 247.34 205.48 L -22.49 205.48 Z"></path></clippath><g clip-path="url(#pgfcp1)"><g fill="#0000B3" stroke="#0000B3"><path d="M 0 0 L 56.21 80.48 L 112.43 159.48 L 168.64 172.77 L 224.85 183.84" style="fill:none"></path></g><g></g><g fill="#B30000" stroke="#B30000"><path d="M 0 8.12 L 56.21 109.27 L 112.43 153.57 L 168.64 172.03 L 224.85 179.41" style="fill:none"></path></g><g></g><g fill="#00B300" stroke="#00B300"><path d="M 0 5.17 L 56.21 117.39 L 112.43 161.69 L 168.64 186.8 L 224.85 186.8" style="fill:none"></path></g><g></g></g><g color="#0000B3" fill="#0000B3" stroke="#0000B3"><path d="M 2.77 0 C 2.77 1.53 1.53 2.77 0 2.77 C -1.53 2.77 -2.77 1.53 -2.77 0 C -2.77 -1.53 -1.53 -2.77 0 -2.77 C 1.53 -2.77 2.77 -1.53 2.77 0 Z M 0 0"></path><path d="M 58.98 80.48 C 58.98 82.01 57.74 83.24 56.21 83.24 C 54.68 83.24 53.45 82.01 53.45 80.48 C 53.45 78.95 54.68 77.71 56.21 77.71 C 57.74 77.71 58.98 78.95 58.98 80.48 Z M 56.21 80.48"></path><path d="M 115.19 159.48 C 115.19 161.01 113.95 162.24 112.43 162.24 C 110.9 162.24 109.66 161.01 109.66 159.48 C 109.66 157.95 110.9 156.71 112.43 156.71 C 113.95 156.71 115.19 157.95 115.19 159.48 Z M 112.43 159.48"></path><path d="M 171.41 172.77 C 171.41 174.3 170.17 175.53 168.64 175.53 C 167.11 175.53 165.87 174.3 165.87 172.77 C 165.87 171.24 167.11 170 168.64 170 C 170.17 170 171.41 171.24 171.41 172.77 Z M 168.64 172.77"></path><path d="M 227.62 183.84 C 227.62 185.37 226.38 186.61 224.85 186.61 C 223.32 186.61 222.08 185.37 222.08 183.84 C 222.08 182.31 223.32 181.07 224.85 181.07 C 226.38 181.07 227.62 182.31 227.62 183.84 Z M 224.85 183.84"></path></g><g color="#B30000" fill="#B30000" stroke="#B30000"><path d="M -2.77 5.35 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 53.45 106.5 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 109.66 150.8 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 165.87 169.26 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 222.08 176.64 h 5.53 v 5.53 h -5.53 Z"></path></g><g color="#00B300" fill="#00B300" stroke="#00B300"><path d="M 0 7.94 L 2.4 3.78 L -2.4 3.78 Z"></path><path d="M 56.21 120.16 L 58.61 116.01 L 53.82 116.01 Z"></path><path d="M 112.43 164.46 L 114.82 160.31 L 110.03 160.31 Z"></path><path d="M 168.64 189.56 L 171.04 185.41 L 166.24 185.41 Z"></path><path d="M 224.85 189.56 L 227.25 185.41 L 222.45 185.41 Z"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 91.86 -52.36)"><foreignobject height="12.45" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="41.13"><span class="ltx_text" id="S5.F2.pic1.9.9.9.9.9.1.1">Top_k</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(0.0 1.0 -1.0 0.0 -56.86 74.85)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="37.09"><span class="ltx_text" id="S5.F2.pic1.10.10.10.10.10.1.1">Recall</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 84.22 218.67)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="56.41"><span class="ltx_text" id="S5.F2.pic1.11.11.11.11.11.1.1">RAG 100</span></foreignobject></g><g fill="#FFFFFF" stroke="#000000"><path d="M 106.67 -11.68 h 132.3 v 57.81 h -132.3 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 110.82 -8.91)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 43.275)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.61)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#0000B3" stroke="#0000B3" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 32.83 0) translate(41.25,0) matrix(1.0 0.0 0.0 1.0 -38.48 -3.77)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="76.97"><span class="ltx_text" id="S5.F2.pic1.12.12.12.12.12.1.1.1.1.1">Vanilla BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 25.75)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#B30000" stroke="#B30000" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 9.04 -2.77 h 5.53 v 5.53 h -5.53 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 44.46 0) translate(29.62,0) matrix(1.0 0.0 0.0 1.0 -26.86 -3.69)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="53.71"><span class="ltx_text" id="S5.F2.pic1.13.13.13.13.13.2.2.1.1.1">FT BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 43.27)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#00B300" stroke="#00B300" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 11.81 2.77 L 14.21 -1.38 L 9.41 -1.38 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 24.18 0) translate(49.91,0) matrix(1.0 0.0 0.0 1.0 -47.14 -4.15)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="94.28"><span class="ltx_text" id="S5.F2.pic1.14.14.14.14.14.3.3.1.1.1">REFINE (ours)</span></foreignobject></g></g></g></g></g></g></g></svg></div>
<div class="ltx_flex_cell ltx_flex_size_3"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="140.39" id="S5.F2.pic2" overflow="visible" version="1.1" width="152.97"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,140.39) matrix(1 0 0 -1 0 0) translate(23.33,0) translate(0,19.71) matrix(0.48 0.0 0.0 0.48 -23.33 -19.71)"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(71.08,0) translate(0,59.74)"><g color="#BFBFBF" fill="#BFBFBF" stroke="#BFBFBF" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" stroke-width="0.4pt"><path d="M -22.49 27.77 L 247.34 27.77 M -22.49 90.88 L 247.34 90.88 M -22.49 153.98 L 247.34 153.98" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M 0 -18.68 L 0 -12.78 M 56.21 -18.68 L 56.21 -12.78 M 112.43 -18.68 L 112.43 -12.78 M 168.64 -18.68 L 168.64 -12.78 M 224.85 -18.68 L 224.85 -12.78 M 0 205.48 L 0 199.58 M 56.21 205.48 L 56.21 199.58 M 112.43 205.48 L 112.43 199.58 M 168.64 205.48 L 168.64 199.58 M 224.85 205.48 L 224.85 199.58" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M -22.49 27.77 L -16.58 27.77 M -22.49 90.88 L -16.58 90.88 M -22.49 153.98 L -16.58 153.98 M 247.34 27.77 L 241.43 27.77 M 247.34 90.88 L 241.43 90.88 M 247.34 153.98 L 241.43 153.98" style="fill:none"></path></g><g fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M -22.49 -18.68 L -22.49 205.48 L 247.34 205.48 L 247.34 -18.68 L -22.49 -18.68 Z" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -8.84 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic2.4.4.4.4.4.1.1">@1</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 47.37 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic2.5.5.5.5.5.1.1">@2</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 103.59 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic2.6.6.6.6.6.1.1">@3</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 159.8 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic2.7.7.7.7.7.1.1">@4</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 216.01 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic2.8.8.8.8.8.1.1">@5</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 23.31)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.7" class="ltx_Math" display="inline" id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.7</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">0.7</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">0.7</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 86.42)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.8" class="ltx_Math" display="inline" id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.8</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">0.8</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">0.8</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1d">0.8</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 149.53)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.9" class="ltx_Math" display="inline" id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.9</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">0.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">0.9</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic2.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1d">0.9</annotation></semantics></math></foreignobject></g><clippath id="pgfcp2"><path d="M -22.49 -18.68 L 247.34 -18.68 L 247.34 205.48 L -22.49 205.48 Z"></path></clippath><g clip-path="url(#pgfcp2)"><g fill="#0000B3" stroke="#0000B3"><path d="M 0 0 L 56.21 99.08 L 112.43 143.89 L 168.64 162.19 L 224.85 179.23" style="fill:none"></path></g><g></g><g fill="#B30000" stroke="#B30000"><path d="M 0 78.89 L 56.21 140.73 L 112.43 172.29 L 168.64 179.23 L 224.85 186.8" style="fill:none"></path></g><g></g><g fill="#00B300" stroke="#00B300"><path d="M 0 79.52 L 56.21 153.35 L 112.43 177.33 L 168.64 186.8 L 224.85 186.8" style="fill:none"></path></g><g></g></g><g color="#0000B3" fill="#0000B3" stroke="#0000B3"><path d="M 2.77 0 C 2.77 1.53 1.53 2.77 0 2.77 C -1.53 2.77 -2.77 1.53 -2.77 0 C -2.77 -1.53 -1.53 -2.77 0 -2.77 C 1.53 -2.77 2.77 -1.53 2.77 0 Z M 0 0"></path><path d="M 58.98 99.08 C 58.98 100.61 57.74 101.85 56.21 101.85 C 54.68 101.85 53.45 100.61 53.45 99.08 C 53.45 97.55 54.68 96.31 56.21 96.31 C 57.74 96.31 58.98 97.55 58.98 99.08 Z M 56.21 99.08"></path><path d="M 115.19 143.89 C 115.19 145.42 113.95 146.65 112.43 146.65 C 110.9 146.65 109.66 145.42 109.66 143.89 C 109.66 142.36 110.9 141.12 112.43 141.12 C 113.95 141.12 115.19 142.36 115.19 143.89 Z M 112.43 143.89"></path><path d="M 171.41 162.19 C 171.41 163.72 170.17 164.96 168.64 164.96 C 167.11 164.96 165.87 163.72 165.87 162.19 C 165.87 160.66 167.11 159.42 168.64 159.42 C 170.17 159.42 171.41 160.66 171.41 162.19 Z M 168.64 162.19"></path><path d="M 227.62 179.23 C 227.62 180.76 226.38 182 224.85 182 C 223.32 182 222.08 180.76 222.08 179.23 C 222.08 177.7 223.32 176.46 224.85 176.46 C 226.38 176.46 227.62 177.7 227.62 179.23 Z M 224.85 179.23"></path></g><g color="#B30000" fill="#B30000" stroke="#B30000"><path d="M -2.77 76.12 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 53.45 137.96 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 109.66 169.52 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 165.87 176.46 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 222.08 184.03 h 5.53 v 5.53 h -5.53 Z"></path></g><g color="#00B300" fill="#00B300" stroke="#00B300"><path d="M 0 82.28 L 2.4 78.13 L -2.4 78.13 Z"></path><path d="M 56.21 156.12 L 58.61 151.97 L 53.82 151.97 Z"></path><path d="M 112.43 180.1 L 114.82 175.95 L 110.03 175.95 Z"></path><path d="M 168.64 189.57 L 171.04 185.42 L 166.24 185.42 Z"></path><path d="M 224.85 189.57 L 227.25 185.42 L 222.45 185.42 Z"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 91.86 -52.37)"><foreignobject height="12.45" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="41.13"><span class="ltx_text" id="S5.F2.pic2.9.9.9.9.9.1.1">Top_k</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(0.0 1.0 -1.0 0.0 -56.86 74.86)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="37.09"><span class="ltx_text" id="S5.F2.pic2.10.10.10.10.10.1.1">Recall</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 79.08 218.67)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="66.69"><span class="ltx_text" id="S5.F2.pic2.11.11.11.11.11.1.1">TOURISM</span></foreignobject></g><g fill="#FFFFFF" stroke="#000000"><path d="M 106.67 -11.68 h 132.3 v 57.81 h -132.3 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 110.82 -8.91)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 43.275)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.61)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#0000B3" stroke="#0000B3" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 32.83 0) translate(41.25,0) matrix(1.0 0.0 0.0 1.0 -38.48 -3.77)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="76.97"><span class="ltx_text" id="S5.F2.pic2.12.12.12.12.12.1.1.1.1.1">Vanilla BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 25.75)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#B30000" stroke="#B30000" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 9.04 -2.77 h 5.53 v 5.53 h -5.53 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 44.46 0) translate(29.62,0) matrix(1.0 0.0 0.0 1.0 -26.86 -3.69)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="53.71"><span class="ltx_text" id="S5.F2.pic2.13.13.13.13.13.2.2.1.1.1">FT BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 43.27)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#00B300" stroke="#00B300" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 11.81 2.77 L 14.21 -1.38 L 9.41 -1.38 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 24.18 0) translate(49.91,0) matrix(1.0 0.0 0.0 1.0 -47.14 -4.15)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="94.28"><span class="ltx_text" id="S5.F2.pic2.14.14.14.14.14.3.3.1.1.1">REFINE (ours)</span></foreignobject></g></g></g></g></g></g></g></svg></div>
<div class="ltx_flex_cell ltx_flex_size_3"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="141.68" id="S5.F2.pic3" overflow="visible" version="1.1" width="152.97"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,141.68) matrix(1 0 0 -1 0 0) translate(23.33,0) translate(0,19.71) matrix(0.48 0.0 0.0 0.48 -23.33 -19.71)"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(71.08,0) translate(0,59.74)"><g color="#BFBFBF" fill="#BFBFBF" stroke="#BFBFBF" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" stroke-width="0.4pt"><path d="M -22.49 15.68 L 247.34 15.68 M -22.49 80.99 L 247.34 80.99 M -22.49 146.3 L 247.34 146.3" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M 0 -18.68 L 0 -12.78 M 56.21 -18.68 L 56.21 -12.78 M 112.43 -18.68 L 112.43 -12.78 M 168.64 -18.68 L 168.64 -12.78 M 224.85 -18.68 L 224.85 -12.78 M 0 205.48 L 0 199.57 M 56.21 205.48 L 56.21 199.57 M 112.43 205.48 L 112.43 199.57 M 168.64 205.48 L 168.64 199.57 M 224.85 205.48 L 224.85 199.57" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M -22.49 15.68 L -16.58 15.68 M -22.49 80.99 L -16.58 80.99 M -22.49 146.3 L -16.58 146.3 M 247.34 15.68 L 241.43 15.68 M 247.34 80.99 L 241.43 80.99 M 247.34 146.3 L 241.43 146.3" style="fill:none"></path></g><g fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M -22.49 -18.68 L -22.49 205.48 L 247.34 205.48 L 247.34 -18.68 L -22.49 -18.68 Z" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -8.84 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic3.4.4.4.4.4.1.1">@1</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 47.37 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic3.5.5.5.5.5.1.1">@2</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 103.59 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic3.6.6.6.6.6.1.1">@3</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 159.8 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic3.7.7.7.7.7.1.1">@4</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 216.01 -33.18)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="17.68"><span class="ltx_text" id="S5.F2.pic3.8.8.8.8.8.1.1">@5</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 11.22)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.7" class="ltx_Math" display="inline" id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.7</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">0.7</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">0.7</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 76.53)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.8" class="ltx_Math" display="inline" id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.8</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">0.8</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">0.8</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic3.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1d">0.8</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -47.36 141.84)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="19.99"><math alttext="0.9" class="ltx_Math" display="inline" id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0.9</mn><annotation-xml encoding="MathML-Content" id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="float" xref="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">0.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">0.9</annotation><annotation encoding="application/x-llamapun" id="S5.F2.pic3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1d">0.9</annotation></semantics></math></foreignobject></g><clippath id="pgfcp3"><path d="M -22.49 -18.68 L 247.34 -18.68 L 247.34 205.48 L -22.49 205.48 Z"></path></clippath><g clip-path="url(#pgfcp3)"><g fill="#0000B3" stroke="#0000B3"><path d="M 0 0 L 56.21 91.44 L 112.43 124.09 L 168.64 143.69 L 224.85 154.79" style="fill:none"></path></g><g></g><g fill="#B30000" stroke="#B30000"><path d="M 0 65.31 L 56.21 120.83 L 112.43 150.22 L 168.64 175.69 L 224.85 184.18" style="fill:none"></path></g><g></g><g fill="#00B300" stroke="#00B300"><path d="M 0 75.11 L 56.21 134.54 L 112.43 161.32 L 168.64 182.22 L 224.85 186.79" style="fill:none"></path></g><g></g></g><g color="#0000B3" fill="#0000B3" stroke="#0000B3"><path d="M 2.77 0 C 2.77 1.53 1.53 2.77 0 2.77 C -1.53 2.77 -2.77 1.53 -2.77 0 C -2.77 -1.53 -1.53 -2.77 0 -2.77 C 1.53 -2.77 2.77 -1.53 2.77 0 Z M 0 0"></path><path d="M 58.98 91.44 C 58.98 92.97 57.74 94.21 56.21 94.21 C 54.68 94.21 53.45 92.97 53.45 91.44 C 53.45 89.91 54.68 88.67 56.21 88.67 C 57.74 88.67 58.98 89.91 58.98 91.44 Z M 56.21 91.44"></path><path d="M 115.19 124.09 C 115.19 125.62 113.95 126.86 112.43 126.86 C 110.9 126.86 109.66 125.62 109.66 124.09 C 109.66 122.57 110.9 121.33 112.43 121.33 C 113.95 121.33 115.19 122.57 115.19 124.09 Z M 112.43 124.09"></path><path d="M 171.41 143.69 C 171.41 145.22 170.17 146.46 168.64 146.46 C 167.11 146.46 165.87 145.22 165.87 143.69 C 165.87 142.16 167.11 140.92 168.64 140.92 C 170.17 140.92 171.41 142.16 171.41 143.69 Z M 168.64 143.69"></path><path d="M 227.62 154.79 C 227.62 156.32 226.38 157.56 224.85 157.56 C 223.32 157.56 222.08 156.32 222.08 154.79 C 222.08 153.26 223.32 152.02 224.85 152.02 C 226.38 152.02 227.62 153.26 227.62 154.79 Z M 224.85 154.79"></path></g><g color="#B30000" fill="#B30000" stroke="#B30000"><path d="M -2.77 62.55 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 53.45 118.06 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 109.66 147.45 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 165.87 172.92 h 5.53 v 5.53 h -5.53 Z"></path><path d="M 222.08 181.41 h 5.53 v 5.53 h -5.53 Z"></path></g><g color="#00B300" fill="#00B300" stroke="#00B300"><path d="M 0 77.88 L 2.4 73.73 L -2.4 73.73 Z"></path><path d="M 56.21 137.31 L 58.61 133.16 L 53.82 133.16 Z"></path><path d="M 112.43 164.09 L 114.82 159.94 L 110.03 159.94 Z"></path><path d="M 168.64 184.99 L 171.04 180.84 L 166.24 180.84 Z"></path><path d="M 224.85 189.56 L 227.25 185.41 L 222.45 185.41 Z"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 91.86 -52.36)"><foreignobject height="12.45" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="41.13"><span class="ltx_text" id="S5.F2.pic3.9.9.9.9.9.1.1">Top_k</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(0.0 1.0 -1.0 0.0 -56.86 74.85)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="37.09"><span class="ltx_text" id="S5.F2.pic3.10.10.10.10.10.1.1">Recall</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 87.54 221.36)"><foreignobject height="12.15" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="49.77"><span class="ltx_text" id="S5.F2.pic3.11.11.11.11.11.1.1">SQUAD</span></foreignobject></g><g fill="#FFFFFF" stroke="#000000"><path d="M 106.67 -11.68 h 132.3 v 57.81 h -132.3 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 110.82 -8.91)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 43.275)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.61)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#0000B3" stroke="#0000B3" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 32.83 0) translate(41.25,0) matrix(1.0 0.0 0.0 1.0 -38.48 -3.77)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="76.97"><span class="ltx_text" id="S5.F2.pic3.12.12.12.12.12.1.1.1.1.1">Vanilla BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 25.75)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#B30000" stroke="#B30000" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 9.04 -2.77 h 5.53 v 5.53 h -5.53 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 44.46 0) translate(29.62,0) matrix(1.0 0.0 0.0 1.0 -26.86 -3.69)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="53.71"><span class="ltx_text" id="S5.F2.pic3.13.13.13.13.13.2.2.1.1.1">FT BGE</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 43.27)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#00B300" stroke="#00B300" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 11.81 2.77 L 14.21 -1.38 L 9.41 -1.38 Z"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 24.18 0) translate(49.91,0) matrix(1.0 0.0 0.0 1.0 -47.14 -4.15)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="94.28"><span class="ltx_text" id="S5.F2.pic3.14.14.14.14.14.3.3.1.1.1">REFINE (ours)</span></foreignobject></g></g></g></g></g></g></g></svg></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Recall at different top_k values for vanilla (pretrained) BGE, fine-tuned (FT) BGE, and REFINE.</figcaption>
</figure>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.2">Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S5.F2" title="Figure 2 ‣ 5 Results &amp; Discussion ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">2</span></a> plots the performance of the three models when different values of top_k were used in the retriever. Recall was measured with <math alttext="\mathrm{top\_k}=1,2,3,4,5" class="ltx_Math" display="inline" id="S5.p3.1.m1.5"><semantics id="S5.p3.1.m1.5a"><mrow id="S5.p3.1.m1.5.6" xref="S5.p3.1.m1.5.6.cmml"><mrow id="S5.p3.1.m1.5.6.2" xref="S5.p3.1.m1.5.6.2.cmml"><mi id="S5.p3.1.m1.5.6.2.2" xref="S5.p3.1.m1.5.6.2.2.cmml">top</mi><mo id="S5.p3.1.m1.5.6.2.1" xref="S5.p3.1.m1.5.6.2.1.cmml">⁢</mo><mi id="S5.p3.1.m1.5.6.2.3" mathvariant="normal" xref="S5.p3.1.m1.5.6.2.3.cmml">_</mi><mo id="S5.p3.1.m1.5.6.2.1a" xref="S5.p3.1.m1.5.6.2.1.cmml">⁢</mo><mi id="S5.p3.1.m1.5.6.2.4" mathvariant="normal" xref="S5.p3.1.m1.5.6.2.4.cmml">k</mi></mrow><mo id="S5.p3.1.m1.5.6.1" xref="S5.p3.1.m1.5.6.1.cmml">=</mo><mrow id="S5.p3.1.m1.5.6.3.2" xref="S5.p3.1.m1.5.6.3.1.cmml"><mn id="S5.p3.1.m1.1.1" xref="S5.p3.1.m1.1.1.cmml">1</mn><mo id="S5.p3.1.m1.5.6.3.2.1" xref="S5.p3.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.p3.1.m1.2.2" xref="S5.p3.1.m1.2.2.cmml">2</mn><mo id="S5.p3.1.m1.5.6.3.2.2" xref="S5.p3.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.p3.1.m1.3.3" xref="S5.p3.1.m1.3.3.cmml">3</mn><mo id="S5.p3.1.m1.5.6.3.2.3" xref="S5.p3.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.p3.1.m1.4.4" xref="S5.p3.1.m1.4.4.cmml">4</mn><mo id="S5.p3.1.m1.5.6.3.2.4" xref="S5.p3.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.p3.1.m1.5.5" xref="S5.p3.1.m1.5.5.cmml">5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.5b"><apply id="S5.p3.1.m1.5.6.cmml" xref="S5.p3.1.m1.5.6"><eq id="S5.p3.1.m1.5.6.1.cmml" xref="S5.p3.1.m1.5.6.1"></eq><apply id="S5.p3.1.m1.5.6.2.cmml" xref="S5.p3.1.m1.5.6.2"><times id="S5.p3.1.m1.5.6.2.1.cmml" xref="S5.p3.1.m1.5.6.2.1"></times><ci id="S5.p3.1.m1.5.6.2.2.cmml" xref="S5.p3.1.m1.5.6.2.2">top</ci><ci id="S5.p3.1.m1.5.6.2.3.cmml" xref="S5.p3.1.m1.5.6.2.3">_</ci><ci id="S5.p3.1.m1.5.6.2.4.cmml" xref="S5.p3.1.m1.5.6.2.4">k</ci></apply><list id="S5.p3.1.m1.5.6.3.1.cmml" xref="S5.p3.1.m1.5.6.3.2"><cn id="S5.p3.1.m1.1.1.cmml" type="integer" xref="S5.p3.1.m1.1.1">1</cn><cn id="S5.p3.1.m1.2.2.cmml" type="integer" xref="S5.p3.1.m1.2.2">2</cn><cn id="S5.p3.1.m1.3.3.cmml" type="integer" xref="S5.p3.1.m1.3.3">3</cn><cn id="S5.p3.1.m1.4.4.cmml" type="integer" xref="S5.p3.1.m1.4.4">4</cn><cn id="S5.p3.1.m1.5.5.cmml" type="integer" xref="S5.p3.1.m1.5.5">5</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.5c">\mathrm{top\_k}=1,2,3,4,5</annotation><annotation encoding="application/x-llamapun" id="S5.p3.1.m1.5d">roman_top _ roman_k = 1 , 2 , 3 , 4 , 5</annotation></semantics></math>. The figure shows that REFINE outperforms the other baselines across the different top_k settings on both datasets. A significant improvement can be observed in the TOURISM and SQUAD dataset, even for <math alttext="\mathrm{top\_k}=1" class="ltx_Math" display="inline" id="S5.p3.2.m2.1"><semantics id="S5.p3.2.m2.1a"><mrow id="S5.p3.2.m2.1.1" xref="S5.p3.2.m2.1.1.cmml"><mrow id="S5.p3.2.m2.1.1.2" xref="S5.p3.2.m2.1.1.2.cmml"><mi id="S5.p3.2.m2.1.1.2.2" xref="S5.p3.2.m2.1.1.2.2.cmml">top</mi><mo id="S5.p3.2.m2.1.1.2.1" xref="S5.p3.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S5.p3.2.m2.1.1.2.3" mathvariant="normal" xref="S5.p3.2.m2.1.1.2.3.cmml">_</mi><mo id="S5.p3.2.m2.1.1.2.1a" xref="S5.p3.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S5.p3.2.m2.1.1.2.4" mathvariant="normal" xref="S5.p3.2.m2.1.1.2.4.cmml">k</mi></mrow><mo id="S5.p3.2.m2.1.1.1" xref="S5.p3.2.m2.1.1.1.cmml">=</mo><mn id="S5.p3.2.m2.1.1.3" xref="S5.p3.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p3.2.m2.1b"><apply id="S5.p3.2.m2.1.1.cmml" xref="S5.p3.2.m2.1.1"><eq id="S5.p3.2.m2.1.1.1.cmml" xref="S5.p3.2.m2.1.1.1"></eq><apply id="S5.p3.2.m2.1.1.2.cmml" xref="S5.p3.2.m2.1.1.2"><times id="S5.p3.2.m2.1.1.2.1.cmml" xref="S5.p3.2.m2.1.1.2.1"></times><ci id="S5.p3.2.m2.1.1.2.2.cmml" xref="S5.p3.2.m2.1.1.2.2">top</ci><ci id="S5.p3.2.m2.1.1.2.3.cmml" xref="S5.p3.2.m2.1.1.2.3">_</ci><ci id="S5.p3.2.m2.1.1.2.4.cmml" xref="S5.p3.2.m2.1.1.2.4">k</ci></apply><cn id="S5.p3.2.m2.1.1.3.cmml" type="integer" xref="S5.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.2.m2.1c">\mathrm{top\_k}=1</annotation><annotation encoding="application/x-llamapun" id="S5.p3.2.m2.1d">roman_top _ roman_k = 1</annotation></semantics></math> w.r.t vanilla model. This demonstrates the superior performance of REFINE when retrieving only one or few relevant documents. Refer Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#Pt0.A1.T4" title="Table 4 ‣ Appendix 0.A Detailed Results ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">4</span></a> in Supplementary material for the detailed results. We also want to highlight that in preliminary experiments, we attempted unsupervised fine-tuning on the unlabeled training data. However, this approach led to a degradation in performance. The reason for this is that the objective of pre-training is to reconstruct the text, and the pre-trained model cannot be directly used for similarity computation. Instead, it requires fine-tuning to achieve that capability <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib26" title="">26</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib6" title="">6</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.1"><span class="ltx_text ltx_font_bold" id="S5.p4.1.1">Cross-Dataset Generalization.</span></p>
</div>
<div class="ltx_para" id="S5.p5">
<p class="ltx_p" id="S5.p5.1">We further conducted experiments to evaluate the impact of fine-tuning on the generalizability of a model trained on domain-specific data. While fine-tuning generally improves performance within the targeted domain (in-domain), it often results in a loss of generalization across other domains (out-of-domain), a phenomenon known as catastrophic forgetting <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#bib.bib1" title="">1</a>]</cite>. Our findings, presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#S5.T3" title="Table 3 ‣ 5 Results &amp; Discussion ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">3</span></a>, show the performance of a model initially trained on the SQUAD dataset and then evaluated on the RAG dataset, serving as an out-of-domain test case (OOD). We also compared our results with the LM-cocktail method, a popular model-merging technique. Our approach improved performance, achieving a recall of <span class="ltx_text ltx_font_bold" id="S5.p5.1.1">0.938</span> compared to baseline methods. Interestingly, even fine-tuned BGE exhibited improved rather than degraded performance. We want to highlight that our primary focus was on enhancing the retriever for the specific dataset, we aimed to examine the effects of catastrophic forgetting and acknowledge the need for further exploration in future studies. Therefore, we limited our analysis to the comparison between the SQuAD and RAG datasets, rather than examining all possible combinations. Additionally, when we reversed the training and test datasets (using RAG as the training data and SQUAD as the test data), a similar trend was observed. Fine-tuned BGE, LM-cocktail showed performance improvements, with REFINE outperforming others achieving a recall of <span class="ltx_text ltx_font_bold" id="S5.p5.1.2">0.896</span>, highlighting the generalizability of our approach.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>
The results shown represent the model’s performance when it was trained on a specific dataset and evaluated on an out-of-domain (OOD) dataset. The row with a "-" indicates the metrics for the vanilla (pretrained) BGE model, which did not undergo fine-tuning.
</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.1.1.1"><span class="ltx_text" id="S5.T3.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.1.1.1">Train Dataset</span></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.1.1.2"><span class="ltx_text" id="S5.T3.1.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.2.1.1">OOD Dataset</span></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.1.1.3"><span class="ltx_text" id="S5.T3.1.1.1.3.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.3.1.1">Model</span></span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.1.4"><span class="ltx_text" id="S5.T3.1.1.1.4.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.4.1.1">MAP</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.1.5"><span class="ltx_text" id="S5.T3.1.1.1.5.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.5.1.1">NDCG</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.1.6"><span class="ltx_text" id="S5.T3.1.1.1.6.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.6.1.1">MRR</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.1.7"><span class="ltx_text" id="S5.T3.1.1.1.7.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.7.1.1">Recall</span></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.2.2">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T3.1.2.2.1"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.2.2.2"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.2.2.3"></th>
<td class="ltx_td ltx_align_center" id="S5.T3.1.2.2.4"><span class="ltx_text" id="S5.T3.1.2.2.4.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.2.2.4.1.1">@3</span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.2.2.5"><span class="ltx_text" id="S5.T3.1.2.2.5.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.2.2.5.1.1">@3</span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.2.2.6"><span class="ltx_text" id="S5.T3.1.2.2.6.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.2.2.6.1.1">@3</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.2.2.7"><span class="ltx_text" id="S5.T3.1.2.2.7.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.2.2.7.1.1">@3</span></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.3.3.1">-</th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.3.3.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.3.3.3">Vanilla BGE</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.3.3.4">0.863</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.3.3.5">0.858</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.3.3.6">0.904</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.3.3.7">0.937</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.4.4">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.4.4.1"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.4.4.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.4.4.3">FT BGE</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.4.4.4">0.879</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.4.4.5">0.866</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.4.4.6">0.916</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.4.4.7">0.932</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.5.5">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T3.1.5.5.1"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.5.5.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.5.5.3">LM-cocktail</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.5.5.4">0.878</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.5.5.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.5.5.5.1">0.866</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.5.5.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.5.5.6.1">0.917</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.5.5.7">0.934</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T3.1.6.6.1"><span class="ltx_text" id="S5.T3.1.6.6.1.1">SQUAD</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.6.6.2"><span class="ltx_text" id="S5.T3.1.6.6.2.1">RAG</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.6.6.3">REFINE (ours)</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.6.6.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.6.6.4.1">0.881</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.6.6.5">0.865</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.6.6.6">0.915</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.6.6.7"><span class="ltx_text ltx_font_bold" id="S5.T3.1.6.6.7.1">0.938</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.7.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.7.7.1">-</th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.7.7.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.7.7.3">Vanilla BGE</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.7.7.4">0.708</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.7.7.5">0.728</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.7.7.6">0.707</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.7.7.7">0.786</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.8.8">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.8.8.1"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.8.8.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.8.8.3">FT BGE</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.8.8.4">0.743</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.8.8.5">0.771</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.8.8.6">0.743</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.8.8.7">0.852</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.9.9">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="S5.T3.1.9.9.1"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.9.9.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.1.9.9.3">LM-cocktail</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.9.9.4">0.769</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.9.9.5">0.794</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.9.9.6">0.769</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.9.9.7">0.866</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.10.10">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r" id="S5.T3.1.10.10.1"><span class="ltx_text" id="S5.T3.1.10.10.1.1">RAG</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S5.T3.1.10.10.2"><span class="ltx_text" id="S5.T3.1.10.10.2.1">SQUAD</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S5.T3.1.10.10.3">REFINE (ours)</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T3.1.10.10.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.10.10.4.1">0.801</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T3.1.10.10.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.10.10.5.1">0.825</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T3.1.10.10.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.10.10.6.1">0.801</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S5.T3.1.10.10.7"><span class="ltx_text ltx_font_bold" id="S5.T3.1.10.10.7.1">0.896</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusions and Future Work</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this work, we introduced a novel approach to improve retrieval models used in RAG. First, we generated synthetic contrastive data to fine-tune the embedding models. Then, we introduced a model fusion approach, which combines the pretrained (vanilla) model with the newly trained model during the training phase. This fusion method led to significant performance gains across various metrics and improved the model’s ability to generalize to unseen data. Although this study focused on scarce data to simulate real-life scenarios, we believe our approach can be extended to larger datasets, potentially achieving even greater performance improvements. In the future, we plan to apply our technique to more (larger) datasets and further investigate catastrophic forgetting in retrieval embedding models. Additionally, we aim to explore multi-hop retrieval fine-tuning, which is a challenging task.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Aleixo, E.L., Colonna, J.G., Cristo, M., Fernandes, E.: Catastrophic forgetting in deep learning: A comprehensive taxonomy. arXiv:2312.10549 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Chen, J., Xiao, S., Zhang, P., Luo, K., Lian, D., Liu, Z.: BGE M3-Embedding: Multi-lingual, multi-functionality, multi-granularity text embeddings through self-knowledge distillation. arXiv:2309.07597 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Chen, S., Hou, Y., Cui, Y., Che, W., Liu, T., Yu, X.: Recall and learn: Fine-tuning deep pretrained language models with less forgetting. In: Proc. Conference on Empirical Methods in Natural Language Processing (EMNLP). pp. 7870–7881 (Nov 2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Devlin, J., Chang, M.W., Lee, K., Toutanova, K.: BERT: Pre-training of deep bidirectional transformers for language understanding. In: Burstein, J., Doran, C., Solorio, T. (eds.) Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long and Short Papers). pp. 4171–4186. Minneapolis, Minnesota (Jun 2019)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Douze, M., Guzhva, A., Deng, C., Johnson, J., Szilvasy, G., Mazaré, P.E., Lomeli, M., Hosseini, L., Jégou, H.: The Faiss library. arXiv:2401.08281 (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
FlagOpen: FlagEmbedding: Retrieval and retrieval-augmented LLMs. https://github.com/FlagOpen/FlagEmbedding (2024), gitHub repository

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Gilardi, F., Alizadeh, M., Kubli, M.: ChatGPT outperforms crowd workers for text-annotation tasks. Proc. National Academy of Sciences <span class="ltx_text ltx_font_bold" id="bib.bib7.1.1">120</span>(30) (Jul 2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Goodfellow, I.J., Mirza, M., Xiao, D., Courville, A., Bengio, Y.: An empirical investigation of catastrophic forgetting in gradient-based neural networks. arXiv:1312.6211 (2015)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Gururangan, S., Marasović, A., Swayamdipta, S., Lo, K., Beltagy, I., Downey, D., Smith, N.A.: Don’t stop pretraining: Adapt language models to domains and tasks. In: Jurafsky, D., Chai, J., Schluter, N., Tetreault, J. (eds.) Proc. 58th Annual Meeting of the Association for Computational Linguistics. pp. 8342–8360 (Jul 2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Hirschman, L., Gaizauskas, R.: Natural language question answering: The view from here. Natural Language Engineering <span class="ltx_text ltx_font_bold" id="bib.bib10.1.1">7</span>, 275 – 300 (12 2001)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Huang, Y., Wang, K., Dutta, S., Patel, R., Glavaš, G., Gurevych, I.: AdaSent: Efficient domain-adapted sentence embeddings for few-shot classification. In: Bouamor, H., Pino, J., Bali, K. (eds.) Proc. Conference on Empirical Methods in Natural Language Processing. pp. 3420–3434 (Dec 2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Joshi, M., Chen, D., Liu, Y., Weld, D.S., Zettlemoyer, L., Levy, O.: SpanBERT: Improving pre-training by representing and predicting spans. arXiv:1907.10529 (2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Karpukhin, V., Oguz, B., Min, S., Lewis, P., Wu, L., Edunov, S., Chen, D., Yih, W.t.: Dense passage retrieval for open-domain question answering. In: Webber, B., Cohn, T., He, Y., Liu, Y. (eds.) Proc. Conference on Empirical Methods in Natural Language Processing (EMNLP). pp. 6769–6781 (Nov 2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Lewis, P., Perez, E., Piktus, A., Petroni, F., Karpukhin, V., Goyal, N., Küttler, H., Lewis, M., Yih, W.t., Rocktäschel, T., Riedel, S., Kiela, D.: Retrieval-augmented generation for knowledge-intensive NLP tasks. In: Proc. 34th International Conference on Neural Information Processing Systems. NIPS ’20 (2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Merrick, L., Xu, D., Nuti, G., Campos, D.: Arctic-Embed: Scalable, efficient, and accurate text embedding models. arXiv:2405.05374 (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
OpenAI: New embedding models and API updates. https://openai.com/index/new-embedding-models-and-api-updates/ (January 25 2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Ouyang, L., Wu, J., Jiang, X., Almeida, D., Wainwright, C.L., Mishkin, P., Zhang, C., Agarwal, S., Slama, K., Ray, A., Schulman, J., Hilton, J., Kelton, F., Miller, L., Simens, M., Askell, A., Welinder, P., Christiano, P., Leike, J., Lowe, R.: Training language models to follow instructions with human feedback. arXiv:2203.02155 (2022)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Rebuffi, S.A., Kolesnikov, A., Sperl, G., Lampert, C.H.: iCaRL: Incremental classifier and representation learning. arXiv:1611.07725 (2017)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Reimers, N., Gurevych, I.: Sentence-BERT: Sentence embeddings using Siamese BERT-networks. In: Proc. Conference on Empirical Methods in Natural Language Processing (11 2019)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Robertson, S., Zaragoza, H.: The probabilistic relevance framework: BM25 and beyond. Foundations and Trends in Information Retrieval <span class="ltx_text ltx_font_bold" id="bib.bib20.1.1">3</span>(4), 333–389 (2009)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Rolnick, D., Ahuja, A., Schwarz, J., Lillicrap, T.P., Wayne, G.: Experience replay for continual learning. arXiv:1811.11682 (2019)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Thakur, N., Reimers, N., Daxenberger, J., Gurevych, I.: Augmented SBERT: Data augmentation method for improving bi-encoders for pairwise sentence scoring tasks. In: Proc. Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies. pp. 296–310 (6 2021)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Touvron, H., Martin, L., Stone, K., Albert, P., Almahairi, A., Babaei, Y., Bashlykov, N., Batra, S., Bhargava, P., Bhosale, S., Bikel, D., Blecher, L., Ferrer, C.C., Chen, M., Cucurull, G., Esiobu, D., Fernandes, J., Fu, J., Fu, W., Fuller, B., Gao, C., Goswami, V., Goyal, N., Hartshorn, A., Hosseini, S., Hou, R., Inan, H., Kardas, M., Kerkez, V., Khabsa, M., Kloumann, I., Korenev, A., Koura, P.S., Lachaux, M.A., Lavril, T., Lee, J., Liskovich, D., Lu, Y., Mao, Y., Martinet, X., Mihaylov, T., Mishra, P., Molybog, I., Nie, Y., Poulton, A., Reizenstein, J., Rungta, R., Saladi, K., Schelten, A., Silva, R., Smith, E.M., Subramanian, R., Tan, X.E., Tang, B., Taylor, R., Williams, A., Kuan, J.X., Xu, P., Yan, Z., Zarov, I., Zhang, Y., Fan, A., Kambadur, M., Narang, S., Rodriguez, A., Stojnic, R., Edunov, S., Scialom, T.: LLaMA 2: Open foundation and fine-tuned chat models. arXiv:2307.09288 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Voorhees, E.M., Tice, D.M.: The TREC-8 question answering track. In: Gavrilidou, M., Carayannis, G., Markantonatou, S., Piperidis, S., Stainhauer, G. (eds.) Proc. 2nd International Conference on Language Resources and Evaluation (LREC’00). European Language Resources Association (ELRA), Athens, Greece (May 2000)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Wu, M., Cao, S.: LLM-augmented retrieval: Enhancing retrieval models through language models and doc-level embedding. arXiv:2404.05825 (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Xiao, S., Liu, Z., Zhang, P., Muennighoff, N.: C-Pack: Packaged resources to advance general Chinese embedding. arXiv:2309.07597 (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Xiao, S., Liu, Z., Zhang, P., Xing, X.: LM-Cocktail: Resilient tuning of language models via model merging. arXiv:2311.13534 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Xu, Z., Jain, S., Kankanhalli, M.: Hallucination is inevitable: An innate limitation of large language models. arXiv:2401.11817 (2024)

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="Pt0.A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix 0.A </span>Detailed Results</h2>
<div class="ltx_para" id="Pt0.A1.p1">
<p class="ltx_p" id="Pt0.A1.p1.2">The detailed recall results at different top_k values for both datasets are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12890v1#Pt0.A1.T4" title="Table 4 ‣ Appendix 0.A Detailed Results ‣ REFINE on Scarce Data: Retrieval Enhancement through Fine-Tuning via Model Fusion of Embedding Models"><span class="ltx_text ltx_ref_tag">4</span></a>. Our approach significantly outperforms all the baselines except in two cases. For the TOURISM dataset, LM-cocktail performed slightly better than REFINE for <math alttext="\mathrm{top\_k}=5" class="ltx_Math" display="inline" id="Pt0.A1.p1.1.m1.1"><semantics id="Pt0.A1.p1.1.m1.1a"><mrow id="Pt0.A1.p1.1.m1.1.1" xref="Pt0.A1.p1.1.m1.1.1.cmml"><mrow id="Pt0.A1.p1.1.m1.1.1.2" xref="Pt0.A1.p1.1.m1.1.1.2.cmml"><mi id="Pt0.A1.p1.1.m1.1.1.2.2" xref="Pt0.A1.p1.1.m1.1.1.2.2.cmml">top</mi><mo id="Pt0.A1.p1.1.m1.1.1.2.1" xref="Pt0.A1.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="Pt0.A1.p1.1.m1.1.1.2.3" mathvariant="normal" xref="Pt0.A1.p1.1.m1.1.1.2.3.cmml">_</mi><mo id="Pt0.A1.p1.1.m1.1.1.2.1a" xref="Pt0.A1.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="Pt0.A1.p1.1.m1.1.1.2.4" mathvariant="normal" xref="Pt0.A1.p1.1.m1.1.1.2.4.cmml">k</mi></mrow><mo id="Pt0.A1.p1.1.m1.1.1.1" xref="Pt0.A1.p1.1.m1.1.1.1.cmml">=</mo><mn id="Pt0.A1.p1.1.m1.1.1.3" xref="Pt0.A1.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="Pt0.A1.p1.1.m1.1b"><apply id="Pt0.A1.p1.1.m1.1.1.cmml" xref="Pt0.A1.p1.1.m1.1.1"><eq id="Pt0.A1.p1.1.m1.1.1.1.cmml" xref="Pt0.A1.p1.1.m1.1.1.1"></eq><apply id="Pt0.A1.p1.1.m1.1.1.2.cmml" xref="Pt0.A1.p1.1.m1.1.1.2"><times id="Pt0.A1.p1.1.m1.1.1.2.1.cmml" xref="Pt0.A1.p1.1.m1.1.1.2.1"></times><ci id="Pt0.A1.p1.1.m1.1.1.2.2.cmml" xref="Pt0.A1.p1.1.m1.1.1.2.2">top</ci><ci id="Pt0.A1.p1.1.m1.1.1.2.3.cmml" xref="Pt0.A1.p1.1.m1.1.1.2.3">_</ci><ci id="Pt0.A1.p1.1.m1.1.1.2.4.cmml" xref="Pt0.A1.p1.1.m1.1.1.2.4">k</ci></apply><cn id="Pt0.A1.p1.1.m1.1.1.3.cmml" type="integer" xref="Pt0.A1.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Pt0.A1.p1.1.m1.1c">\mathrm{top\_k}=5</annotation><annotation encoding="application/x-llamapun" id="Pt0.A1.p1.1.m1.1d">roman_top _ roman_k = 5</annotation></semantics></math>, while <span class="ltx_text ltx_font_typewriter" id="Pt0.A1.p1.2.1">snowflake-arctic-embed-l</span> performed better for <math alttext="\mathrm{top\_k}=1" class="ltx_Math" display="inline" id="Pt0.A1.p1.2.m2.1"><semantics id="Pt0.A1.p1.2.m2.1a"><mrow id="Pt0.A1.p1.2.m2.1.1" xref="Pt0.A1.p1.2.m2.1.1.cmml"><mrow id="Pt0.A1.p1.2.m2.1.1.2" xref="Pt0.A1.p1.2.m2.1.1.2.cmml"><mi id="Pt0.A1.p1.2.m2.1.1.2.2" xref="Pt0.A1.p1.2.m2.1.1.2.2.cmml">top</mi><mo id="Pt0.A1.p1.2.m2.1.1.2.1" xref="Pt0.A1.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="Pt0.A1.p1.2.m2.1.1.2.3" mathvariant="normal" xref="Pt0.A1.p1.2.m2.1.1.2.3.cmml">_</mi><mo id="Pt0.A1.p1.2.m2.1.1.2.1a" xref="Pt0.A1.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="Pt0.A1.p1.2.m2.1.1.2.4" mathvariant="normal" xref="Pt0.A1.p1.2.m2.1.1.2.4.cmml">k</mi></mrow><mo id="Pt0.A1.p1.2.m2.1.1.1" xref="Pt0.A1.p1.2.m2.1.1.1.cmml">=</mo><mn id="Pt0.A1.p1.2.m2.1.1.3" xref="Pt0.A1.p1.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="Pt0.A1.p1.2.m2.1b"><apply id="Pt0.A1.p1.2.m2.1.1.cmml" xref="Pt0.A1.p1.2.m2.1.1"><eq id="Pt0.A1.p1.2.m2.1.1.1.cmml" xref="Pt0.A1.p1.2.m2.1.1.1"></eq><apply id="Pt0.A1.p1.2.m2.1.1.2.cmml" xref="Pt0.A1.p1.2.m2.1.1.2"><times id="Pt0.A1.p1.2.m2.1.1.2.1.cmml" xref="Pt0.A1.p1.2.m2.1.1.2.1"></times><ci id="Pt0.A1.p1.2.m2.1.1.2.2.cmml" xref="Pt0.A1.p1.2.m2.1.1.2.2">top</ci><ci id="Pt0.A1.p1.2.m2.1.1.2.3.cmml" xref="Pt0.A1.p1.2.m2.1.1.2.3">_</ci><ci id="Pt0.A1.p1.2.m2.1.1.2.4.cmml" xref="Pt0.A1.p1.2.m2.1.1.2.4">k</ci></apply><cn id="Pt0.A1.p1.2.m2.1.1.3.cmml" type="integer" xref="Pt0.A1.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Pt0.A1.p1.2.m2.1c">\mathrm{top\_k}=1</annotation><annotation encoding="application/x-llamapun" id="Pt0.A1.p1.2.m2.1d">roman_top _ roman_k = 1</annotation></semantics></math> in case of RAG. Notably, on the TOURISM &amp; SQUAD dataset, OpenAI’s <span class="ltx_text ltx_font_typewriter" id="Pt0.A1.p1.2.2">text-embedding-3-large</span> embedding model demonstrated significantly better performance than other embedding models used in a vanilla (without fine-tuning) setting.</p>
</div>
<figure class="ltx_table" id="Pt0.A1.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>
Recall at different top_k values for the baselines defined in the paper and REFINE (our approach).
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="Pt0.A1.T4.1" style="width:347.1pt;height:328.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-16.5pt,15.6pt) scale(0.913348095771539,0.913348095771539) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="Pt0.A1.T4.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.1.1.1"></th>
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.1.1.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="5" id="Pt0.A1.T4.1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.1.1.3.1">Recall</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.2.1.1"><span class="ltx_text" id="Pt0.A1.T4.1.1.2.1.1.1"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.1.1.1">Dataset</span></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Pt0.A1.T4.1.1.2.1.2"><span class="ltx_text" id="Pt0.A1.T4.1.1.2.1.2.1"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.2.1.1">Model</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.2.1.3"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.3.1">@1</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.2.1.4"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.4.1">@2</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.2.1.5"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.5.1">@3</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.2.1.6"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.6.1">@4</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.2.1.7"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.2.1.7.1">@5</span></td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.3.2">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.3.2.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.3.2.2">Vanilla BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.3.2.3">0.676</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.3.2.4">0.816</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.3.2.5">0.866</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.3.2.6">0.896</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.3.2.7">0.913</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.4.3">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.4.3.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.4.3.2">snowflake-arctic-embed-l</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.4.3.3">0.643</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.4.3.4">0.743</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.4.3.5">0.786</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.4.3.6">0.823</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.4.3.7">0.850</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.5.4">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.5.4.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.5.4.2">text-embedding-3-large</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.5.4.3">0.743</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.5.4.4">0.856</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.5.4.5">0.883</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.5.4.6">0.903</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.5.4.7">0.916</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.6.5">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.6.5.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.6.5.2">Fine-tuned BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.6.5.3">0.776</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.6.5.4">0.861</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.6.5.5">0.906</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.6.5.6">0.945</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.6.5.7">0.958</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.7.6">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.7.6.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.7.6.2">LM-cocktail</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.7.6.3">0.781</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.7.6.4">0.862</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.7.6.5">0.908</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.7.6.6">0.946</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.7.6.7">0.959</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.8.7.1"><span class="ltx_text" id="Pt0.A1.T4.1.1.8.7.1.1">SQUAD</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.8.7.2">REFINE (ours)</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.8.7.3"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.8.7.3.1">0.791</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.8.7.4"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.8.7.4.1">0.882</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.8.7.5"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.8.7.5.1">0.923</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.8.7.6"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.8.7.6.1">0.955</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.8.7.7"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.8.7.7.1">0.962</span></td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.9.8">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.9.8.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.9.8.2">Vanilla BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.9.8.3">0.656</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.9.8.4">0.813</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.9.8.5">0.884</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.9.8.6">0.913</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.9.8.7">0.940</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.10.9">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.10.9.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.10.9.2">snowflake-arctic-embed-l</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.10.9.3">0.665</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.10.9.4">0.840</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.10.9.5">0.888</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.10.9.6">0.9</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.10.9.7">0.9</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.11.10">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.11.10.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.11.10.2">text-embedding-3-large</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.11.10.3">0.738</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.11.10.4">0.895</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.11.10.5">0.915</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.11.10.6">0.936</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.11.10.7">0.954</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.12.11">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.12.11.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.12.11.2">Fine-tuned BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.12.11.3">0.781</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.12.11.4">0.879</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.12.11.5">0.929</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.12.11.6">0.94</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.12.11.7">0.952</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.13.12">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.13.12.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.13.12.2">LM-cocktail</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.13.12.3">0.762</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.13.12.4">0.872</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.13.12.5">0.936</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.13.12.6">0.946</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.13.12.7"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.13.12.7.1">0.955</span></td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.14.13">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.14.13.1"><span class="ltx_text" id="Pt0.A1.T4.1.1.14.13.1.1">TOURISM</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.14.13.2">REFINE (ours)</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.14.13.3"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.14.13.3.1">0.782</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.14.13.4"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.14.13.4.1">0.899</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.14.13.5"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.14.13.5.1">0.937</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.14.13.6"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.14.13.6.1">0.952</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.14.13.7">0.952</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.15.14">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.15.14.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.15.14.2">Vanilla BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.15.14.3">0.721</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.15.14.4">0.83</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.15.14.5">0.937</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.15.14.6">0.955</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.15.14.7">0.97</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.16.15">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.16.15.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.16.15.2">snowflake-arctic-embed-l</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.16.15.3"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.16.15.3.1">0.739</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.16.15.4">0.865</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.16.15.5">0.916</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.16.15.6">0.954</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.16.15.7">0.954</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.17.16">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.17.16.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.17.16.2">text-embedding-3-large</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.17.16.3">0.734</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.17.16.4">0.865</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.17.16.5">0.935</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.17.16.6">0.959</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.17.16.7">0.964</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.18.17">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.18.17.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.18.17.2">Fine-tuned BGE</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.18.17.3">0.732</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.18.17.4">0.869</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.18.17.5">0.929</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.18.17.6">0.954</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.18.17.7">0.964</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.19.18">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.19.18.1"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.19.18.2">LM-cocktail</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.19.18.3">0.720</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.19.18.4">0.859</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.19.18.5">0.934</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="Pt0.A1.T4.1.1.19.18.6">0.962</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.19.18.7">0.963</td>
</tr>
<tr class="ltx_tr" id="Pt0.A1.T4.1.1.20.19">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r" id="Pt0.A1.T4.1.1.20.19.1"><span class="ltx_text" id="Pt0.A1.T4.1.1.20.19.1.1">RAG 100</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.20.19.2">REFINE (ours)</th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="Pt0.A1.T4.1.1.20.19.3">0.728</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="Pt0.A1.T4.1.1.20.19.4"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.20.19.4.1">0.88</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="Pt0.A1.T4.1.1.20.19.5"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.20.19.5.1">0.94</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="Pt0.A1.T4.1.1.20.19.6"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.20.19.6.1">0.974</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="Pt0.A1.T4.1.1.20.19.7"><span class="ltx_text ltx_font_bold" id="Pt0.A1.T4.1.1.20.19.7.1">0.974</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Oct 16 08:39:01 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
