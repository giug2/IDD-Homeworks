<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation</title>
<!--Generated on Sun Apr  7 07:28:58 2024 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2404.04846v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S1" title="1 Introduction ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S2" title="2 Background ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Background</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S2.SS1" title="2.1 Feed-forward Layers Emulate Memory Networks ‣ 2 Background ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Feed-forward Layers Emulate Memory Networks</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S2.SS1.SSS0.Px1" title="Feed-forward Layer. ‣ 2.1 Feed-forward Layers Emulate Memory Networks ‣ 2 Background ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Feed-forward Layer.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S2.SS1.SSS0.Px2" title="Feed-forward layer as neural memory of knowledge. ‣ 2.1 Feed-forward Layers Emulate Memory Networks ‣ 2 Background ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Feed-forward layer as neural memory of knowledge.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3" title="3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methods</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS1" title="3.1 Overview ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS2" title="3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Preserving General Domain Knowledge</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS2.SSS0.Px1" title="Importance-based memory pruning. ‣ 3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Importance-based memory pruning.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS3" title="3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Learning New Domain Continually</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS3.SSS0.Px1" title="Learning task mask to allocate ‘writable’ memory. ‣ 3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Learning task mask to allocate ‘writable’ memory.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS3.SSS0.Px2" title="Applying task mask to safeguard ‘read-only’ memory. ‣ 3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Applying task mask to safeguard ‘read-only’ memory.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4" title="4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.SS1" title="4.1 Data Preparation ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Data Preparation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.SS2" title="4.2 Baseline and Implementation Details ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Baseline and Implementation Details</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.SS2.SSS0.Px1" title="Baseline systems. ‣ 4.2 Baseline and Implementation Details ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Baseline systems.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.SS2.SSS0.Px2" title="Implementation detail. ‣ 4.2 Baseline and Implementation Details ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Implementation detail.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.SS3" title="4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Metrics</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5" title="5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results and Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS1" title="5.1 Comparison with CL methods ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Comparison with CL methods</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS1.SSS0.Px1" title="Robustness against domain order. ‣ 5.1 Comparison with CL methods ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Robustness against domain order.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS1.SSS0.Px2" title="Trade-off between stability and plasticity. ‣ 5.1 Comparison with CL methods ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Trade-off between stability and plasticity.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS2" title="5.2 Hyperparameter ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Hyperparameter</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS3" title="5.3 Analyzing Memory Capacity Allocation ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Analyzing Memory Capacity Allocation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.SS4" title="5.4 Knowledge Transfer and Domain Similarity from Memory Reusing ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Knowledge Transfer and Domain Similarity from Memory Reusing</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S6" title="6 Related Work ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S6.SS0.SSS0.Px1" title="CL for NMT. ‣ 6 Related Work ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">CL for NMT.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S6.SS0.SSS0.Px2" title="Unstructured Pruning for Transformers. ‣ 6 Related Work ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Unstructured Pruning for Transformers.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S7" title="7 Conclusion ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A1" title="Appendix A Dataset Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Dataset Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2" title="Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Baseline Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2.SS0.SSS0.Px1" title="Non-Continual Learning Methods. ‣ Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Non-Continual Learning Methods.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2.SS0.SSS0.Px2" title="Continual Learning Methods: ‣ Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Continual Learning Methods:</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A3" title="Appendix C Implementation Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Implementation Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A3.SS0.SSS0.Px1" title="pretrained Model. ‣ Appendix C Implementation Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">pretrained Model.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A3.SS0.SSS0.Px2" title="Hyper-parameters. ‣ Appendix C Implementation Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title">Hyper-parameters.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A4" title="Appendix D Standare Deviations ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Standare Deviations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A5" title="Appendix E Result in Different Domain Orders ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Result in Different Domain Orders</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<div aria-label="Conversion errors have been found" class="package-alerts ltx_document" role="status">
<button aria-label="Dismiss alert" onclick="closePopup()">
<span aria-hidden="true"><svg aria-hidden="true" focusable="false" height="20" role="presentation" viewbox="0 0 44 44" width="20">
<path d="M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"></path>
<path d="M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"></path>
</svg></span>
</button>
<p>HTML conversions <a href="https://info.dev.arxiv.org/about/accessibility_html_error_messages.html" target="_blank">sometimes display errors</a> due to content that did not convert correctly from the source. This paper uses the following packages that are not yet supported by the HTML conversion tool. Feedback on these issues are not necessary; they are known and are being worked on.</p>
<ul arial-label="Unsupported packages used in this paper">
<li>failed: inconsolata</li>
</ul>
<p>Authors: achieve the best HTML results from your LaTeX submissions by following these <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">best practices</a>.</p>
</div><div class="section" id="target-section"><div id="license-tr">License: CC BY 4.0</div><div id="watermark-tr">arXiv:2404.04846v1 [cs.CL] 07 Apr 2024</div></div>
<script>
            function closePopup() {
                document.querySelector('.package-alerts').style.display = 'none';
            }
        </script>
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junhong Wu, Yuchen Liu, Chengqing Zong 
<br class="ltx_break"/>School of Artificial Intelligence, University of
Chinese Academy of Sciences, Beijing, China 
<br class="ltx_break"/>State Key Laboratory of Multimodal Artificial Intelligence Systems, Institute of Automation, CAS, Beijing, China 
<br class="ltx_break"/>wujunhong2021@ia.ac.cn;{yuchen.liu,cqzong}@nlpr.ia.ac.cn
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">In the evolving landscape of Neural Machine Translation (NMT), the pretrain-then-finetune paradigm has yielded impressive results. However, the persistent challenge of Catastrophic Forgetting (CF) remains a hurdle. While previous work has introduced Continual Learning (CL) methods to address CF, these approaches grapple with the delicate balance between avoiding forgetting and maintaining system extensibility. To address this, we propose a CL method, named <span class="ltx_text ltx_font_bold" id="id1.id1.1">F-MALLOC</span> (<span class="ltx_text ltx_font_bold" id="id1.id1.2">F</span>eed-forward <span class="ltx_text ltx_font_bold" id="id1.id1.3">M</span>emory <span class="ltx_text ltx_font_bold" id="id1.id1.4">ALLOC</span>ation). F-MALLOC is inspired by recent insights highlighting that feed-forward layers emulate neural memories and encapsulate crucial translation knowledge. It decomposes feed-forward layers into discrete memory cells and allocates these memories to different tasks. By learning to allocate and safeguard these memories, our method effectively alleviates CF while ensuring robust extendability. Besides, we propose a comprehensive assessment protocol for multi-stage CL of NMT systems. Experiments conducted following this new protocol showcase the superior performance of F-MALLOC, evidenced by higher BLEU scores and almost zero forgetting.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The code and data for this work are available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/WJMacro/ContinualMT." title="">https://github.com/WJMacro/ContinualMT.</a></span></span></span> </p>
</div>
<span class="ltx_ERROR undefined" id="id1">\useunder</span>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1"><span class="ltx_text ltx_ulem_uline" id="p1.1.1"></span><span class="ltx_ERROR undefined" id="p1.1.2">\ul</span>
</p>
</div>
<div class="ltx_para ltx_noindent" id="p2">
<p class="ltx_p ltx_align_center ltx_align_bottom" id="p2.1"><span class="ltx_text ltx_font_bold" id="p2.1.1">F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation</span></p>
</div>
<div class="ltx_para" id="p3">
<br class="ltx_break"/>
<p class="ltx_p" id="p3.1"><span class="ltx_text" id="p3.1.1" style="width:433.6pt;"><span class="ltx_text" id="p3.1.1.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p3.1.1.1.1">
<span class="ltx_tbody">
<span class="ltx_tr" id="p3.1.1.1.1.1.1">
<span class="ltx_td ltx_align_center" id="p3.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p3.1.1.1.1.1.1.1.1">Junhong Wu, Yuchen Liu, Chengqing Zong</span></span></span>
<span class="ltx_tr" id="p3.1.1.1.1.2.2">
<span class="ltx_td ltx_align_center" id="p3.1.1.1.1.2.2.1">School of Artificial Intelligence, University of
Chinese Academy of Sciences, Beijing, China</span></span>
<span class="ltx_tr" id="p3.1.1.1.1.3.3">
<span class="ltx_td ltx_align_center" id="p3.1.1.1.1.3.3.1">State Key Laboratory of Multimodal Artificial Intelligence Systems, Institute of Automation, CAS, Beijing, China</span></span>
<span class="ltx_tr" id="p3.1.1.1.1.4.4">
<span class="ltx_td ltx_align_center" id="p3.1.1.1.1.4.4.1">wujunhong2021@ia.ac.cn;{yuchen.liu,cqzong}@nlpr.ia.ac.cn</span></span>
</span>
</span></span> </span></p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In the pursuit of achieving state-of-the-art results in Neural Machine Translation (NMT), the reliance on large-scale parallel corpora has been pivotal <cite class="ltx_cite ltx_citemacro_citep">(Bahdanau et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib2" title="">2015</a>; Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib35" title="">2017</a>)</cite>. However, practical application scenarios often present challenges, especially when translation is necessitated for specific domains with limited data resources <cite class="ltx_cite ltx_citemacro_citep">(Chu and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib6" title="">2018</a>; Saunders, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib28" title="">2022</a>)</cite>. Typically, the prevalent paradigm involves the initial pretraining of models on expansive general domain corpus, followed by finetuning for the target domain <cite class="ltx_cite ltx_citemacro_citep">(Freitag and Al-Onaizan, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib9" title="">2016</a>; Chu and Dabre, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib5" title="">2019</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Despite the efficacy of this pretrain-then-finetune paradigm, it has been demonstrated that fine-tuning on the target domain can result in significant performance degradation in the general domain, a phenomenon known as Catastrophic Forgetting (CF) <cite class="ltx_cite ltx_citemacro_citep">(French, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib10" title="">1993</a>)</cite>. In response to this challenge, various Continual Learning (CL) approaches have emerged to address CF in NMT systems. Existing efforts primarily rely on regularization-based techniques to constrain the divergence of model parameters from their previous values <cite class="ltx_cite ltx_citemacro_citep">(Khayrallah et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib17" title="">2018</a>; Saunders et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib29" title="">2019</a>; Cao et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib4" title="">2021</a>)</cite>. While these methods are mathematically elegant, they still face challenges related to forgetting. Alternatively, some approaches take an architecture-based framework, isolating parameters specific to different tasks to prevent forgetting <cite class="ltx_cite ltx_citemacro_citep">(Gu et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib12" title="">2021</a>; Liang et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib22" title="">2021</a>; Huang et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib15" title="">2023</a>)</cite>. However, they require prior information on task numbers to allocate parameters and rely on external storage of model or mask matrices, limiting its extendibility and applicability.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">In summary, the demand for a CL method for NMT systems that is both extendable and effective in preventing forgetting is pressing. To this end, we introduce a new CL method termed <span class="ltx_text ltx_font_bold" id="S1.p3.1.1">F-MALLOC</span> (<span class="ltx_text ltx_font_bold" id="S1.p3.1.2">F</span>eed-forward <span class="ltx_text ltx_font_bold" id="S1.p3.1.3">M</span>emory <span class="ltx_text ltx_font_bold" id="S1.p3.1.4">ALLOC</span>ation),
which is inspired by recent insights that feed-forward layers emulate neural memories and
encapsulate crucial translation knowledge
<cite class="ltx_cite ltx_citemacro_citep">(Geva et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib11" title="">2021</a>; Huang et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib15" title="">2023</a>)</cite>. Therefore, we facilitate new knowledge learning and mitigate CF by allocating and protecting these memories. F-MALLOC first leverages a structural pruning method to trim the feed-forward layers of a pretrained NMT model, preserving memories that encapsulate crucial general domain knowledge. Subsequently, F-MALLOC proceeds to learn a set of non-exclusive task masks <cite class="ltx_cite ltx_citemacro_citep">(Serrà et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib31" title="">2018</a>)</cite>, automatically allocating the ‘writable’ memory capacity to upcoming tasks. The memories allocated in this manner are then designated as ‘read-only’. F-MALLOC strategically blocks gradient flows through these ‘read-only’ memories, effectively mitigating the risk of forgetting.
</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Meanwhile, conventional CL evaluation protocols in the NMT area typically focus on a single stage of training, lacking a holistic perspective over multiple stages.
Therefore, we introduce a comprehensive evaluation protocol for multi-stage CL in the NMT scenario.
Our protocol incorporates metrics assessing forgetting mitigation and adaptation to novel tasks. To enhance robustness, we conduct tests with random task sequences, reducing biases from specific orders. This protocol provides a nuanced understanding of F-MALLOC and competing methods’ performance over time in NMT.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Experiments conducted following the proposed protocol highlight the superior performance of F-MALLOC with high robustness. Additional analysis of F-MALLOC’s memory allocation strategy reveals its effective utilization of task information, such as inherent difficulty or inter-task similarities, resulting in enhanced performance.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In summary, the contributions of this paper are as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose F-MALLOC, a multi-stage CL method that prevents forgetting and promotes new knowledge acquisition through feed-forward memory allocation. It requires no prior task information and minimal storage overhead.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">Through a tailored evaluation protocol for multi-stage CL in NMT systems, we enhance the understanding of system performance on both stability and plasticity.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Further analysis of F-MALLOC’s adaptive memory allocation strategy demonstrates its effectiveness in leveraging task difficulty and inter-task similarities to optimize capacity usage and encourage knowledge transfer.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background</h2>
<figure class="ltx_figure" id="S2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="362" id="S2.F1.g1" src="x1.png" width="788"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of F-MALLOC. For simplification, we depict a decomposed feed-forward layer. (a) <span class="ltx_text ltx_font_bold" id="S2.F1.5.1">The Original General Domain Model:</span> Highlighting the general domain task in green. (b) <span class="ltx_text ltx_font_bold" id="S2.F1.6.2">Pruned General Domain Model:</span> Post-pruning, pruned memories are ‘writable’ (depicted in white), while others are designated as ‘read-only.’ (c) <span class="ltx_text ltx_font_bold" id="S2.F1.7.3">Learning a New Task:</span> The model learns to allocate some memories to the new task and mark them ‘read-only’ (depicted in yellow). ‘read-only’ memories remain available for future tasks’ forward propagation. However, backward propagation through them is prohibited. (d) <span class="ltx_text ltx_font_bold" id="S2.F1.8.4">Multi-task Model:</span> After learning all tasks, each task occupies a share of memory capacity. The forward pass of the last task is shown.</figcaption>
</figure>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Feed-forward Layers Emulate Memory Networks</h3>
<section class="ltx_paragraph" id="S2.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Feed-forward Layer.</h4>
<div class="ltx_para" id="S2.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS1.SSS0.Px1.p1.3">The prevalent architecture in NMT is the encoder-decoder Transformers<cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib35" title="">2017</a>)</cite>, which is made of intertwined multi-head attention (MHA) and point-wise feed-forward layers. Our specific focus lies in the feed-forward layer, formally defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname{FF}(x)=W^{(2)}\cdot\sigma(W^{(1)}\cdot x)\ " class="ltx_Math" display="block" id="S2.E1.m1.5"><semantics id="S2.E1.m1.5a"><mrow id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml"><mrow id="S2.E1.m1.5.5.3.2" xref="S2.E1.m1.5.5.3.1.cmml"><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">FF</mi><mo id="S2.E1.m1.5.5.3.2a" xref="S2.E1.m1.5.5.3.1.cmml">⁡</mo><mrow id="S2.E1.m1.5.5.3.2.1" xref="S2.E1.m1.5.5.3.1.cmml"><mo id="S2.E1.m1.5.5.3.2.1.1" stretchy="false" xref="S2.E1.m1.5.5.3.1.cmml">(</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">x</mi><mo id="S2.E1.m1.5.5.3.2.1.2" stretchy="false" xref="S2.E1.m1.5.5.3.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.5.5.2" xref="S2.E1.m1.5.5.2.cmml">=</mo><mrow id="S2.E1.m1.5.5.1" xref="S2.E1.m1.5.5.1.cmml"><mrow id="S2.E1.m1.5.5.1.3" xref="S2.E1.m1.5.5.1.3.cmml"><msup id="S2.E1.m1.5.5.1.3.2" xref="S2.E1.m1.5.5.1.3.2.cmml"><mi id="S2.E1.m1.5.5.1.3.2.2" xref="S2.E1.m1.5.5.1.3.2.2.cmml">W</mi><mrow id="S2.E1.m1.1.1.1.3" xref="S2.E1.m1.5.5.1.3.2.cmml"><mo id="S2.E1.m1.1.1.1.3.1" stretchy="false" xref="S2.E1.m1.5.5.1.3.2.cmml">(</mo><mn id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">2</mn><mo id="S2.E1.m1.1.1.1.3.2" stretchy="false" xref="S2.E1.m1.5.5.1.3.2.cmml">)</mo></mrow></msup><mo id="S2.E1.m1.5.5.1.3.1" lspace="0.222em" rspace="0.222em" xref="S2.E1.m1.5.5.1.3.1.cmml">⋅</mo><mi id="S2.E1.m1.5.5.1.3.3" xref="S2.E1.m1.5.5.1.3.3.cmml">σ</mi></mrow><mo id="S2.E1.m1.5.5.1.2" xref="S2.E1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.5.5.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.cmml"><mo id="S2.E1.m1.5.5.1.1.1.2" stretchy="false" xref="S2.E1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.5.5.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.cmml"><msup id="S2.E1.m1.5.5.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml"><mi id="S2.E1.m1.5.5.1.1.1.1.2.2" xref="S2.E1.m1.5.5.1.1.1.1.2.2.cmml">W</mi><mrow id="S2.E1.m1.2.2.1.3" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml"><mo id="S2.E1.m1.2.2.1.3.1" stretchy="false" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml">(</mo><mn id="S2.E1.m1.2.2.1.1" xref="S2.E1.m1.2.2.1.1.cmml">1</mn><mo id="S2.E1.m1.2.2.1.3.2" stretchy="false" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml">)</mo></mrow></msup><mo id="S2.E1.m1.5.5.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml">⋅</mo><mi id="S2.E1.m1.5.5.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.3.cmml">x</mi></mrow><mo id="S2.E1.m1.5.5.1.1.1.3" stretchy="false" xref="S2.E1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.5b"><apply id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5"><eq id="S2.E1.m1.5.5.2.cmml" xref="S2.E1.m1.5.5.2"></eq><apply id="S2.E1.m1.5.5.3.1.cmml" xref="S2.E1.m1.5.5.3.2"><ci id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3">FF</ci><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">𝑥</ci></apply><apply id="S2.E1.m1.5.5.1.cmml" xref="S2.E1.m1.5.5.1"><times id="S2.E1.m1.5.5.1.2.cmml" xref="S2.E1.m1.5.5.1.2"></times><apply id="S2.E1.m1.5.5.1.3.cmml" xref="S2.E1.m1.5.5.1.3"><ci id="S2.E1.m1.5.5.1.3.1.cmml" xref="S2.E1.m1.5.5.1.3.1">⋅</ci><apply id="S2.E1.m1.5.5.1.3.2.cmml" xref="S2.E1.m1.5.5.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.3.2.1.cmml" xref="S2.E1.m1.5.5.1.3.2">superscript</csymbol><ci id="S2.E1.m1.5.5.1.3.2.2.cmml" xref="S2.E1.m1.5.5.1.3.2.2">𝑊</ci><cn id="S2.E1.m1.1.1.1.1.cmml" type="integer" xref="S2.E1.m1.1.1.1.1">2</cn></apply><ci id="S2.E1.m1.5.5.1.3.3.cmml" xref="S2.E1.m1.5.5.1.3.3">𝜎</ci></apply><apply id="S2.E1.m1.5.5.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1"><ci id="S2.E1.m1.5.5.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1">⋅</ci><apply id="S2.E1.m1.5.5.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.2.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2">superscript</csymbol><ci id="S2.E1.m1.5.5.1.1.1.1.2.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2">𝑊</ci><cn id="S2.E1.m1.2.2.1.1.cmml" type="integer" xref="S2.E1.m1.2.2.1.1">1</cn></apply><ci id="S2.E1.m1.5.5.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.5c">\operatorname{FF}(x)=W^{(2)}\cdot\sigma(W^{(1)}\cdot x)\ </annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.5d">roman_FF ( italic_x ) = italic_W start_POSTSUPERSCRIPT ( 2 ) end_POSTSUPERSCRIPT ⋅ italic_σ ( italic_W start_POSTSUPERSCRIPT ( 1 ) end_POSTSUPERSCRIPT ⋅ italic_x )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS1.SSS0.Px1.p1.2">where <math alttext="W^{(1)},W^{(2)}" class="ltx_Math" display="inline" id="S2.SS1.SSS0.Px1.p1.1.m1.4"><semantics id="S2.SS1.SSS0.Px1.p1.1.m1.4a"><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.3.cmml"><msup id="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.cmml"><mi id="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.2.cmml">W</mi><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.cmml"><mo id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.3.1" stretchy="false" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.cmml">(</mo><mn id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.1.cmml">1</mn><mo id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.3.2" stretchy="false" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.cmml">)</mo></mrow></msup><mo id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.3.cmml">,</mo><msup id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.cmml"><mi id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.2.cmml">W</mi><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.cmml"><mo id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.3.1" stretchy="false" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.cmml">(</mo><mn id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.cmml">2</mn><mo id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.3.2" stretchy="false" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.cmml">)</mo></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px1.p1.1.m1.4b"><list id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.3.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2"><apply id="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1">superscript</csymbol><ci id="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.3.3.1.1.2">𝑊</ci><cn id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" type="integer" xref="S2.SS1.SSS0.Px1.p1.1.m1.1.1.1.1">1</cn></apply><apply id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2">superscript</csymbol><ci id="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.4.4.2.2.2">𝑊</ci><cn id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.cmml" type="integer" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1">2</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px1.p1.1.m1.4c">W^{(1)},W^{(2)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.SSS0.Px1.p1.1.m1.4d">italic_W start_POSTSUPERSCRIPT ( 1 ) end_POSTSUPERSCRIPT , italic_W start_POSTSUPERSCRIPT ( 2 ) end_POSTSUPERSCRIPT</annotation></semantics></math> represent learnable parameters (bias term omitted for simplification), and <math alttext="\sigma" class="ltx_Math" display="inline" id="S2.SS1.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS1.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS1.SSS0.Px1.p1.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px1.p1.2.m2.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.SSS0.Px1.p1.2.m2.1d">italic_σ</annotation></semantics></math> typically denotes the activation function, commonly ReLU.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Feed-forward layer as neural memory of knowledge.</h4>
<div class="ltx_para" id="S2.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS1.SSS0.Px2.p1.2">Recent research has explored the interpretability of feed-forward structures, noting a significant resemblance between the feed-forward layer and neural memory <cite class="ltx_cite ltx_citemacro_citep">(Sukhbaatar et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib33" title="">2015</a>)</cite>. Treating parameter matrices <math alttext="W^{(1)}" class="ltx_Math" display="inline" id="S2.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S2.SS1.SSS0.Px2.p1.1.m1.1a"><msup id="S2.SS1.SSS0.Px2.p1.1.m1.1.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.cmml"><mi id="S2.SS1.SSS0.Px2.p1.1.m1.1.2.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.2.cmml">W</mi><mrow id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.3" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.cmml"><mo id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.3.1" stretchy="false" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.cmml">(</mo><mn id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.1.cmml">1</mn><mo id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.3.2" stretchy="false" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS1.SSS0.Px2.p1.1.m1.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px2.p1.1.m1.1.2.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2">superscript</csymbol><ci id="S2.SS1.SSS0.Px2.p1.1.m1.1.2.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.2.2">𝑊</ci><cn id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.1.cmml" type="integer" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.1.m1.1c">W^{(1)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.SSS0.Px2.p1.1.m1.1d">italic_W start_POSTSUPERSCRIPT ( 1 ) end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="W^{(2)}" class="ltx_Math" display="inline" id="S2.SS1.SSS0.Px2.p1.2.m2.1"><semantics id="S2.SS1.SSS0.Px2.p1.2.m2.1a"><msup id="S2.SS1.SSS0.Px2.p1.2.m2.1.2" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.cmml"><mi id="S2.SS1.SSS0.Px2.p1.2.m2.1.2.2" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.2.cmml">W</mi><mrow id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.3" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.cmml"><mo id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.3.1" stretchy="false" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.cmml">(</mo><mn id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.1" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.cmml">2</mn><mo id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.3.2" stretchy="false" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS1.SSS0.Px2.p1.2.m2.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px2.p1.2.m2.1.2.1.cmml" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2">superscript</csymbol><ci id="S2.SS1.SSS0.Px2.p1.2.m2.1.2.2.cmml" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.2.2">𝑊</ci><cn id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.1.cmml" type="integer" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.2.m2.1c">W^{(2)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.SSS0.Px2.p1.2.m2.1d">italic_W start_POSTSUPERSCRIPT ( 2 ) end_POSTSUPERSCRIPT</annotation></semantics></math> as keys and values respectively, the feed-forward layer can be seen as an unnormalized key-value memory <cite class="ltx_cite ltx_citemacro_citep">(Sukhbaatar et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib32" title="">2019</a>)</cite>. Studies have delved into this similarity, with <cite class="ltx_cite ltx_citemacro_citet">Geva et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib11" title="">2021</a>)</cite> revealing that in feed-forward layers, each key correlates with textual patterns in training examples, while each value induces a distribution over the output vocabulary. In the context of Neural Machine Translation, <cite class="ltx_cite ltx_citemacro_citet">Huang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib15" title="">2023</a>)</cite> demonstrates that feed-forward layers encapsulate crucial translation knowledge and can facilitate knowledge transfer between models.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methods</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Overview</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">Building upon prior research that characterizes feed-forward layers as neural memory repositories of knowledge, we posit a hypothesis that effective allocation and protection of these memories within feed-forward layers can facilitate both the acquisition of new knowledge and the prevention of forgetting. Our proposed method, F-MALLOC, is devised on the premise of this hypothesis.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">F-MALLOC is specifically tailored to the feed-forward structure, with all other parameters held constant throughout the process. To preserve critical general domain knowledge while allowing flexibility for future task learning, we initiate the process with a structured pruning method (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS2" title="3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">3.2</span></a>). This method aids in eliminating unimportant memories, making them ‘writable’. Subsequently, we introduce learnable task masks to manage these free memories (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.SS3" title="3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">3.3</span></a>). These task masks, acquired through learning, play a vital role in memory allocation for new tasks, designating them as ‘read-only’ to prevent alterations. For an overview of our method, please refer to Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S2.F1" title="Figure 1 ‣ 2 Background ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Preserving General Domain Knowledge</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Pruning has demonstrated effectiveness in retaining essential parameters while eliminating unnecessary ones in neural networks. In this context, we adopt a structured pruning method, which is designed to preserve general domain knowledge. The pruning process calculates an importance score for each memory cell in the feed-forward layer, retaining only the most crucial ones.</p>
</div>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Importance-based memory pruning.</h4>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.1">The pruning problem can be seen as finding an optimal mask under a sparsity constraint. To formalize this, we decompose the feed-forward layer into <math alttext="N" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS2.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.1.m1.1d">italic_N</annotation></semantics></math> key-value pairs, which we call a memory cell<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We use memory and memory cell interchangeably.</span></span></span>. Subsequently, a mask is introduced to control the activation of them <cite class="ltx_cite ltx_citemacro_citep">(Xia et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib37" title="">2022</a>; Kwon et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib20" title="">2022</a>)</cite>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname{FF}(x,m)=\sum_{i=1}^{N}m_{i}\odot W_{:,i}^{(2)}\cdot\sigma(W_{i,%
:}^{(1)}\cdot x)" class="ltx_Math" display="block" id="S3.E2.m1.10"><semantics id="S3.E2.m1.10a"><mrow id="S3.E2.m1.10.10" xref="S3.E2.m1.10.10.cmml"><mrow id="S3.E2.m1.10.10.3.2" xref="S3.E2.m1.10.10.3.1.cmml"><mi id="S3.E2.m1.7.7" xref="S3.E2.m1.7.7.cmml">FF</mi><mo id="S3.E2.m1.10.10.3.2a" xref="S3.E2.m1.10.10.3.1.cmml">⁡</mo><mrow id="S3.E2.m1.10.10.3.2.1" xref="S3.E2.m1.10.10.3.1.cmml"><mo id="S3.E2.m1.10.10.3.2.1.1" stretchy="false" xref="S3.E2.m1.10.10.3.1.cmml">(</mo><mi id="S3.E2.m1.8.8" xref="S3.E2.m1.8.8.cmml">x</mi><mo id="S3.E2.m1.10.10.3.2.1.2" xref="S3.E2.m1.10.10.3.1.cmml">,</mo><mi id="S3.E2.m1.9.9" xref="S3.E2.m1.9.9.cmml">m</mi><mo id="S3.E2.m1.10.10.3.2.1.3" stretchy="false" xref="S3.E2.m1.10.10.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.10.10.2" rspace="0.111em" xref="S3.E2.m1.10.10.2.cmml">=</mo><mrow id="S3.E2.m1.10.10.1" xref="S3.E2.m1.10.10.1.cmml"><munderover id="S3.E2.m1.10.10.1.2" xref="S3.E2.m1.10.10.1.2.cmml"><mo id="S3.E2.m1.10.10.1.2.2.2" movablelimits="false" xref="S3.E2.m1.10.10.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.10.10.1.2.2.3" xref="S3.E2.m1.10.10.1.2.2.3.cmml"><mi id="S3.E2.m1.10.10.1.2.2.3.2" xref="S3.E2.m1.10.10.1.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.10.10.1.2.2.3.1" xref="S3.E2.m1.10.10.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.10.10.1.2.2.3.3" xref="S3.E2.m1.10.10.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.10.10.1.2.3" xref="S3.E2.m1.10.10.1.2.3.cmml">N</mi></munderover><mrow id="S3.E2.m1.10.10.1.1" xref="S3.E2.m1.10.10.1.1.cmml"><mrow id="S3.E2.m1.10.10.1.1.3" xref="S3.E2.m1.10.10.1.1.3.cmml"><mrow id="S3.E2.m1.10.10.1.1.3.2" xref="S3.E2.m1.10.10.1.1.3.2.cmml"><msub id="S3.E2.m1.10.10.1.1.3.2.2" xref="S3.E2.m1.10.10.1.1.3.2.2.cmml"><mi id="S3.E2.m1.10.10.1.1.3.2.2.2" xref="S3.E2.m1.10.10.1.1.3.2.2.2.cmml">m</mi><mi id="S3.E2.m1.10.10.1.1.3.2.2.3" xref="S3.E2.m1.10.10.1.1.3.2.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.10.10.1.1.3.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.10.10.1.1.3.2.1.cmml">⊙</mo><msubsup id="S3.E2.m1.10.10.1.1.3.2.3" xref="S3.E2.m1.10.10.1.1.3.2.3.cmml"><mi id="S3.E2.m1.10.10.1.1.3.2.3.2.2" xref="S3.E2.m1.10.10.1.1.3.2.3.2.2.cmml">W</mi><mrow id="S3.E2.m1.2.2.2.4" xref="S3.E2.m1.2.2.2.3.cmml"><mo id="S3.E2.m1.1.1.1.1" rspace="0em" xref="S3.E2.m1.1.1.1.1.cmml">:</mo><mo id="S3.E2.m1.2.2.2.4.1" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">i</mi></mrow><mrow id="S3.E2.m1.3.3.1.3" xref="S3.E2.m1.10.10.1.1.3.2.3.cmml"><mo id="S3.E2.m1.3.3.1.3.1" stretchy="false" xref="S3.E2.m1.10.10.1.1.3.2.3.cmml">(</mo><mn id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml">2</mn><mo id="S3.E2.m1.3.3.1.3.2" stretchy="false" xref="S3.E2.m1.10.10.1.1.3.2.3.cmml">)</mo></mrow></msubsup></mrow><mo id="S3.E2.m1.10.10.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.10.10.1.1.3.1.cmml">⋅</mo><mi id="S3.E2.m1.10.10.1.1.3.3" xref="S3.E2.m1.10.10.1.1.3.3.cmml">σ</mi></mrow><mo id="S3.E2.m1.10.10.1.1.2" xref="S3.E2.m1.10.10.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.10.10.1.1.1.1" xref="S3.E2.m1.10.10.1.1.1.1.1.cmml"><mo id="S3.E2.m1.10.10.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.10.10.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.10.10.1.1.1.1.1" xref="S3.E2.m1.10.10.1.1.1.1.1.cmml"><msubsup id="S3.E2.m1.10.10.1.1.1.1.1.2" xref="S3.E2.m1.10.10.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.10.10.1.1.1.1.1.2.2.2" xref="S3.E2.m1.10.10.1.1.1.1.1.2.2.2.cmml">W</mi><mrow id="S3.E2.m1.5.5.2.4" xref="S3.E2.m1.5.5.2.3.cmml"><mi id="S3.E2.m1.4.4.1.1" xref="S3.E2.m1.4.4.1.1.cmml">i</mi><mo id="S3.E2.m1.5.5.2.4.1" xref="S3.E2.m1.5.5.2.3.cmml">,</mo><mo id="S3.E2.m1.5.5.2.2" xref="S3.E2.m1.5.5.2.2.cmml">:</mo></mrow><mrow id="S3.E2.m1.6.6.1.3" xref="S3.E2.m1.10.10.1.1.1.1.1.2.cmml"><mo id="S3.E2.m1.6.6.1.3.1" stretchy="false" xref="S3.E2.m1.10.10.1.1.1.1.1.2.cmml">(</mo><mn id="S3.E2.m1.6.6.1.1" xref="S3.E2.m1.6.6.1.1.cmml">1</mn><mo id="S3.E2.m1.6.6.1.3.2" stretchy="false" xref="S3.E2.m1.10.10.1.1.1.1.1.2.cmml">)</mo></mrow></msubsup><mo id="S3.E2.m1.10.10.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.10.10.1.1.1.1.1.1.cmml">⋅</mo><mi id="S3.E2.m1.10.10.1.1.1.1.1.3" xref="S3.E2.m1.10.10.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E2.m1.10.10.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.10.10.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.10b"><apply id="S3.E2.m1.10.10.cmml" xref="S3.E2.m1.10.10"><eq id="S3.E2.m1.10.10.2.cmml" xref="S3.E2.m1.10.10.2"></eq><apply id="S3.E2.m1.10.10.3.1.cmml" xref="S3.E2.m1.10.10.3.2"><ci id="S3.E2.m1.7.7.cmml" xref="S3.E2.m1.7.7">FF</ci><ci id="S3.E2.m1.8.8.cmml" xref="S3.E2.m1.8.8">𝑥</ci><ci id="S3.E2.m1.9.9.cmml" xref="S3.E2.m1.9.9">𝑚</ci></apply><apply id="S3.E2.m1.10.10.1.cmml" xref="S3.E2.m1.10.10.1"><apply id="S3.E2.m1.10.10.1.2.cmml" xref="S3.E2.m1.10.10.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.2.1.cmml" xref="S3.E2.m1.10.10.1.2">superscript</csymbol><apply id="S3.E2.m1.10.10.1.2.2.cmml" xref="S3.E2.m1.10.10.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.2.2.1.cmml" xref="S3.E2.m1.10.10.1.2">subscript</csymbol><sum id="S3.E2.m1.10.10.1.2.2.2.cmml" xref="S3.E2.m1.10.10.1.2.2.2"></sum><apply id="S3.E2.m1.10.10.1.2.2.3.cmml" xref="S3.E2.m1.10.10.1.2.2.3"><eq id="S3.E2.m1.10.10.1.2.2.3.1.cmml" xref="S3.E2.m1.10.10.1.2.2.3.1"></eq><ci id="S3.E2.m1.10.10.1.2.2.3.2.cmml" xref="S3.E2.m1.10.10.1.2.2.3.2">𝑖</ci><cn id="S3.E2.m1.10.10.1.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.10.10.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.10.10.1.2.3.cmml" xref="S3.E2.m1.10.10.1.2.3">𝑁</ci></apply><apply id="S3.E2.m1.10.10.1.1.cmml" xref="S3.E2.m1.10.10.1.1"><times id="S3.E2.m1.10.10.1.1.2.cmml" xref="S3.E2.m1.10.10.1.1.2"></times><apply id="S3.E2.m1.10.10.1.1.3.cmml" xref="S3.E2.m1.10.10.1.1.3"><ci id="S3.E2.m1.10.10.1.1.3.1.cmml" xref="S3.E2.m1.10.10.1.1.3.1">⋅</ci><apply id="S3.E2.m1.10.10.1.1.3.2.cmml" xref="S3.E2.m1.10.10.1.1.3.2"><csymbol cd="latexml" id="S3.E2.m1.10.10.1.1.3.2.1.cmml" xref="S3.E2.m1.10.10.1.1.3.2.1">direct-product</csymbol><apply id="S3.E2.m1.10.10.1.1.3.2.2.cmml" xref="S3.E2.m1.10.10.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.1.3.2.2.1.cmml" xref="S3.E2.m1.10.10.1.1.3.2.2">subscript</csymbol><ci id="S3.E2.m1.10.10.1.1.3.2.2.2.cmml" xref="S3.E2.m1.10.10.1.1.3.2.2.2">𝑚</ci><ci id="S3.E2.m1.10.10.1.1.3.2.2.3.cmml" xref="S3.E2.m1.10.10.1.1.3.2.2.3">𝑖</ci></apply><apply id="S3.E2.m1.10.10.1.1.3.2.3.cmml" xref="S3.E2.m1.10.10.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.1.3.2.3.1.cmml" xref="S3.E2.m1.10.10.1.1.3.2.3">superscript</csymbol><apply id="S3.E2.m1.10.10.1.1.3.2.3.2.cmml" xref="S3.E2.m1.10.10.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.1.3.2.3.2.1.cmml" xref="S3.E2.m1.10.10.1.1.3.2.3">subscript</csymbol><ci id="S3.E2.m1.10.10.1.1.3.2.3.2.2.cmml" xref="S3.E2.m1.10.10.1.1.3.2.3.2.2">𝑊</ci><list id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.4"><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">:</ci><ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">𝑖</ci></list></apply><cn id="S3.E2.m1.3.3.1.1.cmml" type="integer" xref="S3.E2.m1.3.3.1.1">2</cn></apply></apply><ci id="S3.E2.m1.10.10.1.1.3.3.cmml" xref="S3.E2.m1.10.10.1.1.3.3">𝜎</ci></apply><apply id="S3.E2.m1.10.10.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.1.1.1.1"><ci id="S3.E2.m1.10.10.1.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.1">⋅</ci><apply id="S3.E2.m1.10.10.1.1.1.1.1.2.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.10.10.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.10.10.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.2.2.2">𝑊</ci><list id="S3.E2.m1.5.5.2.3.cmml" xref="S3.E2.m1.5.5.2.4"><ci id="S3.E2.m1.4.4.1.1.cmml" xref="S3.E2.m1.4.4.1.1">𝑖</ci><ci id="S3.E2.m1.5.5.2.2.cmml" xref="S3.E2.m1.5.5.2.2">:</ci></list></apply><cn id="S3.E2.m1.6.6.1.1.cmml" type="integer" xref="S3.E2.m1.6.6.1.1">1</cn></apply><ci id="S3.E2.m1.10.10.1.1.1.1.1.3.cmml" xref="S3.E2.m1.10.10.1.1.1.1.1.3">𝑥</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.10c">\operatorname{FF}(x,m)=\sum_{i=1}^{N}m_{i}\odot W_{:,i}^{(2)}\cdot\sigma(W_{i,%
:}^{(1)}\cdot x)</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.10d">roman_FF ( italic_x , italic_m ) = ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⊙ italic_W start_POSTSUBSCRIPT : , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( 2 ) end_POSTSUPERSCRIPT ⋅ italic_σ ( italic_W start_POSTSUBSCRIPT italic_i , : end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( 1 ) end_POSTSUPERSCRIPT ⋅ italic_x )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.4">Here, <math alttext="N" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.2.m1.1"><semantics id="S3.SS2.SSS0.Px1.p1.2.m1.1a"><mi id="S3.SS2.SSS0.Px1.p1.2.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.2.m1.1b"><ci id="S3.SS2.SSS0.Px1.p1.2.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.2.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.2.m1.1d">italic_N</annotation></semantics></math> denotes the hidden dimension of the feed-forward layer, <math alttext="m\in\{0,1\}^{N}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.3.m2.2"><semantics id="S3.SS2.SSS0.Px1.p1.3.m2.2a"><mrow id="S3.SS2.SSS0.Px1.p1.3.m2.2.3" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.2" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.2.cmml">m</mi><mo id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.1" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.1.cmml">∈</mo><msup id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.2" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.1.cmml"><mo id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.2.1" stretchy="false" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.1.cmml">{</mo><mn id="S3.SS2.SSS0.Px1.p1.3.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.3.m2.1.1.cmml">0</mn><mo id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.2.2" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.1.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.3.m2.2.2" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.2.cmml">1</mn><mo id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.2.3" stretchy="false" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.1.cmml">}</mo></mrow><mi id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.3" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.3.cmml">N</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.3.m2.2b"><apply id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3"><in id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.1"></in><ci id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.2">𝑚</ci><apply id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3">superscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.2.2"><cn id="S3.SS2.SSS0.Px1.p1.3.m2.1.1.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.3.m2.1.1">0</cn><cn id="S3.SS2.SSS0.Px1.p1.3.m2.2.2.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.2">1</cn></set><ci id="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m2.2.3.3.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.3.m2.2c">m\in\{0,1\}^{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.3.m2.2d">italic_m ∈ { 0 , 1 } start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math> represents the mask vector and <math alttext="\odot" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.4.m3.1"><semantics id="S3.SS2.SSS0.Px1.p1.4.m3.1a"><mo id="S3.SS2.SSS0.Px1.p1.4.m3.1.1" xref="S3.SS2.SSS0.Px1.p1.4.m3.1.1.cmml">⊙</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.4.m3.1b"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p1.4.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m3.1.1">direct-product</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.4.m3.1c">\odot</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.4.m3.1d">⊙</annotation></semantics></math> denotes the Hadamard product.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p2">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p2.1">A common approach to select unnecessary memory is to estimate the importance of different memories with gradient <cite class="ltx_cite ltx_citemacro_citep">(Michel et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib25" title="">2019</a>)</cite> or Fisher information <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib23" title="">2021</a>)</cite>. The precise calculation of the importance score typically demands the use of the same data and loss functions employed during model training, which is often impractical in CL scenarios where obtaining the training data of a pretrained model may be unfeasible.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="293" id="S3.F2.g1" src="x2.png" width="415"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Illustration of estimating feed-forward memory importance via JS divergence.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p3">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p3.1">To address this challenge, we propose an alternative approach employing Jensen–Shannon (JS) divergence. The method draws inspiration from the stochastic dropout mechanism <cite class="ltx_cite ltx_citemacro_citep">(Hinton et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib14" title="">2012</a>)</cite>, which introduces randomness by eliminating a portion of units in each layer during training, mitigating co-adaptation and overfitting. In our approach, dropout is applied to the feed-forward layer, generating unique memory activations and distinct outputs during each forward pass. By comparing these outputs and computing the gradient of the divergence, we derive a novel importance score for memories.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p4">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p4.3">As shown in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.F2" title="Figure 2 ‣ Importance-based memory pruning. ‣ 3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a>, we perform two forward passes, with or without dropout, of the input data <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p4.1.m1.1"><semantics id="S3.SS2.SSS0.Px1.p4.1.m1.1a"><mi id="S3.SS2.SSS0.Px1.p4.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p4.1.m1.1b"><ci id="S3.SS2.SSS0.Px1.p4.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p4.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p4.1.m1.1d">italic_x</annotation></semantics></math> through the network, generating two distributions of model predictions, denoted as <math alttext="\mathcal{P}_{1}(y|x)" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p4.2.m2.1"><semantics id="S3.SS2.SSS0.Px1.p4.2.m2.1a"><mrow id="S3.SS2.SSS0.Px1.p4.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.cmml"><msub id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.2" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.2.cmml">𝒫</mi><mn id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.3" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.3.cmml">1</mn></msub><mo id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.2" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p4.2.m2.1b"><apply id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1"><times id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.2"></times><apply id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.2">𝒫</ci><cn id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.3.3">1</cn></apply><apply id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.2">𝑦</ci><ci id="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p4.2.m2.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p4.2.m2.1c">\mathcal{P}_{1}(y|x)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p4.2.m2.1d">caligraphic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ( italic_y | italic_x )</annotation></semantics></math> and <math alttext="\mathcal{P}_{2}(y|x)" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p4.3.m3.1"><semantics id="S3.SS2.SSS0.Px1.p4.3.m3.1a"><mrow id="S3.SS2.SSS0.Px1.p4.3.m3.1.1" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.cmml"><msub id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.2" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.2.cmml">𝒫</mi><mn id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.3" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.3.cmml">2</mn></msub><mo id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.2" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p4.3.m3.1b"><apply id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1"><times id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.2"></times><apply id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.2">𝒫</ci><cn id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.3.3">2</cn></apply><apply id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.2">𝑦</ci><ci id="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p4.3.m3.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p4.3.m3.1c">\mathcal{P}_{2}(y|x)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p4.3.m3.1d">caligraphic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ( italic_y | italic_x )</annotation></semantics></math>. We then calculate the JS divergence between these predictions:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\operatorname{JS}}(x)=\frac{1}{2}(" class="ltx_math_unparsed" display="inline" id="S3.E3X.2.1.1.m1.1"><semantics id="S3.E3X.2.1.1.m1.1a"><mrow id="S3.E3X.2.1.1.m1.1b"><msub id="S3.E3X.2.1.1.m1.1.2"><mi class="ltx_font_mathcaligraphic" id="S3.E3X.2.1.1.m1.1.2.2">ℒ</mi><mi id="S3.E3X.2.1.1.m1.1.2.3">JS</mi></msub><mrow id="S3.E3X.2.1.1.m1.1.3"><mo id="S3.E3X.2.1.1.m1.1.3.1" stretchy="false">(</mo><mi id="S3.E3X.2.1.1.m1.1.1">x</mi><mo id="S3.E3X.2.1.1.m1.1.3.2" stretchy="false">)</mo></mrow><mo id="S3.E3X.2.1.1.m1.1.4">=</mo><mstyle displaystyle="true" id="S3.E3X.2.1.1.m1.1.5"><mfrac id="S3.E3X.2.1.1.m1.1.5a"><mn id="S3.E3X.2.1.1.m1.1.5.2">1</mn><mn id="S3.E3X.2.1.1.m1.1.5.3">2</mn></mfrac></mstyle><mo id="S3.E3X.2.1.1.m1.1.6" stretchy="false">(</mo></mrow><annotation encoding="application/x-tex" id="S3.E3X.2.1.1.m1.1c">\displaystyle\mathcal{L}_{\operatorname{JS}}(x)=\frac{1}{2}(</annotation><annotation encoding="application/x-llamapun" id="S3.E3X.2.1.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_JS end_POSTSUBSCRIPT ( italic_x ) = divide start_ARG 1 end_ARG start_ARG 2 end_ARG (</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\operatorname{KL}(\mathcal{P}_{1}(y|x),\mathcal{P}_{2}(y|x))" class="ltx_Math" display="inline" id="S3.E3X.3.2.2.m1.3"><semantics id="S3.E3X.3.2.2.m1.3a"><mrow id="S3.E3X.3.2.2.m1.3.3.2" xref="S3.E3X.3.2.2.m1.3.3.3.cmml"><mi id="S3.E3X.3.2.2.m1.1.1" xref="S3.E3X.3.2.2.m1.1.1.cmml">KL</mi><mo id="S3.E3X.3.2.2.m1.3.3.2a" xref="S3.E3X.3.2.2.m1.3.3.3.cmml">⁡</mo><mrow id="S3.E3X.3.2.2.m1.3.3.2.2" xref="S3.E3X.3.2.2.m1.3.3.3.cmml"><mo id="S3.E3X.3.2.2.m1.3.3.2.2.3" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.3.cmml">(</mo><mrow id="S3.E3X.3.2.2.m1.2.2.1.1.1" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.cmml"><msub id="S3.E3X.3.2.2.m1.2.2.1.1.1.3" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.2" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3.2.cmml">𝒫</mi><mn id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.3" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3.3.cmml">1</mn></msub><mo id="S3.E3X.3.2.2.m1.2.2.1.1.1.2" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3X.3.2.2.m1.3.3.2.2.4" xref="S3.E3X.3.2.2.m1.3.3.3.cmml">,</mo><mrow id="S3.E3X.3.2.2.m1.3.3.2.2.2" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.cmml"><msub id="S3.E3X.3.2.2.m1.3.3.2.2.2.3" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.2" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3.2.cmml">𝒫</mi><mn id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.3" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3.3.cmml">2</mn></msub><mo id="S3.E3X.3.2.2.m1.3.3.2.2.2.2" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.2.cmml">⁢</mo><mrow id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.cmml"><mo id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.2" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.1.cmml">|</mo><mi id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.3" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3X.3.2.2.m1.3.3.2.2.5" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3X.3.2.2.m1.3b"><apply id="S3.E3X.3.2.2.m1.3.3.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.2"><ci id="S3.E3X.3.2.2.m1.1.1.cmml" xref="S3.E3X.3.2.2.m1.1.1">KL</ci><apply id="S3.E3X.3.2.2.m1.2.2.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1"><times id="S3.E3X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.2"></times><apply id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.1.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.2.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3.2">𝒫</ci><cn id="S3.E3X.3.2.2.m1.2.2.1.1.1.3.3.cmml" type="integer" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.3.3">1</cn></apply><apply id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E3X.3.2.2.m1.3.3.2.2.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2"><times id="S3.E3X.3.2.2.m1.3.3.2.2.2.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.2"></times><apply id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3">subscript</csymbol><ci id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3.2">𝒫</ci><cn id="S3.E3X.3.2.2.m1.3.3.2.2.2.3.3.cmml" type="integer" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.3.3">2</cn></apply><apply id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1"><csymbol cd="latexml" id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.2">𝑦</ci><ci id="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3X.3.2.2.m1.3c">\displaystyle\operatorname{KL}(\mathcal{P}_{1}(y|x),\mathcal{P}_{2}(y|x))</annotation><annotation encoding="application/x-llamapun" id="S3.E3X.3.2.2.m1.3d">roman_KL ( caligraphic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ( italic_y | italic_x ) , caligraphic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ( italic_y | italic_x ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(3)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+\operatorname{KL}(\mathcal{P}_{2}(y|x),\mathcal{P}_{1}(y|x)))" class="ltx_math_unparsed" display="inline" id="S3.E3Xa.2.1.1.m1.1"><semantics id="S3.E3Xa.2.1.1.m1.1a"><mrow id="S3.E3Xa.2.1.1.m1.1b"><mo id="S3.E3Xa.2.1.1.m1.1.2">+</mo><mi id="S3.E3Xa.2.1.1.m1.1.1">KL</mi><mrow id="S3.E3Xa.2.1.1.m1.1.3"><mo id="S3.E3Xa.2.1.1.m1.1.3.1" stretchy="false">(</mo><msub id="S3.E3Xa.2.1.1.m1.1.3.2"><mi class="ltx_font_mathcaligraphic" id="S3.E3Xa.2.1.1.m1.1.3.2.2">𝒫</mi><mn id="S3.E3Xa.2.1.1.m1.1.3.2.3">2</mn></msub><mrow id="S3.E3Xa.2.1.1.m1.1.3.3"><mo id="S3.E3Xa.2.1.1.m1.1.3.3.1" stretchy="false">(</mo><mi id="S3.E3Xa.2.1.1.m1.1.3.3.2">y</mi><mo fence="false" id="S3.E3Xa.2.1.1.m1.1.3.3.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.E3Xa.2.1.1.m1.1.3.3.4">x</mi><mo id="S3.E3Xa.2.1.1.m1.1.3.3.5" stretchy="false">)</mo></mrow><mo id="S3.E3Xa.2.1.1.m1.1.3.4">,</mo><msub id="S3.E3Xa.2.1.1.m1.1.3.5"><mi class="ltx_font_mathcaligraphic" id="S3.E3Xa.2.1.1.m1.1.3.5.2">𝒫</mi><mn id="S3.E3Xa.2.1.1.m1.1.3.5.3">1</mn></msub><mrow id="S3.E3Xa.2.1.1.m1.1.3.6"><mo id="S3.E3Xa.2.1.1.m1.1.3.6.1" stretchy="false">(</mo><mi id="S3.E3Xa.2.1.1.m1.1.3.6.2">y</mi><mo fence="false" id="S3.E3Xa.2.1.1.m1.1.3.6.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.E3Xa.2.1.1.m1.1.3.6.4">x</mi><mo id="S3.E3Xa.2.1.1.m1.1.3.6.5" stretchy="false">)</mo></mrow><mo id="S3.E3Xa.2.1.1.m1.1.3.7" stretchy="false">)</mo></mrow><mo id="S3.E3Xa.2.1.1.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S3.E3Xa.2.1.1.m1.1c">\displaystyle+\operatorname{KL}(\mathcal{P}_{2}(y|x),\mathcal{P}_{1}(y|x)))</annotation><annotation encoding="application/x-llamapun" id="S3.E3Xa.2.1.1.m1.1d">+ roman_KL ( caligraphic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ( italic_y | italic_x ) , caligraphic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ( italic_y | italic_x ) ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p4.5">where <math alttext="\operatorname{KL}(\cdot,\cdot)" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p4.4.m1.3"><semantics id="S3.SS2.SSS0.Px1.p4.4.m1.3a"><mrow id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml"><mi id="S3.SS2.SSS0.Px1.p4.4.m1.1.1" xref="S3.SS2.SSS0.Px1.p4.4.m1.1.1.cmml">KL</mi><mo id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2a" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml">⁡</mo><mrow id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2.1" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml"><mo id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2.1.1" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml">(</mo><mo id="S3.SS2.SSS0.Px1.p4.4.m1.2.2" lspace="0em" rspace="0em" xref="S3.SS2.SSS0.Px1.p4.4.m1.2.2.cmml">⋅</mo><mo id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2.1.2" rspace="0em" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml">,</mo><mo id="S3.SS2.SSS0.Px1.p4.4.m1.3.3" lspace="0em" rspace="0em" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.3.cmml">⋅</mo><mo id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2.1.3" stretchy="false" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p4.4.m1.3b"><apply id="S3.SS2.SSS0.Px1.p4.4.m1.3.4.1.cmml" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.4.2"><ci id="S3.SS2.SSS0.Px1.p4.4.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.4.m1.1.1">KL</ci><ci id="S3.SS2.SSS0.Px1.p4.4.m1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p4.4.m1.2.2">⋅</ci><ci id="S3.SS2.SSS0.Px1.p4.4.m1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p4.4.m1.3.3">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p4.4.m1.3c">\operatorname{KL}(\cdot,\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p4.4.m1.3d">roman_KL ( ⋅ , ⋅ )</annotation></semantics></math> denotes the Kullback–Leibler (KL) divergence.
In practice, we adopt an external dataset <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p4.5.m2.1"><semantics id="S3.SS2.SSS0.Px1.p4.5.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p4.5.m2.1.1" xref="S3.SS2.SSS0.Px1.p4.5.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p4.5.m2.1b"><ci id="S3.SS2.SSS0.Px1.p4.5.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p4.5.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p4.5.m2.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p4.5.m2.1d">caligraphic_D</annotation></semantics></math> and estimate the average gradient of JS divergence, serving as an empirical importance score:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="I_{k}=\mathbb{E}_{x\in\mathcal{D}}\left|\frac{\partial\mathcal{L}_{%
\operatorname{JS}}(x)}{\partial m_{k}}\right|" class="ltx_Math" display="block" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.2" xref="S3.E4.m1.1.2.cmml"><msub id="S3.E4.m1.1.2.2" xref="S3.E4.m1.1.2.2.cmml"><mi id="S3.E4.m1.1.2.2.2" xref="S3.E4.m1.1.2.2.2.cmml">I</mi><mi id="S3.E4.m1.1.2.2.3" xref="S3.E4.m1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E4.m1.1.2.1" xref="S3.E4.m1.1.2.1.cmml">=</mo><mrow id="S3.E4.m1.1.2.3" xref="S3.E4.m1.1.2.3.cmml"><msub id="S3.E4.m1.1.2.3.2" xref="S3.E4.m1.1.2.3.2.cmml"><mi id="S3.E4.m1.1.2.3.2.2" xref="S3.E4.m1.1.2.3.2.2.cmml">𝔼</mi><mrow id="S3.E4.m1.1.2.3.2.3" xref="S3.E4.m1.1.2.3.2.3.cmml"><mi id="S3.E4.m1.1.2.3.2.3.2" xref="S3.E4.m1.1.2.3.2.3.2.cmml">x</mi><mo id="S3.E4.m1.1.2.3.2.3.1" xref="S3.E4.m1.1.2.3.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.2.3.2.3.3" xref="S3.E4.m1.1.2.3.2.3.3.cmml">𝒟</mi></mrow></msub><mo id="S3.E4.m1.1.2.3.1" xref="S3.E4.m1.1.2.3.1.cmml">⁢</mo><mrow id="S3.E4.m1.1.2.3.3.2" xref="S3.E4.m1.1.2.3.3.1.cmml"><mo id="S3.E4.m1.1.2.3.3.2.1" xref="S3.E4.m1.1.2.3.3.1.1.cmml">|</mo><mfrac id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.2" rspace="0em" xref="S3.E4.m1.1.1.1.2.cmml">∂</mo><mrow id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.1.1.1.3.cmml"><msub id="S3.E4.m1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.3.2.2.cmml">ℒ</mi><mi id="S3.E4.m1.1.1.1.3.2.3" xref="S3.E4.m1.1.1.1.3.2.3.cmml">JS</mi></msub><mo id="S3.E4.m1.1.1.1.3.1" xref="S3.E4.m1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E4.m1.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.3.cmml"><mo id="S3.E4.m1.1.1.1.3.3.2.1" stretchy="false" xref="S3.E4.m1.1.1.1.3.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">x</mi><mo id="S3.E4.m1.1.1.1.3.3.2.2" stretchy="false" xref="S3.E4.m1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml"><mo id="S3.E4.m1.1.1.3.1" rspace="0em" xref="S3.E4.m1.1.1.3.1.cmml">∂</mo><msub id="S3.E4.m1.1.1.3.2" xref="S3.E4.m1.1.1.3.2.cmml"><mi id="S3.E4.m1.1.1.3.2.2" xref="S3.E4.m1.1.1.3.2.2.cmml">m</mi><mi id="S3.E4.m1.1.1.3.2.3" xref="S3.E4.m1.1.1.3.2.3.cmml">k</mi></msub></mrow></mfrac><mo id="S3.E4.m1.1.2.3.3.2.2" xref="S3.E4.m1.1.2.3.3.1.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.2.cmml" xref="S3.E4.m1.1.2"><eq id="S3.E4.m1.1.2.1.cmml" xref="S3.E4.m1.1.2.1"></eq><apply id="S3.E4.m1.1.2.2.cmml" xref="S3.E4.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.2.2.1.cmml" xref="S3.E4.m1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.1.2.2.2.cmml" xref="S3.E4.m1.1.2.2.2">𝐼</ci><ci id="S3.E4.m1.1.2.2.3.cmml" xref="S3.E4.m1.1.2.2.3">𝑘</ci></apply><apply id="S3.E4.m1.1.2.3.cmml" xref="S3.E4.m1.1.2.3"><times id="S3.E4.m1.1.2.3.1.cmml" xref="S3.E4.m1.1.2.3.1"></times><apply id="S3.E4.m1.1.2.3.2.cmml" xref="S3.E4.m1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.2.3.2.1.cmml" xref="S3.E4.m1.1.2.3.2">subscript</csymbol><ci id="S3.E4.m1.1.2.3.2.2.cmml" xref="S3.E4.m1.1.2.3.2.2">𝔼</ci><apply id="S3.E4.m1.1.2.3.2.3.cmml" xref="S3.E4.m1.1.2.3.2.3"><in id="S3.E4.m1.1.2.3.2.3.1.cmml" xref="S3.E4.m1.1.2.3.2.3.1"></in><ci id="S3.E4.m1.1.2.3.2.3.2.cmml" xref="S3.E4.m1.1.2.3.2.3.2">𝑥</ci><ci id="S3.E4.m1.1.2.3.2.3.3.cmml" xref="S3.E4.m1.1.2.3.2.3.3">𝒟</ci></apply></apply><apply id="S3.E4.m1.1.2.3.3.1.cmml" xref="S3.E4.m1.1.2.3.3.2"><abs id="S3.E4.m1.1.2.3.3.1.1.cmml" xref="S3.E4.m1.1.2.3.3.2.1"></abs><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><divide id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1"></divide><apply id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><partialdiff id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.2"></partialdiff><apply id="S3.E4.m1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.3"><times id="S3.E4.m1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.3.1"></times><apply id="S3.E4.m1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.1.3.2">subscript</csymbol><ci id="S3.E4.m1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.3.2.2">ℒ</ci><ci id="S3.E4.m1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.1.3.2.3">JS</ci></apply><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑥</ci></apply></apply><apply id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3"><partialdiff id="S3.E4.m1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.3.1"></partialdiff><apply id="S3.E4.m1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.3.2">subscript</csymbol><ci id="S3.E4.m1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.3.2.2">𝑚</ci><ci id="S3.E4.m1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.3.2.3">𝑘</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">I_{k}=\mathbb{E}_{x\in\mathcal{D}}\left|\frac{\partial\mathcal{L}_{%
\operatorname{JS}}(x)}{\partial m_{k}}\right|</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">italic_I start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = blackboard_E start_POSTSUBSCRIPT italic_x ∈ caligraphic_D end_POSTSUBSCRIPT | divide start_ARG ∂ caligraphic_L start_POSTSUBSCRIPT roman_JS end_POSTSUBSCRIPT ( italic_x ) end_ARG start_ARG ∂ italic_m start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_ARG |</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p5">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p5.2">Following the derivation of the importance score, a binary mask is generated through a binarization function utilizing the <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p5.1.m1.1"><semantics id="S3.SS2.SSS0.Px1.p5.1.m1.1a"><mi id="S3.SS2.SSS0.Px1.p5.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p5.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p5.1.m1.1b"><ci id="S3.SS2.SSS0.Px1.p5.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p5.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p5.1.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p5.1.m1.1d">italic_s</annotation></semantics></math> quantile of the importance score, denoted as <math alttext="q_{s}(I)" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p5.2.m2.1"><semantics id="S3.SS2.SSS0.Px1.p5.2.m2.1a"><mrow id="S3.SS2.SSS0.Px1.p5.2.m2.1.2" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.cmml"><msub id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.2" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.2.cmml">q</mi><mi id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.3" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.3.cmml">s</mi></msub><mo id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.1" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.3.2" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.cmml"><mo id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.cmml">(</mo><mi id="S3.SS2.SSS0.Px1.p5.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.1.cmml">I</mi><mo id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p5.2.m2.1b"><apply id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2"><times id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.1"></times><apply id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.2">𝑞</ci><ci id="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.2.2.3">𝑠</ci></apply><ci id="S3.SS2.SSS0.Px1.p5.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p5.2.m2.1.1">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p5.2.m2.1c">q_{s}(I)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p5.2.m2.1d">italic_q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( italic_I )</annotation></semantics></math>, as the threshold:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="m_{k}^{G}=\begin{cases}1,&amp;\text{ if }I_{k}\geq q_{s}(I)\\
0,&amp;\text{ if }I_{k}&lt;q_{s}(I)\end{cases}" class="ltx_Math" display="block" id="S3.E5.m1.4"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.5" xref="S3.E5.m1.4.5.cmml"><msubsup id="S3.E5.m1.4.5.2" xref="S3.E5.m1.4.5.2.cmml"><mi id="S3.E5.m1.4.5.2.2.2" xref="S3.E5.m1.4.5.2.2.2.cmml">m</mi><mi id="S3.E5.m1.4.5.2.2.3" xref="S3.E5.m1.4.5.2.2.3.cmml">k</mi><mi id="S3.E5.m1.4.5.2.3" xref="S3.E5.m1.4.5.2.3.cmml">G</mi></msubsup><mo id="S3.E5.m1.4.5.1" xref="S3.E5.m1.4.5.1.cmml">=</mo><mrow id="S3.E5.m1.4.4" xref="S3.E5.m1.4.5.3.1.cmml"><mo id="S3.E5.m1.4.4.5" xref="S3.E5.m1.4.5.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S3.E5.m1.4.4.4" rowspacing="0pt" xref="S3.E5.m1.4.5.3.1.cmml"><mtr id="S3.E5.m1.4.4.4a" xref="S3.E5.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.4.4.4b" xref="S3.E5.m1.4.5.3.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.4.5.3.1.cmml"><mn id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">1</mn><mo id="S3.E5.m1.1.1.1.1.1.1.3.1" xref="S3.E5.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.4.4.4c" xref="S3.E5.m1.4.5.3.1.cmml"><mrow id="S3.E5.m1.2.2.2.2.2.1" xref="S3.E5.m1.2.2.2.2.2.1.cmml"><mrow id="S3.E5.m1.2.2.2.2.2.1.3" xref="S3.E5.m1.2.2.2.2.2.1.3.cmml"><mtext id="S3.E5.m1.2.2.2.2.2.1.3.2" xref="S3.E5.m1.2.2.2.2.2.1.3.2a.cmml"> if </mtext><mo id="S3.E5.m1.2.2.2.2.2.1.3.1" xref="S3.E5.m1.2.2.2.2.2.1.3.1.cmml">⁢</mo><msub id="S3.E5.m1.2.2.2.2.2.1.3.3" xref="S3.E5.m1.2.2.2.2.2.1.3.3.cmml"><mi id="S3.E5.m1.2.2.2.2.2.1.3.3.2" xref="S3.E5.m1.2.2.2.2.2.1.3.3.2.cmml">I</mi><mi id="S3.E5.m1.2.2.2.2.2.1.3.3.3" xref="S3.E5.m1.2.2.2.2.2.1.3.3.3.cmml">k</mi></msub></mrow><mo id="S3.E5.m1.2.2.2.2.2.1.2" xref="S3.E5.m1.2.2.2.2.2.1.2.cmml">≥</mo><mrow id="S3.E5.m1.2.2.2.2.2.1.4" xref="S3.E5.m1.2.2.2.2.2.1.4.cmml"><msub id="S3.E5.m1.2.2.2.2.2.1.4.2" xref="S3.E5.m1.2.2.2.2.2.1.4.2.cmml"><mi id="S3.E5.m1.2.2.2.2.2.1.4.2.2" xref="S3.E5.m1.2.2.2.2.2.1.4.2.2.cmml">q</mi><mi id="S3.E5.m1.2.2.2.2.2.1.4.2.3" xref="S3.E5.m1.2.2.2.2.2.1.4.2.3.cmml">s</mi></msub><mo id="S3.E5.m1.2.2.2.2.2.1.4.1" xref="S3.E5.m1.2.2.2.2.2.1.4.1.cmml">⁢</mo><mrow id="S3.E5.m1.2.2.2.2.2.1.4.3.2" xref="S3.E5.m1.2.2.2.2.2.1.4.cmml"><mo id="S3.E5.m1.2.2.2.2.2.1.4.3.2.1" stretchy="false" xref="S3.E5.m1.2.2.2.2.2.1.4.cmml">(</mo><mi id="S3.E5.m1.2.2.2.2.2.1.1" xref="S3.E5.m1.2.2.2.2.2.1.1.cmml">I</mi><mo id="S3.E5.m1.2.2.2.2.2.1.4.3.2.2" stretchy="false" xref="S3.E5.m1.2.2.2.2.2.1.4.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E5.m1.4.4.4d" xref="S3.E5.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.4.4.4e" xref="S3.E5.m1.4.5.3.1.cmml"><mrow id="S3.E5.m1.3.3.3.3.1.1.3" xref="S3.E5.m1.4.5.3.1.cmml"><mn id="S3.E5.m1.3.3.3.3.1.1.1" xref="S3.E5.m1.3.3.3.3.1.1.1.cmml">0</mn><mo id="S3.E5.m1.3.3.3.3.1.1.3.1" xref="S3.E5.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.4.4.4f" xref="S3.E5.m1.4.5.3.1.cmml"><mrow id="S3.E5.m1.4.4.4.4.2.1" xref="S3.E5.m1.4.4.4.4.2.1.cmml"><mrow id="S3.E5.m1.4.4.4.4.2.1.3" xref="S3.E5.m1.4.4.4.4.2.1.3.cmml"><mtext id="S3.E5.m1.4.4.4.4.2.1.3.2" xref="S3.E5.m1.4.4.4.4.2.1.3.2a.cmml"> if </mtext><mo id="S3.E5.m1.4.4.4.4.2.1.3.1" xref="S3.E5.m1.4.4.4.4.2.1.3.1.cmml">⁢</mo><msub id="S3.E5.m1.4.4.4.4.2.1.3.3" xref="S3.E5.m1.4.4.4.4.2.1.3.3.cmml"><mi id="S3.E5.m1.4.4.4.4.2.1.3.3.2" xref="S3.E5.m1.4.4.4.4.2.1.3.3.2.cmml">I</mi><mi id="S3.E5.m1.4.4.4.4.2.1.3.3.3" xref="S3.E5.m1.4.4.4.4.2.1.3.3.3.cmml">k</mi></msub></mrow><mo id="S3.E5.m1.4.4.4.4.2.1.2" xref="S3.E5.m1.4.4.4.4.2.1.2.cmml">&lt;</mo><mrow id="S3.E5.m1.4.4.4.4.2.1.4" xref="S3.E5.m1.4.4.4.4.2.1.4.cmml"><msub id="S3.E5.m1.4.4.4.4.2.1.4.2" xref="S3.E5.m1.4.4.4.4.2.1.4.2.cmml"><mi id="S3.E5.m1.4.4.4.4.2.1.4.2.2" xref="S3.E5.m1.4.4.4.4.2.1.4.2.2.cmml">q</mi><mi id="S3.E5.m1.4.4.4.4.2.1.4.2.3" xref="S3.E5.m1.4.4.4.4.2.1.4.2.3.cmml">s</mi></msub><mo id="S3.E5.m1.4.4.4.4.2.1.4.1" xref="S3.E5.m1.4.4.4.4.2.1.4.1.cmml">⁢</mo><mrow id="S3.E5.m1.4.4.4.4.2.1.4.3.2" xref="S3.E5.m1.4.4.4.4.2.1.4.cmml"><mo id="S3.E5.m1.4.4.4.4.2.1.4.3.2.1" stretchy="false" xref="S3.E5.m1.4.4.4.4.2.1.4.cmml">(</mo><mi id="S3.E5.m1.4.4.4.4.2.1.1" xref="S3.E5.m1.4.4.4.4.2.1.1.cmml">I</mi><mo id="S3.E5.m1.4.4.4.4.2.1.4.3.2.2" stretchy="false" xref="S3.E5.m1.4.4.4.4.2.1.4.cmml">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.5.cmml" xref="S3.E5.m1.4.5"><eq id="S3.E5.m1.4.5.1.cmml" xref="S3.E5.m1.4.5.1"></eq><apply id="S3.E5.m1.4.5.2.cmml" xref="S3.E5.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.5.2.1.cmml" xref="S3.E5.m1.4.5.2">superscript</csymbol><apply id="S3.E5.m1.4.5.2.2.cmml" xref="S3.E5.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.5.2.2.1.cmml" xref="S3.E5.m1.4.5.2">subscript</csymbol><ci id="S3.E5.m1.4.5.2.2.2.cmml" xref="S3.E5.m1.4.5.2.2.2">𝑚</ci><ci id="S3.E5.m1.4.5.2.2.3.cmml" xref="S3.E5.m1.4.5.2.2.3">𝑘</ci></apply><ci id="S3.E5.m1.4.5.2.3.cmml" xref="S3.E5.m1.4.5.2.3">𝐺</ci></apply><apply id="S3.E5.m1.4.5.3.1.cmml" xref="S3.E5.m1.4.4"><csymbol cd="latexml" id="S3.E5.m1.4.5.3.1.1.cmml" xref="S3.E5.m1.4.4.5">cases</csymbol><cn id="S3.E5.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S3.E5.m1.1.1.1.1.1.1.1">1</cn><apply id="S3.E5.m1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1"><geq id="S3.E5.m1.2.2.2.2.2.1.2.cmml" xref="S3.E5.m1.2.2.2.2.2.1.2"></geq><apply id="S3.E5.m1.2.2.2.2.2.1.3.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3"><times id="S3.E5.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.1"></times><ci id="S3.E5.m1.2.2.2.2.2.1.3.2a.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.2"><mtext id="S3.E5.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.2"> if </mtext></ci><apply id="S3.E5.m1.2.2.2.2.2.1.3.3.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.1.3.3.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.3">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.1.3.3.2.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.3.2">𝐼</ci><ci id="S3.E5.m1.2.2.2.2.2.1.3.3.3.cmml" xref="S3.E5.m1.2.2.2.2.2.1.3.3.3">𝑘</ci></apply></apply><apply id="S3.E5.m1.2.2.2.2.2.1.4.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4"><times id="S3.E5.m1.2.2.2.2.2.1.4.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4.1"></times><apply id="S3.E5.m1.2.2.2.2.2.1.4.2.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.1.4.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.1.4.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4.2.2">𝑞</ci><ci id="S3.E5.m1.2.2.2.2.2.1.4.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.1.4.2.3">𝑠</ci></apply><ci id="S3.E5.m1.2.2.2.2.2.1.1.cmml" xref="S3.E5.m1.2.2.2.2.2.1.1">𝐼</ci></apply></apply><cn id="S3.E5.m1.3.3.3.3.1.1.1.cmml" type="integer" xref="S3.E5.m1.3.3.3.3.1.1.1">0</cn><apply id="S3.E5.m1.4.4.4.4.2.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1"><lt id="S3.E5.m1.4.4.4.4.2.1.2.cmml" xref="S3.E5.m1.4.4.4.4.2.1.2"></lt><apply id="S3.E5.m1.4.4.4.4.2.1.3.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3"><times id="S3.E5.m1.4.4.4.4.2.1.3.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.1"></times><ci id="S3.E5.m1.4.4.4.4.2.1.3.2a.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.2"><mtext id="S3.E5.m1.4.4.4.4.2.1.3.2.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.2"> if </mtext></ci><apply id="S3.E5.m1.4.4.4.4.2.1.3.3.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.2.1.3.3.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.3">subscript</csymbol><ci id="S3.E5.m1.4.4.4.4.2.1.3.3.2.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.3.2">𝐼</ci><ci id="S3.E5.m1.4.4.4.4.2.1.3.3.3.cmml" xref="S3.E5.m1.4.4.4.4.2.1.3.3.3">𝑘</ci></apply></apply><apply id="S3.E5.m1.4.4.4.4.2.1.4.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4"><times id="S3.E5.m1.4.4.4.4.2.1.4.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4.1"></times><apply id="S3.E5.m1.4.4.4.4.2.1.4.2.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.2.1.4.2.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4.2">subscript</csymbol><ci id="S3.E5.m1.4.4.4.4.2.1.4.2.2.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4.2.2">𝑞</ci><ci id="S3.E5.m1.4.4.4.4.2.1.4.2.3.cmml" xref="S3.E5.m1.4.4.4.4.2.1.4.2.3">𝑠</ci></apply><ci id="S3.E5.m1.4.4.4.4.2.1.1.cmml" xref="S3.E5.m1.4.4.4.4.2.1.1">𝐼</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">m_{k}^{G}=\begin{cases}1,&amp;\text{ if }I_{k}\geq q_{s}(I)\\
0,&amp;\text{ if }I_{k}&lt;q_{s}(I)\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.4d">italic_m start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_G end_POSTSUPERSCRIPT = { start_ROW start_CELL 1 , end_CELL start_CELL if italic_I start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ≥ italic_q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( italic_I ) end_CELL end_ROW start_ROW start_CELL 0 , end_CELL start_CELL if italic_I start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT &lt; italic_q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( italic_I ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p5.4">where <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p5.3.m1.1"><semantics id="S3.SS2.SSS0.Px1.p5.3.m1.1a"><mi id="S3.SS2.SSS0.Px1.p5.3.m1.1.1" xref="S3.SS2.SSS0.Px1.p5.3.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p5.3.m1.1b"><ci id="S3.SS2.SSS0.Px1.p5.3.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p5.3.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p5.3.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p5.3.m1.1d">italic_s</annotation></semantics></math> is the desired sparsity. Substituting this mask <math alttext="m^{G}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p5.4.m2.1"><semantics id="S3.SS2.SSS0.Px1.p5.4.m2.1a"><msup id="S3.SS2.SSS0.Px1.p5.4.m2.1.1" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.2" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1.2.cmml">m</mi><mi id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.3" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1.3.cmml">G</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p5.4.m2.1b"><apply id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1.2">𝑚</ci><ci id="S3.SS2.SSS0.Px1.p5.4.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p5.4.m2.1.1.3">𝐺</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p5.4.m2.1c">m^{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p5.4.m2.1d">italic_m start_POSTSUPERSCRIPT italic_G end_POSTSUPERSCRIPT</annotation></semantics></math> into Formula <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.E2" title="2 ‣ Importance-based memory pruning. ‣ 3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a> accomplishes the pruning.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Learning New Domain Continually</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">After the structure pruning stage, wherein specific feed-forward memories are pruned and marked ‘writable’ for future learning, we introduce a task mask mechanism to manage memory. Throughout the forward pass, these task masks govern the activation of feed-forward memory, conditioning the model for specific tasks. In the backward pass, the task masks are employed to suppress gradient updates to the ‘read-only’ memories, effectively preventing CF. Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.F3" title="Figure 3 ‣ 3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">3</span></a> provides an overview of this procedure.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="203" id="S3.F3.g1" src="x3.png" width="415"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Illustration of new domain learning: forward (the left) and backward (the right) propagation. Here, we show the inner structure of the feed-forward layer.</figcaption>
</figure>
<section class="ltx_paragraph" id="S3.SS3.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Learning task mask to allocate ‘writable’ memory.</h4>
<div class="ltx_para" id="S3.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p1.7">To adapt to a new task <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS3.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS3.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.1.m1.1d">italic_t</annotation></semantics></math>, a task mask <math alttext="m_{l}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.2.m2.1"><semantics id="S3.SS3.SSS0.Px1.p1.2.m2.1a"><msubsup id="S3.SS3.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.2.cmml">m</mi><mi id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.3" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.3.cmml">l</mi><mi id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.2">𝑚</ci><ci id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.2.3">𝑙</ci></apply><ci id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.2.m2.1c">m_{l}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.2.m2.1d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is learned. This task mask serves to conditionally activate the memories in the <math alttext="l" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS3.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS3.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS3.SSS0.Px1.p1.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS3.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.3.m3.1c">l</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.3.m3.1d">italic_l</annotation></semantics></math>-th feed-forward layer. We adopt the task-based hard attention mechanism proposed by <cite class="ltx_cite ltx_citemacro_citet">Serrà et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib31" title="">2018</a>)</cite> to train the mask. For each task <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS3.SSS0.Px1.p1.4.m4.1a"><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.4.m4.1b"><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.4.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.4.m4.1d">italic_t</annotation></semantics></math>, a learnable task embedding <math alttext="e_{l}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.5.m5.1"><semantics id="S3.SS3.SSS0.Px1.p1.5.m5.1a"><msubsup id="S3.SS3.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.2" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.2.cmml">e</mi><mi id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.3" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.3.cmml">l</mi><mi id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.2">𝑒</ci><ci id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.3">𝑙</ci></apply><ci id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.5.m5.1c">e_{l}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.5.m5.1d">italic_e start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is introduced for each layer. The task mask <math alttext="m_{l}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.6.m6.1"><semantics id="S3.SS3.SSS0.Px1.p1.6.m6.1a"><msubsup id="S3.SS3.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.2" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.2.cmml">m</mi><mi id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.3" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.3.cmml">l</mi><mi id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.2">𝑚</ci><ci id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.3">𝑙</ci></apply><ci id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.6.m6.1c">m_{l}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.6.m6.1d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is defined as a gated version of the embedding vector <math alttext="e_{l}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.7.m7.1"><semantics id="S3.SS3.SSS0.Px1.p1.7.m7.1a"><msubsup id="S3.SS3.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.2" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.2.cmml">e</mi><mi id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.3" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.3.cmml">l</mi><mi id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.2">𝑒</ci><ci id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.2.3">𝑙</ci></apply><ci id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.7.m7.1c">e_{l}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.7.m7.1d">italic_e start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>:
</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="m_{l}^{t}=\sigma(\frac{e_{l}^{t}}{\tau})" class="ltx_Math" display="block" id="S3.E6.m1.1"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.2" xref="S3.E6.m1.1.2.cmml"><msubsup id="S3.E6.m1.1.2.2" xref="S3.E6.m1.1.2.2.cmml"><mi id="S3.E6.m1.1.2.2.2.2" xref="S3.E6.m1.1.2.2.2.2.cmml">m</mi><mi id="S3.E6.m1.1.2.2.2.3" xref="S3.E6.m1.1.2.2.2.3.cmml">l</mi><mi id="S3.E6.m1.1.2.2.3" xref="S3.E6.m1.1.2.2.3.cmml">t</mi></msubsup><mo id="S3.E6.m1.1.2.1" xref="S3.E6.m1.1.2.1.cmml">=</mo><mrow id="S3.E6.m1.1.2.3" xref="S3.E6.m1.1.2.3.cmml"><mi id="S3.E6.m1.1.2.3.2" xref="S3.E6.m1.1.2.3.2.cmml">σ</mi><mo id="S3.E6.m1.1.2.3.1" xref="S3.E6.m1.1.2.3.1.cmml">⁢</mo><mrow id="S3.E6.m1.1.2.3.3.2" xref="S3.E6.m1.1.1.cmml"><mo id="S3.E6.m1.1.2.3.3.2.1" stretchy="false" xref="S3.E6.m1.1.1.cmml">(</mo><mfrac id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml"><msubsup id="S3.E6.m1.1.1.2" xref="S3.E6.m1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.2.2.2" xref="S3.E6.m1.1.1.2.2.2.cmml">e</mi><mi id="S3.E6.m1.1.1.2.2.3" xref="S3.E6.m1.1.1.2.2.3.cmml">l</mi><mi id="S3.E6.m1.1.1.2.3" xref="S3.E6.m1.1.1.2.3.cmml">t</mi></msubsup><mi id="S3.E6.m1.1.1.3" xref="S3.E6.m1.1.1.3.cmml">τ</mi></mfrac><mo id="S3.E6.m1.1.2.3.3.2.2" stretchy="false" xref="S3.E6.m1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.2.cmml" xref="S3.E6.m1.1.2"><eq id="S3.E6.m1.1.2.1.cmml" xref="S3.E6.m1.1.2.1"></eq><apply id="S3.E6.m1.1.2.2.cmml" xref="S3.E6.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.2.2.1.cmml" xref="S3.E6.m1.1.2.2">superscript</csymbol><apply id="S3.E6.m1.1.2.2.2.cmml" xref="S3.E6.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.2.2.2.1.cmml" xref="S3.E6.m1.1.2.2">subscript</csymbol><ci id="S3.E6.m1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.2.2.2.2">𝑚</ci><ci id="S3.E6.m1.1.2.2.2.3.cmml" xref="S3.E6.m1.1.2.2.2.3">𝑙</ci></apply><ci id="S3.E6.m1.1.2.2.3.cmml" xref="S3.E6.m1.1.2.2.3">𝑡</ci></apply><apply id="S3.E6.m1.1.2.3.cmml" xref="S3.E6.m1.1.2.3"><times id="S3.E6.m1.1.2.3.1.cmml" xref="S3.E6.m1.1.2.3.1"></times><ci id="S3.E6.m1.1.2.3.2.cmml" xref="S3.E6.m1.1.2.3.2">𝜎</ci><apply id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.2.3.3.2"><divide id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.2.3.3.2"></divide><apply id="S3.E6.m1.1.1.2.cmml" xref="S3.E6.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.2">superscript</csymbol><apply id="S3.E6.m1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.2.2.2">𝑒</ci><ci id="S3.E6.m1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.2.2.3">𝑙</ci></apply><ci id="S3.E6.m1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.2.3">𝑡</ci></apply><ci id="S3.E6.m1.1.1.3.cmml" xref="S3.E6.m1.1.1.3">𝜏</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">m_{l}^{t}=\sigma(\frac{e_{l}^{t}}{\tau})</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.1d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = italic_σ ( divide start_ARG italic_e start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_ARG start_ARG italic_τ end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p1.9">where <math alttext="\sigma" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.8.m1.1"><semantics id="S3.SS3.SSS0.Px1.p1.8.m1.1a"><mi id="S3.SS3.SSS0.Px1.p1.8.m1.1.1" xref="S3.SS3.SSS0.Px1.p1.8.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.8.m1.1b"><ci id="S3.SS3.SSS0.Px1.p1.8.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.8.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.8.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.8.m1.1d">italic_σ</annotation></semantics></math> represents a gate function, and <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.9.m2.1"><semantics id="S3.SS3.SSS0.Px1.p1.9.m2.1a"><mi id="S3.SS3.SSS0.Px1.p1.9.m2.1.1" xref="S3.SS3.SSS0.Px1.p1.9.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.9.m2.1b"><ci id="S3.SS3.SSS0.Px1.p1.9.m2.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.9.m2.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p1.9.m2.1d">italic_τ</annotation></semantics></math> is a temperature variable. We wish to learn a binary task mask that could be employed to allocate feed-forward memory in the same format as described in Eq.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.E2" title="2 ‣ Importance-based memory pruning. ‣ 3.2 Preserving General Domain Knowledge ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSS0.Px1.p2">
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p2.9">To facilitate the efficient learning of task masks, we employ a sigmoid function with a temperature scalar to create a differentiable pseudo-gate function. The temperature scalar regulates the polarization or ‘hardness’ of the pseudo-step function. As <math alttext="\tau\to 0" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.1.m1.1"><semantics id="S3.SS3.SSS0.Px1.p2.1.m1.1a"><mrow id="S3.SS3.SSS0.Px1.p2.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2.cmml">τ</mi><mo id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.1" stretchy="false" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.1.cmml">→</mo><mn id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.1.m1.1b"><apply id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1"><ci id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.1">→</ci><ci id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2">𝜏</ci><cn id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.1.m1.1c">\tau\to 0</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.1.m1.1d">italic_τ → 0</annotation></semantics></math>, the values of <math alttext="m_{l,i}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.2.m2.2"><semantics id="S3.SS3.SSS0.Px1.p2.2.m2.2a"><msubsup id="S3.SS3.SSS0.Px1.p2.2.m2.2.3" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.2" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.2.cmml">m</mi><mrow id="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.4" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.2.m2.1.1.1.1" xref="S3.SS3.SSS0.Px1.p2.2.m2.1.1.1.1.cmml">l</mi><mo id="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.4.1" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.2" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.2.cmml">i</mi></mrow><mi id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.3" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.2.m2.2b"><apply id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.1.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.1.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.2.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3.2.2">𝑚</ci><list id="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.3.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.4"><ci id="S3.SS3.SSS0.Px1.p2.2.m2.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.1.1.1.1">𝑙</ci><ci id="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.2.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.2.2.2">𝑖</ci></list></apply><ci id="S3.SS3.SSS0.Px1.p2.2.m2.2.3.3.cmml" xref="S3.SS3.SSS0.Px1.p2.2.m2.2.3.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.2.m2.2c">m_{l,i}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.2.m2.2d">italic_m start_POSTSUBSCRIPT italic_l , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> tend towards either <math alttext="0" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.3.m3.1"><semantics id="S3.SS3.SSS0.Px1.p2.3.m3.1a"><mn id="S3.SS3.SSS0.Px1.p2.3.m3.1.1" xref="S3.SS3.SSS0.Px1.p2.3.m3.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.3.m3.1b"><cn id="S3.SS3.SSS0.Px1.p2.3.m3.1.1.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p2.3.m3.1.1">0</cn></annotation-xml></semantics></math> or <math alttext="1" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.4.m4.1"><semantics id="S3.SS3.SSS0.Px1.p2.4.m4.1a"><mn id="S3.SS3.SSS0.Px1.p2.4.m4.1.1" xref="S3.SS3.SSS0.Px1.p2.4.m4.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.4.m4.1b"><cn id="S3.SS3.SSS0.Px1.p2.4.m4.1.1.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p2.4.m4.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.4.m4.1c">1</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.4.m4.1d">1</annotation></semantics></math>, compelling the model to exploit allocated memories. Conversely, as <math alttext="\tau\to\infty" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.5.m5.1"><semantics id="S3.SS3.SSS0.Px1.p2.5.m5.1a"><mrow id="S3.SS3.SSS0.Px1.p2.5.m5.1.1" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.2" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.2.cmml">τ</mi><mo id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.1" stretchy="false" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.1.cmml">→</mo><mi id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.3" mathvariant="normal" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.5.m5.1b"><apply id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1"><ci id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.1">→</ci><ci id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.2">𝜏</ci><infinity id="S3.SS3.SSS0.Px1.p2.5.m5.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p2.5.m5.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.5.m5.1c">\tau\to\infty</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.5.m5.1d">italic_τ → ∞</annotation></semantics></math>, the values of <math alttext="m_{l,i}^{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.6.m6.2"><semantics id="S3.SS3.SSS0.Px1.p2.6.m6.2a"><msubsup id="S3.SS3.SSS0.Px1.p2.6.m6.2.3" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.2" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.2.cmml">m</mi><mrow id="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.4" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.6.m6.1.1.1.1" xref="S3.SS3.SSS0.Px1.p2.6.m6.1.1.1.1.cmml">l</mi><mo id="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.4.1" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.3.cmml">,</mo><mi id="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.2" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.2.cmml">i</mi></mrow><mi id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.3" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.6.m6.2b"><apply id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.1.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3">superscript</csymbol><apply id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.1.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.2.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3.2.2">𝑚</ci><list id="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.3.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.4"><ci id="S3.SS3.SSS0.Px1.p2.6.m6.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.1.1.1.1">𝑙</ci><ci id="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.2.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.2.2.2">𝑖</ci></list></apply><ci id="S3.SS3.SSS0.Px1.p2.6.m6.2.3.3.cmml" xref="S3.SS3.SSS0.Px1.p2.6.m6.2.3.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.6.m6.2c">m_{l,i}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.6.m6.2d">italic_m start_POSTSUBSCRIPT italic_l , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> approach <math alttext="0.5" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.7.m7.1"><semantics id="S3.SS3.SSS0.Px1.p2.7.m7.1a"><mn id="S3.SS3.SSS0.Px1.p2.7.m7.1.1" xref="S3.SS3.SSS0.Px1.p2.7.m7.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.7.m7.1b"><cn id="S3.SS3.SSS0.Px1.p2.7.m7.1.1.cmml" type="float" xref="S3.SS3.SSS0.Px1.p2.7.m7.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.7.m7.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.7.m7.1d">0.5</annotation></semantics></math>, allowing the model to freely explore memories. Throughout the training process, we implement temperature annealing, transitioning from <math alttext="\frac{1}{\tau_{max}}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.8.m8.1"><semantics id="S3.SS3.SSS0.Px1.p2.8.m8.1a"><mfrac id="S3.SS3.SSS0.Px1.p2.8.m8.1.1" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.cmml"><mn id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.2" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.2.cmml">1</mn><msub id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.2" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.2.cmml">τ</mi><mrow id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.2" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.2.cmml">m</mi><mo id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.3" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.3.cmml">a</mi><mo id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1a" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.4" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.4.cmml">x</mi></mrow></msub></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.8.m8.1b"><apply id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1"><divide id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1"></divide><cn id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.2.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.2">1</cn><apply id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.2">𝜏</ci><apply id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3"><times id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.1"></times><ci id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.2">𝑚</ci><ci id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.3">𝑎</ci><ci id="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.4.cmml" xref="S3.SS3.SSS0.Px1.p2.8.m8.1.1.3.3.4">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.8.m8.1c">\frac{1}{\tau_{max}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.8.m8.1d">divide start_ARG 1 end_ARG start_ARG italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT end_ARG</annotation></semantics></math> to <math alttext="\tau_{max}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.9.m9.1"><semantics id="S3.SS3.SSS0.Px1.p2.9.m9.1a"><msub id="S3.SS3.SSS0.Px1.p2.9.m9.1.1" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.2" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.2.cmml">τ</mi><mrow id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.2" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.2.cmml">m</mi><mo id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.3" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.3.cmml">a</mi><mo id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1a" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.4" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.9.m9.1b"><apply id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.2">𝜏</ci><apply id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3"><times id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.2">𝑚</ci><ci id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.3">𝑎</ci><ci id="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px1.p2.9.m9.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.9.m9.1c">\tau_{max}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p2.9.m9.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math>. This dynamic adjustment aids the model in cyclically exploring memories while simultaneously exploiting activated memories. During the training process, the mask undergoes a gradual polarization, resulting in the occupation of useful memories.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSS0.Px1.p3">
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p3.2">The embedding is initialized with <math alttext="\alpha m^{G}-|\mathcal{N}(0,1)|" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p3.1.m1.3"><semantics id="S3.SS3.SSS0.Px1.p3.1.m1.3a"><mrow id="S3.SS3.SSS0.Px1.p3.1.m1.3.3" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.cmml"><mrow id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.cmml"><mi id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.2.cmml">α</mi><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.1" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.1.cmml">⁢</mo><msup id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.cmml"><mi id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.2.cmml">m</mi><mi id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.3" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.3.cmml">G</mi></msup></mrow><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.2.cmml">−</mo><mrow id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.2.cmml"><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.2" stretchy="false" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.2.1.cmml">|</mo><mrow id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.2.cmml">𝒩</mi><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.1" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.cmml">⁢</mo><mrow id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.1.cmml"><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.2.1" stretchy="false" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.1.cmml">(</mo><mn id="S3.SS3.SSS0.Px1.p3.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p3.1.m1.1.1.cmml">0</mn><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.2.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.1.cmml">,</mo><mn id="S3.SS3.SSS0.Px1.p3.1.m1.2.2" xref="S3.SS3.SSS0.Px1.p3.1.m1.2.2.cmml">1</mn><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.2.3" stretchy="false" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.3" stretchy="false" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p3.1.m1.3b"><apply id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3"><minus id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.2"></minus><apply id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3"><times id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.1"></times><ci id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.2">𝛼</ci><apply id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3">superscript</csymbol><ci id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.2">𝑚</ci><ci id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.3.3.3">𝐺</ci></apply></apply><apply id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.2.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1"><abs id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.2"></abs><apply id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1"><times id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.1"></times><ci id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.2">𝒩</ci><interval closure="open" id="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.2"><cn id="S3.SS3.SSS0.Px1.p3.1.m1.1.1.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p3.1.m1.1.1">0</cn><cn id="S3.SS3.SSS0.Px1.p3.1.m1.2.2.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p3.1.m1.2.2">1</cn></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p3.1.m1.3c">\alpha m^{G}-|\mathcal{N}(0,1)|</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p3.1.m1.3d">italic_α italic_m start_POSTSUPERSCRIPT italic_G end_POSTSUPERSCRIPT - | caligraphic_N ( 0 , 1 ) |</annotation></semantics></math>, where <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p3.2.m2.1"><semantics id="S3.SS3.SSS0.Px1.p3.2.m2.1a"><mi id="S3.SS3.SSS0.Px1.p3.2.m2.1.1" xref="S3.SS3.SSS0.Px1.p3.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p3.2.m2.1b"><ci id="S3.SS3.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px1.p3.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p3.2.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px1.p3.2.m2.1d">italic_α</annotation></semantics></math> is a constant. This initialization enables the new domain to harness all the insights from the general domain’s memories. Simultaneously, it initializes the excess capacity usage to zero at the outset of training, fostering minimal capacity utilization. Upon model convergence, we archive the acquired mask for future utilization.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS3.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Applying task mask to safeguard ‘read-only’ memory.</h4>
<div class="ltx_para" id="S3.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS3.SSS0.Px2.p1.2">To tackle the challenge of CF, our approach involves leveraging task masks acquired from previous tasks to influence the gradient. Before learning a new task, denoted as <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS3.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.1.m1.1d">italic_t</annotation></semantics></math>, we aggregate all task masks from preceding tasks using an element-wise max (EMAX) operation and subsequently binarize the result with a threshold <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS3.SSS0.Px2.p1.2.m2.1a"><mi id="S3.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.2.m2.1b"><ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.2.m2.1d">italic_λ</annotation></semantics></math>, as expressed by the following equation:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="m_{l}^{&lt;t}=\operatorname{I}_{\lambda}(\operatorname{EMAX}_{j&lt;t}\{m_{l}^{j}\})" class="ltx_Math" display="block" id="S3.E7.m1.2"><semantics id="S3.E7.m1.2a"><mrow id="S3.E7.m1.2.2" xref="S3.E7.m1.2.2.cmml"><msubsup id="S3.E7.m1.2.2.4" xref="S3.E7.m1.2.2.4.cmml"><mi id="S3.E7.m1.2.2.4.2.2" xref="S3.E7.m1.2.2.4.2.2.cmml">m</mi><mi id="S3.E7.m1.2.2.4.2.3" xref="S3.E7.m1.2.2.4.2.3.cmml">l</mi><mrow id="S3.E7.m1.2.2.4.3" xref="S3.E7.m1.2.2.4.3.cmml"><mi id="S3.E7.m1.2.2.4.3.2" xref="S3.E7.m1.2.2.4.3.2.cmml"></mi><mo id="S3.E7.m1.2.2.4.3.1" xref="S3.E7.m1.2.2.4.3.1.cmml">&lt;</mo><mi id="S3.E7.m1.2.2.4.3.3" xref="S3.E7.m1.2.2.4.3.3.cmml">t</mi></mrow></msubsup><mo id="S3.E7.m1.2.2.3" xref="S3.E7.m1.2.2.3.cmml">=</mo><mrow id="S3.E7.m1.2.2.2.2" xref="S3.E7.m1.2.2.2.3.cmml"><msub id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.1.2" mathvariant="normal" xref="S3.E7.m1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.3.cmml">λ</mi></msub><mo id="S3.E7.m1.2.2.2.2a" xref="S3.E7.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E7.m1.2.2.2.2.2" xref="S3.E7.m1.2.2.2.3.cmml"><mo id="S3.E7.m1.2.2.2.2.2.2" stretchy="false" xref="S3.E7.m1.2.2.2.3.cmml">(</mo><mrow id="S3.E7.m1.2.2.2.2.2.1.2" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml"><msub id="S3.E7.m1.2.2.2.2.2.1.1.1" xref="S3.E7.m1.2.2.2.2.2.1.1.1.cmml"><mi id="S3.E7.m1.2.2.2.2.2.1.1.1.2" xref="S3.E7.m1.2.2.2.2.2.1.1.1.2.cmml">EMAX</mi><mrow id="S3.E7.m1.2.2.2.2.2.1.1.1.3" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.cmml"><mi id="S3.E7.m1.2.2.2.2.2.1.1.1.3.2" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.2.cmml">j</mi><mo id="S3.E7.m1.2.2.2.2.2.1.1.1.3.1" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E7.m1.2.2.2.2.2.1.1.1.3.3" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="S3.E7.m1.2.2.2.2.2.1.2a" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml">⁡</mo><mrow id="S3.E7.m1.2.2.2.2.2.1.2.2" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml"><mo id="S3.E7.m1.2.2.2.2.2.1.2.2.2" stretchy="false" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml">{</mo><msubsup id="S3.E7.m1.2.2.2.2.2.1.2.2.1" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.cmml"><mi id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.2" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.2.cmml">m</mi><mi id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.3" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.3.cmml">l</mi><mi id="S3.E7.m1.2.2.2.2.2.1.2.2.1.3" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.3.cmml">j</mi></msubsup><mo id="S3.E7.m1.2.2.2.2.2.1.2.2.3" stretchy="false" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml">}</mo></mrow></mrow><mo id="S3.E7.m1.2.2.2.2.2.3" stretchy="false" xref="S3.E7.m1.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.2b"><apply id="S3.E7.m1.2.2.cmml" xref="S3.E7.m1.2.2"><eq id="S3.E7.m1.2.2.3.cmml" xref="S3.E7.m1.2.2.3"></eq><apply id="S3.E7.m1.2.2.4.cmml" xref="S3.E7.m1.2.2.4"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.4.1.cmml" xref="S3.E7.m1.2.2.4">superscript</csymbol><apply id="S3.E7.m1.2.2.4.2.cmml" xref="S3.E7.m1.2.2.4"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.4.2.1.cmml" xref="S3.E7.m1.2.2.4">subscript</csymbol><ci id="S3.E7.m1.2.2.4.2.2.cmml" xref="S3.E7.m1.2.2.4.2.2">𝑚</ci><ci id="S3.E7.m1.2.2.4.2.3.cmml" xref="S3.E7.m1.2.2.4.2.3">𝑙</ci></apply><apply id="S3.E7.m1.2.2.4.3.cmml" xref="S3.E7.m1.2.2.4.3"><lt id="S3.E7.m1.2.2.4.3.1.cmml" xref="S3.E7.m1.2.2.4.3.1"></lt><csymbol cd="latexml" id="S3.E7.m1.2.2.4.3.2.cmml" xref="S3.E7.m1.2.2.4.3.2">absent</csymbol><ci id="S3.E7.m1.2.2.4.3.3.cmml" xref="S3.E7.m1.2.2.4.3.3">𝑡</ci></apply></apply><apply id="S3.E7.m1.2.2.2.3.cmml" xref="S3.E7.m1.2.2.2.2"><apply id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.2">I</ci><ci id="S3.E7.m1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3">𝜆</ci></apply><apply id="S3.E7.m1.2.2.2.2.2.1.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2"><apply id="S3.E7.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1.2">EMAX</ci><apply id="S3.E7.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3"><lt id="S3.E7.m1.2.2.2.2.2.1.1.1.3.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.1"></lt><ci id="S3.E7.m1.2.2.2.2.2.1.1.1.3.2.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.2">𝑗</ci><ci id="S3.E7.m1.2.2.2.2.2.1.1.1.3.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1.1.3.3">𝑡</ci></apply></apply><apply id="S3.E7.m1.2.2.2.2.2.1.2.2.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.2.1.2.2.1.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1">superscript</csymbol><apply id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.2.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.2">𝑚</ci><ci id="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.2.3">𝑙</ci></apply><ci id="S3.E7.m1.2.2.2.2.2.1.2.2.1.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2.2.1.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.2c">m_{l}^{&lt;t}=\operatorname{I}_{\lambda}(\operatorname{EMAX}_{j&lt;t}\{m_{l}^{j}\})</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.2d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT &lt; italic_t end_POSTSUPERSCRIPT = roman_I start_POSTSUBSCRIPT italic_λ end_POSTSUBSCRIPT ( roman_EMAX start_POSTSUBSCRIPT italic_j &lt; italic_t end_POSTSUBSCRIPT { italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT } )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS0.Px2.p1.6">Here, the subscript <math alttext="l" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.3.m1.1"><semantics id="S3.SS3.SSS0.Px2.p1.3.m1.1a"><mi id="S3.SS3.SSS0.Px2.p1.3.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.3.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.3.m1.1b"><ci id="S3.SS3.SSS0.Px2.p1.3.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.3.m1.1c">l</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.3.m1.1d">italic_l</annotation></semantics></math> denotes the layer index. In this specific context, task 0 corresponds to the general domain translation task, and the associated mask derived from structural pruning for the general domain is denoted as <math alttext="m^{0}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.4.m2.1"><semantics id="S3.SS3.SSS0.Px2.p1.4.m2.1a"><msup id="S3.SS3.SSS0.Px2.p1.4.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1.cmml"><mi id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.2" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1.2.cmml">m</mi><mn id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.3" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.4.m2.1b"><apply id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1">superscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1.2">𝑚</ci><cn id="S3.SS3.SSS0.Px2.p1.4.m2.1.1.3.cmml" type="integer" xref="S3.SS3.SSS0.Px2.p1.4.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.4.m2.1c">m^{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.4.m2.1d">italic_m start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT</annotation></semantics></math>. The aggregated binary mask <math alttext="m_{l}^{&lt;t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.5.m3.1"><semantics id="S3.SS3.SSS0.Px2.p1.5.m3.1a"><msubsup id="S3.SS3.SSS0.Px2.p1.5.m3.1.1" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.cmml"><mi id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.2" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.2.cmml">m</mi><mi id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.3" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.3.cmml">l</mi><mrow id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.2.cmml"></mi><mo id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.1.cmml">&lt;</mo><mi id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.3.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.5.m3.1b"><apply id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.2">𝑚</ci><ci id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.2.3">𝑙</ci></apply><apply id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3"><lt id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.1"></lt><csymbol cd="latexml" id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.2">absent</csymbol><ci id="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.5.m3.1c">m_{l}^{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.5.m3.1d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT &lt; italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> encapsulates critical memories designated as ‘read-only’ by previous tasks. The primary objective is to safeguard the parameters in these memories, preserving their functionality for previous tasks. To achieve this, we utilize the mask to adjust the gradient during the training of task <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.6.m4.1"><semantics id="S3.SS3.SSS0.Px2.p1.6.m4.1a"><mi id="S3.SS3.SSS0.Px2.p1.6.m4.1.1" xref="S3.SS3.SSS0.Px2.p1.6.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.6.m4.1b"><ci id="S3.SS3.SSS0.Px2.p1.6.m4.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.6.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.6.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.6.m4.1d">italic_t</annotation></semantics></math>, as articulated in the following equation:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="g_{l}^{{}^{\prime}t}=g_{l}^{t}\odot(1-m_{l}^{&lt;t})" class="ltx_Math" display="block" id="S3.E8.m1.1"><semantics id="S3.E8.m1.1a"><mrow id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml"><msubsup id="S3.E8.m1.1.1.3" xref="S3.E8.m1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.3.2.2" xref="S3.E8.m1.1.1.3.2.2.cmml">g</mi><mi id="S3.E8.m1.1.1.3.2.3" xref="S3.E8.m1.1.1.3.2.3.cmml">l</mi><mmultiscripts id="S3.E8.m1.1.1.3.3" xref="S3.E8.m1.1.1.3.3.cmml"><mi id="S3.E8.m1.1.1.3.3.2" xref="S3.E8.m1.1.1.3.3.2.cmml">t</mi><mprescripts id="S3.E8.m1.1.1.3.3a" xref="S3.E8.m1.1.1.3.3.cmml"></mprescripts><mrow id="S3.E8.m1.1.1.3.3b" xref="S3.E8.m1.1.1.3.3.cmml"></mrow><mo id="S3.E8.m1.1.1.3.3.3" xref="S3.E8.m1.1.1.3.3.3.cmml">′</mo></mmultiscripts></msubsup><mo id="S3.E8.m1.1.1.2" xref="S3.E8.m1.1.1.2.cmml">=</mo><mrow id="S3.E8.m1.1.1.1" xref="S3.E8.m1.1.1.1.cmml"><msubsup id="S3.E8.m1.1.1.1.3" xref="S3.E8.m1.1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.1.3.2.2" xref="S3.E8.m1.1.1.1.3.2.2.cmml">g</mi><mi id="S3.E8.m1.1.1.1.3.2.3" xref="S3.E8.m1.1.1.1.3.2.3.cmml">l</mi><mi id="S3.E8.m1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.3.3.cmml">t</mi></msubsup><mo id="S3.E8.m1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E8.m1.1.1.1.2.cmml">⊙</mo><mrow id="S3.E8.m1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.cmml"><mo id="S3.E8.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.cmml"><mn id="S3.E8.m1.1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E8.m1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E8.m1.1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.3.2.2" xref="S3.E8.m1.1.1.1.1.1.1.3.2.2.cmml">m</mi><mi id="S3.E8.m1.1.1.1.1.1.1.3.2.3" xref="S3.E8.m1.1.1.1.1.1.1.3.2.3.cmml">l</mi><mrow id="S3.E8.m1.1.1.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.3.3.2" xref="S3.E8.m1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E8.m1.1.1.1.1.1.1.3.3.1" xref="S3.E8.m1.1.1.1.1.1.1.3.3.1.cmml">&lt;</mo><mi id="S3.E8.m1.1.1.1.1.1.1.3.3.3" xref="S3.E8.m1.1.1.1.1.1.1.3.3.3.cmml">t</mi></mrow></msubsup></mrow><mo id="S3.E8.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1"><eq id="S3.E8.m1.1.1.2.cmml" xref="S3.E8.m1.1.1.2"></eq><apply id="S3.E8.m1.1.1.3.cmml" xref="S3.E8.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.3">superscript</csymbol><apply id="S3.E8.m1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.3.2.2">𝑔</ci><ci id="S3.E8.m1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.3.2.3">𝑙</ci></apply><apply id="S3.E8.m1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.3.1.cmml" xref="S3.E8.m1.1.1.3.3">superscript</csymbol><ci id="S3.E8.m1.1.1.3.3.2.cmml" xref="S3.E8.m1.1.1.3.3.2">𝑡</ci><ci id="S3.E8.m1.1.1.3.3.3.cmml" xref="S3.E8.m1.1.1.3.3.3">′</ci></apply></apply><apply id="S3.E8.m1.1.1.1.cmml" xref="S3.E8.m1.1.1.1"><csymbol cd="latexml" id="S3.E8.m1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.2">direct-product</csymbol><apply id="S3.E8.m1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.3">superscript</csymbol><apply id="S3.E8.m1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.1.3.2.2">𝑔</ci><ci id="S3.E8.m1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.E8.m1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E8.m1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1"><minus id="S3.E8.m1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1"></minus><cn id="S3.E8.m1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E8.m1.1.1.1.1.1.1.2">1</cn><apply id="S3.E8.m1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E8.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.2.2">𝑚</ci><ci id="S3.E8.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><apply id="S3.E8.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.3"><lt id="S3.E8.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E8.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">g_{l}^{{}^{\prime}t}=g_{l}^{t}\odot(1-m_{l}^{&lt;t})</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.1d">italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT start_FLOATSUPERSCRIPT ′ end_FLOATSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ⊙ ( 1 - italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT &lt; italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS0.Px2.p1.8">where <math alttext="\odot" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.7.m1.1"><semantics id="S3.SS3.SSS0.Px2.p1.7.m1.1a"><mo id="S3.SS3.SSS0.Px2.p1.7.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.7.m1.1.1.cmml">⊙</mo><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.7.m1.1b"><csymbol cd="latexml" id="S3.SS3.SSS0.Px2.p1.7.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.7.m1.1.1">direct-product</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.7.m1.1c">\odot</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.7.m1.1d">⊙</annotation></semantics></math> denotes the Hadamard product. This modification guarantees that memories crucial for previous tasks (entries with a value of 1 in <math alttext="m_{l}^{&lt;t}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.8.m2.1"><semantics id="S3.SS3.SSS0.Px2.p1.8.m2.1a"><msubsup id="S3.SS3.SSS0.Px2.p1.8.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.cmml"><mi id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.2" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.2.cmml">m</mi><mi id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.3" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.3.cmml">l</mi><mrow id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.2.cmml"></mi><mo id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.1.cmml">&lt;</mo><mi id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.3.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.8.m2.1b"><apply id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1">superscript</csymbol><apply id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.2.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.2">𝑚</ci><ci id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.3.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.2.3">𝑙</ci></apply><apply id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3"><lt id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.1"></lt><csymbol cd="latexml" id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.2">absent</csymbol><ci id="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m2.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.8.m2.1c">m_{l}^{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS0.Px2.p1.8.m2.1d">italic_m start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT &lt; italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>) will have near zero gradients, thereby ensuring their preservation during the training of subsequent tasks.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In our multi-stage CL experiments for NMT systems, we finetune a pretrained general domain model on <math alttext="T" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><mi id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">T</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">italic_T</annotation></semantics></math> new domains successively<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>In our experiments, a task is a domain. Hence, we use task and domain interchangeably.</span></span></span>. The pretrained model is based on the WMT’19 German-English news translation task winner <cite class="ltx_cite ltx_citemacro_citep">(Ng et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib26" title="">2019</a>)</cite>. To neutralize the impact of task order, we randomly generate five task order sequences and report the average result.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Data Preparation</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In the context of structure pruning, we employ the WMT14 de-en translation data<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://www.statmt.org/wmt14/translation-task.html</span></span></span> as the external dataset. Additionally, we combine the WMT newstest datasets from 2019 to 2021<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>https://www.statmt.org/</span></span></span> to form a comprehensive general domain test set.
For the continual domain adaptation experiments, we utilize the OPUS multi-domains dataset <cite class="ltx_cite ltx_citemacro_citep">(Koehn and Knowles, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib19" title="">2017</a>)</cite>, which has been re-split by <cite class="ltx_cite ltx_citemacro_citet">Aharoni and Goldberg (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib1" title="">2020</a>)</cite>. It includes German-English parallel data in five domains: Medical, Law, IT, Koran and Subtitles.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">The details of all datasets mentioned above are shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A1" title="Appendix A Dataset Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Baseline and Implementation Details</h3>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Baseline systems.</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.1">We incorporate eight competitive methods for comparison in our experiments, which can be categorized into two groups: Non-Continual Learning (Non-CL) methods and CL methods. In the Non-CL category, <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.1">(1) Single-domain</span> and <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.2">(2) Mixed-domain</span> directly finetune the pretrained model on single or mixed domain data, achieving the <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.3">upper bound</span> performance. <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.4">(3) Adapter <cite class="ltx_cite ltx_citemacro_citep">(Bapna and Firat, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib3" title="">2019</a>)</cite></span> inserts Adapters on each transformer block of the general domain model. In the CL category, we have <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.5">(4) Sequential Fine-tuning</span> continual finetunes the pretrained model sequentially; <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.6">(5) EWC <cite class="ltx_cite ltx_citemacro_citep">(Thompson et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib34" title="">2019</a>; Saunders et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib29" title="">2019</a>)</cite></span> adds elastic weight consolidation term to regularize loss; <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.7">(6) KD<cite class="ltx_cite ltx_citemacro_citep">(Khayrallah et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib17" title="">2018</a>; Dakwale and Monz, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib7" title="">2017</a>)</cite></span> use knowledge distillation to transfer knowledge; <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.8">(7) Dynamic-KD<cite class="ltx_cite ltx_citemacro_citep">(Cao et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib4" title="">2021</a>)</cite></span> involves dynamic adjustments to the weight of KD loss. <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS0.Px1.p1.1.9">(8) PTE<cite class="ltx_cite ltx_citemacro_citep">(Gu et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib12" title="">2021</a>)</cite></span> prune the general domain model and learn target domain with free parameters. We have extended the baseline method designed for a single stage to multiple stages. Further details on these methods can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2.T7" title="Table 7 ‣ Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">7</span></a>.
</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Implementation detail.</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.3">In our proposed method, we exclusively finetune the Feed-forward layers in Transformers, keeping all other modules frozen throughout the procedure. During the structure pruning stage, we set the pruning sparsity to 0.2 for subsequent CL experiments (the same pruning sparsity is also used in PTE for fair comparison). When computing the proposed JS loss, we only activate the default dropout module for feed-forward activation. In the CL stage, the temperature hyperparameter <math alttext="\tau_{max}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px2.p1.1.m1.1a"><msub id="S4.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">τ</mi><mrow id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">m</mi><mo id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">a</mi><mo id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1a" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.4" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.2">𝜏</ci><apply id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3"><times id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.1"></times><ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.2">𝑚</ci><ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.3">𝑎</ci><ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.4.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.1.m1.1c">\tau_{max}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math> is set to 400, following previous work <cite class="ltx_cite ltx_citemacro_citep">(Serrà et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib31" title="">2018</a>)</cite>. We use <math alttext="\alpha=5.0" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px2.p1.2.m2.1a"><mrow id="S4.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">α</mi><mo id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">5.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1"><eq id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝛼</ci><cn id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" type="float" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3">5.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.2.m2.1c">\alpha=5.0</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.2.m2.1d">italic_α = 5.0</annotation></semantics></math> in the embedding initialization. The binarize threshold <math alttext="\lambda" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.3.m3.1"><semantics id="S4.SS2.SSS0.Px2.p1.3.m3.1a"><mi id="S4.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.3.m3.1b"><ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.3.m3.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.3.m3.1d">italic_λ</annotation></semantics></math> in Eq.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S3.E7" title="7 ‣ Applying task mask to safeguard ‘read-only’ memory. ‣ 3.3 Learning New Domain Continually ‣ 3 Methods ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">7</span></a> is set to 0.5. For more details please refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A3" title="Appendix C Implementation Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Metrics</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">We adopt the BLEU score to evaluate the translation performance. Recognizing that post-training BLEU may not sufficiently capture the nuances in multi-stage CL, we introduce two additional metrics: <span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.1">Forgetting Ratio (FR)</span> and <span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.2">Saturation Ratio (SR)</span>.</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.4">Inspired by <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib24" title="">2020</a>)</cite>, FR is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname{FR}^{t}=\frac{1}{t-1}\sum_{i=1}^{t-1}\frac{a_{i}^{i}-a_{i}^{t}}{%
a_{i}^{i}}" class="ltx_Math" display="block" id="S4.E9.m1.1"><semantics id="S4.E9.m1.1a"><mrow id="S4.E9.m1.1.1" xref="S4.E9.m1.1.1.cmml"><msup id="S4.E9.m1.1.1.2" xref="S4.E9.m1.1.1.2.cmml"><mi id="S4.E9.m1.1.1.2.2" xref="S4.E9.m1.1.1.2.2.cmml">FR</mi><mi id="S4.E9.m1.1.1.2.3" xref="S4.E9.m1.1.1.2.3.cmml">t</mi></msup><mo id="S4.E9.m1.1.1.1" xref="S4.E9.m1.1.1.1.cmml">=</mo><mrow id="S4.E9.m1.1.1.3" xref="S4.E9.m1.1.1.3.cmml"><mfrac id="S4.E9.m1.1.1.3.2" xref="S4.E9.m1.1.1.3.2.cmml"><mn id="S4.E9.m1.1.1.3.2.2" xref="S4.E9.m1.1.1.3.2.2.cmml">1</mn><mrow id="S4.E9.m1.1.1.3.2.3" xref="S4.E9.m1.1.1.3.2.3.cmml"><mi id="S4.E9.m1.1.1.3.2.3.2" xref="S4.E9.m1.1.1.3.2.3.2.cmml">t</mi><mo id="S4.E9.m1.1.1.3.2.3.1" xref="S4.E9.m1.1.1.3.2.3.1.cmml">−</mo><mn id="S4.E9.m1.1.1.3.2.3.3" xref="S4.E9.m1.1.1.3.2.3.3.cmml">1</mn></mrow></mfrac><mo id="S4.E9.m1.1.1.3.1" xref="S4.E9.m1.1.1.3.1.cmml">⁢</mo><mrow id="S4.E9.m1.1.1.3.3" xref="S4.E9.m1.1.1.3.3.cmml"><munderover id="S4.E9.m1.1.1.3.3.1" xref="S4.E9.m1.1.1.3.3.1.cmml"><mo id="S4.E9.m1.1.1.3.3.1.2.2" movablelimits="false" xref="S4.E9.m1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S4.E9.m1.1.1.3.3.1.2.3" xref="S4.E9.m1.1.1.3.3.1.2.3.cmml"><mi id="S4.E9.m1.1.1.3.3.1.2.3.2" xref="S4.E9.m1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S4.E9.m1.1.1.3.3.1.2.3.1" xref="S4.E9.m1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S4.E9.m1.1.1.3.3.1.2.3.3" xref="S4.E9.m1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mrow id="S4.E9.m1.1.1.3.3.1.3" xref="S4.E9.m1.1.1.3.3.1.3.cmml"><mi id="S4.E9.m1.1.1.3.3.1.3.2" xref="S4.E9.m1.1.1.3.3.1.3.2.cmml">t</mi><mo id="S4.E9.m1.1.1.3.3.1.3.1" xref="S4.E9.m1.1.1.3.3.1.3.1.cmml">−</mo><mn id="S4.E9.m1.1.1.3.3.1.3.3" xref="S4.E9.m1.1.1.3.3.1.3.3.cmml">1</mn></mrow></munderover><mfrac id="S4.E9.m1.1.1.3.3.2" xref="S4.E9.m1.1.1.3.3.2.cmml"><mrow id="S4.E9.m1.1.1.3.3.2.2" xref="S4.E9.m1.1.1.3.3.2.2.cmml"><msubsup id="S4.E9.m1.1.1.3.3.2.2.2" xref="S4.E9.m1.1.1.3.3.2.2.2.cmml"><mi id="S4.E9.m1.1.1.3.3.2.2.2.2.2" xref="S4.E9.m1.1.1.3.3.2.2.2.2.2.cmml">a</mi><mi id="S4.E9.m1.1.1.3.3.2.2.2.2.3" xref="S4.E9.m1.1.1.3.3.2.2.2.2.3.cmml">i</mi><mi id="S4.E9.m1.1.1.3.3.2.2.2.3" xref="S4.E9.m1.1.1.3.3.2.2.2.3.cmml">i</mi></msubsup><mo id="S4.E9.m1.1.1.3.3.2.2.1" xref="S4.E9.m1.1.1.3.3.2.2.1.cmml">−</mo><msubsup id="S4.E9.m1.1.1.3.3.2.2.3" xref="S4.E9.m1.1.1.3.3.2.2.3.cmml"><mi id="S4.E9.m1.1.1.3.3.2.2.3.2.2" xref="S4.E9.m1.1.1.3.3.2.2.3.2.2.cmml">a</mi><mi id="S4.E9.m1.1.1.3.3.2.2.3.2.3" xref="S4.E9.m1.1.1.3.3.2.2.3.2.3.cmml">i</mi><mi id="S4.E9.m1.1.1.3.3.2.2.3.3" xref="S4.E9.m1.1.1.3.3.2.2.3.3.cmml">t</mi></msubsup></mrow><msubsup id="S4.E9.m1.1.1.3.3.2.3" xref="S4.E9.m1.1.1.3.3.2.3.cmml"><mi id="S4.E9.m1.1.1.3.3.2.3.2.2" xref="S4.E9.m1.1.1.3.3.2.3.2.2.cmml">a</mi><mi id="S4.E9.m1.1.1.3.3.2.3.2.3" xref="S4.E9.m1.1.1.3.3.2.3.2.3.cmml">i</mi><mi id="S4.E9.m1.1.1.3.3.2.3.3" xref="S4.E9.m1.1.1.3.3.2.3.3.cmml">i</mi></msubsup></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E9.m1.1b"><apply id="S4.E9.m1.1.1.cmml" xref="S4.E9.m1.1.1"><eq id="S4.E9.m1.1.1.1.cmml" xref="S4.E9.m1.1.1.1"></eq><apply id="S4.E9.m1.1.1.2.cmml" xref="S4.E9.m1.1.1.2"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.2.1.cmml" xref="S4.E9.m1.1.1.2">superscript</csymbol><ci id="S4.E9.m1.1.1.2.2.cmml" xref="S4.E9.m1.1.1.2.2">FR</ci><ci id="S4.E9.m1.1.1.2.3.cmml" xref="S4.E9.m1.1.1.2.3">𝑡</ci></apply><apply id="S4.E9.m1.1.1.3.cmml" xref="S4.E9.m1.1.1.3"><times id="S4.E9.m1.1.1.3.1.cmml" xref="S4.E9.m1.1.1.3.1"></times><apply id="S4.E9.m1.1.1.3.2.cmml" xref="S4.E9.m1.1.1.3.2"><divide id="S4.E9.m1.1.1.3.2.1.cmml" xref="S4.E9.m1.1.1.3.2"></divide><cn id="S4.E9.m1.1.1.3.2.2.cmml" type="integer" xref="S4.E9.m1.1.1.3.2.2">1</cn><apply id="S4.E9.m1.1.1.3.2.3.cmml" xref="S4.E9.m1.1.1.3.2.3"><minus id="S4.E9.m1.1.1.3.2.3.1.cmml" xref="S4.E9.m1.1.1.3.2.3.1"></minus><ci id="S4.E9.m1.1.1.3.2.3.2.cmml" xref="S4.E9.m1.1.1.3.2.3.2">𝑡</ci><cn id="S4.E9.m1.1.1.3.2.3.3.cmml" type="integer" xref="S4.E9.m1.1.1.3.2.3.3">1</cn></apply></apply><apply id="S4.E9.m1.1.1.3.3.cmml" xref="S4.E9.m1.1.1.3.3"><apply id="S4.E9.m1.1.1.3.3.1.cmml" xref="S4.E9.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.1.1.cmml" xref="S4.E9.m1.1.1.3.3.1">superscript</csymbol><apply id="S4.E9.m1.1.1.3.3.1.2.cmml" xref="S4.E9.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.1.2.1.cmml" xref="S4.E9.m1.1.1.3.3.1">subscript</csymbol><sum id="S4.E9.m1.1.1.3.3.1.2.2.cmml" xref="S4.E9.m1.1.1.3.3.1.2.2"></sum><apply id="S4.E9.m1.1.1.3.3.1.2.3.cmml" xref="S4.E9.m1.1.1.3.3.1.2.3"><eq id="S4.E9.m1.1.1.3.3.1.2.3.1.cmml" xref="S4.E9.m1.1.1.3.3.1.2.3.1"></eq><ci id="S4.E9.m1.1.1.3.3.1.2.3.2.cmml" xref="S4.E9.m1.1.1.3.3.1.2.3.2">𝑖</ci><cn id="S4.E9.m1.1.1.3.3.1.2.3.3.cmml" type="integer" xref="S4.E9.m1.1.1.3.3.1.2.3.3">1</cn></apply></apply><apply id="S4.E9.m1.1.1.3.3.1.3.cmml" xref="S4.E9.m1.1.1.3.3.1.3"><minus id="S4.E9.m1.1.1.3.3.1.3.1.cmml" xref="S4.E9.m1.1.1.3.3.1.3.1"></minus><ci id="S4.E9.m1.1.1.3.3.1.3.2.cmml" xref="S4.E9.m1.1.1.3.3.1.3.2">𝑡</ci><cn id="S4.E9.m1.1.1.3.3.1.3.3.cmml" type="integer" xref="S4.E9.m1.1.1.3.3.1.3.3">1</cn></apply></apply><apply id="S4.E9.m1.1.1.3.3.2.cmml" xref="S4.E9.m1.1.1.3.3.2"><divide id="S4.E9.m1.1.1.3.3.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2"></divide><apply id="S4.E9.m1.1.1.3.3.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2"><minus id="S4.E9.m1.1.1.3.3.2.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2.2.1"></minus><apply id="S4.E9.m1.1.1.3.3.2.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.2.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2">superscript</csymbol><apply id="S4.E9.m1.1.1.3.3.2.2.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.2.2.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2">subscript</csymbol><ci id="S4.E9.m1.1.1.3.3.2.2.2.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2.2.2">𝑎</ci><ci id="S4.E9.m1.1.1.3.3.2.2.2.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2.2.3">𝑖</ci></apply><ci id="S4.E9.m1.1.1.3.3.2.2.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.2.2.3">𝑖</ci></apply><apply id="S4.E9.m1.1.1.3.3.2.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.2.3.1.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3">superscript</csymbol><apply id="S4.E9.m1.1.1.3.3.2.2.3.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.2.3.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3">subscript</csymbol><ci id="S4.E9.m1.1.1.3.3.2.2.3.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3.2.2">𝑎</ci><ci id="S4.E9.m1.1.1.3.3.2.2.3.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3.2.3">𝑖</ci></apply><ci id="S4.E9.m1.1.1.3.3.2.2.3.3.cmml" xref="S4.E9.m1.1.1.3.3.2.2.3.3">𝑡</ci></apply></apply><apply id="S4.E9.m1.1.1.3.3.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.3.1.cmml" xref="S4.E9.m1.1.1.3.3.2.3">superscript</csymbol><apply id="S4.E9.m1.1.1.3.3.2.3.2.cmml" xref="S4.E9.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.3.3.2.3.2.1.cmml" xref="S4.E9.m1.1.1.3.3.2.3">subscript</csymbol><ci id="S4.E9.m1.1.1.3.3.2.3.2.2.cmml" xref="S4.E9.m1.1.1.3.3.2.3.2.2">𝑎</ci><ci id="S4.E9.m1.1.1.3.3.2.3.2.3.cmml" xref="S4.E9.m1.1.1.3.3.2.3.2.3">𝑖</ci></apply><ci id="S4.E9.m1.1.1.3.3.2.3.3.cmml" xref="S4.E9.m1.1.1.3.3.2.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.1c">\operatorname{FR}^{t}=\frac{1}{t-1}\sum_{i=1}^{t-1}\frac{a_{i}^{i}-a_{i}^{t}}{%
a_{i}^{i}}</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.1d">roman_FR start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_t - 1 end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT divide start_ARG italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT - italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_ARG start_ARG italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.I1.i1.p1.3">where <math alttext="a_{i}^{j},\forall i\leq j" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.2"><semantics id="S4.I1.i1.p1.1.m1.2a"><mrow id="S4.I1.i1.p1.1.m1.2.2" xref="S4.I1.i1.p1.1.m1.2.2.cmml"><mrow id="S4.I1.i1.p1.1.m1.2.2.2.2" xref="S4.I1.i1.p1.1.m1.2.2.2.3.cmml"><msubsup id="S4.I1.i1.p1.1.m1.1.1.1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.2" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.3" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S4.I1.i1.p1.1.m1.1.1.1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml">j</mi></msubsup><mo id="S4.I1.i1.p1.1.m1.2.2.2.2.3" xref="S4.I1.i1.p1.1.m1.2.2.2.3.cmml">,</mo><mrow id="S4.I1.i1.p1.1.m1.2.2.2.2.2" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2.cmml"><mo id="S4.I1.i1.p1.1.m1.2.2.2.2.2.1" rspace="0.167em" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2.1.cmml">∀</mo><mi id="S4.I1.i1.p1.1.m1.2.2.2.2.2.2" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2.2.cmml">i</mi></mrow></mrow><mo id="S4.I1.i1.p1.1.m1.2.2.3" xref="S4.I1.i1.p1.1.m1.2.2.3.cmml">≤</mo><mi id="S4.I1.i1.p1.1.m1.2.2.4" xref="S4.I1.i1.p1.1.m1.2.2.4.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.2b"><apply id="S4.I1.i1.p1.1.m1.2.2.cmml" xref="S4.I1.i1.p1.1.m1.2.2"><leq id="S4.I1.i1.p1.1.m1.2.2.3.cmml" xref="S4.I1.i1.p1.1.m1.2.2.3"></leq><list id="S4.I1.i1.p1.1.m1.2.2.2.3.cmml" xref="S4.I1.i1.p1.1.m1.2.2.2.2"><apply id="S4.I1.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1">superscript</csymbol><apply id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.2">𝑎</ci><ci id="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1.1.1.3">𝑗</ci></apply><apply id="S4.I1.i1.p1.1.m1.2.2.2.2.2.cmml" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2"><csymbol cd="latexml" id="S4.I1.i1.p1.1.m1.2.2.2.2.2.1.cmml" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2.1">for-all</csymbol><ci id="S4.I1.i1.p1.1.m1.2.2.2.2.2.2.cmml" xref="S4.I1.i1.p1.1.m1.2.2.2.2.2.2">𝑖</ci></apply></list><ci id="S4.I1.i1.p1.1.m1.2.2.4.cmml" xref="S4.I1.i1.p1.1.m1.2.2.4">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.2c">a_{i}^{j},\forall i\leq j</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.2d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT , ∀ italic_i ≤ italic_j</annotation></semantics></math> represents the BLEU on the <math alttext="i" class="ltx_Math" display="inline" id="S4.I1.i1.p1.2.m2.1"><semantics id="S4.I1.i1.p1.2.m2.1a"><mi id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.1b"><ci id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.2.m2.1d">italic_i</annotation></semantics></math>-th domain after learning of <math alttext="j" class="ltx_Math" display="inline" id="S4.I1.i1.p1.3.m3.1"><semantics id="S4.I1.i1.p1.3.m3.1a"><mi id="S4.I1.i1.p1.3.m3.1.1" xref="S4.I1.i1.p1.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.3.m3.1b"><ci id="S4.I1.i1.p1.3.m3.1.1.cmml" xref="S4.I1.i1.p1.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.3.m3.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.3.m3.1d">italic_j</annotation></semantics></math>-th domain<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>This definition calculates the average proportion of performance degradation over all previously learned domains, excluding the latest one as it experiences no forgetting.</span></span></span>. This metric is employed to quantify the stability (the ability to prevent forgetting).</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.3">SR is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname{SR}^{t}=1-\frac{a_{t}^{t}}{a_{t}^{M}}" class="ltx_Math" display="block" id="S4.E10.m1.1"><semantics id="S4.E10.m1.1a"><mrow id="S4.E10.m1.1.1" xref="S4.E10.m1.1.1.cmml"><msup id="S4.E10.m1.1.1.2" xref="S4.E10.m1.1.1.2.cmml"><mi id="S4.E10.m1.1.1.2.2" xref="S4.E10.m1.1.1.2.2.cmml">SR</mi><mi id="S4.E10.m1.1.1.2.3" xref="S4.E10.m1.1.1.2.3.cmml">t</mi></msup><mo id="S4.E10.m1.1.1.1" xref="S4.E10.m1.1.1.1.cmml">=</mo><mrow id="S4.E10.m1.1.1.3" xref="S4.E10.m1.1.1.3.cmml"><mn id="S4.E10.m1.1.1.3.2" xref="S4.E10.m1.1.1.3.2.cmml">1</mn><mo id="S4.E10.m1.1.1.3.1" xref="S4.E10.m1.1.1.3.1.cmml">−</mo><mfrac id="S4.E10.m1.1.1.3.3" xref="S4.E10.m1.1.1.3.3.cmml"><msubsup id="S4.E10.m1.1.1.3.3.2" xref="S4.E10.m1.1.1.3.3.2.cmml"><mi id="S4.E10.m1.1.1.3.3.2.2.2" xref="S4.E10.m1.1.1.3.3.2.2.2.cmml">a</mi><mi id="S4.E10.m1.1.1.3.3.2.2.3" xref="S4.E10.m1.1.1.3.3.2.2.3.cmml">t</mi><mi id="S4.E10.m1.1.1.3.3.2.3" xref="S4.E10.m1.1.1.3.3.2.3.cmml">t</mi></msubsup><msubsup id="S4.E10.m1.1.1.3.3.3" xref="S4.E10.m1.1.1.3.3.3.cmml"><mi id="S4.E10.m1.1.1.3.3.3.2.2" xref="S4.E10.m1.1.1.3.3.3.2.2.cmml">a</mi><mi id="S4.E10.m1.1.1.3.3.3.2.3" xref="S4.E10.m1.1.1.3.3.3.2.3.cmml">t</mi><mi id="S4.E10.m1.1.1.3.3.3.3" xref="S4.E10.m1.1.1.3.3.3.3.cmml">M</mi></msubsup></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E10.m1.1b"><apply id="S4.E10.m1.1.1.cmml" xref="S4.E10.m1.1.1"><eq id="S4.E10.m1.1.1.1.cmml" xref="S4.E10.m1.1.1.1"></eq><apply id="S4.E10.m1.1.1.2.cmml" xref="S4.E10.m1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.2.1.cmml" xref="S4.E10.m1.1.1.2">superscript</csymbol><ci id="S4.E10.m1.1.1.2.2.cmml" xref="S4.E10.m1.1.1.2.2">SR</ci><ci id="S4.E10.m1.1.1.2.3.cmml" xref="S4.E10.m1.1.1.2.3">𝑡</ci></apply><apply id="S4.E10.m1.1.1.3.cmml" xref="S4.E10.m1.1.1.3"><minus id="S4.E10.m1.1.1.3.1.cmml" xref="S4.E10.m1.1.1.3.1"></minus><cn id="S4.E10.m1.1.1.3.2.cmml" type="integer" xref="S4.E10.m1.1.1.3.2">1</cn><apply id="S4.E10.m1.1.1.3.3.cmml" xref="S4.E10.m1.1.1.3.3"><divide id="S4.E10.m1.1.1.3.3.1.cmml" xref="S4.E10.m1.1.1.3.3"></divide><apply id="S4.E10.m1.1.1.3.3.2.cmml" xref="S4.E10.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.3.3.2.1.cmml" xref="S4.E10.m1.1.1.3.3.2">superscript</csymbol><apply id="S4.E10.m1.1.1.3.3.2.2.cmml" xref="S4.E10.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.3.3.2.2.1.cmml" xref="S4.E10.m1.1.1.3.3.2">subscript</csymbol><ci id="S4.E10.m1.1.1.3.3.2.2.2.cmml" xref="S4.E10.m1.1.1.3.3.2.2.2">𝑎</ci><ci id="S4.E10.m1.1.1.3.3.2.2.3.cmml" xref="S4.E10.m1.1.1.3.3.2.2.3">𝑡</ci></apply><ci id="S4.E10.m1.1.1.3.3.2.3.cmml" xref="S4.E10.m1.1.1.3.3.2.3">𝑡</ci></apply><apply id="S4.E10.m1.1.1.3.3.3.cmml" xref="S4.E10.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.3.3.3.1.cmml" xref="S4.E10.m1.1.1.3.3.3">superscript</csymbol><apply id="S4.E10.m1.1.1.3.3.3.2.cmml" xref="S4.E10.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.3.3.3.2.1.cmml" xref="S4.E10.m1.1.1.3.3.3">subscript</csymbol><ci id="S4.E10.m1.1.1.3.3.3.2.2.cmml" xref="S4.E10.m1.1.1.3.3.3.2.2">𝑎</ci><ci id="S4.E10.m1.1.1.3.3.3.2.3.cmml" xref="S4.E10.m1.1.1.3.3.3.2.3">𝑡</ci></apply><ci id="S4.E10.m1.1.1.3.3.3.3.cmml" xref="S4.E10.m1.1.1.3.3.3.3">𝑀</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.1c">\operatorname{SR}^{t}=1-\frac{a_{t}^{t}}{a_{t}^{M}}</annotation><annotation encoding="application/x-llamapun" id="S4.E10.m1.1d">roman_SR start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = 1 - divide start_ARG italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_ARG start_ARG italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.I1.i2.p1.2">where, <math alttext="a_{i}^{M}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><msubsup id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2.2" xref="S4.I1.i2.p1.1.m1.1.1.2.2.cmml">a</mi><mi id="S4.I1.i2.p1.1.m1.1.1.2.3" xref="S4.I1.i2.p1.1.m1.1.1.2.3.cmml">i</mi><mi id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">superscript</csymbol><apply id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.2.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2">𝑎</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">a_{i}^{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT</annotation></semantics></math> represents the BLEU of <math alttext="i" class="ltx_Math" display="inline" id="S4.I1.i2.p1.2.m2.1"><semantics id="S4.I1.i2.p1.2.m2.1a"><mi id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><ci id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.2.m2.1d">italic_i</annotation></semantics></math>-th domain in a mixed-domain training fashion, commonly regarded as the <span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.2.1">upper bound</span> of CL methods. The saturation rate highlights the system’s plasticity (learning ability) when encountering a new task, with a higher rate indicating lower plasticity.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.9" style="width:411.9pt;height:174.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-27.3pt,11.6pt) scale(0.882800374849505,0.882800374849505) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.9.9">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.9.9.10.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.9.9.10.1.1" rowspan="2"><span class="ltx_text" id="S4.T1.9.9.10.1.1.1">Category</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T1.9.9.10.1.2">Domain</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.3">General</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.4">IT</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.5">Koran</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.6">Law</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.7">Medical</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.8">Subtitles</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.9">Average</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.10" rowspan="2"><span class="ltx_text" id="S4.T1.9.9.10.1.10.1">FR[%]</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.1.11" rowspan="2"><span class="ltx_text" id="S4.T1.9.9.10.1.11.1">Additional storage</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.11.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.9.9.11.2.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="S4.T1.9.9.11.2.2">BLEU</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.1.1.1.2" rowspan="3"><span class="ltx_text" id="S4.T1.1.1.1.2.1">Non-CL</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.1.1.3">Single-domain</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.4">38.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.5.1">48.80</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.6">22.90</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.7">57.15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.8">55.93</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.9">32.01</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.10"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.10.1">42.47</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.11">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1.1"><math alttext="T\cdot M" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.m1.1a"><mrow id="S4.T1.1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.1.1.1.1.m1.1.1.2" xref="S4.T1.1.1.1.1.m1.1.1.2.cmml">T</mi><mo id="S4.T1.1.1.1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T1.1.1.1.1.m1.1.1.1.cmml">⋅</mo><mi id="S4.T1.1.1.1.1.m1.1.1.3" xref="S4.T1.1.1.1.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><apply id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1"><ci id="S4.T1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1.1">⋅</ci><ci id="S4.T1.1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.1.1.1.1.m1.1.1.2">𝑇</ci><ci id="S4.T1.1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.1.1.1.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">T\cdot M</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.m1.1d">italic_T ⋅ italic_M</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.2.2">
<td class="ltx_td ltx_align_left" id="S4.T1.2.2.2.2">Mixed-domain</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.3">21.24</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.4">46.17</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.5">22.97</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.6"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.2.6.1">60.35</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.7"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.2.7.1">55.98</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.8">29.87</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.9">39.43</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.10">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.1"><math alttext="0" class="ltx_Math" display="inline" id="S4.T1.2.2.2.1.m1.1"><semantics id="S4.T1.2.2.2.1.m1.1a"><mn id="S4.T1.2.2.2.1.m1.1.1" xref="S4.T1.2.2.2.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.1.m1.1b"><cn id="S4.T1.2.2.2.1.m1.1.1.cmml" type="integer" xref="S4.T1.2.2.2.1.m1.1.1">0</cn></annotation-xml></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.3.3">
<td class="ltx_td ltx_align_left" id="S4.T1.3.3.3.2">Adapter</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.3">38.00</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.4">44.09</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.5">22.48</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.6">53.31</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.7">51.23</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.8"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.3.8.1">32.05</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.9">40.19</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.10">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.1"><math alttext="T\cdot A" class="ltx_Math" display="inline" id="S4.T1.3.3.3.1.m1.1"><semantics id="S4.T1.3.3.3.1.m1.1a"><mrow id="S4.T1.3.3.3.1.m1.1.1" xref="S4.T1.3.3.3.1.m1.1.1.cmml"><mi id="S4.T1.3.3.3.1.m1.1.1.2" xref="S4.T1.3.3.3.1.m1.1.1.2.cmml">T</mi><mo id="S4.T1.3.3.3.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T1.3.3.3.1.m1.1.1.1.cmml">⋅</mo><mi id="S4.T1.3.3.3.1.m1.1.1.3" xref="S4.T1.3.3.3.1.m1.1.1.3.cmml">A</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.1.m1.1b"><apply id="S4.T1.3.3.3.1.m1.1.1.cmml" xref="S4.T1.3.3.3.1.m1.1.1"><ci id="S4.T1.3.3.3.1.m1.1.1.1.cmml" xref="S4.T1.3.3.3.1.m1.1.1.1">⋅</ci><ci id="S4.T1.3.3.3.1.m1.1.1.2.cmml" xref="S4.T1.3.3.3.1.m1.1.1.2">𝑇</ci><ci id="S4.T1.3.3.3.1.m1.1.1.3.cmml" xref="S4.T1.3.3.3.1.m1.1.1.3">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.3.1.m1.1c">T\cdot A</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.3.1.m1.1d">italic_T ⋅ italic_A</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.4.4">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.4.4.4.2" rowspan="6"><span class="ltx_text" id="S4.T1.4.4.4.2.1">CL</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.4.4.4.3">Seq-finetune</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.4">15.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.5">29.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.6">12.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.7">23.90</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.8">26.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.9">20.76</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.10">21.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.11">47.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.4.4.1"><math alttext="0" class="ltx_Math" display="inline" id="S4.T1.4.4.4.1.m1.1"><semantics id="S4.T1.4.4.4.1.m1.1a"><mn id="S4.T1.4.4.4.1.m1.1.1" xref="S4.T1.4.4.4.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.4.1.m1.1b"><cn id="S4.T1.4.4.4.1.m1.1.1.cmml" type="integer" xref="S4.T1.4.4.4.1.m1.1.1">0</cn></annotation-xml></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.5.5.5">
<td class="ltx_td ltx_align_left" id="S4.T1.5.5.5.2">EWC</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.3">24.57</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.4">36.93</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.5">17.61</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.6">46.14</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.7">43.92</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.8">25.01</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.9">32.36</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.10">11.47</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.1"><math alttext="2M" class="ltx_Math" display="inline" id="S4.T1.5.5.5.1.m1.1"><semantics id="S4.T1.5.5.5.1.m1.1a"><mrow id="S4.T1.5.5.5.1.m1.1.1" xref="S4.T1.5.5.5.1.m1.1.1.cmml"><mn id="S4.T1.5.5.5.1.m1.1.1.2" xref="S4.T1.5.5.5.1.m1.1.1.2.cmml">2</mn><mo id="S4.T1.5.5.5.1.m1.1.1.1" xref="S4.T1.5.5.5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.5.5.5.1.m1.1.1.3" xref="S4.T1.5.5.5.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.5.5.5.1.m1.1b"><apply id="S4.T1.5.5.5.1.m1.1.1.cmml" xref="S4.T1.5.5.5.1.m1.1.1"><times id="S4.T1.5.5.5.1.m1.1.1.1.cmml" xref="S4.T1.5.5.5.1.m1.1.1.1"></times><cn id="S4.T1.5.5.5.1.m1.1.1.2.cmml" type="integer" xref="S4.T1.5.5.5.1.m1.1.1.2">2</cn><ci id="S4.T1.5.5.5.1.m1.1.1.3.cmml" xref="S4.T1.5.5.5.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.5.5.1.m1.1c">2M</annotation><annotation encoding="application/x-llamapun" id="S4.T1.5.5.5.1.m1.1d">2 italic_M</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.6.6.6">
<td class="ltx_td ltx_align_left" id="S4.T1.6.6.6.2">KD</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.3">22.80</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.4">34.49</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.5">13.93</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.6">36.33</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.7">38.00</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.8">24.88</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.9">28.41</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.10">32.79</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.1"><math alttext="M" class="ltx_Math" display="inline" id="S4.T1.6.6.6.1.m1.1"><semantics id="S4.T1.6.6.6.1.m1.1a"><mi id="S4.T1.6.6.6.1.m1.1.1" xref="S4.T1.6.6.6.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.6.1.m1.1b"><ci id="S4.T1.6.6.6.1.m1.1.1.cmml" xref="S4.T1.6.6.6.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.6.1.m1.1c">M</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.6.6.1.m1.1d">italic_M</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.7.7">
<td class="ltx_td ltx_align_left" id="S4.T1.7.7.7.2">Dynamic-KD</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.3">27.88</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.4">31.84</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.5">14.33</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.6">40.05</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.7">39.78</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.8">23.53</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.9">29.57</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.10">15.33</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.1"><math alttext="M" class="ltx_Math" display="inline" id="S4.T1.7.7.7.1.m1.1"><semantics id="S4.T1.7.7.7.1.m1.1a"><mi id="S4.T1.7.7.7.1.m1.1.1" xref="S4.T1.7.7.7.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.T1.7.7.7.1.m1.1b"><ci id="S4.T1.7.7.7.1.m1.1.1.cmml" xref="S4.T1.7.7.7.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.7.7.1.m1.1c">M</annotation><annotation encoding="application/x-llamapun" id="S4.T1.7.7.7.1.m1.1d">italic_M</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.8.8">
<td class="ltx_td ltx_align_left" id="S4.T1.8.8.8.2">PTE</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.3">37.00</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.4">42.82</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.5">
<span class="ltx_ERROR undefined" id="S4.T1.8.8.8.5.1">\ul</span><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.8.5.2">23.06</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.6">52.65</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.7">49.59</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.8">
<span class="ltx_ERROR undefined" id="S4.T1.8.8.8.8.1">\ul</span>31.69</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.9">39.47</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.10">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.1"><math alttext="T\cdot M[bit]" class="ltx_Math" display="inline" id="S4.T1.8.8.8.1.m1.1"><semantics id="S4.T1.8.8.8.1.m1.1a"><mrow id="S4.T1.8.8.8.1.m1.1.1" xref="S4.T1.8.8.8.1.m1.1.1.cmml"><mrow id="S4.T1.8.8.8.1.m1.1.1.3" xref="S4.T1.8.8.8.1.m1.1.1.3.cmml"><mi id="S4.T1.8.8.8.1.m1.1.1.3.2" xref="S4.T1.8.8.8.1.m1.1.1.3.2.cmml">T</mi><mo id="S4.T1.8.8.8.1.m1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.T1.8.8.8.1.m1.1.1.3.1.cmml">⋅</mo><mi id="S4.T1.8.8.8.1.m1.1.1.3.3" xref="S4.T1.8.8.8.1.m1.1.1.3.3.cmml">M</mi></mrow><mo id="S4.T1.8.8.8.1.m1.1.1.2" xref="S4.T1.8.8.8.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.T1.8.8.8.1.m1.1.1.1.1" xref="S4.T1.8.8.8.1.m1.1.1.1.2.cmml"><mo id="S4.T1.8.8.8.1.m1.1.1.1.1.2" stretchy="false" xref="S4.T1.8.8.8.1.m1.1.1.1.2.1.cmml">[</mo><mrow id="S4.T1.8.8.8.1.m1.1.1.1.1.1" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.cmml"><mi id="S4.T1.8.8.8.1.m1.1.1.1.1.1.2" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.2.cmml">b</mi><mo id="S4.T1.8.8.8.1.m1.1.1.1.1.1.1" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.8.8.8.1.m1.1.1.1.1.1.3" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.3.cmml">i</mi><mo id="S4.T1.8.8.8.1.m1.1.1.1.1.1.1a" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.8.8.8.1.m1.1.1.1.1.1.4" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.4.cmml">t</mi></mrow><mo id="S4.T1.8.8.8.1.m1.1.1.1.1.3" stretchy="false" xref="S4.T1.8.8.8.1.m1.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.8.8.8.1.m1.1b"><apply id="S4.T1.8.8.8.1.m1.1.1.cmml" xref="S4.T1.8.8.8.1.m1.1.1"><times id="S4.T1.8.8.8.1.m1.1.1.2.cmml" xref="S4.T1.8.8.8.1.m1.1.1.2"></times><apply id="S4.T1.8.8.8.1.m1.1.1.3.cmml" xref="S4.T1.8.8.8.1.m1.1.1.3"><ci id="S4.T1.8.8.8.1.m1.1.1.3.1.cmml" xref="S4.T1.8.8.8.1.m1.1.1.3.1">⋅</ci><ci id="S4.T1.8.8.8.1.m1.1.1.3.2.cmml" xref="S4.T1.8.8.8.1.m1.1.1.3.2">𝑇</ci><ci id="S4.T1.8.8.8.1.m1.1.1.3.3.cmml" xref="S4.T1.8.8.8.1.m1.1.1.3.3">𝑀</ci></apply><apply id="S4.T1.8.8.8.1.m1.1.1.1.2.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.T1.8.8.8.1.m1.1.1.1.2.1.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.T1.8.8.8.1.m1.1.1.1.1.1.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1"><times id="S4.T1.8.8.8.1.m1.1.1.1.1.1.1.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.1"></times><ci id="S4.T1.8.8.8.1.m1.1.1.1.1.1.2.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.2">𝑏</ci><ci id="S4.T1.8.8.8.1.m1.1.1.1.1.1.3.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.3">𝑖</ci><ci id="S4.T1.8.8.8.1.m1.1.1.1.1.1.4.cmml" xref="S4.T1.8.8.8.1.m1.1.1.1.1.1.4">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.8.8.1.m1.1c">T\cdot M[bit]</annotation><annotation encoding="application/x-llamapun" id="S4.T1.8.8.8.1.m1.1d">italic_T ⋅ italic_M [ italic_b italic_i italic_t ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.9">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.9.9.9.2">F-MALLOC(Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.3">
<span class="ltx_ERROR undefined" id="S4.T1.9.9.9.3.1">\ul</span><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.9.3.2">39.54</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.4">
<span class="ltx_ERROR undefined" id="S4.T1.9.9.9.4.1">\ul</span>44.33</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.5">23.02</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.6">
<span class="ltx_ERROR undefined" id="S4.T1.9.9.9.6.1">\ul</span>53.77</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.7">
<span class="ltx_ERROR undefined" id="S4.T1.9.9.9.7.1">\ul</span>51.62</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.8">31.16</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.9">
<span class="ltx_ERROR undefined" id="S4.T1.9.9.9.9.1">\ul</span>40.57</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.10">
<span class="ltx_text ltx_phantom" id="S4.T1.9.9.9.10.1"><span style="visibility:hidden">0</span></span><span class="ltx_ERROR undefined" id="S4.T1.9.9.9.10.2">\ul</span>0.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.1"><math alttext="T\cdot E" class="ltx_Math" display="inline" id="S4.T1.9.9.9.1.m1.1"><semantics id="S4.T1.9.9.9.1.m1.1a"><mrow id="S4.T1.9.9.9.1.m1.1.1" xref="S4.T1.9.9.9.1.m1.1.1.cmml"><mi id="S4.T1.9.9.9.1.m1.1.1.2" xref="S4.T1.9.9.9.1.m1.1.1.2.cmml">T</mi><mo id="S4.T1.9.9.9.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T1.9.9.9.1.m1.1.1.1.cmml">⋅</mo><mi id="S4.T1.9.9.9.1.m1.1.1.3" xref="S4.T1.9.9.9.1.m1.1.1.3.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.9.9.9.1.m1.1b"><apply id="S4.T1.9.9.9.1.m1.1.1.cmml" xref="S4.T1.9.9.9.1.m1.1.1"><ci id="S4.T1.9.9.9.1.m1.1.1.1.cmml" xref="S4.T1.9.9.9.1.m1.1.1.1">⋅</ci><ci id="S4.T1.9.9.9.1.m1.1.1.2.cmml" xref="S4.T1.9.9.9.1.m1.1.1.2">𝑇</ci><ci id="S4.T1.9.9.9.1.m1.1.1.3.cmml" xref="S4.T1.9.9.9.1.m1.1.1.3">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.9.9.9.1.m1.1c">T\cdot E</annotation><annotation encoding="application/x-llamapun" id="S4.T1.9.9.9.1.m1.1d">italic_T ⋅ italic_E</annotation></semantics></math></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>BLEU and FR for all domains post-training. The results are averages of 5 different task sequences (Non-CL baselines are independent of task order). The best results are
highlighted in bold. The best CL results are highlighted with an underline. ‘-’ indicates the corresponding methods have no forgetting. The specital tokens denote number of seen tasks(<math alttext="T" class="ltx_Math" display="inline" id="S4.T1.16.m1.1"><semantics id="S4.T1.16.m1.1b"><mi id="S4.T1.16.m1.1.1" xref="S4.T1.16.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.T1.16.m1.1c"><ci id="S4.T1.16.m1.1.1.cmml" xref="S4.T1.16.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.16.m1.1d">T</annotation><annotation encoding="application/x-llamapun" id="S4.T1.16.m1.1e">italic_T</annotation></semantics></math>), adapter size(<math alttext="A" class="ltx_Math" display="inline" id="S4.T1.17.m2.1"><semantics id="S4.T1.17.m2.1b"><mi id="S4.T1.17.m2.1.1" xref="S4.T1.17.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.T1.17.m2.1c"><ci id="S4.T1.17.m2.1.1.cmml" xref="S4.T1.17.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.17.m2.1d">A</annotation><annotation encoding="application/x-llamapun" id="S4.T1.17.m2.1e">italic_A</annotation></semantics></math>), model parameter size(<math alttext="M" class="ltx_Math" display="inline" id="S4.T1.18.m3.1"><semantics id="S4.T1.18.m3.1b"><mi id="S4.T1.18.m3.1.1" xref="S4.T1.18.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.T1.18.m3.1c"><ci id="S4.T1.18.m3.1.1.cmml" xref="S4.T1.18.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.18.m3.1d">M</annotation><annotation encoding="application/x-llamapun" id="S4.T1.18.m3.1e">italic_M</annotation></semantics></math>), binary mask size(<math alttext="M[bit]" class="ltx_Math" display="inline" id="S4.T1.19.m4.1"><semantics id="S4.T1.19.m4.1b"><mrow id="S4.T1.19.m4.1.1" xref="S4.T1.19.m4.1.1.cmml"><mi id="S4.T1.19.m4.1.1.3" xref="S4.T1.19.m4.1.1.3.cmml">M</mi><mo id="S4.T1.19.m4.1.1.2" xref="S4.T1.19.m4.1.1.2.cmml">⁢</mo><mrow id="S4.T1.19.m4.1.1.1.1" xref="S4.T1.19.m4.1.1.1.2.cmml"><mo id="S4.T1.19.m4.1.1.1.1.2" stretchy="false" xref="S4.T1.19.m4.1.1.1.2.1.cmml">[</mo><mrow id="S4.T1.19.m4.1.1.1.1.1" xref="S4.T1.19.m4.1.1.1.1.1.cmml"><mi id="S4.T1.19.m4.1.1.1.1.1.2" xref="S4.T1.19.m4.1.1.1.1.1.2.cmml">b</mi><mo id="S4.T1.19.m4.1.1.1.1.1.1" xref="S4.T1.19.m4.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.19.m4.1.1.1.1.1.3" xref="S4.T1.19.m4.1.1.1.1.1.3.cmml">i</mi><mo id="S4.T1.19.m4.1.1.1.1.1.1b" xref="S4.T1.19.m4.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.19.m4.1.1.1.1.1.4" xref="S4.T1.19.m4.1.1.1.1.1.4.cmml">t</mi></mrow><mo id="S4.T1.19.m4.1.1.1.1.3" stretchy="false" xref="S4.T1.19.m4.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.19.m4.1c"><apply id="S4.T1.19.m4.1.1.cmml" xref="S4.T1.19.m4.1.1"><times id="S4.T1.19.m4.1.1.2.cmml" xref="S4.T1.19.m4.1.1.2"></times><ci id="S4.T1.19.m4.1.1.3.cmml" xref="S4.T1.19.m4.1.1.3">𝑀</ci><apply id="S4.T1.19.m4.1.1.1.2.cmml" xref="S4.T1.19.m4.1.1.1.1"><csymbol cd="latexml" id="S4.T1.19.m4.1.1.1.2.1.cmml" xref="S4.T1.19.m4.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.T1.19.m4.1.1.1.1.1.cmml" xref="S4.T1.19.m4.1.1.1.1.1"><times id="S4.T1.19.m4.1.1.1.1.1.1.cmml" xref="S4.T1.19.m4.1.1.1.1.1.1"></times><ci id="S4.T1.19.m4.1.1.1.1.1.2.cmml" xref="S4.T1.19.m4.1.1.1.1.1.2">𝑏</ci><ci id="S4.T1.19.m4.1.1.1.1.1.3.cmml" xref="S4.T1.19.m4.1.1.1.1.1.3">𝑖</ci><ci id="S4.T1.19.m4.1.1.1.1.1.4.cmml" xref="S4.T1.19.m4.1.1.1.1.1.4">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.19.m4.1d">M[bit]</annotation><annotation encoding="application/x-llamapun" id="S4.T1.19.m4.1e">italic_M [ italic_b italic_i italic_t ]</annotation></semantics></math>) and task embedding size(<math alttext="E" class="ltx_Math" display="inline" id="S4.T1.20.m5.1"><semantics id="S4.T1.20.m5.1b"><mi id="S4.T1.20.m5.1.1" xref="S4.T1.20.m5.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.T1.20.m5.1c"><ci id="S4.T1.20.m5.1.1.cmml" xref="S4.T1.20.m5.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.20.m5.1d">E</annotation><annotation encoding="application/x-llamapun" id="S4.T1.20.m5.1e">italic_E</annotation></semantics></math>). Note that <math alttext="M\gg M[bit]&gt;A\gg E" class="ltx_Math" display="inline" id="S4.T1.21.m6.1"><semantics id="S4.T1.21.m6.1b"><mrow id="S4.T1.21.m6.1.1" xref="S4.T1.21.m6.1.1.cmml"><mi id="S4.T1.21.m6.1.1.3" xref="S4.T1.21.m6.1.1.3.cmml">M</mi><mo id="S4.T1.21.m6.1.1.4" xref="S4.T1.21.m6.1.1.4.cmml">≫</mo><mrow id="S4.T1.21.m6.1.1.1" xref="S4.T1.21.m6.1.1.1.cmml"><mi id="S4.T1.21.m6.1.1.1.3" xref="S4.T1.21.m6.1.1.1.3.cmml">M</mi><mo id="S4.T1.21.m6.1.1.1.2" xref="S4.T1.21.m6.1.1.1.2.cmml">⁢</mo><mrow id="S4.T1.21.m6.1.1.1.1.1" xref="S4.T1.21.m6.1.1.1.1.2.cmml"><mo id="S4.T1.21.m6.1.1.1.1.1.2" stretchy="false" xref="S4.T1.21.m6.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.T1.21.m6.1.1.1.1.1.1" xref="S4.T1.21.m6.1.1.1.1.1.1.cmml"><mi id="S4.T1.21.m6.1.1.1.1.1.1.2" xref="S4.T1.21.m6.1.1.1.1.1.1.2.cmml">b</mi><mo id="S4.T1.21.m6.1.1.1.1.1.1.1" xref="S4.T1.21.m6.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.21.m6.1.1.1.1.1.1.3" xref="S4.T1.21.m6.1.1.1.1.1.1.3.cmml">i</mi><mo id="S4.T1.21.m6.1.1.1.1.1.1.1b" xref="S4.T1.21.m6.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.T1.21.m6.1.1.1.1.1.1.4" xref="S4.T1.21.m6.1.1.1.1.1.1.4.cmml">t</mi></mrow><mo id="S4.T1.21.m6.1.1.1.1.1.3" stretchy="false" xref="S4.T1.21.m6.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.T1.21.m6.1.1.5" xref="S4.T1.21.m6.1.1.5.cmml">&gt;</mo><mi id="S4.T1.21.m6.1.1.6" xref="S4.T1.21.m6.1.1.6.cmml">A</mi><mo id="S4.T1.21.m6.1.1.7" xref="S4.T1.21.m6.1.1.7.cmml">≫</mo><mi id="S4.T1.21.m6.1.1.8" xref="S4.T1.21.m6.1.1.8.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.21.m6.1c"><apply id="S4.T1.21.m6.1.1.cmml" xref="S4.T1.21.m6.1.1"><and id="S4.T1.21.m6.1.1a.cmml" xref="S4.T1.21.m6.1.1"></and><apply id="S4.T1.21.m6.1.1b.cmml" xref="S4.T1.21.m6.1.1"><csymbol cd="latexml" id="S4.T1.21.m6.1.1.4.cmml" xref="S4.T1.21.m6.1.1.4">much-greater-than</csymbol><ci id="S4.T1.21.m6.1.1.3.cmml" xref="S4.T1.21.m6.1.1.3">𝑀</ci><apply id="S4.T1.21.m6.1.1.1.cmml" xref="S4.T1.21.m6.1.1.1"><times id="S4.T1.21.m6.1.1.1.2.cmml" xref="S4.T1.21.m6.1.1.1.2"></times><ci id="S4.T1.21.m6.1.1.1.3.cmml" xref="S4.T1.21.m6.1.1.1.3">𝑀</ci><apply id="S4.T1.21.m6.1.1.1.1.2.cmml" xref="S4.T1.21.m6.1.1.1.1.1"><csymbol cd="latexml" id="S4.T1.21.m6.1.1.1.1.2.1.cmml" xref="S4.T1.21.m6.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.T1.21.m6.1.1.1.1.1.1.cmml" xref="S4.T1.21.m6.1.1.1.1.1.1"><times id="S4.T1.21.m6.1.1.1.1.1.1.1.cmml" xref="S4.T1.21.m6.1.1.1.1.1.1.1"></times><ci id="S4.T1.21.m6.1.1.1.1.1.1.2.cmml" xref="S4.T1.21.m6.1.1.1.1.1.1.2">𝑏</ci><ci id="S4.T1.21.m6.1.1.1.1.1.1.3.cmml" xref="S4.T1.21.m6.1.1.1.1.1.1.3">𝑖</ci><ci id="S4.T1.21.m6.1.1.1.1.1.1.4.cmml" xref="S4.T1.21.m6.1.1.1.1.1.1.4">𝑡</ci></apply></apply></apply></apply><apply id="S4.T1.21.m6.1.1c.cmml" xref="S4.T1.21.m6.1.1"><gt id="S4.T1.21.m6.1.1.5.cmml" xref="S4.T1.21.m6.1.1.5"></gt><share href="#S4.T1.21.m6.1.1.1.cmml" id="S4.T1.21.m6.1.1d.cmml" xref="S4.T1.21.m6.1.1"></share><ci id="S4.T1.21.m6.1.1.6.cmml" xref="S4.T1.21.m6.1.1.6">𝐴</ci></apply><apply id="S4.T1.21.m6.1.1e.cmml" xref="S4.T1.21.m6.1.1"><csymbol cd="latexml" id="S4.T1.21.m6.1.1.7.cmml" xref="S4.T1.21.m6.1.1.7">much-greater-than</csymbol><share href="#S4.T1.21.m6.1.1.6.cmml" id="S4.T1.21.m6.1.1f.cmml" xref="S4.T1.21.m6.1.1"></share><ci id="S4.T1.21.m6.1.1.8.cmml" xref="S4.T1.21.m6.1.1.8">𝐸</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.21.m6.1d">M\gg M[bit]&gt;A\gg E</annotation><annotation encoding="application/x-llamapun" id="S4.T1.21.m6.1e">italic_M ≫ italic_M [ italic_b italic_i italic_t ] &gt; italic_A ≫ italic_E</annotation></semantics></math>.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.1" style="width:368.6pt;height:163.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(21.6pt,-9.5pt) scale(1.13258819086094,1.13258819086094) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.1.1.1.1.1">Domain</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.2">Genearl</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.3">IT</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.4">Koran</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.5">Law</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.6">Medical</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.7">Subtitles</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.8">Average</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.1.9" rowspan="2"><span class="ltx_text" id="S4.T2.1.1.1.1.9.1">FR[%]</span></th>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T2.1.1.2.2.1">Method</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="7" id="S4.T2.1.1.2.2.2">BLEU</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.1.1.3.1.1">Seq-finetune</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.2">21.02</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.3">23.15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.4">11.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.5">31.33</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.6">36.83</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.7">30.65</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.8">25.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.9">37.40</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.1.4.2.1">EWC</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.2">22.86</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.3">45.81</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.4">18.96</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.5">43.37</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.6">39.18</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.7">26.16</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.8">32.72</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.9">10.10</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.1.5.3.1">KD</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.2">25.91</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.3">29.52</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.4">13.40</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.5">40.31</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.6">44.68</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.7">31.61</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.8">30.91</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.9">27.14</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.1.6.4.1">Dynamic-KD</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.2">30.35</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.3">33.83</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.4">15.56</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.5">41.65</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.6">40.90</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.7">24.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.8">31.15</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.9">12.22</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.1.7.5.1">PTE</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.2">37.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.3">43.28</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.4"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.5.4.1">22.98</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.5">52.94</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.6">49.42</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.7">31.87</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.8">39.58</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.5.9">-</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.1.1.8.6.1">F-MALLOC(Ours)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.2"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.2.1">39.54</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.3"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.3.1">44.19</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.4">22.81</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.5"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.5.1">53.64</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.6"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.6.1">51.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.7"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.7.1">31.93</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.8"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.8.1">40.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.8.6.9">
<span class="ltx_text ltx_phantom ltx_font_bold" id="S4.T2.1.1.8.6.9.1"><span style="visibility:hidden">0</span></span><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.9.2">0.24</span>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>BLEU and FR of CL methods for all domains post-training using task sequence 0 (the domain training order corresponds to the sequence in the first row). The best results are highlighted in bold.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results and Analysis</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.T1" title="Table 1 ‣ 4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a> presents the post-training performances of all nine systems across six domains. Notably, F-MALLOC consistently outperforms all CL baselines on average, with an impressively low forgetting rate of 0.71%. In comparison with regularization-based baselines, F-MALLOC demonstrates a better ability to alleviate forgetting and acquire new knowledge. When compared with the SOTA architecture-based method, PTE, F-MALLOC attains higher performance with minimal storage overhead and no prior information about task numbers.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">Regrading the Non-CL baselines, although still trailing behind the upper bound performance, F-MALLOC demonstrates comparable performance to the strong baseline method, Adapter.
These results collectively underscore the effectiveness of F-MALLOC in Continual Learning scenarios for Transformer-based Neural Machine Translation (NMT) systems.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.4">For a more comprehensive analysis and comparison of various CL methods, the following subsections will use task sequence 0: IT <math alttext="\to" class="ltx_Math" display="inline" id="S5.p3.1.m1.1"><semantics id="S5.p3.1.m1.1a"><mo id="S5.p3.1.m1.1.1" stretchy="false" xref="S5.p3.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.1b"><ci id="S5.p3.1.m1.1.1.cmml" xref="S5.p3.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="S5.p3.1.m1.1d">→</annotation></semantics></math> Koran <math alttext="\to" class="ltx_Math" display="inline" id="S5.p3.2.m2.1"><semantics id="S5.p3.2.m2.1a"><mo id="S5.p3.2.m2.1.1" stretchy="false" xref="S5.p3.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S5.p3.2.m2.1b"><ci id="S5.p3.2.m2.1.1.cmml" xref="S5.p3.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="S5.p3.2.m2.1d">→</annotation></semantics></math> Law <math alttext="\to" class="ltx_Math" display="inline" id="S5.p3.3.m3.1"><semantics id="S5.p3.3.m3.1a"><mo id="S5.p3.3.m3.1.1" stretchy="false" xref="S5.p3.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S5.p3.3.m3.1b"><ci id="S5.p3.3.m3.1.1.cmml" xref="S5.p3.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="S5.p3.3.m3.1d">→</annotation></semantics></math> Medical <math alttext="\to" class="ltx_Math" display="inline" id="S5.p3.4.m4.1"><semantics id="S5.p3.4.m4.1a"><mo id="S5.p3.4.m4.1.1" stretchy="false" xref="S5.p3.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S5.p3.4.m4.1b"><ci id="S5.p3.4.m4.1.1.cmml" xref="S5.p3.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="S5.p3.4.m4.1d">→</annotation></semantics></math> Subtitles as a reference.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Comparison with CL methods</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.T2" title="Table 2 ‣ 4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a> presents the results for task sequence 0. Notably, among the prior CL methods, PTE stands out with the best performance, achieving a BLEU score of 39.58. In contrast, regularization-based methods exhibit inferior performance. The suboptimal results of KD-based approaches (KD and Dynamic-KD) can be attributed to the absence of sample replay in our experimental setting. Without a sample cache from previous tasks, KD struggles to effectively transfer knowledge from the preceding model to subsequent ones. Importantly, F-MALLOC surpasses all CL baselines, delivering the best results in both the BLEU score and forgetting rate.</p>
</div>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Robustness against domain order.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p1.1">A horizontal comparison between Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.T1" title="Table 1 ‣ 4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.T2" title="Table 2 ‣ 4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a> for the same method’s performance reveals that regularization-base methods such as EWC and KD are sensitive to domain order, resulting in imbalanced performance on the initial and final tasks. In contrast, F-MALLOC exhibits notable resilience to variations in domain order, as evidenced by the balanced performance across different domain orders. This robustness is further substantiated by the low standard deviations presented in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A4" title="Appendix D Standare Deviations ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">D</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="357" id="S5.F4.g1" src="x4.png" width="373"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Forgetting rate and saturation rate across different training stages.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Trade-off between stability and plasticity.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px2.p1.1">As depicted in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.F4" title="Figure 4 ‣ Robustness against domain order. ‣ 5.1 Comparison with CL methods ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">4</span></a>, both EWC and Dynamic-KD exhibit robust abilities to mitigate forgetting. However, they also demonstrate a high saturation rate, suggesting a compromise in their potential to adapt to additional tasks. In contrast, KD achieves a low saturation rate akin to Seq-finetune, but its forgetting rate is notably higher. This observation sheds light on the struggle of regularization-based methods to balance stability and plasticity. Crucially, F-MALLOC excels in both objectives, achieving a harmonious equilibrium between mitigating forgetting and maintaining adaptability.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Hyperparameter</h3>
<figure class="ltx_table" id="S5.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.10" style="width:433.6pt;height:247.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(122.2pt,-69.7pt) scale(2.29060852535847,2.29060852535847) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T3.10.10">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T3.10.10.11.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T3.10.10.11.1.1">Temp</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T3.10.10.11.1.2">BLEU</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T3.10.10.11.1.3">FR[%]</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T3.10.10.11.1.4">Sparsity</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T3.10.10.11.1.5">BLEU</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T3.10.10.11.1.6">FR[%]</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T3.1.1.1.1"><math alttext="\tau_{max}=50" class="ltx_Math" display="inline" id="S5.T3.1.1.1.1.m1.1"><semantics id="S5.T3.1.1.1.1.m1.1a"><mrow id="S5.T3.1.1.1.1.m1.1.1" xref="S5.T3.1.1.1.1.m1.1.1.cmml"><msub id="S5.T3.1.1.1.1.m1.1.1.2" xref="S5.T3.1.1.1.1.m1.1.1.2.cmml"><mi id="S5.T3.1.1.1.1.m1.1.1.2.2" xref="S5.T3.1.1.1.1.m1.1.1.2.2.cmml">τ</mi><mrow id="S5.T3.1.1.1.1.m1.1.1.2.3" xref="S5.T3.1.1.1.1.m1.1.1.2.3.cmml"><mi id="S5.T3.1.1.1.1.m1.1.1.2.3.2" xref="S5.T3.1.1.1.1.m1.1.1.2.3.2.cmml">m</mi><mo id="S5.T3.1.1.1.1.m1.1.1.2.3.1" xref="S5.T3.1.1.1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.1.1.1.1.m1.1.1.2.3.3" xref="S5.T3.1.1.1.1.m1.1.1.2.3.3.cmml">a</mi><mo id="S5.T3.1.1.1.1.m1.1.1.2.3.1a" xref="S5.T3.1.1.1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.1.1.1.1.m1.1.1.2.3.4" xref="S5.T3.1.1.1.1.m1.1.1.2.3.4.cmml">x</mi></mrow></msub><mo id="S5.T3.1.1.1.1.m1.1.1.1" xref="S5.T3.1.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.T3.1.1.1.1.m1.1.1.3" xref="S5.T3.1.1.1.1.m1.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.1.1.1.1.m1.1b"><apply id="S5.T3.1.1.1.1.m1.1.1.cmml" xref="S5.T3.1.1.1.1.m1.1.1"><eq id="S5.T3.1.1.1.1.m1.1.1.1.cmml" xref="S5.T3.1.1.1.1.m1.1.1.1"></eq><apply id="S5.T3.1.1.1.1.m1.1.1.2.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.1.1.1.1.m1.1.1.2.1.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.1.1.1.1.m1.1.1.2.2.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.2">𝜏</ci><apply id="S5.T3.1.1.1.1.m1.1.1.2.3.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.3"><times id="S5.T3.1.1.1.1.m1.1.1.2.3.1.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.3.1"></times><ci id="S5.T3.1.1.1.1.m1.1.1.2.3.2.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.3.2">𝑚</ci><ci id="S5.T3.1.1.1.1.m1.1.1.2.3.3.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.3.3">𝑎</ci><ci id="S5.T3.1.1.1.1.m1.1.1.2.3.4.cmml" xref="S5.T3.1.1.1.1.m1.1.1.2.3.4">𝑥</ci></apply></apply><cn id="S5.T3.1.1.1.1.m1.1.1.3.cmml" type="integer" xref="S5.T3.1.1.1.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.1.1.1.1.m1.1c">\tau_{max}=50</annotation><annotation encoding="application/x-llamapun" id="S5.T3.1.1.1.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT = 50</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.2.2.2.3">36.83</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.2.2.2.4">10.81</td>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T3.2.2.2.2"><math alttext="s=0.05" class="ltx_Math" display="inline" id="S5.T3.2.2.2.2.m1.1"><semantics id="S5.T3.2.2.2.2.m1.1a"><mrow id="S5.T3.2.2.2.2.m1.1.1" xref="S5.T3.2.2.2.2.m1.1.1.cmml"><mi id="S5.T3.2.2.2.2.m1.1.1.2" xref="S5.T3.2.2.2.2.m1.1.1.2.cmml">s</mi><mo id="S5.T3.2.2.2.2.m1.1.1.1" xref="S5.T3.2.2.2.2.m1.1.1.1.cmml">=</mo><mn id="S5.T3.2.2.2.2.m1.1.1.3" xref="S5.T3.2.2.2.2.m1.1.1.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.2.2.2.2.m1.1b"><apply id="S5.T3.2.2.2.2.m1.1.1.cmml" xref="S5.T3.2.2.2.2.m1.1.1"><eq id="S5.T3.2.2.2.2.m1.1.1.1.cmml" xref="S5.T3.2.2.2.2.m1.1.1.1"></eq><ci id="S5.T3.2.2.2.2.m1.1.1.2.cmml" xref="S5.T3.2.2.2.2.m1.1.1.2">𝑠</ci><cn id="S5.T3.2.2.2.2.m1.1.1.3.cmml" type="float" xref="S5.T3.2.2.2.2.m1.1.1.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.2.2.2.2.m1.1c">s=0.05</annotation><annotation encoding="application/x-llamapun" id="S5.T3.2.2.2.2.m1.1d">italic_s = 0.05</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.2.2.2.5">39.09</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.2.2.2.6">0.40</td>
</tr>
<tr class="ltx_tr" id="S5.T3.4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.3.3.3.1"><math alttext="\tau_{max}=100" class="ltx_Math" display="inline" id="S5.T3.3.3.3.1.m1.1"><semantics id="S5.T3.3.3.3.1.m1.1a"><mrow id="S5.T3.3.3.3.1.m1.1.1" xref="S5.T3.3.3.3.1.m1.1.1.cmml"><msub id="S5.T3.3.3.3.1.m1.1.1.2" xref="S5.T3.3.3.3.1.m1.1.1.2.cmml"><mi id="S5.T3.3.3.3.1.m1.1.1.2.2" xref="S5.T3.3.3.3.1.m1.1.1.2.2.cmml">τ</mi><mrow id="S5.T3.3.3.3.1.m1.1.1.2.3" xref="S5.T3.3.3.3.1.m1.1.1.2.3.cmml"><mi id="S5.T3.3.3.3.1.m1.1.1.2.3.2" xref="S5.T3.3.3.3.1.m1.1.1.2.3.2.cmml">m</mi><mo id="S5.T3.3.3.3.1.m1.1.1.2.3.1" xref="S5.T3.3.3.3.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.3.3.3.1.m1.1.1.2.3.3" xref="S5.T3.3.3.3.1.m1.1.1.2.3.3.cmml">a</mi><mo id="S5.T3.3.3.3.1.m1.1.1.2.3.1a" xref="S5.T3.3.3.3.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.3.3.3.1.m1.1.1.2.3.4" xref="S5.T3.3.3.3.1.m1.1.1.2.3.4.cmml">x</mi></mrow></msub><mo id="S5.T3.3.3.3.1.m1.1.1.1" xref="S5.T3.3.3.3.1.m1.1.1.1.cmml">=</mo><mn id="S5.T3.3.3.3.1.m1.1.1.3" xref="S5.T3.3.3.3.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.3.3.3.1.m1.1b"><apply id="S5.T3.3.3.3.1.m1.1.1.cmml" xref="S5.T3.3.3.3.1.m1.1.1"><eq id="S5.T3.3.3.3.1.m1.1.1.1.cmml" xref="S5.T3.3.3.3.1.m1.1.1.1"></eq><apply id="S5.T3.3.3.3.1.m1.1.1.2.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.3.3.3.1.m1.1.1.2.1.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.3.3.3.1.m1.1.1.2.2.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.2">𝜏</ci><apply id="S5.T3.3.3.3.1.m1.1.1.2.3.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.3"><times id="S5.T3.3.3.3.1.m1.1.1.2.3.1.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.3.1"></times><ci id="S5.T3.3.3.3.1.m1.1.1.2.3.2.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.3.2">𝑚</ci><ci id="S5.T3.3.3.3.1.m1.1.1.2.3.3.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.3.3">𝑎</ci><ci id="S5.T3.3.3.3.1.m1.1.1.2.3.4.cmml" xref="S5.T3.3.3.3.1.m1.1.1.2.3.4">𝑥</ci></apply></apply><cn id="S5.T3.3.3.3.1.m1.1.1.3.cmml" type="integer" xref="S5.T3.3.3.3.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.3.3.1.m1.1c">\tau_{max}=100</annotation><annotation encoding="application/x-llamapun" id="S5.T3.3.3.3.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT = 100</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.4.4.4.3">38.33</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.4.4.4.4">
<span class="ltx_text ltx_phantom" id="S5.T3.4.4.4.4.1"><span style="visibility:hidden">0</span></span>6.89</td>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.4.4.4.2"><math alttext="s=0.1" class="ltx_Math" display="inline" id="S5.T3.4.4.4.2.m1.1"><semantics id="S5.T3.4.4.4.2.m1.1a"><mrow id="S5.T3.4.4.4.2.m1.1.1" xref="S5.T3.4.4.4.2.m1.1.1.cmml"><mi id="S5.T3.4.4.4.2.m1.1.1.2" xref="S5.T3.4.4.4.2.m1.1.1.2.cmml">s</mi><mo id="S5.T3.4.4.4.2.m1.1.1.1" xref="S5.T3.4.4.4.2.m1.1.1.1.cmml">=</mo><mn id="S5.T3.4.4.4.2.m1.1.1.3" xref="S5.T3.4.4.4.2.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.4.4.4.2.m1.1b"><apply id="S5.T3.4.4.4.2.m1.1.1.cmml" xref="S5.T3.4.4.4.2.m1.1.1"><eq id="S5.T3.4.4.4.2.m1.1.1.1.cmml" xref="S5.T3.4.4.4.2.m1.1.1.1"></eq><ci id="S5.T3.4.4.4.2.m1.1.1.2.cmml" xref="S5.T3.4.4.4.2.m1.1.1.2">𝑠</ci><cn id="S5.T3.4.4.4.2.m1.1.1.3.cmml" type="float" xref="S5.T3.4.4.4.2.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.4.4.2.m1.1c">s=0.1</annotation><annotation encoding="application/x-llamapun" id="S5.T3.4.4.4.2.m1.1d">italic_s = 0.1</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.4.4.4.5">39.87</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.4.4.6">0.15</td>
</tr>
<tr class="ltx_tr" id="S5.T3.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.5.5.5.1"><math alttext="\tau_{max}=200" class="ltx_Math" display="inline" id="S5.T3.5.5.5.1.m1.1"><semantics id="S5.T3.5.5.5.1.m1.1a"><mrow id="S5.T3.5.5.5.1.m1.1.1" xref="S5.T3.5.5.5.1.m1.1.1.cmml"><msub id="S5.T3.5.5.5.1.m1.1.1.2" xref="S5.T3.5.5.5.1.m1.1.1.2.cmml"><mi id="S5.T3.5.5.5.1.m1.1.1.2.2" xref="S5.T3.5.5.5.1.m1.1.1.2.2.cmml">τ</mi><mrow id="S5.T3.5.5.5.1.m1.1.1.2.3" xref="S5.T3.5.5.5.1.m1.1.1.2.3.cmml"><mi id="S5.T3.5.5.5.1.m1.1.1.2.3.2" xref="S5.T3.5.5.5.1.m1.1.1.2.3.2.cmml">m</mi><mo id="S5.T3.5.5.5.1.m1.1.1.2.3.1" xref="S5.T3.5.5.5.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.5.5.5.1.m1.1.1.2.3.3" xref="S5.T3.5.5.5.1.m1.1.1.2.3.3.cmml">a</mi><mo id="S5.T3.5.5.5.1.m1.1.1.2.3.1a" xref="S5.T3.5.5.5.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.5.5.5.1.m1.1.1.2.3.4" xref="S5.T3.5.5.5.1.m1.1.1.2.3.4.cmml">x</mi></mrow></msub><mo id="S5.T3.5.5.5.1.m1.1.1.1" xref="S5.T3.5.5.5.1.m1.1.1.1.cmml">=</mo><mn id="S5.T3.5.5.5.1.m1.1.1.3" xref="S5.T3.5.5.5.1.m1.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.5.5.5.1.m1.1b"><apply id="S5.T3.5.5.5.1.m1.1.1.cmml" xref="S5.T3.5.5.5.1.m1.1.1"><eq id="S5.T3.5.5.5.1.m1.1.1.1.cmml" xref="S5.T3.5.5.5.1.m1.1.1.1"></eq><apply id="S5.T3.5.5.5.1.m1.1.1.2.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.5.5.5.1.m1.1.1.2.1.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.5.5.5.1.m1.1.1.2.2.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.2">𝜏</ci><apply id="S5.T3.5.5.5.1.m1.1.1.2.3.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.3"><times id="S5.T3.5.5.5.1.m1.1.1.2.3.1.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.3.1"></times><ci id="S5.T3.5.5.5.1.m1.1.1.2.3.2.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.3.2">𝑚</ci><ci id="S5.T3.5.5.5.1.m1.1.1.2.3.3.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.3.3">𝑎</ci><ci id="S5.T3.5.5.5.1.m1.1.1.2.3.4.cmml" xref="S5.T3.5.5.5.1.m1.1.1.2.3.4">𝑥</ci></apply></apply><cn id="S5.T3.5.5.5.1.m1.1.1.3.cmml" type="integer" xref="S5.T3.5.5.5.1.m1.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.5.5.1.m1.1c">\tau_{max}=200</annotation><annotation encoding="application/x-llamapun" id="S5.T3.5.5.5.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT = 200</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.6.6.6.3">40.22</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.6.6.6.4">
<span class="ltx_text ltx_phantom" id="S5.T3.6.6.6.4.1"><span style="visibility:hidden">0</span></span>2.37</td>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.6.6.6.2"><math alttext="\mathbf{s=0.2}" class="ltx_Math" display="inline" id="S5.T3.6.6.6.2.m1.1"><semantics id="S5.T3.6.6.6.2.m1.1a"><mrow id="S5.T3.6.6.6.2.m1.1.1" xref="S5.T3.6.6.6.2.m1.1.1.cmml"><mi id="S5.T3.6.6.6.2.m1.1.1.2" xref="S5.T3.6.6.6.2.m1.1.1.2.cmml">𝐬</mi><mo id="S5.T3.6.6.6.2.m1.1.1.1" xref="S5.T3.6.6.6.2.m1.1.1.1.cmml">=</mo><mn id="S5.T3.6.6.6.2.m1.1.1.3" mathvariant="bold" xref="S5.T3.6.6.6.2.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.6.6.6.2.m1.1b"><apply id="S5.T3.6.6.6.2.m1.1.1.cmml" xref="S5.T3.6.6.6.2.m1.1.1"><eq id="S5.T3.6.6.6.2.m1.1.1.1.cmml" xref="S5.T3.6.6.6.2.m1.1.1.1"></eq><ci id="S5.T3.6.6.6.2.m1.1.1.2.cmml" xref="S5.T3.6.6.6.2.m1.1.1.2">𝐬</ci><cn id="S5.T3.6.6.6.2.m1.1.1.3.cmml" type="float" xref="S5.T3.6.6.6.2.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.6.6.2.m1.1c">\mathbf{s=0.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.6.6.6.2.m1.1d">bold_s = bold_0.2</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.6.6.6.5"><span class="ltx_text ltx_font_bold" id="S5.T3.6.6.6.5.1">40.55</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.6.6.6.6"><span class="ltx_text ltx_font_bold" id="S5.T3.6.6.6.6.1">0.24</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.7.7.7.1"><math alttext="\mathbf{\tau_{max}=400}" class="ltx_Math" display="inline" id="S5.T3.7.7.7.1.m1.1"><semantics id="S5.T3.7.7.7.1.m1.1a"><mrow id="S5.T3.7.7.7.1.m1.1.1" xref="S5.T3.7.7.7.1.m1.1.1.cmml"><msub id="S5.T3.7.7.7.1.m1.1.1.2" xref="S5.T3.7.7.7.1.m1.1.1.2.cmml"><mi id="S5.T3.7.7.7.1.m1.1.1.2.2" xref="S5.T3.7.7.7.1.m1.1.1.2.2.cmml">τ</mi><mi id="S5.T3.7.7.7.1.m1.1.1.2.3" xref="S5.T3.7.7.7.1.m1.1.1.2.3.cmml">𝐦𝐚𝐱</mi></msub><mo id="S5.T3.7.7.7.1.m1.1.1.1" xref="S5.T3.7.7.7.1.m1.1.1.1.cmml">=</mo><mn id="S5.T3.7.7.7.1.m1.1.1.3" xref="S5.T3.7.7.7.1.m1.1.1.3.cmml">𝟒𝟎𝟎</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.7.7.7.1.m1.1b"><apply id="S5.T3.7.7.7.1.m1.1.1.cmml" xref="S5.T3.7.7.7.1.m1.1.1"><eq id="S5.T3.7.7.7.1.m1.1.1.1.cmml" xref="S5.T3.7.7.7.1.m1.1.1.1"></eq><apply id="S5.T3.7.7.7.1.m1.1.1.2.cmml" xref="S5.T3.7.7.7.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.7.7.7.1.m1.1.1.2.1.cmml" xref="S5.T3.7.7.7.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.7.7.7.1.m1.1.1.2.2.cmml" xref="S5.T3.7.7.7.1.m1.1.1.2.2">𝜏</ci><ci id="S5.T3.7.7.7.1.m1.1.1.2.3.cmml" xref="S5.T3.7.7.7.1.m1.1.1.2.3">𝐦𝐚𝐱</ci></apply><cn id="S5.T3.7.7.7.1.m1.1.1.3.cmml" type="integer" xref="S5.T3.7.7.7.1.m1.1.1.3">400</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.7.7.1.m1.1c">\mathbf{\tau_{max}=400}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.7.7.7.1.m1.1d">italic_τ start_POSTSUBSCRIPT bold_max end_POSTSUBSCRIPT = bold_400</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.8.8.8.3"><span class="ltx_text ltx_font_bold" id="S5.T3.8.8.8.3.1">40.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.8.8.8.4">
<span class="ltx_text ltx_phantom ltx_font_bold" id="S5.T3.8.8.8.4.1"><span style="visibility:hidden">0</span></span><span class="ltx_text ltx_font_bold" id="S5.T3.8.8.8.4.2">0.24</span>
</td>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.8.8.8.2"><math alttext="s=0.3" class="ltx_Math" display="inline" id="S5.T3.8.8.8.2.m1.1"><semantics id="S5.T3.8.8.8.2.m1.1a"><mrow id="S5.T3.8.8.8.2.m1.1.1" xref="S5.T3.8.8.8.2.m1.1.1.cmml"><mi id="S5.T3.8.8.8.2.m1.1.1.2" xref="S5.T3.8.8.8.2.m1.1.1.2.cmml">s</mi><mo id="S5.T3.8.8.8.2.m1.1.1.1" xref="S5.T3.8.8.8.2.m1.1.1.1.cmml">=</mo><mn id="S5.T3.8.8.8.2.m1.1.1.3" xref="S5.T3.8.8.8.2.m1.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.8.8.8.2.m1.1b"><apply id="S5.T3.8.8.8.2.m1.1.1.cmml" xref="S5.T3.8.8.8.2.m1.1.1"><eq id="S5.T3.8.8.8.2.m1.1.1.1.cmml" xref="S5.T3.8.8.8.2.m1.1.1.1"></eq><ci id="S5.T3.8.8.8.2.m1.1.1.2.cmml" xref="S5.T3.8.8.8.2.m1.1.1.2">𝑠</ci><cn id="S5.T3.8.8.8.2.m1.1.1.3.cmml" type="float" xref="S5.T3.8.8.8.2.m1.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.8.8.2.m1.1c">s=0.3</annotation><annotation encoding="application/x-llamapun" id="S5.T3.8.8.8.2.m1.1d">italic_s = 0.3</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.T3.8.8.8.5">40.01</td>
<td class="ltx_td ltx_align_center" id="S5.T3.8.8.8.6">0.85</td>
</tr>
<tr class="ltx_tr" id="S5.T3.10.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T3.9.9.9.1"><math alttext="\tau_{max}=800" class="ltx_Math" display="inline" id="S5.T3.9.9.9.1.m1.1"><semantics id="S5.T3.9.9.9.1.m1.1a"><mrow id="S5.T3.9.9.9.1.m1.1.1" xref="S5.T3.9.9.9.1.m1.1.1.cmml"><msub id="S5.T3.9.9.9.1.m1.1.1.2" xref="S5.T3.9.9.9.1.m1.1.1.2.cmml"><mi id="S5.T3.9.9.9.1.m1.1.1.2.2" xref="S5.T3.9.9.9.1.m1.1.1.2.2.cmml">τ</mi><mrow id="S5.T3.9.9.9.1.m1.1.1.2.3" xref="S5.T3.9.9.9.1.m1.1.1.2.3.cmml"><mi id="S5.T3.9.9.9.1.m1.1.1.2.3.2" xref="S5.T3.9.9.9.1.m1.1.1.2.3.2.cmml">m</mi><mo id="S5.T3.9.9.9.1.m1.1.1.2.3.1" xref="S5.T3.9.9.9.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.9.9.9.1.m1.1.1.2.3.3" xref="S5.T3.9.9.9.1.m1.1.1.2.3.3.cmml">a</mi><mo id="S5.T3.9.9.9.1.m1.1.1.2.3.1a" xref="S5.T3.9.9.9.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S5.T3.9.9.9.1.m1.1.1.2.3.4" xref="S5.T3.9.9.9.1.m1.1.1.2.3.4.cmml">x</mi></mrow></msub><mo id="S5.T3.9.9.9.1.m1.1.1.1" xref="S5.T3.9.9.9.1.m1.1.1.1.cmml">=</mo><mn id="S5.T3.9.9.9.1.m1.1.1.3" xref="S5.T3.9.9.9.1.m1.1.1.3.cmml">800</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.9.9.9.1.m1.1b"><apply id="S5.T3.9.9.9.1.m1.1.1.cmml" xref="S5.T3.9.9.9.1.m1.1.1"><eq id="S5.T3.9.9.9.1.m1.1.1.1.cmml" xref="S5.T3.9.9.9.1.m1.1.1.1"></eq><apply id="S5.T3.9.9.9.1.m1.1.1.2.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.9.9.9.1.m1.1.1.2.1.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.9.9.9.1.m1.1.1.2.2.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.2">𝜏</ci><apply id="S5.T3.9.9.9.1.m1.1.1.2.3.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.3"><times id="S5.T3.9.9.9.1.m1.1.1.2.3.1.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.3.1"></times><ci id="S5.T3.9.9.9.1.m1.1.1.2.3.2.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.3.2">𝑚</ci><ci id="S5.T3.9.9.9.1.m1.1.1.2.3.3.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.3.3">𝑎</ci><ci id="S5.T3.9.9.9.1.m1.1.1.2.3.4.cmml" xref="S5.T3.9.9.9.1.m1.1.1.2.3.4">𝑥</ci></apply></apply><cn id="S5.T3.9.9.9.1.m1.1.1.3.cmml" type="integer" xref="S5.T3.9.9.9.1.m1.1.1.3">800</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.9.9.9.1.m1.1c">\tau_{max}=800</annotation><annotation encoding="application/x-llamapun" id="S5.T3.9.9.9.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT = 800</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.10.10.10.3">40.60</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T3.10.10.10.4">
<span class="ltx_text ltx_phantom" id="S5.T3.10.10.10.4.1"><span style="visibility:hidden">0</span></span>0.10</td>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T3.10.10.10.2"><math alttext="s=0.4" class="ltx_Math" display="inline" id="S5.T3.10.10.10.2.m1.1"><semantics id="S5.T3.10.10.10.2.m1.1a"><mrow id="S5.T3.10.10.10.2.m1.1.1" xref="S5.T3.10.10.10.2.m1.1.1.cmml"><mi id="S5.T3.10.10.10.2.m1.1.1.2" xref="S5.T3.10.10.10.2.m1.1.1.2.cmml">s</mi><mo id="S5.T3.10.10.10.2.m1.1.1.1" xref="S5.T3.10.10.10.2.m1.1.1.1.cmml">=</mo><mn id="S5.T3.10.10.10.2.m1.1.1.3" xref="S5.T3.10.10.10.2.m1.1.1.3.cmml">0.4</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.10.10.10.2.m1.1b"><apply id="S5.T3.10.10.10.2.m1.1.1.cmml" xref="S5.T3.10.10.10.2.m1.1.1"><eq id="S5.T3.10.10.10.2.m1.1.1.1.cmml" xref="S5.T3.10.10.10.2.m1.1.1.1"></eq><ci id="S5.T3.10.10.10.2.m1.1.1.2.cmml" xref="S5.T3.10.10.10.2.m1.1.1.2">𝑠</ci><cn id="S5.T3.10.10.10.2.m1.1.1.3.cmml" type="float" xref="S5.T3.10.10.10.2.m1.1.1.3">0.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.10.10.10.2.m1.1c">s=0.4</annotation><annotation encoding="application/x-llamapun" id="S5.T3.10.10.10.2.m1.1d">italic_s = 0.4</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.10.10.10.5">39.88</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.10.10.10.6">2.02</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>The effect of max temperature <math alttext="\tau_{max}" class="ltx_Math" display="inline" id="S5.T3.13.m1.1"><semantics id="S5.T3.13.m1.1b"><msub id="S5.T3.13.m1.1.1" xref="S5.T3.13.m1.1.1.cmml"><mi id="S5.T3.13.m1.1.1.2" xref="S5.T3.13.m1.1.1.2.cmml">τ</mi><mrow id="S5.T3.13.m1.1.1.3" xref="S5.T3.13.m1.1.1.3.cmml"><mi id="S5.T3.13.m1.1.1.3.2" xref="S5.T3.13.m1.1.1.3.2.cmml">m</mi><mo id="S5.T3.13.m1.1.1.3.1" xref="S5.T3.13.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T3.13.m1.1.1.3.3" xref="S5.T3.13.m1.1.1.3.3.cmml">a</mi><mo id="S5.T3.13.m1.1.1.3.1b" xref="S5.T3.13.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T3.13.m1.1.1.3.4" xref="S5.T3.13.m1.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T3.13.m1.1c"><apply id="S5.T3.13.m1.1.1.cmml" xref="S5.T3.13.m1.1.1"><csymbol cd="ambiguous" id="S5.T3.13.m1.1.1.1.cmml" xref="S5.T3.13.m1.1.1">subscript</csymbol><ci id="S5.T3.13.m1.1.1.2.cmml" xref="S5.T3.13.m1.1.1.2">𝜏</ci><apply id="S5.T3.13.m1.1.1.3.cmml" xref="S5.T3.13.m1.1.1.3"><times id="S5.T3.13.m1.1.1.3.1.cmml" xref="S5.T3.13.m1.1.1.3.1"></times><ci id="S5.T3.13.m1.1.1.3.2.cmml" xref="S5.T3.13.m1.1.1.3.2">𝑚</ci><ci id="S5.T3.13.m1.1.1.3.3.cmml" xref="S5.T3.13.m1.1.1.3.3">𝑎</ci><ci id="S5.T3.13.m1.1.1.3.4.cmml" xref="S5.T3.13.m1.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.13.m1.1d">\tau_{max}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.13.m1.1e">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math> (left) and sparsity <math alttext="s" class="ltx_Math" display="inline" id="S5.T3.14.m2.1"><semantics id="S5.T3.14.m2.1b"><mi id="S5.T3.14.m2.1.1" xref="S5.T3.14.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S5.T3.14.m2.1c"><ci id="S5.T3.14.m2.1.1.cmml" xref="S5.T3.14.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.14.m2.1d">s</annotation><annotation encoding="application/x-llamapun" id="S5.T3.14.m2.1e">italic_s</annotation></semantics></math> (right). The value used in our experiments is highlighted in bold.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.3">We explored the impact of annealing temperature <math alttext="\tau_{max}" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><msub id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">τ</mi><mrow id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml"><mi id="S5.SS2.p1.1.m1.1.1.3.2" xref="S5.SS2.p1.1.m1.1.1.3.2.cmml">m</mi><mo id="S5.SS2.p1.1.m1.1.1.3.1" xref="S5.SS2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.3.3" xref="S5.SS2.p1.1.m1.1.1.3.3.cmml">a</mi><mo id="S5.SS2.p1.1.m1.1.1.3.1a" xref="S5.SS2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.3.4" xref="S5.SS2.p1.1.m1.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝜏</ci><apply id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3"><times id="S5.SS2.p1.1.m1.1.1.3.1.cmml" xref="S5.SS2.p1.1.m1.1.1.3.1"></times><ci id="S5.SS2.p1.1.m1.1.1.3.2.cmml" xref="S5.SS2.p1.1.m1.1.1.3.2">𝑚</ci><ci id="S5.SS2.p1.1.m1.1.1.3.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3.3">𝑎</ci><ci id="S5.SS2.p1.1.m1.1.1.3.4.cmml" xref="S5.SS2.p1.1.m1.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">\tau_{max}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math> and prune sparsity <math alttext="s" class="ltx_Math" display="inline" id="S5.SS2.p1.2.m2.1"><semantics id="S5.SS2.p1.2.m2.1a"><mi id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><ci id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.2.m2.1d">italic_s</annotation></semantics></math>. As outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.T3" title="Table 3 ‣ 5.2 Hyperparameter ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">3</span></a>, a small temperature results in a ‘soft’ mask value, contributing to increased FR. Good results were observed when <math alttext="\tau_{max}\geq 400" class="ltx_Math" display="inline" id="S5.SS2.p1.3.m3.1"><semantics id="S5.SS2.p1.3.m3.1a"><mrow id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml"><msub id="S5.SS2.p1.3.m3.1.1.2" xref="S5.SS2.p1.3.m3.1.1.2.cmml"><mi id="S5.SS2.p1.3.m3.1.1.2.2" xref="S5.SS2.p1.3.m3.1.1.2.2.cmml">τ</mi><mrow id="S5.SS2.p1.3.m3.1.1.2.3" xref="S5.SS2.p1.3.m3.1.1.2.3.cmml"><mi id="S5.SS2.p1.3.m3.1.1.2.3.2" xref="S5.SS2.p1.3.m3.1.1.2.3.2.cmml">m</mi><mo id="S5.SS2.p1.3.m3.1.1.2.3.1" xref="S5.SS2.p1.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S5.SS2.p1.3.m3.1.1.2.3.3" xref="S5.SS2.p1.3.m3.1.1.2.3.3.cmml">a</mi><mo id="S5.SS2.p1.3.m3.1.1.2.3.1a" xref="S5.SS2.p1.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S5.SS2.p1.3.m3.1.1.2.3.4" xref="S5.SS2.p1.3.m3.1.1.2.3.4.cmml">x</mi></mrow></msub><mo id="S5.SS2.p1.3.m3.1.1.1" xref="S5.SS2.p1.3.m3.1.1.1.cmml">≥</mo><mn id="S5.SS2.p1.3.m3.1.1.3" xref="S5.SS2.p1.3.m3.1.1.3.cmml">400</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.1b"><apply id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1"><geq id="S5.SS2.p1.3.m3.1.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1.1"></geq><apply id="S5.SS2.p1.3.m3.1.1.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S5.SS2.p1.3.m3.1.1.2.1.cmml" xref="S5.SS2.p1.3.m3.1.1.2">subscript</csymbol><ci id="S5.SS2.p1.3.m3.1.1.2.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2.2">𝜏</ci><apply id="S5.SS2.p1.3.m3.1.1.2.3.cmml" xref="S5.SS2.p1.3.m3.1.1.2.3"><times id="S5.SS2.p1.3.m3.1.1.2.3.1.cmml" xref="S5.SS2.p1.3.m3.1.1.2.3.1"></times><ci id="S5.SS2.p1.3.m3.1.1.2.3.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2.3.2">𝑚</ci><ci id="S5.SS2.p1.3.m3.1.1.2.3.3.cmml" xref="S5.SS2.p1.3.m3.1.1.2.3.3">𝑎</ci><ci id="S5.SS2.p1.3.m3.1.1.2.3.4.cmml" xref="S5.SS2.p1.3.m3.1.1.2.3.4">𝑥</ci></apply></apply><cn id="S5.SS2.p1.3.m3.1.1.3.cmml" type="integer" xref="S5.SS2.p1.3.m3.1.1.3">400</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.1c">\tau_{max}\geq 400</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.3.m3.1d">italic_τ start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT ≥ 400</annotation></semantics></math>. Continually increasing the temperature renders the annealing strategy ineffective, resulting in a slower convergence speed.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">In terms of prune sparsity, low sparsity restricts the available capacity for subsequent tasks, while high sparsity adversely affects general domain performance, both contributing to diminished overall performance. Notably, the performance gap across varying prune sparsity levels is relatively small, highlighting the robustness of F-MALLOC.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Analyzing Memory Capacity Allocation</h3>
<figure class="ltx_figure" id="S5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="225" id="S5.F5.g1" src="x5.png" width="373"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Feed-forward memory capacity usage in the training process of task sequence 0. Vertical dash lines indicate task switches.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">F-MALLOC employs a task mask mechanism for the dynamic allocation of feed-forward memories to different tasks. Therefore, by computing the accumulated task mask <math alttext="m^{&lt;t+1}" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><msup id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2" xref="S5.SS3.p1.1.m1.1.1.2.cmml">m</mi><mrow id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3.cmml"><mi id="S5.SS3.p1.1.m1.1.1.3.2" xref="S5.SS3.p1.1.m1.1.1.3.2.cmml"></mi><mo id="S5.SS3.p1.1.m1.1.1.3.1" xref="S5.SS3.p1.1.m1.1.1.3.1.cmml">&lt;</mo><mrow id="S5.SS3.p1.1.m1.1.1.3.3" xref="S5.SS3.p1.1.m1.1.1.3.3.cmml"><mi id="S5.SS3.p1.1.m1.1.1.3.3.2" xref="S5.SS3.p1.1.m1.1.1.3.3.2.cmml">t</mi><mo id="S5.SS3.p1.1.m1.1.1.3.3.1" xref="S5.SS3.p1.1.m1.1.1.3.3.1.cmml">+</mo><mn id="S5.SS3.p1.1.m1.1.1.3.3.3" xref="S5.SS3.p1.1.m1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">superscript</csymbol><ci id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2">𝑚</ci><apply id="S5.SS3.p1.1.m1.1.1.3.cmml" xref="S5.SS3.p1.1.m1.1.1.3"><lt id="S5.SS3.p1.1.m1.1.1.3.1.cmml" xref="S5.SS3.p1.1.m1.1.1.3.1"></lt><csymbol cd="latexml" id="S5.SS3.p1.1.m1.1.1.3.2.cmml" xref="S5.SS3.p1.1.m1.1.1.3.2">absent</csymbol><apply id="S5.SS3.p1.1.m1.1.1.3.3.cmml" xref="S5.SS3.p1.1.m1.1.1.3.3"><plus id="S5.SS3.p1.1.m1.1.1.3.3.1.cmml" xref="S5.SS3.p1.1.m1.1.1.3.3.1"></plus><ci id="S5.SS3.p1.1.m1.1.1.3.3.2.cmml" xref="S5.SS3.p1.1.m1.1.1.3.3.2">𝑡</ci><cn id="S5.SS3.p1.1.m1.1.1.3.3.3.cmml" type="integer" xref="S5.SS3.p1.1.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">m^{&lt;t+1}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">italic_m start_POSTSUPERSCRIPT &lt; italic_t + 1 end_POSTSUPERSCRIPT</annotation></semantics></math> and subsequently binarizing it, we can assess the proportion of allocated memories. As depicted in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.F5" title="Figure 5 ‣ 5.3 Analyzing Memory Capacity Allocation ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">5</span></a>, the capacity usage undergoes rapid growth in the initial training stage for all tasks, gradually converging at a stable rate thereafter.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T4.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S5.T4.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.2">#Token</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.3">Init_loss</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.4">Capacity usage[%]</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T4.1.2.1.1">Koran</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.1.2">0.52M</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.1.3">3.455</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.1.4">12.25</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T4.1.3.2.1">IT</th>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.2.2">3.61M</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.2.3">2.398</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.2.4">17.68</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T4.1.4.3.1">Subtitles</th>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.3.2">6.25M</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.3.3">3.144</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.3.4">22.48</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T4.1.5.4.1">Medical</th>
<td class="ltx_td ltx_align_center" id="S5.T4.1.5.4.2">6.90M</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.5.4.3">2.284</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.5.4.4">23.15</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T4.1.6.5.1">Law</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.6.5.2">19.06M</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.6.5.3">1.616</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.6.5.4">22.69</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Stastics of data volume (#Token), task complexity(Init_loss) and average capacity usage.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">Upon comparing different tasks, we present the statistics of data volume and task complexity for each domain alongside the corresponding average capacity usage in Table.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.T4" title="Table 4 ‣ 5.3 Analyzing Memory Capacity Allocation ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">4</span></a>. Observing the table, we discern a trend of increased capacity usage with higher data volume. ‘Law’ stands out as an exception to this trend, having three times more tokens yet occupying a similar capacity as ‘Subtitles’ and ‘Medical’. However, ‘Law’ is evidently the easiest domain, indicated by its lowest initial loss at the start of its training phase. Hence, its low capacity usage is justified by its relatively lower difficulty. Taken together, these observations suggest that our proposed method has acquired a rational and efficient memory allocation strategy, effectively leveraging the data volumes and inherent complexities of the tasks.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.1">Towards the conclusion of the entire training process, approximately 40% of the feed-forward memory is still ‘writable’. However, the best-performing baseline, PTE, has already exhausted model capacity. This emphasizes the potential of our proposed method to effectively accommodate additional tasks.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Knowledge Transfer and Domain Similarity from Memory Reusing</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.4">In our proposed method, we employ non-exclusive task masks, allowing feed-forward memories allocated to previous tasks to be reused by subsequent tasks. To investigate the inter-task relationship regarding the allocation of memories, we visually represent the overlap rate among task masks for different tasks. Specifically, we utilize the Jaccard similarity coefficient, defined as <math alttext="\frac{|m^{i}\cap m^{j}|}{|m^{i}\cup m^{j}|}" class="ltx_Math" display="inline" id="S5.SS4.p1.1.m1.2"><semantics id="S5.SS4.p1.1.m1.2a"><mfrac id="S5.SS4.p1.1.m1.2.2" xref="S5.SS4.p1.1.m1.2.2.cmml"><mrow id="S5.SS4.p1.1.m1.1.1.1.1" xref="S5.SS4.p1.1.m1.1.1.1.2.cmml"><mo id="S5.SS4.p1.1.m1.1.1.1.1.2" stretchy="false" xref="S5.SS4.p1.1.m1.1.1.1.2.1.cmml">|</mo><mrow id="S5.SS4.p1.1.m1.1.1.1.1.1" xref="S5.SS4.p1.1.m1.1.1.1.1.1.cmml"><msup id="S5.SS4.p1.1.m1.1.1.1.1.1.2" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.cmml"><mi id="S5.SS4.p1.1.m1.1.1.1.1.1.2.2" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.2.cmml">m</mi><mi id="S5.SS4.p1.1.m1.1.1.1.1.1.2.3" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.3.cmml">i</mi></msup><mo id="S5.SS4.p1.1.m1.1.1.1.1.1.1" xref="S5.SS4.p1.1.m1.1.1.1.1.1.1.cmml">∩</mo><msup id="S5.SS4.p1.1.m1.1.1.1.1.1.3" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.cmml"><mi id="S5.SS4.p1.1.m1.1.1.1.1.1.3.2" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.2.cmml">m</mi><mi id="S5.SS4.p1.1.m1.1.1.1.1.1.3.3" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.3.cmml">j</mi></msup></mrow><mo id="S5.SS4.p1.1.m1.1.1.1.1.3" stretchy="false" xref="S5.SS4.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S5.SS4.p1.1.m1.2.2.2.1" xref="S5.SS4.p1.1.m1.2.2.2.2.cmml"><mo id="S5.SS4.p1.1.m1.2.2.2.1.2" stretchy="false" xref="S5.SS4.p1.1.m1.2.2.2.2.1.cmml">|</mo><mrow id="S5.SS4.p1.1.m1.2.2.2.1.1" xref="S5.SS4.p1.1.m1.2.2.2.1.1.cmml"><msup id="S5.SS4.p1.1.m1.2.2.2.1.1.2" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2.cmml"><mi id="S5.SS4.p1.1.m1.2.2.2.1.1.2.2" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2.2.cmml">m</mi><mi id="S5.SS4.p1.1.m1.2.2.2.1.1.2.3" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2.3.cmml">i</mi></msup><mo id="S5.SS4.p1.1.m1.2.2.2.1.1.1" xref="S5.SS4.p1.1.m1.2.2.2.1.1.1.cmml">∪</mo><msup id="S5.SS4.p1.1.m1.2.2.2.1.1.3" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3.cmml"><mi id="S5.SS4.p1.1.m1.2.2.2.1.1.3.2" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3.2.cmml">m</mi><mi id="S5.SS4.p1.1.m1.2.2.2.1.1.3.3" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3.3.cmml">j</mi></msup></mrow><mo id="S5.SS4.p1.1.m1.2.2.2.1.3" stretchy="false" xref="S5.SS4.p1.1.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.1.m1.2b"><apply id="S5.SS4.p1.1.m1.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2"><divide id="S5.SS4.p1.1.m1.2.2.3.cmml" xref="S5.SS4.p1.1.m1.2.2"></divide><apply id="S5.SS4.p1.1.m1.1.1.1.2.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1"><abs id="S5.SS4.p1.1.m1.1.1.1.2.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.2"></abs><apply id="S5.SS4.p1.1.m1.1.1.1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1"><intersect id="S5.SS4.p1.1.m1.1.1.1.1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.1"></intersect><apply id="S5.SS4.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2">superscript</csymbol><ci id="S5.SS4.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.2">𝑚</ci><ci id="S5.SS4.p1.1.m1.1.1.1.1.1.2.3.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S5.SS4.p1.1.m1.1.1.1.1.1.3.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S5.SS4.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.2">𝑚</ci><ci id="S5.SS4.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply><apply id="S5.SS4.p1.1.m1.2.2.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1"><abs id="S5.SS4.p1.1.m1.2.2.2.2.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.2"></abs><apply id="S5.SS4.p1.1.m1.2.2.2.1.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1"><union id="S5.SS4.p1.1.m1.2.2.2.1.1.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.1"></union><apply id="S5.SS4.p1.1.m1.2.2.2.1.1.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.2.2.2.1.1.2.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2">superscript</csymbol><ci id="S5.SS4.p1.1.m1.2.2.2.1.1.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2.2">𝑚</ci><ci id="S5.SS4.p1.1.m1.2.2.2.1.1.2.3.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.2.3">𝑖</ci></apply><apply id="S5.SS4.p1.1.m1.2.2.2.1.1.3.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.2.2.2.1.1.3.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3">superscript</csymbol><ci id="S5.SS4.p1.1.m1.2.2.2.1.1.3.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3.2">𝑚</ci><ci id="S5.SS4.p1.1.m1.2.2.2.1.1.3.3.cmml" xref="S5.SS4.p1.1.m1.2.2.2.1.1.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.1.m1.2c">\frac{|m^{i}\cap m^{j}|}{|m^{i}\cup m^{j}|}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.1.m1.2d">divide start_ARG | italic_m start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ∩ italic_m start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT | end_ARG start_ARG | italic_m start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ∪ italic_m start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT | end_ARG</annotation></semantics></math>, to assess the memory reuse between task <math alttext="t_{i}" class="ltx_Math" display="inline" id="S5.SS4.p1.2.m2.1"><semantics id="S5.SS4.p1.2.m2.1a"><msub id="S5.SS4.p1.2.m2.1.1" xref="S5.SS4.p1.2.m2.1.1.cmml"><mi id="S5.SS4.p1.2.m2.1.1.2" xref="S5.SS4.p1.2.m2.1.1.2.cmml">t</mi><mi id="S5.SS4.p1.2.m2.1.1.3" xref="S5.SS4.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.2.m2.1b"><apply id="S5.SS4.p1.2.m2.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p1.2.m2.1.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.p1.2.m2.1.1.2.cmml" xref="S5.SS4.p1.2.m2.1.1.2">𝑡</ci><ci id="S5.SS4.p1.2.m2.1.1.3.cmml" xref="S5.SS4.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.2.m2.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.2.m2.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t_{j}" class="ltx_Math" display="inline" id="S5.SS4.p1.3.m3.1"><semantics id="S5.SS4.p1.3.m3.1a"><msub id="S5.SS4.p1.3.m3.1.1" xref="S5.SS4.p1.3.m3.1.1.cmml"><mi id="S5.SS4.p1.3.m3.1.1.2" xref="S5.SS4.p1.3.m3.1.1.2.cmml">t</mi><mi id="S5.SS4.p1.3.m3.1.1.3" xref="S5.SS4.p1.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.3.m3.1b"><apply id="S5.SS4.p1.3.m3.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS4.p1.3.m3.1.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS4.p1.3.m3.1.1.2.cmml" xref="S5.SS4.p1.3.m3.1.1.2">𝑡</ci><ci id="S5.SS4.p1.3.m3.1.1.3.cmml" xref="S5.SS4.p1.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.3.m3.1c">t_{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.3.m3.1d">italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="i&lt;j" class="ltx_Math" display="inline" id="S5.SS4.p1.4.m4.1"><semantics id="S5.SS4.p1.4.m4.1a"><mrow id="S5.SS4.p1.4.m4.1.1" xref="S5.SS4.p1.4.m4.1.1.cmml"><mi id="S5.SS4.p1.4.m4.1.1.2" xref="S5.SS4.p1.4.m4.1.1.2.cmml">i</mi><mo id="S5.SS4.p1.4.m4.1.1.1" xref="S5.SS4.p1.4.m4.1.1.1.cmml">&lt;</mo><mi id="S5.SS4.p1.4.m4.1.1.3" xref="S5.SS4.p1.4.m4.1.1.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.4.m4.1b"><apply id="S5.SS4.p1.4.m4.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1"><lt id="S5.SS4.p1.4.m4.1.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1.1"></lt><ci id="S5.SS4.p1.4.m4.1.1.2.cmml" xref="S5.SS4.p1.4.m4.1.1.2">𝑖</ci><ci id="S5.SS4.p1.4.m4.1.1.3.cmml" xref="S5.SS4.p1.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.4.m4.1c">i&lt;j</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.4.m4.1d">italic_i &lt; italic_j</annotation></semantics></math>. The results, depicted in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.F6" title="Figure 6 ‣ 5.4 Knowledge Transfer and Domain Similarity from Memory Reusing ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">6</span></a>, reveal a substantial proportion of memory reuse between different tasks. This observation underscores the effectiveness of our non-exclusive masking strategy in facilitating knowledge transfer between tasks.</p>
</div>
<figure class="ltx_figure" id="S5.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="261" id="S5.F6.g1" src="x6.png" width="374"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Percentage of memory reuse across tasks.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS4.p2">
<p class="ltx_p" id="S5.SS4.p2.1">We further conducted a comparative analysis with the unsupervised domain clustering approach proposed by <cite class="ltx_cite ltx_citemacro_citet">Aharoni and Goldberg (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib1" title="">2020</a>)</cite>. The observed memory reuse rate aligns consistently with domain similarity. Specifically, <cite class="ltx_cite ltx_citemacro_citet">Aharoni and Goldberg (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib1" title="">2020</a>)</cite> found that the ‘IT’ domain cluster attracted the largest number of outliers, primarily from the ‘Law’, ‘Medical’, and ‘Subtitles’ domains. We observed a corresponding pattern of higher memory reuse between these domains in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S5.F6" title="Figure 6 ‣ 5.4 Knowledge Transfer and Domain Similarity from Memory Reusing ‣ 5 Results and Analysis ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">6</span></a>. Furthermore, their findings indicated that the ‘Koran’ domain cluster is isolated and attracts the smallest number of outliers, aligning with the notably lower memory reuse observed in our experiments for the ‘Koran’ domain. This alignment highlights the effectiveness of our approach in capturing and leveraging task similarities for improved knowledge transfer.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Related Work</h2>
<section class="ltx_paragraph" id="S6.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">CL for NMT.</h4>
<div class="ltx_para" id="S6.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS0.SSS0.Px1.p1.1">Recent work on CL of NMT can be divided into two categories: regularization-based and architecture-based. Regularization-based techniques address forgetting by incorporating penalty terms to constrain the divergence of model parameters from their previous values. Prominent methods, including Elastic Weight Consolidation (EWC) <cite class="ltx_cite ltx_citemacro_citep">(Thompson et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib34" title="">2019</a>; Saunders et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib29" title="">2019</a>)</cite> and knowledge distillation <cite class="ltx_cite ltx_citemacro_citep">(Dakwale and Monz, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib7" title="">2017</a>; Khayrallah et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib17" title="">2018</a>; Zhao et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib38" title="">2022</a>; Cao et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib4" title="">2021</a>)</cite>, are widely acknowledged for their effectiveness in the fine-tuning process. <cite class="ltx_cite ltx_citemacro_citet">Gu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib13" title="">2022</a>)</cite> introduced a hard Low Forgetting Risk restriction on all parameters. In contrast to these approaches, our method effectively mitigates forgetting by blocking gradients, showcasing a more efficient strategy.</p>
</div>
<div class="ltx_para" id="S6.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S6.SS0.SSS0.Px1.p2.1">Architecture-based methods involve dividing the model into disjoint task-specific components. For instance, <cite class="ltx_cite ltx_citemacro_citet">Gu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib12" title="">2021</a>)</cite> prune the general domain model and subsequently finetune free parameters to adapt to the target domain. Another approach, as demonstrated by <cite class="ltx_cite ltx_citemacro_citet">Liang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib22" title="">2021</a>)</cite>, involves freezing Lottery Ticket Subnetworks to prevent forgetting. Additionally, <cite class="ltx_cite ltx_citemacro_citet">Huang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib15" title="">2023</a>)</cite> propose utilizing external models’ feed-forward layers and embeddings as a plug-in for knowledge transfer. In comparison to these methods, our approach stands out as it requires no pre-specification of task numbers or space allocation. Moreover, it avoids the need to store an external model or a mask matrix.</p>
</div>
</section>
<section class="ltx_paragraph" id="S6.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Unstructured Pruning for Transformers.</h4>
<div class="ltx_para" id="S6.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S6.SS0.SSS0.Px2.p1.1">For coarse-grained unstructured pruning of Transformer models, attention-head pruning <cite class="ltx_cite ltx_citemacro_citep">(Voita et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib36" title="">2019</a>; Michel et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib25" title="">2019</a>)</cite>, layer-dropping <cite class="ltx_cite ltx_citemacro_citep">(Fan et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib8" title="">2020</a>)</cite> and block pruning <cite class="ltx_cite ltx_citemacro_citep">(Lagunas et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib21" title="">2021</a>)</cite> have been popularly used. Our proposed pruning method shares similarities with the approach presented in <cite class="ltx_cite ltx_citemacro_citet">Xia et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib37" title="">2022</a>); Kwon et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib20" title="">2022</a>)</cite>, where a mask or diagonal matrix is introduced to facilitate pruning. However, our approach diverges in both the estimation of importance and the selection of modules earmarked for pruning..</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">This paper introduces F-MALLOC, a pioneering method for CL in NMT systems. By decomposing feed-forward layers into memory cells and implementing a strategic memory allocation approach, F-MALLOC proves effective in simultaneously enhancing new knowledge acquisition and alleviating forgetting. Evaluation with a specialized protocol for CL in NMT, positions F-MALLOC as a superior performer, showcasing substantial improvements, robustness, and extensibility compared to existing approaches. The method’s ability to leverage task difficulty and inter-task similarities for enhanced performance represents a significant advancement not seen in previous methods. F-MALLOC not only contribute to the field of CL in NMT but also pave the way for more efficient and adaptable neural network architectures.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Although our proposed F-MALLOC can effectively alleviate forgetting and exhibits high robustness and extensibility, there are several limitations in our current study: On the one hand, F-MALLOC utilizes a fixed-capacity Transformer, which may limit its capability to adapt to an unrestricted number of tasks. On the other hand, F-MALLOC is designed for domain incremental training. Thus, adding a new language can not be directly solved. We leave these problems for future research.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">We express our gratitude to all the anonymous reviewers for their insightful and valuable comments. We also extend our appreciation to Wenpeng Hu for the fruitful discussions. This work has been supported by the National Natural Science Foundation of China (NSFC) under Grant No. 62206295.
</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aharoni and Goldberg (2020)</span>
<span class="ltx_bibblock">
Roee Aharoni and Yoav Goldberg. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2020.ACL-MAIN.692" title="">Unsupervised domain clusters in pretrained language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics, ACL 2020, Online, July 5-10, 2020</em>, pages 7747–7763. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bahdanau et al. (2015)</span>
<span class="ltx_bibblock">
Dzmitry Bahdanau, Kyunghyun Cho, and Yoshua Bengio. 2015.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1409.0473" title="">Neural machine translation by jointly learning to align and translate</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">3rd International Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May 7-9, 2015, Conference Track Proceedings</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bapna and Firat (2019)</span>
<span class="ltx_bibblock">
Ankur Bapna and Orhan Firat. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/D19-1165" title="">Simple, scalable adaptation for neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing, EMNLP-IJCNLP 2019, Hong Kong, China, November 3-7, 2019</em>, pages 1538–1548. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et al. (2021)</span>
<span class="ltx_bibblock">
Yue Cao, Hao-Ran Wei, Boxing Chen, and Xiaojun Wan. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2021.NAACL-MAIN.310" title="">Continual learning for neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the 2021 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, NAACL-HLT 2021, Online, June 6-11, 2021</em>, pages 3964–3974. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chu and Dabre (2019)</span>
<span class="ltx_bibblock">
Chenhui Chu and Raj Dabre. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1906.07978" title="">Multilingual multi-domain adaptation approaches for neural machine translation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">CoRR</em>, abs/1906.07978.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chu and Wang (2018)</span>
<span class="ltx_bibblock">
Chenhui Chu and Rui Wang. 2018.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1806.00258" title="">A survey of domain adaptation for neural machine translation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">CoRR</em>, abs/1806.00258.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dakwale and Monz (2017)</span>
<span class="ltx_bibblock">
Praveen Dakwale and Christof Monz. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2017.mtsummit-papers.13" title="">Fine-tuning for neural machine translation with limited degradation across in- and out-of-domain data</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of Machine Translation Summit XVI, Volume 1: Research Track, MTSummit 2017, September 18-22, 2017, Nagoya, Aichi, Japan</em>, pages 156–169.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al. (2020)</span>
<span class="ltx_bibblock">
Angela Fan, Edouard Grave, and Armand Joulin. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=SylO2yStDr" title="">Reducing transformer depth on demand with structured dropout</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">8th International Conference on Learning Representations, ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Freitag and Al-Onaizan (2016)</span>
<span class="ltx_bibblock">
Markus Freitag and Yaser Al-Onaizan. 2016.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1612.06897" title="">Fast domain adaptation for neural machine translation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">CoRR</em>, abs/1612.06897.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">French (1993)</span>
<span class="ltx_bibblock">
Robert M. French. 1993.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://papers.nips.cc/paper/799-catastrophic-interference-in-connectionist-networks-can-it-be-predicted-can-it-be-prevented" title="">Catastrophic interference in connectionist networks: Can it be predicted, can it be prevented?</a>
</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Advances in Neural Information Processing Systems 6, [7th NIPS Conference, Denver, Colorado, USA, 1993]</em>, pages 1176–1177. Morgan Kaufmann.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geva et al. (2021)</span>
<span class="ltx_bibblock">
Mor Geva, Roei Schuster, Jonathan Berant, and Omer Levy. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2021.EMNLP-MAIN.446" title="">Transformer feed-forward layers are key-value memories</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing, EMNLP 2021, Virtual Event / Punta Cana, Dominican Republic, 7-11 November, 2021</em>, pages 5484–5495. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gu et al. (2021)</span>
<span class="ltx_bibblock">
Shuhao Gu, Yang Feng, and Wanying Xie. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2021.NAACL-MAIN.308" title="">Pruning-then-expanding model for domain adaptation of neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 2021 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, NAACL-HLT 2021, Online, June 6-11, 2021</em>, pages 3942–3952. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gu et al. (2022)</span>
<span class="ltx_bibblock">
Shuhao Gu, Bojie Hu, and Yang Feng. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2022.EMNLP-MAIN.111" title="">Continual learning of neural machine translation within low forgetting risk regions</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing, EMNLP 2022, Abu Dhabi, United Arab Emirates, December 7-11, 2022</em>, pages 1707–1718. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hinton et al. (2012)</span>
<span class="ltx_bibblock">
Geoffrey E. Hinton, Nitish Srivastava, Alex Krizhevsky, Ilya Sutskever, and Ruslan Salakhutdinov. 2012.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1207.0580" title="">Improving neural networks by preventing co-adaptation of feature detectors</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">CoRR</em>, abs/1207.0580.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2023)</span>
<span class="ltx_bibblock">
Kaiyu Huang, Peng Li, Jin Ma, Ting Yao, and Yang Liu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2023.ACL-LONG.852" title="">Knowledge transfer in incremental learning for multilingual neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023</em>, pages 15286–15304. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huszár (2017)</span>
<span class="ltx_bibblock">
Ferenc Huszár. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1712.03847" title="">On quadratic penalties in elastic weight consolidation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">CoRR</em>, abs/1712.03847.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khayrallah et al. (2018)</span>
<span class="ltx_bibblock">
Huda Khayrallah, Brian Thompson, Kevin Duh, and Philipp Koehn. 2018.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/W18-2705" title="">Regularized training objective for continued training for domain adaptation in neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Proceedings of the 2nd Workshop on Neural Machine Translation and Generation, NMT@ACL 2018, Melbourne, Australia, July 20, 2018</em>, pages 36–44. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba (2015)</span>
<span class="ltx_bibblock">
Diederik P. Kingma and Jimmy Ba. 2015.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1412.6980" title="">Adam: A method for stochastic optimization</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">3rd International Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May 7-9, 2015, Conference Track Proceedings</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koehn and Knowles (2017)</span>
<span class="ltx_bibblock">
Philipp Koehn and Rebecca Knowles. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/W17-3204" title="">Six challenges for neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of the First Workshop on Neural Machine Translation, NMT@ACL 2017, Vancouver, Canada, August 4, 2017</em>, pages 28–39. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwon et al. (2022)</span>
<span class="ltx_bibblock">
Woosuk Kwon, Sehoon Kim, Michael W. Mahoney, Joseph Hassoun, Kurt Keutzer, and Amir Gholami. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://papers.nips.cc/paper_files/paper/2022/hash/987bed997ab668f91c822a09bce3ea12-Abstract-Conference.html" title="">A fast post-training pruning framework for transformers</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">NeurIPS</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lagunas et al. (2021)</span>
<span class="ltx_bibblock">
François Lagunas, Ella Charlaix, Victor Sanh, and Alexander M. Rush. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2021.EMNLP-MAIN.829" title="">Block pruning for faster transformers</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing, EMNLP 2021, Virtual Event / Punta Cana, Dominican Republic, 7-11 November, 2021</em>, pages 10619–10629. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2021)</span>
<span class="ltx_bibblock">
Jianze Liang, Chengqi Zhao, Mingxuan Wang, Xipeng Qiu, and Lei Li. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1609/AAAI.V35I15.17574" title="">Finding sparse structures for domain specific neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Thirty-Fifth AAAI Conference on Artificial Intelligence, AAAI 2021, Thirty-Third Conference on Innovative Applications of Artificial Intelligence, IAAI 2021, The Eleventh Symposium on Educational Advances in Artificial Intelligence, EAAI 2021, Virtual Event, February 2-9, 2021</em>, pages 13333–13342. AAAI Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2021)</span>
<span class="ltx_bibblock">
Liyang Liu, Shilong Zhang, Zhanghui Kuang, Aojun Zhou, Jing-Hao Xue, Xinjiang Wang, Yimin Chen, Wenming Yang, Qingmin Liao, and Wayne Zhang. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://proceedings.mlr.press/v139/liu21ab.html" title="">Group fisher pruning for practical network compression</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Proceedings of the 38th International Conference on Machine Learning, ICML 2021, 18-24 July 2021, Virtual Event</em>, volume 139 of <em class="ltx_emph ltx_font_italic" id="bib.bib23.2.2">Proceedings of Machine Learning Research</em>, pages 7021–7032. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2020)</span>
<span class="ltx_bibblock">
Yaoyao Liu, Yuting Su, An-An Liu, Bernt Schiele, and Qianru Sun. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1109/CVPR42600.2020.01226" title="">Mnemonics training: Multi-class incremental learning without forgetting</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">2020 IEEE/CVF Conference on Computer Vision and Pattern Recognition, CVPR 2020, Seattle, WA, USA, June 13-19, 2020</em>, pages 12242–12251. Computer Vision Foundation / IEEE.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Michel et al. (2019)</span>
<span class="ltx_bibblock">
Paul Michel, Omer Levy, and Graham Neubig. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper/2019/hash/2c601ad9d2ff9bc8b282670cdd54f69f-Abstract.html" title="">Are sixteen heads really better than one?</a>
</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Advances in Neural Information Processing Systems 32: Annual Conference on Neural Information Processing Systems 2019, NeurIPS 2019, December 8-14, 2019, Vancouver, BC, Canada</em>, pages 14014–14024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ng et al. (2019)</span>
<span class="ltx_bibblock">
Nathan Ng, Kyra Yee, Alexei Baevski, Myle Ott, Michael Auli, and Sergey Edunov. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/W19-5333" title="">Facebook fair’s WMT19 news translation task submission</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Proceedings of the Fourth Conference on Machine Translation, WMT 2019, Florence, Italy, August 1-2, 2019 - Volume 2: Shared Task Papers, Day 1</em>, pages 314–319. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ott et al. (2019)</span>
<span class="ltx_bibblock">
Myle Ott, Sergey Edunov, Alexei Baevski, Angela Fan, Sam Gross, Nathan Ng, David Grangier, and Michael Auli. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/N19-4009" title="">fairseq: A fast, extensible toolkit for sequence modeling</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, NAACL-HLT 2019, Minneapolis, MN, USA, June 2-7, 2019, Demonstrations</em>, pages 48–53. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saunders (2022)</span>
<span class="ltx_bibblock">
Danielle Saunders. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1613/JAIR.1.13566" title="">Domain adaptation and multi-domain adaptation for neural machine translation: A survey</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">J. Artif. Intell. Res.</em>, 75:351–424.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saunders et al. (2019)</span>
<span class="ltx_bibblock">
Danielle Saunders, Felix Stahlberg, Adrià de Gispert, and Bill Byrne. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/P19-1022" title="">Domain adaptive inference for neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers</em>, pages 222–228. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sennrich et al. (2016)</span>
<span class="ltx_bibblock">
Rico Sennrich, Barry Haddow, and Alexandra Birch. 2016.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/P16-1162" title="">Neural machine translation of rare words with subword units</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics, ACL 2016, August 7-12, 2016, Berlin, Germany, Volume 1: Long Papers</em>. The Association for Computer Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Serrà et al. (2018)</span>
<span class="ltx_bibblock">
Joan Serrà, Didac Suris, Marius Miron, and Alexandros Karatzoglou. 2018.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://proceedings.mlr.press/v80/serra18a.html" title="">Overcoming catastrophic forgetting with hard attention to the task</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 35th International Conference on Machine Learning, ICML 2018, Stockholmsmässan, Stockholm, Sweden, July 10-15, 2018</em>, volume 80 of <em class="ltx_emph ltx_font_italic" id="bib.bib31.2.2">Proceedings of Machine Learning Research</em>, pages 4555–4564. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sukhbaatar et al. (2019)</span>
<span class="ltx_bibblock">
Sainbayar Sukhbaatar, Edouard Grave, Guillaume Lample, Hervé Jégou, and Armand Joulin. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1907.01470" title="">Augmenting self-attention with persistent memory</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">CoRR</em>, abs/1907.01470.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sukhbaatar et al. (2015)</span>
<span class="ltx_bibblock">
Sainbayar Sukhbaatar, Arthur Szlam, Jason Weston, and Rob Fergus. 2015.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper/2015/hash/8fb21ee7a2207526da55a679f0332de2-Abstract.html" title="">End-to-end memory networks</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Advances in Neural Information Processing Systems 28: Annual Conference on Neural Information Processing Systems 2015, December 7-12, 2015, Montreal, Quebec, Canada</em>, pages 2440–2448.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thompson et al. (2019)</span>
<span class="ltx_bibblock">
Brian Thompson, Jeremy Gwinnup, Huda Khayrallah, Kevin Duh, and Philipp Koehn. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/N19-1209" title="">Overcoming catastrophic forgetting during domain adaptation of neural machine translation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, NAACL-HLT 2019, Minneapolis, MN, USA, June 2-7, 2019, Volume 1 (Long and Short Papers)</em>, pages 2062–2068. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N. Gomez, Lukasz Kaiser, and Illia Polosukhin. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper/2017/hash/3f5ee243547dee91fbd053c1c4a845aa-Abstract.html" title="">Attention is all you need</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Advances in Neural Information Processing Systems 30: Annual Conference on Neural Information Processing Systems 2017, December 4-9, 2017, Long Beach, CA, USA</em>, pages 5998–6008.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Voita et al. (2019)</span>
<span class="ltx_bibblock">
Elena Voita, David Talbot, Fedor Moiseev, Rico Sennrich, and Ivan Titov. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/P19-1580" title="">Analyzing multi-head self-attention: Specialized heads do the heavy lifting, the rest can be pruned</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers</em>, pages 5797–5808. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xia et al. (2022)</span>
<span class="ltx_bibblock">
Mengzhou Xia, Zexuan Zhong, and Danqi Chen. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2022.ACL-LONG.107" title="">Structured pruning learns compact and accurate models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2022, Dublin, Ireland, May 22-27, 2022</em>, pages 1513–1528. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2022)</span>
<span class="ltx_bibblock">
Yang Zhao, Junnan Zhu, Lu Xiang, Jiajun Zhang, Yu Zhou, Feifei Zhai, and Chengqing Zong. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2212.02800" title="">Life-long learning for multilingual neural machine translation with knowledge distillation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">CoRR</em>, abs/2212.02800.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Dataset Details</h2>
<figure class="ltx_table" id="A1.T5">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T5.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T5.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="A1.T5.1.1.1.1">Dataset</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.1.1.1.2">Train</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.1.1.1.3">Dev.</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.1.1.1.4">Test</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.2.2.1">WMT17</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.2.2.2">3.9M</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.2.2.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.2.2.4">-</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.3.3.1" rowspan="3"><span class="ltx_text" id="A1.T5.1.3.3.1.1">General</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A1.T5.1.3.3.2">Newstest2019</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.3.3.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.3.3.4">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.3.3.5">2000</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.4.4">
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.1.4.4.1">Newstest2020</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.4.4.2">-</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.4.4.3">-</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.4.4.4">1000</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.5.5">
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.1.5.5.1">Newstest2021</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.5.5.2">-</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.5.5.3">-</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.5.5.4">785</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.6.6">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.6.6.1">IT</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.1.6.6.2">223K</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.1.6.6.3" rowspan="5"><span class="ltx_text" id="A1.T5.1.6.6.3.1">2000</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.1.6.6.4" rowspan="5"><span class="ltx_text" id="A1.T5.1.6.6.4.1">2000</span></td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.7.7">
<td class="ltx_td ltx_align_center ltx_border_r" colspan="2" id="A1.T5.1.7.7.1">Koran</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.7.7.2">17K</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.8.8">
<td class="ltx_td ltx_align_center ltx_border_r" colspan="2" id="A1.T5.1.8.8.1">Law</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.8.8.2">467K</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.9.9">
<td class="ltx_td ltx_align_center ltx_border_r" colspan="2" id="A1.T5.1.9.9.1">Medical</td>
<td class="ltx_td ltx_align_center" id="A1.T5.1.9.9.2">248K</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.10.10">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" colspan="2" id="A1.T5.1.10.10.1">Subtitles</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T5.1.10.10.2">500K</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Dataset statistics.</figcaption>
</figure>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Here, we present detailed statistics for the datasets used in our experiments in Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A1.T5" title="Table 5 ‣ Appendix A Dataset Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">5</span></a>, focusing on the translation direction EN <math alttext="\to" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><mo id="A1.p1.1.m1.1.1" stretchy="false" xref="A1.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">→</annotation></semantics></math> DE. We employ Moses scripts<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>http://www.statmt.org/moses/</span></span></span> for sentence tokenization and truecasing. Additionally, we utilize FastBPE<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>https://github.com/glample/fastBPE</span></span></span> to apply Byte Pair Encoding (BPE)<cite class="ltx_cite ltx_citemacro_citep">(Sennrich et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib30" title="">2016</a>)</cite> to the tokenized data. The dictionary and BPE codes are sourced from the Fairseq WMT19 German-English news translation pretrained model<cite class="ltx_cite ltx_citemacro_citep">(Ng et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib26" title="">2019</a>)</cite>.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Baseline Details</h2>
<figure class="ltx_table" id="A2.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T6.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A2.T6.1.1.1.1" rowspan="2"><span class="ltx_text" id="A2.T6.1.1.1.1.1">Method</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="6" id="A2.T6.1.1.1.2">Domain</th>
</tr>
<tr class="ltx_tr" id="A2.T6.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.1">General</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.2">IT</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.3">Koran</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.4">Law</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.5">Medical</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T6.1.2.2.6">Subtitles</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T6.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.T6.1.3.1.1">Seq-finetune</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.2">6.28</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.3">17.62</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.4">6.35</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.5">12.91</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.6">11.69</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T6.1.3.1.7">9.20</td>
</tr>
<tr class="ltx_tr" id="A2.T6.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A2.T6.1.4.2.1">EWC</th>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.2">5.23</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.3">5.64</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.4">1.55</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.5">4.70</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.6">6.12</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.4.2.7">5.46</td>
</tr>
<tr class="ltx_tr" id="A2.T6.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A2.T6.1.5.3.1">KD</th>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.2">3.97</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.3">12.85</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.4">4.91</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.5">8.69</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.6">5.74</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.5.3.7">6.16</td>
</tr>
<tr class="ltx_tr" id="A2.T6.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A2.T6.1.6.4.1">Dynamic-KD</th>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.2">2.59</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.3">1.81</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.4">0.87</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.5">1.85</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.6">1.49</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.6.4.7">0.76</td>
</tr>
<tr class="ltx_tr" id="A2.T6.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A2.T6.1.7.5.1">PTE</th>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.2">0.00</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.3">0.60</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.4">0.23</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.5">0.33</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.6">0.24</td>
<td class="ltx_td ltx_align_center" id="A2.T6.1.7.5.7">0.40</td>
</tr>
<tr class="ltx_tr" id="A2.T6.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A2.T6.1.8.6.1">F-MALLOC(Ours)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.2">0.00</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.3">0.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.4">0.27</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.5">0.62</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.6">0.61</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T6.1.8.6.7">0.57</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Standard deviation of BLEU score of the proposed F-MALLOC and CL baselines over 5 random task sequences.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T7.20">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T7.20.21.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A2.T7.20.21.1.1" rowspan="2">
<span class="ltx_text" id="A2.T7.20.21.1.1.1">Domain order</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="A2.T7.20.21.1.2">EWC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="A2.T7.20.21.1.3">PTE</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="A2.T7.20.21.1.4">F-MALLOC</th>
</tr>
<tr class="ltx_tr" id="A2.T7.20.22.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.1">BLEU</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.2">FR[%]</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.3">BLEU</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.4">FR[%]</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.5">BLEU</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A2.T7.20.22.2.6">FR[%]</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T7.4.4">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T7.4.4.4">IT<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.1.1.1.m1.1"><semantics id="A2.T7.1.1.1.m1.1a"><mo id="A2.T7.1.1.1.m1.1.1" stretchy="false" xref="A2.T7.1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.1.1.1.m1.1b"><ci id="A2.T7.1.1.1.m1.1.1.cmml" xref="A2.T7.1.1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.1.1.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.1.1.1.m1.1d">→</annotation></semantics></math>Koran<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.2.2.2.m2.1"><semantics id="A2.T7.2.2.2.m2.1a"><mo id="A2.T7.2.2.2.m2.1.1" stretchy="false" xref="A2.T7.2.2.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.2.2.2.m2.1b"><ci id="A2.T7.2.2.2.m2.1.1.cmml" xref="A2.T7.2.2.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.2.2.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.2.2.2.m2.1d">→</annotation></semantics></math>Law<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.3.3.3.m3.1"><semantics id="A2.T7.3.3.3.m3.1a"><mo id="A2.T7.3.3.3.m3.1.1" stretchy="false" xref="A2.T7.3.3.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.3.3.3.m3.1b"><ci id="A2.T7.3.3.3.m3.1.1.cmml" xref="A2.T7.3.3.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.3.3.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.3.3.3.m3.1d">→</annotation></semantics></math>Medical<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.4.4.4.m4.1"><semantics id="A2.T7.4.4.4.m4.1a"><mo id="A2.T7.4.4.4.m4.1.1" stretchy="false" xref="A2.T7.4.4.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.4.4.4.m4.1b"><ci id="A2.T7.4.4.4.m4.1.1.cmml" xref="A2.T7.4.4.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.4.4.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.4.4.4.m4.1d">→</annotation></semantics></math>Subtitles</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.5">32.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.6">10.10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.7">39.58</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.8">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.9">40.55</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.4.4.10">0.24</td>
</tr>
<tr class="ltx_tr" id="A2.T7.8.8">
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T7.8.8.4">Koran<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.5.5.1.m1.1"><semantics id="A2.T7.5.5.1.m1.1a"><mo id="A2.T7.5.5.1.m1.1.1" stretchy="false" xref="A2.T7.5.5.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.5.5.1.m1.1b"><ci id="A2.T7.5.5.1.m1.1.1.cmml" xref="A2.T7.5.5.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.5.5.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.5.5.1.m1.1d">→</annotation></semantics></math>Medical<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.6.6.2.m2.1"><semantics id="A2.T7.6.6.2.m2.1a"><mo id="A2.T7.6.6.2.m2.1.1" stretchy="false" xref="A2.T7.6.6.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.6.6.2.m2.1b"><ci id="A2.T7.6.6.2.m2.1.1.cmml" xref="A2.T7.6.6.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.6.6.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.6.6.2.m2.1d">→</annotation></semantics></math>IT<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.7.7.3.m3.1"><semantics id="A2.T7.7.7.3.m3.1a"><mo id="A2.T7.7.7.3.m3.1.1" stretchy="false" xref="A2.T7.7.7.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.7.7.3.m3.1b"><ci id="A2.T7.7.7.3.m3.1.1.cmml" xref="A2.T7.7.7.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.7.7.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.7.7.3.m3.1d">→</annotation></semantics></math>Law<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.8.8.4.m4.1"><semantics id="A2.T7.8.8.4.m4.1a"><mo id="A2.T7.8.8.4.m4.1.1" stretchy="false" xref="A2.T7.8.8.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.8.8.4.m4.1b"><ci id="A2.T7.8.8.4.m4.1.1.cmml" xref="A2.T7.8.8.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.8.8.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.8.8.4.m4.1d">→</annotation></semantics></math>Subtitles</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.5">32.78</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.6">12.11</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.7">39.36</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.8">-</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.9">40.70</td>
<td class="ltx_td ltx_align_center" id="A2.T7.8.8.10">0.32</td>
</tr>
<tr class="ltx_tr" id="A2.T7.12.12">
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T7.12.12.4">Law<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.9.9.1.m1.1"><semantics id="A2.T7.9.9.1.m1.1a"><mo id="A2.T7.9.9.1.m1.1.1" stretchy="false" xref="A2.T7.9.9.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.9.9.1.m1.1b"><ci id="A2.T7.9.9.1.m1.1.1.cmml" xref="A2.T7.9.9.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.9.9.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.9.9.1.m1.1d">→</annotation></semantics></math>IT<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.10.10.2.m2.1"><semantics id="A2.T7.10.10.2.m2.1a"><mo id="A2.T7.10.10.2.m2.1.1" stretchy="false" xref="A2.T7.10.10.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.10.10.2.m2.1b"><ci id="A2.T7.10.10.2.m2.1.1.cmml" xref="A2.T7.10.10.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.10.10.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.10.10.2.m2.1d">→</annotation></semantics></math>Medical<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.11.11.3.m3.1"><semantics id="A2.T7.11.11.3.m3.1a"><mo id="A2.T7.11.11.3.m3.1.1" stretchy="false" xref="A2.T7.11.11.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.11.11.3.m3.1b"><ci id="A2.T7.11.11.3.m3.1.1.cmml" xref="A2.T7.11.11.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.11.11.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.11.11.3.m3.1d">→</annotation></semantics></math>Subtitles<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.12.12.4.m4.1"><semantics id="A2.T7.12.12.4.m4.1a"><mo id="A2.T7.12.12.4.m4.1.1" stretchy="false" xref="A2.T7.12.12.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.12.12.4.m4.1b"><ci id="A2.T7.12.12.4.m4.1.1.cmml" xref="A2.T7.12.12.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.12.12.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.12.12.4.m4.1d">→</annotation></semantics></math>Koran</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.5">29.94</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.6">16.40</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.7">39.55</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.8">-</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.9">40.76</td>
<td class="ltx_td ltx_align_center" id="A2.T7.12.12.10">1.12</td>
</tr>
<tr class="ltx_tr" id="A2.T7.16.16">
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T7.16.16.4">Subtitles<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.13.13.1.m1.1"><semantics id="A2.T7.13.13.1.m1.1a"><mo id="A2.T7.13.13.1.m1.1.1" stretchy="false" xref="A2.T7.13.13.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.13.13.1.m1.1b"><ci id="A2.T7.13.13.1.m1.1.1.cmml" xref="A2.T7.13.13.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.13.13.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.13.13.1.m1.1d">→</annotation></semantics></math>Law<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.14.14.2.m2.1"><semantics id="A2.T7.14.14.2.m2.1a"><mo id="A2.T7.14.14.2.m2.1.1" stretchy="false" xref="A2.T7.14.14.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.14.14.2.m2.1b"><ci id="A2.T7.14.14.2.m2.1.1.cmml" xref="A2.T7.14.14.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.14.14.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.14.14.2.m2.1d">→</annotation></semantics></math>Koran<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.15.15.3.m3.1"><semantics id="A2.T7.15.15.3.m3.1a"><mo id="A2.T7.15.15.3.m3.1.1" stretchy="false" xref="A2.T7.15.15.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.15.15.3.m3.1b"><ci id="A2.T7.15.15.3.m3.1.1.cmml" xref="A2.T7.15.15.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.15.15.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.15.15.3.m3.1d">→</annotation></semantics></math>Medical<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.16.16.4.m4.1"><semantics id="A2.T7.16.16.4.m4.1a"><mo id="A2.T7.16.16.4.m4.1.1" stretchy="false" xref="A2.T7.16.16.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.16.16.4.m4.1b"><ci id="A2.T7.16.16.4.m4.1.1.cmml" xref="A2.T7.16.16.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.16.16.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.16.16.4.m4.1d">→</annotation></semantics></math>IT</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.5">35.21</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.6">
<span class="ltx_text ltx_phantom" id="A2.T7.16.16.6.1"><span style="visibility:hidden">0</span></span>5.15</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.7">39.48</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.8">-</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.9">40.39</td>
<td class="ltx_td ltx_align_center" id="A2.T7.16.16.10">0.69</td>
</tr>
<tr class="ltx_tr" id="A2.T7.20.20">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T7.20.20.4">Medical<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.17.17.1.m1.1"><semantics id="A2.T7.17.17.1.m1.1a"><mo id="A2.T7.17.17.1.m1.1.1" stretchy="false" xref="A2.T7.17.17.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.17.17.1.m1.1b"><ci id="A2.T7.17.17.1.m1.1.1.cmml" xref="A2.T7.17.17.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.17.17.1.m1.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.17.17.1.m1.1d">→</annotation></semantics></math>Law<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.18.18.2.m2.1"><semantics id="A2.T7.18.18.2.m2.1a"><mo id="A2.T7.18.18.2.m2.1.1" stretchy="false" xref="A2.T7.18.18.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.18.18.2.m2.1b"><ci id="A2.T7.18.18.2.m2.1.1.cmml" xref="A2.T7.18.18.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.18.18.2.m2.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.18.18.2.m2.1d">→</annotation></semantics></math>Koran<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.19.19.3.m3.1"><semantics id="A2.T7.19.19.3.m3.1a"><mo id="A2.T7.19.19.3.m3.1.1" stretchy="false" xref="A2.T7.19.19.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.19.19.3.m3.1b"><ci id="A2.T7.19.19.3.m3.1.1.cmml" xref="A2.T7.19.19.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.19.19.3.m3.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.19.19.3.m3.1d">→</annotation></semantics></math>Subtitles<math alttext="\to" class="ltx_Math" display="inline" id="A2.T7.20.20.4.m4.1"><semantics id="A2.T7.20.20.4.m4.1a"><mo id="A2.T7.20.20.4.m4.1.1" stretchy="false" xref="A2.T7.20.20.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A2.T7.20.20.4.m4.1b"><ci id="A2.T7.20.20.4.m4.1.1.cmml" xref="A2.T7.20.20.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.20.20.4.m4.1c">\to</annotation><annotation encoding="application/x-llamapun" id="A2.T7.20.20.4.m4.1d">→</annotation></semantics></math>IT</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.5">31.16</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.6">13.59</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.7">39.37</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.8">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.9">40.47</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.20.20.10">1.17</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Result in different domain orders. The best-performing regularization-based baseline, EWC, and architecture-based baseline, PTE, were chosen for comparison.</figcaption>
</figure>
<section class="ltx_paragraph" id="A2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Non-Continual Learning Methods.</h4>
<div class="ltx_para" id="A2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="A2.SS0.SSS0.Px1.p1.1">Each of these baselines constructs a distinct model (or module) for each task independently. Consequently, they do not encounter CF and lack knowledge transfer between tasks.</p>
<ul class="ltx_itemize" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i1.p1.1.1">Single-domain</span> continues to train the general domain model on target domain data, respectively.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.1">Mixed-domain</span> trains the general domain model on combined multi-domain data, which is considered the <span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.2">upper bound</span> of CL methods.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i3.p1.1.1">Adapter <cite class="ltx_cite ltx_citemacro_citep">(Bapna and Firat, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib3" title="">2019</a>)</cite></span> inserts adapters on each transformer block of the general domain model as proposed by <cite class="ltx_cite ltx_citemacro_citet">Bapna and Firat (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib3" title="">2019</a>)</cite>. We set the bottleneck dimension to 64 and only finetune the adapters.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_paragraph" id="A2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Continual Learning Methods:</h4>
<div class="ltx_para" id="A2.SS0.SSS0.Px2.p1">
<ul class="ltx_itemize" id="A2.I2">
<li class="ltx_item" id="A2.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i1.p1">
<p class="ltx_p" id="A2.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i1.p1.1.1">Sequential Fine-tuning</span> continues to train the general domain model on target domains sequentially, without incorporating any mechanism to address CF.</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i2.p1">
<p class="ltx_p" id="A2.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i2.p1.1.1">Elastic Weight Consolidation (EWC) <cite class="ltx_cite ltx_citemacro_citep">(Thompson et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib34" title="">2019</a>; Saunders et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib29" title="">2019</a>)</cite></span> is a popular regularization-based CL method that adopts elastic weights consolidation to introduce <math alttext="L_{2}" class="ltx_Math" display="inline" id="A2.I2.i2.p1.1.m1.1"><semantics id="A2.I2.i2.p1.1.m1.1a"><msub id="A2.I2.i2.p1.1.m1.1.1" xref="A2.I2.i2.p1.1.m1.1.1.cmml"><mi id="A2.I2.i2.p1.1.m1.1.1.2" xref="A2.I2.i2.p1.1.m1.1.1.2.cmml">L</mi><mn id="A2.I2.i2.p1.1.m1.1.1.3" xref="A2.I2.i2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A2.I2.i2.p1.1.m1.1b"><apply id="A2.I2.i2.p1.1.m1.1.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.I2.i2.p1.1.m1.1.1.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1">subscript</csymbol><ci id="A2.I2.i2.p1.1.m1.1.1.2.cmml" xref="A2.I2.i2.p1.1.m1.1.1.2">𝐿</ci><cn id="A2.I2.i2.p1.1.m1.1.1.3.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i2.p1.1.m1.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i2.p1.1.m1.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> regularization, penalizing parameter changes. The training objective is:</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\text{EWC}}(\theta)=\mathcal{L}_{\text{CE}}(\theta)+\alpha\sum_{i%
}F_{i}(\theta_{i}-\theta_{i}^{G})^{2}" class="ltx_Math" display="block" id="A2.Ex1.m1.3"><semantics id="A2.Ex1.m1.3a"><mrow id="A2.Ex1.m1.3.3" xref="A2.Ex1.m1.3.3.cmml"><mrow id="A2.Ex1.m1.3.3.3" xref="A2.Ex1.m1.3.3.3.cmml"><msub id="A2.Ex1.m1.3.3.3.2" xref="A2.Ex1.m1.3.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.Ex1.m1.3.3.3.2.2" xref="A2.Ex1.m1.3.3.3.2.2.cmml">ℒ</mi><mtext id="A2.Ex1.m1.3.3.3.2.3" xref="A2.Ex1.m1.3.3.3.2.3a.cmml">EWC</mtext></msub><mo id="A2.Ex1.m1.3.3.3.1" xref="A2.Ex1.m1.3.3.3.1.cmml">⁢</mo><mrow id="A2.Ex1.m1.3.3.3.3.2" xref="A2.Ex1.m1.3.3.3.cmml"><mo id="A2.Ex1.m1.3.3.3.3.2.1" stretchy="false" xref="A2.Ex1.m1.3.3.3.cmml">(</mo><mi id="A2.Ex1.m1.1.1" xref="A2.Ex1.m1.1.1.cmml">θ</mi><mo id="A2.Ex1.m1.3.3.3.3.2.2" stretchy="false" xref="A2.Ex1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.3.3.2" xref="A2.Ex1.m1.3.3.2.cmml">=</mo><mrow id="A2.Ex1.m1.3.3.1" xref="A2.Ex1.m1.3.3.1.cmml"><mrow id="A2.Ex1.m1.3.3.1.3" xref="A2.Ex1.m1.3.3.1.3.cmml"><msub id="A2.Ex1.m1.3.3.1.3.2" xref="A2.Ex1.m1.3.3.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.Ex1.m1.3.3.1.3.2.2" xref="A2.Ex1.m1.3.3.1.3.2.2.cmml">ℒ</mi><mtext id="A2.Ex1.m1.3.3.1.3.2.3" xref="A2.Ex1.m1.3.3.1.3.2.3a.cmml">CE</mtext></msub><mo id="A2.Ex1.m1.3.3.1.3.1" xref="A2.Ex1.m1.3.3.1.3.1.cmml">⁢</mo><mrow id="A2.Ex1.m1.3.3.1.3.3.2" xref="A2.Ex1.m1.3.3.1.3.cmml"><mo id="A2.Ex1.m1.3.3.1.3.3.2.1" stretchy="false" xref="A2.Ex1.m1.3.3.1.3.cmml">(</mo><mi id="A2.Ex1.m1.2.2" xref="A2.Ex1.m1.2.2.cmml">θ</mi><mo id="A2.Ex1.m1.3.3.1.3.3.2.2" stretchy="false" xref="A2.Ex1.m1.3.3.1.3.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.3.3.1.2" xref="A2.Ex1.m1.3.3.1.2.cmml">+</mo><mrow id="A2.Ex1.m1.3.3.1.1" xref="A2.Ex1.m1.3.3.1.1.cmml"><mi id="A2.Ex1.m1.3.3.1.1.3" xref="A2.Ex1.m1.3.3.1.1.3.cmml">α</mi><mo id="A2.Ex1.m1.3.3.1.1.2" xref="A2.Ex1.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="A2.Ex1.m1.3.3.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.cmml"><munder id="A2.Ex1.m1.3.3.1.1.1.2" xref="A2.Ex1.m1.3.3.1.1.1.2.cmml"><mo id="A2.Ex1.m1.3.3.1.1.1.2.2" movablelimits="false" xref="A2.Ex1.m1.3.3.1.1.1.2.2.cmml">∑</mo><mi id="A2.Ex1.m1.3.3.1.1.1.2.3" xref="A2.Ex1.m1.3.3.1.1.1.2.3.cmml">i</mi></munder><mrow id="A2.Ex1.m1.3.3.1.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.1.cmml"><msub id="A2.Ex1.m1.3.3.1.1.1.1.3" xref="A2.Ex1.m1.3.3.1.1.1.1.3.cmml"><mi id="A2.Ex1.m1.3.3.1.1.1.1.3.2" xref="A2.Ex1.m1.3.3.1.1.1.1.3.2.cmml">F</mi><mi id="A2.Ex1.m1.3.3.1.1.1.1.3.3" xref="A2.Ex1.m1.3.3.1.1.1.1.3.3.cmml">i</mi></msub><mo id="A2.Ex1.m1.3.3.1.1.1.1.2" xref="A2.Ex1.m1.3.3.1.1.1.1.2.cmml">⁢</mo><msup id="A2.Ex1.m1.3.3.1.1.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.1.1.cmml"><mrow id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mi id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.3" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.2" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.2.cmml">θ</mi><mi id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.3" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.3.cmml">i</mi><mi id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml">G</mi></msubsup></mrow><mo id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="A2.Ex1.m1.3.3.1.1.1.1.1.3" xref="A2.Ex1.m1.3.3.1.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex1.m1.3b"><apply id="A2.Ex1.m1.3.3.cmml" xref="A2.Ex1.m1.3.3"><eq id="A2.Ex1.m1.3.3.2.cmml" xref="A2.Ex1.m1.3.3.2"></eq><apply id="A2.Ex1.m1.3.3.3.cmml" xref="A2.Ex1.m1.3.3.3"><times id="A2.Ex1.m1.3.3.3.1.cmml" xref="A2.Ex1.m1.3.3.3.1"></times><apply id="A2.Ex1.m1.3.3.3.2.cmml" xref="A2.Ex1.m1.3.3.3.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.3.2.1.cmml" xref="A2.Ex1.m1.3.3.3.2">subscript</csymbol><ci id="A2.Ex1.m1.3.3.3.2.2.cmml" xref="A2.Ex1.m1.3.3.3.2.2">ℒ</ci><ci id="A2.Ex1.m1.3.3.3.2.3a.cmml" xref="A2.Ex1.m1.3.3.3.2.3"><mtext id="A2.Ex1.m1.3.3.3.2.3.cmml" mathsize="70%" xref="A2.Ex1.m1.3.3.3.2.3">EWC</mtext></ci></apply><ci id="A2.Ex1.m1.1.1.cmml" xref="A2.Ex1.m1.1.1">𝜃</ci></apply><apply id="A2.Ex1.m1.3.3.1.cmml" xref="A2.Ex1.m1.3.3.1"><plus id="A2.Ex1.m1.3.3.1.2.cmml" xref="A2.Ex1.m1.3.3.1.2"></plus><apply id="A2.Ex1.m1.3.3.1.3.cmml" xref="A2.Ex1.m1.3.3.1.3"><times id="A2.Ex1.m1.3.3.1.3.1.cmml" xref="A2.Ex1.m1.3.3.1.3.1"></times><apply id="A2.Ex1.m1.3.3.1.3.2.cmml" xref="A2.Ex1.m1.3.3.1.3.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.3.2.1.cmml" xref="A2.Ex1.m1.3.3.1.3.2">subscript</csymbol><ci id="A2.Ex1.m1.3.3.1.3.2.2.cmml" xref="A2.Ex1.m1.3.3.1.3.2.2">ℒ</ci><ci id="A2.Ex1.m1.3.3.1.3.2.3a.cmml" xref="A2.Ex1.m1.3.3.1.3.2.3"><mtext id="A2.Ex1.m1.3.3.1.3.2.3.cmml" mathsize="70%" xref="A2.Ex1.m1.3.3.1.3.2.3">CE</mtext></ci></apply><ci id="A2.Ex1.m1.2.2.cmml" xref="A2.Ex1.m1.2.2">𝜃</ci></apply><apply id="A2.Ex1.m1.3.3.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1"><times id="A2.Ex1.m1.3.3.1.1.2.cmml" xref="A2.Ex1.m1.3.3.1.1.2"></times><ci id="A2.Ex1.m1.3.3.1.1.3.cmml" xref="A2.Ex1.m1.3.3.1.1.3">𝛼</ci><apply id="A2.Ex1.m1.3.3.1.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1"><apply id="A2.Ex1.m1.3.3.1.1.1.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.2.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.2">subscript</csymbol><sum id="A2.Ex1.m1.3.3.1.1.1.2.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.2.2"></sum><ci id="A2.Ex1.m1.3.3.1.1.1.2.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.2.3">𝑖</ci></apply><apply id="A2.Ex1.m1.3.3.1.1.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1"><times id="A2.Ex1.m1.3.3.1.1.1.1.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.2"></times><apply id="A2.Ex1.m1.3.3.1.1.1.1.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.1.3.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="A2.Ex1.m1.3.3.1.1.1.1.3.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.3.2">𝐹</ci><ci id="A2.Ex1.m1.3.3.1.1.1.1.3.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.3.3">𝑖</ci></apply><apply id="A2.Ex1.m1.3.3.1.1.1.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1">superscript</csymbol><apply id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1"><minus id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1"></minus><apply id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.2">𝜃</ci><ci id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="A2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.3.3">𝐺</ci></apply></apply><cn id="A2.Ex1.m1.3.3.1.1.1.1.1.3.cmml" type="integer" xref="A2.Ex1.m1.3.3.1.1.1.1.1.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex1.m1.3c">\mathcal{L}_{\text{EWC}}(\theta)=\mathcal{L}_{\text{CE}}(\theta)+\alpha\sum_{i%
}F_{i}(\theta_{i}-\theta_{i}^{G})^{2}</annotation><annotation encoding="application/x-llamapun" id="A2.Ex1.m1.3d">caligraphic_L start_POSTSUBSCRIPT EWC end_POSTSUBSCRIPT ( italic_θ ) = caligraphic_L start_POSTSUBSCRIPT CE end_POSTSUBSCRIPT ( italic_θ ) + italic_α ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_F start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_θ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT - italic_θ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_G end_POSTSUPERSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.I2.i2.p1.4">In this equation, <math alttext="\theta" class="ltx_Math" display="inline" id="A2.I2.i2.p1.2.m1.1"><semantics id="A2.I2.i2.p1.2.m1.1a"><mi id="A2.I2.i2.p1.2.m1.1.1" xref="A2.I2.i2.p1.2.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="A2.I2.i2.p1.2.m1.1b"><ci id="A2.I2.i2.p1.2.m1.1.1.cmml" xref="A2.I2.i2.p1.2.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i2.p1.2.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i2.p1.2.m1.1d">italic_θ</annotation></semantics></math> represents the model parameters, <math alttext="F" class="ltx_Math" display="inline" id="A2.I2.i2.p1.3.m2.1"><semantics id="A2.I2.i2.p1.3.m2.1a"><mi id="A2.I2.i2.p1.3.m2.1.1" xref="A2.I2.i2.p1.3.m2.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="A2.I2.i2.p1.3.m2.1b"><ci id="A2.I2.i2.p1.3.m2.1.1.cmml" xref="A2.I2.i2.p1.3.m2.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i2.p1.3.m2.1c">F</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i2.p1.3.m2.1d">italic_F</annotation></semantics></math> is the diagnosis of the Fisher information matrix, and <math alttext="\alpha" class="ltx_Math" display="inline" id="A2.I2.i2.p1.4.m3.1"><semantics id="A2.I2.i2.p1.4.m3.1a"><mi id="A2.I2.i2.p1.4.m3.1.1" xref="A2.I2.i2.p1.4.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A2.I2.i2.p1.4.m3.1b"><ci id="A2.I2.i2.p1.4.m3.1.1.cmml" xref="A2.I2.i2.p1.4.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i2.p1.4.m3.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i2.p1.4.m3.1d">italic_α</annotation></semantics></math> is a hyperparameter controlling the strength of regularization. To extend this method to a multi-stage scenario, we adopt the accumulated Fisher information, as proposed by <cite class="ltx_cite ltx_citemacro_citet">Huszár (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib16" title="">2017</a>)</cite>.
</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i3.p1">
<p class="ltx_p" id="A2.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i3.p1.1.1">Knowledge Distillation (KD) <cite class="ltx_cite ltx_citemacro_citep">(Khayrallah et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib17" title="">2018</a>; Dakwale and Monz, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib7" title="">2017</a>)</cite></span> introduces a regularization (reg) term into the training objective. The reg term is formulated in the spirit of knowledge distillation, minimizing the cross-entropy between the original (teacher) model’s output distribution and that of the new (student) model. A hyperparameter <math alttext="\alpha" class="ltx_Math" display="inline" id="A2.I2.i3.p1.1.m1.1"><semantics id="A2.I2.i3.p1.1.m1.1a"><mi id="A2.I2.i3.p1.1.m1.1.1" xref="A2.I2.i3.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A2.I2.i3.p1.1.m1.1b"><ci id="A2.I2.i3.p1.1.m1.1.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i3.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i3.p1.1.m1.1d">italic_α</annotation></semantics></math> is introduced to interpolate the reg term and the NLL loss.</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\text{EWC}}(\theta)=\mathcal{L}_{\text{CE}}(\theta)+\alpha%
\mathcal{L}_{\text{KD}}(\theta)" class="ltx_Math" display="block" id="A2.Ex2.m1.3"><semantics id="A2.Ex2.m1.3a"><mrow id="A2.Ex2.m1.3.4" xref="A2.Ex2.m1.3.4.cmml"><mrow id="A2.Ex2.m1.3.4.2" xref="A2.Ex2.m1.3.4.2.cmml"><msub id="A2.Ex2.m1.3.4.2.2" xref="A2.Ex2.m1.3.4.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.Ex2.m1.3.4.2.2.2" xref="A2.Ex2.m1.3.4.2.2.2.cmml">ℒ</mi><mtext id="A2.Ex2.m1.3.4.2.2.3" xref="A2.Ex2.m1.3.4.2.2.3a.cmml">EWC</mtext></msub><mo id="A2.Ex2.m1.3.4.2.1" xref="A2.Ex2.m1.3.4.2.1.cmml">⁢</mo><mrow id="A2.Ex2.m1.3.4.2.3.2" xref="A2.Ex2.m1.3.4.2.cmml"><mo id="A2.Ex2.m1.3.4.2.3.2.1" stretchy="false" xref="A2.Ex2.m1.3.4.2.cmml">(</mo><mi id="A2.Ex2.m1.1.1" xref="A2.Ex2.m1.1.1.cmml">θ</mi><mo id="A2.Ex2.m1.3.4.2.3.2.2" stretchy="false" xref="A2.Ex2.m1.3.4.2.cmml">)</mo></mrow></mrow><mo id="A2.Ex2.m1.3.4.1" xref="A2.Ex2.m1.3.4.1.cmml">=</mo><mrow id="A2.Ex2.m1.3.4.3" xref="A2.Ex2.m1.3.4.3.cmml"><mrow id="A2.Ex2.m1.3.4.3.2" xref="A2.Ex2.m1.3.4.3.2.cmml"><msub id="A2.Ex2.m1.3.4.3.2.2" xref="A2.Ex2.m1.3.4.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.Ex2.m1.3.4.3.2.2.2" xref="A2.Ex2.m1.3.4.3.2.2.2.cmml">ℒ</mi><mtext id="A2.Ex2.m1.3.4.3.2.2.3" xref="A2.Ex2.m1.3.4.3.2.2.3a.cmml">CE</mtext></msub><mo id="A2.Ex2.m1.3.4.3.2.1" xref="A2.Ex2.m1.3.4.3.2.1.cmml">⁢</mo><mrow id="A2.Ex2.m1.3.4.3.2.3.2" xref="A2.Ex2.m1.3.4.3.2.cmml"><mo id="A2.Ex2.m1.3.4.3.2.3.2.1" stretchy="false" xref="A2.Ex2.m1.3.4.3.2.cmml">(</mo><mi id="A2.Ex2.m1.2.2" xref="A2.Ex2.m1.2.2.cmml">θ</mi><mo id="A2.Ex2.m1.3.4.3.2.3.2.2" stretchy="false" xref="A2.Ex2.m1.3.4.3.2.cmml">)</mo></mrow></mrow><mo id="A2.Ex2.m1.3.4.3.1" xref="A2.Ex2.m1.3.4.3.1.cmml">+</mo><mrow id="A2.Ex2.m1.3.4.3.3" xref="A2.Ex2.m1.3.4.3.3.cmml"><mi id="A2.Ex2.m1.3.4.3.3.2" xref="A2.Ex2.m1.3.4.3.3.2.cmml">α</mi><mo id="A2.Ex2.m1.3.4.3.3.1" xref="A2.Ex2.m1.3.4.3.3.1.cmml">⁢</mo><msub id="A2.Ex2.m1.3.4.3.3.3" xref="A2.Ex2.m1.3.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.Ex2.m1.3.4.3.3.3.2" xref="A2.Ex2.m1.3.4.3.3.3.2.cmml">ℒ</mi><mtext id="A2.Ex2.m1.3.4.3.3.3.3" xref="A2.Ex2.m1.3.4.3.3.3.3a.cmml">KD</mtext></msub><mo id="A2.Ex2.m1.3.4.3.3.1a" xref="A2.Ex2.m1.3.4.3.3.1.cmml">⁢</mo><mrow id="A2.Ex2.m1.3.4.3.3.4.2" xref="A2.Ex2.m1.3.4.3.3.cmml"><mo id="A2.Ex2.m1.3.4.3.3.4.2.1" stretchy="false" xref="A2.Ex2.m1.3.4.3.3.cmml">(</mo><mi id="A2.Ex2.m1.3.3" xref="A2.Ex2.m1.3.3.cmml">θ</mi><mo id="A2.Ex2.m1.3.4.3.3.4.2.2" stretchy="false" xref="A2.Ex2.m1.3.4.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex2.m1.3b"><apply id="A2.Ex2.m1.3.4.cmml" xref="A2.Ex2.m1.3.4"><eq id="A2.Ex2.m1.3.4.1.cmml" xref="A2.Ex2.m1.3.4.1"></eq><apply id="A2.Ex2.m1.3.4.2.cmml" xref="A2.Ex2.m1.3.4.2"><times id="A2.Ex2.m1.3.4.2.1.cmml" xref="A2.Ex2.m1.3.4.2.1"></times><apply id="A2.Ex2.m1.3.4.2.2.cmml" xref="A2.Ex2.m1.3.4.2.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.3.4.2.2.1.cmml" xref="A2.Ex2.m1.3.4.2.2">subscript</csymbol><ci id="A2.Ex2.m1.3.4.2.2.2.cmml" xref="A2.Ex2.m1.3.4.2.2.2">ℒ</ci><ci id="A2.Ex2.m1.3.4.2.2.3a.cmml" xref="A2.Ex2.m1.3.4.2.2.3"><mtext id="A2.Ex2.m1.3.4.2.2.3.cmml" mathsize="70%" xref="A2.Ex2.m1.3.4.2.2.3">EWC</mtext></ci></apply><ci id="A2.Ex2.m1.1.1.cmml" xref="A2.Ex2.m1.1.1">𝜃</ci></apply><apply id="A2.Ex2.m1.3.4.3.cmml" xref="A2.Ex2.m1.3.4.3"><plus id="A2.Ex2.m1.3.4.3.1.cmml" xref="A2.Ex2.m1.3.4.3.1"></plus><apply id="A2.Ex2.m1.3.4.3.2.cmml" xref="A2.Ex2.m1.3.4.3.2"><times id="A2.Ex2.m1.3.4.3.2.1.cmml" xref="A2.Ex2.m1.3.4.3.2.1"></times><apply id="A2.Ex2.m1.3.4.3.2.2.cmml" xref="A2.Ex2.m1.3.4.3.2.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.3.4.3.2.2.1.cmml" xref="A2.Ex2.m1.3.4.3.2.2">subscript</csymbol><ci id="A2.Ex2.m1.3.4.3.2.2.2.cmml" xref="A2.Ex2.m1.3.4.3.2.2.2">ℒ</ci><ci id="A2.Ex2.m1.3.4.3.2.2.3a.cmml" xref="A2.Ex2.m1.3.4.3.2.2.3"><mtext id="A2.Ex2.m1.3.4.3.2.2.3.cmml" mathsize="70%" xref="A2.Ex2.m1.3.4.3.2.2.3">CE</mtext></ci></apply><ci id="A2.Ex2.m1.2.2.cmml" xref="A2.Ex2.m1.2.2">𝜃</ci></apply><apply id="A2.Ex2.m1.3.4.3.3.cmml" xref="A2.Ex2.m1.3.4.3.3"><times id="A2.Ex2.m1.3.4.3.3.1.cmml" xref="A2.Ex2.m1.3.4.3.3.1"></times><ci id="A2.Ex2.m1.3.4.3.3.2.cmml" xref="A2.Ex2.m1.3.4.3.3.2">𝛼</ci><apply id="A2.Ex2.m1.3.4.3.3.3.cmml" xref="A2.Ex2.m1.3.4.3.3.3"><csymbol cd="ambiguous" id="A2.Ex2.m1.3.4.3.3.3.1.cmml" xref="A2.Ex2.m1.3.4.3.3.3">subscript</csymbol><ci id="A2.Ex2.m1.3.4.3.3.3.2.cmml" xref="A2.Ex2.m1.3.4.3.3.3.2">ℒ</ci><ci id="A2.Ex2.m1.3.4.3.3.3.3a.cmml" xref="A2.Ex2.m1.3.4.3.3.3.3"><mtext id="A2.Ex2.m1.3.4.3.3.3.3.cmml" mathsize="70%" xref="A2.Ex2.m1.3.4.3.3.3.3">KD</mtext></ci></apply><ci id="A2.Ex2.m1.3.3.cmml" xref="A2.Ex2.m1.3.3">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex2.m1.3c">\mathcal{L}_{\text{EWC}}(\theta)=\mathcal{L}_{\text{CE}}(\theta)+\alpha%
\mathcal{L}_{\text{KD}}(\theta)</annotation><annotation encoding="application/x-llamapun" id="A2.Ex2.m1.3d">caligraphic_L start_POSTSUBSCRIPT EWC end_POSTSUBSCRIPT ( italic_θ ) = caligraphic_L start_POSTSUBSCRIPT CE end_POSTSUBSCRIPT ( italic_θ ) + italic_α caligraphic_L start_POSTSUBSCRIPT KD end_POSTSUBSCRIPT ( italic_θ )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.I2.i3.p1.2">In our experiments, the weight of the KD term is set to 0.1.</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i4.p1">
<p class="ltx_p" id="A2.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i4.p1.1.1">Dynamic Knowledge Distillation (Dynamic-KD) <cite class="ltx_cite ltx_citemacro_citep">(Cao et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib4" title="">2021</a>)</cite></span> propose dynamically adjusting the weight of KD loss to better alleviate CF in a multi-stage CL scenario. The bias correction module is omitted due to its incompatibility with the pretrained model.</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i5.p1">
<p class="ltx_p" id="A2.I2.i5.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i5.p1.1.1">Prune Then Expand (PTE) <cite class="ltx_cite ltx_citemacro_citep">(Gu et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib12" title="">2021</a>)</cite></span> employs unstructured pruning to trim the general domain model, followed by training the pruned parameters for the target domain. In the context of multi-stage CL, we uniformly distribute the pruned parameters across all subsequent tasks.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Implementation Details</h2>
<section class="ltx_paragraph" id="A3.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">pretrained Model.</h4>
<div class="ltx_para" id="A3.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="A3.SS0.SSS0.Px1.p1.1">All methods are implemented with the Fairseq toolkit <cite class="ltx_cite ltx_citemacro_citep">(Ott et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib27" title="">2019</a>)</cite>. We adopt the WMT’19 German-English news translation task winner <cite class="ltx_cite ltx_citemacro_citep">(Ng et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib26" title="">2019</a>)</cite> as the pretrained general domain model. It is a Transformer encoder-decoder model <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib35" title="">2017</a>)</cite> with 6 layers, 1,024-dimensional representations, 8,192-dimensional feed-forward layers, and 8 attention heads. Apart from WMT’19 training data, this model is trained on over 10 billion tokens of backtranslation data and finetuned on the Newstest test sets from years before 2018. In our experiments, we do not use ensembles or n-best reranking.</p>
</div>
</section>
<section class="ltx_paragraph" id="A3.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Hyper-parameters.</h4>
<div class="ltx_para" id="A3.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="A3.SS0.SSS0.Px2.p1.1">Unless explicitly stated otherwise, consistent hyperparameters are applied across all experiments. We utilize the Adam optimizer <cite class="ltx_cite ltx_citemacro_citep">(Kingma and Ba, <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib18" title="">2015</a>)</cite> with the same learning rate scheduler as detailed in <cite class="ltx_cite ltx_citemacro_citet">Vaswani et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#bib.bib35" title="">2017</a>)</cite>. The learning rate is set to 1e-4 for all systems during the fine-tuning process. Training is stopped when there is no performance improvement for 5 consecutive validation steps.</p>
</div>
<div class="ltx_para" id="A3.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="A3.SS0.SSS0.Px2.p2.1">For inference, we employ beam search with a beam size of 5 for all systems. The default parameter of BLEU is utilized in evaluation.</p>
</div>
<div class="ltx_para" id="A3.SS0.SSS0.Px2.p3">
<p class="ltx_p" id="A3.SS0.SSS0.Px2.p3.1">All experiments are done on 8 NVIDIA RTX 3090 GPUs.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Standare Deviations</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">This section reports the standard deviations of the results in Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#S4.T1" title="Table 1 ‣ 4.3 Metrics ‣ 4 Experiments ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>. We only include the CL baselines here, since Non-CL baselines‘ performance is independent of the domain order. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2.T6" title="Table 6 ‣ Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">6</span></a>, F-MALLOC achieves low standard deviations, indicating its robustness.</p>
</div>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Result in Different Domain Orders</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2404.04846v1#A2.T7" title="Table 7 ‣ Appendix B Baseline Details ‣ F-MALLOC: Feed-forward Memory Allocation for Continual Learning in Neural Machine Translation"><span class="ltx_text ltx_ref_tag">7</span></a> shows the performance of F-MALLOC along with two strong baselines, EWC and PTE, in other domain orders. F-MALLOC outperforms both EWC and PTE, highlighting its efficacy across different domain order scenarios.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Sun Apr  7 07:28:58 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
