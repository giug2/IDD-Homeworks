<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Retrieval-augmented code completion for local projects using large language models</title>
<!--Generated on Fri Aug  9 12:23:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2408.05026v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S1" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2.SS1" title="In 2 Related work ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Large language models for code</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2.SS2" title="In 2 Related work ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Retrieval-augmented language models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2.SS3" title="In 2 Related work ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Retrieval-augmented code completion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2.SS4" title="In 2 Related work ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.4 </span>Project based evaluation of code completion</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Code line completion methods</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1" title="In 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>The RETRO approach</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1.SSS0.Px1" title="In 3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Language modeling with retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1.SSS0.Px2" title="In 3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1.SSS0.Px3" title="In 3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">The RETRO architecture</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1.SSS0.Px4" title="In 3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Sampling with RETRO</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS2" title="In 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Token healing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS3" title="In 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>In-context RAG</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experimental settings</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS1" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Tokenization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS2" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>The StarCoder dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS3" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>The RepoEval dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS4" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Retrieval database</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS5" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Model architecture</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS5.SSS0.Px1" title="In 4.5 Model architecture ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Hyperparameters</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS6" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Model training</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS6.SSS0.Px1" title="In 4.6 Model training ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Implementation details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS7" title="In 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7 </span>Metrics</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS7.SSS1" title="In 4.7 Metrics ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7.1 </span>Single-token metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS7.SSS2" title="In 4.7 Metrics ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7.2 </span>Multi-token predictions</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS1" title="In 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Evaluation on the StarCoder test set</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS1.SSS0.Px1" title="In 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Projects in a local database</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2" title="In 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Completing code lines from local projects with RepoEval</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS1" title="In 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.1 </span>RETRO and GPT-2 results on local projects</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS2" title="In 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.2 </span>Comparison with larger models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS3" title="In 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.3 </span>In-context RAG</span></a>
<ol class="ltx_toclist ltx_toclist_subsubsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS3.Px1" title="In 5.2.3 In-context RAG ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Copying</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS4" title="In 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.4 </span>Impact of retrieval similarity</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS3" title="In 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Qualitative analysis</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS3.SSS0.Px1" title="In 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Common errors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS3.SSS0.Px2" title="In 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Hallucinations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS3.SSS0.Px3" title="In 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Advantages and disadvantages of retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS3.SSS0.Px4" title="In 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Evaluation limitations</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S6" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A1" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>StarCoder dataset analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A2" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Chunk embeddings with BERT</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A3" title="In Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Indexing chunk embeddings</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A3.SS0.SSS0.Px1" title="In Appendix C Indexing chunk embeddings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_title">Indexing effectiveness</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_fleqn">
<h1 class="ltx_title ltx_title_document">Retrieval-augmented code completion for local projects using large language models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Marko Hostnik
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Marko Robnik-Šikonja
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">The use of large language models (LLMs) is becoming increasingly widespread among software developers.
However, privacy and computational requirements are problematic with commercial solutions and the use of LLMs.
In this work, we focus on using LLMs with around 160 million parameters that are suitable for local execution and augmentation with retrieval from local projects.
We train two models based on the transformer architecture, the generative model GPT-2 and the retrieval-adapted RETRO model, on open-source Python files, and empirically evaluate and compare them, confirming the benefits of vector embedding based retrieval.
Further, we improve our models’ performance with In-context retrieval-augmented generation, which retrieves code snippets based on the Jaccard similarity of tokens.
We evaluate In-context retrieval-augmented generation on larger models and conclude that, despite its simplicity, the approach is more suitable than using the RETRO architecture.
We highlight the key role of proper tokenization in achieving the full potential of LLMs in code completion.</p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>
large language models , code completion , retrieval-augmented generation , in-context retrieval

</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">MSC: </h6>[2020] 68T50 , 68T07

</div>
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\affiliation</span>
<p class="ltx_p" id="p1.2">[1]organization=Faculty of Computer and Information Science, University of Ljubljana,country=Slovenia
</p>
</div>
<div class="ltx_para" id="p2">
<span class="ltx_ERROR undefined" id="p2.1">\affiliation</span>
<p class="ltx_p" id="p2.2">[2]organization=Faculty of Mathematics and Physics, University of Ljubljana,country=Slovenia
</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Programming with the help of large language models (LLMs) and other artificial intelligence (AI) tools is becoming increasingly widespread <cite class="ltx_cite ltx_citemacro_citep">(Liang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib30" title="">2024</a>)</cite>.
Programmers use AI tools (e.g., GitHub Copilot<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/features/copilot" title="">https://github.com/features/copilot</a></span></span></span>) to suggest next lines while writing code <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>; Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib14" title="">2024</a>; Rozière et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib42" title="">2024</a>)</cite>, to write tests and shorter or longer sections of code <cite class="ltx_cite ltx_citemacro_citep">(Austin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib2" title="">2021</a>; Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib34" title="">2021</a>)</cite>, and to facilitate learning new technologies <cite class="ltx_cite ltx_citemacro_citep">(Kasneci et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib23" title="">2023</a>)</cite>.
Due to the usefulness of AI tools, code editor developers are rapidly integrating AI into their products.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">This raises concerns regarding the privacy of code, which is mostly sent to servers where it is processed by commercial models that can contain hundreds of billions of parameters <cite class="ltx_cite ltx_citemacro_citep">(Brown et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib4" title="">2020</a>)</cite>. Such large models exceed the computational capabilities available on personal devices.
A number of solutions that allow LLMs to run efficiently on local hardware are being developed<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>An example is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/ggerganov/llama.cpp" title="">https://github.com/ggerganov/llama.cpp</a>.</span></span></span>.
However, the choice of a model size represents an important trade-off, as the model size has a significant impact on the quality of suggestions, the inference speed, and the utilization of compute and memory resources.
By focusing on a single programming language or solving just one specific programming task, such as line completion, smaller models can achieve useful results.
Additionally, smaller models can speed up the performance of larger models through speculative decoding, where a larger model is used to correct the errors of a smaller model <cite class="ltx_cite ltx_citemacro_citep">(Leviathan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib27" title="">2023</a>)</cite>.
In our work, we focus on the use of LLMs with fewer parameters to complete lines of Python code.
This allows the model to be executed within the code editor on the user’s hardware, even without a GPU to speed up the execution.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">LLMs take a string as input and predict its most probable continuation.
Usually, the input string or <em class="ltx_emph ltx_font_italic" id="S1.p3.1.1">context</em> is the content of the current file being edited.
Programming projects are often composed of many files that refer to each other, so we want to enrich the context with information from other files in the project.
However, as the context size of models is limited from a few dozen to a hundred lines of code, we need to find informative data to include in the context.
In our work, we augment the context of LLMs with relevant code snippets from other files in the project, which we search for based on the similarity of vector embeddings, or alternatively based on the Jaccard similarity of tokens.
The goal of our work is to experimentally verify the impact of retrieval-augmented LLMs on the success of completing lines of code. We focus on smaller models suitable for CPU-only inference and on retrieval only from local projects.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Our main contributions are as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We train and compare 160 million parameter RETRO <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> and GPT-2 <cite class="ltx_cite ltx_citemacro_citep">(Radford et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib40" title="">2019</a>)</cite> models using two different tokenizers and verify the importance of token healing for code completion.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We compare In-context RAG with Jaccard-similarity-based retrieval to RETRO with embedding-based retrieval and to baseline models of different sizes.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We examine the impact of copying from code snippets and the impact of the retrieved snippets’ similarities to the retrieval query.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We experimentally confirm the viability of augmenting small LLMs with retrieval from local projects for local use in code editors.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S1.p4.2">This paper is organized into six sections.
In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S2" title="2 Related work ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2</span></a>, we present related work in retrieval-augmented code completion.
In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3" title="3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3</span></a>, we present the main methods used, including an overview of the RETRO architecture <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>.
In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4" title="4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a>, we describe the setup of our experiments, including the dataset, model training details, and metrics used.
In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5" title="5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a>, we present and analyze the results of our trained models evaluated with retrieval from local projects.
We conclude in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S6" title="6 Conclusion ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">6</span></a>, where we also present ideas for further work.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The field of LLMs based on the transformer architecture <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib50" title="">2017</a>)</cite> has been rapidly developing in recent years, not only for natural language processing but also for the processing of programming code. We present an overview of related work, split into four subsections: LLMs for code, retrieval-augmented LLMs, retrieval-augmented code completion, and project based evaluation of code completion.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Large language models for code</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Code generation is important for tasks such as code completion <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>; Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib14" title="">2024</a>; Rozière et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib42" title="">2024</a>)</cite>,
generating code from natural language instructions <cite class="ltx_cite ltx_citemacro_citep">(Austin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib2" title="">2021</a>)</cite>,
translating code from one programming language to another <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib34" title="">2021</a>)</cite>,
and code searching based on natural language or code-based queries <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib52" title="">2023b</a>)</cite>.
Neural models for code completion are mostly based on the decoder part of the transformer architecture and differ mainly in the number of parameters, the size of the context and the training data used (e.g., the proportion of each programming language and inclusion of natural language) <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>; Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib14" title="">2024</a>)</cite>.
When training LLMs with longer context sizes, concatenating project files into the input context is becoming increasingly common <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib14" title="">2024</a>; Rozière et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib42" title="">2024</a>)</cite>.
This better prepares the model for including related files into the context during model execution.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Retrieval-augmented language models</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.2">The use of retrieval in LLMs is often motivated by the desire to improve models’ capabilities in open-domain question answering tasks <cite class="ltx_cite ltx_citemacro_citep">(Patwardhan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib38" title="">2023</a>)</cite>.
DPR <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib22" title="">2020</a>)</cite> and REALM <cite class="ltx_cite ltx_citemacro_citep">(Guu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib15" title="">2020</a>)</cite> extract the answer from the retrieved data using a BERT encoder <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib7" title="">2019</a>)</cite>.
DPR fine-tunes the weights of the query encoder to better match its outputs with the frozen document encoder embeddings.
REALM updates the weights of the knowledge retriever encoder during training, which causes computationally demanding re-indexing of data during training.
RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib28" title="">2020</a>)</cite> and FiD <cite class="ltx_cite ltx_citemacro_citep">(Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib17" title="">2021</a>)</cite> differ in the processing of the retrieved snippets with additionally fine-tuned encoder-decoder models.
<cite class="ltx_cite ltx_citemacro_citet">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib41" title="">2023</a>)</cite> show that retrieval is beneficial even without additional training of models; it is sufficient to append the found snippets to the context of the decoder.
<math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_k</annotation></semantics></math>NN-LM <cite class="ltx_cite ltx_citemacro_citep">(Khandelwal et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib24" title="">2020</a>)</cite> computes a weighted sum of the predictions from an LLM and a <math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.1d">italic_k</annotation></semantics></math>-nearest neighbors classifier when predicting each token.
RETRO <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>, described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS1" title="3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3.1</span></a>, performs chunk-based retrieval and includes the found chunks in the decoder via cross-attention, which, in combination with a frozen document encoder, enables retrieval throughout the entire training of the model.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Retrieval-augmented code completion</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">Approaches for retrieval-augmented code completion are similar to those for natural language based open-domain question answering, with differences in the use of retrieval adapted to code and projects as a whole.
ReACC <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib33" title="">2022</a>)</cite> (and similarly REDCODER <cite class="ltx_cite ltx_citemacro_citep">(Parvez et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib37" title="">2021</a>)</cite>) combines retrieval with a code-adapted encoder, GraphCodeBERT <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib13" title="">2021</a>)</cite>, and classic BM-25 search <cite class="ltx_cite ltx_citemacro_citep">(Harman, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib16" title="">1995</a>)</cite>, incorporating found snippets into the context.
<cite class="ltx_cite ltx_citemacro_citet">Shrivastava et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib47" title="">2023</a>)</cite> use a trained classifier to select the most relevant code snippet from the project to include into the context.
RepoCoder <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite> demonstrates retrieval based on the Jaccard similarity of tokens for retrieving line-based snippets from the project and utilizes the generated code to improve subsequent retrieval.
This approach is the motivation for our approach described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS3" title="3.3 In-context RAG ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3.3</span></a>.
RepoFormer <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib53" title="">2024</a>)</cite> enhances RepoCoder with adaptive retrieval triggered by the model with a special token.
DRAG <cite class="ltx_cite ltx_citemacro_citep">(Shapkin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib45" title="">2024</a>)</cite> extends the model’s vocabulary with new tokens from entities in the project that the model can use while generating code.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Project based evaluation of code completion</h3>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.1">There are several datasets for evaluating code completion.
HumanEval <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib5" title="">2021</a>)</cite> involves completing functions from given function names and docstrings; CodeXGLUE <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib34" title="">2021</a>)</cite> contains many datasets for various tasks, including line completion.
These datasets only evaluate general code completion abilities within a single file, whereas real projects contain multiple interrelated files.
Consequently, datasets for project-level completion have begun to emerge, often as an addition for evaluating the developed approach <cite class="ltx_cite ltx_citemacro_citep">(Shapkin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib45" title="">2024</a>)</cite>.
RepoBench <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib31" title="">2024</a>)</cite> and CrossCodeEval <cite class="ltx_cite ltx_citemacro_citep">(Ding et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib8" title="">2023</a>)</cite> compile evaluation sets by pre-selecting useful code snippets from related files that the model should include in the context.
On the other hand, RepoEval <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite> – more in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS3" title="4.3 The RepoEval dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.3</span></a> – contains entire projects in addition to the marked lines that need to be completed, which allows the use of custom implementations of retrieval from the project and consequently any model.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Code line completion methods</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we describe our methodology for code line completion based on LLMs.
We first describe the retrieval enhanced RETRO approach, followed by our improvements, the first concerning the tokenization, and the second using context-based RAG.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>The RETRO approach</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">RETRO (Retrieval-Enhanced Transformer) is a transformer based autoregressive language model enhanced with additional snippets retrieved from a database <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>.
The approach splits the input token sequence into contiguous fixed-size chunks and finds snippets similar to the previous chunk when processing the current chunk.
Introducing retrieval into the model allows adapting the model to new data without updating its weights, which is particularly useful for predicting facts not present in the training set (e.g., names in a local programming project). Below, we explain the details of the approach, relevant for our application.
Our RETRO approach is illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F1" title="Figure 1 ‣ 3.1 The RETRO approach ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="323" id="S3.F1.g1" src="x1.png" width="548"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F1.4.2.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S3.F1.2.1" style="font-size:90%;">
Illustration of our RETRO approach.
The CodeT5+ <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib52" title="">2023b</a>)</cite> encoder is used for computing chunk embeddings for retrieval based on the <math alttext="L_{2}" class="ltx_Math" display="inline" id="S3.F1.2.1.m1.1"><semantics id="S3.F1.2.1.m1.1b"><msub id="S3.F1.2.1.m1.1.1" xref="S3.F1.2.1.m1.1.1.cmml"><mi id="S3.F1.2.1.m1.1.1.2" xref="S3.F1.2.1.m1.1.1.2.cmml">L</mi><mn id="S3.F1.2.1.m1.1.1.3" xref="S3.F1.2.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F1.2.1.m1.1c"><apply id="S3.F1.2.1.m1.1.1.cmml" xref="S3.F1.2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.F1.2.1.m1.1.1.1.cmml" xref="S3.F1.2.1.m1.1.1">subscript</csymbol><ci id="S3.F1.2.1.m1.1.1.2.cmml" xref="S3.F1.2.1.m1.1.1.2">𝐿</ci><cn id="S3.F1.2.1.m1.1.1.3.cmml" type="integer" xref="S3.F1.2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.2.1.m1.1d">L_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.2.1.m1.1e">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> distance.
The color coded arrows indicate which tokens attend to which retrieved chunks – refer to <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> for more details on the chunked cross-attention (CCA) mechanism.
During sampling, the input is padded to be a multiple of the chunk size.
</span></figcaption>
</figure>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Language modeling with retrieval</h5>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.7">We denote the token vocabulary by the set <math alttext="\mathbb{V}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">𝕍</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">𝕍</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">\mathbb{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.1.m1.1d">blackboard_V</annotation></semantics></math> obtained by a text tokenizer (see Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS1" title="4.1 Tokenization ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.1</span></a>).
The input token sequence <math alttext="x=(x_{1},...,x_{n})\in\mathbb{V}^{n}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.2.m2.3"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.3a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.4" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.4.cmml">x</mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.5" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.5.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml"><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.4" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.5" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.6" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml">)</mo></mrow><mo id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.6" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.6.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.2.cmml">𝕍</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.3.cmml">n</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.3b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3"><and id="S3.SS1.SSS0.Px1.p1.2.m2.3.3a.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3"></and><apply id="S3.SS1.SSS0.Px1.p1.2.m2.3.3b.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3"><eq id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.5.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.5"></eq><ci id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.4.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.4">𝑥</ci><vector id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1">…</ci><apply id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.2.2.3">𝑛</ci></apply></vector></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.3.3c.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3"><in id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.6.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.6"></in><share href="https://arxiv.org/html/2408.05026v1#S3.SS1.SSS0.Px1.p1.2.m2.3.3.2.cmml" id="S3.SS1.SSS0.Px1.p1.2.m2.3.3d.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3"></share><apply id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.2">𝕍</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.3.3.7.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.3c">x=(x_{1},...,x_{n})\in\mathbb{V}^{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.2.m2.3d">italic_x = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ∈ blackboard_V start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math> of length <math alttext="n\in\mathbb{N}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml">n</mi><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml">∈</mo><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1"><in id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1"></in><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2">𝑛</ci><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">n\in\mathbb{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.3.m3.1d">italic_n ∈ blackboard_N</annotation></semantics></math> is split into <math alttext="l\in\mathbb{N}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">l</mi><mo id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml">∈</mo><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><in id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1"></in><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">𝑙</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">l\in\mathbb{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.4.m4.1d">italic_l ∈ blackboard_N</annotation></semantics></math> contiguous chunks <math alttext="C_{1}=(x_{1},...,x_{m}),...,C_{l}=(x_{n-m+1},...,x_{n})" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.5.m5.5"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.5a"><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.2.cmml">C</mi><mn id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.3.cmml">1</mn></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.2.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.2.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml"><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.3" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.2.cmml">x</mi><mn id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.4" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml">…</mi><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.5" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.3.cmml">m</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.6" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p1.5.m5.3.3" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p1.5.m5.3.3.cmml">…</mi></mrow></mrow><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.3a.cmml">,</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.cmml"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.3.cmml">l</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.3.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml"><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.2.cmml">x</mi><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.2.cmml">n</mi><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.1.cmml">−</mo><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.3.cmml">m</mi></mrow><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.1.cmml">+</mo><mn id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.4" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.cmml">…</mi><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.5" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.6" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.5b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.3a.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.3">formulae-sequence</csymbol><apply id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1"><eq id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.2"></eq><apply id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.2">𝐶</ci><cn id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.3.3">1</cn></apply><list id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1"><vector id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.2">𝑥</ci><cn id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">…</ci><apply id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.4.4.1.1.1.1.1.2.2.3">𝑚</ci></apply></vector><ci id="S3.SS1.SSS0.Px1.p1.5.m5.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.3.3">…</ci></list></apply><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2"><eq id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.3"></eq><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.2">𝐶</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.4.3">𝑙</ci></apply><vector id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.2">𝑥</ci><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3"><plus id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.1"></plus><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2"><minus id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.1"></minus><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.2">𝑛</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.2.3">𝑚</ci></apply><cn id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2">…</ci><apply id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.5.5.2.2.2.2.2.3">𝑛</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.5c">C_{1}=(x_{1},...,x_{m}),...,C_{l}=(x_{n-m+1},...,x_{n})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.5.m5.5d">italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) , … , italic_C start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT = ( italic_x start_POSTSUBSCRIPT italic_n - italic_m + 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math> of length <math alttext="m=64" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.6.m6.1"><semantics id="S3.SS1.SSS0.Px1.p1.6.m6.1a"><mrow id="S3.SS1.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2.cmml">m</mi><mo id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.cmml">=</mo><mn id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3.cmml">64</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1"><eq id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1"></eq><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2">𝑚</ci><cn id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3">64</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.6.m6.1c">m=64</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.6.m6.1d">italic_m = 64</annotation></semantics></math>.
The probability of the next token <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.7.m7.1"><semantics id="S3.SS1.SSS0.Px1.p1.7.m7.1a"><msub id="S3.SS1.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.7.m7.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.7.m7.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> depends only on previous tokens and snippets retrieved by previous chunks:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="P\left(x_{i}\mid\theta,(x_{j})_{j&lt;i},\left(\textsc{Ret}_{\mathcal{D}}(C_{v})%
\right)_{v&lt;u_{i}}\right)," class="ltx_Math" display="block" id="S3.Ex1.m1.2"><semantics id="S3.Ex1.m1.2a"><mrow id="S3.Ex1.m1.2.2.1" xref="S3.Ex1.m1.2.2.1.1.cmml"><mrow id="S3.Ex1.m1.2.2.1.1" xref="S3.Ex1.m1.2.2.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.3" xref="S3.Ex1.m1.2.2.1.1.3.cmml">P</mi><mo id="S3.Ex1.m1.2.2.1.1.2" xref="S3.Ex1.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml"><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.4" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.4.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4.2.cmml">x</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.4.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4.3.cmml">i</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.3.cmml">∣</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.3.cmml"><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">θ</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml">j</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.4" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.cmml"><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.cmml"><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.3.cmml">𝒟</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.2.cmml">C</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.3.cmml">v</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.cmml">)</mo></mrow><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.2.cmml">v</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.1.cmml">&lt;</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.2.cmml">u</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.3.cmml">i</mi></msub></mrow></msub></mrow></mrow><mo id="S3.Ex1.m1.2.2.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.2.2.1.2" xref="S3.Ex1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.2b"><apply id="S3.Ex1.m1.2.2.1.1.cmml" xref="S3.Ex1.m1.2.2.1"><times id="S3.Ex1.m1.2.2.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.2"></times><ci id="S3.Ex1.m1.2.2.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.3">𝑃</ci><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.3">conditional</csymbol><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.4.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.4.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.4.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4.2">𝑥</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.4.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.Ex1.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2"><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝜃</ci><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">𝑗</ci></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3"><lt id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.1"></lt><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.2">𝑗</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2">subscript</csymbol><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1"><times id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.2"></times><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2a.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.2">Ret</mtext></ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.3.3">𝒟</ci></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.2">𝐶</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.1.1.1.1.1.1.3">𝑣</ci></apply></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3"><lt id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.1"></lt><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.2">𝑣</ci><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.2">𝑢</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.2.2.3.3.3">𝑖</ci></apply></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.2c">P\left(x_{i}\mid\theta,(x_{j})_{j&lt;i},\left(\textsc{Ret}_{\mathcal{D}}(C_{v})%
\right)_{v&lt;u_{i}}\right),</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.2d">italic_P ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∣ italic_θ , ( italic_x start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT italic_j &lt; italic_i end_POSTSUBSCRIPT , ( Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT ) ) start_POSTSUBSCRIPT italic_v &lt; italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.15">where <math alttext="u_{i}=\lceil\frac{i}{m}\rceil" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.8.m1.1"><semantics id="S3.SS1.SSS0.Px1.p1.8.m1.1a"><mrow id="S3.SS1.SSS0.Px1.p1.8.m1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.cmml"><msub id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.2" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.2.cmml">u</mi><mi id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.3" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.1" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.1.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.2" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.1.1.cmml">⌈</mo><mfrac id="S3.SS1.SSS0.Px1.p1.8.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1.3.cmml">m</mi></mfrac><mo id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.1.1.cmml">⌉</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.8.m1.1b"><apply id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2"><eq id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.1"></eq><apply id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.2">𝑢</ci><ci id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.2.3">𝑖</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.2"><ceiling id="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.2.3.2.1"></ceiling><apply id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1"><divide id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1"></divide><ci id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1.2">𝑖</ci><ci id="S3.SS1.SSS0.Px1.p1.8.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m1.1.1.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.8.m1.1c">u_{i}=\lceil\frac{i}{m}\rceil</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.8.m1.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = ⌈ divide start_ARG italic_i end_ARG start_ARG italic_m end_ARG ⌉</annotation></semantics></math> is the index of the chunk containing <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.9.m2.1"><semantics id="S3.SS1.SSS0.Px1.p1.9.m2.1a"><msub id="S3.SS1.SSS0.Px1.p1.9.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.9.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.9.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.9.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.9.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="\left(\textsc{Ret}_{\mathcal{D}}(C_{v})\right)_{v&lt;1}=\emptyset" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.10.m3.1"><semantics id="S3.SS1.SSS0.Px1.p1.10.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.10.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.3.cmml">𝒟</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.3.cmml">v</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.2.cmml">v</mi><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.1.cmml">&lt;</mo><mn id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.2.cmml">=</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.3" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.10.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1"><eq id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.2"></eq><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1">subscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1"><times id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.2"></times><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.2">Ret</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.3.3">𝒟</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.2">𝐶</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.1.1.1.1.1.1.3">𝑣</ci></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3"><lt id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.1"></lt><ci id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.2">𝑣</ci><cn id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.1.3.3">1</cn></apply></apply><emptyset id="S3.SS1.SSS0.Px1.p1.10.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m3.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.10.m3.1c">\left(\textsc{Ret}_{\mathcal{D}}(C_{v})\right)_{v&lt;1}=\emptyset</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.10.m3.1d">( Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT ) ) start_POSTSUBSCRIPT italic_v &lt; 1 end_POSTSUBSCRIPT = ∅</annotation></semantics></math>, <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.11.m4.1"><semantics id="S3.SS1.SSS0.Px1.p1.11.m4.1a"><mi id="S3.SS1.SSS0.Px1.p1.11.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m4.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.11.m4.1b"><ci id="S3.SS1.SSS0.Px1.p1.11.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m4.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.11.m4.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.11.m4.1d">italic_θ</annotation></semantics></math> are the weights of the model, and
<math alttext="\textsc{Ret}_{\mathcal{D}}(C_{u})" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.12.m5.1"><semantics id="S3.SS1.SSS0.Px1.p1.12.m5.1a"><mrow id="S3.SS1.SSS0.Px1.p1.12.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.3.cmml">𝒟</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.12.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1"><times id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.2"></times><apply id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.2">Ret</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.3.3">𝒟</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.2">𝐶</ci><ci id="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m5.1.1.1.1.1.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.12.m5.1c">\textsc{Ret}_{\mathcal{D}}(C_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.12.m5.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.13.m6.1"><semantics id="S3.SS1.SSS0.Px1.p1.13.m6.1a"><mi id="S3.SS1.SSS0.Px1.p1.13.m6.1.1" xref="S3.SS1.SSS0.Px1.p1.13.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.13.m6.1b"><ci id="S3.SS1.SSS0.Px1.p1.13.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.13.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.13.m6.1d">italic_k</annotation></semantics></math> retrieved snippets for <math alttext="C_{u}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.14.m7.1"><semantics id="S3.SS1.SSS0.Px1.p1.14.m7.1a"><msub id="S3.SS1.SSS0.Px1.p1.14.m7.1.1" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.2" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.3" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.14.m7.1b"><apply id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1.2">𝐶</ci><ci id="S3.SS1.SSS0.Px1.p1.14.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m7.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.14.m7.1c">C_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.14.m7.1d">italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> from the retrieval database <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.15.m8.1"><semantics id="S3.SS1.SSS0.Px1.p1.15.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.15.m8.1.1" xref="S3.SS1.SSS0.Px1.p1.15.m8.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.15.m8.1b"><ci id="S3.SS1.SSS0.Px1.p1.15.m8.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.15.m8.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.15.m8.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.15.m8.1d">caligraphic_D</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Retrieval</h5>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.19">The retrieval database is built by splitting the set of input documents <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.1.m1.1d">caligraphic_D</annotation></semantics></math> into fixed-size chunks of <math alttext="m=64" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px2.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml">m</mi><mo id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml">64</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1"><eq id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2">𝑚</ci><cn id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3">64</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.2.m2.1c">m=64</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.2.m2.1d">italic_m = 64</annotation></semantics></math> tokens.
The database stores key-value pairs, where the key is the embedding of a chunk of tokens <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.3.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.3.m3.1d">italic_N</annotation></semantics></math>, and the value is a pair <math alttext="[N,F]" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.4.m4.2"><semantics id="S3.SS1.SSS0.Px2.p1.4.m4.2a"><mrow id="S3.SS1.SSS0.Px2.p1.4.m4.2.3.2" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.3.1.cmml"><mo id="S3.SS1.SSS0.Px2.p1.4.m4.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.3.1.cmml">[</mo><mi id="S3.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml">N</mi><mo id="S3.SS1.SSS0.Px2.p1.4.m4.2.3.2.2" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.3.1.cmml">,</mo><mi id="S3.SS1.SSS0.Px2.p1.4.m4.2.2" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.2.cmml">F</mi><mo id="S3.SS1.SSS0.Px2.p1.4.m4.2.3.2.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.4.m4.2b"><interval closure="closed" id="S3.SS1.SSS0.Px2.p1.4.m4.2.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.3.2"><ci id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1">𝑁</ci><ci id="S3.SS1.SSS0.Px2.p1.4.m4.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.2.2">𝐹</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.4.m4.2c">[N,F]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.4.m4.2d">[ italic_N , italic_F ]</annotation></semantics></math>, which contains both the chunk <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.5.m5.1"><semantics id="S3.SS1.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.5.m5.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.5.m5.1d">italic_N</annotation></semantics></math> and the next immediate chunk <math alttext="F" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.6.m6.1"><semantics id="S3.SS1.SSS0.Px2.p1.6.m6.1a"><mi id="S3.SS1.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS1.SSS0.Px2.p1.6.m6.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.6.m6.1b"><ci id="S3.SS1.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m6.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.6.m6.1c">F</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.6.m6.1d">italic_F</annotation></semantics></math> in the original document.
The retriever <math alttext="\textsc{Ret}_{\mathcal{D}}(C)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.7.m7.1"><semantics id="S3.SS1.SSS0.Px2.p1.7.m7.1a"><mrow id="S3.SS1.SSS0.Px2.p1.7.m7.1.2" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.cmml"><msub id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.3.cmml">𝒟</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.1" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.3.2" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.cmml"><mo id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.cmml">(</mo><mi id="S3.SS1.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1.cmml">C</mi><mo id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2"><times id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.1"></times><apply id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2a.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.2">Ret</mtext></ci><ci id="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.2.2.3">𝒟</ci></apply><ci id="S3.SS1.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m7.1.1">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.7.m7.1c">\textsc{Ret}_{\mathcal{D}}(C)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.7.m7.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C )</annotation></semantics></math> finds the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.8.m8.1"><semantics id="S3.SS1.SSS0.Px2.p1.8.m8.1a"><mi id="S3.SS1.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.8.m8.1b"><ci id="S3.SS1.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.8.m8.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.8.m8.1d">italic_k</annotation></semantics></math> most similar snippets by comparing the <math alttext="L_{2}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.9.m9.1"><semantics id="S3.SS1.SSS0.Px2.p1.9.m9.1a"><msub id="S3.SS1.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2.cmml">L</mi><mn id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.9.m9.1b"><apply id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.2">𝐿</ci><cn id="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px2.p1.9.m9.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.9.m9.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.9.m9.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> distance between the embedding of the chunk <math alttext="\mathcal{M}(C)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.10.m10.1"><semantics id="S3.SS1.SSS0.Px2.p1.10.m10.1a"><mrow id="S3.SS1.SSS0.Px2.p1.10.m10.1.2" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.2" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.2.cmml">ℳ</mi><mo id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.1" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.3.2" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.cmml"><mo id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.cmml">(</mo><mi id="S3.SS1.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.1.cmml">C</mi><mo id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.10.m10.1b"><apply id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2"><times id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.1"></times><ci id="S3.SS1.SSS0.Px2.p1.10.m10.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.2.2">ℳ</ci><ci id="S3.SS1.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m10.1.1">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.10.m10.1c">\mathcal{M}(C)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.10.m10.1d">caligraphic_M ( italic_C )</annotation></semantics></math> and the database key <math alttext="\mathcal{M}(N)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.11.m11.1"><semantics id="S3.SS1.SSS0.Px2.p1.11.m11.1a"><mrow id="S3.SS1.SSS0.Px2.p1.11.m11.1.2" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.2" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.2.cmml">ℳ</mi><mo id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.1" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.3.2" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.cmml"><mo id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.cmml">(</mo><mi id="S3.SS1.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1.cmml">N</mi><mo id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2"><times id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.1"></times><ci id="S3.SS1.SSS0.Px2.p1.11.m11.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.2.2">ℳ</ci><ci id="S3.SS1.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.11.m11.1.1">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.11.m11.1c">\mathcal{M}(N)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.11.m11.1d">caligraphic_M ( italic_N )</annotation></semantics></math>.
<cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> use the BERT model <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib7" title="">2019</a>)</cite> for <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.12.m12.1"><semantics id="S3.SS1.SSS0.Px2.p1.12.m12.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.12.m12.1.1" xref="S3.SS1.SSS0.Px2.p1.12.m12.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.12.m12.1b"><ci id="S3.SS1.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.12.m12.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.12.m12.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.12.m12.1d">caligraphic_M</annotation></semantics></math>, while we use the CodeT5+ encoder <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib52" title="">2023b</a>)</cite>, as explained in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS4" title="4.4 Retrieval database ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.4</span></a>.
RETRO thus receives as input the input tokens <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.13.m13.1"><semantics id="S3.SS1.SSS0.Px2.p1.13.m13.1a"><mi id="S3.SS1.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS1.SSS0.Px2.p1.13.m13.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.13.m13.1b"><ci id="S3.SS1.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.13.m13.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.13.m13.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.13.m13.1d">italic_x</annotation></semantics></math> and the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.14.m14.1"><semantics id="S3.SS1.SSS0.Px2.p1.14.m14.1a"><mi id="S3.SS1.SSS0.Px2.p1.14.m14.1.1" xref="S3.SS1.SSS0.Px2.p1.14.m14.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.14.m14.1b"><ci id="S3.SS1.SSS0.Px2.p1.14.m14.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.14.m14.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.14.m14.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.14.m14.1d">italic_k</annotation></semantics></math> nearest snippets of each input chunk <math alttext="\textsc{Ret}_{\mathcal{D}}(C_{u})=([N^{1},F^{1}],...,[N^{k},F^{k}])" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.15.m15.4"><semantics id="S3.SS1.SSS0.Px2.p1.15.m15.4a"><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.4.4" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.cmml"><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.cmml"><msub id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.3.cmml">𝒟</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.cmml">(</mo><msub id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.4" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.4.cmml">=</mo><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml"><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml">(</mo><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.3.cmml"><mo id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.3.cmml">[</mo><msup id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.2.cmml">N</mi><mn id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.3.cmml">1</mn></msup><mo id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.4" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.3.cmml">,</mo><msup id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.2.cmml">F</mi><mn id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.3.cmml">1</mn></msup><mo id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.5" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.3.cmml">]</mo></mrow><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.4" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml">,</mo><mi id="S3.SS1.SSS0.Px2.p1.15.m15.1.1" mathvariant="normal" xref="S3.SS1.SSS0.Px2.p1.15.m15.1.1.cmml">…</mi><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.5" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml">,</mo><mrow id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.3.cmml"><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.3.cmml">[</mo><msup id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.2.cmml">N</mi><mi id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.3.cmml">k</mi></msup><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.3.cmml">,</mo><msup id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.2.cmml">F</mi><mi id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.3.cmml">k</mi></msup><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.5" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.3.cmml">]</mo></mrow><mo id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.6" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.15.m15.4b"><apply id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4"><eq id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.4.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.4"></eq><apply id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1"><times id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.2"></times><apply id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2a.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.2">Ret</mtext></ci><ci id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.3.3">𝒟</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.2">𝐶</ci><ci id="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.2.2.1.1.1.1.3">𝑢</ci></apply></apply><vector id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2"><interval closure="closed" id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2"><apply id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.2">𝑁</ci><cn id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.1.1.3">1</cn></apply><apply id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.2">𝐹</ci><cn id="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.3.cmml" type="integer" xref="S3.SS1.SSS0.Px2.p1.15.m15.3.3.2.1.1.2.2.3">1</cn></apply></interval><ci id="S3.SS1.SSS0.Px2.p1.15.m15.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.1.1">…</ci><interval closure="closed" id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2"><apply id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.2">𝑁</ci><ci id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.1.1.3">𝑘</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.2">𝐹</ci><ci id="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.15.m15.4.4.3.2.2.2.2.3">𝑘</ci></apply></interval></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.15.m15.4c">\textsc{Ret}_{\mathcal{D}}(C_{u})=([N^{1},F^{1}],...,[N^{k},F^{k}])</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.15.m15.4d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = ( [ italic_N start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , italic_F start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT ] , … , [ italic_N start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , italic_F start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ] )</annotation></semantics></math>.
When training the model, we ensure that <math alttext="\textsc{Ret}_{\mathcal{D}}(C_{u})" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.16.m16.1"><semantics id="S3.SS1.SSS0.Px2.p1.16.m16.1a"><mrow id="S3.SS1.SSS0.Px2.p1.16.m16.1.1" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.cmml"><msub id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.3.cmml">𝒟</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.2" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.2.cmml">C</mi><mi id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.16.m16.1b"><apply id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1"><times id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.2"></times><apply id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2a.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.2">Ret</mtext></ci><ci id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.3.3">𝒟</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.2">𝐶</ci><ci id="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.16.m16.1.1.1.1.1.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.16.m16.1c">\textsc{Ret}_{\mathcal{D}}(C_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.16.m16.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> does not contain <math alttext="C_{u+1}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.17.m17.1"><semantics id="S3.SS1.SSS0.Px2.p1.17.m17.1a"><msub id="S3.SS1.SSS0.Px2.p1.17.m17.1.1" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.2" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.2.cmml">C</mi><mrow id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.2.cmml">u</mi><mo id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.1" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.1.cmml">+</mo><mn id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.17.m17.1b"><apply id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.2">𝐶</ci><apply id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3"><plus id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.1"></plus><ci id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.2">𝑢</ci><cn id="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.3.cmml" type="integer" xref="S3.SS1.SSS0.Px2.p1.17.m17.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.17.m17.1c">C_{u+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.17.m17.1d">italic_C start_POSTSUBSCRIPT italic_u + 1 end_POSTSUBSCRIPT</annotation></semantics></math> by filtering out chunks <math alttext="[N,F]" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.18.m18.2"><semantics id="S3.SS1.SSS0.Px2.p1.18.m18.2a"><mrow id="S3.SS1.SSS0.Px2.p1.18.m18.2.3.2" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.3.1.cmml"><mo id="S3.SS1.SSS0.Px2.p1.18.m18.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.3.1.cmml">[</mo><mi id="S3.SS1.SSS0.Px2.p1.18.m18.1.1" xref="S3.SS1.SSS0.Px2.p1.18.m18.1.1.cmml">N</mi><mo id="S3.SS1.SSS0.Px2.p1.18.m18.2.3.2.2" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.3.1.cmml">,</mo><mi id="S3.SS1.SSS0.Px2.p1.18.m18.2.2" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.2.cmml">F</mi><mo id="S3.SS1.SSS0.Px2.p1.18.m18.2.3.2.3" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.18.m18.2b"><interval closure="closed" id="S3.SS1.SSS0.Px2.p1.18.m18.2.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.3.2"><ci id="S3.SS1.SSS0.Px2.p1.18.m18.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.18.m18.1.1">𝑁</ci><ci id="S3.SS1.SSS0.Px2.p1.18.m18.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.18.m18.2.2">𝐹</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.18.m18.2c">[N,F]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.18.m18.2d">[ italic_N , italic_F ]</annotation></semantics></math> that originate from the same training document as <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.19.m19.1"><semantics id="S3.SS1.SSS0.Px2.p1.19.m19.1a"><mi id="S3.SS1.SSS0.Px2.p1.19.m19.1.1" xref="S3.SS1.SSS0.Px2.p1.19.m19.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.19.m19.1b"><ci id="S3.SS1.SSS0.Px2.p1.19.m19.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.19.m19.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.19.m19.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.19.m19.1d">italic_x</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">The RETRO architecture</h5>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.4">The RETRO architecture is based on the encoder-decoder transformer architecture <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib50" title="">2017</a>)</cite>.
It differs from the decoder-only GPT-2 architecture by the addition of a bidirectional encoder and a chunked cross-attention mechanism, which operates on chunks and allows the inclusion of retrieved snippets into the decoder.
Splitting the input context into fixed-length chunks enables efficient chunk-based retrieval, providing more relevant examples for the entire context and allowing for the encoder to independently process all <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px3.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.1.m1.1d">italic_k</annotation></semantics></math> retrieved snippets of chunks.
Since the retriever itself is not updated during training, it can be updated after the training is complete without modifying the model weights.
The RETRO model introduces <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S3.SS1.SSS0.Px3.p1.4.1">Retro</span> layers, which replace certain regular decoder layers.
Following <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>, we place <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S3.SS1.SSS0.Px3.p1.4.2">Retro</span> layers at the sixth layer and then at every subsequent third layer (e.g., at layers <math alttext="6,9,12" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.4.m4.3"><semantics id="S3.SS1.SSS0.Px3.p1.4.m4.3a"><mrow id="S3.SS1.SSS0.Px3.p1.4.m4.3.4.2" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.4.1.cmml"><mn id="S3.SS1.SSS0.Px3.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m4.1.1.cmml">6</mn><mo id="S3.SS1.SSS0.Px3.p1.4.m4.3.4.2.1" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.4.1.cmml">,</mo><mn id="S3.SS1.SSS0.Px3.p1.4.m4.2.2" xref="S3.SS1.SSS0.Px3.p1.4.m4.2.2.cmml">9</mn><mo id="S3.SS1.SSS0.Px3.p1.4.m4.3.4.2.2" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.4.1.cmml">,</mo><mn id="S3.SS1.SSS0.Px3.p1.4.m4.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.3.cmml">12</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.4.m4.3b"><list id="S3.SS1.SSS0.Px3.p1.4.m4.3.4.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.4.2"><cn id="S3.SS1.SSS0.Px3.p1.4.m4.1.1.cmml" type="integer" xref="S3.SS1.SSS0.Px3.p1.4.m4.1.1">6</cn><cn id="S3.SS1.SSS0.Px3.p1.4.m4.2.2.cmml" type="integer" xref="S3.SS1.SSS0.Px3.p1.4.m4.2.2">9</cn><cn id="S3.SS1.SSS0.Px3.p1.4.m4.3.3.cmml" type="integer" xref="S3.SS1.SSS0.Px3.p1.4.m4.3.3">12</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.4.m4.3c">6,9,12</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.4.m4.3d">6 , 9 , 12</annotation></semantics></math>, if there are 12 layers in total).</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px4">
<h5 class="ltx_title ltx_title_paragraph">Sampling with RETRO</h5>
<div class="ltx_para" id="S3.SS1.SSS0.Px4.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px4.p1.2">Just as the architecture of RETRO influences the construction of the retrieval database and chunked cross-attention, it also impacts sampling from the model.
When sampling from RETRO, we pad the context to make sure it is a multiple of the chunk size <math alttext="m" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px4.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px4.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px4.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px4.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px4.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px4.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px4.p1.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px4.p1.1.m1.1d">italic_m</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>.
This allows RETRO to retrieve based on the last <math alttext="m" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px4.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px4.p1.2.m2.1a"><mi id="S3.SS1.SSS0.Px4.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px4.p1.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px4.p1.2.m2.1b"><ci id="S3.SS1.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px4.p1.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px4.p1.2.m2.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px4.p1.2.m2.1d">italic_m</annotation></semantics></math> tokens in the context, as otherwise predicting within the first chunk would not be improved by retrieval and tokens in the last chunk of the context would not be used for retrieval despite being most relevant to predicting the next token.
When generating longer texts, an additional question is how often to perform retrieval.
In our experiments, we limit the task to code completion until the end of a line, so retrieval is performed only before the first step of text generation or whenever the context length reaches a multiple of the chunk size.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Token healing</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.5">The use of subword tokenization can, in certain cases, lead to undesirable effects during text generation, especially when completing lines of code starting at unnatural word boundaries.
Due to the commonly used BPE tokenization algorithm <cite class="ltx_cite ltx_citemacro_citep">(Sennrich et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib44" title="">2016</a>)</cite>, some substrings appear in multiple tokens.
Consequently, if the input string <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_s</annotation></semantics></math> ends with a substring that is the beginning of some token, the output probability distribution for the next token will be biased <cite class="ltx_cite ltx_citemacro_citep">(Dagan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib6" title="">2024</a>)</cite>.
The tokenization of the string <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_s</annotation></semantics></math> may end with a token that would be merged with the token we are predicting in the BPE algorithm.
As a result, tokens that continue the tokenized string <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">italic_s</annotation></semantics></math> have a higher probability than tokens that would better complete the string <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">italic_s</annotation></semantics></math> truncated by the last token.
In addition, without a corrective measure, called token healing, <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.1"><semantics id="S3.SS2.p1.5.m5.1a"><mi id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m5.1d">italic_s</annotation></semantics></math> may be an out-of-distribution example, leading to unpredictable completion results, since the model has not encountered such unnatural cut-off boundaries during training.</p>
</div>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="691" id="S3.F2.sf1.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S3.F2.sf1.3.2" style="font-size:90%;">Token healing example.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="622" id="S3.F2.sf2.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S3.F2.sf2.3.2" style="font-size:90%;">Metrics with or without token healing.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.6.2.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S3.F2.2.1" style="font-size:90%;">
Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F2.sf1" title="In Figure 2 ‣ 3.2 Token healing ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2(a)</span></a> shows an example of token healing using a small four token vocabulary.
With token healing, the input is rolled back by one token and the output distribution is constrained to tokens that start with <span class="ltx_text ltx_font_typewriter" id="S3.F2.2.1.1">␣wo</span>, improving over the prediction without token healing.
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F2.sf2" title="In Figure 2 ‣ 3.2 Token healing ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2(b)</span></a> we compare code completion results (without retrieval) with respect to the use of token healing.
The experiments are performed on the evaluation set <span class="ltx_text ltx_font_typewriter" id="S3.F2.2.1.2">lineR</span> described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS3" title="4.3 The RepoEval dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.3</span></a>.
The Prefix Similarity (<math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S3.F2.2.1.m1.1"><semantics id="S3.F2.2.1.m1.1b"><mi id="S3.F2.2.1.m1.1.1" xref="S3.F2.2.1.m1.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S3.F2.2.1.m1.1c"><ci id="S3.F2.2.1.m1.1.1.cmml" xref="S3.F2.2.1.m1.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.2.1.m1.1d">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S3.F2.2.1.m1.1e">roman_PS</annotation></semantics></math>) metric is defined in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS7" title="4.7 Metrics ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.7</span></a> (higher values are better).
</span></figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.6">We solve this problem by finding and removing the longest suffix <math alttext="t" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_t</annotation></semantics></math> in the input string <math alttext="s=s^{\prime}\cdot t" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">s</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">=</mo><mrow id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><msup id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2.2" xref="S3.SS2.p2.2.m2.1.1.3.2.2.cmml">s</mi><mo id="S3.SS2.p2.2.m2.1.1.3.2.3" xref="S3.SS2.p2.2.m2.1.1.3.2.3.cmml">′</mo></msup><mo id="S3.SS2.p2.2.m2.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⋅</mo><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><eq id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></eq><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑠</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><ci id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3.1">⋅</ci><apply id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.3.2.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">superscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.3.2.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2.2">𝑠</ci><ci id="S3.SS2.p2.2.m2.1.1.3.2.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2.3">′</ci></apply><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">s=s^{\prime}\cdot t</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_s = italic_s start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ⋅ italic_t</annotation></semantics></math> that is a prefix of some token <math alttext="x_{i}\in\mathbb{V}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><msub id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2.2" xref="S3.SS2.p2.3.m3.1.1.2.2.cmml">x</mi><mi id="S3.SS2.p2.3.m3.1.1.2.3" xref="S3.SS2.p2.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">∈</mo><mi id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">𝕍</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><in id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></in><apply id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2.2">𝑥</ci><ci id="S3.SS2.p2.3.m3.1.1.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">𝕍</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">x_{i}\in\mathbb{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ blackboard_V</annotation></semantics></math>, <math alttext="x_{i}=t\cdot x_{i}^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mrow id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><msub id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2.2" xref="S3.SS2.p2.4.m4.1.1.2.2.cmml">x</mi><mi id="S3.SS2.p2.4.m4.1.1.2.3" xref="S3.SS2.p2.4.m4.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p2.4.m4.1.1.1" xref="S3.SS2.p2.4.m4.1.1.1.cmml">=</mo><mrow id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml"><mi id="S3.SS2.p2.4.m4.1.1.3.2" xref="S3.SS2.p2.4.m4.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p2.4.m4.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p2.4.m4.1.1.3.1.cmml">⋅</mo><msubsup id="S3.SS2.p2.4.m4.1.1.3.3" xref="S3.SS2.p2.4.m4.1.1.3.3.cmml"><mi id="S3.SS2.p2.4.m4.1.1.3.3.2.2" xref="S3.SS2.p2.4.m4.1.1.3.3.2.2.cmml">x</mi><mi id="S3.SS2.p2.4.m4.1.1.3.3.2.3" xref="S3.SS2.p2.4.m4.1.1.3.3.2.3.cmml">i</mi><mo id="S3.SS2.p2.4.m4.1.1.3.3.3" xref="S3.SS2.p2.4.m4.1.1.3.3.3.cmml">′</mo></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><eq id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1.1"></eq><apply id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.2.1.cmml" xref="S3.SS2.p2.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2.2">𝑥</ci><ci id="S3.SS2.p2.4.m4.1.1.2.3.cmml" xref="S3.SS2.p2.4.m4.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3"><ci id="S3.SS2.p2.4.m4.1.1.3.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.1">⋅</ci><ci id="S3.SS2.p2.4.m4.1.1.3.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.2">𝑡</ci><apply id="S3.SS2.p2.4.m4.1.1.3.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.3.3.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3">superscript</csymbol><apply id="S3.SS2.p2.4.m4.1.1.3.3.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.3.3.2.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.3.3.2.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2.2">𝑥</ci><ci id="S3.SS2.p2.4.m4.1.1.3.3.2.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2.3">𝑖</ci></apply><ci id="S3.SS2.p2.4.m4.1.1.3.3.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">x_{i}=t\cdot x_{i}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_t ⋅ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Dagan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib6" title="">2024</a>; Athiwaratkun et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib1" title="">2024</a>)</cite>.
During decoding, we then constrain the output probability distribution for the next token only to tokens that match the prefix of <math alttext="t" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_t</annotation></semantics></math>.
When we generate <math alttext="t" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><mi id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><ci id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_t</annotation></semantics></math> in its entirety, we no longer constrain the output distribution.
We illustrate the token healing process in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F2.sf1" title="In Figure 2 ‣ 3.2 Token healing ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2(a)</span></a> and show its practical impact in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F2.sf2" title="In Figure 2 ‣ 3.2 Token healing ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2(b)</span></a>.
We observe a significant impact largely due to the choice of the evaluation dataset, which begins code completion at a random position within the line.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>In-context RAG</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">A simpler alternative for retrieval-augmented code completion, compared to RETRO, is to include similar code snippets directly into the model’s context.
This eliminates the additional complexity of the RETRO architecture, as the In-context RAG method can be used with any autoregressive LLM <cite class="ltx_cite ltx_citemacro_citep">(Ram et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib41" title="">2023</a>; Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>; Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib33" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.10">Let <math alttext="x=(x_{1},...,x_{n})\in\mathbb{V}^{n}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.3"><semantics id="S3.SS3.p2.1.m1.3a"><mrow id="S3.SS3.p2.1.m1.3.3" xref="S3.SS3.p2.1.m1.3.3.cmml"><mi id="S3.SS3.p2.1.m1.3.3.4" xref="S3.SS3.p2.1.m1.3.3.4.cmml">x</mi><mo id="S3.SS3.p2.1.m1.3.3.5" xref="S3.SS3.p2.1.m1.3.3.5.cmml">=</mo><mrow id="S3.SS3.p2.1.m1.3.3.2.2" xref="S3.SS3.p2.1.m1.3.3.2.3.cmml"><mo id="S3.SS3.p2.1.m1.3.3.2.2.3" stretchy="false" xref="S3.SS3.p2.1.m1.3.3.2.3.cmml">(</mo><msub id="S3.SS3.p2.1.m1.2.2.1.1.1" xref="S3.SS3.p2.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.2.2.1.1.1.2" xref="S3.SS3.p2.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS3.p2.1.m1.2.2.1.1.1.3" xref="S3.SS3.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p2.1.m1.3.3.2.2.4" xref="S3.SS3.p2.1.m1.3.3.2.3.cmml">,</mo><mi id="S3.SS3.p2.1.m1.1.1" mathvariant="normal" xref="S3.SS3.p2.1.m1.1.1.cmml">…</mi><mo id="S3.SS3.p2.1.m1.3.3.2.2.5" xref="S3.SS3.p2.1.m1.3.3.2.3.cmml">,</mo><msub id="S3.SS3.p2.1.m1.3.3.2.2.2" xref="S3.SS3.p2.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS3.p2.1.m1.3.3.2.2.2.2" xref="S3.SS3.p2.1.m1.3.3.2.2.2.2.cmml">x</mi><mi id="S3.SS3.p2.1.m1.3.3.2.2.2.3" xref="S3.SS3.p2.1.m1.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS3.p2.1.m1.3.3.2.2.6" stretchy="false" xref="S3.SS3.p2.1.m1.3.3.2.3.cmml">)</mo></mrow><mo id="S3.SS3.p2.1.m1.3.3.6" xref="S3.SS3.p2.1.m1.3.3.6.cmml">∈</mo><msup id="S3.SS3.p2.1.m1.3.3.7" xref="S3.SS3.p2.1.m1.3.3.7.cmml"><mi id="S3.SS3.p2.1.m1.3.3.7.2" xref="S3.SS3.p2.1.m1.3.3.7.2.cmml">𝕍</mi><mi id="S3.SS3.p2.1.m1.3.3.7.3" xref="S3.SS3.p2.1.m1.3.3.7.3.cmml">n</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.3b"><apply id="S3.SS3.p2.1.m1.3.3.cmml" xref="S3.SS3.p2.1.m1.3.3"><and id="S3.SS3.p2.1.m1.3.3a.cmml" xref="S3.SS3.p2.1.m1.3.3"></and><apply id="S3.SS3.p2.1.m1.3.3b.cmml" xref="S3.SS3.p2.1.m1.3.3"><eq id="S3.SS3.p2.1.m1.3.3.5.cmml" xref="S3.SS3.p2.1.m1.3.3.5"></eq><ci id="S3.SS3.p2.1.m1.3.3.4.cmml" xref="S3.SS3.p2.1.m1.3.3.4">𝑥</ci><vector id="S3.SS3.p2.1.m1.3.3.2.3.cmml" xref="S3.SS3.p2.1.m1.3.3.2.2"><apply id="S3.SS3.p2.1.m1.2.2.1.1.1.cmml" xref="S3.SS3.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS3.p2.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS3.p2.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">…</ci><apply id="S3.SS3.p2.1.m1.3.3.2.2.2.cmml" xref="S3.SS3.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS3.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS3.p2.1.m1.3.3.2.2.2.2">𝑥</ci><ci id="S3.SS3.p2.1.m1.3.3.2.2.2.3.cmml" xref="S3.SS3.p2.1.m1.3.3.2.2.2.3">𝑛</ci></apply></vector></apply><apply id="S3.SS3.p2.1.m1.3.3c.cmml" xref="S3.SS3.p2.1.m1.3.3"><in id="S3.SS3.p2.1.m1.3.3.6.cmml" xref="S3.SS3.p2.1.m1.3.3.6"></in><share href="https://arxiv.org/html/2408.05026v1#S3.SS3.p2.1.m1.3.3.2.cmml" id="S3.SS3.p2.1.m1.3.3d.cmml" xref="S3.SS3.p2.1.m1.3.3"></share><apply id="S3.SS3.p2.1.m1.3.3.7.cmml" xref="S3.SS3.p2.1.m1.3.3.7"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.3.3.7.1.cmml" xref="S3.SS3.p2.1.m1.3.3.7">superscript</csymbol><ci id="S3.SS3.p2.1.m1.3.3.7.2.cmml" xref="S3.SS3.p2.1.m1.3.3.7.2">𝕍</ci><ci id="S3.SS3.p2.1.m1.3.3.7.3.cmml" xref="S3.SS3.p2.1.m1.3.3.7.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.3c">x=(x_{1},...,x_{n})\in\mathbb{V}^{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.3d">italic_x = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ∈ blackboard_V start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math> be the input sequence of tokens.
From <math alttext="x" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_x</annotation></semantics></math>, we construct a query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><mi id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">italic_q</annotation></semantics></math> from the last <math alttext="m\in\mathbb{N}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><mrow id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">m</mi><mo id="S3.SS3.p2.4.m4.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.cmml">∈</mo><mi id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><in id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1"></in><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">𝑚</ci><ci id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">m\in\mathbb{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">italic_m ∈ blackboard_N</annotation></semantics></math> tokens, <math alttext="q=(x_{n-m+1},...,x_{n})" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.3"><semantics id="S3.SS3.p2.5.m5.3a"><mrow id="S3.SS3.p2.5.m5.3.3" xref="S3.SS3.p2.5.m5.3.3.cmml"><mi id="S3.SS3.p2.5.m5.3.3.4" xref="S3.SS3.p2.5.m5.3.3.4.cmml">q</mi><mo id="S3.SS3.p2.5.m5.3.3.3" xref="S3.SS3.p2.5.m5.3.3.3.cmml">=</mo><mrow id="S3.SS3.p2.5.m5.3.3.2.2" xref="S3.SS3.p2.5.m5.3.3.2.3.cmml"><mo id="S3.SS3.p2.5.m5.3.3.2.2.3" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.2.3.cmml">(</mo><msub id="S3.SS3.p2.5.m5.2.2.1.1.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.cmml"><mi id="S3.SS3.p2.5.m5.2.2.1.1.1.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.2.cmml">x</mi><mrow id="S3.SS3.p2.5.m5.2.2.1.1.1.3" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.cmml"><mrow id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.2" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.2.cmml">n</mi><mo id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.1.cmml">−</mo><mi id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.3" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.3.cmml">m</mi></mrow><mo id="S3.SS3.p2.5.m5.2.2.1.1.1.3.1" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.1.cmml">+</mo><mn id="S3.SS3.p2.5.m5.2.2.1.1.1.3.3" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS3.p2.5.m5.3.3.2.2.4" xref="S3.SS3.p2.5.m5.3.3.2.3.cmml">,</mo><mi id="S3.SS3.p2.5.m5.1.1" mathvariant="normal" xref="S3.SS3.p2.5.m5.1.1.cmml">…</mi><mo id="S3.SS3.p2.5.m5.3.3.2.2.5" xref="S3.SS3.p2.5.m5.3.3.2.3.cmml">,</mo><msub id="S3.SS3.p2.5.m5.3.3.2.2.2" xref="S3.SS3.p2.5.m5.3.3.2.2.2.cmml"><mi id="S3.SS3.p2.5.m5.3.3.2.2.2.2" xref="S3.SS3.p2.5.m5.3.3.2.2.2.2.cmml">x</mi><mi id="S3.SS3.p2.5.m5.3.3.2.2.2.3" xref="S3.SS3.p2.5.m5.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS3.p2.5.m5.3.3.2.2.6" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.3b"><apply id="S3.SS3.p2.5.m5.3.3.cmml" xref="S3.SS3.p2.5.m5.3.3"><eq id="S3.SS3.p2.5.m5.3.3.3.cmml" xref="S3.SS3.p2.5.m5.3.3.3"></eq><ci id="S3.SS3.p2.5.m5.3.3.4.cmml" xref="S3.SS3.p2.5.m5.3.3.4">𝑞</ci><vector id="S3.SS3.p2.5.m5.3.3.2.3.cmml" xref="S3.SS3.p2.5.m5.3.3.2.2"><apply id="S3.SS3.p2.5.m5.2.2.1.1.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.2">𝑥</ci><apply id="S3.SS3.p2.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3"><plus id="S3.SS3.p2.5.m5.2.2.1.1.1.3.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.1"></plus><apply id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2"><minus id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.1"></minus><ci id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.2">𝑛</ci><ci id="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.2.3">𝑚</ci></apply><cn id="S3.SS3.p2.5.m5.2.2.1.1.1.3.3.cmml" type="integer" xref="S3.SS3.p2.5.m5.2.2.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">…</ci><apply id="S3.SS3.p2.5.m5.3.3.2.2.2.cmml" xref="S3.SS3.p2.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.3.3.2.2.2.1.cmml" xref="S3.SS3.p2.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.5.m5.3.3.2.2.2.2.cmml" xref="S3.SS3.p2.5.m5.3.3.2.2.2.2">𝑥</ci><ci id="S3.SS3.p2.5.m5.3.3.2.2.2.3.cmml" xref="S3.SS3.p2.5.m5.3.3.2.2.2.3">𝑛</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.3c">q=(x_{n-m+1},...,x_{n})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.3d">italic_q = ( italic_x start_POSTSUBSCRIPT italic_n - italic_m + 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math>, and use it to search for the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.p2.6.m6.1"><semantics id="S3.SS3.p2.6.m6.1a"><mi id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.1b"><ci id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.6.m6.1d">italic_k</annotation></semantics></math> nearest code snippets from the database <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS3.p2.7.m7.1"><semantics id="S3.SS3.p2.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.7.m7.1.1" xref="S3.SS3.p2.7.m7.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m7.1b"><ci id="S3.SS3.p2.7.m7.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.7.m7.1d">caligraphic_D</annotation></semantics></math>.
The tokens of the found snippets <math alttext="\textsc{Ret}_{\mathcal{D}}(q)=(r_{1},...,r_{k})" class="ltx_Math" display="inline" id="S3.SS3.p2.8.m8.4"><semantics id="S3.SS3.p2.8.m8.4a"><mrow id="S3.SS3.p2.8.m8.4.4" xref="S3.SS3.p2.8.m8.4.4.cmml"><mrow id="S3.SS3.p2.8.m8.4.4.4" xref="S3.SS3.p2.8.m8.4.4.4.cmml"><msub id="S3.SS3.p2.8.m8.4.4.4.2" xref="S3.SS3.p2.8.m8.4.4.4.2.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS3.p2.8.m8.4.4.4.2.2" xref="S3.SS3.p2.8.m8.4.4.4.2.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m8.4.4.4.2.3" xref="S3.SS3.p2.8.m8.4.4.4.2.3.cmml">𝒟</mi></msub><mo id="S3.SS3.p2.8.m8.4.4.4.1" xref="S3.SS3.p2.8.m8.4.4.4.1.cmml">⁢</mo><mrow id="S3.SS3.p2.8.m8.4.4.4.3.2" xref="S3.SS3.p2.8.m8.4.4.4.cmml"><mo id="S3.SS3.p2.8.m8.4.4.4.3.2.1" stretchy="false" xref="S3.SS3.p2.8.m8.4.4.4.cmml">(</mo><mi id="S3.SS3.p2.8.m8.1.1" xref="S3.SS3.p2.8.m8.1.1.cmml">q</mi><mo id="S3.SS3.p2.8.m8.4.4.4.3.2.2" stretchy="false" xref="S3.SS3.p2.8.m8.4.4.4.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.8.m8.4.4.3" xref="S3.SS3.p2.8.m8.4.4.3.cmml">=</mo><mrow id="S3.SS3.p2.8.m8.4.4.2.2" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml"><mo id="S3.SS3.p2.8.m8.4.4.2.2.3" stretchy="false" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml">(</mo><msub id="S3.SS3.p2.8.m8.3.3.1.1.1" xref="S3.SS3.p2.8.m8.3.3.1.1.1.cmml"><mi id="S3.SS3.p2.8.m8.3.3.1.1.1.2" xref="S3.SS3.p2.8.m8.3.3.1.1.1.2.cmml">r</mi><mn id="S3.SS3.p2.8.m8.3.3.1.1.1.3" xref="S3.SS3.p2.8.m8.3.3.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p2.8.m8.4.4.2.2.4" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml">,</mo><mi id="S3.SS3.p2.8.m8.2.2" mathvariant="normal" xref="S3.SS3.p2.8.m8.2.2.cmml">…</mi><mo id="S3.SS3.p2.8.m8.4.4.2.2.5" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml">,</mo><msub id="S3.SS3.p2.8.m8.4.4.2.2.2" xref="S3.SS3.p2.8.m8.4.4.2.2.2.cmml"><mi id="S3.SS3.p2.8.m8.4.4.2.2.2.2" xref="S3.SS3.p2.8.m8.4.4.2.2.2.2.cmml">r</mi><mi id="S3.SS3.p2.8.m8.4.4.2.2.2.3" xref="S3.SS3.p2.8.m8.4.4.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS3.p2.8.m8.4.4.2.2.6" stretchy="false" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.4b"><apply id="S3.SS3.p2.8.m8.4.4.cmml" xref="S3.SS3.p2.8.m8.4.4"><eq id="S3.SS3.p2.8.m8.4.4.3.cmml" xref="S3.SS3.p2.8.m8.4.4.3"></eq><apply id="S3.SS3.p2.8.m8.4.4.4.cmml" xref="S3.SS3.p2.8.m8.4.4.4"><times id="S3.SS3.p2.8.m8.4.4.4.1.cmml" xref="S3.SS3.p2.8.m8.4.4.4.1"></times><apply id="S3.SS3.p2.8.m8.4.4.4.2.cmml" xref="S3.SS3.p2.8.m8.4.4.4.2"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.4.4.4.2.1.cmml" xref="S3.SS3.p2.8.m8.4.4.4.2">subscript</csymbol><ci id="S3.SS3.p2.8.m8.4.4.4.2.2a.cmml" xref="S3.SS3.p2.8.m8.4.4.4.2.2"><mtext class="ltx_font_smallcaps" id="S3.SS3.p2.8.m8.4.4.4.2.2.cmml" xref="S3.SS3.p2.8.m8.4.4.4.2.2">Ret</mtext></ci><ci id="S3.SS3.p2.8.m8.4.4.4.2.3.cmml" xref="S3.SS3.p2.8.m8.4.4.4.2.3">𝒟</ci></apply><ci id="S3.SS3.p2.8.m8.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1">𝑞</ci></apply><vector id="S3.SS3.p2.8.m8.4.4.2.3.cmml" xref="S3.SS3.p2.8.m8.4.4.2.2"><apply id="S3.SS3.p2.8.m8.3.3.1.1.1.cmml" xref="S3.SS3.p2.8.m8.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.3.3.1.1.1.1.cmml" xref="S3.SS3.p2.8.m8.3.3.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m8.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.8.m8.3.3.1.1.1.2">𝑟</ci><cn id="S3.SS3.p2.8.m8.3.3.1.1.1.3.cmml" type="integer" xref="S3.SS3.p2.8.m8.3.3.1.1.1.3">1</cn></apply><ci id="S3.SS3.p2.8.m8.2.2.cmml" xref="S3.SS3.p2.8.m8.2.2">…</ci><apply id="S3.SS3.p2.8.m8.4.4.2.2.2.cmml" xref="S3.SS3.p2.8.m8.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.4.4.2.2.2.1.cmml" xref="S3.SS3.p2.8.m8.4.4.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.8.m8.4.4.2.2.2.2.cmml" xref="S3.SS3.p2.8.m8.4.4.2.2.2.2">𝑟</ci><ci id="S3.SS3.p2.8.m8.4.4.2.2.2.3.cmml" xref="S3.SS3.p2.8.m8.4.4.2.2.2.3">𝑘</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.4c">\textsc{Ret}_{\mathcal{D}}(q)=(r_{1},...,r_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.8.m8.4d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_q ) = ( italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> are concatenated into a sequence of tokens <math alttext="r=r_{1}\cdot...\cdot r_{k}" class="ltx_Math" display="inline" id="S3.SS3.p2.9.m9.1"><semantics id="S3.SS3.p2.9.m9.1a"><mrow id="S3.SS3.p2.9.m9.1.1" xref="S3.SS3.p2.9.m9.1.1.cmml"><mi id="S3.SS3.p2.9.m9.1.1.2" xref="S3.SS3.p2.9.m9.1.1.2.cmml">r</mi><mo id="S3.SS3.p2.9.m9.1.1.1" xref="S3.SS3.p2.9.m9.1.1.1.cmml">=</mo><mrow id="S3.SS3.p2.9.m9.1.1.3" xref="S3.SS3.p2.9.m9.1.1.3.cmml"><msub id="S3.SS3.p2.9.m9.1.1.3.2" xref="S3.SS3.p2.9.m9.1.1.3.2.cmml"><mi id="S3.SS3.p2.9.m9.1.1.3.2.2" xref="S3.SS3.p2.9.m9.1.1.3.2.2.cmml">r</mi><mn id="S3.SS3.p2.9.m9.1.1.3.2.3" xref="S3.SS3.p2.9.m9.1.1.3.2.3.cmml">1</mn></msub><mo id="S3.SS3.p2.9.m9.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS3.p2.9.m9.1.1.3.1.cmml">⋅</mo><mi id="S3.SS3.p2.9.m9.1.1.3.3" mathvariant="normal" xref="S3.SS3.p2.9.m9.1.1.3.3.cmml">…</mi><mo id="S3.SS3.p2.9.m9.1.1.3.1a" lspace="0.222em" rspace="0.222em" xref="S3.SS3.p2.9.m9.1.1.3.1.cmml">⋅</mo><msub id="S3.SS3.p2.9.m9.1.1.3.4" xref="S3.SS3.p2.9.m9.1.1.3.4.cmml"><mi id="S3.SS3.p2.9.m9.1.1.3.4.2" xref="S3.SS3.p2.9.m9.1.1.3.4.2.cmml">r</mi><mi id="S3.SS3.p2.9.m9.1.1.3.4.3" xref="S3.SS3.p2.9.m9.1.1.3.4.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m9.1b"><apply id="S3.SS3.p2.9.m9.1.1.cmml" xref="S3.SS3.p2.9.m9.1.1"><eq id="S3.SS3.p2.9.m9.1.1.1.cmml" xref="S3.SS3.p2.9.m9.1.1.1"></eq><ci id="S3.SS3.p2.9.m9.1.1.2.cmml" xref="S3.SS3.p2.9.m9.1.1.2">𝑟</ci><apply id="S3.SS3.p2.9.m9.1.1.3.cmml" xref="S3.SS3.p2.9.m9.1.1.3"><ci id="S3.SS3.p2.9.m9.1.1.3.1.cmml" xref="S3.SS3.p2.9.m9.1.1.3.1">⋅</ci><apply id="S3.SS3.p2.9.m9.1.1.3.2.cmml" xref="S3.SS3.p2.9.m9.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.9.m9.1.1.3.2.1.cmml" xref="S3.SS3.p2.9.m9.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.9.m9.1.1.3.2.2.cmml" xref="S3.SS3.p2.9.m9.1.1.3.2.2">𝑟</ci><cn id="S3.SS3.p2.9.m9.1.1.3.2.3.cmml" type="integer" xref="S3.SS3.p2.9.m9.1.1.3.2.3">1</cn></apply><ci id="S3.SS3.p2.9.m9.1.1.3.3.cmml" xref="S3.SS3.p2.9.m9.1.1.3.3">…</ci><apply id="S3.SS3.p2.9.m9.1.1.3.4.cmml" xref="S3.SS3.p2.9.m9.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS3.p2.9.m9.1.1.3.4.1.cmml" xref="S3.SS3.p2.9.m9.1.1.3.4">subscript</csymbol><ci id="S3.SS3.p2.9.m9.1.1.3.4.2.cmml" xref="S3.SS3.p2.9.m9.1.1.3.4.2">𝑟</ci><ci id="S3.SS3.p2.9.m9.1.1.3.4.3.cmml" xref="S3.SS3.p2.9.m9.1.1.3.4.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m9.1c">r=r_{1}\cdot...\cdot r_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.9.m9.1d">italic_r = italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ⋅ … ⋅ italic_r start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>.
The new context for the model is then <math alttext="x^{\prime}=r\cdot x" class="ltx_Math" display="inline" id="S3.SS3.p2.10.m10.1"><semantics id="S3.SS3.p2.10.m10.1a"><mrow id="S3.SS3.p2.10.m10.1.1" xref="S3.SS3.p2.10.m10.1.1.cmml"><msup id="S3.SS3.p2.10.m10.1.1.2" xref="S3.SS3.p2.10.m10.1.1.2.cmml"><mi id="S3.SS3.p2.10.m10.1.1.2.2" xref="S3.SS3.p2.10.m10.1.1.2.2.cmml">x</mi><mo id="S3.SS3.p2.10.m10.1.1.2.3" xref="S3.SS3.p2.10.m10.1.1.2.3.cmml">′</mo></msup><mo id="S3.SS3.p2.10.m10.1.1.1" xref="S3.SS3.p2.10.m10.1.1.1.cmml">=</mo><mrow id="S3.SS3.p2.10.m10.1.1.3" xref="S3.SS3.p2.10.m10.1.1.3.cmml"><mi id="S3.SS3.p2.10.m10.1.1.3.2" xref="S3.SS3.p2.10.m10.1.1.3.2.cmml">r</mi><mo id="S3.SS3.p2.10.m10.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS3.p2.10.m10.1.1.3.1.cmml">⋅</mo><mi id="S3.SS3.p2.10.m10.1.1.3.3" xref="S3.SS3.p2.10.m10.1.1.3.3.cmml">x</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.10.m10.1b"><apply id="S3.SS3.p2.10.m10.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1"><eq id="S3.SS3.p2.10.m10.1.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1.1"></eq><apply id="S3.SS3.p2.10.m10.1.1.2.cmml" xref="S3.SS3.p2.10.m10.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.10.m10.1.1.2.1.cmml" xref="S3.SS3.p2.10.m10.1.1.2">superscript</csymbol><ci id="S3.SS3.p2.10.m10.1.1.2.2.cmml" xref="S3.SS3.p2.10.m10.1.1.2.2">𝑥</ci><ci id="S3.SS3.p2.10.m10.1.1.2.3.cmml" xref="S3.SS3.p2.10.m10.1.1.2.3">′</ci></apply><apply id="S3.SS3.p2.10.m10.1.1.3.cmml" xref="S3.SS3.p2.10.m10.1.1.3"><ci id="S3.SS3.p2.10.m10.1.1.3.1.cmml" xref="S3.SS3.p2.10.m10.1.1.3.1">⋅</ci><ci id="S3.SS3.p2.10.m10.1.1.3.2.cmml" xref="S3.SS3.p2.10.m10.1.1.3.2">𝑟</ci><ci id="S3.SS3.p2.10.m10.1.1.3.3.cmml" xref="S3.SS3.p2.10.m10.1.1.3.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.10.m10.1c">x^{\prime}=r\cdot x</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.10.m10.1d">italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = italic_r ⋅ italic_x</annotation></semantics></math>, which is used to predict the next tokens.
The process is illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.F3" title="Figure 3 ‣ 3.3 In-context RAG ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="292" id="S3.F3.g1" src="x4.png" width="622"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F3.2.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S3.F3.3.2" style="font-size:90%;">Our In-context RAG approach based on the Jaccard similarity of chunks of tokens.
The retrieved snippet contains continuation tokens and additional metadata about the origin file, while the key for comparing with the query is a fixed length chunk.
</span></figcaption>
</figure>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.7">Individual retrieved snippets <math alttext="r_{i}" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><msub id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml">r</mi><mi id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2">𝑟</ci><ci id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> can be further enhanced, for example by adding metadata about the original file, such as <math alttext="r_{i}^{\prime}=\texttt{\# path/to/file.py\n}\cdot r_{i}" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mrow id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><msubsup id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2.2.2" xref="S3.SS3.p3.2.m2.1.1.2.2.2.cmml">r</mi><mi id="S3.SS3.p3.2.m2.1.1.2.2.3" xref="S3.SS3.p3.2.m2.1.1.2.2.3.cmml">i</mi><mo id="S3.SS3.p3.2.m2.1.1.2.3" xref="S3.SS3.p3.2.m2.1.1.2.3.cmml">′</mo></msubsup><mo id="S3.SS3.p3.2.m2.1.1.1" xref="S3.SS3.p3.2.m2.1.1.1.cmml">=</mo><mrow id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml"><mtext class="ltx_mathvariant_monospace" id="S3.SS3.p3.2.m2.1.1.3.2" xref="S3.SS3.p3.2.m2.1.1.3.2a.cmml"># path/to/file.py\n</mtext><mo id="S3.SS3.p3.2.m2.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS3.p3.2.m2.1.1.3.1.cmml">⋅</mo><msub id="S3.SS3.p3.2.m2.1.1.3.3" xref="S3.SS3.p3.2.m2.1.1.3.3.cmml"><mi id="S3.SS3.p3.2.m2.1.1.3.3.2" xref="S3.SS3.p3.2.m2.1.1.3.3.2.cmml">r</mi><mi id="S3.SS3.p3.2.m2.1.1.3.3.3" xref="S3.SS3.p3.2.m2.1.1.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><eq id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1.1"></eq><apply id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.2.1.cmml" xref="S3.SS3.p3.2.m2.1.1.2">superscript</csymbol><apply id="S3.SS3.p3.2.m2.1.1.2.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.2.2.1.cmml" xref="S3.SS3.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.2.2.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2.2.2">𝑟</ci><ci id="S3.SS3.p3.2.m2.1.1.2.2.3.cmml" xref="S3.SS3.p3.2.m2.1.1.2.2.3">𝑖</ci></apply><ci id="S3.SS3.p3.2.m2.1.1.2.3.cmml" xref="S3.SS3.p3.2.m2.1.1.2.3">′</ci></apply><apply id="S3.SS3.p3.2.m2.1.1.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3"><ci id="S3.SS3.p3.2.m2.1.1.3.1.cmml" xref="S3.SS3.p3.2.m2.1.1.3.1">⋅</ci><ci id="S3.SS3.p3.2.m2.1.1.3.2a.cmml" xref="S3.SS3.p3.2.m2.1.1.3.2"><mtext class="ltx_mathvariant_monospace" id="S3.SS3.p3.2.m2.1.1.3.2.cmml" xref="S3.SS3.p3.2.m2.1.1.3.2"># path/to/file.py\n</mtext></ci><apply id="S3.SS3.p3.2.m2.1.1.3.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.3.3.1.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3">subscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.3.3.2.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3.2">𝑟</ci><ci id="S3.SS3.p3.2.m2.1.1.3.3.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">r_{i}^{\prime}=\texttt{\# path/to/file.py\n}\cdot r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = # path/to/file.py\n ⋅ italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
Unlike RETRO, this approach is not limited to retrieving fixed size chunks.
We can also dynamically adjust the number of retrieved snippets <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m3.1"><semantics id="S3.SS3.p3.3.m3.1a"><mi id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m3.1d">italic_k</annotation></semantics></math> based on the remaining size of the input context.
The retrieval database <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS3.p3.4.m4.1"><semantics id="S3.SS3.p3.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.4.m4.1.1" xref="S3.SS3.p3.4.m4.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.1b"><ci id="S3.SS3.p3.4.m4.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.4.m4.1d">caligraphic_D</annotation></semantics></math> and the query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS3.p3.5.m5.1"><semantics id="S3.SS3.p3.5.m5.1a"><mi id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><ci id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.5.m5.1d">italic_q</annotation></semantics></math> need not be constructed based on fixed-length chunks of tokens; instead, the data can be chunked based on lines or logical code parts, such as functions.
In our experiments, to make a fair comparison, we use fixed chunks as in the RETRO approach.
As with RETRO, the retriever <math alttext="\textsc{Ret}_{\mathcal{D}}" class="ltx_Math" display="inline" id="S3.SS3.p3.6.m6.1"><semantics id="S3.SS3.p3.6.m6.1a"><msub id="S3.SS3.p3.6.m6.1.1" xref="S3.SS3.p3.6.m6.1.1.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS3.p3.6.m6.1.1.2" xref="S3.SS3.p3.6.m6.1.1.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.6.m6.1.1.3" xref="S3.SS3.p3.6.m6.1.1.3.cmml">𝒟</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.6.m6.1b"><apply id="S3.SS3.p3.6.m6.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.6.m6.1.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p3.6.m6.1.1.2a.cmml" xref="S3.SS3.p3.6.m6.1.1.2"><mtext class="ltx_font_smallcaps" id="S3.SS3.p3.6.m6.1.1.2.cmml" xref="S3.SS3.p3.6.m6.1.1.2">Ret</mtext></ci><ci id="S3.SS3.p3.6.m6.1.1.3.cmml" xref="S3.SS3.p3.6.m6.1.1.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.6.m6.1c">\textsc{Ret}_{\mathcal{D}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.6.m6.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT</annotation></semantics></math> only returns examples that are not from the same file as <math alttext="x" class="ltx_Math" display="inline" id="S3.SS3.p3.7.m7.1"><semantics id="S3.SS3.p3.7.m7.1a"><mi id="S3.SS3.p3.7.m7.1.1" xref="S3.SS3.p3.7.m7.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.7.m7.1b"><ci id="S3.SS3.p3.7.m7.1.1.cmml" xref="S3.SS3.p3.7.m7.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.7.m7.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.7.m7.1d">italic_x</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.8">As with the RETRO approach, the retriever <math alttext="\textsc{Ret}_{\mathcal{D}}(q)" class="ltx_Math" display="inline" id="S3.SS3.p4.1.m1.1"><semantics id="S3.SS3.p4.1.m1.1a"><mrow id="S3.SS3.p4.1.m1.1.2" xref="S3.SS3.p4.1.m1.1.2.cmml"><msub id="S3.SS3.p4.1.m1.1.2.2" xref="S3.SS3.p4.1.m1.1.2.2.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS3.p4.1.m1.1.2.2.2" xref="S3.SS3.p4.1.m1.1.2.2.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.1.m1.1.2.2.3" xref="S3.SS3.p4.1.m1.1.2.2.3.cmml">𝒟</mi></msub><mo id="S3.SS3.p4.1.m1.1.2.1" xref="S3.SS3.p4.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS3.p4.1.m1.1.2.3.2" xref="S3.SS3.p4.1.m1.1.2.cmml"><mo id="S3.SS3.p4.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS3.p4.1.m1.1.2.cmml">(</mo><mi id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml">q</mi><mo id="S3.SS3.p4.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS3.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><apply id="S3.SS3.p4.1.m1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.2"><times id="S3.SS3.p4.1.m1.1.2.1.cmml" xref="S3.SS3.p4.1.m1.1.2.1"></times><apply id="S3.SS3.p4.1.m1.1.2.2.cmml" xref="S3.SS3.p4.1.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.2.2.1.cmml" xref="S3.SS3.p4.1.m1.1.2.2">subscript</csymbol><ci id="S3.SS3.p4.1.m1.1.2.2.2a.cmml" xref="S3.SS3.p4.1.m1.1.2.2.2"><mtext class="ltx_font_smallcaps" id="S3.SS3.p4.1.m1.1.2.2.2.cmml" xref="S3.SS3.p4.1.m1.1.2.2.2">Ret</mtext></ci><ci id="S3.SS3.p4.1.m1.1.2.2.3.cmml" xref="S3.SS3.p4.1.m1.1.2.2.3">𝒟</ci></apply><ci id="S3.SS3.p4.1.m1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">\textsc{Ret}_{\mathcal{D}}(q)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.1.m1.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT ( italic_q )</annotation></semantics></math> could operate based on the distance between the embedding of the query and chunks from the database <math alttext="r_{i}\in\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS3.p4.2.m2.1"><semantics id="S3.SS3.p4.2.m2.1a"><mrow id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><msub id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2.2" xref="S3.SS3.p4.2.m2.1.1.2.2.cmml">r</mi><mi id="S3.SS3.p4.2.m2.1.1.2.3" xref="S3.SS3.p4.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p4.2.m2.1.1.1" xref="S3.SS3.p4.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><in id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1.1"></in><apply id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m2.1.1.2.1.cmml" xref="S3.SS3.p4.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2.2">𝑟</ci><ci id="S3.SS3.p4.2.m2.1.1.2.3.cmml" xref="S3.SS3.p4.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">r_{i}\in\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.2.m2.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_D</annotation></semantics></math>, <math alttext="d(\mathcal{M}(r_{i}),\mathcal{M}(q))" class="ltx_Math" display="inline" id="S3.SS3.p4.3.m3.3"><semantics id="S3.SS3.p4.3.m3.3a"><mrow id="S3.SS3.p4.3.m3.3.3" xref="S3.SS3.p4.3.m3.3.3.cmml"><mi id="S3.SS3.p4.3.m3.3.3.4" xref="S3.SS3.p4.3.m3.3.3.4.cmml">d</mi><mo id="S3.SS3.p4.3.m3.3.3.3" xref="S3.SS3.p4.3.m3.3.3.3.cmml">⁢</mo><mrow id="S3.SS3.p4.3.m3.3.3.2.2" xref="S3.SS3.p4.3.m3.3.3.2.3.cmml"><mo id="S3.SS3.p4.3.m3.3.3.2.2.3" stretchy="false" xref="S3.SS3.p4.3.m3.3.3.2.3.cmml">(</mo><mrow id="S3.SS3.p4.3.m3.2.2.1.1.1" xref="S3.SS3.p4.3.m3.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.3.m3.2.2.1.1.1.3" xref="S3.SS3.p4.3.m3.2.2.1.1.1.3.cmml">ℳ</mi><mo id="S3.SS3.p4.3.m3.2.2.1.1.1.2" xref="S3.SS3.p4.3.m3.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.2" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.2.cmml">r</mi><mi id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.3" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.3.m3.3.3.2.2.4" xref="S3.SS3.p4.3.m3.3.3.2.3.cmml">,</mo><mrow id="S3.SS3.p4.3.m3.3.3.2.2.2" xref="S3.SS3.p4.3.m3.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.3.m3.3.3.2.2.2.2" xref="S3.SS3.p4.3.m3.3.3.2.2.2.2.cmml">ℳ</mi><mo id="S3.SS3.p4.3.m3.3.3.2.2.2.1" xref="S3.SS3.p4.3.m3.3.3.2.2.2.1.cmml">⁢</mo><mrow id="S3.SS3.p4.3.m3.3.3.2.2.2.3.2" xref="S3.SS3.p4.3.m3.3.3.2.2.2.cmml"><mo id="S3.SS3.p4.3.m3.3.3.2.2.2.3.2.1" stretchy="false" xref="S3.SS3.p4.3.m3.3.3.2.2.2.cmml">(</mo><mi id="S3.SS3.p4.3.m3.1.1" xref="S3.SS3.p4.3.m3.1.1.cmml">q</mi><mo id="S3.SS3.p4.3.m3.3.3.2.2.2.3.2.2" stretchy="false" xref="S3.SS3.p4.3.m3.3.3.2.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.3.m3.3.3.2.2.5" stretchy="false" xref="S3.SS3.p4.3.m3.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m3.3b"><apply id="S3.SS3.p4.3.m3.3.3.cmml" xref="S3.SS3.p4.3.m3.3.3"><times id="S3.SS3.p4.3.m3.3.3.3.cmml" xref="S3.SS3.p4.3.m3.3.3.3"></times><ci id="S3.SS3.p4.3.m3.3.3.4.cmml" xref="S3.SS3.p4.3.m3.3.3.4">𝑑</ci><interval closure="open" id="S3.SS3.p4.3.m3.3.3.2.3.cmml" xref="S3.SS3.p4.3.m3.3.3.2.2"><apply id="S3.SS3.p4.3.m3.2.2.1.1.1.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1"><times id="S3.SS3.p4.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.2"></times><ci id="S3.SS3.p4.3.m3.2.2.1.1.1.3.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.3">ℳ</ci><apply id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.2">𝑟</ci><ci id="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.3.m3.2.2.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS3.p4.3.m3.3.3.2.2.2.cmml" xref="S3.SS3.p4.3.m3.3.3.2.2.2"><times id="S3.SS3.p4.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS3.p4.3.m3.3.3.2.2.2.1"></times><ci id="S3.SS3.p4.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS3.p4.3.m3.3.3.2.2.2.2">ℳ</ci><ci id="S3.SS3.p4.3.m3.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1">𝑞</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.3c">d(\mathcal{M}(r_{i}),\mathcal{M}(q))</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.3.m3.3d">italic_d ( caligraphic_M ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) , caligraphic_M ( italic_q ) )</annotation></semantics></math>.
We decided on a simpler approach that works solely based on the Jaccard similarity of tokens and not on embeddings.
The Jaccard similarity coefficient <math alttext="J" class="ltx_Math" display="inline" id="S3.SS3.p4.4.m4.1"><semantics id="S3.SS3.p4.4.m4.1a"><mi id="S3.SS3.p4.4.m4.1.1" xref="S3.SS3.p4.4.m4.1.1.cmml">J</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m4.1b"><ci id="S3.SS3.p4.4.m4.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1">𝐽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m4.1c">J</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.4.m4.1d">italic_J</annotation></semantics></math> is used over the set <math alttext="Q" class="ltx_Math" display="inline" id="S3.SS3.p4.5.m5.1"><semantics id="S3.SS3.p4.5.m5.1a"><mi id="S3.SS3.p4.5.m5.1.1" xref="S3.SS3.p4.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.5.m5.1b"><ci id="S3.SS3.p4.5.m5.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.5.m5.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.5.m5.1d">italic_Q</annotation></semantics></math> of tokens from the query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS3.p4.6.m6.1"><semantics id="S3.SS3.p4.6.m6.1a"><mi id="S3.SS3.p4.6.m6.1.1" xref="S3.SS3.p4.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.6.m6.1b"><ci id="S3.SS3.p4.6.m6.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.6.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.6.m6.1d">italic_q</annotation></semantics></math> and the set <math alttext="R" class="ltx_Math" display="inline" id="S3.SS3.p4.7.m7.1"><semantics id="S3.SS3.p4.7.m7.1a"><mi id="S3.SS3.p4.7.m7.1.1" xref="S3.SS3.p4.7.m7.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.7.m7.1b"><ci id="S3.SS3.p4.7.m7.1.1.cmml" xref="S3.SS3.p4.7.m7.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.7.m7.1c">R</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.7.m7.1d">italic_R</annotation></semantics></math> of tokens from the retrieved snippet <math alttext="r_{i}" class="ltx_Math" display="inline" id="S3.SS3.p4.8.m8.1"><semantics id="S3.SS3.p4.8.m8.1a"><msub id="S3.SS3.p4.8.m8.1.1" xref="S3.SS3.p4.8.m8.1.1.cmml"><mi id="S3.SS3.p4.8.m8.1.1.2" xref="S3.SS3.p4.8.m8.1.1.2.cmml">r</mi><mi id="S3.SS3.p4.8.m8.1.1.3" xref="S3.SS3.p4.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.8.m8.1b"><apply id="S3.SS3.p4.8.m8.1.1.cmml" xref="S3.SS3.p4.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.8.m8.1.1.1.cmml" xref="S3.SS3.p4.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.p4.8.m8.1.1.2.cmml" xref="S3.SS3.p4.8.m8.1.1.2">𝑟</ci><ci id="S3.SS3.p4.8.m8.1.1.3.cmml" xref="S3.SS3.p4.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.8.m8.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.8.m8.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="J(Q,R)=\frac{|Q\cap R|}{|Q\cup R|}." class="ltx_Math" display="block" id="S3.Ex2.m1.5"><semantics id="S3.Ex2.m1.5a"><mrow id="S3.Ex2.m1.5.5.1" xref="S3.Ex2.m1.5.5.1.1.cmml"><mrow id="S3.Ex2.m1.5.5.1.1" xref="S3.Ex2.m1.5.5.1.1.cmml"><mrow id="S3.Ex2.m1.5.5.1.1.2" xref="S3.Ex2.m1.5.5.1.1.2.cmml"><mi id="S3.Ex2.m1.5.5.1.1.2.2" xref="S3.Ex2.m1.5.5.1.1.2.2.cmml">J</mi><mo id="S3.Ex2.m1.5.5.1.1.2.1" xref="S3.Ex2.m1.5.5.1.1.2.1.cmml">⁢</mo><mrow id="S3.Ex2.m1.5.5.1.1.2.3.2" xref="S3.Ex2.m1.5.5.1.1.2.3.1.cmml"><mo id="S3.Ex2.m1.5.5.1.1.2.3.2.1" stretchy="false" xref="S3.Ex2.m1.5.5.1.1.2.3.1.cmml">(</mo><mi id="S3.Ex2.m1.3.3" xref="S3.Ex2.m1.3.3.cmml">Q</mi><mo id="S3.Ex2.m1.5.5.1.1.2.3.2.2" xref="S3.Ex2.m1.5.5.1.1.2.3.1.cmml">,</mo><mi id="S3.Ex2.m1.4.4" xref="S3.Ex2.m1.4.4.cmml">R</mi><mo id="S3.Ex2.m1.5.5.1.1.2.3.2.3" stretchy="false" xref="S3.Ex2.m1.5.5.1.1.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex2.m1.5.5.1.1.1" xref="S3.Ex2.m1.5.5.1.1.1.cmml">=</mo><mfrac id="S3.Ex2.m1.2.2" xref="S3.Ex2.m1.2.2.cmml"><mrow id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">|</mo><mrow id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml">Q</mi><mo id="S3.Ex2.m1.1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">∩</mo><mi id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml">R</mi></mrow><mo id="S3.Ex2.m1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.Ex2.m1.2.2.2.1" xref="S3.Ex2.m1.2.2.2.2.cmml"><mo id="S3.Ex2.m1.2.2.2.1.2" stretchy="false" xref="S3.Ex2.m1.2.2.2.2.1.cmml">|</mo><mrow id="S3.Ex2.m1.2.2.2.1.1" xref="S3.Ex2.m1.2.2.2.1.1.cmml"><mi id="S3.Ex2.m1.2.2.2.1.1.2" xref="S3.Ex2.m1.2.2.2.1.1.2.cmml">Q</mi><mo id="S3.Ex2.m1.2.2.2.1.1.1" xref="S3.Ex2.m1.2.2.2.1.1.1.cmml">∪</mo><mi id="S3.Ex2.m1.2.2.2.1.1.3" xref="S3.Ex2.m1.2.2.2.1.1.3.cmml">R</mi></mrow><mo id="S3.Ex2.m1.2.2.2.1.3" stretchy="false" xref="S3.Ex2.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mrow><mo id="S3.Ex2.m1.5.5.1.2" lspace="0em" xref="S3.Ex2.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.5b"><apply id="S3.Ex2.m1.5.5.1.1.cmml" xref="S3.Ex2.m1.5.5.1"><eq id="S3.Ex2.m1.5.5.1.1.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1"></eq><apply id="S3.Ex2.m1.5.5.1.1.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2"><times id="S3.Ex2.m1.5.5.1.1.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.2.1"></times><ci id="S3.Ex2.m1.5.5.1.1.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2.2">𝐽</ci><interval closure="open" id="S3.Ex2.m1.5.5.1.1.2.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.2.3.2"><ci id="S3.Ex2.m1.3.3.cmml" xref="S3.Ex2.m1.3.3">𝑄</ci><ci id="S3.Ex2.m1.4.4.cmml" xref="S3.Ex2.m1.4.4">𝑅</ci></interval></apply><apply id="S3.Ex2.m1.2.2.cmml" xref="S3.Ex2.m1.2.2"><divide id="S3.Ex2.m1.2.2.3.cmml" xref="S3.Ex2.m1.2.2"></divide><apply id="S3.Ex2.m1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1"><abs id="S3.Ex2.m1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.1.1.2"></abs><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1"><intersect id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.1"></intersect><ci id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2">𝑄</ci><ci id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">𝑅</ci></apply></apply><apply id="S3.Ex2.m1.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.1"><abs id="S3.Ex2.m1.2.2.2.2.1.cmml" xref="S3.Ex2.m1.2.2.2.1.2"></abs><apply id="S3.Ex2.m1.2.2.2.1.1.cmml" xref="S3.Ex2.m1.2.2.2.1.1"><union id="S3.Ex2.m1.2.2.2.1.1.1.cmml" xref="S3.Ex2.m1.2.2.2.1.1.1"></union><ci id="S3.Ex2.m1.2.2.2.1.1.2.cmml" xref="S3.Ex2.m1.2.2.2.1.1.2">𝑄</ci><ci id="S3.Ex2.m1.2.2.2.1.1.3.cmml" xref="S3.Ex2.m1.2.2.2.1.1.3">𝑅</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.5c">J(Q,R)=\frac{|Q\cap R|}{|Q\cup R|}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.5d">italic_J ( italic_Q , italic_R ) = divide start_ARG | italic_Q ∩ italic_R | end_ARG start_ARG | italic_Q ∪ italic_R | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p4.11">The retriever <math alttext="\textsc{Ret}_{\mathcal{D}}" class="ltx_Math" display="inline" id="S3.SS3.p4.9.m1.1"><semantics id="S3.SS3.p4.9.m1.1a"><msub id="S3.SS3.p4.9.m1.1.1" xref="S3.SS3.p4.9.m1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS3.p4.9.m1.1.1.2" xref="S3.SS3.p4.9.m1.1.1.2a.cmml">Ret</mtext><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.9.m1.1.1.3" xref="S3.SS3.p4.9.m1.1.1.3.cmml">𝒟</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.9.m1.1b"><apply id="S3.SS3.p4.9.m1.1.1.cmml" xref="S3.SS3.p4.9.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.9.m1.1.1.1.cmml" xref="S3.SS3.p4.9.m1.1.1">subscript</csymbol><ci id="S3.SS3.p4.9.m1.1.1.2a.cmml" xref="S3.SS3.p4.9.m1.1.1.2"><mtext class="ltx_font_smallcaps" id="S3.SS3.p4.9.m1.1.1.2.cmml" xref="S3.SS3.p4.9.m1.1.1.2">Ret</mtext></ci><ci id="S3.SS3.p4.9.m1.1.1.3.cmml" xref="S3.SS3.p4.9.m1.1.1.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.9.m1.1c">\textsc{Ret}_{\mathcal{D}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.9.m1.1d">Ret start_POSTSUBSCRIPT caligraphic_D end_POSTSUBSCRIPT</annotation></semantics></math> thus finds code snippets that have the highest similarity between the query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS3.p4.10.m2.1"><semantics id="S3.SS3.p4.10.m2.1a"><mi id="S3.SS3.p4.10.m2.1.1" xref="S3.SS3.p4.10.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.10.m2.1b"><ci id="S3.SS3.p4.10.m2.1.1.cmml" xref="S3.SS3.p4.10.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.10.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.10.m2.1d">italic_q</annotation></semantics></math> and the chunks in the database <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS3.p4.11.m3.1"><semantics id="S3.SS3.p4.11.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.11.m3.1.1" xref="S3.SS3.p4.11.m3.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.11.m3.1b"><ci id="S3.SS3.p4.11.m3.1.1.cmml" xref="S3.SS3.p4.11.m3.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.11.m3.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.11.m3.1d">caligraphic_D</annotation></semantics></math>.
We prefer this approach because it does not require an additional model to compute embeddings, making it more suitable for efficient execution on limited hardware and with local projects.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental settings </h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we present the datasets, evaluation metrics, and experimental settings used to verify if retrieval-augmented code completion can enhance the performance of LLMs when working on local projects.
Since we aim to run models on local hardware, we focus on smaller models and efficient retrieval and text generation methods.
We assess the impact of retrieval by comparing GPT-2, RETRO, and the In-context RAG approach that incorporates found snippets into the context of models without modifying the model architecture or training process. We split the section into seven parts: tokenization, training and evaluation dataset descriptions, retrieval database, model architecture with hyperparameters, training of models, and used comparison metrics. The results are reported in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5" title="5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Tokenization</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.2">We compare two subword tokenization methods based on the BPE algorithm <cite class="ltx_cite ltx_citemacro_citep">(Sennrich et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib44" title="">2016</a>)</cite> with differing vocabularies.
The first version of the vocabulary with <math alttext="50\,257" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mn id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">50 257</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><cn id="S4.SS1.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS1.p1.1.m1.1.1">50257</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">50\,257</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">50 257</annotation></semantics></math> tokens was trained on a diverse textual dataset obtained from web sources used in the GPT-2 paper <cite class="ltx_cite ltx_citemacro_citep">(Radford et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib40" title="">2019</a>)</cite>.
The second version of the vocabulary with <math alttext="49\,152" class="ltx_Math" display="inline" id="S4.SS1.p1.2.m2.1"><semantics id="S4.SS1.p1.2.m2.1a"><mn id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">49 152</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><cn id="S4.SS1.p1.2.m2.1.1.cmml" type="integer" xref="S4.SS1.p1.2.m2.1.1">49152</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">49\,152</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.m2.1d">49 152</annotation></semantics></math> tokens was trained on a collection of open-source code from various programming languages reported in the StarCoder paper <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>)</cite>.
Since we work on the code completion task, the use of tokenization from the StarCoder paper shall be more appropriate than using a vocabulary more suitable for natural language processing.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">The main drawback of using the text-based GPT-2 vocabulary for code completion is an inefficient handling of whitespaces.
In most cases, each space in a longer sequence of spaces is represented by its own token, which significantly reduces the number of useful tokens available in the model’s context during the self-attention computation.
An example is in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T1" title="Table 1 ‣ 4.1 Tokenization ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">1</span></a>.
In addition to less useful data in the model’s context, the inefficient tokenization of consecutive spaces also affects the amount of information in each chunk of the retrieval database, as the database is built with a fixed number of tokens per chunk.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.6.7.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T1.6.7.1.1">Tokenization</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.6.7.1.2">Tokens</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.1.1.2">GPT-2</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1"><math alttext="(\texttt{def},\,\texttt{\textvisiblespace foo},\,\texttt{():},\,\texttt{\n},\,%
\texttt{\textvisiblespace},\,\texttt{\textvisiblespace},\,\texttt{%
\textvisiblespace},\,\texttt{\textvisiblespace pass})" class="ltx_Math" display="inline" id="S4.T1.1.1.1.m1.8"><semantics id="S4.T1.1.1.1.m1.8a"><mrow id="S4.T1.1.1.1.m1.8.9.2" xref="S4.T1.1.1.1.m1.8.9.1.cmml"><mo id="S4.T1.1.1.1.m1.8.9.2.1" stretchy="false" xref="S4.T1.1.1.1.m1.8.9.1.cmml">(</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1a.cmml">def</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.2" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.2.2" xref="S4.T1.1.1.1.m1.2.2a.cmml">␣foo</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.3" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.3.3" xref="S4.T1.1.1.1.m1.3.3a.cmml">():</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.4" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.4.4" xref="S4.T1.1.1.1.m1.4.4a.cmml">\n</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.5" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.5.5" xref="S4.T1.1.1.1.m1.5.5a.cmml">␣</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.6" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.6.6" xref="S4.T1.1.1.1.m1.6.6a.cmml">␣</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.7" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.7.7" xref="S4.T1.1.1.1.m1.7.7a.cmml">␣</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.8" rspace="0.337em" xref="S4.T1.1.1.1.m1.8.9.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.8.8" xref="S4.T1.1.1.1.m1.8.8a.cmml">␣pass</mtext><mo id="S4.T1.1.1.1.m1.8.9.2.9" stretchy="false" xref="S4.T1.1.1.1.m1.8.9.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.8b"><vector id="S4.T1.1.1.1.m1.8.9.1.cmml" xref="S4.T1.1.1.1.m1.8.9.2"><ci id="S4.T1.1.1.1.m1.1.1a.cmml" xref="S4.T1.1.1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1">def</mtext></ci><ci id="S4.T1.1.1.1.m1.2.2a.cmml" xref="S4.T1.1.1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.2.2.cmml" xref="S4.T1.1.1.1.m1.2.2">␣foo</mtext></ci><ci id="S4.T1.1.1.1.m1.3.3a.cmml" xref="S4.T1.1.1.1.m1.3.3"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.3.3.cmml" xref="S4.T1.1.1.1.m1.3.3">():</mtext></ci><ci id="S4.T1.1.1.1.m1.4.4a.cmml" xref="S4.T1.1.1.1.m1.4.4"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.4.4.cmml" xref="S4.T1.1.1.1.m1.4.4">\n</mtext></ci><ci id="S4.T1.1.1.1.m1.5.5a.cmml" xref="S4.T1.1.1.1.m1.5.5"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.5.5.cmml" xref="S4.T1.1.1.1.m1.5.5">␣</mtext></ci><ci id="S4.T1.1.1.1.m1.6.6a.cmml" xref="S4.T1.1.1.1.m1.6.6"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.6.6.cmml" xref="S4.T1.1.1.1.m1.6.6">␣</mtext></ci><ci id="S4.T1.1.1.1.m1.7.7a.cmml" xref="S4.T1.1.1.1.m1.7.7"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.7.7.cmml" xref="S4.T1.1.1.1.m1.7.7">␣</mtext></ci><ci id="S4.T1.1.1.1.m1.8.8a.cmml" xref="S4.T1.1.1.1.m1.8.8"><mtext class="ltx_mathvariant_monospace" id="S4.T1.1.1.1.m1.8.8.cmml" xref="S4.T1.1.1.1.m1.8.8">␣pass</mtext></ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.8c">(\texttt{def},\,\texttt{\textvisiblespace foo},\,\texttt{():},\,\texttt{\n},\,%
\texttt{\textvisiblespace},\,\texttt{\textvisiblespace},\,\texttt{%
\textvisiblespace},\,\texttt{\textvisiblespace pass})</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.m1.8d">( def , ␣foo , (): , \n , ␣ , ␣ , ␣ , ␣pass )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T1.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T1.6.6.6">StarCoder</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.6.6.5">
<math alttext="(\texttt{def}" class="ltx_math_unparsed" display="inline" id="S4.T1.2.2.1.m1.1"><semantics id="S4.T1.2.2.1.m1.1a"><mrow id="S4.T1.2.2.1.m1.1b"><mo id="S4.T1.2.2.1.m1.1.1" stretchy="false">(</mo><mtext class="ltx_mathvariant_monospace" id="S4.T1.2.2.1.m1.1.2">def</mtext></mrow><annotation encoding="application/x-tex" id="S4.T1.2.2.1.m1.1c">(\texttt{def}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.1.m1.1d">( def</annotation></semantics></math>, <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S4.T1.6.6.5.1">␣foo</span>, <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S4.T1.6.6.5.2">():</span>, <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S4.T1.6.6.5.3">\n␣␣␣</span>, <math alttext="\texttt{\textvisiblespace pass})" class="ltx_math_unparsed" display="inline" id="S4.T1.6.6.5.m5.1"><semantics id="S4.T1.6.6.5.m5.1a"><mrow id="S4.T1.6.6.5.m5.1b"><mtext class="ltx_mathvariant_monospace" id="S4.T1.6.6.5.m5.1.1">␣pass</mtext><mo id="S4.T1.6.6.5.m5.1.2" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S4.T1.6.6.5.m5.1c">\texttt{\textvisiblespace pass})</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.6.5.m5.1d">␣pass )</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.11.2.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="S4.T1.8.1" style="font-size:90%;">Tokenizations of the string <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S4.T1.8.1.1">def foo():\n␣␣␣␣pass</span>. Tokens are comma separated. The StarCoder tokenization requires fewer tokens due to the merging of whitespace characters into a single token.</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>The StarCoder dataset</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">For training our models, we use the StarCoder dataset<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>
Available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/datasets/bigcode/starcoderdata" title="">https://huggingface.co/datasets/bigcode/starcoderdata</a>.
</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>)</cite>.
The dataset contains over 300 million open-source files from more than 80 programming languages, but we use only files in the Python programming language.
We split the dataset into a training and test set in ratio 90%; 10%.
We split the data at the project level and not at the file level, so that all files belonging to a project are placed in the same training or test set.
The validation set is constructed from 1% of the test set and is used to monitor metrics during model training to detect any potential overfitting (which we did not observe).
After training, we evaluate the models’ performance on both the test set and the evaluation sets as described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS3" title="4.3 The RepoEval dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.3</span></a>.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T2" title="Table 2 ‣ 4.2 The StarCoder dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">2</span></a> summarizes the sizes of the training and test sets.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.6.7.1">
<th class="ltx_td ltx_th ltx_th_column ltx_border_r" id="S4.T2.6.7.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T2.6.7.1.2"># Files</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T2.6.7.1.3"># Projects</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.6.7.1.4">Total file size</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.3">Training set</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.1.1"><math alttext="11\,579\,885" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.m1.1a"><mn id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml">11 579 885</mn><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><cn id="S4.T2.1.1.1.m1.1.1.cmml" type="integer" xref="S4.T2.1.1.1.m1.1.1">11579885</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">11\,579\,885</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.1d">11 579 885</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.2"><math alttext="1\,510\,155" class="ltx_Math" display="inline" id="S4.T2.2.2.2.m1.1"><semantics id="S4.T2.2.2.2.m1.1a"><mn id="S4.T2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.m1.1.1.cmml">1 510 155</mn><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.1b"><cn id="S4.T2.2.2.2.m1.1.1.cmml" type="integer" xref="S4.T2.2.2.2.m1.1.1">1510155</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.1c">1\,510\,155</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.m1.1d">1 510 155</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.4">56 GiB</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.4.4.3">Test set</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.3.3.1"><math alttext="1\,286\,653" class="ltx_Math" display="inline" id="S4.T2.3.3.1.m1.1"><semantics id="S4.T2.3.3.1.m1.1a"><mn id="S4.T2.3.3.1.m1.1.1" xref="S4.T2.3.3.1.m1.1.1.cmml">1 286 653</mn><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.m1.1b"><cn id="S4.T2.3.3.1.m1.1.1.cmml" type="integer" xref="S4.T2.3.3.1.m1.1.1">1286653</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.m1.1c">1\,286\,653</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.m1.1d">1 286 653</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.4.4.2"><math alttext="168\,449" class="ltx_Math" display="inline" id="S4.T2.4.4.2.m1.1"><semantics id="S4.T2.4.4.2.m1.1a"><mn id="S4.T2.4.4.2.m1.1.1" xref="S4.T2.4.4.2.m1.1.1.cmml">168 449</mn><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.2.m1.1b"><cn id="S4.T2.4.4.2.m1.1.1.cmml" type="integer" xref="S4.T2.4.4.2.m1.1.1">168449</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.2.m1.1c">168\,449</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.2.m1.1d">168 449</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.4">6 GiB</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.6.6.3">Total</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.5.5.1"><math alttext="12\,866\,538" class="ltx_Math" display="inline" id="S4.T2.5.5.1.m1.1"><semantics id="S4.T2.5.5.1.m1.1a"><mn id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml">12 866 538</mn><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><cn id="S4.T2.5.5.1.m1.1.1.cmml" type="integer" xref="S4.T2.5.5.1.m1.1.1">12866538</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">12\,866\,538</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.m1.1d">12 866 538</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.6.6.2"><math alttext="1\,678\,604" class="ltx_Math" display="inline" id="S4.T2.6.6.2.m1.1"><semantics id="S4.T2.6.6.2.m1.1a"><mn id="S4.T2.6.6.2.m1.1.1" xref="S4.T2.6.6.2.m1.1.1.cmml">1 678 604</mn><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.2.m1.1b"><cn id="S4.T2.6.6.2.m1.1.1.cmml" type="integer" xref="S4.T2.6.6.2.m1.1.1">1678604</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.2.m1.1c">1\,678\,604</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.2.m1.1d">1 678 604</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T2.6.6.4">62 GiB</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.8.1.1" style="font-size:90%;">Table 2</span>: </span><span class="ltx_text" id="S4.T2.9.2" style="font-size:90%;">Size of the training and test sets composed from the Python part of the StarCoder dataset.</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>The RepoEval dataset</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">For the evaluation of retrieval-augmented line completion on real projects, we use the RepoEval dataset <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite>, which contains eight open-source projects from various domains and is divided into three evaluation sets: <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.1">line</span>, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.2">api</span>, and <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.3">function</span>.
The <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.4">line</span> set contains randomly selected individual lines, while the <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.5">api</span> set contains lines with API calls to objects defined within the project.
These calls can be longer than a single line (10% of examples contain at least 5 lines).
The <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.6">function</span> set is intended for completing function bodies, but we do not use it as it requires completing up to 30 lines and evaluation is performed by executing the projects’ unit tests.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">In both cases, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.1">line</span> and <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.2">api</span>, the goal is to predict the entire next line or function call.
We want to use our models in a code editor even when the cursor is in the middle of a line, while the user is typing.
Therefore, we also evaluate the models’ performance on <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.3">lineR</span> and <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.4">apiR</span>, where we use the model to complete code from a random position within the line to the end of the original example.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">When evaluating LLMs, there is often the issue of the evaluation set being present in the training set, as training sets are frequently obtained by scraping massive amounts of data from the web.
Therefore, we check the overlap between RepoEval and our StarCoder training dataset and find that three of the eight projects in RepoEval are also present in the training set (the project with the most overlap is <span class="ltx_text ltx_font_italic" id="S4.SS3.p3.1.1">alibaba/FederatedScope</span>, with 48% of its files contained in StarCoder).
In the resulting <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p3.1.2">line’</span>, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p3.1.3">lineR’</span>, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p3.1.4">api’</span>, and <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p3.1.5">apiR’</span> datasets, we remove these three projects that overlap with the training set.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">When simulating and evaluating line completion using the RepoEval dataset, the input context for models without retrieval contains only the lines before the target line within a single file.
With retrieval, the retrieval database is built only from individual projects (we do not use the entire StarCoder training set).
In our experiments, all text is generated using greedy decoding to achieve determinism and faster execution when completing short lines of code.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Retrieval database</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">To train the RETRO approach, we need a database to search for the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_k</annotation></semantics></math>-nearest chunks of each input chunk of tokens.
In line with <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>, we use the training dataset as the retrieval database.
This ensures a fair comparison between RETRO, which uses retrieval during training, and GPT-2, which does not. Using any other additional dataset, RETRO would have an advantage, as it would have access to a larger amount of data during training.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.2">For building the retrieval database, we use a chunk size of <math alttext="m=64" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">m</mi><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">64</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><eq id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></eq><ci id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">𝑚</ci><cn id="S4.SS4.p2.1.m1.1.1.3.cmml" type="integer" xref="S4.SS4.p2.1.m1.1.1.3">64</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">m=64</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">italic_m = 64</annotation></semantics></math> tokens and the CodeT5+ <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib52" title="">2023b</a>)</cite> encoder for computing chunk embeddings.
To enable faster retrieval of the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><mi id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">italic_k</annotation></semantics></math>-nearest chunks, we index the stored embeddings with Faiss <cite class="ltx_cite ltx_citemacro_citep">(Johnson et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib19" title="">2021</a>)</cite> as described in <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A3" title="Appendix C Indexing chunk embeddings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">C</span></a>.
The pretrained CodeT5+ encoder has 110 million parameters, generates normalized 256-dimensional embeddings and was trained on various code tasks.
We also experimented with using the BERT-large encoder with 340 million parameters and 1024-dimensional vector embeddings, as done by <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> and described in <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A2" title="Appendix B Chunk embeddings with BERT ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">B</span></a>.
However, we opt for the CodeT5+ encoder since it has fewer parameters, outputs smaller dimensional embeddings, and is trained for code understanding, making it a better fit for our use case.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Model architecture</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">In accordance with <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>, we compare GPT-2 with RETRO, keeping the architecture of both models identical except that RETRO includes both an encoder and decoder compared to GPT-2 which is a decoder only model.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T3" title="Table 3 ‣ 4.5 Model architecture ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3</span></a> summarizes the number of parameters in our models as well as the number of decoder layers.
To compare models with roughly equal number of parameters, we also compare GPT-2 with 9 decoder layers to RETRO with 6 decoder layers; this comparison shall ensure that any potential benefit of RETRO does not arise simply from increasing the number of parameters when adding the chunk encoder.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.2.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T3.2.1.1.1"># Decoder layers</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T3.2.1.1.2">GPT-2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.2.1.1.3">RETRO</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.2.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.2.2.1.1">6</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.2.2.1.2">126 M</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.2.1.3">
<span class="ltx_text ltx_font_bold" id="S4.T3.2.2.1.3.1">160 M</span> <span class="ltx_text" id="S4.T3.2.2.1.3.2" style="font-size:90%;">(+30%)</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.2.3.2.1">9</th>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.2.3.2.2"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.2.2.1">164 M</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.2.3.2.3">/</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T3.2.4.3.1">12</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T3.2.4.3.2">201 M</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.2.4.3.3">243 M <span class="ltx_text" id="S4.T3.2.4.3.3.1" style="font-size:90%;">(+21%)</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T3.3.1.1" style="font-size:90%;">Table 3</span>: </span><span class="ltx_text" id="S4.T3.4.2" style="font-size:90%;">
The number of parameters of our GPT-2 and RETRO models when using GPT-2 tokenization.
The relative change in the number of parameters is shown in parentheses.
When using the StarCoder tokenization, the number of parameters for all models decreases by a constant two million parameters due a smaller vocabulary, which affects the number of parameters in the transformer’s embedding table.
</span></figcaption>
</figure>
<section class="ltx_paragraph" id="S4.SS5.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Hyperparameters</h5>
<div class="ltx_para" id="S4.SS5.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS5.SSS0.Px1.p1.4">We set the hidden dimension <math alttext="d" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS5.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS5.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS5.SSS0.Px1.p1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.1.m1.1b"><ci id="S4.SS5.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.1.m1.1d">italic_d</annotation></semantics></math> to 1024, and the number of heads in the multi-headed attention to 16, so that each head processes vectors of dimension 64.
The number of decoder layers is shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T3" title="Table 3 ‣ 4.5 Model architecture ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3</span></a>.
<span class="ltx_text ltx_font_smallcaps" id="S4.SS5.SSS0.Px1.p1.4.1">Retro</span> layers with the retrieval capability are placed at the sixth layer and then at every subsequent third layer (e.g., layers <math alttext="6,9,12" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.2.m2.3"><semantics id="S4.SS5.SSS0.Px1.p1.2.m2.3a"><mrow id="S4.SS5.SSS0.Px1.p1.2.m2.3.4.2" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.4.1.cmml"><mn id="S4.SS5.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS5.SSS0.Px1.p1.2.m2.1.1.cmml">6</mn><mo id="S4.SS5.SSS0.Px1.p1.2.m2.3.4.2.1" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.4.1.cmml">,</mo><mn id="S4.SS5.SSS0.Px1.p1.2.m2.2.2" xref="S4.SS5.SSS0.Px1.p1.2.m2.2.2.cmml">9</mn><mo id="S4.SS5.SSS0.Px1.p1.2.m2.3.4.2.2" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.4.1.cmml">,</mo><mn id="S4.SS5.SSS0.Px1.p1.2.m2.3.3" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.3.cmml">12</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.2.m2.3b"><list id="S4.SS5.SSS0.Px1.p1.2.m2.3.4.1.cmml" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.4.2"><cn id="S4.SS5.SSS0.Px1.p1.2.m2.1.1.cmml" type="integer" xref="S4.SS5.SSS0.Px1.p1.2.m2.1.1">6</cn><cn id="S4.SS5.SSS0.Px1.p1.2.m2.2.2.cmml" type="integer" xref="S4.SS5.SSS0.Px1.p1.2.m2.2.2">9</cn><cn id="S4.SS5.SSS0.Px1.p1.2.m2.3.3.cmml" type="integer" xref="S4.SS5.SSS0.Px1.p1.2.m2.3.3">12</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.2.m2.3c">6,9,12</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.2.m2.3d">6 , 9 , 12</annotation></semantics></math> if there are 12 layers).
The encoder in RETRO has two layers.
The maximum length of the input context is limited to 384 tokens as in <cite class="ltx_cite ltx_citemacro_citet">Semenkin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib43" title="">2024</a>)</cite>.
Instead of fixed absolute positional embeddings, we use relative positional embeddings RoPE <cite class="ltx_cite ltx_citemacro_citep">(Su et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib48" title="">2024</a>)</cite> with a rotational factor of <math alttext="0.5" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.3.m3.1"><semantics id="S4.SS5.SSS0.Px1.p1.3.m3.1a"><mn id="S4.SS5.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS5.SSS0.Px1.p1.3.m3.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.3.m3.1b"><cn id="S4.SS5.SSS0.Px1.p1.3.m3.1.1.cmml" type="float" xref="S4.SS5.SSS0.Px1.p1.3.m3.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.3.m3.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.3.m3.1d">0.5</annotation></semantics></math>.
For the nonlinear function within fully connected feed-forward networks, we use the <math alttext="\operatorname{SwiGLU}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.4.m4.1"><semantics id="S4.SS5.SSS0.Px1.p1.4.m4.1a"><mi id="S4.SS5.SSS0.Px1.p1.4.m4.1.1" xref="S4.SS5.SSS0.Px1.p1.4.m4.1.1.cmml">SwiGLU</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.4.m4.1b"><ci id="S4.SS5.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.4.m4.1.1">SwiGLU</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.4.m4.1c">\operatorname{SwiGLU}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.4.m4.1d">roman_SwiGLU</annotation></semantics></math> function, which has been shown to contribute to better learning outcomes in language modeling tasks <cite class="ltx_cite ltx_citemacro_citep">(Shazeer, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib46" title="">2020</a>; Touvron et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib49" title="">2023</a>)</cite>.
We use shared weights for the input and output embedding tables to reduce the total number of parameters <cite class="ltx_cite ltx_citemacro_citep">(Press and Wolf, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib39" title="">2017</a>; Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib50" title="">2017</a>)</cite>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6 </span>Model training</h3>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.5">All training hyperparameters are the same for both models, GPT-2 and RETRO.
For optimization, we use the Adam algorithm <cite class="ltx_cite ltx_citemacro_citep">(Kingma and Ba, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib25" title="">2015</a>)</cite> with <math alttext="\beta_{1}=0.9" class="ltx_Math" display="inline" id="S4.SS6.p1.1.m1.1"><semantics id="S4.SS6.p1.1.m1.1a"><mrow id="S4.SS6.p1.1.m1.1.1" xref="S4.SS6.p1.1.m1.1.1.cmml"><msub id="S4.SS6.p1.1.m1.1.1.2" xref="S4.SS6.p1.1.m1.1.1.2.cmml"><mi id="S4.SS6.p1.1.m1.1.1.2.2" xref="S4.SS6.p1.1.m1.1.1.2.2.cmml">β</mi><mn id="S4.SS6.p1.1.m1.1.1.2.3" xref="S4.SS6.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S4.SS6.p1.1.m1.1.1.1" xref="S4.SS6.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS6.p1.1.m1.1.1.3" xref="S4.SS6.p1.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.1.m1.1b"><apply id="S4.SS6.p1.1.m1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1"><eq id="S4.SS6.p1.1.m1.1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1.1"></eq><apply id="S4.SS6.p1.1.m1.1.1.2.cmml" xref="S4.SS6.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS6.p1.1.m1.1.1.2.1.cmml" xref="S4.SS6.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS6.p1.1.m1.1.1.2.2.cmml" xref="S4.SS6.p1.1.m1.1.1.2.2">𝛽</ci><cn id="S4.SS6.p1.1.m1.1.1.2.3.cmml" type="integer" xref="S4.SS6.p1.1.m1.1.1.2.3">1</cn></apply><cn id="S4.SS6.p1.1.m1.1.1.3.cmml" type="float" xref="S4.SS6.p1.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.1.m1.1c">\beta_{1}=0.9</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.1.m1.1d">italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0.9</annotation></semantics></math> and <math alttext="\beta_{2}=0.95" class="ltx_Math" display="inline" id="S4.SS6.p1.2.m2.1"><semantics id="S4.SS6.p1.2.m2.1a"><mrow id="S4.SS6.p1.2.m2.1.1" xref="S4.SS6.p1.2.m2.1.1.cmml"><msub id="S4.SS6.p1.2.m2.1.1.2" xref="S4.SS6.p1.2.m2.1.1.2.cmml"><mi id="S4.SS6.p1.2.m2.1.1.2.2" xref="S4.SS6.p1.2.m2.1.1.2.2.cmml">β</mi><mn id="S4.SS6.p1.2.m2.1.1.2.3" xref="S4.SS6.p1.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="S4.SS6.p1.2.m2.1.1.1" xref="S4.SS6.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS6.p1.2.m2.1.1.3" xref="S4.SS6.p1.2.m2.1.1.3.cmml">0.95</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.2.m2.1b"><apply id="S4.SS6.p1.2.m2.1.1.cmml" xref="S4.SS6.p1.2.m2.1.1"><eq id="S4.SS6.p1.2.m2.1.1.1.cmml" xref="S4.SS6.p1.2.m2.1.1.1"></eq><apply id="S4.SS6.p1.2.m2.1.1.2.cmml" xref="S4.SS6.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS6.p1.2.m2.1.1.2.1.cmml" xref="S4.SS6.p1.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS6.p1.2.m2.1.1.2.2.cmml" xref="S4.SS6.p1.2.m2.1.1.2.2">𝛽</ci><cn id="S4.SS6.p1.2.m2.1.1.2.3.cmml" type="integer" xref="S4.SS6.p1.2.m2.1.1.2.3">2</cn></apply><cn id="S4.SS6.p1.2.m2.1.1.3.cmml" type="float" xref="S4.SS6.p1.2.m2.1.1.3">0.95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.2.m2.1c">\beta_{2}=0.95</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.2.m2.1d">italic_β start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 0.95</annotation></semantics></math>.
The learning rate is set to <math alttext="6\times 10^{-4}" class="ltx_Math" display="inline" id="S4.SS6.p1.3.m3.1"><semantics id="S4.SS6.p1.3.m3.1a"><mrow id="S4.SS6.p1.3.m3.1.1" xref="S4.SS6.p1.3.m3.1.1.cmml"><mn id="S4.SS6.p1.3.m3.1.1.2" xref="S4.SS6.p1.3.m3.1.1.2.cmml">6</mn><mo id="S4.SS6.p1.3.m3.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS6.p1.3.m3.1.1.1.cmml">×</mo><msup id="S4.SS6.p1.3.m3.1.1.3" xref="S4.SS6.p1.3.m3.1.1.3.cmml"><mn id="S4.SS6.p1.3.m3.1.1.3.2" xref="S4.SS6.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="S4.SS6.p1.3.m3.1.1.3.3" xref="S4.SS6.p1.3.m3.1.1.3.3.cmml"><mo id="S4.SS6.p1.3.m3.1.1.3.3a" xref="S4.SS6.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="S4.SS6.p1.3.m3.1.1.3.3.2" xref="S4.SS6.p1.3.m3.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.3.m3.1b"><apply id="S4.SS6.p1.3.m3.1.1.cmml" xref="S4.SS6.p1.3.m3.1.1"><times id="S4.SS6.p1.3.m3.1.1.1.cmml" xref="S4.SS6.p1.3.m3.1.1.1"></times><cn id="S4.SS6.p1.3.m3.1.1.2.cmml" type="integer" xref="S4.SS6.p1.3.m3.1.1.2">6</cn><apply id="S4.SS6.p1.3.m3.1.1.3.cmml" xref="S4.SS6.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS6.p1.3.m3.1.1.3.1.cmml" xref="S4.SS6.p1.3.m3.1.1.3">superscript</csymbol><cn id="S4.SS6.p1.3.m3.1.1.3.2.cmml" type="integer" xref="S4.SS6.p1.3.m3.1.1.3.2">10</cn><apply id="S4.SS6.p1.3.m3.1.1.3.3.cmml" xref="S4.SS6.p1.3.m3.1.1.3.3"><minus id="S4.SS6.p1.3.m3.1.1.3.3.1.cmml" xref="S4.SS6.p1.3.m3.1.1.3.3"></minus><cn id="S4.SS6.p1.3.m3.1.1.3.3.2.cmml" type="integer" xref="S4.SS6.p1.3.m3.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.3.m3.1c">6\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.3.m3.1d">6 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math> and is reduced using a cosine scheduler by a factor of 10 by the end of training.
For regularization, we use dropout layers with a probability of <math alttext="0.1" class="ltx_Math" display="inline" id="S4.SS6.p1.4.m4.1"><semantics id="S4.SS6.p1.4.m4.1a"><mn id="S4.SS6.p1.4.m4.1.1" xref="S4.SS6.p1.4.m4.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.4.m4.1b"><cn id="S4.SS6.p1.4.m4.1.1.cmml" type="float" xref="S4.SS6.p1.4.m4.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.4.m4.1c">0.1</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.4.m4.1d">0.1</annotation></semantics></math>, and the weight decay factor is <math alttext="0.01" class="ltx_Math" display="inline" id="S4.SS6.p1.5.m5.1"><semantics id="S4.SS6.p1.5.m5.1a"><mn id="S4.SS6.p1.5.m5.1.1" xref="S4.SS6.p1.5.m5.1.1.cmml">0.01</mn><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.5.m5.1b"><cn id="S4.SS6.p1.5.m5.1.1.cmml" type="float" xref="S4.SS6.p1.5.m5.1.1">0.01</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.5.m5.1c">0.01</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.5.m5.1d">0.01</annotation></semantics></math>.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T4" title="Table 4 ‣ 4.6 Model training ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a> summarizes the number of training iterations.
For comparing models of all sizes (6, 9, and 12 layers), we conduct training on a smaller number of iterations.
For comparing the final models of sizes 6 and 9 layers, we conduct training on the larger number of iterations.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.8.9.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" id="S4.T4.8.9.1.1">Tokenization</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.8.9.1.2">Batch Size</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.8.9.1.3"># Iterations</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.8.9.1.4"># Tokens</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.2.3">GPT-2</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.4">384</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.1"><math alttext="20\,312" class="ltx_Math" display="inline" id="S4.T4.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.m1.1a"><mn id="S4.T4.1.1.1.m1.1.1" xref="S4.T4.1.1.1.m1.1.1.cmml">20 312</mn><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.m1.1b"><cn id="S4.T4.1.1.1.m1.1.1.cmml" type="integer" xref="S4.T4.1.1.1.m1.1.1">20312</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.m1.1c">20\,312</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.m1.1d">20 312</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.2"><math alttext="3.0\times 10^{9}" class="ltx_Math" display="inline" id="S4.T4.2.2.2.m1.1"><semantics id="S4.T4.2.2.2.m1.1a"><mrow id="S4.T4.2.2.2.m1.1.1" xref="S4.T4.2.2.2.m1.1.1.cmml"><mn id="S4.T4.2.2.2.m1.1.1.2" xref="S4.T4.2.2.2.m1.1.1.2.cmml">3.0</mn><mo id="S4.T4.2.2.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T4.2.2.2.m1.1.1.1.cmml">×</mo><msup id="S4.T4.2.2.2.m1.1.1.3" xref="S4.T4.2.2.2.m1.1.1.3.cmml"><mn id="S4.T4.2.2.2.m1.1.1.3.2" xref="S4.T4.2.2.2.m1.1.1.3.2.cmml">10</mn><mn id="S4.T4.2.2.2.m1.1.1.3.3" xref="S4.T4.2.2.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.m1.1b"><apply id="S4.T4.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.m1.1.1"><times id="S4.T4.2.2.2.m1.1.1.1.cmml" xref="S4.T4.2.2.2.m1.1.1.1"></times><cn id="S4.T4.2.2.2.m1.1.1.2.cmml" type="float" xref="S4.T4.2.2.2.m1.1.1.2">3.0</cn><apply id="S4.T4.2.2.2.m1.1.1.3.cmml" xref="S4.T4.2.2.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T4.2.2.2.m1.1.1.3.1.cmml" xref="S4.T4.2.2.2.m1.1.1.3">superscript</csymbol><cn id="S4.T4.2.2.2.m1.1.1.3.2.cmml" type="integer" xref="S4.T4.2.2.2.m1.1.1.3.2">10</cn><cn id="S4.T4.2.2.2.m1.1.1.3.3.cmml" type="integer" xref="S4.T4.2.2.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.m1.1c">3.0\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="S4.T4.2.2.2.m1.1d">3.0 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T4.4.4.3">GPT-2</th>
<td class="ltx_td ltx_align_center" id="S4.T4.4.4.4">496</td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.1"><math alttext="379\,032" class="ltx_Math" display="inline" id="S4.T4.3.3.1.m1.1"><semantics id="S4.T4.3.3.1.m1.1a"><mn id="S4.T4.3.3.1.m1.1.1" xref="S4.T4.3.3.1.m1.1.1.cmml">379 032</mn><annotation-xml encoding="MathML-Content" id="S4.T4.3.3.1.m1.1b"><cn id="S4.T4.3.3.1.m1.1.1.cmml" type="integer" xref="S4.T4.3.3.1.m1.1.1">379032</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.3.1.m1.1c">379\,032</annotation><annotation encoding="application/x-llamapun" id="S4.T4.3.3.1.m1.1d">379 032</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.4.2"><math alttext="72.2\times 10^{9}" class="ltx_Math" display="inline" id="S4.T4.4.4.2.m1.1"><semantics id="S4.T4.4.4.2.m1.1a"><mrow id="S4.T4.4.4.2.m1.1.1" xref="S4.T4.4.4.2.m1.1.1.cmml"><mn id="S4.T4.4.4.2.m1.1.1.2" xref="S4.T4.4.4.2.m1.1.1.2.cmml">72.2</mn><mo id="S4.T4.4.4.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T4.4.4.2.m1.1.1.1.cmml">×</mo><msup id="S4.T4.4.4.2.m1.1.1.3" xref="S4.T4.4.4.2.m1.1.1.3.cmml"><mn id="S4.T4.4.4.2.m1.1.1.3.2" xref="S4.T4.4.4.2.m1.1.1.3.2.cmml">10</mn><mn id="S4.T4.4.4.2.m1.1.1.3.3" xref="S4.T4.4.4.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.4.4.2.m1.1b"><apply id="S4.T4.4.4.2.m1.1.1.cmml" xref="S4.T4.4.4.2.m1.1.1"><times id="S4.T4.4.4.2.m1.1.1.1.cmml" xref="S4.T4.4.4.2.m1.1.1.1"></times><cn id="S4.T4.4.4.2.m1.1.1.2.cmml" type="float" xref="S4.T4.4.4.2.m1.1.1.2">72.2</cn><apply id="S4.T4.4.4.2.m1.1.1.3.cmml" xref="S4.T4.4.4.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T4.4.4.2.m1.1.1.3.1.cmml" xref="S4.T4.4.4.2.m1.1.1.3">superscript</csymbol><cn id="S4.T4.4.4.2.m1.1.1.3.2.cmml" type="integer" xref="S4.T4.4.4.2.m1.1.1.3.2">10</cn><cn id="S4.T4.4.4.2.m1.1.1.3.3.cmml" type="integer" xref="S4.T4.4.4.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.4.2.m1.1c">72.2\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="S4.T4.4.4.2.m1.1d">72.2 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T4.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S4.T4.6.6.3">StarCoder</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.6.6.4">384</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.5.1"><math alttext="15\,234" class="ltx_Math" display="inline" id="S4.T4.5.5.1.m1.1"><semantics id="S4.T4.5.5.1.m1.1a"><mn id="S4.T4.5.5.1.m1.1.1" xref="S4.T4.5.5.1.m1.1.1.cmml">15 234</mn><annotation-xml encoding="MathML-Content" id="S4.T4.5.5.1.m1.1b"><cn id="S4.T4.5.5.1.m1.1.1.cmml" type="integer" xref="S4.T4.5.5.1.m1.1.1">15234</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.5.1.m1.1c">15\,234</annotation><annotation encoding="application/x-llamapun" id="S4.T4.5.5.1.m1.1d">15 234</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.6.6.2"><math alttext="2.2\times 10^{9}" class="ltx_Math" display="inline" id="S4.T4.6.6.2.m1.1"><semantics id="S4.T4.6.6.2.m1.1a"><mrow id="S4.T4.6.6.2.m1.1.1" xref="S4.T4.6.6.2.m1.1.1.cmml"><mn id="S4.T4.6.6.2.m1.1.1.2" xref="S4.T4.6.6.2.m1.1.1.2.cmml">2.2</mn><mo id="S4.T4.6.6.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T4.6.6.2.m1.1.1.1.cmml">×</mo><msup id="S4.T4.6.6.2.m1.1.1.3" xref="S4.T4.6.6.2.m1.1.1.3.cmml"><mn id="S4.T4.6.6.2.m1.1.1.3.2" xref="S4.T4.6.6.2.m1.1.1.3.2.cmml">10</mn><mn id="S4.T4.6.6.2.m1.1.1.3.3" xref="S4.T4.6.6.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.6.6.2.m1.1b"><apply id="S4.T4.6.6.2.m1.1.1.cmml" xref="S4.T4.6.6.2.m1.1.1"><times id="S4.T4.6.6.2.m1.1.1.1.cmml" xref="S4.T4.6.6.2.m1.1.1.1"></times><cn id="S4.T4.6.6.2.m1.1.1.2.cmml" type="float" xref="S4.T4.6.6.2.m1.1.1.2">2.2</cn><apply id="S4.T4.6.6.2.m1.1.1.3.cmml" xref="S4.T4.6.6.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T4.6.6.2.m1.1.1.3.1.cmml" xref="S4.T4.6.6.2.m1.1.1.3">superscript</csymbol><cn id="S4.T4.6.6.2.m1.1.1.3.2.cmml" type="integer" xref="S4.T4.6.6.2.m1.1.1.3.2">10</cn><cn id="S4.T4.6.6.2.m1.1.1.3.3.cmml" type="integer" xref="S4.T4.6.6.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.6.2.m1.1c">2.2\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="S4.T4.6.6.2.m1.1d">2.2 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b" id="S4.T4.8.8.3">StarCoder</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.8.8.4">512</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.7.7.1"><math alttext="367\,187" class="ltx_Math" display="inline" id="S4.T4.7.7.1.m1.1"><semantics id="S4.T4.7.7.1.m1.1a"><mn id="S4.T4.7.7.1.m1.1.1" xref="S4.T4.7.7.1.m1.1.1.cmml">367 187</mn><annotation-xml encoding="MathML-Content" id="S4.T4.7.7.1.m1.1b"><cn id="S4.T4.7.7.1.m1.1.1.cmml" type="integer" xref="S4.T4.7.7.1.m1.1.1">367187</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.7.7.1.m1.1c">367\,187</annotation><annotation encoding="application/x-llamapun" id="S4.T4.7.7.1.m1.1d">367 187</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.8.8.2"><math alttext="72.2\times 10^{9}" class="ltx_Math" display="inline" id="S4.T4.8.8.2.m1.1"><semantics id="S4.T4.8.8.2.m1.1a"><mrow id="S4.T4.8.8.2.m1.1.1" xref="S4.T4.8.8.2.m1.1.1.cmml"><mn id="S4.T4.8.8.2.m1.1.1.2" xref="S4.T4.8.8.2.m1.1.1.2.cmml">72.2</mn><mo id="S4.T4.8.8.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T4.8.8.2.m1.1.1.1.cmml">×</mo><msup id="S4.T4.8.8.2.m1.1.1.3" xref="S4.T4.8.8.2.m1.1.1.3.cmml"><mn id="S4.T4.8.8.2.m1.1.1.3.2" xref="S4.T4.8.8.2.m1.1.1.3.2.cmml">10</mn><mn id="S4.T4.8.8.2.m1.1.1.3.3" xref="S4.T4.8.8.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.8.8.2.m1.1b"><apply id="S4.T4.8.8.2.m1.1.1.cmml" xref="S4.T4.8.8.2.m1.1.1"><times id="S4.T4.8.8.2.m1.1.1.1.cmml" xref="S4.T4.8.8.2.m1.1.1.1"></times><cn id="S4.T4.8.8.2.m1.1.1.2.cmml" type="float" xref="S4.T4.8.8.2.m1.1.1.2">72.2</cn><apply id="S4.T4.8.8.2.m1.1.1.3.cmml" xref="S4.T4.8.8.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T4.8.8.2.m1.1.1.3.1.cmml" xref="S4.T4.8.8.2.m1.1.1.3">superscript</csymbol><cn id="S4.T4.8.8.2.m1.1.1.3.2.cmml" type="integer" xref="S4.T4.8.8.2.m1.1.1.3.2">10</cn><cn id="S4.T4.8.8.2.m1.1.1.3.3.cmml" type="integer" xref="S4.T4.8.8.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.8.8.2.m1.1c">72.2\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="S4.T4.8.8.2.m1.1d">72.2 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T4.10.1.1" style="font-size:90%;">Table 4</span>: </span><span class="ltx_text" id="S4.T4.11.2" style="font-size:90%;">The number of training iterations. Training on eight A100 40 GB GPUs took 2 hours for the smaller number of iterations and 38 hours for the larger number of iterations.</span></figcaption>
</figure>
<section class="ltx_paragraph" id="S4.SS6.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Implementation details</h5>
<div class="ltx_para" id="S4.SS6.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS6.SSS0.Px1.p1.1">Our implementation of RETRO and GPT-2 follows the open-source implementation of both models by <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>, which is in turn based on the original work by <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>.
For model training, we use the Megatron-LM framework, which is optimized for training LLMs on multiple GPUs that can be distributed across multiple compute nodes <cite class="ltx_cite ltx_citemacro_citep">(Narayanan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib36" title="">2021</a>)</cite>.
In our case, all model training and data processing are conducted on a compute node with eight A100 40 GB GPUs.
Model training and execution on GPUs is performed using the <em class="ltx_emph ltx_font_italic" id="S4.SS6.SSS0.Px1.p1.1.1">bf16</em> floating-point format.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS7">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.7 </span>Metrics</h3>
<div class="ltx_para" id="S4.SS7.p1">
<p class="ltx_p" id="S4.SS7.p1.1">For evaluating LLMs, we use different metrics for single-token and multi-token predictions.
Single-token metrics are used to monitor model training because they are simple and efficient to compute.
To assess multi-token predictions, we compare the generated output with the target output.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS7.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.7.1 </span>Single-token metrics</h4>
<div class="ltx_para" id="S4.SS7.SSS1.p1">
<p class="ltx_p" id="S4.SS7.SSS1.p1.5">During model training, we utilize the metrics <math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.1.m1.1"><semantics id="S4.SS7.SSS1.p1.1.m1.1a"><mi id="S4.SS7.SSS1.p1.1.m1.1.1" xref="S4.SS7.SSS1.p1.1.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.1.m1.1b"><ci id="S4.SS7.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS7.SSS1.p1.1.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.1.m1.1c">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.1.m1.1d">roman_PPL</annotation></semantics></math>, <math alttext="\operatorname{R_{k}}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.2.m2.1"><semantics id="S4.SS7.SSS1.p1.2.m2.1a"><msub id="S4.SS7.SSS1.p1.2.m2.1.1" xref="S4.SS7.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS7.SSS1.p1.2.m2.1.1.2" mathvariant="normal" xref="S4.SS7.SSS1.p1.2.m2.1.1.2.cmml">R</mi><mi id="S4.SS7.SSS1.p1.2.m2.1.1.3" mathvariant="normal" xref="S4.SS7.SSS1.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.2.m2.1b"><apply id="S4.SS7.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS7.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS7.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS7.SSS1.p1.2.m2.1.1.2">R</ci><ci id="S4.SS7.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS7.SSS1.p1.2.m2.1.1.3">k</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.2.m2.1c">\operatorname{R_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.2.m2.1d">roman_R start_POSTSUBSCRIPT roman_k end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="\operatorname{MRR}_{k}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.3.m3.1"><semantics id="S4.SS7.SSS1.p1.3.m3.1a"><msub id="S4.SS7.SSS1.p1.3.m3.1.1" xref="S4.SS7.SSS1.p1.3.m3.1.1.cmml"><mi id="S4.SS7.SSS1.p1.3.m3.1.1.2" xref="S4.SS7.SSS1.p1.3.m3.1.1.2.cmml">MRR</mi><mi id="S4.SS7.SSS1.p1.3.m3.1.1.3" xref="S4.SS7.SSS1.p1.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.3.m3.1b"><apply id="S4.SS7.SSS1.p1.3.m3.1.1.cmml" xref="S4.SS7.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.3.m3.1.1.1.cmml" xref="S4.SS7.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p1.3.m3.1.1.2.cmml" xref="S4.SS7.SSS1.p1.3.m3.1.1.2">MRR</ci><ci id="S4.SS7.SSS1.p1.3.m3.1.1.3.cmml" xref="S4.SS7.SSS1.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.3.m3.1c">\operatorname{MRR}_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.3.m3.1d">roman_MRR start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib54" title="">2023a</a>; Jurafsky and Martin, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib20" title="">2009</a>)</cite>.
Let <math alttext="x=(x_{1},...,x_{n})\in\mathbb{V}^{n}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.4.m4.3"><semantics id="S4.SS7.SSS1.p1.4.m4.3a"><mrow id="S4.SS7.SSS1.p1.4.m4.3.3" xref="S4.SS7.SSS1.p1.4.m4.3.3.cmml"><mi id="S4.SS7.SSS1.p1.4.m4.3.3.4" xref="S4.SS7.SSS1.p1.4.m4.3.3.4.cmml">x</mi><mo id="S4.SS7.SSS1.p1.4.m4.3.3.5" xref="S4.SS7.SSS1.p1.4.m4.3.3.5.cmml">=</mo><mrow id="S4.SS7.SSS1.p1.4.m4.3.3.2.2" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml"><mo id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.3" stretchy="false" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml">(</mo><msub id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.cmml"><mi id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.2" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.2.cmml">x</mi><mn id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.3" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.4" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml">,</mo><mi id="S4.SS7.SSS1.p1.4.m4.1.1" mathvariant="normal" xref="S4.SS7.SSS1.p1.4.m4.1.1.cmml">…</mi><mo id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.5" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml">,</mo><msub id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.cmml"><mi id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.2" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.2.cmml">x</mi><mi id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.3" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.6" stretchy="false" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml">)</mo></mrow><mo id="S4.SS7.SSS1.p1.4.m4.3.3.6" xref="S4.SS7.SSS1.p1.4.m4.3.3.6.cmml">∈</mo><msup id="S4.SS7.SSS1.p1.4.m4.3.3.7" xref="S4.SS7.SSS1.p1.4.m4.3.3.7.cmml"><mi id="S4.SS7.SSS1.p1.4.m4.3.3.7.2" xref="S4.SS7.SSS1.p1.4.m4.3.3.7.2.cmml">𝕍</mi><mi id="S4.SS7.SSS1.p1.4.m4.3.3.7.3" xref="S4.SS7.SSS1.p1.4.m4.3.3.7.3.cmml">n</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.4.m4.3b"><apply id="S4.SS7.SSS1.p1.4.m4.3.3.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3"><and id="S4.SS7.SSS1.p1.4.m4.3.3a.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3"></and><apply id="S4.SS7.SSS1.p1.4.m4.3.3b.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3"><eq id="S4.SS7.SSS1.p1.4.m4.3.3.5.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.5"></eq><ci id="S4.SS7.SSS1.p1.4.m4.3.3.4.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.4">𝑥</ci><vector id="S4.SS7.SSS1.p1.4.m4.3.3.2.3.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2"><apply id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.cmml" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.1.cmml" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.2.cmml" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.2">𝑥</ci><cn id="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="S4.SS7.SSS1.p1.4.m4.2.2.1.1.1.3">1</cn></apply><ci id="S4.SS7.SSS1.p1.4.m4.1.1.cmml" xref="S4.SS7.SSS1.p1.4.m4.1.1">…</ci><apply id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.1.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2">subscript</csymbol><ci id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.2.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.2">𝑥</ci><ci id="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.3.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.2.2.2.3">𝑛</ci></apply></vector></apply><apply id="S4.SS7.SSS1.p1.4.m4.3.3c.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3"><in id="S4.SS7.SSS1.p1.4.m4.3.3.6.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.6"></in><share href="https://arxiv.org/html/2408.05026v1#S4.SS7.SSS1.p1.4.m4.3.3.2.cmml" id="S4.SS7.SSS1.p1.4.m4.3.3d.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3"></share><apply id="S4.SS7.SSS1.p1.4.m4.3.3.7.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.7"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.4.m4.3.3.7.1.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.7">superscript</csymbol><ci id="S4.SS7.SSS1.p1.4.m4.3.3.7.2.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.7.2">𝕍</ci><ci id="S4.SS7.SSS1.p1.4.m4.3.3.7.3.cmml" xref="S4.SS7.SSS1.p1.4.m4.3.3.7.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.4.m4.3c">x=(x_{1},...,x_{n})\in\mathbb{V}^{n}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.4.m4.3d">italic_x = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ∈ blackboard_V start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math> be a sequence of tokens.
Perplexity <math alttext="\operatorname{PPL}\in[1,\infty)" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.5.m5.2"><semantics id="S4.SS7.SSS1.p1.5.m5.2a"><mrow id="S4.SS7.SSS1.p1.5.m5.2.3" xref="S4.SS7.SSS1.p1.5.m5.2.3.cmml"><mi id="S4.SS7.SSS1.p1.5.m5.2.3.2" xref="S4.SS7.SSS1.p1.5.m5.2.3.2.cmml">PPL</mi><mo id="S4.SS7.SSS1.p1.5.m5.2.3.1" xref="S4.SS7.SSS1.p1.5.m5.2.3.1.cmml">∈</mo><mrow id="S4.SS7.SSS1.p1.5.m5.2.3.3.2" xref="S4.SS7.SSS1.p1.5.m5.2.3.3.1.cmml"><mo id="S4.SS7.SSS1.p1.5.m5.2.3.3.2.1" stretchy="false" xref="S4.SS7.SSS1.p1.5.m5.2.3.3.1.cmml">[</mo><mn id="S4.SS7.SSS1.p1.5.m5.1.1" xref="S4.SS7.SSS1.p1.5.m5.1.1.cmml">1</mn><mo id="S4.SS7.SSS1.p1.5.m5.2.3.3.2.2" xref="S4.SS7.SSS1.p1.5.m5.2.3.3.1.cmml">,</mo><mi id="S4.SS7.SSS1.p1.5.m5.2.2" mathvariant="normal" xref="S4.SS7.SSS1.p1.5.m5.2.2.cmml">∞</mi><mo id="S4.SS7.SSS1.p1.5.m5.2.3.3.2.3" stretchy="false" xref="S4.SS7.SSS1.p1.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.5.m5.2b"><apply id="S4.SS7.SSS1.p1.5.m5.2.3.cmml" xref="S4.SS7.SSS1.p1.5.m5.2.3"><in id="S4.SS7.SSS1.p1.5.m5.2.3.1.cmml" xref="S4.SS7.SSS1.p1.5.m5.2.3.1"></in><ci id="S4.SS7.SSS1.p1.5.m5.2.3.2.cmml" xref="S4.SS7.SSS1.p1.5.m5.2.3.2">PPL</ci><interval closure="closed-open" id="S4.SS7.SSS1.p1.5.m5.2.3.3.1.cmml" xref="S4.SS7.SSS1.p1.5.m5.2.3.3.2"><cn id="S4.SS7.SSS1.p1.5.m5.1.1.cmml" type="integer" xref="S4.SS7.SSS1.p1.5.m5.1.1">1</cn><infinity id="S4.SS7.SSS1.p1.5.m5.2.2.cmml" xref="S4.SS7.SSS1.p1.5.m5.2.2"></infinity></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.5.m5.2c">\operatorname{PPL}\in[1,\infty)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.5.m5.2d">roman_PPL ∈ [ 1 , ∞ )</annotation></semantics></math> measures the model’s uncertainty about the data and is defined as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\operatorname{PPL}(x)=\exp\{-\frac{1}{n}\sum_{t=1}^{n}\log P_{\theta}\left(x_{%
t}\mid x_{t-1},...,x_{1}\right)\}," class="ltx_Math" display="block" id="S4.Ex3.m1.5"><semantics id="S4.Ex3.m1.5a"><mrow id="S4.Ex3.m1.5.5.1" xref="S4.Ex3.m1.5.5.1.1.cmml"><mrow id="S4.Ex3.m1.5.5.1.1" xref="S4.Ex3.m1.5.5.1.1.cmml"><mrow id="S4.Ex3.m1.5.5.1.1.3.2" xref="S4.Ex3.m1.5.5.1.1.3.1.cmml"><mi id="S4.Ex3.m1.1.1" xref="S4.Ex3.m1.1.1.cmml">PPL</mi><mo id="S4.Ex3.m1.5.5.1.1.3.2a" xref="S4.Ex3.m1.5.5.1.1.3.1.cmml">⁡</mo><mrow id="S4.Ex3.m1.5.5.1.1.3.2.1" xref="S4.Ex3.m1.5.5.1.1.3.1.cmml"><mo id="S4.Ex3.m1.5.5.1.1.3.2.1.1" stretchy="false" xref="S4.Ex3.m1.5.5.1.1.3.1.cmml">(</mo><mi id="S4.Ex3.m1.2.2" xref="S4.Ex3.m1.2.2.cmml">x</mi><mo id="S4.Ex3.m1.5.5.1.1.3.2.1.2" stretchy="false" xref="S4.Ex3.m1.5.5.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex3.m1.5.5.1.1.2" xref="S4.Ex3.m1.5.5.1.1.2.cmml">=</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.2.cmml"><mi id="S4.Ex3.m1.4.4" xref="S4.Ex3.m1.4.4.cmml">exp</mi><mo id="S4.Ex3.m1.5.5.1.1.1.1a" xref="S4.Ex3.m1.5.5.1.1.1.2.cmml">⁡</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.2.cmml"><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m1.5.5.1.1.1.2.cmml">{</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1a" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.cmml"><mfrac id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.cmml"><mn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.2.cmml">1</mn><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.3.cmml">n</mi></mfrac><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.cmml"><munderover id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.cmml"><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.2" movablelimits="false" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.2.cmml">t</mi><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.3.cmml">n</mi></munderover><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.1.cmml">log</mi><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3a" lspace="0.167em" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">⁡</mo><msub id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.2.cmml">P</mi><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.3.cmml">θ</mi></msub></mrow><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.2.cmml">x</mi><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml">t</mi></msub><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">∣</mo><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.Ex3.m1.3.3" mathvariant="normal" xref="S4.Ex3.m1.3.3.cmml">…</mi><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.4" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub></mrow></mrow><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.Ex3.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m1.5.5.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><mo id="S4.Ex3.m1.5.5.1.2" xref="S4.Ex3.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.5b"><apply id="S4.Ex3.m1.5.5.1.1.cmml" xref="S4.Ex3.m1.5.5.1"><eq id="S4.Ex3.m1.5.5.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.2"></eq><apply id="S4.Ex3.m1.5.5.1.1.3.1.cmml" xref="S4.Ex3.m1.5.5.1.1.3.2"><ci id="S4.Ex3.m1.1.1.cmml" xref="S4.Ex3.m1.1.1">PPL</ci><ci id="S4.Ex3.m1.2.2.cmml" xref="S4.Ex3.m1.2.2">𝑥</ci></apply><apply id="S4.Ex3.m1.5.5.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1"><exp id="S4.Ex3.m1.4.4.cmml" xref="S4.Ex3.m1.4.4"></exp><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1"><minus id="S4.Ex3.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1"></minus><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1"><times id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.2"></times><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3"><divide id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3"></divide><cn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.2">1</cn><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1"><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.2"></sum><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3"><eq id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.2">𝑡</ci><cn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.2.3">𝑛</ci></apply><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3"><log id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.1"></log><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.2">𝑃</ci><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.3">𝜃</ci></apply></apply><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.2">𝑥</ci><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.4.3">𝑡</ci></apply><list id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2"><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><minus id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.Ex3.m1.3.3.cmml" xref="S4.Ex3.m1.3.3">…</ci><apply id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑥</ci><cn id="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.Ex3.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3">1</cn></apply></list></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m1.5c">\operatorname{PPL}(x)=\exp\{-\frac{1}{n}\sum_{t=1}^{n}\log P_{\theta}\left(x_{%
t}\mid x_{t-1},...,x_{1}\right)\},</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m1.5d">roman_PPL ( italic_x ) = roman_exp { - divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT roman_log italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∣ italic_x start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS7.SSS1.p1.9">where <math alttext="\log P_{\theta}\left(x_{t}\mid x_{t-1},...,x_{1}\right)" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.6.m1.2"><semantics id="S4.SS7.SSS1.p1.6.m1.2a"><mrow id="S4.SS7.SSS1.p1.6.m1.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.cmml"><mrow id="S4.SS7.SSS1.p1.6.m1.2.2.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.3.1" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.1.cmml">log</mi><mo id="S4.SS7.SSS1.p1.6.m1.2.2.3a" lspace="0.167em" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.cmml">⁡</mo><msub id="S4.SS7.SSS1.p1.6.m1.2.2.3.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2.2.cmml">P</mi><mi id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2.3.cmml">θ</mi></msub></mrow><mo id="S4.SS7.SSS1.p1.6.m1.2.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.2.cmml">⁢</mo><mrow id="S4.SS7.SSS1.p1.6.m1.2.2.1.1" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.cmml"><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.cmml"><msub id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.2.cmml">x</mi><mi id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.3.cmml">t</mi></msub><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.3.cmml">∣</mo><mrow id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.3.cmml"><msub id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.1" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.3.cmml">,</mo><mi id="S4.SS7.SSS1.p1.6.m1.1.1" mathvariant="normal" xref="S4.SS7.SSS1.p1.6.m1.1.1.cmml">…</mi><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.4" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.3.cmml">,</mo><msub id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.cmml"><mi id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.2" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.2.cmml">x</mi><mn id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.3.cmml">1</mn></msub></mrow></mrow><mo id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.3" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.6.m1.2b"><apply id="S4.SS7.SSS1.p1.6.m1.2.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2"><times id="S4.SS7.SSS1.p1.6.m1.2.2.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.2"></times><apply id="S4.SS7.SSS1.p1.6.m1.2.2.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3"><log id="S4.SS7.SSS1.p1.6.m1.2.2.3.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.1"></log><apply id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2">subscript</csymbol><ci id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2.2">𝑃</ci><ci id="S4.SS7.SSS1.p1.6.m1.2.2.3.2.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.3.2.3">𝜃</ci></apply></apply><apply id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1"><csymbol cd="latexml" id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.3">conditional</csymbol><apply id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.2">𝑥</ci><ci id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.4.3">𝑡</ci></apply><list id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2"><apply id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.2">𝑥</ci><apply id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3"><minus id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.1"></minus><ci id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS7.SSS1.p1.6.m1.1.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.1.1">…</ci><apply id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.1.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.2.cmml" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.2">𝑥</ci><cn id="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.SS7.SSS1.p1.6.m1.2.2.1.1.1.2.2.2.3">1</cn></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.6.m1.2c">\log P_{\theta}\left(x_{t}\mid x_{t-1},...,x_{1}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.6.m1.2d">roman_log italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∣ italic_x start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math> is the log-probability for token <math alttext="x_{t}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.7.m2.1"><semantics id="S4.SS7.SSS1.p1.7.m2.1a"><msub id="S4.SS7.SSS1.p1.7.m2.1.1" xref="S4.SS7.SSS1.p1.7.m2.1.1.cmml"><mi id="S4.SS7.SSS1.p1.7.m2.1.1.2" xref="S4.SS7.SSS1.p1.7.m2.1.1.2.cmml">x</mi><mi id="S4.SS7.SSS1.p1.7.m2.1.1.3" xref="S4.SS7.SSS1.p1.7.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.7.m2.1b"><apply id="S4.SS7.SSS1.p1.7.m2.1.1.cmml" xref="S4.SS7.SSS1.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p1.7.m2.1.1.1.cmml" xref="S4.SS7.SSS1.p1.7.m2.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p1.7.m2.1.1.2.cmml" xref="S4.SS7.SSS1.p1.7.m2.1.1.2">𝑥</ci><ci id="S4.SS7.SSS1.p1.7.m2.1.1.3.cmml" xref="S4.SS7.SSS1.p1.7.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.7.m2.1c">x_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.7.m2.1d">italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, as predicted by the model with parameters <math alttext="\theta" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.8.m3.1"><semantics id="S4.SS7.SSS1.p1.8.m3.1a"><mi id="S4.SS7.SSS1.p1.8.m3.1.1" xref="S4.SS7.SSS1.p1.8.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.8.m3.1b"><ci id="S4.SS7.SSS1.p1.8.m3.1.1.cmml" xref="S4.SS7.SSS1.p1.8.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.8.m3.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.8.m3.1d">italic_θ</annotation></semantics></math>.
We aim to minimize <math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p1.9.m4.1"><semantics id="S4.SS7.SSS1.p1.9.m4.1a"><mi id="S4.SS7.SSS1.p1.9.m4.1.1" xref="S4.SS7.SSS1.p1.9.m4.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p1.9.m4.1b"><ci id="S4.SS7.SSS1.p1.9.m4.1.1.cmml" xref="S4.SS7.SSS1.p1.9.m4.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p1.9.m4.1c">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p1.9.m4.1d">roman_PPL</annotation></semantics></math> to its optimal value of 1, which is achieved when the model correctly predicts each token with a probability of 1.</p>
</div>
<div class="ltx_para" id="S4.SS7.SSS1.p2">
<p class="ltx_p" id="S4.SS7.SSS1.p2.6">For easier interpretation, we also use recall metrics that summarize the probability that the predicted token is one of the correct tokens.
Let <math alttext="\hat{y}_{i}\in\mathbb{R}^{|\mathbb{V}|}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.1.m1.1"><semantics id="S4.SS7.SSS1.p2.1.m1.1a"><mrow id="S4.SS7.SSS1.p2.1.m1.1.2" xref="S4.SS7.SSS1.p2.1.m1.1.2.cmml"><msub id="S4.SS7.SSS1.p2.1.m1.1.2.2" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.cmml"><mover accent="true" id="S4.SS7.SSS1.p2.1.m1.1.2.2.2" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2.cmml"><mi id="S4.SS7.SSS1.p2.1.m1.1.2.2.2.2" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2.2.cmml">y</mi><mo id="S4.SS7.SSS1.p2.1.m1.1.2.2.2.1" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2.1.cmml">^</mo></mover><mi id="S4.SS7.SSS1.p2.1.m1.1.2.2.3" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.3.cmml">i</mi></msub><mo id="S4.SS7.SSS1.p2.1.m1.1.2.1" xref="S4.SS7.SSS1.p2.1.m1.1.2.1.cmml">∈</mo><msup id="S4.SS7.SSS1.p2.1.m1.1.2.3" xref="S4.SS7.SSS1.p2.1.m1.1.2.3.cmml"><mi id="S4.SS7.SSS1.p2.1.m1.1.2.3.2" xref="S4.SS7.SSS1.p2.1.m1.1.2.3.2.cmml">ℝ</mi><mrow id="S4.SS7.SSS1.p2.1.m1.1.1.1.3" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.2.cmml"><mo id="S4.SS7.SSS1.p2.1.m1.1.1.1.3.1" stretchy="false" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.2.1.cmml">|</mo><mi id="S4.SS7.SSS1.p2.1.m1.1.1.1.1" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.1.cmml">𝕍</mi><mo id="S4.SS7.SSS1.p2.1.m1.1.1.1.3.2" stretchy="false" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.1.m1.1b"><apply id="S4.SS7.SSS1.p2.1.m1.1.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2"><in id="S4.SS7.SSS1.p2.1.m1.1.2.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.1"></in><apply id="S4.SS7.SSS1.p2.1.m1.1.2.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.1.m1.1.2.2.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2">subscript</csymbol><apply id="S4.SS7.SSS1.p2.1.m1.1.2.2.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2"><ci id="S4.SS7.SSS1.p2.1.m1.1.2.2.2.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2.1">^</ci><ci id="S4.SS7.SSS1.p2.1.m1.1.2.2.2.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.2.2">𝑦</ci></apply><ci id="S4.SS7.SSS1.p2.1.m1.1.2.2.3.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.2.3">𝑖</ci></apply><apply id="S4.SS7.SSS1.p2.1.m1.1.2.3.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.3"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.1.m1.1.2.3.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.3">superscript</csymbol><ci id="S4.SS7.SSS1.p2.1.m1.1.2.3.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.2.3.2">ℝ</ci><apply id="S4.SS7.SSS1.p2.1.m1.1.1.1.2.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.3"><abs id="S4.SS7.SSS1.p2.1.m1.1.1.1.2.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.3.1"></abs><ci id="S4.SS7.SSS1.p2.1.m1.1.1.1.1.cmml" xref="S4.SS7.SSS1.p2.1.m1.1.1.1.1">𝕍</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.1.m1.1c">\hat{y}_{i}\in\mathbb{R}^{|\mathbb{V}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.1.m1.1d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT | blackboard_V | end_POSTSUPERSCRIPT</annotation></semantics></math> be the output distribution of the next token after <math alttext="x_{i}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.2.m2.1"><semantics id="S4.SS7.SSS1.p2.2.m2.1a"><msub id="S4.SS7.SSS1.p2.2.m2.1.1" xref="S4.SS7.SSS1.p2.2.m2.1.1.cmml"><mi id="S4.SS7.SSS1.p2.2.m2.1.1.2" xref="S4.SS7.SSS1.p2.2.m2.1.1.2.cmml">x</mi><mi id="S4.SS7.SSS1.p2.2.m2.1.1.3" xref="S4.SS7.SSS1.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.2.m2.1b"><apply id="S4.SS7.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS7.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS7.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS7.SSS1.p2.2.m2.1.1.2">𝑥</ci><ci id="S4.SS7.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS7.SSS1.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.2.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, sorted by descending probability (i.e., the first element of <math alttext="\hat{y}_{i}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.3.m3.1"><semantics id="S4.SS7.SSS1.p2.3.m3.1a"><msub id="S4.SS7.SSS1.p2.3.m3.1.1" xref="S4.SS7.SSS1.p2.3.m3.1.1.cmml"><mover accent="true" id="S4.SS7.SSS1.p2.3.m3.1.1.2" xref="S4.SS7.SSS1.p2.3.m3.1.1.2.cmml"><mi id="S4.SS7.SSS1.p2.3.m3.1.1.2.2" xref="S4.SS7.SSS1.p2.3.m3.1.1.2.2.cmml">y</mi><mo id="S4.SS7.SSS1.p2.3.m3.1.1.2.1" xref="S4.SS7.SSS1.p2.3.m3.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS7.SSS1.p2.3.m3.1.1.3" xref="S4.SS7.SSS1.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.3.m3.1b"><apply id="S4.SS7.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.3.m3.1.1.1.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1">subscript</csymbol><apply id="S4.SS7.SSS1.p2.3.m3.1.1.2.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1.2"><ci id="S4.SS7.SSS1.p2.3.m3.1.1.2.1.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1.2.1">^</ci><ci id="S4.SS7.SSS1.p2.3.m3.1.1.2.2.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1.2.2">𝑦</ci></apply><ci id="S4.SS7.SSS1.p2.3.m3.1.1.3.cmml" xref="S4.SS7.SSS1.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.3.m3.1c">\hat{y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.3.m3.1d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> corresponds to the most probable next token).
Then, <math alttext="\operatorname{rank}_{i}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.4.m4.1"><semantics id="S4.SS7.SSS1.p2.4.m4.1a"><msub id="S4.SS7.SSS1.p2.4.m4.1.1" xref="S4.SS7.SSS1.p2.4.m4.1.1.cmml"><mi id="S4.SS7.SSS1.p2.4.m4.1.1.2" xref="S4.SS7.SSS1.p2.4.m4.1.1.2.cmml">rank</mi><mi id="S4.SS7.SSS1.p2.4.m4.1.1.3" xref="S4.SS7.SSS1.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.4.m4.1b"><apply id="S4.SS7.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS7.SSS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.4.m4.1.1.1.cmml" xref="S4.SS7.SSS1.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p2.4.m4.1.1.2.cmml" xref="S4.SS7.SSS1.p2.4.m4.1.1.2">rank</ci><ci id="S4.SS7.SSS1.p2.4.m4.1.1.3.cmml" xref="S4.SS7.SSS1.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.4.m4.1c">\operatorname{rank}_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.4.m4.1d">roman_rank start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the index in <math alttext="\hat{y}_{i}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.5.m5.1"><semantics id="S4.SS7.SSS1.p2.5.m5.1a"><msub id="S4.SS7.SSS1.p2.5.m5.1.1" xref="S4.SS7.SSS1.p2.5.m5.1.1.cmml"><mover accent="true" id="S4.SS7.SSS1.p2.5.m5.1.1.2" xref="S4.SS7.SSS1.p2.5.m5.1.1.2.cmml"><mi id="S4.SS7.SSS1.p2.5.m5.1.1.2.2" xref="S4.SS7.SSS1.p2.5.m5.1.1.2.2.cmml">y</mi><mo id="S4.SS7.SSS1.p2.5.m5.1.1.2.1" xref="S4.SS7.SSS1.p2.5.m5.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS7.SSS1.p2.5.m5.1.1.3" xref="S4.SS7.SSS1.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.5.m5.1b"><apply id="S4.SS7.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.5.m5.1.1.1.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1">subscript</csymbol><apply id="S4.SS7.SSS1.p2.5.m5.1.1.2.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1.2"><ci id="S4.SS7.SSS1.p2.5.m5.1.1.2.1.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1.2.1">^</ci><ci id="S4.SS7.SSS1.p2.5.m5.1.1.2.2.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1.2.2">𝑦</ci></apply><ci id="S4.SS7.SSS1.p2.5.m5.1.1.3.cmml" xref="S4.SS7.SSS1.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.5.m5.1c">\hat{y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.5.m5.1d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> that corresponds to the next token <math alttext="x_{i+1}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p2.6.m6.1"><semantics id="S4.SS7.SSS1.p2.6.m6.1a"><msub id="S4.SS7.SSS1.p2.6.m6.1.1" xref="S4.SS7.SSS1.p2.6.m6.1.1.cmml"><mi id="S4.SS7.SSS1.p2.6.m6.1.1.2" xref="S4.SS7.SSS1.p2.6.m6.1.1.2.cmml">x</mi><mrow id="S4.SS7.SSS1.p2.6.m6.1.1.3" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.cmml"><mi id="S4.SS7.SSS1.p2.6.m6.1.1.3.2" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.2.cmml">i</mi><mo id="S4.SS7.SSS1.p2.6.m6.1.1.3.1" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.1.cmml">+</mo><mn id="S4.SS7.SSS1.p2.6.m6.1.1.3.3" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p2.6.m6.1b"><apply id="S4.SS7.SSS1.p2.6.m6.1.1.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p2.6.m6.1.1.1.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p2.6.m6.1.1.2.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1.2">𝑥</ci><apply id="S4.SS7.SSS1.p2.6.m6.1.1.3.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1.3"><plus id="S4.SS7.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.1"></plus><ci id="S4.SS7.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.2">𝑖</ci><cn id="S4.SS7.SSS1.p2.6.m6.1.1.3.3.cmml" type="integer" xref="S4.SS7.SSS1.p2.6.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p2.6.m6.1c">x_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p2.6.m6.1d">italic_x start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS7.SSS1.p3">
<p class="ltx_p" id="S4.SS7.SSS1.p3.6">The recall-at-<math alttext="k" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.1.m1.1"><semantics id="S4.SS7.SSS1.p3.1.m1.1a"><mi id="S4.SS7.SSS1.p3.1.m1.1.1" xref="S4.SS7.SSS1.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.1.m1.1b"><ci id="S4.SS7.SSS1.p3.1.m1.1.1.cmml" xref="S4.SS7.SSS1.p3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.1.m1.1d">italic_k</annotation></semantics></math> metric, <math alttext="\operatorname{R_{k}}\in[0,1]" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.2.m2.2"><semantics id="S4.SS7.SSS1.p3.2.m2.2a"><mrow id="S4.SS7.SSS1.p3.2.m2.2.3" xref="S4.SS7.SSS1.p3.2.m2.2.3.cmml"><msub id="S4.SS7.SSS1.p3.2.m2.2.3.2" xref="S4.SS7.SSS1.p3.2.m2.2.3.2.cmml"><mi id="S4.SS7.SSS1.p3.2.m2.2.3.2.2" mathvariant="normal" xref="S4.SS7.SSS1.p3.2.m2.2.3.2.2.cmml">R</mi><mi id="S4.SS7.SSS1.p3.2.m2.2.3.2.3" mathvariant="normal" xref="S4.SS7.SSS1.p3.2.m2.2.3.2.3.cmml">k</mi></msub><mo id="S4.SS7.SSS1.p3.2.m2.2.3.1" xref="S4.SS7.SSS1.p3.2.m2.2.3.1.cmml">∈</mo><mrow id="S4.SS7.SSS1.p3.2.m2.2.3.3.2" xref="S4.SS7.SSS1.p3.2.m2.2.3.3.1.cmml"><mo id="S4.SS7.SSS1.p3.2.m2.2.3.3.2.1" stretchy="false" xref="S4.SS7.SSS1.p3.2.m2.2.3.3.1.cmml">[</mo><mn id="S4.SS7.SSS1.p3.2.m2.1.1" xref="S4.SS7.SSS1.p3.2.m2.1.1.cmml">0</mn><mo id="S4.SS7.SSS1.p3.2.m2.2.3.3.2.2" xref="S4.SS7.SSS1.p3.2.m2.2.3.3.1.cmml">,</mo><mn id="S4.SS7.SSS1.p3.2.m2.2.2" xref="S4.SS7.SSS1.p3.2.m2.2.2.cmml">1</mn><mo id="S4.SS7.SSS1.p3.2.m2.2.3.3.2.3" stretchy="false" xref="S4.SS7.SSS1.p3.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.2.m2.2b"><apply id="S4.SS7.SSS1.p3.2.m2.2.3.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3"><in id="S4.SS7.SSS1.p3.2.m2.2.3.1.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.1"></in><apply id="S4.SS7.SSS1.p3.2.m2.2.3.2.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p3.2.m2.2.3.2.1.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.2">subscript</csymbol><ci id="S4.SS7.SSS1.p3.2.m2.2.3.2.2.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.2.2">R</ci><ci id="S4.SS7.SSS1.p3.2.m2.2.3.2.3.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.2.3">k</ci></apply><interval closure="closed" id="S4.SS7.SSS1.p3.2.m2.2.3.3.1.cmml" xref="S4.SS7.SSS1.p3.2.m2.2.3.3.2"><cn id="S4.SS7.SSS1.p3.2.m2.1.1.cmml" type="integer" xref="S4.SS7.SSS1.p3.2.m2.1.1">0</cn><cn id="S4.SS7.SSS1.p3.2.m2.2.2.cmml" type="integer" xref="S4.SS7.SSS1.p3.2.m2.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.2.m2.2c">\operatorname{R_{k}}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.2.m2.2d">start_OPFUNCTION roman_R start_POSTSUBSCRIPT roman_k end_POSTSUBSCRIPT end_OPFUNCTION ∈ [ 0 , 1 ]</annotation></semantics></math>, equals 1 for <math alttext="x_{i}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.3.m3.1"><semantics id="S4.SS7.SSS1.p3.3.m3.1a"><msub id="S4.SS7.SSS1.p3.3.m3.1.1" xref="S4.SS7.SSS1.p3.3.m3.1.1.cmml"><mi id="S4.SS7.SSS1.p3.3.m3.1.1.2" xref="S4.SS7.SSS1.p3.3.m3.1.1.2.cmml">x</mi><mi id="S4.SS7.SSS1.p3.3.m3.1.1.3" xref="S4.SS7.SSS1.p3.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.3.m3.1b"><apply id="S4.SS7.SSS1.p3.3.m3.1.1.cmml" xref="S4.SS7.SSS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p3.3.m3.1.1.1.cmml" xref="S4.SS7.SSS1.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p3.3.m3.1.1.2.cmml" xref="S4.SS7.SSS1.p3.3.m3.1.1.2">𝑥</ci><ci id="S4.SS7.SSS1.p3.3.m3.1.1.3.cmml" xref="S4.SS7.SSS1.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.3.m3.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> if <math alttext="x_{i+1}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.4.m4.1"><semantics id="S4.SS7.SSS1.p3.4.m4.1a"><msub id="S4.SS7.SSS1.p3.4.m4.1.1" xref="S4.SS7.SSS1.p3.4.m4.1.1.cmml"><mi id="S4.SS7.SSS1.p3.4.m4.1.1.2" xref="S4.SS7.SSS1.p3.4.m4.1.1.2.cmml">x</mi><mrow id="S4.SS7.SSS1.p3.4.m4.1.1.3" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.cmml"><mi id="S4.SS7.SSS1.p3.4.m4.1.1.3.2" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.2.cmml">i</mi><mo id="S4.SS7.SSS1.p3.4.m4.1.1.3.1" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.1.cmml">+</mo><mn id="S4.SS7.SSS1.p3.4.m4.1.1.3.3" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.4.m4.1b"><apply id="S4.SS7.SSS1.p3.4.m4.1.1.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p3.4.m4.1.1.1.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p3.4.m4.1.1.2.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1.2">𝑥</ci><apply id="S4.SS7.SSS1.p3.4.m4.1.1.3.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1.3"><plus id="S4.SS7.SSS1.p3.4.m4.1.1.3.1.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.1"></plus><ci id="S4.SS7.SSS1.p3.4.m4.1.1.3.2.cmml" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.2">𝑖</ci><cn id="S4.SS7.SSS1.p3.4.m4.1.1.3.3.cmml" type="integer" xref="S4.SS7.SSS1.p3.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.4.m4.1c">x_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> is among the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.5.m5.1"><semantics id="S4.SS7.SSS1.p3.5.m5.1a"><mi id="S4.SS7.SSS1.p3.5.m5.1.1" xref="S4.SS7.SSS1.p3.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.5.m5.1b"><ci id="S4.SS7.SSS1.p3.5.m5.1.1.cmml" xref="S4.SS7.SSS1.p3.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.5.m5.1d">italic_k</annotation></semantics></math> most probable suggested tokens.
For the entire <math alttext="x" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.6.m6.1"><semantics id="S4.SS7.SSS1.p3.6.m6.1a"><mi id="S4.SS7.SSS1.p3.6.m6.1.1" xref="S4.SS7.SSS1.p3.6.m6.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.6.m6.1b"><ci id="S4.SS7.SSS1.p3.6.m6.1.1.cmml" xref="S4.SS7.SSS1.p3.6.m6.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.6.m6.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.6.m6.1d">italic_x</annotation></semantics></math>, we take the average</p>
<table class="ltx_equation ltx_eqn_table" id="S4.Ex4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\operatorname{R_{k}}=\frac{1}{n}\sum_{i=1}^{n}\mathbbm{1}\left(\operatorname{%
rank}_{i}\leq k\right)." class="ltx_Math" display="block" id="S4.Ex4.m1.1"><semantics id="S4.Ex4.m1.1a"><mrow id="S4.Ex4.m1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml"><mrow id="S4.Ex4.m1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml"><msub id="S4.Ex4.m1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.3.cmml"><mi id="S4.Ex4.m1.1.1.1.1.3.2" mathvariant="normal" xref="S4.Ex4.m1.1.1.1.1.3.2.cmml">R</mi><mi id="S4.Ex4.m1.1.1.1.1.3.3" mathvariant="normal" xref="S4.Ex4.m1.1.1.1.1.3.3.cmml">k</mi></msub><mo id="S4.Ex4.m1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.Ex4.m1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.cmml"><mfrac id="S4.Ex4.m1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.3.cmml"><mn id="S4.Ex4.m1.1.1.1.1.1.3.2" xref="S4.Ex4.m1.1.1.1.1.1.3.2.cmml">1</mn><mi id="S4.Ex4.m1.1.1.1.1.1.3.3" xref="S4.Ex4.m1.1.1.1.1.1.3.3.cmml">n</mi></mfrac><mo id="S4.Ex4.m1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.cmml"><munderover id="S4.Ex4.m1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.2.cmml"><mo id="S4.Ex4.m1.1.1.1.1.1.1.2.2.2" movablelimits="false" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.2" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.1" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.3" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S4.Ex4.m1.1.1.1.1.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.2.3.cmml">n</mi></munderover><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.cmml"><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.3.cmml">𝟙</mn><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">rank</mi><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">≤</mo><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></mrow><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.Ex4.m1.1.1.1.2" lspace="0em" xref="S4.Ex4.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex4.m1.1b"><apply id="S4.Ex4.m1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1"><eq id="S4.Ex4.m1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2"></eq><apply id="S4.Ex4.m1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.3.2.cmml" xref="S4.Ex4.m1.1.1.1.1.3.2">R</ci><ci id="S4.Ex4.m1.1.1.1.1.3.3.cmml" xref="S4.Ex4.m1.1.1.1.1.3.3">k</ci></apply><apply id="S4.Ex4.m1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1"><times id="S4.Ex4.m1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.2"></times><apply id="S4.Ex4.m1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.3"><divide id="S4.Ex4.m1.1.1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.3"></divide><cn id="S4.Ex4.m1.1.1.1.1.1.3.2.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.3.2">1</cn><ci id="S4.Ex4.m1.1.1.1.1.1.3.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S4.Ex4.m1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1"><apply id="S4.Ex4.m1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.Ex4.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S4.Ex4.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.2"></sum><apply id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3"><eq id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.Ex4.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.2.3">𝑛</ci></apply><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1"><times id="S4.Ex4.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2"></times><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.3">1</cn><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1"><leq id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.1"></leq><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.2">rank</ci><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex4.m1.1c">\operatorname{R_{k}}=\frac{1}{n}\sum_{i=1}^{n}\mathbbm{1}\left(\operatorname{%
rank}_{i}\leq k\right).</annotation><annotation encoding="application/x-llamapun" id="S4.Ex4.m1.1d">start_OPFUNCTION roman_R start_POSTSUBSCRIPT roman_k end_POSTSUBSCRIPT end_OPFUNCTION = divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT blackboard_1 ( roman_rank start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ≤ italic_k ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS7.SSS1.p3.8"><math alttext="\operatorname{R_{k}}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.7.m1.1"><semantics id="S4.SS7.SSS1.p3.7.m1.1a"><msub id="S4.SS7.SSS1.p3.7.m1.1.1" xref="S4.SS7.SSS1.p3.7.m1.1.1.cmml"><mi id="S4.SS7.SSS1.p3.7.m1.1.1.2" mathvariant="normal" xref="S4.SS7.SSS1.p3.7.m1.1.1.2.cmml">R</mi><mi id="S4.SS7.SSS1.p3.7.m1.1.1.3" mathvariant="normal" xref="S4.SS7.SSS1.p3.7.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.7.m1.1b"><apply id="S4.SS7.SSS1.p3.7.m1.1.1.cmml" xref="S4.SS7.SSS1.p3.7.m1.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p3.7.m1.1.1.1.cmml" xref="S4.SS7.SSS1.p3.7.m1.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p3.7.m1.1.1.2.cmml" xref="S4.SS7.SSS1.p3.7.m1.1.1.2">R</ci><ci id="S4.SS7.SSS1.p3.7.m1.1.1.3.cmml" xref="S4.SS7.SSS1.p3.7.m1.1.1.3">k</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.7.m1.1c">\operatorname{R_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.7.m1.1d">roman_R start_POSTSUBSCRIPT roman_k end_POSTSUBSCRIPT</annotation></semantics></math> can be interpreted as the probability that the next token is among the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p3.8.m2.1"><semantics id="S4.SS7.SSS1.p3.8.m2.1a"><mi id="S4.SS7.SSS1.p3.8.m2.1.1" xref="S4.SS7.SSS1.p3.8.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p3.8.m2.1b"><ci id="S4.SS7.SSS1.p3.8.m2.1.1.cmml" xref="S4.SS7.SSS1.p3.8.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p3.8.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p3.8.m2.1d">italic_k</annotation></semantics></math> most probable predicted tokens.</p>
</div>
<div class="ltx_para" id="S4.SS7.SSS1.p4">
<p class="ltx_p" id="S4.SS7.SSS1.p4.1">The Mean Reciprocal Rank <math alttext="\operatorname{MRR}_{k}\in[0,1]" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p4.1.m1.2"><semantics id="S4.SS7.SSS1.p4.1.m1.2a"><mrow id="S4.SS7.SSS1.p4.1.m1.2.3" xref="S4.SS7.SSS1.p4.1.m1.2.3.cmml"><msub id="S4.SS7.SSS1.p4.1.m1.2.3.2" xref="S4.SS7.SSS1.p4.1.m1.2.3.2.cmml"><mi id="S4.SS7.SSS1.p4.1.m1.2.3.2.2" xref="S4.SS7.SSS1.p4.1.m1.2.3.2.2.cmml">MRR</mi><mi id="S4.SS7.SSS1.p4.1.m1.2.3.2.3" xref="S4.SS7.SSS1.p4.1.m1.2.3.2.3.cmml">k</mi></msub><mo id="S4.SS7.SSS1.p4.1.m1.2.3.1" xref="S4.SS7.SSS1.p4.1.m1.2.3.1.cmml">∈</mo><mrow id="S4.SS7.SSS1.p4.1.m1.2.3.3.2" xref="S4.SS7.SSS1.p4.1.m1.2.3.3.1.cmml"><mo id="S4.SS7.SSS1.p4.1.m1.2.3.3.2.1" stretchy="false" xref="S4.SS7.SSS1.p4.1.m1.2.3.3.1.cmml">[</mo><mn id="S4.SS7.SSS1.p4.1.m1.1.1" xref="S4.SS7.SSS1.p4.1.m1.1.1.cmml">0</mn><mo id="S4.SS7.SSS1.p4.1.m1.2.3.3.2.2" xref="S4.SS7.SSS1.p4.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.SS7.SSS1.p4.1.m1.2.2" xref="S4.SS7.SSS1.p4.1.m1.2.2.cmml">1</mn><mo id="S4.SS7.SSS1.p4.1.m1.2.3.3.2.3" stretchy="false" xref="S4.SS7.SSS1.p4.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p4.1.m1.2b"><apply id="S4.SS7.SSS1.p4.1.m1.2.3.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3"><in id="S4.SS7.SSS1.p4.1.m1.2.3.1.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.1"></in><apply id="S4.SS7.SSS1.p4.1.m1.2.3.2.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p4.1.m1.2.3.2.1.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.2">subscript</csymbol><ci id="S4.SS7.SSS1.p4.1.m1.2.3.2.2.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.2.2">MRR</ci><ci id="S4.SS7.SSS1.p4.1.m1.2.3.2.3.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.2.3">𝑘</ci></apply><interval closure="closed" id="S4.SS7.SSS1.p4.1.m1.2.3.3.1.cmml" xref="S4.SS7.SSS1.p4.1.m1.2.3.3.2"><cn id="S4.SS7.SSS1.p4.1.m1.1.1.cmml" type="integer" xref="S4.SS7.SSS1.p4.1.m1.1.1">0</cn><cn id="S4.SS7.SSS1.p4.1.m1.2.2.cmml" type="integer" xref="S4.SS7.SSS1.p4.1.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p4.1.m1.2c">\operatorname{MRR}_{k}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p4.1.m1.2d">roman_MRR start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math> is defined as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.Ex5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\operatorname{MRR}_{k}=\frac{1}{n}\sum_{i=1}^{n}\frac{1}{\operatorname{rank}_{%
i}}," class="ltx_Math" display="block" id="S4.Ex5.m1.1"><semantics id="S4.Ex5.m1.1a"><mrow id="S4.Ex5.m1.1.1.1" xref="S4.Ex5.m1.1.1.1.1.cmml"><mrow id="S4.Ex5.m1.1.1.1.1" xref="S4.Ex5.m1.1.1.1.1.cmml"><msub id="S4.Ex5.m1.1.1.1.1.2" xref="S4.Ex5.m1.1.1.1.1.2.cmml"><mi id="S4.Ex5.m1.1.1.1.1.2.2" xref="S4.Ex5.m1.1.1.1.1.2.2.cmml">MRR</mi><mi id="S4.Ex5.m1.1.1.1.1.2.3" xref="S4.Ex5.m1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.Ex5.m1.1.1.1.1.1" xref="S4.Ex5.m1.1.1.1.1.1.cmml">=</mo><mrow id="S4.Ex5.m1.1.1.1.1.3" xref="S4.Ex5.m1.1.1.1.1.3.cmml"><mfrac id="S4.Ex5.m1.1.1.1.1.3.2" xref="S4.Ex5.m1.1.1.1.1.3.2.cmml"><mn id="S4.Ex5.m1.1.1.1.1.3.2.2" xref="S4.Ex5.m1.1.1.1.1.3.2.2.cmml">1</mn><mi id="S4.Ex5.m1.1.1.1.1.3.2.3" xref="S4.Ex5.m1.1.1.1.1.3.2.3.cmml">n</mi></mfrac><mo id="S4.Ex5.m1.1.1.1.1.3.1" xref="S4.Ex5.m1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.Ex5.m1.1.1.1.1.3.3" xref="S4.Ex5.m1.1.1.1.1.3.3.cmml"><munderover id="S4.Ex5.m1.1.1.1.1.3.3.1" xref="S4.Ex5.m1.1.1.1.1.3.3.1.cmml"><mo id="S4.Ex5.m1.1.1.1.1.3.3.1.2.2" movablelimits="false" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.cmml"><mi id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.2" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.1" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.3" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.Ex5.m1.1.1.1.1.3.3.1.3" xref="S4.Ex5.m1.1.1.1.1.3.3.1.3.cmml">n</mi></munderover><mfrac id="S4.Ex5.m1.1.1.1.1.3.3.2" xref="S4.Ex5.m1.1.1.1.1.3.3.2.cmml"><mn id="S4.Ex5.m1.1.1.1.1.3.3.2.2" xref="S4.Ex5.m1.1.1.1.1.3.3.2.2.cmml">1</mn><msub id="S4.Ex5.m1.1.1.1.1.3.3.2.3" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3.cmml"><mi id="S4.Ex5.m1.1.1.1.1.3.3.2.3.2" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3.2.cmml">rank</mi><mi id="S4.Ex5.m1.1.1.1.1.3.3.2.3.3" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3.3.cmml">i</mi></msub></mfrac></mrow></mrow></mrow><mo id="S4.Ex5.m1.1.1.1.2" xref="S4.Ex5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex5.m1.1b"><apply id="S4.Ex5.m1.1.1.1.1.cmml" xref="S4.Ex5.m1.1.1.1"><eq id="S4.Ex5.m1.1.1.1.1.1.cmml" xref="S4.Ex5.m1.1.1.1.1.1"></eq><apply id="S4.Ex5.m1.1.1.1.1.2.cmml" xref="S4.Ex5.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex5.m1.1.1.1.1.2.1.cmml" xref="S4.Ex5.m1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex5.m1.1.1.1.1.2.2.cmml" xref="S4.Ex5.m1.1.1.1.1.2.2">MRR</ci><ci id="S4.Ex5.m1.1.1.1.1.2.3.cmml" xref="S4.Ex5.m1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.Ex5.m1.1.1.1.1.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3"><times id="S4.Ex5.m1.1.1.1.1.3.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.1"></times><apply id="S4.Ex5.m1.1.1.1.1.3.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.2"><divide id="S4.Ex5.m1.1.1.1.1.3.2.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.2"></divide><cn id="S4.Ex5.m1.1.1.1.1.3.2.2.cmml" type="integer" xref="S4.Ex5.m1.1.1.1.1.3.2.2">1</cn><ci id="S4.Ex5.m1.1.1.1.1.3.2.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.2.3">𝑛</ci></apply><apply id="S4.Ex5.m1.1.1.1.1.3.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3"><apply id="S4.Ex5.m1.1.1.1.1.3.3.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.Ex5.m1.1.1.1.1.3.3.1.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1">superscript</csymbol><apply id="S4.Ex5.m1.1.1.1.1.3.3.1.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.Ex5.m1.1.1.1.1.3.3.1.2.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S4.Ex5.m1.1.1.1.1.3.3.1.2.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.2"></sum><apply id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3"><eq id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.2">𝑖</ci><cn id="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.3.cmml" type="integer" xref="S4.Ex5.m1.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S4.Ex5.m1.1.1.1.1.3.3.1.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.1.3">𝑛</ci></apply><apply id="S4.Ex5.m1.1.1.1.1.3.3.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2"><divide id="S4.Ex5.m1.1.1.1.1.3.3.2.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2"></divide><cn id="S4.Ex5.m1.1.1.1.1.3.3.2.2.cmml" type="integer" xref="S4.Ex5.m1.1.1.1.1.3.3.2.2">1</cn><apply id="S4.Ex5.m1.1.1.1.1.3.3.2.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S4.Ex5.m1.1.1.1.1.3.3.2.3.1.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3">subscript</csymbol><ci id="S4.Ex5.m1.1.1.1.1.3.3.2.3.2.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3.2">rank</ci><ci id="S4.Ex5.m1.1.1.1.1.3.3.2.3.3.cmml" xref="S4.Ex5.m1.1.1.1.1.3.3.2.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex5.m1.1c">\operatorname{MRR}_{k}=\frac{1}{n}\sum_{i=1}^{n}\frac{1}{\operatorname{rank}_{%
i}},</annotation><annotation encoding="application/x-llamapun" id="S4.Ex5.m1.1d">roman_MRR start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG 1 end_ARG start_ARG roman_rank start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS7.SSS1.p4.5">where <math alttext="\frac{1}{\operatorname{rank}_{i}}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p4.2.m1.1"><semantics id="S4.SS7.SSS1.p4.2.m1.1a"><mfrac id="S4.SS7.SSS1.p4.2.m1.1.1" xref="S4.SS7.SSS1.p4.2.m1.1.1.cmml"><mn id="S4.SS7.SSS1.p4.2.m1.1.1.2" xref="S4.SS7.SSS1.p4.2.m1.1.1.2.cmml">1</mn><msub id="S4.SS7.SSS1.p4.2.m1.1.1.3" xref="S4.SS7.SSS1.p4.2.m1.1.1.3.cmml"><mi id="S4.SS7.SSS1.p4.2.m1.1.1.3.2" xref="S4.SS7.SSS1.p4.2.m1.1.1.3.2.cmml">rank</mi><mi id="S4.SS7.SSS1.p4.2.m1.1.1.3.3" xref="S4.SS7.SSS1.p4.2.m1.1.1.3.3.cmml">i</mi></msub></mfrac><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p4.2.m1.1b"><apply id="S4.SS7.SSS1.p4.2.m1.1.1.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1"><divide id="S4.SS7.SSS1.p4.2.m1.1.1.1.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1"></divide><cn id="S4.SS7.SSS1.p4.2.m1.1.1.2.cmml" type="integer" xref="S4.SS7.SSS1.p4.2.m1.1.1.2">1</cn><apply id="S4.SS7.SSS1.p4.2.m1.1.1.3.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p4.2.m1.1.1.3.1.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1.3">subscript</csymbol><ci id="S4.SS7.SSS1.p4.2.m1.1.1.3.2.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1.3.2">rank</ci><ci id="S4.SS7.SSS1.p4.2.m1.1.1.3.3.cmml" xref="S4.SS7.SSS1.p4.2.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p4.2.m1.1c">\frac{1}{\operatorname{rank}_{i}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p4.2.m1.1d">divide start_ARG 1 end_ARG start_ARG roman_rank start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math> equals 0 if <math alttext="\operatorname{rank}_{i}&gt;k" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p4.3.m2.1"><semantics id="S4.SS7.SSS1.p4.3.m2.1a"><mrow id="S4.SS7.SSS1.p4.3.m2.1.1" xref="S4.SS7.SSS1.p4.3.m2.1.1.cmml"><msub id="S4.SS7.SSS1.p4.3.m2.1.1.2" xref="S4.SS7.SSS1.p4.3.m2.1.1.2.cmml"><mi id="S4.SS7.SSS1.p4.3.m2.1.1.2.2" xref="S4.SS7.SSS1.p4.3.m2.1.1.2.2.cmml">rank</mi><mi id="S4.SS7.SSS1.p4.3.m2.1.1.2.3" xref="S4.SS7.SSS1.p4.3.m2.1.1.2.3.cmml">i</mi></msub><mo id="S4.SS7.SSS1.p4.3.m2.1.1.1" xref="S4.SS7.SSS1.p4.3.m2.1.1.1.cmml">&gt;</mo><mi id="S4.SS7.SSS1.p4.3.m2.1.1.3" xref="S4.SS7.SSS1.p4.3.m2.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p4.3.m2.1b"><apply id="S4.SS7.SSS1.p4.3.m2.1.1.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1"><gt id="S4.SS7.SSS1.p4.3.m2.1.1.1.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.1"></gt><apply id="S4.SS7.SSS1.p4.3.m2.1.1.2.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p4.3.m2.1.1.2.1.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.2">subscript</csymbol><ci id="S4.SS7.SSS1.p4.3.m2.1.1.2.2.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.2.2">rank</ci><ci id="S4.SS7.SSS1.p4.3.m2.1.1.2.3.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.2.3">𝑖</ci></apply><ci id="S4.SS7.SSS1.p4.3.m2.1.1.3.cmml" xref="S4.SS7.SSS1.p4.3.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p4.3.m2.1c">\operatorname{rank}_{i}&gt;k</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p4.3.m2.1d">roman_rank start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT &gt; italic_k</annotation></semantics></math>.
We aim to maximize <math alttext="\operatorname{R_{k}}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p4.4.m3.1"><semantics id="S4.SS7.SSS1.p4.4.m3.1a"><msub id="S4.SS7.SSS1.p4.4.m3.1.1" xref="S4.SS7.SSS1.p4.4.m3.1.1.cmml"><mi id="S4.SS7.SSS1.p4.4.m3.1.1.2" mathvariant="normal" xref="S4.SS7.SSS1.p4.4.m3.1.1.2.cmml">R</mi><mi id="S4.SS7.SSS1.p4.4.m3.1.1.3" mathvariant="normal" xref="S4.SS7.SSS1.p4.4.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p4.4.m3.1b"><apply id="S4.SS7.SSS1.p4.4.m3.1.1.cmml" xref="S4.SS7.SSS1.p4.4.m3.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p4.4.m3.1.1.1.cmml" xref="S4.SS7.SSS1.p4.4.m3.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p4.4.m3.1.1.2.cmml" xref="S4.SS7.SSS1.p4.4.m3.1.1.2">R</ci><ci id="S4.SS7.SSS1.p4.4.m3.1.1.3.cmml" xref="S4.SS7.SSS1.p4.4.m3.1.1.3">k</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p4.4.m3.1c">\operatorname{R_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p4.4.m3.1d">roman_R start_POSTSUBSCRIPT roman_k end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\operatorname{MRR}_{k}" class="ltx_Math" display="inline" id="S4.SS7.SSS1.p4.5.m4.1"><semantics id="S4.SS7.SSS1.p4.5.m4.1a"><msub id="S4.SS7.SSS1.p4.5.m4.1.1" xref="S4.SS7.SSS1.p4.5.m4.1.1.cmml"><mi id="S4.SS7.SSS1.p4.5.m4.1.1.2" xref="S4.SS7.SSS1.p4.5.m4.1.1.2.cmml">MRR</mi><mi id="S4.SS7.SSS1.p4.5.m4.1.1.3" xref="S4.SS7.SSS1.p4.5.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS1.p4.5.m4.1b"><apply id="S4.SS7.SSS1.p4.5.m4.1.1.cmml" xref="S4.SS7.SSS1.p4.5.m4.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS1.p4.5.m4.1.1.1.cmml" xref="S4.SS7.SSS1.p4.5.m4.1.1">subscript</csymbol><ci id="S4.SS7.SSS1.p4.5.m4.1.1.2.cmml" xref="S4.SS7.SSS1.p4.5.m4.1.1.2">MRR</ci><ci id="S4.SS7.SSS1.p4.5.m4.1.1.3.cmml" xref="S4.SS7.SSS1.p4.5.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS1.p4.5.m4.1c">\operatorname{MRR}_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS1.p4.5.m4.1d">roman_MRR start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> to their optimal value of 1.
When comparing single-token metric results, we must be cautious when comparing results obtained with different tokenizations, as the size and content of the vocabularies affect the obtained values.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS7.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.7.2 </span>Multi-token predictions</h4>
<div class="ltx_para" id="S4.SS7.SSS2.p1">
<p class="ltx_p" id="S4.SS7.SSS2.p1.8">For multi-token predictions, we evaluate the quality of code completion, not only based on the prediction of the next token, but on generating multiple tokens.
We calculate metrics on <em class="ltx_emph ltx_font_italic" id="S4.SS7.SSS2.p1.8.1">strings</em>, removing leading and trailing whitespace from the strings <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib33" title="">2022</a>; Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite>.
Let <math alttext="s" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.1.m1.1"><semantics id="S4.SS7.SSS2.p1.1.m1.1a"><mi id="S4.SS7.SSS2.p1.1.m1.1.1" xref="S4.SS7.SSS2.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.1.m1.1b"><ci id="S4.SS7.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS7.SSS2.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.1.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.1.m1.1d">italic_s</annotation></semantics></math> be the model’s prediction and <math alttext="t" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.2.m2.1"><semantics id="S4.SS7.SSS2.p1.2.m2.1a"><mi id="S4.SS7.SSS2.p1.2.m2.1.1" xref="S4.SS7.SSS2.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.2.m2.1b"><ci id="S4.SS7.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS7.SSS2.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.2.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.2.m2.1d">italic_t</annotation></semantics></math> the target string.
Exact Match <math alttext="\operatorname{EM}(s,t)\in\{0,1\}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.3.m3.5"><semantics id="S4.SS7.SSS2.p1.3.m3.5a"><mrow id="S4.SS7.SSS2.p1.3.m3.5.6" xref="S4.SS7.SSS2.p1.3.m3.5.6.cmml"><mrow id="S4.SS7.SSS2.p1.3.m3.5.6.2.2" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml"><mi id="S4.SS7.SSS2.p1.3.m3.1.1" xref="S4.SS7.SSS2.p1.3.m3.1.1.cmml">EM</mi><mo id="S4.SS7.SSS2.p1.3.m3.5.6.2.2a" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml">⁡</mo><mrow id="S4.SS7.SSS2.p1.3.m3.5.6.2.2.1" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml"><mo id="S4.SS7.SSS2.p1.3.m3.5.6.2.2.1.1" stretchy="false" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.3.m3.2.2" xref="S4.SS7.SSS2.p1.3.m3.2.2.cmml">s</mi><mo id="S4.SS7.SSS2.p1.3.m3.5.6.2.2.1.2" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.3.m3.3.3" xref="S4.SS7.SSS2.p1.3.m3.3.3.cmml">t</mi><mo id="S4.SS7.SSS2.p1.3.m3.5.6.2.2.1.3" stretchy="false" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml">)</mo></mrow></mrow><mo id="S4.SS7.SSS2.p1.3.m3.5.6.1" xref="S4.SS7.SSS2.p1.3.m3.5.6.1.cmml">∈</mo><mrow id="S4.SS7.SSS2.p1.3.m3.5.6.3.2" xref="S4.SS7.SSS2.p1.3.m3.5.6.3.1.cmml"><mo id="S4.SS7.SSS2.p1.3.m3.5.6.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p1.3.m3.5.6.3.1.cmml">{</mo><mn id="S4.SS7.SSS2.p1.3.m3.4.4" xref="S4.SS7.SSS2.p1.3.m3.4.4.cmml">0</mn><mo id="S4.SS7.SSS2.p1.3.m3.5.6.3.2.2" xref="S4.SS7.SSS2.p1.3.m3.5.6.3.1.cmml">,</mo><mn id="S4.SS7.SSS2.p1.3.m3.5.5" xref="S4.SS7.SSS2.p1.3.m3.5.5.cmml">1</mn><mo id="S4.SS7.SSS2.p1.3.m3.5.6.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p1.3.m3.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.3.m3.5b"><apply id="S4.SS7.SSS2.p1.3.m3.5.6.cmml" xref="S4.SS7.SSS2.p1.3.m3.5.6"><in id="S4.SS7.SSS2.p1.3.m3.5.6.1.cmml" xref="S4.SS7.SSS2.p1.3.m3.5.6.1"></in><apply id="S4.SS7.SSS2.p1.3.m3.5.6.2.1.cmml" xref="S4.SS7.SSS2.p1.3.m3.5.6.2.2"><ci id="S4.SS7.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS7.SSS2.p1.3.m3.1.1">EM</ci><ci id="S4.SS7.SSS2.p1.3.m3.2.2.cmml" xref="S4.SS7.SSS2.p1.3.m3.2.2">𝑠</ci><ci id="S4.SS7.SSS2.p1.3.m3.3.3.cmml" xref="S4.SS7.SSS2.p1.3.m3.3.3">𝑡</ci></apply><set id="S4.SS7.SSS2.p1.3.m3.5.6.3.1.cmml" xref="S4.SS7.SSS2.p1.3.m3.5.6.3.2"><cn id="S4.SS7.SSS2.p1.3.m3.4.4.cmml" type="integer" xref="S4.SS7.SSS2.p1.3.m3.4.4">0</cn><cn id="S4.SS7.SSS2.p1.3.m3.5.5.cmml" type="integer" xref="S4.SS7.SSS2.p1.3.m3.5.5">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.3.m3.5c">\operatorname{EM}(s,t)\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.3.m3.5d">roman_EM ( italic_s , italic_t ) ∈ { 0 , 1 }</annotation></semantics></math> is 1 if the strings <math alttext="s" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.4.m4.1"><semantics id="S4.SS7.SSS2.p1.4.m4.1a"><mi id="S4.SS7.SSS2.p1.4.m4.1.1" xref="S4.SS7.SSS2.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.4.m4.1b"><ci id="S4.SS7.SSS2.p1.4.m4.1.1.cmml" xref="S4.SS7.SSS2.p1.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.4.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.4.m4.1d">italic_s</annotation></semantics></math> and <math alttext="t" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.5.m5.1"><semantics id="S4.SS7.SSS2.p1.5.m5.1a"><mi id="S4.SS7.SSS2.p1.5.m5.1.1" xref="S4.SS7.SSS2.p1.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.5.m5.1b"><ci id="S4.SS7.SSS2.p1.5.m5.1.1.cmml" xref="S4.SS7.SSS2.p1.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.5.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.5.m5.1d">italic_t</annotation></semantics></math> match exactly and 0 otherwise.
Edit Similarity <math alttext="\operatorname{ES}(s,t)\in[0,1]" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.6.m6.5"><semantics id="S4.SS7.SSS2.p1.6.m6.5a"><mrow id="S4.SS7.SSS2.p1.6.m6.5.6" xref="S4.SS7.SSS2.p1.6.m6.5.6.cmml"><mrow id="S4.SS7.SSS2.p1.6.m6.5.6.2.2" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml"><mi id="S4.SS7.SSS2.p1.6.m6.1.1" xref="S4.SS7.SSS2.p1.6.m6.1.1.cmml">ES</mi><mo id="S4.SS7.SSS2.p1.6.m6.5.6.2.2a" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml">⁡</mo><mrow id="S4.SS7.SSS2.p1.6.m6.5.6.2.2.1" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml"><mo id="S4.SS7.SSS2.p1.6.m6.5.6.2.2.1.1" stretchy="false" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.6.m6.2.2" xref="S4.SS7.SSS2.p1.6.m6.2.2.cmml">s</mi><mo id="S4.SS7.SSS2.p1.6.m6.5.6.2.2.1.2" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.6.m6.3.3" xref="S4.SS7.SSS2.p1.6.m6.3.3.cmml">t</mi><mo id="S4.SS7.SSS2.p1.6.m6.5.6.2.2.1.3" stretchy="false" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml">)</mo></mrow></mrow><mo id="S4.SS7.SSS2.p1.6.m6.5.6.1" xref="S4.SS7.SSS2.p1.6.m6.5.6.1.cmml">∈</mo><mrow id="S4.SS7.SSS2.p1.6.m6.5.6.3.2" xref="S4.SS7.SSS2.p1.6.m6.5.6.3.1.cmml"><mo id="S4.SS7.SSS2.p1.6.m6.5.6.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p1.6.m6.5.6.3.1.cmml">[</mo><mn id="S4.SS7.SSS2.p1.6.m6.4.4" xref="S4.SS7.SSS2.p1.6.m6.4.4.cmml">0</mn><mo id="S4.SS7.SSS2.p1.6.m6.5.6.3.2.2" xref="S4.SS7.SSS2.p1.6.m6.5.6.3.1.cmml">,</mo><mn id="S4.SS7.SSS2.p1.6.m6.5.5" xref="S4.SS7.SSS2.p1.6.m6.5.5.cmml">1</mn><mo id="S4.SS7.SSS2.p1.6.m6.5.6.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p1.6.m6.5.6.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.6.m6.5b"><apply id="S4.SS7.SSS2.p1.6.m6.5.6.cmml" xref="S4.SS7.SSS2.p1.6.m6.5.6"><in id="S4.SS7.SSS2.p1.6.m6.5.6.1.cmml" xref="S4.SS7.SSS2.p1.6.m6.5.6.1"></in><apply id="S4.SS7.SSS2.p1.6.m6.5.6.2.1.cmml" xref="S4.SS7.SSS2.p1.6.m6.5.6.2.2"><ci id="S4.SS7.SSS2.p1.6.m6.1.1.cmml" xref="S4.SS7.SSS2.p1.6.m6.1.1">ES</ci><ci id="S4.SS7.SSS2.p1.6.m6.2.2.cmml" xref="S4.SS7.SSS2.p1.6.m6.2.2">𝑠</ci><ci id="S4.SS7.SSS2.p1.6.m6.3.3.cmml" xref="S4.SS7.SSS2.p1.6.m6.3.3">𝑡</ci></apply><interval closure="closed" id="S4.SS7.SSS2.p1.6.m6.5.6.3.1.cmml" xref="S4.SS7.SSS2.p1.6.m6.5.6.3.2"><cn id="S4.SS7.SSS2.p1.6.m6.4.4.cmml" type="integer" xref="S4.SS7.SSS2.p1.6.m6.4.4">0</cn><cn id="S4.SS7.SSS2.p1.6.m6.5.5.cmml" type="integer" xref="S4.SS7.SSS2.p1.6.m6.5.5">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.6.m6.5c">\operatorname{ES}(s,t)\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.6.m6.5d">roman_ES ( italic_s , italic_t ) ∈ [ 0 , 1 ]</annotation></semantics></math> considers how many edits are needed to transform <math alttext="s" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.7.m7.1"><semantics id="S4.SS7.SSS2.p1.7.m7.1a"><mi id="S4.SS7.SSS2.p1.7.m7.1.1" xref="S4.SS7.SSS2.p1.7.m7.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.7.m7.1b"><ci id="S4.SS7.SSS2.p1.7.m7.1.1.cmml" xref="S4.SS7.SSS2.p1.7.m7.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.7.m7.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.7.m7.1d">italic_s</annotation></semantics></math> into <math alttext="t" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.8.m8.1"><semantics id="S4.SS7.SSS2.p1.8.m8.1a"><mi id="S4.SS7.SSS2.p1.8.m8.1.1" xref="S4.SS7.SSS2.p1.8.m8.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.8.m8.1b"><ci id="S4.SS7.SSS2.p1.8.m8.1.1.cmml" xref="S4.SS7.SSS2.p1.8.m8.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.8.m8.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.8.m8.1d">italic_t</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.Ex6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\operatorname{ES}(s,t)=1-\frac{\operatorname{lev}(s,t)}{\max(|s|,|t|)}," class="ltx_Math" display="block" id="S4.Ex6.m1.12"><semantics id="S4.Ex6.m1.12a"><mrow id="S4.Ex6.m1.12.12.1" xref="S4.Ex6.m1.12.12.1.1.cmml"><mrow id="S4.Ex6.m1.12.12.1.1" xref="S4.Ex6.m1.12.12.1.1.cmml"><mrow id="S4.Ex6.m1.12.12.1.1.2.2" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml"><mi id="S4.Ex6.m1.9.9" xref="S4.Ex6.m1.9.9.cmml">ES</mi><mo id="S4.Ex6.m1.12.12.1.1.2.2a" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml">⁡</mo><mrow id="S4.Ex6.m1.12.12.1.1.2.2.1" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml"><mo id="S4.Ex6.m1.12.12.1.1.2.2.1.1" stretchy="false" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml">(</mo><mi id="S4.Ex6.m1.10.10" xref="S4.Ex6.m1.10.10.cmml">s</mi><mo id="S4.Ex6.m1.12.12.1.1.2.2.1.2" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml">,</mo><mi id="S4.Ex6.m1.11.11" xref="S4.Ex6.m1.11.11.cmml">t</mi><mo id="S4.Ex6.m1.12.12.1.1.2.2.1.3" stretchy="false" xref="S4.Ex6.m1.12.12.1.1.2.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex6.m1.12.12.1.1.1" xref="S4.Ex6.m1.12.12.1.1.1.cmml">=</mo><mrow id="S4.Ex6.m1.12.12.1.1.3" xref="S4.Ex6.m1.12.12.1.1.3.cmml"><mn id="S4.Ex6.m1.12.12.1.1.3.2" xref="S4.Ex6.m1.12.12.1.1.3.2.cmml">1</mn><mo id="S4.Ex6.m1.12.12.1.1.3.1" xref="S4.Ex6.m1.12.12.1.1.3.1.cmml">−</mo><mfrac id="S4.Ex6.m1.8.8" xref="S4.Ex6.m1.8.8.cmml"><mrow id="S4.Ex6.m1.3.3.3.5" xref="S4.Ex6.m1.3.3.3.4.cmml"><mi id="S4.Ex6.m1.1.1.1.1" xref="S4.Ex6.m1.1.1.1.1.cmml">lev</mi><mo id="S4.Ex6.m1.3.3.3.5a" xref="S4.Ex6.m1.3.3.3.4.cmml">⁡</mo><mrow id="S4.Ex6.m1.3.3.3.5.1" xref="S4.Ex6.m1.3.3.3.4.cmml"><mo id="S4.Ex6.m1.3.3.3.5.1.1" stretchy="false" xref="S4.Ex6.m1.3.3.3.4.cmml">(</mo><mi id="S4.Ex6.m1.2.2.2.2" xref="S4.Ex6.m1.2.2.2.2.cmml">s</mi><mo id="S4.Ex6.m1.3.3.3.5.1.2" xref="S4.Ex6.m1.3.3.3.4.cmml">,</mo><mi id="S4.Ex6.m1.3.3.3.3" xref="S4.Ex6.m1.3.3.3.3.cmml">t</mi><mo id="S4.Ex6.m1.3.3.3.5.1.3" stretchy="false" xref="S4.Ex6.m1.3.3.3.4.cmml">)</mo></mrow></mrow><mrow id="S4.Ex6.m1.8.8.8.5" xref="S4.Ex6.m1.8.8.8.6.cmml"><mi id="S4.Ex6.m1.6.6.6.3" xref="S4.Ex6.m1.6.6.6.3.cmml">max</mi><mo id="S4.Ex6.m1.8.8.8.5a" xref="S4.Ex6.m1.8.8.8.6.cmml">⁡</mo><mrow id="S4.Ex6.m1.8.8.8.5.2" xref="S4.Ex6.m1.8.8.8.6.cmml"><mo id="S4.Ex6.m1.8.8.8.5.2.3" stretchy="false" xref="S4.Ex6.m1.8.8.8.6.cmml">(</mo><mrow id="S4.Ex6.m1.7.7.7.4.1.1.2" xref="S4.Ex6.m1.7.7.7.4.1.1.1.cmml"><mo id="S4.Ex6.m1.7.7.7.4.1.1.2.1" stretchy="false" xref="S4.Ex6.m1.7.7.7.4.1.1.1.1.cmml">|</mo><mi id="S4.Ex6.m1.4.4.4.1" xref="S4.Ex6.m1.4.4.4.1.cmml">s</mi><mo id="S4.Ex6.m1.7.7.7.4.1.1.2.2" stretchy="false" xref="S4.Ex6.m1.7.7.7.4.1.1.1.1.cmml">|</mo></mrow><mo id="S4.Ex6.m1.8.8.8.5.2.4" xref="S4.Ex6.m1.8.8.8.6.cmml">,</mo><mrow id="S4.Ex6.m1.8.8.8.5.2.2.2" xref="S4.Ex6.m1.8.8.8.5.2.2.1.cmml"><mo id="S4.Ex6.m1.8.8.8.5.2.2.2.1" stretchy="false" xref="S4.Ex6.m1.8.8.8.5.2.2.1.1.cmml">|</mo><mi id="S4.Ex6.m1.5.5.5.2" xref="S4.Ex6.m1.5.5.5.2.cmml">t</mi><mo id="S4.Ex6.m1.8.8.8.5.2.2.2.2" stretchy="false" xref="S4.Ex6.m1.8.8.8.5.2.2.1.1.cmml">|</mo></mrow><mo id="S4.Ex6.m1.8.8.8.5.2.5" stretchy="false" xref="S4.Ex6.m1.8.8.8.6.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.Ex6.m1.12.12.1.2" xref="S4.Ex6.m1.12.12.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex6.m1.12b"><apply id="S4.Ex6.m1.12.12.1.1.cmml" xref="S4.Ex6.m1.12.12.1"><eq id="S4.Ex6.m1.12.12.1.1.1.cmml" xref="S4.Ex6.m1.12.12.1.1.1"></eq><apply id="S4.Ex6.m1.12.12.1.1.2.1.cmml" xref="S4.Ex6.m1.12.12.1.1.2.2"><ci id="S4.Ex6.m1.9.9.cmml" xref="S4.Ex6.m1.9.9">ES</ci><ci id="S4.Ex6.m1.10.10.cmml" xref="S4.Ex6.m1.10.10">𝑠</ci><ci id="S4.Ex6.m1.11.11.cmml" xref="S4.Ex6.m1.11.11">𝑡</ci></apply><apply id="S4.Ex6.m1.12.12.1.1.3.cmml" xref="S4.Ex6.m1.12.12.1.1.3"><minus id="S4.Ex6.m1.12.12.1.1.3.1.cmml" xref="S4.Ex6.m1.12.12.1.1.3.1"></minus><cn id="S4.Ex6.m1.12.12.1.1.3.2.cmml" type="integer" xref="S4.Ex6.m1.12.12.1.1.3.2">1</cn><apply id="S4.Ex6.m1.8.8.cmml" xref="S4.Ex6.m1.8.8"><divide id="S4.Ex6.m1.8.8.9.cmml" xref="S4.Ex6.m1.8.8"></divide><apply id="S4.Ex6.m1.3.3.3.4.cmml" xref="S4.Ex6.m1.3.3.3.5"><ci id="S4.Ex6.m1.1.1.1.1.cmml" xref="S4.Ex6.m1.1.1.1.1">lev</ci><ci id="S4.Ex6.m1.2.2.2.2.cmml" xref="S4.Ex6.m1.2.2.2.2">𝑠</ci><ci id="S4.Ex6.m1.3.3.3.3.cmml" xref="S4.Ex6.m1.3.3.3.3">𝑡</ci></apply><apply id="S4.Ex6.m1.8.8.8.6.cmml" xref="S4.Ex6.m1.8.8.8.5"><max id="S4.Ex6.m1.6.6.6.3.cmml" xref="S4.Ex6.m1.6.6.6.3"></max><apply id="S4.Ex6.m1.7.7.7.4.1.1.1.cmml" xref="S4.Ex6.m1.7.7.7.4.1.1.2"><abs id="S4.Ex6.m1.7.7.7.4.1.1.1.1.cmml" xref="S4.Ex6.m1.7.7.7.4.1.1.2.1"></abs><ci id="S4.Ex6.m1.4.4.4.1.cmml" xref="S4.Ex6.m1.4.4.4.1">𝑠</ci></apply><apply id="S4.Ex6.m1.8.8.8.5.2.2.1.cmml" xref="S4.Ex6.m1.8.8.8.5.2.2.2"><abs id="S4.Ex6.m1.8.8.8.5.2.2.1.1.cmml" xref="S4.Ex6.m1.8.8.8.5.2.2.2.1"></abs><ci id="S4.Ex6.m1.5.5.5.2.cmml" xref="S4.Ex6.m1.5.5.5.2">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex6.m1.12c">\operatorname{ES}(s,t)=1-\frac{\operatorname{lev}(s,t)}{\max(|s|,|t|)},</annotation><annotation encoding="application/x-llamapun" id="S4.Ex6.m1.12d">roman_ES ( italic_s , italic_t ) = 1 - divide start_ARG roman_lev ( italic_s , italic_t ) end_ARG start_ARG roman_max ( | italic_s | , | italic_t | ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS7.SSS2.p1.15">where <math alttext="\operatorname{lev}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.9.m1.1"><semantics id="S4.SS7.SSS2.p1.9.m1.1a"><mi id="S4.SS7.SSS2.p1.9.m1.1.1" xref="S4.SS7.SSS2.p1.9.m1.1.1.cmml">lev</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.9.m1.1b"><ci id="S4.SS7.SSS2.p1.9.m1.1.1.cmml" xref="S4.SS7.SSS2.p1.9.m1.1.1">lev</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.9.m1.1c">\operatorname{lev}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.9.m1.1d">roman_lev</annotation></semantics></math> is the Levenshtein distance <cite class="ltx_cite ltx_citemacro_citep">(Levenshtein et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib26" title="">1966</a>)</cite>.
When combining multiple pairs <math alttext="(s,t)" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.10.m2.2"><semantics id="S4.SS7.SSS2.p1.10.m2.2a"><mrow id="S4.SS7.SSS2.p1.10.m2.2.3.2" xref="S4.SS7.SSS2.p1.10.m2.2.3.1.cmml"><mo id="S4.SS7.SSS2.p1.10.m2.2.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p1.10.m2.2.3.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.10.m2.1.1" xref="S4.SS7.SSS2.p1.10.m2.1.1.cmml">s</mi><mo id="S4.SS7.SSS2.p1.10.m2.2.3.2.2" xref="S4.SS7.SSS2.p1.10.m2.2.3.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.10.m2.2.2" xref="S4.SS7.SSS2.p1.10.m2.2.2.cmml">t</mi><mo id="S4.SS7.SSS2.p1.10.m2.2.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p1.10.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.10.m2.2b"><interval closure="open" id="S4.SS7.SSS2.p1.10.m2.2.3.1.cmml" xref="S4.SS7.SSS2.p1.10.m2.2.3.2"><ci id="S4.SS7.SSS2.p1.10.m2.1.1.cmml" xref="S4.SS7.SSS2.p1.10.m2.1.1">𝑠</ci><ci id="S4.SS7.SSS2.p1.10.m2.2.2.cmml" xref="S4.SS7.SSS2.p1.10.m2.2.2">𝑡</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.10.m2.2c">(s,t)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.10.m2.2d">( italic_s , italic_t )</annotation></semantics></math> from a sample of predicted and target results <math alttext="\mathcal{Y}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.11.m3.1"><semantics id="S4.SS7.SSS2.p1.11.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.SSS2.p1.11.m3.1.1" xref="S4.SS7.SSS2.p1.11.m3.1.1.cmml">𝒴</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.11.m3.1b"><ci id="S4.SS7.SSS2.p1.11.m3.1.1.cmml" xref="S4.SS7.SSS2.p1.11.m3.1.1">𝒴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.11.m3.1c">\mathcal{Y}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.11.m3.1d">caligraphic_Y</annotation></semantics></math> for <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.12.m4.1"><semantics id="S4.SS7.SSS2.p1.12.m4.1a"><mi id="S4.SS7.SSS2.p1.12.m4.1.1" xref="S4.SS7.SSS2.p1.12.m4.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.12.m4.1b"><ci id="S4.SS7.SSS2.p1.12.m4.1.1.cmml" xref="S4.SS7.SSS2.p1.12.m4.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.12.m4.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.12.m4.1d">roman_EM</annotation></semantics></math> and <math alttext="\operatorname{ES}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.13.m5.1"><semantics id="S4.SS7.SSS2.p1.13.m5.1a"><mi id="S4.SS7.SSS2.p1.13.m5.1.1" xref="S4.SS7.SSS2.p1.13.m5.1.1.cmml">ES</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.13.m5.1b"><ci id="S4.SS7.SSS2.p1.13.m5.1.1.cmml" xref="S4.SS7.SSS2.p1.13.m5.1.1">ES</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.13.m5.1c">\operatorname{ES}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.13.m5.1d">roman_ES</annotation></semantics></math>, we calculate the average, <math alttext="\operatorname{EM}=\frac{1}{n}\sum_{(s,t)\in\mathcal{Y}}\operatorname{EM}(s,t)" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.14.m6.5"><semantics id="S4.SS7.SSS2.p1.14.m6.5a"><mrow id="S4.SS7.SSS2.p1.14.m6.5.6" xref="S4.SS7.SSS2.p1.14.m6.5.6.cmml"><mi id="S4.SS7.SSS2.p1.14.m6.5.6.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.2.cmml">EM</mi><mo id="S4.SS7.SSS2.p1.14.m6.5.6.1" xref="S4.SS7.SSS2.p1.14.m6.5.6.1.cmml">=</mo><mrow id="S4.SS7.SSS2.p1.14.m6.5.6.3" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.cmml"><mfrac id="S4.SS7.SSS2.p1.14.m6.5.6.3.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2.cmml"><mn id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2.2.cmml">1</mn><mi id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.3" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2.3.cmml">n</mi></mfrac><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.1" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.1.cmml">⁢</mo><mrow id="S4.SS7.SSS2.p1.14.m6.5.6.3.3" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.cmml"><msub id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.cmml"><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.2.cmml">∑</mo><mrow id="S4.SS7.SSS2.p1.14.m6.2.2.2" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.cmml"><mrow id="S4.SS7.SSS2.p1.14.m6.2.2.2.4.2" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.4.1.cmml"><mo id="S4.SS7.SSS2.p1.14.m6.2.2.2.4.2.1" stretchy="false" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.4.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.14.m6.1.1.1.1" xref="S4.SS7.SSS2.p1.14.m6.1.1.1.1.cmml">s</mi><mo id="S4.SS7.SSS2.p1.14.m6.2.2.2.4.2.2" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.4.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.14.m6.2.2.2.2" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.2.cmml">t</mi><mo id="S4.SS7.SSS2.p1.14.m6.2.2.2.4.2.3" stretchy="false" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.4.1.cmml">)</mo></mrow><mo id="S4.SS7.SSS2.p1.14.m6.2.2.2.3" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS7.SSS2.p1.14.m6.2.2.2.5" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.5.cmml">𝒴</mi></mrow></msub><mrow id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml"><mi id="S4.SS7.SSS2.p1.14.m6.3.3" xref="S4.SS7.SSS2.p1.14.m6.3.3.cmml">EM</mi><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2a" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml">⁡</mo><mrow id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2.1" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml"><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2.1.1" stretchy="false" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.14.m6.4.4" xref="S4.SS7.SSS2.p1.14.m6.4.4.cmml">s</mi><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2.1.2" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.14.m6.5.5" xref="S4.SS7.SSS2.p1.14.m6.5.5.cmml">t</mi><mo id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2.1.3" stretchy="false" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.14.m6.5b"><apply id="S4.SS7.SSS2.p1.14.m6.5.6.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6"><eq id="S4.SS7.SSS2.p1.14.m6.5.6.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.1"></eq><ci id="S4.SS7.SSS2.p1.14.m6.5.6.2.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.2">EM</ci><apply id="S4.SS7.SSS2.p1.14.m6.5.6.3.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3"><times id="S4.SS7.SSS2.p1.14.m6.5.6.3.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.1"></times><apply id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2"><divide id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2"></divide><cn id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.2.cmml" type="integer" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2.2">1</cn><ci id="S4.SS7.SSS2.p1.14.m6.5.6.3.2.3.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.2.3">𝑛</ci></apply><apply id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3"><apply id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1"><csymbol cd="ambiguous" id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1">subscript</csymbol><sum id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.2.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.1.2"></sum><apply id="S4.SS7.SSS2.p1.14.m6.2.2.2.cmml" xref="S4.SS7.SSS2.p1.14.m6.2.2.2"><in id="S4.SS7.SSS2.p1.14.m6.2.2.2.3.cmml" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.3"></in><interval closure="open" id="S4.SS7.SSS2.p1.14.m6.2.2.2.4.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.4.2"><ci id="S4.SS7.SSS2.p1.14.m6.1.1.1.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.1.1.1.1">𝑠</ci><ci id="S4.SS7.SSS2.p1.14.m6.2.2.2.2.cmml" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.2">𝑡</ci></interval><ci id="S4.SS7.SSS2.p1.14.m6.2.2.2.5.cmml" xref="S4.SS7.SSS2.p1.14.m6.2.2.2.5">𝒴</ci></apply></apply><apply id="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.1.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.6.3.3.2.2"><ci id="S4.SS7.SSS2.p1.14.m6.3.3.cmml" xref="S4.SS7.SSS2.p1.14.m6.3.3">EM</ci><ci id="S4.SS7.SSS2.p1.14.m6.4.4.cmml" xref="S4.SS7.SSS2.p1.14.m6.4.4">𝑠</ci><ci id="S4.SS7.SSS2.p1.14.m6.5.5.cmml" xref="S4.SS7.SSS2.p1.14.m6.5.5">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.14.m6.5c">\operatorname{EM}=\frac{1}{n}\sum_{(s,t)\in\mathcal{Y}}\operatorname{EM}(s,t)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.14.m6.5d">roman_EM = divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT ( italic_s , italic_t ) ∈ caligraphic_Y end_POSTSUBSCRIPT roman_EM ( italic_s , italic_t )</annotation></semantics></math> and similarly <math alttext="\operatorname{ES}=\frac{1}{n}\sum_{(s,t)\in\mathcal{Y}}\operatorname{ES}(s,t)" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p1.15.m7.5"><semantics id="S4.SS7.SSS2.p1.15.m7.5a"><mrow id="S4.SS7.SSS2.p1.15.m7.5.6" xref="S4.SS7.SSS2.p1.15.m7.5.6.cmml"><mi id="S4.SS7.SSS2.p1.15.m7.5.6.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.2.cmml">ES</mi><mo id="S4.SS7.SSS2.p1.15.m7.5.6.1" xref="S4.SS7.SSS2.p1.15.m7.5.6.1.cmml">=</mo><mrow id="S4.SS7.SSS2.p1.15.m7.5.6.3" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.cmml"><mfrac id="S4.SS7.SSS2.p1.15.m7.5.6.3.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2.cmml"><mn id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2.2.cmml">1</mn><mi id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.3" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2.3.cmml">n</mi></mfrac><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.1" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.1.cmml">⁢</mo><mrow id="S4.SS7.SSS2.p1.15.m7.5.6.3.3" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.cmml"><msub id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.cmml"><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.2.cmml">∑</mo><mrow id="S4.SS7.SSS2.p1.15.m7.2.2.2" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.cmml"><mrow id="S4.SS7.SSS2.p1.15.m7.2.2.2.4.2" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.4.1.cmml"><mo id="S4.SS7.SSS2.p1.15.m7.2.2.2.4.2.1" stretchy="false" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.4.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.15.m7.1.1.1.1" xref="S4.SS7.SSS2.p1.15.m7.1.1.1.1.cmml">s</mi><mo id="S4.SS7.SSS2.p1.15.m7.2.2.2.4.2.2" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.4.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.15.m7.2.2.2.2" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.2.cmml">t</mi><mo id="S4.SS7.SSS2.p1.15.m7.2.2.2.4.2.3" stretchy="false" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.4.1.cmml">)</mo></mrow><mo id="S4.SS7.SSS2.p1.15.m7.2.2.2.3" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS7.SSS2.p1.15.m7.2.2.2.5" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.5.cmml">𝒴</mi></mrow></msub><mrow id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml"><mi id="S4.SS7.SSS2.p1.15.m7.3.3" xref="S4.SS7.SSS2.p1.15.m7.3.3.cmml">ES</mi><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2a" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml">⁡</mo><mrow id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2.1" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml"><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2.1.1" stretchy="false" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml">(</mo><mi id="S4.SS7.SSS2.p1.15.m7.4.4" xref="S4.SS7.SSS2.p1.15.m7.4.4.cmml">s</mi><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2.1.2" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml">,</mo><mi id="S4.SS7.SSS2.p1.15.m7.5.5" xref="S4.SS7.SSS2.p1.15.m7.5.5.cmml">t</mi><mo id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2.1.3" stretchy="false" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p1.15.m7.5b"><apply id="S4.SS7.SSS2.p1.15.m7.5.6.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6"><eq id="S4.SS7.SSS2.p1.15.m7.5.6.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.1"></eq><ci id="S4.SS7.SSS2.p1.15.m7.5.6.2.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.2">ES</ci><apply id="S4.SS7.SSS2.p1.15.m7.5.6.3.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3"><times id="S4.SS7.SSS2.p1.15.m7.5.6.3.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.1"></times><apply id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2"><divide id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2"></divide><cn id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.2.cmml" type="integer" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2.2">1</cn><ci id="S4.SS7.SSS2.p1.15.m7.5.6.3.2.3.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.2.3">𝑛</ci></apply><apply id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3"><apply id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1"><csymbol cd="ambiguous" id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1">subscript</csymbol><sum id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.2.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.1.2"></sum><apply id="S4.SS7.SSS2.p1.15.m7.2.2.2.cmml" xref="S4.SS7.SSS2.p1.15.m7.2.2.2"><in id="S4.SS7.SSS2.p1.15.m7.2.2.2.3.cmml" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.3"></in><interval closure="open" id="S4.SS7.SSS2.p1.15.m7.2.2.2.4.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.4.2"><ci id="S4.SS7.SSS2.p1.15.m7.1.1.1.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.1.1.1.1">𝑠</ci><ci id="S4.SS7.SSS2.p1.15.m7.2.2.2.2.cmml" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.2">𝑡</ci></interval><ci id="S4.SS7.SSS2.p1.15.m7.2.2.2.5.cmml" xref="S4.SS7.SSS2.p1.15.m7.2.2.2.5">𝒴</ci></apply></apply><apply id="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.1.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.6.3.3.2.2"><ci id="S4.SS7.SSS2.p1.15.m7.3.3.cmml" xref="S4.SS7.SSS2.p1.15.m7.3.3">ES</ci><ci id="S4.SS7.SSS2.p1.15.m7.4.4.cmml" xref="S4.SS7.SSS2.p1.15.m7.4.4">𝑠</ci><ci id="S4.SS7.SSS2.p1.15.m7.5.5.cmml" xref="S4.SS7.SSS2.p1.15.m7.5.5">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p1.15.m7.5c">\operatorname{ES}=\frac{1}{n}\sum_{(s,t)\in\mathcal{Y}}\operatorname{ES}(s,t)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p1.15.m7.5d">roman_ES = divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT ( italic_s , italic_t ) ∈ caligraphic_Y end_POSTSUBSCRIPT roman_ES ( italic_s , italic_t )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS7.SSS2.p2">
<p class="ltx_p" id="S4.SS7.SSS2.p2.4">Prefix Similarity <math alttext="\operatorname{PS}(s,t)\in[0,1]" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.1.m1.5"><semantics id="S4.SS7.SSS2.p2.1.m1.5a"><mrow id="S4.SS7.SSS2.p2.1.m1.5.6" xref="S4.SS7.SSS2.p2.1.m1.5.6.cmml"><mrow id="S4.SS7.SSS2.p2.1.m1.5.6.2.2" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml"><mi id="S4.SS7.SSS2.p2.1.m1.1.1" xref="S4.SS7.SSS2.p2.1.m1.1.1.cmml">PS</mi><mo id="S4.SS7.SSS2.p2.1.m1.5.6.2.2a" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml">⁡</mo><mrow id="S4.SS7.SSS2.p2.1.m1.5.6.2.2.1" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml"><mo id="S4.SS7.SSS2.p2.1.m1.5.6.2.2.1.1" stretchy="false" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml">(</mo><mi id="S4.SS7.SSS2.p2.1.m1.2.2" xref="S4.SS7.SSS2.p2.1.m1.2.2.cmml">s</mi><mo id="S4.SS7.SSS2.p2.1.m1.5.6.2.2.1.2" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml">,</mo><mi id="S4.SS7.SSS2.p2.1.m1.3.3" xref="S4.SS7.SSS2.p2.1.m1.3.3.cmml">t</mi><mo id="S4.SS7.SSS2.p2.1.m1.5.6.2.2.1.3" stretchy="false" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml">)</mo></mrow></mrow><mo id="S4.SS7.SSS2.p2.1.m1.5.6.1" xref="S4.SS7.SSS2.p2.1.m1.5.6.1.cmml">∈</mo><mrow id="S4.SS7.SSS2.p2.1.m1.5.6.3.2" xref="S4.SS7.SSS2.p2.1.m1.5.6.3.1.cmml"><mo id="S4.SS7.SSS2.p2.1.m1.5.6.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p2.1.m1.5.6.3.1.cmml">[</mo><mn id="S4.SS7.SSS2.p2.1.m1.4.4" xref="S4.SS7.SSS2.p2.1.m1.4.4.cmml">0</mn><mo id="S4.SS7.SSS2.p2.1.m1.5.6.3.2.2" xref="S4.SS7.SSS2.p2.1.m1.5.6.3.1.cmml">,</mo><mn id="S4.SS7.SSS2.p2.1.m1.5.5" xref="S4.SS7.SSS2.p2.1.m1.5.5.cmml">1</mn><mo id="S4.SS7.SSS2.p2.1.m1.5.6.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p2.1.m1.5.6.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.1.m1.5b"><apply id="S4.SS7.SSS2.p2.1.m1.5.6.cmml" xref="S4.SS7.SSS2.p2.1.m1.5.6"><in id="S4.SS7.SSS2.p2.1.m1.5.6.1.cmml" xref="S4.SS7.SSS2.p2.1.m1.5.6.1"></in><apply id="S4.SS7.SSS2.p2.1.m1.5.6.2.1.cmml" xref="S4.SS7.SSS2.p2.1.m1.5.6.2.2"><ci id="S4.SS7.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS7.SSS2.p2.1.m1.1.1">PS</ci><ci id="S4.SS7.SSS2.p2.1.m1.2.2.cmml" xref="S4.SS7.SSS2.p2.1.m1.2.2">𝑠</ci><ci id="S4.SS7.SSS2.p2.1.m1.3.3.cmml" xref="S4.SS7.SSS2.p2.1.m1.3.3">𝑡</ci></apply><interval closure="closed" id="S4.SS7.SSS2.p2.1.m1.5.6.3.1.cmml" xref="S4.SS7.SSS2.p2.1.m1.5.6.3.2"><cn id="S4.SS7.SSS2.p2.1.m1.4.4.cmml" type="integer" xref="S4.SS7.SSS2.p2.1.m1.4.4">0</cn><cn id="S4.SS7.SSS2.p2.1.m1.5.5.cmml" type="integer" xref="S4.SS7.SSS2.p2.1.m1.5.5">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.1.m1.5c">\operatorname{PS}(s,t)\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.1.m1.5d">roman_PS ( italic_s , italic_t ) ∈ [ 0 , 1 ]</annotation></semantics></math> measures the prefix matching of characters in the strings <math alttext="s" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.2.m2.1"><semantics id="S4.SS7.SSS2.p2.2.m2.1a"><mi id="S4.SS7.SSS2.p2.2.m2.1.1" xref="S4.SS7.SSS2.p2.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.2.m2.1b"><ci id="S4.SS7.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS7.SSS2.p2.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.2.m2.1d">italic_s</annotation></semantics></math> and <math alttext="t" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.3.m3.1"><semantics id="S4.SS7.SSS2.p2.3.m3.1a"><mi id="S4.SS7.SSS2.p2.3.m3.1.1" xref="S4.SS7.SSS2.p2.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.3.m3.1b"><ci id="S4.SS7.SSS2.p2.3.m3.1.1.cmml" xref="S4.SS7.SSS2.p2.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.3.m3.1d">italic_t</annotation></semantics></math>.
For <math alttext="\operatorname{PS}\in[0,1]" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.4.m4.2"><semantics id="S4.SS7.SSS2.p2.4.m4.2a"><mrow id="S4.SS7.SSS2.p2.4.m4.2.3" xref="S4.SS7.SSS2.p2.4.m4.2.3.cmml"><mi id="S4.SS7.SSS2.p2.4.m4.2.3.2" xref="S4.SS7.SSS2.p2.4.m4.2.3.2.cmml">PS</mi><mo id="S4.SS7.SSS2.p2.4.m4.2.3.1" xref="S4.SS7.SSS2.p2.4.m4.2.3.1.cmml">∈</mo><mrow id="S4.SS7.SSS2.p2.4.m4.2.3.3.2" xref="S4.SS7.SSS2.p2.4.m4.2.3.3.1.cmml"><mo id="S4.SS7.SSS2.p2.4.m4.2.3.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p2.4.m4.2.3.3.1.cmml">[</mo><mn id="S4.SS7.SSS2.p2.4.m4.1.1" xref="S4.SS7.SSS2.p2.4.m4.1.1.cmml">0</mn><mo id="S4.SS7.SSS2.p2.4.m4.2.3.3.2.2" xref="S4.SS7.SSS2.p2.4.m4.2.3.3.1.cmml">,</mo><mn id="S4.SS7.SSS2.p2.4.m4.2.2" xref="S4.SS7.SSS2.p2.4.m4.2.2.cmml">1</mn><mo id="S4.SS7.SSS2.p2.4.m4.2.3.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p2.4.m4.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.4.m4.2b"><apply id="S4.SS7.SSS2.p2.4.m4.2.3.cmml" xref="S4.SS7.SSS2.p2.4.m4.2.3"><in id="S4.SS7.SSS2.p2.4.m4.2.3.1.cmml" xref="S4.SS7.SSS2.p2.4.m4.2.3.1"></in><ci id="S4.SS7.SSS2.p2.4.m4.2.3.2.cmml" xref="S4.SS7.SSS2.p2.4.m4.2.3.2">PS</ci><interval closure="closed" id="S4.SS7.SSS2.p2.4.m4.2.3.3.1.cmml" xref="S4.SS7.SSS2.p2.4.m4.2.3.3.2"><cn id="S4.SS7.SSS2.p2.4.m4.1.1.cmml" type="integer" xref="S4.SS7.SSS2.p2.4.m4.1.1">0</cn><cn id="S4.SS7.SSS2.p2.4.m4.2.2.cmml" type="integer" xref="S4.SS7.SSS2.p2.4.m4.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.4.m4.2c">\operatorname{PS}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.4.m4.2d">roman_PS ∈ [ 0 , 1 ]</annotation></semantics></math>, we take into account that lines of code have different lengths when combining multiple examples:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.Ex7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\operatorname{PS}=\frac{\sum_{(s,t)\in\mathcal{Y}}|\pi(s,t)|}{\sum_{(\cdot,t)%
\in\mathcal{Y}}|t|}," class="ltx_Math" display="block" id="S4.Ex7.m1.9"><semantics id="S4.Ex7.m1.9a"><mrow id="S4.Ex7.m1.9.9.1" xref="S4.Ex7.m1.9.9.1.1.cmml"><mrow id="S4.Ex7.m1.9.9.1.1" xref="S4.Ex7.m1.9.9.1.1.cmml"><mi id="S4.Ex7.m1.9.9.1.1.2" xref="S4.Ex7.m1.9.9.1.1.2.cmml">PS</mi><mo id="S4.Ex7.m1.9.9.1.1.1" xref="S4.Ex7.m1.9.9.1.1.1.cmml">=</mo><mfrac id="S4.Ex7.m1.8.8" xref="S4.Ex7.m1.8.8.cmml"><mrow id="S4.Ex7.m1.5.5.5" xref="S4.Ex7.m1.5.5.5.cmml"><msub id="S4.Ex7.m1.5.5.5.6" xref="S4.Ex7.m1.5.5.5.6.cmml"><mo id="S4.Ex7.m1.5.5.5.6.2" xref="S4.Ex7.m1.5.5.5.6.2.cmml">∑</mo><mrow id="S4.Ex7.m1.2.2.2.2.2" xref="S4.Ex7.m1.2.2.2.2.2.cmml"><mrow id="S4.Ex7.m1.2.2.2.2.2.4.2" xref="S4.Ex7.m1.2.2.2.2.2.4.1.cmml"><mo id="S4.Ex7.m1.2.2.2.2.2.4.2.1" stretchy="false" xref="S4.Ex7.m1.2.2.2.2.2.4.1.cmml">(</mo><mi id="S4.Ex7.m1.1.1.1.1.1.1" xref="S4.Ex7.m1.1.1.1.1.1.1.cmml">s</mi><mo id="S4.Ex7.m1.2.2.2.2.2.4.2.2" xref="S4.Ex7.m1.2.2.2.2.2.4.1.cmml">,</mo><mi id="S4.Ex7.m1.2.2.2.2.2.2" xref="S4.Ex7.m1.2.2.2.2.2.2.cmml">t</mi><mo id="S4.Ex7.m1.2.2.2.2.2.4.2.3" stretchy="false" xref="S4.Ex7.m1.2.2.2.2.2.4.1.cmml">)</mo></mrow><mo id="S4.Ex7.m1.2.2.2.2.2.3" xref="S4.Ex7.m1.2.2.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.Ex7.m1.2.2.2.2.2.5" xref="S4.Ex7.m1.2.2.2.2.2.5.cmml">𝒴</mi></mrow></msub><mrow id="S4.Ex7.m1.5.5.5.5.1" xref="S4.Ex7.m1.5.5.5.5.2.cmml"><mo id="S4.Ex7.m1.5.5.5.5.1.2" lspace="0em" stretchy="false" xref="S4.Ex7.m1.5.5.5.5.2.1.cmml">|</mo><mrow id="S4.Ex7.m1.5.5.5.5.1.1" xref="S4.Ex7.m1.5.5.5.5.1.1.cmml"><mi id="S4.Ex7.m1.5.5.5.5.1.1.2" xref="S4.Ex7.m1.5.5.5.5.1.1.2.cmml">π</mi><mo id="S4.Ex7.m1.5.5.5.5.1.1.1" xref="S4.Ex7.m1.5.5.5.5.1.1.1.cmml">⁢</mo><mrow id="S4.Ex7.m1.5.5.5.5.1.1.3.2" xref="S4.Ex7.m1.5.5.5.5.1.1.3.1.cmml"><mo id="S4.Ex7.m1.5.5.5.5.1.1.3.2.1" stretchy="false" xref="S4.Ex7.m1.5.5.5.5.1.1.3.1.cmml">(</mo><mi id="S4.Ex7.m1.3.3.3.3" xref="S4.Ex7.m1.3.3.3.3.cmml">s</mi><mo id="S4.Ex7.m1.5.5.5.5.1.1.3.2.2" xref="S4.Ex7.m1.5.5.5.5.1.1.3.1.cmml">,</mo><mi id="S4.Ex7.m1.4.4.4.4" xref="S4.Ex7.m1.4.4.4.4.cmml">t</mi><mo id="S4.Ex7.m1.5.5.5.5.1.1.3.2.3" stretchy="false" xref="S4.Ex7.m1.5.5.5.5.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex7.m1.5.5.5.5.1.3" stretchy="false" xref="S4.Ex7.m1.5.5.5.5.2.1.cmml">|</mo></mrow></mrow><mrow id="S4.Ex7.m1.8.8.8" xref="S4.Ex7.m1.8.8.8.cmml"><msub id="S4.Ex7.m1.8.8.8.4" xref="S4.Ex7.m1.8.8.8.4.cmml"><mo id="S4.Ex7.m1.8.8.8.4.2" xref="S4.Ex7.m1.8.8.8.4.2.cmml">∑</mo><mrow id="S4.Ex7.m1.7.7.7.2.2" xref="S4.Ex7.m1.7.7.7.2.2.cmml"><mrow id="S4.Ex7.m1.7.7.7.2.2.4.2" xref="S4.Ex7.m1.7.7.7.2.2.4.1.cmml"><mo id="S4.Ex7.m1.7.7.7.2.2.4.2.1" stretchy="false" xref="S4.Ex7.m1.7.7.7.2.2.4.1.cmml">(</mo><mo id="S4.Ex7.m1.6.6.6.1.1.1" lspace="0em" rspace="0em" xref="S4.Ex7.m1.6.6.6.1.1.1.cmml">⋅</mo><mo id="S4.Ex7.m1.7.7.7.2.2.4.2.2" xref="S4.Ex7.m1.7.7.7.2.2.4.1.cmml">,</mo><mi id="S4.Ex7.m1.7.7.7.2.2.2" xref="S4.Ex7.m1.7.7.7.2.2.2.cmml">t</mi><mo id="S4.Ex7.m1.7.7.7.2.2.4.2.3" stretchy="false" xref="S4.Ex7.m1.7.7.7.2.2.4.1.cmml">)</mo></mrow><mo id="S4.Ex7.m1.7.7.7.2.2.3" xref="S4.Ex7.m1.7.7.7.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.Ex7.m1.7.7.7.2.2.5" xref="S4.Ex7.m1.7.7.7.2.2.5.cmml">𝒴</mi></mrow></msub><mrow id="S4.Ex7.m1.8.8.8.5.2" xref="S4.Ex7.m1.8.8.8.5.1.cmml"><mo id="S4.Ex7.m1.8.8.8.5.2.1" lspace="0em" stretchy="false" xref="S4.Ex7.m1.8.8.8.5.1.1.cmml">|</mo><mi id="S4.Ex7.m1.8.8.8.3" xref="S4.Ex7.m1.8.8.8.3.cmml">t</mi><mo id="S4.Ex7.m1.8.8.8.5.2.2" stretchy="false" xref="S4.Ex7.m1.8.8.8.5.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S4.Ex7.m1.9.9.1.2" xref="S4.Ex7.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex7.m1.9b"><apply id="S4.Ex7.m1.9.9.1.1.cmml" xref="S4.Ex7.m1.9.9.1"><eq id="S4.Ex7.m1.9.9.1.1.1.cmml" xref="S4.Ex7.m1.9.9.1.1.1"></eq><ci id="S4.Ex7.m1.9.9.1.1.2.cmml" xref="S4.Ex7.m1.9.9.1.1.2">PS</ci><apply id="S4.Ex7.m1.8.8.cmml" xref="S4.Ex7.m1.8.8"><divide id="S4.Ex7.m1.8.8.9.cmml" xref="S4.Ex7.m1.8.8"></divide><apply id="S4.Ex7.m1.5.5.5.cmml" xref="S4.Ex7.m1.5.5.5"><apply id="S4.Ex7.m1.5.5.5.6.cmml" xref="S4.Ex7.m1.5.5.5.6"><csymbol cd="ambiguous" id="S4.Ex7.m1.5.5.5.6.1.cmml" xref="S4.Ex7.m1.5.5.5.6">subscript</csymbol><sum id="S4.Ex7.m1.5.5.5.6.2.cmml" xref="S4.Ex7.m1.5.5.5.6.2"></sum><apply id="S4.Ex7.m1.2.2.2.2.2.cmml" xref="S4.Ex7.m1.2.2.2.2.2"><in id="S4.Ex7.m1.2.2.2.2.2.3.cmml" xref="S4.Ex7.m1.2.2.2.2.2.3"></in><interval closure="open" id="S4.Ex7.m1.2.2.2.2.2.4.1.cmml" xref="S4.Ex7.m1.2.2.2.2.2.4.2"><ci id="S4.Ex7.m1.1.1.1.1.1.1.cmml" xref="S4.Ex7.m1.1.1.1.1.1.1">𝑠</ci><ci id="S4.Ex7.m1.2.2.2.2.2.2.cmml" xref="S4.Ex7.m1.2.2.2.2.2.2">𝑡</ci></interval><ci id="S4.Ex7.m1.2.2.2.2.2.5.cmml" xref="S4.Ex7.m1.2.2.2.2.2.5">𝒴</ci></apply></apply><apply id="S4.Ex7.m1.5.5.5.5.2.cmml" xref="S4.Ex7.m1.5.5.5.5.1"><abs id="S4.Ex7.m1.5.5.5.5.2.1.cmml" xref="S4.Ex7.m1.5.5.5.5.1.2"></abs><apply id="S4.Ex7.m1.5.5.5.5.1.1.cmml" xref="S4.Ex7.m1.5.5.5.5.1.1"><times id="S4.Ex7.m1.5.5.5.5.1.1.1.cmml" xref="S4.Ex7.m1.5.5.5.5.1.1.1"></times><ci id="S4.Ex7.m1.5.5.5.5.1.1.2.cmml" xref="S4.Ex7.m1.5.5.5.5.1.1.2">𝜋</ci><interval closure="open" id="S4.Ex7.m1.5.5.5.5.1.1.3.1.cmml" xref="S4.Ex7.m1.5.5.5.5.1.1.3.2"><ci id="S4.Ex7.m1.3.3.3.3.cmml" xref="S4.Ex7.m1.3.3.3.3">𝑠</ci><ci id="S4.Ex7.m1.4.4.4.4.cmml" xref="S4.Ex7.m1.4.4.4.4">𝑡</ci></interval></apply></apply></apply><apply id="S4.Ex7.m1.8.8.8.cmml" xref="S4.Ex7.m1.8.8.8"><apply id="S4.Ex7.m1.8.8.8.4.cmml" xref="S4.Ex7.m1.8.8.8.4"><csymbol cd="ambiguous" id="S4.Ex7.m1.8.8.8.4.1.cmml" xref="S4.Ex7.m1.8.8.8.4">subscript</csymbol><sum id="S4.Ex7.m1.8.8.8.4.2.cmml" xref="S4.Ex7.m1.8.8.8.4.2"></sum><apply id="S4.Ex7.m1.7.7.7.2.2.cmml" xref="S4.Ex7.m1.7.7.7.2.2"><in id="S4.Ex7.m1.7.7.7.2.2.3.cmml" xref="S4.Ex7.m1.7.7.7.2.2.3"></in><interval closure="open" id="S4.Ex7.m1.7.7.7.2.2.4.1.cmml" xref="S4.Ex7.m1.7.7.7.2.2.4.2"><ci id="S4.Ex7.m1.6.6.6.1.1.1.cmml" xref="S4.Ex7.m1.6.6.6.1.1.1">⋅</ci><ci id="S4.Ex7.m1.7.7.7.2.2.2.cmml" xref="S4.Ex7.m1.7.7.7.2.2.2">𝑡</ci></interval><ci id="S4.Ex7.m1.7.7.7.2.2.5.cmml" xref="S4.Ex7.m1.7.7.7.2.2.5">𝒴</ci></apply></apply><apply id="S4.Ex7.m1.8.8.8.5.1.cmml" xref="S4.Ex7.m1.8.8.8.5.2"><abs id="S4.Ex7.m1.8.8.8.5.1.1.cmml" xref="S4.Ex7.m1.8.8.8.5.2.1"></abs><ci id="S4.Ex7.m1.8.8.8.3.cmml" xref="S4.Ex7.m1.8.8.8.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex7.m1.9c">\operatorname{PS}=\frac{\sum_{(s,t)\in\mathcal{Y}}|\pi(s,t)|}{\sum_{(\cdot,t)%
\in\mathcal{Y}}|t|},</annotation><annotation encoding="application/x-llamapun" id="S4.Ex7.m1.9d">roman_PS = divide start_ARG ∑ start_POSTSUBSCRIPT ( italic_s , italic_t ) ∈ caligraphic_Y end_POSTSUBSCRIPT | italic_π ( italic_s , italic_t ) | end_ARG start_ARG ∑ start_POSTSUBSCRIPT ( ⋅ , italic_t ) ∈ caligraphic_Y end_POSTSUBSCRIPT | italic_t | end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS7.SSS2.p2.10">where <math alttext="\pi(s,t)" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.5.m1.2"><semantics id="S4.SS7.SSS2.p2.5.m1.2a"><mrow id="S4.SS7.SSS2.p2.5.m1.2.3" xref="S4.SS7.SSS2.p2.5.m1.2.3.cmml"><mi id="S4.SS7.SSS2.p2.5.m1.2.3.2" xref="S4.SS7.SSS2.p2.5.m1.2.3.2.cmml">π</mi><mo id="S4.SS7.SSS2.p2.5.m1.2.3.1" xref="S4.SS7.SSS2.p2.5.m1.2.3.1.cmml">⁢</mo><mrow id="S4.SS7.SSS2.p2.5.m1.2.3.3.2" xref="S4.SS7.SSS2.p2.5.m1.2.3.3.1.cmml"><mo id="S4.SS7.SSS2.p2.5.m1.2.3.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p2.5.m1.2.3.3.1.cmml">(</mo><mi id="S4.SS7.SSS2.p2.5.m1.1.1" xref="S4.SS7.SSS2.p2.5.m1.1.1.cmml">s</mi><mo id="S4.SS7.SSS2.p2.5.m1.2.3.3.2.2" xref="S4.SS7.SSS2.p2.5.m1.2.3.3.1.cmml">,</mo><mi id="S4.SS7.SSS2.p2.5.m1.2.2" xref="S4.SS7.SSS2.p2.5.m1.2.2.cmml">t</mi><mo id="S4.SS7.SSS2.p2.5.m1.2.3.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p2.5.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.5.m1.2b"><apply id="S4.SS7.SSS2.p2.5.m1.2.3.cmml" xref="S4.SS7.SSS2.p2.5.m1.2.3"><times id="S4.SS7.SSS2.p2.5.m1.2.3.1.cmml" xref="S4.SS7.SSS2.p2.5.m1.2.3.1"></times><ci id="S4.SS7.SSS2.p2.5.m1.2.3.2.cmml" xref="S4.SS7.SSS2.p2.5.m1.2.3.2">𝜋</ci><interval closure="open" id="S4.SS7.SSS2.p2.5.m1.2.3.3.1.cmml" xref="S4.SS7.SSS2.p2.5.m1.2.3.3.2"><ci id="S4.SS7.SSS2.p2.5.m1.1.1.cmml" xref="S4.SS7.SSS2.p2.5.m1.1.1">𝑠</ci><ci id="S4.SS7.SSS2.p2.5.m1.2.2.cmml" xref="S4.SS7.SSS2.p2.5.m1.2.2">𝑡</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.5.m1.2c">\pi(s,t)</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.5.m1.2d">italic_π ( italic_s , italic_t )</annotation></semantics></math> denotes the longest common prefix of <math alttext="s" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.6.m2.1"><semantics id="S4.SS7.SSS2.p2.6.m2.1a"><mi id="S4.SS7.SSS2.p2.6.m2.1.1" xref="S4.SS7.SSS2.p2.6.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.6.m2.1b"><ci id="S4.SS7.SSS2.p2.6.m2.1.1.cmml" xref="S4.SS7.SSS2.p2.6.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.6.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.6.m2.1d">italic_s</annotation></semantics></math> and <math alttext="t" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.7.m3.1"><semantics id="S4.SS7.SSS2.p2.7.m3.1a"><mi id="S4.SS7.SSS2.p2.7.m3.1.1" xref="S4.SS7.SSS2.p2.7.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.7.m3.1b"><ci id="S4.SS7.SSS2.p2.7.m3.1.1.cmml" xref="S4.SS7.SSS2.p2.7.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.7.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.7.m3.1d">italic_t</annotation></semantics></math>.
We aim to maximize all three metrics <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.8.m4.1"><semantics id="S4.SS7.SSS2.p2.8.m4.1a"><mi id="S4.SS7.SSS2.p2.8.m4.1.1" xref="S4.SS7.SSS2.p2.8.m4.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.8.m4.1b"><ci id="S4.SS7.SSS2.p2.8.m4.1.1.cmml" xref="S4.SS7.SSS2.p2.8.m4.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.8.m4.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.8.m4.1d">roman_EM</annotation></semantics></math>, <math alttext="\operatorname{ES}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.9.m5.1"><semantics id="S4.SS7.SSS2.p2.9.m5.1a"><mi id="S4.SS7.SSS2.p2.9.m5.1.1" xref="S4.SS7.SSS2.p2.9.m5.1.1.cmml">ES</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.9.m5.1b"><ci id="S4.SS7.SSS2.p2.9.m5.1.1.cmml" xref="S4.SS7.SSS2.p2.9.m5.1.1">ES</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.9.m5.1c">\operatorname{ES}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.9.m5.1d">roman_ES</annotation></semantics></math>, and <math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p2.10.m6.1"><semantics id="S4.SS7.SSS2.p2.10.m6.1a"><mi id="S4.SS7.SSS2.p2.10.m6.1.1" xref="S4.SS7.SSS2.p2.10.m6.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p2.10.m6.1b"><ci id="S4.SS7.SSS2.p2.10.m6.1.1.cmml" xref="S4.SS7.SSS2.p2.10.m6.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p2.10.m6.1c">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p2.10.m6.1d">roman_PS</annotation></semantics></math> to their optimal value of 1.</p>
</div>
<div class="ltx_para" id="S4.SS7.SSS2.p3">
<p class="ltx_p" id="S4.SS7.SSS2.p3.5">When reporting multi-token prediction metrics, we calculate 95% confidence intervals obtained using the BCa <cite class="ltx_cite ltx_citemacro_citep">(Efron, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib10" title="">1987</a>)</cite> bootstrap method with 1000 samples.
The notation a<math alttext="{}_{b}^{c}" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p3.1.m1.1"><semantics id="S4.SS7.SSS2.p3.1.m1.1a"><mmultiscripts id="S4.SS7.SSS2.p3.1.m1.1.1" xref="S4.SS7.SSS2.p3.1.m1.1.1.cmml"><mi id="S4.SS7.SSS2.p3.1.m1.1.1.2.2" xref="S4.SS7.SSS2.p3.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S4.SS7.SSS2.p3.1.m1.1.1a" xref="S4.SS7.SSS2.p3.1.m1.1.1.cmml"></mprescripts><mrow id="S4.SS7.SSS2.p3.1.m1.1.1b" xref="S4.SS7.SSS2.p3.1.m1.1.1.cmml"></mrow><mi id="S4.SS7.SSS2.p3.1.m1.1.1.3" xref="S4.SS7.SSS2.p3.1.m1.1.1.3.cmml">c</mi><mi id="S4.SS7.SSS2.p3.1.m1.1.1.2.3" xref="S4.SS7.SSS2.p3.1.m1.1.1.2.3.cmml">b</mi><mrow id="S4.SS7.SSS2.p3.1.m1.1.1c" xref="S4.SS7.SSS2.p3.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p3.1.m1.1b"><apply id="S4.SS7.SSS2.p3.1.m1.1.1.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS2.p3.1.m1.1.1.1.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1">superscript</csymbol><apply id="S4.SS7.SSS2.p3.1.m1.1.1.2.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS7.SSS2.p3.1.m1.1.1.2.1.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S4.SS7.SSS2.p3.1.m1.1.1.2.2.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1.2.2">absent</csymbol><ci id="S4.SS7.SSS2.p3.1.m1.1.1.2.3.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1.2.3">𝑏</ci></apply><ci id="S4.SS7.SSS2.p3.1.m1.1.1.3.cmml" xref="S4.SS7.SSS2.p3.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p3.1.m1.1c">{}_{b}^{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p3.1.m1.1d">start_FLOATSUBSCRIPT italic_b end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT</annotation></semantics></math> means that <math alttext="a" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p3.2.m2.1"><semantics id="S4.SS7.SSS2.p3.2.m2.1a"><mi id="S4.SS7.SSS2.p3.2.m2.1.1" xref="S4.SS7.SSS2.p3.2.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p3.2.m2.1b"><ci id="S4.SS7.SSS2.p3.2.m2.1.1.cmml" xref="S4.SS7.SSS2.p3.2.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p3.2.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p3.2.m2.1d">italic_a</annotation></semantics></math> is the calculated metric on the sample, and <math alttext="b" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p3.3.m3.1"><semantics id="S4.SS7.SSS2.p3.3.m3.1a"><mi id="S4.SS7.SSS2.p3.3.m3.1.1" xref="S4.SS7.SSS2.p3.3.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p3.3.m3.1b"><ci id="S4.SS7.SSS2.p3.3.m3.1.1.cmml" xref="S4.SS7.SSS2.p3.3.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p3.3.m3.1c">b</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p3.3.m3.1d">italic_b</annotation></semantics></math> and <math alttext="c" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p3.4.m4.1"><semantics id="S4.SS7.SSS2.p3.4.m4.1a"><mi id="S4.SS7.SSS2.p3.4.m4.1.1" xref="S4.SS7.SSS2.p3.4.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p3.4.m4.1b"><ci id="S4.SS7.SSS2.p3.4.m4.1.1.cmml" xref="S4.SS7.SSS2.p3.4.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p3.4.m4.1c">c</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p3.4.m4.1d">italic_c</annotation></semantics></math> are the endpoints of the confidence interval <math alttext="[b,c]" class="ltx_Math" display="inline" id="S4.SS7.SSS2.p3.5.m5.2"><semantics id="S4.SS7.SSS2.p3.5.m5.2a"><mrow id="S4.SS7.SSS2.p3.5.m5.2.3.2" xref="S4.SS7.SSS2.p3.5.m5.2.3.1.cmml"><mo id="S4.SS7.SSS2.p3.5.m5.2.3.2.1" stretchy="false" xref="S4.SS7.SSS2.p3.5.m5.2.3.1.cmml">[</mo><mi id="S4.SS7.SSS2.p3.5.m5.1.1" xref="S4.SS7.SSS2.p3.5.m5.1.1.cmml">b</mi><mo id="S4.SS7.SSS2.p3.5.m5.2.3.2.2" xref="S4.SS7.SSS2.p3.5.m5.2.3.1.cmml">,</mo><mi id="S4.SS7.SSS2.p3.5.m5.2.2" xref="S4.SS7.SSS2.p3.5.m5.2.2.cmml">c</mi><mo id="S4.SS7.SSS2.p3.5.m5.2.3.2.3" stretchy="false" xref="S4.SS7.SSS2.p3.5.m5.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS7.SSS2.p3.5.m5.2b"><interval closure="closed" id="S4.SS7.SSS2.p3.5.m5.2.3.1.cmml" xref="S4.SS7.SSS2.p3.5.m5.2.3.2"><ci id="S4.SS7.SSS2.p3.5.m5.1.1.cmml" xref="S4.SS7.SSS2.p3.5.m5.1.1">𝑏</ci><ci id="S4.SS7.SSS2.p3.5.m5.2.2.cmml" xref="S4.SS7.SSS2.p3.5.m5.2.2">𝑐</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.SSS2.p3.5.m5.2c">[b,c]</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.SSS2.p3.5.m5.2d">[ italic_b , italic_c ]</annotation></semantics></math>.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this section, we report the results of experiments outlined in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4" title="4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a>. We start by comparing the performance of RETRO and GPT-2 on the StarCoder dataset, followed by the evaluation on the RepoEval dataset, which simulates retrieval from local projects. In this setting, we also compare the In-context RAG approach. We finish the section with a qualitative analysis of the results.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Evaluation on the StarCoder test set</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">In this section, we present the results of our trained models on the test set from Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS2" title="4.2 The StarCoder dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.2</span></a>.
We are interested in the contribution of retrieval with RETRO compared to the baseline GPT-2 model.
We first examine the impact of the retrieval database size, tokenization, and the number of parameters on model performance. We also compare retrieval from the training and test set simulating different numbers of projects in a local database.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.6">First, we examine the results of single-token metrics on the test set.
When reporting metrics for RETRO, the retrieval database is built from the union of the training and test sets, while during training only the training set is used <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>; Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>.
If retrieval from the test set was forbidden, RETRO would not be able to find related code snippets from the same project as the test example, due to the project-level split into training and test sets.
We also report metrics calculated starting from the end of the first RETRO chunk <math alttext="x^{\geq 64}=(x_{64},...,x_{n})" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.3"><semantics id="S5.SS1.p2.1.m1.3a"><mrow id="S5.SS1.p2.1.m1.3.3" xref="S5.SS1.p2.1.m1.3.3.cmml"><msup id="S5.SS1.p2.1.m1.3.3.4" xref="S5.SS1.p2.1.m1.3.3.4.cmml"><mi id="S5.SS1.p2.1.m1.3.3.4.2" xref="S5.SS1.p2.1.m1.3.3.4.2.cmml">x</mi><mrow id="S5.SS1.p2.1.m1.3.3.4.3" xref="S5.SS1.p2.1.m1.3.3.4.3.cmml"><mi id="S5.SS1.p2.1.m1.3.3.4.3.2" xref="S5.SS1.p2.1.m1.3.3.4.3.2.cmml"></mi><mo id="S5.SS1.p2.1.m1.3.3.4.3.1" xref="S5.SS1.p2.1.m1.3.3.4.3.1.cmml">≥</mo><mn id="S5.SS1.p2.1.m1.3.3.4.3.3" xref="S5.SS1.p2.1.m1.3.3.4.3.3.cmml">64</mn></mrow></msup><mo id="S5.SS1.p2.1.m1.3.3.3" xref="S5.SS1.p2.1.m1.3.3.3.cmml">=</mo><mrow id="S5.SS1.p2.1.m1.3.3.2.2" xref="S5.SS1.p2.1.m1.3.3.2.3.cmml"><mo id="S5.SS1.p2.1.m1.3.3.2.2.3" stretchy="false" xref="S5.SS1.p2.1.m1.3.3.2.3.cmml">(</mo><msub id="S5.SS1.p2.1.m1.2.2.1.1.1" xref="S5.SS1.p2.1.m1.2.2.1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.2.2.1.1.1.2" xref="S5.SS1.p2.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S5.SS1.p2.1.m1.2.2.1.1.1.3" xref="S5.SS1.p2.1.m1.2.2.1.1.1.3.cmml">64</mn></msub><mo id="S5.SS1.p2.1.m1.3.3.2.2.4" xref="S5.SS1.p2.1.m1.3.3.2.3.cmml">,</mo><mi id="S5.SS1.p2.1.m1.1.1" mathvariant="normal" xref="S5.SS1.p2.1.m1.1.1.cmml">…</mi><mo id="S5.SS1.p2.1.m1.3.3.2.2.5" xref="S5.SS1.p2.1.m1.3.3.2.3.cmml">,</mo><msub id="S5.SS1.p2.1.m1.3.3.2.2.2" xref="S5.SS1.p2.1.m1.3.3.2.2.2.cmml"><mi id="S5.SS1.p2.1.m1.3.3.2.2.2.2" xref="S5.SS1.p2.1.m1.3.3.2.2.2.2.cmml">x</mi><mi id="S5.SS1.p2.1.m1.3.3.2.2.2.3" xref="S5.SS1.p2.1.m1.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S5.SS1.p2.1.m1.3.3.2.2.6" stretchy="false" xref="S5.SS1.p2.1.m1.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.3b"><apply id="S5.SS1.p2.1.m1.3.3.cmml" xref="S5.SS1.p2.1.m1.3.3"><eq id="S5.SS1.p2.1.m1.3.3.3.cmml" xref="S5.SS1.p2.1.m1.3.3.3"></eq><apply id="S5.SS1.p2.1.m1.3.3.4.cmml" xref="S5.SS1.p2.1.m1.3.3.4"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.3.3.4.1.cmml" xref="S5.SS1.p2.1.m1.3.3.4">superscript</csymbol><ci id="S5.SS1.p2.1.m1.3.3.4.2.cmml" xref="S5.SS1.p2.1.m1.3.3.4.2">𝑥</ci><apply id="S5.SS1.p2.1.m1.3.3.4.3.cmml" xref="S5.SS1.p2.1.m1.3.3.4.3"><geq id="S5.SS1.p2.1.m1.3.3.4.3.1.cmml" xref="S5.SS1.p2.1.m1.3.3.4.3.1"></geq><csymbol cd="latexml" id="S5.SS1.p2.1.m1.3.3.4.3.2.cmml" xref="S5.SS1.p2.1.m1.3.3.4.3.2">absent</csymbol><cn id="S5.SS1.p2.1.m1.3.3.4.3.3.cmml" type="integer" xref="S5.SS1.p2.1.m1.3.3.4.3.3">64</cn></apply></apply><vector id="S5.SS1.p2.1.m1.3.3.2.3.cmml" xref="S5.SS1.p2.1.m1.3.3.2.2"><apply id="S5.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.2.2.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.1.m1.2.2.1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1.2">𝑥</ci><cn id="S5.SS1.p2.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S5.SS1.p2.1.m1.2.2.1.1.1.3">64</cn></apply><ci id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">…</ci><apply id="S5.SS1.p2.1.m1.3.3.2.2.2.cmml" xref="S5.SS1.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.3.3.2.2.2.1.cmml" xref="S5.SS1.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S5.SS1.p2.1.m1.3.3.2.2.2.2.cmml" xref="S5.SS1.p2.1.m1.3.3.2.2.2.2">𝑥</ci><ci id="S5.SS1.p2.1.m1.3.3.2.2.2.3.cmml" xref="S5.SS1.p2.1.m1.3.3.2.2.2.3">𝑛</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.3c">x^{\geq 64}=(x_{64},...,x_{n})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.3d">italic_x start_POSTSUPERSCRIPT ≥ 64 end_POSTSUPERSCRIPT = ( italic_x start_POSTSUBSCRIPT 64 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math> instead of the entire input sequence <math alttext="x=(x_{1},...,x_{n})" class="ltx_Math" display="inline" id="S5.SS1.p2.2.m2.3"><semantics id="S5.SS1.p2.2.m2.3a"><mrow id="S5.SS1.p2.2.m2.3.3" xref="S5.SS1.p2.2.m2.3.3.cmml"><mi id="S5.SS1.p2.2.m2.3.3.4" xref="S5.SS1.p2.2.m2.3.3.4.cmml">x</mi><mo id="S5.SS1.p2.2.m2.3.3.3" xref="S5.SS1.p2.2.m2.3.3.3.cmml">=</mo><mrow id="S5.SS1.p2.2.m2.3.3.2.2" xref="S5.SS1.p2.2.m2.3.3.2.3.cmml"><mo id="S5.SS1.p2.2.m2.3.3.2.2.3" stretchy="false" xref="S5.SS1.p2.2.m2.3.3.2.3.cmml">(</mo><msub id="S5.SS1.p2.2.m2.2.2.1.1.1" xref="S5.SS1.p2.2.m2.2.2.1.1.1.cmml"><mi id="S5.SS1.p2.2.m2.2.2.1.1.1.2" xref="S5.SS1.p2.2.m2.2.2.1.1.1.2.cmml">x</mi><mn id="S5.SS1.p2.2.m2.2.2.1.1.1.3" xref="S5.SS1.p2.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S5.SS1.p2.2.m2.3.3.2.2.4" xref="S5.SS1.p2.2.m2.3.3.2.3.cmml">,</mo><mi id="S5.SS1.p2.2.m2.1.1" mathvariant="normal" xref="S5.SS1.p2.2.m2.1.1.cmml">…</mi><mo id="S5.SS1.p2.2.m2.3.3.2.2.5" xref="S5.SS1.p2.2.m2.3.3.2.3.cmml">,</mo><msub id="S5.SS1.p2.2.m2.3.3.2.2.2" xref="S5.SS1.p2.2.m2.3.3.2.2.2.cmml"><mi id="S5.SS1.p2.2.m2.3.3.2.2.2.2" xref="S5.SS1.p2.2.m2.3.3.2.2.2.2.cmml">x</mi><mi id="S5.SS1.p2.2.m2.3.3.2.2.2.3" xref="S5.SS1.p2.2.m2.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S5.SS1.p2.2.m2.3.3.2.2.6" stretchy="false" xref="S5.SS1.p2.2.m2.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.3b"><apply id="S5.SS1.p2.2.m2.3.3.cmml" xref="S5.SS1.p2.2.m2.3.3"><eq id="S5.SS1.p2.2.m2.3.3.3.cmml" xref="S5.SS1.p2.2.m2.3.3.3"></eq><ci id="S5.SS1.p2.2.m2.3.3.4.cmml" xref="S5.SS1.p2.2.m2.3.3.4">𝑥</ci><vector id="S5.SS1.p2.2.m2.3.3.2.3.cmml" xref="S5.SS1.p2.2.m2.3.3.2.2"><apply id="S5.SS1.p2.2.m2.2.2.1.1.1.cmml" xref="S5.SS1.p2.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.2.2.1.1.1.1.cmml" xref="S5.SS1.p2.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.2.m2.2.2.1.1.1.2.cmml" xref="S5.SS1.p2.2.m2.2.2.1.1.1.2">𝑥</ci><cn id="S5.SS1.p2.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S5.SS1.p2.2.m2.2.2.1.1.1.3">1</cn></apply><ci id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">…</ci><apply id="S5.SS1.p2.2.m2.3.3.2.2.2.cmml" xref="S5.SS1.p2.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.3.3.2.2.2.1.cmml" xref="S5.SS1.p2.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S5.SS1.p2.2.m2.3.3.2.2.2.2.cmml" xref="S5.SS1.p2.2.m2.3.3.2.2.2.2">𝑥</ci><ci id="S5.SS1.p2.2.m2.3.3.2.2.2.3.cmml" xref="S5.SS1.p2.2.m2.3.3.2.2.2.3">𝑛</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.3c">x=(x_{1},...,x_{n})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.2.m2.3d">italic_x = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math>.
For the first <math alttext="m-1=63" class="ltx_Math" display="inline" id="S5.SS1.p2.3.m3.1"><semantics id="S5.SS1.p2.3.m3.1a"><mrow id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mrow id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2.2" xref="S5.SS1.p2.3.m3.1.1.2.2.cmml">m</mi><mo id="S5.SS1.p2.3.m3.1.1.2.1" xref="S5.SS1.p2.3.m3.1.1.2.1.cmml">−</mo><mn id="S5.SS1.p2.3.m3.1.1.2.3" xref="S5.SS1.p2.3.m3.1.1.2.3.cmml">1</mn></mrow><mo id="S5.SS1.p2.3.m3.1.1.1" xref="S5.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">63</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><eq id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1.1"></eq><apply id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2"><minus id="S5.SS1.p2.3.m3.1.1.2.1.cmml" xref="S5.SS1.p2.3.m3.1.1.2.1"></minus><ci id="S5.SS1.p2.3.m3.1.1.2.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2.2">𝑚</ci><cn id="S5.SS1.p2.3.m3.1.1.2.3.cmml" type="integer" xref="S5.SS1.p2.3.m3.1.1.2.3">1</cn></apply><cn id="S5.SS1.p2.3.m3.1.1.3.cmml" type="integer" xref="S5.SS1.p2.3.m3.1.1.3">63</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">m-1=63</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.3.m3.1d">italic_m - 1 = 63</annotation></semantics></math> tokens, RETRO does not use retrieval and therefore functions like the baseline model.
The notation GPT<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.p2.4.m4.1"><semantics id="S5.SS1.p2.4.m4.1a"><mmultiscripts id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2.2" xref="S5.SS1.p2.4.m4.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.p2.4.m4.1.1a" xref="S5.SS1.p2.4.m4.1.1.cmml"></mprescripts><mrow id="S5.SS1.p2.4.m4.1.1b" xref="S5.SS1.p2.4.m4.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.p2.4.m4.1.1.2.3" xref="S5.SS1.p2.4.m4.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.p2.4.m4.1.1c" xref="S5.SS1.p2.4.m4.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">superscript</csymbol><apply id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.2.1.cmml" xref="S5.SS1.p2.4.m4.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.p2.4.m4.1.1.2.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2.2">absent</csymbol><cn id="S5.SS1.p2.4.m4.1.1.2.3.cmml" type="integer" xref="S5.SS1.p2.4.m4.1.1.2.3">6</cn></apply><ci id="S5.SS1.p2.4.m4.1.1.3a.cmml" xref="S5.SS1.p2.4.m4.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p2.4.m4.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.4.m4.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> refers to the GPT-2 model with 6 layers and GPT-2 tokenization, while GPT<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.SS1.p2.5.m5.1"><semantics id="S5.SS1.p2.5.m5.1a"><mmultiscripts id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2.2" xref="S5.SS1.p2.5.m5.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.p2.5.m5.1.1a" xref="S5.SS1.p2.5.m5.1.1.cmml"></mprescripts><mrow id="S5.SS1.p2.5.m5.1.1b" xref="S5.SS1.p2.5.m5.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3a.cmml">SC</mtext><mn id="S5.SS1.p2.5.m5.1.1.2.3" xref="S5.SS1.p2.5.m5.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.p2.5.m5.1.1c" xref="S5.SS1.p2.5.m5.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">superscript</csymbol><apply id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.2.1.cmml" xref="S5.SS1.p2.5.m5.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.p2.5.m5.1.1.2.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2.2">absent</csymbol><cn id="S5.SS1.p2.5.m5.1.1.2.3.cmml" type="integer" xref="S5.SS1.p2.5.m5.1.1.2.3">6</cn></apply><ci id="S5.SS1.p2.5.m5.1.1.3a.cmml" xref="S5.SS1.p2.5.m5.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.5.m5.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p2.5.m5.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.5.m5.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> refers to the using the model with StarCoder tokenization (and similarly RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.p2.6.m6.1"><semantics id="S5.SS1.p2.6.m6.1a"><mmultiscripts id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml"><mi id="S5.SS1.p2.6.m6.1.1.2.2" xref="S5.SS1.p2.6.m6.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.p2.6.m6.1.1a" xref="S5.SS1.p2.6.m6.1.1.cmml"></mprescripts><mrow id="S5.SS1.p2.6.m6.1.1b" xref="S5.SS1.p2.6.m6.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.6.m6.1.1.3" xref="S5.SS1.p2.6.m6.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.p2.6.m6.1.1.2.3" xref="S5.SS1.p2.6.m6.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.p2.6.m6.1.1c" xref="S5.SS1.p2.6.m6.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.1b"><apply id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.6.m6.1.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">superscript</csymbol><apply id="S5.SS1.p2.6.m6.1.1.2.cmml" xref="S5.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.6.m6.1.1.2.1.cmml" xref="S5.SS1.p2.6.m6.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.p2.6.m6.1.1.2.2.cmml" xref="S5.SS1.p2.6.m6.1.1.2.2">absent</csymbol><cn id="S5.SS1.p2.6.m6.1.1.2.3.cmml" type="integer" xref="S5.SS1.p2.6.m6.1.1.2.3">6</cn></apply><ci id="S5.SS1.p2.6.m6.1.1.3a.cmml" xref="S5.SS1.p2.6.m6.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.p2.6.m6.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p2.6.m6.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.6.m6.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> for RETRO).</p>
</div>
<figure class="ltx_figure" id="S5.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="S5.F4.g1" src="x5.png" width="411"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="S5.F4.g2" src="x6.png" width="411"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F4.11.4.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text" id="S5.F4.6.3" style="font-size:90%;">
<math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S5.F4.4.1.m1.1"><semantics id="S5.F4.4.1.m1.1b"><mi id="S5.F4.4.1.m1.1.1" xref="S5.F4.4.1.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S5.F4.4.1.m1.1c"><ci id="S5.F4.4.1.m1.1.1.cmml" xref="S5.F4.4.1.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.4.1.m1.1d">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.4.1.m1.1e">roman_PPL</annotation></semantics></math> and <math alttext="\operatorname{\operatorname{MRR}_{5}}" class="ltx_Math" display="inline" id="S5.F4.5.2.m2.1"><semantics id="S5.F4.5.2.m2.1b"><msub id="S5.F4.5.2.m2.1.1" xref="S5.F4.5.2.m2.1.1.cmml"><mi id="S5.F4.5.2.m2.1.1.2" xref="S5.F4.5.2.m2.1.1.2.cmml">MRR</mi><mn id="S5.F4.5.2.m2.1.1.3" xref="S5.F4.5.2.m2.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.5.2.m2.1c"><apply id="S5.F4.5.2.m2.1.1.cmml" xref="S5.F4.5.2.m2.1.1"><csymbol cd="ambiguous" id="S5.F4.5.2.m2.1.1.1.cmml" xref="S5.F4.5.2.m2.1.1">subscript</csymbol><ci id="S5.F4.5.2.m2.1.1.2.cmml" xref="S5.F4.5.2.m2.1.1.2">MRR</ci><cn id="S5.F4.5.2.m2.1.1.3.cmml" type="integer" xref="S5.F4.5.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.5.2.m2.1d">\operatorname{\operatorname{MRR}_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.5.2.m2.1e">roman_MRR start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math> metrics on the test set with models trained on a <span class="ltx_text ltx_font_bold" id="S5.F4.6.3.1">smaller</span> number of iterations (see Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T4" title="Table 4 ‣ 4.6 Model training ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a>) with <em class="ltx_emph ltx_font_italic" id="S5.F4.6.3.2">GPT-2</em> tokenization on the left and <em class="ltx_emph ltx_font_italic" id="S5.F4.6.3.3">StarCoder</em> tokenization on the right.
Reported are metrics calculated on the offset input <math alttext="x^{\geq 64}" class="ltx_Math" display="inline" id="S5.F4.6.3.m3.1"><semantics id="S5.F4.6.3.m3.1b"><msup id="S5.F4.6.3.m3.1.1" xref="S5.F4.6.3.m3.1.1.cmml"><mi id="S5.F4.6.3.m3.1.1.2" xref="S5.F4.6.3.m3.1.1.2.cmml">x</mi><mrow id="S5.F4.6.3.m3.1.1.3" xref="S5.F4.6.3.m3.1.1.3.cmml"><mi id="S5.F4.6.3.m3.1.1.3.2" xref="S5.F4.6.3.m3.1.1.3.2.cmml"></mi><mo id="S5.F4.6.3.m3.1.1.3.1" xref="S5.F4.6.3.m3.1.1.3.1.cmml">≥</mo><mn id="S5.F4.6.3.m3.1.1.3.3" xref="S5.F4.6.3.m3.1.1.3.3.cmml">64</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.F4.6.3.m3.1c"><apply id="S5.F4.6.3.m3.1.1.cmml" xref="S5.F4.6.3.m3.1.1"><csymbol cd="ambiguous" id="S5.F4.6.3.m3.1.1.1.cmml" xref="S5.F4.6.3.m3.1.1">superscript</csymbol><ci id="S5.F4.6.3.m3.1.1.2.cmml" xref="S5.F4.6.3.m3.1.1.2">𝑥</ci><apply id="S5.F4.6.3.m3.1.1.3.cmml" xref="S5.F4.6.3.m3.1.1.3"><geq id="S5.F4.6.3.m3.1.1.3.1.cmml" xref="S5.F4.6.3.m3.1.1.3.1"></geq><csymbol cd="latexml" id="S5.F4.6.3.m3.1.1.3.2.cmml" xref="S5.F4.6.3.m3.1.1.3.2">absent</csymbol><cn id="S5.F4.6.3.m3.1.1.3.3.cmml" type="integer" xref="S5.F4.6.3.m3.1.1.3.3">64</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.6.3.m3.1d">x^{\geq 64}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.6.3.m3.1e">italic_x start_POSTSUPERSCRIPT ≥ 64 end_POSTSUPERSCRIPT</annotation></semantics></math>.
The values of the left and right results should not be directly compared due to different tokenizations.
The figures also show the models’ sizes.
</span></figcaption>
</figure>
<figure class="ltx_table" id="S5.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T5.14">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T5.1.1">
<th class="ltx_td ltx_th ltx_th_row" id="S5.T5.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<td class="ltx_td" colspan="4" id="S5.T5.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" colspan="4" id="S5.T5.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Offset <math alttext="x^{\geq 64}" class="ltx_Math" display="inline" id="S5.T5.1.1.1.m1.1"><semantics id="S5.T5.1.1.1.m1.1a"><msup id="S5.T5.1.1.1.m1.1.1" xref="S5.T5.1.1.1.m1.1.1.cmml"><mi id="S5.T5.1.1.1.m1.1.1.2" xref="S5.T5.1.1.1.m1.1.1.2.cmml">x</mi><mrow id="S5.T5.1.1.1.m1.1.1.3" xref="S5.T5.1.1.1.m1.1.1.3.cmml"><mi id="S5.T5.1.1.1.m1.1.1.3.2" xref="S5.T5.1.1.1.m1.1.1.3.2.cmml"></mi><mo id="S5.T5.1.1.1.m1.1.1.3.1" xref="S5.T5.1.1.1.m1.1.1.3.1.cmml">≥</mo><mn id="S5.T5.1.1.1.m1.1.1.3.3" xref="S5.T5.1.1.1.m1.1.1.3.3.cmml">64</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.T5.1.1.1.m1.1b"><apply id="S5.T5.1.1.1.m1.1.1.cmml" xref="S5.T5.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.1.1.1.m1.1.1.1.cmml" xref="S5.T5.1.1.1.m1.1.1">superscript</csymbol><ci id="S5.T5.1.1.1.m1.1.1.2.cmml" xref="S5.T5.1.1.1.m1.1.1.2">𝑥</ci><apply id="S5.T5.1.1.1.m1.1.1.3.cmml" xref="S5.T5.1.1.1.m1.1.1.3"><geq id="S5.T5.1.1.1.m1.1.1.3.1.cmml" xref="S5.T5.1.1.1.m1.1.1.3.1"></geq><csymbol cd="latexml" id="S5.T5.1.1.1.m1.1.1.3.2.cmml" xref="S5.T5.1.1.1.m1.1.1.3.2">absent</csymbol><cn id="S5.T5.1.1.1.m1.1.1.3.3.cmml" type="integer" xref="S5.T5.1.1.1.m1.1.1.3.3">64</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.1.1.1.m1.1c">x^{\geq 64}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.1.1.1.m1.1d">italic_x start_POSTSUPERSCRIPT ≥ 64 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.9.9">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T5.9.9.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model</th>
<td class="ltx_td ltx_align_center" id="S5.T5.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S5.T5.2.2.1.m1.1"><semantics id="S5.T5.2.2.1.m1.1a"><mi id="S5.T5.2.2.1.m1.1.1" xref="S5.T5.2.2.1.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S5.T5.2.2.1.m1.1b"><ci id="S5.T5.2.2.1.m1.1.1.cmml" xref="S5.T5.2.2.1.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.2.2.1.m1.1c">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.2.2.1.m1.1d">roman_PPL</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T5.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{R_{1}}" class="ltx_Math" display="inline" id="S5.T5.3.3.2.m1.1"><semantics id="S5.T5.3.3.2.m1.1a"><msub id="S5.T5.3.3.2.m1.1.1" xref="S5.T5.3.3.2.m1.1.1.cmml"><mi id="S5.T5.3.3.2.m1.1.1.2" mathvariant="normal" xref="S5.T5.3.3.2.m1.1.1.2.cmml">R</mi><mn id="S5.T5.3.3.2.m1.1.1.3" xref="S5.T5.3.3.2.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.3.3.2.m1.1b"><apply id="S5.T5.3.3.2.m1.1.1.cmml" xref="S5.T5.3.3.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.3.3.2.m1.1.1.1.cmml" xref="S5.T5.3.3.2.m1.1.1">subscript</csymbol><ci id="S5.T5.3.3.2.m1.1.1.2.cmml" xref="S5.T5.3.3.2.m1.1.1.2">R</ci><cn id="S5.T5.3.3.2.m1.1.1.3.cmml" type="integer" xref="S5.T5.3.3.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.3.3.2.m1.1c">\operatorname{R_{1}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.3.3.2.m1.1d">roman_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T5.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{R_{5}}" class="ltx_Math" display="inline" id="S5.T5.4.4.3.m1.1"><semantics id="S5.T5.4.4.3.m1.1a"><msub id="S5.T5.4.4.3.m1.1.1" xref="S5.T5.4.4.3.m1.1.1.cmml"><mi id="S5.T5.4.4.3.m1.1.1.2" mathvariant="normal" xref="S5.T5.4.4.3.m1.1.1.2.cmml">R</mi><mn id="S5.T5.4.4.3.m1.1.1.3" xref="S5.T5.4.4.3.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.4.4.3.m1.1b"><apply id="S5.T5.4.4.3.m1.1.1.cmml" xref="S5.T5.4.4.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.4.4.3.m1.1.1.1.cmml" xref="S5.T5.4.4.3.m1.1.1">subscript</csymbol><ci id="S5.T5.4.4.3.m1.1.1.2.cmml" xref="S5.T5.4.4.3.m1.1.1.2">R</ci><cn id="S5.T5.4.4.3.m1.1.1.3.cmml" type="integer" xref="S5.T5.4.4.3.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.4.4.3.m1.1c">\operatorname{R_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.4.4.3.m1.1d">roman_R start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{\operatorname{MRR}_{5}}" class="ltx_Math" display="inline" id="S5.T5.5.5.4.m1.1"><semantics id="S5.T5.5.5.4.m1.1a"><msub id="S5.T5.5.5.4.m1.1.1" xref="S5.T5.5.5.4.m1.1.1.cmml"><mi id="S5.T5.5.5.4.m1.1.1.2" xref="S5.T5.5.5.4.m1.1.1.2.cmml">MRR</mi><mn id="S5.T5.5.5.4.m1.1.1.3" xref="S5.T5.5.5.4.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.5.5.4.m1.1b"><apply id="S5.T5.5.5.4.m1.1.1.cmml" xref="S5.T5.5.5.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.5.5.4.m1.1.1.1.cmml" xref="S5.T5.5.5.4.m1.1.1">subscript</csymbol><ci id="S5.T5.5.5.4.m1.1.1.2.cmml" xref="S5.T5.5.5.4.m1.1.1.2">MRR</ci><cn id="S5.T5.5.5.4.m1.1.1.3.cmml" type="integer" xref="S5.T5.5.5.4.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.5.5.4.m1.1c">\operatorname{\operatorname{MRR}_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.5.5.4.m1.1d">roman_MRR start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.6.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S5.T5.6.6.5.m1.1"><semantics id="S5.T5.6.6.5.m1.1a"><mi id="S5.T5.6.6.5.m1.1.1" xref="S5.T5.6.6.5.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S5.T5.6.6.5.m1.1b"><ci id="S5.T5.6.6.5.m1.1.1.cmml" xref="S5.T5.6.6.5.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.6.6.5.m1.1c">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.6.6.5.m1.1d">roman_PPL</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{R_{1}}" class="ltx_Math" display="inline" id="S5.T5.7.7.6.m1.1"><semantics id="S5.T5.7.7.6.m1.1a"><msub id="S5.T5.7.7.6.m1.1.1" xref="S5.T5.7.7.6.m1.1.1.cmml"><mi id="S5.T5.7.7.6.m1.1.1.2" mathvariant="normal" xref="S5.T5.7.7.6.m1.1.1.2.cmml">R</mi><mn id="S5.T5.7.7.6.m1.1.1.3" xref="S5.T5.7.7.6.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.7.7.6.m1.1b"><apply id="S5.T5.7.7.6.m1.1.1.cmml" xref="S5.T5.7.7.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.7.7.6.m1.1.1.1.cmml" xref="S5.T5.7.7.6.m1.1.1">subscript</csymbol><ci id="S5.T5.7.7.6.m1.1.1.2.cmml" xref="S5.T5.7.7.6.m1.1.1.2">R</ci><cn id="S5.T5.7.7.6.m1.1.1.3.cmml" type="integer" xref="S5.T5.7.7.6.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.7.7.6.m1.1c">\operatorname{R_{1}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.7.7.6.m1.1d">roman_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.8.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{R_{5}}" class="ltx_Math" display="inline" id="S5.T5.8.8.7.m1.1"><semantics id="S5.T5.8.8.7.m1.1a"><msub id="S5.T5.8.8.7.m1.1.1" xref="S5.T5.8.8.7.m1.1.1.cmml"><mi id="S5.T5.8.8.7.m1.1.1.2" mathvariant="normal" xref="S5.T5.8.8.7.m1.1.1.2.cmml">R</mi><mn id="S5.T5.8.8.7.m1.1.1.3" xref="S5.T5.8.8.7.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.8.8.7.m1.1b"><apply id="S5.T5.8.8.7.m1.1.1.cmml" xref="S5.T5.8.8.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.8.8.7.m1.1.1.1.cmml" xref="S5.T5.8.8.7.m1.1.1">subscript</csymbol><ci id="S5.T5.8.8.7.m1.1.1.2.cmml" xref="S5.T5.8.8.7.m1.1.1.2">R</ci><cn id="S5.T5.8.8.7.m1.1.1.3.cmml" type="integer" xref="S5.T5.8.8.7.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.8.8.7.m1.1c">\operatorname{R_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.8.8.7.m1.1d">roman_R start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.9.9.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{\operatorname{MRR}_{5}}" class="ltx_Math" display="inline" id="S5.T5.9.9.8.m1.1"><semantics id="S5.T5.9.9.8.m1.1a"><msub id="S5.T5.9.9.8.m1.1.1" xref="S5.T5.9.9.8.m1.1.1.cmml"><mi id="S5.T5.9.9.8.m1.1.1.2" xref="S5.T5.9.9.8.m1.1.1.2.cmml">MRR</mi><mn id="S5.T5.9.9.8.m1.1.1.3" xref="S5.T5.9.9.8.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S5.T5.9.9.8.m1.1b"><apply id="S5.T5.9.9.8.m1.1.1.cmml" xref="S5.T5.9.9.8.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.9.9.8.m1.1.1.1.cmml" xref="S5.T5.9.9.8.m1.1.1">subscript</csymbol><ci id="S5.T5.9.9.8.m1.1.1.2.cmml" xref="S5.T5.9.9.8.m1.1.1.2">MRR</ci><cn id="S5.T5.9.9.8.m1.1.1.3.cmml" type="integer" xref="S5.T5.9.9.8.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.9.9.8.m1.1c">\operatorname{\operatorname{MRR}_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.9.9.8.m1.1d">roman_MRR start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T5.10.10">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T5.10.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">GPT<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.T5.10.10.1.m1.1"><semantics id="S5.T5.10.10.1.m1.1a"><mmultiscripts id="S5.T5.10.10.1.m1.1.1" xref="S5.T5.10.10.1.m1.1.1.cmml"><mi id="S5.T5.10.10.1.m1.1.1.2.2" xref="S5.T5.10.10.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T5.10.10.1.m1.1.1a" xref="S5.T5.10.10.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T5.10.10.1.m1.1.1b" xref="S5.T5.10.10.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T5.10.10.1.m1.1.1.3" xref="S5.T5.10.10.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.T5.10.10.1.m1.1.1.2.3" xref="S5.T5.10.10.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T5.10.10.1.m1.1.1c" xref="S5.T5.10.10.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T5.10.10.1.m1.1b"><apply id="S5.T5.10.10.1.m1.1.1.cmml" xref="S5.T5.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.10.10.1.m1.1.1.1.cmml" xref="S5.T5.10.10.1.m1.1.1">superscript</csymbol><apply id="S5.T5.10.10.1.m1.1.1.2.cmml" xref="S5.T5.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.10.10.1.m1.1.1.2.1.cmml" xref="S5.T5.10.10.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T5.10.10.1.m1.1.1.2.2.cmml" xref="S5.T5.10.10.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T5.10.10.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T5.10.10.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T5.10.10.1.m1.1.1.3a.cmml" xref="S5.T5.10.10.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T5.10.10.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T5.10.10.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.10.10.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.10.10.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.708</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.27</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.25</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.10.10.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">83.74</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.445</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.97</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">91.41</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.10.10.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">85.25</td>
</tr>
<tr class="ltx_tr" id="S5.T5.11.11">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T5.11.11.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.11.11.1.1">GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.T5.11.11.1.1.m1.1"><semantics id="S5.T5.11.11.1.1.m1.1a"><mmultiscripts id="S5.T5.11.11.1.1.m1.1.1" xref="S5.T5.11.11.1.1.m1.1.1.cmml"><mi id="S5.T5.11.11.1.1.m1.1.1.2.2" xref="S5.T5.11.11.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T5.11.11.1.1.m1.1.1a" xref="S5.T5.11.11.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T5.11.11.1.1.m1.1.1b" xref="S5.T5.11.11.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T5.11.11.1.1.m1.1.1.3" xref="S5.T5.11.11.1.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.T5.11.11.1.1.m1.1.1.2.3" xref="S5.T5.11.11.1.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.T5.11.11.1.1.m1.1.1c" xref="S5.T5.11.11.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T5.11.11.1.1.m1.1b"><apply id="S5.T5.11.11.1.1.m1.1.1.cmml" xref="S5.T5.11.11.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.11.11.1.1.m1.1.1.1.cmml" xref="S5.T5.11.11.1.1.m1.1.1">superscript</csymbol><apply id="S5.T5.11.11.1.1.m1.1.1.2.cmml" xref="S5.T5.11.11.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.11.11.1.1.m1.1.1.2.1.cmml" xref="S5.T5.11.11.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T5.11.11.1.1.m1.1.1.2.2.cmml" xref="S5.T5.11.11.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T5.11.11.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T5.11.11.1.1.m1.1.1.2.3">9</cn></apply><ci id="S5.T5.11.11.1.1.m1.1.1.3a.cmml" xref="S5.T5.11.11.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T5.11.11.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T5.11.11.1.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.11.11.1.1.m1.1c">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.11.11.1.1.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math></span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.602</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.95</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.69</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.11.11.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">84.33</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.347</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">81.67</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">91.85</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.11.11.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">85.84</td>
</tr>
<tr class="ltx_tr" id="S5.T5.14.15.1">
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.1.1" style="font-size:70%;">-3.91%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.2.1" style="font-size:70%;">0.85%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.3.1" style="font-size:70%;">0.49%</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.14.15.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.4.1" style="font-size:70%;">0.70%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.5.1" style="font-size:70%;">-4.01%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.6.1" style="font-size:70%;">0.86%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.7.1" style="font-size:70%;">0.48%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.15.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.15.1.8.1" style="font-size:70%;">0.69%</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.12.12">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T5.12.12.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.12.12.1.1">RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.T5.12.12.1.1.m1.1"><semantics id="S5.T5.12.12.1.1.m1.1a"><mmultiscripts id="S5.T5.12.12.1.1.m1.1.1" xref="S5.T5.12.12.1.1.m1.1.1.cmml"><mi id="S5.T5.12.12.1.1.m1.1.1.2.2" xref="S5.T5.12.12.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T5.12.12.1.1.m1.1.1a" xref="S5.T5.12.12.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T5.12.12.1.1.m1.1.1b" xref="S5.T5.12.12.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T5.12.12.1.1.m1.1.1.3" xref="S5.T5.12.12.1.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.T5.12.12.1.1.m1.1.1.2.3" xref="S5.T5.12.12.1.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T5.12.12.1.1.m1.1.1c" xref="S5.T5.12.12.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T5.12.12.1.1.m1.1b"><apply id="S5.T5.12.12.1.1.m1.1.1.cmml" xref="S5.T5.12.12.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.12.12.1.1.m1.1.1.1.cmml" xref="S5.T5.12.12.1.1.m1.1.1">superscript</csymbol><apply id="S5.T5.12.12.1.1.m1.1.1.2.cmml" xref="S5.T5.12.12.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.12.12.1.1.m1.1.1.2.1.cmml" xref="S5.T5.12.12.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T5.12.12.1.1.m1.1.1.2.2.cmml" xref="S5.T5.12.12.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T5.12.12.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T5.12.12.1.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T5.12.12.1.1.m1.1.1.3a.cmml" xref="S5.T5.12.12.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T5.12.12.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T5.12.12.1.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.12.12.1.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.12.12.1.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math></span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.536</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">91.11</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.12.12.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">84.78</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.257</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">82.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">92.46</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.12.12.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">86.50</td>
</tr>
<tr class="ltx_tr" id="S5.T5.14.16.2">
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.1.1" style="font-size:70%;">-6.35%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.2.1" style="font-size:70%;">1.43%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.3.1" style="font-size:70%;">0.95%</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.14.16.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.4.1" style="font-size:70%;">1.24%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.5.1" style="font-size:70%;">-7.69%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.6.1" style="font-size:70%;">1.56%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.7.1" style="font-size:70%;">1.19%</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.14.16.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.16.2.8.1" style="font-size:70%;">1.47%</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.13.13">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S5.T5.13.13.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T5.13.13.1.m1.1"><semantics id="S5.T5.13.13.1.m1.1a"><mmultiscripts id="S5.T5.13.13.1.m1.1.1" xref="S5.T5.13.13.1.m1.1.1.cmml"><mi id="S5.T5.13.13.1.m1.1.1.2.2" xref="S5.T5.13.13.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T5.13.13.1.m1.1.1a" xref="S5.T5.13.13.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T5.13.13.1.m1.1.1b" xref="S5.T5.13.13.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T5.13.13.1.m1.1.1.3" xref="S5.T5.13.13.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T5.13.13.1.m1.1.1.2.3" xref="S5.T5.13.13.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.T5.13.13.1.m1.1.1c" xref="S5.T5.13.13.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T5.13.13.1.m1.1b"><apply id="S5.T5.13.13.1.m1.1.1.cmml" xref="S5.T5.13.13.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.13.13.1.m1.1.1.1.cmml" xref="S5.T5.13.13.1.m1.1.1">superscript</csymbol><apply id="S5.T5.13.13.1.m1.1.1.2.cmml" xref="S5.T5.13.13.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.13.13.1.m1.1.1.2.1.cmml" xref="S5.T5.13.13.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T5.13.13.1.m1.1.1.2.2.cmml" xref="S5.T5.13.13.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T5.13.13.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T5.13.13.1.m1.1.1.2.3">9</cn></apply><ci id="S5.T5.13.13.1.m1.1.1.3a.cmml" xref="S5.T5.13.13.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T5.13.13.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T5.13.13.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.13.13.1.m1.1c">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.13.13.1.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.946</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.66</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">86.54</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T5.13.13.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.07</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.433</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">73.06</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">88.18</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.13.13.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.19</td>
</tr>
<tr class="ltx_tr" id="S5.T5.14.14">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S5.T5.14.14.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T5.14.14.1.1">RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T5.14.14.1.1.m1.1"><semantics id="S5.T5.14.14.1.1.m1.1a"><mmultiscripts id="S5.T5.14.14.1.1.m1.1.1" xref="S5.T5.14.14.1.1.m1.1.1.cmml"><mi id="S5.T5.14.14.1.1.m1.1.1.2.2" xref="S5.T5.14.14.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T5.14.14.1.1.m1.1.1a" xref="S5.T5.14.14.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T5.14.14.1.1.m1.1.1b" xref="S5.T5.14.14.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T5.14.14.1.1.m1.1.1.3" xref="S5.T5.14.14.1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T5.14.14.1.1.m1.1.1.2.3" xref="S5.T5.14.14.1.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T5.14.14.1.1.m1.1.1c" xref="S5.T5.14.14.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T5.14.14.1.1.m1.1b"><apply id="S5.T5.14.14.1.1.m1.1.1.cmml" xref="S5.T5.14.14.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.14.14.1.1.m1.1.1.1.cmml" xref="S5.T5.14.14.1.1.m1.1.1">superscript</csymbol><apply id="S5.T5.14.14.1.1.m1.1.1.2.cmml" xref="S5.T5.14.14.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.14.14.1.1.m1.1.1.2.1.cmml" xref="S5.T5.14.14.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T5.14.14.1.1.m1.1.1.2.2.cmml" xref="S5.T5.14.14.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T5.14.14.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T5.14.14.1.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T5.14.14.1.1.m1.1.1.3a.cmml" xref="S5.T5.14.14.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T5.14.14.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T5.14.14.1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.14.14.1.1.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T5.14.14.1.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math></span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.855</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.98</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">86.98</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.14.14.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.293</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">73.65</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">88.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.14.14.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.84</td>
</tr>
<tr class="ltx_tr" id="S5.T5.14.17.3">
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.1.1" style="font-size:70%;">-2.30%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.2.1" style="font-size:70%;">0.45%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.3.1" style="font-size:70%;">0.51%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T5.14.17.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.4.1" style="font-size:70%;">0.49%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.5.1" style="font-size:70%;">-4.08%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.6.1" style="font-size:70%;">0.81%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.7.1" style="font-size:70%;">0.78%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.14.17.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.14.17.3.8.1" style="font-size:70%;">0.82%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T5.17.1.1" style="font-size:90%;">Table 5</span>: </span><span class="ltx_text" id="S5.T5.18.2" style="font-size:90%;">
Single-token metrics on the test set with models trained on a <span class="ltx_text ltx_font_bold" id="S5.T5.18.2.1">larger</span> number of iterations (see Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T4" title="Table 4 ‣ 4.6 Model training ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a>).
Reported are also the relative differences of metrics compared to the baseline GPT-2 models.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.3">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F4" title="Figure 4 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a> we compare our models of all sizes trained on a smaller number of iterations and in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T5" title="Table 5 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a> we report the single-token metrics of our smaller sized models trained over more iterations.
In all cases we observe that the single-token metrics for RETRO are better than those for GPT-2 of comparable size.
However, the difference between the two models decreases when comparing models with approximately equal number of parameters, i.e. RETRO with 6 layers to GPT-2 with 9 layers, as seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T5" title="Table 5 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a>.
In Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T5" title="Table 5 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a> we observe that the differences between RETRO and GPT-2 are higher when calculating metrics from token 64 onwards, suggesting the usefulness of the retrieval mechanism.
Increasing the number of layers and thus the number of model parameters also contributes to improvements in metrics, as is evident from Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F4" title="Figure 4 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a>.
However, by training smaller models over more iterations, we achieve better metrics than using larger models trained for fewer iterations.
The relative differences are larger in bigger models, which may be due to the use of more <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S5.SS1.p3.3.1">Retro</span> layers, as well as the effect of 21% more parameters in RETRO<math alttext="{}_{12}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.p3.2.m2.1"><semantics id="S5.SS1.p3.2.m2.1a"><mmultiscripts id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml"><mi id="S5.SS1.p3.2.m2.1.1.2.2" xref="S5.SS1.p3.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.p3.2.m2.1.1a" xref="S5.SS1.p3.2.m2.1.1.cmml"></mprescripts><mrow id="S5.SS1.p3.2.m2.1.1b" xref="S5.SS1.p3.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.p3.2.m2.1.1.3" xref="S5.SS1.p3.2.m2.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.p3.2.m2.1.1.2.3" xref="S5.SS1.p3.2.m2.1.1.2.3.cmml">12</mn><mrow id="S5.SS1.p3.2.m2.1.1c" xref="S5.SS1.p3.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><apply id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.2.m2.1.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1">superscript</csymbol><apply id="S5.SS1.p3.2.m2.1.1.2.cmml" xref="S5.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.2.m2.1.1.2.1.cmml" xref="S5.SS1.p3.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.p3.2.m2.1.1.2.2.cmml" xref="S5.SS1.p3.2.m2.1.1.2.2">absent</csymbol><cn id="S5.SS1.p3.2.m2.1.1.2.3.cmml" type="integer" xref="S5.SS1.p3.2.m2.1.1.2.3">12</cn></apply><ci id="S5.SS1.p3.2.m2.1.1.3a.cmml" xref="S5.SS1.p3.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.p3.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p3.2.m2.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">{}_{12}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.2.m2.1d">start_FLOATSUBSCRIPT 12 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> compared to GPT<math alttext="{}_{12}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.p3.3.m3.1"><semantics id="S5.SS1.p3.3.m3.1a"><mmultiscripts id="S5.SS1.p3.3.m3.1.1" xref="S5.SS1.p3.3.m3.1.1.cmml"><mi id="S5.SS1.p3.3.m3.1.1.2.2" xref="S5.SS1.p3.3.m3.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.p3.3.m3.1.1a" xref="S5.SS1.p3.3.m3.1.1.cmml"></mprescripts><mrow id="S5.SS1.p3.3.m3.1.1b" xref="S5.SS1.p3.3.m3.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.p3.3.m3.1.1.3" xref="S5.SS1.p3.3.m3.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.p3.3.m3.1.1.2.3" xref="S5.SS1.p3.3.m3.1.1.2.3.cmml">12</mn><mrow id="S5.SS1.p3.3.m3.1.1c" xref="S5.SS1.p3.3.m3.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.3.m3.1b"><apply id="S5.SS1.p3.3.m3.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.1.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1">superscript</csymbol><apply id="S5.SS1.p3.3.m3.1.1.2.cmml" xref="S5.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.1.1.2.1.cmml" xref="S5.SS1.p3.3.m3.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.p3.3.m3.1.1.2.2.cmml" xref="S5.SS1.p3.3.m3.1.1.2.2">absent</csymbol><cn id="S5.SS1.p3.3.m3.1.1.2.3.cmml" type="integer" xref="S5.SS1.p3.3.m3.1.1.2.3">12</cn></apply><ci id="S5.SS1.p3.3.m3.1.1.3a.cmml" xref="S5.SS1.p3.3.m3.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.p3.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p3.3.m3.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.3.m3.1c">{}_{12}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.3.m3.1d">start_FLOATSUBSCRIPT 12 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.1">We hypothesize that the significant differences in single-token metrics between GPT-2 and StarCoder tokenization are due to the different vocabularies making direct comparison of results less meaningful, so we should instead compare relative differences.
Nevertheless, we surmise that GPT-2 tokenization achieves better single-token metrics in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F4" title="Figure 4 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T5" title="Table 5 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a> due to the whitespace issue from Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.T1" title="Table 1 ‣ 4.1 Tokenization ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">1</span></a>, as the model gets <span class="ltx_text ltx_inline-quote ltx_outerquote" id="S5.SS1.p4.1.1">“easy points”</span> by predicting individual spaces.
Despite larger absolute differences in individual metrics between GPT-2 and StarCoder tokenization, the relative differences in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F4" title="Figure 4 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4</span></a> and in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T5" title="Table 5 ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a> are of comparable magnitude, suggesting a similar contribution of RETRO regardless of the tokenization used.</p>
</div>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Projects in a local database</h5>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p1.1">For practical local use of RETRO, a small number of parameters would not be beneficial if we needed a retrieval database with a billion tokens to see benefits.
Therefore, we examine the contribution of RETRO using retrieval databases constructed from <em class="ltx_emph ltx_font_italic" id="S5.SS1.SSS0.Px1.p1.1.1">individual</em> projects in the test set by sampling 500 projects, such that the projects are evenly distributed with respect to the number of files, up to a maximum of 300 files.</p>
</div>
<figure class="ltx_figure" id="S5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="332" id="S5.F5.g1" src="x7.png" width="664"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F5.8.4.1" style="font-size:90%;">Figure 5</span>: </span><span class="ltx_text" id="S5.F5.6.3" style="font-size:90%;">Distribution of relative improvement in <math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="S5.F5.4.1.m1.1"><semantics id="S5.F5.4.1.m1.1b"><mi id="S5.F5.4.1.m1.1.1" xref="S5.F5.4.1.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="S5.F5.4.1.m1.1c"><ci id="S5.F5.4.1.m1.1.1.cmml" xref="S5.F5.4.1.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.4.1.m1.1d">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S5.F5.4.1.m1.1e">roman_PPL</annotation></semantics></math> between RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.F5.5.2.m2.1"><semantics id="S5.F5.5.2.m2.1b"><mmultiscripts id="S5.F5.5.2.m2.1.1" xref="S5.F5.5.2.m2.1.1.cmml"><mi id="S5.F5.5.2.m2.1.1.2.2" xref="S5.F5.5.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.F5.5.2.m2.1.1b" xref="S5.F5.5.2.m2.1.1.cmml"></mprescripts><mrow id="S5.F5.5.2.m2.1.1c" xref="S5.F5.5.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.F5.5.2.m2.1.1.3" xref="S5.F5.5.2.m2.1.1.3a.cmml">gpt</mtext><mn id="S5.F5.5.2.m2.1.1.2.3" xref="S5.F5.5.2.m2.1.1.2.3.cmml">6</mn><mrow id="S5.F5.5.2.m2.1.1d" xref="S5.F5.5.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.F5.5.2.m2.1c"><apply id="S5.F5.5.2.m2.1.1.cmml" xref="S5.F5.5.2.m2.1.1"><csymbol cd="ambiguous" id="S5.F5.5.2.m2.1.1.1.cmml" xref="S5.F5.5.2.m2.1.1">superscript</csymbol><apply id="S5.F5.5.2.m2.1.1.2.cmml" xref="S5.F5.5.2.m2.1.1"><csymbol cd="ambiguous" id="S5.F5.5.2.m2.1.1.2.1.cmml" xref="S5.F5.5.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.F5.5.2.m2.1.1.2.2.cmml" xref="S5.F5.5.2.m2.1.1.2.2">absent</csymbol><cn id="S5.F5.5.2.m2.1.1.2.3.cmml" type="integer" xref="S5.F5.5.2.m2.1.1.2.3">6</cn></apply><ci id="S5.F5.5.2.m2.1.1.3a.cmml" xref="S5.F5.5.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.F5.5.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.F5.5.2.m2.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.5.2.m2.1d">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.F5.5.2.m2.1e">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> and GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.F5.6.3.m3.1"><semantics id="S5.F5.6.3.m3.1b"><mmultiscripts id="S5.F5.6.3.m3.1.1" xref="S5.F5.6.3.m3.1.1.cmml"><mi id="S5.F5.6.3.m3.1.1.2.2" xref="S5.F5.6.3.m3.1.1.2.2.cmml"></mi><mprescripts id="S5.F5.6.3.m3.1.1b" xref="S5.F5.6.3.m3.1.1.cmml"></mprescripts><mrow id="S5.F5.6.3.m3.1.1c" xref="S5.F5.6.3.m3.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.F5.6.3.m3.1.1.3" xref="S5.F5.6.3.m3.1.1.3a.cmml">gpt</mtext><mn id="S5.F5.6.3.m3.1.1.2.3" xref="S5.F5.6.3.m3.1.1.2.3.cmml">9</mn><mrow id="S5.F5.6.3.m3.1.1d" xref="S5.F5.6.3.m3.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.F5.6.3.m3.1c"><apply id="S5.F5.6.3.m3.1.1.cmml" xref="S5.F5.6.3.m3.1.1"><csymbol cd="ambiguous" id="S5.F5.6.3.m3.1.1.1.cmml" xref="S5.F5.6.3.m3.1.1">superscript</csymbol><apply id="S5.F5.6.3.m3.1.1.2.cmml" xref="S5.F5.6.3.m3.1.1"><csymbol cd="ambiguous" id="S5.F5.6.3.m3.1.1.2.1.cmml" xref="S5.F5.6.3.m3.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.F5.6.3.m3.1.1.2.2.cmml" xref="S5.F5.6.3.m3.1.1.2.2">absent</csymbol><cn id="S5.F5.6.3.m3.1.1.2.3.cmml" type="integer" xref="S5.F5.6.3.m3.1.1.2.3">9</cn></apply><ci id="S5.F5.6.3.m3.1.1.3a.cmml" xref="S5.F5.6.3.m3.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.F5.6.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.F5.6.3.m3.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.6.3.m3.1d">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.F5.6.3.m3.1e">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> on 500 projects from our StarCoder test set based on the used retrieval database.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p2">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p2.4">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F5" title="Figure 5 ‣ Projects in a local database ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5</span></a>, we compare the relative improvement of RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p2.1.m1.1"><semantics id="S5.SS1.SSS0.Px1.p2.1.m1.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p2.1.m1.1.1" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.2" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p2.1.m1.1.1a" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p2.1.m1.1.1b" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.3" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.SSS0.Px1.p2.1.m1.1.1c" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p2.1.m1.1b"><apply id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.2.3">6</cn></apply><ci id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p2.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p2.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p2.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> against GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p2.2.m2.1"><semantics id="S5.SS1.SSS0.Px1.p2.2.m2.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p2.2.m2.1.1" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.2" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p2.2.m2.1.1a" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p2.2.m2.1.1b" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.3" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.3.cmml">9</mn><mrow id="S5.SS1.SSS0.Px1.p2.2.m2.1.1c" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p2.2.m2.1b"><apply id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.2.3">9</cn></apply><ci id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p2.2.m2.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p2.2.m2.1c">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p2.2.m2.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> on projects using different retrieval databases.
We limit the comparison to RETRO with 6 layers and GPT-2 with 9 layers to reduce the impact of the difference in the model sizes.
Retrieving from the entire StarCoder training set contributes to a greater improvement compared to retrieving only from individual projects, which is consistent with the findings of <cite class="ltx_cite ltx_citemacro_citet">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib3" title="">2022</a>)</cite>, who observe improvements with increasing the retrieval database size. We also test retrieval from the project without removing snippets originating from the same file as the input context, which gives an upper bound estimate for RETRO since the found snippets contain the correct next tokens.
As expected, the difference with GPT-2 is in this case more significant, but it does not reach a perfect success rate.
A lower bound estimate for RETRO is obtained when we retrieve random chunks from the entire training set.
In this case, we observe that the 6-layer RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p2.3.m3.1"><semantics id="S5.SS1.SSS0.Px1.p2.3.m3.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p2.3.m3.1.1" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.2" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p2.3.m3.1.1a" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p2.3.m3.1.1b" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.3" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.SSS0.Px1.p2.3.m3.1.1c" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p2.3.m3.1b"><apply id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.2.3">6</cn></apply><ci id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p2.3.m3.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p2.3.m3.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p2.3.m3.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> performs worse than the 9-layer GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p2.4.m4.1"><semantics id="S5.SS1.SSS0.Px1.p2.4.m4.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p2.4.m4.1.1" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.2" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p2.4.m4.1.1a" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p2.4.m4.1.1b" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.3" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.3.cmml">9</mn><mrow id="S5.SS1.SSS0.Px1.p2.4.m4.1.1c" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p2.4.m4.1b"><apply id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.2.3">9</cn></apply><ci id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p2.4.m4.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p2.4.m4.1c">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p2.4.m4.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>, which is expected, as it does not benefit from retrieval and consequently behaves as a 6-layer GPT-2 with added noise.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p3">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p3.2">From Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T6" title="Table 6 ‣ Projects in a local database ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">6</span></a>, we can see that the single-token metrics using only RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p3.1.m1.1"><semantics id="S5.SS1.SSS0.Px1.p3.1.m1.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p3.1.m1.1.1" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.2" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p3.1.m1.1.1a" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p3.1.m1.1.1b" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.3" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.SS1.SSS0.Px1.p3.1.m1.1.1c" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p3.1.m1.1b"><apply id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.2.3">6</cn></apply><ci id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p3.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p3.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p3.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> with the training set (without the test set) for retrieval are comparable to those of GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p3.2.m2.1"><semantics id="S5.SS1.SSS0.Px1.p3.2.m2.1a"><mmultiscripts id="S5.SS1.SSS0.Px1.p3.2.m2.1.1" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.cmml"><mi id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.2" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.SS1.SSS0.Px1.p3.2.m2.1.1a" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.cmml"></mprescripts><mrow id="S5.SS1.SSS0.Px1.p3.2.m2.1.1b" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3a.cmml">gpt</mtext><mn id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.3" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.3.cmml">9</mn><mrow id="S5.SS1.SSS0.Px1.p3.2.m2.1.1c" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p3.2.m2.1b"><apply id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1">superscript</csymbol><apply id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.1.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.2.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.2">absent</csymbol><cn id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.3.cmml" type="integer" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.2.3">9</cn></apply><ci id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3a.cmml" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS0.Px1.p3.2.m2.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p3.2.m2.1c">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p3.2.m2.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>.
This can be attributed to the fact that retrieving from the training set does not provide new information, as both models have seen the entire training set during training.
We therefore conclude that retrieval is only meaningful on new, previously unseen data for the model.
When retrieving from projects, the data is new, as the projects are sampled from the test set.
An implication of this observation is that it might be beneficial to train RETRO using a retrieval database different from the training set.
The training could also include examples of random chunks to help the model better learn to skip irrelevant information, and examples of same-document snippets to help the model better learn to copy correct answers.</p>
</div>
<figure class="ltx_table" id="S5.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T6.24">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T6.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Retrieval database</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\Delta\operatorname{PPL}" class="ltx_Math" display="inline" id="S5.T6.1.1.1.m1.1"><semantics id="S5.T6.1.1.1.m1.1a"><mrow id="S5.T6.1.1.1.m1.1.1" xref="S5.T6.1.1.1.m1.1.1.cmml"><mi id="S5.T6.1.1.1.m1.1.1.2" mathvariant="normal" xref="S5.T6.1.1.1.m1.1.1.2.cmml">Δ</mi><mo id="S5.T6.1.1.1.m1.1.1.1" lspace="0.167em" xref="S5.T6.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T6.1.1.1.m1.1.1.3" xref="S5.T6.1.1.1.m1.1.1.3.cmml">PPL</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T6.1.1.1.m1.1b"><apply id="S5.T6.1.1.1.m1.1.1.cmml" xref="S5.T6.1.1.1.m1.1.1"><times id="S5.T6.1.1.1.m1.1.1.1.cmml" xref="S5.T6.1.1.1.m1.1.1.1"></times><ci id="S5.T6.1.1.1.m1.1.1.2.cmml" xref="S5.T6.1.1.1.m1.1.1.2">Δ</ci><ci id="S5.T6.1.1.1.m1.1.1.3.cmml" xref="S5.T6.1.1.1.m1.1.1.3">PPL</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.1.1.1.m1.1c">\Delta\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.1.1.1.m1.1d">roman_Δ roman_PPL</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T6.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\Delta\operatorname{R_{1}}" class="ltx_Math" display="inline" id="S5.T6.2.2.2.m1.1"><semantics id="S5.T6.2.2.2.m1.1a"><mrow id="S5.T6.2.2.2.m1.1.1" xref="S5.T6.2.2.2.m1.1.1.cmml"><mi id="S5.T6.2.2.2.m1.1.1.2" mathvariant="normal" xref="S5.T6.2.2.2.m1.1.1.2.cmml">Δ</mi><mo id="S5.T6.2.2.2.m1.1.1.1" xref="S5.T6.2.2.2.m1.1.1.1.cmml">⁢</mo><msub id="S5.T6.2.2.2.m1.1.1.3" xref="S5.T6.2.2.2.m1.1.1.3.cmml"><mi id="S5.T6.2.2.2.m1.1.1.3.2" mathvariant="normal" xref="S5.T6.2.2.2.m1.1.1.3.2.cmml">R</mi><mn id="S5.T6.2.2.2.m1.1.1.3.3" xref="S5.T6.2.2.2.m1.1.1.3.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.T6.2.2.2.m1.1b"><apply id="S5.T6.2.2.2.m1.1.1.cmml" xref="S5.T6.2.2.2.m1.1.1"><times id="S5.T6.2.2.2.m1.1.1.1.cmml" xref="S5.T6.2.2.2.m1.1.1.1"></times><ci id="S5.T6.2.2.2.m1.1.1.2.cmml" xref="S5.T6.2.2.2.m1.1.1.2">Δ</ci><apply id="S5.T6.2.2.2.m1.1.1.3.cmml" xref="S5.T6.2.2.2.m1.1.1.3"><csymbol cd="ambiguous" id="S5.T6.2.2.2.m1.1.1.3.1.cmml" xref="S5.T6.2.2.2.m1.1.1.3">subscript</csymbol><ci id="S5.T6.2.2.2.m1.1.1.3.2.cmml" xref="S5.T6.2.2.2.m1.1.1.3.2">R</ci><cn id="S5.T6.2.2.2.m1.1.1.3.3.cmml" type="integer" xref="S5.T6.2.2.2.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.2.2.2.m1.1c">\Delta\operatorname{R_{1}}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.2.2.2.m1.1d">roman_Δ start_OPFUNCTION roman_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_OPFUNCTION</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T6.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\Delta\operatorname{R_{5}}" class="ltx_Math" display="inline" id="S5.T6.3.3.3.m1.1"><semantics id="S5.T6.3.3.3.m1.1a"><mrow id="S5.T6.3.3.3.m1.1.1" xref="S5.T6.3.3.3.m1.1.1.cmml"><mi id="S5.T6.3.3.3.m1.1.1.2" mathvariant="normal" xref="S5.T6.3.3.3.m1.1.1.2.cmml">Δ</mi><mo id="S5.T6.3.3.3.m1.1.1.1" xref="S5.T6.3.3.3.m1.1.1.1.cmml">⁢</mo><msub id="S5.T6.3.3.3.m1.1.1.3" xref="S5.T6.3.3.3.m1.1.1.3.cmml"><mi id="S5.T6.3.3.3.m1.1.1.3.2" mathvariant="normal" xref="S5.T6.3.3.3.m1.1.1.3.2.cmml">R</mi><mn id="S5.T6.3.3.3.m1.1.1.3.3" xref="S5.T6.3.3.3.m1.1.1.3.3.cmml">5</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.T6.3.3.3.m1.1b"><apply id="S5.T6.3.3.3.m1.1.1.cmml" xref="S5.T6.3.3.3.m1.1.1"><times id="S5.T6.3.3.3.m1.1.1.1.cmml" xref="S5.T6.3.3.3.m1.1.1.1"></times><ci id="S5.T6.3.3.3.m1.1.1.2.cmml" xref="S5.T6.3.3.3.m1.1.1.2">Δ</ci><apply id="S5.T6.3.3.3.m1.1.1.3.cmml" xref="S5.T6.3.3.3.m1.1.1.3"><csymbol cd="ambiguous" id="S5.T6.3.3.3.m1.1.1.3.1.cmml" xref="S5.T6.3.3.3.m1.1.1.3">subscript</csymbol><ci id="S5.T6.3.3.3.m1.1.1.3.2.cmml" xref="S5.T6.3.3.3.m1.1.1.3.2">R</ci><cn id="S5.T6.3.3.3.m1.1.1.3.3.cmml" type="integer" xref="S5.T6.3.3.3.m1.1.1.3.3">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.3.3.3.m1.1c">\Delta\operatorname{R_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.3.3.3.m1.1d">roman_Δ start_OPFUNCTION roman_R start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT end_OPFUNCTION</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T6.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\Delta\operatorname{\operatorname{MRR}_{5}}" class="ltx_Math" display="inline" id="S5.T6.4.4.4.m1.1"><semantics id="S5.T6.4.4.4.m1.1a"><mrow id="S5.T6.4.4.4.m1.1.1" xref="S5.T6.4.4.4.m1.1.1.cmml"><mi id="S5.T6.4.4.4.m1.1.1.2" mathvariant="normal" xref="S5.T6.4.4.4.m1.1.1.2.cmml">Δ</mi><mo id="S5.T6.4.4.4.m1.1.1.1" lspace="0.167em" xref="S5.T6.4.4.4.m1.1.1.1.cmml">⁢</mo><msub id="S5.T6.4.4.4.m1.1.1.3" xref="S5.T6.4.4.4.m1.1.1.3.cmml"><mi id="S5.T6.4.4.4.m1.1.1.3.2" xref="S5.T6.4.4.4.m1.1.1.3.2.cmml">MRR</mi><mn id="S5.T6.4.4.4.m1.1.1.3.3" xref="S5.T6.4.4.4.m1.1.1.3.3.cmml">5</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.T6.4.4.4.m1.1b"><apply id="S5.T6.4.4.4.m1.1.1.cmml" xref="S5.T6.4.4.4.m1.1.1"><times id="S5.T6.4.4.4.m1.1.1.1.cmml" xref="S5.T6.4.4.4.m1.1.1.1"></times><ci id="S5.T6.4.4.4.m1.1.1.2.cmml" xref="S5.T6.4.4.4.m1.1.1.2">Δ</ci><apply id="S5.T6.4.4.4.m1.1.1.3.cmml" xref="S5.T6.4.4.4.m1.1.1.3"><csymbol cd="ambiguous" id="S5.T6.4.4.4.m1.1.1.3.1.cmml" xref="S5.T6.4.4.4.m1.1.1.3">subscript</csymbol><ci id="S5.T6.4.4.4.m1.1.1.3.2.cmml" xref="S5.T6.4.4.4.m1.1.1.3.2">MRR</ci><cn id="S5.T6.4.4.4.m1.1.1.3.3.cmml" type="integer" xref="S5.T6.4.4.4.m1.1.1.3.3">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.4.4.4.m1.1c">\Delta\operatorname{\operatorname{MRR}_{5}}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.4.4.4.m1.1d">roman_Δ start_OPFUNCTION roman_MRR start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT end_OPFUNCTION</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T6.8.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Project</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.86<math alttext="{}_{0.42}^{1.36}" class="ltx_Math" display="inline" id="S5.T6.5.5.1.m1.1"><semantics id="S5.T6.5.5.1.m1.1a"><mmultiscripts id="S5.T6.5.5.1.m1.1.1" xref="S5.T6.5.5.1.m1.1.1.cmml"><mi id="S5.T6.5.5.1.m1.1.1.2.2" xref="S5.T6.5.5.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.5.5.1.m1.1.1a" xref="S5.T6.5.5.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.5.5.1.m1.1.1b" xref="S5.T6.5.5.1.m1.1.1.cmml"></mrow><mn id="S5.T6.5.5.1.m1.1.1.3" xref="S5.T6.5.5.1.m1.1.1.3.cmml">1.36</mn><mn id="S5.T6.5.5.1.m1.1.1.2.3" xref="S5.T6.5.5.1.m1.1.1.2.3.cmml">0.42</mn><mrow id="S5.T6.5.5.1.m1.1.1c" xref="S5.T6.5.5.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.5.5.1.m1.1b"><apply id="S5.T6.5.5.1.m1.1.1.cmml" xref="S5.T6.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.5.5.1.m1.1.1.1.cmml" xref="S5.T6.5.5.1.m1.1.1">superscript</csymbol><apply id="S5.T6.5.5.1.m1.1.1.2.cmml" xref="S5.T6.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.5.5.1.m1.1.1.2.1.cmml" xref="S5.T6.5.5.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.5.5.1.m1.1.1.2.2.cmml" xref="S5.T6.5.5.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.5.5.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.5.5.1.m1.1.1.2.3">0.42</cn></apply><cn id="S5.T6.5.5.1.m1.1.1.3.cmml" type="float" xref="S5.T6.5.5.1.m1.1.1.3">1.36</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.5.5.1.m1.1c">{}_{0.42}^{1.36}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.5.5.1.m1.1d">start_FLOATSUBSCRIPT 0.42 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 1.36 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12<math alttext="{}_{0.01}^{0.23}" class="ltx_Math" display="inline" id="S5.T6.6.6.2.m1.1"><semantics id="S5.T6.6.6.2.m1.1a"><mmultiscripts id="S5.T6.6.6.2.m1.1.1" xref="S5.T6.6.6.2.m1.1.1.cmml"><mi id="S5.T6.6.6.2.m1.1.1.2.2" xref="S5.T6.6.6.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.6.6.2.m1.1.1a" xref="S5.T6.6.6.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.6.6.2.m1.1.1b" xref="S5.T6.6.6.2.m1.1.1.cmml"></mrow><mn id="S5.T6.6.6.2.m1.1.1.3" xref="S5.T6.6.6.2.m1.1.1.3.cmml">0.23</mn><mn id="S5.T6.6.6.2.m1.1.1.2.3" xref="S5.T6.6.6.2.m1.1.1.2.3.cmml">0.01</mn><mrow id="S5.T6.6.6.2.m1.1.1c" xref="S5.T6.6.6.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.6.6.2.m1.1b"><apply id="S5.T6.6.6.2.m1.1.1.cmml" xref="S5.T6.6.6.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.6.6.2.m1.1.1.1.cmml" xref="S5.T6.6.6.2.m1.1.1">superscript</csymbol><apply id="S5.T6.6.6.2.m1.1.1.2.cmml" xref="S5.T6.6.6.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.6.6.2.m1.1.1.2.1.cmml" xref="S5.T6.6.6.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.6.6.2.m1.1.1.2.2.cmml" xref="S5.T6.6.6.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.6.6.2.m1.1.1.2.3.cmml" type="float" xref="S5.T6.6.6.2.m1.1.1.2.3">0.01</cn></apply><cn id="S5.T6.6.6.2.m1.1.1.3.cmml" type="float" xref="S5.T6.6.6.2.m1.1.1.3">0.23</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.6.6.2.m1.1c">{}_{0.01}^{0.23}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.6.6.2.m1.1d">start_FLOATSUBSCRIPT 0.01 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.23 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.24<math alttext="{}_{0.17}^{0.31}" class="ltx_Math" display="inline" id="S5.T6.7.7.3.m1.1"><semantics id="S5.T6.7.7.3.m1.1a"><mmultiscripts id="S5.T6.7.7.3.m1.1.1" xref="S5.T6.7.7.3.m1.1.1.cmml"><mi id="S5.T6.7.7.3.m1.1.1.2.2" xref="S5.T6.7.7.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.7.7.3.m1.1.1a" xref="S5.T6.7.7.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.7.7.3.m1.1.1b" xref="S5.T6.7.7.3.m1.1.1.cmml"></mrow><mn id="S5.T6.7.7.3.m1.1.1.3" xref="S5.T6.7.7.3.m1.1.1.3.cmml">0.31</mn><mn id="S5.T6.7.7.3.m1.1.1.2.3" xref="S5.T6.7.7.3.m1.1.1.2.3.cmml">0.17</mn><mrow id="S5.T6.7.7.3.m1.1.1c" xref="S5.T6.7.7.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.7.7.3.m1.1b"><apply id="S5.T6.7.7.3.m1.1.1.cmml" xref="S5.T6.7.7.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.7.7.3.m1.1.1.1.cmml" xref="S5.T6.7.7.3.m1.1.1">superscript</csymbol><apply id="S5.T6.7.7.3.m1.1.1.2.cmml" xref="S5.T6.7.7.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.7.7.3.m1.1.1.2.1.cmml" xref="S5.T6.7.7.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.7.7.3.m1.1.1.2.2.cmml" xref="S5.T6.7.7.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.7.7.3.m1.1.1.2.3.cmml" type="float" xref="S5.T6.7.7.3.m1.1.1.2.3">0.17</cn></apply><cn id="S5.T6.7.7.3.m1.1.1.3.cmml" type="float" xref="S5.T6.7.7.3.m1.1.1.3">0.31</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.7.7.3.m1.1c">{}_{0.17}^{0.31}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.7.7.3.m1.1d">start_FLOATSUBSCRIPT 0.17 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.31 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.18<math alttext="{}_{0.09}^{0.27}" class="ltx_Math" display="inline" id="S5.T6.8.8.4.m1.1"><semantics id="S5.T6.8.8.4.m1.1a"><mmultiscripts id="S5.T6.8.8.4.m1.1.1" xref="S5.T6.8.8.4.m1.1.1.cmml"><mi id="S5.T6.8.8.4.m1.1.1.2.2" xref="S5.T6.8.8.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.8.8.4.m1.1.1a" xref="S5.T6.8.8.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.8.8.4.m1.1.1b" xref="S5.T6.8.8.4.m1.1.1.cmml"></mrow><mn id="S5.T6.8.8.4.m1.1.1.3" xref="S5.T6.8.8.4.m1.1.1.3.cmml">0.27</mn><mn id="S5.T6.8.8.4.m1.1.1.2.3" xref="S5.T6.8.8.4.m1.1.1.2.3.cmml">0.09</mn><mrow id="S5.T6.8.8.4.m1.1.1c" xref="S5.T6.8.8.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.8.8.4.m1.1b"><apply id="S5.T6.8.8.4.m1.1.1.cmml" xref="S5.T6.8.8.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.8.8.4.m1.1.1.1.cmml" xref="S5.T6.8.8.4.m1.1.1">superscript</csymbol><apply id="S5.T6.8.8.4.m1.1.1.2.cmml" xref="S5.T6.8.8.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.8.8.4.m1.1.1.2.1.cmml" xref="S5.T6.8.8.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.8.8.4.m1.1.1.2.2.cmml" xref="S5.T6.8.8.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.8.8.4.m1.1.1.2.3.cmml" type="float" xref="S5.T6.8.8.4.m1.1.1.2.3">0.09</cn></apply><cn id="S5.T6.8.8.4.m1.1.1.3.cmml" type="float" xref="S5.T6.8.8.4.m1.1.1.3">0.27</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.8.8.4.m1.1c">{}_{0.09}^{0.27}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.8.8.4.m1.1d">start_FLOATSUBSCRIPT 0.09 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.27 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.12.12">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.12.12.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Training set</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.05<math alttext="{}_{-0.45}^{0.37}" class="ltx_Math" display="inline" id="S5.T6.9.9.1.m1.1"><semantics id="S5.T6.9.9.1.m1.1a"><mmultiscripts id="S5.T6.9.9.1.m1.1.1" xref="S5.T6.9.9.1.m1.1.1.cmml"><mi id="S5.T6.9.9.1.m1.1.1.2.2" xref="S5.T6.9.9.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.9.9.1.m1.1.1a" xref="S5.T6.9.9.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.9.9.1.m1.1.1b" xref="S5.T6.9.9.1.m1.1.1.cmml"></mrow><mn id="S5.T6.9.9.1.m1.1.1.3" xref="S5.T6.9.9.1.m1.1.1.3.cmml">0.37</mn><mrow id="S5.T6.9.9.1.m1.1.1.2.3" xref="S5.T6.9.9.1.m1.1.1.2.3.cmml"><mo id="S5.T6.9.9.1.m1.1.1.2.3a" xref="S5.T6.9.9.1.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.9.9.1.m1.1.1.2.3.2" xref="S5.T6.9.9.1.m1.1.1.2.3.2.cmml">0.45</mn></mrow><mrow id="S5.T6.9.9.1.m1.1.1c" xref="S5.T6.9.9.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.9.9.1.m1.1b"><apply id="S5.T6.9.9.1.m1.1.1.cmml" xref="S5.T6.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.9.9.1.m1.1.1.1.cmml" xref="S5.T6.9.9.1.m1.1.1">superscript</csymbol><apply id="S5.T6.9.9.1.m1.1.1.2.cmml" xref="S5.T6.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.9.9.1.m1.1.1.2.1.cmml" xref="S5.T6.9.9.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.9.9.1.m1.1.1.2.2.cmml" xref="S5.T6.9.9.1.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.9.9.1.m1.1.1.2.3.cmml" xref="S5.T6.9.9.1.m1.1.1.2.3"><minus id="S5.T6.9.9.1.m1.1.1.2.3.1.cmml" xref="S5.T6.9.9.1.m1.1.1.2.3"></minus><cn id="S5.T6.9.9.1.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.9.9.1.m1.1.1.2.3.2">0.45</cn></apply></apply><cn id="S5.T6.9.9.1.m1.1.1.3.cmml" type="float" xref="S5.T6.9.9.1.m1.1.1.3">0.37</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.9.9.1.m1.1c">{}_{-0.45}^{0.37}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.9.9.1.m1.1d">start_FLOATSUBSCRIPT - 0.45 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.37 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.03<math alttext="{}_{-0.12}^{0.07}" class="ltx_Math" display="inline" id="S5.T6.10.10.2.m1.1"><semantics id="S5.T6.10.10.2.m1.1a"><mmultiscripts id="S5.T6.10.10.2.m1.1.1" xref="S5.T6.10.10.2.m1.1.1.cmml"><mi id="S5.T6.10.10.2.m1.1.1.2.2" xref="S5.T6.10.10.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.10.10.2.m1.1.1a" xref="S5.T6.10.10.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.10.10.2.m1.1.1b" xref="S5.T6.10.10.2.m1.1.1.cmml"></mrow><mn id="S5.T6.10.10.2.m1.1.1.3" xref="S5.T6.10.10.2.m1.1.1.3.cmml">0.07</mn><mrow id="S5.T6.10.10.2.m1.1.1.2.3" xref="S5.T6.10.10.2.m1.1.1.2.3.cmml"><mo id="S5.T6.10.10.2.m1.1.1.2.3a" xref="S5.T6.10.10.2.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.10.10.2.m1.1.1.2.3.2" xref="S5.T6.10.10.2.m1.1.1.2.3.2.cmml">0.12</mn></mrow><mrow id="S5.T6.10.10.2.m1.1.1c" xref="S5.T6.10.10.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.10.10.2.m1.1b"><apply id="S5.T6.10.10.2.m1.1.1.cmml" xref="S5.T6.10.10.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.10.10.2.m1.1.1.1.cmml" xref="S5.T6.10.10.2.m1.1.1">superscript</csymbol><apply id="S5.T6.10.10.2.m1.1.1.2.cmml" xref="S5.T6.10.10.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.10.10.2.m1.1.1.2.1.cmml" xref="S5.T6.10.10.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.10.10.2.m1.1.1.2.2.cmml" xref="S5.T6.10.10.2.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.10.10.2.m1.1.1.2.3.cmml" xref="S5.T6.10.10.2.m1.1.1.2.3"><minus id="S5.T6.10.10.2.m1.1.1.2.3.1.cmml" xref="S5.T6.10.10.2.m1.1.1.2.3"></minus><cn id="S5.T6.10.10.2.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.10.10.2.m1.1.1.2.3.2">0.12</cn></apply></apply><cn id="S5.T6.10.10.2.m1.1.1.3.cmml" type="float" xref="S5.T6.10.10.2.m1.1.1.3">0.07</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.10.10.2.m1.1c">{}_{-0.12}^{0.07}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.10.10.2.m1.1d">start_FLOATSUBSCRIPT - 0.12 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.07 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.11.11.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12<math alttext="{}_{0.06}^{0.18}" class="ltx_Math" display="inline" id="S5.T6.11.11.3.m1.1"><semantics id="S5.T6.11.11.3.m1.1a"><mmultiscripts id="S5.T6.11.11.3.m1.1.1" xref="S5.T6.11.11.3.m1.1.1.cmml"><mi id="S5.T6.11.11.3.m1.1.1.2.2" xref="S5.T6.11.11.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.11.11.3.m1.1.1a" xref="S5.T6.11.11.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.11.11.3.m1.1.1b" xref="S5.T6.11.11.3.m1.1.1.cmml"></mrow><mn id="S5.T6.11.11.3.m1.1.1.3" xref="S5.T6.11.11.3.m1.1.1.3.cmml">0.18</mn><mn id="S5.T6.11.11.3.m1.1.1.2.3" xref="S5.T6.11.11.3.m1.1.1.2.3.cmml">0.06</mn><mrow id="S5.T6.11.11.3.m1.1.1c" xref="S5.T6.11.11.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.11.11.3.m1.1b"><apply id="S5.T6.11.11.3.m1.1.1.cmml" xref="S5.T6.11.11.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.11.11.3.m1.1.1.1.cmml" xref="S5.T6.11.11.3.m1.1.1">superscript</csymbol><apply id="S5.T6.11.11.3.m1.1.1.2.cmml" xref="S5.T6.11.11.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.11.11.3.m1.1.1.2.1.cmml" xref="S5.T6.11.11.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.11.11.3.m1.1.1.2.2.cmml" xref="S5.T6.11.11.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.11.11.3.m1.1.1.2.3.cmml" type="float" xref="S5.T6.11.11.3.m1.1.1.2.3">0.06</cn></apply><cn id="S5.T6.11.11.3.m1.1.1.3.cmml" type="float" xref="S5.T6.11.11.3.m1.1.1.3">0.18</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.11.11.3.m1.1c">{}_{0.06}^{0.18}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.11.11.3.m1.1d">start_FLOATSUBSCRIPT 0.06 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.18 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.12.12.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.05<math alttext="{}_{-0.03}^{0.13}" class="ltx_Math" display="inline" id="S5.T6.12.12.4.m1.1"><semantics id="S5.T6.12.12.4.m1.1a"><mmultiscripts id="S5.T6.12.12.4.m1.1.1" xref="S5.T6.12.12.4.m1.1.1.cmml"><mi id="S5.T6.12.12.4.m1.1.1.2.2" xref="S5.T6.12.12.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.12.12.4.m1.1.1a" xref="S5.T6.12.12.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.12.12.4.m1.1.1b" xref="S5.T6.12.12.4.m1.1.1.cmml"></mrow><mn id="S5.T6.12.12.4.m1.1.1.3" xref="S5.T6.12.12.4.m1.1.1.3.cmml">0.13</mn><mrow id="S5.T6.12.12.4.m1.1.1.2.3" xref="S5.T6.12.12.4.m1.1.1.2.3.cmml"><mo id="S5.T6.12.12.4.m1.1.1.2.3a" xref="S5.T6.12.12.4.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.12.12.4.m1.1.1.2.3.2" xref="S5.T6.12.12.4.m1.1.1.2.3.2.cmml">0.03</mn></mrow><mrow id="S5.T6.12.12.4.m1.1.1c" xref="S5.T6.12.12.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.12.12.4.m1.1b"><apply id="S5.T6.12.12.4.m1.1.1.cmml" xref="S5.T6.12.12.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.12.12.4.m1.1.1.1.cmml" xref="S5.T6.12.12.4.m1.1.1">superscript</csymbol><apply id="S5.T6.12.12.4.m1.1.1.2.cmml" xref="S5.T6.12.12.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.12.12.4.m1.1.1.2.1.cmml" xref="S5.T6.12.12.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.12.12.4.m1.1.1.2.2.cmml" xref="S5.T6.12.12.4.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.12.12.4.m1.1.1.2.3.cmml" xref="S5.T6.12.12.4.m1.1.1.2.3"><minus id="S5.T6.12.12.4.m1.1.1.2.3.1.cmml" xref="S5.T6.12.12.4.m1.1.1.2.3"></minus><cn id="S5.T6.12.12.4.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.12.12.4.m1.1.1.2.3.2">0.03</cn></apply></apply><cn id="S5.T6.12.12.4.m1.1.1.3.cmml" type="float" xref="S5.T6.12.12.4.m1.1.1.3">0.13</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.12.12.4.m1.1c">{}_{-0.03}^{0.13}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.12.12.4.m1.1d">start_FLOATSUBSCRIPT - 0.03 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.13 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.16.16">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.16.16.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Training + test set</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.13.13.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T6.13.13.1.1">2.61<math alttext="{}_{2.15}^{3.04}" class="ltx_Math" display="inline" id="S5.T6.13.13.1.1.m1.1"><semantics id="S5.T6.13.13.1.1.m1.1a"><mmultiscripts id="S5.T6.13.13.1.1.m1.1.1" xref="S5.T6.13.13.1.1.m1.1.1.cmml"><mi id="S5.T6.13.13.1.1.m1.1.1.2.2" xref="S5.T6.13.13.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.13.13.1.1.m1.1.1a" xref="S5.T6.13.13.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.13.13.1.1.m1.1.1b" xref="S5.T6.13.13.1.1.m1.1.1.cmml"></mrow><mn id="S5.T6.13.13.1.1.m1.1.1.3" xref="S5.T6.13.13.1.1.m1.1.1.3.cmml">3.04</mn><mn id="S5.T6.13.13.1.1.m1.1.1.2.3" xref="S5.T6.13.13.1.1.m1.1.1.2.3.cmml">2.15</mn><mrow id="S5.T6.13.13.1.1.m1.1.1c" xref="S5.T6.13.13.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.13.13.1.1.m1.1b"><apply id="S5.T6.13.13.1.1.m1.1.1.cmml" xref="S5.T6.13.13.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.13.13.1.1.m1.1.1.1.cmml" xref="S5.T6.13.13.1.1.m1.1.1">superscript</csymbol><apply id="S5.T6.13.13.1.1.m1.1.1.2.cmml" xref="S5.T6.13.13.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.13.13.1.1.m1.1.1.2.1.cmml" xref="S5.T6.13.13.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.13.13.1.1.m1.1.1.2.2.cmml" xref="S5.T6.13.13.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.13.13.1.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.13.13.1.1.m1.1.1.2.3">2.15</cn></apply><cn id="S5.T6.13.13.1.1.m1.1.1.3.cmml" type="float" xref="S5.T6.13.13.1.1.m1.1.1.3">3.04</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.13.13.1.1.m1.1c">{}_{2.15}^{3.04}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.13.13.1.1.m1.1d">start_FLOATSUBSCRIPT 2.15 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 3.04 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.14.14.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T6.14.14.2.1">0.53<math alttext="{}_{0.43}^{0.64}" class="ltx_Math" display="inline" id="S5.T6.14.14.2.1.m1.1"><semantics id="S5.T6.14.14.2.1.m1.1a"><mmultiscripts id="S5.T6.14.14.2.1.m1.1.1" xref="S5.T6.14.14.2.1.m1.1.1.cmml"><mi id="S5.T6.14.14.2.1.m1.1.1.2.2" xref="S5.T6.14.14.2.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.14.14.2.1.m1.1.1a" xref="S5.T6.14.14.2.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.14.14.2.1.m1.1.1b" xref="S5.T6.14.14.2.1.m1.1.1.cmml"></mrow><mn id="S5.T6.14.14.2.1.m1.1.1.3" xref="S5.T6.14.14.2.1.m1.1.1.3.cmml">0.64</mn><mn id="S5.T6.14.14.2.1.m1.1.1.2.3" xref="S5.T6.14.14.2.1.m1.1.1.2.3.cmml">0.43</mn><mrow id="S5.T6.14.14.2.1.m1.1.1c" xref="S5.T6.14.14.2.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.14.14.2.1.m1.1b"><apply id="S5.T6.14.14.2.1.m1.1.1.cmml" xref="S5.T6.14.14.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.14.14.2.1.m1.1.1.1.cmml" xref="S5.T6.14.14.2.1.m1.1.1">superscript</csymbol><apply id="S5.T6.14.14.2.1.m1.1.1.2.cmml" xref="S5.T6.14.14.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.14.14.2.1.m1.1.1.2.1.cmml" xref="S5.T6.14.14.2.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.14.14.2.1.m1.1.1.2.2.cmml" xref="S5.T6.14.14.2.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.14.14.2.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.14.14.2.1.m1.1.1.2.3">0.43</cn></apply><cn id="S5.T6.14.14.2.1.m1.1.1.3.cmml" type="float" xref="S5.T6.14.14.2.1.m1.1.1.3">0.64</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.14.14.2.1.m1.1c">{}_{0.43}^{0.64}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.14.14.2.1.m1.1d">start_FLOATSUBSCRIPT 0.43 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.64 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.15.15.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T6.15.15.3.1">0.51<math alttext="{}_{0.44}^{0.58}" class="ltx_Math" display="inline" id="S5.T6.15.15.3.1.m1.1"><semantics id="S5.T6.15.15.3.1.m1.1a"><mmultiscripts id="S5.T6.15.15.3.1.m1.1.1" xref="S5.T6.15.15.3.1.m1.1.1.cmml"><mi id="S5.T6.15.15.3.1.m1.1.1.2.2" xref="S5.T6.15.15.3.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.15.15.3.1.m1.1.1a" xref="S5.T6.15.15.3.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.15.15.3.1.m1.1.1b" xref="S5.T6.15.15.3.1.m1.1.1.cmml"></mrow><mn id="S5.T6.15.15.3.1.m1.1.1.3" xref="S5.T6.15.15.3.1.m1.1.1.3.cmml">0.58</mn><mn id="S5.T6.15.15.3.1.m1.1.1.2.3" xref="S5.T6.15.15.3.1.m1.1.1.2.3.cmml">0.44</mn><mrow id="S5.T6.15.15.3.1.m1.1.1c" xref="S5.T6.15.15.3.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.15.15.3.1.m1.1b"><apply id="S5.T6.15.15.3.1.m1.1.1.cmml" xref="S5.T6.15.15.3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.15.15.3.1.m1.1.1.1.cmml" xref="S5.T6.15.15.3.1.m1.1.1">superscript</csymbol><apply id="S5.T6.15.15.3.1.m1.1.1.2.cmml" xref="S5.T6.15.15.3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.15.15.3.1.m1.1.1.2.1.cmml" xref="S5.T6.15.15.3.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.15.15.3.1.m1.1.1.2.2.cmml" xref="S5.T6.15.15.3.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.15.15.3.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.15.15.3.1.m1.1.1.2.3">0.44</cn></apply><cn id="S5.T6.15.15.3.1.m1.1.1.3.cmml" type="float" xref="S5.T6.15.15.3.1.m1.1.1.3">0.58</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.15.15.3.1.m1.1c">{}_{0.44}^{0.58}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.15.15.3.1.m1.1d">start_FLOATSUBSCRIPT 0.44 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.58 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.16.16.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T6.16.16.4.1">0.54<math alttext="{}_{0.45}^{0.63}" class="ltx_Math" display="inline" id="S5.T6.16.16.4.1.m1.1"><semantics id="S5.T6.16.16.4.1.m1.1a"><mmultiscripts id="S5.T6.16.16.4.1.m1.1.1" xref="S5.T6.16.16.4.1.m1.1.1.cmml"><mi id="S5.T6.16.16.4.1.m1.1.1.2.2" xref="S5.T6.16.16.4.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.16.16.4.1.m1.1.1a" xref="S5.T6.16.16.4.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.16.16.4.1.m1.1.1b" xref="S5.T6.16.16.4.1.m1.1.1.cmml"></mrow><mn id="S5.T6.16.16.4.1.m1.1.1.3" xref="S5.T6.16.16.4.1.m1.1.1.3.cmml">0.63</mn><mn id="S5.T6.16.16.4.1.m1.1.1.2.3" xref="S5.T6.16.16.4.1.m1.1.1.2.3.cmml">0.45</mn><mrow id="S5.T6.16.16.4.1.m1.1.1c" xref="S5.T6.16.16.4.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.16.16.4.1.m1.1b"><apply id="S5.T6.16.16.4.1.m1.1.1.cmml" xref="S5.T6.16.16.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.16.16.4.1.m1.1.1.1.cmml" xref="S5.T6.16.16.4.1.m1.1.1">superscript</csymbol><apply id="S5.T6.16.16.4.1.m1.1.1.2.cmml" xref="S5.T6.16.16.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.16.16.4.1.m1.1.1.2.1.cmml" xref="S5.T6.16.16.4.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.16.16.4.1.m1.1.1.2.2.cmml" xref="S5.T6.16.16.4.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.16.16.4.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.16.16.4.1.m1.1.1.2.3">0.45</cn></apply><cn id="S5.T6.16.16.4.1.m1.1.1.3.cmml" type="float" xref="S5.T6.16.16.4.1.m1.1.1.3">0.63</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.16.16.4.1.m1.1c">{}_{0.45}^{0.63}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.16.16.4.1.m1.1d">start_FLOATSUBSCRIPT 0.45 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 0.63 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="S5.T6.20.20">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S5.T6.20.20.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Project <em class="ltx_emph ltx_font_italic" id="S5.T6.20.20.5.1">(without filtering)</em>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.17.17.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">28.59<math alttext="{}_{27.89}^{29.39}" class="ltx_Math" display="inline" id="S5.T6.17.17.1.m1.1"><semantics id="S5.T6.17.17.1.m1.1a"><mmultiscripts id="S5.T6.17.17.1.m1.1.1" xref="S5.T6.17.17.1.m1.1.1.cmml"><mi id="S5.T6.17.17.1.m1.1.1.2.2" xref="S5.T6.17.17.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.17.17.1.m1.1.1a" xref="S5.T6.17.17.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.17.17.1.m1.1.1b" xref="S5.T6.17.17.1.m1.1.1.cmml"></mrow><mn id="S5.T6.17.17.1.m1.1.1.3" xref="S5.T6.17.17.1.m1.1.1.3.cmml">29.39</mn><mn id="S5.T6.17.17.1.m1.1.1.2.3" xref="S5.T6.17.17.1.m1.1.1.2.3.cmml">27.89</mn><mrow id="S5.T6.17.17.1.m1.1.1c" xref="S5.T6.17.17.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.17.17.1.m1.1b"><apply id="S5.T6.17.17.1.m1.1.1.cmml" xref="S5.T6.17.17.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.17.17.1.m1.1.1.1.cmml" xref="S5.T6.17.17.1.m1.1.1">superscript</csymbol><apply id="S5.T6.17.17.1.m1.1.1.2.cmml" xref="S5.T6.17.17.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.17.17.1.m1.1.1.2.1.cmml" xref="S5.T6.17.17.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.17.17.1.m1.1.1.2.2.cmml" xref="S5.T6.17.17.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.17.17.1.m1.1.1.2.3.cmml" type="float" xref="S5.T6.17.17.1.m1.1.1.2.3">27.89</cn></apply><cn id="S5.T6.17.17.1.m1.1.1.3.cmml" type="float" xref="S5.T6.17.17.1.m1.1.1.3">29.39</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.17.17.1.m1.1c">{}_{27.89}^{29.39}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.17.17.1.m1.1d">start_FLOATSUBSCRIPT 27.89 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 29.39 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.18.18.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.19<math alttext="{}_{6.99}^{7.44}" class="ltx_Math" display="inline" id="S5.T6.18.18.2.m1.1"><semantics id="S5.T6.18.18.2.m1.1a"><mmultiscripts id="S5.T6.18.18.2.m1.1.1" xref="S5.T6.18.18.2.m1.1.1.cmml"><mi id="S5.T6.18.18.2.m1.1.1.2.2" xref="S5.T6.18.18.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.18.18.2.m1.1.1a" xref="S5.T6.18.18.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.18.18.2.m1.1.1b" xref="S5.T6.18.18.2.m1.1.1.cmml"></mrow><mn id="S5.T6.18.18.2.m1.1.1.3" xref="S5.T6.18.18.2.m1.1.1.3.cmml">7.44</mn><mn id="S5.T6.18.18.2.m1.1.1.2.3" xref="S5.T6.18.18.2.m1.1.1.2.3.cmml">6.99</mn><mrow id="S5.T6.18.18.2.m1.1.1c" xref="S5.T6.18.18.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.18.18.2.m1.1b"><apply id="S5.T6.18.18.2.m1.1.1.cmml" xref="S5.T6.18.18.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.18.18.2.m1.1.1.1.cmml" xref="S5.T6.18.18.2.m1.1.1">superscript</csymbol><apply id="S5.T6.18.18.2.m1.1.1.2.cmml" xref="S5.T6.18.18.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.18.18.2.m1.1.1.2.1.cmml" xref="S5.T6.18.18.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.18.18.2.m1.1.1.2.2.cmml" xref="S5.T6.18.18.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.18.18.2.m1.1.1.2.3.cmml" type="float" xref="S5.T6.18.18.2.m1.1.1.2.3">6.99</cn></apply><cn id="S5.T6.18.18.2.m1.1.1.3.cmml" type="float" xref="S5.T6.18.18.2.m1.1.1.3">7.44</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.18.18.2.m1.1c">{}_{6.99}^{7.44}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.18.18.2.m1.1d">start_FLOATSUBSCRIPT 6.99 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 7.44 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.19.19.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.78<math alttext="{}_{4.64}^{4.97}" class="ltx_Math" display="inline" id="S5.T6.19.19.3.m1.1"><semantics id="S5.T6.19.19.3.m1.1a"><mmultiscripts id="S5.T6.19.19.3.m1.1.1" xref="S5.T6.19.19.3.m1.1.1.cmml"><mi id="S5.T6.19.19.3.m1.1.1.2.2" xref="S5.T6.19.19.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.19.19.3.m1.1.1a" xref="S5.T6.19.19.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.19.19.3.m1.1.1b" xref="S5.T6.19.19.3.m1.1.1.cmml"></mrow><mn id="S5.T6.19.19.3.m1.1.1.3" xref="S5.T6.19.19.3.m1.1.1.3.cmml">4.97</mn><mn id="S5.T6.19.19.3.m1.1.1.2.3" xref="S5.T6.19.19.3.m1.1.1.2.3.cmml">4.64</mn><mrow id="S5.T6.19.19.3.m1.1.1c" xref="S5.T6.19.19.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.19.19.3.m1.1b"><apply id="S5.T6.19.19.3.m1.1.1.cmml" xref="S5.T6.19.19.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.19.19.3.m1.1.1.1.cmml" xref="S5.T6.19.19.3.m1.1.1">superscript</csymbol><apply id="S5.T6.19.19.3.m1.1.1.2.cmml" xref="S5.T6.19.19.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.19.19.3.m1.1.1.2.1.cmml" xref="S5.T6.19.19.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.19.19.3.m1.1.1.2.2.cmml" xref="S5.T6.19.19.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.19.19.3.m1.1.1.2.3.cmml" type="float" xref="S5.T6.19.19.3.m1.1.1.2.3">4.64</cn></apply><cn id="S5.T6.19.19.3.m1.1.1.3.cmml" type="float" xref="S5.T6.19.19.3.m1.1.1.3">4.97</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.19.19.3.m1.1c">{}_{4.64}^{4.97}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.19.19.3.m1.1d">start_FLOATSUBSCRIPT 4.64 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 4.97 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.20.20.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.24<math alttext="{}_{6.06}^{6.45}" class="ltx_Math" display="inline" id="S5.T6.20.20.4.m1.1"><semantics id="S5.T6.20.20.4.m1.1a"><mmultiscripts id="S5.T6.20.20.4.m1.1.1" xref="S5.T6.20.20.4.m1.1.1.cmml"><mi id="S5.T6.20.20.4.m1.1.1.2.2" xref="S5.T6.20.20.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.20.20.4.m1.1.1a" xref="S5.T6.20.20.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.20.20.4.m1.1.1b" xref="S5.T6.20.20.4.m1.1.1.cmml"></mrow><mn id="S5.T6.20.20.4.m1.1.1.3" xref="S5.T6.20.20.4.m1.1.1.3.cmml">6.45</mn><mn id="S5.T6.20.20.4.m1.1.1.2.3" xref="S5.T6.20.20.4.m1.1.1.2.3.cmml">6.06</mn><mrow id="S5.T6.20.20.4.m1.1.1c" xref="S5.T6.20.20.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.20.20.4.m1.1b"><apply id="S5.T6.20.20.4.m1.1.1.cmml" xref="S5.T6.20.20.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.20.20.4.m1.1.1.1.cmml" xref="S5.T6.20.20.4.m1.1.1">superscript</csymbol><apply id="S5.T6.20.20.4.m1.1.1.2.cmml" xref="S5.T6.20.20.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.20.20.4.m1.1.1.2.1.cmml" xref="S5.T6.20.20.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.20.20.4.m1.1.1.2.2.cmml" xref="S5.T6.20.20.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.20.20.4.m1.1.1.2.3.cmml" type="float" xref="S5.T6.20.20.4.m1.1.1.2.3">6.06</cn></apply><cn id="S5.T6.20.20.4.m1.1.1.3.cmml" type="float" xref="S5.T6.20.20.4.m1.1.1.3">6.45</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.20.20.4.m1.1c">{}_{6.06}^{6.45}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.20.20.4.m1.1d">start_FLOATSUBSCRIPT 6.06 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 6.45 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.24.24">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S5.T6.24.24.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Random chunks</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T6.21.21.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-5.14<math alttext="{}_{-5.39}^{-4.94}" class="ltx_Math" display="inline" id="S5.T6.21.21.1.m1.1"><semantics id="S5.T6.21.21.1.m1.1a"><mmultiscripts id="S5.T6.21.21.1.m1.1.1" xref="S5.T6.21.21.1.m1.1.1.cmml"><mi id="S5.T6.21.21.1.m1.1.1.2.2" xref="S5.T6.21.21.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.21.21.1.m1.1.1a" xref="S5.T6.21.21.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.21.21.1.m1.1.1b" xref="S5.T6.21.21.1.m1.1.1.cmml"></mrow><mrow id="S5.T6.21.21.1.m1.1.1.3" xref="S5.T6.21.21.1.m1.1.1.3.cmml"><mo id="S5.T6.21.21.1.m1.1.1.3a" xref="S5.T6.21.21.1.m1.1.1.3.cmml">−</mo><mn id="S5.T6.21.21.1.m1.1.1.3.2" xref="S5.T6.21.21.1.m1.1.1.3.2.cmml">4.94</mn></mrow><mrow id="S5.T6.21.21.1.m1.1.1.2.3" xref="S5.T6.21.21.1.m1.1.1.2.3.cmml"><mo id="S5.T6.21.21.1.m1.1.1.2.3a" xref="S5.T6.21.21.1.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.21.21.1.m1.1.1.2.3.2" xref="S5.T6.21.21.1.m1.1.1.2.3.2.cmml">5.39</mn></mrow><mrow id="S5.T6.21.21.1.m1.1.1c" xref="S5.T6.21.21.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.21.21.1.m1.1b"><apply id="S5.T6.21.21.1.m1.1.1.cmml" xref="S5.T6.21.21.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.21.21.1.m1.1.1.1.cmml" xref="S5.T6.21.21.1.m1.1.1">superscript</csymbol><apply id="S5.T6.21.21.1.m1.1.1.2.cmml" xref="S5.T6.21.21.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.21.21.1.m1.1.1.2.1.cmml" xref="S5.T6.21.21.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.21.21.1.m1.1.1.2.2.cmml" xref="S5.T6.21.21.1.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.21.21.1.m1.1.1.2.3.cmml" xref="S5.T6.21.21.1.m1.1.1.2.3"><minus id="S5.T6.21.21.1.m1.1.1.2.3.1.cmml" xref="S5.T6.21.21.1.m1.1.1.2.3"></minus><cn id="S5.T6.21.21.1.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.21.21.1.m1.1.1.2.3.2">5.39</cn></apply></apply><apply id="S5.T6.21.21.1.m1.1.1.3.cmml" xref="S5.T6.21.21.1.m1.1.1.3"><minus id="S5.T6.21.21.1.m1.1.1.3.1.cmml" xref="S5.T6.21.21.1.m1.1.1.3"></minus><cn id="S5.T6.21.21.1.m1.1.1.3.2.cmml" type="float" xref="S5.T6.21.21.1.m1.1.1.3.2">4.94</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.21.21.1.m1.1c">{}_{-5.39}^{-4.94}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.21.21.1.m1.1d">start_FLOATSUBSCRIPT - 5.39 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT - 4.94 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T6.22.22.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-1.10<math alttext="{}_{-1.17}^{-1.05}" class="ltx_Math" display="inline" id="S5.T6.22.22.2.m1.1"><semantics id="S5.T6.22.22.2.m1.1a"><mmultiscripts id="S5.T6.22.22.2.m1.1.1" xref="S5.T6.22.22.2.m1.1.1.cmml"><mi id="S5.T6.22.22.2.m1.1.1.2.2" xref="S5.T6.22.22.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.22.22.2.m1.1.1a" xref="S5.T6.22.22.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.22.22.2.m1.1.1b" xref="S5.T6.22.22.2.m1.1.1.cmml"></mrow><mrow id="S5.T6.22.22.2.m1.1.1.3" xref="S5.T6.22.22.2.m1.1.1.3.cmml"><mo id="S5.T6.22.22.2.m1.1.1.3a" xref="S5.T6.22.22.2.m1.1.1.3.cmml">−</mo><mn id="S5.T6.22.22.2.m1.1.1.3.2" xref="S5.T6.22.22.2.m1.1.1.3.2.cmml">1.05</mn></mrow><mrow id="S5.T6.22.22.2.m1.1.1.2.3" xref="S5.T6.22.22.2.m1.1.1.2.3.cmml"><mo id="S5.T6.22.22.2.m1.1.1.2.3a" xref="S5.T6.22.22.2.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.22.22.2.m1.1.1.2.3.2" xref="S5.T6.22.22.2.m1.1.1.2.3.2.cmml">1.17</mn></mrow><mrow id="S5.T6.22.22.2.m1.1.1c" xref="S5.T6.22.22.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.22.22.2.m1.1b"><apply id="S5.T6.22.22.2.m1.1.1.cmml" xref="S5.T6.22.22.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.22.22.2.m1.1.1.1.cmml" xref="S5.T6.22.22.2.m1.1.1">superscript</csymbol><apply id="S5.T6.22.22.2.m1.1.1.2.cmml" xref="S5.T6.22.22.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.22.22.2.m1.1.1.2.1.cmml" xref="S5.T6.22.22.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.22.22.2.m1.1.1.2.2.cmml" xref="S5.T6.22.22.2.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.22.22.2.m1.1.1.2.3.cmml" xref="S5.T6.22.22.2.m1.1.1.2.3"><minus id="S5.T6.22.22.2.m1.1.1.2.3.1.cmml" xref="S5.T6.22.22.2.m1.1.1.2.3"></minus><cn id="S5.T6.22.22.2.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.22.22.2.m1.1.1.2.3.2">1.17</cn></apply></apply><apply id="S5.T6.22.22.2.m1.1.1.3.cmml" xref="S5.T6.22.22.2.m1.1.1.3"><minus id="S5.T6.22.22.2.m1.1.1.3.1.cmml" xref="S5.T6.22.22.2.m1.1.1.3"></minus><cn id="S5.T6.22.22.2.m1.1.1.3.2.cmml" type="float" xref="S5.T6.22.22.2.m1.1.1.3.2">1.05</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.22.22.2.m1.1c">{}_{-1.17}^{-1.05}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.22.22.2.m1.1d">start_FLOATSUBSCRIPT - 1.17 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT - 1.05 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T6.23.23.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.61<math alttext="{}_{-0.64}^{-0.58}" class="ltx_Math" display="inline" id="S5.T6.23.23.3.m1.1"><semantics id="S5.T6.23.23.3.m1.1a"><mmultiscripts id="S5.T6.23.23.3.m1.1.1" xref="S5.T6.23.23.3.m1.1.1.cmml"><mi id="S5.T6.23.23.3.m1.1.1.2.2" xref="S5.T6.23.23.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.23.23.3.m1.1.1a" xref="S5.T6.23.23.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.23.23.3.m1.1.1b" xref="S5.T6.23.23.3.m1.1.1.cmml"></mrow><mrow id="S5.T6.23.23.3.m1.1.1.3" xref="S5.T6.23.23.3.m1.1.1.3.cmml"><mo id="S5.T6.23.23.3.m1.1.1.3a" xref="S5.T6.23.23.3.m1.1.1.3.cmml">−</mo><mn id="S5.T6.23.23.3.m1.1.1.3.2" xref="S5.T6.23.23.3.m1.1.1.3.2.cmml">0.58</mn></mrow><mrow id="S5.T6.23.23.3.m1.1.1.2.3" xref="S5.T6.23.23.3.m1.1.1.2.3.cmml"><mo id="S5.T6.23.23.3.m1.1.1.2.3a" xref="S5.T6.23.23.3.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.23.23.3.m1.1.1.2.3.2" xref="S5.T6.23.23.3.m1.1.1.2.3.2.cmml">0.64</mn></mrow><mrow id="S5.T6.23.23.3.m1.1.1c" xref="S5.T6.23.23.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.23.23.3.m1.1b"><apply id="S5.T6.23.23.3.m1.1.1.cmml" xref="S5.T6.23.23.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.23.23.3.m1.1.1.1.cmml" xref="S5.T6.23.23.3.m1.1.1">superscript</csymbol><apply id="S5.T6.23.23.3.m1.1.1.2.cmml" xref="S5.T6.23.23.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.23.23.3.m1.1.1.2.1.cmml" xref="S5.T6.23.23.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.23.23.3.m1.1.1.2.2.cmml" xref="S5.T6.23.23.3.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.23.23.3.m1.1.1.2.3.cmml" xref="S5.T6.23.23.3.m1.1.1.2.3"><minus id="S5.T6.23.23.3.m1.1.1.2.3.1.cmml" xref="S5.T6.23.23.3.m1.1.1.2.3"></minus><cn id="S5.T6.23.23.3.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.23.23.3.m1.1.1.2.3.2">0.64</cn></apply></apply><apply id="S5.T6.23.23.3.m1.1.1.3.cmml" xref="S5.T6.23.23.3.m1.1.1.3"><minus id="S5.T6.23.23.3.m1.1.1.3.1.cmml" xref="S5.T6.23.23.3.m1.1.1.3"></minus><cn id="S5.T6.23.23.3.m1.1.1.3.2.cmml" type="float" xref="S5.T6.23.23.3.m1.1.1.3.2">0.58</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.23.23.3.m1.1c">{}_{-0.64}^{-0.58}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.23.23.3.m1.1d">start_FLOATSUBSCRIPT - 0.64 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT - 0.58 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T6.24.24.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.89<math alttext="{}_{-0.94}^{-0.85}" class="ltx_Math" display="inline" id="S5.T6.24.24.4.m1.1"><semantics id="S5.T6.24.24.4.m1.1a"><mmultiscripts id="S5.T6.24.24.4.m1.1.1" xref="S5.T6.24.24.4.m1.1.1.cmml"><mi id="S5.T6.24.24.4.m1.1.1.2.2" xref="S5.T6.24.24.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.24.24.4.m1.1.1a" xref="S5.T6.24.24.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.24.24.4.m1.1.1b" xref="S5.T6.24.24.4.m1.1.1.cmml"></mrow><mrow id="S5.T6.24.24.4.m1.1.1.3" xref="S5.T6.24.24.4.m1.1.1.3.cmml"><mo id="S5.T6.24.24.4.m1.1.1.3a" xref="S5.T6.24.24.4.m1.1.1.3.cmml">−</mo><mn id="S5.T6.24.24.4.m1.1.1.3.2" xref="S5.T6.24.24.4.m1.1.1.3.2.cmml">0.85</mn></mrow><mrow id="S5.T6.24.24.4.m1.1.1.2.3" xref="S5.T6.24.24.4.m1.1.1.2.3.cmml"><mo id="S5.T6.24.24.4.m1.1.1.2.3a" xref="S5.T6.24.24.4.m1.1.1.2.3.cmml">−</mo><mn id="S5.T6.24.24.4.m1.1.1.2.3.2" xref="S5.T6.24.24.4.m1.1.1.2.3.2.cmml">0.94</mn></mrow><mrow id="S5.T6.24.24.4.m1.1.1c" xref="S5.T6.24.24.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.24.24.4.m1.1b"><apply id="S5.T6.24.24.4.m1.1.1.cmml" xref="S5.T6.24.24.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.24.24.4.m1.1.1.1.cmml" xref="S5.T6.24.24.4.m1.1.1">superscript</csymbol><apply id="S5.T6.24.24.4.m1.1.1.2.cmml" xref="S5.T6.24.24.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.24.24.4.m1.1.1.2.1.cmml" xref="S5.T6.24.24.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.24.24.4.m1.1.1.2.2.cmml" xref="S5.T6.24.24.4.m1.1.1.2.2">absent</csymbol><apply id="S5.T6.24.24.4.m1.1.1.2.3.cmml" xref="S5.T6.24.24.4.m1.1.1.2.3"><minus id="S5.T6.24.24.4.m1.1.1.2.3.1.cmml" xref="S5.T6.24.24.4.m1.1.1.2.3"></minus><cn id="S5.T6.24.24.4.m1.1.1.2.3.2.cmml" type="float" xref="S5.T6.24.24.4.m1.1.1.2.3.2">0.94</cn></apply></apply><apply id="S5.T6.24.24.4.m1.1.1.3.cmml" xref="S5.T6.24.24.4.m1.1.1.3"><minus id="S5.T6.24.24.4.m1.1.1.3.1.cmml" xref="S5.T6.24.24.4.m1.1.1.3"></minus><cn id="S5.T6.24.24.4.m1.1.1.3.2.cmml" type="float" xref="S5.T6.24.24.4.m1.1.1.3.2">0.85</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.24.24.4.m1.1c">{}_{-0.94}^{-0.85}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.24.24.4.m1.1d">start_FLOATSUBSCRIPT - 0.94 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT - 0.85 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T6.32.4.1" style="font-size:90%;">Table 6</span>: </span><span class="ltx_text" id="S5.T6.30.3" style="font-size:90%;">
Comparison of the relative improvement of single-token metrics between RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.T6.28.1.m1.1"><semantics id="S5.T6.28.1.m1.1b"><mmultiscripts id="S5.T6.28.1.m1.1.1" xref="S5.T6.28.1.m1.1.1.cmml"><mi id="S5.T6.28.1.m1.1.1.2.2" xref="S5.T6.28.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.28.1.m1.1.1b" xref="S5.T6.28.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T6.28.1.m1.1.1c" xref="S5.T6.28.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T6.28.1.m1.1.1.3" xref="S5.T6.28.1.m1.1.1.3a.cmml">gpt</mtext><mn id="S5.T6.28.1.m1.1.1.2.3" xref="S5.T6.28.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T6.28.1.m1.1.1d" xref="S5.T6.28.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.28.1.m1.1c"><apply id="S5.T6.28.1.m1.1.1.cmml" xref="S5.T6.28.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.28.1.m1.1.1.1.cmml" xref="S5.T6.28.1.m1.1.1">superscript</csymbol><apply id="S5.T6.28.1.m1.1.1.2.cmml" xref="S5.T6.28.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T6.28.1.m1.1.1.2.1.cmml" xref="S5.T6.28.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.28.1.m1.1.1.2.2.cmml" xref="S5.T6.28.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T6.28.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T6.28.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T6.28.1.m1.1.1.3a.cmml" xref="S5.T6.28.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T6.28.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T6.28.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.28.1.m1.1d">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.28.1.m1.1e">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> in GPT<math alttext="{}_{9}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="S5.T6.29.2.m2.1"><semantics id="S5.T6.29.2.m2.1b"><mmultiscripts id="S5.T6.29.2.m2.1.1" xref="S5.T6.29.2.m2.1.1.cmml"><mi id="S5.T6.29.2.m2.1.1.2.2" xref="S5.T6.29.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.T6.29.2.m2.1.1b" xref="S5.T6.29.2.m2.1.1.cmml"></mprescripts><mrow id="S5.T6.29.2.m2.1.1c" xref="S5.T6.29.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T6.29.2.m2.1.1.3" xref="S5.T6.29.2.m2.1.1.3a.cmml">gpt</mtext><mn id="S5.T6.29.2.m2.1.1.2.3" xref="S5.T6.29.2.m2.1.1.2.3.cmml">9</mn><mrow id="S5.T6.29.2.m2.1.1d" xref="S5.T6.29.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T6.29.2.m2.1c"><apply id="S5.T6.29.2.m2.1.1.cmml" xref="S5.T6.29.2.m2.1.1"><csymbol cd="ambiguous" id="S5.T6.29.2.m2.1.1.1.cmml" xref="S5.T6.29.2.m2.1.1">superscript</csymbol><apply id="S5.T6.29.2.m2.1.1.2.cmml" xref="S5.T6.29.2.m2.1.1"><csymbol cd="ambiguous" id="S5.T6.29.2.m2.1.1.2.1.cmml" xref="S5.T6.29.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T6.29.2.m2.1.1.2.2.cmml" xref="S5.T6.29.2.m2.1.1.2.2">absent</csymbol><cn id="S5.T6.29.2.m2.1.1.2.3.cmml" type="integer" xref="S5.T6.29.2.m2.1.1.2.3">9</cn></apply><ci id="S5.T6.29.2.m2.1.1.3a.cmml" xref="S5.T6.29.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T6.29.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.T6.29.2.m2.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.29.2.m2.1d">{}_{9}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.29.2.m2.1e">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math> on 500 projects from the test set with respect to the used retrieval database.
The metrics are in percentages, contain 95-percent confidence intervals and are calculated on the offset input <math alttext="x^{\geq 64}" class="ltx_Math" display="inline" id="S5.T6.30.3.m3.1"><semantics id="S5.T6.30.3.m3.1b"><msup id="S5.T6.30.3.m3.1.1" xref="S5.T6.30.3.m3.1.1.cmml"><mi id="S5.T6.30.3.m3.1.1.2" xref="S5.T6.30.3.m3.1.1.2.cmml">x</mi><mrow id="S5.T6.30.3.m3.1.1.3" xref="S5.T6.30.3.m3.1.1.3.cmml"><mi id="S5.T6.30.3.m3.1.1.3.2" xref="S5.T6.30.3.m3.1.1.3.2.cmml"></mi><mo id="S5.T6.30.3.m3.1.1.3.1" xref="S5.T6.30.3.m3.1.1.3.1.cmml">≥</mo><mn id="S5.T6.30.3.m3.1.1.3.3" xref="S5.T6.30.3.m3.1.1.3.3.cmml">64</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.T6.30.3.m3.1c"><apply id="S5.T6.30.3.m3.1.1.cmml" xref="S5.T6.30.3.m3.1.1"><csymbol cd="ambiguous" id="S5.T6.30.3.m3.1.1.1.cmml" xref="S5.T6.30.3.m3.1.1">superscript</csymbol><ci id="S5.T6.30.3.m3.1.1.2.cmml" xref="S5.T6.30.3.m3.1.1.2">𝑥</ci><apply id="S5.T6.30.3.m3.1.1.3.cmml" xref="S5.T6.30.3.m3.1.1.3"><geq id="S5.T6.30.3.m3.1.1.3.1.cmml" xref="S5.T6.30.3.m3.1.1.3.1"></geq><csymbol cd="latexml" id="S5.T6.30.3.m3.1.1.3.2.cmml" xref="S5.T6.30.3.m3.1.1.3.2">absent</csymbol><cn id="S5.T6.30.3.m3.1.1.3.3.cmml" type="integer" xref="S5.T6.30.3.m3.1.1.3.3">64</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.30.3.m3.1d">x^{\geq 64}</annotation><annotation encoding="application/x-llamapun" id="S5.T6.30.3.m3.1e">italic_x start_POSTSUPERSCRIPT ≥ 64 end_POSTSUPERSCRIPT</annotation></semantics></math>.
</span></figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Completing code lines from local projects with RepoEval</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">In this section, we aim to simulate and evaluate completing lines in local projects using the RepoEval dataset, as described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS3" title="4.3 The RepoEval dataset ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.3</span></a>.
We first present the results of RETRO, GPT-2, and In-context RAG in this setting, followed by an experiment with larger models, and detailed analysis of our most successful approach, namely In-context RAG. We end the section with an analysis of the impact the quality of the retrieved snippets has on the code-completion performance.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.1 </span>RETRO and GPT-2 results on local projects</h4>
<div class="ltx_para" id="S5.SS2.SSS1.p1">
<p class="ltx_p" id="S5.SS2.SSS1.p1.1">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F6" title="Figure 6 ‣ 5.2.1 RETRO and GPT-2 results on local projects ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">6</span></a>, we compare our trained models, RETRO and GPT-2, using both GPT-2 and StarCoder tokenizations.
The metrics confirm the advantage of StarCoder tokenization, which better handles the whitespace issue mentioned in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S4.SS1" title="4.1 Tokenization ‣ 4 Experimental settings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">4.1</span></a>.
Similar to the single-token metrics, with multi-token predictions, we observe that the 6-layer RETRO achieves significantly better performance than the 6-layer GPT-2.
However, the difference between the 9-layer GPT-2 and the 6-layer RETRO is not as pronounced, especially with the StarCoder tokenization.</p>
</div>
<figure class="ltx_figure" id="S5.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="S5.F6.g1" src="x8.png" width="411"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="S5.F6.g2" src="x9.png" width="411"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F6.2.1.1" style="font-size:90%;">Figure 6</span>: </span><span class="ltx_text" id="S5.F6.3.2" style="font-size:90%;">
Comparison of our models using GPT-2 and StarCoder tokenization on the RepoEval line-level (left) and API-level (right) datasets without overlap with the training set.
The bar plots contain 95-percent confidence intervals of the prefix similarity metric.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.SSS1.p2">
<p class="ltx_p" id="S5.SS2.SSS1.p2.2">Metrics on <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.1">lineR</span> are higher than on <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.2">line</span> (similarly for <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.3">apiR</span> and <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.4">api</span>), because in the case of <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.5">line</span> we predict entire lines, while in <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS1.p2.2.6">lineR</span> the model already has some additional context about the content of the current line.
This is important because predicting the entire line requires correctly predicting the start of the line; otherwise, the <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.SS2.SSS1.p2.1.m1.1"><semantics id="S5.SS2.SSS1.p2.1.m1.1a"><mi id="S5.SS2.SSS1.p2.1.m1.1.1" xref="S5.SS2.SSS1.p2.1.m1.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p2.1.m1.1b"><ci id="S5.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S5.SS2.SSS1.p2.1.m1.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p2.1.m1.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS1.p2.1.m1.1d">roman_EM</annotation></semantics></math> and <math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.SS2.SSS1.p2.2.m2.1"><semantics id="S5.SS2.SSS1.p2.2.m2.1a"><mi id="S5.SS2.SSS1.p2.2.m2.1.1" xref="S5.SS2.SSS1.p2.2.m2.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p2.2.m2.1b"><ci id="S5.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S5.SS2.SSS1.p2.2.m2.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p2.2.m2.1c">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS1.p2.2.m2.1d">roman_PS</annotation></semantics></math> metrics are immediately zero.
Predicting the correct start of a line is not always straightforward, as multiple beginnings can make sense.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS1.p3">
<p class="ltx_p" id="S5.SS2.SSS1.p3.1">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F6" title="Figure 6 ‣ 5.2.1 RETRO and GPT-2 results on local projects ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">6</span></a>, we also report the metrics for the In-context RAG approach (more in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS3" title="5.2.3 In-context RAG ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.2.3</span></a>).
Despite its simplicity, the contribution of the In-context RAG is more significant than the use of RETRO.
When combining In-context RAG with RETRO, we observe smaller improvements compared to enhancing GPT-2 with In-context RAG.
A possible explanation is that including retrieved snippets into the input context <span class="ltx_text ltx_inline-quote ltx_outerquote" id="S5.SS2.SSS1.p3.1.1">“confuses”</span> RETRO’s chunk based retrieval, which now finds neighbors of the already retrieved snippets for part of the context.
Additionally, snippets included in the context receive the same treatment as other input tokens through processing in the transformer, while RETRO incorporates the retrieved chunks using cross-attention only in the sparsely dispersed <span class="ltx_text ltx_font_smallcaps" id="S5.SS2.SSS1.p3.1.2">Retro</span> layers.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.2 </span>Comparison with larger models</h4>
<div class="ltx_para" id="S5.SS2.SSS2.p1">
<p class="ltx_p" id="S5.SS2.SSS2.p1.5">Using small models is beneficial for local model execution, but one of the advantages of LLMs is their ability to scale by increasing the number of parameters <cite class="ltx_cite ltx_citemacro_citep">(Kaplan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib21" title="">2020</a>)</cite>.
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F7" title="Figure 7 ‣ 5.2.2 Comparison with larger models ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">7</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T7" title="Table 7 ‣ 5.2.2 Comparison with larger models ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">7</span></a>, we examine the contribution of larger models compared to our smaller models.
The open-source models StarCoder<sub class="ltx_sub" id="S5.SS2.SSS2.p1.5.1"><span class="ltx_text ltx_font_italic" id="S5.SS2.SSS2.p1.5.1.1">164M</span></sub> (with <math alttext="164\times 10^{6}" class="ltx_Math" display="inline" id="S5.SS2.SSS2.p1.2.m2.1"><semantics id="S5.SS2.SSS2.p1.2.m2.1a"><mrow id="S5.SS2.SSS2.p1.2.m2.1.1" xref="S5.SS2.SSS2.p1.2.m2.1.1.cmml"><mn id="S5.SS2.SSS2.p1.2.m2.1.1.2" xref="S5.SS2.SSS2.p1.2.m2.1.1.2.cmml">164</mn><mo id="S5.SS2.SSS2.p1.2.m2.1.1.1" lspace="0.222em" rspace="0.222em" xref="S5.SS2.SSS2.p1.2.m2.1.1.1.cmml">×</mo><msup id="S5.SS2.SSS2.p1.2.m2.1.1.3" xref="S5.SS2.SSS2.p1.2.m2.1.1.3.cmml"><mn id="S5.SS2.SSS2.p1.2.m2.1.1.3.2" xref="S5.SS2.SSS2.p1.2.m2.1.1.3.2.cmml">10</mn><mn id="S5.SS2.SSS2.p1.2.m2.1.1.3.3" xref="S5.SS2.SSS2.p1.2.m2.1.1.3.3.cmml">6</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p1.2.m2.1b"><apply id="S5.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S5.SS2.SSS2.p1.2.m2.1.1"><times id="S5.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.SSS2.p1.2.m2.1.1.1"></times><cn id="S5.SS2.SSS2.p1.2.m2.1.1.2.cmml" type="integer" xref="S5.SS2.SSS2.p1.2.m2.1.1.2">164</cn><apply id="S5.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="S5.SS2.SSS2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.SSS2.p1.2.m2.1.1.3.1.cmml" xref="S5.SS2.SSS2.p1.2.m2.1.1.3">superscript</csymbol><cn id="S5.SS2.SSS2.p1.2.m2.1.1.3.2.cmml" type="integer" xref="S5.SS2.SSS2.p1.2.m2.1.1.3.2">10</cn><cn id="S5.SS2.SSS2.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S5.SS2.SSS2.p1.2.m2.1.1.3.3">6</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p1.2.m2.1c">164\times 10^{6}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS2.p1.2.m2.1d">164 × 10 start_POSTSUPERSCRIPT 6 end_POSTSUPERSCRIPT</annotation></semantics></math> parameters) and StarCoder<sub class="ltx_sub" id="S5.SS2.SSS2.p1.5.2"><span class="ltx_text ltx_font_italic" id="S5.SS2.SSS2.p1.5.2.1">15.5B</span></sub> (with <math alttext="15.5\times 10^{9}" class="ltx_Math" display="inline" id="S5.SS2.SSS2.p1.4.m4.1"><semantics id="S5.SS2.SSS2.p1.4.m4.1a"><mrow id="S5.SS2.SSS2.p1.4.m4.1.1" xref="S5.SS2.SSS2.p1.4.m4.1.1.cmml"><mn id="S5.SS2.SSS2.p1.4.m4.1.1.2" xref="S5.SS2.SSS2.p1.4.m4.1.1.2.cmml">15.5</mn><mo id="S5.SS2.SSS2.p1.4.m4.1.1.1" lspace="0.222em" rspace="0.222em" xref="S5.SS2.SSS2.p1.4.m4.1.1.1.cmml">×</mo><msup id="S5.SS2.SSS2.p1.4.m4.1.1.3" xref="S5.SS2.SSS2.p1.4.m4.1.1.3.cmml"><mn id="S5.SS2.SSS2.p1.4.m4.1.1.3.2" xref="S5.SS2.SSS2.p1.4.m4.1.1.3.2.cmml">10</mn><mn id="S5.SS2.SSS2.p1.4.m4.1.1.3.3" xref="S5.SS2.SSS2.p1.4.m4.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p1.4.m4.1b"><apply id="S5.SS2.SSS2.p1.4.m4.1.1.cmml" xref="S5.SS2.SSS2.p1.4.m4.1.1"><times id="S5.SS2.SSS2.p1.4.m4.1.1.1.cmml" xref="S5.SS2.SSS2.p1.4.m4.1.1.1"></times><cn id="S5.SS2.SSS2.p1.4.m4.1.1.2.cmml" type="float" xref="S5.SS2.SSS2.p1.4.m4.1.1.2">15.5</cn><apply id="S5.SS2.SSS2.p1.4.m4.1.1.3.cmml" xref="S5.SS2.SSS2.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.SSS2.p1.4.m4.1.1.3.1.cmml" xref="S5.SS2.SSS2.p1.4.m4.1.1.3">superscript</csymbol><cn id="S5.SS2.SSS2.p1.4.m4.1.1.3.2.cmml" type="integer" xref="S5.SS2.SSS2.p1.4.m4.1.1.3.2">10</cn><cn id="S5.SS2.SSS2.p1.4.m4.1.1.3.3.cmml" type="integer" xref="S5.SS2.SSS2.p1.4.m4.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p1.4.m4.1c">15.5\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS2.p1.4.m4.1d">15.5 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math> parameters) are trained on the entire StarCoder dataset and further fine-tuned on Python <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>)</cite>.
StarCoder<sub class="ltx_sub" id="S5.SS2.SSS2.p1.5.3"><span class="ltx_text ltx_font_italic" id="S5.SS2.SSS2.p1.5.3.1">164M</span></sub> serves as a good comparison to our models due to its comparable number of parameters and for assessing the contribution of training on a larger dataset with a larger context size (8192 compared to our size of 384).</p>
</div>
<figure class="ltx_figure" id="S5.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="373" id="S5.F7.g1" src="x10.png" width="498"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F7.2.1.1" style="font-size:90%;">Figure 7</span>: </span><span class="ltx_text" id="S5.F7.3.2" style="font-size:90%;">
Comparison of our models with larger models on the line-level and API-level RepoEval datasets starting completion from random positions.
The bar plots contain 95-percent confidence intervals of the prefix similarity metric.
</span></figcaption>
</figure>
<figure class="ltx_table" id="S5.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T7.58">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T7.58.59.1">
<th class="ltx_td ltx_th ltx_th_row" colspan="2" id="S5.T7.58.59.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<td class="ltx_td" colspan="3" id="S5.T7.58.59.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" colspan="3" id="S5.T7.58.59.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">In-context RAG</td>
</tr>
<tr class="ltx_tr" id="S5.T7.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T7.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model</th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S5.T7.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.T7.1.1.1.m1.1"><semantics id="S5.T7.1.1.1.m1.1a"><mi id="S5.T7.1.1.1.m1.1.1" xref="S5.T7.1.1.1.m1.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.T7.1.1.1.m1.1b"><ci id="S5.T7.1.1.1.m1.1.1.cmml" xref="S5.T7.1.1.1.m1.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.1.1.1.m1.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.1.1.1.m1.1d">roman_EM</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T7.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{ES}" class="ltx_Math" display="inline" id="S5.T7.2.2.2.m1.1"><semantics id="S5.T7.2.2.2.m1.1a"><mi id="S5.T7.2.2.2.m1.1.1" xref="S5.T7.2.2.2.m1.1.1.cmml">ES</mi><annotation-xml encoding="MathML-Content" id="S5.T7.2.2.2.m1.1b"><ci id="S5.T7.2.2.2.m1.1.1.cmml" xref="S5.T7.2.2.2.m1.1.1">ES</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.2.2.2.m1.1c">\operatorname{ES}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.2.2.2.m1.1d">roman_ES</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T7.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.T7.3.3.3.m1.1"><semantics id="S5.T7.3.3.3.m1.1a"><mi id="S5.T7.3.3.3.m1.1.1" xref="S5.T7.3.3.3.m1.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.T7.3.3.3.m1.1b"><ci id="S5.T7.3.3.3.m1.1.1.cmml" xref="S5.T7.3.3.3.m1.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.3.3.3.m1.1c">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.3.3.3.m1.1d">roman_PS</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.T7.4.4.4.m1.1"><semantics id="S5.T7.4.4.4.m1.1a"><mi id="S5.T7.4.4.4.m1.1.1" xref="S5.T7.4.4.4.m1.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.T7.4.4.4.m1.1b"><ci id="S5.T7.4.4.4.m1.1.1.cmml" xref="S5.T7.4.4.4.m1.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.4.4.4.m1.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.4.4.4.m1.1d">roman_EM</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{ES}" class="ltx_Math" display="inline" id="S5.T7.5.5.5.m1.1"><semantics id="S5.T7.5.5.5.m1.1a"><mi id="S5.T7.5.5.5.m1.1.1" xref="S5.T7.5.5.5.m1.1.1.cmml">ES</mi><annotation-xml encoding="MathML-Content" id="S5.T7.5.5.5.m1.1b"><ci id="S5.T7.5.5.5.m1.1.1.cmml" xref="S5.T7.5.5.5.m1.1.1">ES</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.5.5.5.m1.1c">\operatorname{ES}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.5.5.5.m1.1d">roman_ES</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.T7.6.6.6.m1.1"><semantics id="S5.T7.6.6.6.m1.1a"><mi id="S5.T7.6.6.6.m1.1.1" xref="S5.T7.6.6.6.m1.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.T7.6.6.6.m1.1b"><ci id="S5.T7.6.6.6.m1.1.1.cmml" xref="S5.T7.6.6.6.m1.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.6.6.6.m1.1c">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.6.6.6.m1.1d">roman_PS</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T7.13.13">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T7.7.7.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T7.7.7.1.1">GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T7.7.7.1.1.m1.1"><semantics id="S5.T7.7.7.1.1.m1.1a"><mmultiscripts id="S5.T7.7.7.1.1.m1.1.1" xref="S5.T7.7.7.1.1.m1.1.1.cmml"><mi id="S5.T7.7.7.1.1.m1.1.1.2.2" xref="S5.T7.7.7.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.7.7.1.1.m1.1.1a" xref="S5.T7.7.7.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.7.7.1.1.m1.1.1b" xref="S5.T7.7.7.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T7.7.7.1.1.m1.1.1.3" xref="S5.T7.7.7.1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T7.7.7.1.1.m1.1.1.2.3" xref="S5.T7.7.7.1.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.T7.7.7.1.1.m1.1.1c" xref="S5.T7.7.7.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.7.7.1.1.m1.1b"><apply id="S5.T7.7.7.1.1.m1.1.1.cmml" xref="S5.T7.7.7.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.7.7.1.1.m1.1.1.1.cmml" xref="S5.T7.7.7.1.1.m1.1.1">superscript</csymbol><apply id="S5.T7.7.7.1.1.m1.1.1.2.cmml" xref="S5.T7.7.7.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.7.7.1.1.m1.1.1.2.1.cmml" xref="S5.T7.7.7.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.7.7.1.1.m1.1.1.2.2.cmml" xref="S5.T7.7.7.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.7.7.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T7.7.7.1.1.m1.1.1.2.3">9</cn></apply><ci id="S5.T7.7.7.1.1.m1.1.1.3a.cmml" xref="S5.T7.7.7.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T7.7.7.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T7.7.7.1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.7.7.1.1.m1.1c">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.7.7.1.1.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.13.13.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.13.13.8.1">line</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.0<math alttext="{}_{16.1}^{19.9}" class="ltx_Math" display="inline" id="S5.T7.8.8.2.m1.1"><semantics id="S5.T7.8.8.2.m1.1a"><mmultiscripts id="S5.T7.8.8.2.m1.1.1" xref="S5.T7.8.8.2.m1.1.1.cmml"><mi id="S5.T7.8.8.2.m1.1.1.2.2" xref="S5.T7.8.8.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.8.8.2.m1.1.1a" xref="S5.T7.8.8.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.8.8.2.m1.1.1b" xref="S5.T7.8.8.2.m1.1.1.cmml"></mrow><mn id="S5.T7.8.8.2.m1.1.1.3" xref="S5.T7.8.8.2.m1.1.1.3.cmml">19.9</mn><mn id="S5.T7.8.8.2.m1.1.1.2.3" xref="S5.T7.8.8.2.m1.1.1.2.3.cmml">16.1</mn><mrow id="S5.T7.8.8.2.m1.1.1c" xref="S5.T7.8.8.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.8.8.2.m1.1b"><apply id="S5.T7.8.8.2.m1.1.1.cmml" xref="S5.T7.8.8.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.8.8.2.m1.1.1.1.cmml" xref="S5.T7.8.8.2.m1.1.1">superscript</csymbol><apply id="S5.T7.8.8.2.m1.1.1.2.cmml" xref="S5.T7.8.8.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.8.8.2.m1.1.1.2.1.cmml" xref="S5.T7.8.8.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.8.8.2.m1.1.1.2.2.cmml" xref="S5.T7.8.8.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.8.8.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.8.8.2.m1.1.1.2.3">16.1</cn></apply><cn id="S5.T7.8.8.2.m1.1.1.3.cmml" type="float" xref="S5.T7.8.8.2.m1.1.1.3">19.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.8.8.2.m1.1c">{}_{16.1}^{19.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.8.8.2.m1.1d">start_FLOATSUBSCRIPT 16.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 19.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.9.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.0<math alttext="{}_{45.3}^{48.4}" class="ltx_Math" display="inline" id="S5.T7.9.9.3.m1.1"><semantics id="S5.T7.9.9.3.m1.1a"><mmultiscripts id="S5.T7.9.9.3.m1.1.1" xref="S5.T7.9.9.3.m1.1.1.cmml"><mi id="S5.T7.9.9.3.m1.1.1.2.2" xref="S5.T7.9.9.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.9.9.3.m1.1.1a" xref="S5.T7.9.9.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.9.9.3.m1.1.1b" xref="S5.T7.9.9.3.m1.1.1.cmml"></mrow><mn id="S5.T7.9.9.3.m1.1.1.3" xref="S5.T7.9.9.3.m1.1.1.3.cmml">48.4</mn><mn id="S5.T7.9.9.3.m1.1.1.2.3" xref="S5.T7.9.9.3.m1.1.1.2.3.cmml">45.3</mn><mrow id="S5.T7.9.9.3.m1.1.1c" xref="S5.T7.9.9.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.9.9.3.m1.1b"><apply id="S5.T7.9.9.3.m1.1.1.cmml" xref="S5.T7.9.9.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.9.9.3.m1.1.1.1.cmml" xref="S5.T7.9.9.3.m1.1.1">superscript</csymbol><apply id="S5.T7.9.9.3.m1.1.1.2.cmml" xref="S5.T7.9.9.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.9.9.3.m1.1.1.2.1.cmml" xref="S5.T7.9.9.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.9.9.3.m1.1.1.2.2.cmml" xref="S5.T7.9.9.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.9.9.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.9.9.3.m1.1.1.2.3">45.3</cn></apply><cn id="S5.T7.9.9.3.m1.1.1.3.cmml" type="float" xref="S5.T7.9.9.3.m1.1.1.3">48.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.9.9.3.m1.1c">{}_{45.3}^{48.4}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.9.9.3.m1.1d">start_FLOATSUBSCRIPT 45.3 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 48.4 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T7.10.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">23.2<math alttext="{}_{21.4}^{25.0}" class="ltx_Math" display="inline" id="S5.T7.10.10.4.m1.1"><semantics id="S5.T7.10.10.4.m1.1a"><mmultiscripts id="S5.T7.10.10.4.m1.1.1" xref="S5.T7.10.10.4.m1.1.1.cmml"><mi id="S5.T7.10.10.4.m1.1.1.2.2" xref="S5.T7.10.10.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.10.10.4.m1.1.1a" xref="S5.T7.10.10.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.10.10.4.m1.1.1b" xref="S5.T7.10.10.4.m1.1.1.cmml"></mrow><mn id="S5.T7.10.10.4.m1.1.1.3" xref="S5.T7.10.10.4.m1.1.1.3.cmml">25.0</mn><mn id="S5.T7.10.10.4.m1.1.1.2.3" xref="S5.T7.10.10.4.m1.1.1.2.3.cmml">21.4</mn><mrow id="S5.T7.10.10.4.m1.1.1c" xref="S5.T7.10.10.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.10.10.4.m1.1b"><apply id="S5.T7.10.10.4.m1.1.1.cmml" xref="S5.T7.10.10.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.10.10.4.m1.1.1.1.cmml" xref="S5.T7.10.10.4.m1.1.1">superscript</csymbol><apply id="S5.T7.10.10.4.m1.1.1.2.cmml" xref="S5.T7.10.10.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.10.10.4.m1.1.1.2.1.cmml" xref="S5.T7.10.10.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.10.10.4.m1.1.1.2.2.cmml" xref="S5.T7.10.10.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.10.10.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.10.10.4.m1.1.1.2.3">21.4</cn></apply><cn id="S5.T7.10.10.4.m1.1.1.3.cmml" type="float" xref="S5.T7.10.10.4.m1.1.1.3">25.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.10.10.4.m1.1c">{}_{21.4}^{25.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.10.10.4.m1.1d">start_FLOATSUBSCRIPT 21.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 25.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.11.11.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.9<math alttext="{}_{31.6}^{36.0}" class="ltx_Math" display="inline" id="S5.T7.11.11.5.m1.1"><semantics id="S5.T7.11.11.5.m1.1a"><mmultiscripts id="S5.T7.11.11.5.m1.1.1" xref="S5.T7.11.11.5.m1.1.1.cmml"><mi id="S5.T7.11.11.5.m1.1.1.2.2" xref="S5.T7.11.11.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.11.11.5.m1.1.1a" xref="S5.T7.11.11.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.11.11.5.m1.1.1b" xref="S5.T7.11.11.5.m1.1.1.cmml"></mrow><mn id="S5.T7.11.11.5.m1.1.1.3" xref="S5.T7.11.11.5.m1.1.1.3.cmml">36.0</mn><mn id="S5.T7.11.11.5.m1.1.1.2.3" xref="S5.T7.11.11.5.m1.1.1.2.3.cmml">31.6</mn><mrow id="S5.T7.11.11.5.m1.1.1c" xref="S5.T7.11.11.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.11.11.5.m1.1b"><apply id="S5.T7.11.11.5.m1.1.1.cmml" xref="S5.T7.11.11.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.11.11.5.m1.1.1.1.cmml" xref="S5.T7.11.11.5.m1.1.1">superscript</csymbol><apply id="S5.T7.11.11.5.m1.1.1.2.cmml" xref="S5.T7.11.11.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.11.11.5.m1.1.1.2.1.cmml" xref="S5.T7.11.11.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.11.11.5.m1.1.1.2.2.cmml" xref="S5.T7.11.11.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.11.11.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.11.11.5.m1.1.1.2.3">31.6</cn></apply><cn id="S5.T7.11.11.5.m1.1.1.3.cmml" type="float" xref="S5.T7.11.11.5.m1.1.1.3">36.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.11.11.5.m1.1c">{}_{31.6}^{36.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.11.11.5.m1.1d">start_FLOATSUBSCRIPT 31.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 36.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.12.12.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.4<math alttext="{}_{56.7}^{60.2}" class="ltx_Math" display="inline" id="S5.T7.12.12.6.m1.1"><semantics id="S5.T7.12.12.6.m1.1a"><mmultiscripts id="S5.T7.12.12.6.m1.1.1" xref="S5.T7.12.12.6.m1.1.1.cmml"><mi id="S5.T7.12.12.6.m1.1.1.2.2" xref="S5.T7.12.12.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.12.12.6.m1.1.1a" xref="S5.T7.12.12.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.12.12.6.m1.1.1b" xref="S5.T7.12.12.6.m1.1.1.cmml"></mrow><mn id="S5.T7.12.12.6.m1.1.1.3" xref="S5.T7.12.12.6.m1.1.1.3.cmml">60.2</mn><mn id="S5.T7.12.12.6.m1.1.1.2.3" xref="S5.T7.12.12.6.m1.1.1.2.3.cmml">56.7</mn><mrow id="S5.T7.12.12.6.m1.1.1c" xref="S5.T7.12.12.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.12.12.6.m1.1b"><apply id="S5.T7.12.12.6.m1.1.1.cmml" xref="S5.T7.12.12.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.12.12.6.m1.1.1.1.cmml" xref="S5.T7.12.12.6.m1.1.1">superscript</csymbol><apply id="S5.T7.12.12.6.m1.1.1.2.cmml" xref="S5.T7.12.12.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.12.12.6.m1.1.1.2.1.cmml" xref="S5.T7.12.12.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.12.12.6.m1.1.1.2.2.cmml" xref="S5.T7.12.12.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.12.12.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.12.12.6.m1.1.1.2.3">56.7</cn></apply><cn id="S5.T7.12.12.6.m1.1.1.3.cmml" type="float" xref="S5.T7.12.12.6.m1.1.1.3">60.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.12.12.6.m1.1c">{}_{56.7}^{60.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.12.12.6.m1.1d">start_FLOATSUBSCRIPT 56.7 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 60.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.13.13.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.9<math alttext="{}_{38.4}^{43.6}" class="ltx_Math" display="inline" id="S5.T7.13.13.7.m1.1"><semantics id="S5.T7.13.13.7.m1.1a"><mmultiscripts id="S5.T7.13.13.7.m1.1.1" xref="S5.T7.13.13.7.m1.1.1.cmml"><mi id="S5.T7.13.13.7.m1.1.1.2.2" xref="S5.T7.13.13.7.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.13.13.7.m1.1.1a" xref="S5.T7.13.13.7.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.13.13.7.m1.1.1b" xref="S5.T7.13.13.7.m1.1.1.cmml"></mrow><mn id="S5.T7.13.13.7.m1.1.1.3" xref="S5.T7.13.13.7.m1.1.1.3.cmml">43.6</mn><mn id="S5.T7.13.13.7.m1.1.1.2.3" xref="S5.T7.13.13.7.m1.1.1.2.3.cmml">38.4</mn><mrow id="S5.T7.13.13.7.m1.1.1c" xref="S5.T7.13.13.7.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.13.13.7.m1.1b"><apply id="S5.T7.13.13.7.m1.1.1.cmml" xref="S5.T7.13.13.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.13.13.7.m1.1.1.1.cmml" xref="S5.T7.13.13.7.m1.1.1">superscript</csymbol><apply id="S5.T7.13.13.7.m1.1.1.2.cmml" xref="S5.T7.13.13.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.13.13.7.m1.1.1.2.1.cmml" xref="S5.T7.13.13.7.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.13.13.7.m1.1.1.2.2.cmml" xref="S5.T7.13.13.7.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.13.13.7.m1.1.1.2.3.cmml" type="float" xref="S5.T7.13.13.7.m1.1.1.2.3">38.4</cn></apply><cn id="S5.T7.13.13.7.m1.1.1.3.cmml" type="float" xref="S5.T7.13.13.7.m1.1.1.3">43.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.13.13.7.m1.1c">{}_{38.4}^{43.6}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.13.13.7.m1.1d">start_FLOATSUBSCRIPT 38.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 43.6 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.19.19">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.19.19.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.19.19.7.1">api</span></th>
<td class="ltx_td ltx_align_center" id="S5.T7.14.14.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.8<math alttext="{}_{7.3}^{10.1}" class="ltx_Math" display="inline" id="S5.T7.14.14.1.m1.1"><semantics id="S5.T7.14.14.1.m1.1a"><mmultiscripts id="S5.T7.14.14.1.m1.1.1" xref="S5.T7.14.14.1.m1.1.1.cmml"><mi id="S5.T7.14.14.1.m1.1.1.2.2" xref="S5.T7.14.14.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.14.14.1.m1.1.1a" xref="S5.T7.14.14.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.14.14.1.m1.1.1b" xref="S5.T7.14.14.1.m1.1.1.cmml"></mrow><mn id="S5.T7.14.14.1.m1.1.1.3" xref="S5.T7.14.14.1.m1.1.1.3.cmml">10.1</mn><mn id="S5.T7.14.14.1.m1.1.1.2.3" xref="S5.T7.14.14.1.m1.1.1.2.3.cmml">7.3</mn><mrow id="S5.T7.14.14.1.m1.1.1c" xref="S5.T7.14.14.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.14.14.1.m1.1b"><apply id="S5.T7.14.14.1.m1.1.1.cmml" xref="S5.T7.14.14.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.14.14.1.m1.1.1.1.cmml" xref="S5.T7.14.14.1.m1.1.1">superscript</csymbol><apply id="S5.T7.14.14.1.m1.1.1.2.cmml" xref="S5.T7.14.14.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.14.14.1.m1.1.1.2.1.cmml" xref="S5.T7.14.14.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.14.14.1.m1.1.1.2.2.cmml" xref="S5.T7.14.14.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.14.14.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.14.14.1.m1.1.1.2.3">7.3</cn></apply><cn id="S5.T7.14.14.1.m1.1.1.3.cmml" type="float" xref="S5.T7.14.14.1.m1.1.1.3">10.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.14.14.1.m1.1c">{}_{7.3}^{10.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.14.14.1.m1.1d">start_FLOATSUBSCRIPT 7.3 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 10.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.15.15.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.3<math alttext="{}_{37.8}^{40.6}" class="ltx_Math" display="inline" id="S5.T7.15.15.2.m1.1"><semantics id="S5.T7.15.15.2.m1.1a"><mmultiscripts id="S5.T7.15.15.2.m1.1.1" xref="S5.T7.15.15.2.m1.1.1.cmml"><mi id="S5.T7.15.15.2.m1.1.1.2.2" xref="S5.T7.15.15.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.15.15.2.m1.1.1a" xref="S5.T7.15.15.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.15.15.2.m1.1.1b" xref="S5.T7.15.15.2.m1.1.1.cmml"></mrow><mn id="S5.T7.15.15.2.m1.1.1.3" xref="S5.T7.15.15.2.m1.1.1.3.cmml">40.6</mn><mn id="S5.T7.15.15.2.m1.1.1.2.3" xref="S5.T7.15.15.2.m1.1.1.2.3.cmml">37.8</mn><mrow id="S5.T7.15.15.2.m1.1.1c" xref="S5.T7.15.15.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.15.15.2.m1.1b"><apply id="S5.T7.15.15.2.m1.1.1.cmml" xref="S5.T7.15.15.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.15.15.2.m1.1.1.1.cmml" xref="S5.T7.15.15.2.m1.1.1">superscript</csymbol><apply id="S5.T7.15.15.2.m1.1.1.2.cmml" xref="S5.T7.15.15.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.15.15.2.m1.1.1.2.1.cmml" xref="S5.T7.15.15.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.15.15.2.m1.1.1.2.2.cmml" xref="S5.T7.15.15.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.15.15.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.15.15.2.m1.1.1.2.3">37.8</cn></apply><cn id="S5.T7.15.15.2.m1.1.1.3.cmml" type="float" xref="S5.T7.15.15.2.m1.1.1.3">40.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.15.15.2.m1.1c">{}_{37.8}^{40.6}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.15.15.2.m1.1d">start_FLOATSUBSCRIPT 37.8 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 40.6 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T7.16.16.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.0<math alttext="{}_{13.5}^{16.3}" class="ltx_Math" display="inline" id="S5.T7.16.16.3.m1.1"><semantics id="S5.T7.16.16.3.m1.1a"><mmultiscripts id="S5.T7.16.16.3.m1.1.1" xref="S5.T7.16.16.3.m1.1.1.cmml"><mi id="S5.T7.16.16.3.m1.1.1.2.2" xref="S5.T7.16.16.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.16.16.3.m1.1.1a" xref="S5.T7.16.16.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.16.16.3.m1.1.1b" xref="S5.T7.16.16.3.m1.1.1.cmml"></mrow><mn id="S5.T7.16.16.3.m1.1.1.3" xref="S5.T7.16.16.3.m1.1.1.3.cmml">16.3</mn><mn id="S5.T7.16.16.3.m1.1.1.2.3" xref="S5.T7.16.16.3.m1.1.1.2.3.cmml">13.5</mn><mrow id="S5.T7.16.16.3.m1.1.1c" xref="S5.T7.16.16.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.16.16.3.m1.1b"><apply id="S5.T7.16.16.3.m1.1.1.cmml" xref="S5.T7.16.16.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.16.16.3.m1.1.1.1.cmml" xref="S5.T7.16.16.3.m1.1.1">superscript</csymbol><apply id="S5.T7.16.16.3.m1.1.1.2.cmml" xref="S5.T7.16.16.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.16.16.3.m1.1.1.2.1.cmml" xref="S5.T7.16.16.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.16.16.3.m1.1.1.2.2.cmml" xref="S5.T7.16.16.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.16.16.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.16.16.3.m1.1.1.2.3">13.5</cn></apply><cn id="S5.T7.16.16.3.m1.1.1.3.cmml" type="float" xref="S5.T7.16.16.3.m1.1.1.3">16.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.16.16.3.m1.1c">{}_{13.5}^{16.3}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.16.16.3.m1.1d">start_FLOATSUBSCRIPT 13.5 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 16.3 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.17.17.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.1<math alttext="{}_{19.1}^{23.2}" class="ltx_Math" display="inline" id="S5.T7.17.17.4.m1.1"><semantics id="S5.T7.17.17.4.m1.1a"><mmultiscripts id="S5.T7.17.17.4.m1.1.1" xref="S5.T7.17.17.4.m1.1.1.cmml"><mi id="S5.T7.17.17.4.m1.1.1.2.2" xref="S5.T7.17.17.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.17.17.4.m1.1.1a" xref="S5.T7.17.17.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.17.17.4.m1.1.1b" xref="S5.T7.17.17.4.m1.1.1.cmml"></mrow><mn id="S5.T7.17.17.4.m1.1.1.3" xref="S5.T7.17.17.4.m1.1.1.3.cmml">23.2</mn><mn id="S5.T7.17.17.4.m1.1.1.2.3" xref="S5.T7.17.17.4.m1.1.1.2.3.cmml">19.1</mn><mrow id="S5.T7.17.17.4.m1.1.1c" xref="S5.T7.17.17.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.17.17.4.m1.1b"><apply id="S5.T7.17.17.4.m1.1.1.cmml" xref="S5.T7.17.17.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.17.17.4.m1.1.1.1.cmml" xref="S5.T7.17.17.4.m1.1.1">superscript</csymbol><apply id="S5.T7.17.17.4.m1.1.1.2.cmml" xref="S5.T7.17.17.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.17.17.4.m1.1.1.2.1.cmml" xref="S5.T7.17.17.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.17.17.4.m1.1.1.2.2.cmml" xref="S5.T7.17.17.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.17.17.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.17.17.4.m1.1.1.2.3">19.1</cn></apply><cn id="S5.T7.17.17.4.m1.1.1.3.cmml" type="float" xref="S5.T7.17.17.4.m1.1.1.3">23.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.17.17.4.m1.1c">{}_{19.1}^{23.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.17.17.4.m1.1d">start_FLOATSUBSCRIPT 19.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 23.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.18.18.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.7<math alttext="{}_{50.0}^{53.3}" class="ltx_Math" display="inline" id="S5.T7.18.18.5.m1.1"><semantics id="S5.T7.18.18.5.m1.1a"><mmultiscripts id="S5.T7.18.18.5.m1.1.1" xref="S5.T7.18.18.5.m1.1.1.cmml"><mi id="S5.T7.18.18.5.m1.1.1.2.2" xref="S5.T7.18.18.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.18.18.5.m1.1.1a" xref="S5.T7.18.18.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.18.18.5.m1.1.1b" xref="S5.T7.18.18.5.m1.1.1.cmml"></mrow><mn id="S5.T7.18.18.5.m1.1.1.3" xref="S5.T7.18.18.5.m1.1.1.3.cmml">53.3</mn><mn id="S5.T7.18.18.5.m1.1.1.2.3" xref="S5.T7.18.18.5.m1.1.1.2.3.cmml">50.0</mn><mrow id="S5.T7.18.18.5.m1.1.1c" xref="S5.T7.18.18.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.18.18.5.m1.1b"><apply id="S5.T7.18.18.5.m1.1.1.cmml" xref="S5.T7.18.18.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.18.18.5.m1.1.1.1.cmml" xref="S5.T7.18.18.5.m1.1.1">superscript</csymbol><apply id="S5.T7.18.18.5.m1.1.1.2.cmml" xref="S5.T7.18.18.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.18.18.5.m1.1.1.2.1.cmml" xref="S5.T7.18.18.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.18.18.5.m1.1.1.2.2.cmml" xref="S5.T7.18.18.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.18.18.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.18.18.5.m1.1.1.2.3">50.0</cn></apply><cn id="S5.T7.18.18.5.m1.1.1.3.cmml" type="float" xref="S5.T7.18.18.5.m1.1.1.3">53.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.18.18.5.m1.1c">{}_{50.0}^{53.3}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.18.18.5.m1.1d">start_FLOATSUBSCRIPT 50.0 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 53.3 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.19.19.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.9<math alttext="{}_{24.9}^{29.0}" class="ltx_Math" display="inline" id="S5.T7.19.19.6.m1.1"><semantics id="S5.T7.19.19.6.m1.1a"><mmultiscripts id="S5.T7.19.19.6.m1.1.1" xref="S5.T7.19.19.6.m1.1.1.cmml"><mi id="S5.T7.19.19.6.m1.1.1.2.2" xref="S5.T7.19.19.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.19.19.6.m1.1.1a" xref="S5.T7.19.19.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.19.19.6.m1.1.1b" xref="S5.T7.19.19.6.m1.1.1.cmml"></mrow><mn id="S5.T7.19.19.6.m1.1.1.3" xref="S5.T7.19.19.6.m1.1.1.3.cmml">29.0</mn><mn id="S5.T7.19.19.6.m1.1.1.2.3" xref="S5.T7.19.19.6.m1.1.1.2.3.cmml">24.9</mn><mrow id="S5.T7.19.19.6.m1.1.1c" xref="S5.T7.19.19.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.19.19.6.m1.1b"><apply id="S5.T7.19.19.6.m1.1.1.cmml" xref="S5.T7.19.19.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.19.19.6.m1.1.1.1.cmml" xref="S5.T7.19.19.6.m1.1.1">superscript</csymbol><apply id="S5.T7.19.19.6.m1.1.1.2.cmml" xref="S5.T7.19.19.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.19.19.6.m1.1.1.2.1.cmml" xref="S5.T7.19.19.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.19.19.6.m1.1.1.2.2.cmml" xref="S5.T7.19.19.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.19.19.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.19.19.6.m1.1.1.2.3">24.9</cn></apply><cn id="S5.T7.19.19.6.m1.1.1.3.cmml" type="float" xref="S5.T7.19.19.6.m1.1.1.3">29.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.19.19.6.m1.1c">{}_{24.9}^{29.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.19.19.6.m1.1d">start_FLOATSUBSCRIPT 24.9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 29.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.26.26">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T7.20.20.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T7.20.20.1.1">RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T7.20.20.1.1.m1.1"><semantics id="S5.T7.20.20.1.1.m1.1a"><mmultiscripts id="S5.T7.20.20.1.1.m1.1.1" xref="S5.T7.20.20.1.1.m1.1.1.cmml"><mi id="S5.T7.20.20.1.1.m1.1.1.2.2" xref="S5.T7.20.20.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.20.20.1.1.m1.1.1a" xref="S5.T7.20.20.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.20.20.1.1.m1.1.1b" xref="S5.T7.20.20.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T7.20.20.1.1.m1.1.1.3" xref="S5.T7.20.20.1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T7.20.20.1.1.m1.1.1.2.3" xref="S5.T7.20.20.1.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T7.20.20.1.1.m1.1.1c" xref="S5.T7.20.20.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.20.20.1.1.m1.1b"><apply id="S5.T7.20.20.1.1.m1.1.1.cmml" xref="S5.T7.20.20.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.20.20.1.1.m1.1.1.1.cmml" xref="S5.T7.20.20.1.1.m1.1.1">superscript</csymbol><apply id="S5.T7.20.20.1.1.m1.1.1.2.cmml" xref="S5.T7.20.20.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.20.20.1.1.m1.1.1.2.1.cmml" xref="S5.T7.20.20.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.20.20.1.1.m1.1.1.2.2.cmml" xref="S5.T7.20.20.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.20.20.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T7.20.20.1.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T7.20.20.1.1.m1.1.1.3a.cmml" xref="S5.T7.20.20.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T7.20.20.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T7.20.20.1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.20.20.1.1.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.20.20.1.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.26.26.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.26.26.8.1">line</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.21.21.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.6<math alttext="{}_{17.7}^{21.8}" class="ltx_Math" display="inline" id="S5.T7.21.21.2.m1.1"><semantics id="S5.T7.21.21.2.m1.1a"><mmultiscripts id="S5.T7.21.21.2.m1.1.1" xref="S5.T7.21.21.2.m1.1.1.cmml"><mi id="S5.T7.21.21.2.m1.1.1.2.2" xref="S5.T7.21.21.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.21.21.2.m1.1.1a" xref="S5.T7.21.21.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.21.21.2.m1.1.1b" xref="S5.T7.21.21.2.m1.1.1.cmml"></mrow><mn id="S5.T7.21.21.2.m1.1.1.3" xref="S5.T7.21.21.2.m1.1.1.3.cmml">21.8</mn><mn id="S5.T7.21.21.2.m1.1.1.2.3" xref="S5.T7.21.21.2.m1.1.1.2.3.cmml">17.7</mn><mrow id="S5.T7.21.21.2.m1.1.1c" xref="S5.T7.21.21.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.21.21.2.m1.1b"><apply id="S5.T7.21.21.2.m1.1.1.cmml" xref="S5.T7.21.21.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.21.21.2.m1.1.1.1.cmml" xref="S5.T7.21.21.2.m1.1.1">superscript</csymbol><apply id="S5.T7.21.21.2.m1.1.1.2.cmml" xref="S5.T7.21.21.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.21.21.2.m1.1.1.2.1.cmml" xref="S5.T7.21.21.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.21.21.2.m1.1.1.2.2.cmml" xref="S5.T7.21.21.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.21.21.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.21.21.2.m1.1.1.2.3">17.7</cn></apply><cn id="S5.T7.21.21.2.m1.1.1.3.cmml" type="float" xref="S5.T7.21.21.2.m1.1.1.3">21.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.21.21.2.m1.1c">{}_{17.7}^{21.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.21.21.2.m1.1d">start_FLOATSUBSCRIPT 17.7 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 21.8 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.22.22.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.1<math alttext="{}_{48.6}^{51.8}" class="ltx_Math" display="inline" id="S5.T7.22.22.3.m1.1"><semantics id="S5.T7.22.22.3.m1.1a"><mmultiscripts id="S5.T7.22.22.3.m1.1.1" xref="S5.T7.22.22.3.m1.1.1.cmml"><mi id="S5.T7.22.22.3.m1.1.1.2.2" xref="S5.T7.22.22.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.22.22.3.m1.1.1a" xref="S5.T7.22.22.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.22.22.3.m1.1.1b" xref="S5.T7.22.22.3.m1.1.1.cmml"></mrow><mn id="S5.T7.22.22.3.m1.1.1.3" xref="S5.T7.22.22.3.m1.1.1.3.cmml">51.8</mn><mn id="S5.T7.22.22.3.m1.1.1.2.3" xref="S5.T7.22.22.3.m1.1.1.2.3.cmml">48.6</mn><mrow id="S5.T7.22.22.3.m1.1.1c" xref="S5.T7.22.22.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.22.22.3.m1.1b"><apply id="S5.T7.22.22.3.m1.1.1.cmml" xref="S5.T7.22.22.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.22.22.3.m1.1.1.1.cmml" xref="S5.T7.22.22.3.m1.1.1">superscript</csymbol><apply id="S5.T7.22.22.3.m1.1.1.2.cmml" xref="S5.T7.22.22.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.22.22.3.m1.1.1.2.1.cmml" xref="S5.T7.22.22.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.22.22.3.m1.1.1.2.2.cmml" xref="S5.T7.22.22.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.22.22.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.22.22.3.m1.1.1.2.3">48.6</cn></apply><cn id="S5.T7.22.22.3.m1.1.1.3.cmml" type="float" xref="S5.T7.22.22.3.m1.1.1.3">51.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.22.22.3.m1.1c">{}_{48.6}^{51.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.22.22.3.m1.1d">start_FLOATSUBSCRIPT 48.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 51.8 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T7.23.23.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.4<math alttext="{}_{24.5}^{28.1}" class="ltx_Math" display="inline" id="S5.T7.23.23.4.m1.1"><semantics id="S5.T7.23.23.4.m1.1a"><mmultiscripts id="S5.T7.23.23.4.m1.1.1" xref="S5.T7.23.23.4.m1.1.1.cmml"><mi id="S5.T7.23.23.4.m1.1.1.2.2" xref="S5.T7.23.23.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.23.23.4.m1.1.1a" xref="S5.T7.23.23.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.23.23.4.m1.1.1b" xref="S5.T7.23.23.4.m1.1.1.cmml"></mrow><mn id="S5.T7.23.23.4.m1.1.1.3" xref="S5.T7.23.23.4.m1.1.1.3.cmml">28.1</mn><mn id="S5.T7.23.23.4.m1.1.1.2.3" xref="S5.T7.23.23.4.m1.1.1.2.3.cmml">24.5</mn><mrow id="S5.T7.23.23.4.m1.1.1c" xref="S5.T7.23.23.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.23.23.4.m1.1b"><apply id="S5.T7.23.23.4.m1.1.1.cmml" xref="S5.T7.23.23.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.23.23.4.m1.1.1.1.cmml" xref="S5.T7.23.23.4.m1.1.1">superscript</csymbol><apply id="S5.T7.23.23.4.m1.1.1.2.cmml" xref="S5.T7.23.23.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.23.23.4.m1.1.1.2.1.cmml" xref="S5.T7.23.23.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.23.23.4.m1.1.1.2.2.cmml" xref="S5.T7.23.23.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.23.23.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.23.23.4.m1.1.1.2.3">24.5</cn></apply><cn id="S5.T7.23.23.4.m1.1.1.3.cmml" type="float" xref="S5.T7.23.23.4.m1.1.1.3">28.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.23.23.4.m1.1c">{}_{24.5}^{28.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.23.23.4.m1.1d">start_FLOATSUBSCRIPT 24.5 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 28.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.24.24.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.6<math alttext="{}_{29.2}^{33.8}" class="ltx_Math" display="inline" id="S5.T7.24.24.5.m1.1"><semantics id="S5.T7.24.24.5.m1.1a"><mmultiscripts id="S5.T7.24.24.5.m1.1.1" xref="S5.T7.24.24.5.m1.1.1.cmml"><mi id="S5.T7.24.24.5.m1.1.1.2.2" xref="S5.T7.24.24.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.24.24.5.m1.1.1a" xref="S5.T7.24.24.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.24.24.5.m1.1.1b" xref="S5.T7.24.24.5.m1.1.1.cmml"></mrow><mn id="S5.T7.24.24.5.m1.1.1.3" xref="S5.T7.24.24.5.m1.1.1.3.cmml">33.8</mn><mn id="S5.T7.24.24.5.m1.1.1.2.3" xref="S5.T7.24.24.5.m1.1.1.2.3.cmml">29.2</mn><mrow id="S5.T7.24.24.5.m1.1.1c" xref="S5.T7.24.24.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.24.24.5.m1.1b"><apply id="S5.T7.24.24.5.m1.1.1.cmml" xref="S5.T7.24.24.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.24.24.5.m1.1.1.1.cmml" xref="S5.T7.24.24.5.m1.1.1">superscript</csymbol><apply id="S5.T7.24.24.5.m1.1.1.2.cmml" xref="S5.T7.24.24.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.24.24.5.m1.1.1.2.1.cmml" xref="S5.T7.24.24.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.24.24.5.m1.1.1.2.2.cmml" xref="S5.T7.24.24.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.24.24.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.24.24.5.m1.1.1.2.3">29.2</cn></apply><cn id="S5.T7.24.24.5.m1.1.1.3.cmml" type="float" xref="S5.T7.24.24.5.m1.1.1.3">33.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.24.24.5.m1.1c">{}_{29.2}^{33.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.24.24.5.m1.1d">start_FLOATSUBSCRIPT 29.2 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 33.8 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.25.25.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.2<math alttext="{}_{55.6}^{58.9}" class="ltx_Math" display="inline" id="S5.T7.25.25.6.m1.1"><semantics id="S5.T7.25.25.6.m1.1a"><mmultiscripts id="S5.T7.25.25.6.m1.1.1" xref="S5.T7.25.25.6.m1.1.1.cmml"><mi id="S5.T7.25.25.6.m1.1.1.2.2" xref="S5.T7.25.25.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.25.25.6.m1.1.1a" xref="S5.T7.25.25.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.25.25.6.m1.1.1b" xref="S5.T7.25.25.6.m1.1.1.cmml"></mrow><mn id="S5.T7.25.25.6.m1.1.1.3" xref="S5.T7.25.25.6.m1.1.1.3.cmml">58.9</mn><mn id="S5.T7.25.25.6.m1.1.1.2.3" xref="S5.T7.25.25.6.m1.1.1.2.3.cmml">55.6</mn><mrow id="S5.T7.25.25.6.m1.1.1c" xref="S5.T7.25.25.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.25.25.6.m1.1b"><apply id="S5.T7.25.25.6.m1.1.1.cmml" xref="S5.T7.25.25.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.25.25.6.m1.1.1.1.cmml" xref="S5.T7.25.25.6.m1.1.1">superscript</csymbol><apply id="S5.T7.25.25.6.m1.1.1.2.cmml" xref="S5.T7.25.25.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.25.25.6.m1.1.1.2.1.cmml" xref="S5.T7.25.25.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.25.25.6.m1.1.1.2.2.cmml" xref="S5.T7.25.25.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.25.25.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.25.25.6.m1.1.1.2.3">55.6</cn></apply><cn id="S5.T7.25.25.6.m1.1.1.3.cmml" type="float" xref="S5.T7.25.25.6.m1.1.1.3">58.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.25.25.6.m1.1c">{}_{55.6}^{58.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.25.25.6.m1.1d">start_FLOATSUBSCRIPT 55.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 58.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.26.26.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.5<math alttext="{}_{37.3}^{42.2}" class="ltx_Math" display="inline" id="S5.T7.26.26.7.m1.1"><semantics id="S5.T7.26.26.7.m1.1a"><mmultiscripts id="S5.T7.26.26.7.m1.1.1" xref="S5.T7.26.26.7.m1.1.1.cmml"><mi id="S5.T7.26.26.7.m1.1.1.2.2" xref="S5.T7.26.26.7.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.26.26.7.m1.1.1a" xref="S5.T7.26.26.7.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.26.26.7.m1.1.1b" xref="S5.T7.26.26.7.m1.1.1.cmml"></mrow><mn id="S5.T7.26.26.7.m1.1.1.3" xref="S5.T7.26.26.7.m1.1.1.3.cmml">42.2</mn><mn id="S5.T7.26.26.7.m1.1.1.2.3" xref="S5.T7.26.26.7.m1.1.1.2.3.cmml">37.3</mn><mrow id="S5.T7.26.26.7.m1.1.1c" xref="S5.T7.26.26.7.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.26.26.7.m1.1b"><apply id="S5.T7.26.26.7.m1.1.1.cmml" xref="S5.T7.26.26.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.26.26.7.m1.1.1.1.cmml" xref="S5.T7.26.26.7.m1.1.1">superscript</csymbol><apply id="S5.T7.26.26.7.m1.1.1.2.cmml" xref="S5.T7.26.26.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.26.26.7.m1.1.1.2.1.cmml" xref="S5.T7.26.26.7.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.26.26.7.m1.1.1.2.2.cmml" xref="S5.T7.26.26.7.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.26.26.7.m1.1.1.2.3.cmml" type="float" xref="S5.T7.26.26.7.m1.1.1.2.3">37.3</cn></apply><cn id="S5.T7.26.26.7.m1.1.1.3.cmml" type="float" xref="S5.T7.26.26.7.m1.1.1.3">42.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.26.26.7.m1.1c">{}_{37.3}^{42.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.26.26.7.m1.1d">start_FLOATSUBSCRIPT 37.3 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 42.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.32.32">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.32.32.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.32.32.7.1">api</span></th>
<td class="ltx_td ltx_align_center" id="S5.T7.27.27.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.6<math alttext="{}_{8.1}^{11.0}" class="ltx_Math" display="inline" id="S5.T7.27.27.1.m1.1"><semantics id="S5.T7.27.27.1.m1.1a"><mmultiscripts id="S5.T7.27.27.1.m1.1.1" xref="S5.T7.27.27.1.m1.1.1.cmml"><mi id="S5.T7.27.27.1.m1.1.1.2.2" xref="S5.T7.27.27.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.27.27.1.m1.1.1a" xref="S5.T7.27.27.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.27.27.1.m1.1.1b" xref="S5.T7.27.27.1.m1.1.1.cmml"></mrow><mn id="S5.T7.27.27.1.m1.1.1.3" xref="S5.T7.27.27.1.m1.1.1.3.cmml">11.0</mn><mn id="S5.T7.27.27.1.m1.1.1.2.3" xref="S5.T7.27.27.1.m1.1.1.2.3.cmml">8.1</mn><mrow id="S5.T7.27.27.1.m1.1.1c" xref="S5.T7.27.27.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.27.27.1.m1.1b"><apply id="S5.T7.27.27.1.m1.1.1.cmml" xref="S5.T7.27.27.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.27.27.1.m1.1.1.1.cmml" xref="S5.T7.27.27.1.m1.1.1">superscript</csymbol><apply id="S5.T7.27.27.1.m1.1.1.2.cmml" xref="S5.T7.27.27.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.27.27.1.m1.1.1.2.1.cmml" xref="S5.T7.27.27.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.27.27.1.m1.1.1.2.2.cmml" xref="S5.T7.27.27.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.27.27.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.27.27.1.m1.1.1.2.3">8.1</cn></apply><cn id="S5.T7.27.27.1.m1.1.1.3.cmml" type="float" xref="S5.T7.27.27.1.m1.1.1.3">11.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.27.27.1.m1.1c">{}_{8.1}^{11.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.27.27.1.m1.1d">start_FLOATSUBSCRIPT 8.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 11.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.28.28.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.7<math alttext="{}_{41.3}^{44.1}" class="ltx_Math" display="inline" id="S5.T7.28.28.2.m1.1"><semantics id="S5.T7.28.28.2.m1.1a"><mmultiscripts id="S5.T7.28.28.2.m1.1.1" xref="S5.T7.28.28.2.m1.1.1.cmml"><mi id="S5.T7.28.28.2.m1.1.1.2.2" xref="S5.T7.28.28.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.28.28.2.m1.1.1a" xref="S5.T7.28.28.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.28.28.2.m1.1.1b" xref="S5.T7.28.28.2.m1.1.1.cmml"></mrow><mn id="S5.T7.28.28.2.m1.1.1.3" xref="S5.T7.28.28.2.m1.1.1.3.cmml">44.1</mn><mn id="S5.T7.28.28.2.m1.1.1.2.3" xref="S5.T7.28.28.2.m1.1.1.2.3.cmml">41.3</mn><mrow id="S5.T7.28.28.2.m1.1.1c" xref="S5.T7.28.28.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.28.28.2.m1.1b"><apply id="S5.T7.28.28.2.m1.1.1.cmml" xref="S5.T7.28.28.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.28.28.2.m1.1.1.1.cmml" xref="S5.T7.28.28.2.m1.1.1">superscript</csymbol><apply id="S5.T7.28.28.2.m1.1.1.2.cmml" xref="S5.T7.28.28.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.28.28.2.m1.1.1.2.1.cmml" xref="S5.T7.28.28.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.28.28.2.m1.1.1.2.2.cmml" xref="S5.T7.28.28.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.28.28.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.28.28.2.m1.1.1.2.3">41.3</cn></apply><cn id="S5.T7.28.28.2.m1.1.1.3.cmml" type="float" xref="S5.T7.28.28.2.m1.1.1.3">44.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.28.28.2.m1.1c">{}_{41.3}^{44.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.28.28.2.m1.1d">start_FLOATSUBSCRIPT 41.3 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 44.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T7.29.29.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.8<math alttext="{}_{15.4}^{18.2}" class="ltx_Math" display="inline" id="S5.T7.29.29.3.m1.1"><semantics id="S5.T7.29.29.3.m1.1a"><mmultiscripts id="S5.T7.29.29.3.m1.1.1" xref="S5.T7.29.29.3.m1.1.1.cmml"><mi id="S5.T7.29.29.3.m1.1.1.2.2" xref="S5.T7.29.29.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.29.29.3.m1.1.1a" xref="S5.T7.29.29.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.29.29.3.m1.1.1b" xref="S5.T7.29.29.3.m1.1.1.cmml"></mrow><mn id="S5.T7.29.29.3.m1.1.1.3" xref="S5.T7.29.29.3.m1.1.1.3.cmml">18.2</mn><mn id="S5.T7.29.29.3.m1.1.1.2.3" xref="S5.T7.29.29.3.m1.1.1.2.3.cmml">15.4</mn><mrow id="S5.T7.29.29.3.m1.1.1c" xref="S5.T7.29.29.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.29.29.3.m1.1b"><apply id="S5.T7.29.29.3.m1.1.1.cmml" xref="S5.T7.29.29.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.29.29.3.m1.1.1.1.cmml" xref="S5.T7.29.29.3.m1.1.1">superscript</csymbol><apply id="S5.T7.29.29.3.m1.1.1.2.cmml" xref="S5.T7.29.29.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.29.29.3.m1.1.1.2.1.cmml" xref="S5.T7.29.29.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.29.29.3.m1.1.1.2.2.cmml" xref="S5.T7.29.29.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.29.29.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.29.29.3.m1.1.1.2.3">15.4</cn></apply><cn id="S5.T7.29.29.3.m1.1.1.3.cmml" type="float" xref="S5.T7.29.29.3.m1.1.1.3">18.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.29.29.3.m1.1c">{}_{15.4}^{18.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.29.29.3.m1.1d">start_FLOATSUBSCRIPT 15.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 18.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.30.30.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.1<math alttext="{}_{18.1}^{21.9}" class="ltx_Math" display="inline" id="S5.T7.30.30.4.m1.1"><semantics id="S5.T7.30.30.4.m1.1a"><mmultiscripts id="S5.T7.30.30.4.m1.1.1" xref="S5.T7.30.30.4.m1.1.1.cmml"><mi id="S5.T7.30.30.4.m1.1.1.2.2" xref="S5.T7.30.30.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.30.30.4.m1.1.1a" xref="S5.T7.30.30.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.30.30.4.m1.1.1b" xref="S5.T7.30.30.4.m1.1.1.cmml"></mrow><mn id="S5.T7.30.30.4.m1.1.1.3" xref="S5.T7.30.30.4.m1.1.1.3.cmml">21.9</mn><mn id="S5.T7.30.30.4.m1.1.1.2.3" xref="S5.T7.30.30.4.m1.1.1.2.3.cmml">18.1</mn><mrow id="S5.T7.30.30.4.m1.1.1c" xref="S5.T7.30.30.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.30.30.4.m1.1b"><apply id="S5.T7.30.30.4.m1.1.1.cmml" xref="S5.T7.30.30.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.30.30.4.m1.1.1.1.cmml" xref="S5.T7.30.30.4.m1.1.1">superscript</csymbol><apply id="S5.T7.30.30.4.m1.1.1.2.cmml" xref="S5.T7.30.30.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.30.30.4.m1.1.1.2.1.cmml" xref="S5.T7.30.30.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.30.30.4.m1.1.1.2.2.cmml" xref="S5.T7.30.30.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.30.30.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.30.30.4.m1.1.1.2.3">18.1</cn></apply><cn id="S5.T7.30.30.4.m1.1.1.3.cmml" type="float" xref="S5.T7.30.30.4.m1.1.1.3">21.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.30.30.4.m1.1c">{}_{18.1}^{21.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.30.30.4.m1.1d">start_FLOATSUBSCRIPT 18.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 21.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.31.31.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.5<math alttext="{}_{48.6}^{51.9}" class="ltx_Math" display="inline" id="S5.T7.31.31.5.m1.1"><semantics id="S5.T7.31.31.5.m1.1a"><mmultiscripts id="S5.T7.31.31.5.m1.1.1" xref="S5.T7.31.31.5.m1.1.1.cmml"><mi id="S5.T7.31.31.5.m1.1.1.2.2" xref="S5.T7.31.31.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.31.31.5.m1.1.1a" xref="S5.T7.31.31.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.31.31.5.m1.1.1b" xref="S5.T7.31.31.5.m1.1.1.cmml"></mrow><mn id="S5.T7.31.31.5.m1.1.1.3" xref="S5.T7.31.31.5.m1.1.1.3.cmml">51.9</mn><mn id="S5.T7.31.31.5.m1.1.1.2.3" xref="S5.T7.31.31.5.m1.1.1.2.3.cmml">48.6</mn><mrow id="S5.T7.31.31.5.m1.1.1c" xref="S5.T7.31.31.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.31.31.5.m1.1b"><apply id="S5.T7.31.31.5.m1.1.1.cmml" xref="S5.T7.31.31.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.31.31.5.m1.1.1.1.cmml" xref="S5.T7.31.31.5.m1.1.1">superscript</csymbol><apply id="S5.T7.31.31.5.m1.1.1.2.cmml" xref="S5.T7.31.31.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.31.31.5.m1.1.1.2.1.cmml" xref="S5.T7.31.31.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.31.31.5.m1.1.1.2.2.cmml" xref="S5.T7.31.31.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.31.31.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.31.31.5.m1.1.1.2.3">48.6</cn></apply><cn id="S5.T7.31.31.5.m1.1.1.3.cmml" type="float" xref="S5.T7.31.31.5.m1.1.1.3">51.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.31.31.5.m1.1c">{}_{48.6}^{51.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.31.31.5.m1.1d">start_FLOATSUBSCRIPT 48.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 51.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.32.32.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.3<math alttext="{}_{24.4}^{28.3}" class="ltx_Math" display="inline" id="S5.T7.32.32.6.m1.1"><semantics id="S5.T7.32.32.6.m1.1a"><mmultiscripts id="S5.T7.32.32.6.m1.1.1" xref="S5.T7.32.32.6.m1.1.1.cmml"><mi id="S5.T7.32.32.6.m1.1.1.2.2" xref="S5.T7.32.32.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.32.32.6.m1.1.1a" xref="S5.T7.32.32.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.32.32.6.m1.1.1b" xref="S5.T7.32.32.6.m1.1.1.cmml"></mrow><mn id="S5.T7.32.32.6.m1.1.1.3" xref="S5.T7.32.32.6.m1.1.1.3.cmml">28.3</mn><mn id="S5.T7.32.32.6.m1.1.1.2.3" xref="S5.T7.32.32.6.m1.1.1.2.3.cmml">24.4</mn><mrow id="S5.T7.32.32.6.m1.1.1c" xref="S5.T7.32.32.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.32.32.6.m1.1b"><apply id="S5.T7.32.32.6.m1.1.1.cmml" xref="S5.T7.32.32.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.32.32.6.m1.1.1.1.cmml" xref="S5.T7.32.32.6.m1.1.1">superscript</csymbol><apply id="S5.T7.32.32.6.m1.1.1.2.cmml" xref="S5.T7.32.32.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.32.32.6.m1.1.1.2.1.cmml" xref="S5.T7.32.32.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.32.32.6.m1.1.1.2.2.cmml" xref="S5.T7.32.32.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.32.32.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.32.32.6.m1.1.1.2.3">24.4</cn></apply><cn id="S5.T7.32.32.6.m1.1.1.3.cmml" type="float" xref="S5.T7.32.32.6.m1.1.1.3">28.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.32.32.6.m1.1c">{}_{24.4}^{28.3}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.32.32.6.m1.1d">start_FLOATSUBSCRIPT 24.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 28.3 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.39.39">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T7.33.33.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T7.33.33.1.1">StarCoder<sub class="ltx_sub" id="S5.T7.33.33.1.1.1"><span class="ltx_text ltx_font_italic" id="S5.T7.33.33.1.1.1.1">164M</span></sub></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.39.39.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.39.39.8.1">line</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.34.34.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.1<math alttext="{}_{22.9}^{27.0}" class="ltx_Math" display="inline" id="S5.T7.34.34.2.m1.1"><semantics id="S5.T7.34.34.2.m1.1a"><mmultiscripts id="S5.T7.34.34.2.m1.1.1" xref="S5.T7.34.34.2.m1.1.1.cmml"><mi id="S5.T7.34.34.2.m1.1.1.2.2" xref="S5.T7.34.34.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.34.34.2.m1.1.1a" xref="S5.T7.34.34.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.34.34.2.m1.1.1b" xref="S5.T7.34.34.2.m1.1.1.cmml"></mrow><mn id="S5.T7.34.34.2.m1.1.1.3" xref="S5.T7.34.34.2.m1.1.1.3.cmml">27.0</mn><mn id="S5.T7.34.34.2.m1.1.1.2.3" xref="S5.T7.34.34.2.m1.1.1.2.3.cmml">22.9</mn><mrow id="S5.T7.34.34.2.m1.1.1c" xref="S5.T7.34.34.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.34.34.2.m1.1b"><apply id="S5.T7.34.34.2.m1.1.1.cmml" xref="S5.T7.34.34.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.34.34.2.m1.1.1.1.cmml" xref="S5.T7.34.34.2.m1.1.1">superscript</csymbol><apply id="S5.T7.34.34.2.m1.1.1.2.cmml" xref="S5.T7.34.34.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.34.34.2.m1.1.1.2.1.cmml" xref="S5.T7.34.34.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.34.34.2.m1.1.1.2.2.cmml" xref="S5.T7.34.34.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.34.34.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.34.34.2.m1.1.1.2.3">22.9</cn></apply><cn id="S5.T7.34.34.2.m1.1.1.3.cmml" type="float" xref="S5.T7.34.34.2.m1.1.1.3">27.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.34.34.2.m1.1c">{}_{22.9}^{27.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.34.34.2.m1.1d">start_FLOATSUBSCRIPT 22.9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 27.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.35.35.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.1<math alttext="{}_{51.4}^{54.7}" class="ltx_Math" display="inline" id="S5.T7.35.35.3.m1.1"><semantics id="S5.T7.35.35.3.m1.1a"><mmultiscripts id="S5.T7.35.35.3.m1.1.1" xref="S5.T7.35.35.3.m1.1.1.cmml"><mi id="S5.T7.35.35.3.m1.1.1.2.2" xref="S5.T7.35.35.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.35.35.3.m1.1.1a" xref="S5.T7.35.35.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.35.35.3.m1.1.1b" xref="S5.T7.35.35.3.m1.1.1.cmml"></mrow><mn id="S5.T7.35.35.3.m1.1.1.3" xref="S5.T7.35.35.3.m1.1.1.3.cmml">54.7</mn><mn id="S5.T7.35.35.3.m1.1.1.2.3" xref="S5.T7.35.35.3.m1.1.1.2.3.cmml">51.4</mn><mrow id="S5.T7.35.35.3.m1.1.1c" xref="S5.T7.35.35.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.35.35.3.m1.1b"><apply id="S5.T7.35.35.3.m1.1.1.cmml" xref="S5.T7.35.35.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.35.35.3.m1.1.1.1.cmml" xref="S5.T7.35.35.3.m1.1.1">superscript</csymbol><apply id="S5.T7.35.35.3.m1.1.1.2.cmml" xref="S5.T7.35.35.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.35.35.3.m1.1.1.2.1.cmml" xref="S5.T7.35.35.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.35.35.3.m1.1.1.2.2.cmml" xref="S5.T7.35.35.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.35.35.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.35.35.3.m1.1.1.2.3">51.4</cn></apply><cn id="S5.T7.35.35.3.m1.1.1.3.cmml" type="float" xref="S5.T7.35.35.3.m1.1.1.3">54.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.35.35.3.m1.1c">{}_{51.4}^{54.7}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.35.35.3.m1.1d">start_FLOATSUBSCRIPT 51.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 54.7 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T7.36.36.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.9<math alttext="{}_{29.9}^{34.2}" class="ltx_Math" display="inline" id="S5.T7.36.36.4.m1.1"><semantics id="S5.T7.36.36.4.m1.1a"><mmultiscripts id="S5.T7.36.36.4.m1.1.1" xref="S5.T7.36.36.4.m1.1.1.cmml"><mi id="S5.T7.36.36.4.m1.1.1.2.2" xref="S5.T7.36.36.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.36.36.4.m1.1.1a" xref="S5.T7.36.36.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.36.36.4.m1.1.1b" xref="S5.T7.36.36.4.m1.1.1.cmml"></mrow><mn id="S5.T7.36.36.4.m1.1.1.3" xref="S5.T7.36.36.4.m1.1.1.3.cmml">34.2</mn><mn id="S5.T7.36.36.4.m1.1.1.2.3" xref="S5.T7.36.36.4.m1.1.1.2.3.cmml">29.9</mn><mrow id="S5.T7.36.36.4.m1.1.1c" xref="S5.T7.36.36.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.36.36.4.m1.1b"><apply id="S5.T7.36.36.4.m1.1.1.cmml" xref="S5.T7.36.36.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.36.36.4.m1.1.1.1.cmml" xref="S5.T7.36.36.4.m1.1.1">superscript</csymbol><apply id="S5.T7.36.36.4.m1.1.1.2.cmml" xref="S5.T7.36.36.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.36.36.4.m1.1.1.2.1.cmml" xref="S5.T7.36.36.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.36.36.4.m1.1.1.2.2.cmml" xref="S5.T7.36.36.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.36.36.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.36.36.4.m1.1.1.2.3">29.9</cn></apply><cn id="S5.T7.36.36.4.m1.1.1.3.cmml" type="float" xref="S5.T7.36.36.4.m1.1.1.3">34.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.36.36.4.m1.1c">{}_{29.9}^{34.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.36.36.4.m1.1d">start_FLOATSUBSCRIPT 29.9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 34.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.37.37.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.6<math alttext="{}_{39.1}^{44.0}" class="ltx_Math" display="inline" id="S5.T7.37.37.5.m1.1"><semantics id="S5.T7.37.37.5.m1.1a"><mmultiscripts id="S5.T7.37.37.5.m1.1.1" xref="S5.T7.37.37.5.m1.1.1.cmml"><mi id="S5.T7.37.37.5.m1.1.1.2.2" xref="S5.T7.37.37.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.37.37.5.m1.1.1a" xref="S5.T7.37.37.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.37.37.5.m1.1.1b" xref="S5.T7.37.37.5.m1.1.1.cmml"></mrow><mn id="S5.T7.37.37.5.m1.1.1.3" xref="S5.T7.37.37.5.m1.1.1.3.cmml">44.0</mn><mn id="S5.T7.37.37.5.m1.1.1.2.3" xref="S5.T7.37.37.5.m1.1.1.2.3.cmml">39.1</mn><mrow id="S5.T7.37.37.5.m1.1.1c" xref="S5.T7.37.37.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.37.37.5.m1.1b"><apply id="S5.T7.37.37.5.m1.1.1.cmml" xref="S5.T7.37.37.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.37.37.5.m1.1.1.1.cmml" xref="S5.T7.37.37.5.m1.1.1">superscript</csymbol><apply id="S5.T7.37.37.5.m1.1.1.2.cmml" xref="S5.T7.37.37.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.37.37.5.m1.1.1.2.1.cmml" xref="S5.T7.37.37.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.37.37.5.m1.1.1.2.2.cmml" xref="S5.T7.37.37.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.37.37.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.37.37.5.m1.1.1.2.3">39.1</cn></apply><cn id="S5.T7.37.37.5.m1.1.1.3.cmml" type="float" xref="S5.T7.37.37.5.m1.1.1.3">44.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.37.37.5.m1.1c">{}_{39.1}^{44.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.37.37.5.m1.1d">start_FLOATSUBSCRIPT 39.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 44.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.38.38.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.6<math alttext="{}_{62.6}^{66.3}" class="ltx_Math" display="inline" id="S5.T7.38.38.6.m1.1"><semantics id="S5.T7.38.38.6.m1.1a"><mmultiscripts id="S5.T7.38.38.6.m1.1.1" xref="S5.T7.38.38.6.m1.1.1.cmml"><mi id="S5.T7.38.38.6.m1.1.1.2.2" xref="S5.T7.38.38.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.38.38.6.m1.1.1a" xref="S5.T7.38.38.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.38.38.6.m1.1.1b" xref="S5.T7.38.38.6.m1.1.1.cmml"></mrow><mn id="S5.T7.38.38.6.m1.1.1.3" xref="S5.T7.38.38.6.m1.1.1.3.cmml">66.3</mn><mn id="S5.T7.38.38.6.m1.1.1.2.3" xref="S5.T7.38.38.6.m1.1.1.2.3.cmml">62.6</mn><mrow id="S5.T7.38.38.6.m1.1.1c" xref="S5.T7.38.38.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.38.38.6.m1.1b"><apply id="S5.T7.38.38.6.m1.1.1.cmml" xref="S5.T7.38.38.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.38.38.6.m1.1.1.1.cmml" xref="S5.T7.38.38.6.m1.1.1">superscript</csymbol><apply id="S5.T7.38.38.6.m1.1.1.2.cmml" xref="S5.T7.38.38.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.38.38.6.m1.1.1.2.1.cmml" xref="S5.T7.38.38.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.38.38.6.m1.1.1.2.2.cmml" xref="S5.T7.38.38.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.38.38.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.38.38.6.m1.1.1.2.3">62.6</cn></apply><cn id="S5.T7.38.38.6.m1.1.1.3.cmml" type="float" xref="S5.T7.38.38.6.m1.1.1.3">66.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.38.38.6.m1.1c">{}_{62.6}^{66.3}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.38.38.6.m1.1d">start_FLOATSUBSCRIPT 62.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 66.3 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.39.39.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.1<math alttext="{}_{45.2}^{50.9}" class="ltx_Math" display="inline" id="S5.T7.39.39.7.m1.1"><semantics id="S5.T7.39.39.7.m1.1a"><mmultiscripts id="S5.T7.39.39.7.m1.1.1" xref="S5.T7.39.39.7.m1.1.1.cmml"><mi id="S5.T7.39.39.7.m1.1.1.2.2" xref="S5.T7.39.39.7.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.39.39.7.m1.1.1a" xref="S5.T7.39.39.7.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.39.39.7.m1.1.1b" xref="S5.T7.39.39.7.m1.1.1.cmml"></mrow><mn id="S5.T7.39.39.7.m1.1.1.3" xref="S5.T7.39.39.7.m1.1.1.3.cmml">50.9</mn><mn id="S5.T7.39.39.7.m1.1.1.2.3" xref="S5.T7.39.39.7.m1.1.1.2.3.cmml">45.2</mn><mrow id="S5.T7.39.39.7.m1.1.1c" xref="S5.T7.39.39.7.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.39.39.7.m1.1b"><apply id="S5.T7.39.39.7.m1.1.1.cmml" xref="S5.T7.39.39.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.39.39.7.m1.1.1.1.cmml" xref="S5.T7.39.39.7.m1.1.1">superscript</csymbol><apply id="S5.T7.39.39.7.m1.1.1.2.cmml" xref="S5.T7.39.39.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.39.39.7.m1.1.1.2.1.cmml" xref="S5.T7.39.39.7.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.39.39.7.m1.1.1.2.2.cmml" xref="S5.T7.39.39.7.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.39.39.7.m1.1.1.2.3.cmml" type="float" xref="S5.T7.39.39.7.m1.1.1.2.3">45.2</cn></apply><cn id="S5.T7.39.39.7.m1.1.1.3.cmml" type="float" xref="S5.T7.39.39.7.m1.1.1.3">50.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.39.39.7.m1.1c">{}_{45.2}^{50.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.39.39.7.m1.1d">start_FLOATSUBSCRIPT 45.2 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 50.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.45.45">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.45.45.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.45.45.7.1">api</span></th>
<td class="ltx_td ltx_align_center" id="S5.T7.40.40.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">23.2<math alttext="{}_{21.0}^{25.1}" class="ltx_Math" display="inline" id="S5.T7.40.40.1.m1.1"><semantics id="S5.T7.40.40.1.m1.1a"><mmultiscripts id="S5.T7.40.40.1.m1.1.1" xref="S5.T7.40.40.1.m1.1.1.cmml"><mi id="S5.T7.40.40.1.m1.1.1.2.2" xref="S5.T7.40.40.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.40.40.1.m1.1.1a" xref="S5.T7.40.40.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.40.40.1.m1.1.1b" xref="S5.T7.40.40.1.m1.1.1.cmml"></mrow><mn id="S5.T7.40.40.1.m1.1.1.3" xref="S5.T7.40.40.1.m1.1.1.3.cmml">25.1</mn><mn id="S5.T7.40.40.1.m1.1.1.2.3" xref="S5.T7.40.40.1.m1.1.1.2.3.cmml">21.0</mn><mrow id="S5.T7.40.40.1.m1.1.1c" xref="S5.T7.40.40.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.40.40.1.m1.1b"><apply id="S5.T7.40.40.1.m1.1.1.cmml" xref="S5.T7.40.40.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.40.40.1.m1.1.1.1.cmml" xref="S5.T7.40.40.1.m1.1.1">superscript</csymbol><apply id="S5.T7.40.40.1.m1.1.1.2.cmml" xref="S5.T7.40.40.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.40.40.1.m1.1.1.2.1.cmml" xref="S5.T7.40.40.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.40.40.1.m1.1.1.2.2.cmml" xref="S5.T7.40.40.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.40.40.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.40.40.1.m1.1.1.2.3">21.0</cn></apply><cn id="S5.T7.40.40.1.m1.1.1.3.cmml" type="float" xref="S5.T7.40.40.1.m1.1.1.3">25.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.40.40.1.m1.1c">{}_{21.0}^{25.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.40.40.1.m1.1d">start_FLOATSUBSCRIPT 21.0 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 25.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.41.41.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.6<math alttext="{}_{50.9}^{54.1}" class="ltx_Math" display="inline" id="S5.T7.41.41.2.m1.1"><semantics id="S5.T7.41.41.2.m1.1a"><mmultiscripts id="S5.T7.41.41.2.m1.1.1" xref="S5.T7.41.41.2.m1.1.1.cmml"><mi id="S5.T7.41.41.2.m1.1.1.2.2" xref="S5.T7.41.41.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.41.41.2.m1.1.1a" xref="S5.T7.41.41.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.41.41.2.m1.1.1b" xref="S5.T7.41.41.2.m1.1.1.cmml"></mrow><mn id="S5.T7.41.41.2.m1.1.1.3" xref="S5.T7.41.41.2.m1.1.1.3.cmml">54.1</mn><mn id="S5.T7.41.41.2.m1.1.1.2.3" xref="S5.T7.41.41.2.m1.1.1.2.3.cmml">50.9</mn><mrow id="S5.T7.41.41.2.m1.1.1c" xref="S5.T7.41.41.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.41.41.2.m1.1b"><apply id="S5.T7.41.41.2.m1.1.1.cmml" xref="S5.T7.41.41.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.41.41.2.m1.1.1.1.cmml" xref="S5.T7.41.41.2.m1.1.1">superscript</csymbol><apply id="S5.T7.41.41.2.m1.1.1.2.cmml" xref="S5.T7.41.41.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.41.41.2.m1.1.1.2.1.cmml" xref="S5.T7.41.41.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.41.41.2.m1.1.1.2.2.cmml" xref="S5.T7.41.41.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.41.41.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.41.41.2.m1.1.1.2.3">50.9</cn></apply><cn id="S5.T7.41.41.2.m1.1.1.3.cmml" type="float" xref="S5.T7.41.41.2.m1.1.1.3">54.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.41.41.2.m1.1c">{}_{50.9}^{54.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.41.41.2.m1.1d">start_FLOATSUBSCRIPT 50.9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 54.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T7.42.42.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.4<math alttext="{}_{30.2}^{34.6}" class="ltx_Math" display="inline" id="S5.T7.42.42.3.m1.1"><semantics id="S5.T7.42.42.3.m1.1a"><mmultiscripts id="S5.T7.42.42.3.m1.1.1" xref="S5.T7.42.42.3.m1.1.1.cmml"><mi id="S5.T7.42.42.3.m1.1.1.2.2" xref="S5.T7.42.42.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.42.42.3.m1.1.1a" xref="S5.T7.42.42.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.42.42.3.m1.1.1b" xref="S5.T7.42.42.3.m1.1.1.cmml"></mrow><mn id="S5.T7.42.42.3.m1.1.1.3" xref="S5.T7.42.42.3.m1.1.1.3.cmml">34.6</mn><mn id="S5.T7.42.42.3.m1.1.1.2.3" xref="S5.T7.42.42.3.m1.1.1.2.3.cmml">30.2</mn><mrow id="S5.T7.42.42.3.m1.1.1c" xref="S5.T7.42.42.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.42.42.3.m1.1b"><apply id="S5.T7.42.42.3.m1.1.1.cmml" xref="S5.T7.42.42.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.42.42.3.m1.1.1.1.cmml" xref="S5.T7.42.42.3.m1.1.1">superscript</csymbol><apply id="S5.T7.42.42.3.m1.1.1.2.cmml" xref="S5.T7.42.42.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.42.42.3.m1.1.1.2.1.cmml" xref="S5.T7.42.42.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.42.42.3.m1.1.1.2.2.cmml" xref="S5.T7.42.42.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.42.42.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.42.42.3.m1.1.1.2.3">30.2</cn></apply><cn id="S5.T7.42.42.3.m1.1.1.3.cmml" type="float" xref="S5.T7.42.42.3.m1.1.1.3">34.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.42.42.3.m1.1c">{}_{30.2}^{34.6}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.42.42.3.m1.1d">start_FLOATSUBSCRIPT 30.2 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 34.6 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.43.43.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">34.5<math alttext="{}_{32.2}^{36.8}" class="ltx_Math" display="inline" id="S5.T7.43.43.4.m1.1"><semantics id="S5.T7.43.43.4.m1.1a"><mmultiscripts id="S5.T7.43.43.4.m1.1.1" xref="S5.T7.43.43.4.m1.1.1.cmml"><mi id="S5.T7.43.43.4.m1.1.1.2.2" xref="S5.T7.43.43.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.43.43.4.m1.1.1a" xref="S5.T7.43.43.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.43.43.4.m1.1.1b" xref="S5.T7.43.43.4.m1.1.1.cmml"></mrow><mn id="S5.T7.43.43.4.m1.1.1.3" xref="S5.T7.43.43.4.m1.1.1.3.cmml">36.8</mn><mn id="S5.T7.43.43.4.m1.1.1.2.3" xref="S5.T7.43.43.4.m1.1.1.2.3.cmml">32.2</mn><mrow id="S5.T7.43.43.4.m1.1.1c" xref="S5.T7.43.43.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.43.43.4.m1.1b"><apply id="S5.T7.43.43.4.m1.1.1.cmml" xref="S5.T7.43.43.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.43.43.4.m1.1.1.1.cmml" xref="S5.T7.43.43.4.m1.1.1">superscript</csymbol><apply id="S5.T7.43.43.4.m1.1.1.2.cmml" xref="S5.T7.43.43.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.43.43.4.m1.1.1.2.1.cmml" xref="S5.T7.43.43.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.43.43.4.m1.1.1.2.2.cmml" xref="S5.T7.43.43.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.43.43.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.43.43.4.m1.1.1.2.3">32.2</cn></apply><cn id="S5.T7.43.43.4.m1.1.1.3.cmml" type="float" xref="S5.T7.43.43.4.m1.1.1.3">36.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.43.43.4.m1.1c">{}_{32.2}^{36.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.43.43.4.m1.1d">start_FLOATSUBSCRIPT 32.2 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 36.8 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.44.44.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.0<math alttext="{}_{61.4}^{64.6}" class="ltx_Math" display="inline" id="S5.T7.44.44.5.m1.1"><semantics id="S5.T7.44.44.5.m1.1a"><mmultiscripts id="S5.T7.44.44.5.m1.1.1" xref="S5.T7.44.44.5.m1.1.1.cmml"><mi id="S5.T7.44.44.5.m1.1.1.2.2" xref="S5.T7.44.44.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.44.44.5.m1.1.1a" xref="S5.T7.44.44.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.44.44.5.m1.1.1b" xref="S5.T7.44.44.5.m1.1.1.cmml"></mrow><mn id="S5.T7.44.44.5.m1.1.1.3" xref="S5.T7.44.44.5.m1.1.1.3.cmml">64.6</mn><mn id="S5.T7.44.44.5.m1.1.1.2.3" xref="S5.T7.44.44.5.m1.1.1.2.3.cmml">61.4</mn><mrow id="S5.T7.44.44.5.m1.1.1c" xref="S5.T7.44.44.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.44.44.5.m1.1b"><apply id="S5.T7.44.44.5.m1.1.1.cmml" xref="S5.T7.44.44.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.44.44.5.m1.1.1.1.cmml" xref="S5.T7.44.44.5.m1.1.1">superscript</csymbol><apply id="S5.T7.44.44.5.m1.1.1.2.cmml" xref="S5.T7.44.44.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.44.44.5.m1.1.1.2.1.cmml" xref="S5.T7.44.44.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.44.44.5.m1.1.1.2.2.cmml" xref="S5.T7.44.44.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.44.44.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.44.44.5.m1.1.1.2.3">61.4</cn></apply><cn id="S5.T7.44.44.5.m1.1.1.3.cmml" type="float" xref="S5.T7.44.44.5.m1.1.1.3">64.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.44.44.5.m1.1c">{}_{61.4}^{64.6}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.44.44.5.m1.1d">start_FLOATSUBSCRIPT 61.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 64.6 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.45.45.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">43.6<math alttext="{}_{41.4}^{46.0}" class="ltx_Math" display="inline" id="S5.T7.45.45.6.m1.1"><semantics id="S5.T7.45.45.6.m1.1a"><mmultiscripts id="S5.T7.45.45.6.m1.1.1" xref="S5.T7.45.45.6.m1.1.1.cmml"><mi id="S5.T7.45.45.6.m1.1.1.2.2" xref="S5.T7.45.45.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.45.45.6.m1.1.1a" xref="S5.T7.45.45.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.45.45.6.m1.1.1b" xref="S5.T7.45.45.6.m1.1.1.cmml"></mrow><mn id="S5.T7.45.45.6.m1.1.1.3" xref="S5.T7.45.45.6.m1.1.1.3.cmml">46.0</mn><mn id="S5.T7.45.45.6.m1.1.1.2.3" xref="S5.T7.45.45.6.m1.1.1.2.3.cmml">41.4</mn><mrow id="S5.T7.45.45.6.m1.1.1c" xref="S5.T7.45.45.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.45.45.6.m1.1b"><apply id="S5.T7.45.45.6.m1.1.1.cmml" xref="S5.T7.45.45.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.45.45.6.m1.1.1.1.cmml" xref="S5.T7.45.45.6.m1.1.1">superscript</csymbol><apply id="S5.T7.45.45.6.m1.1.1.2.cmml" xref="S5.T7.45.45.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.45.45.6.m1.1.1.2.1.cmml" xref="S5.T7.45.45.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.45.45.6.m1.1.1.2.2.cmml" xref="S5.T7.45.45.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.45.45.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.45.45.6.m1.1.1.2.3">41.4</cn></apply><cn id="S5.T7.45.45.6.m1.1.1.3.cmml" type="float" xref="S5.T7.45.45.6.m1.1.1.3">46.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.45.45.6.m1.1c">{}_{41.4}^{46.0}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.45.45.6.m1.1d">start_FLOATSUBSCRIPT 41.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 46.0 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.52.52">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T7.46.46.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T7.46.46.1.1">StarCoder<sub class="ltx_sub" id="S5.T7.46.46.1.1.1"><span class="ltx_text ltx_font_italic" id="S5.T7.46.46.1.1.1.1">15.5B</span></sub></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.52.52.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.52.52.8.1">line</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.47.47.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.47.47.2.1">39.4<math alttext="{}_{37.1}^{41.8}" class="ltx_Math" display="inline" id="S5.T7.47.47.2.1.m1.1"><semantics id="S5.T7.47.47.2.1.m1.1a"><mmultiscripts id="S5.T7.47.47.2.1.m1.1.1" xref="S5.T7.47.47.2.1.m1.1.1.cmml"><mi id="S5.T7.47.47.2.1.m1.1.1.2.2" xref="S5.T7.47.47.2.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.47.47.2.1.m1.1.1a" xref="S5.T7.47.47.2.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.47.47.2.1.m1.1.1b" xref="S5.T7.47.47.2.1.m1.1.1.cmml"></mrow><mn id="S5.T7.47.47.2.1.m1.1.1.3" xref="S5.T7.47.47.2.1.m1.1.1.3.cmml">41.8</mn><mn id="S5.T7.47.47.2.1.m1.1.1.2.3" xref="S5.T7.47.47.2.1.m1.1.1.2.3.cmml">37.1</mn><mrow id="S5.T7.47.47.2.1.m1.1.1c" xref="S5.T7.47.47.2.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.47.47.2.1.m1.1b"><apply id="S5.T7.47.47.2.1.m1.1.1.cmml" xref="S5.T7.47.47.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.47.47.2.1.m1.1.1.1.cmml" xref="S5.T7.47.47.2.1.m1.1.1">superscript</csymbol><apply id="S5.T7.47.47.2.1.m1.1.1.2.cmml" xref="S5.T7.47.47.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.47.47.2.1.m1.1.1.2.1.cmml" xref="S5.T7.47.47.2.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.47.47.2.1.m1.1.1.2.2.cmml" xref="S5.T7.47.47.2.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.47.47.2.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.47.47.2.1.m1.1.1.2.3">37.1</cn></apply><cn id="S5.T7.47.47.2.1.m1.1.1.3.cmml" type="float" xref="S5.T7.47.47.2.1.m1.1.1.3">41.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.47.47.2.1.m1.1c">{}_{37.1}^{41.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.47.47.2.1.m1.1d">start_FLOATSUBSCRIPT 37.1 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 41.8 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.48.48.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.48.48.3.1">64.4<math alttext="{}_{62.7}^{66.2}" class="ltx_Math" display="inline" id="S5.T7.48.48.3.1.m1.1"><semantics id="S5.T7.48.48.3.1.m1.1a"><mmultiscripts id="S5.T7.48.48.3.1.m1.1.1" xref="S5.T7.48.48.3.1.m1.1.1.cmml"><mi id="S5.T7.48.48.3.1.m1.1.1.2.2" xref="S5.T7.48.48.3.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.48.48.3.1.m1.1.1a" xref="S5.T7.48.48.3.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.48.48.3.1.m1.1.1b" xref="S5.T7.48.48.3.1.m1.1.1.cmml"></mrow><mn id="S5.T7.48.48.3.1.m1.1.1.3" xref="S5.T7.48.48.3.1.m1.1.1.3.cmml">66.2</mn><mn id="S5.T7.48.48.3.1.m1.1.1.2.3" xref="S5.T7.48.48.3.1.m1.1.1.2.3.cmml">62.7</mn><mrow id="S5.T7.48.48.3.1.m1.1.1c" xref="S5.T7.48.48.3.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.48.48.3.1.m1.1b"><apply id="S5.T7.48.48.3.1.m1.1.1.cmml" xref="S5.T7.48.48.3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.48.48.3.1.m1.1.1.1.cmml" xref="S5.T7.48.48.3.1.m1.1.1">superscript</csymbol><apply id="S5.T7.48.48.3.1.m1.1.1.2.cmml" xref="S5.T7.48.48.3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.48.48.3.1.m1.1.1.2.1.cmml" xref="S5.T7.48.48.3.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.48.48.3.1.m1.1.1.2.2.cmml" xref="S5.T7.48.48.3.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.48.48.3.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.48.48.3.1.m1.1.1.2.3">62.7</cn></apply><cn id="S5.T7.48.48.3.1.m1.1.1.3.cmml" type="float" xref="S5.T7.48.48.3.1.m1.1.1.3">66.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.48.48.3.1.m1.1c">{}_{62.7}^{66.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.48.48.3.1.m1.1d">start_FLOATSUBSCRIPT 62.7 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 66.2 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T7.49.49.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.49.49.4.1">44.8<math alttext="{}_{42.3}^{47.5}" class="ltx_Math" display="inline" id="S5.T7.49.49.4.1.m1.1"><semantics id="S5.T7.49.49.4.1.m1.1a"><mmultiscripts id="S5.T7.49.49.4.1.m1.1.1" xref="S5.T7.49.49.4.1.m1.1.1.cmml"><mi id="S5.T7.49.49.4.1.m1.1.1.2.2" xref="S5.T7.49.49.4.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.49.49.4.1.m1.1.1a" xref="S5.T7.49.49.4.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.49.49.4.1.m1.1.1b" xref="S5.T7.49.49.4.1.m1.1.1.cmml"></mrow><mn id="S5.T7.49.49.4.1.m1.1.1.3" xref="S5.T7.49.49.4.1.m1.1.1.3.cmml">47.5</mn><mn id="S5.T7.49.49.4.1.m1.1.1.2.3" xref="S5.T7.49.49.4.1.m1.1.1.2.3.cmml">42.3</mn><mrow id="S5.T7.49.49.4.1.m1.1.1c" xref="S5.T7.49.49.4.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.49.49.4.1.m1.1b"><apply id="S5.T7.49.49.4.1.m1.1.1.cmml" xref="S5.T7.49.49.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.49.49.4.1.m1.1.1.1.cmml" xref="S5.T7.49.49.4.1.m1.1.1">superscript</csymbol><apply id="S5.T7.49.49.4.1.m1.1.1.2.cmml" xref="S5.T7.49.49.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.49.49.4.1.m1.1.1.2.1.cmml" xref="S5.T7.49.49.4.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.49.49.4.1.m1.1.1.2.2.cmml" xref="S5.T7.49.49.4.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.49.49.4.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.49.49.4.1.m1.1.1.2.3">42.3</cn></apply><cn id="S5.T7.49.49.4.1.m1.1.1.3.cmml" type="float" xref="S5.T7.49.49.4.1.m1.1.1.3">47.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.49.49.4.1.m1.1c">{}_{42.3}^{47.5}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.49.49.4.1.m1.1d">start_FLOATSUBSCRIPT 42.3 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 47.5 end_POSTSUPERSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.50.50.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.0<math alttext="{}_{48.8}^{53.4}" class="ltx_Math" display="inline" id="S5.T7.50.50.5.m1.1"><semantics id="S5.T7.50.50.5.m1.1a"><mmultiscripts id="S5.T7.50.50.5.m1.1.1" xref="S5.T7.50.50.5.m1.1.1.cmml"><mi id="S5.T7.50.50.5.m1.1.1.2.2" xref="S5.T7.50.50.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.50.50.5.m1.1.1a" xref="S5.T7.50.50.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.50.50.5.m1.1.1b" xref="S5.T7.50.50.5.m1.1.1.cmml"></mrow><mn id="S5.T7.50.50.5.m1.1.1.3" xref="S5.T7.50.50.5.m1.1.1.3.cmml">53.4</mn><mn id="S5.T7.50.50.5.m1.1.1.2.3" xref="S5.T7.50.50.5.m1.1.1.2.3.cmml">48.8</mn><mrow id="S5.T7.50.50.5.m1.1.1c" xref="S5.T7.50.50.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.50.50.5.m1.1b"><apply id="S5.T7.50.50.5.m1.1.1.cmml" xref="S5.T7.50.50.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.50.50.5.m1.1.1.1.cmml" xref="S5.T7.50.50.5.m1.1.1">superscript</csymbol><apply id="S5.T7.50.50.5.m1.1.1.2.cmml" xref="S5.T7.50.50.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.50.50.5.m1.1.1.2.1.cmml" xref="S5.T7.50.50.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.50.50.5.m1.1.1.2.2.cmml" xref="S5.T7.50.50.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.50.50.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.50.50.5.m1.1.1.2.3">48.8</cn></apply><cn id="S5.T7.50.50.5.m1.1.1.3.cmml" type="float" xref="S5.T7.50.50.5.m1.1.1.3">53.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.50.50.5.m1.1c">{}_{48.8}^{53.4}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.50.50.5.m1.1d">start_FLOATSUBSCRIPT 48.8 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 53.4 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.51.51.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">72.2<math alttext="{}_{70.6}^{73.7}" class="ltx_Math" display="inline" id="S5.T7.51.51.6.m1.1"><semantics id="S5.T7.51.51.6.m1.1a"><mmultiscripts id="S5.T7.51.51.6.m1.1.1" xref="S5.T7.51.51.6.m1.1.1.cmml"><mi id="S5.T7.51.51.6.m1.1.1.2.2" xref="S5.T7.51.51.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.51.51.6.m1.1.1a" xref="S5.T7.51.51.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.51.51.6.m1.1.1b" xref="S5.T7.51.51.6.m1.1.1.cmml"></mrow><mn id="S5.T7.51.51.6.m1.1.1.3" xref="S5.T7.51.51.6.m1.1.1.3.cmml">73.7</mn><mn id="S5.T7.51.51.6.m1.1.1.2.3" xref="S5.T7.51.51.6.m1.1.1.2.3.cmml">70.6</mn><mrow id="S5.T7.51.51.6.m1.1.1c" xref="S5.T7.51.51.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.51.51.6.m1.1b"><apply id="S5.T7.51.51.6.m1.1.1.cmml" xref="S5.T7.51.51.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.51.51.6.m1.1.1.1.cmml" xref="S5.T7.51.51.6.m1.1.1">superscript</csymbol><apply id="S5.T7.51.51.6.m1.1.1.2.cmml" xref="S5.T7.51.51.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.51.51.6.m1.1.1.2.1.cmml" xref="S5.T7.51.51.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.51.51.6.m1.1.1.2.2.cmml" xref="S5.T7.51.51.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.51.51.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.51.51.6.m1.1.1.2.3">70.6</cn></apply><cn id="S5.T7.51.51.6.m1.1.1.3.cmml" type="float" xref="S5.T7.51.51.6.m1.1.1.3">73.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.51.51.6.m1.1c">{}_{70.6}^{73.7}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.51.51.6.m1.1d">start_FLOATSUBSCRIPT 70.6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 73.7 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.52.52.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.5<math alttext="{}_{53.8}^{59.2}" class="ltx_Math" display="inline" id="S5.T7.52.52.7.m1.1"><semantics id="S5.T7.52.52.7.m1.1a"><mmultiscripts id="S5.T7.52.52.7.m1.1.1" xref="S5.T7.52.52.7.m1.1.1.cmml"><mi id="S5.T7.52.52.7.m1.1.1.2.2" xref="S5.T7.52.52.7.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.52.52.7.m1.1.1a" xref="S5.T7.52.52.7.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.52.52.7.m1.1.1b" xref="S5.T7.52.52.7.m1.1.1.cmml"></mrow><mn id="S5.T7.52.52.7.m1.1.1.3" xref="S5.T7.52.52.7.m1.1.1.3.cmml">59.2</mn><mn id="S5.T7.52.52.7.m1.1.1.2.3" xref="S5.T7.52.52.7.m1.1.1.2.3.cmml">53.8</mn><mrow id="S5.T7.52.52.7.m1.1.1c" xref="S5.T7.52.52.7.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.52.52.7.m1.1b"><apply id="S5.T7.52.52.7.m1.1.1.cmml" xref="S5.T7.52.52.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.52.52.7.m1.1.1.1.cmml" xref="S5.T7.52.52.7.m1.1.1">superscript</csymbol><apply id="S5.T7.52.52.7.m1.1.1.2.cmml" xref="S5.T7.52.52.7.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.52.52.7.m1.1.1.2.1.cmml" xref="S5.T7.52.52.7.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.52.52.7.m1.1.1.2.2.cmml" xref="S5.T7.52.52.7.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.52.52.7.m1.1.1.2.3.cmml" type="float" xref="S5.T7.52.52.7.m1.1.1.2.3">53.8</cn></apply><cn id="S5.T7.52.52.7.m1.1.1.3.cmml" type="float" xref="S5.T7.52.52.7.m1.1.1.3">59.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.52.52.7.m1.1c">{}_{53.8}^{59.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.52.52.7.m1.1d">start_FLOATSUBSCRIPT 53.8 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 59.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.58.58">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.58.58.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.58.58.7.1">api</span></th>
<td class="ltx_td ltx_align_center" id="S5.T7.53.53.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.1<math alttext="{}_{29.8}^{34.2}" class="ltx_Math" display="inline" id="S5.T7.53.53.1.m1.1"><semantics id="S5.T7.53.53.1.m1.1a"><mmultiscripts id="S5.T7.53.53.1.m1.1.1" xref="S5.T7.53.53.1.m1.1.1.cmml"><mi id="S5.T7.53.53.1.m1.1.1.2.2" xref="S5.T7.53.53.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.53.53.1.m1.1.1a" xref="S5.T7.53.53.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.53.53.1.m1.1.1b" xref="S5.T7.53.53.1.m1.1.1.cmml"></mrow><mn id="S5.T7.53.53.1.m1.1.1.3" xref="S5.T7.53.53.1.m1.1.1.3.cmml">34.2</mn><mn id="S5.T7.53.53.1.m1.1.1.2.3" xref="S5.T7.53.53.1.m1.1.1.2.3.cmml">29.8</mn><mrow id="S5.T7.53.53.1.m1.1.1c" xref="S5.T7.53.53.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.53.53.1.m1.1b"><apply id="S5.T7.53.53.1.m1.1.1.cmml" xref="S5.T7.53.53.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.53.53.1.m1.1.1.1.cmml" xref="S5.T7.53.53.1.m1.1.1">superscript</csymbol><apply id="S5.T7.53.53.1.m1.1.1.2.cmml" xref="S5.T7.53.53.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.53.53.1.m1.1.1.2.1.cmml" xref="S5.T7.53.53.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.53.53.1.m1.1.1.2.2.cmml" xref="S5.T7.53.53.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.53.53.1.m1.1.1.2.3.cmml" type="float" xref="S5.T7.53.53.1.m1.1.1.2.3">29.8</cn></apply><cn id="S5.T7.53.53.1.m1.1.1.3.cmml" type="float" xref="S5.T7.53.53.1.m1.1.1.3">34.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.53.53.1.m1.1c">{}_{29.8}^{34.2}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.53.53.1.m1.1d">start_FLOATSUBSCRIPT 29.8 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 34.2 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.54.54.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.2<math alttext="{}_{59.4}^{62.9}" class="ltx_Math" display="inline" id="S5.T7.54.54.2.m1.1"><semantics id="S5.T7.54.54.2.m1.1a"><mmultiscripts id="S5.T7.54.54.2.m1.1.1" xref="S5.T7.54.54.2.m1.1.1.cmml"><mi id="S5.T7.54.54.2.m1.1.1.2.2" xref="S5.T7.54.54.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.54.54.2.m1.1.1a" xref="S5.T7.54.54.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.54.54.2.m1.1.1b" xref="S5.T7.54.54.2.m1.1.1.cmml"></mrow><mn id="S5.T7.54.54.2.m1.1.1.3" xref="S5.T7.54.54.2.m1.1.1.3.cmml">62.9</mn><mn id="S5.T7.54.54.2.m1.1.1.2.3" xref="S5.T7.54.54.2.m1.1.1.2.3.cmml">59.4</mn><mrow id="S5.T7.54.54.2.m1.1.1c" xref="S5.T7.54.54.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.54.54.2.m1.1b"><apply id="S5.T7.54.54.2.m1.1.1.cmml" xref="S5.T7.54.54.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.54.54.2.m1.1.1.1.cmml" xref="S5.T7.54.54.2.m1.1.1">superscript</csymbol><apply id="S5.T7.54.54.2.m1.1.1.2.cmml" xref="S5.T7.54.54.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.54.54.2.m1.1.1.2.1.cmml" xref="S5.T7.54.54.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.54.54.2.m1.1.1.2.2.cmml" xref="S5.T7.54.54.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.54.54.2.m1.1.1.2.3.cmml" type="float" xref="S5.T7.54.54.2.m1.1.1.2.3">59.4</cn></apply><cn id="S5.T7.54.54.2.m1.1.1.3.cmml" type="float" xref="S5.T7.54.54.2.m1.1.1.3">62.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.54.54.2.m1.1c">{}_{59.4}^{62.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.54.54.2.m1.1d">start_FLOATSUBSCRIPT 59.4 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 62.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T7.55.55.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.3<math alttext="{}_{39.0}^{43.8}" class="ltx_Math" display="inline" id="S5.T7.55.55.3.m1.1"><semantics id="S5.T7.55.55.3.m1.1a"><mmultiscripts id="S5.T7.55.55.3.m1.1.1" xref="S5.T7.55.55.3.m1.1.1.cmml"><mi id="S5.T7.55.55.3.m1.1.1.2.2" xref="S5.T7.55.55.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.55.55.3.m1.1.1a" xref="S5.T7.55.55.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.55.55.3.m1.1.1b" xref="S5.T7.55.55.3.m1.1.1.cmml"></mrow><mn id="S5.T7.55.55.3.m1.1.1.3" xref="S5.T7.55.55.3.m1.1.1.3.cmml">43.8</mn><mn id="S5.T7.55.55.3.m1.1.1.2.3" xref="S5.T7.55.55.3.m1.1.1.2.3.cmml">39.0</mn><mrow id="S5.T7.55.55.3.m1.1.1c" xref="S5.T7.55.55.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.55.55.3.m1.1b"><apply id="S5.T7.55.55.3.m1.1.1.cmml" xref="S5.T7.55.55.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.55.55.3.m1.1.1.1.cmml" xref="S5.T7.55.55.3.m1.1.1">superscript</csymbol><apply id="S5.T7.55.55.3.m1.1.1.2.cmml" xref="S5.T7.55.55.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.55.55.3.m1.1.1.2.1.cmml" xref="S5.T7.55.55.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.55.55.3.m1.1.1.2.2.cmml" xref="S5.T7.55.55.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.55.55.3.m1.1.1.2.3.cmml" type="float" xref="S5.T7.55.55.3.m1.1.1.2.3">39.0</cn></apply><cn id="S5.T7.55.55.3.m1.1.1.3.cmml" type="float" xref="S5.T7.55.55.3.m1.1.1.3">43.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.55.55.3.m1.1c">{}_{39.0}^{43.8}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.55.55.3.m1.1d">start_FLOATSUBSCRIPT 39.0 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 43.8 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.56.56.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.1<math alttext="{}_{41.5}^{46.4}" class="ltx_Math" display="inline" id="S5.T7.56.56.4.m1.1"><semantics id="S5.T7.56.56.4.m1.1a"><mmultiscripts id="S5.T7.56.56.4.m1.1.1" xref="S5.T7.56.56.4.m1.1.1.cmml"><mi id="S5.T7.56.56.4.m1.1.1.2.2" xref="S5.T7.56.56.4.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.56.56.4.m1.1.1a" xref="S5.T7.56.56.4.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.56.56.4.m1.1.1b" xref="S5.T7.56.56.4.m1.1.1.cmml"></mrow><mn id="S5.T7.56.56.4.m1.1.1.3" xref="S5.T7.56.56.4.m1.1.1.3.cmml">46.4</mn><mn id="S5.T7.56.56.4.m1.1.1.2.3" xref="S5.T7.56.56.4.m1.1.1.2.3.cmml">41.5</mn><mrow id="S5.T7.56.56.4.m1.1.1c" xref="S5.T7.56.56.4.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.56.56.4.m1.1b"><apply id="S5.T7.56.56.4.m1.1.1.cmml" xref="S5.T7.56.56.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.56.56.4.m1.1.1.1.cmml" xref="S5.T7.56.56.4.m1.1.1">superscript</csymbol><apply id="S5.T7.56.56.4.m1.1.1.2.cmml" xref="S5.T7.56.56.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.56.56.4.m1.1.1.2.1.cmml" xref="S5.T7.56.56.4.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.56.56.4.m1.1.1.2.2.cmml" xref="S5.T7.56.56.4.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.56.56.4.m1.1.1.2.3.cmml" type="float" xref="S5.T7.56.56.4.m1.1.1.2.3">41.5</cn></apply><cn id="S5.T7.56.56.4.m1.1.1.3.cmml" type="float" xref="S5.T7.56.56.4.m1.1.1.3">46.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.56.56.4.m1.1c">{}_{41.5}^{46.4}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.56.56.4.m1.1d">start_FLOATSUBSCRIPT 41.5 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 46.4 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.57.57.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">71.4<math alttext="{}_{69.8}^{72.9}" class="ltx_Math" display="inline" id="S5.T7.57.57.5.m1.1"><semantics id="S5.T7.57.57.5.m1.1a"><mmultiscripts id="S5.T7.57.57.5.m1.1.1" xref="S5.T7.57.57.5.m1.1.1.cmml"><mi id="S5.T7.57.57.5.m1.1.1.2.2" xref="S5.T7.57.57.5.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.57.57.5.m1.1.1a" xref="S5.T7.57.57.5.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.57.57.5.m1.1.1b" xref="S5.T7.57.57.5.m1.1.1.cmml"></mrow><mn id="S5.T7.57.57.5.m1.1.1.3" xref="S5.T7.57.57.5.m1.1.1.3.cmml">72.9</mn><mn id="S5.T7.57.57.5.m1.1.1.2.3" xref="S5.T7.57.57.5.m1.1.1.2.3.cmml">69.8</mn><mrow id="S5.T7.57.57.5.m1.1.1c" xref="S5.T7.57.57.5.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.57.57.5.m1.1b"><apply id="S5.T7.57.57.5.m1.1.1.cmml" xref="S5.T7.57.57.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.57.57.5.m1.1.1.1.cmml" xref="S5.T7.57.57.5.m1.1.1">superscript</csymbol><apply id="S5.T7.57.57.5.m1.1.1.2.cmml" xref="S5.T7.57.57.5.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.57.57.5.m1.1.1.2.1.cmml" xref="S5.T7.57.57.5.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.57.57.5.m1.1.1.2.2.cmml" xref="S5.T7.57.57.5.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.57.57.5.m1.1.1.2.3.cmml" type="float" xref="S5.T7.57.57.5.m1.1.1.2.3">69.8</cn></apply><cn id="S5.T7.57.57.5.m1.1.1.3.cmml" type="float" xref="S5.T7.57.57.5.m1.1.1.3">72.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.57.57.5.m1.1c">{}_{69.8}^{72.9}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.57.57.5.m1.1d">start_FLOATSUBSCRIPT 69.8 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 72.9 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T7.58.58.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.6<math alttext="{}_{51.2}^{56.1}" class="ltx_Math" display="inline" id="S5.T7.58.58.6.m1.1"><semantics id="S5.T7.58.58.6.m1.1a"><mmultiscripts id="S5.T7.58.58.6.m1.1.1" xref="S5.T7.58.58.6.m1.1.1.cmml"><mi id="S5.T7.58.58.6.m1.1.1.2.2" xref="S5.T7.58.58.6.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T7.58.58.6.m1.1.1a" xref="S5.T7.58.58.6.m1.1.1.cmml"></mprescripts><mrow id="S5.T7.58.58.6.m1.1.1b" xref="S5.T7.58.58.6.m1.1.1.cmml"></mrow><mn id="S5.T7.58.58.6.m1.1.1.3" xref="S5.T7.58.58.6.m1.1.1.3.cmml">56.1</mn><mn id="S5.T7.58.58.6.m1.1.1.2.3" xref="S5.T7.58.58.6.m1.1.1.2.3.cmml">51.2</mn><mrow id="S5.T7.58.58.6.m1.1.1c" xref="S5.T7.58.58.6.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T7.58.58.6.m1.1b"><apply id="S5.T7.58.58.6.m1.1.1.cmml" xref="S5.T7.58.58.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.58.58.6.m1.1.1.1.cmml" xref="S5.T7.58.58.6.m1.1.1">superscript</csymbol><apply id="S5.T7.58.58.6.m1.1.1.2.cmml" xref="S5.T7.58.58.6.m1.1.1"><csymbol cd="ambiguous" id="S5.T7.58.58.6.m1.1.1.2.1.cmml" xref="S5.T7.58.58.6.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T7.58.58.6.m1.1.1.2.2.cmml" xref="S5.T7.58.58.6.m1.1.1.2.2">absent</csymbol><cn id="S5.T7.58.58.6.m1.1.1.2.3.cmml" type="float" xref="S5.T7.58.58.6.m1.1.1.2.3">51.2</cn></apply><cn id="S5.T7.58.58.6.m1.1.1.3.cmml" type="float" xref="S5.T7.58.58.6.m1.1.1.3">56.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.58.58.6.m1.1c">{}_{51.2}^{56.1}</annotation><annotation encoding="application/x-llamapun" id="S5.T7.58.58.6.m1.1d">start_FLOATSUBSCRIPT 51.2 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT 56.1 end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T7.58.60.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S5.T7.58.60.2.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T7.58.60.2.1.1">code-davinci-002</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.58.60.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.58.60.2.2.1">line</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.58.60.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.69</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.58.60.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.58</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T7.58.60.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">/</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.58.60.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.60.2.6.1">55.94</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.58.60.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.60.2.7.1">74.34</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.58.60.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">/</td>
</tr>
<tr class="ltx_tr" id="S5.T7.58.61.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S5.T7.58.61.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_typewriter" id="S5.T7.58.61.3.1.1">api</span></th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T7.58.61.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.61.3.2.1">32.50</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T7.58.61.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.61.3.3.1">61.52</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T7.58.61.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">/</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T7.58.61.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.61.3.5.1">47.75</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T7.58.61.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.58.61.3.6.1">73.30</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T7.58.61.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">/</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T7.60.1.1" style="font-size:90%;">Table 7</span>: </span><span class="ltx_text" id="S5.T7.61.2" style="font-size:90%;">
Results of comparing smaller and larger models on RepoEval.
The results for code-davinci-002 are from <cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite>.</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.SSS2.p2">
<p class="ltx_p" id="S5.SS2.SSS2.p2.1">Increasing the number of parameters in some cases more than doubles the performance compared to smaller models, as seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T7" title="Table 7 ‣ 5.2.2 Comparison with larger models ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">7</span></a>.
However, with the use of In-context RAG, even smaller models can achieve results comparable to larger models (without retrieval).
The positive impact of retrieval is not limited to smaller models, as incorporating useful information from the project into the context benefits the completions of larger models as well.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS2.p3">
<p class="ltx_p" id="S5.SS2.SSS2.p3.1">Results on <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS2.p3.1.1">api</span> are lower than on <span class="ltx_text ltx_font_typewriter" id="S5.SS2.SSS2.p3.1.2">line</span> due to completing function calls from projects and also due to the longer length of examples, which can contain more than a single line.
Consequently, the model must correctly predict more tokens, increasing the likelihood of error.
For longer examples the differences are even greater due to the use of greedy decoding and the propagation of errors, which are more frequent in smaller models.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.3 </span>In-context RAG</h4>
<div class="ltx_para" id="S5.SS2.SSS3.p1">
<p class="ltx_p" id="S5.SS2.SSS3.p1.1">Since the found snippets are included directly in the model’s context, it is important that the model supports a sufficiently large context to append the retrieved data in addition to the input context.
When using our models with a context size of 384 tokens, we often need to truncate the input sequence to leave enough space to include the retrieved snippets at the beginning of the context.
For our models, GPT-2 and RETRO, we include only one retrieved snippet due to the small context size of the model.
For models with larger context sizes, we include two retrieved snippets.
In Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T7" title="Table 7 ‣ 5.2.2 Comparison with larger models ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">7</span></a> and in Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F6" title="Figure 6 ‣ 5.2.1 RETRO and GPT-2 results on local projects ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">6</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F7" title="Figure 7 ‣ 5.2.2 Comparison with larger models ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">7</span></a>, we report multi-token prediction metrics both with and without retrieval as described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S3.SS3" title="3.3 In-context RAG ‣ 3 Code line completion methods ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">3.3</span></a>.
The results indicate that using In-context RAG leads to improvements in multi-token predictions compared to the baseline models in all cases.</p>
</div>
<section class="ltx_paragraph" id="S5.SS2.SSS3.Px1">
<h5 class="ltx_title ltx_title_paragraph">Copying</h5>
<div class="ltx_para" id="S5.SS2.SSS3.Px1.p1">
<p class="ltx_p" id="S5.SS2.SSS3.Px1.p1.1">In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS1.SSS0.Px1" title="Projects in a local database ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.1</span></a>, we estimate the upper bound of single-token metrics for RETRO by not removing chunks retrieved from the same file as the input context.
Similarly, we want to determine the upper bound of model performance when using In-context RAG if the retrieved snippets can contain the continuation of the current file we are completing.
This means that the context includes the line we want to complete, allowing the model to simply copy it from the context.
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F8" title="Figure 8 ‣ Copying ‣ 5.2.3 In-context RAG ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">8</span></a>, we see that copying from retrieved snippets is very effective, while copying with RETRO without In-context RAG performs similarly to using RETRO with In-context RAG without copying.
In addition to the explanations in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS1.SSS0.Px1" title="Projects in a local database ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.1</span></a>, we also note that because the first <span class="ltx_text ltx_font_smallcaps" id="S5.SS2.SSS3.Px1.p1.1.1">Retro</span> layer is the sixth layer (which is also the last and only <span class="ltx_text ltx_font_smallcaps" id="S5.SS2.SSS3.Px1.p1.1.2">Retro</span> layer for RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.SS2.SSS3.Px1.p1.1.m1.1"><semantics id="S5.SS2.SSS3.Px1.p1.1.m1.1a"><mmultiscripts id="S5.SS2.SSS3.Px1.p1.1.m1.1.1" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.cmml"><mi id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.2" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.SS2.SSS3.Px1.p1.1.m1.1.1a" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.SS2.SSS3.Px1.p1.1.m1.1.1b" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.3" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.SS2.SSS3.Px1.p1.1.m1.1.1c" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS3.Px1.p1.1.m1.1b"><apply id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.1.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1">superscript</csymbol><apply id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.1.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.2.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.2.3">6</cn></apply><ci id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3a.cmml" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS2.SSS3.Px1.p1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS3.Px1.p1.1.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS3.Px1.p1.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>), certain information from the input tokens may get diluted, preventing direct copying of tokens from the encoded chunks with chunked cross-attention.
We hypothesize that adding copying examples to the training would improve the model’s ability to copy, and <span class="ltx_text ltx_font_smallcaps" id="S5.SS2.SSS3.Px1.p1.1.3">Retro</span> layers could be included closer to the beginning of processing instead of only in the sixth layer.
Accurate copying is important because when completing code, we want to extract not only the semantic meaning from the found snippets but also exact facts (e.g., the exact name of an existing function and not a hallucinated but semantically similar name).</p>
</div>
<figure class="ltx_figure" id="S5.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="342" id="S5.F8.g1" src="x11.png" width="456"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F8.6.2.1" style="font-size:90%;">Figure 8</span>: </span><span class="ltx_text" id="S5.F8.2.1" style="font-size:90%;">
Comparison of copying abilities using In-context RAG on <span class="ltx_text ltx_font_typewriter" id="S5.F8.2.1.1">lineR’</span>.
With copying, retrieved snippets can be from the same file as the input context, which means including the correct continuation of the current line in the model’s context.
<span class="ltx_text ltx_font_italic" id="S5.F8.2.1.2">RETRO copying</span> shows the use of RETRO without filtering out the current file from retrieval but without additional In-context RAG (see also Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS1.SSS0.Px1" title="Projects in a local database ‣ 5.1 Evaluation on the StarCoder test set ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.1</span></a>).
The bars show 95% confidence intervals for the prefix similarity metric <math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.F8.2.1.m1.1"><semantics id="S5.F8.2.1.m1.1b"><mi id="S5.F8.2.1.m1.1.1" xref="S5.F8.2.1.m1.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.F8.2.1.m1.1c"><ci id="S5.F8.2.1.m1.1.1.cmml" xref="S5.F8.2.1.m1.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.2.1.m1.1d">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.F8.2.1.m1.1e">roman_PS</annotation></semantics></math>.
</span></figcaption>
</figure>
</section>
</section>
<section class="ltx_subsubsection" id="S5.SS2.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.4 </span>Impact of retrieval similarity</h4>
<figure class="ltx_figure" id="S5.F9">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="299" id="S5.F9.g1" src="x12.png" width="398"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="299" id="S5.F9.g2" src="x13.png" width="398"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F9.17.4.1" style="font-size:90%;">Figure 9</span>: </span><span class="ltx_text" id="S5.F9.6.3" style="font-size:90%;">
Impact of the Jaccard similarity coefficient evaluated on <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.1">lineR</span> and <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.2">apiR</span> using the StarCoder<sub class="ltx_sub" id="S5.F9.6.3.3"><span class="ltx_text ltx_font_italic" id="S5.F9.6.3.3.1">164M</span></sub> model and In-context RAG.
The left side shows <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.F9.5.2.m2.1"><semantics id="S5.F9.5.2.m2.1b"><mi id="S5.F9.5.2.m2.1.1" xref="S5.F9.5.2.m2.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.F9.5.2.m2.1c"><ci id="S5.F9.5.2.m2.1.1.cmml" xref="S5.F9.5.2.m2.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.5.2.m2.1d">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.F9.5.2.m2.1e">roman_EM</annotation></semantics></math> increasing as the Jaccard similarity increases, and the distribution of similarities, which is slightly higher on <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.4">apiR</span> than on <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.5">lineR</span>.
The right side shows the average Jaccard similarity for each of the eight projects in <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.6">lineR</span> and <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.7">apiR</span> and the difference in <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.F9.6.3.m3.1"><semantics id="S5.F9.6.3.m3.1b"><mi id="S5.F9.6.3.m3.1.1" xref="S5.F9.6.3.m3.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.F9.6.3.m3.1c"><ci id="S5.F9.6.3.m3.1.1.cmml" xref="S5.F9.6.3.m3.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.6.3.m3.1d">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.F9.6.3.m3.1e">roman_EM</annotation></semantics></math> for each project individually compared to the baseline model without retrieval.
Projects with gray names and an asterisk are those removed in <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.8">lineR’</span> and <span class="ltx_text ltx_font_typewriter" id="S5.F9.6.3.9">apiR’</span> due to a non-empty overlap with the training set.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.SSS4.p1">
<p class="ltx_p" id="S5.SS2.SSS4.p1.1">Intuitively, we expect the benefit of retrieval-augmented line completion to depend on the quality of the retrieved snippets.
Therefore, we first examine the impact of the retrieved snippets’ similarities on the exact match metric <math alttext="\operatorname{EM}" class="ltx_Math" display="inline" id="S5.SS2.SSS4.p1.1.m1.1"><semantics id="S5.SS2.SSS4.p1.1.m1.1a"><mi id="S5.SS2.SSS4.p1.1.m1.1.1" xref="S5.SS2.SSS4.p1.1.m1.1.1.cmml">EM</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS4.p1.1.m1.1b"><ci id="S5.SS2.SSS4.p1.1.m1.1.1.cmml" xref="S5.SS2.SSS4.p1.1.m1.1.1">EM</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS4.p1.1.m1.1c">\operatorname{EM}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.SSS4.p1.1.m1.1d">roman_EM</annotation></semantics></math> with the results shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F9" title="Figure 9 ‣ 5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">9</span></a>.
As expected, the metric increases with higher matching according to the Jaccard similarity coefficient.
We also find that most of the metric improvement comes from projects where snippets with high similarity to the query from the input context are found.
The benefits of retrieval are thus project-dependent, with greater benefits in projects with repetitive code, as a high Jaccard similarity indicates token overlap between files.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS4.p2">
<p class="ltx_p" id="S5.SS2.SSS4.p2.1">Using RETRO or In-context RAG generally improves multi-token predictions.
However, there are cases where the model without retrieval correctly completes a line, while the model with retrieval does not, as summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T8" title="Table 8 ‣ 5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">8</span></a>.
Most examples remain unchanged regardless of retrieval use, suggesting that retrieval is beneficial only in specific cases.
While positive examples dominate, the proportion of worsened results is not negligible and we want to reduce it.</p>
</div>
<figure class="ltx_table" id="S5.T8">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T8.7">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T8.7.8.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row" colspan="2" id="S5.T8.7.8.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="3" id="S5.T8.7.8.1.2">In-context RAG</th>
</tr>
<tr class="ltx_tr" id="S5.T8.4.4">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S5.T8.4.4.5"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S5.T8.1.1.1">RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.1.1.1.m1.1"><semantics id="S5.T8.1.1.1.m1.1a"><mmultiscripts id="S5.T8.1.1.1.m1.1.1" xref="S5.T8.1.1.1.m1.1.1.cmml"><mi id="S5.T8.1.1.1.m1.1.1.2.2" xref="S5.T8.1.1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.1.1.1.m1.1.1a" xref="S5.T8.1.1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.1.1.1.m1.1.1b" xref="S5.T8.1.1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.1.1.1.m1.1.1.3" xref="S5.T8.1.1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.1.1.1.m1.1.1.2.3" xref="S5.T8.1.1.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T8.1.1.1.m1.1.1c" xref="S5.T8.1.1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.1.1.1.m1.1b"><apply id="S5.T8.1.1.1.m1.1.1.cmml" xref="S5.T8.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.1.1.1.m1.1.1.1.cmml" xref="S5.T8.1.1.1.m1.1.1">superscript</csymbol><apply id="S5.T8.1.1.1.m1.1.1.2.cmml" xref="S5.T8.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.1.1.1.m1.1.1.2.1.cmml" xref="S5.T8.1.1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.1.1.1.m1.1.1.2.2.cmml" xref="S5.T8.1.1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.1.1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.1.1.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T8.1.1.1.m1.1.1.3a.cmml" xref="S5.T8.1.1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.1.1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.1.1.1.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.1.1.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T8.2.2.2">RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.2.2.2.m1.1"><semantics id="S5.T8.2.2.2.m1.1a"><mmultiscripts id="S5.T8.2.2.2.m1.1.1" xref="S5.T8.2.2.2.m1.1.1.cmml"><mi id="S5.T8.2.2.2.m1.1.1.2.2" xref="S5.T8.2.2.2.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.2.2.2.m1.1.1a" xref="S5.T8.2.2.2.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.2.2.2.m1.1.1b" xref="S5.T8.2.2.2.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.2.2.2.m1.1.1.3" xref="S5.T8.2.2.2.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.2.2.2.m1.1.1.2.3" xref="S5.T8.2.2.2.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T8.2.2.2.m1.1.1c" xref="S5.T8.2.2.2.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.2.2.2.m1.1b"><apply id="S5.T8.2.2.2.m1.1.1.cmml" xref="S5.T8.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.2.2.2.m1.1.1.1.cmml" xref="S5.T8.2.2.2.m1.1.1">superscript</csymbol><apply id="S5.T8.2.2.2.m1.1.1.2.cmml" xref="S5.T8.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.2.2.2.m1.1.1.2.1.cmml" xref="S5.T8.2.2.2.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.2.2.2.m1.1.1.2.2.cmml" xref="S5.T8.2.2.2.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.2.2.2.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.2.2.2.m1.1.1.2.3">6</cn></apply><ci id="S5.T8.2.2.2.m1.1.1.3a.cmml" xref="S5.T8.2.2.2.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.2.2.2.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.2.2.2.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.2.2.2.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.2.2.2.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T8.3.3.3">GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.3.3.3.m1.1"><semantics id="S5.T8.3.3.3.m1.1a"><mmultiscripts id="S5.T8.3.3.3.m1.1.1" xref="S5.T8.3.3.3.m1.1.1.cmml"><mi id="S5.T8.3.3.3.m1.1.1.2.2" xref="S5.T8.3.3.3.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.3.3.3.m1.1.1a" xref="S5.T8.3.3.3.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.3.3.3.m1.1.1b" xref="S5.T8.3.3.3.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.3.3.3.m1.1.1.3" xref="S5.T8.3.3.3.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.3.3.3.m1.1.1.2.3" xref="S5.T8.3.3.3.m1.1.1.2.3.cmml">9</mn><mrow id="S5.T8.3.3.3.m1.1.1c" xref="S5.T8.3.3.3.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.3.3.3.m1.1b"><apply id="S5.T8.3.3.3.m1.1.1.cmml" xref="S5.T8.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.3.3.3.m1.1.1.1.cmml" xref="S5.T8.3.3.3.m1.1.1">superscript</csymbol><apply id="S5.T8.3.3.3.m1.1.1.2.cmml" xref="S5.T8.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.3.3.3.m1.1.1.2.1.cmml" xref="S5.T8.3.3.3.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.3.3.3.m1.1.1.2.2.cmml" xref="S5.T8.3.3.3.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.3.3.3.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.3.3.3.m1.1.1.2.3">9</cn></apply><ci id="S5.T8.3.3.3.m1.1.1.3a.cmml" xref="S5.T8.3.3.3.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.3.3.3.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.3.3.3.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.3.3.3.m1.1c">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.3.3.3.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T8.4.4.4">StarCoder<sub class="ltx_sub" id="S5.T8.4.4.4.1"><span class="ltx_text ltx_font_italic" id="S5.T8.4.4.4.1.1">164M</span></sub>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T8.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T8.5.5.1">GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.5.5.1.m1.1"><semantics id="S5.T8.5.5.1.m1.1a"><mmultiscripts id="S5.T8.5.5.1.m1.1.1" xref="S5.T8.5.5.1.m1.1.1.cmml"><mi id="S5.T8.5.5.1.m1.1.1.2.2" xref="S5.T8.5.5.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.5.5.1.m1.1.1a" xref="S5.T8.5.5.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.5.5.1.m1.1.1b" xref="S5.T8.5.5.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.5.5.1.m1.1.1.3" xref="S5.T8.5.5.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.5.5.1.m1.1.1.2.3" xref="S5.T8.5.5.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.T8.5.5.1.m1.1.1c" xref="S5.T8.5.5.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.5.5.1.m1.1b"><apply id="S5.T8.5.5.1.m1.1.1.cmml" xref="S5.T8.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.5.5.1.m1.1.1.1.cmml" xref="S5.T8.5.5.1.m1.1.1">superscript</csymbol><apply id="S5.T8.5.5.1.m1.1.1.2.cmml" xref="S5.T8.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.5.5.1.m1.1.1.2.1.cmml" xref="S5.T8.5.5.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.5.5.1.m1.1.1.2.2.cmml" xref="S5.T8.5.5.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.5.5.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.5.5.1.m1.1.1.2.3">9</cn></apply><ci id="S5.T8.5.5.1.m1.1.1.3a.cmml" xref="S5.T8.5.5.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.5.5.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.5.5.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.5.5.1.m1.1c">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.5.5.1.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.5.5.2">12.3 / 7.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.5.5.3">20.3 / 9.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.5.5.4"><span class="ltx_text ltx_font_bold" id="S5.T8.5.5.4.1">17.4 / 6.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.5.5.5">26.2 / 6.3</td>
</tr>
<tr class="ltx_tr" id="S5.T8.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T8.6.6.1">RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.6.6.1.m1.1"><semantics id="S5.T8.6.6.1.m1.1a"><mmultiscripts id="S5.T8.6.6.1.m1.1.1" xref="S5.T8.6.6.1.m1.1.1.cmml"><mi id="S5.T8.6.6.1.m1.1.1.2.2" xref="S5.T8.6.6.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.6.6.1.m1.1.1a" xref="S5.T8.6.6.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.6.6.1.m1.1.1b" xref="S5.T8.6.6.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.6.6.1.m1.1.1.3" xref="S5.T8.6.6.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.6.6.1.m1.1.1.2.3" xref="S5.T8.6.6.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T8.6.6.1.m1.1.1c" xref="S5.T8.6.6.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.6.6.1.m1.1b"><apply id="S5.T8.6.6.1.m1.1.1.cmml" xref="S5.T8.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.6.6.1.m1.1.1.1.cmml" xref="S5.T8.6.6.1.m1.1.1">superscript</csymbol><apply id="S5.T8.6.6.1.m1.1.1.2.cmml" xref="S5.T8.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.6.6.1.m1.1.1.2.1.cmml" xref="S5.T8.6.6.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.6.6.1.m1.1.1.2.2.cmml" xref="S5.T8.6.6.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.6.6.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.6.6.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T8.6.6.1.m1.1.1.3a.cmml" xref="S5.T8.6.6.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.6.6.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.6.6.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.6.6.1.m1.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.6.6.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S5.T8.6.6.2">/</td>
<td class="ltx_td ltx_align_center" id="S5.T8.6.6.3"><span class="ltx_text ltx_font_bold" id="S5.T8.6.6.3.1">14.5 / 6.0</span></td>
<td class="ltx_td ltx_align_center" id="S5.T8.6.6.4">17.2 / 8.8</td>
<td class="ltx_td ltx_align_center" id="S5.T8.6.6.5">24.4 / 6.6</td>
</tr>
<tr class="ltx_tr" id="S5.T8.7.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S5.T8.7.7.1">StarCoder<sub class="ltx_sub" id="S5.T8.7.7.1.1"><span class="ltx_text ltx_font_italic" id="S5.T8.7.7.1.1.1">164M</span></sub>
</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T8.7.7.2">11.4 / 15.6</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T8.7.7.3">17.5 / 14.6</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T8.7.7.4">17.2 / 14.1</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T8.7.7.5"><span class="ltx_text ltx_font_bold" id="S5.T8.7.7.5.1">15.8 / 3.8</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T8.14.3.1" style="font-size:90%;">Table 8</span>: </span><span class="ltx_text" id="S5.T8.11.2" style="font-size:90%;">
Proportions of improved and worsened examples based on prefix similarity when comparing the baseline model (rows) with the model with retrieval (columns) on the <span class="ltx_text ltx_font_typewriter" id="S5.T8.11.2.1">lineR</span> dataset.
The first column of the first row tells us that RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.10.1.m1.1"><semantics id="S5.T8.10.1.m1.1b"><mmultiscripts id="S5.T8.10.1.m1.1.1" xref="S5.T8.10.1.m1.1.1.cmml"><mi id="S5.T8.10.1.m1.1.1.2.2" xref="S5.T8.10.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.10.1.m1.1.1b" xref="S5.T8.10.1.m1.1.1.cmml"></mprescripts><mrow id="S5.T8.10.1.m1.1.1c" xref="S5.T8.10.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.10.1.m1.1.1.3" xref="S5.T8.10.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.T8.10.1.m1.1.1.2.3" xref="S5.T8.10.1.m1.1.1.2.3.cmml">6</mn><mrow id="S5.T8.10.1.m1.1.1d" xref="S5.T8.10.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.10.1.m1.1c"><apply id="S5.T8.10.1.m1.1.1.cmml" xref="S5.T8.10.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.10.1.m1.1.1.1.cmml" xref="S5.T8.10.1.m1.1.1">superscript</csymbol><apply id="S5.T8.10.1.m1.1.1.2.cmml" xref="S5.T8.10.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T8.10.1.m1.1.1.2.1.cmml" xref="S5.T8.10.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.10.1.m1.1.1.2.2.cmml" xref="S5.T8.10.1.m1.1.1.2.2">absent</csymbol><cn id="S5.T8.10.1.m1.1.1.2.3.cmml" type="integer" xref="S5.T8.10.1.m1.1.1.2.3">6</cn></apply><ci id="S5.T8.10.1.m1.1.1.3a.cmml" xref="S5.T8.10.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.10.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.T8.10.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.10.1.m1.1d">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.10.1.m1.1e">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> completes the line better than GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.T8.11.2.m2.1"><semantics id="S5.T8.11.2.m2.1b"><mmultiscripts id="S5.T8.11.2.m2.1.1" xref="S5.T8.11.2.m2.1.1.cmml"><mi id="S5.T8.11.2.m2.1.1.2.2" xref="S5.T8.11.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.T8.11.2.m2.1.1b" xref="S5.T8.11.2.m2.1.1.cmml"></mprescripts><mrow id="S5.T8.11.2.m2.1.1c" xref="S5.T8.11.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.T8.11.2.m2.1.1.3" xref="S5.T8.11.2.m2.1.1.3a.cmml">SC</mtext><mn id="S5.T8.11.2.m2.1.1.2.3" xref="S5.T8.11.2.m2.1.1.2.3.cmml">9</mn><mrow id="S5.T8.11.2.m2.1.1d" xref="S5.T8.11.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.T8.11.2.m2.1c"><apply id="S5.T8.11.2.m2.1.1.cmml" xref="S5.T8.11.2.m2.1.1"><csymbol cd="ambiguous" id="S5.T8.11.2.m2.1.1.1.cmml" xref="S5.T8.11.2.m2.1.1">superscript</csymbol><apply id="S5.T8.11.2.m2.1.1.2.cmml" xref="S5.T8.11.2.m2.1.1"><csymbol cd="ambiguous" id="S5.T8.11.2.m2.1.1.2.1.cmml" xref="S5.T8.11.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.T8.11.2.m2.1.1.2.2.cmml" xref="S5.T8.11.2.m2.1.1.2.2">absent</csymbol><cn id="S5.T8.11.2.m2.1.1.2.3.cmml" type="integer" xref="S5.T8.11.2.m2.1.1.2.3">9</cn></apply><ci id="S5.T8.11.2.m2.1.1.3a.cmml" xref="S5.T8.11.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.T8.11.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.T8.11.2.m2.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T8.11.2.m2.1d">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.T8.11.2.m2.1e">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> in 12.3% of cases, worse in 7.9% of cases, and in the remaining cases, the predictions of both models are the same.
</span></figcaption>
</figure>
<figure class="ltx_figure" id="S5.F10">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="306" id="S5.F10.g1" src="x14.png" width="408"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="305" id="S5.F10.g2" src="x15.png" width="407"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F10.9.4.1" style="font-size:90%;">Figure 10</span>: </span><span class="ltx_text" id="S5.F10.6.3" style="font-size:90%;">
The left side shows the proportion of cases that are better or worse with In-context RAG compared to the baseline model without retrieval.
The model used is GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.F10.4.1.m1.1"><semantics id="S5.F10.4.1.m1.1b"><mmultiscripts id="S5.F10.4.1.m1.1.1" xref="S5.F10.4.1.m1.1.1.cmml"><mi id="S5.F10.4.1.m1.1.1.2.2" xref="S5.F10.4.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.F10.4.1.m1.1.1b" xref="S5.F10.4.1.m1.1.1.cmml"></mprescripts><mrow id="S5.F10.4.1.m1.1.1c" xref="S5.F10.4.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.F10.4.1.m1.1.1.3" xref="S5.F10.4.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.F10.4.1.m1.1.1.2.3" xref="S5.F10.4.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.F10.4.1.m1.1.1d" xref="S5.F10.4.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.F10.4.1.m1.1c"><apply id="S5.F10.4.1.m1.1.1.cmml" xref="S5.F10.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F10.4.1.m1.1.1.1.cmml" xref="S5.F10.4.1.m1.1.1">superscript</csymbol><apply id="S5.F10.4.1.m1.1.1.2.cmml" xref="S5.F10.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F10.4.1.m1.1.1.2.1.cmml" xref="S5.F10.4.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.F10.4.1.m1.1.1.2.2.cmml" xref="S5.F10.4.1.m1.1.1.2.2">absent</csymbol><cn id="S5.F10.4.1.m1.1.1.2.3.cmml" type="integer" xref="S5.F10.4.1.m1.1.1.2.3">9</cn></apply><ci id="S5.F10.4.1.m1.1.1.3a.cmml" xref="S5.F10.4.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.F10.4.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.F10.4.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F10.4.1.m1.1d">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.F10.4.1.m1.1e">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> on <span class="ltx_text ltx_font_typewriter" id="S5.F10.6.3.1">lineR</span> with <math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.F10.5.2.m2.1"><semantics id="S5.F10.5.2.m2.1b"><mi id="S5.F10.5.2.m2.1.1" xref="S5.F10.5.2.m2.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.F10.5.2.m2.1c"><ci id="S5.F10.5.2.m2.1.1.cmml" xref="S5.F10.5.2.m2.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F10.5.2.m2.1d">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.F10.5.2.m2.1e">roman_PS</annotation></semantics></math> being compared.
Retrieval is beneficial mainly when there is a high similarity of the retrieved snippets.
The right side shows the difference in the <math alttext="\operatorname{PS}" class="ltx_Math" display="inline" id="S5.F10.6.3.m3.1"><semantics id="S5.F10.6.3.m3.1b"><mi id="S5.F10.6.3.m3.1.1" xref="S5.F10.6.3.m3.1.1.cmml">PS</mi><annotation-xml encoding="MathML-Content" id="S5.F10.6.3.m3.1c"><ci id="S5.F10.6.3.m3.1.1.cmml" xref="S5.F10.6.3.m3.1.1">PS</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F10.6.3.m3.1d">\operatorname{PS}</annotation><annotation encoding="application/x-llamapun" id="S5.F10.6.3.m3.1e">roman_PS</annotation></semantics></math> metric to the baseline model when limiting retrieval to cases above a certain similarity threshold.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.SSS4.p3">
<p class="ltx_p" id="S5.SS2.SSS4.p3.1">Now we focus only on the examples highlighted in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.T8" title="Table 8 ‣ 5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">8</span></a>, where we detect worsening or an improvement in metrics.
From Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F10" title="Figure 10 ‣ 5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">10</span></a>, we find that the impact of retrieval is negative mainly at low similarities to the query, while the positive impact is more present at higher similarities.
To mitigate the consequences of poor retrieval, we examine the idea of whether it makes sense to limit retrieval to found snippets with similarities higher than some threshold value.
Unfortunately, the right side of Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F10" title="Figure 10 ‣ 5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">10</span></a> does not show a significant benefit from limiting to sufficiently similar snippets.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Qualitative analysis</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.2">In Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2" title="5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.2</span></a>, we found that retrieval generally benefits model predictions, but there are still cases where retrieval degrades the accuracy of predictions.
In this section, we conduct a qualitative review of successful and less successful line completion examples, using our GPT<math alttext="{}_{9}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><mmultiscripts id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2.2" xref="S5.SS3.p1.1.m1.1.1.2.2.cmml"></mi><mprescripts id="S5.SS3.p1.1.m1.1.1a" xref="S5.SS3.p1.1.m1.1.1.cmml"></mprescripts><mrow id="S5.SS3.p1.1.m1.1.1b" xref="S5.SS3.p1.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3a.cmml">SC</mtext><mn id="S5.SS3.p1.1.m1.1.1.2.3" xref="S5.SS3.p1.1.m1.1.1.2.3.cmml">9</mn><mrow id="S5.SS3.p1.1.m1.1.1c" xref="S5.SS3.p1.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">superscript</csymbol><apply id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.1.m1.1.1.2.1.cmml" xref="S5.SS3.p1.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS3.p1.1.m1.1.1.2.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2.2">absent</csymbol><cn id="S5.SS3.p1.1.m1.1.1.2.3.cmml" type="integer" xref="S5.SS3.p1.1.m1.1.1.2.3">9</cn></apply><ci id="S5.SS3.p1.1.m1.1.1.3a.cmml" xref="S5.SS3.p1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.1.m1.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">{}_{9}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">start_FLOATSUBSCRIPT 9 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> and RETRO<math alttext="{}_{6}^{\textsc{SC}}" class="ltx_Math" display="inline" id="S5.SS3.p1.2.m2.1"><semantics id="S5.SS3.p1.2.m2.1a"><mmultiscripts id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.p1.2.m2.1.1.2.2" xref="S5.SS3.p1.2.m2.1.1.2.2.cmml"></mi><mprescripts id="S5.SS3.p1.2.m2.1.1a" xref="S5.SS3.p1.2.m2.1.1.cmml"></mprescripts><mrow id="S5.SS3.p1.2.m2.1.1b" xref="S5.SS3.p1.2.m2.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="S5.SS3.p1.2.m2.1.1.3" xref="S5.SS3.p1.2.m2.1.1.3a.cmml">SC</mtext><mn id="S5.SS3.p1.2.m2.1.1.2.3" xref="S5.SS3.p1.2.m2.1.1.2.3.cmml">6</mn><mrow id="S5.SS3.p1.2.m2.1.1c" xref="S5.SS3.p1.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><apply id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1">superscript</csymbol><apply id="S5.SS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.2.m2.1.1.2.1.cmml" xref="S5.SS3.p1.2.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="S5.SS3.p1.2.m2.1.1.2.2.cmml" xref="S5.SS3.p1.2.m2.1.1.2.2">absent</csymbol><cn id="S5.SS3.p1.2.m2.1.1.2.3.cmml" type="integer" xref="S5.SS3.p1.2.m2.1.1.2.3">6</cn></apply><ci id="S5.SS3.p1.2.m2.1.1.3a.cmml" xref="S5.SS3.p1.2.m2.1.1.3"><mtext class="ltx_font_smallcaps" id="S5.SS3.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.2.m2.1.1.3">SC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">{}_{6}^{\textsc{SC}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.2.m2.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT SC end_POSTSUPERSCRIPT</annotation></semantics></math> models.</p>
</div>
<section class="ltx_paragraph" id="S5.SS3.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Common errors</h5>
<div class="ltx_para" id="S5.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS3.SSS0.Px1.p1.1">Our small models (with or without retrieval) mostly make semantic errors; syntactic errors are rare.
Semantic errors require a higher level of code understanding, which might exceed the capabilities of our small models.
Difficulties often arise when completing natural language strings (e.g., comments and documentation within the code), at the beginning of files in <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS0.Px1.p1.1.1">import</span> statements, and when using boolean or numerical constants.
Degradation is also present in longer predictions due to greedy decoding and error propagation.
For completing <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS0.Px1.p1.1.2">import</span> statements, the model would need information about the upcoming lines of the file to infer which modules to import into the program.
In completing documentation, we have a similar problem if we are documenting code that has not yet been written and follows in the subsequent lines.
Additionally, our string matching based evaluation does not distinguish between semantically equivalent ways of expressing messages causing examples like in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F11" title="Figure 11 ‣ Common errors ‣ 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">11</span></a> to achieve low metrics.
Nevertheless, retrieval can offer an advantage in such cases by providing the model with an example of the existing documentation style.</p>
</div>
<figure class="ltx_figure" id="S5.F11"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="252" id="S5.F11.g1" src="x16.png" width="556"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F11.2.1.1" style="font-size:90%;">Figure 11</span>: </span><span class="ltx_text" id="S5.F11.3.2" style="font-size:90%;">
An example of completing documentation where retrieval guides the model to copy from a highly similar found snippet.
The retrieved snippet and the input context are shortened for clarity.
This example also shows the difficulty of evaluating natural language using string similarity based metrics, as the model’s prediction without retrieval is very reasonable.
</span></figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS3.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Hallucinations</h5>
<div class="ltx_para" id="S5.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS3.SSS0.Px2.p1.1">Handling hallucinations in code completion is more manageable compared to natural language, as the proposed code can be verified with static code analysis tools to discard suggestions containing errors (e.g., calling a non-existent function or using an incorrect number of arguments).
However, static analysis cannot resolve semantic errors, such as incorrect conditions in loops or the improper order of operations.
Therefore, careful attention and understanding of the code are necessary when using code completion tools.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS3.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Advantages and disadvantages of retrieval</h5>
<div class="ltx_para" id="S5.SS3.SSS0.Px3.p1">
<p class="ltx_p" id="S5.SS3.SSS0.Px3.p1.1">As discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.SS2.SSS4" title="5.2.4 Impact of retrieval similarity ‣ 5.2 Completing code lines from local projects with RepoEval ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">5.2.4</span></a>, the advantage of retrieval-augmented completion becomes apparent when highly similar examples to the input context are found in the project.
An example of repetitive code occurs when writing tests, which also involves the use of objects defined within the project.
In most cases, the model can focus on the relevant information in the context and successfully skip over unhelpful retrieved snippets.
However, when the model performs worse with retrieval, it is often due to misleading snippets that conflict with the information of the current file.
For example, the model might use a function call as found in a related file instead of how it should be used according to the current file, as seen in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#S5.F12" title="Figure 12 ‣ Advantages and disadvantages of retrieval ‣ 5.3 Qualitative analysis ‣ 5 Results ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">12</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F12"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="248" id="S5.F12.g1" src="x17.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F12.4.1.1" style="font-size:90%;">Figure 12</span>: </span><span class="ltx_text" id="S5.F12.5.2" style="font-size:90%;">
On the left is an example of misleading retrieval where the model incorrectly uses a function as it appears in the retrieved snippet instead of how it is used in the current file.
On the right is an example of completing a test function in a project where a model with a longer context could correctly complete the lines, as the name <span class="ltx_text ltx_font_typewriter" id="S5.F12.5.2.1">ProbClassifier</span> would have been encountered at the beginning of the file in the <span class="ltx_text ltx_font_typewriter" id="S5.F12.5.2.2">import</span> statements.
However, with a context size of 384, the beginning of the file is lost, but retrieval finds a similar example in other tests in the project, enabling successful completion compared to the baseline model.
The code is shortened for clarity in both cases.
</span></figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS3.SSS0.Px4">
<h5 class="ltx_title ltx_title_paragraph">Evaluation limitations</h5>
<div class="ltx_para" id="S5.SS3.SSS0.Px4.p1">
<p class="ltx_p" id="S5.SS3.SSS0.Px4.p1.1">Evaluating the quality of code completion using metrics is challenging <cite class="ltx_cite ltx_citemacro_citep">(Evtikhiev et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib11" title="">2023</a>)</cite>.
In many cases, a line can be completed in multiple ways, but evaluation datasets typically contain only one correct answer.
This problem could be mitigated by sampling multiple generated solutions, thereby increasing the likelihood of a correct match.
A better solution would be to execute the generated code using unit tests defined in the project.
However, besides the complexity of running code (e.g., setting up a development environment for each project), this is not the most suitable quality measure in our case since we are completing individual lines rather than entire functions.
Instead of string based metrics, LLMs could be used to evaluate quality, as they have a higher correlation with human judgements <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib32" title="">2023</a>)</cite>.
Ultimately, it is the developer who decides whether to accept the suggested line, so for evaluation, it would be necessary to ask users for feedback or conduct A/B tests of the final product integrated into a code editor.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this work, we examined the impact of retrieval from local projects on the success of completing lines of code using LLMs.
We compared the GPT-2 and RETRO models, which we trained on a dataset of Python files from the StarCoder dataset.
We compared two different tokenization approaches and highlighted the importance of token healing and the proper tokenization of whitespace when completing code, as it affects the amount of information in the context and the storage size of tokenized data.
We limited GPT-2 and RETRO to a smaller size of around 160 million parameters and reduced the impact of the differing number of parameters when comparing the two models.
We confirmed that RETRO with retrieval from the local project improves metrics compared to both the 6-layer and 9-layer GPT-2 on all considered benchmarks.
However, the difference between the 9-layer GPT-2 and the 6-layer RETRO is not pronounced, indicating the importance of considering the number of model parameters when comparing small models.
We further examined the impact of retrieval using In-context RAG, which includes snippets found using the Jaccard similarity of tokens into the context.
Using In-context RAG to retrieve from projects in RepoEval improved results of both small and larger models, but the improvements depended on the quality of retrieval and the projects’ characteristics.
We found that the similarity of the retrieved snippets and the ability to copy from them have a significant impact on the results, but the copying capabilities of the 6-layered RETRO were found to be lacking.
Based on our results, we deem that using small language models with In-context RAG is more sensible than using RETRO for the task of completing lines of code with retrieval from local projects due to the simplicity and broader applicability of In-context RAG.
</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">RETRO has proven useful for code completion, but several potential improvements would require retraining the model.
Training could include examples that would improve the ability to copy from retrieved snippets and to ignore irrelevant information.
For code completion, it would be beneficial to experiment training RETRO with the fill-in-the-middle technique <cite class="ltx_cite ltx_citemacro_citep">(Donahue et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib9" title="">2020</a>)</cite>, which reshapes the context to include code after the cursor position.
Training RETRO with a longer context could also be enhanced by training on projects instead of individual files.
For better integration with In-context RAG, the retrieved snippets could be appended to the input context during training <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib51" title="">2023a</a>)</cite>.
Additionally, it would be worthwhile to explore training and using RETRO with different retrieval methods, such as sparse BM-25 search instead of methods based on dense embeddings.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.1">A major advantage of In-context RAG is that it does not require updating the model weights, but doing so could still be beneficial for improving performance either by fine-tuning the model with included retrieved snippets or by fine-tuning the retriever <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib22" title="">2020</a>; Izacard and Grave, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib17" title="">2021</a>)</cite>.
For more efficient execution in code editors, models could be fine-tuned to append to the end of the context instead of the beginning, which would improve the caching of keys and values in self-attention during frequent code editing.
A next step would also be to explore the impact of combining In-context RAG with the fill-in-the-middle technique, which is becoming increasingly widespread <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib53" title="">2024</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S6.p4">
<p class="ltx_p" id="S6.p4.1">By training on more data, using appropriate tokenization, and improving the information present in the context with retrieval and fill-in-the-middle, alongside approaches such as weight quantization, we believe that code completion models have great potential for local use in programming tools.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">We thank JetBrains for motivating the problem and providing the computing power for conducting our experiments.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">CRediT authorship contribution statement</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1"><span class="ltx_text ltx_font_bold" id="Sx2.p1.1.1">Marko Hostnik</span>: Conceptualization, Methodology, Software, Validation, Formal analysis, Investigation, Writing – original draft.
<span class="ltx_text ltx_font_bold" id="Sx2.p1.1.2">Marko Robnik-Šikonja</span>: Conceptualization, Writing – original draft, Writing – review and editing, Supervision, Project administration.</p>
</div>
</section>
<section class="ltx_section" id="Sx3">
<h2 class="ltx_title ltx_title_section">Funding sources</h2>
<div class="ltx_para" id="Sx3.p1">
<p class="ltx_p" id="Sx3.p1.1">This research was funded by the Slovenian Research and Innovation Agency (ARIS) core research programme P6-0411 and projects J7-3159, CRP V5-2297, L2-50070, and PoVeJMo. (Marko Robnik-Šikonja).</p>
</div>
</section>
<section class="ltx_section" id="Sx4">
<h2 class="ltx_title ltx_title_section">Data availability</h2>
<div class="ltx_para" id="Sx4.p1">
<p class="ltx_p" id="Sx4.p1.1">The StarCoder dataset <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib29" title="">2023</a>)</cite> and the RepoEval <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib55" title="">2023b</a>)</cite> dataset are publicly available.</p>
</div>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>StarCoder dataset analysis</h2>
<figure class="ltx_figure" id="A1.F13">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="A1.F13.g1" src="x18.png" width="411"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="308" id="A1.F13.g2" src="x19.png" width="411"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A1.F13.4.2.1" style="font-size:90%;">Figure 13</span>: </span><span class="ltx_text" id="A1.F13.2.1" style="font-size:90%;">
Comparison of references to functions defined within projects in the StarCoder dataset.
Non-local function calls refer to references to functions not defined within the project (e.g., calls to functions from the standard library).
In the right figure, due to varying file lengths, we calculate the average number of calls per <math alttext="4000" class="ltx_Math" display="inline" id="A1.F13.2.1.m1.1"><semantics id="A1.F13.2.1.m1.1b"><mn id="A1.F13.2.1.m1.1.1" xref="A1.F13.2.1.m1.1.1.cmml">4000</mn><annotation-xml encoding="MathML-Content" id="A1.F13.2.1.m1.1c"><cn id="A1.F13.2.1.m1.1.1.cmml" type="integer" xref="A1.F13.2.1.m1.1.1">4000</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F13.2.1.m1.1d">4000</annotation><annotation encoding="application/x-llamapun" id="A1.F13.2.1.m1.1e">4000</annotation></semantics></math> characters.
The number of calls increases with project size (left graph), and calls are more frequent when considering the project as a whole compared to individual files (right distribution).
In the right distribution, the number of calls within files stands out near zero, which we attribute to calls to functions defined in other project files.
Within individual files, such calls are counted as non-local.
</span></figcaption>
</figure>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">In this paper, we examine the benefit of including retrieved similar code snippets from the project into the code completion process.
We hypothesize that finding similar examples can be useful when predicting symbols (e.g., function names, variables, classes) defined within the local project, as such names are not present in the training set.
Therefore, we sample <math alttext="50\,000" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><mn id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">50 000</mn><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><cn id="A1.p1.1.m1.1.1.cmml" type="integer" xref="A1.p1.1.m1.1.1">50000</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">50\,000</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">50 000</annotation></semantics></math> random projects with at least three files from the StarCoder dataset and count the frequency of calls to functions defined within the project by traversing the abstract syntax tree.
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A1.F13" title="Figure 13 ‣ Appendix A StarCoder dataset analysis ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">13</span></a>, we compare the number of calls within individual files to the number of calls within the project as a whole.
The number of calls increases with the size of the project or files, and the number of calls within the project is greater than the number of calls within individual files.
Consequently, we expect that cross-file code retrieval can improve the quality of code completion, especially for larger projects.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Chunk embeddings with BERT</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">We test the impact of using the BERT encoder versus CodeT5+ on a smaller dataset (6.7% of the total training set) and find that using the larger BERT encoder for chunk embeddings does not result in significant changes in test metrics – see Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A2.T9" title="Table 9 ‣ Appendix B Chunk embeddings with BERT ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">9</span></a>.
The comparison is not exhaustive due to the smaller training set and shorter training duration.</p>
</div>
<figure class="ltx_table" id="A2.T9">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T9.7">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T9.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" id="A2.T9.4.4.5">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r" id="A2.T9.4.4.6">Encoder</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A2.T9.1.1.1"><math alttext="\operatorname{PPL}" class="ltx_Math" display="inline" id="A2.T9.1.1.1.m1.1"><semantics id="A2.T9.1.1.1.m1.1a"><mi id="A2.T9.1.1.1.m1.1.1" xref="A2.T9.1.1.1.m1.1.1.cmml">PPL</mi><annotation-xml encoding="MathML-Content" id="A2.T9.1.1.1.m1.1b"><ci id="A2.T9.1.1.1.m1.1.1.cmml" xref="A2.T9.1.1.1.m1.1.1">PPL</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.1.1.1.m1.1c">\operatorname{PPL}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.1.1.1.m1.1d">roman_PPL</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A2.T9.2.2.2"><math alttext="\operatorname{R_{1}}" class="ltx_Math" display="inline" id="A2.T9.2.2.2.m1.1"><semantics id="A2.T9.2.2.2.m1.1a"><msub id="A2.T9.2.2.2.m1.1.1" xref="A2.T9.2.2.2.m1.1.1.cmml"><mi id="A2.T9.2.2.2.m1.1.1.2" mathvariant="normal" xref="A2.T9.2.2.2.m1.1.1.2.cmml">R</mi><mn id="A2.T9.2.2.2.m1.1.1.3" xref="A2.T9.2.2.2.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A2.T9.2.2.2.m1.1b"><apply id="A2.T9.2.2.2.m1.1.1.cmml" xref="A2.T9.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.2.2.2.m1.1.1.1.cmml" xref="A2.T9.2.2.2.m1.1.1">subscript</csymbol><ci id="A2.T9.2.2.2.m1.1.1.2.cmml" xref="A2.T9.2.2.2.m1.1.1.2">R</ci><cn id="A2.T9.2.2.2.m1.1.1.3.cmml" type="integer" xref="A2.T9.2.2.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.2.2.2.m1.1c">\operatorname{R_{1}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.2.2.2.m1.1d">roman_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A2.T9.3.3.3"><math alttext="\operatorname{R_{5}}" class="ltx_Math" display="inline" id="A2.T9.3.3.3.m1.1"><semantics id="A2.T9.3.3.3.m1.1a"><msub id="A2.T9.3.3.3.m1.1.1" xref="A2.T9.3.3.3.m1.1.1.cmml"><mi id="A2.T9.3.3.3.m1.1.1.2" mathvariant="normal" xref="A2.T9.3.3.3.m1.1.1.2.cmml">R</mi><mn id="A2.T9.3.3.3.m1.1.1.3" xref="A2.T9.3.3.3.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="A2.T9.3.3.3.m1.1b"><apply id="A2.T9.3.3.3.m1.1.1.cmml" xref="A2.T9.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.3.3.3.m1.1.1.1.cmml" xref="A2.T9.3.3.3.m1.1.1">subscript</csymbol><ci id="A2.T9.3.3.3.m1.1.1.2.cmml" xref="A2.T9.3.3.3.m1.1.1.2">R</ci><cn id="A2.T9.3.3.3.m1.1.1.3.cmml" type="integer" xref="A2.T9.3.3.3.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.3.3.3.m1.1c">\operatorname{R_{5}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.3.3.3.m1.1d">roman_R start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A2.T9.4.4.4"><math alttext="\operatorname{\operatorname{MRR}_{5}}" class="ltx_Math" display="inline" id="A2.T9.4.4.4.m1.1"><semantics id="A2.T9.4.4.4.m1.1a"><msub id="A2.T9.4.4.4.m1.1.1" xref="A2.T9.4.4.4.m1.1.1.cmml"><mi id="A2.T9.4.4.4.m1.1.1.2" xref="A2.T9.4.4.4.m1.1.1.2.cmml">MRR</mi><mn id="A2.T9.4.4.4.m1.1.1.3" xref="A2.T9.4.4.4.m1.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="A2.T9.4.4.4.m1.1b"><apply id="A2.T9.4.4.4.m1.1.1.cmml" xref="A2.T9.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.4.4.4.m1.1.1.1.cmml" xref="A2.T9.4.4.4.m1.1.1">subscript</csymbol><ci id="A2.T9.4.4.4.m1.1.1.2.cmml" xref="A2.T9.4.4.4.m1.1.1.2">MRR</ci><cn id="A2.T9.4.4.4.m1.1.1.3.cmml" type="integer" xref="A2.T9.4.4.4.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.4.4.4.m1.1c">\operatorname{\operatorname{MRR}_{5}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.4.4.4.m1.1d">roman_MRR start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T9.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A2.T9.5.5.1">GPT<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="A2.T9.5.5.1.m1.1"><semantics id="A2.T9.5.5.1.m1.1a"><mmultiscripts id="A2.T9.5.5.1.m1.1.1" xref="A2.T9.5.5.1.m1.1.1.cmml"><mi id="A2.T9.5.5.1.m1.1.1.2.2" xref="A2.T9.5.5.1.m1.1.1.2.2.cmml"></mi><mprescripts id="A2.T9.5.5.1.m1.1.1a" xref="A2.T9.5.5.1.m1.1.1.cmml"></mprescripts><mrow id="A2.T9.5.5.1.m1.1.1b" xref="A2.T9.5.5.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="A2.T9.5.5.1.m1.1.1.3" xref="A2.T9.5.5.1.m1.1.1.3a.cmml">gpt</mtext><mn id="A2.T9.5.5.1.m1.1.1.2.3" xref="A2.T9.5.5.1.m1.1.1.2.3.cmml">6</mn><mrow id="A2.T9.5.5.1.m1.1.1c" xref="A2.T9.5.5.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="A2.T9.5.5.1.m1.1b"><apply id="A2.T9.5.5.1.m1.1.1.cmml" xref="A2.T9.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.5.5.1.m1.1.1.1.cmml" xref="A2.T9.5.5.1.m1.1.1">superscript</csymbol><apply id="A2.T9.5.5.1.m1.1.1.2.cmml" xref="A2.T9.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.5.5.1.m1.1.1.2.1.cmml" xref="A2.T9.5.5.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="A2.T9.5.5.1.m1.1.1.2.2.cmml" xref="A2.T9.5.5.1.m1.1.1.2.2">absent</csymbol><cn id="A2.T9.5.5.1.m1.1.1.2.3.cmml" type="integer" xref="A2.T9.5.5.1.m1.1.1.2.3">6</cn></apply><ci id="A2.T9.5.5.1.m1.1.1.3a.cmml" xref="A2.T9.5.5.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="A2.T9.5.5.1.m1.1.1.3.cmml" mathsize="70%" xref="A2.T9.5.5.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.5.5.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.5.5.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T9.5.5.2">/</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T9.5.5.3">2.96</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T9.5.5.4">77.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T9.5.5.5">89.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T9.5.5.6">82.6</td>
</tr>
<tr class="ltx_tr" id="A2.T9.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A2.T9.6.6.1">RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="A2.T9.6.6.1.m1.1"><semantics id="A2.T9.6.6.1.m1.1a"><mmultiscripts id="A2.T9.6.6.1.m1.1.1" xref="A2.T9.6.6.1.m1.1.1.cmml"><mi id="A2.T9.6.6.1.m1.1.1.2.2" xref="A2.T9.6.6.1.m1.1.1.2.2.cmml"></mi><mprescripts id="A2.T9.6.6.1.m1.1.1a" xref="A2.T9.6.6.1.m1.1.1.cmml"></mprescripts><mrow id="A2.T9.6.6.1.m1.1.1b" xref="A2.T9.6.6.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="A2.T9.6.6.1.m1.1.1.3" xref="A2.T9.6.6.1.m1.1.1.3a.cmml">gpt</mtext><mn id="A2.T9.6.6.1.m1.1.1.2.3" xref="A2.T9.6.6.1.m1.1.1.2.3.cmml">6</mn><mrow id="A2.T9.6.6.1.m1.1.1c" xref="A2.T9.6.6.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="A2.T9.6.6.1.m1.1b"><apply id="A2.T9.6.6.1.m1.1.1.cmml" xref="A2.T9.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.6.6.1.m1.1.1.1.cmml" xref="A2.T9.6.6.1.m1.1.1">superscript</csymbol><apply id="A2.T9.6.6.1.m1.1.1.2.cmml" xref="A2.T9.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.6.6.1.m1.1.1.2.1.cmml" xref="A2.T9.6.6.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="A2.T9.6.6.1.m1.1.1.2.2.cmml" xref="A2.T9.6.6.1.m1.1.1.2.2">absent</csymbol><cn id="A2.T9.6.6.1.m1.1.1.2.3.cmml" type="integer" xref="A2.T9.6.6.1.m1.1.1.2.3">6</cn></apply><ci id="A2.T9.6.6.1.m1.1.1.3a.cmml" xref="A2.T9.6.6.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="A2.T9.6.6.1.m1.1.1.3.cmml" mathsize="70%" xref="A2.T9.6.6.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.6.6.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.6.6.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="A2.T9.6.6.2">BERT</th>
<td class="ltx_td ltx_align_center" id="A2.T9.6.6.3">2.95</td>
<td class="ltx_td ltx_align_center" id="A2.T9.6.6.4">78.0</td>
<td class="ltx_td ltx_align_center" id="A2.T9.6.6.5">89.5</td>
<td class="ltx_td ltx_align_center" id="A2.T9.6.6.6">82.7</td>
</tr>
<tr class="ltx_tr" id="A2.T9.7.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A2.T9.7.7.1">RETRO<math alttext="{}_{6}^{\textsc{gpt}}" class="ltx_Math" display="inline" id="A2.T9.7.7.1.m1.1"><semantics id="A2.T9.7.7.1.m1.1a"><mmultiscripts id="A2.T9.7.7.1.m1.1.1" xref="A2.T9.7.7.1.m1.1.1.cmml"><mi id="A2.T9.7.7.1.m1.1.1.2.2" xref="A2.T9.7.7.1.m1.1.1.2.2.cmml"></mi><mprescripts id="A2.T9.7.7.1.m1.1.1a" xref="A2.T9.7.7.1.m1.1.1.cmml"></mprescripts><mrow id="A2.T9.7.7.1.m1.1.1b" xref="A2.T9.7.7.1.m1.1.1.cmml"></mrow><mtext class="ltx_font_smallcaps" id="A2.T9.7.7.1.m1.1.1.3" xref="A2.T9.7.7.1.m1.1.1.3a.cmml">gpt</mtext><mn id="A2.T9.7.7.1.m1.1.1.2.3" xref="A2.T9.7.7.1.m1.1.1.2.3.cmml">6</mn><mrow id="A2.T9.7.7.1.m1.1.1c" xref="A2.T9.7.7.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="A2.T9.7.7.1.m1.1b"><apply id="A2.T9.7.7.1.m1.1.1.cmml" xref="A2.T9.7.7.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.7.7.1.m1.1.1.1.cmml" xref="A2.T9.7.7.1.m1.1.1">superscript</csymbol><apply id="A2.T9.7.7.1.m1.1.1.2.cmml" xref="A2.T9.7.7.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T9.7.7.1.m1.1.1.2.1.cmml" xref="A2.T9.7.7.1.m1.1.1">subscript</csymbol><csymbol cd="latexml" id="A2.T9.7.7.1.m1.1.1.2.2.cmml" xref="A2.T9.7.7.1.m1.1.1.2.2">absent</csymbol><cn id="A2.T9.7.7.1.m1.1.1.2.3.cmml" type="integer" xref="A2.T9.7.7.1.m1.1.1.2.3">6</cn></apply><ci id="A2.T9.7.7.1.m1.1.1.3a.cmml" xref="A2.T9.7.7.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" id="A2.T9.7.7.1.m1.1.1.3.cmml" mathsize="70%" xref="A2.T9.7.7.1.m1.1.1.3">gpt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.7.7.1.m1.1c">{}_{6}^{\textsc{gpt}}</annotation><annotation encoding="application/x-llamapun" id="A2.T9.7.7.1.m1.1d">start_FLOATSUBSCRIPT 6 end_FLOATSUBSCRIPT start_POSTSUPERSCRIPT gpt end_POSTSUPERSCRIPT</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="A2.T9.7.7.2">CodeT5+</th>
<td class="ltx_td ltx_align_center" id="A2.T9.7.7.3">2.95</td>
<td class="ltx_td ltx_align_center" id="A2.T9.7.7.4">78.0</td>
<td class="ltx_td ltx_align_center" id="A2.T9.7.7.5">89.4</td>
<td class="ltx_td ltx_align_center" id="A2.T9.7.7.6">82.7</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A2.T9.9.1.1" style="font-size:90%;">Table 9</span>: </span><span class="ltx_text" id="A2.T9.10.2" style="font-size:90%;">
Comparison of model training on a smaller training dataset using BERT and CodeT5+ for computing chunk embeddings.
GPT-2 tokenization is used.
</span></figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Indexing chunk embeddings</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">Due to the large number of chunks in the database, exhaustive searching for the exact <math alttext="k" class="ltx_Math" display="inline" id="A3.p1.1.m1.1"><semantics id="A3.p1.1.m1.1a"><mi id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><ci id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.m1.1d">italic_k</annotation></semantics></math>-nearest chunks is not feasible, so we resort to <span class="ltx_text ltx_font_italic" id="A3.p1.1.1">approximate</span> searching instead.
As a consequence of approximate search, we seek a compromise between the search accuracy, search speed, index building speed, and index memory usage.
In our implementation, we use the Faiss library <cite class="ltx_cite ltx_citemacro_citep">(Johnson et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib19" title="">2021</a>)</cite> to index the chunk embeddings<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>In Faiss, the used index can be compactly described by the string <span class="ltx_text ltx_font_typewriter" id="footnote4.1">OPQ32_128,IVF1048576_HNSW32,PQ32</span>.</span></span></span>.
The search is sped up using IVF indexing <cite class="ltx_cite ltx_citemacro_citep">(Johnson et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib19" title="">2021</a>)</cite> in combination with the HNSW <cite class="ltx_cite ltx_citemacro_citep">(Malkov and Yashunin, <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib35" title="">2020</a>)</cite> algorithm.
Additionally, the vectors are compressed with the PQ <cite class="ltx_cite ltx_citemacro_citep">(Jegou et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib18" title="">2008</a>)</cite> vector codec and the OPQ <cite class="ltx_cite ltx_citemacro_citep">(Ge et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#bib.bib12" title="">2013</a>)</cite> transformation.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A3.T10" title="Table 10 ‣ Appendix C Indexing chunk embeddings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">10</span></a> summarizes the space requirements for storing the database and retrieval index based on the tokenization method used.</p>
</div>
<figure class="ltx_table" id="A3.T10">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A3.T10.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A3.T10.4.5.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="A3.T10.4.5.1.1">Tokenization</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A3.T10.4.5.1.2"># Chunks</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A3.T10.4.5.1.3"># Tokens</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A3.T10.4.5.1.4">Tokenized file size</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A3.T10.4.5.1.5">Index size</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T10.2.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T10.2.2.3">GPT-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T10.1.1.1"><math alttext="4.5\times 10^{8}" class="ltx_Math" display="inline" id="A3.T10.1.1.1.m1.1"><semantics id="A3.T10.1.1.1.m1.1a"><mrow id="A3.T10.1.1.1.m1.1.1" xref="A3.T10.1.1.1.m1.1.1.cmml"><mn id="A3.T10.1.1.1.m1.1.1.2" xref="A3.T10.1.1.1.m1.1.1.2.cmml">4.5</mn><mo id="A3.T10.1.1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A3.T10.1.1.1.m1.1.1.1.cmml">×</mo><msup id="A3.T10.1.1.1.m1.1.1.3" xref="A3.T10.1.1.1.m1.1.1.3.cmml"><mn id="A3.T10.1.1.1.m1.1.1.3.2" xref="A3.T10.1.1.1.m1.1.1.3.2.cmml">10</mn><mn id="A3.T10.1.1.1.m1.1.1.3.3" xref="A3.T10.1.1.1.m1.1.1.3.3.cmml">8</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.1.1.1.m1.1b"><apply id="A3.T10.1.1.1.m1.1.1.cmml" xref="A3.T10.1.1.1.m1.1.1"><times id="A3.T10.1.1.1.m1.1.1.1.cmml" xref="A3.T10.1.1.1.m1.1.1.1"></times><cn id="A3.T10.1.1.1.m1.1.1.2.cmml" type="float" xref="A3.T10.1.1.1.m1.1.1.2">4.5</cn><apply id="A3.T10.1.1.1.m1.1.1.3.cmml" xref="A3.T10.1.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A3.T10.1.1.1.m1.1.1.3.1.cmml" xref="A3.T10.1.1.1.m1.1.1.3">superscript</csymbol><cn id="A3.T10.1.1.1.m1.1.1.3.2.cmml" type="integer" xref="A3.T10.1.1.1.m1.1.1.3.2">10</cn><cn id="A3.T10.1.1.1.m1.1.1.3.3.cmml" type="integer" xref="A3.T10.1.1.1.m1.1.1.3.3">8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.1.1.1.m1.1c">4.5\times 10^{8}</annotation><annotation encoding="application/x-llamapun" id="A3.T10.1.1.1.m1.1d">4.5 × 10 start_POSTSUPERSCRIPT 8 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T10.2.2.2"><math alttext="27\times 10^{9}" class="ltx_Math" display="inline" id="A3.T10.2.2.2.m1.1"><semantics id="A3.T10.2.2.2.m1.1a"><mrow id="A3.T10.2.2.2.m1.1.1" xref="A3.T10.2.2.2.m1.1.1.cmml"><mn id="A3.T10.2.2.2.m1.1.1.2" xref="A3.T10.2.2.2.m1.1.1.2.cmml">27</mn><mo id="A3.T10.2.2.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A3.T10.2.2.2.m1.1.1.1.cmml">×</mo><msup id="A3.T10.2.2.2.m1.1.1.3" xref="A3.T10.2.2.2.m1.1.1.3.cmml"><mn id="A3.T10.2.2.2.m1.1.1.3.2" xref="A3.T10.2.2.2.m1.1.1.3.2.cmml">10</mn><mn id="A3.T10.2.2.2.m1.1.1.3.3" xref="A3.T10.2.2.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.2.2.2.m1.1b"><apply id="A3.T10.2.2.2.m1.1.1.cmml" xref="A3.T10.2.2.2.m1.1.1"><times id="A3.T10.2.2.2.m1.1.1.1.cmml" xref="A3.T10.2.2.2.m1.1.1.1"></times><cn id="A3.T10.2.2.2.m1.1.1.2.cmml" type="integer" xref="A3.T10.2.2.2.m1.1.1.2">27</cn><apply id="A3.T10.2.2.2.m1.1.1.3.cmml" xref="A3.T10.2.2.2.m1.1.1.3"><csymbol cd="ambiguous" id="A3.T10.2.2.2.m1.1.1.3.1.cmml" xref="A3.T10.2.2.2.m1.1.1.3">superscript</csymbol><cn id="A3.T10.2.2.2.m1.1.1.3.2.cmml" type="integer" xref="A3.T10.2.2.2.m1.1.1.3.2">10</cn><cn id="A3.T10.2.2.2.m1.1.1.3.3.cmml" type="integer" xref="A3.T10.2.2.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.2.2.2.m1.1c">27\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="A3.T10.2.2.2.m1.1d">27 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T10.2.2.4">53 GiB</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T10.2.2.5">18 GiB</td>
</tr>
<tr class="ltx_tr" id="A3.T10.4.4">
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T10.4.4.3">StarCoder</td>
<td class="ltx_td ltx_align_center" id="A3.T10.3.3.1"><math alttext="2.8\times 10^{8}" class="ltx_Math" display="inline" id="A3.T10.3.3.1.m1.1"><semantics id="A3.T10.3.3.1.m1.1a"><mrow id="A3.T10.3.3.1.m1.1.1" xref="A3.T10.3.3.1.m1.1.1.cmml"><mn id="A3.T10.3.3.1.m1.1.1.2" xref="A3.T10.3.3.1.m1.1.1.2.cmml">2.8</mn><mo id="A3.T10.3.3.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A3.T10.3.3.1.m1.1.1.1.cmml">×</mo><msup id="A3.T10.3.3.1.m1.1.1.3" xref="A3.T10.3.3.1.m1.1.1.3.cmml"><mn id="A3.T10.3.3.1.m1.1.1.3.2" xref="A3.T10.3.3.1.m1.1.1.3.2.cmml">10</mn><mn id="A3.T10.3.3.1.m1.1.1.3.3" xref="A3.T10.3.3.1.m1.1.1.3.3.cmml">8</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.3.3.1.m1.1b"><apply id="A3.T10.3.3.1.m1.1.1.cmml" xref="A3.T10.3.3.1.m1.1.1"><times id="A3.T10.3.3.1.m1.1.1.1.cmml" xref="A3.T10.3.3.1.m1.1.1.1"></times><cn id="A3.T10.3.3.1.m1.1.1.2.cmml" type="float" xref="A3.T10.3.3.1.m1.1.1.2">2.8</cn><apply id="A3.T10.3.3.1.m1.1.1.3.cmml" xref="A3.T10.3.3.1.m1.1.1.3"><csymbol cd="ambiguous" id="A3.T10.3.3.1.m1.1.1.3.1.cmml" xref="A3.T10.3.3.1.m1.1.1.3">superscript</csymbol><cn id="A3.T10.3.3.1.m1.1.1.3.2.cmml" type="integer" xref="A3.T10.3.3.1.m1.1.1.3.2">10</cn><cn id="A3.T10.3.3.1.m1.1.1.3.3.cmml" type="integer" xref="A3.T10.3.3.1.m1.1.1.3.3">8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.3.3.1.m1.1c">2.8\times 10^{8}</annotation><annotation encoding="application/x-llamapun" id="A3.T10.3.3.1.m1.1d">2.8 × 10 start_POSTSUPERSCRIPT 8 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="A3.T10.4.4.2"><math alttext="18\times 10^{9}" class="ltx_Math" display="inline" id="A3.T10.4.4.2.m1.1"><semantics id="A3.T10.4.4.2.m1.1a"><mrow id="A3.T10.4.4.2.m1.1.1" xref="A3.T10.4.4.2.m1.1.1.cmml"><mn id="A3.T10.4.4.2.m1.1.1.2" xref="A3.T10.4.4.2.m1.1.1.2.cmml">18</mn><mo id="A3.T10.4.4.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A3.T10.4.4.2.m1.1.1.1.cmml">×</mo><msup id="A3.T10.4.4.2.m1.1.1.3" xref="A3.T10.4.4.2.m1.1.1.3.cmml"><mn id="A3.T10.4.4.2.m1.1.1.3.2" xref="A3.T10.4.4.2.m1.1.1.3.2.cmml">10</mn><mn id="A3.T10.4.4.2.m1.1.1.3.3" xref="A3.T10.4.4.2.m1.1.1.3.3.cmml">9</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.4.4.2.m1.1b"><apply id="A3.T10.4.4.2.m1.1.1.cmml" xref="A3.T10.4.4.2.m1.1.1"><times id="A3.T10.4.4.2.m1.1.1.1.cmml" xref="A3.T10.4.4.2.m1.1.1.1"></times><cn id="A3.T10.4.4.2.m1.1.1.2.cmml" type="integer" xref="A3.T10.4.4.2.m1.1.1.2">18</cn><apply id="A3.T10.4.4.2.m1.1.1.3.cmml" xref="A3.T10.4.4.2.m1.1.1.3"><csymbol cd="ambiguous" id="A3.T10.4.4.2.m1.1.1.3.1.cmml" xref="A3.T10.4.4.2.m1.1.1.3">superscript</csymbol><cn id="A3.T10.4.4.2.m1.1.1.3.2.cmml" type="integer" xref="A3.T10.4.4.2.m1.1.1.3.2">10</cn><cn id="A3.T10.4.4.2.m1.1.1.3.3.cmml" type="integer" xref="A3.T10.4.4.2.m1.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.4.4.2.m1.1c">18\times 10^{9}</annotation><annotation encoding="application/x-llamapun" id="A3.T10.4.4.2.m1.1d">18 × 10 start_POSTSUPERSCRIPT 9 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="A3.T10.4.4.4">33 GiB</td>
<td class="ltx_td ltx_align_center" id="A3.T10.4.4.5">12 GiB</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A3.T10.6.1.1" style="font-size:90%;">Table 10</span>: </span><span class="ltx_text" id="A3.T10.7.2" style="font-size:90%;">Comparison of the retrieval database sizes using two different vocabularies for tokenization.
The total size of all files before tokenization is 62 GiB.</span></figcaption>
</figure>
<section class="ltx_paragraph" id="A3.SS0.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Indexing effectiveness</h5>
<figure class="ltx_figure" id="A3.F14">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="305" id="A3.F14.g1" src="x20.png" width="407"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="305" id="A3.F14.g2" src="x21.png" width="407"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F14.4.2.1" style="font-size:90%;">Figure 14</span>: </span><span class="ltx_text" id="A3.F14.2.1" style="font-size:90%;">
Distribution of <math alttext="L_{2}" class="ltx_Math" display="inline" id="A3.F14.2.1.m1.1"><semantics id="A3.F14.2.1.m1.1b"><msub id="A3.F14.2.1.m1.1.1" xref="A3.F14.2.1.m1.1.1.cmml"><mi id="A3.F14.2.1.m1.1.1.2" xref="A3.F14.2.1.m1.1.1.2.cmml">L</mi><mn id="A3.F14.2.1.m1.1.1.3" xref="A3.F14.2.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A3.F14.2.1.m1.1c"><apply id="A3.F14.2.1.m1.1.1.cmml" xref="A3.F14.2.1.m1.1.1"><csymbol cd="ambiguous" id="A3.F14.2.1.m1.1.1.1.cmml" xref="A3.F14.2.1.m1.1.1">subscript</csymbol><ci id="A3.F14.2.1.m1.1.1.2.cmml" xref="A3.F14.2.1.m1.1.1.2">𝐿</ci><cn id="A3.F14.2.1.m1.1.1.3.cmml" type="integer" xref="A3.F14.2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.F14.2.1.m1.1d">L_{2}</annotation><annotation encoding="application/x-llamapun" id="A3.F14.2.1.m1.1e">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> distances between chunk embeddings and their retrieved neighbors.
The left figure shows exact distances, while the right figure shows approximate distances as returned by the Faiss index.</span></figcaption>
</figure>
<div class="ltx_para" id="A3.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="A3.SS0.SSS0.Px1.p1.3">To evaluate the effectiveness of approximate nearest chunk retrieval using the index constructed with Faiss, we compare the <math alttext="L_{2}" class="ltx_Math" display="inline" id="A3.SS0.SSS0.Px1.p1.1.m1.1"><semantics id="A3.SS0.SSS0.Px1.p1.1.m1.1a"><msub id="A3.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">L</mi><mn id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2">𝐿</ci><cn id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" type="integer" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.1.m1.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="A3.SS0.SSS0.Px1.p1.1.m1.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> distance between the embedding of a chunk and the embedding of the nearest chunk from the retrieval database returned by the index.
For comparison, we observe the distributions of <math alttext="L_{2}" class="ltx_Math" display="inline" id="A3.SS0.SSS0.Px1.p1.2.m2.1"><semantics id="A3.SS0.SSS0.Px1.p1.2.m2.1a"><msub id="A3.SS0.SSS0.Px1.p1.2.m2.1.1" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml">L</mi><mn id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2">𝐿</ci><cn id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" type="integer" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.2.m2.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="A3.SS0.SSS0.Px1.p1.2.m2.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> distances between the embeddings of retrieved chunks and chunks from the database, training set, test set, and chunks composed of random tokens.
All chunks contain 64 tokens, and we sample <math alttext="100\,000" class="ltx_Math" display="inline" id="A3.SS0.SSS0.Px1.p1.3.m3.1"><semantics id="A3.SS0.SSS0.Px1.p1.3.m3.1a"><mn id="A3.SS0.SSS0.Px1.p1.3.m3.1.1" xref="A3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">100 000</mn><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.3.m3.1b"><cn id="A3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" type="integer" xref="A3.SS0.SSS0.Px1.p1.3.m3.1.1">100000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.3.m3.1c">100\,000</annotation><annotation encoding="application/x-llamapun" id="A3.SS0.SSS0.Px1.p1.3.m3.1d">100 000</annotation></semantics></math> chunks from each set.
The distribution results are shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05026v1#A3.F14" title="Figure 14 ‣ Indexing effectiveness ‣ Appendix C Indexing chunk embeddings ‣ Retrieval-augmented code completion for local projects using large language models"><span class="ltx_text ltx_ref_tag">14</span></a>.
The right side of the figure shows approximate distances as returned by Faiss, which are not exact due to the compression and transformation of embeddings by the indexing.
As expected, retrieving chunks from the database itself is nearly error-free (98% accuracy), while searching with random chunks returns the largest distances.
Retrieving chunks from the training set results in smaller distances compared to retrieving chunks from the test set, as the database is constructed by partitioning the training set into consecutive non-overlapping chunks.</p>
</div>
</section>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Athiwaratkun et al. (2024)</span>
<span class="ltx_bibblock">
Athiwaratkun, B., Wang, S., Shang, M., Tian, Y., Wang, Z., Gonugondla, S., Gouda, S.K., Kwiatkowski, R., Nallapati, R., Xiang, B., 2024.

</span>
<span class="ltx_bibblock">Token alignment via character matching for subword completion, in: ACL Findings 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Austin et al. (2021)</span>
<span class="ltx_bibblock">
Austin, J., Odena, A., Nye, M., Bosma, M., Michalewski, H., Dohan, D., Jiang, E., Cai, C., Terry, M., Le, Q., Sutton, C., 2021.

</span>
<span class="ltx_bibblock">Program Synthesis with Large Language Models.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2108.07732" title="">arXiv:2108.07732</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud et al. (2022)</span>
<span class="ltx_bibblock">
Borgeaud, S., Mensch, A., Hoffmann, J., Cai, T., Rutherford, E., Millican, K., Van Den Driessche, G.B., Lespiau, J.B., Damoc, B., Clark, A., De Las Casas, D., Guy, A., Menick, J., Ring, R., Hennigan, T., Huang, S., Maggiore, L., Jones, C., Cassirer, A., Brock, A., Paganini, M., Irving, G., Vinyals, O., Osindero, S., Simonyan, K., Rae, J., Elsen, E., Sifre, L., 2022.

</span>
<span class="ltx_bibblock">Improving Language Models by Retrieving from Trillions of Tokens, in: Proceedings of the 39th International Conference on Machine Learning, pp. 2206–2240.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Brown, T., Mann, B., Ryder, N., Subbiah, M., Kaplan, J.D., Dhariwal, P., Neelakantan, A., Shyam, P., Sastry, G., Askell, A., Agarwal, S., Herbert-Voss, A., Krueger, G., Henighan, T., Child, R., Ramesh, A., Ziegler, D., Wu, J., Winter, C., Hesse, C., Chen, M., Sigler, E., Litwin, M., Gray, S., Chess, B., Clark, J., Berner, C., McCandlish, S., Radford, A., Sutskever, I., Amodei, D., 2020.

</span>
<span class="ltx_bibblock">Language Models are Few-Shot Learners, in: Advances in Neural Information Processing Systems, pp. 1877–1901.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2021)</span>
<span class="ltx_bibblock">
Chen, M., Tworek, J., Jun, H., Yuan, Q., de Oliveira Pinto, H.P., Kaplan, J., Edwards, H., Burda, Y., Joseph, N., Brockman, G., Ray, A., Puri, R., Krueger, G., Petrov, M., Khlaaf, H., Sastry, G., Mishkin, P., Chan, B., Gray, S., Ryder, N., Pavlov, M., Power, A., Kaiser, L., Bavarian, M., Winter, C., Tillet, P., Such, F.P., Cummings, D., Plappert, M., Chantzis, F., Barnes, E., Herbert-Voss, A., Guss, W.H.,
Nichol, A., Paino, A., Tezak, N., Tang, J., Babuschkin, I., Balaji, S., Jain, S., Saunders, W., Hesse, C., Carr, A.N., Leike, J., Achiam, J., Misra, V., Morikawa, E., Radford, A., Knight, M., Brundage, M., Murati, M., Mayer, K., Welinder, P., McGrew, B., Amodei, D., McCandlish, S., Sutskever, I., Zaremba, W., 2021.

</span>
<span class="ltx_bibblock">Evaluating Large Language Models Trained on Code.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2107.03374" title="">arXiv:2107.03374</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dagan et al. (2024)</span>
<span class="ltx_bibblock">
Dagan, G., Synnaeve, G., Roziere, B., 2024.

</span>
<span class="ltx_bibblock">Getting the most out of your tokenizer for pre-training and domain adaptation, in: Forty-first International Conference on Machine Learning.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al. (2019)</span>
<span class="ltx_bibblock">
Devlin, J., Chang, M.W., Lee, K., Toutanova, K., 2019.

</span>
<span class="ltx_bibblock">BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding, in: Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long and Short Papers), pp. 4171–4186.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/N19-1423" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/N19-1423</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et al. (2023)</span>
<span class="ltx_bibblock">
Ding, Y., Wang, Z., Ahmad, W., Ding, H., Tan, M., Jain, N., Ramanathan, M.K., Nallapati, R., Bhatia, P., Roth, D., Xiang, B., 2023.

</span>
<span class="ltx_bibblock">CrossCodeEval: A Diverse and Multilingual Benchmark for Cross-File Code Completion, in: Advances in Neural Information Processing Systems, pp. 46701–46723.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Donahue et al. (2020)</span>
<span class="ltx_bibblock">
Donahue, C., Lee, M., Liang, P., 2020.

</span>
<span class="ltx_bibblock">Enabling Language Models to Fill in the Blanks, in: Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics, pp. 2492–2501.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2020.acl-main.225" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2020.acl-main.225</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Efron (1987)</span>
<span class="ltx_bibblock">
Efron, B., 1987.

</span>
<span class="ltx_bibblock">Better Bootstrap Confidence Intervals.

</span>
<span class="ltx_bibblock">Journal of the American Statistical Association 82, 171–185.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1080/01621459.1987.10478410" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1080/01621459.1987.10478410</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Evtikhiev et al. (2023)</span>
<span class="ltx_bibblock">
Evtikhiev, M., Bogomolov, E., Sokolov, Y., Bryksin, T., 2023.

</span>
<span class="ltx_bibblock">Out of the BLEU: How should we assess quality of the Code Generation models?

</span>
<span class="ltx_bibblock">Journal of Systems and Software 203, 111741.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1016/j.jss.2023.111741" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1016/j.jss.2023.111741</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ge et al. (2013)</span>
<span class="ltx_bibblock">
Ge, T., He, K., Ke, Q., Sun, J., 2013.

</span>
<span class="ltx_bibblock">Optimized Product Quantization for Approximate Nearest Neighbor Search, in: Proceedings of the 2013 IEEE Conference on Computer Vision and Pattern Recognition, p. 2946–2953.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1109/CVPR.2013.379" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1109/CVPR.2013.379</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2021)</span>
<span class="ltx_bibblock">
Guo, D., Ren, S., Lu, S., Feng, Z., Tang, D., LIU, S., Zhou, L., Duan, N., Svyatkovskiy, A., Fu, S., Tufano, M., Deng, S.K., Clement, C., Drain, D., Sundaresan, N., Yin, J., Jiang, D., Zhou, M., 2021.

</span>
<span class="ltx_bibblock">GraphCodeBERT: Pre-training Code Representations with Data Flow, in: International Conference on Learning Representations.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2024)</span>
<span class="ltx_bibblock">
Guo, D., Zhu, Q., Yang, D., Xie, Z., Dong, K., Zhang, W., Chen, G., Bi, X., Wu, Y., Li, Y.K., Luo, F., Xiong, Y., Liang, W., 2024.

</span>
<span class="ltx_bibblock">DeepSeek-Coder: When the Large Language Model Meets Programming – The Rise of Code Intelligence.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2401.14196" title="">arXiv:2401.14196</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Guu, K., Lee, K., Tung, Z., Pasupat, P., Chang, M., 2020.

</span>
<span class="ltx_bibblock">Retrieval Augmented Language Model Pre-Training, in: Proceedings of the 37th International Conference on Machine Learning, pp. 3929–3938.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Harman (1995)</span>
<span class="ltx_bibblock">
Harman, D.K., 1995.

</span>
<span class="ltx_bibblock">Overview of the third text retrieval conference (TREC-3).

</span>
<span class="ltx_bibblock">500, DIANE Publishing.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard and Grave (2021)</span>
<span class="ltx_bibblock">
Izacard, G., Grave, E., 2021.

</span>
<span class="ltx_bibblock">Leveraging Passage Retrieval with Generative Models for Open Domain Question Answering, in: EACL 2021 - 16th Conference of the European Chapter of the Association for Computational Linguistics, pp. 874–880.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2021.eacl-main.74" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2021.eacl-main.74</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jegou et al. (2008)</span>
<span class="ltx_bibblock">
Jegou, H., Douze, M., Schmid, C., 2008.

</span>
<span class="ltx_bibblock">Hamming Embedding and Weak Geometric Consistency for Large Scale Image Search, in: Computer Vision – ECCV, pp. 304–317.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1007/978-3-540-88682-2_24" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1007/978-3-540-88682-2_24</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson et al. (2021)</span>
<span class="ltx_bibblock">
Johnson, J., Douze, M., Jégou, H., 2021.

</span>
<span class="ltx_bibblock">Billion-Scale Similarity Search with GPUs.

</span>
<span class="ltx_bibblock">IEEE Transactions on Big Data 7, 535–547.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1109/TBDATA.2019.2921572" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1109/TBDATA.2019.2921572</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jurafsky and Martin (2009)</span>
<span class="ltx_bibblock">
Jurafsky, D., Martin, J.H., 2009.

</span>
<span class="ltx_bibblock">Speech and Language Processing (2nd Edition).

</span>
<span class="ltx_bibblock">Prentice-Hall, Inc., Upper Saddle River, NJ, USA.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan et al. (2020)</span>
<span class="ltx_bibblock">
Kaplan, J., McCandlish, S., Henighan, T., Brown, T.B., Chess, B., Child, R., Gray, S., Radford, A., Wu, J., Amodei, D., 2020.

</span>
<span class="ltx_bibblock">Scaling Laws for Neural Language Models.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2001.08361" title="">arXiv:2001.08361</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Karpukhin, V., Oguz, B., Min, S., Lewis, P., Wu, L., Edunov, S., Chen, D., Yih, W.t., 2020.

</span>
<span class="ltx_bibblock">Dense Passage Retrieval for Open-Domain Question Answering, in: Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pp. 6769–6781.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2020.emnlp-main.550" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2020.emnlp-main.550</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kasneci et al. (2023)</span>
<span class="ltx_bibblock">
Kasneci, E., Sessler, K., Küchemann, S., Bannert, M., Dementieva, D., Fischer, F., Gasser, U., Groh, G., Günnemann, S., Hüllermeier, E., Krusche, S., Kutyniok, G., Michaeli, T., Nerdel, C., Pfeffer, J., Poquet, O., Sailer, M., Schmidt, A., Seidel, T., Stadler, M., Weller, J., Kuhn, J., Kasneci, G., 2023.

</span>
<span class="ltx_bibblock">ChatGPT for good? On opportunities and challenges of large language models for education.

</span>
<span class="ltx_bibblock">Learning and Individual Differences 103, 102274.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1016/j.lindif.2023.102274" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1016/j.lindif.2023.102274</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khandelwal et al. (2020)</span>
<span class="ltx_bibblock">
Khandelwal, U., Levy, O., Jurafsky, D., Zettlemoyer, L., Lewis, M., 2020.

</span>
<span class="ltx_bibblock">Generalization through Memorization: Nearest Neighbor Language Models, in: International Conference on Learning Representations.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba (2015)</span>
<span class="ltx_bibblock">
Kingma, D.P., Ba, J., 2015.

</span>
<span class="ltx_bibblock">Adam: A Method for Stochastic Optimization, in: 3rd International Conference on Learning Representations.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Levenshtein et al. (1966)</span>
<span class="ltx_bibblock">
Levenshtein, V.I., et al., 1966.

</span>
<span class="ltx_bibblock">Binary codes capable of correcting deletions, insertions, and reversals, in: Soviet physics doklady, Soviet Union. pp. 707–710.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Leviathan et al. (2023)</span>
<span class="ltx_bibblock">
Leviathan, Y., Kalman, M., Matias, Y., 2023.

</span>
<span class="ltx_bibblock">Fast Inference from Transformers via Speculative Decoding, in: Proceedings of the 40th International Conference on Machine Learning, pp. 19274–19286.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Lewis, P., Perez, E., Piktus, A., Petroni, F., Karpukhin, V., Goyal, N., Küttler, H., Lewis, M., Yih, W.t., Rocktäschel, T., Riedel, S., Kiela, D., 2020.

</span>
<span class="ltx_bibblock">Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks, in: Advances in Neural Information Processing Systems, pp. 9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Li, R., allal, L.B., Zi, Y., Muennighoff, N., Kocetkov, D., Mou, C., Marone, M., Akiki, C., LI, J., Chim, J., Liu, Q., Zheltonozhskii, E., Zhuo, T.Y., Wang, T., Dehaene, O., Lamy-Poirier, J., Monteiro, J., Gontier, N., Yee, M.H., Umapathi, L.K., Zhu, J., Lipkin, B., Oblokulov, M., Wang, Z., Murthy, R., Stillerman, J.T., Patel, S.S., Abulkhanov, D., Zocca, M., Dey, M., Zhang, Z., Bhattacharyya, U., Yu, W.,
Luccioni, S., Villegas, P., Zhdanov, F., Lee, T., Timor, N., Ding, J., Schlesinger, C.S., Schoelkopf, H., Ebert, J., Dao, T., Mishra, M., Gu, A., Anderson, C.J., Dolan-Gavitt, B., Contractor, D., Reddy, S., Fried, D., Bahdanau, D., Jernite, Y., Ferrandis, C.M., Hughes, S., Wolf, T., Guha, A., Werra, L.V., de Vries, H., 2023.

</span>
<span class="ltx_bibblock">StarCoder: may the source be with you!

</span>
<span class="ltx_bibblock">Transactions on Machine Learning Research .

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2024)</span>
<span class="ltx_bibblock">
Liang, J.T., Yang, C., Myers, B.A., 2024.

</span>
<span class="ltx_bibblock">A Large-Scale Survey on the Usability of AI Programming Assistants: Successes and Challenges, in: Proceedings of the IEEE/ACM 46th International Conference on Software Engineering.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1145/3597503.3608128" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1145/3597503.3608128</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024)</span>
<span class="ltx_bibblock">
Liu, T., Xu, C., McAuley, J., 2024.

</span>
<span class="ltx_bibblock">RepoBench: Benchmarking Repository-Level Code Auto-Completion Systems, in: The Twelfth International Conference on Learning Representations.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Liu, Y., Iter, D., Xu, Y., Wang, S., Xu, R., Zhu, C., 2023.

</span>
<span class="ltx_bibblock">G-Eval: NLG Evaluation using GPT-4 with Better Human Alignment, in: Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, pp. 2511–2522.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2023.emnlp-main.153" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2023.emnlp-main.153</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2022)</span>
<span class="ltx_bibblock">
Lu, S., Duan, N., Han, H., Guo, D., Hwang, S.w., Svyatkovskiy, A., 2022.

</span>
<span class="ltx_bibblock">ReACC: A Retrieval-Augmented Code Completion Framework, in: Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), pp. 6227–6240.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2022.acl-long.431" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2022.acl-long.431</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2021)</span>
<span class="ltx_bibblock">
Lu, S., Guo, D., Ren, S., Huang, J., Svyatkovskiy, A., Blanco, A., Clement, C., Drain, D., Jiang, D., Tang, D., Li, G., Zhou, L., Shou, L., Zhou, L., Tufano, M., GONG, M., Zhou, M., Duan, N., Sundaresan, N., Deng, S.K., Fu, S., LIU, S., 2021.

</span>
<span class="ltx_bibblock">CodeXGLUE: A Machine Learning Benchmark Dataset for Code Understanding and Generation, in: Thirty-fifth Conference on Neural Information Processing Systems Datasets and Benchmarks Track.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Malkov and Yashunin (2020)</span>
<span class="ltx_bibblock">
Malkov, Y.A., Yashunin, D.A., 2020.

</span>
<span class="ltx_bibblock">Efficient and Robust Approximate Nearest Neighbor Search Using Hierarchical Navigable Small World Graphs.

</span>
<span class="ltx_bibblock">IEEE Transactions on Pattern Analysis and Machine Intelligence 42, 824–836.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1109/TPAMI.2018.2889473" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1109/TPAMI.2018.2889473</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Narayanan et al. (2021)</span>
<span class="ltx_bibblock">
Narayanan, D., Shoeybi, M., Casper, J., LeGresley, P., Patwary, M., Korthikanti, V., Vainbrand, D., Kashinkunti, P., Bernauer, J., Catanzaro, B., Phanishayee, A., Zaharia, M., 2021.

</span>
<span class="ltx_bibblock">Efficient large-scale language model training on GPU clusters using Megatron-LM, in: Proceedings of the International Conference for High Performance Computing, Networking, Storage and Analysis.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1145/3458817.3476209" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1145/3458817.3476209</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Parvez et al. (2021)</span>
<span class="ltx_bibblock">
Parvez, M.R., Ahmad, W., Chakraborty, S., Ray, B., Chang, K.W., 2021.

</span>
<span class="ltx_bibblock">Retrieval Augmented Code Generation and Summarization, in: Findings of the Association for Computational Linguistics: EMNLP, pp. 2719–2734.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2021.findings-emnlp.232" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2021.findings-emnlp.232</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Patwardhan et al. (2023)</span>
<span class="ltx_bibblock">
Patwardhan, N., Marrone, S., Sansone, C., 2023.

</span>
<span class="ltx_bibblock">Transformers in the Real World: A Survey on NLP Applications.

</span>
<span class="ltx_bibblock">Information 14.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.3390/info14040242" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.3390/info14040242</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Press and Wolf (2017)</span>
<span class="ltx_bibblock">
Press, O., Wolf, L., 2017.

</span>
<span class="ltx_bibblock">Using the Output Embedding to Improve Language Models, in: Proceedings of the 15th Conference of the European Chapter of the Association for Computational Linguistics: Volume 2, Short Papers, pp. 157–163.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2019)</span>
<span class="ltx_bibblock">
Radford, A., Wu, J., Child, R., Luan, D., Amodei, D., Sutskever, I., 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock">OpenAI blog 1, 9.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ram, O., Levine, Y., Dalmedigos, I., Muhlgay, D., Shashua, A., Leyton-Brown, K., Shoham, Y., 2023.

</span>
<span class="ltx_bibblock">In-Context Retrieval-Augmented Language Models.

</span>
<span class="ltx_bibblock">Transactions of the Association for Computational Linguistics 11, 1316–1331.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1162/tacl_a_00605" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1162/tacl_a_00605</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rozière et al. (2024)</span>
<span class="ltx_bibblock">
Rozière, B., Gehring, J., Gloeckle, F., Sootla, S., Gat, I., Tan, X.E., Adi, Y., Liu, J., Sauvestre, R., Remez, T., Rapin, J., Kozhevnikov, A., Evtimov, I., Bitton, J., Bhatt, M., Ferrer, C.C., Grattafiori, A., Xiong, W., Défossez, A., Copet, J., Azhar, F., Touvron, H., Martin, L., Usunier, N., Scialom, T., Synnaeve, G., 2024.

</span>
<span class="ltx_bibblock">Code Llama: Open Foundation Models for Code.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2308.12950" title="">arXiv:2308.12950</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Semenkin et al. (2024)</span>
<span class="ltx_bibblock">
Semenkin, A., Sokolov, Y., Vu, E., 2024.

</span>
<span class="ltx_bibblock">Context Composing for Full Line Code Completion, in: The IDE Workshop at the 46th International Conference on Software Engineering.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sennrich et al. (2016)</span>
<span class="ltx_bibblock">
Sennrich, R., Haddow, B., Birch, A., 2016.

</span>
<span class="ltx_bibblock">Neural Machine Translation of Rare Words with Subword Units, in: Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), pp. 1715–1725.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/P16-1162" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/P16-1162</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shapkin et al. (2024)</span>
<span class="ltx_bibblock">
Shapkin, A., Litvinov, D., Zharov, Y., Bogomolov, E., Galimzyanov, T., Bryksin, T., 2024.

</span>
<span class="ltx_bibblock">Dynamic Retrieval-Augmented Generation.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2312.08976" title="">arXiv:2312.08976</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shazeer (2020)</span>
<span class="ltx_bibblock">
Shazeer, N., 2020.

</span>
<span class="ltx_bibblock">GLU Variants Improve Transformer.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2002.05202" title="">arXiv:2002.05202</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shrivastava et al. (2023)</span>
<span class="ltx_bibblock">
Shrivastava, D., Larochelle, H., Tarlow, D., 2023.

</span>
<span class="ltx_bibblock">Repository-Level Prompt Generation for Large Language Models of Code, in: Proceedings of the 40th International Conference on Machine Learning, pp. 31693–31715.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2024)</span>
<span class="ltx_bibblock">
Su, J., Ahmed, M., Lu, Y., Pan, S., Bo, W., Liu, Y., 2024.

</span>
<span class="ltx_bibblock">RoFormer: Enhanced transformer with Rotary Position Embedding.

</span>
<span class="ltx_bibblock">Neurocomputing 568, 127063.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.1016/j.neucom.2023.127063" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.1016/j.neucom.2023.127063</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Touvron, H., Lavril, T., Izacard, G., Martinet, X., Lachaux, M.A., Lacroix, T., Rozière, B., Goyal, N., Hambro, E., Azhar, F., Rodriguez, A., Joulin, A., Grave, E., Lample, G., 2023.

</span>
<span class="ltx_bibblock">LLaMA: Open and Efficient Foundation Language Models.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href ltx_font_typewriter" href="http://arxiv.org/abs/2302.13971" title="">arXiv:2302.13971</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A.N., Kaiser, L., Polosukhin, I., 2017.

</span>
<span class="ltx_bibblock">Attention is all you need, in: Proceedings of the 31st International Conference on Neural Information Processing Systems, p. 6000–6010.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023a)</span>
<span class="ltx_bibblock">
Wang, B., Ping, W., Xu, P., McAfee, L., Liu, Z., Shoeybi, M., Dong, Y., Kuchaiev, O., Li, B., Xiao, C., Anandkumar, A., Catanzaro, B., 2023a.

</span>
<span class="ltx_bibblock">Shall We Pretrain Autoregressive Language Models with Retrieval? A Comprehensive Study, in: Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, pp. 7763–7786.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2023.emnlp-main.482" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2023.emnlp-main.482</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023b)</span>
<span class="ltx_bibblock">
Wang, Y., Le, H., Gotmare, A., Bui, N., Li, J., Hoi, S., 2023b.

</span>
<span class="ltx_bibblock">CodeT5+: Open Code Large Language Models for Code Understanding and Generation, in: Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, pp. 1069–1088.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2023.emnlp-main.68" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2023.emnlp-main.68</span></a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2024)</span>
<span class="ltx_bibblock">
Wu, D., Ahmad, W., Zhang, D., Ramanathan, M.K., Ma, X., 2024.

</span>
<span class="ltx_bibblock">REPOFORMER: Selective retrieval for repository-level code completion, in: ICML 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023a)</span>
<span class="ltx_bibblock">
Zhang, A., Lipton, Z.C., Li, M., Smola, A.J., 2023a.

</span>
<span class="ltx_bibblock">Dive into Deep Learning.

</span>
<span class="ltx_bibblock">Cambridge University Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023b)</span>
<span class="ltx_bibblock">
Zhang, F., Chen, B., Zhang, Y., Keung, J., Liu, J., Zan, D., Mao, Y., Lou, J.G., Chen, W., 2023b.

</span>
<span class="ltx_bibblock">RepoCoder: Repository-Level Code Completion Through Iterative Retrieval and Generation, in: Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, pp. 2471–2484.

</span>
<span class="ltx_bibblock">doi:<a class="ltx_ref ltx_href" href="http://dx.doi.org/https://doi.org/10.18653/v1/2023.emnlp-main.151" title=""><span class="ltx_ref ltx_nolink ltx_path ltx_font_typewriter">https://doi.org/10.18653/v1/2023.emnlp-main.151</span></a>.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug  9 12:23:01 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
