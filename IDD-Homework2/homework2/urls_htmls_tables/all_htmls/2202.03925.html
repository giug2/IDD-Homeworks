<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2202.03925] Learnings from Federated Learning in the Real world</title><meta property="og:description" content="Federated Learning (FL) applied to real world data may suffer from several idiosyncrasies. One such idiosyncrasy is the data distribution across devices.
Data across devices could be distributed such that there are som…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learnings from Federated Learning in the Real world">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Learnings from Federated Learning in the Real world">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2202.03925">

<!--Generated on Thu Mar  7 19:22:50 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Learnings from Federated Learning in the Real world</h1>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated Learning (FL) applied to real world data may suffer from several idiosyncrasies. One such idiosyncrasy is the data distribution across devices.
Data across devices could be distributed such that there are some “heavy devices” with large amounts of data while there are many “light users” with only a handful of data points.
There also exists heterogeneity of data across devices.
In this study, we evaluate the impact of such idiosyncrasies on Natural Language Understanding (NLU) models trained using FL.
We conduct experiments on data obtained from a large scale NLU system serving thousands of devices and show that simple non-uniform device selection based on the number of interactions at each round of FL training boosts the performance of the model.
This benefit is further amplified in continual FL on consecutive time periods, where non-uniform sampling manages to swiftly catch up with FL methods using all data at once.</p>
</div>
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Index Terms<span id="p1.1.1.1" class="ltx_text ltx_font_upright">— </span></span>
Federated Learning, NLU</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Deep neural networks have shown great promise in a variety of application domains. The data required for training these models is often generated via devices interaction with edge devices. In a traditional training framework, the data is sent to a central server, where the model gets trained and periodically deployed on the edge devices. The desire to strengthen data privacy and security has driven a surge of interest in developing training methodologies that can operate on local data that is not transmitted to the cloud. A promising framework is Federated Learning (FL), where each device performs local training using its own data and only sends updated model parameters to the server. The server aggregates these updates to build the new model and sends the latest model back to each device.
In order to provide an FL solution that scales to millions of users, in most algorithms (e.g., <span id="S1.p1.1.1" class="ltx_text ltx_font_typewriter">FedAVG</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>), the central server first selects a subset of devices uniformly at random, then computes a weighted average of their parameter updates to construct the global model. In real world scenarios with heterogeneous users, the contribution of different devices might significantly vary and uniform sampling might not provide the best strategy. As such, device selection for model aggregation is a critical component of FL algorithms.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Most recent works that study device selection in FL (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>) have focused on gradient-based methods, in which the local updates of the devices are compared to decide the selection and aggregation. These methods require the computations to be carried out across all devices in each round. In this paper, we investigate simpler device selection processes that are based on “device activity” (i.e. selecting devices based on their number of available training samples). Given the FL server already has access to this information, no additional computation/communication overhead is incurred.
We also study temporal effects of training data in FL, and look at how different device selection and training strategies affect the performance of the model. Most FL papers present results on “static” datasets where the time dimension is ignored. 
<br class="ltx_break"><span id="S1.p2.1.1" class="ltx_text ltx_font_bold">Our contributions:</span>
(1) we present the first study of simple device selection based on device activity applied to real-world data, exploring several sampling strategies and show that non-uniform sampling outperforms standard uniform sampling;
(2) we study continual FL to investigate the realistic temporal aspects of FL and address limited data storage on-device. We demonstrate that non-uniform strategies combined with continual learning swiftly catches up with FL methods using all data at once (at the expense of longer delays between updates).</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Standard FL algorithms such as <span id="S2.p1.1.1" class="ltx_text ltx_font_typewriter">FedAVG</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> and <span id="S2.p1.1.2" class="ltx_text ltx_font_typewriter">FedOpt</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>) have been widely studied.
<span id="S2.p1.1.3" class="ltx_text ltx_font_typewriter">FedAVG</span> has been proved to converge under a large set of assumptions (e.g., non- I.I.D. data distributions) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
The performance of these algorithms has been evaluated in CV (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>), NLP (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>), and graph-structured data (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>).
Recently, several works have looked at leveraging the results of previous local device update to compute the sampling probability for the next round.
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> propose a probability based on the “importance” of each device, which is mostly determined by the norm of the latest local update.
In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, the authors show that sampling devices with higher losses leads to faster convergence compared to vanilla <span id="S2.p1.1.4" class="ltx_text ltx_font_typewriter">FedAVG</span>. Similarly, other methods leverage the latest local gradients to update the device sampling probability <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. These methods require all the devices to perform local updates which increases the communication overhead. Continual learning (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>) has become increasingly important for learning across a sequence of rounds and tasks.
More recently, continual learning has also been modeled in FL to study how one can leverage learned knowledge from different devices with different tasks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.
In this work, we focus on temporal aspects of continual FL, meaning leveraging the knowledge from past interactions in the future training.</p>
</div>
<figure id="S2.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2202.03925/assets/FL_rel_bar_one_shot_FedAVG_all_10k.png" id="S2.F1.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="160" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.sf1.6.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S2.F1.sf1.7.2" class="ltx_text ltx_font_italic" style="font-size:90%;">One-shot FL<span id="S2.F1.sf1.7.2.1" class="ltx_text ltx_font_upright">. <span id="S2.F1.sf1.7.2.1.1" class="ltx_text ltx_font_bold">Left</span>: 3 months; <span id="S2.F1.sf1.7.2.1.2" class="ltx_text ltx_font_bold">middle</span>: 6 months; <span id="S2.F1.sf1.7.2.1.3" class="ltx_text ltx_font_bold">right</span>: 11 months.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2202.03925/assets/FL_rel_barFedOpt_10k_temp.png" id="S2.F1.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="399" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S2.F1.sf2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Continual FL<span id="S2.F1.sf2.4.2.1" class="ltx_text ltx_font_upright">. Performance after each of the 3 time periods P1, P2, P3.</span></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.9.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Fig. 1</span>: </span><span id="S2.F1.4.2" class="ltx_text" style="font-size:90%;">
RCP compared to the the baseline model on the whole test set.
(<a href="#S2.F1.sf1" title="Figure 1(a) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(a)</span></a>) Baseline: standard <span id="S2.F1.4.2.1" class="ltx_text ltx_font_typewriter">FedAVG</span> (<math id="S2.F1.3.1.m1.1" class="ltx_Math" alttext="f(x)=1" display="inline"><semantics id="S2.F1.3.1.m1.1b"><mrow id="S2.F1.3.1.m1.1.2" xref="S2.F1.3.1.m1.1.2.cmml"><mrow id="S2.F1.3.1.m1.1.2.2" xref="S2.F1.3.1.m1.1.2.2.cmml"><mi id="S2.F1.3.1.m1.1.2.2.2" xref="S2.F1.3.1.m1.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.F1.3.1.m1.1.2.2.1" xref="S2.F1.3.1.m1.1.2.2.1.cmml">​</mo><mrow id="S2.F1.3.1.m1.1.2.2.3.2" xref="S2.F1.3.1.m1.1.2.2.cmml"><mo stretchy="false" id="S2.F1.3.1.m1.1.2.2.3.2.1" xref="S2.F1.3.1.m1.1.2.2.cmml">(</mo><mi id="S2.F1.3.1.m1.1.1" xref="S2.F1.3.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S2.F1.3.1.m1.1.2.2.3.2.2" xref="S2.F1.3.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S2.F1.3.1.m1.1.2.1" xref="S2.F1.3.1.m1.1.2.1.cmml">=</mo><mn id="S2.F1.3.1.m1.1.2.3" xref="S2.F1.3.1.m1.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F1.3.1.m1.1c"><apply id="S2.F1.3.1.m1.1.2.cmml" xref="S2.F1.3.1.m1.1.2"><eq id="S2.F1.3.1.m1.1.2.1.cmml" xref="S2.F1.3.1.m1.1.2.1"></eq><apply id="S2.F1.3.1.m1.1.2.2.cmml" xref="S2.F1.3.1.m1.1.2.2"><times id="S2.F1.3.1.m1.1.2.2.1.cmml" xref="S2.F1.3.1.m1.1.2.2.1"></times><ci id="S2.F1.3.1.m1.1.2.2.2.cmml" xref="S2.F1.3.1.m1.1.2.2.2">𝑓</ci><ci id="S2.F1.3.1.m1.1.1.cmml" xref="S2.F1.3.1.m1.1.1">𝑥</ci></apply><cn type="integer" id="S2.F1.3.1.m1.1.2.3.cmml" xref="S2.F1.3.1.m1.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.3.1.m1.1d">f(x)=1</annotation></semantics></math>) on 11 months of data; (<a href="#S2.F1.sf2" title="Figure 1(b) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(b)</span></a>) Baseline: <span id="S2.F1.4.2.2" class="ltx_text ltx_font_italic">one-shot FL</span> <span id="S2.F1.4.2.3" class="ltx_text ltx_font_typewriter">FedAVG</span> and <math id="S2.F1.4.2.m2.3" class="ltx_Math" alttext="f(x)=\log(x+1)" display="inline"><semantics id="S2.F1.4.2.m2.3b"><mrow id="S2.F1.4.2.m2.3.3" xref="S2.F1.4.2.m2.3.3.cmml"><mrow id="S2.F1.4.2.m2.3.3.3" xref="S2.F1.4.2.m2.3.3.3.cmml"><mi id="S2.F1.4.2.m2.3.3.3.2" xref="S2.F1.4.2.m2.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.F1.4.2.m2.3.3.3.1" xref="S2.F1.4.2.m2.3.3.3.1.cmml">​</mo><mrow id="S2.F1.4.2.m2.3.3.3.3.2" xref="S2.F1.4.2.m2.3.3.3.cmml"><mo stretchy="false" id="S2.F1.4.2.m2.3.3.3.3.2.1" xref="S2.F1.4.2.m2.3.3.3.cmml">(</mo><mi id="S2.F1.4.2.m2.1.1" xref="S2.F1.4.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S2.F1.4.2.m2.3.3.3.3.2.2" xref="S2.F1.4.2.m2.3.3.3.cmml">)</mo></mrow></mrow><mo id="S2.F1.4.2.m2.3.3.2" xref="S2.F1.4.2.m2.3.3.2.cmml">=</mo><mrow id="S2.F1.4.2.m2.3.3.1.1" xref="S2.F1.4.2.m2.3.3.1.2.cmml"><mi id="S2.F1.4.2.m2.2.2" xref="S2.F1.4.2.m2.2.2.cmml">log</mi><mo id="S2.F1.4.2.m2.3.3.1.1b" xref="S2.F1.4.2.m2.3.3.1.2.cmml">⁡</mo><mrow id="S2.F1.4.2.m2.3.3.1.1.1" xref="S2.F1.4.2.m2.3.3.1.2.cmml"><mo stretchy="false" id="S2.F1.4.2.m2.3.3.1.1.1.2" xref="S2.F1.4.2.m2.3.3.1.2.cmml">(</mo><mrow id="S2.F1.4.2.m2.3.3.1.1.1.1" xref="S2.F1.4.2.m2.3.3.1.1.1.1.cmml"><mi id="S2.F1.4.2.m2.3.3.1.1.1.1.2" xref="S2.F1.4.2.m2.3.3.1.1.1.1.2.cmml">x</mi><mo id="S2.F1.4.2.m2.3.3.1.1.1.1.1" xref="S2.F1.4.2.m2.3.3.1.1.1.1.1.cmml">+</mo><mn id="S2.F1.4.2.m2.3.3.1.1.1.1.3" xref="S2.F1.4.2.m2.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.F1.4.2.m2.3.3.1.1.1.3" xref="S2.F1.4.2.m2.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.F1.4.2.m2.3c"><apply id="S2.F1.4.2.m2.3.3.cmml" xref="S2.F1.4.2.m2.3.3"><eq id="S2.F1.4.2.m2.3.3.2.cmml" xref="S2.F1.4.2.m2.3.3.2"></eq><apply id="S2.F1.4.2.m2.3.3.3.cmml" xref="S2.F1.4.2.m2.3.3.3"><times id="S2.F1.4.2.m2.3.3.3.1.cmml" xref="S2.F1.4.2.m2.3.3.3.1"></times><ci id="S2.F1.4.2.m2.3.3.3.2.cmml" xref="S2.F1.4.2.m2.3.3.3.2">𝑓</ci><ci id="S2.F1.4.2.m2.1.1.cmml" xref="S2.F1.4.2.m2.1.1">𝑥</ci></apply><apply id="S2.F1.4.2.m2.3.3.1.2.cmml" xref="S2.F1.4.2.m2.3.3.1.1"><log id="S2.F1.4.2.m2.2.2.cmml" xref="S2.F1.4.2.m2.2.2"></log><apply id="S2.F1.4.2.m2.3.3.1.1.1.1.cmml" xref="S2.F1.4.2.m2.3.3.1.1.1.1"><plus id="S2.F1.4.2.m2.3.3.1.1.1.1.1.cmml" xref="S2.F1.4.2.m2.3.3.1.1.1.1.1"></plus><ci id="S2.F1.4.2.m2.3.3.1.1.1.1.2.cmml" xref="S2.F1.4.2.m2.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S2.F1.4.2.m2.3.3.1.1.1.1.3.cmml" xref="S2.F1.4.2.m2.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.4.2.m2.3d">f(x)=\log(x+1)</annotation></semantics></math> on 6 months.</span></figcaption>
</figure>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Problem Statement</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.24" class="ltx_p"><span id="S3.p1.24.1" class="ltx_text ltx_font_bold">Framework.</span>    
In standard machine learning, the central server stores the <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">n</annotation></semantics></math> user generated entries <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="X=(x_{i})_{i=1\ldots n}" display="inline"><semantics id="S3.p1.2.m2.1a"><mrow id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">X</mi><mo id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">=</mo><msub id="S3.p1.2.m2.1.1.1" xref="S3.p1.2.m2.1.1.1.cmml"><mrow id="S3.p1.2.m2.1.1.1.1.1" xref="S3.p1.2.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.2" xref="S3.p1.2.m2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.p1.2.m2.1.1.1.1.1.1" xref="S3.p1.2.m2.1.1.1.1.1.1.cmml"><mi id="S3.p1.2.m2.1.1.1.1.1.1.2" xref="S3.p1.2.m2.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.p1.2.m2.1.1.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.p1.2.m2.1.1.1.3" xref="S3.p1.2.m2.1.1.1.3.cmml"><mi id="S3.p1.2.m2.1.1.1.3.2" xref="S3.p1.2.m2.1.1.1.3.2.cmml">i</mi><mo id="S3.p1.2.m2.1.1.1.3.1" xref="S3.p1.2.m2.1.1.1.3.1.cmml">=</mo><mrow id="S3.p1.2.m2.1.1.1.3.3" xref="S3.p1.2.m2.1.1.1.3.3.cmml"><mn id="S3.p1.2.m2.1.1.1.3.3.2" xref="S3.p1.2.m2.1.1.1.3.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.p1.2.m2.1.1.1.3.3.1" xref="S3.p1.2.m2.1.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.p1.2.m2.1.1.1.3.3.3" xref="S3.p1.2.m2.1.1.1.3.3.3.cmml">…</mi><mo lspace="0em" rspace="0em" id="S3.p1.2.m2.1.1.1.3.3.1a" xref="S3.p1.2.m2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.p1.2.m2.1.1.1.3.3.4" xref="S3.p1.2.m2.1.1.1.3.3.4.cmml">n</mi></mrow></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><eq id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2"></eq><ci id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">𝑋</ci><apply id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1">subscript</csymbol><apply id="S3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.p1.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p1.2.m2.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.3"><eq id="S3.p1.2.m2.1.1.1.3.1.cmml" xref="S3.p1.2.m2.1.1.1.3.1"></eq><ci id="S3.p1.2.m2.1.1.1.3.2.cmml" xref="S3.p1.2.m2.1.1.1.3.2">𝑖</ci><apply id="S3.p1.2.m2.1.1.1.3.3.cmml" xref="S3.p1.2.m2.1.1.1.3.3"><times id="S3.p1.2.m2.1.1.1.3.3.1.cmml" xref="S3.p1.2.m2.1.1.1.3.3.1"></times><cn type="integer" id="S3.p1.2.m2.1.1.1.3.3.2.cmml" xref="S3.p1.2.m2.1.1.1.3.3.2">1</cn><ci id="S3.p1.2.m2.1.1.1.3.3.3.cmml" xref="S3.p1.2.m2.1.1.1.3.3.3">…</ci><ci id="S3.p1.2.m2.1.1.1.3.3.4.cmml" xref="S3.p1.2.m2.1.1.1.3.3.4">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">X=(x_{i})_{i=1\ldots n}</annotation></semantics></math> and the objective is to minimize the average loss <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S3.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">\mathcal{L}</annotation></semantics></math> over these <math id="S3.p1.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p1.4.m4.1a"><mi id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">n</annotation></semantics></math> inputs:
<math id="S3.p1.5.m5.4" class="ltx_Math" alttext="\min_{w}\mathcal{L}(X,w)=\frac{1}{n}\sum_{i=1}^{n}\ell(x_{i},w)" display="inline"><semantics id="S3.p1.5.m5.4a"><mrow id="S3.p1.5.m5.4.4" xref="S3.p1.5.m5.4.4.cmml"><mrow id="S3.p1.5.m5.4.4.3" xref="S3.p1.5.m5.4.4.3.cmml"><mrow id="S3.p1.5.m5.4.4.3.2" xref="S3.p1.5.m5.4.4.3.2.cmml"><msub id="S3.p1.5.m5.4.4.3.2.1" xref="S3.p1.5.m5.4.4.3.2.1.cmml"><mi id="S3.p1.5.m5.4.4.3.2.1.2" xref="S3.p1.5.m5.4.4.3.2.1.2.cmml">min</mi><mi id="S3.p1.5.m5.4.4.3.2.1.3" xref="S3.p1.5.m5.4.4.3.2.1.3.cmml">w</mi></msub><mo lspace="0.167em" id="S3.p1.5.m5.4.4.3.2a" xref="S3.p1.5.m5.4.4.3.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.p1.5.m5.4.4.3.2.2" xref="S3.p1.5.m5.4.4.3.2.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.p1.5.m5.4.4.3.1" xref="S3.p1.5.m5.4.4.3.1.cmml">​</mo><mrow id="S3.p1.5.m5.4.4.3.3.2" xref="S3.p1.5.m5.4.4.3.3.1.cmml"><mo stretchy="false" id="S3.p1.5.m5.4.4.3.3.2.1" xref="S3.p1.5.m5.4.4.3.3.1.cmml">(</mo><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">X</mi><mo id="S3.p1.5.m5.4.4.3.3.2.2" xref="S3.p1.5.m5.4.4.3.3.1.cmml">,</mo><mi id="S3.p1.5.m5.2.2" xref="S3.p1.5.m5.2.2.cmml">w</mi><mo stretchy="false" id="S3.p1.5.m5.4.4.3.3.2.3" xref="S3.p1.5.m5.4.4.3.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p1.5.m5.4.4.2" xref="S3.p1.5.m5.4.4.2.cmml">=</mo><mrow id="S3.p1.5.m5.4.4.1" xref="S3.p1.5.m5.4.4.1.cmml"><mfrac id="S3.p1.5.m5.4.4.1.3" xref="S3.p1.5.m5.4.4.1.3.cmml"><mn id="S3.p1.5.m5.4.4.1.3.2" xref="S3.p1.5.m5.4.4.1.3.2.cmml">1</mn><mi id="S3.p1.5.m5.4.4.1.3.3" xref="S3.p1.5.m5.4.4.1.3.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.5.m5.4.4.1.2" xref="S3.p1.5.m5.4.4.1.2.cmml">​</mo><mrow id="S3.p1.5.m5.4.4.1.1" xref="S3.p1.5.m5.4.4.1.1.cmml"><msubsup id="S3.p1.5.m5.4.4.1.1.2" xref="S3.p1.5.m5.4.4.1.1.2.cmml"><mo id="S3.p1.5.m5.4.4.1.1.2.2.2" xref="S3.p1.5.m5.4.4.1.1.2.2.2.cmml">∑</mo><mrow id="S3.p1.5.m5.4.4.1.1.2.2.3" xref="S3.p1.5.m5.4.4.1.1.2.2.3.cmml"><mi id="S3.p1.5.m5.4.4.1.1.2.2.3.2" xref="S3.p1.5.m5.4.4.1.1.2.2.3.2.cmml">i</mi><mo id="S3.p1.5.m5.4.4.1.1.2.2.3.1" xref="S3.p1.5.m5.4.4.1.1.2.2.3.1.cmml">=</mo><mn id="S3.p1.5.m5.4.4.1.1.2.2.3.3" xref="S3.p1.5.m5.4.4.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.p1.5.m5.4.4.1.1.2.3" xref="S3.p1.5.m5.4.4.1.1.2.3.cmml">n</mi></msubsup><mrow id="S3.p1.5.m5.4.4.1.1.1" xref="S3.p1.5.m5.4.4.1.1.1.cmml"><mi mathvariant="normal" id="S3.p1.5.m5.4.4.1.1.1.3" xref="S3.p1.5.m5.4.4.1.1.1.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.p1.5.m5.4.4.1.1.1.2" xref="S3.p1.5.m5.4.4.1.1.1.2.cmml">​</mo><mrow id="S3.p1.5.m5.4.4.1.1.1.1.1" xref="S3.p1.5.m5.4.4.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.5.m5.4.4.1.1.1.1.1.2" xref="S3.p1.5.m5.4.4.1.1.1.1.2.cmml">(</mo><msub id="S3.p1.5.m5.4.4.1.1.1.1.1.1" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1.cmml"><mi id="S3.p1.5.m5.4.4.1.1.1.1.1.1.2" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.p1.5.m5.4.4.1.1.1.1.1.1.3" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p1.5.m5.4.4.1.1.1.1.1.3" xref="S3.p1.5.m5.4.4.1.1.1.1.2.cmml">,</mo><mi id="S3.p1.5.m5.3.3" xref="S3.p1.5.m5.3.3.cmml">w</mi><mo stretchy="false" id="S3.p1.5.m5.4.4.1.1.1.1.1.4" xref="S3.p1.5.m5.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.4b"><apply id="S3.p1.5.m5.4.4.cmml" xref="S3.p1.5.m5.4.4"><eq id="S3.p1.5.m5.4.4.2.cmml" xref="S3.p1.5.m5.4.4.2"></eq><apply id="S3.p1.5.m5.4.4.3.cmml" xref="S3.p1.5.m5.4.4.3"><times id="S3.p1.5.m5.4.4.3.1.cmml" xref="S3.p1.5.m5.4.4.3.1"></times><apply id="S3.p1.5.m5.4.4.3.2.cmml" xref="S3.p1.5.m5.4.4.3.2"><apply id="S3.p1.5.m5.4.4.3.2.1.cmml" xref="S3.p1.5.m5.4.4.3.2.1"><csymbol cd="ambiguous" id="S3.p1.5.m5.4.4.3.2.1.1.cmml" xref="S3.p1.5.m5.4.4.3.2.1">subscript</csymbol><min id="S3.p1.5.m5.4.4.3.2.1.2.cmml" xref="S3.p1.5.m5.4.4.3.2.1.2"></min><ci id="S3.p1.5.m5.4.4.3.2.1.3.cmml" xref="S3.p1.5.m5.4.4.3.2.1.3">𝑤</ci></apply><ci id="S3.p1.5.m5.4.4.3.2.2.cmml" xref="S3.p1.5.m5.4.4.3.2.2">ℒ</ci></apply><interval closure="open" id="S3.p1.5.m5.4.4.3.3.1.cmml" xref="S3.p1.5.m5.4.4.3.3.2"><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝑋</ci><ci id="S3.p1.5.m5.2.2.cmml" xref="S3.p1.5.m5.2.2">𝑤</ci></interval></apply><apply id="S3.p1.5.m5.4.4.1.cmml" xref="S3.p1.5.m5.4.4.1"><times id="S3.p1.5.m5.4.4.1.2.cmml" xref="S3.p1.5.m5.4.4.1.2"></times><apply id="S3.p1.5.m5.4.4.1.3.cmml" xref="S3.p1.5.m5.4.4.1.3"><divide id="S3.p1.5.m5.4.4.1.3.1.cmml" xref="S3.p1.5.m5.4.4.1.3"></divide><cn type="integer" id="S3.p1.5.m5.4.4.1.3.2.cmml" xref="S3.p1.5.m5.4.4.1.3.2">1</cn><ci id="S3.p1.5.m5.4.4.1.3.3.cmml" xref="S3.p1.5.m5.4.4.1.3.3">𝑛</ci></apply><apply id="S3.p1.5.m5.4.4.1.1.cmml" xref="S3.p1.5.m5.4.4.1.1"><apply id="S3.p1.5.m5.4.4.1.1.2.cmml" xref="S3.p1.5.m5.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.p1.5.m5.4.4.1.1.2.1.cmml" xref="S3.p1.5.m5.4.4.1.1.2">superscript</csymbol><apply id="S3.p1.5.m5.4.4.1.1.2.2.cmml" xref="S3.p1.5.m5.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.p1.5.m5.4.4.1.1.2.2.1.cmml" xref="S3.p1.5.m5.4.4.1.1.2">subscript</csymbol><sum id="S3.p1.5.m5.4.4.1.1.2.2.2.cmml" xref="S3.p1.5.m5.4.4.1.1.2.2.2"></sum><apply id="S3.p1.5.m5.4.4.1.1.2.2.3.cmml" xref="S3.p1.5.m5.4.4.1.1.2.2.3"><eq id="S3.p1.5.m5.4.4.1.1.2.2.3.1.cmml" xref="S3.p1.5.m5.4.4.1.1.2.2.3.1"></eq><ci id="S3.p1.5.m5.4.4.1.1.2.2.3.2.cmml" xref="S3.p1.5.m5.4.4.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.p1.5.m5.4.4.1.1.2.2.3.3.cmml" xref="S3.p1.5.m5.4.4.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.p1.5.m5.4.4.1.1.2.3.cmml" xref="S3.p1.5.m5.4.4.1.1.2.3">𝑛</ci></apply><apply id="S3.p1.5.m5.4.4.1.1.1.cmml" xref="S3.p1.5.m5.4.4.1.1.1"><times id="S3.p1.5.m5.4.4.1.1.1.2.cmml" xref="S3.p1.5.m5.4.4.1.1.1.2"></times><ci id="S3.p1.5.m5.4.4.1.1.1.3.cmml" xref="S3.p1.5.m5.4.4.1.1.1.3">ℓ</ci><interval closure="open" id="S3.p1.5.m5.4.4.1.1.1.1.2.cmml" xref="S3.p1.5.m5.4.4.1.1.1.1.1"><apply id="S3.p1.5.m5.4.4.1.1.1.1.1.1.cmml" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m5.4.4.1.1.1.1.1.1.1.cmml" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.5.m5.4.4.1.1.1.1.1.1.2.cmml" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.p1.5.m5.4.4.1.1.1.1.1.1.3.cmml" xref="S3.p1.5.m5.4.4.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="S3.p1.5.m5.3.3.cmml" xref="S3.p1.5.m5.3.3">𝑤</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.4c">\min_{w}\mathcal{L}(X,w)=\frac{1}{n}\sum_{i=1}^{n}\ell(x_{i},w)</annotation></semantics></math>.
In practice, the number of inputs <math id="S3.p1.6.m6.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p1.6.m6.1a"><mi id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><ci id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">n</annotation></semantics></math> is large and <math id="S3.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S3.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><ci id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">\mathcal{L}</annotation></semantics></math> is minimized with stochastic gradient descent (SGD) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> where the gradient with respect to a random batch of inputs <math id="S3.p1.8.m8.1" class="ltx_Math" alttext="B_{t}" display="inline"><semantics id="S3.p1.8.m8.1a"><msub id="S3.p1.8.m8.1.1" xref="S3.p1.8.m8.1.1.cmml"><mi id="S3.p1.8.m8.1.1.2" xref="S3.p1.8.m8.1.1.2.cmml">B</mi><mi id="S3.p1.8.m8.1.1.3" xref="S3.p1.8.m8.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.8.m8.1b"><apply id="S3.p1.8.m8.1.1.cmml" xref="S3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m8.1.1.1.cmml" xref="S3.p1.8.m8.1.1">subscript</csymbol><ci id="S3.p1.8.m8.1.1.2.cmml" xref="S3.p1.8.m8.1.1.2">𝐵</ci><ci id="S3.p1.8.m8.1.1.3.cmml" xref="S3.p1.8.m8.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m8.1c">B_{t}</annotation></semantics></math> is used to update the parameters <math id="S3.p1.9.m9.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.p1.9.m9.1a"><mi id="S3.p1.9.m9.1.1" xref="S3.p1.9.m9.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.p1.9.m9.1b"><ci id="S3.p1.9.m9.1.1.cmml" xref="S3.p1.9.m9.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m9.1c">w</annotation></semantics></math>:
<math id="S3.p1.10.m10.4" class="ltx_Math" alttext="w_{t+1}=w_{t}-\eta\nabla_{w}\left(\frac{1}{|B_{t}|}\sum_{i\in B_{t}}\ell(x_{i},w)\right)" display="inline"><semantics id="S3.p1.10.m10.4a"><mrow id="S3.p1.10.m10.4.4" xref="S3.p1.10.m10.4.4.cmml"><msub id="S3.p1.10.m10.4.4.4" xref="S3.p1.10.m10.4.4.4.cmml"><mi id="S3.p1.10.m10.4.4.4.2" xref="S3.p1.10.m10.4.4.4.2.cmml">w</mi><mrow id="S3.p1.10.m10.4.4.4.3" xref="S3.p1.10.m10.4.4.4.3.cmml"><mi id="S3.p1.10.m10.4.4.4.3.2" xref="S3.p1.10.m10.4.4.4.3.2.cmml">t</mi><mo id="S3.p1.10.m10.4.4.4.3.1" xref="S3.p1.10.m10.4.4.4.3.1.cmml">+</mo><mn id="S3.p1.10.m10.4.4.4.3.3" xref="S3.p1.10.m10.4.4.4.3.3.cmml">1</mn></mrow></msub><mo id="S3.p1.10.m10.4.4.3" xref="S3.p1.10.m10.4.4.3.cmml">=</mo><mrow id="S3.p1.10.m10.4.4.2" xref="S3.p1.10.m10.4.4.2.cmml"><msub id="S3.p1.10.m10.4.4.2.4" xref="S3.p1.10.m10.4.4.2.4.cmml"><mi id="S3.p1.10.m10.4.4.2.4.2" xref="S3.p1.10.m10.4.4.2.4.2.cmml">w</mi><mi id="S3.p1.10.m10.4.4.2.4.3" xref="S3.p1.10.m10.4.4.2.4.3.cmml">t</mi></msub><mo id="S3.p1.10.m10.4.4.2.3" xref="S3.p1.10.m10.4.4.2.3.cmml">−</mo><mrow id="S3.p1.10.m10.4.4.2.2" xref="S3.p1.10.m10.4.4.2.2.cmml"><mi id="S3.p1.10.m10.4.4.2.2.4" xref="S3.p1.10.m10.4.4.2.2.4.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="S3.p1.10.m10.4.4.2.2.3" xref="S3.p1.10.m10.4.4.2.2.3.cmml">​</mo><mrow id="S3.p1.10.m10.4.4.2.2.2.2" xref="S3.p1.10.m10.4.4.2.2.2.3.cmml"><msub id="S3.p1.10.m10.3.3.1.1.1.1.1" xref="S3.p1.10.m10.3.3.1.1.1.1.1.cmml"><mo id="S3.p1.10.m10.3.3.1.1.1.1.1.2" xref="S3.p1.10.m10.3.3.1.1.1.1.1.2.cmml">∇</mo><mi id="S3.p1.10.m10.3.3.1.1.1.1.1.3" xref="S3.p1.10.m10.3.3.1.1.1.1.1.3.cmml">w</mi></msub><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2" xref="S3.p1.10.m10.4.4.2.2.2.3.cmml"><mo id="S3.p1.10.m10.4.4.2.2.2.2.2.2" xref="S3.p1.10.m10.4.4.2.2.2.3.cmml">(</mo><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.cmml"><mfrac id="S3.p1.10.m10.1.1" xref="S3.p1.10.m10.1.1.cmml"><mn id="S3.p1.10.m10.1.1.3" xref="S3.p1.10.m10.1.1.3.cmml">1</mn><mrow id="S3.p1.10.m10.1.1.1.1" xref="S3.p1.10.m10.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.10.m10.1.1.1.1.2" xref="S3.p1.10.m10.1.1.1.2.1.cmml">|</mo><msub id="S3.p1.10.m10.1.1.1.1.1" xref="S3.p1.10.m10.1.1.1.1.1.cmml"><mi id="S3.p1.10.m10.1.1.1.1.1.2" xref="S3.p1.10.m10.1.1.1.1.1.2.cmml">B</mi><mi id="S3.p1.10.m10.1.1.1.1.1.3" xref="S3.p1.10.m10.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.p1.10.m10.1.1.1.1.3" xref="S3.p1.10.m10.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.2.cmml">​</mo><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.cmml"><msub id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.cmml"><mo id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.2.cmml">∑</mo><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.cmml"><mi id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.2.cmml">i</mi><mo id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.1.cmml">∈</mo><msub id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.cmml"><mi id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.2.cmml">B</mi><mi id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.cmml"><mi mathvariant="normal" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.2.cmml">(</mo><msub id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.2" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.3" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.p1.10.m10.2.2" xref="S3.p1.10.m10.2.2.cmml">w</mi><mo stretchy="false" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.4" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.p1.10.m10.4.4.2.2.2.2.2.3" xref="S3.p1.10.m10.4.4.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.10.m10.4b"><apply id="S3.p1.10.m10.4.4.cmml" xref="S3.p1.10.m10.4.4"><eq id="S3.p1.10.m10.4.4.3.cmml" xref="S3.p1.10.m10.4.4.3"></eq><apply id="S3.p1.10.m10.4.4.4.cmml" xref="S3.p1.10.m10.4.4.4"><csymbol cd="ambiguous" id="S3.p1.10.m10.4.4.4.1.cmml" xref="S3.p1.10.m10.4.4.4">subscript</csymbol><ci id="S3.p1.10.m10.4.4.4.2.cmml" xref="S3.p1.10.m10.4.4.4.2">𝑤</ci><apply id="S3.p1.10.m10.4.4.4.3.cmml" xref="S3.p1.10.m10.4.4.4.3"><plus id="S3.p1.10.m10.4.4.4.3.1.cmml" xref="S3.p1.10.m10.4.4.4.3.1"></plus><ci id="S3.p1.10.m10.4.4.4.3.2.cmml" xref="S3.p1.10.m10.4.4.4.3.2">𝑡</ci><cn type="integer" id="S3.p1.10.m10.4.4.4.3.3.cmml" xref="S3.p1.10.m10.4.4.4.3.3">1</cn></apply></apply><apply id="S3.p1.10.m10.4.4.2.cmml" xref="S3.p1.10.m10.4.4.2"><minus id="S3.p1.10.m10.4.4.2.3.cmml" xref="S3.p1.10.m10.4.4.2.3"></minus><apply id="S3.p1.10.m10.4.4.2.4.cmml" xref="S3.p1.10.m10.4.4.2.4"><csymbol cd="ambiguous" id="S3.p1.10.m10.4.4.2.4.1.cmml" xref="S3.p1.10.m10.4.4.2.4">subscript</csymbol><ci id="S3.p1.10.m10.4.4.2.4.2.cmml" xref="S3.p1.10.m10.4.4.2.4.2">𝑤</ci><ci id="S3.p1.10.m10.4.4.2.4.3.cmml" xref="S3.p1.10.m10.4.4.2.4.3">𝑡</ci></apply><apply id="S3.p1.10.m10.4.4.2.2.cmml" xref="S3.p1.10.m10.4.4.2.2"><times id="S3.p1.10.m10.4.4.2.2.3.cmml" xref="S3.p1.10.m10.4.4.2.2.3"></times><ci id="S3.p1.10.m10.4.4.2.2.4.cmml" xref="S3.p1.10.m10.4.4.2.2.4">𝜂</ci><apply id="S3.p1.10.m10.4.4.2.2.2.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2"><apply id="S3.p1.10.m10.3.3.1.1.1.1.1.cmml" xref="S3.p1.10.m10.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m10.3.3.1.1.1.1.1.1.cmml" xref="S3.p1.10.m10.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.10.m10.3.3.1.1.1.1.1.2.cmml" xref="S3.p1.10.m10.3.3.1.1.1.1.1.2">∇</ci><ci id="S3.p1.10.m10.3.3.1.1.1.1.1.3.cmml" xref="S3.p1.10.m10.3.3.1.1.1.1.1.3">𝑤</ci></apply><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1"><times id="S3.p1.10.m10.4.4.2.2.2.2.2.1.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.2"></times><apply id="S3.p1.10.m10.1.1.cmml" xref="S3.p1.10.m10.1.1"><divide id="S3.p1.10.m10.1.1.2.cmml" xref="S3.p1.10.m10.1.1"></divide><cn type="integer" id="S3.p1.10.m10.1.1.3.cmml" xref="S3.p1.10.m10.1.1.3">1</cn><apply id="S3.p1.10.m10.1.1.1.2.cmml" xref="S3.p1.10.m10.1.1.1.1"><abs id="S3.p1.10.m10.1.1.1.2.1.cmml" xref="S3.p1.10.m10.1.1.1.1.2"></abs><apply id="S3.p1.10.m10.1.1.1.1.1.cmml" xref="S3.p1.10.m10.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m10.1.1.1.1.1.1.cmml" xref="S3.p1.10.m10.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.10.m10.1.1.1.1.1.2.cmml" xref="S3.p1.10.m10.1.1.1.1.1.2">𝐵</ci><ci id="S3.p1.10.m10.1.1.1.1.1.3.cmml" xref="S3.p1.10.m10.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1"><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2">subscript</csymbol><sum id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.2"></sum><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3"><in id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.1"></in><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.2">𝑖</ci><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3">subscript</csymbol><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.2">𝐵</ci><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1"><times id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.2"></times><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.3">ℓ</ci><interval closure="open" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1"><apply id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.p1.10.m10.4.4.2.2.2.2.2.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="S3.p1.10.m10.2.2.cmml" xref="S3.p1.10.m10.2.2">𝑤</ci></interval></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.10.m10.4c">w_{t+1}=w_{t}-\eta\nabla_{w}\left(\frac{1}{|B_{t}|}\sum_{i\in B_{t}}\ell(x_{i},w)\right)</annotation></semantics></math>.
In FL, the data is not available to the central server to generate random batches of data <math id="S3.p1.11.m11.1" class="ltx_Math" alttext="B_{t}" display="inline"><semantics id="S3.p1.11.m11.1a"><msub id="S3.p1.11.m11.1.1" xref="S3.p1.11.m11.1.1.cmml"><mi id="S3.p1.11.m11.1.1.2" xref="S3.p1.11.m11.1.1.2.cmml">B</mi><mi id="S3.p1.11.m11.1.1.3" xref="S3.p1.11.m11.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.11.m11.1b"><apply id="S3.p1.11.m11.1.1.cmml" xref="S3.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.p1.11.m11.1.1.1.cmml" xref="S3.p1.11.m11.1.1">subscript</csymbol><ci id="S3.p1.11.m11.1.1.2.cmml" xref="S3.p1.11.m11.1.1.2">𝐵</ci><ci id="S3.p1.11.m11.1.1.3.cmml" xref="S3.p1.11.m11.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.11.m11.1c">B_{t}</annotation></semantics></math>. If each of the <math id="S3.p1.12.m12.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.p1.12.m12.1a"><mi id="S3.p1.12.m12.1.1" xref="S3.p1.12.m12.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.p1.12.m12.1b"><ci id="S3.p1.12.m12.1.1.cmml" xref="S3.p1.12.m12.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.12.m12.1c">M</annotation></semantics></math> devices contains <math id="S3.p1.13.m13.1" class="ltx_Math" alttext="X^{m}\subset X" display="inline"><semantics id="S3.p1.13.m13.1a"><mrow id="S3.p1.13.m13.1.1" xref="S3.p1.13.m13.1.1.cmml"><msup id="S3.p1.13.m13.1.1.2" xref="S3.p1.13.m13.1.1.2.cmml"><mi id="S3.p1.13.m13.1.1.2.2" xref="S3.p1.13.m13.1.1.2.2.cmml">X</mi><mi id="S3.p1.13.m13.1.1.2.3" xref="S3.p1.13.m13.1.1.2.3.cmml">m</mi></msup><mo id="S3.p1.13.m13.1.1.1" xref="S3.p1.13.m13.1.1.1.cmml">⊂</mo><mi id="S3.p1.13.m13.1.1.3" xref="S3.p1.13.m13.1.1.3.cmml">X</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.13.m13.1b"><apply id="S3.p1.13.m13.1.1.cmml" xref="S3.p1.13.m13.1.1"><subset id="S3.p1.13.m13.1.1.1.cmml" xref="S3.p1.13.m13.1.1.1"></subset><apply id="S3.p1.13.m13.1.1.2.cmml" xref="S3.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S3.p1.13.m13.1.1.2.1.cmml" xref="S3.p1.13.m13.1.1.2">superscript</csymbol><ci id="S3.p1.13.m13.1.1.2.2.cmml" xref="S3.p1.13.m13.1.1.2.2">𝑋</ci><ci id="S3.p1.13.m13.1.1.2.3.cmml" xref="S3.p1.13.m13.1.1.2.3">𝑚</ci></apply><ci id="S3.p1.13.m13.1.1.3.cmml" xref="S3.p1.13.m13.1.1.3">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.13.m13.1c">X^{m}\subset X</annotation></semantics></math> inputs with <math id="S3.p1.14.m14.1" class="ltx_Math" alttext="|X^{m}|=n_{m}" display="inline"><semantics id="S3.p1.14.m14.1a"><mrow id="S3.p1.14.m14.1.1" xref="S3.p1.14.m14.1.1.cmml"><mrow id="S3.p1.14.m14.1.1.1.1" xref="S3.p1.14.m14.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.14.m14.1.1.1.1.2" xref="S3.p1.14.m14.1.1.1.2.1.cmml">|</mo><msup id="S3.p1.14.m14.1.1.1.1.1" xref="S3.p1.14.m14.1.1.1.1.1.cmml"><mi id="S3.p1.14.m14.1.1.1.1.1.2" xref="S3.p1.14.m14.1.1.1.1.1.2.cmml">X</mi><mi id="S3.p1.14.m14.1.1.1.1.1.3" xref="S3.p1.14.m14.1.1.1.1.1.3.cmml">m</mi></msup><mo stretchy="false" id="S3.p1.14.m14.1.1.1.1.3" xref="S3.p1.14.m14.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.p1.14.m14.1.1.2" xref="S3.p1.14.m14.1.1.2.cmml">=</mo><msub id="S3.p1.14.m14.1.1.3" xref="S3.p1.14.m14.1.1.3.cmml"><mi id="S3.p1.14.m14.1.1.3.2" xref="S3.p1.14.m14.1.1.3.2.cmml">n</mi><mi id="S3.p1.14.m14.1.1.3.3" xref="S3.p1.14.m14.1.1.3.3.cmml">m</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.14.m14.1b"><apply id="S3.p1.14.m14.1.1.cmml" xref="S3.p1.14.m14.1.1"><eq id="S3.p1.14.m14.1.1.2.cmml" xref="S3.p1.14.m14.1.1.2"></eq><apply id="S3.p1.14.m14.1.1.1.2.cmml" xref="S3.p1.14.m14.1.1.1.1"><abs id="S3.p1.14.m14.1.1.1.2.1.cmml" xref="S3.p1.14.m14.1.1.1.1.2"></abs><apply id="S3.p1.14.m14.1.1.1.1.1.cmml" xref="S3.p1.14.m14.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.14.m14.1.1.1.1.1.1.cmml" xref="S3.p1.14.m14.1.1.1.1.1">superscript</csymbol><ci id="S3.p1.14.m14.1.1.1.1.1.2.cmml" xref="S3.p1.14.m14.1.1.1.1.1.2">𝑋</ci><ci id="S3.p1.14.m14.1.1.1.1.1.3.cmml" xref="S3.p1.14.m14.1.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S3.p1.14.m14.1.1.3.cmml" xref="S3.p1.14.m14.1.1.3"><csymbol cd="ambiguous" id="S3.p1.14.m14.1.1.3.1.cmml" xref="S3.p1.14.m14.1.1.3">subscript</csymbol><ci id="S3.p1.14.m14.1.1.3.2.cmml" xref="S3.p1.14.m14.1.1.3.2">𝑛</ci><ci id="S3.p1.14.m14.1.1.3.3.cmml" xref="S3.p1.14.m14.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.14.m14.1c">|X^{m}|=n_{m}</annotation></semantics></math>, <math id="S3.p1.15.m15.3" class="ltx_Math" alttext="m=1,\ldots,M" display="inline"><semantics id="S3.p1.15.m15.3a"><mrow id="S3.p1.15.m15.3.4" xref="S3.p1.15.m15.3.4.cmml"><mi id="S3.p1.15.m15.3.4.2" xref="S3.p1.15.m15.3.4.2.cmml">m</mi><mo id="S3.p1.15.m15.3.4.1" xref="S3.p1.15.m15.3.4.1.cmml">=</mo><mrow id="S3.p1.15.m15.3.4.3.2" xref="S3.p1.15.m15.3.4.3.1.cmml"><mn id="S3.p1.15.m15.1.1" xref="S3.p1.15.m15.1.1.cmml">1</mn><mo id="S3.p1.15.m15.3.4.3.2.1" xref="S3.p1.15.m15.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.p1.15.m15.2.2" xref="S3.p1.15.m15.2.2.cmml">…</mi><mo id="S3.p1.15.m15.3.4.3.2.2" xref="S3.p1.15.m15.3.4.3.1.cmml">,</mo><mi id="S3.p1.15.m15.3.3" xref="S3.p1.15.m15.3.3.cmml">M</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.15.m15.3b"><apply id="S3.p1.15.m15.3.4.cmml" xref="S3.p1.15.m15.3.4"><eq id="S3.p1.15.m15.3.4.1.cmml" xref="S3.p1.15.m15.3.4.1"></eq><ci id="S3.p1.15.m15.3.4.2.cmml" xref="S3.p1.15.m15.3.4.2">𝑚</ci><list id="S3.p1.15.m15.3.4.3.1.cmml" xref="S3.p1.15.m15.3.4.3.2"><cn type="integer" id="S3.p1.15.m15.1.1.cmml" xref="S3.p1.15.m15.1.1">1</cn><ci id="S3.p1.15.m15.2.2.cmml" xref="S3.p1.15.m15.2.2">…</ci><ci id="S3.p1.15.m15.3.3.cmml" xref="S3.p1.15.m15.3.3">𝑀</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.15.m15.3c">m=1,\ldots,M</annotation></semantics></math>, the central objective can be rewritten:
<math id="S3.p1.16.m16.4" class="ltx_Math" alttext="\mathcal{L}(X,w)=\frac{1}{n}\sum_{m=1}^{M}n_{m}\mathcal{L}^{m}(X^{m},w)" display="inline"><semantics id="S3.p1.16.m16.4a"><mrow id="S3.p1.16.m16.4.4" xref="S3.p1.16.m16.4.4.cmml"><mrow id="S3.p1.16.m16.4.4.3" xref="S3.p1.16.m16.4.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.16.m16.4.4.3.2" xref="S3.p1.16.m16.4.4.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S3.p1.16.m16.4.4.3.1" xref="S3.p1.16.m16.4.4.3.1.cmml">​</mo><mrow id="S3.p1.16.m16.4.4.3.3.2" xref="S3.p1.16.m16.4.4.3.3.1.cmml"><mo stretchy="false" id="S3.p1.16.m16.4.4.3.3.2.1" xref="S3.p1.16.m16.4.4.3.3.1.cmml">(</mo><mi id="S3.p1.16.m16.1.1" xref="S3.p1.16.m16.1.1.cmml">X</mi><mo id="S3.p1.16.m16.4.4.3.3.2.2" xref="S3.p1.16.m16.4.4.3.3.1.cmml">,</mo><mi id="S3.p1.16.m16.2.2" xref="S3.p1.16.m16.2.2.cmml">w</mi><mo stretchy="false" id="S3.p1.16.m16.4.4.3.3.2.3" xref="S3.p1.16.m16.4.4.3.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p1.16.m16.4.4.2" xref="S3.p1.16.m16.4.4.2.cmml">=</mo><mrow id="S3.p1.16.m16.4.4.1" xref="S3.p1.16.m16.4.4.1.cmml"><mfrac id="S3.p1.16.m16.4.4.1.3" xref="S3.p1.16.m16.4.4.1.3.cmml"><mn id="S3.p1.16.m16.4.4.1.3.2" xref="S3.p1.16.m16.4.4.1.3.2.cmml">1</mn><mi id="S3.p1.16.m16.4.4.1.3.3" xref="S3.p1.16.m16.4.4.1.3.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.16.m16.4.4.1.2" xref="S3.p1.16.m16.4.4.1.2.cmml">​</mo><mrow id="S3.p1.16.m16.4.4.1.1" xref="S3.p1.16.m16.4.4.1.1.cmml"><msubsup id="S3.p1.16.m16.4.4.1.1.2" xref="S3.p1.16.m16.4.4.1.1.2.cmml"><mo id="S3.p1.16.m16.4.4.1.1.2.2.2" xref="S3.p1.16.m16.4.4.1.1.2.2.2.cmml">∑</mo><mrow id="S3.p1.16.m16.4.4.1.1.2.2.3" xref="S3.p1.16.m16.4.4.1.1.2.2.3.cmml"><mi id="S3.p1.16.m16.4.4.1.1.2.2.3.2" xref="S3.p1.16.m16.4.4.1.1.2.2.3.2.cmml">m</mi><mo id="S3.p1.16.m16.4.4.1.1.2.2.3.1" xref="S3.p1.16.m16.4.4.1.1.2.2.3.1.cmml">=</mo><mn id="S3.p1.16.m16.4.4.1.1.2.2.3.3" xref="S3.p1.16.m16.4.4.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.p1.16.m16.4.4.1.1.2.3" xref="S3.p1.16.m16.4.4.1.1.2.3.cmml">M</mi></msubsup><mrow id="S3.p1.16.m16.4.4.1.1.1" xref="S3.p1.16.m16.4.4.1.1.1.cmml"><msub id="S3.p1.16.m16.4.4.1.1.1.3" xref="S3.p1.16.m16.4.4.1.1.1.3.cmml"><mi id="S3.p1.16.m16.4.4.1.1.1.3.2" xref="S3.p1.16.m16.4.4.1.1.1.3.2.cmml">n</mi><mi id="S3.p1.16.m16.4.4.1.1.1.3.3" xref="S3.p1.16.m16.4.4.1.1.1.3.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.p1.16.m16.4.4.1.1.1.2" xref="S3.p1.16.m16.4.4.1.1.1.2.cmml">​</mo><msup id="S3.p1.16.m16.4.4.1.1.1.4" xref="S3.p1.16.m16.4.4.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.16.m16.4.4.1.1.1.4.2" xref="S3.p1.16.m16.4.4.1.1.1.4.2.cmml">ℒ</mi><mi id="S3.p1.16.m16.4.4.1.1.1.4.3" xref="S3.p1.16.m16.4.4.1.1.1.4.3.cmml">m</mi></msup><mo lspace="0em" rspace="0em" id="S3.p1.16.m16.4.4.1.1.1.2a" xref="S3.p1.16.m16.4.4.1.1.1.2.cmml">​</mo><mrow id="S3.p1.16.m16.4.4.1.1.1.1.1" xref="S3.p1.16.m16.4.4.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.16.m16.4.4.1.1.1.1.1.2" xref="S3.p1.16.m16.4.4.1.1.1.1.2.cmml">(</mo><msup id="S3.p1.16.m16.4.4.1.1.1.1.1.1" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1.cmml"><mi id="S3.p1.16.m16.4.4.1.1.1.1.1.1.2" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1.2.cmml">X</mi><mi id="S3.p1.16.m16.4.4.1.1.1.1.1.1.3" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1.3.cmml">m</mi></msup><mo id="S3.p1.16.m16.4.4.1.1.1.1.1.3" xref="S3.p1.16.m16.4.4.1.1.1.1.2.cmml">,</mo><mi id="S3.p1.16.m16.3.3" xref="S3.p1.16.m16.3.3.cmml">w</mi><mo stretchy="false" id="S3.p1.16.m16.4.4.1.1.1.1.1.4" xref="S3.p1.16.m16.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.16.m16.4b"><apply id="S3.p1.16.m16.4.4.cmml" xref="S3.p1.16.m16.4.4"><eq id="S3.p1.16.m16.4.4.2.cmml" xref="S3.p1.16.m16.4.4.2"></eq><apply id="S3.p1.16.m16.4.4.3.cmml" xref="S3.p1.16.m16.4.4.3"><times id="S3.p1.16.m16.4.4.3.1.cmml" xref="S3.p1.16.m16.4.4.3.1"></times><ci id="S3.p1.16.m16.4.4.3.2.cmml" xref="S3.p1.16.m16.4.4.3.2">ℒ</ci><interval closure="open" id="S3.p1.16.m16.4.4.3.3.1.cmml" xref="S3.p1.16.m16.4.4.3.3.2"><ci id="S3.p1.16.m16.1.1.cmml" xref="S3.p1.16.m16.1.1">𝑋</ci><ci id="S3.p1.16.m16.2.2.cmml" xref="S3.p1.16.m16.2.2">𝑤</ci></interval></apply><apply id="S3.p1.16.m16.4.4.1.cmml" xref="S3.p1.16.m16.4.4.1"><times id="S3.p1.16.m16.4.4.1.2.cmml" xref="S3.p1.16.m16.4.4.1.2"></times><apply id="S3.p1.16.m16.4.4.1.3.cmml" xref="S3.p1.16.m16.4.4.1.3"><divide id="S3.p1.16.m16.4.4.1.3.1.cmml" xref="S3.p1.16.m16.4.4.1.3"></divide><cn type="integer" id="S3.p1.16.m16.4.4.1.3.2.cmml" xref="S3.p1.16.m16.4.4.1.3.2">1</cn><ci id="S3.p1.16.m16.4.4.1.3.3.cmml" xref="S3.p1.16.m16.4.4.1.3.3">𝑛</ci></apply><apply id="S3.p1.16.m16.4.4.1.1.cmml" xref="S3.p1.16.m16.4.4.1.1"><apply id="S3.p1.16.m16.4.4.1.1.2.cmml" xref="S3.p1.16.m16.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.p1.16.m16.4.4.1.1.2.1.cmml" xref="S3.p1.16.m16.4.4.1.1.2">superscript</csymbol><apply id="S3.p1.16.m16.4.4.1.1.2.2.cmml" xref="S3.p1.16.m16.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.p1.16.m16.4.4.1.1.2.2.1.cmml" xref="S3.p1.16.m16.4.4.1.1.2">subscript</csymbol><sum id="S3.p1.16.m16.4.4.1.1.2.2.2.cmml" xref="S3.p1.16.m16.4.4.1.1.2.2.2"></sum><apply id="S3.p1.16.m16.4.4.1.1.2.2.3.cmml" xref="S3.p1.16.m16.4.4.1.1.2.2.3"><eq id="S3.p1.16.m16.4.4.1.1.2.2.3.1.cmml" xref="S3.p1.16.m16.4.4.1.1.2.2.3.1"></eq><ci id="S3.p1.16.m16.4.4.1.1.2.2.3.2.cmml" xref="S3.p1.16.m16.4.4.1.1.2.2.3.2">𝑚</ci><cn type="integer" id="S3.p1.16.m16.4.4.1.1.2.2.3.3.cmml" xref="S3.p1.16.m16.4.4.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.p1.16.m16.4.4.1.1.2.3.cmml" xref="S3.p1.16.m16.4.4.1.1.2.3">𝑀</ci></apply><apply id="S3.p1.16.m16.4.4.1.1.1.cmml" xref="S3.p1.16.m16.4.4.1.1.1"><times id="S3.p1.16.m16.4.4.1.1.1.2.cmml" xref="S3.p1.16.m16.4.4.1.1.1.2"></times><apply id="S3.p1.16.m16.4.4.1.1.1.3.cmml" xref="S3.p1.16.m16.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.p1.16.m16.4.4.1.1.1.3.1.cmml" xref="S3.p1.16.m16.4.4.1.1.1.3">subscript</csymbol><ci id="S3.p1.16.m16.4.4.1.1.1.3.2.cmml" xref="S3.p1.16.m16.4.4.1.1.1.3.2">𝑛</ci><ci id="S3.p1.16.m16.4.4.1.1.1.3.3.cmml" xref="S3.p1.16.m16.4.4.1.1.1.3.3">𝑚</ci></apply><apply id="S3.p1.16.m16.4.4.1.1.1.4.cmml" xref="S3.p1.16.m16.4.4.1.1.1.4"><csymbol cd="ambiguous" id="S3.p1.16.m16.4.4.1.1.1.4.1.cmml" xref="S3.p1.16.m16.4.4.1.1.1.4">superscript</csymbol><ci id="S3.p1.16.m16.4.4.1.1.1.4.2.cmml" xref="S3.p1.16.m16.4.4.1.1.1.4.2">ℒ</ci><ci id="S3.p1.16.m16.4.4.1.1.1.4.3.cmml" xref="S3.p1.16.m16.4.4.1.1.1.4.3">𝑚</ci></apply><interval closure="open" id="S3.p1.16.m16.4.4.1.1.1.1.2.cmml" xref="S3.p1.16.m16.4.4.1.1.1.1.1"><apply id="S3.p1.16.m16.4.4.1.1.1.1.1.1.cmml" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.16.m16.4.4.1.1.1.1.1.1.1.cmml" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1">superscript</csymbol><ci id="S3.p1.16.m16.4.4.1.1.1.1.1.1.2.cmml" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1.2">𝑋</ci><ci id="S3.p1.16.m16.4.4.1.1.1.1.1.1.3.cmml" xref="S3.p1.16.m16.4.4.1.1.1.1.1.1.3">𝑚</ci></apply><ci id="S3.p1.16.m16.3.3.cmml" xref="S3.p1.16.m16.3.3">𝑤</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.16.m16.4c">\mathcal{L}(X,w)=\frac{1}{n}\sum_{m=1}^{M}n_{m}\mathcal{L}^{m}(X^{m},w)</annotation></semantics></math>,
with <math id="S3.p1.17.m17.4" class="ltx_Math" alttext="\mathcal{L}^{m}(X^{m},w)=\frac{1}{n_{m}}\sum_{x\in X^{m}}\ell(x,w)" display="inline"><semantics id="S3.p1.17.m17.4a"><mrow id="S3.p1.17.m17.4.4" xref="S3.p1.17.m17.4.4.cmml"><mrow id="S3.p1.17.m17.4.4.1" xref="S3.p1.17.m17.4.4.1.cmml"><msup id="S3.p1.17.m17.4.4.1.3" xref="S3.p1.17.m17.4.4.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.17.m17.4.4.1.3.2" xref="S3.p1.17.m17.4.4.1.3.2.cmml">ℒ</mi><mi id="S3.p1.17.m17.4.4.1.3.3" xref="S3.p1.17.m17.4.4.1.3.3.cmml">m</mi></msup><mo lspace="0em" rspace="0em" id="S3.p1.17.m17.4.4.1.2" xref="S3.p1.17.m17.4.4.1.2.cmml">​</mo><mrow id="S3.p1.17.m17.4.4.1.1.1" xref="S3.p1.17.m17.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.p1.17.m17.4.4.1.1.1.2" xref="S3.p1.17.m17.4.4.1.1.2.cmml">(</mo><msup id="S3.p1.17.m17.4.4.1.1.1.1" xref="S3.p1.17.m17.4.4.1.1.1.1.cmml"><mi id="S3.p1.17.m17.4.4.1.1.1.1.2" xref="S3.p1.17.m17.4.4.1.1.1.1.2.cmml">X</mi><mi id="S3.p1.17.m17.4.4.1.1.1.1.3" xref="S3.p1.17.m17.4.4.1.1.1.1.3.cmml">m</mi></msup><mo id="S3.p1.17.m17.4.4.1.1.1.3" xref="S3.p1.17.m17.4.4.1.1.2.cmml">,</mo><mi id="S3.p1.17.m17.1.1" xref="S3.p1.17.m17.1.1.cmml">w</mi><mo stretchy="false" id="S3.p1.17.m17.4.4.1.1.1.4" xref="S3.p1.17.m17.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.p1.17.m17.4.4.2" xref="S3.p1.17.m17.4.4.2.cmml">=</mo><mrow id="S3.p1.17.m17.4.4.3" xref="S3.p1.17.m17.4.4.3.cmml"><mfrac id="S3.p1.17.m17.4.4.3.2" xref="S3.p1.17.m17.4.4.3.2.cmml"><mn id="S3.p1.17.m17.4.4.3.2.2" xref="S3.p1.17.m17.4.4.3.2.2.cmml">1</mn><msub id="S3.p1.17.m17.4.4.3.2.3" xref="S3.p1.17.m17.4.4.3.2.3.cmml"><mi id="S3.p1.17.m17.4.4.3.2.3.2" xref="S3.p1.17.m17.4.4.3.2.3.2.cmml">n</mi><mi id="S3.p1.17.m17.4.4.3.2.3.3" xref="S3.p1.17.m17.4.4.3.2.3.3.cmml">m</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.17.m17.4.4.3.1" xref="S3.p1.17.m17.4.4.3.1.cmml">​</mo><mrow id="S3.p1.17.m17.4.4.3.3" xref="S3.p1.17.m17.4.4.3.3.cmml"><msub id="S3.p1.17.m17.4.4.3.3.1" xref="S3.p1.17.m17.4.4.3.3.1.cmml"><mo id="S3.p1.17.m17.4.4.3.3.1.2" xref="S3.p1.17.m17.4.4.3.3.1.2.cmml">∑</mo><mrow id="S3.p1.17.m17.4.4.3.3.1.3" xref="S3.p1.17.m17.4.4.3.3.1.3.cmml"><mi id="S3.p1.17.m17.4.4.3.3.1.3.2" xref="S3.p1.17.m17.4.4.3.3.1.3.2.cmml">x</mi><mo id="S3.p1.17.m17.4.4.3.3.1.3.1" xref="S3.p1.17.m17.4.4.3.3.1.3.1.cmml">∈</mo><msup id="S3.p1.17.m17.4.4.3.3.1.3.3" xref="S3.p1.17.m17.4.4.3.3.1.3.3.cmml"><mi id="S3.p1.17.m17.4.4.3.3.1.3.3.2" xref="S3.p1.17.m17.4.4.3.3.1.3.3.2.cmml">X</mi><mi id="S3.p1.17.m17.4.4.3.3.1.3.3.3" xref="S3.p1.17.m17.4.4.3.3.1.3.3.3.cmml">m</mi></msup></mrow></msub><mrow id="S3.p1.17.m17.4.4.3.3.2" xref="S3.p1.17.m17.4.4.3.3.2.cmml"><mi mathvariant="normal" id="S3.p1.17.m17.4.4.3.3.2.2" xref="S3.p1.17.m17.4.4.3.3.2.2.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.p1.17.m17.4.4.3.3.2.1" xref="S3.p1.17.m17.4.4.3.3.2.1.cmml">​</mo><mrow id="S3.p1.17.m17.4.4.3.3.2.3.2" xref="S3.p1.17.m17.4.4.3.3.2.3.1.cmml"><mo stretchy="false" id="S3.p1.17.m17.4.4.3.3.2.3.2.1" xref="S3.p1.17.m17.4.4.3.3.2.3.1.cmml">(</mo><mi id="S3.p1.17.m17.2.2" xref="S3.p1.17.m17.2.2.cmml">x</mi><mo id="S3.p1.17.m17.4.4.3.3.2.3.2.2" xref="S3.p1.17.m17.4.4.3.3.2.3.1.cmml">,</mo><mi id="S3.p1.17.m17.3.3" xref="S3.p1.17.m17.3.3.cmml">w</mi><mo stretchy="false" id="S3.p1.17.m17.4.4.3.3.2.3.2.3" xref="S3.p1.17.m17.4.4.3.3.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.17.m17.4b"><apply id="S3.p1.17.m17.4.4.cmml" xref="S3.p1.17.m17.4.4"><eq id="S3.p1.17.m17.4.4.2.cmml" xref="S3.p1.17.m17.4.4.2"></eq><apply id="S3.p1.17.m17.4.4.1.cmml" xref="S3.p1.17.m17.4.4.1"><times id="S3.p1.17.m17.4.4.1.2.cmml" xref="S3.p1.17.m17.4.4.1.2"></times><apply id="S3.p1.17.m17.4.4.1.3.cmml" xref="S3.p1.17.m17.4.4.1.3"><csymbol cd="ambiguous" id="S3.p1.17.m17.4.4.1.3.1.cmml" xref="S3.p1.17.m17.4.4.1.3">superscript</csymbol><ci id="S3.p1.17.m17.4.4.1.3.2.cmml" xref="S3.p1.17.m17.4.4.1.3.2">ℒ</ci><ci id="S3.p1.17.m17.4.4.1.3.3.cmml" xref="S3.p1.17.m17.4.4.1.3.3">𝑚</ci></apply><interval closure="open" id="S3.p1.17.m17.4.4.1.1.2.cmml" xref="S3.p1.17.m17.4.4.1.1.1"><apply id="S3.p1.17.m17.4.4.1.1.1.1.cmml" xref="S3.p1.17.m17.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.17.m17.4.4.1.1.1.1.1.cmml" xref="S3.p1.17.m17.4.4.1.1.1.1">superscript</csymbol><ci id="S3.p1.17.m17.4.4.1.1.1.1.2.cmml" xref="S3.p1.17.m17.4.4.1.1.1.1.2">𝑋</ci><ci id="S3.p1.17.m17.4.4.1.1.1.1.3.cmml" xref="S3.p1.17.m17.4.4.1.1.1.1.3">𝑚</ci></apply><ci id="S3.p1.17.m17.1.1.cmml" xref="S3.p1.17.m17.1.1">𝑤</ci></interval></apply><apply id="S3.p1.17.m17.4.4.3.cmml" xref="S3.p1.17.m17.4.4.3"><times id="S3.p1.17.m17.4.4.3.1.cmml" xref="S3.p1.17.m17.4.4.3.1"></times><apply id="S3.p1.17.m17.4.4.3.2.cmml" xref="S3.p1.17.m17.4.4.3.2"><divide id="S3.p1.17.m17.4.4.3.2.1.cmml" xref="S3.p1.17.m17.4.4.3.2"></divide><cn type="integer" id="S3.p1.17.m17.4.4.3.2.2.cmml" xref="S3.p1.17.m17.4.4.3.2.2">1</cn><apply id="S3.p1.17.m17.4.4.3.2.3.cmml" xref="S3.p1.17.m17.4.4.3.2.3"><csymbol cd="ambiguous" id="S3.p1.17.m17.4.4.3.2.3.1.cmml" xref="S3.p1.17.m17.4.4.3.2.3">subscript</csymbol><ci id="S3.p1.17.m17.4.4.3.2.3.2.cmml" xref="S3.p1.17.m17.4.4.3.2.3.2">𝑛</ci><ci id="S3.p1.17.m17.4.4.3.2.3.3.cmml" xref="S3.p1.17.m17.4.4.3.2.3.3">𝑚</ci></apply></apply><apply id="S3.p1.17.m17.4.4.3.3.cmml" xref="S3.p1.17.m17.4.4.3.3"><apply id="S3.p1.17.m17.4.4.3.3.1.cmml" xref="S3.p1.17.m17.4.4.3.3.1"><csymbol cd="ambiguous" id="S3.p1.17.m17.4.4.3.3.1.1.cmml" xref="S3.p1.17.m17.4.4.3.3.1">subscript</csymbol><sum id="S3.p1.17.m17.4.4.3.3.1.2.cmml" xref="S3.p1.17.m17.4.4.3.3.1.2"></sum><apply id="S3.p1.17.m17.4.4.3.3.1.3.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3"><in id="S3.p1.17.m17.4.4.3.3.1.3.1.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.1"></in><ci id="S3.p1.17.m17.4.4.3.3.1.3.2.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.2">𝑥</ci><apply id="S3.p1.17.m17.4.4.3.3.1.3.3.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.p1.17.m17.4.4.3.3.1.3.3.1.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.3">superscript</csymbol><ci id="S3.p1.17.m17.4.4.3.3.1.3.3.2.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.3.2">𝑋</ci><ci id="S3.p1.17.m17.4.4.3.3.1.3.3.3.cmml" xref="S3.p1.17.m17.4.4.3.3.1.3.3.3">𝑚</ci></apply></apply></apply><apply id="S3.p1.17.m17.4.4.3.3.2.cmml" xref="S3.p1.17.m17.4.4.3.3.2"><times id="S3.p1.17.m17.4.4.3.3.2.1.cmml" xref="S3.p1.17.m17.4.4.3.3.2.1"></times><ci id="S3.p1.17.m17.4.4.3.3.2.2.cmml" xref="S3.p1.17.m17.4.4.3.3.2.2">ℓ</ci><interval closure="open" id="S3.p1.17.m17.4.4.3.3.2.3.1.cmml" xref="S3.p1.17.m17.4.4.3.3.2.3.2"><ci id="S3.p1.17.m17.2.2.cmml" xref="S3.p1.17.m17.2.2">𝑥</ci><ci id="S3.p1.17.m17.3.3.cmml" xref="S3.p1.17.m17.3.3">𝑤</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.17.m17.4c">\mathcal{L}^{m}(X^{m},w)=\frac{1}{n_{m}}\sum_{x\in X^{m}}\ell(x,w)</annotation></semantics></math>. In <span id="S3.p1.24.2" class="ltx_text ltx_font_typewriter">FedAVG</span>, this objective is minimized by iteratively sampling a subset of devices <math id="S3.p1.18.m18.3" class="ltx_Math" alttext="S_{t}\subset\{1,\ldots,M\}" display="inline"><semantics id="S3.p1.18.m18.3a"><mrow id="S3.p1.18.m18.3.4" xref="S3.p1.18.m18.3.4.cmml"><msub id="S3.p1.18.m18.3.4.2" xref="S3.p1.18.m18.3.4.2.cmml"><mi id="S3.p1.18.m18.3.4.2.2" xref="S3.p1.18.m18.3.4.2.2.cmml">S</mi><mi id="S3.p1.18.m18.3.4.2.3" xref="S3.p1.18.m18.3.4.2.3.cmml">t</mi></msub><mo id="S3.p1.18.m18.3.4.1" xref="S3.p1.18.m18.3.4.1.cmml">⊂</mo><mrow id="S3.p1.18.m18.3.4.3.2" xref="S3.p1.18.m18.3.4.3.1.cmml"><mo stretchy="false" id="S3.p1.18.m18.3.4.3.2.1" xref="S3.p1.18.m18.3.4.3.1.cmml">{</mo><mn id="S3.p1.18.m18.1.1" xref="S3.p1.18.m18.1.1.cmml">1</mn><mo id="S3.p1.18.m18.3.4.3.2.2" xref="S3.p1.18.m18.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.p1.18.m18.2.2" xref="S3.p1.18.m18.2.2.cmml">…</mi><mo id="S3.p1.18.m18.3.4.3.2.3" xref="S3.p1.18.m18.3.4.3.1.cmml">,</mo><mi id="S3.p1.18.m18.3.3" xref="S3.p1.18.m18.3.3.cmml">M</mi><mo stretchy="false" id="S3.p1.18.m18.3.4.3.2.4" xref="S3.p1.18.m18.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.18.m18.3b"><apply id="S3.p1.18.m18.3.4.cmml" xref="S3.p1.18.m18.3.4"><subset id="S3.p1.18.m18.3.4.1.cmml" xref="S3.p1.18.m18.3.4.1"></subset><apply id="S3.p1.18.m18.3.4.2.cmml" xref="S3.p1.18.m18.3.4.2"><csymbol cd="ambiguous" id="S3.p1.18.m18.3.4.2.1.cmml" xref="S3.p1.18.m18.3.4.2">subscript</csymbol><ci id="S3.p1.18.m18.3.4.2.2.cmml" xref="S3.p1.18.m18.3.4.2.2">𝑆</ci><ci id="S3.p1.18.m18.3.4.2.3.cmml" xref="S3.p1.18.m18.3.4.2.3">𝑡</ci></apply><set id="S3.p1.18.m18.3.4.3.1.cmml" xref="S3.p1.18.m18.3.4.3.2"><cn type="integer" id="S3.p1.18.m18.1.1.cmml" xref="S3.p1.18.m18.1.1">1</cn><ci id="S3.p1.18.m18.2.2.cmml" xref="S3.p1.18.m18.2.2">…</ci><ci id="S3.p1.18.m18.3.3.cmml" xref="S3.p1.18.m18.3.3">𝑀</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.18.m18.3c">S_{t}\subset\{1,\ldots,M\}</annotation></semantics></math>, requiring the selected devices to optimize their own objective <math id="S3.p1.19.m19.2" class="ltx_Math" alttext="\mathcal{L}^{m}(X^{m},w_{t})" display="inline"><semantics id="S3.p1.19.m19.2a"><mrow id="S3.p1.19.m19.2.2" xref="S3.p1.19.m19.2.2.cmml"><msup id="S3.p1.19.m19.2.2.4" xref="S3.p1.19.m19.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.19.m19.2.2.4.2" xref="S3.p1.19.m19.2.2.4.2.cmml">ℒ</mi><mi id="S3.p1.19.m19.2.2.4.3" xref="S3.p1.19.m19.2.2.4.3.cmml">m</mi></msup><mo lspace="0em" rspace="0em" id="S3.p1.19.m19.2.2.3" xref="S3.p1.19.m19.2.2.3.cmml">​</mo><mrow id="S3.p1.19.m19.2.2.2.2" xref="S3.p1.19.m19.2.2.2.3.cmml"><mo stretchy="false" id="S3.p1.19.m19.2.2.2.2.3" xref="S3.p1.19.m19.2.2.2.3.cmml">(</mo><msup id="S3.p1.19.m19.1.1.1.1.1" xref="S3.p1.19.m19.1.1.1.1.1.cmml"><mi id="S3.p1.19.m19.1.1.1.1.1.2" xref="S3.p1.19.m19.1.1.1.1.1.2.cmml">X</mi><mi id="S3.p1.19.m19.1.1.1.1.1.3" xref="S3.p1.19.m19.1.1.1.1.1.3.cmml">m</mi></msup><mo id="S3.p1.19.m19.2.2.2.2.4" xref="S3.p1.19.m19.2.2.2.3.cmml">,</mo><msub id="S3.p1.19.m19.2.2.2.2.2" xref="S3.p1.19.m19.2.2.2.2.2.cmml"><mi id="S3.p1.19.m19.2.2.2.2.2.2" xref="S3.p1.19.m19.2.2.2.2.2.2.cmml">w</mi><mi id="S3.p1.19.m19.2.2.2.2.2.3" xref="S3.p1.19.m19.2.2.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="S3.p1.19.m19.2.2.2.2.5" xref="S3.p1.19.m19.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.19.m19.2b"><apply id="S3.p1.19.m19.2.2.cmml" xref="S3.p1.19.m19.2.2"><times id="S3.p1.19.m19.2.2.3.cmml" xref="S3.p1.19.m19.2.2.3"></times><apply id="S3.p1.19.m19.2.2.4.cmml" xref="S3.p1.19.m19.2.2.4"><csymbol cd="ambiguous" id="S3.p1.19.m19.2.2.4.1.cmml" xref="S3.p1.19.m19.2.2.4">superscript</csymbol><ci id="S3.p1.19.m19.2.2.4.2.cmml" xref="S3.p1.19.m19.2.2.4.2">ℒ</ci><ci id="S3.p1.19.m19.2.2.4.3.cmml" xref="S3.p1.19.m19.2.2.4.3">𝑚</ci></apply><interval closure="open" id="S3.p1.19.m19.2.2.2.3.cmml" xref="S3.p1.19.m19.2.2.2.2"><apply id="S3.p1.19.m19.1.1.1.1.1.cmml" xref="S3.p1.19.m19.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.19.m19.1.1.1.1.1.1.cmml" xref="S3.p1.19.m19.1.1.1.1.1">superscript</csymbol><ci id="S3.p1.19.m19.1.1.1.1.1.2.cmml" xref="S3.p1.19.m19.1.1.1.1.1.2">𝑋</ci><ci id="S3.p1.19.m19.1.1.1.1.1.3.cmml" xref="S3.p1.19.m19.1.1.1.1.1.3">𝑚</ci></apply><apply id="S3.p1.19.m19.2.2.2.2.2.cmml" xref="S3.p1.19.m19.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.19.m19.2.2.2.2.2.1.cmml" xref="S3.p1.19.m19.2.2.2.2.2">subscript</csymbol><ci id="S3.p1.19.m19.2.2.2.2.2.2.cmml" xref="S3.p1.19.m19.2.2.2.2.2.2">𝑤</ci><ci id="S3.p1.19.m19.2.2.2.2.2.3.cmml" xref="S3.p1.19.m19.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.19.m19.2c">\mathcal{L}^{m}(X^{m},w_{t})</annotation></semantics></math> locally using the latest version of the model <math id="S3.p1.20.m20.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="S3.p1.20.m20.1a"><msub id="S3.p1.20.m20.1.1" xref="S3.p1.20.m20.1.1.cmml"><mi id="S3.p1.20.m20.1.1.2" xref="S3.p1.20.m20.1.1.2.cmml">w</mi><mi id="S3.p1.20.m20.1.1.3" xref="S3.p1.20.m20.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.20.m20.1b"><apply id="S3.p1.20.m20.1.1.cmml" xref="S3.p1.20.m20.1.1"><csymbol cd="ambiguous" id="S3.p1.20.m20.1.1.1.cmml" xref="S3.p1.20.m20.1.1">subscript</csymbol><ci id="S3.p1.20.m20.1.1.2.cmml" xref="S3.p1.20.m20.1.1.2">𝑤</ci><ci id="S3.p1.20.m20.1.1.3.cmml" xref="S3.p1.20.m20.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.20.m20.1c">w_{t}</annotation></semantics></math> as the starting point. The updated local parameters <math id="S3.p1.21.m21.1" class="ltx_Math" alttext="w^{m}_{t+1}" display="inline"><semantics id="S3.p1.21.m21.1a"><msubsup id="S3.p1.21.m21.1.1" xref="S3.p1.21.m21.1.1.cmml"><mi id="S3.p1.21.m21.1.1.2.2" xref="S3.p1.21.m21.1.1.2.2.cmml">w</mi><mrow id="S3.p1.21.m21.1.1.3" xref="S3.p1.21.m21.1.1.3.cmml"><mi id="S3.p1.21.m21.1.1.3.2" xref="S3.p1.21.m21.1.1.3.2.cmml">t</mi><mo id="S3.p1.21.m21.1.1.3.1" xref="S3.p1.21.m21.1.1.3.1.cmml">+</mo><mn id="S3.p1.21.m21.1.1.3.3" xref="S3.p1.21.m21.1.1.3.3.cmml">1</mn></mrow><mi id="S3.p1.21.m21.1.1.2.3" xref="S3.p1.21.m21.1.1.2.3.cmml">m</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.p1.21.m21.1b"><apply id="S3.p1.21.m21.1.1.cmml" xref="S3.p1.21.m21.1.1"><csymbol cd="ambiguous" id="S3.p1.21.m21.1.1.1.cmml" xref="S3.p1.21.m21.1.1">subscript</csymbol><apply id="S3.p1.21.m21.1.1.2.cmml" xref="S3.p1.21.m21.1.1"><csymbol cd="ambiguous" id="S3.p1.21.m21.1.1.2.1.cmml" xref="S3.p1.21.m21.1.1">superscript</csymbol><ci id="S3.p1.21.m21.1.1.2.2.cmml" xref="S3.p1.21.m21.1.1.2.2">𝑤</ci><ci id="S3.p1.21.m21.1.1.2.3.cmml" xref="S3.p1.21.m21.1.1.2.3">𝑚</ci></apply><apply id="S3.p1.21.m21.1.1.3.cmml" xref="S3.p1.21.m21.1.1.3"><plus id="S3.p1.21.m21.1.1.3.1.cmml" xref="S3.p1.21.m21.1.1.3.1"></plus><ci id="S3.p1.21.m21.1.1.3.2.cmml" xref="S3.p1.21.m21.1.1.3.2">𝑡</ci><cn type="integer" id="S3.p1.21.m21.1.1.3.3.cmml" xref="S3.p1.21.m21.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.21.m21.1c">w^{m}_{t+1}</annotation></semantics></math> are sent to the central server for aggregation via:
<math id="S3.p1.22.m22.1" class="ltx_Math" alttext="w_{t+1}=\sum_{m\in S_{t}}\frac{n_{m}}{N_{t}}w^{m}_{t+1}" display="inline"><semantics id="S3.p1.22.m22.1a"><mrow id="S3.p1.22.m22.1.1" xref="S3.p1.22.m22.1.1.cmml"><msub id="S3.p1.22.m22.1.1.2" xref="S3.p1.22.m22.1.1.2.cmml"><mi id="S3.p1.22.m22.1.1.2.2" xref="S3.p1.22.m22.1.1.2.2.cmml">w</mi><mrow id="S3.p1.22.m22.1.1.2.3" xref="S3.p1.22.m22.1.1.2.3.cmml"><mi id="S3.p1.22.m22.1.1.2.3.2" xref="S3.p1.22.m22.1.1.2.3.2.cmml">t</mi><mo id="S3.p1.22.m22.1.1.2.3.1" xref="S3.p1.22.m22.1.1.2.3.1.cmml">+</mo><mn id="S3.p1.22.m22.1.1.2.3.3" xref="S3.p1.22.m22.1.1.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" id="S3.p1.22.m22.1.1.1" xref="S3.p1.22.m22.1.1.1.cmml">=</mo><mrow id="S3.p1.22.m22.1.1.3" xref="S3.p1.22.m22.1.1.3.cmml"><msub id="S3.p1.22.m22.1.1.3.1" xref="S3.p1.22.m22.1.1.3.1.cmml"><mo id="S3.p1.22.m22.1.1.3.1.2" xref="S3.p1.22.m22.1.1.3.1.2.cmml">∑</mo><mrow id="S3.p1.22.m22.1.1.3.1.3" xref="S3.p1.22.m22.1.1.3.1.3.cmml"><mi id="S3.p1.22.m22.1.1.3.1.3.2" xref="S3.p1.22.m22.1.1.3.1.3.2.cmml">m</mi><mo id="S3.p1.22.m22.1.1.3.1.3.1" xref="S3.p1.22.m22.1.1.3.1.3.1.cmml">∈</mo><msub id="S3.p1.22.m22.1.1.3.1.3.3" xref="S3.p1.22.m22.1.1.3.1.3.3.cmml"><mi id="S3.p1.22.m22.1.1.3.1.3.3.2" xref="S3.p1.22.m22.1.1.3.1.3.3.2.cmml">S</mi><mi id="S3.p1.22.m22.1.1.3.1.3.3.3" xref="S3.p1.22.m22.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="S3.p1.22.m22.1.1.3.2" xref="S3.p1.22.m22.1.1.3.2.cmml"><mfrac id="S3.p1.22.m22.1.1.3.2.2" xref="S3.p1.22.m22.1.1.3.2.2.cmml"><msub id="S3.p1.22.m22.1.1.3.2.2.2" xref="S3.p1.22.m22.1.1.3.2.2.2.cmml"><mi id="S3.p1.22.m22.1.1.3.2.2.2.2" xref="S3.p1.22.m22.1.1.3.2.2.2.2.cmml">n</mi><mi id="S3.p1.22.m22.1.1.3.2.2.2.3" xref="S3.p1.22.m22.1.1.3.2.2.2.3.cmml">m</mi></msub><msub id="S3.p1.22.m22.1.1.3.2.2.3" xref="S3.p1.22.m22.1.1.3.2.2.3.cmml"><mi id="S3.p1.22.m22.1.1.3.2.2.3.2" xref="S3.p1.22.m22.1.1.3.2.2.3.2.cmml">N</mi><mi id="S3.p1.22.m22.1.1.3.2.2.3.3" xref="S3.p1.22.m22.1.1.3.2.2.3.3.cmml">t</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.22.m22.1.1.3.2.1" xref="S3.p1.22.m22.1.1.3.2.1.cmml">​</mo><msubsup id="S3.p1.22.m22.1.1.3.2.3" xref="S3.p1.22.m22.1.1.3.2.3.cmml"><mi id="S3.p1.22.m22.1.1.3.2.3.2.2" xref="S3.p1.22.m22.1.1.3.2.3.2.2.cmml">w</mi><mrow id="S3.p1.22.m22.1.1.3.2.3.3" xref="S3.p1.22.m22.1.1.3.2.3.3.cmml"><mi id="S3.p1.22.m22.1.1.3.2.3.3.2" xref="S3.p1.22.m22.1.1.3.2.3.3.2.cmml">t</mi><mo id="S3.p1.22.m22.1.1.3.2.3.3.1" xref="S3.p1.22.m22.1.1.3.2.3.3.1.cmml">+</mo><mn id="S3.p1.22.m22.1.1.3.2.3.3.3" xref="S3.p1.22.m22.1.1.3.2.3.3.3.cmml">1</mn></mrow><mi id="S3.p1.22.m22.1.1.3.2.3.2.3" xref="S3.p1.22.m22.1.1.3.2.3.2.3.cmml">m</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.22.m22.1b"><apply id="S3.p1.22.m22.1.1.cmml" xref="S3.p1.22.m22.1.1"><eq id="S3.p1.22.m22.1.1.1.cmml" xref="S3.p1.22.m22.1.1.1"></eq><apply id="S3.p1.22.m22.1.1.2.cmml" xref="S3.p1.22.m22.1.1.2"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.2.1.cmml" xref="S3.p1.22.m22.1.1.2">subscript</csymbol><ci id="S3.p1.22.m22.1.1.2.2.cmml" xref="S3.p1.22.m22.1.1.2.2">𝑤</ci><apply id="S3.p1.22.m22.1.1.2.3.cmml" xref="S3.p1.22.m22.1.1.2.3"><plus id="S3.p1.22.m22.1.1.2.3.1.cmml" xref="S3.p1.22.m22.1.1.2.3.1"></plus><ci id="S3.p1.22.m22.1.1.2.3.2.cmml" xref="S3.p1.22.m22.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.p1.22.m22.1.1.2.3.3.cmml" xref="S3.p1.22.m22.1.1.2.3.3">1</cn></apply></apply><apply id="S3.p1.22.m22.1.1.3.cmml" xref="S3.p1.22.m22.1.1.3"><apply id="S3.p1.22.m22.1.1.3.1.cmml" xref="S3.p1.22.m22.1.1.3.1"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.1.1.cmml" xref="S3.p1.22.m22.1.1.3.1">subscript</csymbol><sum id="S3.p1.22.m22.1.1.3.1.2.cmml" xref="S3.p1.22.m22.1.1.3.1.2"></sum><apply id="S3.p1.22.m22.1.1.3.1.3.cmml" xref="S3.p1.22.m22.1.1.3.1.3"><in id="S3.p1.22.m22.1.1.3.1.3.1.cmml" xref="S3.p1.22.m22.1.1.3.1.3.1"></in><ci id="S3.p1.22.m22.1.1.3.1.3.2.cmml" xref="S3.p1.22.m22.1.1.3.1.3.2">𝑚</ci><apply id="S3.p1.22.m22.1.1.3.1.3.3.cmml" xref="S3.p1.22.m22.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.1.3.3.1.cmml" xref="S3.p1.22.m22.1.1.3.1.3.3">subscript</csymbol><ci id="S3.p1.22.m22.1.1.3.1.3.3.2.cmml" xref="S3.p1.22.m22.1.1.3.1.3.3.2">𝑆</ci><ci id="S3.p1.22.m22.1.1.3.1.3.3.3.cmml" xref="S3.p1.22.m22.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.22.m22.1.1.3.2.cmml" xref="S3.p1.22.m22.1.1.3.2"><times id="S3.p1.22.m22.1.1.3.2.1.cmml" xref="S3.p1.22.m22.1.1.3.2.1"></times><apply id="S3.p1.22.m22.1.1.3.2.2.cmml" xref="S3.p1.22.m22.1.1.3.2.2"><divide id="S3.p1.22.m22.1.1.3.2.2.1.cmml" xref="S3.p1.22.m22.1.1.3.2.2"></divide><apply id="S3.p1.22.m22.1.1.3.2.2.2.cmml" xref="S3.p1.22.m22.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.2.2.2.1.cmml" xref="S3.p1.22.m22.1.1.3.2.2.2">subscript</csymbol><ci id="S3.p1.22.m22.1.1.3.2.2.2.2.cmml" xref="S3.p1.22.m22.1.1.3.2.2.2.2">𝑛</ci><ci id="S3.p1.22.m22.1.1.3.2.2.2.3.cmml" xref="S3.p1.22.m22.1.1.3.2.2.2.3">𝑚</ci></apply><apply id="S3.p1.22.m22.1.1.3.2.2.3.cmml" xref="S3.p1.22.m22.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.2.2.3.1.cmml" xref="S3.p1.22.m22.1.1.3.2.2.3">subscript</csymbol><ci id="S3.p1.22.m22.1.1.3.2.2.3.2.cmml" xref="S3.p1.22.m22.1.1.3.2.2.3.2">𝑁</ci><ci id="S3.p1.22.m22.1.1.3.2.2.3.3.cmml" xref="S3.p1.22.m22.1.1.3.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.p1.22.m22.1.1.3.2.3.cmml" xref="S3.p1.22.m22.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.2.3.1.cmml" xref="S3.p1.22.m22.1.1.3.2.3">subscript</csymbol><apply id="S3.p1.22.m22.1.1.3.2.3.2.cmml" xref="S3.p1.22.m22.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.p1.22.m22.1.1.3.2.3.2.1.cmml" xref="S3.p1.22.m22.1.1.3.2.3">superscript</csymbol><ci id="S3.p1.22.m22.1.1.3.2.3.2.2.cmml" xref="S3.p1.22.m22.1.1.3.2.3.2.2">𝑤</ci><ci id="S3.p1.22.m22.1.1.3.2.3.2.3.cmml" xref="S3.p1.22.m22.1.1.3.2.3.2.3">𝑚</ci></apply><apply id="S3.p1.22.m22.1.1.3.2.3.3.cmml" xref="S3.p1.22.m22.1.1.3.2.3.3"><plus id="S3.p1.22.m22.1.1.3.2.3.3.1.cmml" xref="S3.p1.22.m22.1.1.3.2.3.3.1"></plus><ci id="S3.p1.22.m22.1.1.3.2.3.3.2.cmml" xref="S3.p1.22.m22.1.1.3.2.3.3.2">𝑡</ci><cn type="integer" id="S3.p1.22.m22.1.1.3.2.3.3.3.cmml" xref="S3.p1.22.m22.1.1.3.2.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.22.m22.1c">w_{t+1}=\sum_{m\in S_{t}}\frac{n_{m}}{N_{t}}w^{m}_{t+1}</annotation></semantics></math>,
where <math id="S3.p1.23.m23.1" class="ltx_Math" alttext="N_{t}=\sum_{m\in S_{t}}n_{m}" display="inline"><semantics id="S3.p1.23.m23.1a"><mrow id="S3.p1.23.m23.1.1" xref="S3.p1.23.m23.1.1.cmml"><msub id="S3.p1.23.m23.1.1.2" xref="S3.p1.23.m23.1.1.2.cmml"><mi id="S3.p1.23.m23.1.1.2.2" xref="S3.p1.23.m23.1.1.2.2.cmml">N</mi><mi id="S3.p1.23.m23.1.1.2.3" xref="S3.p1.23.m23.1.1.2.3.cmml">t</mi></msub><mo rspace="0.111em" id="S3.p1.23.m23.1.1.1" xref="S3.p1.23.m23.1.1.1.cmml">=</mo><mrow id="S3.p1.23.m23.1.1.3" xref="S3.p1.23.m23.1.1.3.cmml"><msub id="S3.p1.23.m23.1.1.3.1" xref="S3.p1.23.m23.1.1.3.1.cmml"><mo id="S3.p1.23.m23.1.1.3.1.2" xref="S3.p1.23.m23.1.1.3.1.2.cmml">∑</mo><mrow id="S3.p1.23.m23.1.1.3.1.3" xref="S3.p1.23.m23.1.1.3.1.3.cmml"><mi id="S3.p1.23.m23.1.1.3.1.3.2" xref="S3.p1.23.m23.1.1.3.1.3.2.cmml">m</mi><mo id="S3.p1.23.m23.1.1.3.1.3.1" xref="S3.p1.23.m23.1.1.3.1.3.1.cmml">∈</mo><msub id="S3.p1.23.m23.1.1.3.1.3.3" xref="S3.p1.23.m23.1.1.3.1.3.3.cmml"><mi id="S3.p1.23.m23.1.1.3.1.3.3.2" xref="S3.p1.23.m23.1.1.3.1.3.3.2.cmml">S</mi><mi id="S3.p1.23.m23.1.1.3.1.3.3.3" xref="S3.p1.23.m23.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><msub id="S3.p1.23.m23.1.1.3.2" xref="S3.p1.23.m23.1.1.3.2.cmml"><mi id="S3.p1.23.m23.1.1.3.2.2" xref="S3.p1.23.m23.1.1.3.2.2.cmml">n</mi><mi id="S3.p1.23.m23.1.1.3.2.3" xref="S3.p1.23.m23.1.1.3.2.3.cmml">m</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.23.m23.1b"><apply id="S3.p1.23.m23.1.1.cmml" xref="S3.p1.23.m23.1.1"><eq id="S3.p1.23.m23.1.1.1.cmml" xref="S3.p1.23.m23.1.1.1"></eq><apply id="S3.p1.23.m23.1.1.2.cmml" xref="S3.p1.23.m23.1.1.2"><csymbol cd="ambiguous" id="S3.p1.23.m23.1.1.2.1.cmml" xref="S3.p1.23.m23.1.1.2">subscript</csymbol><ci id="S3.p1.23.m23.1.1.2.2.cmml" xref="S3.p1.23.m23.1.1.2.2">𝑁</ci><ci id="S3.p1.23.m23.1.1.2.3.cmml" xref="S3.p1.23.m23.1.1.2.3">𝑡</ci></apply><apply id="S3.p1.23.m23.1.1.3.cmml" xref="S3.p1.23.m23.1.1.3"><apply id="S3.p1.23.m23.1.1.3.1.cmml" xref="S3.p1.23.m23.1.1.3.1"><csymbol cd="ambiguous" id="S3.p1.23.m23.1.1.3.1.1.cmml" xref="S3.p1.23.m23.1.1.3.1">subscript</csymbol><sum id="S3.p1.23.m23.1.1.3.1.2.cmml" xref="S3.p1.23.m23.1.1.3.1.2"></sum><apply id="S3.p1.23.m23.1.1.3.1.3.cmml" xref="S3.p1.23.m23.1.1.3.1.3"><in id="S3.p1.23.m23.1.1.3.1.3.1.cmml" xref="S3.p1.23.m23.1.1.3.1.3.1"></in><ci id="S3.p1.23.m23.1.1.3.1.3.2.cmml" xref="S3.p1.23.m23.1.1.3.1.3.2">𝑚</ci><apply id="S3.p1.23.m23.1.1.3.1.3.3.cmml" xref="S3.p1.23.m23.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.p1.23.m23.1.1.3.1.3.3.1.cmml" xref="S3.p1.23.m23.1.1.3.1.3.3">subscript</csymbol><ci id="S3.p1.23.m23.1.1.3.1.3.3.2.cmml" xref="S3.p1.23.m23.1.1.3.1.3.3.2">𝑆</ci><ci id="S3.p1.23.m23.1.1.3.1.3.3.3.cmml" xref="S3.p1.23.m23.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.23.m23.1.1.3.2.cmml" xref="S3.p1.23.m23.1.1.3.2"><csymbol cd="ambiguous" id="S3.p1.23.m23.1.1.3.2.1.cmml" xref="S3.p1.23.m23.1.1.3.2">subscript</csymbol><ci id="S3.p1.23.m23.1.1.3.2.2.cmml" xref="S3.p1.23.m23.1.1.3.2.2">𝑛</ci><ci id="S3.p1.23.m23.1.1.3.2.3.cmml" xref="S3.p1.23.m23.1.1.3.2.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.23.m23.1c">N_{t}=\sum_{m\in S_{t}}n_{m}</annotation></semantics></math> is the total number of inputs on the selected devices <math id="S3.p1.24.m24.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="S3.p1.24.m24.1a"><msub id="S3.p1.24.m24.1.1" xref="S3.p1.24.m24.1.1.cmml"><mi id="S3.p1.24.m24.1.1.2" xref="S3.p1.24.m24.1.1.2.cmml">S</mi><mi id="S3.p1.24.m24.1.1.3" xref="S3.p1.24.m24.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.24.m24.1b"><apply id="S3.p1.24.m24.1.1.cmml" xref="S3.p1.24.m24.1.1"><csymbol cd="ambiguous" id="S3.p1.24.m24.1.1.1.cmml" xref="S3.p1.24.m24.1.1">subscript</csymbol><ci id="S3.p1.24.m24.1.1.2.cmml" xref="S3.p1.24.m24.1.1.2">𝑆</ci><ci id="S3.p1.24.m24.1.1.3.cmml" xref="S3.p1.24.m24.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.24.m24.1c">S_{t}</annotation></semantics></math>.</p>
</div>
<div id="S3.p2" class="ltx_para ltx_noindent">
<p id="S3.p2.8" class="ltx_p"><span id="S3.p2.8.1" class="ltx_text ltx_font_bold">Device Selection.</span>    
In standard FL training, the device selection is made uniformly at random. In a real world scenario with non-I.I.D. data, different device selection strategies could help boost the performance of the resulting model. Previous works used gradient-based selection methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> where gradients are computed for all devices before selecting a subset. We look at a simpler/less computationally expensive approach using the number of inputs per device <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="(n_{m})" display="inline"><semantics id="S3.p2.1.m1.1a"><mrow id="S3.p2.1.m1.1.1.1" xref="S3.p2.1.m1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p2.1.m1.1.1.1.2" xref="S3.p2.1.m1.1.1.1.1.cmml">(</mo><msub id="S3.p2.1.m1.1.1.1.1" xref="S3.p2.1.m1.1.1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.1.1.2" xref="S3.p2.1.m1.1.1.1.1.2.cmml">n</mi><mi id="S3.p2.1.m1.1.1.1.1.3" xref="S3.p2.1.m1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.p2.1.m1.1.1.1.3" xref="S3.p2.1.m1.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.1.1.cmml" xref="S3.p2.1.m1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.1.1.1.cmml" xref="S3.p2.1.m1.1.1.1">subscript</csymbol><ci id="S3.p2.1.m1.1.1.1.1.2.cmml" xref="S3.p2.1.m1.1.1.1.1.2">𝑛</ci><ci id="S3.p2.1.m1.1.1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">(n_{m})</annotation></semantics></math>. We want to understand: 1) change in performance if we put more weight on the active devices, 2) whether we can limit ourselves to only a subset of devices. In our experiments, we explore several selection strategies for <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="S3.p2.2.m2.1a"><msub id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml"><mi id="S3.p2.2.m2.1.1.2" xref="S3.p2.2.m2.1.1.2.cmml">S</mi><mi id="S3.p2.2.m2.1.1.3" xref="S3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><apply id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p2.2.m2.1.1.1.cmml" xref="S3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.p2.2.m2.1.1.2.cmml" xref="S3.p2.2.m2.1.1.2">𝑆</ci><ci id="S3.p2.2.m2.1.1.3.cmml" xref="S3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">S_{t}</annotation></semantics></math> that are a function of the number of inputs on each device, namely <math id="S3.p2.3.m3.2" class="ltx_Math" alttext="{\mathbb{P}[m\in S_{t}]}\propto f(n_{m})" display="inline"><semantics id="S3.p2.3.m3.2a"><mrow id="S3.p2.3.m3.2.2" xref="S3.p2.3.m3.2.2.cmml"><mrow id="S3.p2.3.m3.1.1.1" xref="S3.p2.3.m3.1.1.1.cmml"><mi id="S3.p2.3.m3.1.1.1.3" xref="S3.p2.3.m3.1.1.1.3.cmml">ℙ</mi><mo lspace="0em" rspace="0em" id="S3.p2.3.m3.1.1.1.2" xref="S3.p2.3.m3.1.1.1.2.cmml">​</mo><mrow id="S3.p2.3.m3.1.1.1.1.1" xref="S3.p2.3.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.p2.3.m3.1.1.1.1.1.2" xref="S3.p2.3.m3.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.p2.3.m3.1.1.1.1.1.1" xref="S3.p2.3.m3.1.1.1.1.1.1.cmml"><mi id="S3.p2.3.m3.1.1.1.1.1.1.2" xref="S3.p2.3.m3.1.1.1.1.1.1.2.cmml">m</mi><mo id="S3.p2.3.m3.1.1.1.1.1.1.1" xref="S3.p2.3.m3.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S3.p2.3.m3.1.1.1.1.1.1.3" xref="S3.p2.3.m3.1.1.1.1.1.1.3.cmml"><mi id="S3.p2.3.m3.1.1.1.1.1.1.3.2" xref="S3.p2.3.m3.1.1.1.1.1.1.3.2.cmml">S</mi><mi id="S3.p2.3.m3.1.1.1.1.1.1.3.3" xref="S3.p2.3.m3.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.p2.3.m3.1.1.1.1.1.3" xref="S3.p2.3.m3.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.p2.3.m3.2.2.3" xref="S3.p2.3.m3.2.2.3.cmml">∝</mo><mrow id="S3.p2.3.m3.2.2.2" xref="S3.p2.3.m3.2.2.2.cmml"><mi id="S3.p2.3.m3.2.2.2.3" xref="S3.p2.3.m3.2.2.2.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.p2.3.m3.2.2.2.2" xref="S3.p2.3.m3.2.2.2.2.cmml">​</mo><mrow id="S3.p2.3.m3.2.2.2.1.1" xref="S3.p2.3.m3.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.p2.3.m3.2.2.2.1.1.2" xref="S3.p2.3.m3.2.2.2.1.1.1.cmml">(</mo><msub id="S3.p2.3.m3.2.2.2.1.1.1" xref="S3.p2.3.m3.2.2.2.1.1.1.cmml"><mi id="S3.p2.3.m3.2.2.2.1.1.1.2" xref="S3.p2.3.m3.2.2.2.1.1.1.2.cmml">n</mi><mi id="S3.p2.3.m3.2.2.2.1.1.1.3" xref="S3.p2.3.m3.2.2.2.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.p2.3.m3.2.2.2.1.1.3" xref="S3.p2.3.m3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.2b"><apply id="S3.p2.3.m3.2.2.cmml" xref="S3.p2.3.m3.2.2"><csymbol cd="latexml" id="S3.p2.3.m3.2.2.3.cmml" xref="S3.p2.3.m3.2.2.3">proportional-to</csymbol><apply id="S3.p2.3.m3.1.1.1.cmml" xref="S3.p2.3.m3.1.1.1"><times id="S3.p2.3.m3.1.1.1.2.cmml" xref="S3.p2.3.m3.1.1.1.2"></times><ci id="S3.p2.3.m3.1.1.1.3.cmml" xref="S3.p2.3.m3.1.1.1.3">ℙ</ci><apply id="S3.p2.3.m3.1.1.1.1.2.cmml" xref="S3.p2.3.m3.1.1.1.1.1"><csymbol cd="latexml" id="S3.p2.3.m3.1.1.1.1.2.1.cmml" xref="S3.p2.3.m3.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1"><in id="S3.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.1"></in><ci id="S3.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.2">𝑚</ci><apply id="S3.p2.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.p2.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.3.2">𝑆</ci><ci id="S3.p2.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.p2.3.m3.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.p2.3.m3.2.2.2.cmml" xref="S3.p2.3.m3.2.2.2"><times id="S3.p2.3.m3.2.2.2.2.cmml" xref="S3.p2.3.m3.2.2.2.2"></times><ci id="S3.p2.3.m3.2.2.2.3.cmml" xref="S3.p2.3.m3.2.2.2.3">𝑓</ci><apply id="S3.p2.3.m3.2.2.2.1.1.1.cmml" xref="S3.p2.3.m3.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.p2.3.m3.2.2.2.1.1.1.1.cmml" xref="S3.p2.3.m3.2.2.2.1.1">subscript</csymbol><ci id="S3.p2.3.m3.2.2.2.1.1.1.2.cmml" xref="S3.p2.3.m3.2.2.2.1.1.1.2">𝑛</ci><ci id="S3.p2.3.m3.2.2.2.1.1.1.3.cmml" xref="S3.p2.3.m3.2.2.2.1.1.1.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.2c">{\mathbb{P}[m\in S_{t}]}\propto f(n_{m})</annotation></semantics></math>,
with <math id="S3.p2.4.m4.8" class="ltx_Math" alttext="{f(x)\in\{1,\log(x+1),\sqrt{x},x,\frac{1}{\log(x+1)}\}}" display="inline"><semantics id="S3.p2.4.m4.8a"><mrow id="S3.p2.4.m4.8.8" xref="S3.p2.4.m4.8.8.cmml"><mrow id="S3.p2.4.m4.8.8.3" xref="S3.p2.4.m4.8.8.3.cmml"><mi id="S3.p2.4.m4.8.8.3.2" xref="S3.p2.4.m4.8.8.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.p2.4.m4.8.8.3.1" xref="S3.p2.4.m4.8.8.3.1.cmml">​</mo><mrow id="S3.p2.4.m4.8.8.3.3.2" xref="S3.p2.4.m4.8.8.3.cmml"><mo stretchy="false" id="S3.p2.4.m4.8.8.3.3.2.1" xref="S3.p2.4.m4.8.8.3.cmml">(</mo><mi id="S3.p2.4.m4.3.3" xref="S3.p2.4.m4.3.3.cmml">x</mi><mo stretchy="false" id="S3.p2.4.m4.8.8.3.3.2.2" xref="S3.p2.4.m4.8.8.3.cmml">)</mo></mrow></mrow><mo id="S3.p2.4.m4.8.8.2" xref="S3.p2.4.m4.8.8.2.cmml">∈</mo><mrow id="S3.p2.4.m4.8.8.1.1" xref="S3.p2.4.m4.8.8.1.2.cmml"><mo stretchy="false" id="S3.p2.4.m4.8.8.1.1.2" xref="S3.p2.4.m4.8.8.1.2.cmml">{</mo><mn id="S3.p2.4.m4.5.5" xref="S3.p2.4.m4.5.5.cmml">1</mn><mo id="S3.p2.4.m4.8.8.1.1.3" xref="S3.p2.4.m4.8.8.1.2.cmml">,</mo><mrow id="S3.p2.4.m4.8.8.1.1.1.1" xref="S3.p2.4.m4.8.8.1.1.1.2.cmml"><mi id="S3.p2.4.m4.4.4" xref="S3.p2.4.m4.4.4.cmml">log</mi><mo id="S3.p2.4.m4.8.8.1.1.1.1a" xref="S3.p2.4.m4.8.8.1.1.1.2.cmml">⁡</mo><mrow id="S3.p2.4.m4.8.8.1.1.1.1.1" xref="S3.p2.4.m4.8.8.1.1.1.2.cmml"><mo stretchy="false" id="S3.p2.4.m4.8.8.1.1.1.1.1.2" xref="S3.p2.4.m4.8.8.1.1.1.2.cmml">(</mo><mrow id="S3.p2.4.m4.8.8.1.1.1.1.1.1" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.cmml"><mi id="S3.p2.4.m4.8.8.1.1.1.1.1.1.2" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.2.cmml">x</mi><mo id="S3.p2.4.m4.8.8.1.1.1.1.1.1.1" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.1.cmml">+</mo><mn id="S3.p2.4.m4.8.8.1.1.1.1.1.1.3" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.p2.4.m4.8.8.1.1.1.1.1.3" xref="S3.p2.4.m4.8.8.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.4.m4.8.8.1.1.4" xref="S3.p2.4.m4.8.8.1.2.cmml">,</mo><msqrt id="S3.p2.4.m4.6.6" xref="S3.p2.4.m4.6.6.cmml"><mi id="S3.p2.4.m4.6.6.2" xref="S3.p2.4.m4.6.6.2.cmml">x</mi></msqrt><mo id="S3.p2.4.m4.8.8.1.1.5" xref="S3.p2.4.m4.8.8.1.2.cmml">,</mo><mi id="S3.p2.4.m4.7.7" xref="S3.p2.4.m4.7.7.cmml">x</mi><mo id="S3.p2.4.m4.8.8.1.1.6" xref="S3.p2.4.m4.8.8.1.2.cmml">,</mo><mfrac id="S3.p2.4.m4.2.2" xref="S3.p2.4.m4.2.2.cmml"><mn id="S3.p2.4.m4.2.2.4" xref="S3.p2.4.m4.2.2.4.cmml">1</mn><mrow id="S3.p2.4.m4.2.2.2.2" xref="S3.p2.4.m4.2.2.2.3.cmml"><mi id="S3.p2.4.m4.1.1.1.1" xref="S3.p2.4.m4.1.1.1.1.cmml">log</mi><mo id="S3.p2.4.m4.2.2.2.2a" xref="S3.p2.4.m4.2.2.2.3.cmml">⁡</mo><mrow id="S3.p2.4.m4.2.2.2.2.1" xref="S3.p2.4.m4.2.2.2.3.cmml"><mo stretchy="false" id="S3.p2.4.m4.2.2.2.2.1.2" xref="S3.p2.4.m4.2.2.2.3.cmml">(</mo><mrow id="S3.p2.4.m4.2.2.2.2.1.1" xref="S3.p2.4.m4.2.2.2.2.1.1.cmml"><mi id="S3.p2.4.m4.2.2.2.2.1.1.2" xref="S3.p2.4.m4.2.2.2.2.1.1.2.cmml">x</mi><mo id="S3.p2.4.m4.2.2.2.2.1.1.1" xref="S3.p2.4.m4.2.2.2.2.1.1.1.cmml">+</mo><mn id="S3.p2.4.m4.2.2.2.2.1.1.3" xref="S3.p2.4.m4.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.p2.4.m4.2.2.2.2.1.3" xref="S3.p2.4.m4.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac><mo stretchy="false" id="S3.p2.4.m4.8.8.1.1.7" xref="S3.p2.4.m4.8.8.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.8b"><apply id="S3.p2.4.m4.8.8.cmml" xref="S3.p2.4.m4.8.8"><in id="S3.p2.4.m4.8.8.2.cmml" xref="S3.p2.4.m4.8.8.2"></in><apply id="S3.p2.4.m4.8.8.3.cmml" xref="S3.p2.4.m4.8.8.3"><times id="S3.p2.4.m4.8.8.3.1.cmml" xref="S3.p2.4.m4.8.8.3.1"></times><ci id="S3.p2.4.m4.8.8.3.2.cmml" xref="S3.p2.4.m4.8.8.3.2">𝑓</ci><ci id="S3.p2.4.m4.3.3.cmml" xref="S3.p2.4.m4.3.3">𝑥</ci></apply><set id="S3.p2.4.m4.8.8.1.2.cmml" xref="S3.p2.4.m4.8.8.1.1"><cn type="integer" id="S3.p2.4.m4.5.5.cmml" xref="S3.p2.4.m4.5.5">1</cn><apply id="S3.p2.4.m4.8.8.1.1.1.2.cmml" xref="S3.p2.4.m4.8.8.1.1.1.1"><log id="S3.p2.4.m4.4.4.cmml" xref="S3.p2.4.m4.4.4"></log><apply id="S3.p2.4.m4.8.8.1.1.1.1.1.1.cmml" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1"><plus id="S3.p2.4.m4.8.8.1.1.1.1.1.1.1.cmml" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.1"></plus><ci id="S3.p2.4.m4.8.8.1.1.1.1.1.1.2.cmml" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.p2.4.m4.8.8.1.1.1.1.1.1.3.cmml" xref="S3.p2.4.m4.8.8.1.1.1.1.1.1.3">1</cn></apply></apply><apply id="S3.p2.4.m4.6.6.cmml" xref="S3.p2.4.m4.6.6"><root id="S3.p2.4.m4.6.6a.cmml" xref="S3.p2.4.m4.6.6"></root><ci id="S3.p2.4.m4.6.6.2.cmml" xref="S3.p2.4.m4.6.6.2">𝑥</ci></apply><ci id="S3.p2.4.m4.7.7.cmml" xref="S3.p2.4.m4.7.7">𝑥</ci><apply id="S3.p2.4.m4.2.2.cmml" xref="S3.p2.4.m4.2.2"><divide id="S3.p2.4.m4.2.2.3.cmml" xref="S3.p2.4.m4.2.2"></divide><cn type="integer" id="S3.p2.4.m4.2.2.4.cmml" xref="S3.p2.4.m4.2.2.4">1</cn><apply id="S3.p2.4.m4.2.2.2.3.cmml" xref="S3.p2.4.m4.2.2.2.2"><log id="S3.p2.4.m4.1.1.1.1.cmml" xref="S3.p2.4.m4.1.1.1.1"></log><apply id="S3.p2.4.m4.2.2.2.2.1.1.cmml" xref="S3.p2.4.m4.2.2.2.2.1.1"><plus id="S3.p2.4.m4.2.2.2.2.1.1.1.cmml" xref="S3.p2.4.m4.2.2.2.2.1.1.1"></plus><ci id="S3.p2.4.m4.2.2.2.2.1.1.2.cmml" xref="S3.p2.4.m4.2.2.2.2.1.1.2">𝑥</ci><cn type="integer" id="S3.p2.4.m4.2.2.2.2.1.1.3.cmml" xref="S3.p2.4.m4.2.2.2.2.1.1.3">1</cn></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.8c">{f(x)\in\{1,\log(x+1),\sqrt{x},x,\frac{1}{\log(x+1)}\}}</annotation></semantics></math>, where <math id="S3.p2.5.m5.1" class="ltx_Math" alttext="f(x)=1" display="inline"><semantics id="S3.p2.5.m5.1a"><mrow id="S3.p2.5.m5.1.2" xref="S3.p2.5.m5.1.2.cmml"><mrow id="S3.p2.5.m5.1.2.2" xref="S3.p2.5.m5.1.2.2.cmml"><mi id="S3.p2.5.m5.1.2.2.2" xref="S3.p2.5.m5.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.p2.5.m5.1.2.2.1" xref="S3.p2.5.m5.1.2.2.1.cmml">​</mo><mrow id="S3.p2.5.m5.1.2.2.3.2" xref="S3.p2.5.m5.1.2.2.cmml"><mo stretchy="false" id="S3.p2.5.m5.1.2.2.3.2.1" xref="S3.p2.5.m5.1.2.2.cmml">(</mo><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">x</mi><mo stretchy="false" id="S3.p2.5.m5.1.2.2.3.2.2" xref="S3.p2.5.m5.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.5.m5.1.2.1" xref="S3.p2.5.m5.1.2.1.cmml">=</mo><mn id="S3.p2.5.m5.1.2.3" xref="S3.p2.5.m5.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><apply id="S3.p2.5.m5.1.2.cmml" xref="S3.p2.5.m5.1.2"><eq id="S3.p2.5.m5.1.2.1.cmml" xref="S3.p2.5.m5.1.2.1"></eq><apply id="S3.p2.5.m5.1.2.2.cmml" xref="S3.p2.5.m5.1.2.2"><times id="S3.p2.5.m5.1.2.2.1.cmml" xref="S3.p2.5.m5.1.2.2.1"></times><ci id="S3.p2.5.m5.1.2.2.2.cmml" xref="S3.p2.5.m5.1.2.2.2">𝑓</ci><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝑥</ci></apply><cn type="integer" id="S3.p2.5.m5.1.2.3.cmml" xref="S3.p2.5.m5.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">f(x)=1</annotation></semantics></math> corresponds to uniform sampling. We experiment with two additional functions referred to as <span id="S3.p2.8.2" class="ltx_text ltx_font_typewriter">heavy</span> (resp. <span id="S3.p2.8.3" class="ltx_text ltx_font_typewriter">light</span>) to restrict the optimization to the most (resp. least) active devices: <math id="S3.p2.6.m6.1" class="ltx_Math" alttext="f(n_{m})=1" display="inline"><semantics id="S3.p2.6.m6.1a"><mrow id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml"><mrow id="S3.p2.6.m6.1.1.1" xref="S3.p2.6.m6.1.1.1.cmml"><mi id="S3.p2.6.m6.1.1.1.3" xref="S3.p2.6.m6.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.p2.6.m6.1.1.1.2" xref="S3.p2.6.m6.1.1.1.2.cmml">​</mo><mrow id="S3.p2.6.m6.1.1.1.1.1" xref="S3.p2.6.m6.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p2.6.m6.1.1.1.1.1.2" xref="S3.p2.6.m6.1.1.1.1.1.1.cmml">(</mo><msub id="S3.p2.6.m6.1.1.1.1.1.1" xref="S3.p2.6.m6.1.1.1.1.1.1.cmml"><mi id="S3.p2.6.m6.1.1.1.1.1.1.2" xref="S3.p2.6.m6.1.1.1.1.1.1.2.cmml">n</mi><mi id="S3.p2.6.m6.1.1.1.1.1.1.3" xref="S3.p2.6.m6.1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.p2.6.m6.1.1.1.1.1.3" xref="S3.p2.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.6.m6.1.1.2" xref="S3.p2.6.m6.1.1.2.cmml">=</mo><mn id="S3.p2.6.m6.1.1.3" xref="S3.p2.6.m6.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1"><eq id="S3.p2.6.m6.1.1.2.cmml" xref="S3.p2.6.m6.1.1.2"></eq><apply id="S3.p2.6.m6.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1"><times id="S3.p2.6.m6.1.1.1.2.cmml" xref="S3.p2.6.m6.1.1.1.2"></times><ci id="S3.p2.6.m6.1.1.1.3.cmml" xref="S3.p2.6.m6.1.1.1.3">𝑓</ci><apply id="S3.p2.6.m6.1.1.1.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.6.m6.1.1.1.1.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S3.p2.6.m6.1.1.1.1.1.1.2.cmml" xref="S3.p2.6.m6.1.1.1.1.1.1.2">𝑛</ci><ci id="S3.p2.6.m6.1.1.1.1.1.1.3.cmml" xref="S3.p2.6.m6.1.1.1.1.1.1.3">𝑚</ci></apply></apply><cn type="integer" id="S3.p2.6.m6.1.1.3.cmml" xref="S3.p2.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">f(n_{m})=1</annotation></semantics></math> if <math id="S3.p2.7.m7.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.p2.7.m7.1a"><mi id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><ci id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">m</annotation></semantics></math> is in top 20% most (resp. least) used devices, <math id="S3.p2.8.m8.1" class="ltx_Math" alttext="f(x)=0" display="inline"><semantics id="S3.p2.8.m8.1a"><mrow id="S3.p2.8.m8.1.2" xref="S3.p2.8.m8.1.2.cmml"><mrow id="S3.p2.8.m8.1.2.2" xref="S3.p2.8.m8.1.2.2.cmml"><mi id="S3.p2.8.m8.1.2.2.2" xref="S3.p2.8.m8.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.p2.8.m8.1.2.2.1" xref="S3.p2.8.m8.1.2.2.1.cmml">​</mo><mrow id="S3.p2.8.m8.1.2.2.3.2" xref="S3.p2.8.m8.1.2.2.cmml"><mo stretchy="false" id="S3.p2.8.m8.1.2.2.3.2.1" xref="S3.p2.8.m8.1.2.2.cmml">(</mo><mi id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml">x</mi><mo stretchy="false" id="S3.p2.8.m8.1.2.2.3.2.2" xref="S3.p2.8.m8.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.8.m8.1.2.1" xref="S3.p2.8.m8.1.2.1.cmml">=</mo><mn id="S3.p2.8.m8.1.2.3" xref="S3.p2.8.m8.1.2.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.1b"><apply id="S3.p2.8.m8.1.2.cmml" xref="S3.p2.8.m8.1.2"><eq id="S3.p2.8.m8.1.2.1.cmml" xref="S3.p2.8.m8.1.2.1"></eq><apply id="S3.p2.8.m8.1.2.2.cmml" xref="S3.p2.8.m8.1.2.2"><times id="S3.p2.8.m8.1.2.2.1.cmml" xref="S3.p2.8.m8.1.2.2.1"></times><ci id="S3.p2.8.m8.1.2.2.2.cmml" xref="S3.p2.8.m8.1.2.2.2">𝑓</ci><ci id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1">𝑥</ci></apply><cn type="integer" id="S3.p2.8.m8.1.2.3.cmml" xref="S3.p2.8.m8.1.2.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.1c">f(x)=0</annotation></semantics></math> otherwise.</p>
</div>
<div id="S3.p3" class="ltx_para ltx_noindent">
<p id="S3.p3.2" class="ltx_p"><span id="S3.p3.2.1" class="ltx_text ltx_font_bold">Continual Learning.</span>    
In the <span id="S3.p3.2.2" class="ltx_text ltx_font_italic">one-shot FL</span> setting, the data is static and used all at once during training. This approach might not be applicable to real-world scenario where users generate data over time due to limited storage on device.
In <span id="S3.p3.2.3" class="ltx_text ltx_font_italic">continual FL</span>, we consider a dataset generated over a time period <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">T</annotation></semantics></math>, which is divided into consecutive segments of size <math id="S3.p3.2.m2.1" class="ltx_Math" alttext="\Delta t" display="inline"><semantics id="S3.p3.2.m2.1a"><mrow id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.p3.2.m2.1.1.2" xref="S3.p3.2.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.p3.2.m2.1.1.1" xref="S3.p3.2.m2.1.1.1.cmml">​</mo><mi id="S3.p3.2.m2.1.1.3" xref="S3.p3.2.m2.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><apply id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1"><times id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1.1"></times><ci id="S3.p3.2.m2.1.1.2.cmml" xref="S3.p3.2.m2.1.1.2">Δ</ci><ci id="S3.p3.2.m2.1.1.3.cmml" xref="S3.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">\Delta t</annotation></semantics></math>. For each segment, we train a model on the data for that segment, starting from the end model of the previous segment. For the first segment, we use the same starting point as for <span id="S3.p3.2.4" class="ltx_text ltx_font_italic">one-shot FL</span>. Similar to <span id="S3.p3.2.5" class="ltx_text ltx_font_italic">one-shot</span>, we compare the different device selection strategies in a <span id="S3.p3.2.6" class="ltx_text ltx_font_italic">continual</span> setting.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">Our experiments address the following:
<span id="S3.p4.1.1" class="ltx_text ltx_font_bold">Device selection:</span> 1) Is there a non-uniform sampling strategy that outperforms uniform sampling? 2) Can we obtain a similar performance as the standard uniform sampling by restricting training to the most active devices?
<span id="S3.p4.1.2" class="ltx_text ltx_font_bold">Temporality:</span> 1) For <span id="S3.p4.1.3" class="ltx_text ltx_font_italic">one-shot FL</span>, does an increase in the amount of historical data have a positive effect on the performance on the next interactions? 2) Does <span id="S3.p4.1.4" class="ltx_text ltx_font_italic">continual FL</span> compete with <span id="S3.p4.1.5" class="ltx_text ltx_font_italic">one-shot FL</span>, and is there a device selection strategy that boosts <span id="S3.p4.1.6" class="ltx_text ltx_font_italic">continual FL</span> performance?</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Setting</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.4" class="ltx_p"><span id="S4.p1.4.1" class="ltx_text ltx_font_bold">Model:</span> BERT-<span id="S4.p1.4.2" class="ltx_text ltx_font_italic">base</span> model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> for the masked language modeling (MLM) task that is pre-trained model on the Common Crawl dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. 
<br class="ltx_break"><span id="S4.p1.4.3" class="ltx_text ltx_font_bold">Data:</span> 12 months of automated transcription of Alexa user request data, that is de-identified to remove information that connects the data to the users. We randomly select 10,000 devices and their utterances. In all experiments, the test set corresponds to the last month of data. We repeat the process 3 times to generate different datasets and evaluate our approaches. In all the figures, the standard deviation across the 3 datasets is displayed.
<br class="ltx_break"><span id="S4.p1.4.4" class="ltx_text ltx_font_bold">One-shot FL:</span> The FL models are trained on <math id="S4.p1.1.m1.1" class="ltx_Math" alttext="|T|=3" display="inline"><semantics id="S4.p1.1.m1.1a"><mrow id="S4.p1.1.m1.1.2" xref="S4.p1.1.m1.1.2.cmml"><mrow id="S4.p1.1.m1.1.2.2.2" xref="S4.p1.1.m1.1.2.2.1.cmml"><mo stretchy="false" id="S4.p1.1.m1.1.2.2.2.1" xref="S4.p1.1.m1.1.2.2.1.1.cmml">|</mo><mi id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">T</mi><mo stretchy="false" id="S4.p1.1.m1.1.2.2.2.2" xref="S4.p1.1.m1.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.p1.1.m1.1.2.1" xref="S4.p1.1.m1.1.2.1.cmml">=</mo><mn id="S4.p1.1.m1.1.2.3" xref="S4.p1.1.m1.1.2.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.2.cmml" xref="S4.p1.1.m1.1.2"><eq id="S4.p1.1.m1.1.2.1.cmml" xref="S4.p1.1.m1.1.2.1"></eq><apply id="S4.p1.1.m1.1.2.2.1.cmml" xref="S4.p1.1.m1.1.2.2.2"><abs id="S4.p1.1.m1.1.2.2.1.1.cmml" xref="S4.p1.1.m1.1.2.2.2.1"></abs><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">𝑇</ci></apply><cn type="integer" id="S4.p1.1.m1.1.2.3.cmml" xref="S4.p1.1.m1.1.2.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">|T|=3</annotation></semantics></math> months (months 9 to 11 of the 12 months data) <math id="S4.p1.2.m2.1" class="ltx_Math" alttext="|T|=6" display="inline"><semantics id="S4.p1.2.m2.1a"><mrow id="S4.p1.2.m2.1.2" xref="S4.p1.2.m2.1.2.cmml"><mrow id="S4.p1.2.m2.1.2.2.2" xref="S4.p1.2.m2.1.2.2.1.cmml"><mo stretchy="false" id="S4.p1.2.m2.1.2.2.2.1" xref="S4.p1.2.m2.1.2.2.1.1.cmml">|</mo><mi id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml">T</mi><mo stretchy="false" id="S4.p1.2.m2.1.2.2.2.2" xref="S4.p1.2.m2.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.p1.2.m2.1.2.1" xref="S4.p1.2.m2.1.2.1.cmml">=</mo><mn id="S4.p1.2.m2.1.2.3" xref="S4.p1.2.m2.1.2.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><apply id="S4.p1.2.m2.1.2.cmml" xref="S4.p1.2.m2.1.2"><eq id="S4.p1.2.m2.1.2.1.cmml" xref="S4.p1.2.m2.1.2.1"></eq><apply id="S4.p1.2.m2.1.2.2.1.cmml" xref="S4.p1.2.m2.1.2.2.2"><abs id="S4.p1.2.m2.1.2.2.1.1.cmml" xref="S4.p1.2.m2.1.2.2.2.1"></abs><ci id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1">𝑇</ci></apply><cn type="integer" id="S4.p1.2.m2.1.2.3.cmml" xref="S4.p1.2.m2.1.2.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">|T|=6</annotation></semantics></math> months (months 6 to 11) and <math id="S4.p1.3.m3.1" class="ltx_Math" alttext="|T|=11" display="inline"><semantics id="S4.p1.3.m3.1a"><mrow id="S4.p1.3.m3.1.2" xref="S4.p1.3.m3.1.2.cmml"><mrow id="S4.p1.3.m3.1.2.2.2" xref="S4.p1.3.m3.1.2.2.1.cmml"><mo stretchy="false" id="S4.p1.3.m3.1.2.2.2.1" xref="S4.p1.3.m3.1.2.2.1.1.cmml">|</mo><mi id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml">T</mi><mo stretchy="false" id="S4.p1.3.m3.1.2.2.2.2" xref="S4.p1.3.m3.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.p1.3.m3.1.2.1" xref="S4.p1.3.m3.1.2.1.cmml">=</mo><mn id="S4.p1.3.m3.1.2.3" xref="S4.p1.3.m3.1.2.3.cmml">11</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><apply id="S4.p1.3.m3.1.2.cmml" xref="S4.p1.3.m3.1.2"><eq id="S4.p1.3.m3.1.2.1.cmml" xref="S4.p1.3.m3.1.2.1"></eq><apply id="S4.p1.3.m3.1.2.2.1.cmml" xref="S4.p1.3.m3.1.2.2.2"><abs id="S4.p1.3.m3.1.2.2.1.1.cmml" xref="S4.p1.3.m3.1.2.2.2.1"></abs><ci id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1">𝑇</ci></apply><cn type="integer" id="S4.p1.3.m3.1.2.3.cmml" xref="S4.p1.3.m3.1.2.3">11</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">|T|=11</annotation></semantics></math> months (months 1 to 11).
<br class="ltx_break"><span id="S4.p1.4.5" class="ltx_text ltx_font_bold">Continual FL:</span> 6 months of data (months 6 to 11 of the whole data) is split into 3 parts of <math id="S4.p1.4.m4.1" class="ltx_Math" alttext="\Delta t=2" display="inline"><semantics id="S4.p1.4.m4.1a"><mrow id="S4.p1.4.m4.1.1" xref="S4.p1.4.m4.1.1.cmml"><mrow id="S4.p1.4.m4.1.1.2" xref="S4.p1.4.m4.1.1.2.cmml"><mi mathvariant="normal" id="S4.p1.4.m4.1.1.2.2" xref="S4.p1.4.m4.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.p1.4.m4.1.1.2.1" xref="S4.p1.4.m4.1.1.2.1.cmml">​</mo><mi id="S4.p1.4.m4.1.1.2.3" xref="S4.p1.4.m4.1.1.2.3.cmml">t</mi></mrow><mo id="S4.p1.4.m4.1.1.1" xref="S4.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.p1.4.m4.1.1.3" xref="S4.p1.4.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.4.m4.1b"><apply id="S4.p1.4.m4.1.1.cmml" xref="S4.p1.4.m4.1.1"><eq id="S4.p1.4.m4.1.1.1.cmml" xref="S4.p1.4.m4.1.1.1"></eq><apply id="S4.p1.4.m4.1.1.2.cmml" xref="S4.p1.4.m4.1.1.2"><times id="S4.p1.4.m4.1.1.2.1.cmml" xref="S4.p1.4.m4.1.1.2.1"></times><ci id="S4.p1.4.m4.1.1.2.2.cmml" xref="S4.p1.4.m4.1.1.2.2">Δ</ci><ci id="S4.p1.4.m4.1.1.2.3.cmml" xref="S4.p1.4.m4.1.1.2.3">𝑡</ci></apply><cn type="integer" id="S4.p1.4.m4.1.1.3.cmml" xref="S4.p1.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.4.m4.1c">\Delta t=2</annotation></semantics></math> months. For each time period, the last state of the model from the previous period is used for initialization.
<br class="ltx_break"><span id="S4.p1.4.6" class="ltx_text ltx_font_bold">FL methods:</span> We compare two of the most studied FL algorithms: <span id="S4.p1.4.7" class="ltx_text ltx_font_typewriter">FedAVG</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> and <span id="S4.p1.4.8" class="ltx_text ltx_font_typewriter">FedOpt</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. For both, we select 800 devices per round and each device performs one local epoch over their data, with standard central aggregation.
<br class="ltx_break"><span id="S4.p1.4.9" class="ltx_text ltx_font_bold">Evaluation:</span> We use the perplexity metric and study the impact across the different devices by splitting the test set into deciles of devices, based on their number of utterances. For each decile, the perplexity is computed on all the utterances by devices in that decile.
We can’t present absolute performance values, instead we present relative change in % in perplexity (referred to as RCP from this point on) compared to the perplexity on the entire test set for the baseline model.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2202.03925/assets/utt_test_FL_all_FL_FedAVG.png" id="S4.F2.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="200" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf1.6.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F2.sf1.7.2" class="ltx_text ltx_font_italic" style="font-size:90%;">One-shot FL<span id="S4.F2.sf1.7.2.1" class="ltx_text ltx_font_upright">. <span id="S4.F2.sf1.7.2.1.1" class="ltx_text ltx_font_bold">Left</span>: 3 months; <span id="S4.F2.sf1.7.2.1.2" class="ltx_text ltx_font_bold">middle</span>: 6 months; <span id="S4.F2.sf1.7.2.1.3" class="ltx_text ltx_font_bold">right</span>: 11 months.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2202.03925/assets/utt_test_FL_all_continual_FedAVG.png" id="S4.F2.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="598" height="598" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F2.sf2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Continual FL<span id="S4.F2.sf2.4.2.1" class="ltx_text ltx_font_upright">.</span></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.10.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Fig. 2</span>: </span><span id="S4.F2.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">FedAVG<span id="S4.F2.2.1.2" class="ltx_text ltx_font_serif">.
RCP compared to the the baseline model on the whole test set.
(<a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>) Baseline: standard </span>FedAVG<span id="S4.F2.2.1.3" class="ltx_text ltx_font_serif"> on 11 months of data; (<a href="#S4.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>) Baseline: <span id="S4.F2.2.1.3.1" class="ltx_text ltx_font_italic">one-shot FL</span> </span>FedAVG<span id="S4.F2.2.1.1" class="ltx_text ltx_font_serif"> and <math id="S4.F2.2.1.1.m1.3" class="ltx_Math" alttext="f(x)=\log(x+1)" display="inline"><semantics id="S4.F2.2.1.1.m1.3b"><mrow id="S4.F2.2.1.1.m1.3.3" xref="S4.F2.2.1.1.m1.3.3.cmml"><mrow id="S4.F2.2.1.1.m1.3.3.3" xref="S4.F2.2.1.1.m1.3.3.3.cmml"><mi id="S4.F2.2.1.1.m1.3.3.3.2" xref="S4.F2.2.1.1.m1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.F2.2.1.1.m1.3.3.3.1" xref="S4.F2.2.1.1.m1.3.3.3.1.cmml">​</mo><mrow id="S4.F2.2.1.1.m1.3.3.3.3.2" xref="S4.F2.2.1.1.m1.3.3.3.cmml"><mo stretchy="false" id="S4.F2.2.1.1.m1.3.3.3.3.2.1" xref="S4.F2.2.1.1.m1.3.3.3.cmml">(</mo><mi id="S4.F2.2.1.1.m1.1.1" xref="S4.F2.2.1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S4.F2.2.1.1.m1.3.3.3.3.2.2" xref="S4.F2.2.1.1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S4.F2.2.1.1.m1.3.3.2" xref="S4.F2.2.1.1.m1.3.3.2.cmml">=</mo><mrow id="S4.F2.2.1.1.m1.3.3.1.1" xref="S4.F2.2.1.1.m1.3.3.1.2.cmml"><mi id="S4.F2.2.1.1.m1.2.2" xref="S4.F2.2.1.1.m1.2.2.cmml">log</mi><mo id="S4.F2.2.1.1.m1.3.3.1.1b" xref="S4.F2.2.1.1.m1.3.3.1.2.cmml">⁡</mo><mrow id="S4.F2.2.1.1.m1.3.3.1.1.1" xref="S4.F2.2.1.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S4.F2.2.1.1.m1.3.3.1.1.1.2" xref="S4.F2.2.1.1.m1.3.3.1.2.cmml">(</mo><mrow id="S4.F2.2.1.1.m1.3.3.1.1.1.1" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.cmml"><mi id="S4.F2.2.1.1.m1.3.3.1.1.1.1.2" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.2.cmml">x</mi><mo id="S4.F2.2.1.1.m1.3.3.1.1.1.1.1" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.1.cmml">+</mo><mn id="S4.F2.2.1.1.m1.3.3.1.1.1.1.3" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S4.F2.2.1.1.m1.3.3.1.1.1.3" xref="S4.F2.2.1.1.m1.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.2.1.1.m1.3c"><apply id="S4.F2.2.1.1.m1.3.3.cmml" xref="S4.F2.2.1.1.m1.3.3"><eq id="S4.F2.2.1.1.m1.3.3.2.cmml" xref="S4.F2.2.1.1.m1.3.3.2"></eq><apply id="S4.F2.2.1.1.m1.3.3.3.cmml" xref="S4.F2.2.1.1.m1.3.3.3"><times id="S4.F2.2.1.1.m1.3.3.3.1.cmml" xref="S4.F2.2.1.1.m1.3.3.3.1"></times><ci id="S4.F2.2.1.1.m1.3.3.3.2.cmml" xref="S4.F2.2.1.1.m1.3.3.3.2">𝑓</ci><ci id="S4.F2.2.1.1.m1.1.1.cmml" xref="S4.F2.2.1.1.m1.1.1">𝑥</ci></apply><apply id="S4.F2.2.1.1.m1.3.3.1.2.cmml" xref="S4.F2.2.1.1.m1.3.3.1.1"><log id="S4.F2.2.1.1.m1.2.2.cmml" xref="S4.F2.2.1.1.m1.2.2"></log><apply id="S4.F2.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1"><plus id="S4.F2.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.1"></plus><ci id="S4.F2.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S4.F2.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.F2.2.1.1.m1.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.2.1.1.m1.3d">f(x)=\log(x+1)</annotation></semantics></math> on 6 months of data; </span>o-s<span id="S4.F2.2.1.4" class="ltx_text ltx_font_serif"> stands for “<span id="S4.F2.2.1.4.1" class="ltx_text ltx_font_italic">one-shot</span>”.</span></span></figcaption>
</figure>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2202.03925/assets/utt_test_FL_all_FL_FedOpt.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="200" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf1.6.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F3.sf1.7.2" class="ltx_text ltx_font_italic" style="font-size:90%;">One-shot FL<span id="S4.F3.sf1.7.2.1" class="ltx_text ltx_font_upright">. <span id="S4.F3.sf1.7.2.1.1" class="ltx_text ltx_font_bold">Left</span>: 3 months; <span id="S4.F3.sf1.7.2.1.2" class="ltx_text ltx_font_bold">middle</span>: 6 months; <span id="S4.F3.sf1.7.2.1.3" class="ltx_text ltx_font_bold">right</span>: 11 months.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2202.03925/assets/utt_test_FL_all_continual_FedOpt.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="598" height="598" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F3.sf2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Continual FL<span id="S4.F3.sf2.4.2.1" class="ltx_text ltx_font_upright">.</span></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.10.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Fig. 3</span>: </span><span id="S4.F3.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">FedOpt<span id="S4.F3.2.1.2" class="ltx_text ltx_font_serif">.
RCP compared to the the baseline model on the whole test set.
(<a href="#S4.F3.sf1" title="Figure 3(a) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>) Baseline: standard </span>FedAVG<span id="S4.F3.2.1.3" class="ltx_text ltx_font_serif"> on 11 months of data; (<a href="#S4.F3.sf2" title="Figure 3(b) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(b)</span></a>) Baseline: <span id="S4.F3.2.1.3.1" class="ltx_text ltx_font_italic">one-shot FL</span> </span>FedAVG<span id="S4.F3.2.1.1" class="ltx_text ltx_font_serif"> and <math id="S4.F3.2.1.1.m1.3" class="ltx_Math" alttext="f(x)=\log(x+1)" display="inline"><semantics id="S4.F3.2.1.1.m1.3b"><mrow id="S4.F3.2.1.1.m1.3.3" xref="S4.F3.2.1.1.m1.3.3.cmml"><mrow id="S4.F3.2.1.1.m1.3.3.3" xref="S4.F3.2.1.1.m1.3.3.3.cmml"><mi id="S4.F3.2.1.1.m1.3.3.3.2" xref="S4.F3.2.1.1.m1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.F3.2.1.1.m1.3.3.3.1" xref="S4.F3.2.1.1.m1.3.3.3.1.cmml">​</mo><mrow id="S4.F3.2.1.1.m1.3.3.3.3.2" xref="S4.F3.2.1.1.m1.3.3.3.cmml"><mo stretchy="false" id="S4.F3.2.1.1.m1.3.3.3.3.2.1" xref="S4.F3.2.1.1.m1.3.3.3.cmml">(</mo><mi id="S4.F3.2.1.1.m1.1.1" xref="S4.F3.2.1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S4.F3.2.1.1.m1.3.3.3.3.2.2" xref="S4.F3.2.1.1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S4.F3.2.1.1.m1.3.3.2" xref="S4.F3.2.1.1.m1.3.3.2.cmml">=</mo><mrow id="S4.F3.2.1.1.m1.3.3.1.1" xref="S4.F3.2.1.1.m1.3.3.1.2.cmml"><mi id="S4.F3.2.1.1.m1.2.2" xref="S4.F3.2.1.1.m1.2.2.cmml">log</mi><mo id="S4.F3.2.1.1.m1.3.3.1.1b" xref="S4.F3.2.1.1.m1.3.3.1.2.cmml">⁡</mo><mrow id="S4.F3.2.1.1.m1.3.3.1.1.1" xref="S4.F3.2.1.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S4.F3.2.1.1.m1.3.3.1.1.1.2" xref="S4.F3.2.1.1.m1.3.3.1.2.cmml">(</mo><mrow id="S4.F3.2.1.1.m1.3.3.1.1.1.1" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.cmml"><mi id="S4.F3.2.1.1.m1.3.3.1.1.1.1.2" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.2.cmml">x</mi><mo id="S4.F3.2.1.1.m1.3.3.1.1.1.1.1" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.1.cmml">+</mo><mn id="S4.F3.2.1.1.m1.3.3.1.1.1.1.3" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S4.F3.2.1.1.m1.3.3.1.1.1.3" xref="S4.F3.2.1.1.m1.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.2.1.1.m1.3c"><apply id="S4.F3.2.1.1.m1.3.3.cmml" xref="S4.F3.2.1.1.m1.3.3"><eq id="S4.F3.2.1.1.m1.3.3.2.cmml" xref="S4.F3.2.1.1.m1.3.3.2"></eq><apply id="S4.F3.2.1.1.m1.3.3.3.cmml" xref="S4.F3.2.1.1.m1.3.3.3"><times id="S4.F3.2.1.1.m1.3.3.3.1.cmml" xref="S4.F3.2.1.1.m1.3.3.3.1"></times><ci id="S4.F3.2.1.1.m1.3.3.3.2.cmml" xref="S4.F3.2.1.1.m1.3.3.3.2">𝑓</ci><ci id="S4.F3.2.1.1.m1.1.1.cmml" xref="S4.F3.2.1.1.m1.1.1">𝑥</ci></apply><apply id="S4.F3.2.1.1.m1.3.3.1.2.cmml" xref="S4.F3.2.1.1.m1.3.3.1.1"><log id="S4.F3.2.1.1.m1.2.2.cmml" xref="S4.F3.2.1.1.m1.2.2"></log><apply id="S4.F3.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1"><plus id="S4.F3.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.1"></plus><ci id="S4.F3.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S4.F3.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.F3.2.1.1.m1.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.2.1.1.m1.3d">f(x)=\log(x+1)</annotation></semantics></math> on 6 months of data; </span>o-s<span id="S4.F3.2.1.4" class="ltx_text ltx_font_serif"> stands for “<span id="S4.F3.2.1.4.1" class="ltx_text ltx_font_italic">one-shot</span>”.</span></span></figcaption>
</figure>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2202.03925/assets/innovation.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="359" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Fig. 4</span>: </span><span id="S4.F4.3.2" class="ltx_text" style="font-size:90%;">Average repartition of new utterances over a period.</span></figcaption>
</figure>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.11" class="ltx_p"><span id="S5.p1.11.1" class="ltx_text ltx_font_bold">One-shot FL – Figures <a href="#S2.F1.sf1" title="Figure 1(a) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(a)</span></a>, <a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a> and <a href="#S4.F3.sf1" title="Figure 3(a) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>.</span>   
The baseline for the RCP computation is the standard <span id="S5.p1.11.2" class="ltx_text ltx_font_italic">one-shot</span> <span id="S5.p1.11.3" class="ltx_text ltx_font_typewriter">FedAVG</span> trained on 11 months of data.
Increasing the amount of training data is clearly beneficial for <span id="S5.p1.11.4" class="ltx_text ltx_font_typewriter">FedOpt</span>, but not as much for <span id="S5.p1.11.5" class="ltx_text ltx_font_typewriter">FedAVG</span> (Figure <a href="#S2.F1.sf1" title="Figure 1(a) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(a)</span></a>). As a result, <span id="S5.p1.11.6" class="ltx_text ltx_font_typewriter">FedOpt</span> outperforms <span id="S5.p1.11.7" class="ltx_text ltx_font_typewriter">FedAVG</span> for most of the selection strategies with 11 months of training data. It’s the other way around for <math id="S5.p1.1.m1.3" class="ltx_Math" alttext="|T|\in\{3\text{ months},6\text{ months}\}" display="inline"><semantics id="S5.p1.1.m1.3a"><mrow id="S5.p1.1.m1.3.3" xref="S5.p1.1.m1.3.3.cmml"><mrow id="S5.p1.1.m1.3.3.4.2" xref="S5.p1.1.m1.3.3.4.1.cmml"><mo stretchy="false" id="S5.p1.1.m1.3.3.4.2.1" xref="S5.p1.1.m1.3.3.4.1.1.cmml">|</mo><mi id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">T</mi><mo stretchy="false" id="S5.p1.1.m1.3.3.4.2.2" xref="S5.p1.1.m1.3.3.4.1.1.cmml">|</mo></mrow><mo id="S5.p1.1.m1.3.3.3" xref="S5.p1.1.m1.3.3.3.cmml">∈</mo><mrow id="S5.p1.1.m1.3.3.2.2" xref="S5.p1.1.m1.3.3.2.3.cmml"><mo stretchy="false" id="S5.p1.1.m1.3.3.2.2.3" xref="S5.p1.1.m1.3.3.2.3.cmml">{</mo><mrow id="S5.p1.1.m1.2.2.1.1.1" xref="S5.p1.1.m1.2.2.1.1.1.cmml"><mn id="S5.p1.1.m1.2.2.1.1.1.2" xref="S5.p1.1.m1.2.2.1.1.1.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="S5.p1.1.m1.2.2.1.1.1.1" xref="S5.p1.1.m1.2.2.1.1.1.1.cmml">​</mo><mtext id="S5.p1.1.m1.2.2.1.1.1.3" xref="S5.p1.1.m1.2.2.1.1.1.3a.cmml"> months</mtext></mrow><mo id="S5.p1.1.m1.3.3.2.2.4" xref="S5.p1.1.m1.3.3.2.3.cmml">,</mo><mrow id="S5.p1.1.m1.3.3.2.2.2" xref="S5.p1.1.m1.3.3.2.2.2.cmml"><mn id="S5.p1.1.m1.3.3.2.2.2.2" xref="S5.p1.1.m1.3.3.2.2.2.2.cmml">6</mn><mo lspace="0em" rspace="0em" id="S5.p1.1.m1.3.3.2.2.2.1" xref="S5.p1.1.m1.3.3.2.2.2.1.cmml">​</mo><mtext id="S5.p1.1.m1.3.3.2.2.2.3" xref="S5.p1.1.m1.3.3.2.2.2.3a.cmml"> months</mtext></mrow><mo stretchy="false" id="S5.p1.1.m1.3.3.2.2.5" xref="S5.p1.1.m1.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.3b"><apply id="S5.p1.1.m1.3.3.cmml" xref="S5.p1.1.m1.3.3"><in id="S5.p1.1.m1.3.3.3.cmml" xref="S5.p1.1.m1.3.3.3"></in><apply id="S5.p1.1.m1.3.3.4.1.cmml" xref="S5.p1.1.m1.3.3.4.2"><abs id="S5.p1.1.m1.3.3.4.1.1.cmml" xref="S5.p1.1.m1.3.3.4.2.1"></abs><ci id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1">𝑇</ci></apply><set id="S5.p1.1.m1.3.3.2.3.cmml" xref="S5.p1.1.m1.3.3.2.2"><apply id="S5.p1.1.m1.2.2.1.1.1.cmml" xref="S5.p1.1.m1.2.2.1.1.1"><times id="S5.p1.1.m1.2.2.1.1.1.1.cmml" xref="S5.p1.1.m1.2.2.1.1.1.1"></times><cn type="integer" id="S5.p1.1.m1.2.2.1.1.1.2.cmml" xref="S5.p1.1.m1.2.2.1.1.1.2">3</cn><ci id="S5.p1.1.m1.2.2.1.1.1.3a.cmml" xref="S5.p1.1.m1.2.2.1.1.1.3"><mtext id="S5.p1.1.m1.2.2.1.1.1.3.cmml" xref="S5.p1.1.m1.2.2.1.1.1.3"> months</mtext></ci></apply><apply id="S5.p1.1.m1.3.3.2.2.2.cmml" xref="S5.p1.1.m1.3.3.2.2.2"><times id="S5.p1.1.m1.3.3.2.2.2.1.cmml" xref="S5.p1.1.m1.3.3.2.2.2.1"></times><cn type="integer" id="S5.p1.1.m1.3.3.2.2.2.2.cmml" xref="S5.p1.1.m1.3.3.2.2.2.2">6</cn><ci id="S5.p1.1.m1.3.3.2.2.2.3a.cmml" xref="S5.p1.1.m1.3.3.2.2.2.3"><mtext id="S5.p1.1.m1.3.3.2.2.2.3.cmml" xref="S5.p1.1.m1.3.3.2.2.2.3"> months</mtext></ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.3c">|T|\in\{3\text{ months},6\text{ months}\}</annotation></semantics></math>.
Interestingly, standard <span id="S5.p1.11.8" class="ltx_text ltx_font_typewriter">FedAVG</span> using the entire 11 months of training data performs worse than almost any other strategy, possibly due to a combination of overfitting and sub-optimal selection strategy.
In Figures <a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a> and <a href="#S4.F3.sf1" title="Figure 3(a) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>, for every method, the perplexity is lower for devices with a higher number of utterances. Every curve sees an uptick in perplexity for the last decile. From the heaviest devices (especially the top 1%), some also have a high number of utterances in the test set and are harder to predict.
<br class="ltx_break"><span id="S5.p1.11.9" class="ltx_text ltx_font_typewriter ltx_font_bold">FedAVG</span>: the different sampling strategies significantly affect the performance of the resulting model. Overall, for shorter time range (left 2 plots in Figure <a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>), using the standard uniform sampling (<math id="S5.p1.2.m2.1" class="ltx_Math" alttext="f(x)=1" display="inline"><semantics id="S5.p1.2.m2.1a"><mrow id="S5.p1.2.m2.1.2" xref="S5.p1.2.m2.1.2.cmml"><mrow id="S5.p1.2.m2.1.2.2" xref="S5.p1.2.m2.1.2.2.cmml"><mi id="S5.p1.2.m2.1.2.2.2" xref="S5.p1.2.m2.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.2.m2.1.2.2.1" xref="S5.p1.2.m2.1.2.2.1.cmml">​</mo><mrow id="S5.p1.2.m2.1.2.2.3.2" xref="S5.p1.2.m2.1.2.2.cmml"><mo stretchy="false" id="S5.p1.2.m2.1.2.2.3.2.1" xref="S5.p1.2.m2.1.2.2.cmml">(</mo><mi id="S5.p1.2.m2.1.1" xref="S5.p1.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.2.m2.1.2.2.3.2.2" xref="S5.p1.2.m2.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.2.m2.1.2.1" xref="S5.p1.2.m2.1.2.1.cmml">=</mo><mn id="S5.p1.2.m2.1.2.3" xref="S5.p1.2.m2.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b"><apply id="S5.p1.2.m2.1.2.cmml" xref="S5.p1.2.m2.1.2"><eq id="S5.p1.2.m2.1.2.1.cmml" xref="S5.p1.2.m2.1.2.1"></eq><apply id="S5.p1.2.m2.1.2.2.cmml" xref="S5.p1.2.m2.1.2.2"><times id="S5.p1.2.m2.1.2.2.1.cmml" xref="S5.p1.2.m2.1.2.2.1"></times><ci id="S5.p1.2.m2.1.2.2.2.cmml" xref="S5.p1.2.m2.1.2.2.2">𝑓</ci><ci id="S5.p1.2.m2.1.1.cmml" xref="S5.p1.2.m2.1.1">𝑥</ci></apply><cn type="integer" id="S5.p1.2.m2.1.2.3.cmml" xref="S5.p1.2.m2.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">f(x)=1</annotation></semantics></math>) provides one of the best strategies, on par with the log-based sampling.
However, for longer time horizon (right plot in Figure <a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>), non-uniform sampling provides much better results. The model where the probability to select device <math id="S5.p1.3.m3.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S5.p1.3.m3.1a"><mi id="S5.p1.3.m3.1.1" xref="S5.p1.3.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S5.p1.3.m3.1b"><ci id="S5.p1.3.m3.1.1.cmml" xref="S5.p1.3.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.3.m3.1c">m</annotation></semantics></math> is proportional to <math id="S5.p1.4.m4.3" class="ltx_Math" alttext="f(n_{m})=\frac{1}{\log(n_{m}+1)}" display="inline"><semantics id="S5.p1.4.m4.3a"><mrow id="S5.p1.4.m4.3.3" xref="S5.p1.4.m4.3.3.cmml"><mrow id="S5.p1.4.m4.3.3.1" xref="S5.p1.4.m4.3.3.1.cmml"><mi id="S5.p1.4.m4.3.3.1.3" xref="S5.p1.4.m4.3.3.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.4.m4.3.3.1.2" xref="S5.p1.4.m4.3.3.1.2.cmml">​</mo><mrow id="S5.p1.4.m4.3.3.1.1.1" xref="S5.p1.4.m4.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S5.p1.4.m4.3.3.1.1.1.2" xref="S5.p1.4.m4.3.3.1.1.1.1.cmml">(</mo><msub id="S5.p1.4.m4.3.3.1.1.1.1" xref="S5.p1.4.m4.3.3.1.1.1.1.cmml"><mi id="S5.p1.4.m4.3.3.1.1.1.1.2" xref="S5.p1.4.m4.3.3.1.1.1.1.2.cmml">n</mi><mi id="S5.p1.4.m4.3.3.1.1.1.1.3" xref="S5.p1.4.m4.3.3.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S5.p1.4.m4.3.3.1.1.1.3" xref="S5.p1.4.m4.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.p1.4.m4.3.3.2" xref="S5.p1.4.m4.3.3.2.cmml">=</mo><mfrac id="S5.p1.4.m4.2.2" xref="S5.p1.4.m4.2.2.cmml"><mn id="S5.p1.4.m4.2.2.4" xref="S5.p1.4.m4.2.2.4.cmml">1</mn><mrow id="S5.p1.4.m4.2.2.2.2" xref="S5.p1.4.m4.2.2.2.3.cmml"><mi id="S5.p1.4.m4.1.1.1.1" xref="S5.p1.4.m4.1.1.1.1.cmml">log</mi><mo id="S5.p1.4.m4.2.2.2.2a" xref="S5.p1.4.m4.2.2.2.3.cmml">⁡</mo><mrow id="S5.p1.4.m4.2.2.2.2.1" xref="S5.p1.4.m4.2.2.2.3.cmml"><mo stretchy="false" id="S5.p1.4.m4.2.2.2.2.1.2" xref="S5.p1.4.m4.2.2.2.3.cmml">(</mo><mrow id="S5.p1.4.m4.2.2.2.2.1.1" xref="S5.p1.4.m4.2.2.2.2.1.1.cmml"><msub id="S5.p1.4.m4.2.2.2.2.1.1.2" xref="S5.p1.4.m4.2.2.2.2.1.1.2.cmml"><mi id="S5.p1.4.m4.2.2.2.2.1.1.2.2" xref="S5.p1.4.m4.2.2.2.2.1.1.2.2.cmml">n</mi><mi id="S5.p1.4.m4.2.2.2.2.1.1.2.3" xref="S5.p1.4.m4.2.2.2.2.1.1.2.3.cmml">m</mi></msub><mo id="S5.p1.4.m4.2.2.2.2.1.1.1" xref="S5.p1.4.m4.2.2.2.2.1.1.1.cmml">+</mo><mn id="S5.p1.4.m4.2.2.2.2.1.1.3" xref="S5.p1.4.m4.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p1.4.m4.2.2.2.2.1.3" xref="S5.p1.4.m4.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.4.m4.3b"><apply id="S5.p1.4.m4.3.3.cmml" xref="S5.p1.4.m4.3.3"><eq id="S5.p1.4.m4.3.3.2.cmml" xref="S5.p1.4.m4.3.3.2"></eq><apply id="S5.p1.4.m4.3.3.1.cmml" xref="S5.p1.4.m4.3.3.1"><times id="S5.p1.4.m4.3.3.1.2.cmml" xref="S5.p1.4.m4.3.3.1.2"></times><ci id="S5.p1.4.m4.3.3.1.3.cmml" xref="S5.p1.4.m4.3.3.1.3">𝑓</ci><apply id="S5.p1.4.m4.3.3.1.1.1.1.cmml" xref="S5.p1.4.m4.3.3.1.1.1"><csymbol cd="ambiguous" id="S5.p1.4.m4.3.3.1.1.1.1.1.cmml" xref="S5.p1.4.m4.3.3.1.1.1">subscript</csymbol><ci id="S5.p1.4.m4.3.3.1.1.1.1.2.cmml" xref="S5.p1.4.m4.3.3.1.1.1.1.2">𝑛</ci><ci id="S5.p1.4.m4.3.3.1.1.1.1.3.cmml" xref="S5.p1.4.m4.3.3.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S5.p1.4.m4.2.2.cmml" xref="S5.p1.4.m4.2.2"><divide id="S5.p1.4.m4.2.2.3.cmml" xref="S5.p1.4.m4.2.2"></divide><cn type="integer" id="S5.p1.4.m4.2.2.4.cmml" xref="S5.p1.4.m4.2.2.4">1</cn><apply id="S5.p1.4.m4.2.2.2.3.cmml" xref="S5.p1.4.m4.2.2.2.2"><log id="S5.p1.4.m4.1.1.1.1.cmml" xref="S5.p1.4.m4.1.1.1.1"></log><apply id="S5.p1.4.m4.2.2.2.2.1.1.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1"><plus id="S5.p1.4.m4.2.2.2.2.1.1.1.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.1"></plus><apply id="S5.p1.4.m4.2.2.2.2.1.1.2.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S5.p1.4.m4.2.2.2.2.1.1.2.1.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.2">subscript</csymbol><ci id="S5.p1.4.m4.2.2.2.2.1.1.2.2.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.2.2">𝑛</ci><ci id="S5.p1.4.m4.2.2.2.2.1.1.2.3.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.2.3">𝑚</ci></apply><cn type="integer" id="S5.p1.4.m4.2.2.2.2.1.1.3.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.4.m4.3c">f(n_{m})=\frac{1}{\log(n_{m}+1)}</annotation></semantics></math> outperforms all the other models trained using <span id="S5.p1.11.10" class="ltx_text ltx_font_typewriter">FedAVG</span>. In this strategy we tend to select lighter devices with higher probability.
Conversely, selection strategies that are restricted to a subset of devices (heavy or light devices only and <math id="S5.p1.5.m5.1" class="ltx_Math" alttext="f(x)=x" display="inline"><semantics id="S5.p1.5.m5.1a"><mrow id="S5.p1.5.m5.1.2" xref="S5.p1.5.m5.1.2.cmml"><mrow id="S5.p1.5.m5.1.2.2" xref="S5.p1.5.m5.1.2.2.cmml"><mi id="S5.p1.5.m5.1.2.2.2" xref="S5.p1.5.m5.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.5.m5.1.2.2.1" xref="S5.p1.5.m5.1.2.2.1.cmml">​</mo><mrow id="S5.p1.5.m5.1.2.2.3.2" xref="S5.p1.5.m5.1.2.2.cmml"><mo stretchy="false" id="S5.p1.5.m5.1.2.2.3.2.1" xref="S5.p1.5.m5.1.2.2.cmml">(</mo><mi id="S5.p1.5.m5.1.1" xref="S5.p1.5.m5.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.5.m5.1.2.2.3.2.2" xref="S5.p1.5.m5.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.5.m5.1.2.1" xref="S5.p1.5.m5.1.2.1.cmml">=</mo><mi id="S5.p1.5.m5.1.2.3" xref="S5.p1.5.m5.1.2.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.5.m5.1b"><apply id="S5.p1.5.m5.1.2.cmml" xref="S5.p1.5.m5.1.2"><eq id="S5.p1.5.m5.1.2.1.cmml" xref="S5.p1.5.m5.1.2.1"></eq><apply id="S5.p1.5.m5.1.2.2.cmml" xref="S5.p1.5.m5.1.2.2"><times id="S5.p1.5.m5.1.2.2.1.cmml" xref="S5.p1.5.m5.1.2.2.1"></times><ci id="S5.p1.5.m5.1.2.2.2.cmml" xref="S5.p1.5.m5.1.2.2.2">𝑓</ci><ci id="S5.p1.5.m5.1.1.cmml" xref="S5.p1.5.m5.1.1">𝑥</ci></apply><ci id="S5.p1.5.m5.1.2.3.cmml" xref="S5.p1.5.m5.1.2.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.5.m5.1c">f(x)=x</annotation></semantics></math>) perform poorly. The selection <math id="S5.p1.6.m6.1" class="ltx_Math" alttext="f(x)=x" display="inline"><semantics id="S5.p1.6.m6.1a"><mrow id="S5.p1.6.m6.1.2" xref="S5.p1.6.m6.1.2.cmml"><mrow id="S5.p1.6.m6.1.2.2" xref="S5.p1.6.m6.1.2.2.cmml"><mi id="S5.p1.6.m6.1.2.2.2" xref="S5.p1.6.m6.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.6.m6.1.2.2.1" xref="S5.p1.6.m6.1.2.2.1.cmml">​</mo><mrow id="S5.p1.6.m6.1.2.2.3.2" xref="S5.p1.6.m6.1.2.2.cmml"><mo stretchy="false" id="S5.p1.6.m6.1.2.2.3.2.1" xref="S5.p1.6.m6.1.2.2.cmml">(</mo><mi id="S5.p1.6.m6.1.1" xref="S5.p1.6.m6.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.6.m6.1.2.2.3.2.2" xref="S5.p1.6.m6.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.6.m6.1.2.1" xref="S5.p1.6.m6.1.2.1.cmml">=</mo><mi id="S5.p1.6.m6.1.2.3" xref="S5.p1.6.m6.1.2.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.6.m6.1b"><apply id="S5.p1.6.m6.1.2.cmml" xref="S5.p1.6.m6.1.2"><eq id="S5.p1.6.m6.1.2.1.cmml" xref="S5.p1.6.m6.1.2.1"></eq><apply id="S5.p1.6.m6.1.2.2.cmml" xref="S5.p1.6.m6.1.2.2"><times id="S5.p1.6.m6.1.2.2.1.cmml" xref="S5.p1.6.m6.1.2.2.1"></times><ci id="S5.p1.6.m6.1.2.2.2.cmml" xref="S5.p1.6.m6.1.2.2.2">𝑓</ci><ci id="S5.p1.6.m6.1.1.cmml" xref="S5.p1.6.m6.1.1">𝑥</ci></apply><ci id="S5.p1.6.m6.1.2.3.cmml" xref="S5.p1.6.m6.1.2.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.6.m6.1c">f(x)=x</annotation></semantics></math> performs worse than when restricting sampling to the top 20% devices because of the distribution of the devices: their number of utterances varies wildly across the dataset (with a factor of <math id="S5.p1.7.m7.1" class="ltx_Math" alttext="&gt;10^{4}" display="inline"><semantics id="S5.p1.7.m7.1a"><mrow id="S5.p1.7.m7.1.1" xref="S5.p1.7.m7.1.1.cmml"><mi id="S5.p1.7.m7.1.1.2" xref="S5.p1.7.m7.1.1.2.cmml"></mi><mo id="S5.p1.7.m7.1.1.1" xref="S5.p1.7.m7.1.1.1.cmml">&gt;</mo><msup id="S5.p1.7.m7.1.1.3" xref="S5.p1.7.m7.1.1.3.cmml"><mn id="S5.p1.7.m7.1.1.3.2" xref="S5.p1.7.m7.1.1.3.2.cmml">10</mn><mn id="S5.p1.7.m7.1.1.3.3" xref="S5.p1.7.m7.1.1.3.3.cmml">4</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.7.m7.1b"><apply id="S5.p1.7.m7.1.1.cmml" xref="S5.p1.7.m7.1.1"><gt id="S5.p1.7.m7.1.1.1.cmml" xref="S5.p1.7.m7.1.1.1"></gt><csymbol cd="latexml" id="S5.p1.7.m7.1.1.2.cmml" xref="S5.p1.7.m7.1.1.2">absent</csymbol><apply id="S5.p1.7.m7.1.1.3.cmml" xref="S5.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S5.p1.7.m7.1.1.3.1.cmml" xref="S5.p1.7.m7.1.1.3">superscript</csymbol><cn type="integer" id="S5.p1.7.m7.1.1.3.2.cmml" xref="S5.p1.7.m7.1.1.3.2">10</cn><cn type="integer" id="S5.p1.7.m7.1.1.3.3.cmml" xref="S5.p1.7.m7.1.1.3.3">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.7.m7.1c">&gt;10^{4}</annotation></semantics></math>), and choosing <math id="S5.p1.8.m8.1" class="ltx_Math" alttext="f(x)=x" display="inline"><semantics id="S5.p1.8.m8.1a"><mrow id="S5.p1.8.m8.1.2" xref="S5.p1.8.m8.1.2.cmml"><mrow id="S5.p1.8.m8.1.2.2" xref="S5.p1.8.m8.1.2.2.cmml"><mi id="S5.p1.8.m8.1.2.2.2" xref="S5.p1.8.m8.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.8.m8.1.2.2.1" xref="S5.p1.8.m8.1.2.2.1.cmml">​</mo><mrow id="S5.p1.8.m8.1.2.2.3.2" xref="S5.p1.8.m8.1.2.2.cmml"><mo stretchy="false" id="S5.p1.8.m8.1.2.2.3.2.1" xref="S5.p1.8.m8.1.2.2.cmml">(</mo><mi id="S5.p1.8.m8.1.1" xref="S5.p1.8.m8.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.8.m8.1.2.2.3.2.2" xref="S5.p1.8.m8.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.8.m8.1.2.1" xref="S5.p1.8.m8.1.2.1.cmml">=</mo><mi id="S5.p1.8.m8.1.2.3" xref="S5.p1.8.m8.1.2.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.8.m8.1b"><apply id="S5.p1.8.m8.1.2.cmml" xref="S5.p1.8.m8.1.2"><eq id="S5.p1.8.m8.1.2.1.cmml" xref="S5.p1.8.m8.1.2.1"></eq><apply id="S5.p1.8.m8.1.2.2.cmml" xref="S5.p1.8.m8.1.2.2"><times id="S5.p1.8.m8.1.2.2.1.cmml" xref="S5.p1.8.m8.1.2.2.1"></times><ci id="S5.p1.8.m8.1.2.2.2.cmml" xref="S5.p1.8.m8.1.2.2.2">𝑓</ci><ci id="S5.p1.8.m8.1.1.cmml" xref="S5.p1.8.m8.1.1">𝑥</ci></apply><ci id="S5.p1.8.m8.1.2.3.cmml" xref="S5.p1.8.m8.1.2.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.8.m8.1c">f(x)=x</annotation></semantics></math> implies the model is likely to select the same few devices (less than 20% total) having much more utterances than the rest. In terms of volume, it is not beneficial to extend the size of the data for <span id="S5.p1.11.11" class="ltx_text ltx_font_typewriter">FedAVG</span>, except for the best strategy <math id="S5.p1.9.m9.3" class="ltx_Math" alttext="f(x)=\frac{1}{\log(x+1)}" display="inline"><semantics id="S5.p1.9.m9.3a"><mrow id="S5.p1.9.m9.3.4" xref="S5.p1.9.m9.3.4.cmml"><mrow id="S5.p1.9.m9.3.4.2" xref="S5.p1.9.m9.3.4.2.cmml"><mi id="S5.p1.9.m9.3.4.2.2" xref="S5.p1.9.m9.3.4.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.9.m9.3.4.2.1" xref="S5.p1.9.m9.3.4.2.1.cmml">​</mo><mrow id="S5.p1.9.m9.3.4.2.3.2" xref="S5.p1.9.m9.3.4.2.cmml"><mo stretchy="false" id="S5.p1.9.m9.3.4.2.3.2.1" xref="S5.p1.9.m9.3.4.2.cmml">(</mo><mi id="S5.p1.9.m9.3.3" xref="S5.p1.9.m9.3.3.cmml">x</mi><mo stretchy="false" id="S5.p1.9.m9.3.4.2.3.2.2" xref="S5.p1.9.m9.3.4.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.9.m9.3.4.1" xref="S5.p1.9.m9.3.4.1.cmml">=</mo><mfrac id="S5.p1.9.m9.2.2" xref="S5.p1.9.m9.2.2.cmml"><mn id="S5.p1.9.m9.2.2.4" xref="S5.p1.9.m9.2.2.4.cmml">1</mn><mrow id="S5.p1.9.m9.2.2.2.2" xref="S5.p1.9.m9.2.2.2.3.cmml"><mi id="S5.p1.9.m9.1.1.1.1" xref="S5.p1.9.m9.1.1.1.1.cmml">log</mi><mo id="S5.p1.9.m9.2.2.2.2a" xref="S5.p1.9.m9.2.2.2.3.cmml">⁡</mo><mrow id="S5.p1.9.m9.2.2.2.2.1" xref="S5.p1.9.m9.2.2.2.3.cmml"><mo stretchy="false" id="S5.p1.9.m9.2.2.2.2.1.2" xref="S5.p1.9.m9.2.2.2.3.cmml">(</mo><mrow id="S5.p1.9.m9.2.2.2.2.1.1" xref="S5.p1.9.m9.2.2.2.2.1.1.cmml"><mi id="S5.p1.9.m9.2.2.2.2.1.1.2" xref="S5.p1.9.m9.2.2.2.2.1.1.2.cmml">x</mi><mo id="S5.p1.9.m9.2.2.2.2.1.1.1" xref="S5.p1.9.m9.2.2.2.2.1.1.1.cmml">+</mo><mn id="S5.p1.9.m9.2.2.2.2.1.1.3" xref="S5.p1.9.m9.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p1.9.m9.2.2.2.2.1.3" xref="S5.p1.9.m9.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.9.m9.3b"><apply id="S5.p1.9.m9.3.4.cmml" xref="S5.p1.9.m9.3.4"><eq id="S5.p1.9.m9.3.4.1.cmml" xref="S5.p1.9.m9.3.4.1"></eq><apply id="S5.p1.9.m9.3.4.2.cmml" xref="S5.p1.9.m9.3.4.2"><times id="S5.p1.9.m9.3.4.2.1.cmml" xref="S5.p1.9.m9.3.4.2.1"></times><ci id="S5.p1.9.m9.3.4.2.2.cmml" xref="S5.p1.9.m9.3.4.2.2">𝑓</ci><ci id="S5.p1.9.m9.3.3.cmml" xref="S5.p1.9.m9.3.3">𝑥</ci></apply><apply id="S5.p1.9.m9.2.2.cmml" xref="S5.p1.9.m9.2.2"><divide id="S5.p1.9.m9.2.2.3.cmml" xref="S5.p1.9.m9.2.2"></divide><cn type="integer" id="S5.p1.9.m9.2.2.4.cmml" xref="S5.p1.9.m9.2.2.4">1</cn><apply id="S5.p1.9.m9.2.2.2.3.cmml" xref="S5.p1.9.m9.2.2.2.2"><log id="S5.p1.9.m9.1.1.1.1.cmml" xref="S5.p1.9.m9.1.1.1.1"></log><apply id="S5.p1.9.m9.2.2.2.2.1.1.cmml" xref="S5.p1.9.m9.2.2.2.2.1.1"><plus id="S5.p1.9.m9.2.2.2.2.1.1.1.cmml" xref="S5.p1.9.m9.2.2.2.2.1.1.1"></plus><ci id="S5.p1.9.m9.2.2.2.2.1.1.2.cmml" xref="S5.p1.9.m9.2.2.2.2.1.1.2">𝑥</ci><cn type="integer" id="S5.p1.9.m9.2.2.2.2.1.1.3.cmml" xref="S5.p1.9.m9.2.2.2.2.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.9.m9.3c">f(x)=\frac{1}{\log(x+1)}</annotation></semantics></math> that performs much better with 6 months over 3 months of data, but only slightly better when using 11 months compared to 6 months. In Figure <a href="#S4.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>, we see that more training data mostly benefits light devices. For instance, with 3 months of data and <math id="S5.p1.10.m10.3" class="ltx_Math" alttext="f(x)=\frac{1}{\log(x+1)}" display="inline"><semantics id="S5.p1.10.m10.3a"><mrow id="S5.p1.10.m10.3.4" xref="S5.p1.10.m10.3.4.cmml"><mrow id="S5.p1.10.m10.3.4.2" xref="S5.p1.10.m10.3.4.2.cmml"><mi id="S5.p1.10.m10.3.4.2.2" xref="S5.p1.10.m10.3.4.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.10.m10.3.4.2.1" xref="S5.p1.10.m10.3.4.2.1.cmml">​</mo><mrow id="S5.p1.10.m10.3.4.2.3.2" xref="S5.p1.10.m10.3.4.2.cmml"><mo stretchy="false" id="S5.p1.10.m10.3.4.2.3.2.1" xref="S5.p1.10.m10.3.4.2.cmml">(</mo><mi id="S5.p1.10.m10.3.3" xref="S5.p1.10.m10.3.3.cmml">x</mi><mo stretchy="false" id="S5.p1.10.m10.3.4.2.3.2.2" xref="S5.p1.10.m10.3.4.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.10.m10.3.4.1" xref="S5.p1.10.m10.3.4.1.cmml">=</mo><mfrac id="S5.p1.10.m10.2.2" xref="S5.p1.10.m10.2.2.cmml"><mn id="S5.p1.10.m10.2.2.4" xref="S5.p1.10.m10.2.2.4.cmml">1</mn><mrow id="S5.p1.10.m10.2.2.2.2" xref="S5.p1.10.m10.2.2.2.3.cmml"><mi id="S5.p1.10.m10.1.1.1.1" xref="S5.p1.10.m10.1.1.1.1.cmml">log</mi><mo id="S5.p1.10.m10.2.2.2.2a" xref="S5.p1.10.m10.2.2.2.3.cmml">⁡</mo><mrow id="S5.p1.10.m10.2.2.2.2.1" xref="S5.p1.10.m10.2.2.2.3.cmml"><mo stretchy="false" id="S5.p1.10.m10.2.2.2.2.1.2" xref="S5.p1.10.m10.2.2.2.3.cmml">(</mo><mrow id="S5.p1.10.m10.2.2.2.2.1.1" xref="S5.p1.10.m10.2.2.2.2.1.1.cmml"><mi id="S5.p1.10.m10.2.2.2.2.1.1.2" xref="S5.p1.10.m10.2.2.2.2.1.1.2.cmml">x</mi><mo id="S5.p1.10.m10.2.2.2.2.1.1.1" xref="S5.p1.10.m10.2.2.2.2.1.1.1.cmml">+</mo><mn id="S5.p1.10.m10.2.2.2.2.1.1.3" xref="S5.p1.10.m10.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p1.10.m10.2.2.2.2.1.3" xref="S5.p1.10.m10.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.10.m10.3b"><apply id="S5.p1.10.m10.3.4.cmml" xref="S5.p1.10.m10.3.4"><eq id="S5.p1.10.m10.3.4.1.cmml" xref="S5.p1.10.m10.3.4.1"></eq><apply id="S5.p1.10.m10.3.4.2.cmml" xref="S5.p1.10.m10.3.4.2"><times id="S5.p1.10.m10.3.4.2.1.cmml" xref="S5.p1.10.m10.3.4.2.1"></times><ci id="S5.p1.10.m10.3.4.2.2.cmml" xref="S5.p1.10.m10.3.4.2.2">𝑓</ci><ci id="S5.p1.10.m10.3.3.cmml" xref="S5.p1.10.m10.3.3">𝑥</ci></apply><apply id="S5.p1.10.m10.2.2.cmml" xref="S5.p1.10.m10.2.2"><divide id="S5.p1.10.m10.2.2.3.cmml" xref="S5.p1.10.m10.2.2"></divide><cn type="integer" id="S5.p1.10.m10.2.2.4.cmml" xref="S5.p1.10.m10.2.2.4">1</cn><apply id="S5.p1.10.m10.2.2.2.3.cmml" xref="S5.p1.10.m10.2.2.2.2"><log id="S5.p1.10.m10.1.1.1.1.cmml" xref="S5.p1.10.m10.1.1.1.1"></log><apply id="S5.p1.10.m10.2.2.2.2.1.1.cmml" xref="S5.p1.10.m10.2.2.2.2.1.1"><plus id="S5.p1.10.m10.2.2.2.2.1.1.1.cmml" xref="S5.p1.10.m10.2.2.2.2.1.1.1"></plus><ci id="S5.p1.10.m10.2.2.2.2.1.1.2.cmml" xref="S5.p1.10.m10.2.2.2.2.1.1.2">𝑥</ci><cn type="integer" id="S5.p1.10.m10.2.2.2.2.1.1.3.cmml" xref="S5.p1.10.m10.2.2.2.2.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.10.m10.3c">f(x)=\frac{1}{\log(x+1)}</annotation></semantics></math>, the average RCP for the first decile is around 13% and drops to around 1% when using 11 months of data. For the last decile, RCP “only” drops from 2% to -5%.
<br class="ltx_break"><span id="S5.p1.11.12" class="ltx_text ltx_font_typewriter ltx_font_bold">FedOpt</span>: contrary to <span id="S5.p1.11.13" class="ltx_text ltx_font_typewriter">FedAVG</span>, the performance is similar across the selection strategies, except for selection restricted to <span id="S5.p1.11.14" class="ltx_text ltx_font_typewriter">light</span> devices that performs poorly in general. Restricting the training to the top 20% devices fares as well as the other strategies involving all the devices. As expected, this strategy outperforms on heavier devices and underperforms on lighter devices which have not been seen by the model.
From Figure <a href="#S4.F3.sf1" title="Figure 3(a) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>, uniform sampling provides better performance on light devices, but other strategies provide better performance on the overall test set (<math id="S5.p1.11.m11.4" class="ltx_Math" alttext="f(x)\in\{\log(x+1),\sqrt{x}\}" display="inline"><semantics id="S5.p1.11.m11.4a"><mrow id="S5.p1.11.m11.4.4" xref="S5.p1.11.m11.4.4.cmml"><mrow id="S5.p1.11.m11.4.4.3" xref="S5.p1.11.m11.4.4.3.cmml"><mi id="S5.p1.11.m11.4.4.3.2" xref="S5.p1.11.m11.4.4.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p1.11.m11.4.4.3.1" xref="S5.p1.11.m11.4.4.3.1.cmml">​</mo><mrow id="S5.p1.11.m11.4.4.3.3.2" xref="S5.p1.11.m11.4.4.3.cmml"><mo stretchy="false" id="S5.p1.11.m11.4.4.3.3.2.1" xref="S5.p1.11.m11.4.4.3.cmml">(</mo><mi id="S5.p1.11.m11.1.1" xref="S5.p1.11.m11.1.1.cmml">x</mi><mo stretchy="false" id="S5.p1.11.m11.4.4.3.3.2.2" xref="S5.p1.11.m11.4.4.3.cmml">)</mo></mrow></mrow><mo id="S5.p1.11.m11.4.4.2" xref="S5.p1.11.m11.4.4.2.cmml">∈</mo><mrow id="S5.p1.11.m11.4.4.1.1" xref="S5.p1.11.m11.4.4.1.2.cmml"><mo stretchy="false" id="S5.p1.11.m11.4.4.1.1.2" xref="S5.p1.11.m11.4.4.1.2.cmml">{</mo><mrow id="S5.p1.11.m11.4.4.1.1.1.1" xref="S5.p1.11.m11.4.4.1.1.1.2.cmml"><mi id="S5.p1.11.m11.2.2" xref="S5.p1.11.m11.2.2.cmml">log</mi><mo id="S5.p1.11.m11.4.4.1.1.1.1a" xref="S5.p1.11.m11.4.4.1.1.1.2.cmml">⁡</mo><mrow id="S5.p1.11.m11.4.4.1.1.1.1.1" xref="S5.p1.11.m11.4.4.1.1.1.2.cmml"><mo stretchy="false" id="S5.p1.11.m11.4.4.1.1.1.1.1.2" xref="S5.p1.11.m11.4.4.1.1.1.2.cmml">(</mo><mrow id="S5.p1.11.m11.4.4.1.1.1.1.1.1" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.cmml"><mi id="S5.p1.11.m11.4.4.1.1.1.1.1.1.2" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.2.cmml">x</mi><mo id="S5.p1.11.m11.4.4.1.1.1.1.1.1.1" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.1.cmml">+</mo><mn id="S5.p1.11.m11.4.4.1.1.1.1.1.1.3" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p1.11.m11.4.4.1.1.1.1.1.3" xref="S5.p1.11.m11.4.4.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.p1.11.m11.4.4.1.1.3" xref="S5.p1.11.m11.4.4.1.2.cmml">,</mo><msqrt id="S5.p1.11.m11.3.3" xref="S5.p1.11.m11.3.3.cmml"><mi id="S5.p1.11.m11.3.3.2" xref="S5.p1.11.m11.3.3.2.cmml">x</mi></msqrt><mo stretchy="false" id="S5.p1.11.m11.4.4.1.1.4" xref="S5.p1.11.m11.4.4.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.11.m11.4b"><apply id="S5.p1.11.m11.4.4.cmml" xref="S5.p1.11.m11.4.4"><in id="S5.p1.11.m11.4.4.2.cmml" xref="S5.p1.11.m11.4.4.2"></in><apply id="S5.p1.11.m11.4.4.3.cmml" xref="S5.p1.11.m11.4.4.3"><times id="S5.p1.11.m11.4.4.3.1.cmml" xref="S5.p1.11.m11.4.4.3.1"></times><ci id="S5.p1.11.m11.4.4.3.2.cmml" xref="S5.p1.11.m11.4.4.3.2">𝑓</ci><ci id="S5.p1.11.m11.1.1.cmml" xref="S5.p1.11.m11.1.1">𝑥</ci></apply><set id="S5.p1.11.m11.4.4.1.2.cmml" xref="S5.p1.11.m11.4.4.1.1"><apply id="S5.p1.11.m11.4.4.1.1.1.2.cmml" xref="S5.p1.11.m11.4.4.1.1.1.1"><log id="S5.p1.11.m11.2.2.cmml" xref="S5.p1.11.m11.2.2"></log><apply id="S5.p1.11.m11.4.4.1.1.1.1.1.1.cmml" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1"><plus id="S5.p1.11.m11.4.4.1.1.1.1.1.1.1.cmml" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.1"></plus><ci id="S5.p1.11.m11.4.4.1.1.1.1.1.1.2.cmml" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S5.p1.11.m11.4.4.1.1.1.1.1.1.3.cmml" xref="S5.p1.11.m11.4.4.1.1.1.1.1.1.3">1</cn></apply></apply><apply id="S5.p1.11.m11.3.3.cmml" xref="S5.p1.11.m11.3.3"><root id="S5.p1.11.m11.3.3a.cmml" xref="S5.p1.11.m11.3.3"></root><ci id="S5.p1.11.m11.3.3.2.cmml" xref="S5.p1.11.m11.3.3.2">𝑥</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.11.m11.4c">f(x)\in\{\log(x+1),\sqrt{x}\}</annotation></semantics></math>).</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.4" class="ltx_p"><span id="S5.p2.4.1" class="ltx_text ltx_font_bold">Continual FL – Figures <a href="#S2.F1.sf2" title="Figure 1(b) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(b)</span></a>, <a href="#S4.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a> and <a href="#S4.F3.sf2" title="Figure 3(b) ‣ Figure 3 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(b)</span></a>.</span>
The baseline is the best <span id="S5.p2.4.2" class="ltx_text ltx_font_italic">one-shot</span> model on the same 6 months: <span id="S5.p2.4.3" class="ltx_text ltx_font_typewriter">FedAVG</span> trained with <math id="S5.p2.1.m1.3" class="ltx_Math" alttext="{f(x)=\log(x+1)}" display="inline"><semantics id="S5.p2.1.m1.3a"><mrow id="S5.p2.1.m1.3.3" xref="S5.p2.1.m1.3.3.cmml"><mrow id="S5.p2.1.m1.3.3.3" xref="S5.p2.1.m1.3.3.3.cmml"><mi id="S5.p2.1.m1.3.3.3.2" xref="S5.p2.1.m1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p2.1.m1.3.3.3.1" xref="S5.p2.1.m1.3.3.3.1.cmml">​</mo><mrow id="S5.p2.1.m1.3.3.3.3.2" xref="S5.p2.1.m1.3.3.3.cmml"><mo stretchy="false" id="S5.p2.1.m1.3.3.3.3.2.1" xref="S5.p2.1.m1.3.3.3.cmml">(</mo><mi id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S5.p2.1.m1.3.3.3.3.2.2" xref="S5.p2.1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S5.p2.1.m1.3.3.2" xref="S5.p2.1.m1.3.3.2.cmml">=</mo><mrow id="S5.p2.1.m1.3.3.1.1" xref="S5.p2.1.m1.3.3.1.2.cmml"><mi id="S5.p2.1.m1.2.2" xref="S5.p2.1.m1.2.2.cmml">log</mi><mo id="S5.p2.1.m1.3.3.1.1a" xref="S5.p2.1.m1.3.3.1.2.cmml">⁡</mo><mrow id="S5.p2.1.m1.3.3.1.1.1" xref="S5.p2.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S5.p2.1.m1.3.3.1.1.1.2" xref="S5.p2.1.m1.3.3.1.2.cmml">(</mo><mrow id="S5.p2.1.m1.3.3.1.1.1.1" xref="S5.p2.1.m1.3.3.1.1.1.1.cmml"><mi id="S5.p2.1.m1.3.3.1.1.1.1.2" xref="S5.p2.1.m1.3.3.1.1.1.1.2.cmml">x</mi><mo id="S5.p2.1.m1.3.3.1.1.1.1.1" xref="S5.p2.1.m1.3.3.1.1.1.1.1.cmml">+</mo><mn id="S5.p2.1.m1.3.3.1.1.1.1.3" xref="S5.p2.1.m1.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p2.1.m1.3.3.1.1.1.3" xref="S5.p2.1.m1.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.3b"><apply id="S5.p2.1.m1.3.3.cmml" xref="S5.p2.1.m1.3.3"><eq id="S5.p2.1.m1.3.3.2.cmml" xref="S5.p2.1.m1.3.3.2"></eq><apply id="S5.p2.1.m1.3.3.3.cmml" xref="S5.p2.1.m1.3.3.3"><times id="S5.p2.1.m1.3.3.3.1.cmml" xref="S5.p2.1.m1.3.3.3.1"></times><ci id="S5.p2.1.m1.3.3.3.2.cmml" xref="S5.p2.1.m1.3.3.3.2">𝑓</ci><ci id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1">𝑥</ci></apply><apply id="S5.p2.1.m1.3.3.1.2.cmml" xref="S5.p2.1.m1.3.3.1.1"><log id="S5.p2.1.m1.2.2.cmml" xref="S5.p2.1.m1.2.2"></log><apply id="S5.p2.1.m1.3.3.1.1.1.1.cmml" xref="S5.p2.1.m1.3.3.1.1.1.1"><plus id="S5.p2.1.m1.3.3.1.1.1.1.1.cmml" xref="S5.p2.1.m1.3.3.1.1.1.1.1"></plus><ci id="S5.p2.1.m1.3.3.1.1.1.1.2.cmml" xref="S5.p2.1.m1.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S5.p2.1.m1.3.3.1.1.1.1.3.cmml" xref="S5.p2.1.m1.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.3c">{f(x)=\log(x+1)}</annotation></semantics></math>.
The advantage of <span id="S5.p2.4.4" class="ltx_text ltx_font_italic">continual FL</span> is the possibility to store less data on device but still train a model on the entire time period we consider.
From Figure <a href="#S2.F1.sf2" title="Figure 1(b) ‣ Figure 1 ‣ 2 Related Work ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(b)</span></a>, models trained with most selection strategies improve performance along the time periods, except <math id="S5.p2.2.m2.1" class="ltx_Math" alttext="f(x)=x" display="inline"><semantics id="S5.p2.2.m2.1a"><mrow id="S5.p2.2.m2.1.2" xref="S5.p2.2.m2.1.2.cmml"><mrow id="S5.p2.2.m2.1.2.2" xref="S5.p2.2.m2.1.2.2.cmml"><mi id="S5.p2.2.m2.1.2.2.2" xref="S5.p2.2.m2.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p2.2.m2.1.2.2.1" xref="S5.p2.2.m2.1.2.2.1.cmml">​</mo><mrow id="S5.p2.2.m2.1.2.2.3.2" xref="S5.p2.2.m2.1.2.2.cmml"><mo stretchy="false" id="S5.p2.2.m2.1.2.2.3.2.1" xref="S5.p2.2.m2.1.2.2.cmml">(</mo><mi id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S5.p2.2.m2.1.2.2.3.2.2" xref="S5.p2.2.m2.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p2.2.m2.1.2.1" xref="S5.p2.2.m2.1.2.1.cmml">=</mo><mi id="S5.p2.2.m2.1.2.3" xref="S5.p2.2.m2.1.2.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><apply id="S5.p2.2.m2.1.2.cmml" xref="S5.p2.2.m2.1.2"><eq id="S5.p2.2.m2.1.2.1.cmml" xref="S5.p2.2.m2.1.2.1"></eq><apply id="S5.p2.2.m2.1.2.2.cmml" xref="S5.p2.2.m2.1.2.2"><times id="S5.p2.2.m2.1.2.2.1.cmml" xref="S5.p2.2.m2.1.2.2.1"></times><ci id="S5.p2.2.m2.1.2.2.2.cmml" xref="S5.p2.2.m2.1.2.2.2">𝑓</ci><ci id="S5.p2.2.m2.1.1.cmml" xref="S5.p2.2.m2.1.1">𝑥</ci></apply><ci id="S5.p2.2.m2.1.2.3.cmml" xref="S5.p2.2.m2.1.2.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">f(x)=x</annotation></semantics></math>.
Several selection strategies with <span id="S5.p2.4.5" class="ltx_text ltx_font_italic">continual FL</span> display less than 5% relative degradation compared to the best <span id="S5.p2.4.6" class="ltx_text ltx_font_italic">one-shot FL</span> model after the third period of training (P3). <span id="S5.p2.4.7" class="ltx_text ltx_font_italic">Continual FL</span> consistently outperforms the <span id="S5.p2.4.8" class="ltx_text ltx_font_italic">one-shot FL</span> baseline for <span id="S5.p2.4.9" class="ltx_text ltx_font_typewriter">FedAVG</span> with <math id="S5.p2.3.m3.3" class="ltx_Math" alttext="f(x)=\log(x+1)" display="inline"><semantics id="S5.p2.3.m3.3a"><mrow id="S5.p2.3.m3.3.3" xref="S5.p2.3.m3.3.3.cmml"><mrow id="S5.p2.3.m3.3.3.3" xref="S5.p2.3.m3.3.3.3.cmml"><mi id="S5.p2.3.m3.3.3.3.2" xref="S5.p2.3.m3.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p2.3.m3.3.3.3.1" xref="S5.p2.3.m3.3.3.3.1.cmml">​</mo><mrow id="S5.p2.3.m3.3.3.3.3.2" xref="S5.p2.3.m3.3.3.3.cmml"><mo stretchy="false" id="S5.p2.3.m3.3.3.3.3.2.1" xref="S5.p2.3.m3.3.3.3.cmml">(</mo><mi id="S5.p2.3.m3.1.1" xref="S5.p2.3.m3.1.1.cmml">x</mi><mo stretchy="false" id="S5.p2.3.m3.3.3.3.3.2.2" xref="S5.p2.3.m3.3.3.3.cmml">)</mo></mrow></mrow><mo id="S5.p2.3.m3.3.3.2" xref="S5.p2.3.m3.3.3.2.cmml">=</mo><mrow id="S5.p2.3.m3.3.3.1.1" xref="S5.p2.3.m3.3.3.1.2.cmml"><mi id="S5.p2.3.m3.2.2" xref="S5.p2.3.m3.2.2.cmml">log</mi><mo id="S5.p2.3.m3.3.3.1.1a" xref="S5.p2.3.m3.3.3.1.2.cmml">⁡</mo><mrow id="S5.p2.3.m3.3.3.1.1.1" xref="S5.p2.3.m3.3.3.1.2.cmml"><mo stretchy="false" id="S5.p2.3.m3.3.3.1.1.1.2" xref="S5.p2.3.m3.3.3.1.2.cmml">(</mo><mrow id="S5.p2.3.m3.3.3.1.1.1.1" xref="S5.p2.3.m3.3.3.1.1.1.1.cmml"><mi id="S5.p2.3.m3.3.3.1.1.1.1.2" xref="S5.p2.3.m3.3.3.1.1.1.1.2.cmml">x</mi><mo id="S5.p2.3.m3.3.3.1.1.1.1.1" xref="S5.p2.3.m3.3.3.1.1.1.1.1.cmml">+</mo><mn id="S5.p2.3.m3.3.3.1.1.1.1.3" xref="S5.p2.3.m3.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p2.3.m3.3.3.1.1.1.3" xref="S5.p2.3.m3.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.3.m3.3b"><apply id="S5.p2.3.m3.3.3.cmml" xref="S5.p2.3.m3.3.3"><eq id="S5.p2.3.m3.3.3.2.cmml" xref="S5.p2.3.m3.3.3.2"></eq><apply id="S5.p2.3.m3.3.3.3.cmml" xref="S5.p2.3.m3.3.3.3"><times id="S5.p2.3.m3.3.3.3.1.cmml" xref="S5.p2.3.m3.3.3.3.1"></times><ci id="S5.p2.3.m3.3.3.3.2.cmml" xref="S5.p2.3.m3.3.3.3.2">𝑓</ci><ci id="S5.p2.3.m3.1.1.cmml" xref="S5.p2.3.m3.1.1">𝑥</ci></apply><apply id="S5.p2.3.m3.3.3.1.2.cmml" xref="S5.p2.3.m3.3.3.1.1"><log id="S5.p2.3.m3.2.2.cmml" xref="S5.p2.3.m3.2.2"></log><apply id="S5.p2.3.m3.3.3.1.1.1.1.cmml" xref="S5.p2.3.m3.3.3.1.1.1.1"><plus id="S5.p2.3.m3.3.3.1.1.1.1.1.cmml" xref="S5.p2.3.m3.3.3.1.1.1.1.1"></plus><ci id="S5.p2.3.m3.3.3.1.1.1.1.2.cmml" xref="S5.p2.3.m3.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S5.p2.3.m3.3.3.1.1.1.1.3.cmml" xref="S5.p2.3.m3.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.3.m3.3c">f(x)=\log(x+1)</annotation></semantics></math>. However, no other selection strategy beats the baseline with <span id="S5.p2.4.10" class="ltx_text ltx_font_italic">continual FL</span>, even if <math id="S5.p2.4.m4.1" class="ltx_Math" alttext="f(x)=\sqrt{x}" display="inline"><semantics id="S5.p2.4.m4.1a"><mrow id="S5.p2.4.m4.1.2" xref="S5.p2.4.m4.1.2.cmml"><mrow id="S5.p2.4.m4.1.2.2" xref="S5.p2.4.m4.1.2.2.cmml"><mi id="S5.p2.4.m4.1.2.2.2" xref="S5.p2.4.m4.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p2.4.m4.1.2.2.1" xref="S5.p2.4.m4.1.2.2.1.cmml">​</mo><mrow id="S5.p2.4.m4.1.2.2.3.2" xref="S5.p2.4.m4.1.2.2.cmml"><mo stretchy="false" id="S5.p2.4.m4.1.2.2.3.2.1" xref="S5.p2.4.m4.1.2.2.cmml">(</mo><mi id="S5.p2.4.m4.1.1" xref="S5.p2.4.m4.1.1.cmml">x</mi><mo stretchy="false" id="S5.p2.4.m4.1.2.2.3.2.2" xref="S5.p2.4.m4.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p2.4.m4.1.2.1" xref="S5.p2.4.m4.1.2.1.cmml">=</mo><msqrt id="S5.p2.4.m4.1.2.3" xref="S5.p2.4.m4.1.2.3.cmml"><mi id="S5.p2.4.m4.1.2.3.2" xref="S5.p2.4.m4.1.2.3.2.cmml">x</mi></msqrt></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.4.m4.1b"><apply id="S5.p2.4.m4.1.2.cmml" xref="S5.p2.4.m4.1.2"><eq id="S5.p2.4.m4.1.2.1.cmml" xref="S5.p2.4.m4.1.2.1"></eq><apply id="S5.p2.4.m4.1.2.2.cmml" xref="S5.p2.4.m4.1.2.2"><times id="S5.p2.4.m4.1.2.2.1.cmml" xref="S5.p2.4.m4.1.2.2.1"></times><ci id="S5.p2.4.m4.1.2.2.2.cmml" xref="S5.p2.4.m4.1.2.2.2">𝑓</ci><ci id="S5.p2.4.m4.1.1.cmml" xref="S5.p2.4.m4.1.1">𝑥</ci></apply><apply id="S5.p2.4.m4.1.2.3.cmml" xref="S5.p2.4.m4.1.2.3"><root id="S5.p2.4.m4.1.2.3a.cmml" xref="S5.p2.4.m4.1.2.3"></root><ci id="S5.p2.4.m4.1.2.3.2.cmml" xref="S5.p2.4.m4.1.2.3.2">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.4.m4.1c">f(x)=\sqrt{x}</annotation></semantics></math> is on par with the baseline for both <span id="S5.p2.4.11" class="ltx_text ltx_font_typewriter">FedAVG</span> and <span id="S5.p2.4.12" class="ltx_text ltx_font_typewriter">FedOpt</span>. Similar to <span id="S5.p2.4.13" class="ltx_text ltx_font_italic">one-shot FL</span>, the difference in performance across the selection strategies is larger for <span id="S5.p2.4.14" class="ltx_text ltx_font_typewriter">FedAVG</span> than for <span id="S5.p2.4.15" class="ltx_text ltx_font_typewriter">FedOpt</span>.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p"><span id="S5.p3.1.1" class="ltx_text ltx_font_typewriter ltx_font_bold">FedAVG</span>: The gap between <span id="S5.p3.1.2" class="ltx_text ltx_font_italic">one-shot FL</span> and <span id="S5.p3.1.3" class="ltx_text ltx_font_italic">continual FL</span> across device deciles for <math id="S5.p3.1.m1.3" class="ltx_Math" alttext="f(x)=\log(x+1)" display="inline"><semantics id="S5.p3.1.m1.3a"><mrow id="S5.p3.1.m1.3.3" xref="S5.p3.1.m1.3.3.cmml"><mrow id="S5.p3.1.m1.3.3.3" xref="S5.p3.1.m1.3.3.3.cmml"><mi id="S5.p3.1.m1.3.3.3.2" xref="S5.p3.1.m1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p3.1.m1.3.3.3.1" xref="S5.p3.1.m1.3.3.3.1.cmml">​</mo><mrow id="S5.p3.1.m1.3.3.3.3.2" xref="S5.p3.1.m1.3.3.3.cmml"><mo stretchy="false" id="S5.p3.1.m1.3.3.3.3.2.1" xref="S5.p3.1.m1.3.3.3.cmml">(</mo><mi id="S5.p3.1.m1.1.1" xref="S5.p3.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S5.p3.1.m1.3.3.3.3.2.2" xref="S5.p3.1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S5.p3.1.m1.3.3.2" xref="S5.p3.1.m1.3.3.2.cmml">=</mo><mrow id="S5.p3.1.m1.3.3.1.1" xref="S5.p3.1.m1.3.3.1.2.cmml"><mi id="S5.p3.1.m1.2.2" xref="S5.p3.1.m1.2.2.cmml">log</mi><mo id="S5.p3.1.m1.3.3.1.1a" xref="S5.p3.1.m1.3.3.1.2.cmml">⁡</mo><mrow id="S5.p3.1.m1.3.3.1.1.1" xref="S5.p3.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S5.p3.1.m1.3.3.1.1.1.2" xref="S5.p3.1.m1.3.3.1.2.cmml">(</mo><mrow id="S5.p3.1.m1.3.3.1.1.1.1" xref="S5.p3.1.m1.3.3.1.1.1.1.cmml"><mi id="S5.p3.1.m1.3.3.1.1.1.1.2" xref="S5.p3.1.m1.3.3.1.1.1.1.2.cmml">x</mi><mo id="S5.p3.1.m1.3.3.1.1.1.1.1" xref="S5.p3.1.m1.3.3.1.1.1.1.1.cmml">+</mo><mn id="S5.p3.1.m1.3.3.1.1.1.1.3" xref="S5.p3.1.m1.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.p3.1.m1.3.3.1.1.1.3" xref="S5.p3.1.m1.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.3b"><apply id="S5.p3.1.m1.3.3.cmml" xref="S5.p3.1.m1.3.3"><eq id="S5.p3.1.m1.3.3.2.cmml" xref="S5.p3.1.m1.3.3.2"></eq><apply id="S5.p3.1.m1.3.3.3.cmml" xref="S5.p3.1.m1.3.3.3"><times id="S5.p3.1.m1.3.3.3.1.cmml" xref="S5.p3.1.m1.3.3.3.1"></times><ci id="S5.p3.1.m1.3.3.3.2.cmml" xref="S5.p3.1.m1.3.3.3.2">𝑓</ci><ci id="S5.p3.1.m1.1.1.cmml" xref="S5.p3.1.m1.1.1">𝑥</ci></apply><apply id="S5.p3.1.m1.3.3.1.2.cmml" xref="S5.p3.1.m1.3.3.1.1"><log id="S5.p3.1.m1.2.2.cmml" xref="S5.p3.1.m1.2.2"></log><apply id="S5.p3.1.m1.3.3.1.1.1.1.cmml" xref="S5.p3.1.m1.3.3.1.1.1.1"><plus id="S5.p3.1.m1.3.3.1.1.1.1.1.cmml" xref="S5.p3.1.m1.3.3.1.1.1.1.1"></plus><ci id="S5.p3.1.m1.3.3.1.1.1.1.2.cmml" xref="S5.p3.1.m1.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S5.p3.1.m1.3.3.1.1.1.1.3.cmml" xref="S5.p3.1.m1.3.3.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.3c">f(x)=\log(x+1)</annotation></semantics></math> (black and red curves in Figure <a href="#S4.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>) indicates that <span id="S5.p3.1.4" class="ltx_text ltx_font_italic">continual FL</span> benefits the heavy devices. This is expected as heavier devices are more likely to have utterances in all the 3 periods used for training.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p"><span id="S5.p4.1.1" class="ltx_text ltx_font_typewriter ltx_font_bold">FedOpt</span>: Even if all the selection strategies used with <span id="S5.p4.1.2" class="ltx_text ltx_font_typewriter">FedOpt</span> perform worse than the <span id="S5.p4.1.3" class="ltx_text ltx_font_italic">one-shot</span> <span id="S5.p4.1.4" class="ltx_text ltx_font_typewriter">FedAVG</span> baseline, they are consistently on par with the <span id="S5.p4.1.5" class="ltx_text ltx_font_italic">one-shot</span> <span id="S5.p4.1.6" class="ltx_text ltx_font_typewriter">FedOpt</span> model across device deciles. Similar to <span id="S5.p4.1.7" class="ltx_text ltx_font_typewriter">FedAVG</span>, <span id="S5.p4.1.8" class="ltx_text ltx_font_italic">continual FL</span> benefits heavy devices more. For instance, <span id="S5.p4.1.9" class="ltx_text ltx_font_italic">continual FL</span> with <span id="S5.p4.1.10" class="ltx_text ltx_font_typewriter">FedOpt</span> and <math id="S5.p4.1.m1.1" class="ltx_Math" alttext="f(x)=\sqrt{x}" display="inline"><semantics id="S5.p4.1.m1.1a"><mrow id="S5.p4.1.m1.1.2" xref="S5.p4.1.m1.1.2.cmml"><mrow id="S5.p4.1.m1.1.2.2" xref="S5.p4.1.m1.1.2.2.cmml"><mi id="S5.p4.1.m1.1.2.2.2" xref="S5.p4.1.m1.1.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.p4.1.m1.1.2.2.1" xref="S5.p4.1.m1.1.2.2.1.cmml">​</mo><mrow id="S5.p4.1.m1.1.2.2.3.2" xref="S5.p4.1.m1.1.2.2.cmml"><mo stretchy="false" id="S5.p4.1.m1.1.2.2.3.2.1" xref="S5.p4.1.m1.1.2.2.cmml">(</mo><mi id="S5.p4.1.m1.1.1" xref="S5.p4.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S5.p4.1.m1.1.2.2.3.2.2" xref="S5.p4.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p4.1.m1.1.2.1" xref="S5.p4.1.m1.1.2.1.cmml">=</mo><msqrt id="S5.p4.1.m1.1.2.3" xref="S5.p4.1.m1.1.2.3.cmml"><mi id="S5.p4.1.m1.1.2.3.2" xref="S5.p4.1.m1.1.2.3.2.cmml">x</mi></msqrt></mrow><annotation-xml encoding="MathML-Content" id="S5.p4.1.m1.1b"><apply id="S5.p4.1.m1.1.2.cmml" xref="S5.p4.1.m1.1.2"><eq id="S5.p4.1.m1.1.2.1.cmml" xref="S5.p4.1.m1.1.2.1"></eq><apply id="S5.p4.1.m1.1.2.2.cmml" xref="S5.p4.1.m1.1.2.2"><times id="S5.p4.1.m1.1.2.2.1.cmml" xref="S5.p4.1.m1.1.2.2.1"></times><ci id="S5.p4.1.m1.1.2.2.2.cmml" xref="S5.p4.1.m1.1.2.2.2">𝑓</ci><ci id="S5.p4.1.m1.1.1.cmml" xref="S5.p4.1.m1.1.1">𝑥</ci></apply><apply id="S5.p4.1.m1.1.2.3.cmml" xref="S5.p4.1.m1.1.2.3"><root id="S5.p4.1.m1.1.2.3a.cmml" xref="S5.p4.1.m1.1.2.3"></root><ci id="S5.p4.1.m1.1.2.3.2.cmml" xref="S5.p4.1.m1.1.2.3.2">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p4.1.m1.1c">f(x)=\sqrt{x}</annotation></semantics></math> performs worse than the <span id="S5.p4.1.11" class="ltx_text ltx_font_italic">one-shot</span> <span id="S5.p4.1.12" class="ltx_text ltx_font_typewriter">FedOpt</span> baseline on the first device deciles, but outperforms this method on the last deciles.</p>
</div>
<div id="S5.p5" class="ltx_para ltx_noindent">
<p id="S5.p5.1" class="ltx_p"><span id="S5.p5.1.1" class="ltx_text ltx_font_bold">Insight.</span>    We look at the repartition of utterances for a given period compared to all the previous ones across device deciles. For a given device’s set of unique utterances over a time period, we compute 1) the proportion of utterances already seen by this device; 2) the proportion of new utterances for this device but seen by any other device in a previous period of time; 3) the proportion of completely new utterances. In Figure <a href="#S4.F4" title="Figure 4 ‣ 4 Experimental Setting ‣ Learnings from Federated Learning in the Real world" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, these metrics are averaged over periods P2 and P3. We observe that heavy devices explore more than light devices, who are mostly “catching up”. For learning, it seems more beneficial to sample heavier devices who bring additional knowledge.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">We studied popular FL algorithms on non-I.I.D. data borrowed from a real word setup.
Through our experiments, we show that non-uniform device selection outperforms standard uniform sampling of FL and boosts performance for most devices.
We also compare the selection strategies on different amounts of data and observe that <span id="S6.p1.1.1" class="ltx_text ltx_font_typewriter">FedOpt</span> benefits from more data, but not <span id="S6.p1.1.2" class="ltx_text ltx_font_typewriter">FedAVG</span>.
Finally, we compare <span id="S6.p1.1.3" class="ltx_text ltx_font_italic">one-shot FL</span> with <span id="S6.p1.1.4" class="ltx_text ltx_font_italic">continual FL</span> where we run multiple rounds of training on smaller time periods, allowing for lower storage capacity.
We show that <span id="S6.p1.1.5" class="ltx_text ltx_font_italic">continual FL</span> outperforms the <span id="S6.p1.1.6" class="ltx_text ltx_font_italic">one-shot</span> strategy in some setting, and is overall most beneficial for heavy devices.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera
y Arcas,

</span>
<span class="ltx_bibblock">“Communication-efficient learning of deep networks from
decentralized data,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Statistics</span>. PMLR, 2017, pp.
1273–1282.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Ravikumar Balakrishnan, Tian Li, Tianyi Zhou, Nageen Himayat, Virginia Smith,
and Jeff Bilmes,

</span>
<span class="ltx_bibblock">“Diverse client selection for federated learning: Submodularity and
convergence analysis,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">ICML 2021 International Workshop on Federated Learning for
User Privacy and Data Confidentiality</span>, 2021.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Lokesh Nagalapatti and Ramasuri Narayanam,

</span>
<span class="ltx_bibblock">“Game of gradients: Mitigating irrelevant clients in federated
learning,”

</span>
<span class="ltx_bibblock">May 2021, vol. 35, pp. 9046–9054.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Sashank J. Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush,
Jakub Konečný, Sanjiv Kumar, and Hugh Brendan McMahan,

</span>
<span class="ltx_bibblock">“Adaptive federated optimization,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">ICLR</span>, 2021.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Haibo Yang, Minghong Fang, and Jia Liu,

</span>
<span class="ltx_bibblock">“Achieving linear speedup with partial worker participation in
non-iid federated learning,”

</span>
<span class="ltx_bibblock">2021.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Yichen Ruan, Xiaoxi Zhang, Shu-Che Liang, and Carlee Joe-Wong,

</span>
<span class="ltx_bibblock">“Towards flexible device participation in federated learning,”

</span>
<span class="ltx_bibblock">2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Elsa Rizk, Stefan Vlaski, and Ali H. Sayed,

</span>
<span class="ltx_bibblock">“Dynamic federated learning,”

</span>
<span class="ltx_bibblock">2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Durmus Alp Emre Acar, Yue Zhao, Ramon Matas, Matthew Mattina, Paul Whatmough,
and Venkatesh Saligrama,

</span>
<span class="ltx_bibblock">“Federated learning based on dynamic regularization,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">ICLR</span>, 2021.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Bill Yuchen Lin, Chaoyang He, Zihang Zeng, Hulin Wang, Yufen Huang, Mahdi
Soltanolkotabi, Xiang Ren, and Salman Avestimehr,

</span>
<span class="ltx_bibblock">“Fednlp: A research platform for federated learning in natural
language processing,”

</span>
<span class="ltx_bibblock">2021.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Chaoyang He, Keshav Balasubramanian, Emir Ceyani, Yu Rong, Peilin Zhao, Junzhou
Huang, Murali Annavaram, and Salman Avestimehr,

</span>
<span class="ltx_bibblock">“Fedgraphnn: A federated learning system and benchmark for graph
neural networks,”

</span>
<span class="ltx_bibblock">.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Wenlin Chen, Samuel Horvath, and Peter Richtarik,

</span>
<span class="ltx_bibblock">“Optimal client sampling for federated learning,”

</span>
<span class="ltx_bibblock">2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Yae Jee Cho, Jianyu Wang, and Gauri Joshi,

</span>
<span class="ltx_bibblock">“Client selection in federated learning: Convergence analysis and
power-of-choice selection strategies,”

</span>
<span class="ltx_bibblock">2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Sebastian Thrun,

</span>
<span class="ltx_bibblock">“Lifelong learning: A case study,”

</span>
<span class="ltx_bibblock">Tech. Rep. CMU-CS-95-208, Carnegie Mellon University, Computer
Science Department, Pittsburgh, PA, 1995.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Jonathan Schwarz, Jelena Luketina, Wojciech M. Czarnecki, Agnieszka
Grabska-Barwinska, Yee Whye Teh, Razvan Pascanu, and Raia Hadsell,

</span>
<span class="ltx_bibblock">“Progress &amp; compress: A scalable framework for continual
learning,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">ICML</span>, 2018.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Steven C. Y. Hung, Cheng-Hao Tu, Cheng-En Wu, Chien-Hung Chen, Yi-Ming
Chan, and Chu-Song Chen,

</span>
<span class="ltx_bibblock">“Compacting, picking and growing for unforgetting continual
learning,”

</span>
<span class="ltx_bibblock">2019.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Jaehong Yoon, Wonyong Jeong, Giwoong Lee, Eunho Yang, and Sung Ju Hwang,

</span>
<span class="ltx_bibblock">“Federated continual learning with weighted inter-client transfer,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">ICML</span>, 2021.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
L. Bottou,

</span>
<span class="ltx_bibblock">“Large-scale machine learning with stochastic gradient descent,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">Proceedings of COMPSTAT’2010</span>. 2010, pp. 177–186, Springer.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
J. Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova,

</span>
<span class="ltx_bibblock">“Bert: Pre-training of deep bidirectional transformers for language
understanding,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">NAACL</span>, 2019.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Common Crawl Foundation,

</span>
<span class="ltx_bibblock">“Common crawl data,” <a target="_blank" href="https://commoncrawl.org/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://commoncrawl.org/</a>, 2010.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2202.03924" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2202.03925" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2202.03925">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2202.03925" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2202.03926" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar  7 19:22:50 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
