<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.07925] FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning</title><meta property="og:description" content="Large language models (LLMs) have emerged as important components across various fields, yet their training requires substantial computation resources and abundant labeled data. It poses a challenge to robustly trainin…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.07925">

<!--Generated on Fri Jul  5 18:07:37 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Personalized Federated Learning,  LLM,  LoRA Tuning,  Low Communication">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiaxing Qi<sup id="id9.9.id1" class="ltx_sup">1</sup>, Zhongzhi Luan<sup id="id10.10.id2" class="ltx_sup">1</sup>, Shaohan Huang<sup id="id11.11.id3" class="ltx_sup">1</sup>, Carol Fung<sup id="id12.12.id4" class="ltx_sup">2</sup>, Hailong Yang<sup id="id13.13.id5" class="ltx_sup">1</sup>, Depei Qian<sup id="id14.14.id6" class="ltx_sup">1</sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id7.7.1" class="ltx_text ltx_affiliation_institution">Sino-German Joint Software Institute, Beihang University, Beijing,
China<sup id="id7.7.1.1" class="ltx_sup">1</sup></span><span id="id8.8.2" class="ltx_text ltx_affiliation_institution">Concordia Institute for Information Systems Engineering, Concordia University, Canada<sup id="id8.8.2.1" class="ltx_sup">2</sup></span><span id="id15.15.id1" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_affiliation"><span id="id16.16.id1" class="ltx_text ltx_affiliation_institution">{jiaxingqi, luan.zhongzhi}@buaa.edu.cn</span><span id="id17.17.id2" class="ltx_text ltx_affiliation_country"></span>
</span></span></span>
</div>
<div class="ltx_dates">(2018; 20 February 2007; 12 March 2009; 5 June 2009)</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id18.id1" class="ltx_p">Large language models (LLMs) have emerged as important components across various fields, yet their training requires substantial computation resources and abundant labeled data. It poses a challenge to robustly training LLMs for individual users (clients). To tackle this challenge, the intuitive idea is to introduce federated learning (FL), which can collaboratively train models on distributed private data. However, existing methods suffer from the challenges of data heterogeneity, system heterogeneity, and model size, resulting in suboptimal performance and high costs. In this work, we proposed a variant of personalized federated learning (PFL) framework, namely <span id="id18.id1.1" class="ltx_text">FDLoRA</span>, which allows the client to be a single device or a cluster and adopts low-rank adaptation (LoRA) tuning. <span id="id18.id1.2" class="ltx_text">FDLoRA</span> sets dual LoRA modules on each client to capture personalized and global knowledge, respectively, and only the global LoRA module uploads parameters to the central server to aggregate cross-client knowledge. Finally, an adaptive fusion approach is employed to combine the of the dual LoRAs. This enables <span id="id18.id1.3" class="ltx_text">FDLoRA</span> to make effective use of private data distributed across different clients, thereby improving performance on the client without incurring high communication and computing costs. We conducted extensive experiments in two practice scenarios. The results demonstrate that <span id="id18.id1.4" class="ltx_text">FDLoRA</span> outperforms six baselines in terms of performance, stability, robustness, computation cost, and communication cost.</p>
</div>
<div class="ltx_keywords">Personalized Federated Learning, LLM, LoRA Tuning, Low Communication
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span id="id2" class="ltx_note ltx_note_frontmatter ltx_role_journalyear"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span id="id3" class="ltx_note ltx_note_frontmatter ltx_role_doi"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span id="id4" class="ltx_note ltx_note_frontmatter ltx_role_conference"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Make sure to enter the correct
conference title from your rights confirmation emai; June 03–05,
2018; Woodstock, NY</span></span></span><span id="id5" class="ltx_note ltx_note_frontmatter ltx_role_isbn"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-XXXX-X/18/06</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Recently, large language models (LLM), such as ChatGPT <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib47" title="" class="ltx_ref">2023</a>)</cite> and LLaMA <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2023</a>)</cite>, have gained significant attention across various domains. As LLMs become more prevalent, tailoring them to specific tasks becomes increasingly necessary. For example, LLM can be customized to analyze local medical data for different institutions in the medical scenario <cite class="ltx_cite ltx_citemacro_citep">(Sheller et al<span class="ltx_text">.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2020</a>)</cite>. This customization often relies on supervised fine-tuning (SFT), a process where LLMs are adapted to domain-specific data through various techniques <cite class="ltx_cite ltx_citemacro_citep">(Kim et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2023</a>)</cite>. The current primary SFT technologies can be categorized into three groups <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2024</a>)</cite>: fine-tuning, parameter-efficient fine-tuning (PEFT), and prompt-tuning.
LoRA has attracted attention for its effectiveness in PEFT. By optimizing the rank-decomposition matrix, LoRA can train low-rank parameter matrices in LLMs while freezing the original parameters (see Section <a href="#S2" title="2. Preliminaries ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). LoRA not only enhances the performance of LLMs on domain-specific tasks but also mitigates the need for extensive labeled data <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2021a</a>)</cite>. This is particularly valuable and efficient in scenarios where such data and computational resources are scarce.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Let us consider the following scenario: Internet service providers (ISPs) collect a large amount of logs to record network activity, system events, and potential threats. However, the cost of manually analyzing these logs is huge. Recently, there has been a lot of work on using LLM to analyze private logs and determine whether an anomaly occurs in the system <cite class="ltx_cite ltx_citemacro_citep">(Qi et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2023</a>; Xu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2024</a>)</cite>, which requires manual labeling of a large amount of logs. Although the goal of ISPs is to use LLM to analyze private logs to improve system reliability, the limited number of labeled logs is an obstacle to the effective use of the LLM capability. In addition, because log data is very valuable and private, ISPs will not share the private logs with each other. Therefore, the problem arises: <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">How to take advantage of LLM in similar practical application scenarios?</span></p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">The integration of FL with LLMs offers a promising opportunity for collaborative learning across clients <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2017</a>; Zhang et al<span class="ltx_text">.</span>, <a href="#bib.bib54" title="" class="ltx_ref">2024</a>)</cite>. However, the inherent challenge of data heterogeneity, where the distribution of data across clients is non-identically and independently distributed (<span id="S1.p3.1.1" class="ltx_text ltx_font_italic">non-IID</span>), poses significant obstacles <cite class="ltx_cite ltx_citemacro_citep">(Ma et al<span class="ltx_text">.</span>, <a href="#bib.bib31" title="" class="ltx_ref">2022</a>; Chen et al<span class="ltx_text">.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite>. This often leads to suboptimal performance of the global model due to convergence to the worst performing client, referred to as the ”<span id="S1.p3.1.2" class="ltx_text ltx_font_italic">bucket effect</span>” <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2024</a>)</cite>. To address this challenge, recent efforts have combined personalized federated learning (PFL) with techniques such as LoRA tuning to train personalized local models for each client and mitigate the traditional ”<span id="S1.p3.1.3" class="ltx_text ltx_font_italic">bucket effect</span>” <cite class="ltx_cite ltx_citemacro_citep">(Yi et al<span class="ltx_text">.</span>, <a href="#bib.bib52" title="" class="ltx_ref">2023</a>; Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2024</a>)</cite>. The PFL aims to tailor the training process to individual clients, taking into account their unique data distributions and learning objectives, which allows the model to capture not only cross-client knowledge (i.e., global/shared knowledge) but also client-specific knowledge (i.e., local/personalized knowledge). By personalizing the training process, PFL seeks to mitigate the negative effects of data heterogeneity and improve the performance of each client <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>. Nonetheless, the computational and communication overhead associated with handling LLM parameters, which rapidly increasing from millions to billions, remains a significant challenge for these methods.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To tackle these challenges, we take inspiration from literature on previous works <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2023</a>; Douillard et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite>, to integrate the LLM customization process into a variant of PFL framework. By doing so, we can gain insight from logs from different ISPs while maintaining privacy and improving performance. Each ISP acts as a client and contributes labeled data to LLM training without directly sharing sensitive information, thereby improving the stability of their respective systems by effectively leveraging distributed data sources.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.2" class="ltx_p">In this paper, we proposed a fusion-enhanced and low communication framework for LLM customization by integrating the LoRA tuning and variant PFL, a.k.a <span id="S1.p5.2.1" class="ltx_text ltx_font_bold">FDLoRA</span>. In variant PFL, there are <math id="S1.p5.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S1.p5.1.m1.1a"><mi id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><ci id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">N</annotation></semantics></math> clients, each client uses private data to fine-tune LLM locally, and each client updates a replica of LLM. Instead of performing only one update, each client performs several updates locally. Then, exchanging parameters at each <math id="S1.p5.2.m2.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S1.p5.2.m2.1a"><mi id="S1.p5.2.m2.1.1" xref="S1.p5.2.m2.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S1.p5.2.m2.1b"><ci id="S1.p5.2.m2.1.1.cmml" xref="S1.p5.2.m2.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.2.m2.1c">H</annotation></semantics></math>-step to bring their parameters back into sync. In particular, the framework initializes two LoRA modules for LLM in each client, the personalized LoRA module and the global LoRA module, which capture personalized and global knowledge, respectively. The personalized LoRA module will not share parameters with other clients, thus ensuring that LLM adapts to local data. The global LoRA module uploads parameters to the server for aggregation operations, thereby integrating the knowledge of different clients. Furthermore, in order to preserve the basic knowledge learned by the LLM from the large corpus, we freeze the parameters of the LLM. Finally, we utilized a gradient-free optimization technique to adaptively fuse the parameters of both LoRA modules, enhancing the performance of the client’s local task. Our primary contribution can be summarized as follows:</p>
</div>
<div id="S1.p6" class="ltx_para">
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We proposed <span id="S1.I1.i1.p1.1.1" class="ltx_text">FDLoRA</span>, a novel fusion-enhanced and low communication framework. To the best of our knowledge, this is the first work that integrates dual LoRA and variant PFL for LLM customization.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We utilized both the LoRA module and gradient-free adaptive fusion approach, which effectively captured personalized and global knowledge and improved the performance of each client.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We conducted experiments in log analysis and medical diagnosis, demonstrating superior performance and stability. Our method can effectively reduce computation and communication costs.</p>
</div>
</li>
</ul>
</div>
<figure id="S1.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Notations of problem settings.</figcaption>
<table id="S1.T1.14" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S1.T1.14.15.1" class="ltx_tr">
<th id="S1.T1.14.15.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S1.T1.14.15.1.1.1" class="ltx_text ltx_font_bold">Notation</span></th>
<th id="S1.T1.14.15.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt"><span id="S1.T1.14.15.1.2.1" class="ltx_text ltx_font_bold">Explanation</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S1.T1.1.1" class="ltx_tr">
<th id="S1.T1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><math id="S1.T1.1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S1.T1.1.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S1.T1.1.1.1.m1.1.1" xref="S1.T1.1.1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S1.T1.1.1.1.m1.1b"><ci id="S1.T1.1.1.1.m1.1.1.cmml" xref="S1.T1.1.1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.1.1.1.m1.1c">\mathcal{D}</annotation></semantics></math></th>
<td id="S1.T1.1.1.2" class="ltx_td ltx_align_left ltx_border_t">The collective dataset across all clients.</td>
</tr>
<tr id="S1.T1.4.4" class="ltx_tr">
<th id="S1.T1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.2.2.1.m1.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S1.T1.2.2.1.m1.2a"><mrow id="S1.T1.2.2.1.m1.2.3.2" xref="S1.T1.2.2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S1.T1.2.2.1.m1.2.3.2.1" xref="S1.T1.2.2.1.m1.2.3.1.cmml">(</mo><mi id="S1.T1.2.2.1.m1.1.1" xref="S1.T1.2.2.1.m1.1.1.cmml">x</mi><mo id="S1.T1.2.2.1.m1.2.3.2.2" xref="S1.T1.2.2.1.m1.2.3.1.cmml">,</mo><mi id="S1.T1.2.2.1.m1.2.2" xref="S1.T1.2.2.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="S1.T1.2.2.1.m1.2.3.2.3" xref="S1.T1.2.2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.T1.2.2.1.m1.2b"><interval closure="open" id="S1.T1.2.2.1.m1.2.3.1.cmml" xref="S1.T1.2.2.1.m1.2.3.2"><ci id="S1.T1.2.2.1.m1.1.1.cmml" xref="S1.T1.2.2.1.m1.1.1">𝑥</ci><ci id="S1.T1.2.2.1.m1.2.2.cmml" xref="S1.T1.2.2.1.m1.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.2.2.1.m1.2c">(x,y)</annotation></semantics></math></th>
<td id="S1.T1.4.4.3" class="ltx_td ltx_align_left">The data <math id="S1.T1.3.3.2.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S1.T1.3.3.2.m1.1a"><mi id="S1.T1.3.3.2.m1.1.1" xref="S1.T1.3.3.2.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S1.T1.3.3.2.m1.1b"><ci id="S1.T1.3.3.2.m1.1.1.cmml" xref="S1.T1.3.3.2.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.3.3.2.m1.1c">x</annotation></semantics></math> with label <math id="S1.T1.4.4.3.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S1.T1.4.4.3.m2.1a"><mi id="S1.T1.4.4.3.m2.1.1" xref="S1.T1.4.4.3.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S1.T1.4.4.3.m2.1b"><ci id="S1.T1.4.4.3.m2.1.1.cmml" xref="S1.T1.4.4.3.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.4.4.3.m2.1c">y</annotation></semantics></math>.</td>
</tr>
<tr id="S1.T1.5.5" class="ltx_tr">
<th id="S1.T1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.5.5.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S1.T1.5.5.1.m1.1a"><mi id="S1.T1.5.5.1.m1.1.1" xref="S1.T1.5.5.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S1.T1.5.5.1.m1.1b"><ci id="S1.T1.5.5.1.m1.1.1.cmml" xref="S1.T1.5.5.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.5.5.1.m1.1c">N</annotation></semantics></math></th>
<td id="S1.T1.5.5.2" class="ltx_td ltx_align_left">The number of clients.</td>
</tr>
<tr id="S1.T1.7.7" class="ltx_tr">
<th id="S1.T1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.6.6.1.m1.2" class="ltx_Math" alttext="f(\cdot;\theta)" display="inline"><semantics id="S1.T1.6.6.1.m1.2a"><mrow id="S1.T1.6.6.1.m1.2.3" xref="S1.T1.6.6.1.m1.2.3.cmml"><mi id="S1.T1.6.6.1.m1.2.3.2" xref="S1.T1.6.6.1.m1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S1.T1.6.6.1.m1.2.3.1" xref="S1.T1.6.6.1.m1.2.3.1.cmml">​</mo><mrow id="S1.T1.6.6.1.m1.2.3.3.2" xref="S1.T1.6.6.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S1.T1.6.6.1.m1.2.3.3.2.1" xref="S1.T1.6.6.1.m1.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S1.T1.6.6.1.m1.1.1" xref="S1.T1.6.6.1.m1.1.1.cmml">⋅</mo><mo id="S1.T1.6.6.1.m1.2.3.3.2.2" xref="S1.T1.6.6.1.m1.2.3.3.1.cmml">;</mo><mi id="S1.T1.6.6.1.m1.2.2" xref="S1.T1.6.6.1.m1.2.2.cmml">θ</mi><mo stretchy="false" id="S1.T1.6.6.1.m1.2.3.3.2.3" xref="S1.T1.6.6.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.T1.6.6.1.m1.2b"><apply id="S1.T1.6.6.1.m1.2.3.cmml" xref="S1.T1.6.6.1.m1.2.3"><times id="S1.T1.6.6.1.m1.2.3.1.cmml" xref="S1.T1.6.6.1.m1.2.3.1"></times><ci id="S1.T1.6.6.1.m1.2.3.2.cmml" xref="S1.T1.6.6.1.m1.2.3.2">𝑓</ci><list id="S1.T1.6.6.1.m1.2.3.3.1.cmml" xref="S1.T1.6.6.1.m1.2.3.3.2"><ci id="S1.T1.6.6.1.m1.1.1.cmml" xref="S1.T1.6.6.1.m1.1.1">⋅</ci><ci id="S1.T1.6.6.1.m1.2.2.cmml" xref="S1.T1.6.6.1.m1.2.2">𝜃</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.6.6.1.m1.2c">f(\cdot;\theta)</annotation></semantics></math></th>
<td id="S1.T1.7.7.2" class="ltx_td ltx_align_left">The model with parameter <math id="S1.T1.7.7.2.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S1.T1.7.7.2.m1.1a"><mi id="S1.T1.7.7.2.m1.1.1" xref="S1.T1.7.7.2.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S1.T1.7.7.2.m1.1b"><ci id="S1.T1.7.7.2.m1.1.1.cmml" xref="S1.T1.7.7.2.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.7.7.2.m1.1c">\theta</annotation></semantics></math>.</td>
</tr>
<tr id="S1.T1.8.8" class="ltx_tr">
<th id="S1.T1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.8.8.1.m1.1" class="ltx_Math" alttext="\theta_{p}" display="inline"><semantics id="S1.T1.8.8.1.m1.1a"><msub id="S1.T1.8.8.1.m1.1.1" xref="S1.T1.8.8.1.m1.1.1.cmml"><mi id="S1.T1.8.8.1.m1.1.1.2" xref="S1.T1.8.8.1.m1.1.1.2.cmml">θ</mi><mi id="S1.T1.8.8.1.m1.1.1.3" xref="S1.T1.8.8.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S1.T1.8.8.1.m1.1b"><apply id="S1.T1.8.8.1.m1.1.1.cmml" xref="S1.T1.8.8.1.m1.1.1"><csymbol cd="ambiguous" id="S1.T1.8.8.1.m1.1.1.1.cmml" xref="S1.T1.8.8.1.m1.1.1">subscript</csymbol><ci id="S1.T1.8.8.1.m1.1.1.2.cmml" xref="S1.T1.8.8.1.m1.1.1.2">𝜃</ci><ci id="S1.T1.8.8.1.m1.1.1.3.cmml" xref="S1.T1.8.8.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.8.8.1.m1.1c">\theta_{p}</annotation></semantics></math></th>
<td id="S1.T1.8.8.2" class="ltx_td ltx_align_left">The trainable parameters of personalized part.</td>
</tr>
<tr id="S1.T1.9.9" class="ltx_tr">
<th id="S1.T1.9.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.9.9.1.m1.1" class="ltx_Math" alttext="\theta_{s}" display="inline"><semantics id="S1.T1.9.9.1.m1.1a"><msub id="S1.T1.9.9.1.m1.1.1" xref="S1.T1.9.9.1.m1.1.1.cmml"><mi id="S1.T1.9.9.1.m1.1.1.2" xref="S1.T1.9.9.1.m1.1.1.2.cmml">θ</mi><mi id="S1.T1.9.9.1.m1.1.1.3" xref="S1.T1.9.9.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S1.T1.9.9.1.m1.1b"><apply id="S1.T1.9.9.1.m1.1.1.cmml" xref="S1.T1.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S1.T1.9.9.1.m1.1.1.1.cmml" xref="S1.T1.9.9.1.m1.1.1">subscript</csymbol><ci id="S1.T1.9.9.1.m1.1.1.2.cmml" xref="S1.T1.9.9.1.m1.1.1.2">𝜃</ci><ci id="S1.T1.9.9.1.m1.1.1.3.cmml" xref="S1.T1.9.9.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.9.9.1.m1.1c">\theta_{s}</annotation></semantics></math></th>
<td id="S1.T1.9.9.2" class="ltx_td ltx_align_left">The trainable parameters of the shared (global) part.</td>
</tr>
<tr id="S1.T1.12.12" class="ltx_tr">
<th id="S1.T1.10.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S1.T1.10.10.1.m1.2" class="ltx_Math" alttext="\mathcal{L}(\hat{y},y)" display="inline"><semantics id="S1.T1.10.10.1.m1.2a"><mrow id="S1.T1.10.10.1.m1.2.3" xref="S1.T1.10.10.1.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.T1.10.10.1.m1.2.3.2" xref="S1.T1.10.10.1.m1.2.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S1.T1.10.10.1.m1.2.3.1" xref="S1.T1.10.10.1.m1.2.3.1.cmml">​</mo><mrow id="S1.T1.10.10.1.m1.2.3.3.2" xref="S1.T1.10.10.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S1.T1.10.10.1.m1.2.3.3.2.1" xref="S1.T1.10.10.1.m1.2.3.3.1.cmml">(</mo><mover accent="true" id="S1.T1.10.10.1.m1.1.1" xref="S1.T1.10.10.1.m1.1.1.cmml"><mi id="S1.T1.10.10.1.m1.1.1.2" xref="S1.T1.10.10.1.m1.1.1.2.cmml">y</mi><mo id="S1.T1.10.10.1.m1.1.1.1" xref="S1.T1.10.10.1.m1.1.1.1.cmml">^</mo></mover><mo id="S1.T1.10.10.1.m1.2.3.3.2.2" xref="S1.T1.10.10.1.m1.2.3.3.1.cmml">,</mo><mi id="S1.T1.10.10.1.m1.2.2" xref="S1.T1.10.10.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="S1.T1.10.10.1.m1.2.3.3.2.3" xref="S1.T1.10.10.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.T1.10.10.1.m1.2b"><apply id="S1.T1.10.10.1.m1.2.3.cmml" xref="S1.T1.10.10.1.m1.2.3"><times id="S1.T1.10.10.1.m1.2.3.1.cmml" xref="S1.T1.10.10.1.m1.2.3.1"></times><ci id="S1.T1.10.10.1.m1.2.3.2.cmml" xref="S1.T1.10.10.1.m1.2.3.2">ℒ</ci><interval closure="open" id="S1.T1.10.10.1.m1.2.3.3.1.cmml" xref="S1.T1.10.10.1.m1.2.3.3.2"><apply id="S1.T1.10.10.1.m1.1.1.cmml" xref="S1.T1.10.10.1.m1.1.1"><ci id="S1.T1.10.10.1.m1.1.1.1.cmml" xref="S1.T1.10.10.1.m1.1.1.1">^</ci><ci id="S1.T1.10.10.1.m1.1.1.2.cmml" xref="S1.T1.10.10.1.m1.1.1.2">𝑦</ci></apply><ci id="S1.T1.10.10.1.m1.2.2.cmml" xref="S1.T1.10.10.1.m1.2.2">𝑦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.10.10.1.m1.2c">\mathcal{L}(\hat{y},y)</annotation></semantics></math></th>
<td id="S1.T1.12.12.3" class="ltx_td ltx_align_left">The loss function between <math id="S1.T1.11.11.2.m1.1" class="ltx_Math" alttext="\hat{y}" display="inline"><semantics id="S1.T1.11.11.2.m1.1a"><mover accent="true" id="S1.T1.11.11.2.m1.1.1" xref="S1.T1.11.11.2.m1.1.1.cmml"><mi id="S1.T1.11.11.2.m1.1.1.2" xref="S1.T1.11.11.2.m1.1.1.2.cmml">y</mi><mo id="S1.T1.11.11.2.m1.1.1.1" xref="S1.T1.11.11.2.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S1.T1.11.11.2.m1.1b"><apply id="S1.T1.11.11.2.m1.1.1.cmml" xref="S1.T1.11.11.2.m1.1.1"><ci id="S1.T1.11.11.2.m1.1.1.1.cmml" xref="S1.T1.11.11.2.m1.1.1.1">^</ci><ci id="S1.T1.11.11.2.m1.1.1.2.cmml" xref="S1.T1.11.11.2.m1.1.1.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.11.11.2.m1.1c">\hat{y}</annotation></semantics></math> and <math id="S1.T1.12.12.3.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S1.T1.12.12.3.m2.1a"><mi id="S1.T1.12.12.3.m2.1.1" xref="S1.T1.12.12.3.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S1.T1.12.12.3.m2.1b"><ci id="S1.T1.12.12.3.m2.1.1.cmml" xref="S1.T1.12.12.3.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.12.12.3.m2.1c">y</annotation></semantics></math>.</td>
</tr>
<tr id="S1.T1.14.14" class="ltx_tr">
<th id="S1.T1.13.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><math id="S1.T1.13.13.1.m1.2" class="ltx_Math" alttext="\mathcal{G}(\cdot;\mathbf{w})" display="inline"><semantics id="S1.T1.13.13.1.m1.2a"><mrow id="S1.T1.13.13.1.m1.2.3" xref="S1.T1.13.13.1.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.T1.13.13.1.m1.2.3.2" xref="S1.T1.13.13.1.m1.2.3.2.cmml">𝒢</mi><mo lspace="0em" rspace="0em" id="S1.T1.13.13.1.m1.2.3.1" xref="S1.T1.13.13.1.m1.2.3.1.cmml">​</mo><mrow id="S1.T1.13.13.1.m1.2.3.3.2" xref="S1.T1.13.13.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S1.T1.13.13.1.m1.2.3.3.2.1" xref="S1.T1.13.13.1.m1.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S1.T1.13.13.1.m1.1.1" xref="S1.T1.13.13.1.m1.1.1.cmml">⋅</mo><mo id="S1.T1.13.13.1.m1.2.3.3.2.2" xref="S1.T1.13.13.1.m1.2.3.3.1.cmml">;</mo><mi id="S1.T1.13.13.1.m1.2.2" xref="S1.T1.13.13.1.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S1.T1.13.13.1.m1.2.3.3.2.3" xref="S1.T1.13.13.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.T1.13.13.1.m1.2b"><apply id="S1.T1.13.13.1.m1.2.3.cmml" xref="S1.T1.13.13.1.m1.2.3"><times id="S1.T1.13.13.1.m1.2.3.1.cmml" xref="S1.T1.13.13.1.m1.2.3.1"></times><ci id="S1.T1.13.13.1.m1.2.3.2.cmml" xref="S1.T1.13.13.1.m1.2.3.2">𝒢</ci><list id="S1.T1.13.13.1.m1.2.3.3.1.cmml" xref="S1.T1.13.13.1.m1.2.3.3.2"><ci id="S1.T1.13.13.1.m1.1.1.cmml" xref="S1.T1.13.13.1.m1.1.1">⋅</ci><ci id="S1.T1.13.13.1.m1.2.2.cmml" xref="S1.T1.13.13.1.m1.2.2">𝐰</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.13.13.1.m1.2c">\mathcal{G}(\cdot;\mathbf{w})</annotation></semantics></math></th>
<td id="S1.T1.14.14.2" class="ltx_td ltx_align_left ltx_border_bb">The learnable parameters of fusion function <math id="S1.T1.14.14.2.m1.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S1.T1.14.14.2.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S1.T1.14.14.2.m1.1.1" xref="S1.T1.14.14.2.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S1.T1.14.14.2.m1.1b"><ci id="S1.T1.14.14.2.m1.1.1.cmml" xref="S1.T1.14.14.2.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.14.14.2.m1.1c">\mathcal{G}</annotation></semantics></math>.</td>
</tr>
</tbody>
</table>
</figure>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">The rest of this paper is organized as follows. In Section <a href="#S2" title="2. Preliminaries ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we introduce the background and techniques related to our work. In Section <a href="#S3" title="3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we put forward our framework and describe the design in detail. In Section <a href="#S4" title="4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we demonstrate extensive experiments to evaluate the effectiveness of the proposed method in comparison with other methods. In Section <a href="#S5" title="5. Related Work ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we review the related works of PFL and PEFT. Finally, we conclude our work in Section <a href="#S6" title="6. Conclusion ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminaries</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">In this section, we give a brief introduction to the problem definition of personalized federated learning and parameter-efficient fine tuning with low-rank adaptation. The meanings of some notations used in subsequent sections are declared in Table <a href="#S1.T1" title="Table 1 ‣ 1. Introduction ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="S2.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S2.F1.1" class="ltx_block ltx_figure_panel">
<img src="/html/2406.07925/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="180" height="157" alt="Refer to caption"><span id="S2.F1.1.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S2.F1.2" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The illustration of both federated learning and personalized federated learning. Personalized federated learning aims to find a personalized model for each client.</figcaption>
</figure>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Problem Definition of FL &amp; PFL</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">FL as a disruptive machine learning paradigm has attracted significant attention from researchers and industry in recent years (Figure <a href="#S2.F1" title="Figure 1 ‣ 2. Preliminaries ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, top). This paradigm involves training models on devices locally, mitigating privacy risks associated with transmitting private data to central servers, and providing a viable solution for collaborative learning among multiple clients.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.5" class="ltx_p">We assume that each client has its own local dataset, denoted as <math id="S2.SS1.p2.1.m1.3" class="ltx_Math" alttext="\mathcal{D}^{(i)}=(x,y)" display="inline"><semantics id="S2.SS1.p2.1.m1.3a"><mrow id="S2.SS1.p2.1.m1.3.4" xref="S2.SS1.p2.1.m1.3.4.cmml"><msup id="S2.SS1.p2.1.m1.3.4.2" xref="S2.SS1.p2.1.m1.3.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.1.m1.3.4.2.2" xref="S2.SS1.p2.1.m1.3.4.2.2.cmml">𝒟</mi><mrow id="S2.SS1.p2.1.m1.1.1.1.3" xref="S2.SS1.p2.1.m1.3.4.2.cmml"><mo stretchy="false" id="S2.SS1.p2.1.m1.1.1.1.3.1" xref="S2.SS1.p2.1.m1.3.4.2.cmml">(</mo><mi id="S2.SS1.p2.1.m1.1.1.1.1" xref="S2.SS1.p2.1.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p2.1.m1.1.1.1.3.2" xref="S2.SS1.p2.1.m1.3.4.2.cmml">)</mo></mrow></msup><mo id="S2.SS1.p2.1.m1.3.4.1" xref="S2.SS1.p2.1.m1.3.4.1.cmml">=</mo><mrow id="S2.SS1.p2.1.m1.3.4.3.2" xref="S2.SS1.p2.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S2.SS1.p2.1.m1.3.4.3.2.1" xref="S2.SS1.p2.1.m1.3.4.3.1.cmml">(</mo><mi id="S2.SS1.p2.1.m1.2.2" xref="S2.SS1.p2.1.m1.2.2.cmml">x</mi><mo id="S2.SS1.p2.1.m1.3.4.3.2.2" xref="S2.SS1.p2.1.m1.3.4.3.1.cmml">,</mo><mi id="S2.SS1.p2.1.m1.3.3" xref="S2.SS1.p2.1.m1.3.3.cmml">y</mi><mo stretchy="false" id="S2.SS1.p2.1.m1.3.4.3.2.3" xref="S2.SS1.p2.1.m1.3.4.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.3b"><apply id="S2.SS1.p2.1.m1.3.4.cmml" xref="S2.SS1.p2.1.m1.3.4"><eq id="S2.SS1.p2.1.m1.3.4.1.cmml" xref="S2.SS1.p2.1.m1.3.4.1"></eq><apply id="S2.SS1.p2.1.m1.3.4.2.cmml" xref="S2.SS1.p2.1.m1.3.4.2"><csymbol cd="ambiguous" id="S2.SS1.p2.1.m1.3.4.2.1.cmml" xref="S2.SS1.p2.1.m1.3.4.2">superscript</csymbol><ci id="S2.SS1.p2.1.m1.3.4.2.2.cmml" xref="S2.SS1.p2.1.m1.3.4.2.2">𝒟</ci><ci id="S2.SS1.p2.1.m1.1.1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1.1.1">𝑖</ci></apply><interval closure="open" id="S2.SS1.p2.1.m1.3.4.3.1.cmml" xref="S2.SS1.p2.1.m1.3.4.3.2"><ci id="S2.SS1.p2.1.m1.2.2.cmml" xref="S2.SS1.p2.1.m1.2.2">𝑥</ci><ci id="S2.SS1.p2.1.m1.3.3.cmml" xref="S2.SS1.p2.1.m1.3.3">𝑦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.3c">\mathcal{D}^{(i)}=(x,y)</annotation></semantics></math>, where <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><mi id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><ci id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">x</annotation></semantics></math> and <math id="S2.SS1.p2.3.m3.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS1.p2.3.m3.1a"><mi id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b"><ci id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">y</annotation></semantics></math> are the model’s input and the expected output, respectively. The collective dataset across all clients is denoted as <math id="S2.SS1.p2.4.m4.2" class="ltx_Math" alttext="\mathcal{D}=\left\{\mathcal{D}^{(i)}\right\}_{i=1}^{N}" display="inline"><semantics id="S2.SS1.p2.4.m4.2a"><mrow id="S2.SS1.p2.4.m4.2.2" xref="S2.SS1.p2.4.m4.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.4.m4.2.2.3" xref="S2.SS1.p2.4.m4.2.2.3.cmml">𝒟</mi><mo id="S2.SS1.p2.4.m4.2.2.2" xref="S2.SS1.p2.4.m4.2.2.2.cmml">=</mo><msubsup id="S2.SS1.p2.4.m4.2.2.1" xref="S2.SS1.p2.4.m4.2.2.1.cmml"><mrow id="S2.SS1.p2.4.m4.2.2.1.1.1.1" xref="S2.SS1.p2.4.m4.2.2.1.1.1.2.cmml"><mo id="S2.SS1.p2.4.m4.2.2.1.1.1.1.2" xref="S2.SS1.p2.4.m4.2.2.1.1.1.2.cmml">{</mo><msup id="S2.SS1.p2.4.m4.2.2.1.1.1.1.1" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.2" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.2.cmml">𝒟</mi><mrow id="S2.SS1.p2.4.m4.1.1.1.3" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p2.4.m4.1.1.1.3.1" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.cmml">(</mo><mi id="S2.SS1.p2.4.m4.1.1.1.1" xref="S2.SS1.p2.4.m4.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p2.4.m4.1.1.1.3.2" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S2.SS1.p2.4.m4.2.2.1.1.1.1.3" xref="S2.SS1.p2.4.m4.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS1.p2.4.m4.2.2.1.1.3" xref="S2.SS1.p2.4.m4.2.2.1.1.3.cmml"><mi id="S2.SS1.p2.4.m4.2.2.1.1.3.2" xref="S2.SS1.p2.4.m4.2.2.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p2.4.m4.2.2.1.1.3.1" xref="S2.SS1.p2.4.m4.2.2.1.1.3.1.cmml">=</mo><mn id="S2.SS1.p2.4.m4.2.2.1.1.3.3" xref="S2.SS1.p2.4.m4.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p2.4.m4.2.2.1.3" xref="S2.SS1.p2.4.m4.2.2.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.2b"><apply id="S2.SS1.p2.4.m4.2.2.cmml" xref="S2.SS1.p2.4.m4.2.2"><eq id="S2.SS1.p2.4.m4.2.2.2.cmml" xref="S2.SS1.p2.4.m4.2.2.2"></eq><ci id="S2.SS1.p2.4.m4.2.2.3.cmml" xref="S2.SS1.p2.4.m4.2.2.3">𝒟</ci><apply id="S2.SS1.p2.4.m4.2.2.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.2.2.1.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1">superscript</csymbol><apply id="S2.SS1.p2.4.m4.2.2.1.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.2.2.1.1.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1">subscript</csymbol><set id="S2.SS1.p2.4.m4.2.2.1.1.1.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1"><apply id="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1">superscript</csymbol><ci id="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.1.1.1.2">𝒟</ci><ci id="S2.SS1.p2.4.m4.1.1.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1.1.1">𝑖</ci></apply></set><apply id="S2.SS1.p2.4.m4.2.2.1.1.3.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.3"><eq id="S2.SS1.p2.4.m4.2.2.1.1.3.1.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.3.1"></eq><ci id="S2.SS1.p2.4.m4.2.2.1.1.3.2.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS1.p2.4.m4.2.2.1.1.3.3.cmml" xref="S2.SS1.p2.4.m4.2.2.1.1.3.3">1</cn></apply></apply><ci id="S2.SS1.p2.4.m4.2.2.1.3.cmml" xref="S2.SS1.p2.4.m4.2.2.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.2c">\mathcal{D}=\left\{\mathcal{D}^{(i)}\right\}_{i=1}^{N}</annotation></semantics></math>, where <math id="S2.SS1.p2.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS1.p2.5.m5.1a"><mi id="S2.SS1.p2.5.m5.1.1" xref="S2.SS1.p2.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.5.m5.1b"><ci id="S2.SS1.p2.5.m5.1.1.cmml" xref="S2.SS1.p2.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.5.m5.1c">N</annotation></semantics></math> denoted the number of clients.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.3" class="ltx_p">Traditional FL trained the model <math id="S2.SS1.p3.1.m1.3" class="ltx_Math" alttext="f(x;\theta^{(i)})" display="inline"><semantics id="S2.SS1.p3.1.m1.3a"><mrow id="S2.SS1.p3.1.m1.3.3" xref="S2.SS1.p3.1.m1.3.3.cmml"><mi id="S2.SS1.p3.1.m1.3.3.3" xref="S2.SS1.p3.1.m1.3.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.1.m1.3.3.2" xref="S2.SS1.p3.1.m1.3.3.2.cmml">​</mo><mrow id="S2.SS1.p3.1.m1.3.3.1.1" xref="S2.SS1.p3.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S2.SS1.p3.1.m1.3.3.1.1.2" xref="S2.SS1.p3.1.m1.3.3.1.2.cmml">(</mo><mi id="S2.SS1.p3.1.m1.2.2" xref="S2.SS1.p3.1.m1.2.2.cmml">x</mi><mo id="S2.SS1.p3.1.m1.3.3.1.1.3" xref="S2.SS1.p3.1.m1.3.3.1.2.cmml">;</mo><msup id="S2.SS1.p3.1.m1.3.3.1.1.1" xref="S2.SS1.p3.1.m1.3.3.1.1.1.cmml"><mi id="S2.SS1.p3.1.m1.3.3.1.1.1.2" xref="S2.SS1.p3.1.m1.3.3.1.1.1.2.cmml">θ</mi><mrow id="S2.SS1.p3.1.m1.1.1.1.3" xref="S2.SS1.p3.1.m1.3.3.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p3.1.m1.1.1.1.3.1" xref="S2.SS1.p3.1.m1.3.3.1.1.1.cmml">(</mo><mi id="S2.SS1.p3.1.m1.1.1.1.1" xref="S2.SS1.p3.1.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p3.1.m1.1.1.1.3.2" xref="S2.SS1.p3.1.m1.3.3.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.SS1.p3.1.m1.3.3.1.1.4" xref="S2.SS1.p3.1.m1.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.3b"><apply id="S2.SS1.p3.1.m1.3.3.cmml" xref="S2.SS1.p3.1.m1.3.3"><times id="S2.SS1.p3.1.m1.3.3.2.cmml" xref="S2.SS1.p3.1.m1.3.3.2"></times><ci id="S2.SS1.p3.1.m1.3.3.3.cmml" xref="S2.SS1.p3.1.m1.3.3.3">𝑓</ci><list id="S2.SS1.p3.1.m1.3.3.1.2.cmml" xref="S2.SS1.p3.1.m1.3.3.1.1"><ci id="S2.SS1.p3.1.m1.2.2.cmml" xref="S2.SS1.p3.1.m1.2.2">𝑥</ci><apply id="S2.SS1.p3.1.m1.3.3.1.1.1.cmml" xref="S2.SS1.p3.1.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.3.3.1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.3.3.1.1.1">superscript</csymbol><ci id="S2.SS1.p3.1.m1.3.3.1.1.1.2.cmml" xref="S2.SS1.p3.1.m1.3.3.1.1.1.2">𝜃</ci><ci id="S2.SS1.p3.1.m1.1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1.1.1">𝑖</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.3c">f(x;\theta^{(i)})</annotation></semantics></math> on client <math id="S2.SS1.p3.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p3.2.m2.1a"><mi id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><ci id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">i</annotation></semantics></math> with parameter <math id="S2.SS1.p3.3.m3.1" class="ltx_Math" alttext="\theta^{(i)}" display="inline"><semantics id="S2.SS1.p3.3.m3.1a"><msup id="S2.SS1.p3.3.m3.1.2" xref="S2.SS1.p3.3.m3.1.2.cmml"><mi id="S2.SS1.p3.3.m3.1.2.2" xref="S2.SS1.p3.3.m3.1.2.2.cmml">θ</mi><mrow id="S2.SS1.p3.3.m3.1.1.1.3" xref="S2.SS1.p3.3.m3.1.2.cmml"><mo stretchy="false" id="S2.SS1.p3.3.m3.1.1.1.3.1" xref="S2.SS1.p3.3.m3.1.2.cmml">(</mo><mi id="S2.SS1.p3.3.m3.1.1.1.1" xref="S2.SS1.p3.3.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p3.3.m3.1.1.1.3.2" xref="S2.SS1.p3.3.m3.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.3.m3.1b"><apply id="S2.SS1.p3.3.m3.1.2.cmml" xref="S2.SS1.p3.3.m3.1.2"><csymbol cd="ambiguous" id="S2.SS1.p3.3.m3.1.2.1.cmml" xref="S2.SS1.p3.3.m3.1.2">superscript</csymbol><ci id="S2.SS1.p3.3.m3.1.2.2.cmml" xref="S2.SS1.p3.3.m3.1.2.2">𝜃</ci><ci id="S2.SS1.p3.3.m3.1.1.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.3.m3.1c">\theta^{(i)}</annotation></semantics></math>. The training objective can be formulated as:</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.7" class="ltx_Math" alttext="\begin{array}[]{cc}&amp;\min\limits_{\theta}\mathcal{L}^{\theta}:=\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}(f(x;\theta^{(i)}),y)\\
\end{array}" display="block"><semantics id="S2.E1.m1.7a"><mtable columnspacing="5pt" displaystyle="true" id="S2.E1.m1.7.7" xref="S2.E1.m1.7.7.cmml"><mtr id="S2.E1.m1.7.7a" xref="S2.E1.m1.7.7.cmml"><mtd id="S2.E1.m1.7.7b" xref="S2.E1.m1.7.7.cmml"></mtd><mtd id="S2.E1.m1.7.7c" xref="S2.E1.m1.7.7.cmml"><mrow id="S2.E1.m1.7.7.7.7.7" xref="S2.E1.m1.7.7.7.7.7.cmml"><mrow id="S2.E1.m1.7.7.7.7.7.9" xref="S2.E1.m1.7.7.7.7.7.9.cmml"><munder id="S2.E1.m1.7.7.7.7.7.9.1" xref="S2.E1.m1.7.7.7.7.7.9.1.cmml"><mi id="S2.E1.m1.7.7.7.7.7.9.1.2" xref="S2.E1.m1.7.7.7.7.7.9.1.2.cmml">min</mi><mi id="S2.E1.m1.7.7.7.7.7.9.1.3" xref="S2.E1.m1.7.7.7.7.7.9.1.3.cmml">θ</mi></munder><mo lspace="0.167em" id="S2.E1.m1.7.7.7.7.7.9a" xref="S2.E1.m1.7.7.7.7.7.9.cmml">⁡</mo><msup id="S2.E1.m1.7.7.7.7.7.9.2" xref="S2.E1.m1.7.7.7.7.7.9.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.7.7.7.9.2.2" xref="S2.E1.m1.7.7.7.7.7.9.2.2.cmml">ℒ</mi><mi id="S2.E1.m1.7.7.7.7.7.9.2.3" xref="S2.E1.m1.7.7.7.7.7.9.2.3.cmml">θ</mi></msup></mrow><mo lspace="0.278em" rspace="0.278em" id="S2.E1.m1.7.7.7.7.7.8" xref="S2.E1.m1.7.7.7.7.7.8.cmml">:=</mo><mrow id="S2.E1.m1.7.7.7.7.7.7" xref="S2.E1.m1.7.7.7.7.7.7.cmml"><mstyle displaystyle="false" id="S2.E1.m1.7.7.7.7.7.7.3" xref="S2.E1.m1.7.7.7.7.7.7.3.cmml"><mfrac id="S2.E1.m1.7.7.7.7.7.7.3a" xref="S2.E1.m1.7.7.7.7.7.7.3.cmml"><mn id="S2.E1.m1.7.7.7.7.7.7.3.2" xref="S2.E1.m1.7.7.7.7.7.7.3.2.cmml">1</mn><mi id="S2.E1.m1.7.7.7.7.7.7.3.3" xref="S2.E1.m1.7.7.7.7.7.7.3.3.cmml">N</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.7.7.2" xref="S2.E1.m1.7.7.7.7.7.7.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1" xref="S2.E1.m1.7.7.7.7.7.7.1.cmml"><mstyle displaystyle="false" id="S2.E1.m1.7.7.7.7.7.7.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.2.cmml"><munderover id="S2.E1.m1.7.7.7.7.7.7.1.2a" xref="S2.E1.m1.7.7.7.7.7.7.1.2.cmml"><mo movablelimits="false" id="S2.E1.m1.7.7.7.7.7.7.1.2.2.2" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.2.cmml">∑</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.cmml"><mi id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.2" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.2.cmml">i</mi><mo id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.1" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.1.cmml">=</mo><mn id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.3" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.7.7.7.7.7.7.1.2.3" xref="S2.E1.m1.7.7.7.7.7.7.1.2.3.cmml">N</mi></munderover></mstyle><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.cmml"><mstyle displaystyle="false" id="S2.E1.m1.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.cmml"><mfrac id="S2.E1.m1.2.2.2.2.2.2a" xref="S2.E1.m1.2.2.2.2.2.2.cmml"><mn id="S2.E1.m1.2.2.2.2.2.2.4" xref="S2.E1.m1.2.2.2.2.2.2.4.cmml">1</mn><mrow id="S2.E1.m1.2.2.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.2.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.2.3.1.cmml">|</mo><msup id="S2.E1.m1.2.2.2.2.2.2.2.2.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.2.2.2.2.2.2.2.2.1.2" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.2.cmml">𝒟</mi><mrow id="S2.E1.m1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.cmml">(</mo><mi id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.E1.m1.2.2.2.2.2.2.2.2.3" xref="S2.E1.m1.2.2.2.2.2.2.2.3.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.7.7.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.cmml"><mstyle displaystyle="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.cmml"><munder id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2a" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.cmml"><mo movablelimits="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.3.3.3.3.3.3.1" xref="S2.E1.m1.3.3.3.3.3.3.1.cmml"><mi id="S2.E1.m1.3.3.3.3.3.3.1.3" xref="S2.E1.m1.3.3.3.3.3.3.1.3.cmml">x</mi><mo id="S2.E1.m1.3.3.3.3.3.3.1.2" xref="S2.E1.m1.3.3.3.3.3.3.1.2.cmml">∈</mo><msup id="S2.E1.m1.3.3.3.3.3.3.1.4" xref="S2.E1.m1.3.3.3.3.3.3.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.3.3.3.3.3.3.1.4.2" xref="S2.E1.m1.3.3.3.3.3.3.1.4.2.cmml">𝒟</mi><mrow id="S2.E1.m1.3.3.3.3.3.3.1.1.1.3" xref="S2.E1.m1.3.3.3.3.3.3.1.4.cmml"><mo stretchy="false" id="S2.E1.m1.3.3.3.3.3.3.1.1.1.3.1" xref="S2.E1.m1.3.3.3.3.3.3.1.4.cmml">(</mo><mi id="S2.E1.m1.3.3.3.3.3.3.1.1.1.1" xref="S2.E1.m1.3.3.3.3.3.3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.3.3.3.3.3.3.1.1.1.3.2" xref="S2.E1.m1.3.3.3.3.3.3.1.4.cmml">)</mo></mrow></msup></mrow></munder></mstyle><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.3" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S2.E1.m1.5.5.5.5.5.5" xref="S2.E1.m1.5.5.5.5.5.5.cmml">x</mi><mo id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">;</mo><msup id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml">θ</mi><mrow id="S2.E1.m1.4.4.4.4.4.4.1.3" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.4.4.4.4.1.3.1" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S2.E1.m1.4.4.4.4.4.4.1.1" xref="S2.E1.m1.4.4.4.4.4.4.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.4.4.4.4.4.4.1.3.2" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.4" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.3" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E1.m1.6.6.6.6.6.6" xref="S2.E1.m1.6.6.6.6.6.6.cmml">y</mi><mo stretchy="false" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.4" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><matrix id="S2.E1.m1.7.7.cmml" xref="S2.E1.m1.7.7"><matrixrow id="S2.E1.m1.7.7a.cmml" xref="S2.E1.m1.7.7"><cerror id="S2.E1.m1.7.7b.cmml" xref="S2.E1.m1.7.7"><csymbol cd="ambiguous" id="S2.E1.m1.7.7c.cmml" xref="S2.E1.m1.7.7">missing-subexpression</csymbol></cerror><apply id="S2.E1.m1.7.7.7.7.7.cmml" xref="S2.E1.m1.7.7.7.7.7"><csymbol cd="latexml" id="S2.E1.m1.7.7.7.7.7.8.cmml" xref="S2.E1.m1.7.7.7.7.7.8">assign</csymbol><apply id="S2.E1.m1.7.7.7.7.7.9.cmml" xref="S2.E1.m1.7.7.7.7.7.9"><apply id="S2.E1.m1.7.7.7.7.7.9.1.cmml" xref="S2.E1.m1.7.7.7.7.7.9.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.9.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.9.1">subscript</csymbol><min id="S2.E1.m1.7.7.7.7.7.9.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.9.1.2"></min><ci id="S2.E1.m1.7.7.7.7.7.9.1.3.cmml" xref="S2.E1.m1.7.7.7.7.7.9.1.3">𝜃</ci></apply><apply id="S2.E1.m1.7.7.7.7.7.9.2.cmml" xref="S2.E1.m1.7.7.7.7.7.9.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.9.2.1.cmml" xref="S2.E1.m1.7.7.7.7.7.9.2">superscript</csymbol><ci id="S2.E1.m1.7.7.7.7.7.9.2.2.cmml" xref="S2.E1.m1.7.7.7.7.7.9.2.2">ℒ</ci><ci id="S2.E1.m1.7.7.7.7.7.9.2.3.cmml" xref="S2.E1.m1.7.7.7.7.7.9.2.3">𝜃</ci></apply></apply><apply id="S2.E1.m1.7.7.7.7.7.7.cmml" xref="S2.E1.m1.7.7.7.7.7.7"><times id="S2.E1.m1.7.7.7.7.7.7.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.2"></times><apply id="S2.E1.m1.7.7.7.7.7.7.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.3"><divide id="S2.E1.m1.7.7.7.7.7.7.3.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.3"></divide><cn type="integer" id="S2.E1.m1.7.7.7.7.7.7.3.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.3.2">1</cn><ci id="S2.E1.m1.7.7.7.7.7.7.3.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.3.3">𝑁</ci></apply><apply id="S2.E1.m1.7.7.7.7.7.7.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1"><apply id="S2.E1.m1.7.7.7.7.7.7.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.7.1.2.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2">superscript</csymbol><apply id="S2.E1.m1.7.7.7.7.7.7.1.2.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.7.1.2.2.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2">subscript</csymbol><sum id="S2.E1.m1.7.7.7.7.7.7.1.2.2.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.2"></sum><apply id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3"><eq id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.1"></eq><ci id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.7.7.7.7.7.7.1.2.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.2.3">𝑁</ci></apply><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1"><times id="S2.E1.m1.7.7.7.7.7.7.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.2"></times><apply id="S2.E1.m1.2.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2"><divide id="S2.E1.m1.2.2.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2"></divide><cn type="integer" id="S2.E1.m1.2.2.2.2.2.2.4.cmml" xref="S2.E1.m1.2.2.2.2.2.2.4">1</cn><apply id="S2.E1.m1.2.2.2.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2"><abs id="S2.E1.m1.2.2.2.2.2.2.2.3.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2"></abs><apply id="S2.E1.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.2.2.1.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1">superscript</csymbol><ci id="S2.E1.m1.2.2.2.2.2.2.2.2.1.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.1.2">𝒟</ci><ci id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1"><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2">subscript</csymbol><sum id="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.2.2"></sum><apply id="S2.E1.m1.3.3.3.3.3.3.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1"><in id="S2.E1.m1.3.3.3.3.3.3.1.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.2"></in><ci id="S2.E1.m1.3.3.3.3.3.3.1.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.3">𝑥</ci><apply id="S2.E1.m1.3.3.3.3.3.3.1.4.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.4"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.3.3.3.1.4.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.4">superscript</csymbol><ci id="S2.E1.m1.3.3.3.3.3.3.1.4.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.4.2">𝒟</ci><ci id="S2.E1.m1.3.3.3.3.3.3.1.1.1.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1"><times id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.2"></times><ci id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.3">ℒ</ci><interval closure="open" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1"><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1"><times id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2"></times><ci id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3">𝑓</ci><list id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1"><ci id="S2.E1.m1.5.5.5.5.5.5.cmml" xref="S2.E1.m1.5.5.5.5.5.5">𝑥</ci><apply id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2">𝜃</ci><ci id="S2.E1.m1.4.4.4.4.4.4.1.1.cmml" xref="S2.E1.m1.4.4.4.4.4.4.1.1">𝑖</ci></apply></list></apply><ci id="S2.E1.m1.6.6.6.6.6.6.cmml" xref="S2.E1.m1.6.6.6.6.6.6">𝑦</ci></interval></apply></apply></apply></apply></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">\begin{array}[]{cc}&amp;\min\limits_{\theta}\mathcal{L}^{\theta}:=\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}(f(x;\theta^{(i)}),y)\\
\end{array}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.5" class="ltx_p">where the <math id="S2.SS1.p4.1.m1.7" class="ltx_Math" alttext="\theta=\left\{\theta^{(1)},\theta^{(2)},\dots,\theta^{(N)}\right\}" display="inline"><semantics id="S2.SS1.p4.1.m1.7a"><mrow id="S2.SS1.p4.1.m1.7.7" xref="S2.SS1.p4.1.m1.7.7.cmml"><mi id="S2.SS1.p4.1.m1.7.7.5" xref="S2.SS1.p4.1.m1.7.7.5.cmml">θ</mi><mo id="S2.SS1.p4.1.m1.7.7.4" xref="S2.SS1.p4.1.m1.7.7.4.cmml">=</mo><mrow id="S2.SS1.p4.1.m1.7.7.3.3" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml"><mo id="S2.SS1.p4.1.m1.7.7.3.3.4" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml">{</mo><msup id="S2.SS1.p4.1.m1.5.5.1.1.1" xref="S2.SS1.p4.1.m1.5.5.1.1.1.cmml"><mi id="S2.SS1.p4.1.m1.5.5.1.1.1.2" xref="S2.SS1.p4.1.m1.5.5.1.1.1.2.cmml">θ</mi><mrow id="S2.SS1.p4.1.m1.1.1.1.3" xref="S2.SS1.p4.1.m1.5.5.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p4.1.m1.1.1.1.3.1" xref="S2.SS1.p4.1.m1.5.5.1.1.1.cmml">(</mo><mn id="S2.SS1.p4.1.m1.1.1.1.1" xref="S2.SS1.p4.1.m1.1.1.1.1.cmml">1</mn><mo stretchy="false" id="S2.SS1.p4.1.m1.1.1.1.3.2" xref="S2.SS1.p4.1.m1.5.5.1.1.1.cmml">)</mo></mrow></msup><mo id="S2.SS1.p4.1.m1.7.7.3.3.5" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml">,</mo><msup id="S2.SS1.p4.1.m1.6.6.2.2.2" xref="S2.SS1.p4.1.m1.6.6.2.2.2.cmml"><mi id="S2.SS1.p4.1.m1.6.6.2.2.2.2" xref="S2.SS1.p4.1.m1.6.6.2.2.2.2.cmml">θ</mi><mrow id="S2.SS1.p4.1.m1.2.2.1.3" xref="S2.SS1.p4.1.m1.6.6.2.2.2.cmml"><mo stretchy="false" id="S2.SS1.p4.1.m1.2.2.1.3.1" xref="S2.SS1.p4.1.m1.6.6.2.2.2.cmml">(</mo><mn id="S2.SS1.p4.1.m1.2.2.1.1" xref="S2.SS1.p4.1.m1.2.2.1.1.cmml">2</mn><mo stretchy="false" id="S2.SS1.p4.1.m1.2.2.1.3.2" xref="S2.SS1.p4.1.m1.6.6.2.2.2.cmml">)</mo></mrow></msup><mo id="S2.SS1.p4.1.m1.7.7.3.3.6" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS1.p4.1.m1.4.4" xref="S2.SS1.p4.1.m1.4.4.cmml">…</mi><mo id="S2.SS1.p4.1.m1.7.7.3.3.7" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml">,</mo><msup id="S2.SS1.p4.1.m1.7.7.3.3.3" xref="S2.SS1.p4.1.m1.7.7.3.3.3.cmml"><mi id="S2.SS1.p4.1.m1.7.7.3.3.3.2" xref="S2.SS1.p4.1.m1.7.7.3.3.3.2.cmml">θ</mi><mrow id="S2.SS1.p4.1.m1.3.3.1.3" xref="S2.SS1.p4.1.m1.7.7.3.3.3.cmml"><mo stretchy="false" id="S2.SS1.p4.1.m1.3.3.1.3.1" xref="S2.SS1.p4.1.m1.7.7.3.3.3.cmml">(</mo><mi id="S2.SS1.p4.1.m1.3.3.1.1" xref="S2.SS1.p4.1.m1.3.3.1.1.cmml">N</mi><mo stretchy="false" id="S2.SS1.p4.1.m1.3.3.1.3.2" xref="S2.SS1.p4.1.m1.7.7.3.3.3.cmml">)</mo></mrow></msup><mo id="S2.SS1.p4.1.m1.7.7.3.3.8" xref="S2.SS1.p4.1.m1.7.7.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.7b"><apply id="S2.SS1.p4.1.m1.7.7.cmml" xref="S2.SS1.p4.1.m1.7.7"><eq id="S2.SS1.p4.1.m1.7.7.4.cmml" xref="S2.SS1.p4.1.m1.7.7.4"></eq><ci id="S2.SS1.p4.1.m1.7.7.5.cmml" xref="S2.SS1.p4.1.m1.7.7.5">𝜃</ci><set id="S2.SS1.p4.1.m1.7.7.3.4.cmml" xref="S2.SS1.p4.1.m1.7.7.3.3"><apply id="S2.SS1.p4.1.m1.5.5.1.1.1.cmml" xref="S2.SS1.p4.1.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p4.1.m1.5.5.1.1.1.1.cmml" xref="S2.SS1.p4.1.m1.5.5.1.1.1">superscript</csymbol><ci id="S2.SS1.p4.1.m1.5.5.1.1.1.2.cmml" xref="S2.SS1.p4.1.m1.5.5.1.1.1.2">𝜃</ci><cn type="integer" id="S2.SS1.p4.1.m1.1.1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1.1.1">1</cn></apply><apply id="S2.SS1.p4.1.m1.6.6.2.2.2.cmml" xref="S2.SS1.p4.1.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p4.1.m1.6.6.2.2.2.1.cmml" xref="S2.SS1.p4.1.m1.6.6.2.2.2">superscript</csymbol><ci id="S2.SS1.p4.1.m1.6.6.2.2.2.2.cmml" xref="S2.SS1.p4.1.m1.6.6.2.2.2.2">𝜃</ci><cn type="integer" id="S2.SS1.p4.1.m1.2.2.1.1.cmml" xref="S2.SS1.p4.1.m1.2.2.1.1">2</cn></apply><ci id="S2.SS1.p4.1.m1.4.4.cmml" xref="S2.SS1.p4.1.m1.4.4">…</ci><apply id="S2.SS1.p4.1.m1.7.7.3.3.3.cmml" xref="S2.SS1.p4.1.m1.7.7.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p4.1.m1.7.7.3.3.3.1.cmml" xref="S2.SS1.p4.1.m1.7.7.3.3.3">superscript</csymbol><ci id="S2.SS1.p4.1.m1.7.7.3.3.3.2.cmml" xref="S2.SS1.p4.1.m1.7.7.3.3.3.2">𝜃</ci><ci id="S2.SS1.p4.1.m1.3.3.1.1.cmml" xref="S2.SS1.p4.1.m1.3.3.1.1">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.7c">\theta=\left\{\theta^{(1)},\theta^{(2)},\dots,\theta^{(N)}\right\}</annotation></semantics></math>, the <math id="S2.SS1.p4.2.m2.4" class="ltx_Math" alttext="\mathcal{L}(f(x;\theta^{(i)}),y)" display="inline"><semantics id="S2.SS1.p4.2.m2.4a"><mrow id="S2.SS1.p4.2.m2.4.4" xref="S2.SS1.p4.2.m2.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p4.2.m2.4.4.3" xref="S2.SS1.p4.2.m2.4.4.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p4.2.m2.4.4.2" xref="S2.SS1.p4.2.m2.4.4.2.cmml">​</mo><mrow id="S2.SS1.p4.2.m2.4.4.1.1" xref="S2.SS1.p4.2.m2.4.4.1.2.cmml"><mo stretchy="false" id="S2.SS1.p4.2.m2.4.4.1.1.2" xref="S2.SS1.p4.2.m2.4.4.1.2.cmml">(</mo><mrow id="S2.SS1.p4.2.m2.4.4.1.1.1" xref="S2.SS1.p4.2.m2.4.4.1.1.1.cmml"><mi id="S2.SS1.p4.2.m2.4.4.1.1.1.3" xref="S2.SS1.p4.2.m2.4.4.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p4.2.m2.4.4.1.1.1.2" xref="S2.SS1.p4.2.m2.4.4.1.1.1.2.cmml">​</mo><mrow id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.2" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.2.cmml">(</mo><mi id="S2.SS1.p4.2.m2.2.2" xref="S2.SS1.p4.2.m2.2.2.cmml">x</mi><mo id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.3" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.2.cmml">;</mo><msup id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.2" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.2.cmml">θ</mi><mrow id="S2.SS1.p4.2.m2.1.1.1.3" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p4.2.m2.1.1.1.3.1" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.cmml">(</mo><mi id="S2.SS1.p4.2.m2.1.1.1.1" xref="S2.SS1.p4.2.m2.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p4.2.m2.1.1.1.3.2" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.4" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS1.p4.2.m2.4.4.1.1.3" xref="S2.SS1.p4.2.m2.4.4.1.2.cmml">,</mo><mi id="S2.SS1.p4.2.m2.3.3" xref="S2.SS1.p4.2.m2.3.3.cmml">y</mi><mo stretchy="false" id="S2.SS1.p4.2.m2.4.4.1.1.4" xref="S2.SS1.p4.2.m2.4.4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.2.m2.4b"><apply id="S2.SS1.p4.2.m2.4.4.cmml" xref="S2.SS1.p4.2.m2.4.4"><times id="S2.SS1.p4.2.m2.4.4.2.cmml" xref="S2.SS1.p4.2.m2.4.4.2"></times><ci id="S2.SS1.p4.2.m2.4.4.3.cmml" xref="S2.SS1.p4.2.m2.4.4.3">ℒ</ci><interval closure="open" id="S2.SS1.p4.2.m2.4.4.1.2.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1"><apply id="S2.SS1.p4.2.m2.4.4.1.1.1.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1"><times id="S2.SS1.p4.2.m2.4.4.1.1.1.2.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.2"></times><ci id="S2.SS1.p4.2.m2.4.4.1.1.1.3.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.3">𝑓</ci><list id="S2.SS1.p4.2.m2.4.4.1.1.1.1.2.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1"><ci id="S2.SS1.p4.2.m2.2.2.cmml" xref="S2.SS1.p4.2.m2.2.2">𝑥</ci><apply id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1">superscript</csymbol><ci id="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p4.2.m2.4.4.1.1.1.1.1.1.2">𝜃</ci><ci id="S2.SS1.p4.2.m2.1.1.1.1.cmml" xref="S2.SS1.p4.2.m2.1.1.1.1">𝑖</ci></apply></list></apply><ci id="S2.SS1.p4.2.m2.3.3.cmml" xref="S2.SS1.p4.2.m2.3.3">𝑦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.2.m2.4c">\mathcal{L}(f(x;\theta^{(i)}),y)</annotation></semantics></math> denoted the loss between the <math id="S2.SS1.p4.3.m3.3" class="ltx_Math" alttext="f(x;\theta^{(i)})" display="inline"><semantics id="S2.SS1.p4.3.m3.3a"><mrow id="S2.SS1.p4.3.m3.3.3" xref="S2.SS1.p4.3.m3.3.3.cmml"><mi id="S2.SS1.p4.3.m3.3.3.3" xref="S2.SS1.p4.3.m3.3.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p4.3.m3.3.3.2" xref="S2.SS1.p4.3.m3.3.3.2.cmml">​</mo><mrow id="S2.SS1.p4.3.m3.3.3.1.1" xref="S2.SS1.p4.3.m3.3.3.1.2.cmml"><mo stretchy="false" id="S2.SS1.p4.3.m3.3.3.1.1.2" xref="S2.SS1.p4.3.m3.3.3.1.2.cmml">(</mo><mi id="S2.SS1.p4.3.m3.2.2" xref="S2.SS1.p4.3.m3.2.2.cmml">x</mi><mo id="S2.SS1.p4.3.m3.3.3.1.1.3" xref="S2.SS1.p4.3.m3.3.3.1.2.cmml">;</mo><msup id="S2.SS1.p4.3.m3.3.3.1.1.1" xref="S2.SS1.p4.3.m3.3.3.1.1.1.cmml"><mi id="S2.SS1.p4.3.m3.3.3.1.1.1.2" xref="S2.SS1.p4.3.m3.3.3.1.1.1.2.cmml">θ</mi><mrow id="S2.SS1.p4.3.m3.1.1.1.3" xref="S2.SS1.p4.3.m3.3.3.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p4.3.m3.1.1.1.3.1" xref="S2.SS1.p4.3.m3.3.3.1.1.1.cmml">(</mo><mi id="S2.SS1.p4.3.m3.1.1.1.1" xref="S2.SS1.p4.3.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.p4.3.m3.1.1.1.3.2" xref="S2.SS1.p4.3.m3.3.3.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.SS1.p4.3.m3.3.3.1.1.4" xref="S2.SS1.p4.3.m3.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.3.m3.3b"><apply id="S2.SS1.p4.3.m3.3.3.cmml" xref="S2.SS1.p4.3.m3.3.3"><times id="S2.SS1.p4.3.m3.3.3.2.cmml" xref="S2.SS1.p4.3.m3.3.3.2"></times><ci id="S2.SS1.p4.3.m3.3.3.3.cmml" xref="S2.SS1.p4.3.m3.3.3.3">𝑓</ci><list id="S2.SS1.p4.3.m3.3.3.1.2.cmml" xref="S2.SS1.p4.3.m3.3.3.1.1"><ci id="S2.SS1.p4.3.m3.2.2.cmml" xref="S2.SS1.p4.3.m3.2.2">𝑥</ci><apply id="S2.SS1.p4.3.m3.3.3.1.1.1.cmml" xref="S2.SS1.p4.3.m3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p4.3.m3.3.3.1.1.1.1.cmml" xref="S2.SS1.p4.3.m3.3.3.1.1.1">superscript</csymbol><ci id="S2.SS1.p4.3.m3.3.3.1.1.1.2.cmml" xref="S2.SS1.p4.3.m3.3.3.1.1.1.2">𝜃</ci><ci id="S2.SS1.p4.3.m3.1.1.1.1.cmml" xref="S2.SS1.p4.3.m3.1.1.1.1">𝑖</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.3.m3.3c">f(x;\theta^{(i)})</annotation></semantics></math> and <math id="S2.SS1.p4.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS1.p4.4.m4.1a"><mi id="S2.SS1.p4.4.m4.1.1" xref="S2.SS1.p4.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.4.m4.1b"><ci id="S2.SS1.p4.4.m4.1.1.cmml" xref="S2.SS1.p4.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.4.m4.1c">y</annotation></semantics></math> on client <math id="S2.SS1.p4.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p4.5.m5.1a"><mi id="S2.SS1.p4.5.m5.1.1" xref="S2.SS1.p4.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.5.m5.1b"><ci id="S2.SS1.p4.5.m5.1.1.cmml" xref="S2.SS1.p4.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.5.m5.1c">i</annotation></semantics></math>.</p>
</div>
<div id="S2.SS1.p5" class="ltx_para">
<p id="S2.SS1.p5.1" class="ltx_p">In contrast to traditional FL, research in PFL (Figure <a href="#S2.F1" title="Figure 1 ‣ 2. Preliminaries ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, bottom) aims to address two principal challenges. The first challenge is the poor convergence of heterogeneous data, particularly when learning on <span id="S2.SS1.p5.1.1" class="ltx_text ltx_font_italic">non-IID</span> data. The accuracy of traditional methods, such as FedAvg, is significantly reduced when training on such data. This performance degradation is attributed to the phenomenon of client drift resulting from local training and synchronization on <span id="S2.SS1.p5.1.2" class="ltx_text ltx_font_italic">non-IID</span> data. The second challenge is the lack of personalized solutions. In a traditional FL setting, a single global shared model is trained to fit the ”<span id="S2.SS1.p5.1.3" class="ltx_text ltx_font_italic">average client</span>”. Consequently, for local distributions that differ significantly from the global distribution, the shared model struggles to generalize effectively. This lack of personalization hinders generalization, especially in practical applications dealing with commonly encountered <span id="S2.SS1.p5.1.4" class="ltx_text ltx_font_italic">non-IID</span> local data sets. In such cases, a single model is often insufficient.</p>
</div>
<div id="S2.SS1.p6" class="ltx_para">
<p id="S2.SS1.p6.2" class="ltx_p">To address the aforementioned challenges, PFL divides each client’s knowledge into two distinct categories: general knowledge and client-specific knowledge. In <span id="S2.SS1.p6.2.1" class="ltx_text ltx_font_italic">non-IID</span> scenarios, the data distributions of different clients are unique. PFL decomposes the model trained on client data into a shared part, <math id="S2.SS1.p6.1.m1.1" class="ltx_Math" alttext="\theta_{s}" display="inline"><semantics id="S2.SS1.p6.1.m1.1a"><msub id="S2.SS1.p6.1.m1.1.1" xref="S2.SS1.p6.1.m1.1.1.cmml"><mi id="S2.SS1.p6.1.m1.1.1.2" xref="S2.SS1.p6.1.m1.1.1.2.cmml">θ</mi><mi id="S2.SS1.p6.1.m1.1.1.3" xref="S2.SS1.p6.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.1.m1.1b"><apply id="S2.SS1.p6.1.m1.1.1.cmml" xref="S2.SS1.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p6.1.m1.1.1.1.cmml" xref="S2.SS1.p6.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p6.1.m1.1.1.2.cmml" xref="S2.SS1.p6.1.m1.1.1.2">𝜃</ci><ci id="S2.SS1.p6.1.m1.1.1.3.cmml" xref="S2.SS1.p6.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.1.m1.1c">\theta_{s}</annotation></semantics></math>, and a personalized part, <math id="S2.SS1.p6.2.m2.1" class="ltx_Math" alttext="\theta_{p}" display="inline"><semantics id="S2.SS1.p6.2.m2.1a"><msub id="S2.SS1.p6.2.m2.1.1" xref="S2.SS1.p6.2.m2.1.1.cmml"><mi id="S2.SS1.p6.2.m2.1.1.2" xref="S2.SS1.p6.2.m2.1.1.2.cmml">θ</mi><mi id="S2.SS1.p6.2.m2.1.1.3" xref="S2.SS1.p6.2.m2.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.2.m2.1b"><apply id="S2.SS1.p6.2.m2.1.1.cmml" xref="S2.SS1.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p6.2.m2.1.1.1.cmml" xref="S2.SS1.p6.2.m2.1.1">subscript</csymbol><ci id="S2.SS1.p6.2.m2.1.1.2.cmml" xref="S2.SS1.p6.2.m2.1.1.2">𝜃</ci><ci id="S2.SS1.p6.2.m2.1.1.3.cmml" xref="S2.SS1.p6.2.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.2.m2.1c">\theta_{p}</annotation></semantics></math>, which is dedicated to learning general knowledge and client-specific knowledge, respectively. Formally, the training objective of the personalized part can be formulated as:</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.7" class="ltx_Math" alttext="\begin{array}[]{cc}&amp;\mathop{\min}\limits_{\theta_{p}}\mathcal{L}^{\theta_{p}}:=\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}(f(x;\theta^{(i)}_{p}),y)\\
\end{array}" display="block"><semantics id="S2.E2.m1.7a"><mtable columnspacing="5pt" displaystyle="true" id="S2.E2.m1.7.7" xref="S2.E2.m1.7.7.cmml"><mtr id="S2.E2.m1.7.7a" xref="S2.E2.m1.7.7.cmml"><mtd id="S2.E2.m1.7.7b" xref="S2.E2.m1.7.7.cmml"></mtd><mtd id="S2.E2.m1.7.7c" xref="S2.E2.m1.7.7.cmml"><mrow id="S2.E2.m1.7.7.7.7.7" xref="S2.E2.m1.7.7.7.7.7.cmml"><mrow id="S2.E2.m1.7.7.7.7.7.9" xref="S2.E2.m1.7.7.7.7.7.9.cmml"><munder id="S2.E2.m1.7.7.7.7.7.9.1" xref="S2.E2.m1.7.7.7.7.7.9.1.cmml"><mo movablelimits="false" id="S2.E2.m1.7.7.7.7.7.9.1.2" xref="S2.E2.m1.7.7.7.7.7.9.1.2.cmml">min</mo><msub id="S2.E2.m1.7.7.7.7.7.9.1.3" xref="S2.E2.m1.7.7.7.7.7.9.1.3.cmml"><mi id="S2.E2.m1.7.7.7.7.7.9.1.3.2" xref="S2.E2.m1.7.7.7.7.7.9.1.3.2.cmml">θ</mi><mi id="S2.E2.m1.7.7.7.7.7.9.1.3.3" xref="S2.E2.m1.7.7.7.7.7.9.1.3.3.cmml">p</mi></msub></munder><msup id="S2.E2.m1.7.7.7.7.7.9.2" xref="S2.E2.m1.7.7.7.7.7.9.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.7.7.7.7.7.9.2.2" xref="S2.E2.m1.7.7.7.7.7.9.2.2.cmml">ℒ</mi><msub id="S2.E2.m1.7.7.7.7.7.9.2.3" xref="S2.E2.m1.7.7.7.7.7.9.2.3.cmml"><mi id="S2.E2.m1.7.7.7.7.7.9.2.3.2" xref="S2.E2.m1.7.7.7.7.7.9.2.3.2.cmml">θ</mi><mi id="S2.E2.m1.7.7.7.7.7.9.2.3.3" xref="S2.E2.m1.7.7.7.7.7.9.2.3.3.cmml">p</mi></msub></msup></mrow><mo lspace="0.278em" rspace="0.278em" id="S2.E2.m1.7.7.7.7.7.8" xref="S2.E2.m1.7.7.7.7.7.8.cmml">:=</mo><mrow id="S2.E2.m1.7.7.7.7.7.7" xref="S2.E2.m1.7.7.7.7.7.7.cmml"><mstyle displaystyle="false" id="S2.E2.m1.7.7.7.7.7.7.3" xref="S2.E2.m1.7.7.7.7.7.7.3.cmml"><mfrac id="S2.E2.m1.7.7.7.7.7.7.3a" xref="S2.E2.m1.7.7.7.7.7.7.3.cmml"><mn id="S2.E2.m1.7.7.7.7.7.7.3.2" xref="S2.E2.m1.7.7.7.7.7.7.3.2.cmml">1</mn><mi id="S2.E2.m1.7.7.7.7.7.7.3.3" xref="S2.E2.m1.7.7.7.7.7.7.3.3.cmml">N</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.7.7.7.7.2" xref="S2.E2.m1.7.7.7.7.7.7.2.cmml">​</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1" xref="S2.E2.m1.7.7.7.7.7.7.1.cmml"><mstyle displaystyle="false" id="S2.E2.m1.7.7.7.7.7.7.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.2.cmml"><munderover id="S2.E2.m1.7.7.7.7.7.7.1.2a" xref="S2.E2.m1.7.7.7.7.7.7.1.2.cmml"><mo movablelimits="false" id="S2.E2.m1.7.7.7.7.7.7.1.2.2.2" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.2.cmml">∑</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.cmml"><mi id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.2" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.2.cmml">i</mi><mo id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.1" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.1.cmml">=</mo><mn id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.3" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.3.cmml">1</mn></mrow><mi id="S2.E2.m1.7.7.7.7.7.7.1.2.3" xref="S2.E2.m1.7.7.7.7.7.7.1.2.3.cmml">N</mi></munderover></mstyle><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.cmml"><mstyle displaystyle="false" id="S2.E2.m1.2.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.2.2.cmml"><mfrac id="S2.E2.m1.2.2.2.2.2.2a" xref="S2.E2.m1.2.2.2.2.2.2.cmml"><mn id="S2.E2.m1.2.2.2.2.2.2.4" xref="S2.E2.m1.2.2.2.2.2.2.4.cmml">1</mn><mrow id="S2.E2.m1.2.2.2.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.2.2.2.3.1.cmml">|</mo><msup id="S2.E2.m1.2.2.2.2.2.2.2.2.1" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.2.2.2.2.2.2.2.2.1.2" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.2.cmml">𝒟</mi><mrow id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S2.E2.m1.2.2.2.2.2.2.2.2.3" xref="S2.E2.m1.2.2.2.2.2.2.2.3.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.7.7.7.7.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.2.cmml">​</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.cmml"><mstyle displaystyle="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.cmml"><munder id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2a" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.cmml"><mo movablelimits="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.3.3.3.3.3.3.1" xref="S2.E2.m1.3.3.3.3.3.3.1.cmml"><mi id="S2.E2.m1.3.3.3.3.3.3.1.3" xref="S2.E2.m1.3.3.3.3.3.3.1.3.cmml">x</mi><mo id="S2.E2.m1.3.3.3.3.3.3.1.2" xref="S2.E2.m1.3.3.3.3.3.3.1.2.cmml">∈</mo><msup id="S2.E2.m1.3.3.3.3.3.3.1.4" xref="S2.E2.m1.3.3.3.3.3.3.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.3.3.3.3.3.3.1.4.2" xref="S2.E2.m1.3.3.3.3.3.3.1.4.2.cmml">𝒟</mi><mrow id="S2.E2.m1.3.3.3.3.3.3.1.1.1.3" xref="S2.E2.m1.3.3.3.3.3.3.1.4.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.3.3.3.3.1.1.1.3.1" xref="S2.E2.m1.3.3.3.3.3.3.1.4.cmml">(</mo><mi id="S2.E2.m1.3.3.3.3.3.3.1.1.1.1" xref="S2.E2.m1.3.3.3.3.3.3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.3.3.3.3.3.3.1.1.1.3.2" xref="S2.E2.m1.3.3.3.3.3.3.1.4.cmml">)</mo></mrow></msup></mrow></munder></mstyle><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.2.cmml">​</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S2.E2.m1.5.5.5.5.5.5" xref="S2.E2.m1.5.5.5.5.5.5.cmml">x</mi><mo id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">;</mo><msubsup id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mi id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml">p</mi><mrow id="S2.E2.m1.4.4.4.4.4.4.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.4.4.4.4.1.3.1" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S2.E2.m1.4.4.4.4.4.4.1.1" xref="S2.E2.m1.4.4.4.4.4.4.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.4.4.4.4.4.4.1.3.2" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.4" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.3" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E2.m1.6.6.6.6.6.6" xref="S2.E2.m1.6.6.6.6.6.6.cmml">y</mi><mo stretchy="false" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.4" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S2.E2.m1.7b"><matrix id="S2.E2.m1.7.7.cmml" xref="S2.E2.m1.7.7"><matrixrow id="S2.E2.m1.7.7a.cmml" xref="S2.E2.m1.7.7"><cerror id="S2.E2.m1.7.7b.cmml" xref="S2.E2.m1.7.7"><csymbol cd="ambiguous" id="S2.E2.m1.7.7c.cmml" xref="S2.E2.m1.7.7">missing-subexpression</csymbol></cerror><apply id="S2.E2.m1.7.7.7.7.7.cmml" xref="S2.E2.m1.7.7.7.7.7"><csymbol cd="latexml" id="S2.E2.m1.7.7.7.7.7.8.cmml" xref="S2.E2.m1.7.7.7.7.7.8">assign</csymbol><apply id="S2.E2.m1.7.7.7.7.7.9.cmml" xref="S2.E2.m1.7.7.7.7.7.9"><apply id="S2.E2.m1.7.7.7.7.7.9.1.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.9.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1">subscript</csymbol><min id="S2.E2.m1.7.7.7.7.7.9.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1.2"></min><apply id="S2.E2.m1.7.7.7.7.7.9.1.3.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.9.1.3.1.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1.3">subscript</csymbol><ci id="S2.E2.m1.7.7.7.7.7.9.1.3.2.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1.3.2">𝜃</ci><ci id="S2.E2.m1.7.7.7.7.7.9.1.3.3.cmml" xref="S2.E2.m1.7.7.7.7.7.9.1.3.3">𝑝</ci></apply></apply><apply id="S2.E2.m1.7.7.7.7.7.9.2.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.9.2.1.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2">superscript</csymbol><ci id="S2.E2.m1.7.7.7.7.7.9.2.2.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2.2">ℒ</ci><apply id="S2.E2.m1.7.7.7.7.7.9.2.3.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2.3"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.9.2.3.1.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2.3">subscript</csymbol><ci id="S2.E2.m1.7.7.7.7.7.9.2.3.2.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2.3.2">𝜃</ci><ci id="S2.E2.m1.7.7.7.7.7.9.2.3.3.cmml" xref="S2.E2.m1.7.7.7.7.7.9.2.3.3">𝑝</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.7.7.7.7.cmml" xref="S2.E2.m1.7.7.7.7.7.7"><times id="S2.E2.m1.7.7.7.7.7.7.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.2"></times><apply id="S2.E2.m1.7.7.7.7.7.7.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.3"><divide id="S2.E2.m1.7.7.7.7.7.7.3.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.3"></divide><cn type="integer" id="S2.E2.m1.7.7.7.7.7.7.3.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.3.2">1</cn><ci id="S2.E2.m1.7.7.7.7.7.7.3.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.3.3">𝑁</ci></apply><apply id="S2.E2.m1.7.7.7.7.7.7.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1"><apply id="S2.E2.m1.7.7.7.7.7.7.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.7.1.2.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2">superscript</csymbol><apply id="S2.E2.m1.7.7.7.7.7.7.1.2.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.7.1.2.2.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2">subscript</csymbol><sum id="S2.E2.m1.7.7.7.7.7.7.1.2.2.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.2"></sum><apply id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3"><eq id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.1"></eq><ci id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.2">𝑖</ci><cn type="integer" id="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.2.3.3">1</cn></apply></apply><ci id="S2.E2.m1.7.7.7.7.7.7.1.2.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.2.3">𝑁</ci></apply><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1"><times id="S2.E2.m1.7.7.7.7.7.7.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.2"></times><apply id="S2.E2.m1.2.2.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2.2.2"><divide id="S2.E2.m1.2.2.2.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.2.2.2"></divide><cn type="integer" id="S2.E2.m1.2.2.2.2.2.2.4.cmml" xref="S2.E2.m1.2.2.2.2.2.2.4">1</cn><apply id="S2.E2.m1.2.2.2.2.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.2.2.2.2.2"><abs id="S2.E2.m1.2.2.2.2.2.2.2.3.1.cmml" xref="S2.E2.m1.2.2.2.2.2.2.2.2.2"></abs><apply id="S2.E2.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.2.2.2.2.2.2.1.1.cmml" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1">superscript</csymbol><ci id="S2.E2.m1.2.2.2.2.2.2.2.2.1.2.cmml" xref="S2.E2.m1.2.2.2.2.2.2.2.2.1.2">𝒟</ci><ci id="S2.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1"><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2">subscript</csymbol><sum id="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.2.2"></sum><apply id="S2.E2.m1.3.3.3.3.3.3.1.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1"><in id="S2.E2.m1.3.3.3.3.3.3.1.2.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.2"></in><ci id="S2.E2.m1.3.3.3.3.3.3.1.3.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.3">𝑥</ci><apply id="S2.E2.m1.3.3.3.3.3.3.1.4.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.4"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.3.3.3.3.1.4.1.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.4">superscript</csymbol><ci id="S2.E2.m1.3.3.3.3.3.3.1.4.2.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.4.2">𝒟</ci><ci id="S2.E2.m1.3.3.3.3.3.3.1.1.1.1.cmml" xref="S2.E2.m1.3.3.3.3.3.3.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1"><times id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.2"></times><ci id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.3">ℒ</ci><interval closure="open" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1"><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1"><times id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.2"></times><ci id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.3">𝑓</ci><list id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1"><ci id="S2.E2.m1.5.5.5.5.5.5.cmml" xref="S2.E2.m1.5.5.5.5.5.5">𝑥</ci><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="S2.E2.m1.4.4.4.4.4.4.1.1.cmml" xref="S2.E2.m1.4.4.4.4.4.4.1.1">𝑖</ci></apply><ci id="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.3">𝑝</ci></apply></list></apply><ci id="S2.E2.m1.6.6.6.6.6.6.cmml" xref="S2.E2.m1.6.6.6.6.6.6">𝑦</ci></interval></apply></apply></apply></apply></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.7c">\begin{array}[]{cc}&amp;\mathop{\min}\limits_{\theta_{p}}\mathcal{L}^{\theta_{p}}:=\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}(f(x;\theta^{(i)}_{p}),y)\\
\end{array}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS1.p6.3" class="ltx_p">where <math id="S2.SS1.p6.3.m1.7" class="ltx_Math" alttext="\theta_{p}=\left\{\theta_{p}^{(1)},\theta_{p}^{(2)},\dots,\theta_{p}^{(N)}\right\}" display="inline"><semantics id="S2.SS1.p6.3.m1.7a"><mrow id="S2.SS1.p6.3.m1.7.7" xref="S2.SS1.p6.3.m1.7.7.cmml"><msub id="S2.SS1.p6.3.m1.7.7.5" xref="S2.SS1.p6.3.m1.7.7.5.cmml"><mi id="S2.SS1.p6.3.m1.7.7.5.2" xref="S2.SS1.p6.3.m1.7.7.5.2.cmml">θ</mi><mi id="S2.SS1.p6.3.m1.7.7.5.3" xref="S2.SS1.p6.3.m1.7.7.5.3.cmml">p</mi></msub><mo id="S2.SS1.p6.3.m1.7.7.4" xref="S2.SS1.p6.3.m1.7.7.4.cmml">=</mo><mrow id="S2.SS1.p6.3.m1.7.7.3.3" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml"><mo id="S2.SS1.p6.3.m1.7.7.3.3.4" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml">{</mo><msubsup id="S2.SS1.p6.3.m1.5.5.1.1.1" xref="S2.SS1.p6.3.m1.5.5.1.1.1.cmml"><mi id="S2.SS1.p6.3.m1.5.5.1.1.1.2.2" xref="S2.SS1.p6.3.m1.5.5.1.1.1.2.2.cmml">θ</mi><mi id="S2.SS1.p6.3.m1.5.5.1.1.1.2.3" xref="S2.SS1.p6.3.m1.5.5.1.1.1.2.3.cmml">p</mi><mrow id="S2.SS1.p6.3.m1.1.1.1.3" xref="S2.SS1.p6.3.m1.5.5.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p6.3.m1.1.1.1.3.1" xref="S2.SS1.p6.3.m1.5.5.1.1.1.cmml">(</mo><mn id="S2.SS1.p6.3.m1.1.1.1.1" xref="S2.SS1.p6.3.m1.1.1.1.1.cmml">1</mn><mo stretchy="false" id="S2.SS1.p6.3.m1.1.1.1.3.2" xref="S2.SS1.p6.3.m1.5.5.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS1.p6.3.m1.7.7.3.3.5" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml">,</mo><msubsup id="S2.SS1.p6.3.m1.6.6.2.2.2" xref="S2.SS1.p6.3.m1.6.6.2.2.2.cmml"><mi id="S2.SS1.p6.3.m1.6.6.2.2.2.2.2" xref="S2.SS1.p6.3.m1.6.6.2.2.2.2.2.cmml">θ</mi><mi id="S2.SS1.p6.3.m1.6.6.2.2.2.2.3" xref="S2.SS1.p6.3.m1.6.6.2.2.2.2.3.cmml">p</mi><mrow id="S2.SS1.p6.3.m1.2.2.1.3" xref="S2.SS1.p6.3.m1.6.6.2.2.2.cmml"><mo stretchy="false" id="S2.SS1.p6.3.m1.2.2.1.3.1" xref="S2.SS1.p6.3.m1.6.6.2.2.2.cmml">(</mo><mn id="S2.SS1.p6.3.m1.2.2.1.1" xref="S2.SS1.p6.3.m1.2.2.1.1.cmml">2</mn><mo stretchy="false" id="S2.SS1.p6.3.m1.2.2.1.3.2" xref="S2.SS1.p6.3.m1.6.6.2.2.2.cmml">)</mo></mrow></msubsup><mo id="S2.SS1.p6.3.m1.7.7.3.3.6" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS1.p6.3.m1.4.4" xref="S2.SS1.p6.3.m1.4.4.cmml">…</mi><mo id="S2.SS1.p6.3.m1.7.7.3.3.7" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml">,</mo><msubsup id="S2.SS1.p6.3.m1.7.7.3.3.3" xref="S2.SS1.p6.3.m1.7.7.3.3.3.cmml"><mi id="S2.SS1.p6.3.m1.7.7.3.3.3.2.2" xref="S2.SS1.p6.3.m1.7.7.3.3.3.2.2.cmml">θ</mi><mi id="S2.SS1.p6.3.m1.7.7.3.3.3.2.3" xref="S2.SS1.p6.3.m1.7.7.3.3.3.2.3.cmml">p</mi><mrow id="S2.SS1.p6.3.m1.3.3.1.3" xref="S2.SS1.p6.3.m1.7.7.3.3.3.cmml"><mo stretchy="false" id="S2.SS1.p6.3.m1.3.3.1.3.1" xref="S2.SS1.p6.3.m1.7.7.3.3.3.cmml">(</mo><mi id="S2.SS1.p6.3.m1.3.3.1.1" xref="S2.SS1.p6.3.m1.3.3.1.1.cmml">N</mi><mo stretchy="false" id="S2.SS1.p6.3.m1.3.3.1.3.2" xref="S2.SS1.p6.3.m1.7.7.3.3.3.cmml">)</mo></mrow></msubsup><mo id="S2.SS1.p6.3.m1.7.7.3.3.8" xref="S2.SS1.p6.3.m1.7.7.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.3.m1.7b"><apply id="S2.SS1.p6.3.m1.7.7.cmml" xref="S2.SS1.p6.3.m1.7.7"><eq id="S2.SS1.p6.3.m1.7.7.4.cmml" xref="S2.SS1.p6.3.m1.7.7.4"></eq><apply id="S2.SS1.p6.3.m1.7.7.5.cmml" xref="S2.SS1.p6.3.m1.7.7.5"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.7.7.5.1.cmml" xref="S2.SS1.p6.3.m1.7.7.5">subscript</csymbol><ci id="S2.SS1.p6.3.m1.7.7.5.2.cmml" xref="S2.SS1.p6.3.m1.7.7.5.2">𝜃</ci><ci id="S2.SS1.p6.3.m1.7.7.5.3.cmml" xref="S2.SS1.p6.3.m1.7.7.5.3">𝑝</ci></apply><set id="S2.SS1.p6.3.m1.7.7.3.4.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3"><apply id="S2.SS1.p6.3.m1.5.5.1.1.1.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.5.5.1.1.1.1.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1">superscript</csymbol><apply id="S2.SS1.p6.3.m1.5.5.1.1.1.2.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.5.5.1.1.1.2.1.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1">subscript</csymbol><ci id="S2.SS1.p6.3.m1.5.5.1.1.1.2.2.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1.2.2">𝜃</ci><ci id="S2.SS1.p6.3.m1.5.5.1.1.1.2.3.cmml" xref="S2.SS1.p6.3.m1.5.5.1.1.1.2.3">𝑝</ci></apply><cn type="integer" id="S2.SS1.p6.3.m1.1.1.1.1.cmml" xref="S2.SS1.p6.3.m1.1.1.1.1">1</cn></apply><apply id="S2.SS1.p6.3.m1.6.6.2.2.2.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.6.6.2.2.2.1.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2">superscript</csymbol><apply id="S2.SS1.p6.3.m1.6.6.2.2.2.2.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.6.6.2.2.2.2.1.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2">subscript</csymbol><ci id="S2.SS1.p6.3.m1.6.6.2.2.2.2.2.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2.2.2">𝜃</ci><ci id="S2.SS1.p6.3.m1.6.6.2.2.2.2.3.cmml" xref="S2.SS1.p6.3.m1.6.6.2.2.2.2.3">𝑝</ci></apply><cn type="integer" id="S2.SS1.p6.3.m1.2.2.1.1.cmml" xref="S2.SS1.p6.3.m1.2.2.1.1">2</cn></apply><ci id="S2.SS1.p6.3.m1.4.4.cmml" xref="S2.SS1.p6.3.m1.4.4">…</ci><apply id="S2.SS1.p6.3.m1.7.7.3.3.3.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.7.7.3.3.3.1.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3">superscript</csymbol><apply id="S2.SS1.p6.3.m1.7.7.3.3.3.2.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p6.3.m1.7.7.3.3.3.2.1.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3">subscript</csymbol><ci id="S2.SS1.p6.3.m1.7.7.3.3.3.2.2.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3.2.2">𝜃</ci><ci id="S2.SS1.p6.3.m1.7.7.3.3.3.2.3.cmml" xref="S2.SS1.p6.3.m1.7.7.3.3.3.2.3">𝑝</ci></apply><ci id="S2.SS1.p6.3.m1.3.3.1.1.cmml" xref="S2.SS1.p6.3.m1.3.3.1.1">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.3.m1.7c">\theta_{p}=\left\{\theta_{p}^{(1)},\theta_{p}^{(2)},\dots,\theta_{p}^{(N)}\right\}</annotation></semantics></math>. Consequently, the PFL, which is designed to adapt to statistical heterogeneity, aims to achieve high accuracy across different types and degrees of heterogeneous data, all without prior knowledge of the data distributions.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Low-rank Adaptation</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">As the number of LLM parameters increases from millions to billions, fine-tuning models by freezing a portion of the parameters becomes increasingly resource-intensive, making it cost-prohibitive. To tackle this challenge, researchers have recently proposed the Parameter-Efficient Fine-Tuning (PEFT) method <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite>. The objective of PEFT is to enhance the performance of pre-trained LLMs on downstream tasks by reducing the number of fine-tuned parameters and computational complexity, thereby reducing training costs. Consequently, even when constrained by limited computational resources, the LLMs can adapt to downstream tasks, enabling efficient transfer learning.</p>
</div>
<figure id="S2.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S2.F2.1" class="ltx_block ltx_figure_panel">
<img src="/html/2406.07925/assets/x2.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="172" height="67" alt="Refer to caption"><span id="S2.F2.1.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S2.F2.2" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Comparison of principle between regular fine-tuning (left) and LoRA (right).</figcaption>
</figure>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.2" class="ltx_p">LoRA is currently the most popular PEFT method due to its superior performance compared to other techniques, such as adapter, prefix tuning, and fine-tuning. LoRA embeds domain-specific knowledge into low-rank parameter matrices without altering the original parameters (Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2. Low-rank Adaptation ‣ 2. Preliminaries ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). Given a parameter matrix <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="W_{0}\in\mathbb{R}^{d\times k}" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><mrow id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><msub id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml"><mi id="S2.SS2.p2.1.m1.1.1.2.2" xref="S2.SS2.p2.1.m1.1.1.2.2.cmml">W</mi><mn id="S2.SS2.p2.1.m1.1.1.2.3" xref="S2.SS2.p2.1.m1.1.1.2.3.cmml">0</mn></msub><mo id="S2.SS2.p2.1.m1.1.1.1" xref="S2.SS2.p2.1.m1.1.1.1.cmml">∈</mo><msup id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml"><mi id="S2.SS2.p2.1.m1.1.1.3.2" xref="S2.SS2.p2.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS2.p2.1.m1.1.1.3.3" xref="S2.SS2.p2.1.m1.1.1.3.3.cmml"><mi id="S2.SS2.p2.1.m1.1.1.3.3.2" xref="S2.SS2.p2.1.m1.1.1.3.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S2.SS2.p2.1.m1.1.1.3.3.1" xref="S2.SS2.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S2.SS2.p2.1.m1.1.1.3.3.3" xref="S2.SS2.p2.1.m1.1.1.3.3.3.cmml">k</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><in id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1.1"></in><apply id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.2.1.cmml" xref="S2.SS2.p2.1.m1.1.1.2">subscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2.2">𝑊</ci><cn type="integer" id="S2.SS2.p2.1.m1.1.1.2.3.cmml" xref="S2.SS2.p2.1.m1.1.1.2.3">0</cn></apply><apply id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.3.1.cmml" xref="S2.SS2.p2.1.m1.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.3.2.cmml" xref="S2.SS2.p2.1.m1.1.1.3.2">ℝ</ci><apply id="S2.SS2.p2.1.m1.1.1.3.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3.3"><times id="S2.SS2.p2.1.m1.1.1.3.3.1.cmml" xref="S2.SS2.p2.1.m1.1.1.3.3.1"></times><ci id="S2.SS2.p2.1.m1.1.1.3.3.2.cmml" xref="S2.SS2.p2.1.m1.1.1.3.3.2">𝑑</ci><ci id="S2.SS2.p2.1.m1.1.1.3.3.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">W_{0}\in\mathbb{R}^{d\times k}</annotation></semantics></math>, the low-rank decomposition can be utilized to represent parameter updates <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="\Delta W" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><mrow id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml"><mi mathvariant="normal" id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p2.2.m2.1.1.1" xref="S2.SS2.p2.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml">W</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1"><times id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1.1"></times><ci id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2">Δ</ci><ci id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3">𝑊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">\Delta W</annotation></semantics></math> as follows:</p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.1" class="ltx_Math" alttext="W_{0}+\Delta W=W_{0}+BA" display="block"><semantics id="S2.E3.m1.1a"><mrow id="S2.E3.m1.1.1" xref="S2.E3.m1.1.1.cmml"><mrow id="S2.E3.m1.1.1.2" xref="S2.E3.m1.1.1.2.cmml"><msub id="S2.E3.m1.1.1.2.2" xref="S2.E3.m1.1.1.2.2.cmml"><mi id="S2.E3.m1.1.1.2.2.2" xref="S2.E3.m1.1.1.2.2.2.cmml">W</mi><mn id="S2.E3.m1.1.1.2.2.3" xref="S2.E3.m1.1.1.2.2.3.cmml">0</mn></msub><mo id="S2.E3.m1.1.1.2.1" xref="S2.E3.m1.1.1.2.1.cmml">+</mo><mrow id="S2.E3.m1.1.1.2.3" xref="S2.E3.m1.1.1.2.3.cmml"><mi mathvariant="normal" id="S2.E3.m1.1.1.2.3.2" xref="S2.E3.m1.1.1.2.3.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.1.1.2.3.1" xref="S2.E3.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.E3.m1.1.1.2.3.3" xref="S2.E3.m1.1.1.2.3.3.cmml">W</mi></mrow></mrow><mo id="S2.E3.m1.1.1.1" xref="S2.E3.m1.1.1.1.cmml">=</mo><mrow id="S2.E3.m1.1.1.3" xref="S2.E3.m1.1.1.3.cmml"><msub id="S2.E3.m1.1.1.3.2" xref="S2.E3.m1.1.1.3.2.cmml"><mi id="S2.E3.m1.1.1.3.2.2" xref="S2.E3.m1.1.1.3.2.2.cmml">W</mi><mn id="S2.E3.m1.1.1.3.2.3" xref="S2.E3.m1.1.1.3.2.3.cmml">0</mn></msub><mo id="S2.E3.m1.1.1.3.1" xref="S2.E3.m1.1.1.3.1.cmml">+</mo><mrow id="S2.E3.m1.1.1.3.3" xref="S2.E3.m1.1.1.3.3.cmml"><mi id="S2.E3.m1.1.1.3.3.2" xref="S2.E3.m1.1.1.3.3.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.1.1.3.3.1" xref="S2.E3.m1.1.1.3.3.1.cmml">​</mo><mi id="S2.E3.m1.1.1.3.3.3" xref="S2.E3.m1.1.1.3.3.3.cmml">A</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.1b"><apply id="S2.E3.m1.1.1.cmml" xref="S2.E3.m1.1.1"><eq id="S2.E3.m1.1.1.1.cmml" xref="S2.E3.m1.1.1.1"></eq><apply id="S2.E3.m1.1.1.2.cmml" xref="S2.E3.m1.1.1.2"><plus id="S2.E3.m1.1.1.2.1.cmml" xref="S2.E3.m1.1.1.2.1"></plus><apply id="S2.E3.m1.1.1.2.2.cmml" xref="S2.E3.m1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.2.2.1.cmml" xref="S2.E3.m1.1.1.2.2">subscript</csymbol><ci id="S2.E3.m1.1.1.2.2.2.cmml" xref="S2.E3.m1.1.1.2.2.2">𝑊</ci><cn type="integer" id="S2.E3.m1.1.1.2.2.3.cmml" xref="S2.E3.m1.1.1.2.2.3">0</cn></apply><apply id="S2.E3.m1.1.1.2.3.cmml" xref="S2.E3.m1.1.1.2.3"><times id="S2.E3.m1.1.1.2.3.1.cmml" xref="S2.E3.m1.1.1.2.3.1"></times><ci id="S2.E3.m1.1.1.2.3.2.cmml" xref="S2.E3.m1.1.1.2.3.2">Δ</ci><ci id="S2.E3.m1.1.1.2.3.3.cmml" xref="S2.E3.m1.1.1.2.3.3">𝑊</ci></apply></apply><apply id="S2.E3.m1.1.1.3.cmml" xref="S2.E3.m1.1.1.3"><plus id="S2.E3.m1.1.1.3.1.cmml" xref="S2.E3.m1.1.1.3.1"></plus><apply id="S2.E3.m1.1.1.3.2.cmml" xref="S2.E3.m1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.3.2.1.cmml" xref="S2.E3.m1.1.1.3.2">subscript</csymbol><ci id="S2.E3.m1.1.1.3.2.2.cmml" xref="S2.E3.m1.1.1.3.2.2">𝑊</ci><cn type="integer" id="S2.E3.m1.1.1.3.2.3.cmml" xref="S2.E3.m1.1.1.3.2.3">0</cn></apply><apply id="S2.E3.m1.1.1.3.3.cmml" xref="S2.E3.m1.1.1.3.3"><times id="S2.E3.m1.1.1.3.3.1.cmml" xref="S2.E3.m1.1.1.3.3.1"></times><ci id="S2.E3.m1.1.1.3.3.2.cmml" xref="S2.E3.m1.1.1.3.3.2">𝐵</ci><ci id="S2.E3.m1.1.1.3.3.3.cmml" xref="S2.E3.m1.1.1.3.3.3">𝐴</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.1c">W_{0}+\Delta W=W_{0}+BA</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS2.p2.7" class="ltx_p">where <math id="S2.SS2.p2.3.m1.2" class="ltx_Math" alttext="B\in\mathbb{R}^{d\times r},A\in\mathbb{R}^{r\times k}" display="inline"><semantics id="S2.SS2.p2.3.m1.2a"><mrow id="S2.SS2.p2.3.m1.2.2.2" xref="S2.SS2.p2.3.m1.2.2.3.cmml"><mrow id="S2.SS2.p2.3.m1.1.1.1.1" xref="S2.SS2.p2.3.m1.1.1.1.1.cmml"><mi id="S2.SS2.p2.3.m1.1.1.1.1.2" xref="S2.SS2.p2.3.m1.1.1.1.1.2.cmml">B</mi><mo id="S2.SS2.p2.3.m1.1.1.1.1.1" xref="S2.SS2.p2.3.m1.1.1.1.1.1.cmml">∈</mo><msup id="S2.SS2.p2.3.m1.1.1.1.1.3" xref="S2.SS2.p2.3.m1.1.1.1.1.3.cmml"><mi id="S2.SS2.p2.3.m1.1.1.1.1.3.2" xref="S2.SS2.p2.3.m1.1.1.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS2.p2.3.m1.1.1.1.1.3.3" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.cmml"><mi id="S2.SS2.p2.3.m1.1.1.1.1.3.3.2" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S2.SS2.p2.3.m1.1.1.1.1.3.3.1" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.1.cmml">×</mo><mi id="S2.SS2.p2.3.m1.1.1.1.1.3.3.3" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.3.cmml">r</mi></mrow></msup></mrow><mo id="S2.SS2.p2.3.m1.2.2.2.3" xref="S2.SS2.p2.3.m1.2.2.3a.cmml">,</mo><mrow id="S2.SS2.p2.3.m1.2.2.2.2" xref="S2.SS2.p2.3.m1.2.2.2.2.cmml"><mi id="S2.SS2.p2.3.m1.2.2.2.2.2" xref="S2.SS2.p2.3.m1.2.2.2.2.2.cmml">A</mi><mo id="S2.SS2.p2.3.m1.2.2.2.2.1" xref="S2.SS2.p2.3.m1.2.2.2.2.1.cmml">∈</mo><msup id="S2.SS2.p2.3.m1.2.2.2.2.3" xref="S2.SS2.p2.3.m1.2.2.2.2.3.cmml"><mi id="S2.SS2.p2.3.m1.2.2.2.2.3.2" xref="S2.SS2.p2.3.m1.2.2.2.2.3.2.cmml">ℝ</mi><mrow id="S2.SS2.p2.3.m1.2.2.2.2.3.3" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.cmml"><mi id="S2.SS2.p2.3.m1.2.2.2.2.3.3.2" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.2.cmml">r</mi><mo lspace="0.222em" rspace="0.222em" id="S2.SS2.p2.3.m1.2.2.2.2.3.3.1" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.1.cmml">×</mo><mi id="S2.SS2.p2.3.m1.2.2.2.2.3.3.3" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.3.cmml">k</mi></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m1.2b"><apply id="S2.SS2.p2.3.m1.2.2.3.cmml" xref="S2.SS2.p2.3.m1.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m1.2.2.3a.cmml" xref="S2.SS2.p2.3.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S2.SS2.p2.3.m1.1.1.1.1.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1"><in id="S2.SS2.p2.3.m1.1.1.1.1.1.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.1"></in><ci id="S2.SS2.p2.3.m1.1.1.1.1.2.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.2">𝐵</ci><apply id="S2.SS2.p2.3.m1.1.1.1.1.3.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m1.1.1.1.1.3.1.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.3.m1.1.1.1.1.3.2.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3.2">ℝ</ci><apply id="S2.SS2.p2.3.m1.1.1.1.1.3.3.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3"><times id="S2.SS2.p2.3.m1.1.1.1.1.3.3.1.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.1"></times><ci id="S2.SS2.p2.3.m1.1.1.1.1.3.3.2.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.2">𝑑</ci><ci id="S2.SS2.p2.3.m1.1.1.1.1.3.3.3.cmml" xref="S2.SS2.p2.3.m1.1.1.1.1.3.3.3">𝑟</ci></apply></apply></apply><apply id="S2.SS2.p2.3.m1.2.2.2.2.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2"><in id="S2.SS2.p2.3.m1.2.2.2.2.1.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.1"></in><ci id="S2.SS2.p2.3.m1.2.2.2.2.2.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.2">𝐴</ci><apply id="S2.SS2.p2.3.m1.2.2.2.2.3.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m1.2.2.2.2.3.1.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3">superscript</csymbol><ci id="S2.SS2.p2.3.m1.2.2.2.2.3.2.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3.2">ℝ</ci><apply id="S2.SS2.p2.3.m1.2.2.2.2.3.3.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3"><times id="S2.SS2.p2.3.m1.2.2.2.2.3.3.1.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.1"></times><ci id="S2.SS2.p2.3.m1.2.2.2.2.3.3.2.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.2">𝑟</ci><ci id="S2.SS2.p2.3.m1.2.2.2.2.3.3.3.cmml" xref="S2.SS2.p2.3.m1.2.2.2.2.3.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m1.2c">B\in\mathbb{R}^{d\times r},A\in\mathbb{R}^{r\times k}</annotation></semantics></math> and <math id="S2.SS2.p2.4.m2.3" class="ltx_Math" alttext="r&lt;&lt;\min(d,k)" display="inline"><semantics id="S2.SS2.p2.4.m2.3a"><mrow id="S2.SS2.p2.4.m2.3.4" xref="S2.SS2.p2.4.m2.3.4.cmml"><mi id="S2.SS2.p2.4.m2.3.4.2" xref="S2.SS2.p2.4.m2.3.4.2.cmml">r</mi><mo id="S2.SS2.p2.4.m2.3.4.1" xref="S2.SS2.p2.4.m2.3.4.1.cmml">&lt;&lt;</mo><mrow id="S2.SS2.p2.4.m2.3.4.3.2" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml"><mi id="S2.SS2.p2.4.m2.1.1" xref="S2.SS2.p2.4.m2.1.1.cmml">min</mi><mo id="S2.SS2.p2.4.m2.3.4.3.2a" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml">⁡</mo><mrow id="S2.SS2.p2.4.m2.3.4.3.2.1" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml"><mo stretchy="false" id="S2.SS2.p2.4.m2.3.4.3.2.1.1" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml">(</mo><mi id="S2.SS2.p2.4.m2.2.2" xref="S2.SS2.p2.4.m2.2.2.cmml">d</mi><mo id="S2.SS2.p2.4.m2.3.4.3.2.1.2" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml">,</mo><mi id="S2.SS2.p2.4.m2.3.3" xref="S2.SS2.p2.4.m2.3.3.cmml">k</mi><mo stretchy="false" id="S2.SS2.p2.4.m2.3.4.3.2.1.3" xref="S2.SS2.p2.4.m2.3.4.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m2.3b"><apply id="S2.SS2.p2.4.m2.3.4.cmml" xref="S2.SS2.p2.4.m2.3.4"><csymbol cd="latexml" id="S2.SS2.p2.4.m2.3.4.1.cmml" xref="S2.SS2.p2.4.m2.3.4.1">much-less-than</csymbol><ci id="S2.SS2.p2.4.m2.3.4.2.cmml" xref="S2.SS2.p2.4.m2.3.4.2">𝑟</ci><apply id="S2.SS2.p2.4.m2.3.4.3.1.cmml" xref="S2.SS2.p2.4.m2.3.4.3.2"><min id="S2.SS2.p2.4.m2.1.1.cmml" xref="S2.SS2.p2.4.m2.1.1"></min><ci id="S2.SS2.p2.4.m2.2.2.cmml" xref="S2.SS2.p2.4.m2.2.2">𝑑</ci><ci id="S2.SS2.p2.4.m2.3.3.cmml" xref="S2.SS2.p2.4.m2.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m2.3c">r&lt;&lt;\min(d,k)</annotation></semantics></math>. <math id="S2.SS2.p2.5.m3.1" class="ltx_Math" alttext="W_{0}" display="inline"><semantics id="S2.SS2.p2.5.m3.1a"><msub id="S2.SS2.p2.5.m3.1.1" xref="S2.SS2.p2.5.m3.1.1.cmml"><mi id="S2.SS2.p2.5.m3.1.1.2" xref="S2.SS2.p2.5.m3.1.1.2.cmml">W</mi><mn id="S2.SS2.p2.5.m3.1.1.3" xref="S2.SS2.p2.5.m3.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m3.1b"><apply id="S2.SS2.p2.5.m3.1.1.cmml" xref="S2.SS2.p2.5.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m3.1.1.1.cmml" xref="S2.SS2.p2.5.m3.1.1">subscript</csymbol><ci id="S2.SS2.p2.5.m3.1.1.2.cmml" xref="S2.SS2.p2.5.m3.1.1.2">𝑊</ci><cn type="integer" id="S2.SS2.p2.5.m3.1.1.3.cmml" xref="S2.SS2.p2.5.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m3.1c">W_{0}</annotation></semantics></math> is freeze in training stage, while <math id="S2.SS2.p2.6.m4.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S2.SS2.p2.6.m4.1a"><mi id="S2.SS2.p2.6.m4.1.1" xref="S2.SS2.p2.6.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m4.1b"><ci id="S2.SS2.p2.6.m4.1.1.cmml" xref="S2.SS2.p2.6.m4.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m4.1c">A</annotation></semantics></math> and <math id="S2.SS2.p2.7.m5.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S2.SS2.p2.7.m5.1a"><mi id="S2.SS2.p2.7.m5.1.1" xref="S2.SS2.p2.7.m5.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m5.1b"><ci id="S2.SS2.p2.7.m5.1.1.cmml" xref="S2.SS2.p2.7.m5.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m5.1c">B</annotation></semantics></math> are trainable.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">By learning rank decomposition matrices while simultaneously freezing the original parameters, LoRA reduces the number of trainable parameters significantly (see Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1. Experiment Setup ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). This substantially diminishes the storage requirements of LLMs tailored for specific tasks and facilitates efficient task switching during deployment without introducing inference latency.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Problem Formulation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The goal of this paper is to train the LoRA module for diverse clients incorporating the PFL technique to improve performance while maintaining data privacy and efficiency. Building upon this goal, we re-investigated the concept of the PFL in the LLMs era. In particular, we consider that knowledge should be divided into three parts: <span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_italic">basic knowledge</span>, <span id="S3.SS1.p1.1.2" class="ltx_text ltx_font_italic">domain-general knowledge</span>, and <span id="S3.SS1.p1.1.3" class="ltx_text ltx_font_italic">personalized knowledge</span>. <span id="S3.SS1.p1.1.4" class="ltx_text ltx_font_italic">Basic knowledge</span> is the knowledge that LLM learns from a large corpus, which is not aimed at specific tasks but forms the basis of learning. <span id="S3.SS1.p1.1.5" class="ltx_text ltx_font_italic">Domain-general knowledge</span> is shared by one or more tasks based on data in a specific domain. <span id="S3.SS1.p1.1.6" class="ltx_text ltx_font_italic">Personalized knowledge </span>is learned from data distribution specific to each client (<span id="S3.SS1.p1.1.7" class="ltx_text ltx_font_italic">non-IID</span> scenarios).</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">Based on the above concepts, we propose a novel approach, a.k.a <span id="S3.SS1.p2.5.1" class="ltx_text">FDLoRA</span>, in the context of PFL. Similar to PFL, we build a LoRA module as the shared part <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\theta_{s}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">θ</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝜃</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\theta_{s}</annotation></semantics></math> to learn domain-general knowledge from different clients. Moreover, another LoRA module is built as the personalized part <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\theta_{p}^{(i)}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><msubsup id="S3.SS1.p2.2.m2.1.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><mi id="S3.SS1.p2.2.m2.1.2.2.2" xref="S3.SS1.p2.2.m2.1.2.2.2.cmml">θ</mi><mi id="S3.SS1.p2.2.m2.1.2.2.3" xref="S3.SS1.p2.2.m2.1.2.2.3.cmml">p</mi><mrow id="S3.SS1.p2.2.m2.1.1.1.3" xref="S3.SS1.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.3.1" xref="S3.SS1.p2.2.m2.1.2.cmml">(</mo><mi id="S3.SS1.p2.2.m2.1.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.3.2" xref="S3.SS1.p2.2.m2.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.2.cmml" xref="S3.SS1.p2.2.m2.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2">superscript</csymbol><apply id="S3.SS1.p2.2.m2.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.2.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.2.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2.2">𝜃</ci><ci id="S3.SS1.p2.2.m2.1.2.2.3.cmml" xref="S3.SS1.p2.2.m2.1.2.2.3">𝑝</ci></apply><ci id="S3.SS1.p2.2.m2.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\theta_{p}^{(i)}</annotation></semantics></math> to learn personalized knowledge for client <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">i</annotation></semantics></math>. Note that the basic knowledge in LLM has not changed, but this part (denoted <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\Theta" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi mathvariant="normal" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">Θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">Θ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\Theta</annotation></semantics></math>) is extremely important as the basis of learning. Finally, a function <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="\mathcal{G}(\cdot)" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mrow id="S3.SS1.p2.5.m5.1.2" xref="S3.SS1.p2.5.m5.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.5.m5.1.2.2" xref="S3.SS1.p2.5.m5.1.2.2.cmml">𝒢</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.5.m5.1.2.1" xref="S3.SS1.p2.5.m5.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.5.m5.1.2.3.2" xref="S3.SS1.p2.5.m5.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.5.m5.1.2.3.2.1" xref="S3.SS1.p2.5.m5.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.5.m5.1.2.3.2.2" xref="S3.SS1.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.2.cmml" xref="S3.SS1.p2.5.m5.1.2"><times id="S3.SS1.p2.5.m5.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.2.1"></times><ci id="S3.SS1.p2.5.m5.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.2.2">𝒢</ci><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">\mathcal{G}(\cdot)</annotation></semantics></math> is adopted to dynamically fusion <span id="S3.SS1.p2.5.2" class="ltx_text ltx_font_italic">basic knowledge</span>, <span id="S3.SS1.p2.5.3" class="ltx_text ltx_font_italic">domain-general knowledge</span>, and <span id="S3.SS1.p2.5.4" class="ltx_text ltx_font_italic">personalized knowledge</span>. The objective of <span id="S3.SS1.p2.5.5" class="ltx_text">FDLoRA</span> is to minimize the sum of the loss of all clients’ models, i.e.,</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.11" class="ltx_Math" alttext="\begin{array}[]{cc}&amp;\min\limits_{\theta_{s},\theta_{p},\mathbf{w}}\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}\left(\mathcal{G}(\mathbb{F}(x;\theta_{p}^{(i)},\theta_{s},\Theta);\mathbf{w}^{(i)})\right)\\
\end{array}" display="block"><semantics id="S3.E4.m1.11a"><mtable columnspacing="5pt" displaystyle="true" id="S3.E4.m1.11.11" xref="S3.E4.m1.11.11.cmml"><mtr id="S3.E4.m1.11.11a" xref="S3.E4.m1.11.11.cmml"><mtd id="S3.E4.m1.11.11b" xref="S3.E4.m1.11.11.cmml"></mtd><mtd id="S3.E4.m1.11.11c" xref="S3.E4.m1.11.11.cmml"><mrow id="S3.E4.m1.11.11.11.11.11" xref="S3.E4.m1.11.11.11.11.11.cmml"><mrow id="S3.E4.m1.11.11.11.11.11.13" xref="S3.E4.m1.11.11.11.11.11.13.cmml"><munder id="S3.E4.m1.11.11.11.11.11.13.1" xref="S3.E4.m1.11.11.11.11.11.13.1.cmml"><mi id="S3.E4.m1.11.11.11.11.11.13.1.2" xref="S3.E4.m1.11.11.11.11.11.13.1.2.cmml">min</mi><mrow id="S3.E4.m1.3.3.3.3.3.3.3.3" xref="S3.E4.m1.3.3.3.3.3.3.3.4.cmml"><msub id="S3.E4.m1.2.2.2.2.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1.cmml"><mi id="S3.E4.m1.2.2.2.2.2.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1.2.cmml">θ</mi><mi id="S3.E4.m1.2.2.2.2.2.2.2.2.1.3" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1.3.cmml">s</mi></msub><mo id="S3.E4.m1.3.3.3.3.3.3.3.3.3" xref="S3.E4.m1.3.3.3.3.3.3.3.4.cmml">,</mo><msub id="S3.E4.m1.3.3.3.3.3.3.3.3.2" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2.cmml"><mi id="S3.E4.m1.3.3.3.3.3.3.3.3.2.2" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2.2.cmml">θ</mi><mi id="S3.E4.m1.3.3.3.3.3.3.3.3.2.3" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2.3.cmml">p</mi></msub><mo id="S3.E4.m1.3.3.3.3.3.3.3.3.4" xref="S3.E4.m1.3.3.3.3.3.3.3.4.cmml">,</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">𝐰</mi></mrow></munder><mo lspace="0.167em" id="S3.E4.m1.11.11.11.11.11.13a" xref="S3.E4.m1.11.11.11.11.11.13.cmml">⁡</mo><mstyle displaystyle="false" id="S3.E4.m1.11.11.11.11.11.13.2" xref="S3.E4.m1.11.11.11.11.11.13.2.cmml"><mfrac id="S3.E4.m1.11.11.11.11.11.13.2a" xref="S3.E4.m1.11.11.11.11.11.13.2.cmml"><mn id="S3.E4.m1.11.11.11.11.11.13.2.2" xref="S3.E4.m1.11.11.11.11.11.13.2.2.cmml">1</mn><mi id="S3.E4.m1.11.11.11.11.11.13.2.3" xref="S3.E4.m1.11.11.11.11.11.13.2.3.cmml">N</mi></mfrac></mstyle></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.11.11.11.12" xref="S3.E4.m1.11.11.11.11.11.12.cmml">​</mo><mrow id="S3.E4.m1.11.11.11.11.11.11" xref="S3.E4.m1.11.11.11.11.11.11.cmml"><mstyle displaystyle="false" id="S3.E4.m1.11.11.11.11.11.11.2" xref="S3.E4.m1.11.11.11.11.11.11.2.cmml"><munderover id="S3.E4.m1.11.11.11.11.11.11.2a" xref="S3.E4.m1.11.11.11.11.11.11.2.cmml"><mo movablelimits="false" id="S3.E4.m1.11.11.11.11.11.11.2.2.2" xref="S3.E4.m1.11.11.11.11.11.11.2.2.2.cmml">∑</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.2.2.3" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.cmml"><mi id="S3.E4.m1.11.11.11.11.11.11.2.2.3.2" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.2.cmml">i</mi><mo id="S3.E4.m1.11.11.11.11.11.11.2.2.3.1" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.1.cmml">=</mo><mn id="S3.E4.m1.11.11.11.11.11.11.2.2.3.3" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.11.11.11.11.11.11.2.3" xref="S3.E4.m1.11.11.11.11.11.11.2.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E4.m1.11.11.11.11.11.11.1" xref="S3.E4.m1.11.11.11.11.11.11.1.cmml"><mstyle displaystyle="false" id="S3.E4.m1.5.5.5.5.5.5" xref="S3.E4.m1.5.5.5.5.5.5.cmml"><mfrac id="S3.E4.m1.5.5.5.5.5.5a" xref="S3.E4.m1.5.5.5.5.5.5.cmml"><mn id="S3.E4.m1.5.5.5.5.5.5.4" xref="S3.E4.m1.5.5.5.5.5.5.4.cmml">1</mn><mrow id="S3.E4.m1.5.5.5.5.5.5.2.2" xref="S3.E4.m1.5.5.5.5.5.5.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.5.5.5.5.5.5.2.2.2" xref="S3.E4.m1.5.5.5.5.5.5.2.3.1.cmml">|</mo><msup id="S3.E4.m1.5.5.5.5.5.5.2.2.1" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.5.5.5.5.5.5.2.2.1.2" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.2.cmml">𝒟</mi><mrow id="S3.E4.m1.4.4.4.4.4.4.1.1.1.3" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.4.4.4.4.1.1.1.3.1" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.cmml">(</mo><mi id="S3.E4.m1.4.4.4.4.4.4.1.1.1.1" xref="S3.E4.m1.4.4.4.4.4.4.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.4.4.4.4.4.4.1.1.1.3.2" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E4.m1.5.5.5.5.5.5.2.2.3" xref="S3.E4.m1.5.5.5.5.5.5.2.3.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.11.11.11.11.1.2" xref="S3.E4.m1.11.11.11.11.11.11.1.2.cmml">​</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.cmml"><mstyle displaystyle="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2.cmml"><munder id="S3.E4.m1.11.11.11.11.11.11.1.1.2a" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2.cmml"><mo movablelimits="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2.2.cmml">∑</mo><mrow id="S3.E4.m1.6.6.6.6.6.6.1" xref="S3.E4.m1.6.6.6.6.6.6.1.cmml"><mi id="S3.E4.m1.6.6.6.6.6.6.1.3" xref="S3.E4.m1.6.6.6.6.6.6.1.3.cmml">x</mi><mo id="S3.E4.m1.6.6.6.6.6.6.1.2" xref="S3.E4.m1.6.6.6.6.6.6.1.2.cmml">∈</mo><msup id="S3.E4.m1.6.6.6.6.6.6.1.4" xref="S3.E4.m1.6.6.6.6.6.6.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.6.6.6.6.6.6.1.4.2" xref="S3.E4.m1.6.6.6.6.6.6.1.4.2.cmml">𝒟</mi><mrow id="S3.E4.m1.6.6.6.6.6.6.1.1.1.3" xref="S3.E4.m1.6.6.6.6.6.6.1.4.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.6.6.6.6.1.1.1.3.1" xref="S3.E4.m1.6.6.6.6.6.6.1.4.cmml">(</mo><mi id="S3.E4.m1.6.6.6.6.6.6.1.1.1.1" xref="S3.E4.m1.6.6.6.6.6.6.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.6.6.6.6.6.6.1.1.1.3.2" xref="S3.E4.m1.6.6.6.6.6.6.1.4.cmml">)</mo></mrow></msup></mrow></munder></mstyle><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.4" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.4.cmml">𝒢</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.3.cmml">​</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.3.cmml">(</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.4" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.4.cmml">𝔽</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.3.cmml">​</mo><mrow id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml">(</mo><mi id="S3.E4.m1.9.9.9.9.9.9" xref="S3.E4.m1.9.9.9.9.9.9.cmml">x</mi><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.4" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml">;</mo><msubsup id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">p</mi><mrow id="S3.E4.m1.7.7.7.7.7.7.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.7.7.7.7.7.7.1.3.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.7.7.7.7.7.7.1.1" xref="S3.E4.m1.7.7.7.7.7.7.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.7.7.7.7.7.7.1.3.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.5" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">θ</mi><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">s</mi></msub><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.6" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.E4.m1.10.10.10.10.10.10" xref="S3.E4.m1.10.10.10.10.10.10.cmml">Θ</mi><mo stretchy="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.7" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.4" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.3.cmml">;</mo><msup id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.2.cmml">𝐰</mi><mrow id="S3.E4.m1.8.8.8.8.8.8.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.8.8.8.8.8.8.1.3.1" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.cmml">(</mo><mi id="S3.E4.m1.8.8.8.8.8.8.1.1" xref="S3.E4.m1.8.8.8.8.8.8.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.8.8.8.8.8.8.1.3.2" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.5" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.3" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E4.m1.11b"><matrix id="S3.E4.m1.11.11.cmml" xref="S3.E4.m1.11.11"><matrixrow id="S3.E4.m1.11.11a.cmml" xref="S3.E4.m1.11.11"><cerror id="S3.E4.m1.11.11b.cmml" xref="S3.E4.m1.11.11"><csymbol cd="ambiguous" id="S3.E4.m1.11.11c.cmml" xref="S3.E4.m1.11.11">missing-subexpression</csymbol></cerror><apply id="S3.E4.m1.11.11.11.11.11.cmml" xref="S3.E4.m1.11.11.11.11.11"><times id="S3.E4.m1.11.11.11.11.11.12.cmml" xref="S3.E4.m1.11.11.11.11.11.12"></times><apply id="S3.E4.m1.11.11.11.11.11.13.cmml" xref="S3.E4.m1.11.11.11.11.11.13"><apply id="S3.E4.m1.11.11.11.11.11.13.1.cmml" xref="S3.E4.m1.11.11.11.11.11.13.1"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.13.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.13.1">subscript</csymbol><min id="S3.E4.m1.11.11.11.11.11.13.1.2.cmml" xref="S3.E4.m1.11.11.11.11.11.13.1.2"></min><list id="S3.E4.m1.3.3.3.3.3.3.3.4.cmml" xref="S3.E4.m1.3.3.3.3.3.3.3.3"><apply id="S3.E4.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1">subscript</csymbol><ci id="S3.E4.m1.2.2.2.2.2.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1.2">𝜃</ci><ci id="S3.E4.m1.2.2.2.2.2.2.2.2.1.3.cmml" xref="S3.E4.m1.2.2.2.2.2.2.2.2.1.3">𝑠</ci></apply><apply id="S3.E4.m1.3.3.3.3.3.3.3.3.2.cmml" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.3.3.3.3.2.1.cmml" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.3.3.3.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2.2">𝜃</ci><ci id="S3.E4.m1.3.3.3.3.3.3.3.3.2.3.cmml" xref="S3.E4.m1.3.3.3.3.3.3.3.3.2.3">𝑝</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1">𝐰</ci></list></apply><apply id="S3.E4.m1.11.11.11.11.11.13.2.cmml" xref="S3.E4.m1.11.11.11.11.11.13.2"><divide id="S3.E4.m1.11.11.11.11.11.13.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.13.2"></divide><cn type="integer" id="S3.E4.m1.11.11.11.11.11.13.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.13.2.2">1</cn><ci id="S3.E4.m1.11.11.11.11.11.13.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.13.2.3">𝑁</ci></apply></apply><apply id="S3.E4.m1.11.11.11.11.11.11.cmml" xref="S3.E4.m1.11.11.11.11.11.11"><apply id="S3.E4.m1.11.11.11.11.11.11.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2">superscript</csymbol><apply id="S3.E4.m1.11.11.11.11.11.11.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.2.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2">subscript</csymbol><sum id="S3.E4.m1.11.11.11.11.11.11.2.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.2.2"></sum><apply id="S3.E4.m1.11.11.11.11.11.11.2.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3"><eq id="S3.E4.m1.11.11.11.11.11.11.2.2.3.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.1"></eq><ci id="S3.E4.m1.11.11.11.11.11.11.2.2.3.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E4.m1.11.11.11.11.11.11.2.2.3.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.11.11.11.11.11.11.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.2.3">𝑁</ci></apply><apply id="S3.E4.m1.11.11.11.11.11.11.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1"><times id="S3.E4.m1.11.11.11.11.11.11.1.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.2"></times><apply id="S3.E4.m1.5.5.5.5.5.5.cmml" xref="S3.E4.m1.5.5.5.5.5.5"><divide id="S3.E4.m1.5.5.5.5.5.5.3.cmml" xref="S3.E4.m1.5.5.5.5.5.5"></divide><cn type="integer" id="S3.E4.m1.5.5.5.5.5.5.4.cmml" xref="S3.E4.m1.5.5.5.5.5.5.4">1</cn><apply id="S3.E4.m1.5.5.5.5.5.5.2.3.cmml" xref="S3.E4.m1.5.5.5.5.5.5.2.2"><abs id="S3.E4.m1.5.5.5.5.5.5.2.3.1.cmml" xref="S3.E4.m1.5.5.5.5.5.5.2.2.2"></abs><apply id="S3.E4.m1.5.5.5.5.5.5.2.2.1.cmml" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.5.5.5.5.2.2.1.1.cmml" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1">superscript</csymbol><ci id="S3.E4.m1.5.5.5.5.5.5.2.2.1.2.cmml" xref="S3.E4.m1.5.5.5.5.5.5.2.2.1.2">𝒟</ci><ci id="S3.E4.m1.4.4.4.4.4.4.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1"><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.1.1.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2">subscript</csymbol><sum id="S3.E4.m1.11.11.11.11.11.11.1.1.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.2.2"></sum><apply id="S3.E4.m1.6.6.6.6.6.6.1.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1"><in id="S3.E4.m1.6.6.6.6.6.6.1.2.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.2"></in><ci id="S3.E4.m1.6.6.6.6.6.6.1.3.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.3">𝑥</ci><apply id="S3.E4.m1.6.6.6.6.6.6.1.4.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.4"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.6.6.6.6.1.4.1.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.4">superscript</csymbol><ci id="S3.E4.m1.6.6.6.6.6.6.1.4.2.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.4.2">𝒟</ci><ci id="S3.E4.m1.6.6.6.6.6.6.1.1.1.1.cmml" xref="S3.E4.m1.6.6.6.6.6.6.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1"><times id="S3.E4.m1.11.11.11.11.11.11.1.1.1.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.2"></times><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.3">ℒ</ci><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1"><times id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.3"></times><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.4.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.4">𝒢</ci><list id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2"><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1"><times id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.3"></times><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.4">𝔽</ci><list id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2"><ci id="S3.E4.m1.9.9.9.9.9.9.cmml" xref="S3.E4.m1.9.9.9.9.9.9">𝑥</ci><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.E4.m1.7.7.7.7.7.7.1.1.cmml" xref="S3.E4.m1.7.7.7.7.7.7.1.1">𝑖</ci></apply><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.2">𝜃</ci><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.2.2.2.3">𝑠</ci></apply><ci id="S3.E4.m1.10.10.10.10.10.10.cmml" xref="S3.E4.m1.10.10.10.10.10.10">Θ</ci></list></apply><apply id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2">superscript</csymbol><ci id="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.11.11.11.11.11.11.1.1.1.1.1.1.2.2.2.2">𝐰</ci><ci id="S3.E4.m1.8.8.8.8.8.8.1.1.cmml" xref="S3.E4.m1.8.8.8.8.8.8.1.1">𝑖</ci></apply></list></apply></apply></apply></apply></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.11c">\begin{array}[]{cc}&amp;\min\limits_{\theta_{s},\theta_{p},\mathbf{w}}\frac{1}{N}\sum\limits_{i=1}^{N}\frac{1}{|\mathcal{D}^{(i)}|}\sum\limits_{x\in\mathcal{D}^{(i)}}\mathcal{L}\left(\mathcal{G}(\mathbb{F}(x;\theta_{p}^{(i)},\theta_{s},\Theta);\mathbf{w}^{(i)})\right)\\
\end{array}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.4" class="ltx_p">where <math id="S3.SS1.p4.1.m1.2" class="ltx_Math" alttext="\mathbf{w}=\left\{\mathbf{w}^{(i)}\right\}_{i=1}^{N}" display="inline"><semantics id="S3.SS1.p4.1.m1.2a"><mrow id="S3.SS1.p4.1.m1.2.2" xref="S3.SS1.p4.1.m1.2.2.cmml"><mi id="S3.SS1.p4.1.m1.2.2.3" xref="S3.SS1.p4.1.m1.2.2.3.cmml">𝐰</mi><mo id="S3.SS1.p4.1.m1.2.2.2" xref="S3.SS1.p4.1.m1.2.2.2.cmml">=</mo><msubsup id="S3.SS1.p4.1.m1.2.2.1" xref="S3.SS1.p4.1.m1.2.2.1.cmml"><mrow id="S3.SS1.p4.1.m1.2.2.1.1.1.1" xref="S3.SS1.p4.1.m1.2.2.1.1.1.2.cmml"><mo id="S3.SS1.p4.1.m1.2.2.1.1.1.1.2" xref="S3.SS1.p4.1.m1.2.2.1.1.1.2.cmml">{</mo><msup id="S3.SS1.p4.1.m1.2.2.1.1.1.1.1" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.2" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.2.cmml">𝐰</mi><mrow id="S3.SS1.p4.1.m1.1.1.1.3" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p4.1.m1.1.1.1.3.1" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p4.1.m1.1.1.1.1" xref="S3.SS1.p4.1.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS1.p4.1.m1.1.1.1.3.2" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.SS1.p4.1.m1.2.2.1.1.1.1.3" xref="S3.SS1.p4.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p4.1.m1.2.2.1.1.3" xref="S3.SS1.p4.1.m1.2.2.1.1.3.cmml"><mi id="S3.SS1.p4.1.m1.2.2.1.1.3.2" xref="S3.SS1.p4.1.m1.2.2.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p4.1.m1.2.2.1.1.3.1" xref="S3.SS1.p4.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p4.1.m1.2.2.1.1.3.3" xref="S3.SS1.p4.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p4.1.m1.2.2.1.3" xref="S3.SS1.p4.1.m1.2.2.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.2b"><apply id="S3.SS1.p4.1.m1.2.2.cmml" xref="S3.SS1.p4.1.m1.2.2"><eq id="S3.SS1.p4.1.m1.2.2.2.cmml" xref="S3.SS1.p4.1.m1.2.2.2"></eq><ci id="S3.SS1.p4.1.m1.2.2.3.cmml" xref="S3.SS1.p4.1.m1.2.2.3">𝐰</ci><apply id="S3.SS1.p4.1.m1.2.2.1.cmml" xref="S3.SS1.p4.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.2.2.1.2.cmml" xref="S3.SS1.p4.1.m1.2.2.1">superscript</csymbol><apply id="S3.SS1.p4.1.m1.2.2.1.1.cmml" xref="S3.SS1.p4.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.2.2.1.1.2.cmml" xref="S3.SS1.p4.1.m1.2.2.1">subscript</csymbol><set id="S3.SS1.p4.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1"><apply id="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.1.1.1.2">𝐰</ci><ci id="S3.SS1.p4.1.m1.1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1.1.1">𝑖</ci></apply></set><apply id="S3.SS1.p4.1.m1.2.2.1.1.3.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.3"><eq id="S3.SS1.p4.1.m1.2.2.1.1.3.1.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.3.1"></eq><ci id="S3.SS1.p4.1.m1.2.2.1.1.3.2.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p4.1.m1.2.2.1.1.3.3.cmml" xref="S3.SS1.p4.1.m1.2.2.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p4.1.m1.2.2.1.3.cmml" xref="S3.SS1.p4.1.m1.2.2.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.2c">\mathbf{w}=\left\{\mathbf{w}^{(i)}\right\}_{i=1}^{N}</annotation></semantics></math> is the learnable parameters of <math id="S3.SS1.p4.2.m2.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S3.SS1.p4.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">\mathcal{G}</annotation></semantics></math> of client <math id="S3.SS1.p4.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p4.3.m3.1a"><mi id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">i</annotation></semantics></math>, <math id="S3.SS1.p4.4.m4.7" class="ltx_Math" alttext="\mathbb{F}=\left\{f(x;\theta_{p}),f(x;\theta_{s}),f(x;\Theta)\right\}" display="inline"><semantics id="S3.SS1.p4.4.m4.7a"><mrow id="S3.SS1.p4.4.m4.7.7" xref="S3.SS1.p4.4.m4.7.7.cmml"><mi id="S3.SS1.p4.4.m4.7.7.5" xref="S3.SS1.p4.4.m4.7.7.5.cmml">𝔽</mi><mo id="S3.SS1.p4.4.m4.7.7.4" xref="S3.SS1.p4.4.m4.7.7.4.cmml">=</mo><mrow id="S3.SS1.p4.4.m4.7.7.3.3" xref="S3.SS1.p4.4.m4.7.7.3.4.cmml"><mo id="S3.SS1.p4.4.m4.7.7.3.3.4" xref="S3.SS1.p4.4.m4.7.7.3.4.cmml">{</mo><mrow id="S3.SS1.p4.4.m4.5.5.1.1.1" xref="S3.SS1.p4.4.m4.5.5.1.1.1.cmml"><mi id="S3.SS1.p4.4.m4.5.5.1.1.1.3" xref="S3.SS1.p4.4.m4.5.5.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p4.4.m4.5.5.1.1.1.2" xref="S3.SS1.p4.4.m4.5.5.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.2" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.2.cmml">(</mo><mi id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml">x</mi><mo id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.3" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.2.cmml">;</mo><msub id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.2" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.2.cmml">θ</mi><mi id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.3" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.3.cmml">p</mi></msub><mo stretchy="false" id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.4" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p4.4.m4.7.7.3.3.5" xref="S3.SS1.p4.4.m4.7.7.3.4.cmml">,</mo><mrow id="S3.SS1.p4.4.m4.6.6.2.2.2" xref="S3.SS1.p4.4.m4.6.6.2.2.2.cmml"><mi id="S3.SS1.p4.4.m4.6.6.2.2.2.3" xref="S3.SS1.p4.4.m4.6.6.2.2.2.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p4.4.m4.6.6.2.2.2.2" xref="S3.SS1.p4.4.m4.6.6.2.2.2.2.cmml">​</mo><mrow id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.2" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.2.cmml">(</mo><mi id="S3.SS1.p4.4.m4.2.2" xref="S3.SS1.p4.4.m4.2.2.cmml">x</mi><mo id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.3" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.2.cmml">;</mo><msub id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.cmml"><mi id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.2" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.2.cmml">θ</mi><mi id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.3" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.4" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p4.4.m4.7.7.3.3.6" xref="S3.SS1.p4.4.m4.7.7.3.4.cmml">,</mo><mrow id="S3.SS1.p4.4.m4.7.7.3.3.3" xref="S3.SS1.p4.4.m4.7.7.3.3.3.cmml"><mi id="S3.SS1.p4.4.m4.7.7.3.3.3.2" xref="S3.SS1.p4.4.m4.7.7.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p4.4.m4.7.7.3.3.3.1" xref="S3.SS1.p4.4.m4.7.7.3.3.3.1.cmml">​</mo><mrow id="S3.SS1.p4.4.m4.7.7.3.3.3.3.2" xref="S3.SS1.p4.4.m4.7.7.3.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p4.4.m4.7.7.3.3.3.3.2.1" xref="S3.SS1.p4.4.m4.7.7.3.3.3.3.1.cmml">(</mo><mi id="S3.SS1.p4.4.m4.3.3" xref="S3.SS1.p4.4.m4.3.3.cmml">x</mi><mo id="S3.SS1.p4.4.m4.7.7.3.3.3.3.2.2" xref="S3.SS1.p4.4.m4.7.7.3.3.3.3.1.cmml">;</mo><mi mathvariant="normal" id="S3.SS1.p4.4.m4.4.4" xref="S3.SS1.p4.4.m4.4.4.cmml">Θ</mi><mo stretchy="false" id="S3.SS1.p4.4.m4.7.7.3.3.3.3.2.3" xref="S3.SS1.p4.4.m4.7.7.3.3.3.3.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p4.4.m4.7.7.3.3.7" xref="S3.SS1.p4.4.m4.7.7.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.7b"><apply id="S3.SS1.p4.4.m4.7.7.cmml" xref="S3.SS1.p4.4.m4.7.7"><eq id="S3.SS1.p4.4.m4.7.7.4.cmml" xref="S3.SS1.p4.4.m4.7.7.4"></eq><ci id="S3.SS1.p4.4.m4.7.7.5.cmml" xref="S3.SS1.p4.4.m4.7.7.5">𝔽</ci><set id="S3.SS1.p4.4.m4.7.7.3.4.cmml" xref="S3.SS1.p4.4.m4.7.7.3.3"><apply id="S3.SS1.p4.4.m4.5.5.1.1.1.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1"><times id="S3.SS1.p4.4.m4.5.5.1.1.1.2.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.2"></times><ci id="S3.SS1.p4.4.m4.5.5.1.1.1.3.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.3">𝑓</ci><list id="S3.SS1.p4.4.m4.5.5.1.1.1.1.2.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1"><ci id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">𝑥</ci><apply id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.2">𝜃</ci><ci id="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p4.4.m4.5.5.1.1.1.1.1.1.3">𝑝</ci></apply></list></apply><apply id="S3.SS1.p4.4.m4.6.6.2.2.2.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2"><times id="S3.SS1.p4.4.m4.6.6.2.2.2.2.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.2"></times><ci id="S3.SS1.p4.4.m4.6.6.2.2.2.3.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.3">𝑓</ci><list id="S3.SS1.p4.4.m4.6.6.2.2.2.1.2.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1"><ci id="S3.SS1.p4.4.m4.2.2.cmml" xref="S3.SS1.p4.4.m4.2.2">𝑥</ci><apply id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.1.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.2">𝜃</ci><ci id="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.3.cmml" xref="S3.SS1.p4.4.m4.6.6.2.2.2.1.1.1.3">𝑠</ci></apply></list></apply><apply id="S3.SS1.p4.4.m4.7.7.3.3.3.cmml" xref="S3.SS1.p4.4.m4.7.7.3.3.3"><times id="S3.SS1.p4.4.m4.7.7.3.3.3.1.cmml" xref="S3.SS1.p4.4.m4.7.7.3.3.3.1"></times><ci id="S3.SS1.p4.4.m4.7.7.3.3.3.2.cmml" xref="S3.SS1.p4.4.m4.7.7.3.3.3.2">𝑓</ci><list id="S3.SS1.p4.4.m4.7.7.3.3.3.3.1.cmml" xref="S3.SS1.p4.4.m4.7.7.3.3.3.3.2"><ci id="S3.SS1.p4.4.m4.3.3.cmml" xref="S3.SS1.p4.4.m4.3.3">𝑥</ci><ci id="S3.SS1.p4.4.m4.4.4.cmml" xref="S3.SS1.p4.4.m4.4.4">Θ</ci></list></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.7c">\mathbb{F}=\left\{f(x;\theta_{p}),f(x;\theta_{s}),f(x;\Theta)\right\}</annotation></semantics></math> is the mapping of <span id="S3.SS1.p4.4.1" class="ltx_text ltx_font_italic">personalized knowledge</span> part, <span id="S3.SS1.p4.4.2" class="ltx_text ltx_font_italic">domain-general knowledge</span> part, and <span id="S3.SS1.p4.4.3" class="ltx_text ltx_font_italic">basic knowledge</span> part. We will subsequently elaborate on the design of the <span id="S3.SS1.p4.4.4" class="ltx_text">FDLoRA</span> .</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S3.F3.1" class="ltx_block ltx_figure_panel">
<img src="/html/2406.07925/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="256" alt="Refer to caption"><span id="S3.F3.1.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.F3.2" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Framework overview of <span id="S3.F3.4.1" class="ltx_text">FDLoRA</span>.</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Framework Overview</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">We introduce the overview of the <span id="S3.SS2.p1.1.1" class="ltx_text">FDLoRA</span> framework in this subsection. As shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.1. Problem Formulation ‣ 3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, each client is comprised of four main components: <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_bold">LLM</span>, <span id="S3.SS2.p1.1.3" class="ltx_text ltx_font_bold">Personalized LoRA module</span>, <span id="S3.SS2.p1.1.4" class="ltx_text ltx_font_bold">Global LoRA module,</span> and <span id="S3.SS2.p1.1.5" class="ltx_text ltx_font_bold">Adaptive Fusion module</span>. The personalized LoRA primarily focuses on acquiring knowledge from local data and remains uninvolved in the federated learning process. The global LoRA aggregates knowledge from diverse clients. Specifically, each client uploads its global LoRA parameters to the central server. Then, by employing an external optimizer updates these parameters and subsequently broadcasts them to all clients, thereby completing a communication round of the federated learning process. Finally, the global LoRA parameters and personalized LoRA parameters are aggregated via the AdaFusion module. We will introduce the elaboration in the following subsections.</p>
</div>
<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.27" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.6.6" class="ltx_listingline">

<span id="algorithm1.6.6.1" class="ltx_text"><span id="algorithm1.6.6.1.1" class="ltx_text ltx_font_bold">Input:</span> </span><math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="algorithm1.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\mathcal{D}</annotation></semantics></math>, dataset across all clients; <math id="algorithm1.2.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="algorithm1.2.2.m2.1a"><mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">N</annotation></semantics></math>, total number of clients; <math id="algorithm1.3.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algorithm1.3.3.m3.1a"><mi id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.1b"><ci id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m3.1c">T</annotation></semantics></math>, total number of rounds; <math id="algorithm1.4.4.m4.3" class="ltx_Math" alttext="\Theta,\theta_{p},\theta_{s}" display="inline"><semantics id="algorithm1.4.4.m4.3a"><mrow id="algorithm1.4.4.m4.3.3.2" xref="algorithm1.4.4.m4.3.3.3.cmml"><mi mathvariant="normal" id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">Θ</mi><mo id="algorithm1.4.4.m4.3.3.2.3" xref="algorithm1.4.4.m4.3.3.3.cmml">,</mo><msub id="algorithm1.4.4.m4.2.2.1.1" xref="algorithm1.4.4.m4.2.2.1.1.cmml"><mi id="algorithm1.4.4.m4.2.2.1.1.2" xref="algorithm1.4.4.m4.2.2.1.1.2.cmml">θ</mi><mi id="algorithm1.4.4.m4.2.2.1.1.3" xref="algorithm1.4.4.m4.2.2.1.1.3.cmml">p</mi></msub><mo id="algorithm1.4.4.m4.3.3.2.4" xref="algorithm1.4.4.m4.3.3.3.cmml">,</mo><msub id="algorithm1.4.4.m4.3.3.2.2" xref="algorithm1.4.4.m4.3.3.2.2.cmml"><mi id="algorithm1.4.4.m4.3.3.2.2.2" xref="algorithm1.4.4.m4.3.3.2.2.2.cmml">θ</mi><mi id="algorithm1.4.4.m4.3.3.2.2.3" xref="algorithm1.4.4.m4.3.3.2.2.3.cmml">s</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.3b"><list id="algorithm1.4.4.m4.3.3.3.cmml" xref="algorithm1.4.4.m4.3.3.2"><ci id="algorithm1.4.4.m4.1.1.cmml" xref="algorithm1.4.4.m4.1.1">Θ</ci><apply id="algorithm1.4.4.m4.2.2.1.1.cmml" xref="algorithm1.4.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="algorithm1.4.4.m4.2.2.1.1.1.cmml" xref="algorithm1.4.4.m4.2.2.1.1">subscript</csymbol><ci id="algorithm1.4.4.m4.2.2.1.1.2.cmml" xref="algorithm1.4.4.m4.2.2.1.1.2">𝜃</ci><ci id="algorithm1.4.4.m4.2.2.1.1.3.cmml" xref="algorithm1.4.4.m4.2.2.1.1.3">𝑝</ci></apply><apply id="algorithm1.4.4.m4.3.3.2.2.cmml" xref="algorithm1.4.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="algorithm1.4.4.m4.3.3.2.2.1.cmml" xref="algorithm1.4.4.m4.3.3.2.2">subscript</csymbol><ci id="algorithm1.4.4.m4.3.3.2.2.2.cmml" xref="algorithm1.4.4.m4.3.3.2.2.2">𝜃</ci><ci id="algorithm1.4.4.m4.3.3.2.2.3.cmml" xref="algorithm1.4.4.m4.3.3.2.2.3">𝑠</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m4.3c">\Theta,\theta_{p},\theta_{s}</annotation></semantics></math>, initial LLM, personalized, global LoRA module; <math id="algorithm1.5.5.m5.3" class="ltx_Math" alttext="\mathbf{w}=\{\mathbf{w^{1}},\dots,\mathbf{w^{N}}\}" display="inline"><semantics id="algorithm1.5.5.m5.3a"><mrow id="algorithm1.5.5.m5.3.3" xref="algorithm1.5.5.m5.3.3.cmml"><mi id="algorithm1.5.5.m5.3.3.4" xref="algorithm1.5.5.m5.3.3.4.cmml">𝐰</mi><mo id="algorithm1.5.5.m5.3.3.3" xref="algorithm1.5.5.m5.3.3.3.cmml">=</mo><mrow id="algorithm1.5.5.m5.3.3.2.2" xref="algorithm1.5.5.m5.3.3.2.3.cmml"><mo stretchy="false" id="algorithm1.5.5.m5.3.3.2.2.3" xref="algorithm1.5.5.m5.3.3.2.3.cmml">{</mo><msup id="algorithm1.5.5.m5.2.2.1.1.1" xref="algorithm1.5.5.m5.2.2.1.1.1.cmml"><mi id="algorithm1.5.5.m5.2.2.1.1.1.2" xref="algorithm1.5.5.m5.2.2.1.1.1.2.cmml">𝐰</mi><mn id="algorithm1.5.5.m5.2.2.1.1.1.3" xref="algorithm1.5.5.m5.2.2.1.1.1.3.cmml">𝟏</mn></msup><mo id="algorithm1.5.5.m5.3.3.2.2.4" xref="algorithm1.5.5.m5.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="algorithm1.5.5.m5.1.1" xref="algorithm1.5.5.m5.1.1.cmml">…</mi><mo id="algorithm1.5.5.m5.3.3.2.2.5" xref="algorithm1.5.5.m5.3.3.2.3.cmml">,</mo><msup id="algorithm1.5.5.m5.3.3.2.2.2" xref="algorithm1.5.5.m5.3.3.2.2.2.cmml"><mi id="algorithm1.5.5.m5.3.3.2.2.2.2" xref="algorithm1.5.5.m5.3.3.2.2.2.2.cmml">𝐰</mi><mi id="algorithm1.5.5.m5.3.3.2.2.2.3" xref="algorithm1.5.5.m5.3.3.2.2.2.3.cmml">𝐍</mi></msup><mo stretchy="false" id="algorithm1.5.5.m5.3.3.2.2.6" xref="algorithm1.5.5.m5.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m5.3b"><apply id="algorithm1.5.5.m5.3.3.cmml" xref="algorithm1.5.5.m5.3.3"><eq id="algorithm1.5.5.m5.3.3.3.cmml" xref="algorithm1.5.5.m5.3.3.3"></eq><ci id="algorithm1.5.5.m5.3.3.4.cmml" xref="algorithm1.5.5.m5.3.3.4">𝐰</ci><set id="algorithm1.5.5.m5.3.3.2.3.cmml" xref="algorithm1.5.5.m5.3.3.2.2"><apply id="algorithm1.5.5.m5.2.2.1.1.1.cmml" xref="algorithm1.5.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="algorithm1.5.5.m5.2.2.1.1.1.1.cmml" xref="algorithm1.5.5.m5.2.2.1.1.1">superscript</csymbol><ci id="algorithm1.5.5.m5.2.2.1.1.1.2.cmml" xref="algorithm1.5.5.m5.2.2.1.1.1.2">𝐰</ci><cn type="integer" id="algorithm1.5.5.m5.2.2.1.1.1.3.cmml" xref="algorithm1.5.5.m5.2.2.1.1.1.3">1</cn></apply><ci id="algorithm1.5.5.m5.1.1.cmml" xref="algorithm1.5.5.m5.1.1">…</ci><apply id="algorithm1.5.5.m5.3.3.2.2.2.cmml" xref="algorithm1.5.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.5.5.m5.3.3.2.2.2.1.cmml" xref="algorithm1.5.5.m5.3.3.2.2.2">superscript</csymbol><ci id="algorithm1.5.5.m5.3.3.2.2.2.2.cmml" xref="algorithm1.5.5.m5.3.3.2.2.2.2">𝐰</ci><ci id="algorithm1.5.5.m5.3.3.2.2.2.3.cmml" xref="algorithm1.5.5.m5.3.3.2.2.2.3">𝐍</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m5.3c">\mathbf{w}=\{\mathbf{w^{1}},\dots,\mathbf{w^{N}}\}</annotation></semantics></math>, parameters of gate function; <math id="algorithm1.6.6.m6.1" class="ltx_Math" alttext="H" display="inline"><semantics id="algorithm1.6.6.m6.1a"><mi id="algorithm1.6.6.m6.1.1" xref="algorithm1.6.6.m6.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m6.1b"><ci id="algorithm1.6.6.m6.1.1.cmml" xref="algorithm1.6.6.m6.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m6.1c">H</annotation></semantics></math>, the asynchronous update frequency. 
</div>
<div id="algorithm1.7.7" class="ltx_listingline">
<span id="algorithm1.7.7.1" class="ltx_text"><span id="algorithm1.7.7.1.1" class="ltx_text ltx_font_bold">Output:</span> </span><math id="algorithm1.7.7.m1.2" class="ltx_Math" alttext="\tilde{S}=f(\cdot;\Theta)" display="inline"><semantics id="algorithm1.7.7.m1.2a"><mrow id="algorithm1.7.7.m1.2.3" xref="algorithm1.7.7.m1.2.3.cmml"><mover accent="true" id="algorithm1.7.7.m1.2.3.2" xref="algorithm1.7.7.m1.2.3.2.cmml"><mi id="algorithm1.7.7.m1.2.3.2.2" xref="algorithm1.7.7.m1.2.3.2.2.cmml">S</mi><mo id="algorithm1.7.7.m1.2.3.2.1" xref="algorithm1.7.7.m1.2.3.2.1.cmml">~</mo></mover><mo id="algorithm1.7.7.m1.2.3.1" xref="algorithm1.7.7.m1.2.3.1.cmml">=</mo><mrow id="algorithm1.7.7.m1.2.3.3" xref="algorithm1.7.7.m1.2.3.3.cmml"><mi id="algorithm1.7.7.m1.2.3.3.2" xref="algorithm1.7.7.m1.2.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="algorithm1.7.7.m1.2.3.3.1" xref="algorithm1.7.7.m1.2.3.3.1.cmml">​</mo><mrow id="algorithm1.7.7.m1.2.3.3.3.2" xref="algorithm1.7.7.m1.2.3.3.3.1.cmml"><mo stretchy="false" id="algorithm1.7.7.m1.2.3.3.3.2.1" xref="algorithm1.7.7.m1.2.3.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="algorithm1.7.7.m1.1.1" xref="algorithm1.7.7.m1.1.1.cmml">⋅</mo><mo id="algorithm1.7.7.m1.2.3.3.3.2.2" xref="algorithm1.7.7.m1.2.3.3.3.1.cmml">;</mo><mi mathvariant="normal" id="algorithm1.7.7.m1.2.2" xref="algorithm1.7.7.m1.2.2.cmml">Θ</mi><mo stretchy="false" id="algorithm1.7.7.m1.2.3.3.3.2.3" xref="algorithm1.7.7.m1.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m1.2b"><apply id="algorithm1.7.7.m1.2.3.cmml" xref="algorithm1.7.7.m1.2.3"><eq id="algorithm1.7.7.m1.2.3.1.cmml" xref="algorithm1.7.7.m1.2.3.1"></eq><apply id="algorithm1.7.7.m1.2.3.2.cmml" xref="algorithm1.7.7.m1.2.3.2"><ci id="algorithm1.7.7.m1.2.3.2.1.cmml" xref="algorithm1.7.7.m1.2.3.2.1">~</ci><ci id="algorithm1.7.7.m1.2.3.2.2.cmml" xref="algorithm1.7.7.m1.2.3.2.2">𝑆</ci></apply><apply id="algorithm1.7.7.m1.2.3.3.cmml" xref="algorithm1.7.7.m1.2.3.3"><times id="algorithm1.7.7.m1.2.3.3.1.cmml" xref="algorithm1.7.7.m1.2.3.3.1"></times><ci id="algorithm1.7.7.m1.2.3.3.2.cmml" xref="algorithm1.7.7.m1.2.3.3.2">𝑓</ci><list id="algorithm1.7.7.m1.2.3.3.3.1.cmml" xref="algorithm1.7.7.m1.2.3.3.3.2"><ci id="algorithm1.7.7.m1.1.1.cmml" xref="algorithm1.7.7.m1.1.1">⋅</ci><ci id="algorithm1.7.7.m1.2.2.cmml" xref="algorithm1.7.7.m1.2.2">Θ</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m1.2c">\tilde{S}=f(\cdot;\Theta)</annotation></semantics></math>
</div>
<div id="algorithm1.8.8" class="ltx_listingline">
<span id="algorithm1.8.8.2" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.8.8.1" class="ltx_text ltx_font_typewriter">Stage 1. Local learning on <math id="algorithm1.8.8.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="algorithm1.8.8.1.m1.1a"><mi id="algorithm1.8.8.1.m1.1.1" xref="algorithm1.8.8.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.1.m1.1b"><ci id="algorithm1.8.8.1.m1.1.1.cmml" xref="algorithm1.8.8.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.1.m1.1c">N</annotation></semantics></math> clients </span>
</div>
<div id="algorithm1.10.10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
<span id="algorithm1.10.10.3" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.10.10.2" class="ltx_emph ltx_font_italic"><math id="algorithm1.9.9.1.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="algorithm1.9.9.1.m1.1a"><mrow id="algorithm1.9.9.1.m1.1.1" xref="algorithm1.9.9.1.m1.1.1.cmml"><mi id="algorithm1.9.9.1.m1.1.1.2" xref="algorithm1.9.9.1.m1.1.1.2.cmml">i</mi><mo id="algorithm1.9.9.1.m1.1.1.1" xref="algorithm1.9.9.1.m1.1.1.1.cmml">=</mo><mn id="algorithm1.9.9.1.m1.1.1.3" xref="algorithm1.9.9.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.1.m1.1b"><apply id="algorithm1.9.9.1.m1.1.1.cmml" xref="algorithm1.9.9.1.m1.1.1"><eq id="algorithm1.9.9.1.m1.1.1.1.cmml" xref="algorithm1.9.9.1.m1.1.1.1"></eq><ci id="algorithm1.9.9.1.m1.1.1.2.cmml" xref="algorithm1.9.9.1.m1.1.1.2">𝑖</ci><cn type="integer" id="algorithm1.9.9.1.m1.1.1.3.cmml" xref="algorithm1.9.9.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.1.m1.1c">i=1</annotation></semantics></math> to <math id="algorithm1.10.10.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="algorithm1.10.10.2.m2.1a"><mi id="algorithm1.10.10.2.m2.1.1" xref="algorithm1.10.10.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.2.m2.1b"><ci id="algorithm1.10.10.2.m2.1.1.cmml" xref="algorithm1.10.10.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.2.m2.1c">N</annotation></semantics></math></em> <span id="algorithm1.10.10.4" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.27.28" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.28.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.28.2" class="ltx_text ltx_font_typewriter">Training personalized LoRA module via supervised fine-tuning </span>
</div>
<div id="algorithm1.27.29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.29.1" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.27.29.2" class="ltx_emph ltx_font_italic">1 to n_batches</em> <span id="algorithm1.27.29.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.13.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.11.11.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow" display="inline"><semantics id="algorithm1.11.11.m1.1a"><mrow id="algorithm1.11.11.m1.1.1" xref="algorithm1.11.11.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.11.11.m1.1.1.2" xref="algorithm1.11.11.m1.1.1.2.cmml">ℬ</mi><mo stretchy="false" id="algorithm1.11.11.m1.1.1.1" xref="algorithm1.11.11.m1.1.1.1.cmml">←</mo><mi id="algorithm1.11.11.m1.1.1.3" xref="algorithm1.11.11.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m1.1b"><apply id="algorithm1.11.11.m1.1.1.cmml" xref="algorithm1.11.11.m1.1.1"><ci id="algorithm1.11.11.m1.1.1.1.cmml" xref="algorithm1.11.11.m1.1.1.1">←</ci><ci id="algorithm1.11.11.m1.1.1.2.cmml" xref="algorithm1.11.11.m1.1.1.2">ℬ</ci><csymbol cd="latexml" id="algorithm1.11.11.m1.1.1.3.cmml" xref="algorithm1.11.11.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m1.1c">\mathcal{B}\leftarrow</annotation></semantics></math> Randomly sample <math id="algorithm1.12.12.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="algorithm1.12.12.m2.1a"><mi id="algorithm1.12.12.m2.1.1" xref="algorithm1.12.12.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m2.1b"><ci id="algorithm1.12.12.m2.1.1.cmml" xref="algorithm1.12.12.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.m2.1c">b</annotation></semantics></math> data from <math id="algorithm1.13.13.m3.1" class="ltx_Math" alttext="\mathcal{D}^{(i)}" display="inline"><semantics id="algorithm1.13.13.m3.1a"><msup id="algorithm1.13.13.m3.1.2" xref="algorithm1.13.13.m3.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.13.13.m3.1.2.2" xref="algorithm1.13.13.m3.1.2.2.cmml">𝒟</mi><mrow id="algorithm1.13.13.m3.1.1.1.3" xref="algorithm1.13.13.m3.1.2.cmml"><mo stretchy="false" id="algorithm1.13.13.m3.1.1.1.3.1" xref="algorithm1.13.13.m3.1.2.cmml">(</mo><mi id="algorithm1.13.13.m3.1.1.1.1" xref="algorithm1.13.13.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.13.13.m3.1.1.1.3.2" xref="algorithm1.13.13.m3.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m3.1b"><apply id="algorithm1.13.13.m3.1.2.cmml" xref="algorithm1.13.13.m3.1.2"><csymbol cd="ambiguous" id="algorithm1.13.13.m3.1.2.1.cmml" xref="algorithm1.13.13.m3.1.2">superscript</csymbol><ci id="algorithm1.13.13.m3.1.2.2.cmml" xref="algorithm1.13.13.m3.1.2.2">𝒟</ci><ci id="algorithm1.13.13.m3.1.1.1.1.cmml" xref="algorithm1.13.13.m3.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m3.1c">\mathcal{D}^{(i)}</annotation></semantics></math> 
</div>
<div id="algorithm1.14.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.14.14.m1.5" class="ltx_Math" alttext="\theta^{(i)}_{p}\leftarrow SFT(f(B;(\Theta,\theta^{(i)}_{p})))" display="inline"><semantics id="algorithm1.14.14.m1.5a"><mrow id="algorithm1.14.14.m1.5.5" xref="algorithm1.14.14.m1.5.5.cmml"><msubsup id="algorithm1.14.14.m1.5.5.3" xref="algorithm1.14.14.m1.5.5.3.cmml"><mi id="algorithm1.14.14.m1.5.5.3.2.2" xref="algorithm1.14.14.m1.5.5.3.2.2.cmml">θ</mi><mi id="algorithm1.14.14.m1.5.5.3.3" xref="algorithm1.14.14.m1.5.5.3.3.cmml">p</mi><mrow id="algorithm1.14.14.m1.1.1.1.3" xref="algorithm1.14.14.m1.5.5.3.cmml"><mo stretchy="false" id="algorithm1.14.14.m1.1.1.1.3.1" xref="algorithm1.14.14.m1.5.5.3.cmml">(</mo><mi id="algorithm1.14.14.m1.1.1.1.1" xref="algorithm1.14.14.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.14.14.m1.1.1.1.3.2" xref="algorithm1.14.14.m1.5.5.3.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="algorithm1.14.14.m1.5.5.2" xref="algorithm1.14.14.m1.5.5.2.cmml">←</mo><mrow id="algorithm1.14.14.m1.5.5.1" xref="algorithm1.14.14.m1.5.5.1.cmml"><mi id="algorithm1.14.14.m1.5.5.1.3" xref="algorithm1.14.14.m1.5.5.1.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="algorithm1.14.14.m1.5.5.1.2" xref="algorithm1.14.14.m1.5.5.1.2.cmml">​</mo><mi id="algorithm1.14.14.m1.5.5.1.4" xref="algorithm1.14.14.m1.5.5.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="algorithm1.14.14.m1.5.5.1.2a" xref="algorithm1.14.14.m1.5.5.1.2.cmml">​</mo><mi id="algorithm1.14.14.m1.5.5.1.5" xref="algorithm1.14.14.m1.5.5.1.5.cmml">T</mi><mo lspace="0em" rspace="0em" id="algorithm1.14.14.m1.5.5.1.2b" xref="algorithm1.14.14.m1.5.5.1.2.cmml">​</mo><mrow id="algorithm1.14.14.m1.5.5.1.1.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="algorithm1.14.14.m1.5.5.1.1.1.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.cmml"><mi id="algorithm1.14.14.m1.5.5.1.1.1.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="algorithm1.14.14.m1.5.5.1.1.1.1.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.2.cmml">​</mo><mrow id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.2.cmml"><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.2.cmml">(</mo><mi id="algorithm1.14.14.m1.4.4" xref="algorithm1.14.14.m1.4.4.cmml">B</mi><mo id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.2.cmml">;</mo><mrow id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.2.cmml">(</mo><mi mathvariant="normal" id="algorithm1.14.14.m1.3.3" xref="algorithm1.14.14.m1.3.3.cmml">Θ</mi><mo id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.2.cmml">,</mo><msubsup id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mi id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">p</mi><mrow id="algorithm1.14.14.m1.2.2.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.14.14.m1.2.2.1.3.1" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="algorithm1.14.14.m1.2.2.1.1" xref="algorithm1.14.14.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.14.14.m1.2.2.1.3.2" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.4" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.2.cmml">)</mo></mrow><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.4" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="algorithm1.14.14.m1.5.5.1.1.1.3" xref="algorithm1.14.14.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.5b"><apply id="algorithm1.14.14.m1.5.5.cmml" xref="algorithm1.14.14.m1.5.5"><ci id="algorithm1.14.14.m1.5.5.2.cmml" xref="algorithm1.14.14.m1.5.5.2">←</ci><apply id="algorithm1.14.14.m1.5.5.3.cmml" xref="algorithm1.14.14.m1.5.5.3"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.5.5.3.1.cmml" xref="algorithm1.14.14.m1.5.5.3">subscript</csymbol><apply id="algorithm1.14.14.m1.5.5.3.2.cmml" xref="algorithm1.14.14.m1.5.5.3"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.5.5.3.2.1.cmml" xref="algorithm1.14.14.m1.5.5.3">superscript</csymbol><ci id="algorithm1.14.14.m1.5.5.3.2.2.cmml" xref="algorithm1.14.14.m1.5.5.3.2.2">𝜃</ci><ci id="algorithm1.14.14.m1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.1.1.1.1">𝑖</ci></apply><ci id="algorithm1.14.14.m1.5.5.3.3.cmml" xref="algorithm1.14.14.m1.5.5.3.3">𝑝</ci></apply><apply id="algorithm1.14.14.m1.5.5.1.cmml" xref="algorithm1.14.14.m1.5.5.1"><times id="algorithm1.14.14.m1.5.5.1.2.cmml" xref="algorithm1.14.14.m1.5.5.1.2"></times><ci id="algorithm1.14.14.m1.5.5.1.3.cmml" xref="algorithm1.14.14.m1.5.5.1.3">𝑆</ci><ci id="algorithm1.14.14.m1.5.5.1.4.cmml" xref="algorithm1.14.14.m1.5.5.1.4">𝐹</ci><ci id="algorithm1.14.14.m1.5.5.1.5.cmml" xref="algorithm1.14.14.m1.5.5.1.5">𝑇</ci><apply id="algorithm1.14.14.m1.5.5.1.1.1.1.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1"><times id="algorithm1.14.14.m1.5.5.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.2"></times><ci id="algorithm1.14.14.m1.5.5.1.1.1.1.3.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.3">𝑓</ci><list id="algorithm1.14.14.m1.5.5.1.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1"><ci id="algorithm1.14.14.m1.4.4.cmml" xref="algorithm1.14.14.m1.4.4">𝐵</ci><interval closure="open" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1"><ci id="algorithm1.14.14.m1.3.3.cmml" xref="algorithm1.14.14.m1.3.3">Θ</ci><apply id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="algorithm1.14.14.m1.2.2.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1">𝑖</ci></apply><ci id="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm1.14.14.m1.5.5.1.1.1.1.1.1.1.1.1.3">𝑝</ci></apply></interval></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.5c">\theta^{(i)}_{p}\leftarrow SFT(f(B;(\Theta,\theta^{(i)}_{p})))</annotation></semantics></math> 
</div>
<div id="algorithm1.27.30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm1.27.31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="algorithm1.27.32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm1.27.33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span> end for
</div>
<div id="algorithm1.27.34" class="ltx_listingline">
<span id="algorithm1.27.34.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.34.2" class="ltx_text ltx_font_typewriter">Stage 2. Federate learning </span>
</div>
<div id="algorithm1.15.15" class="ltx_listingline">
<math id="algorithm1.15.15.m1.2" class="ltx_Math" alttext="\theta_{s}^{(0)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}\theta^{(i)}_{p}" display="inline"><semantics id="algorithm1.15.15.m1.2a"><mrow id="algorithm1.15.15.m1.2.3" xref="algorithm1.15.15.m1.2.3.cmml"><msubsup id="algorithm1.15.15.m1.2.3.2" xref="algorithm1.15.15.m1.2.3.2.cmml"><mi id="algorithm1.15.15.m1.2.3.2.2.2" xref="algorithm1.15.15.m1.2.3.2.2.2.cmml">θ</mi><mi id="algorithm1.15.15.m1.2.3.2.2.3" xref="algorithm1.15.15.m1.2.3.2.2.3.cmml">s</mi><mrow id="algorithm1.15.15.m1.1.1.1.3" xref="algorithm1.15.15.m1.2.3.2.cmml"><mo stretchy="false" id="algorithm1.15.15.m1.1.1.1.3.1" xref="algorithm1.15.15.m1.2.3.2.cmml">(</mo><mn id="algorithm1.15.15.m1.1.1.1.1" xref="algorithm1.15.15.m1.1.1.1.1.cmml">0</mn><mo stretchy="false" id="algorithm1.15.15.m1.1.1.1.3.2" xref="algorithm1.15.15.m1.2.3.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="algorithm1.15.15.m1.2.3.1" xref="algorithm1.15.15.m1.2.3.1.cmml">←</mo><mrow id="algorithm1.15.15.m1.2.3.3" xref="algorithm1.15.15.m1.2.3.3.cmml"><mfrac id="algorithm1.15.15.m1.2.3.3.2" xref="algorithm1.15.15.m1.2.3.3.2.cmml"><mn id="algorithm1.15.15.m1.2.3.3.2.2" xref="algorithm1.15.15.m1.2.3.3.2.2.cmml">1</mn><mi id="algorithm1.15.15.m1.2.3.3.2.3" xref="algorithm1.15.15.m1.2.3.3.2.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.15.15.m1.2.3.3.1" xref="algorithm1.15.15.m1.2.3.3.1.cmml">​</mo><mrow id="algorithm1.15.15.m1.2.3.3.3" xref="algorithm1.15.15.m1.2.3.3.3.cmml"><msubsup id="algorithm1.15.15.m1.2.3.3.3.1" xref="algorithm1.15.15.m1.2.3.3.3.1.cmml"><mo id="algorithm1.15.15.m1.2.3.3.3.1.2.2" xref="algorithm1.15.15.m1.2.3.3.3.1.2.2.cmml">∑</mo><mrow id="algorithm1.15.15.m1.2.3.3.3.1.2.3" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.cmml"><mi id="algorithm1.15.15.m1.2.3.3.3.1.2.3.2" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.2.cmml">i</mi><mo id="algorithm1.15.15.m1.2.3.3.3.1.2.3.1" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.1.cmml">=</mo><mn id="algorithm1.15.15.m1.2.3.3.3.1.2.3.3" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.15.15.m1.2.3.3.3.1.3" xref="algorithm1.15.15.m1.2.3.3.3.1.3.cmml">N</mi></msubsup><msubsup id="algorithm1.15.15.m1.2.3.3.3.2" xref="algorithm1.15.15.m1.2.3.3.3.2.cmml"><mi id="algorithm1.15.15.m1.2.3.3.3.2.2.2" xref="algorithm1.15.15.m1.2.3.3.3.2.2.2.cmml">θ</mi><mi id="algorithm1.15.15.m1.2.3.3.3.2.3" xref="algorithm1.15.15.m1.2.3.3.3.2.3.cmml">p</mi><mrow id="algorithm1.15.15.m1.2.2.1.3" xref="algorithm1.15.15.m1.2.3.3.3.2.cmml"><mo stretchy="false" id="algorithm1.15.15.m1.2.2.1.3.1" xref="algorithm1.15.15.m1.2.3.3.3.2.cmml">(</mo><mi id="algorithm1.15.15.m1.2.2.1.1" xref="algorithm1.15.15.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.15.15.m1.2.2.1.3.2" xref="algorithm1.15.15.m1.2.3.3.3.2.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m1.2b"><apply id="algorithm1.15.15.m1.2.3.cmml" xref="algorithm1.15.15.m1.2.3"><ci id="algorithm1.15.15.m1.2.3.1.cmml" xref="algorithm1.15.15.m1.2.3.1">←</ci><apply id="algorithm1.15.15.m1.2.3.2.cmml" xref="algorithm1.15.15.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.2.1.cmml" xref="algorithm1.15.15.m1.2.3.2">superscript</csymbol><apply id="algorithm1.15.15.m1.2.3.2.2.cmml" xref="algorithm1.15.15.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.2.2.1.cmml" xref="algorithm1.15.15.m1.2.3.2">subscript</csymbol><ci id="algorithm1.15.15.m1.2.3.2.2.2.cmml" xref="algorithm1.15.15.m1.2.3.2.2.2">𝜃</ci><ci id="algorithm1.15.15.m1.2.3.2.2.3.cmml" xref="algorithm1.15.15.m1.2.3.2.2.3">𝑠</ci></apply><cn type="integer" id="algorithm1.15.15.m1.1.1.1.1.cmml" xref="algorithm1.15.15.m1.1.1.1.1">0</cn></apply><apply id="algorithm1.15.15.m1.2.3.3.cmml" xref="algorithm1.15.15.m1.2.3.3"><times id="algorithm1.15.15.m1.2.3.3.1.cmml" xref="algorithm1.15.15.m1.2.3.3.1"></times><apply id="algorithm1.15.15.m1.2.3.3.2.cmml" xref="algorithm1.15.15.m1.2.3.3.2"><divide id="algorithm1.15.15.m1.2.3.3.2.1.cmml" xref="algorithm1.15.15.m1.2.3.3.2"></divide><cn type="integer" id="algorithm1.15.15.m1.2.3.3.2.2.cmml" xref="algorithm1.15.15.m1.2.3.3.2.2">1</cn><ci id="algorithm1.15.15.m1.2.3.3.2.3.cmml" xref="algorithm1.15.15.m1.2.3.3.2.3">𝑁</ci></apply><apply id="algorithm1.15.15.m1.2.3.3.3.cmml" xref="algorithm1.15.15.m1.2.3.3.3"><apply id="algorithm1.15.15.m1.2.3.3.3.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.3.3.1.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1">superscript</csymbol><apply id="algorithm1.15.15.m1.2.3.3.3.1.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.3.3.1.2.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1">subscript</csymbol><sum id="algorithm1.15.15.m1.2.3.3.3.1.2.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.2.2"></sum><apply id="algorithm1.15.15.m1.2.3.3.3.1.2.3.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3"><eq id="algorithm1.15.15.m1.2.3.3.3.1.2.3.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.1"></eq><ci id="algorithm1.15.15.m1.2.3.3.3.1.2.3.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="algorithm1.15.15.m1.2.3.3.3.1.2.3.3.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.2.3.3">1</cn></apply></apply><ci id="algorithm1.15.15.m1.2.3.3.3.1.3.cmml" xref="algorithm1.15.15.m1.2.3.3.3.1.3">𝑁</ci></apply><apply id="algorithm1.15.15.m1.2.3.3.3.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.3.3.2.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2">subscript</csymbol><apply id="algorithm1.15.15.m1.2.3.3.3.2.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.3.3.3.2.2.1.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2">superscript</csymbol><ci id="algorithm1.15.15.m1.2.3.3.3.2.2.2.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2.2.2">𝜃</ci><ci id="algorithm1.15.15.m1.2.2.1.1.cmml" xref="algorithm1.15.15.m1.2.2.1.1">𝑖</ci></apply><ci id="algorithm1.15.15.m1.2.3.3.3.2.3.cmml" xref="algorithm1.15.15.m1.2.3.3.3.2.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.m1.2c">\theta_{s}^{(0)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}\theta^{(i)}_{p}</annotation></semantics></math> ;
</div>
<div id="algorithm1.27.35" class="ltx_listingline">  <span id="algorithm1.27.35.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.35.2" class="ltx_text ltx_font_typewriter">Initial global LoRA module</span>
</div>
<div id="algorithm1.16.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>
<span id="algorithm1.16.16.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.16.16.1" class="ltx_emph ltx_font_italic">outer step t = 1 to <math id="algorithm1.16.16.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algorithm1.16.16.1.m1.1a"><mi id="algorithm1.16.16.1.m1.1.1" xref="algorithm1.16.16.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.1.m1.1b"><ci id="algorithm1.16.16.1.m1.1.1.cmml" xref="algorithm1.16.16.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.1.m1.1c">T</annotation></semantics></math></em> <span id="algorithm1.16.16.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.17.17" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.17.17.2" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.17.17.1" class="ltx_text ltx_font_typewriter">Update the personalized LoRA module every <math id="algorithm1.17.17.1.m1.1" class="ltx_Math" alttext="H" display="inline"><semantics id="algorithm1.17.17.1.m1.1a"><mi id="algorithm1.17.17.1.m1.1.1" xref="algorithm1.17.17.1.m1.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.1.m1.1b"><ci id="algorithm1.17.17.1.m1.1.1.cmml" xref="algorithm1.17.17.1.m1.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.1.m1.1c">H</annotation></semantics></math> communication rounds </span>
</div>
<div id="algorithm1.18.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.18.18.1" class="ltx_text ltx_font_italic">is_sync</span> <math id="algorithm1.18.18.m1.1" class="ltx_Math" alttext="\leftarrow t\%H" display="inline"><semantics id="algorithm1.18.18.m1.1a"><mrow id="algorithm1.18.18.m1.1.1" xref="algorithm1.18.18.m1.1.1.cmml"><mi id="algorithm1.18.18.m1.1.1.2" xref="algorithm1.18.18.m1.1.1.2.cmml"></mi><mo stretchy="false" id="algorithm1.18.18.m1.1.1.1" xref="algorithm1.18.18.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.18.18.m1.1.1.3" xref="algorithm1.18.18.m1.1.1.3.cmml"><mrow id="algorithm1.18.18.m1.1.1.3.2" xref="algorithm1.18.18.m1.1.1.3.2.cmml"><mi id="algorithm1.18.18.m1.1.1.3.2.2" xref="algorithm1.18.18.m1.1.1.3.2.2.cmml">t</mi><mo id="algorithm1.18.18.m1.1.1.3.2.1" xref="algorithm1.18.18.m1.1.1.3.2.1.cmml">%</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.18.18.m1.1.1.3.1" xref="algorithm1.18.18.m1.1.1.3.1.cmml">​</mo><mi id="algorithm1.18.18.m1.1.1.3.3" xref="algorithm1.18.18.m1.1.1.3.3.cmml">H</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.m1.1b"><apply id="algorithm1.18.18.m1.1.1.cmml" xref="algorithm1.18.18.m1.1.1"><ci id="algorithm1.18.18.m1.1.1.1.cmml" xref="algorithm1.18.18.m1.1.1.1">←</ci><csymbol cd="latexml" id="algorithm1.18.18.m1.1.1.2.cmml" xref="algorithm1.18.18.m1.1.1.2">absent</csymbol><apply id="algorithm1.18.18.m1.1.1.3.cmml" xref="algorithm1.18.18.m1.1.1.3"><times id="algorithm1.18.18.m1.1.1.3.1.cmml" xref="algorithm1.18.18.m1.1.1.3.1"></times><apply id="algorithm1.18.18.m1.1.1.3.2.cmml" xref="algorithm1.18.18.m1.1.1.3.2"><csymbol cd="latexml" id="algorithm1.18.18.m1.1.1.3.2.1.cmml" xref="algorithm1.18.18.m1.1.1.3.2.1">percent</csymbol><ci id="algorithm1.18.18.m1.1.1.3.2.2.cmml" xref="algorithm1.18.18.m1.1.1.3.2.2">𝑡</ci></apply><ci id="algorithm1.18.18.m1.1.1.3.3.cmml" xref="algorithm1.18.18.m1.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.m1.1c">\leftarrow t\%H</annotation></semantics></math> 
</div>
<div id="algorithm1.27.36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.36.1" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.27.36.2" class="ltx_emph ltx_font_italic">client i = 1,…,N</em> <span id="algorithm1.27.36.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.19.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.19.19.m1.3" class="ltx_Math" alttext="\theta_{s}^{(i)(t)}\leftarrow\theta_{s}^{(t-1)}" display="inline"><semantics id="algorithm1.19.19.m1.3a"><mrow id="algorithm1.19.19.m1.3.4" xref="algorithm1.19.19.m1.3.4.cmml"><msubsup id="algorithm1.19.19.m1.3.4.2" xref="algorithm1.19.19.m1.3.4.2.cmml"><mi id="algorithm1.19.19.m1.3.4.2.2.2" xref="algorithm1.19.19.m1.3.4.2.2.2.cmml">θ</mi><mi id="algorithm1.19.19.m1.3.4.2.2.3" xref="algorithm1.19.19.m1.3.4.2.2.3.cmml">s</mi><mrow id="algorithm1.19.19.m1.2.2.2" xref="algorithm1.19.19.m1.2.2.2.cmml"><mrow id="algorithm1.19.19.m1.2.2.2.4.2" xref="algorithm1.19.19.m1.2.2.2.cmml"><mo stretchy="false" id="algorithm1.19.19.m1.2.2.2.4.2.1" xref="algorithm1.19.19.m1.2.2.2.cmml">(</mo><mi id="algorithm1.19.19.m1.1.1.1.1" xref="algorithm1.19.19.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.19.19.m1.2.2.2.4.2.2" xref="algorithm1.19.19.m1.2.2.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.19.19.m1.2.2.2.3" xref="algorithm1.19.19.m1.2.2.2.3.cmml">​</mo><mrow id="algorithm1.19.19.m1.2.2.2.5.2" xref="algorithm1.19.19.m1.2.2.2.cmml"><mo stretchy="false" id="algorithm1.19.19.m1.2.2.2.5.2.1" xref="algorithm1.19.19.m1.2.2.2.cmml">(</mo><mi id="algorithm1.19.19.m1.2.2.2.2" xref="algorithm1.19.19.m1.2.2.2.2.cmml">t</mi><mo stretchy="false" id="algorithm1.19.19.m1.2.2.2.5.2.2" xref="algorithm1.19.19.m1.2.2.2.cmml">)</mo></mrow></mrow></msubsup><mo stretchy="false" id="algorithm1.19.19.m1.3.4.1" xref="algorithm1.19.19.m1.3.4.1.cmml">←</mo><msubsup id="algorithm1.19.19.m1.3.4.3" xref="algorithm1.19.19.m1.3.4.3.cmml"><mi id="algorithm1.19.19.m1.3.4.3.2.2" xref="algorithm1.19.19.m1.3.4.3.2.2.cmml">θ</mi><mi id="algorithm1.19.19.m1.3.4.3.2.3" xref="algorithm1.19.19.m1.3.4.3.2.3.cmml">s</mi><mrow id="algorithm1.19.19.m1.3.3.1.1" xref="algorithm1.19.19.m1.3.3.1.1.1.cmml"><mo stretchy="false" id="algorithm1.19.19.m1.3.3.1.1.2" xref="algorithm1.19.19.m1.3.3.1.1.1.cmml">(</mo><mrow id="algorithm1.19.19.m1.3.3.1.1.1" xref="algorithm1.19.19.m1.3.3.1.1.1.cmml"><mi id="algorithm1.19.19.m1.3.3.1.1.1.2" xref="algorithm1.19.19.m1.3.3.1.1.1.2.cmml">t</mi><mo id="algorithm1.19.19.m1.3.3.1.1.1.1" xref="algorithm1.19.19.m1.3.3.1.1.1.1.cmml">−</mo><mn id="algorithm1.19.19.m1.3.3.1.1.1.3" xref="algorithm1.19.19.m1.3.3.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="algorithm1.19.19.m1.3.3.1.1.3" xref="algorithm1.19.19.m1.3.3.1.1.1.cmml">)</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.m1.3b"><apply id="algorithm1.19.19.m1.3.4.cmml" xref="algorithm1.19.19.m1.3.4"><ci id="algorithm1.19.19.m1.3.4.1.cmml" xref="algorithm1.19.19.m1.3.4.1">←</ci><apply id="algorithm1.19.19.m1.3.4.2.cmml" xref="algorithm1.19.19.m1.3.4.2"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.3.4.2.1.cmml" xref="algorithm1.19.19.m1.3.4.2">superscript</csymbol><apply id="algorithm1.19.19.m1.3.4.2.2.cmml" xref="algorithm1.19.19.m1.3.4.2"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.3.4.2.2.1.cmml" xref="algorithm1.19.19.m1.3.4.2">subscript</csymbol><ci id="algorithm1.19.19.m1.3.4.2.2.2.cmml" xref="algorithm1.19.19.m1.3.4.2.2.2">𝜃</ci><ci id="algorithm1.19.19.m1.3.4.2.2.3.cmml" xref="algorithm1.19.19.m1.3.4.2.2.3">𝑠</ci></apply><apply id="algorithm1.19.19.m1.2.2.2.cmml" xref="algorithm1.19.19.m1.2.2.2"><times id="algorithm1.19.19.m1.2.2.2.3.cmml" xref="algorithm1.19.19.m1.2.2.2.3"></times><ci id="algorithm1.19.19.m1.1.1.1.1.cmml" xref="algorithm1.19.19.m1.1.1.1.1">𝑖</ci><ci id="algorithm1.19.19.m1.2.2.2.2.cmml" xref="algorithm1.19.19.m1.2.2.2.2">𝑡</ci></apply></apply><apply id="algorithm1.19.19.m1.3.4.3.cmml" xref="algorithm1.19.19.m1.3.4.3"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.3.4.3.1.cmml" xref="algorithm1.19.19.m1.3.4.3">superscript</csymbol><apply id="algorithm1.19.19.m1.3.4.3.2.cmml" xref="algorithm1.19.19.m1.3.4.3"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.3.4.3.2.1.cmml" xref="algorithm1.19.19.m1.3.4.3">subscript</csymbol><ci id="algorithm1.19.19.m1.3.4.3.2.2.cmml" xref="algorithm1.19.19.m1.3.4.3.2.2">𝜃</ci><ci id="algorithm1.19.19.m1.3.4.3.2.3.cmml" xref="algorithm1.19.19.m1.3.4.3.2.3">𝑠</ci></apply><apply id="algorithm1.19.19.m1.3.3.1.1.1.cmml" xref="algorithm1.19.19.m1.3.3.1.1"><minus id="algorithm1.19.19.m1.3.3.1.1.1.1.cmml" xref="algorithm1.19.19.m1.3.3.1.1.1.1"></minus><ci id="algorithm1.19.19.m1.3.3.1.1.1.2.cmml" xref="algorithm1.19.19.m1.3.3.1.1.1.2">𝑡</ci><cn type="integer" id="algorithm1.19.19.m1.3.3.1.1.1.3.cmml" xref="algorithm1.19.19.m1.3.3.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.m1.3c">\theta_{s}^{(i)(t)}\leftarrow\theta_{s}^{(t-1)}</annotation></semantics></math> 
</div>
<div id="algorithm1.27.37" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.37.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.37.2" class="ltx_text ltx_font_typewriter">Inner optimization </span>
</div>
<div id="algorithm1.20.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.20.20.m1.8" class="ltx_Math" alttext="\theta_{s}^{(i)(t)}\leftarrow\text{InnerOpt}(\theta_{s}^{(i)(t)},\mathcal{D}^{(i)},K)" display="inline"><semantics id="algorithm1.20.20.m1.8a"><mrow id="algorithm1.20.20.m1.8.8" xref="algorithm1.20.20.m1.8.8.cmml"><msubsup id="algorithm1.20.20.m1.8.8.4" xref="algorithm1.20.20.m1.8.8.4.cmml"><mi id="algorithm1.20.20.m1.8.8.4.2.2" xref="algorithm1.20.20.m1.8.8.4.2.2.cmml">θ</mi><mi id="algorithm1.20.20.m1.8.8.4.2.3" xref="algorithm1.20.20.m1.8.8.4.2.3.cmml">s</mi><mrow id="algorithm1.20.20.m1.2.2.2" xref="algorithm1.20.20.m1.2.2.2.cmml"><mrow id="algorithm1.20.20.m1.2.2.2.4.2" xref="algorithm1.20.20.m1.2.2.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.2.2.2.4.2.1" xref="algorithm1.20.20.m1.2.2.2.cmml">(</mo><mi id="algorithm1.20.20.m1.1.1.1.1" xref="algorithm1.20.20.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.20.20.m1.2.2.2.4.2.2" xref="algorithm1.20.20.m1.2.2.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.2.3" xref="algorithm1.20.20.m1.2.2.2.3.cmml">​</mo><mrow id="algorithm1.20.20.m1.2.2.2.5.2" xref="algorithm1.20.20.m1.2.2.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.2.2.2.5.2.1" xref="algorithm1.20.20.m1.2.2.2.cmml">(</mo><mi id="algorithm1.20.20.m1.2.2.2.2" xref="algorithm1.20.20.m1.2.2.2.2.cmml">t</mi><mo stretchy="false" id="algorithm1.20.20.m1.2.2.2.5.2.2" xref="algorithm1.20.20.m1.2.2.2.cmml">)</mo></mrow></mrow></msubsup><mo stretchy="false" id="algorithm1.20.20.m1.8.8.3" xref="algorithm1.20.20.m1.8.8.3.cmml">←</mo><mrow id="algorithm1.20.20.m1.8.8.2" xref="algorithm1.20.20.m1.8.8.2.cmml"><mtext id="algorithm1.20.20.m1.8.8.2.4" xref="algorithm1.20.20.m1.8.8.2.4a.cmml">InnerOpt</mtext><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.8.8.2.3" xref="algorithm1.20.20.m1.8.8.2.3.cmml">​</mo><mrow id="algorithm1.20.20.m1.8.8.2.2.2" xref="algorithm1.20.20.m1.8.8.2.2.3.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.8.8.2.2.2.3" xref="algorithm1.20.20.m1.8.8.2.2.3.cmml">(</mo><msubsup id="algorithm1.20.20.m1.7.7.1.1.1.1" xref="algorithm1.20.20.m1.7.7.1.1.1.1.cmml"><mi id="algorithm1.20.20.m1.7.7.1.1.1.1.2.2" xref="algorithm1.20.20.m1.7.7.1.1.1.1.2.2.cmml">θ</mi><mi id="algorithm1.20.20.m1.7.7.1.1.1.1.2.3" xref="algorithm1.20.20.m1.7.7.1.1.1.1.2.3.cmml">s</mi><mrow id="algorithm1.20.20.m1.4.4.2" xref="algorithm1.20.20.m1.4.4.2.cmml"><mrow id="algorithm1.20.20.m1.4.4.2.4.2" xref="algorithm1.20.20.m1.4.4.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.4.4.2.4.2.1" xref="algorithm1.20.20.m1.4.4.2.cmml">(</mo><mi id="algorithm1.20.20.m1.3.3.1.1" xref="algorithm1.20.20.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.20.20.m1.4.4.2.4.2.2" xref="algorithm1.20.20.m1.4.4.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.4.4.2.3" xref="algorithm1.20.20.m1.4.4.2.3.cmml">​</mo><mrow id="algorithm1.20.20.m1.4.4.2.5.2" xref="algorithm1.20.20.m1.4.4.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.4.4.2.5.2.1" xref="algorithm1.20.20.m1.4.4.2.cmml">(</mo><mi id="algorithm1.20.20.m1.4.4.2.2" xref="algorithm1.20.20.m1.4.4.2.2.cmml">t</mi><mo stretchy="false" id="algorithm1.20.20.m1.4.4.2.5.2.2" xref="algorithm1.20.20.m1.4.4.2.cmml">)</mo></mrow></mrow></msubsup><mo id="algorithm1.20.20.m1.8.8.2.2.2.4" xref="algorithm1.20.20.m1.8.8.2.2.3.cmml">,</mo><msup id="algorithm1.20.20.m1.8.8.2.2.2.2" xref="algorithm1.20.20.m1.8.8.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.20.20.m1.8.8.2.2.2.2.2" xref="algorithm1.20.20.m1.8.8.2.2.2.2.2.cmml">𝒟</mi><mrow id="algorithm1.20.20.m1.5.5.1.3" xref="algorithm1.20.20.m1.8.8.2.2.2.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.5.5.1.3.1" xref="algorithm1.20.20.m1.8.8.2.2.2.2.cmml">(</mo><mi id="algorithm1.20.20.m1.5.5.1.1" xref="algorithm1.20.20.m1.5.5.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.20.20.m1.5.5.1.3.2" xref="algorithm1.20.20.m1.8.8.2.2.2.2.cmml">)</mo></mrow></msup><mo id="algorithm1.20.20.m1.8.8.2.2.2.5" xref="algorithm1.20.20.m1.8.8.2.2.3.cmml">,</mo><mi id="algorithm1.20.20.m1.6.6" xref="algorithm1.20.20.m1.6.6.cmml">K</mi><mo stretchy="false" id="algorithm1.20.20.m1.8.8.2.2.2.6" xref="algorithm1.20.20.m1.8.8.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.m1.8b"><apply id="algorithm1.20.20.m1.8.8.cmml" xref="algorithm1.20.20.m1.8.8"><ci id="algorithm1.20.20.m1.8.8.3.cmml" xref="algorithm1.20.20.m1.8.8.3">←</ci><apply id="algorithm1.20.20.m1.8.8.4.cmml" xref="algorithm1.20.20.m1.8.8.4"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.8.8.4.1.cmml" xref="algorithm1.20.20.m1.8.8.4">superscript</csymbol><apply id="algorithm1.20.20.m1.8.8.4.2.cmml" xref="algorithm1.20.20.m1.8.8.4"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.8.8.4.2.1.cmml" xref="algorithm1.20.20.m1.8.8.4">subscript</csymbol><ci id="algorithm1.20.20.m1.8.8.4.2.2.cmml" xref="algorithm1.20.20.m1.8.8.4.2.2">𝜃</ci><ci id="algorithm1.20.20.m1.8.8.4.2.3.cmml" xref="algorithm1.20.20.m1.8.8.4.2.3">𝑠</ci></apply><apply id="algorithm1.20.20.m1.2.2.2.cmml" xref="algorithm1.20.20.m1.2.2.2"><times id="algorithm1.20.20.m1.2.2.2.3.cmml" xref="algorithm1.20.20.m1.2.2.2.3"></times><ci id="algorithm1.20.20.m1.1.1.1.1.cmml" xref="algorithm1.20.20.m1.1.1.1.1">𝑖</ci><ci id="algorithm1.20.20.m1.2.2.2.2.cmml" xref="algorithm1.20.20.m1.2.2.2.2">𝑡</ci></apply></apply><apply id="algorithm1.20.20.m1.8.8.2.cmml" xref="algorithm1.20.20.m1.8.8.2"><times id="algorithm1.20.20.m1.8.8.2.3.cmml" xref="algorithm1.20.20.m1.8.8.2.3"></times><ci id="algorithm1.20.20.m1.8.8.2.4a.cmml" xref="algorithm1.20.20.m1.8.8.2.4"><mtext id="algorithm1.20.20.m1.8.8.2.4.cmml" xref="algorithm1.20.20.m1.8.8.2.4">InnerOpt</mtext></ci><vector id="algorithm1.20.20.m1.8.8.2.2.3.cmml" xref="algorithm1.20.20.m1.8.8.2.2.2"><apply id="algorithm1.20.20.m1.7.7.1.1.1.1.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.7.7.1.1.1.1.1.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1">superscript</csymbol><apply id="algorithm1.20.20.m1.7.7.1.1.1.1.2.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.7.7.1.1.1.1.2.1.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1">subscript</csymbol><ci id="algorithm1.20.20.m1.7.7.1.1.1.1.2.2.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1.2.2">𝜃</ci><ci id="algorithm1.20.20.m1.7.7.1.1.1.1.2.3.cmml" xref="algorithm1.20.20.m1.7.7.1.1.1.1.2.3">𝑠</ci></apply><apply id="algorithm1.20.20.m1.4.4.2.cmml" xref="algorithm1.20.20.m1.4.4.2"><times id="algorithm1.20.20.m1.4.4.2.3.cmml" xref="algorithm1.20.20.m1.4.4.2.3"></times><ci id="algorithm1.20.20.m1.3.3.1.1.cmml" xref="algorithm1.20.20.m1.3.3.1.1">𝑖</ci><ci id="algorithm1.20.20.m1.4.4.2.2.cmml" xref="algorithm1.20.20.m1.4.4.2.2">𝑡</ci></apply></apply><apply id="algorithm1.20.20.m1.8.8.2.2.2.2.cmml" xref="algorithm1.20.20.m1.8.8.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.8.8.2.2.2.2.1.cmml" xref="algorithm1.20.20.m1.8.8.2.2.2.2">superscript</csymbol><ci id="algorithm1.20.20.m1.8.8.2.2.2.2.2.cmml" xref="algorithm1.20.20.m1.8.8.2.2.2.2.2">𝒟</ci><ci id="algorithm1.20.20.m1.5.5.1.1.cmml" xref="algorithm1.20.20.m1.5.5.1.1">𝑖</ci></apply><ci id="algorithm1.20.20.m1.6.6.cmml" xref="algorithm1.20.20.m1.6.6">𝐾</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.m1.8c">\theta_{s}^{(i)(t)}\leftarrow\text{InnerOpt}(\theta_{s}^{(i)(t)},\mathcal{D}^{(i)},K)</annotation></semantics></math> 
</div>
<div id="algorithm1.27.38" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.38.1" class="ltx_text ltx_font_bold">if</span> <em id="algorithm1.27.38.2" class="ltx_emph ltx_font_italic">is_sync</em> <span id="algorithm1.27.38.3" class="ltx_text ltx_font_bold">then</span> 
</div>
<div id="algorithm1.27.39" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.39.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.39.2" class="ltx_text ltx_font_typewriter">Synchronize personalized and global LoRA module </span>
</div>
<div id="algorithm1.21.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.21.21.m1.3" class="ltx_Math" alttext="\theta^{(i)}_{p}\leftarrow\theta_{s}^{(i)(t)}" display="inline"><semantics id="algorithm1.21.21.m1.3a"><mrow id="algorithm1.21.21.m1.3.4" xref="algorithm1.21.21.m1.3.4.cmml"><msubsup id="algorithm1.21.21.m1.3.4.2" xref="algorithm1.21.21.m1.3.4.2.cmml"><mi id="algorithm1.21.21.m1.3.4.2.2.2" xref="algorithm1.21.21.m1.3.4.2.2.2.cmml">θ</mi><mi id="algorithm1.21.21.m1.3.4.2.3" xref="algorithm1.21.21.m1.3.4.2.3.cmml">p</mi><mrow id="algorithm1.21.21.m1.1.1.1.3" xref="algorithm1.21.21.m1.3.4.2.cmml"><mo stretchy="false" id="algorithm1.21.21.m1.1.1.1.3.1" xref="algorithm1.21.21.m1.3.4.2.cmml">(</mo><mi id="algorithm1.21.21.m1.1.1.1.1" xref="algorithm1.21.21.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.21.21.m1.1.1.1.3.2" xref="algorithm1.21.21.m1.3.4.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="algorithm1.21.21.m1.3.4.1" xref="algorithm1.21.21.m1.3.4.1.cmml">←</mo><msubsup id="algorithm1.21.21.m1.3.4.3" xref="algorithm1.21.21.m1.3.4.3.cmml"><mi id="algorithm1.21.21.m1.3.4.3.2.2" xref="algorithm1.21.21.m1.3.4.3.2.2.cmml">θ</mi><mi id="algorithm1.21.21.m1.3.4.3.2.3" xref="algorithm1.21.21.m1.3.4.3.2.3.cmml">s</mi><mrow id="algorithm1.21.21.m1.3.3.2" xref="algorithm1.21.21.m1.3.3.2.cmml"><mrow id="algorithm1.21.21.m1.3.3.2.4.2" xref="algorithm1.21.21.m1.3.3.2.cmml"><mo stretchy="false" id="algorithm1.21.21.m1.3.3.2.4.2.1" xref="algorithm1.21.21.m1.3.3.2.cmml">(</mo><mi id="algorithm1.21.21.m1.2.2.1.1" xref="algorithm1.21.21.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.21.21.m1.3.3.2.4.2.2" xref="algorithm1.21.21.m1.3.3.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.3.3.2.3" xref="algorithm1.21.21.m1.3.3.2.3.cmml">​</mo><mrow id="algorithm1.21.21.m1.3.3.2.5.2" xref="algorithm1.21.21.m1.3.3.2.cmml"><mo stretchy="false" id="algorithm1.21.21.m1.3.3.2.5.2.1" xref="algorithm1.21.21.m1.3.3.2.cmml">(</mo><mi id="algorithm1.21.21.m1.3.3.2.2" xref="algorithm1.21.21.m1.3.3.2.2.cmml">t</mi><mo stretchy="false" id="algorithm1.21.21.m1.3.3.2.5.2.2" xref="algorithm1.21.21.m1.3.3.2.cmml">)</mo></mrow></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.21.21.m1.3b"><apply id="algorithm1.21.21.m1.3.4.cmml" xref="algorithm1.21.21.m1.3.4"><ci id="algorithm1.21.21.m1.3.4.1.cmml" xref="algorithm1.21.21.m1.3.4.1">←</ci><apply id="algorithm1.21.21.m1.3.4.2.cmml" xref="algorithm1.21.21.m1.3.4.2"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.3.4.2.1.cmml" xref="algorithm1.21.21.m1.3.4.2">subscript</csymbol><apply id="algorithm1.21.21.m1.3.4.2.2.cmml" xref="algorithm1.21.21.m1.3.4.2"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.3.4.2.2.1.cmml" xref="algorithm1.21.21.m1.3.4.2">superscript</csymbol><ci id="algorithm1.21.21.m1.3.4.2.2.2.cmml" xref="algorithm1.21.21.m1.3.4.2.2.2">𝜃</ci><ci id="algorithm1.21.21.m1.1.1.1.1.cmml" xref="algorithm1.21.21.m1.1.1.1.1">𝑖</ci></apply><ci id="algorithm1.21.21.m1.3.4.2.3.cmml" xref="algorithm1.21.21.m1.3.4.2.3">𝑝</ci></apply><apply id="algorithm1.21.21.m1.3.4.3.cmml" xref="algorithm1.21.21.m1.3.4.3"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.3.4.3.1.cmml" xref="algorithm1.21.21.m1.3.4.3">superscript</csymbol><apply id="algorithm1.21.21.m1.3.4.3.2.cmml" xref="algorithm1.21.21.m1.3.4.3"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.3.4.3.2.1.cmml" xref="algorithm1.21.21.m1.3.4.3">subscript</csymbol><ci id="algorithm1.21.21.m1.3.4.3.2.2.cmml" xref="algorithm1.21.21.m1.3.4.3.2.2">𝜃</ci><ci id="algorithm1.21.21.m1.3.4.3.2.3.cmml" xref="algorithm1.21.21.m1.3.4.3.2.3">𝑠</ci></apply><apply id="algorithm1.21.21.m1.3.3.2.cmml" xref="algorithm1.21.21.m1.3.3.2"><times id="algorithm1.21.21.m1.3.3.2.3.cmml" xref="algorithm1.21.21.m1.3.3.2.3"></times><ci id="algorithm1.21.21.m1.2.2.1.1.cmml" xref="algorithm1.21.21.m1.2.2.1.1">𝑖</ci><ci id="algorithm1.21.21.m1.3.3.2.2.cmml" xref="algorithm1.21.21.m1.3.3.2.2">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.21.m1.3c">\theta^{(i)}_{p}\leftarrow\theta_{s}^{(i)(t)}</annotation></semantics></math>

</div>
<div id="algorithm1.27.40" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end if
</div>
<div id="algorithm1.27.41" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm1.27.42" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="algorithm1.27.43" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm1.27.43.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.43.2" class="ltx_text ltx_font_typewriter">Averaging outer gradients </span>
</div>
<div id="algorithm1.22.22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.22.22.m1.5" class="ltx_Math" alttext="\Delta^{(t)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}(\theta_{s}^{(t-1)}-\theta_{s}^{(i)(t)})" display="inline"><semantics id="algorithm1.22.22.m1.5a"><mrow id="algorithm1.22.22.m1.5.5" xref="algorithm1.22.22.m1.5.5.cmml"><msup id="algorithm1.22.22.m1.5.5.3" xref="algorithm1.22.22.m1.5.5.3.cmml"><mi mathvariant="normal" id="algorithm1.22.22.m1.5.5.3.2" xref="algorithm1.22.22.m1.5.5.3.2.cmml">Δ</mi><mrow id="algorithm1.22.22.m1.1.1.1.3" xref="algorithm1.22.22.m1.5.5.3.cmml"><mo stretchy="false" id="algorithm1.22.22.m1.1.1.1.3.1" xref="algorithm1.22.22.m1.5.5.3.cmml">(</mo><mi id="algorithm1.22.22.m1.1.1.1.1" xref="algorithm1.22.22.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="algorithm1.22.22.m1.1.1.1.3.2" xref="algorithm1.22.22.m1.5.5.3.cmml">)</mo></mrow></msup><mo stretchy="false" id="algorithm1.22.22.m1.5.5.2" xref="algorithm1.22.22.m1.5.5.2.cmml">←</mo><mrow id="algorithm1.22.22.m1.5.5.1" xref="algorithm1.22.22.m1.5.5.1.cmml"><mfrac id="algorithm1.22.22.m1.5.5.1.3" xref="algorithm1.22.22.m1.5.5.1.3.cmml"><mn id="algorithm1.22.22.m1.5.5.1.3.2" xref="algorithm1.22.22.m1.5.5.1.3.2.cmml">1</mn><mi id="algorithm1.22.22.m1.5.5.1.3.3" xref="algorithm1.22.22.m1.5.5.1.3.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.22.22.m1.5.5.1.2" xref="algorithm1.22.22.m1.5.5.1.2.cmml">​</mo><mrow id="algorithm1.22.22.m1.5.5.1.1" xref="algorithm1.22.22.m1.5.5.1.1.cmml"><msubsup id="algorithm1.22.22.m1.5.5.1.1.2" xref="algorithm1.22.22.m1.5.5.1.1.2.cmml"><mo rspace="0em" id="algorithm1.22.22.m1.5.5.1.1.2.2.2" xref="algorithm1.22.22.m1.5.5.1.1.2.2.2.cmml">∑</mo><mrow id="algorithm1.22.22.m1.5.5.1.1.2.2.3" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.cmml"><mi id="algorithm1.22.22.m1.5.5.1.1.2.2.3.2" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.2.cmml">i</mi><mo id="algorithm1.22.22.m1.5.5.1.1.2.2.3.1" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.1.cmml">=</mo><mn id="algorithm1.22.22.m1.5.5.1.1.2.2.3.3" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.22.22.m1.5.5.1.1.2.3" xref="algorithm1.22.22.m1.5.5.1.1.2.3.cmml">N</mi></msubsup><mrow id="algorithm1.22.22.m1.5.5.1.1.1.1" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.22.22.m1.5.5.1.1.1.1.2" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.22.22.m1.5.5.1.1.1.1.1" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.cmml"><msubsup id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.cmml"><mi id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.2" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.2.cmml">θ</mi><mi id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.3" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.3.cmml">s</mi><mrow id="algorithm1.22.22.m1.2.2.1.1" xref="algorithm1.22.22.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="algorithm1.22.22.m1.2.2.1.1.2" xref="algorithm1.22.22.m1.2.2.1.1.1.cmml">(</mo><mrow id="algorithm1.22.22.m1.2.2.1.1.1" xref="algorithm1.22.22.m1.2.2.1.1.1.cmml"><mi id="algorithm1.22.22.m1.2.2.1.1.1.2" xref="algorithm1.22.22.m1.2.2.1.1.1.2.cmml">t</mi><mo id="algorithm1.22.22.m1.2.2.1.1.1.1" xref="algorithm1.22.22.m1.2.2.1.1.1.1.cmml">−</mo><mn id="algorithm1.22.22.m1.2.2.1.1.1.3" xref="algorithm1.22.22.m1.2.2.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="algorithm1.22.22.m1.2.2.1.1.3" xref="algorithm1.22.22.m1.2.2.1.1.1.cmml">)</mo></mrow></msubsup><mo id="algorithm1.22.22.m1.5.5.1.1.1.1.1.1" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.1.cmml">−</mo><msubsup id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.cmml"><mi id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.2" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.2.cmml">θ</mi><mi id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.3" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.3.cmml">s</mi><mrow id="algorithm1.22.22.m1.4.4.2" xref="algorithm1.22.22.m1.4.4.2.cmml"><mrow id="algorithm1.22.22.m1.4.4.2.4.2" xref="algorithm1.22.22.m1.4.4.2.cmml"><mo stretchy="false" id="algorithm1.22.22.m1.4.4.2.4.2.1" xref="algorithm1.22.22.m1.4.4.2.cmml">(</mo><mi id="algorithm1.22.22.m1.3.3.1.1" xref="algorithm1.22.22.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.22.22.m1.4.4.2.4.2.2" xref="algorithm1.22.22.m1.4.4.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="algorithm1.22.22.m1.4.4.2.3" xref="algorithm1.22.22.m1.4.4.2.3.cmml">​</mo><mrow id="algorithm1.22.22.m1.4.4.2.5.2" xref="algorithm1.22.22.m1.4.4.2.cmml"><mo stretchy="false" id="algorithm1.22.22.m1.4.4.2.5.2.1" xref="algorithm1.22.22.m1.4.4.2.cmml">(</mo><mi id="algorithm1.22.22.m1.4.4.2.2" xref="algorithm1.22.22.m1.4.4.2.2.cmml">t</mi><mo stretchy="false" id="algorithm1.22.22.m1.4.4.2.5.2.2" xref="algorithm1.22.22.m1.4.4.2.cmml">)</mo></mrow></mrow></msubsup></mrow><mo stretchy="false" id="algorithm1.22.22.m1.5.5.1.1.1.1.3" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.22.22.m1.5b"><apply id="algorithm1.22.22.m1.5.5.cmml" xref="algorithm1.22.22.m1.5.5"><ci id="algorithm1.22.22.m1.5.5.2.cmml" xref="algorithm1.22.22.m1.5.5.2">←</ci><apply id="algorithm1.22.22.m1.5.5.3.cmml" xref="algorithm1.22.22.m1.5.5.3"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.3.1.cmml" xref="algorithm1.22.22.m1.5.5.3">superscript</csymbol><ci id="algorithm1.22.22.m1.5.5.3.2.cmml" xref="algorithm1.22.22.m1.5.5.3.2">Δ</ci><ci id="algorithm1.22.22.m1.1.1.1.1.cmml" xref="algorithm1.22.22.m1.1.1.1.1">𝑡</ci></apply><apply id="algorithm1.22.22.m1.5.5.1.cmml" xref="algorithm1.22.22.m1.5.5.1"><times id="algorithm1.22.22.m1.5.5.1.2.cmml" xref="algorithm1.22.22.m1.5.5.1.2"></times><apply id="algorithm1.22.22.m1.5.5.1.3.cmml" xref="algorithm1.22.22.m1.5.5.1.3"><divide id="algorithm1.22.22.m1.5.5.1.3.1.cmml" xref="algorithm1.22.22.m1.5.5.1.3"></divide><cn type="integer" id="algorithm1.22.22.m1.5.5.1.3.2.cmml" xref="algorithm1.22.22.m1.5.5.1.3.2">1</cn><ci id="algorithm1.22.22.m1.5.5.1.3.3.cmml" xref="algorithm1.22.22.m1.5.5.1.3.3">𝑁</ci></apply><apply id="algorithm1.22.22.m1.5.5.1.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1"><apply id="algorithm1.22.22.m1.5.5.1.1.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.2.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2">superscript</csymbol><apply id="algorithm1.22.22.m1.5.5.1.1.2.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.2.2.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2">subscript</csymbol><sum id="algorithm1.22.22.m1.5.5.1.1.2.2.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.2.2"></sum><apply id="algorithm1.22.22.m1.5.5.1.1.2.2.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3"><eq id="algorithm1.22.22.m1.5.5.1.1.2.2.3.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.1"></eq><ci id="algorithm1.22.22.m1.5.5.1.1.2.2.3.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="algorithm1.22.22.m1.5.5.1.1.2.2.3.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.2.3.3">1</cn></apply></apply><ci id="algorithm1.22.22.m1.5.5.1.1.2.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.2.3">𝑁</ci></apply><apply id="algorithm1.22.22.m1.5.5.1.1.1.1.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1"><minus id="algorithm1.22.22.m1.5.5.1.1.1.1.1.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.1"></minus><apply id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2">superscript</csymbol><apply id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2">subscript</csymbol><ci id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.2">𝜃</ci><ci id="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.2.2.3">𝑠</ci></apply><apply id="algorithm1.22.22.m1.2.2.1.1.1.cmml" xref="algorithm1.22.22.m1.2.2.1.1"><minus id="algorithm1.22.22.m1.2.2.1.1.1.1.cmml" xref="algorithm1.22.22.m1.2.2.1.1.1.1"></minus><ci id="algorithm1.22.22.m1.2.2.1.1.1.2.cmml" xref="algorithm1.22.22.m1.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="algorithm1.22.22.m1.2.2.1.1.1.3.cmml" xref="algorithm1.22.22.m1.2.2.1.1.1.3">1</cn></apply></apply><apply id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3">superscript</csymbol><apply id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.1.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.2.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.2">𝜃</ci><ci id="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.3.cmml" xref="algorithm1.22.22.m1.5.5.1.1.1.1.1.3.2.3">𝑠</ci></apply><apply id="algorithm1.22.22.m1.4.4.2.cmml" xref="algorithm1.22.22.m1.4.4.2"><times id="algorithm1.22.22.m1.4.4.2.3.cmml" xref="algorithm1.22.22.m1.4.4.2.3"></times><ci id="algorithm1.22.22.m1.3.3.1.1.cmml" xref="algorithm1.22.22.m1.3.3.1.1">𝑖</ci><ci id="algorithm1.22.22.m1.4.4.2.2.cmml" xref="algorithm1.22.22.m1.4.4.2.2">𝑡</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.22.22.m1.5c">\Delta^{(t)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}(\theta_{s}^{(t-1)}-\theta_{s}^{(i)(t)})</annotation></semantics></math> 
</div>
<div id="algorithm1.27.44" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.27.44.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.44.2" class="ltx_text ltx_font_typewriter">Outer optimization </span>
</div>
<div id="algorithm1.23.23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.23.23.m1.5" class="ltx_Math" alttext="\theta_{s}^{(t)}\leftarrow\text{OuterOpt}(\theta_{s}^{(t-1)},\Delta^{(t)})" display="inline"><semantics id="algorithm1.23.23.m1.5a"><mrow id="algorithm1.23.23.m1.5.5" xref="algorithm1.23.23.m1.5.5.cmml"><msubsup id="algorithm1.23.23.m1.5.5.4" xref="algorithm1.23.23.m1.5.5.4.cmml"><mi id="algorithm1.23.23.m1.5.5.4.2.2" xref="algorithm1.23.23.m1.5.5.4.2.2.cmml">θ</mi><mi id="algorithm1.23.23.m1.5.5.4.2.3" xref="algorithm1.23.23.m1.5.5.4.2.3.cmml">s</mi><mrow id="algorithm1.23.23.m1.1.1.1.3" xref="algorithm1.23.23.m1.5.5.4.cmml"><mo stretchy="false" id="algorithm1.23.23.m1.1.1.1.3.1" xref="algorithm1.23.23.m1.5.5.4.cmml">(</mo><mi id="algorithm1.23.23.m1.1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="algorithm1.23.23.m1.1.1.1.3.2" xref="algorithm1.23.23.m1.5.5.4.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="algorithm1.23.23.m1.5.5.3" xref="algorithm1.23.23.m1.5.5.3.cmml">←</mo><mrow id="algorithm1.23.23.m1.5.5.2" xref="algorithm1.23.23.m1.5.5.2.cmml"><mtext id="algorithm1.23.23.m1.5.5.2.4" xref="algorithm1.23.23.m1.5.5.2.4a.cmml">OuterOpt</mtext><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.5.5.2.3" xref="algorithm1.23.23.m1.5.5.2.3.cmml">​</mo><mrow id="algorithm1.23.23.m1.5.5.2.2.2" xref="algorithm1.23.23.m1.5.5.2.2.3.cmml"><mo stretchy="false" id="algorithm1.23.23.m1.5.5.2.2.2.3" xref="algorithm1.23.23.m1.5.5.2.2.3.cmml">(</mo><msubsup id="algorithm1.23.23.m1.4.4.1.1.1.1" xref="algorithm1.23.23.m1.4.4.1.1.1.1.cmml"><mi id="algorithm1.23.23.m1.4.4.1.1.1.1.2.2" xref="algorithm1.23.23.m1.4.4.1.1.1.1.2.2.cmml">θ</mi><mi id="algorithm1.23.23.m1.4.4.1.1.1.1.2.3" xref="algorithm1.23.23.m1.4.4.1.1.1.1.2.3.cmml">s</mi><mrow id="algorithm1.23.23.m1.2.2.1.1" xref="algorithm1.23.23.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="algorithm1.23.23.m1.2.2.1.1.2" xref="algorithm1.23.23.m1.2.2.1.1.1.cmml">(</mo><mrow id="algorithm1.23.23.m1.2.2.1.1.1" xref="algorithm1.23.23.m1.2.2.1.1.1.cmml"><mi id="algorithm1.23.23.m1.2.2.1.1.1.2" xref="algorithm1.23.23.m1.2.2.1.1.1.2.cmml">t</mi><mo id="algorithm1.23.23.m1.2.2.1.1.1.1" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">−</mo><mn id="algorithm1.23.23.m1.2.2.1.1.1.3" xref="algorithm1.23.23.m1.2.2.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="algorithm1.23.23.m1.2.2.1.1.3" xref="algorithm1.23.23.m1.2.2.1.1.1.cmml">)</mo></mrow></msubsup><mo id="algorithm1.23.23.m1.5.5.2.2.2.4" xref="algorithm1.23.23.m1.5.5.2.2.3.cmml">,</mo><msup id="algorithm1.23.23.m1.5.5.2.2.2.2" xref="algorithm1.23.23.m1.5.5.2.2.2.2.cmml"><mi mathvariant="normal" id="algorithm1.23.23.m1.5.5.2.2.2.2.2" xref="algorithm1.23.23.m1.5.5.2.2.2.2.2.cmml">Δ</mi><mrow id="algorithm1.23.23.m1.3.3.1.3" xref="algorithm1.23.23.m1.5.5.2.2.2.2.cmml"><mo stretchy="false" id="algorithm1.23.23.m1.3.3.1.3.1" xref="algorithm1.23.23.m1.5.5.2.2.2.2.cmml">(</mo><mi id="algorithm1.23.23.m1.3.3.1.1" xref="algorithm1.23.23.m1.3.3.1.1.cmml">t</mi><mo stretchy="false" id="algorithm1.23.23.m1.3.3.1.3.2" xref="algorithm1.23.23.m1.5.5.2.2.2.2.cmml">)</mo></mrow></msup><mo stretchy="false" id="algorithm1.23.23.m1.5.5.2.2.2.5" xref="algorithm1.23.23.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.23.23.m1.5b"><apply id="algorithm1.23.23.m1.5.5.cmml" xref="algorithm1.23.23.m1.5.5"><ci id="algorithm1.23.23.m1.5.5.3.cmml" xref="algorithm1.23.23.m1.5.5.3">←</ci><apply id="algorithm1.23.23.m1.5.5.4.cmml" xref="algorithm1.23.23.m1.5.5.4"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.5.5.4.1.cmml" xref="algorithm1.23.23.m1.5.5.4">superscript</csymbol><apply id="algorithm1.23.23.m1.5.5.4.2.cmml" xref="algorithm1.23.23.m1.5.5.4"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.5.5.4.2.1.cmml" xref="algorithm1.23.23.m1.5.5.4">subscript</csymbol><ci id="algorithm1.23.23.m1.5.5.4.2.2.cmml" xref="algorithm1.23.23.m1.5.5.4.2.2">𝜃</ci><ci id="algorithm1.23.23.m1.5.5.4.2.3.cmml" xref="algorithm1.23.23.m1.5.5.4.2.3">𝑠</ci></apply><ci id="algorithm1.23.23.m1.1.1.1.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1">𝑡</ci></apply><apply id="algorithm1.23.23.m1.5.5.2.cmml" xref="algorithm1.23.23.m1.5.5.2"><times id="algorithm1.23.23.m1.5.5.2.3.cmml" xref="algorithm1.23.23.m1.5.5.2.3"></times><ci id="algorithm1.23.23.m1.5.5.2.4a.cmml" xref="algorithm1.23.23.m1.5.5.2.4"><mtext id="algorithm1.23.23.m1.5.5.2.4.cmml" xref="algorithm1.23.23.m1.5.5.2.4">OuterOpt</mtext></ci><interval closure="open" id="algorithm1.23.23.m1.5.5.2.2.3.cmml" xref="algorithm1.23.23.m1.5.5.2.2.2"><apply id="algorithm1.23.23.m1.4.4.1.1.1.1.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.4.4.1.1.1.1.1.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1">superscript</csymbol><apply id="algorithm1.23.23.m1.4.4.1.1.1.1.2.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.4.4.1.1.1.1.2.1.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1">subscript</csymbol><ci id="algorithm1.23.23.m1.4.4.1.1.1.1.2.2.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1.2.2">𝜃</ci><ci id="algorithm1.23.23.m1.4.4.1.1.1.1.2.3.cmml" xref="algorithm1.23.23.m1.4.4.1.1.1.1.2.3">𝑠</ci></apply><apply id="algorithm1.23.23.m1.2.2.1.1.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1"><minus id="algorithm1.23.23.m1.2.2.1.1.1.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.1"></minus><ci id="algorithm1.23.23.m1.2.2.1.1.1.2.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="algorithm1.23.23.m1.2.2.1.1.1.3.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.3">1</cn></apply></apply><apply id="algorithm1.23.23.m1.5.5.2.2.2.2.cmml" xref="algorithm1.23.23.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.5.5.2.2.2.2.1.cmml" xref="algorithm1.23.23.m1.5.5.2.2.2.2">superscript</csymbol><ci id="algorithm1.23.23.m1.5.5.2.2.2.2.2.cmml" xref="algorithm1.23.23.m1.5.5.2.2.2.2.2">Δ</ci><ci id="algorithm1.23.23.m1.3.3.1.1.cmml" xref="algorithm1.23.23.m1.3.3.1.1">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.23.23.m1.5c">\theta_{s}^{(t)}\leftarrow\text{OuterOpt}(\theta_{s}^{(t-1)},\Delta^{(t)})</annotation></semantics></math> 
</div>
<div id="algorithm1.27.45" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm1.27.46" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span> end for
</div>
<div id="algorithm1.27.47" class="ltx_listingline">
<span id="algorithm1.27.47.1" class="ltx_text ltx_font_typewriter">// </span><span id="algorithm1.27.47.2" class="ltx_text ltx_font_typewriter">Stage 3. Adaptive fusion function </span>
</div>
<div id="algorithm1.27.48" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span>
<span id="algorithm1.27.48.1" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.27.48.2" class="ltx_emph ltx_font_italic">client i = 1, …, N</em> <span id="algorithm1.27.48.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.26.26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">24</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.24.24.m1.1" class="ltx_Math" alttext="\mathbf{w}^{(i)}" display="inline"><semantics id="algorithm1.24.24.m1.1a"><msup id="algorithm1.24.24.m1.1.2" xref="algorithm1.24.24.m1.1.2.cmml"><mi id="algorithm1.24.24.m1.1.2.2" xref="algorithm1.24.24.m1.1.2.2.cmml">𝐰</mi><mrow id="algorithm1.24.24.m1.1.1.1.3" xref="algorithm1.24.24.m1.1.2.cmml"><mo stretchy="false" id="algorithm1.24.24.m1.1.1.1.3.1" xref="algorithm1.24.24.m1.1.2.cmml">(</mo><mi id="algorithm1.24.24.m1.1.1.1.1" xref="algorithm1.24.24.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.24.24.m1.1.1.1.3.2" xref="algorithm1.24.24.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="algorithm1.24.24.m1.1b"><apply id="algorithm1.24.24.m1.1.2.cmml" xref="algorithm1.24.24.m1.1.2"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.2.1.cmml" xref="algorithm1.24.24.m1.1.2">superscript</csymbol><ci id="algorithm1.24.24.m1.1.2.2.cmml" xref="algorithm1.24.24.m1.1.2.2">𝐰</ci><ci id="algorithm1.24.24.m1.1.1.1.1.cmml" xref="algorithm1.24.24.m1.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.24.24.m1.1c">\mathbf{w}^{(i)}</annotation></semantics></math> <math id="algorithm1.25.25.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algorithm1.25.25.m2.1a"><mo stretchy="false" id="algorithm1.25.25.m2.1.1" xref="algorithm1.25.25.m2.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="algorithm1.25.25.m2.1b"><ci id="algorithm1.25.25.m2.1.1.cmml" xref="algorithm1.25.25.m2.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.25.25.m2.1c">\leftarrow</annotation></semantics></math> FusionOpt(<math id="algorithm1.26.26.m3.4" class="ltx_Math" alttext="\theta_{p}^{(i)},\mathbf{w^{(i)}}" display="inline"><semantics id="algorithm1.26.26.m3.4a"><mrow id="algorithm1.26.26.m3.4.4.2" xref="algorithm1.26.26.m3.4.4.3.cmml"><msubsup id="algorithm1.26.26.m3.3.3.1.1" xref="algorithm1.26.26.m3.3.3.1.1.cmml"><mi id="algorithm1.26.26.m3.3.3.1.1.2.2" xref="algorithm1.26.26.m3.3.3.1.1.2.2.cmml">θ</mi><mi id="algorithm1.26.26.m3.3.3.1.1.2.3" xref="algorithm1.26.26.m3.3.3.1.1.2.3.cmml">p</mi><mrow id="algorithm1.26.26.m3.1.1.1.3" xref="algorithm1.26.26.m3.3.3.1.1.cmml"><mo stretchy="false" id="algorithm1.26.26.m3.1.1.1.3.1" xref="algorithm1.26.26.m3.3.3.1.1.cmml">(</mo><mi id="algorithm1.26.26.m3.1.1.1.1" xref="algorithm1.26.26.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="algorithm1.26.26.m3.1.1.1.3.2" xref="algorithm1.26.26.m3.3.3.1.1.cmml">)</mo></mrow></msubsup><mo id="algorithm1.26.26.m3.4.4.2.3" xref="algorithm1.26.26.m3.4.4.3.cmml">,</mo><msup id="algorithm1.26.26.m3.4.4.2.2" xref="algorithm1.26.26.m3.4.4.2.2.cmml"><mi id="algorithm1.26.26.m3.4.4.2.2.2" xref="algorithm1.26.26.m3.4.4.2.2.2.cmml">𝐰</mi><mrow id="algorithm1.26.26.m3.2.2.1.3" xref="algorithm1.26.26.m3.4.4.2.2.cmml"><mo stretchy="false" id="algorithm1.26.26.m3.2.2.1.3.1" xref="algorithm1.26.26.m3.4.4.2.2.cmml">(</mo><mi id="algorithm1.26.26.m3.2.2.1.1" xref="algorithm1.26.26.m3.2.2.1.1.cmml">𝐢</mi><mo stretchy="false" id="algorithm1.26.26.m3.2.2.1.3.2" xref="algorithm1.26.26.m3.4.4.2.2.cmml">)</mo></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.26.26.m3.4b"><list id="algorithm1.26.26.m3.4.4.3.cmml" xref="algorithm1.26.26.m3.4.4.2"><apply id="algorithm1.26.26.m3.3.3.1.1.cmml" xref="algorithm1.26.26.m3.3.3.1.1"><csymbol cd="ambiguous" id="algorithm1.26.26.m3.3.3.1.1.1.cmml" xref="algorithm1.26.26.m3.3.3.1.1">superscript</csymbol><apply id="algorithm1.26.26.m3.3.3.1.1.2.cmml" xref="algorithm1.26.26.m3.3.3.1.1"><csymbol cd="ambiguous" id="algorithm1.26.26.m3.3.3.1.1.2.1.cmml" xref="algorithm1.26.26.m3.3.3.1.1">subscript</csymbol><ci id="algorithm1.26.26.m3.3.3.1.1.2.2.cmml" xref="algorithm1.26.26.m3.3.3.1.1.2.2">𝜃</ci><ci id="algorithm1.26.26.m3.3.3.1.1.2.3.cmml" xref="algorithm1.26.26.m3.3.3.1.1.2.3">𝑝</ci></apply><ci id="algorithm1.26.26.m3.1.1.1.1.cmml" xref="algorithm1.26.26.m3.1.1.1.1">𝑖</ci></apply><apply id="algorithm1.26.26.m3.4.4.2.2.cmml" xref="algorithm1.26.26.m3.4.4.2.2"><csymbol cd="ambiguous" id="algorithm1.26.26.m3.4.4.2.2.1.cmml" xref="algorithm1.26.26.m3.4.4.2.2">superscript</csymbol><ci id="algorithm1.26.26.m3.4.4.2.2.2.cmml" xref="algorithm1.26.26.m3.4.4.2.2.2">𝐰</ci><ci id="algorithm1.26.26.m3.2.2.1.1.cmml" xref="algorithm1.26.26.m3.2.2.1.1">𝐢</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.26.26.m3.4c">\theta_{p}^{(i)},\mathbf{w^{(i)}}</annotation></semantics></math>) 
</div>
<div id="algorithm1.27.49" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">25</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm1.27.50" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">26</span> end for
</div>
<div id="algorithm1.27.51" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">27</span>
</div>
<div id="algorithm1.27.27" class="ltx_listingline">
<span id="algorithm1.27.27.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm1.27.27.m1.3" class="ltx_Math" alttext="\theta_{s},\theta_{p},\mathbf{w}" display="inline"><semantics id="algorithm1.27.27.m1.3a"><mrow id="algorithm1.27.27.m1.3.3.2" xref="algorithm1.27.27.m1.3.3.3.cmml"><msub id="algorithm1.27.27.m1.2.2.1.1" xref="algorithm1.27.27.m1.2.2.1.1.cmml"><mi id="algorithm1.27.27.m1.2.2.1.1.2" xref="algorithm1.27.27.m1.2.2.1.1.2.cmml">θ</mi><mi id="algorithm1.27.27.m1.2.2.1.1.3" xref="algorithm1.27.27.m1.2.2.1.1.3.cmml">s</mi></msub><mo id="algorithm1.27.27.m1.3.3.2.3" xref="algorithm1.27.27.m1.3.3.3.cmml">,</mo><msub id="algorithm1.27.27.m1.3.3.2.2" xref="algorithm1.27.27.m1.3.3.2.2.cmml"><mi id="algorithm1.27.27.m1.3.3.2.2.2" xref="algorithm1.27.27.m1.3.3.2.2.2.cmml">θ</mi><mi id="algorithm1.27.27.m1.3.3.2.2.3" xref="algorithm1.27.27.m1.3.3.2.2.3.cmml">p</mi></msub><mo id="algorithm1.27.27.m1.3.3.2.4" xref="algorithm1.27.27.m1.3.3.3.cmml">,</mo><mi id="algorithm1.27.27.m1.1.1" xref="algorithm1.27.27.m1.1.1.cmml">𝐰</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.27.27.m1.3b"><list id="algorithm1.27.27.m1.3.3.3.cmml" xref="algorithm1.27.27.m1.3.3.2"><apply id="algorithm1.27.27.m1.2.2.1.1.cmml" xref="algorithm1.27.27.m1.2.2.1.1"><csymbol cd="ambiguous" id="algorithm1.27.27.m1.2.2.1.1.1.cmml" xref="algorithm1.27.27.m1.2.2.1.1">subscript</csymbol><ci id="algorithm1.27.27.m1.2.2.1.1.2.cmml" xref="algorithm1.27.27.m1.2.2.1.1.2">𝜃</ci><ci id="algorithm1.27.27.m1.2.2.1.1.3.cmml" xref="algorithm1.27.27.m1.2.2.1.1.3">𝑠</ci></apply><apply id="algorithm1.27.27.m1.3.3.2.2.cmml" xref="algorithm1.27.27.m1.3.3.2.2"><csymbol cd="ambiguous" id="algorithm1.27.27.m1.3.3.2.2.1.cmml" xref="algorithm1.27.27.m1.3.3.2.2">subscript</csymbol><ci id="algorithm1.27.27.m1.3.3.2.2.2.cmml" xref="algorithm1.27.27.m1.3.3.2.2.2">𝜃</ci><ci id="algorithm1.27.27.m1.3.3.2.2.3.cmml" xref="algorithm1.27.27.m1.3.3.2.2.3">𝑝</ci></apply><ci id="algorithm1.27.27.m1.1.1.cmml" xref="algorithm1.27.27.m1.1.1">𝐰</ci></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.27.27.m1.3c">\theta_{s},\theta_{p},\mathbf{w}</annotation></semantics></math>

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.30.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span><span id="algorithm1.31.2" class="ltx_text">FDLoRA</span> Training Algorithm</figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Local Learning</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.3" class="ltx_p">First, we start from the basic model, which can be initialized with pretrained LLM, such as LLaMA2 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2023</a>)</cite> and ChatGLM <cite class="ltx_cite ltx_citemacro_citep">(Du et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2022</a>; Zeng et al<span class="ltx_text">.</span>, <a href="#bib.bib53" title="" class="ltx_ref">2022</a>)</cite>. We assume that there are <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">N</annotation></semantics></math> clients, each capable of training a model replica, and <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mi id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">N</annotation></semantics></math> shards of data with one for each worker. Then, we initialize personalized LoRA with parameters <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="\theta_{p}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">θ</mi><mi id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝜃</ci><ci id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">\theta_{p}</annotation></semantics></math>, and utilize SFT to capture knowledge from local private data (<span id="S3.SS3.p1.3.1" class="ltx_text ltx_font_italic">Algorithm</span> <a href="#algorithm1" title="In 3.2. Framework Overview ‣ 3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <span id="S3.SS3.p1.3.2" class="ltx_text ltx_font_italic">line 1-6</span>). We formulate this process in each client as follows:</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.5" class="ltx_Math" alttext="\theta^{(i)}_{p}\leftarrow SFT(f(B;(\Theta,\theta^{(i)}_{p})))" display="block"><semantics id="S3.E5.m1.5a"><mrow id="S3.E5.m1.5.5" xref="S3.E5.m1.5.5.cmml"><msubsup id="S3.E5.m1.5.5.3" xref="S3.E5.m1.5.5.3.cmml"><mi id="S3.E5.m1.5.5.3.2.2" xref="S3.E5.m1.5.5.3.2.2.cmml">θ</mi><mi id="S3.E5.m1.5.5.3.3" xref="S3.E5.m1.5.5.3.3.cmml">p</mi><mrow id="S3.E5.m1.1.1.1.3" xref="S3.E5.m1.5.5.3.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.3.1" xref="S3.E5.m1.5.5.3.cmml">(</mo><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E5.m1.1.1.1.3.2" xref="S3.E5.m1.5.5.3.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.E5.m1.5.5.2" xref="S3.E5.m1.5.5.2.cmml">←</mo><mrow id="S3.E5.m1.5.5.1" xref="S3.E5.m1.5.5.1.cmml"><mi id="S3.E5.m1.5.5.1.3" xref="S3.E5.m1.5.5.1.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.1.2" xref="S3.E5.m1.5.5.1.2.cmml">​</mo><mi id="S3.E5.m1.5.5.1.4" xref="S3.E5.m1.5.5.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.1.2a" xref="S3.E5.m1.5.5.1.2.cmml">​</mo><mi id="S3.E5.m1.5.5.1.5" xref="S3.E5.m1.5.5.1.5.cmml">T</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.1.2b" xref="S3.E5.m1.5.5.1.2.cmml">​</mo><mrow id="S3.E5.m1.5.5.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.5.5.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.cmml"><mi id="S3.E5.m1.5.5.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E5.m1.4.4" xref="S3.E5.m1.4.4.cmml">B</mi><mo id="S3.E5.m1.5.5.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.2.cmml">;</mo><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.2.cmml">(</mo><mi mathvariant="normal" id="S3.E5.m1.3.3" xref="S3.E5.m1.3.3.cmml">Θ</mi><mo id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.2.cmml">,</mo><msubsup id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">p</mi><mrow id="S3.E5.m1.2.2.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.1.3.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E5.m1.2.2.1.1" xref="S3.E5.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.E5.m1.2.2.1.3.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.4" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.2.cmml">)</mo></mrow><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.4" xref="S3.E5.m1.5.5.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.5b"><apply id="S3.E5.m1.5.5.cmml" xref="S3.E5.m1.5.5"><ci id="S3.E5.m1.5.5.2.cmml" xref="S3.E5.m1.5.5.2">←</ci><apply id="S3.E5.m1.5.5.3.cmml" xref="S3.E5.m1.5.5.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.3.1.cmml" xref="S3.E5.m1.5.5.3">subscript</csymbol><apply id="S3.E5.m1.5.5.3.2.cmml" xref="S3.E5.m1.5.5.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.3.2.1.cmml" xref="S3.E5.m1.5.5.3">superscript</csymbol><ci id="S3.E5.m1.5.5.3.2.2.cmml" xref="S3.E5.m1.5.5.3.2.2">𝜃</ci><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑖</ci></apply><ci id="S3.E5.m1.5.5.3.3.cmml" xref="S3.E5.m1.5.5.3.3">𝑝</ci></apply><apply id="S3.E5.m1.5.5.1.cmml" xref="S3.E5.m1.5.5.1"><times id="S3.E5.m1.5.5.1.2.cmml" xref="S3.E5.m1.5.5.1.2"></times><ci id="S3.E5.m1.5.5.1.3.cmml" xref="S3.E5.m1.5.5.1.3">𝑆</ci><ci id="S3.E5.m1.5.5.1.4.cmml" xref="S3.E5.m1.5.5.1.4">𝐹</ci><ci id="S3.E5.m1.5.5.1.5.cmml" xref="S3.E5.m1.5.5.1.5">𝑇</ci><apply id="S3.E5.m1.5.5.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1"><times id="S3.E5.m1.5.5.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.2"></times><ci id="S3.E5.m1.5.5.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.3">𝑓</ci><list id="S3.E5.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1"><ci id="S3.E5.m1.4.4.cmml" xref="S3.E5.m1.4.4">𝐵</ci><interval closure="open" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1"><ci id="S3.E5.m1.3.3.cmml" xref="S3.E5.m1.3.3">Θ</ci><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="S3.E5.m1.2.2.1.1.cmml" xref="S3.E5.m1.2.2.1.1">𝑖</ci></apply><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3">𝑝</ci></apply></interval></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.5c">\theta^{(i)}_{p}\leftarrow SFT(f(B;(\Theta,\theta^{(i)}_{p})))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.3" class="ltx_p">where <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="1\leq i\leq N" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><mrow id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mn id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml">1</mn><mo id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">≤</mo><mi id="S3.SS3.p3.1.m1.1.1.4" xref="S3.SS3.p3.1.m1.1.1.4.cmml">i</mi><mo id="S3.SS3.p3.1.m1.1.1.5" xref="S3.SS3.p3.1.m1.1.1.5.cmml">≤</mo><mi id="S3.SS3.p3.1.m1.1.1.6" xref="S3.SS3.p3.1.m1.1.1.6.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><and id="S3.SS3.p3.1.m1.1.1a.cmml" xref="S3.SS3.p3.1.m1.1.1"></and><apply id="S3.SS3.p3.1.m1.1.1b.cmml" xref="S3.SS3.p3.1.m1.1.1"><leq id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3"></leq><cn type="integer" id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2">1</cn><ci id="S3.SS3.p3.1.m1.1.1.4.cmml" xref="S3.SS3.p3.1.m1.1.1.4">𝑖</ci></apply><apply id="S3.SS3.p3.1.m1.1.1c.cmml" xref="S3.SS3.p3.1.m1.1.1"><leq id="S3.SS3.p3.1.m1.1.1.5.cmml" xref="S3.SS3.p3.1.m1.1.1.5"></leq><share href="#S3.SS3.p3.1.m1.1.1.4.cmml" id="S3.SS3.p3.1.m1.1.1d.cmml" xref="S3.SS3.p3.1.m1.1.1"></share><ci id="S3.SS3.p3.1.m1.1.1.6.cmml" xref="S3.SS3.p3.1.m1.1.1.6">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">1\leq i\leq N</annotation></semantics></math> and <math id="S3.SS3.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS3.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">\mathcal{B}</annotation></semantics></math> is randomly sample batch data from <math id="S3.SS3.p3.3.m3.1" class="ltx_Math" alttext="D^{(i)}" display="inline"><semantics id="S3.SS3.p3.3.m3.1a"><msup id="S3.SS3.p3.3.m3.1.2" xref="S3.SS3.p3.3.m3.1.2.cmml"><mi id="S3.SS3.p3.3.m3.1.2.2" xref="S3.SS3.p3.3.m3.1.2.2.cmml">D</mi><mrow id="S3.SS3.p3.3.m3.1.1.1.3" xref="S3.SS3.p3.3.m3.1.2.cmml"><mo stretchy="false" id="S3.SS3.p3.3.m3.1.1.1.3.1" xref="S3.SS3.p3.3.m3.1.2.cmml">(</mo><mi id="S3.SS3.p3.3.m3.1.1.1.1" xref="S3.SS3.p3.3.m3.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.p3.3.m3.1.1.1.3.2" xref="S3.SS3.p3.3.m3.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><apply id="S3.SS3.p3.3.m3.1.2.cmml" xref="S3.SS3.p3.3.m3.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.1.2.1.cmml" xref="S3.SS3.p3.3.m3.1.2">superscript</csymbol><ci id="S3.SS3.p3.3.m3.1.2.2.cmml" xref="S3.SS3.p3.3.m3.1.2.2">𝐷</ci><ci id="S3.SS3.p3.3.m3.1.1.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">D^{(i)}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<p id="S3.SS3.p4.2" class="ltx_p">Finally, the average of all clients <math id="S3.SS3.p4.1.m1.1" class="ltx_Math" alttext="\theta_{p}^{(i)}" display="inline"><semantics id="S3.SS3.p4.1.m1.1a"><msubsup id="S3.SS3.p4.1.m1.1.2" xref="S3.SS3.p4.1.m1.1.2.cmml"><mi id="S3.SS3.p4.1.m1.1.2.2.2" xref="S3.SS3.p4.1.m1.1.2.2.2.cmml">θ</mi><mi id="S3.SS3.p4.1.m1.1.2.2.3" xref="S3.SS3.p4.1.m1.1.2.2.3.cmml">p</mi><mrow id="S3.SS3.p4.1.m1.1.1.1.3" xref="S3.SS3.p4.1.m1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.1.m1.1.1.1.3.1" xref="S3.SS3.p4.1.m1.1.2.cmml">(</mo><mi id="S3.SS3.p4.1.m1.1.1.1.1" xref="S3.SS3.p4.1.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.p4.1.m1.1.1.1.3.2" xref="S3.SS3.p4.1.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><apply id="S3.SS3.p4.1.m1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.2.1.cmml" xref="S3.SS3.p4.1.m1.1.2">superscript</csymbol><apply id="S3.SS3.p4.1.m1.1.2.2.cmml" xref="S3.SS3.p4.1.m1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.2.2.1.cmml" xref="S3.SS3.p4.1.m1.1.2">subscript</csymbol><ci id="S3.SS3.p4.1.m1.1.2.2.2.cmml" xref="S3.SS3.p4.1.m1.1.2.2.2">𝜃</ci><ci id="S3.SS3.p4.1.m1.1.2.2.3.cmml" xref="S3.SS3.p4.1.m1.1.2.2.3">𝑝</ci></apply><ci id="S3.SS3.p4.1.m1.1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">\theta_{p}^{(i)}</annotation></semantics></math> is used to initialize the global LoRA parameters <math id="S3.SS3.p4.2.m2.1" class="ltx_Math" alttext="\theta_{s}" display="inline"><semantics id="S3.SS3.p4.2.m2.1a"><msub id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml">θ</mi><mi id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2">𝜃</ci><ci id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">\theta_{s}</annotation></semantics></math> for the subsequent federated learning process (in line 7), which could reduce the computational cost in the first round. This process is formulated as follows:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.2" class="ltx_Math" alttext="\theta_{s}^{(0)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}\theta^{(i)}_{p}" display="block"><semantics id="S3.E6.m1.2a"><mrow id="S3.E6.m1.2.3" xref="S3.E6.m1.2.3.cmml"><msubsup id="S3.E6.m1.2.3.2" xref="S3.E6.m1.2.3.2.cmml"><mi id="S3.E6.m1.2.3.2.2.2" xref="S3.E6.m1.2.3.2.2.2.cmml">θ</mi><mi id="S3.E6.m1.2.3.2.2.3" xref="S3.E6.m1.2.3.2.2.3.cmml">s</mi><mrow id="S3.E6.m1.1.1.1.3" xref="S3.E6.m1.2.3.2.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.3.1" xref="S3.E6.m1.2.3.2.cmml">(</mo><mn id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">0</mn><mo stretchy="false" id="S3.E6.m1.1.1.1.3.2" xref="S3.E6.m1.2.3.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.E6.m1.2.3.1" xref="S3.E6.m1.2.3.1.cmml">←</mo><mrow id="S3.E6.m1.2.3.3" xref="S3.E6.m1.2.3.3.cmml"><mfrac id="S3.E6.m1.2.3.3.2" xref="S3.E6.m1.2.3.3.2.cmml"><mn id="S3.E6.m1.2.3.3.2.2" xref="S3.E6.m1.2.3.3.2.2.cmml">1</mn><mi id="S3.E6.m1.2.3.3.2.3" xref="S3.E6.m1.2.3.3.2.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.3.3.1" xref="S3.E6.m1.2.3.3.1.cmml">​</mo><mrow id="S3.E6.m1.2.3.3.3" xref="S3.E6.m1.2.3.3.3.cmml"><munderover id="S3.E6.m1.2.3.3.3.1" xref="S3.E6.m1.2.3.3.3.1.cmml"><mo movablelimits="false" id="S3.E6.m1.2.3.3.3.1.2.2" xref="S3.E6.m1.2.3.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E6.m1.2.3.3.3.1.2.3" xref="S3.E6.m1.2.3.3.3.1.2.3.cmml"><mi id="S3.E6.m1.2.3.3.3.1.2.3.2" xref="S3.E6.m1.2.3.3.3.1.2.3.2.cmml">i</mi><mo id="S3.E6.m1.2.3.3.3.1.2.3.1" xref="S3.E6.m1.2.3.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E6.m1.2.3.3.3.1.2.3.3" xref="S3.E6.m1.2.3.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E6.m1.2.3.3.3.1.3" xref="S3.E6.m1.2.3.3.3.1.3.cmml">N</mi></munderover><msubsup id="S3.E6.m1.2.3.3.3.2" xref="S3.E6.m1.2.3.3.3.2.cmml"><mi id="S3.E6.m1.2.3.3.3.2.2.2" xref="S3.E6.m1.2.3.3.3.2.2.2.cmml">θ</mi><mi id="S3.E6.m1.2.3.3.3.2.3" xref="S3.E6.m1.2.3.3.3.2.3.cmml">p</mi><mrow id="S3.E6.m1.2.2.1.3" xref="S3.E6.m1.2.3.3.3.2.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.1.3.1" xref="S3.E6.m1.2.3.3.3.2.cmml">(</mo><mi id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.E6.m1.2.2.1.3.2" xref="S3.E6.m1.2.3.3.3.2.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.2b"><apply id="S3.E6.m1.2.3.cmml" xref="S3.E6.m1.2.3"><ci id="S3.E6.m1.2.3.1.cmml" xref="S3.E6.m1.2.3.1">←</ci><apply id="S3.E6.m1.2.3.2.cmml" xref="S3.E6.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.2.1.cmml" xref="S3.E6.m1.2.3.2">superscript</csymbol><apply id="S3.E6.m1.2.3.2.2.cmml" xref="S3.E6.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.2.2.1.cmml" xref="S3.E6.m1.2.3.2">subscript</csymbol><ci id="S3.E6.m1.2.3.2.2.2.cmml" xref="S3.E6.m1.2.3.2.2.2">𝜃</ci><ci id="S3.E6.m1.2.3.2.2.3.cmml" xref="S3.E6.m1.2.3.2.2.3">𝑠</ci></apply><cn type="integer" id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">0</cn></apply><apply id="S3.E6.m1.2.3.3.cmml" xref="S3.E6.m1.2.3.3"><times id="S3.E6.m1.2.3.3.1.cmml" xref="S3.E6.m1.2.3.3.1"></times><apply id="S3.E6.m1.2.3.3.2.cmml" xref="S3.E6.m1.2.3.3.2"><divide id="S3.E6.m1.2.3.3.2.1.cmml" xref="S3.E6.m1.2.3.3.2"></divide><cn type="integer" id="S3.E6.m1.2.3.3.2.2.cmml" xref="S3.E6.m1.2.3.3.2.2">1</cn><ci id="S3.E6.m1.2.3.3.2.3.cmml" xref="S3.E6.m1.2.3.3.2.3">𝑁</ci></apply><apply id="S3.E6.m1.2.3.3.3.cmml" xref="S3.E6.m1.2.3.3.3"><apply id="S3.E6.m1.2.3.3.3.1.cmml" xref="S3.E6.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.3.3.1.1.cmml" xref="S3.E6.m1.2.3.3.3.1">superscript</csymbol><apply id="S3.E6.m1.2.3.3.3.1.2.cmml" xref="S3.E6.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.3.3.1.2.1.cmml" xref="S3.E6.m1.2.3.3.3.1">subscript</csymbol><sum id="S3.E6.m1.2.3.3.3.1.2.2.cmml" xref="S3.E6.m1.2.3.3.3.1.2.2"></sum><apply id="S3.E6.m1.2.3.3.3.1.2.3.cmml" xref="S3.E6.m1.2.3.3.3.1.2.3"><eq id="S3.E6.m1.2.3.3.3.1.2.3.1.cmml" xref="S3.E6.m1.2.3.3.3.1.2.3.1"></eq><ci id="S3.E6.m1.2.3.3.3.1.2.3.2.cmml" xref="S3.E6.m1.2.3.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E6.m1.2.3.3.3.1.2.3.3.cmml" xref="S3.E6.m1.2.3.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E6.m1.2.3.3.3.1.3.cmml" xref="S3.E6.m1.2.3.3.3.1.3">𝑁</ci></apply><apply id="S3.E6.m1.2.3.3.3.2.cmml" xref="S3.E6.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.3.3.2.1.cmml" xref="S3.E6.m1.2.3.3.3.2">subscript</csymbol><apply id="S3.E6.m1.2.3.3.3.2.2.cmml" xref="S3.E6.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.3.3.2.2.1.cmml" xref="S3.E6.m1.2.3.3.3.2">superscript</csymbol><ci id="S3.E6.m1.2.3.3.3.2.2.2.cmml" xref="S3.E6.m1.2.3.3.3.2.2.2">𝜃</ci><ci id="S3.E6.m1.2.2.1.1.cmml" xref="S3.E6.m1.2.2.1.1">𝑖</ci></apply><ci id="S3.E6.m1.2.3.3.3.2.3.cmml" xref="S3.E6.m1.2.3.3.3.2.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.2c">\theta_{s}^{(0)}\leftarrow\frac{1}{N}\sum_{i=1}^{N}\theta^{(i)}_{p}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Federate Learning</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.2" class="ltx_p">At this stage, there are two optimization processes. There is an outer optimization, which consists of <math id="S3.SS4.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS4.p1.1.m1.1a"><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">T</annotation></semantics></math> outer steps. At each outer step <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><mi id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">t</annotation></semantics></math>, gradients from each client are gathered, averaged, and sent to an outer optimizer (OuterOpt) to update the global LoRA module parameters (<span id="S3.SS4.p1.2.1" class="ltx_text ltx_font_italic">Algorithm</span> <a href="#algorithm1" title="In 3.2. Framework Overview ‣ 3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <span id="S3.SS4.p1.2.2" class="ltx_text ltx_font_italic">line 17-18</span>). Afterward, the global LoRA module parameters are re-dispatched to each client (<span id="S3.SS4.p1.2.3" class="ltx_text ltx_font_italic">Algorithm</span> <a href="#algorithm1" title="In 3.2. Framework Overview ‣ 3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <span id="S3.SS4.p1.2.4" class="ltx_text ltx_font_italic">line 11</span>).</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.3" class="ltx_p">In each phase, each client performs its own inner optimization for <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">K</annotation></semantics></math> steps independently and in parallel using an inner optimizer, denoted by InnerOpt. Each client samples data from local data and updates its personalized LoRA module parameters (<span id="S3.SS4.p2.3.1" class="ltx_text ltx_font_italic">Algorithm</span> <a href="#algorithm1" title="In 3.2. Framework Overview ‣ 3. Method ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <span id="S3.SS4.p2.3.2" class="ltx_text ltx_font_italic">line 12</span>). It should be noted that the inner optimization consists of <math id="S3.SS4.p2.2.m2.1" class="ltx_Math" alttext="K&gt;1" display="inline"><semantics id="S3.SS4.p2.2.m2.1a"><mrow id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2" xref="S3.SS4.p2.2.m2.1.1.2.cmml">K</mi><mo id="S3.SS4.p2.2.m2.1.1.1" xref="S3.SS4.p2.2.m2.1.1.1.cmml">&gt;</mo><mn id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><gt id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1.1"></gt><ci id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">K&gt;1</annotation></semantics></math> steps; for instance, <math id="S3.SS4.p2.3.m3.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S3.SS4.p2.3.m3.1a"><mrow id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml"><mi id="S3.SS4.p2.3.m3.1.1.2" xref="S3.SS4.p2.3.m3.1.1.2.cmml">K</mi><mo id="S3.SS4.p2.3.m3.1.1.1" xref="S3.SS4.p2.3.m3.1.1.1.cmml">=</mo><mn id="S3.SS4.p2.3.m3.1.1.3" xref="S3.SS4.p2.3.m3.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><apply id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1"><eq id="S3.SS4.p2.3.m3.1.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1.1"></eq><ci id="S3.SS4.p2.3.m3.1.1.2.cmml" xref="S3.SS4.p2.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S3.SS4.p2.3.m3.1.1.3.cmml" xref="S3.SS4.p2.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">K=3</annotation></semantics></math> is the default setting in our experiments. Therefore, communication across clients is minimal.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.2" class="ltx_p">Once all clients have completed their inner optimization step, the cumulative gradients of each client are averaged. The resulting outer gradient is then utilized to update the global LoRA parameters, serving as the starting point for the subsequent round of inner optimizations. Communication among workers is only necessary during this phase, occurring once every <math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><mi id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><ci id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">K</annotation></semantics></math> inner optimization steps. In total, a client undergoes <math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="T\times K" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><mrow id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">T</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p3.2.m2.1.1.1" xref="S3.SS4.p3.2.m2.1.1.1.cmml">×</mo><mi id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><times id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1.1"></times><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">𝑇</ci><ci id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">T\times K</annotation></semantics></math> inner steps during this stage.</p>
</div>
<div id="S3.SS4.p4" class="ltx_para">
<p id="S3.SS4.p4.2" class="ltx_p">Specifically, the inner optimizer (InnerOpt) is used as AdamW <cite class="ltx_cite ltx_citemacro_citep">(Zhuang et al<span class="ltx_text">.</span>, <a href="#bib.bib57" title="" class="ltx_ref">2022</a>)</cite>, which is a variant of the Adam optimizer that separates weight decay from the gradient update based on the observation that the weight decay formulation is different when applied to SGD and Adam. As for the outer optimizer (OuterOpt), we use Nesterov momentum <cite class="ltx_cite ltx_citemacro_citep">(Sutskever et al<span class="ltx_text">.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2013</a>)</cite>, because it gave the best convergence in previous works <cite class="ltx_cite ltx_citemacro_citep">(Douillard et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite>. When OuterOpt is set to SGD, the outer optimizer is equivalent to vanilla FedAVG <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2017</a>)</cite>. If the total number of outer optimization steps (<math id="S3.SS4.p4.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS4.p4.1.m1.1a"><mi id="S3.SS4.p4.1.m1.1.1" xref="S3.SS4.p4.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.1b"><ci id="S3.SS4.p4.1.m1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.1c">T</annotation></semantics></math>) is set to 1, then our approach reduces to ’souping’ <cite class="ltx_cite ltx_citemacro_citep">(Wortsman et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2021</a>)</cite>. Finally, if the number of inner optimization steps (<math id="S3.SS4.p4.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS4.p4.2.m2.1a"><mi id="S3.SS4.p4.2.m2.1.1" xref="S3.SS4.p4.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.2.m2.1b"><ci id="S3.SS4.p4.2.m2.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.2.m2.1c">K</annotation></semantics></math>) is set to 1 and InnerOpt is set to SGD, our approach is equivalent to large-batch training with data parallelism.</p>
</div>
<div id="S3.SS4.p5" class="ltx_para">
<p id="S3.SS4.p5.3" class="ltx_p">Overall, iterating the above process <math id="S3.SS4.p5.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS4.p5.1.m1.1a"><mi id="S3.SS4.p5.1.m1.1.1" xref="S3.SS4.p5.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.1.m1.1b"><ci id="S3.SS4.p5.1.m1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.1.m1.1c">T</annotation></semantics></math> times, all clients contain a personalized LoRA and a global LoRA. The personalized LoRA contains the knowledge learned from the local data, and the global LoRA contains the knowledge of all clients and is aligned with the local knowledge by SFT. The degree of alignment can be adjusted by the inner optimization steps <math id="S3.SS4.p5.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS4.p5.2.m2.1a"><mi id="S3.SS4.p5.2.m2.1.1" xref="S3.SS4.p5.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.2.m2.1b"><ci id="S3.SS4.p5.2.m2.1.1.cmml" xref="S3.SS4.p5.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.2.m2.1c">K</annotation></semantics></math>. Increasing <math id="S3.SS4.p5.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS4.p5.3.m3.1a"><mi id="S3.SS4.p5.3.m3.1.1" xref="S3.SS4.p5.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.3.m3.1b"><ci id="S3.SS4.p5.3.m3.1.1.cmml" xref="S3.SS4.p5.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.3.m3.1c">K</annotation></semantics></math> will give more attention to local knowledge. This process ensures that, as the federated learning progresses through multiple iterations, each client’s global LoRA parameters are enriched with a harmonious blend of both local and global knowledge, contributing to a comprehensive and collaborative model refinement.</p>
</div>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Adaptive Fusion</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.6" class="ltx_p">In this stage, we implement an element-wise method, a.k.a. AdaFusion, to adaptively combine both the personalized LoRA module and the global LoRA module. This process integrates the corresponding parameters of the LoRA modules, requiring the modules being combined to have the same rank <math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><mi id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><ci id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">r</annotation></semantics></math> to properly align the structures. For the client <math id="S3.SS5.p1.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS5.p1.2.m2.1a"><mi id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">i</annotation></semantics></math>, assuming that <math id="S3.SS5.p1.3.m3.1" class="ltx_Math" alttext="m_{i}=A_{i}B_{i}" display="inline"><semantics id="S3.SS5.p1.3.m3.1a"><mrow id="S3.SS5.p1.3.m3.1.1" xref="S3.SS5.p1.3.m3.1.1.cmml"><msub id="S3.SS5.p1.3.m3.1.1.2" xref="S3.SS5.p1.3.m3.1.1.2.cmml"><mi id="S3.SS5.p1.3.m3.1.1.2.2" xref="S3.SS5.p1.3.m3.1.1.2.2.cmml">m</mi><mi id="S3.SS5.p1.3.m3.1.1.2.3" xref="S3.SS5.p1.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS5.p1.3.m3.1.1.1" xref="S3.SS5.p1.3.m3.1.1.1.cmml">=</mo><mrow id="S3.SS5.p1.3.m3.1.1.3" xref="S3.SS5.p1.3.m3.1.1.3.cmml"><msub id="S3.SS5.p1.3.m3.1.1.3.2" xref="S3.SS5.p1.3.m3.1.1.3.2.cmml"><mi id="S3.SS5.p1.3.m3.1.1.3.2.2" xref="S3.SS5.p1.3.m3.1.1.3.2.2.cmml">A</mi><mi id="S3.SS5.p1.3.m3.1.1.3.2.3" xref="S3.SS5.p1.3.m3.1.1.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS5.p1.3.m3.1.1.3.1" xref="S3.SS5.p1.3.m3.1.1.3.1.cmml">​</mo><msub id="S3.SS5.p1.3.m3.1.1.3.3" xref="S3.SS5.p1.3.m3.1.1.3.3.cmml"><mi id="S3.SS5.p1.3.m3.1.1.3.3.2" xref="S3.SS5.p1.3.m3.1.1.3.3.2.cmml">B</mi><mi id="S3.SS5.p1.3.m3.1.1.3.3.3" xref="S3.SS5.p1.3.m3.1.1.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.3.m3.1b"><apply id="S3.SS5.p1.3.m3.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1"><eq id="S3.SS5.p1.3.m3.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1"></eq><apply id="S3.SS5.p1.3.m3.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.2.1.cmml" xref="S3.SS5.p1.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.2.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2.2">𝑚</ci><ci id="S3.SS5.p1.3.m3.1.1.2.3.cmml" xref="S3.SS5.p1.3.m3.1.1.2.3">𝑖</ci></apply><apply id="S3.SS5.p1.3.m3.1.1.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3"><times id="S3.SS5.p1.3.m3.1.1.3.1.cmml" xref="S3.SS5.p1.3.m3.1.1.3.1"></times><apply id="S3.SS5.p1.3.m3.1.1.3.2.cmml" xref="S3.SS5.p1.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.3.2.1.cmml" xref="S3.SS5.p1.3.m3.1.1.3.2">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.3.2.2.cmml" xref="S3.SS5.p1.3.m3.1.1.3.2.2">𝐴</ci><ci id="S3.SS5.p1.3.m3.1.1.3.2.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3.2.3">𝑖</ci></apply><apply id="S3.SS5.p1.3.m3.1.1.3.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.3.3.1.cmml" xref="S3.SS5.p1.3.m3.1.1.3.3">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.3.3.2.cmml" xref="S3.SS5.p1.3.m3.1.1.3.3.2">𝐵</ci><ci id="S3.SS5.p1.3.m3.1.1.3.3.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.3.m3.1c">m_{i}=A_{i}B_{i}</annotation></semantics></math> and <math id="S3.SS5.p1.4.m4.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="S3.SS5.p1.4.m4.1a"><mrow id="S3.SS5.p1.4.m4.1.1" xref="S3.SS5.p1.4.m4.1.1.cmml"><mi id="S3.SS5.p1.4.m4.1.1.2" xref="S3.SS5.p1.4.m4.1.1.2.cmml">i</mi><mo id="S3.SS5.p1.4.m4.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.cmml">=</mo><mn id="S3.SS5.p1.4.m4.1.1.3" xref="S3.SS5.p1.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.4.m4.1b"><apply id="S3.SS5.p1.4.m4.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1"><eq id="S3.SS5.p1.4.m4.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1"></eq><ci id="S3.SS5.p1.4.m4.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.2">𝑖</ci><cn type="integer" id="S3.SS5.p1.4.m4.1.1.3.cmml" xref="S3.SS5.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.4.m4.1c">i=1</annotation></semantics></math> or <math id="S3.SS5.p1.5.m5.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S3.SS5.p1.5.m5.1a"><mn id="S3.SS5.p1.5.m5.1.1" xref="S3.SS5.p1.5.m5.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.5.m5.1b"><cn type="integer" id="S3.SS5.p1.5.m5.1.1.cmml" xref="S3.SS5.p1.5.m5.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.5.m5.1c">2</annotation></semantics></math>, the combined LoRA module <math id="S3.SS5.p1.6.m6.1" class="ltx_Math" alttext="\hat{m}" display="inline"><semantics id="S3.SS5.p1.6.m6.1a"><mover accent="true" id="S3.SS5.p1.6.m6.1.1" xref="S3.SS5.p1.6.m6.1.1.cmml"><mi id="S3.SS5.p1.6.m6.1.1.2" xref="S3.SS5.p1.6.m6.1.1.2.cmml">m</mi><mo id="S3.SS5.p1.6.m6.1.1.1" xref="S3.SS5.p1.6.m6.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.6.m6.1b"><apply id="S3.SS5.p1.6.m6.1.1.cmml" xref="S3.SS5.p1.6.m6.1.1"><ci id="S3.SS5.p1.6.m6.1.1.1.cmml" xref="S3.SS5.p1.6.m6.1.1.1">^</ci><ci id="S3.SS5.p1.6.m6.1.1.2.cmml" xref="S3.SS5.p1.6.m6.1.1.2">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.6.m6.1c">\hat{m}</annotation></semantics></math> can be formulated as follows:</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.2" class="ltx_Math" alttext="\hat{m}=(w_{1}A_{1}+w_{2}A_{2})(w_{1}B_{1}+w_{2}B_{2})" display="block"><semantics id="S3.E7.m1.2a"><mrow id="S3.E7.m1.2.2" xref="S3.E7.m1.2.2.cmml"><mover accent="true" id="S3.E7.m1.2.2.4" xref="S3.E7.m1.2.2.4.cmml"><mi id="S3.E7.m1.2.2.4.2" xref="S3.E7.m1.2.2.4.2.cmml">m</mi><mo id="S3.E7.m1.2.2.4.1" xref="S3.E7.m1.2.2.4.1.cmml">^</mo></mover><mo id="S3.E7.m1.2.2.3" xref="S3.E7.m1.2.2.3.cmml">=</mo><mrow id="S3.E7.m1.2.2.2" xref="S3.E7.m1.2.2.2.cmml"><mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.2.cmml"><msub id="S3.E7.m1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.2.2.2" xref="S3.E7.m1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mn id="S3.E7.m1.1.1.1.1.1.1.2.2.3" xref="S3.E7.m1.1.1.1.1.1.1.2.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.2.1" xref="S3.E7.m1.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E7.m1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.2.3.2" xref="S3.E7.m1.1.1.1.1.1.1.2.3.2.cmml">A</mi><mn id="S3.E7.m1.1.1.1.1.1.1.2.3.3" xref="S3.E7.m1.1.1.1.1.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.3.cmml"><msub id="S3.E7.m1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.3.2.2" xref="S3.E7.m1.1.1.1.1.1.1.3.2.2.cmml">w</mi><mn id="S3.E7.m1.1.1.1.1.1.1.3.2.3" xref="S3.E7.m1.1.1.1.1.1.1.3.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S3.E7.m1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.3.3.2" xref="S3.E7.m1.1.1.1.1.1.1.3.3.2.cmml">A</mi><mn id="S3.E7.m1.1.1.1.1.1.1.3.3.3" xref="S3.E7.m1.1.1.1.1.1.1.3.3.3.cmml">2</mn></msub></mrow></mrow><mo stretchy="false" id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E7.m1.2.2.2.3" xref="S3.E7.m1.2.2.2.3.cmml">​</mo><mrow id="S3.E7.m1.2.2.2.2.1" xref="S3.E7.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.2.2.2.2.1.2" xref="S3.E7.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.E7.m1.2.2.2.2.1.1" xref="S3.E7.m1.2.2.2.2.1.1.cmml"><mrow id="S3.E7.m1.2.2.2.2.1.1.2" xref="S3.E7.m1.2.2.2.2.1.1.2.cmml"><msub id="S3.E7.m1.2.2.2.2.1.1.2.2" xref="S3.E7.m1.2.2.2.2.1.1.2.2.cmml"><mi id="S3.E7.m1.2.2.2.2.1.1.2.2.2" xref="S3.E7.m1.2.2.2.2.1.1.2.2.2.cmml">w</mi><mn id="S3.E7.m1.2.2.2.2.1.1.2.2.3" xref="S3.E7.m1.2.2.2.2.1.1.2.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.2.2.2.2.1.1.2.1" xref="S3.E7.m1.2.2.2.2.1.1.2.1.cmml">​</mo><msub id="S3.E7.m1.2.2.2.2.1.1.2.3" xref="S3.E7.m1.2.2.2.2.1.1.2.3.cmml"><mi id="S3.E7.m1.2.2.2.2.1.1.2.3.2" xref="S3.E7.m1.2.2.2.2.1.1.2.3.2.cmml">B</mi><mn id="S3.E7.m1.2.2.2.2.1.1.2.3.3" xref="S3.E7.m1.2.2.2.2.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S3.E7.m1.2.2.2.2.1.1.1" xref="S3.E7.m1.2.2.2.2.1.1.1.cmml">+</mo><mrow id="S3.E7.m1.2.2.2.2.1.1.3" xref="S3.E7.m1.2.2.2.2.1.1.3.cmml"><msub id="S3.E7.m1.2.2.2.2.1.1.3.2" xref="S3.E7.m1.2.2.2.2.1.1.3.2.cmml"><mi id="S3.E7.m1.2.2.2.2.1.1.3.2.2" xref="S3.E7.m1.2.2.2.2.1.1.3.2.2.cmml">w</mi><mn id="S3.E7.m1.2.2.2.2.1.1.3.2.3" xref="S3.E7.m1.2.2.2.2.1.1.3.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.2.2.2.2.1.1.3.1" xref="S3.E7.m1.2.2.2.2.1.1.3.1.cmml">​</mo><msub id="S3.E7.m1.2.2.2.2.1.1.3.3" xref="S3.E7.m1.2.2.2.2.1.1.3.3.cmml"><mi id="S3.E7.m1.2.2.2.2.1.1.3.3.2" xref="S3.E7.m1.2.2.2.2.1.1.3.3.2.cmml">B</mi><mn id="S3.E7.m1.2.2.2.2.1.1.3.3.3" xref="S3.E7.m1.2.2.2.2.1.1.3.3.3.cmml">2</mn></msub></mrow></mrow><mo stretchy="false" id="S3.E7.m1.2.2.2.2.1.3" xref="S3.E7.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.2b"><apply id="S3.E7.m1.2.2.cmml" xref="S3.E7.m1.2.2"><eq id="S3.E7.m1.2.2.3.cmml" xref="S3.E7.m1.2.2.3"></eq><apply id="S3.E7.m1.2.2.4.cmml" xref="S3.E7.m1.2.2.4"><ci id="S3.E7.m1.2.2.4.1.cmml" xref="S3.E7.m1.2.2.4.1">^</ci><ci id="S3.E7.m1.2.2.4.2.cmml" xref="S3.E7.m1.2.2.4.2">𝑚</ci></apply><apply id="S3.E7.m1.2.2.2.cmml" xref="S3.E7.m1.2.2.2"><times id="S3.E7.m1.2.2.2.3.cmml" xref="S3.E7.m1.2.2.2.3"></times><apply id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><plus id="S3.E7.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1"></plus><apply id="S3.E7.m1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2"><times id="S3.E7.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.1"></times><apply id="S3.E7.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.2.2">𝑤</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.2.3">1</cn></apply><apply id="S3.E7.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.3.2">𝐴</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3"><times id="S3.E7.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.1"></times><apply id="S3.E7.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.2.2">𝑤</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.2.3">2</cn></apply><apply id="S3.E7.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.3.2">𝐴</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3.3.3">2</cn></apply></apply></apply><apply id="S3.E7.m1.2.2.2.2.1.1.cmml" xref="S3.E7.m1.2.2.2.2.1"><plus id="S3.E7.m1.2.2.2.2.1.1.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.1"></plus><apply id="S3.E7.m1.2.2.2.2.1.1.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2"><times id="S3.E7.m1.2.2.2.2.1.1.2.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.1"></times><apply id="S3.E7.m1.2.2.2.2.1.1.2.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.1.1.2.2.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.2">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.1.1.2.2.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.2.2">𝑤</ci><cn type="integer" id="S3.E7.m1.2.2.2.2.1.1.2.2.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.2.3">1</cn></apply><apply id="S3.E7.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.1.1.2.3.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.3">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.1.1.2.3.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.3.2">𝐵</ci><cn type="integer" id="S3.E7.m1.2.2.2.2.1.1.2.3.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E7.m1.2.2.2.2.1.1.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3"><times id="S3.E7.m1.2.2.2.2.1.1.3.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.1"></times><apply id="S3.E7.m1.2.2.2.2.1.1.3.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.1.1.3.2.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.2">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.1.1.3.2.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.2.2">𝑤</ci><cn type="integer" id="S3.E7.m1.2.2.2.2.1.1.3.2.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.2.3">2</cn></apply><apply id="S3.E7.m1.2.2.2.2.1.1.3.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.2.2.1.1.3.3.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.3">subscript</csymbol><ci id="S3.E7.m1.2.2.2.2.1.1.3.3.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.3.2">𝐵</ci><cn type="integer" id="S3.E7.m1.2.2.2.2.1.1.3.3.3.cmml" xref="S3.E7.m1.2.2.2.2.1.1.3.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.2c">\hat{m}=(w_{1}A_{1}+w_{2}A_{2})(w_{1}B_{1}+w_{2}B_{2})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS5.p3" class="ltx_para">
<p id="S3.SS5.p3.3" class="ltx_p">The objective is to modify the coefficients <math id="S3.SS5.p3.1.m1.5" class="ltx_Math" alttext="\mathbf{w^{(i)}}=\{w_{1}^{(i)},w_{2}^{(i)}\}" display="inline"><semantics id="S3.SS5.p3.1.m1.5a"><mrow id="S3.SS5.p3.1.m1.5.5" xref="S3.SS5.p3.1.m1.5.5.cmml"><msup id="S3.SS5.p3.1.m1.5.5.4" xref="S3.SS5.p3.1.m1.5.5.4.cmml"><mi id="S3.SS5.p3.1.m1.5.5.4.2" xref="S3.SS5.p3.1.m1.5.5.4.2.cmml">𝐰</mi><mrow id="S3.SS5.p3.1.m1.1.1.1.3" xref="S3.SS5.p3.1.m1.5.5.4.cmml"><mo stretchy="false" id="S3.SS5.p3.1.m1.1.1.1.3.1" xref="S3.SS5.p3.1.m1.5.5.4.cmml">(</mo><mi id="S3.SS5.p3.1.m1.1.1.1.1" xref="S3.SS5.p3.1.m1.1.1.1.1.cmml">𝐢</mi><mo stretchy="false" id="S3.SS5.p3.1.m1.1.1.1.3.2" xref="S3.SS5.p3.1.m1.5.5.4.cmml">)</mo></mrow></msup><mo id="S3.SS5.p3.1.m1.5.5.3" xref="S3.SS5.p3.1.m1.5.5.3.cmml">=</mo><mrow id="S3.SS5.p3.1.m1.5.5.2.2" xref="S3.SS5.p3.1.m1.5.5.2.3.cmml"><mo stretchy="false" id="S3.SS5.p3.1.m1.5.5.2.2.3" xref="S3.SS5.p3.1.m1.5.5.2.3.cmml">{</mo><msubsup id="S3.SS5.p3.1.m1.4.4.1.1.1" xref="S3.SS5.p3.1.m1.4.4.1.1.1.cmml"><mi id="S3.SS5.p3.1.m1.4.4.1.1.1.2.2" xref="S3.SS5.p3.1.m1.4.4.1.1.1.2.2.cmml">w</mi><mn id="S3.SS5.p3.1.m1.4.4.1.1.1.2.3" xref="S3.SS5.p3.1.m1.4.4.1.1.1.2.3.cmml">1</mn><mrow id="S3.SS5.p3.1.m1.2.2.1.3" xref="S3.SS5.p3.1.m1.4.4.1.1.1.cmml"><mo stretchy="false" id="S3.SS5.p3.1.m1.2.2.1.3.1" xref="S3.SS5.p3.1.m1.4.4.1.1.1.cmml">(</mo><mi id="S3.SS5.p3.1.m1.2.2.1.1" xref="S3.SS5.p3.1.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS5.p3.1.m1.2.2.1.3.2" xref="S3.SS5.p3.1.m1.4.4.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS5.p3.1.m1.5.5.2.2.4" xref="S3.SS5.p3.1.m1.5.5.2.3.cmml">,</mo><msubsup id="S3.SS5.p3.1.m1.5.5.2.2.2" xref="S3.SS5.p3.1.m1.5.5.2.2.2.cmml"><mi id="S3.SS5.p3.1.m1.5.5.2.2.2.2.2" xref="S3.SS5.p3.1.m1.5.5.2.2.2.2.2.cmml">w</mi><mn id="S3.SS5.p3.1.m1.5.5.2.2.2.2.3" xref="S3.SS5.p3.1.m1.5.5.2.2.2.2.3.cmml">2</mn><mrow id="S3.SS5.p3.1.m1.3.3.1.3" xref="S3.SS5.p3.1.m1.5.5.2.2.2.cmml"><mo stretchy="false" id="S3.SS5.p3.1.m1.3.3.1.3.1" xref="S3.SS5.p3.1.m1.5.5.2.2.2.cmml">(</mo><mi id="S3.SS5.p3.1.m1.3.3.1.1" xref="S3.SS5.p3.1.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS5.p3.1.m1.3.3.1.3.2" xref="S3.SS5.p3.1.m1.5.5.2.2.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.SS5.p3.1.m1.5.5.2.2.5" xref="S3.SS5.p3.1.m1.5.5.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.1.m1.5b"><apply id="S3.SS5.p3.1.m1.5.5.cmml" xref="S3.SS5.p3.1.m1.5.5"><eq id="S3.SS5.p3.1.m1.5.5.3.cmml" xref="S3.SS5.p3.1.m1.5.5.3"></eq><apply id="S3.SS5.p3.1.m1.5.5.4.cmml" xref="S3.SS5.p3.1.m1.5.5.4"><csymbol cd="ambiguous" id="S3.SS5.p3.1.m1.5.5.4.1.cmml" xref="S3.SS5.p3.1.m1.5.5.4">superscript</csymbol><ci id="S3.SS5.p3.1.m1.5.5.4.2.cmml" xref="S3.SS5.p3.1.m1.5.5.4.2">𝐰</ci><ci id="S3.SS5.p3.1.m1.1.1.1.1.cmml" xref="S3.SS5.p3.1.m1.1.1.1.1">𝐢</ci></apply><set id="S3.SS5.p3.1.m1.5.5.2.3.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2"><apply id="S3.SS5.p3.1.m1.4.4.1.1.1.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p3.1.m1.4.4.1.1.1.1.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1">superscript</csymbol><apply id="S3.SS5.p3.1.m1.4.4.1.1.1.2.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p3.1.m1.4.4.1.1.1.2.1.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1">subscript</csymbol><ci id="S3.SS5.p3.1.m1.4.4.1.1.1.2.2.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1.2.2">𝑤</ci><cn type="integer" id="S3.SS5.p3.1.m1.4.4.1.1.1.2.3.cmml" xref="S3.SS5.p3.1.m1.4.4.1.1.1.2.3">1</cn></apply><ci id="S3.SS5.p3.1.m1.2.2.1.1.cmml" xref="S3.SS5.p3.1.m1.2.2.1.1">𝑖</ci></apply><apply id="S3.SS5.p3.1.m1.5.5.2.2.2.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.SS5.p3.1.m1.5.5.2.2.2.1.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2">superscript</csymbol><apply id="S3.SS5.p3.1.m1.5.5.2.2.2.2.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.SS5.p3.1.m1.5.5.2.2.2.2.1.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2">subscript</csymbol><ci id="S3.SS5.p3.1.m1.5.5.2.2.2.2.2.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2.2.2">𝑤</ci><cn type="integer" id="S3.SS5.p3.1.m1.5.5.2.2.2.2.3.cmml" xref="S3.SS5.p3.1.m1.5.5.2.2.2.2.3">2</cn></apply><ci id="S3.SS5.p3.1.m1.3.3.1.1.cmml" xref="S3.SS5.p3.1.m1.3.3.1.1">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.1.m1.5c">\mathbf{w^{(i)}}=\{w_{1}^{(i)},w_{2}^{(i)}\}</annotation></semantics></math> to enhance the performance on each client. To achieve this, a fusion optimizer (FusionOpt) is introduced. An intuitive approach is to implement the FusionOpt using gradient-based optimization methods, such as standard gradient descent. However, this approach necessitates the construction of a hypernetwork on each client, which can be challenging due to the substantial GPU memory and time requirements <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2023</a>)</cite>. This is a significant challenge for heterogeneous clients. We observe that the number of optimized parameters is relatively small (only <math id="S3.SS5.p3.2.m2.1" class="ltx_Math" alttext="w_{1}" display="inline"><semantics id="S3.SS5.p3.2.m2.1a"><msub id="S3.SS5.p3.2.m2.1.1" xref="S3.SS5.p3.2.m2.1.1.cmml"><mi id="S3.SS5.p3.2.m2.1.1.2" xref="S3.SS5.p3.2.m2.1.1.2.cmml">w</mi><mn id="S3.SS5.p3.2.m2.1.1.3" xref="S3.SS5.p3.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.2.m2.1b"><apply id="S3.SS5.p3.2.m2.1.1.cmml" xref="S3.SS5.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p3.2.m2.1.1.1.cmml" xref="S3.SS5.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p3.2.m2.1.1.2.cmml" xref="S3.SS5.p3.2.m2.1.1.2">𝑤</ci><cn type="integer" id="S3.SS5.p3.2.m2.1.1.3.cmml" xref="S3.SS5.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.2.m2.1c">w_{1}</annotation></semantics></math> and <math id="S3.SS5.p3.3.m3.1" class="ltx_Math" alttext="w_{2}" display="inline"><semantics id="S3.SS5.p3.3.m3.1a"><msub id="S3.SS5.p3.3.m3.1.1" xref="S3.SS5.p3.3.m3.1.1.cmml"><mi id="S3.SS5.p3.3.m3.1.1.2" xref="S3.SS5.p3.3.m3.1.1.2.cmml">w</mi><mn id="S3.SS5.p3.3.m3.1.1.3" xref="S3.SS5.p3.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.3.m3.1b"><apply id="S3.SS5.p3.3.m3.1.1.cmml" xref="S3.SS5.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.p3.3.m3.1.1.1.cmml" xref="S3.SS5.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.p3.3.m3.1.1.2.cmml" xref="S3.SS5.p3.3.m3.1.1.2">𝑤</ci><cn type="integer" id="S3.SS5.p3.3.m3.1.1.3.cmml" xref="S3.SS5.p3.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.3.m3.1c">w_{2}</annotation></semantics></math> in each client). Consequently, we opt for gradient-free methods for optimization rather than gradient descent.</p>
</div>
<div id="S3.SS5.p4" class="ltx_para">
<p id="S3.SS5.p4.7" class="ltx_p">Inspired by previous work <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2023</a>)</cite>, we employ a black-box optimization technique to find the optimal <math id="S3.SS5.p4.1.m1.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S3.SS5.p4.1.m1.1a"><mi id="S3.SS5.p4.1.m1.1.1" xref="S3.SS5.p4.1.m1.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.1.m1.1b"><ci id="S3.SS5.p4.1.m1.1.1.cmml" xref="S3.SS5.p4.1.m1.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.1.m1.1c">\mathbf{w}</annotation></semantics></math>. This optimization process hinges on minimizing the cross-entropy loss, with the objective of determining the optimal coefficients <math id="S3.SS5.p4.2.m2.1" class="ltx_Math" alttext="w_{1}" display="inline"><semantics id="S3.SS5.p4.2.m2.1a"><msub id="S3.SS5.p4.2.m2.1.1" xref="S3.SS5.p4.2.m2.1.1.cmml"><mi id="S3.SS5.p4.2.m2.1.1.2" xref="S3.SS5.p4.2.m2.1.1.2.cmml">w</mi><mn id="S3.SS5.p4.2.m2.1.1.3" xref="S3.SS5.p4.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.2.m2.1b"><apply id="S3.SS5.p4.2.m2.1.1.cmml" xref="S3.SS5.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.2.m2.1.1.1.cmml" xref="S3.SS5.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p4.2.m2.1.1.2.cmml" xref="S3.SS5.p4.2.m2.1.1.2">𝑤</ci><cn type="integer" id="S3.SS5.p4.2.m2.1.1.3.cmml" xref="S3.SS5.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.2.m2.1c">w_{1}</annotation></semantics></math> and <math id="S3.SS5.p4.3.m3.1" class="ltx_Math" alttext="w_{2}" display="inline"><semantics id="S3.SS5.p4.3.m3.1a"><msub id="S3.SS5.p4.3.m3.1.1" xref="S3.SS5.p4.3.m3.1.1.cmml"><mi id="S3.SS5.p4.3.m3.1.1.2" xref="S3.SS5.p4.3.m3.1.1.2.cmml">w</mi><mn id="S3.SS5.p4.3.m3.1.1.3" xref="S3.SS5.p4.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.3.m3.1b"><apply id="S3.SS5.p4.3.m3.1.1.cmml" xref="S3.SS5.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.3.m3.1.1.1.cmml" xref="S3.SS5.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.p4.3.m3.1.1.2.cmml" xref="S3.SS5.p4.3.m3.1.1.2">𝑤</ci><cn type="integer" id="S3.SS5.p4.3.m3.1.1.3.cmml" xref="S3.SS5.p4.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.3.m3.1c">w_{2}</annotation></semantics></math> that minimize the loss <math id="S3.SS5.p4.4.m4.1" class="ltx_Math" alttext="\mathcal{L}_{c}" display="inline"><semantics id="S3.SS5.p4.4.m4.1a"><msub id="S3.SS5.p4.4.m4.1.1" xref="S3.SS5.p4.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.p4.4.m4.1.1.2" xref="S3.SS5.p4.4.m4.1.1.2.cmml">ℒ</mi><mi id="S3.SS5.p4.4.m4.1.1.3" xref="S3.SS5.p4.4.m4.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.4.m4.1b"><apply id="S3.SS5.p4.4.m4.1.1.cmml" xref="S3.SS5.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.4.m4.1.1.1.cmml" xref="S3.SS5.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.p4.4.m4.1.1.2.cmml" xref="S3.SS5.p4.4.m4.1.1.2">ℒ</ci><ci id="S3.SS5.p4.4.m4.1.1.3.cmml" xref="S3.SS5.p4.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.4.m4.1c">\mathcal{L}_{c}</annotation></semantics></math> across a set of few-shot examples denoted as <math id="S3.SS5.p4.5.m5.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S3.SS5.p4.5.m5.1a"><mi id="S3.SS5.p4.5.m5.1.1" xref="S3.SS5.p4.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.5.m5.1b"><ci id="S3.SS5.p4.5.m5.1.1.cmml" xref="S3.SS5.p4.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.5.m5.1c">Q</annotation></semantics></math>. Furthermore, we employ <math id="S3.SS5.p4.6.m6.1" class="ltx_Math" alttext="L_{1}" display="inline"><semantics id="S3.SS5.p4.6.m6.1a"><msub id="S3.SS5.p4.6.m6.1.1" xref="S3.SS5.p4.6.m6.1.1.cmml"><mi id="S3.SS5.p4.6.m6.1.1.2" xref="S3.SS5.p4.6.m6.1.1.2.cmml">L</mi><mn id="S3.SS5.p4.6.m6.1.1.3" xref="S3.SS5.p4.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.6.m6.1b"><apply id="S3.SS5.p4.6.m6.1.1.cmml" xref="S3.SS5.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS5.p4.6.m6.1.1.1.cmml" xref="S3.SS5.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS5.p4.6.m6.1.1.2.cmml" xref="S3.SS5.p4.6.m6.1.1.2">𝐿</ci><cn type="integer" id="S3.SS5.p4.6.m6.1.1.3.cmml" xref="S3.SS5.p4.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.6.m6.1c">L_{1}</annotation></semantics></math> regularization, which penalizes extreme values by imposing a constraint on the sum of the absolute values of <math id="S3.SS5.p4.7.m7.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S3.SS5.p4.7.m7.1a"><mi id="S3.SS5.p4.7.m7.1.1" xref="S3.SS5.p4.7.m7.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.7.m7.1b"><ci id="S3.SS5.p4.7.m7.1.1.cmml" xref="S3.SS5.p4.7.m7.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.7.m7.1c">\mathbf{w}</annotation></semantics></math>. Consequently, the objective function is formulated as follows, which minimizes the combined loss and the regularization term.</p>
<table id="S3.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E8.m1.3" class="ltx_Math" alttext="\min_{\mathbf{w}}\mathcal{L}=\mathcal{L}_{c}+\lambda^{(i)}|\mathbf{w^{(i)}}|" display="block"><semantics id="S3.E8.m1.3a"><mrow id="S3.E8.m1.3.3" xref="S3.E8.m1.3.3.cmml"><mrow id="S3.E8.m1.3.3.3" xref="S3.E8.m1.3.3.3.cmml"><munder id="S3.E8.m1.3.3.3.1" xref="S3.E8.m1.3.3.3.1.cmml"><mi id="S3.E8.m1.3.3.3.1.2" xref="S3.E8.m1.3.3.3.1.2.cmml">min</mi><mi id="S3.E8.m1.3.3.3.1.3" xref="S3.E8.m1.3.3.3.1.3.cmml">𝐰</mi></munder><mo lspace="0.167em" id="S3.E8.m1.3.3.3a" xref="S3.E8.m1.3.3.3.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.3.3.3.2" xref="S3.E8.m1.3.3.3.2.cmml">ℒ</mi></mrow><mo id="S3.E8.m1.3.3.2" xref="S3.E8.m1.3.3.2.cmml">=</mo><mrow id="S3.E8.m1.3.3.1" xref="S3.E8.m1.3.3.1.cmml"><msub id="S3.E8.m1.3.3.1.3" xref="S3.E8.m1.3.3.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.3.3.1.3.2" xref="S3.E8.m1.3.3.1.3.2.cmml">ℒ</mi><mi id="S3.E8.m1.3.3.1.3.3" xref="S3.E8.m1.3.3.1.3.3.cmml">c</mi></msub><mo id="S3.E8.m1.3.3.1.2" xref="S3.E8.m1.3.3.1.2.cmml">+</mo><mrow id="S3.E8.m1.3.3.1.1" xref="S3.E8.m1.3.3.1.1.cmml"><msup id="S3.E8.m1.3.3.1.1.3" xref="S3.E8.m1.3.3.1.1.3.cmml"><mi id="S3.E8.m1.3.3.1.1.3.2" xref="S3.E8.m1.3.3.1.1.3.2.cmml">λ</mi><mrow id="S3.E8.m1.1.1.1.3" xref="S3.E8.m1.3.3.1.1.3.cmml"><mo stretchy="false" id="S3.E8.m1.1.1.1.3.1" xref="S3.E8.m1.3.3.1.1.3.cmml">(</mo><mi id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E8.m1.1.1.1.3.2" xref="S3.E8.m1.3.3.1.1.3.cmml">)</mo></mrow></msup><mo lspace="0em" rspace="0em" id="S3.E8.m1.3.3.1.1.2" xref="S3.E8.m1.3.3.1.1.2.cmml">​</mo><mrow id="S3.E8.m1.3.3.1.1.1.1" xref="S3.E8.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.E8.m1.3.3.1.1.1.1.2" xref="S3.E8.m1.3.3.1.1.1.2.1.cmml">|</mo><msup id="S3.E8.m1.3.3.1.1.1.1.1" xref="S3.E8.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E8.m1.3.3.1.1.1.1.1.2" xref="S3.E8.m1.3.3.1.1.1.1.1.2.cmml">𝐰</mi><mrow id="S3.E8.m1.2.2.1.3" xref="S3.E8.m1.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E8.m1.2.2.1.3.1" xref="S3.E8.m1.3.3.1.1.1.1.1.cmml">(</mo><mi id="S3.E8.m1.2.2.1.1" xref="S3.E8.m1.2.2.1.1.cmml">𝐢</mi><mo stretchy="false" id="S3.E8.m1.2.2.1.3.2" xref="S3.E8.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E8.m1.3.3.1.1.1.1.3" xref="S3.E8.m1.3.3.1.1.1.2.1.cmml">|</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.3b"><apply id="S3.E8.m1.3.3.cmml" xref="S3.E8.m1.3.3"><eq id="S3.E8.m1.3.3.2.cmml" xref="S3.E8.m1.3.3.2"></eq><apply id="S3.E8.m1.3.3.3.cmml" xref="S3.E8.m1.3.3.3"><apply id="S3.E8.m1.3.3.3.1.cmml" xref="S3.E8.m1.3.3.3.1"><csymbol cd="ambiguous" id="S3.E8.m1.3.3.3.1.1.cmml" xref="S3.E8.m1.3.3.3.1">subscript</csymbol><min id="S3.E8.m1.3.3.3.1.2.cmml" xref="S3.E8.m1.3.3.3.1.2"></min><ci id="S3.E8.m1.3.3.3.1.3.cmml" xref="S3.E8.m1.3.3.3.1.3">𝐰</ci></apply><ci id="S3.E8.m1.3.3.3.2.cmml" xref="S3.E8.m1.3.3.3.2">ℒ</ci></apply><apply id="S3.E8.m1.3.3.1.cmml" xref="S3.E8.m1.3.3.1"><plus id="S3.E8.m1.3.3.1.2.cmml" xref="S3.E8.m1.3.3.1.2"></plus><apply id="S3.E8.m1.3.3.1.3.cmml" xref="S3.E8.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.3.3.1.3.1.cmml" xref="S3.E8.m1.3.3.1.3">subscript</csymbol><ci id="S3.E8.m1.3.3.1.3.2.cmml" xref="S3.E8.m1.3.3.1.3.2">ℒ</ci><ci id="S3.E8.m1.3.3.1.3.3.cmml" xref="S3.E8.m1.3.3.1.3.3">𝑐</ci></apply><apply id="S3.E8.m1.3.3.1.1.cmml" xref="S3.E8.m1.3.3.1.1"><times id="S3.E8.m1.3.3.1.1.2.cmml" xref="S3.E8.m1.3.3.1.1.2"></times><apply id="S3.E8.m1.3.3.1.1.3.cmml" xref="S3.E8.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.3.3.1.1.3.1.cmml" xref="S3.E8.m1.3.3.1.1.3">superscript</csymbol><ci id="S3.E8.m1.3.3.1.1.3.2.cmml" xref="S3.E8.m1.3.3.1.1.3.2">𝜆</ci><ci id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1">𝑖</ci></apply><apply id="S3.E8.m1.3.3.1.1.1.2.cmml" xref="S3.E8.m1.3.3.1.1.1.1"><abs id="S3.E8.m1.3.3.1.1.1.2.1.cmml" xref="S3.E8.m1.3.3.1.1.1.1.2"></abs><apply id="S3.E8.m1.3.3.1.1.1.1.1.cmml" xref="S3.E8.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E8.m1.3.3.1.1.1.1.1">superscript</csymbol><ci id="S3.E8.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E8.m1.3.3.1.1.1.1.1.2">𝐰</ci><ci id="S3.E8.m1.2.2.1.1.cmml" xref="S3.E8.m1.2.2.1.1">𝐢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.3c">\min_{\mathbf{w}}\mathcal{L}=\mathcal{L}_{c}+\lambda^{(i)}|\mathbf{w^{(i)}}|</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS5.p4.8" class="ltx_p">where <math id="S3.SS5.p4.8.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS5.p4.8.m1.1a"><mi id="S3.SS5.p4.8.m1.1.1" xref="S3.SS5.p4.8.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p4.8.m1.1b"><ci id="S3.SS5.p4.8.m1.1.1.cmml" xref="S3.SS5.p4.8.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p4.8.m1.1c">\lambda</annotation></semantics></math> is the hyperparameter.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Evaluation</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we conducted a series of experiments on both log-based anomaly detection and medical diagnosis scenarios to answer the following research questions:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">RQ1:</span> How does <span id="S4.I1.i1.p1.1.2" class="ltx_text">FDLoRA</span> perform compared to baselines under different federation setups?</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">RQ2:</span> How does the communication round affect accuracy?</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">RQ3:</span> How does the communication frequency affect accuracy?</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p"><span id="S4.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">RQ4:</span> How does the asynchronous update frequency affect accuracy?</p>
</div>
</li>
<li id="S4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i5.p1.1" class="ltx_p"><span id="S4.I1.i5.p1.1.1" class="ltx_text ltx_font_bold">RQ5:</span> How effective are combine both personalized LoRA and global LoRA?</p>
</div>
</li>
<li id="S4.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i6.p1" class="ltx_para">
<p id="S4.I1.i6.p1.1" class="ltx_p"><span id="S4.I1.i6.p1.1.1" class="ltx_text ltx_font_bold">RQ6:</span> How to balance communication and computation costs?</p>
</div>
</li>
<li id="S4.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i7.p1" class="ltx_para">
<p id="S4.I1.i7.p1.1" class="ltx_p"><span id="S4.I1.i7.p1.1.1" class="ltx_text ltx_font_bold">RQ7:</span> What are the advantages of the AdaFusion compared with other implementations?</p>
</div>
</li>
</ul>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experiment Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Dataset.</span> To evaluate our approach and baselines on different scenarios. We select two scenarios including both system log analysis and medical diagnosis. Specifically, we utilize three public log datasets from LogHub <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib55" title="" class="ltx_ref">2023</a>)</cite>: BGL <cite class="ltx_cite ltx_citemacro_citep">(Oliner and Stearley, <a href="#bib.bib33" title="" class="ltx_ref">2007</a>)</cite>, Spirit <cite class="ltx_cite ltx_citemacro_citep">(Stearley and Oliner, <a href="#bib.bib38" title="" class="ltx_ref">2008</a>)</cite>, and Thunderbird <cite class="ltx_cite ltx_citemacro_citep">(Oliner and Stearley, <a href="#bib.bib33" title="" class="ltx_ref">2007</a>)</cite> in the system log analysis. For medical diagnosis, we employ the bio-medicine dataset <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://huggingface.co/datasets/AdaptLLM/medicine-tasks</span></span></span>. The statistic of data in both scenarios is present in Table <a href="#S4.T2" title="Table 2 ‣ 4.1. Experiment Setup ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Characteristics.</span> In <span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_italic">Scenario-1</span>, three datasets exhibit varying sample sizes, ranging from 10,000 samples each. The input length distributions within these datasets vary significantly, indicating diverse data characteristics and potential challenges in handling inputs of different lengths. In <span id="S4.SS1.p2.1.3" class="ltx_text ltx_font_italic">Scenario-2</span>, five datasets are utilized, with the number of samples ranging from 500 to 2,000. Similarly, these datasets display diverse input length distributions, reflecting the heterogeneity present in federated learning settings. The analysis demonstrates the necessity of addressing the diverse data characteristics present in federated learning scenarios to achieve robust model performance.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Data Preprocessing.</span> In log analysis (<span id="S4.SS1.p3.1.2" class="ltx_text ltx_font_italic">Scenario-1</span>), our primary focus is on the task of log-based anomaly detection. First, the unstructured logs within each dataset are formatted using the log parsing method. Then, the formatted logs are sorted based on timestamps and sequences are generated using fixed-size sliding windows (default is 50). Following the existing work <cite class="ltx_cite ltx_citemacro_citep">(Qi et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>, we retain only the log content sequence, which excludes information such as timestamps. Finally, a conversation template (see appendix) is constructed to guide the LLM in determining whether the log content sequence is an anomaly.
In bio-medicine (<span id="S4.SS1.p3.1.3" class="ltx_text ltx_font_italic">Scenario-2</span>), we refer to the templates for instructions and conversation prompts in <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al<span class="ltx_text">.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2024</a>)</cite>.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Statistic of dataset used in the experiments.</figcaption>
<table id="S4.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<th id="S4.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Scenario</th>
<th id="S4.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Dataset</th>
<th id="S4.T2.1.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">#Samples</th>
<th id="S4.T2.1.1.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">
<table id="S4.T2.1.1.1.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.1.1.1.4.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Input length</td>
</tr>
<tr id="S4.T2.1.1.1.4.1.2" class="ltx_tr">
<td id="S4.T2.1.1.1.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">distribution</td>
</tr>
</table>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.1.2.1" class="ltx_tr">
<td id="S4.T2.1.2.1.1" class="ltx_td ltx_align_left ltx_border_t" rowspan="3"><span id="S4.T2.1.2.1.1.1" class="ltx_text ltx_font_italic">Scenario-1</span></td>
<td id="S4.T2.1.2.1.2" class="ltx_td ltx_align_left ltx_border_t">BGL</td>
<td id="S4.T2.1.2.1.3" class="ltx_td ltx_align_left ltx_border_t">10,000</td>
<td id="S4.T2.1.2.1.4" class="ltx_td ltx_align_left ltx_border_t">78~5,478</td>
</tr>
<tr id="S4.T2.1.3.2" class="ltx_tr">
<td id="S4.T2.1.3.2.1" class="ltx_td ltx_align_left">Spirt</td>
<td id="S4.T2.1.3.2.2" class="ltx_td ltx_align_left">10,000</td>
<td id="S4.T2.1.3.2.3" class="ltx_td ltx_align_left">78~1,628</td>
</tr>
<tr id="S4.T2.1.4.3" class="ltx_tr">
<td id="S4.T2.1.4.3.1" class="ltx_td ltx_align_left">Thunderbird</td>
<td id="S4.T2.1.4.3.2" class="ltx_td ltx_align_left">10,000</td>
<td id="S4.T2.1.4.3.3" class="ltx_td ltx_align_left">145~1,828</td>
</tr>
<tr id="S4.T2.1.5.4" class="ltx_tr">
<td id="S4.T2.1.5.4.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" rowspan="5"><span id="S4.T2.1.5.4.1.1" class="ltx_text ltx_font_italic">Scenario-2</span></td>
<td id="S4.T2.1.5.4.2" class="ltx_td ltx_align_left ltx_border_t">ChemProt</td>
<td id="S4.T2.1.5.4.3" class="ltx_td ltx_align_left ltx_border_t">500</td>
<td id="S4.T2.1.5.4.4" class="ltx_td ltx_align_left ltx_border_t">2,690~4,690</td>
</tr>
<tr id="S4.T2.1.6.5" class="ltx_tr">
<td id="S4.T2.1.6.5.1" class="ltx_td ltx_align_left">MPQ</td>
<td id="S4.T2.1.6.5.2" class="ltx_td ltx_align_left">610</td>
<td id="S4.T2.1.6.5.3" class="ltx_td ltx_align_left">816~2,050</td>
</tr>
<tr id="S4.T2.1.7.6" class="ltx_tr">
<td id="S4.T2.1.7.6.1" class="ltx_td ltx_align_left">PubMedQA</td>
<td id="S4.T2.1.7.6.2" class="ltx_td ltx_align_left">1,000</td>
<td id="S4.T2.1.7.6.3" class="ltx_td ltx_align_left">413~2,940</td>
</tr>
<tr id="S4.T2.1.8.7" class="ltx_tr">
<td id="S4.T2.1.8.7.1" class="ltx_td ltx_align_left">RCT</td>
<td id="S4.T2.1.8.7.2" class="ltx_td ltx_align_left">2,000</td>
<td id="S4.T2.1.8.7.3" class="ltx_td ltx_align_left">1,810~3,530</td>
</tr>
<tr id="S4.T2.1.9.8" class="ltx_tr">
<td id="S4.T2.1.9.8.1" class="ltx_td ltx_align_left ltx_border_bb">USMLE</td>
<td id="S4.T2.1.9.8.2" class="ltx_td ltx_align_left ltx_border_bb">1,270</td>
<td id="S4.T2.1.9.8.3" class="ltx_td ltx_align_left ltx_border_bb">73~3,560</td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.4" class="ltx_p">Moreover, we employ the Dirichlet <span id="S4.SS1.p4.4.1" class="ltx_text ltx_font_italic">non-IID</span> setting, a popular utilized framework in contemporary FL research <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2020</a>; Ma et al<span class="ltx_text">.</span>, <a href="#bib.bib31" title="" class="ltx_ref">2022</a>)</cite>. Within this framework, the data for each participating client is generated from a Dirichlet distribution denoted as <math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="Dir(\alpha)" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mrow id="S4.SS1.p4.1.m1.1.2" xref="S4.SS1.p4.1.m1.1.2.cmml"><mi id="S4.SS1.p4.1.m1.1.2.2" xref="S4.SS1.p4.1.m1.1.2.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.1.m1.1.2.1" xref="S4.SS1.p4.1.m1.1.2.1.cmml">​</mo><mi id="S4.SS1.p4.1.m1.1.2.3" xref="S4.SS1.p4.1.m1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.1.m1.1.2.1a" xref="S4.SS1.p4.1.m1.1.2.1.cmml">​</mo><mi id="S4.SS1.p4.1.m1.1.2.4" xref="S4.SS1.p4.1.m1.1.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.1.m1.1.2.1b" xref="S4.SS1.p4.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS1.p4.1.m1.1.2.5.2" xref="S4.SS1.p4.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p4.1.m1.1.2.5.2.1" xref="S4.SS1.p4.1.m1.1.2.cmml">(</mo><mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">α</mi><mo stretchy="false" id="S4.SS1.p4.1.m1.1.2.5.2.2" xref="S4.SS1.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.2"><times id="S4.SS1.p4.1.m1.1.2.1.cmml" xref="S4.SS1.p4.1.m1.1.2.1"></times><ci id="S4.SS1.p4.1.m1.1.2.2.cmml" xref="S4.SS1.p4.1.m1.1.2.2">𝐷</ci><ci id="S4.SS1.p4.1.m1.1.2.3.cmml" xref="S4.SS1.p4.1.m1.1.2.3">𝑖</ci><ci id="S4.SS1.p4.1.m1.1.2.4.cmml" xref="S4.SS1.p4.1.m1.1.2.4">𝑟</ci><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">Dir(\alpha)</annotation></semantics></math>. The parameter <math id="S4.SS1.p4.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.p4.2.m2.1a"><mi id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><ci id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">\alpha</annotation></semantics></math> governs the shape of the distribution; as it increases, the degree of class imbalance within each client’s dataset diminishes. Consequently, the Dirichlet <span id="S4.SS1.p4.4.2" class="ltx_text ltx_font_italic">non-IID</span> setting enables us to evaluate the performance of our methodologies across a diverse array of <span id="S4.SS1.p4.4.3" class="ltx_text ltx_font_italic">non-IID</span> scenarios, thereby providing insights into their robustness and adaptability. Unless otherwise specified, the default value for <math id="S4.SS1.p4.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.p4.3.m3.1a"><mi id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><ci id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">\alpha</annotation></semantics></math> is assumed to be <math id="S4.SS1.p4.4.m4.1" class="ltx_Math" alttext="0.5" display="inline"><semantics id="S4.SS1.p4.4.m4.1a"><mn id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><cn type="float" id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">0.5</annotation></semantics></math> in the following experiments.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p">Finally, each client’s local data is further divided into training and testing sets in a ratio of 8:2. Consequently, the testing set is stored locally by each client, following the same distribution as the local training set.</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.1" class="ltx_p"><span id="S4.SS1.p6.1.1" class="ltx_text ltx_font_bold">Baseline.</span> To verify the effectiveness of <span id="S4.SS1.p6.1.2" class="ltx_text">FDLoRA</span>, we compare it with six baselines. The details of each algorithm are as follows:</p>
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p"><span id="S4.I2.i1.p1.1.1" class="ltx_text ltx_font_italic">Local:</span> Each client’s local LLM was trained with its local training set independently.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p"><span id="S4.I2.i2.p1.1.1" class="ltx_text ltx_font_italic">FedAVG <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2017</a>)</cite></span> was a popular FL algorithm that aggregates model parameters by weighted averaging. The basic idea of FedAvg is to upload the parameters of local models to the server, where the server computes the average of all model parameters and sends this average back to all local devices. This process can be iterated many times until convergence is achieved.</p>
</div>
</li>
<li id="S4.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i3.p1" class="ltx_para">
<p id="S4.I2.i3.p1.1" class="ltx_p"><span id="S4.I2.i3.p1.1.1" class="ltx_text ltx_font_italic">FedKD <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2022</a>)</cite></span> was a communication-efficient federated learning method, that utilizes adaptive mutual knowledge distillation and dynamic gradient compression.</p>
</div>
</li>
<li id="S4.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i4.p1" class="ltx_para">
<p id="S4.I2.i4.p1.1" class="ltx_p"><span id="S4.I2.i4.p1.1.1" class="ltx_text ltx_font_italic">FedAMP <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite></span> introduced federated attentive message passing to foster collaborations among clients with similar data in federated learning. Convergence proofs for convex and non-convex models are established. Additionally, a heuristic method enhances FedAMP’s performance with deep neural networks.</p>
</div>
</li>
<li id="S4.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i5.p1" class="ltx_para">
<p id="S4.I2.i5.p1.1" class="ltx_p"><span id="S4.I2.i5.p1.1.1" class="ltx_text ltx_font_italic">FedRep <cite class="ltx_cite ltx_citemacro_citep">(Collins et al<span class="ltx_text">.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite></span> presented a novel federated learning framework, emphasizing shared data representation and unique client-specific heads, achieving efficient convergence and superior performance in heterogeneous federated environments.</p>
</div>
</li>
<li id="S4.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i6.p1" class="ltx_para">
<p id="S4.I2.i6.p1.1" class="ltx_p"><span id="S4.I2.i6.p1.1.1" class="ltx_text ltx_font_italic">FedRoD <cite class="ltx_cite ltx_citemacro_citep">(Chen and Chao, <a href="#bib.bib7" title="" class="ltx_ref">2021</a>)</cite></span> introduced a novel federated learning framework, Federated Robust Decoupling, which addressed the challenge of balancing generic and personalized model performance. By decoupling the model’s dual duties into two prediction tasks and leveraging robust loss functions, FedRoD achieved state-of-the-art performance.</p>
</div>
</li>
</ul>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2406.07925/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="177" height="88" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Trainable Parameters vs Non-Trainable Parameters.</figcaption>
</figure>
<div id="S4.SS1.p7" class="ltx_para">
<p id="S4.SS1.p7.2" class="ltx_p"><span id="S4.SS1.p7.2.1" class="ltx_text ltx_font_bold">Implementation.</span> We have chosen LLaMA2-7B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2023</a>)</cite> as the backbone of LLM for our evaluation. LLaMA2-7B is an encoder-only architecture developed by Meta and has been pre-trained on over 1 trillion tokens. Despite having a smaller parameter scale (7 billion parameters), it has demonstrated superior performance on various benchmarks, even outperforming GPT-3 (175 billion parameters) <cite class="ltx_cite ltx_citemacro_citep">(Floridi and Chiriatti, <a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>. LLaMA2-7B may be a suitable choice for researchers and startups with resource constraints due to its compact parameter size. Then, we implement LoRA <span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://huggingface.co/docs/peft/index</span></span></span> to significantly decrease computational and storage costs, while yielding performance comparable to a fully fine-tuned model. As shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1. Experiment Setup ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we compared the number of trainable parameters and the total number of parameters. The trainable parameters are only about <math id="S4.SS1.p7.1.m1.1" class="ltx_Math" alttext="0.03B" display="inline"><semantics id="S4.SS1.p7.1.m1.1a"><mrow id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml"><mn id="S4.SS1.p7.1.m1.1.1.2" xref="S4.SS1.p7.1.m1.1.1.2.cmml">0.03</mn><mo lspace="0em" rspace="0em" id="S4.SS1.p7.1.m1.1.1.1" xref="S4.SS1.p7.1.m1.1.1.1.cmml">​</mo><mi id="S4.SS1.p7.1.m1.1.1.3" xref="S4.SS1.p7.1.m1.1.1.3.cmml">B</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b"><apply id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1"><times id="S4.SS1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1.1"></times><cn type="float" id="S4.SS1.p7.1.m1.1.1.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2">0.03</cn><ci id="S4.SS1.p7.1.m1.1.1.3.cmml" xref="S4.SS1.p7.1.m1.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">0.03B</annotation></semantics></math>, which is only <math id="S4.SS1.p7.2.m2.1" class="ltx_Math" alttext="\sim 5\%" display="inline"><semantics id="S4.SS1.p7.2.m2.1a"><mrow id="S4.SS1.p7.2.m2.1.1" xref="S4.SS1.p7.2.m2.1.1.cmml"><mi id="S4.SS1.p7.2.m2.1.1.2" xref="S4.SS1.p7.2.m2.1.1.2.cmml"></mi><mo id="S4.SS1.p7.2.m2.1.1.1" xref="S4.SS1.p7.2.m2.1.1.1.cmml">∼</mo><mrow id="S4.SS1.p7.2.m2.1.1.3" xref="S4.SS1.p7.2.m2.1.1.3.cmml"><mn id="S4.SS1.p7.2.m2.1.1.3.2" xref="S4.SS1.p7.2.m2.1.1.3.2.cmml">5</mn><mo id="S4.SS1.p7.2.m2.1.1.3.1" xref="S4.SS1.p7.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.2.m2.1b"><apply id="S4.SS1.p7.2.m2.1.1.cmml" xref="S4.SS1.p7.2.m2.1.1"><csymbol cd="latexml" id="S4.SS1.p7.2.m2.1.1.1.cmml" xref="S4.SS1.p7.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S4.SS1.p7.2.m2.1.1.2.cmml" xref="S4.SS1.p7.2.m2.1.1.2">absent</csymbol><apply id="S4.SS1.p7.2.m2.1.1.3.cmml" xref="S4.SS1.p7.2.m2.1.1.3"><csymbol cd="latexml" id="S4.SS1.p7.2.m2.1.1.3.1.cmml" xref="S4.SS1.p7.2.m2.1.1.3.1">percent</csymbol><cn type="integer" id="S4.SS1.p7.2.m2.1.1.3.2.cmml" xref="S4.SS1.p7.2.m2.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.2.m2.1c">\sim 5\%</annotation></semantics></math> of the total parameters. Finally, we fine-tuning the LLaMA2-7B with <span id="S4.SS1.p7.2.2" class="ltx_text">FDLoRA</span> framework. The details of the settings are as follows:</p>
</div>
<div id="S4.SS1.p8" class="ltx_para">
<p id="S4.SS1.p8.10" class="ltx_p">For the inner optimization, each client’s local LLM was fine-tuned by LoRA with its local training set for 3 epochs with the learning rate <math id="S4.SS1.p8.1.m1.1" class="ltx_Math" alttext="lr=0.0002" display="inline"><semantics id="S4.SS1.p8.1.m1.1a"><mrow id="S4.SS1.p8.1.m1.1.1" xref="S4.SS1.p8.1.m1.1.1.cmml"><mrow id="S4.SS1.p8.1.m1.1.1.2" xref="S4.SS1.p8.1.m1.1.1.2.cmml"><mi id="S4.SS1.p8.1.m1.1.1.2.2" xref="S4.SS1.p8.1.m1.1.1.2.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p8.1.m1.1.1.2.1" xref="S4.SS1.p8.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS1.p8.1.m1.1.1.2.3" xref="S4.SS1.p8.1.m1.1.1.2.3.cmml">r</mi></mrow><mo id="S4.SS1.p8.1.m1.1.1.1" xref="S4.SS1.p8.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.1.m1.1.1.3" xref="S4.SS1.p8.1.m1.1.1.3.cmml">0.0002</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.1.m1.1b"><apply id="S4.SS1.p8.1.m1.1.1.cmml" xref="S4.SS1.p8.1.m1.1.1"><eq id="S4.SS1.p8.1.m1.1.1.1.cmml" xref="S4.SS1.p8.1.m1.1.1.1"></eq><apply id="S4.SS1.p8.1.m1.1.1.2.cmml" xref="S4.SS1.p8.1.m1.1.1.2"><times id="S4.SS1.p8.1.m1.1.1.2.1.cmml" xref="S4.SS1.p8.1.m1.1.1.2.1"></times><ci id="S4.SS1.p8.1.m1.1.1.2.2.cmml" xref="S4.SS1.p8.1.m1.1.1.2.2">𝑙</ci><ci id="S4.SS1.p8.1.m1.1.1.2.3.cmml" xref="S4.SS1.p8.1.m1.1.1.2.3">𝑟</ci></apply><cn type="float" id="S4.SS1.p8.1.m1.1.1.3.cmml" xref="S4.SS1.p8.1.m1.1.1.3">0.0002</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.1.m1.1c">lr=0.0002</annotation></semantics></math>, batch size <math id="S4.SS1.p8.2.m2.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S4.SS1.p8.2.m2.1a"><mrow id="S4.SS1.p8.2.m2.1.1" xref="S4.SS1.p8.2.m2.1.1.cmml"><mi id="S4.SS1.p8.2.m2.1.1.2" xref="S4.SS1.p8.2.m2.1.1.2.cmml">b</mi><mo id="S4.SS1.p8.2.m2.1.1.1" xref="S4.SS1.p8.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.2.m2.1.1.3" xref="S4.SS1.p8.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.2.m2.1b"><apply id="S4.SS1.p8.2.m2.1.1.cmml" xref="S4.SS1.p8.2.m2.1.1"><eq id="S4.SS1.p8.2.m2.1.1.1.cmml" xref="S4.SS1.p8.2.m2.1.1.1"></eq><ci id="S4.SS1.p8.2.m2.1.1.2.cmml" xref="S4.SS1.p8.2.m2.1.1.2">𝑏</ci><cn type="integer" id="S4.SS1.p8.2.m2.1.1.3.cmml" xref="S4.SS1.p8.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.2.m2.1c">b=1</annotation></semantics></math>. The optimizer is PagedAdamW32bit <span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://huggingface.co/docs/bitsandbytes/main/reference/optim/adamw</span></span></span> with the momentum <math id="S4.SS1.p8.3.m3.1" class="ltx_Math" alttext="m=0.9" display="inline"><semantics id="S4.SS1.p8.3.m3.1a"><mrow id="S4.SS1.p8.3.m3.1.1" xref="S4.SS1.p8.3.m3.1.1.cmml"><mi id="S4.SS1.p8.3.m3.1.1.2" xref="S4.SS1.p8.3.m3.1.1.2.cmml">m</mi><mo id="S4.SS1.p8.3.m3.1.1.1" xref="S4.SS1.p8.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.3.m3.1.1.3" xref="S4.SS1.p8.3.m3.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.3.m3.1b"><apply id="S4.SS1.p8.3.m3.1.1.cmml" xref="S4.SS1.p8.3.m3.1.1"><eq id="S4.SS1.p8.3.m3.1.1.1.cmml" xref="S4.SS1.p8.3.m3.1.1.1"></eq><ci id="S4.SS1.p8.3.m3.1.1.2.cmml" xref="S4.SS1.p8.3.m3.1.1.2">𝑚</ci><cn type="float" id="S4.SS1.p8.3.m3.1.1.3.cmml" xref="S4.SS1.p8.3.m3.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.3.m3.1c">m=0.9</annotation></semantics></math>, learning rate decay <math id="S4.SS1.p8.4.m4.1" class="ltx_Math" alttext="\eta=0.1" display="inline"><semantics id="S4.SS1.p8.4.m4.1a"><mrow id="S4.SS1.p8.4.m4.1.1" xref="S4.SS1.p8.4.m4.1.1.cmml"><mi id="S4.SS1.p8.4.m4.1.1.2" xref="S4.SS1.p8.4.m4.1.1.2.cmml">η</mi><mo id="S4.SS1.p8.4.m4.1.1.1" xref="S4.SS1.p8.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.4.m4.1.1.3" xref="S4.SS1.p8.4.m4.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.4.m4.1b"><apply id="S4.SS1.p8.4.m4.1.1.cmml" xref="S4.SS1.p8.4.m4.1.1"><eq id="S4.SS1.p8.4.m4.1.1.1.cmml" xref="S4.SS1.p8.4.m4.1.1.1"></eq><ci id="S4.SS1.p8.4.m4.1.1.2.cmml" xref="S4.SS1.p8.4.m4.1.1.2">𝜂</ci><cn type="float" id="S4.SS1.p8.4.m4.1.1.3.cmml" xref="S4.SS1.p8.4.m4.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.4.m4.1c">\eta=0.1</annotation></semantics></math>, and weight decay <math id="S4.SS1.p8.5.m5.1" class="ltx_Math" alttext="\gamma=0.01" display="inline"><semantics id="S4.SS1.p8.5.m5.1a"><mrow id="S4.SS1.p8.5.m5.1.1" xref="S4.SS1.p8.5.m5.1.1.cmml"><mi id="S4.SS1.p8.5.m5.1.1.2" xref="S4.SS1.p8.5.m5.1.1.2.cmml">γ</mi><mo id="S4.SS1.p8.5.m5.1.1.1" xref="S4.SS1.p8.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.5.m5.1.1.3" xref="S4.SS1.p8.5.m5.1.1.3.cmml">0.01</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.5.m5.1b"><apply id="S4.SS1.p8.5.m5.1.1.cmml" xref="S4.SS1.p8.5.m5.1.1"><eq id="S4.SS1.p8.5.m5.1.1.1.cmml" xref="S4.SS1.p8.5.m5.1.1.1"></eq><ci id="S4.SS1.p8.5.m5.1.1.2.cmml" xref="S4.SS1.p8.5.m5.1.1.2">𝛾</ci><cn type="float" id="S4.SS1.p8.5.m5.1.1.3.cmml" xref="S4.SS1.p8.5.m5.1.1.3">0.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.5.m5.1c">\gamma=0.01</annotation></semantics></math>. For the outer optimization, we set the learning rate <math id="S4.SS1.p8.6.m6.1" class="ltx_Math" alttext="lr=0.001" display="inline"><semantics id="S4.SS1.p8.6.m6.1a"><mrow id="S4.SS1.p8.6.m6.1.1" xref="S4.SS1.p8.6.m6.1.1.cmml"><mrow id="S4.SS1.p8.6.m6.1.1.2" xref="S4.SS1.p8.6.m6.1.1.2.cmml"><mi id="S4.SS1.p8.6.m6.1.1.2.2" xref="S4.SS1.p8.6.m6.1.1.2.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p8.6.m6.1.1.2.1" xref="S4.SS1.p8.6.m6.1.1.2.1.cmml">​</mo><mi id="S4.SS1.p8.6.m6.1.1.2.3" xref="S4.SS1.p8.6.m6.1.1.2.3.cmml">r</mi></mrow><mo id="S4.SS1.p8.6.m6.1.1.1" xref="S4.SS1.p8.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.6.m6.1.1.3" xref="S4.SS1.p8.6.m6.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.6.m6.1b"><apply id="S4.SS1.p8.6.m6.1.1.cmml" xref="S4.SS1.p8.6.m6.1.1"><eq id="S4.SS1.p8.6.m6.1.1.1.cmml" xref="S4.SS1.p8.6.m6.1.1.1"></eq><apply id="S4.SS1.p8.6.m6.1.1.2.cmml" xref="S4.SS1.p8.6.m6.1.1.2"><times id="S4.SS1.p8.6.m6.1.1.2.1.cmml" xref="S4.SS1.p8.6.m6.1.1.2.1"></times><ci id="S4.SS1.p8.6.m6.1.1.2.2.cmml" xref="S4.SS1.p8.6.m6.1.1.2.2">𝑙</ci><ci id="S4.SS1.p8.6.m6.1.1.2.3.cmml" xref="S4.SS1.p8.6.m6.1.1.2.3">𝑟</ci></apply><cn type="float" id="S4.SS1.p8.6.m6.1.1.3.cmml" xref="S4.SS1.p8.6.m6.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.6.m6.1c">lr=0.001</annotation></semantics></math>, momentum <math id="S4.SS1.p8.7.m7.1" class="ltx_Math" alttext="m=0.5" display="inline"><semantics id="S4.SS1.p8.7.m7.1a"><mrow id="S4.SS1.p8.7.m7.1.1" xref="S4.SS1.p8.7.m7.1.1.cmml"><mi id="S4.SS1.p8.7.m7.1.1.2" xref="S4.SS1.p8.7.m7.1.1.2.cmml">m</mi><mo id="S4.SS1.p8.7.m7.1.1.1" xref="S4.SS1.p8.7.m7.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.7.m7.1.1.3" xref="S4.SS1.p8.7.m7.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.7.m7.1b"><apply id="S4.SS1.p8.7.m7.1.1.cmml" xref="S4.SS1.p8.7.m7.1.1"><eq id="S4.SS1.p8.7.m7.1.1.1.cmml" xref="S4.SS1.p8.7.m7.1.1.1"></eq><ci id="S4.SS1.p8.7.m7.1.1.2.cmml" xref="S4.SS1.p8.7.m7.1.1.2">𝑚</ci><cn type="float" id="S4.SS1.p8.7.m7.1.1.3.cmml" xref="S4.SS1.p8.7.m7.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.7.m7.1c">m=0.5</annotation></semantics></math>, and the total communication across all clients <math id="S4.SS1.p8.8.m8.1" class="ltx_Math" alttext="T=30" display="inline"><semantics id="S4.SS1.p8.8.m8.1a"><mrow id="S4.SS1.p8.8.m8.1.1" xref="S4.SS1.p8.8.m8.1.1.cmml"><mi id="S4.SS1.p8.8.m8.1.1.2" xref="S4.SS1.p8.8.m8.1.1.2.cmml">T</mi><mo id="S4.SS1.p8.8.m8.1.1.1" xref="S4.SS1.p8.8.m8.1.1.1.cmml">=</mo><mn id="S4.SS1.p8.8.m8.1.1.3" xref="S4.SS1.p8.8.m8.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.8.m8.1b"><apply id="S4.SS1.p8.8.m8.1.1.cmml" xref="S4.SS1.p8.8.m8.1.1"><eq id="S4.SS1.p8.8.m8.1.1.1.cmml" xref="S4.SS1.p8.8.m8.1.1.1"></eq><ci id="S4.SS1.p8.8.m8.1.1.2.cmml" xref="S4.SS1.p8.8.m8.1.1.2">𝑇</ci><cn type="integer" id="S4.SS1.p8.8.m8.1.1.3.cmml" xref="S4.SS1.p8.8.m8.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.8.m8.1c">T=30</annotation></semantics></math>. For the adaptive fusion function, we set the max inference step is 5, and the regularization factor <math id="S4.SS1.p8.9.m9.1" class="ltx_Math" alttext="\lambda^{(i)}=0.05" display="inline"><semantics id="S4.SS1.p8.9.m9.1a"><mrow id="S4.SS1.p8.9.m9.1.2" xref="S4.SS1.p8.9.m9.1.2.cmml"><msup id="S4.SS1.p8.9.m9.1.2.2" xref="S4.SS1.p8.9.m9.1.2.2.cmml"><mi id="S4.SS1.p8.9.m9.1.2.2.2" xref="S4.SS1.p8.9.m9.1.2.2.2.cmml">λ</mi><mrow id="S4.SS1.p8.9.m9.1.1.1.3" xref="S4.SS1.p8.9.m9.1.2.2.cmml"><mo stretchy="false" id="S4.SS1.p8.9.m9.1.1.1.3.1" xref="S4.SS1.p8.9.m9.1.2.2.cmml">(</mo><mi id="S4.SS1.p8.9.m9.1.1.1.1" xref="S4.SS1.p8.9.m9.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S4.SS1.p8.9.m9.1.1.1.3.2" xref="S4.SS1.p8.9.m9.1.2.2.cmml">)</mo></mrow></msup><mo id="S4.SS1.p8.9.m9.1.2.1" xref="S4.SS1.p8.9.m9.1.2.1.cmml">=</mo><mn id="S4.SS1.p8.9.m9.1.2.3" xref="S4.SS1.p8.9.m9.1.2.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.9.m9.1b"><apply id="S4.SS1.p8.9.m9.1.2.cmml" xref="S4.SS1.p8.9.m9.1.2"><eq id="S4.SS1.p8.9.m9.1.2.1.cmml" xref="S4.SS1.p8.9.m9.1.2.1"></eq><apply id="S4.SS1.p8.9.m9.1.2.2.cmml" xref="S4.SS1.p8.9.m9.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p8.9.m9.1.2.2.1.cmml" xref="S4.SS1.p8.9.m9.1.2.2">superscript</csymbol><ci id="S4.SS1.p8.9.m9.1.2.2.2.cmml" xref="S4.SS1.p8.9.m9.1.2.2.2">𝜆</ci><ci id="S4.SS1.p8.9.m9.1.1.1.1.cmml" xref="S4.SS1.p8.9.m9.1.1.1.1">𝑖</ci></apply><cn type="float" id="S4.SS1.p8.9.m9.1.2.3.cmml" xref="S4.SS1.p8.9.m9.1.2.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.9.m9.1c">\lambda^{(i)}=0.05</annotation></semantics></math> in client <math id="S4.SS1.p8.10.m10.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p8.10.m10.1a"><mi id="S4.SS1.p8.10.m10.1.1" xref="S4.SS1.p8.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p8.10.m10.1b"><ci id="S4.SS1.p8.10.m10.1.1.cmml" xref="S4.SS1.p8.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p8.10.m10.1c">i</annotation></semantics></math> .</p>
</div>
<div id="S4.SS1.p9" class="ltx_para">
<p id="S4.SS1.p9.1" class="ltx_p"><span id="S4.SS1.p9.1.1" class="ltx_text ltx_font_bold">Evaluation Metrics.</span> For the <span id="S4.SS1.p9.1.2" class="ltx_text ltx_font_italic">Scenario-1</span>, we use the <span id="S4.SS1.p9.1.3" class="ltx_text ltx_font_bold">F1 score</span> to evaluate the accuracy of the log-based anomaly detection task. For the <span id="S4.SS1.p9.1.4" class="ltx_text ltx_font_italic">Scenario-2</span>, we compare the output to the groundtruth answer, and the accuracy of an individual data example is considered true if the model output matches the groundtruth. To facilitate clarity and consistency in our descriptions, we will use the term <span id="S4.SS1.p9.1.5" class="ltx_text ltx_font_bold">accuracy</span> uniformly in the subsequent sections.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>RQ1: Performance on different scenarios</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.4" class="ltx_p"><span id="S4.SS2.p1.4.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> The performance of <span id="S4.SS2.p1.4.2" class="ltx_text">FDLoRA</span> is compared with baseline methods on four datasets. We set the client number <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">N</mi><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><eq id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></eq><ci id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">N=5</annotation></semantics></math>, the local update epochs <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">K</mi><mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><eq id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></eq><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">K=3</annotation></semantics></math>, the batch size <math id="S4.SS2.p1.3.m3.1" class="ltx_Math" alttext="B=1" display="inline"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">B</mi><mo id="S4.SS2.p1.3.m3.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><eq id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1"></eq><ci id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2">𝐵</ci><cn type="integer" id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">B=1</annotation></semantics></math>, and the total communication round <math id="S4.SS2.p1.4.m4.1" class="ltx_Math" alttext="T=30" display="inline"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">T</mi><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><eq id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></eq><ci id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">𝑇</ci><cn type="integer" id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">T=30</annotation></semantics></math>. Each client is assigned an equal number of samples, and the training and testing sets are split with a ratio of 8:2 for each client. The results are present in Table <a href="#S4.T3" title="Table 3 ‣ 4.2. RQ1: Performance on different scenarios ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.2" class="ltx_p"><span id="S4.SS2.p2.2.1" class="ltx_text">FDLoRA</span> emerges as the standout performer, consistently exhibiting the highest mean accuracy across both scenarios and varying values of <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\alpha</annotation></semantics></math>. This indicates <span id="S4.SS2.p2.2.2" class="ltx_text">FDLoRA</span>’s robustness and effectiveness in mitigating the challenges associated with <span id="S4.SS2.p2.2.3" class="ltx_text ltx_font_italic">non-IID</span> data distribution. The comparative analysis also reveals interesting trends regarding the impact of class imbalance on model performance. As <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\alpha</annotation></semantics></math> increases, denoting reduced class imbalance, all methods demonstrate improved performance, suggesting that models find it easier to learn with more balanced class distributions. However, the extent of improvement varies among methods, with <span id="S4.SS2.p2.2.4" class="ltx_text">FDLoRA</span> consistently outperforming others. These findings underscore the importance of employing tailored federated learning approaches like <span id="S4.SS2.p2.2.5" class="ltx_text">FDLoRA</span> to optimize model performance in scenarios characterized by <span id="S4.SS2.p2.2.6" class="ltx_text ltx_font_italic">non-IID</span> data distributions. Furthermore, the reported standard deviations highlight the variability in performance across multiple runs, emphasizing the need for robustness in federated learning algorithms to ensure consistent results in real-world applications.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">In summary, the <span id="S4.SS2.p3.1.1" class="ltx_text">FDLoRA</span> offers several advantages, including high performance, global collaboration capabilities, model robustness, and data privacy protection. These benefits make <span id="S4.SS2.p3.1.2" class="ltx_text">FDLoRA</span> a powerful solution for FL problems and promote better cooperation among all parties involved.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span>Comparison results under Dirichlet <span id="S4.T3.53.1" class="ltx_text ltx_font_italic">non-IID</span> on both <span id="S4.T3.54.2" class="ltx_text ltx_font_italic">Scenario-1</span> and <span id="S4.T3.55.3" class="ltx_text ltx_font_italic">Scenario-2</span>.</figcaption>
<table id="S4.T3.49" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.49.50.1" class="ltx_tr">
<th id="S4.T3.49.50.1.1" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">  <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T3.49.50.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" colspan="3">
<span id="S4.T3.49.50.1.2.1" class="ltx_text ltx_font_italic">Scenario-1</span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T3.49.50.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T3.49.50.1.3.1" class="ltx_text ltx_font_italic">Scenario-2</span></th>
</tr>
<tr id="S4.T3.7.7" class="ltx_tr">
<th id="S4.T3.1.1.1" class="ltx_td ltx_nopad ltx_align_left ltx_th ltx_th_column ltx_border_t">
<svg version="1.1" height="15.57" width="93.78" overflow="visible"><g transform="translate(0,15.57) scale(1,-1)"><path d="M 0,15.57 93.78,0" stroke="#000000" stroke-width="0.4"></path><g class="ltx_svg_fog" transform="translate(0,0)"><g transform="translate(0,9.61) scale(1, -1)"><foreignObject width="46.89" height="9.61" overflow="visible">
<span id="S4.T3.1.1.1.pic1.2.1" class="ltx_inline-block">
<span id="S4.T3.1.1.1.pic1.2.1.1" class="ltx_inline-block ltx_align_left">
<span id="S4.T3.1.1.1.pic1.2.1.1.1" class="ltx_p">Method</span>
</span>
</span></foreignObject></g></g><g class="ltx_svg_fog" transform="translate(84.93,9.61)"><g transform="translate(0,5.96) scale(1, -1)"><foreignObject width="8.85" height="5.96" overflow="visible">
<span id="S4.T3.1.1.1.pic1.1.1" class="ltx_inline-block">
<span id="S4.T3.1.1.1.pic1.1.1.1" class="ltx_inline-block ltx_align_right">
<span id="S4.T3.1.1.1.pic1.1.1.1.1" class="ltx_p"><math id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1a"><mi id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.pic1.1.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1b"><ci id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.pic1.1.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.pic1.1.1.1.1.m1.1c">\alpha</annotation></semantics></math></span>
</span>
</span></foreignObject></g></g></g></svg>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T3.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S4.T3.2.2.2.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="S4.T3.2.2.2.m1.1a"><mn id="S4.T3.2.2.2.m1.1.1" xref="S4.T3.2.2.2.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.m1.1b"><cn type="float" id="S4.T3.2.2.2.m1.1.1.cmml" xref="S4.T3.2.2.2.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.2.m1.1c">0.1</annotation></semantics></math></th>
<th id="S4.T3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S4.T3.3.3.3.m1.1" class="ltx_Math" alttext="0.5" display="inline"><semantics id="S4.T3.3.3.3.m1.1a"><mn id="S4.T3.3.3.3.m1.1.1" xref="S4.T3.3.3.3.m1.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.m1.1b"><cn type="float" id="S4.T3.3.3.3.m1.1.1.cmml" xref="S4.T3.3.3.3.m1.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.3.3.m1.1c">0.5</annotation></semantics></math></th>
<th id="S4.T3.4.4.4" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">
<math id="S4.T3.4.4.4.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="S4.T3.4.4.4.m1.1a"><mn id="S4.T3.4.4.4.m1.1.1" xref="S4.T3.4.4.4.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S4.T3.4.4.4.m1.1b"><cn type="float" id="S4.T3.4.4.4.m1.1.1.cmml" xref="S4.T3.4.4.4.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.4.4.m1.1c">1.0</annotation></semantics></math>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T3.5.5.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S4.T3.5.5.5.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="S4.T3.5.5.5.m1.1a"><mn id="S4.T3.5.5.5.m1.1.1" xref="S4.T3.5.5.5.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.T3.5.5.5.m1.1b"><cn type="float" id="S4.T3.5.5.5.m1.1.1.cmml" xref="S4.T3.5.5.5.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.5.5.m1.1c">0.1</annotation></semantics></math></th>
<th id="S4.T3.6.6.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S4.T3.6.6.6.m1.1" class="ltx_Math" alttext="0.5" display="inline"><semantics id="S4.T3.6.6.6.m1.1a"><mn id="S4.T3.6.6.6.m1.1.1" xref="S4.T3.6.6.6.m1.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S4.T3.6.6.6.m1.1b"><cn type="float" id="S4.T3.6.6.6.m1.1.1.cmml" xref="S4.T3.6.6.6.m1.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.6.6.m1.1c">0.5</annotation></semantics></math></th>
<th id="S4.T3.7.7.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S4.T3.7.7.7.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="S4.T3.7.7.7.m1.1a"><mn id="S4.T3.7.7.7.m1.1.1" xref="S4.T3.7.7.7.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S4.T3.7.7.7.m1.1b"><cn type="float" id="S4.T3.7.7.7.m1.1.1.cmml" xref="S4.T3.7.7.7.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.7.7.7.m1.1c">1.0</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.13.13" class="ltx_tr">
<td id="S4.T3.13.13.7" class="ltx_td ltx_align_left ltx_border_t">Local   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.8.8.1" class="ltx_td ltx_align_center ltx_border_t">61.30 <math id="S4.T3.8.8.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.8.8.1.m1.1a"><mo id="S4.T3.8.8.1.m1.1.1" xref="S4.T3.8.8.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.8.8.1.m1.1b"><csymbol cd="latexml" id="S4.T3.8.8.1.m1.1.1.cmml" xref="S4.T3.8.8.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.8.8.1.m1.1c">\pm</annotation></semantics></math> 2.01</td>
<td id="S4.T3.9.9.2" class="ltx_td ltx_align_center ltx_border_t">59.07 <math id="S4.T3.9.9.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.9.9.2.m1.1a"><mo id="S4.T3.9.9.2.m1.1.1" xref="S4.T3.9.9.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.9.9.2.m1.1b"><csymbol cd="latexml" id="S4.T3.9.9.2.m1.1.1.cmml" xref="S4.T3.9.9.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.9.9.2.m1.1c">\pm</annotation></semantics></math> 1.35</td>
<td id="S4.T3.10.10.3" class="ltx_td ltx_align_right ltx_border_t">57.50 <math id="S4.T3.10.10.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.10.10.3.m1.1a"><mo id="S4.T3.10.10.3.m1.1.1" xref="S4.T3.10.10.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.10.10.3.m1.1b"><csymbol cd="latexml" id="S4.T3.10.10.3.m1.1.1.cmml" xref="S4.T3.10.10.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.10.10.3.m1.1c">\pm</annotation></semantics></math> 0.61   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.11.11.4" class="ltx_td ltx_align_center ltx_border_t">56.30 <math id="S4.T3.11.11.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.11.11.4.m1.1a"><mo id="S4.T3.11.11.4.m1.1.1" xref="S4.T3.11.11.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.11.11.4.m1.1b"><csymbol cd="latexml" id="S4.T3.11.11.4.m1.1.1.cmml" xref="S4.T3.11.11.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.11.11.4.m1.1c">\pm</annotation></semantics></math> 0.83</td>
<td id="S4.T3.12.12.5" class="ltx_td ltx_align_center ltx_border_t">53.80 <math id="S4.T3.12.12.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.12.12.5.m1.1a"><mo id="S4.T3.12.12.5.m1.1.1" xref="S4.T3.12.12.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.12.12.5.m1.1b"><csymbol cd="latexml" id="S4.T3.12.12.5.m1.1.1.cmml" xref="S4.T3.12.12.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.12.12.5.m1.1c">\pm</annotation></semantics></math> 0.68</td>
<td id="S4.T3.13.13.6" class="ltx_td ltx_align_center ltx_border_t">50.80 <math id="S4.T3.13.13.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.13.13.6.m1.1a"><mo id="S4.T3.13.13.6.m1.1.1" xref="S4.T3.13.13.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.13.13.6.m1.1b"><csymbol cd="latexml" id="S4.T3.13.13.6.m1.1.1.cmml" xref="S4.T3.13.13.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.13.13.6.m1.1c">\pm</annotation></semantics></math> 0.59</td>
</tr>
<tr id="S4.T3.19.19" class="ltx_tr">
<td id="S4.T3.19.19.7" class="ltx_td ltx_align_left">FedAVG   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.14.14.1" class="ltx_td ltx_align_center">44.30 <math id="S4.T3.14.14.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.14.14.1.m1.1a"><mo id="S4.T3.14.14.1.m1.1.1" xref="S4.T3.14.14.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.14.14.1.m1.1b"><csymbol cd="latexml" id="S4.T3.14.14.1.m1.1.1.cmml" xref="S4.T3.14.14.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.14.14.1.m1.1c">\pm</annotation></semantics></math> 1.07</td>
<td id="S4.T3.15.15.2" class="ltx_td ltx_align_center">44.53 <math id="S4.T3.15.15.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.15.15.2.m1.1a"><mo id="S4.T3.15.15.2.m1.1.1" xref="S4.T3.15.15.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.15.15.2.m1.1b"><csymbol cd="latexml" id="S4.T3.15.15.2.m1.1.1.cmml" xref="S4.T3.15.15.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.15.15.2.m1.1c">\pm</annotation></semantics></math> 0.77</td>
<td id="S4.T3.16.16.3" class="ltx_td ltx_align_right">44.10 <math id="S4.T3.16.16.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.16.16.3.m1.1a"><mo id="S4.T3.16.16.3.m1.1.1" xref="S4.T3.16.16.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.16.16.3.m1.1b"><csymbol cd="latexml" id="S4.T3.16.16.3.m1.1.1.cmml" xref="S4.T3.16.16.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.16.16.3.m1.1c">\pm</annotation></semantics></math> 0.43   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.17.17.4" class="ltx_td ltx_align_center">38.90 <math id="S4.T3.17.17.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.17.17.4.m1.1a"><mo id="S4.T3.17.17.4.m1.1.1" xref="S4.T3.17.17.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.17.17.4.m1.1b"><csymbol cd="latexml" id="S4.T3.17.17.4.m1.1.1.cmml" xref="S4.T3.17.17.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.17.17.4.m1.1c">\pm</annotation></semantics></math> 0.32</td>
<td id="S4.T3.18.18.5" class="ltx_td ltx_align_center">38.70 <math id="S4.T3.18.18.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.18.18.5.m1.1a"><mo id="S4.T3.18.18.5.m1.1.1" xref="S4.T3.18.18.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.18.18.5.m1.1b"><csymbol cd="latexml" id="S4.T3.18.18.5.m1.1.1.cmml" xref="S4.T3.18.18.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.18.18.5.m1.1c">\pm</annotation></semantics></math> 0.27</td>
<td id="S4.T3.19.19.6" class="ltx_td ltx_align_center">36.80 <math id="S4.T3.19.19.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.19.19.6.m1.1a"><mo id="S4.T3.19.19.6.m1.1.1" xref="S4.T3.19.19.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.19.19.6.m1.1b"><csymbol cd="latexml" id="S4.T3.19.19.6.m1.1.1.cmml" xref="S4.T3.19.19.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.19.19.6.m1.1c">\pm</annotation></semantics></math> 0.19</td>
</tr>
<tr id="S4.T3.25.25" class="ltx_tr">
<td id="S4.T3.25.25.7" class="ltx_td ltx_align_left">FedKD   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.20.20.1" class="ltx_td ltx_align_center">63.30 <math id="S4.T3.20.20.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.20.20.1.m1.1a"><mo id="S4.T3.20.20.1.m1.1.1" xref="S4.T3.20.20.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.20.20.1.m1.1b"><csymbol cd="latexml" id="S4.T3.20.20.1.m1.1.1.cmml" xref="S4.T3.20.20.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.20.20.1.m1.1c">\pm</annotation></semantics></math> 1.11</td>
<td id="S4.T3.21.21.2" class="ltx_td ltx_align_center">62.57 <math id="S4.T3.21.21.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.21.21.2.m1.1a"><mo id="S4.T3.21.21.2.m1.1.1" xref="S4.T3.21.21.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.21.21.2.m1.1b"><csymbol cd="latexml" id="S4.T3.21.21.2.m1.1.1.cmml" xref="S4.T3.21.21.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.21.21.2.m1.1c">\pm</annotation></semantics></math> 0.82</td>
<td id="S4.T3.22.22.3" class="ltx_td ltx_align_right">61.60 <math id="S4.T3.22.22.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.22.22.3.m1.1a"><mo id="S4.T3.22.22.3.m1.1.1" xref="S4.T3.22.22.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.22.22.3.m1.1b"><csymbol cd="latexml" id="S4.T3.22.22.3.m1.1.1.cmml" xref="S4.T3.22.22.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.22.22.3.m1.1c">\pm</annotation></semantics></math> 0.38   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.23.23.4" class="ltx_td ltx_align_center">49.40 <math id="S4.T3.23.23.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.23.23.4.m1.1a"><mo id="S4.T3.23.23.4.m1.1.1" xref="S4.T3.23.23.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.23.23.4.m1.1b"><csymbol cd="latexml" id="S4.T3.23.23.4.m1.1.1.cmml" xref="S4.T3.23.23.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.23.23.4.m1.1c">\pm</annotation></semantics></math> 0.93</td>
<td id="S4.T3.24.24.5" class="ltx_td ltx_align_center">47.10 <math id="S4.T3.24.24.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.24.24.5.m1.1a"><mo id="S4.T3.24.24.5.m1.1.1" xref="S4.T3.24.24.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.24.24.5.m1.1b"><csymbol cd="latexml" id="S4.T3.24.24.5.m1.1.1.cmml" xref="S4.T3.24.24.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.24.24.5.m1.1c">\pm</annotation></semantics></math> 0.74</td>
<td id="S4.T3.25.25.6" class="ltx_td ltx_align_center">46.70 <math id="S4.T3.25.25.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.25.25.6.m1.1a"><mo id="S4.T3.25.25.6.m1.1.1" xref="S4.T3.25.25.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.25.25.6.m1.1b"><csymbol cd="latexml" id="S4.T3.25.25.6.m1.1.1.cmml" xref="S4.T3.25.25.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.25.25.6.m1.1c">\pm</annotation></semantics></math> 0.72</td>
</tr>
<tr id="S4.T3.31.31" class="ltx_tr">
<td id="S4.T3.31.31.7" class="ltx_td ltx_align_left">FedAMP   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.26.26.1" class="ltx_td ltx_align_center">73.90 <math id="S4.T3.26.26.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.26.26.1.m1.1a"><mo id="S4.T3.26.26.1.m1.1.1" xref="S4.T3.26.26.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.26.26.1.m1.1b"><csymbol cd="latexml" id="S4.T3.26.26.1.m1.1.1.cmml" xref="S4.T3.26.26.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.26.26.1.m1.1c">\pm</annotation></semantics></math> 1.81</td>
<td id="S4.T3.27.27.2" class="ltx_td ltx_align_center">70.20 <math id="S4.T3.27.27.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.27.27.2.m1.1a"><mo id="S4.T3.27.27.2.m1.1.1" xref="S4.T3.27.27.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.27.27.2.m1.1b"><csymbol cd="latexml" id="S4.T3.27.27.2.m1.1.1.cmml" xref="S4.T3.27.27.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.27.27.2.m1.1c">\pm</annotation></semantics></math> 1.25</td>
<td id="S4.T3.28.28.3" class="ltx_td ltx_align_right">69.80 <math id="S4.T3.28.28.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.28.28.3.m1.1a"><mo id="S4.T3.28.28.3.m1.1.1" xref="S4.T3.28.28.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.28.28.3.m1.1b"><csymbol cd="latexml" id="S4.T3.28.28.3.m1.1.1.cmml" xref="S4.T3.28.28.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.28.28.3.m1.1c">\pm</annotation></semantics></math> 0.89   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.29.29.4" class="ltx_td ltx_align_center">50.10 <math id="S4.T3.29.29.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.29.29.4.m1.1a"><mo id="S4.T3.29.29.4.m1.1.1" xref="S4.T3.29.29.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.29.29.4.m1.1b"><csymbol cd="latexml" id="S4.T3.29.29.4.m1.1.1.cmml" xref="S4.T3.29.29.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.29.29.4.m1.1c">\pm</annotation></semantics></math> 2.33</td>
<td id="S4.T3.30.30.5" class="ltx_td ltx_align_center">47.80 <math id="S4.T3.30.30.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.30.30.5.m1.1a"><mo id="S4.T3.30.30.5.m1.1.1" xref="S4.T3.30.30.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.30.30.5.m1.1b"><csymbol cd="latexml" id="S4.T3.30.30.5.m1.1.1.cmml" xref="S4.T3.30.30.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.30.30.5.m1.1c">\pm</annotation></semantics></math> 1.91</td>
<td id="S4.T3.31.31.6" class="ltx_td ltx_align_center">46.60 <math id="S4.T3.31.31.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.31.31.6.m1.1a"><mo id="S4.T3.31.31.6.m1.1.1" xref="S4.T3.31.31.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.31.31.6.m1.1b"><csymbol cd="latexml" id="S4.T3.31.31.6.m1.1.1.cmml" xref="S4.T3.31.31.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.31.31.6.m1.1c">\pm</annotation></semantics></math> 1.76</td>
</tr>
<tr id="S4.T3.37.37" class="ltx_tr">
<td id="S4.T3.37.37.7" class="ltx_td ltx_align_left">FedRep   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.32.32.1" class="ltx_td ltx_align_center">73.70 <math id="S4.T3.32.32.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.32.32.1.m1.1a"><mo id="S4.T3.32.32.1.m1.1.1" xref="S4.T3.32.32.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.32.32.1.m1.1b"><csymbol cd="latexml" id="S4.T3.32.32.1.m1.1.1.cmml" xref="S4.T3.32.32.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.32.32.1.m1.1c">\pm</annotation></semantics></math> 1.67</td>
<td id="S4.T3.33.33.2" class="ltx_td ltx_align_center">72.87 <math id="S4.T3.33.33.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.33.33.2.m1.1a"><mo id="S4.T3.33.33.2.m1.1.1" xref="S4.T3.33.33.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.33.33.2.m1.1b"><csymbol cd="latexml" id="S4.T3.33.33.2.m1.1.1.cmml" xref="S4.T3.33.33.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.33.33.2.m1.1c">\pm</annotation></semantics></math> 0.83</td>
<td id="S4.T3.34.34.3" class="ltx_td ltx_align_right">65.90 <math id="S4.T3.34.34.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.34.34.3.m1.1a"><mo id="S4.T3.34.34.3.m1.1.1" xref="S4.T3.34.34.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.34.34.3.m1.1b"><csymbol cd="latexml" id="S4.T3.34.34.3.m1.1.1.cmml" xref="S4.T3.34.34.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.34.34.3.m1.1c">\pm</annotation></semantics></math> 0.71   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.35.35.4" class="ltx_td ltx_align_center">48.10 <math id="S4.T3.35.35.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.35.35.4.m1.1a"><mo id="S4.T3.35.35.4.m1.1.1" xref="S4.T3.35.35.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.35.35.4.m1.1b"><csymbol cd="latexml" id="S4.T3.35.35.4.m1.1.1.cmml" xref="S4.T3.35.35.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.35.35.4.m1.1c">\pm</annotation></semantics></math> 0.32</td>
<td id="S4.T3.36.36.5" class="ltx_td ltx_align_center">47.30 <math id="S4.T3.36.36.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.36.36.5.m1.1a"><mo id="S4.T3.36.36.5.m1.1.1" xref="S4.T3.36.36.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.36.36.5.m1.1b"><csymbol cd="latexml" id="S4.T3.36.36.5.m1.1.1.cmml" xref="S4.T3.36.36.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.36.36.5.m1.1c">\pm</annotation></semantics></math> 0.34</td>
<td id="S4.T3.37.37.6" class="ltx_td ltx_align_center">42.40 <math id="S4.T3.37.37.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.37.37.6.m1.1a"><mo id="S4.T3.37.37.6.m1.1.1" xref="S4.T3.37.37.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.37.37.6.m1.1b"><csymbol cd="latexml" id="S4.T3.37.37.6.m1.1.1.cmml" xref="S4.T3.37.37.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.37.37.6.m1.1c">\pm</annotation></semantics></math> 0.46</td>
</tr>
<tr id="S4.T3.43.43" class="ltx_tr">
<td id="S4.T3.43.43.7" class="ltx_td ltx_align_left">FedRoD   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.38.38.1" class="ltx_td ltx_align_center">75.60 <math id="S4.T3.38.38.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.38.38.1.m1.1a"><mo id="S4.T3.38.38.1.m1.1.1" xref="S4.T3.38.38.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.38.38.1.m1.1b"><csymbol cd="latexml" id="S4.T3.38.38.1.m1.1.1.cmml" xref="S4.T3.38.38.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.38.38.1.m1.1c">\pm</annotation></semantics></math> 2.86</td>
<td id="S4.T3.39.39.2" class="ltx_td ltx_align_center">74.93 <math id="S4.T3.39.39.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.39.39.2.m1.1a"><mo id="S4.T3.39.39.2.m1.1.1" xref="S4.T3.39.39.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.39.39.2.m1.1b"><csymbol cd="latexml" id="S4.T3.39.39.2.m1.1.1.cmml" xref="S4.T3.39.39.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.39.39.2.m1.1c">\pm</annotation></semantics></math> 2.05</td>
<td id="S4.T3.40.40.3" class="ltx_td ltx_align_right">71.30 <math id="S4.T3.40.40.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.40.40.3.m1.1a"><mo id="S4.T3.40.40.3.m1.1.1" xref="S4.T3.40.40.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.40.40.3.m1.1b"><csymbol cd="latexml" id="S4.T3.40.40.3.m1.1.1.cmml" xref="S4.T3.40.40.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.40.40.3.m1.1c">\pm</annotation></semantics></math> 2.12   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.41.41.4" class="ltx_td ltx_align_center">50.20 <math id="S4.T3.41.41.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.41.41.4.m1.1a"><mo id="S4.T3.41.41.4.m1.1.1" xref="S4.T3.41.41.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.41.41.4.m1.1b"><csymbol cd="latexml" id="S4.T3.41.41.4.m1.1.1.cmml" xref="S4.T3.41.41.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.41.41.4.m1.1c">\pm</annotation></semantics></math> 1.71</td>
<td id="S4.T3.42.42.5" class="ltx_td ltx_align_center">49.20 <math id="S4.T3.42.42.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.42.42.5.m1.1a"><mo id="S4.T3.42.42.5.m1.1.1" xref="S4.T3.42.42.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.42.42.5.m1.1b"><csymbol cd="latexml" id="S4.T3.42.42.5.m1.1.1.cmml" xref="S4.T3.42.42.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.42.42.5.m1.1c">\pm</annotation></semantics></math> 0.86</td>
<td id="S4.T3.43.43.6" class="ltx_td ltx_align_center">46.20 <math id="S4.T3.43.43.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.43.43.6.m1.1a"><mo id="S4.T3.43.43.6.m1.1.1" xref="S4.T3.43.43.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.43.43.6.m1.1b"><csymbol cd="latexml" id="S4.T3.43.43.6.m1.1.1.cmml" xref="S4.T3.43.43.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.43.43.6.m1.1c">\pm</annotation></semantics></math> 0.78</td>
</tr>
<tr id="S4.T3.49.49" class="ltx_tr">
<td id="S4.T3.49.49.7" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t">
<span id="S4.T3.49.49.7.1" class="ltx_text">FDLoRA</span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.44.44.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.44.44.1.1" class="ltx_text ltx_font_bold">76.30 <math id="S4.T3.44.44.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.44.44.1.1.m1.1a"><mo id="S4.T3.44.44.1.1.m1.1.1" xref="S4.T3.44.44.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.44.44.1.1.m1.1b"><csymbol cd="latexml" id="S4.T3.44.44.1.1.m1.1.1.cmml" xref="S4.T3.44.44.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.44.44.1.1.m1.1c">\pm</annotation></semantics></math> 1.89</span></td>
<td id="S4.T3.45.45.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.45.45.2.1" class="ltx_text ltx_font_bold">78.17 <math id="S4.T3.45.45.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.45.45.2.1.m1.1a"><mo id="S4.T3.45.45.2.1.m1.1.1" xref="S4.T3.45.45.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.45.45.2.1.m1.1b"><csymbol cd="latexml" id="S4.T3.45.45.2.1.m1.1.1.cmml" xref="S4.T3.45.45.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.45.45.2.1.m1.1c">\pm</annotation></semantics></math> 1.11</span></td>
<td id="S4.T3.46.46.3" class="ltx_td ltx_align_right ltx_border_bb ltx_border_t">
<span id="S4.T3.46.46.3.1" class="ltx_text ltx_font_bold">75.60 <math id="S4.T3.46.46.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.46.46.3.1.m1.1a"><mo id="S4.T3.46.46.3.1.m1.1.1" xref="S4.T3.46.46.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.46.46.3.1.m1.1b"><csymbol cd="latexml" id="S4.T3.46.46.3.1.m1.1.1.cmml" xref="S4.T3.46.46.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.46.46.3.1.m1.1c">\pm</annotation></semantics></math> 0.47</span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T3.47.47.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.47.47.4.1" class="ltx_text ltx_font_bold">57.70 <math id="S4.T3.47.47.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.47.47.4.1.m1.1a"><mo id="S4.T3.47.47.4.1.m1.1.1" xref="S4.T3.47.47.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.47.47.4.1.m1.1b"><csymbol cd="latexml" id="S4.T3.47.47.4.1.m1.1.1.cmml" xref="S4.T3.47.47.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.47.47.4.1.m1.1c">\pm</annotation></semantics></math> 0.68</span></td>
<td id="S4.T3.48.48.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.48.48.5.1" class="ltx_text ltx_font_bold">56.20 <math id="S4.T3.48.48.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.48.48.5.1.m1.1a"><mo id="S4.T3.48.48.5.1.m1.1.1" xref="S4.T3.48.48.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.48.48.5.1.m1.1b"><csymbol cd="latexml" id="S4.T3.48.48.5.1.m1.1.1.cmml" xref="S4.T3.48.48.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.48.48.5.1.m1.1c">\pm</annotation></semantics></math> 0.83</span></td>
<td id="S4.T3.49.49.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.49.49.6.1" class="ltx_text ltx_font_bold">55.50 <math id="S4.T3.49.49.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.49.49.6.1.m1.1a"><mo id="S4.T3.49.49.6.1.m1.1.1" xref="S4.T3.49.49.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.49.49.6.1.m1.1b"><csymbol cd="latexml" id="S4.T3.49.49.6.1.m1.1.1.cmml" xref="S4.T3.49.49.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.49.49.6.1.m1.1c">\pm</annotation></semantics></math> 0.72</span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2406.07925/assets/x5.png" id="S4.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="124" height="93" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F5.sf1.3.2" class="ltx_text" style="font-size:80%;">N=3</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2406.07925/assets/x6.png" id="S4.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="124" height="93" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F5.sf2.3.2" class="ltx_text" style="font-size:80%;">N=5</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<div id="S4.F5.1" class="ltx_block ltx_figure_panel">
<figure id="S4.F5.sf3" class="ltx_figure ltx_align_center"><img src="/html/2406.07925/assets/x7.png" id="S4.F5.sf3.g1" class="ltx_graphics ltx_img_landscape" width="124" height="93" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf3.6.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F5.sf3.7.2" class="ltx_text" style="font-size:80%;">N=10</span></figcaption>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>The average accuracy varies with the communication round for different settings of the number of clients <math id="S4.F5.sf3.3.m1.3" class="ltx_Math" alttext="N={3,5,10}" display="inline"><semantics id="S4.F5.sf3.3.m1.3a"><mrow id="S4.F5.sf3.3.m1.3.4" xref="S4.F5.sf3.3.m1.3.4.cmml"><mi id="S4.F5.sf3.3.m1.3.4.2" xref="S4.F5.sf3.3.m1.3.4.2.cmml">N</mi><mo id="S4.F5.sf3.3.m1.3.4.1" xref="S4.F5.sf3.3.m1.3.4.1.cmml">=</mo><mrow id="S4.F5.sf3.3.m1.3.4.3.2" xref="S4.F5.sf3.3.m1.3.4.3.1.cmml"><mn id="S4.F5.sf3.3.m1.1.1" xref="S4.F5.sf3.3.m1.1.1.cmml">3</mn><mo id="S4.F5.sf3.3.m1.3.4.3.2.1" xref="S4.F5.sf3.3.m1.3.4.3.1.cmml">,</mo><mn id="S4.F5.sf3.3.m1.2.2" xref="S4.F5.sf3.3.m1.2.2.cmml">5</mn><mo id="S4.F5.sf3.3.m1.3.4.3.2.2" xref="S4.F5.sf3.3.m1.3.4.3.1.cmml">,</mo><mn id="S4.F5.sf3.3.m1.3.3" xref="S4.F5.sf3.3.m1.3.3.cmml">10</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.sf3.3.m1.3b"><apply id="S4.F5.sf3.3.m1.3.4.cmml" xref="S4.F5.sf3.3.m1.3.4"><eq id="S4.F5.sf3.3.m1.3.4.1.cmml" xref="S4.F5.sf3.3.m1.3.4.1"></eq><ci id="S4.F5.sf3.3.m1.3.4.2.cmml" xref="S4.F5.sf3.3.m1.3.4.2">𝑁</ci><list id="S4.F5.sf3.3.m1.3.4.3.1.cmml" xref="S4.F5.sf3.3.m1.3.4.3.2"><cn type="integer" id="S4.F5.sf3.3.m1.1.1.cmml" xref="S4.F5.sf3.3.m1.1.1">3</cn><cn type="integer" id="S4.F5.sf3.3.m1.2.2.cmml" xref="S4.F5.sf3.3.m1.2.2">5</cn><cn type="integer" id="S4.F5.sf3.3.m1.3.3.cmml" xref="S4.F5.sf3.3.m1.3.3">10</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf3.3.m1.3c">N={3,5,10}</annotation></semantics></math> and InnerOpt step <math id="S4.F5.sf3.4.m2.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S4.F5.sf3.4.m2.1a"><mrow id="S4.F5.sf3.4.m2.1.1" xref="S4.F5.sf3.4.m2.1.1.cmml"><mi id="S4.F5.sf3.4.m2.1.1.2" xref="S4.F5.sf3.4.m2.1.1.2.cmml">K</mi><mo id="S4.F5.sf3.4.m2.1.1.1" xref="S4.F5.sf3.4.m2.1.1.1.cmml">=</mo><mn id="S4.F5.sf3.4.m2.1.1.3" xref="S4.F5.sf3.4.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.sf3.4.m2.1b"><apply id="S4.F5.sf3.4.m2.1.1.cmml" xref="S4.F5.sf3.4.m2.1.1"><eq id="S4.F5.sf3.4.m2.1.1.1.cmml" xref="S4.F5.sf3.4.m2.1.1.1"></eq><ci id="S4.F5.sf3.4.m2.1.1.2.cmml" xref="S4.F5.sf3.4.m2.1.1.2">𝐾</ci><cn type="integer" id="S4.F5.sf3.4.m2.1.1.3.cmml" xref="S4.F5.sf3.4.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf3.4.m2.1c">K=3</annotation></semantics></math>.</figcaption>
</figure><span id="S4.F5.1.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S4.F5.2" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>RQ2: Performance with varies communication round</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.5" class="ltx_p"><span id="S4.SS3.p1.5.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> To evaluate the performance of varying communication rounds (<math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">T</annotation></semantics></math>), we increase <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">T</annotation></semantics></math> from 0 to 30. The number of clients is set to <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mi id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">N</annotation></semantics></math>=3, 5 and 7, with a fixed number of local update iterations (<math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><mrow id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml"><mi id="S4.SS3.p1.4.m4.1.1.2" xref="S4.SS3.p1.4.m4.1.1.2.cmml">K</mi><mo id="S4.SS3.p1.4.m4.1.1.1" xref="S4.SS3.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS3.p1.4.m4.1.1.3" xref="S4.SS3.p1.4.m4.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><apply id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1"><eq id="S4.SS3.p1.4.m4.1.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1.1"></eq><ci id="S4.SS3.p1.4.m4.1.1.2.cmml" xref="S4.SS3.p1.4.m4.1.1.2">𝐾</ci><cn type="integer" id="S4.SS3.p1.4.m4.1.1.3.cmml" xref="S4.SS3.p1.4.m4.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">K=3</annotation></semantics></math>), and the batch size <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="B=1" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><mrow id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi id="S4.SS3.p1.5.m5.1.1.2" xref="S4.SS3.p1.5.m5.1.1.2.cmml">B</mi><mo id="S4.SS3.p1.5.m5.1.1.1" xref="S4.SS3.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><eq id="S4.SS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1.1"></eq><ci id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2">𝐵</ci><cn type="integer" id="S4.SS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">B=1</annotation></semantics></math>. The results are shown in Figure <a href="#S4.F5.sf3" title="In Figure 5 ‣ 4.2. RQ1: Performance on different scenarios ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(c)</span></a>.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.4" class="ltx_p">It’s clear that as the number of communication rounds increases, there is a consistent improvement in average accuracy across different scenarios, particularly when considering different numbers of clients. This consistency in performance regardless of the number of clients suggests that the effect of communication rounds on accuracy is robust and generalizable across different scales of client populations.
For example, when comparing the results across different values of <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">N</annotation></semantics></math> (e.g. <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="N=3" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mrow id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">N</mi><mo id="S4.SS3.p2.2.m2.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><eq id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1"></eq><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">N=3</annotation></semantics></math>, <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><mrow id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">N</mi><mo id="S4.SS3.p2.3.m3.1.1.1" xref="S4.SS3.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><eq id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1.1"></eq><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝑁</ci><cn type="integer" id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">N=5</annotation></semantics></math>, <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="N=10" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><mrow id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1.2" xref="S4.SS3.p2.4.m4.1.1.2.cmml">N</mi><mo id="S4.SS3.p2.4.m4.1.1.1" xref="S4.SS3.p2.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><eq id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1"></eq><ci id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.2">𝑁</ci><cn type="integer" id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">N=10</annotation></semantics></math>), we observe that in each case there is a noticeable trend of improving average accuracy as the number of communication rounds increases. This suggests that the collaborative nature of PFL, facilitated by increased communication rounds, consistently leads to improved model performance, regardless of the number of participating clients.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p">This consistency highlights the importance of communication rounds as a fundamental aspect of PFL, enabling effective coordination and aggregation of decentralized model updates across a wide range of client populations. It suggests that, regardless of the specific deployment scenario or the size of the FL system, increasing the number of communication rounds can generally lead to improved model convergence and accuracy, thus emphasizing its importance in the FL paradigm.</p>
</div>
<figure id="S4.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center">
<img src="/html/2406.07925/assets/x8.png" id="S4.F6.sf1.g1" class="ltx_graphics ltx_img_square" width="88" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F6.sf1.3.2" class="ltx_text" style="font-size:80%;">Scenario-1</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S4.F6.sf1.4" class="ltx_block ltx_figure_panel">
<figure id="S4.F6.sf2" class="ltx_figure ltx_align_center"><img src="/html/2406.07925/assets/x9.png" id="S4.F6.sf2.g1" class="ltx_graphics ltx_img_square" width="88" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.sf2.4.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F6.sf2.5.2" class="ltx_text" style="font-size:80%;">Scenario-2</span></figcaption>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Varying the communication frequency every <math id="S4.F6.sf2.2.m1.3" class="ltx_Math" alttext="K=\{1,3,5\}" display="inline"><semantics id="S4.F6.sf2.2.m1.3a"><mrow id="S4.F6.sf2.2.m1.3.4" xref="S4.F6.sf2.2.m1.3.4.cmml"><mi id="S4.F6.sf2.2.m1.3.4.2" xref="S4.F6.sf2.2.m1.3.4.2.cmml">K</mi><mo id="S4.F6.sf2.2.m1.3.4.1" xref="S4.F6.sf2.2.m1.3.4.1.cmml">=</mo><mrow id="S4.F6.sf2.2.m1.3.4.3.2" xref="S4.F6.sf2.2.m1.3.4.3.1.cmml"><mo stretchy="false" id="S4.F6.sf2.2.m1.3.4.3.2.1" xref="S4.F6.sf2.2.m1.3.4.3.1.cmml">{</mo><mn id="S4.F6.sf2.2.m1.1.1" xref="S4.F6.sf2.2.m1.1.1.cmml">1</mn><mo id="S4.F6.sf2.2.m1.3.4.3.2.2" xref="S4.F6.sf2.2.m1.3.4.3.1.cmml">,</mo><mn id="S4.F6.sf2.2.m1.2.2" xref="S4.F6.sf2.2.m1.2.2.cmml">3</mn><mo id="S4.F6.sf2.2.m1.3.4.3.2.3" xref="S4.F6.sf2.2.m1.3.4.3.1.cmml">,</mo><mn id="S4.F6.sf2.2.m1.3.3" xref="S4.F6.sf2.2.m1.3.3.cmml">5</mn><mo stretchy="false" id="S4.F6.sf2.2.m1.3.4.3.2.4" xref="S4.F6.sf2.2.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F6.sf2.2.m1.3b"><apply id="S4.F6.sf2.2.m1.3.4.cmml" xref="S4.F6.sf2.2.m1.3.4"><eq id="S4.F6.sf2.2.m1.3.4.1.cmml" xref="S4.F6.sf2.2.m1.3.4.1"></eq><ci id="S4.F6.sf2.2.m1.3.4.2.cmml" xref="S4.F6.sf2.2.m1.3.4.2">𝐾</ci><set id="S4.F6.sf2.2.m1.3.4.3.1.cmml" xref="S4.F6.sf2.2.m1.3.4.3.2"><cn type="integer" id="S4.F6.sf2.2.m1.1.1.cmml" xref="S4.F6.sf2.2.m1.1.1">1</cn><cn type="integer" id="S4.F6.sf2.2.m1.2.2.cmml" xref="S4.F6.sf2.2.m1.2.2">3</cn><cn type="integer" id="S4.F6.sf2.2.m1.3.3.cmml" xref="S4.F6.sf2.2.m1.3.3">5</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F6.sf2.2.m1.3c">K=\{1,3,5\}</annotation></semantics></math> steps.</figcaption>
</figure><span id="S4.F6.sf1.4.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S4.F6.sf1.5" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
</figure>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>RQ3: Performance with varies communication frequency</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.3" class="ltx_p"><span id="S4.SS4.p1.3.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> In practical scenarios, the communication overhead between clients can be significant, influenced by factors such as regional network conditions and heterogeneous hardware. Doing communication and aggregation operations at the end of each training iteration (i.e., when <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="K=1" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mrow id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">K</mi><mo id="S4.SS4.p1.1.m1.1.1.1" xref="S4.SS4.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><eq id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1.1"></eq><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">K=1</annotation></semantics></math>) may be the sub-optimal choice. However, existing methods often consider communication every <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="K\leq 20" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mrow id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml">K</mi><mo id="S4.SS4.p1.2.m2.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.cmml">≤</mo><mn id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><leq id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1"></leq><ci id="S4.SS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">K\leq 20</annotation></semantics></math> step. This setting may be too frequent for fine-tuning LLMs via LORA, considering the powerful learning capabilities of LLMs and the limited scale of local data. To determine an appropriate communication frequency, we conducted experiments with different InnerOpt update frequencies, specifically <math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><mi id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><ci id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">K</annotation></semantics></math>=1, 3, and 5. The results are shown in Figure <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3. RQ2: Performance with varies communication round ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.3" class="ltx_p">The results show notable trends in the performance of the <span id="S4.SS4.p2.3.1" class="ltx_text">FDLoRA</span> under different InnerOpt update frequency (personalized step) and OuterOpt update frequency (communication round) settings. When comparing InnerOpt update frequencies (<math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">K</annotation></semantics></math>), both scenarios show a trend of improved average accuracy as the InnerOpt update frequency decreases. This suggests that incorporating more frequent communication, such as changing from <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="K=5" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mrow id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">K</mi><mo id="S4.SS4.p2.2.m2.1.1.1" xref="S4.SS4.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><eq id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1.1"></eq><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">K=5</annotation></semantics></math> (in <span id="S4.SS4.p2.3.2" class="ltx_text" style="color:#800080;">purple</span>) to <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="K=1" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><mrow id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">K</mi><mo id="S4.SS4.p2.3.m3.1.1.1" xref="S4.SS4.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><eq id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1.1"></eq><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">K=1</annotation></semantics></math> (in <span id="S4.SS4.p2.3.3" class="ltx_text" style="color:#0000FF;">blue</span>), helps to improve LLM convergence and ultimately leads to better performance and the importance of more aggregation through communication in the training process. However, it’s worth noting that the rate of improvement can vary depending on the specific scenario and the frequency of updates.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">The results highlight the importance of adjusting both the update frequency of InnerOpt and OuterOpt in PFL systems. While more frequent communication generally leads to improved LLM convergence and accuracy, there is a delicate balance to be struck to reduce computational and communication overhead without compromising performance, particularly in scenarios with limited client resources or network conditions.</p>
</div>
<figure id="S4.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S4.F7.7" class="ltx_block ltx_figure_panel">
<img src="/html/2406.07925/assets/x10.png" id="S4.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="194" height="138" alt="Refer to caption"><span id="S4.F7.7.1" class="ltx_ERROR ltx_centering undefined">\Description</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S4.F7.8" class="ltx_p ltx_figure_panel ltx_align_center">[Short description]Long description of the image.</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>Impact of different synchronous update frequency with <math id="S4.F7.4.m1.1" class="ltx_Math" alttext="\alpha=0.5" display="inline"><semantics id="S4.F7.4.m1.1b"><mrow id="S4.F7.4.m1.1.1" xref="S4.F7.4.m1.1.1.cmml"><mi id="S4.F7.4.m1.1.1.2" xref="S4.F7.4.m1.1.1.2.cmml">α</mi><mo id="S4.F7.4.m1.1.1.1" xref="S4.F7.4.m1.1.1.1.cmml">=</mo><mn id="S4.F7.4.m1.1.1.3" xref="S4.F7.4.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F7.4.m1.1c"><apply id="S4.F7.4.m1.1.1.cmml" xref="S4.F7.4.m1.1.1"><eq id="S4.F7.4.m1.1.1.1.cmml" xref="S4.F7.4.m1.1.1.1"></eq><ci id="S4.F7.4.m1.1.1.2.cmml" xref="S4.F7.4.m1.1.1.2">𝛼</ci><cn type="float" id="S4.F7.4.m1.1.1.3.cmml" xref="S4.F7.4.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.4.m1.1d">\alpha=0.5</annotation></semantics></math>. Note that when <math id="S4.F7.5.m2.1" class="ltx_Math" alttext="H=1" display="inline"><semantics id="S4.F7.5.m2.1b"><mrow id="S4.F7.5.m2.1.1" xref="S4.F7.5.m2.1.1.cmml"><mi id="S4.F7.5.m2.1.1.2" xref="S4.F7.5.m2.1.1.2.cmml">H</mi><mo id="S4.F7.5.m2.1.1.1" xref="S4.F7.5.m2.1.1.1.cmml">=</mo><mn id="S4.F7.5.m2.1.1.3" xref="S4.F7.5.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F7.5.m2.1c"><apply id="S4.F7.5.m2.1.1.cmml" xref="S4.F7.5.m2.1.1"><eq id="S4.F7.5.m2.1.1.1.cmml" xref="S4.F7.5.m2.1.1.1"></eq><ci id="S4.F7.5.m2.1.1.2.cmml" xref="S4.F7.5.m2.1.1.2">𝐻</ci><cn type="integer" id="S4.F7.5.m2.1.1.3.cmml" xref="S4.F7.5.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.5.m2.1d">H=1</annotation></semantics></math> the asynchronous equivalent to synchronous, and when <math id="S4.F7.6.m3.1" class="ltx_Math" alttext="H=\infty" display="inline"><semantics id="S4.F7.6.m3.1b"><mrow id="S4.F7.6.m3.1.1" xref="S4.F7.6.m3.1.1.cmml"><mi id="S4.F7.6.m3.1.1.2" xref="S4.F7.6.m3.1.1.2.cmml">H</mi><mo id="S4.F7.6.m3.1.1.1" xref="S4.F7.6.m3.1.1.1.cmml">=</mo><mi mathvariant="normal" id="S4.F7.6.m3.1.1.3" xref="S4.F7.6.m3.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F7.6.m3.1c"><apply id="S4.F7.6.m3.1.1.cmml" xref="S4.F7.6.m3.1.1"><eq id="S4.F7.6.m3.1.1.1.cmml" xref="S4.F7.6.m3.1.1.1"></eq><ci id="S4.F7.6.m3.1.1.2.cmml" xref="S4.F7.6.m3.1.1.2">𝐻</ci><infinity id="S4.F7.6.m3.1.1.3.cmml" xref="S4.F7.6.m3.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.6.m3.1d">H=\infty</annotation></semantics></math> the personalized LoRA module is frozen after local learning (Stage 1).</figcaption>
</figure>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>RQ4: Performance with varies synchronous update frequency</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p"><span id="S4.SS5.p1.1.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> In <span id="S4.SS5.p1.1.2" class="ltx_text">FDLoRA</span>, all clients perform supervised fine-tuning after receiving aggregated global parameters from the server (global LoRA). Subsequently, the client has the option to choose whether to synchronize the parameters with the personalized LoRA. To investigate the impact of different rounds of parameter synchronization on performance, we conducted experiments by varying the synchronous update frequency, where <math id="S4.SS5.p1.1.m1.6" class="ltx_Math" alttext="H=\{1,3,5,10,T,\infty\}" display="inline"><semantics id="S4.SS5.p1.1.m1.6a"><mrow id="S4.SS5.p1.1.m1.6.7" xref="S4.SS5.p1.1.m1.6.7.cmml"><mi id="S4.SS5.p1.1.m1.6.7.2" xref="S4.SS5.p1.1.m1.6.7.2.cmml">H</mi><mo id="S4.SS5.p1.1.m1.6.7.1" xref="S4.SS5.p1.1.m1.6.7.1.cmml">=</mo><mrow id="S4.SS5.p1.1.m1.6.7.3.2" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml"><mo stretchy="false" id="S4.SS5.p1.1.m1.6.7.3.2.1" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">{</mo><mn id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml">1</mn><mo id="S4.SS5.p1.1.m1.6.7.3.2.2" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">,</mo><mn id="S4.SS5.p1.1.m1.2.2" xref="S4.SS5.p1.1.m1.2.2.cmml">3</mn><mo id="S4.SS5.p1.1.m1.6.7.3.2.3" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">,</mo><mn id="S4.SS5.p1.1.m1.3.3" xref="S4.SS5.p1.1.m1.3.3.cmml">5</mn><mo id="S4.SS5.p1.1.m1.6.7.3.2.4" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">,</mo><mn id="S4.SS5.p1.1.m1.4.4" xref="S4.SS5.p1.1.m1.4.4.cmml">10</mn><mo id="S4.SS5.p1.1.m1.6.7.3.2.5" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">,</mo><mi id="S4.SS5.p1.1.m1.5.5" xref="S4.SS5.p1.1.m1.5.5.cmml">T</mi><mo id="S4.SS5.p1.1.m1.6.7.3.2.6" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS5.p1.1.m1.6.6" xref="S4.SS5.p1.1.m1.6.6.cmml">∞</mi><mo stretchy="false" id="S4.SS5.p1.1.m1.6.7.3.2.7" xref="S4.SS5.p1.1.m1.6.7.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.6b"><apply id="S4.SS5.p1.1.m1.6.7.cmml" xref="S4.SS5.p1.1.m1.6.7"><eq id="S4.SS5.p1.1.m1.6.7.1.cmml" xref="S4.SS5.p1.1.m1.6.7.1"></eq><ci id="S4.SS5.p1.1.m1.6.7.2.cmml" xref="S4.SS5.p1.1.m1.6.7.2">𝐻</ci><set id="S4.SS5.p1.1.m1.6.7.3.1.cmml" xref="S4.SS5.p1.1.m1.6.7.3.2"><cn type="integer" id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">1</cn><cn type="integer" id="S4.SS5.p1.1.m1.2.2.cmml" xref="S4.SS5.p1.1.m1.2.2">3</cn><cn type="integer" id="S4.SS5.p1.1.m1.3.3.cmml" xref="S4.SS5.p1.1.m1.3.3">5</cn><cn type="integer" id="S4.SS5.p1.1.m1.4.4.cmml" xref="S4.SS5.p1.1.m1.4.4">10</cn><ci id="S4.SS5.p1.1.m1.5.5.cmml" xref="S4.SS5.p1.1.m1.5.5">𝑇</ci><infinity id="S4.SS5.p1.1.m1.6.6.cmml" xref="S4.SS5.p1.1.m1.6.6"></infinity></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.6c">H=\{1,3,5,10,T,\infty\}</annotation></semantics></math>, and observed the resulting performance changes. The experimental results are shown in Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4. RQ3: Performance with varies communication frequency ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p id="S4.SS5.p2.5" class="ltx_p">The experimental results provide insights into the impact of different parameter synchronization frequencies on performance. First, in the synchronous (in <span id="S4.SS5.p2.5.1" class="ltx_text" style="color:#0000FF;">blue</span>) scenario, where parameters are synchronized between the personalized LoRA and the global LoRA after each InnerOpt step, we observe a stable and gradual improvement in accuracy with increasing communication round. This indicates that frequent parameter synchronization helps to maintain LLM alignment across clients, contributing to consistent performance improvements. In contrast, asynchronous synchronization scenarios (<math id="S4.SS5.p2.1.m1.1" class="ltx_Math" alttext="H&gt;1" display="inline"><semantics id="S4.SS5.p2.1.m1.1a"><mrow id="S4.SS5.p2.1.m1.1.1" xref="S4.SS5.p2.1.m1.1.1.cmml"><mi id="S4.SS5.p2.1.m1.1.1.2" xref="S4.SS5.p2.1.m1.1.1.2.cmml">H</mi><mo id="S4.SS5.p2.1.m1.1.1.1" xref="S4.SS5.p2.1.m1.1.1.1.cmml">&gt;</mo><mn id="S4.SS5.p2.1.m1.1.1.3" xref="S4.SS5.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.1.m1.1b"><apply id="S4.SS5.p2.1.m1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1"><gt id="S4.SS5.p2.1.m1.1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1.1"></gt><ci id="S4.SS5.p2.1.m1.1.1.2.cmml" xref="S4.SS5.p2.1.m1.1.1.2">𝐻</ci><cn type="integer" id="S4.SS5.p2.1.m1.1.1.3.cmml" xref="S4.SS5.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.1.m1.1c">H&gt;1</annotation></semantics></math>) show different performance trends. Asynchronous updates with H=3 and <math id="S4.SS5.p2.2.m2.1" class="ltx_Math" alttext="H=5" display="inline"><semantics id="S4.SS5.p2.2.m2.1a"><mrow id="S4.SS5.p2.2.m2.1.1" xref="S4.SS5.p2.2.m2.1.1.cmml"><mi id="S4.SS5.p2.2.m2.1.1.2" xref="S4.SS5.p2.2.m2.1.1.2.cmml">H</mi><mo id="S4.SS5.p2.2.m2.1.1.1" xref="S4.SS5.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS5.p2.2.m2.1.1.3" xref="S4.SS5.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.2.m2.1b"><apply id="S4.SS5.p2.2.m2.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1"><eq id="S4.SS5.p2.2.m2.1.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1.1"></eq><ci id="S4.SS5.p2.2.m2.1.1.2.cmml" xref="S4.SS5.p2.2.m2.1.1.2">𝐻</ci><cn type="integer" id="S4.SS5.p2.2.m2.1.1.3.cmml" xref="S4.SS5.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.2.m2.1c">H=5</annotation></semantics></math> show fluctuating accuracy, suggesting that moderate synchronization frequencies may not always result in significant performance gains. However, asynchronous synchronization with <math id="S4.SS5.p2.3.m3.1" class="ltx_Math" alttext="H=10" display="inline"><semantics id="S4.SS5.p2.3.m3.1a"><mrow id="S4.SS5.p2.3.m3.1.1" xref="S4.SS5.p2.3.m3.1.1.cmml"><mi id="S4.SS5.p2.3.m3.1.1.2" xref="S4.SS5.p2.3.m3.1.1.2.cmml">H</mi><mo id="S4.SS5.p2.3.m3.1.1.1" xref="S4.SS5.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS5.p2.3.m3.1.1.3" xref="S4.SS5.p2.3.m3.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.3.m3.1b"><apply id="S4.SS5.p2.3.m3.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1"><eq id="S4.SS5.p2.3.m3.1.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1.1"></eq><ci id="S4.SS5.p2.3.m3.1.1.2.cmml" xref="S4.SS5.p2.3.m3.1.1.2">𝐻</ci><cn type="integer" id="S4.SS5.p2.3.m3.1.1.3.cmml" xref="S4.SS5.p2.3.m3.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.3.m3.1c">H=10</annotation></semantics></math> (in <span id="S4.SS5.p2.5.2" class="ltx_text" style="color:#FF0000;">red</span>) and <math id="S4.SS5.p2.4.m4.1" class="ltx_Math" alttext="H=T" display="inline"><semantics id="S4.SS5.p2.4.m4.1a"><mrow id="S4.SS5.p2.4.m4.1.1" xref="S4.SS5.p2.4.m4.1.1.cmml"><mi id="S4.SS5.p2.4.m4.1.1.2" xref="S4.SS5.p2.4.m4.1.1.2.cmml">H</mi><mo id="S4.SS5.p2.4.m4.1.1.1" xref="S4.SS5.p2.4.m4.1.1.1.cmml">=</mo><mi id="S4.SS5.p2.4.m4.1.1.3" xref="S4.SS5.p2.4.m4.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.4.m4.1b"><apply id="S4.SS5.p2.4.m4.1.1.cmml" xref="S4.SS5.p2.4.m4.1.1"><eq id="S4.SS5.p2.4.m4.1.1.1.cmml" xref="S4.SS5.p2.4.m4.1.1.1"></eq><ci id="S4.SS5.p2.4.m4.1.1.2.cmml" xref="S4.SS5.p2.4.m4.1.1.2">𝐻</ci><ci id="S4.SS5.p2.4.m4.1.1.3.cmml" xref="S4.SS5.p2.4.m4.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.4.m4.1c">H=T</annotation></semantics></math> (in <span id="S4.SS5.p2.5.3" class="ltx_text" style="color:#800080;">purple</span>) shows more consistent improvements in accuracy over time, suggesting that less frequent but more substantial parameter synchronization may be beneficial. Notably, in the asynchronous update scenario with <math id="S4.SS5.p2.5.m5.1" class="ltx_Math" alttext="H=\infty" display="inline"><semantics id="S4.SS5.p2.5.m5.1a"><mrow id="S4.SS5.p2.5.m5.1.1" xref="S4.SS5.p2.5.m5.1.1.cmml"><mi id="S4.SS5.p2.5.m5.1.1.2" xref="S4.SS5.p2.5.m5.1.1.2.cmml">H</mi><mo id="S4.SS5.p2.5.m5.1.1.1" xref="S4.SS5.p2.5.m5.1.1.1.cmml">=</mo><mi mathvariant="normal" id="S4.SS5.p2.5.m5.1.1.3" xref="S4.SS5.p2.5.m5.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.5.m5.1b"><apply id="S4.SS5.p2.5.m5.1.1.cmml" xref="S4.SS5.p2.5.m5.1.1"><eq id="S4.SS5.p2.5.m5.1.1.1.cmml" xref="S4.SS5.p2.5.m5.1.1.1"></eq><ci id="S4.SS5.p2.5.m5.1.1.2.cmml" xref="S4.SS5.p2.5.m5.1.1.2">𝐻</ci><infinity id="S4.SS5.p2.5.m5.1.1.3.cmml" xref="S4.SS5.p2.5.m5.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.5.m5.1c">H=\infty</annotation></semantics></math> (in <span id="S4.SS5.p2.5.4" class="ltx_text" style="color:#49EBD0;">teal</span>), where parameters are not synchronized, we observe a decrease in accuracy compared to other synchronization frequencies, highlighting the importance of parameter synchronization in maintaining LLM performance.</p>
</div>
<div id="S4.SS5.p3" class="ltx_para">
<p id="S4.SS5.p3.1" class="ltx_p">In summary, these results suggest that striking a balance between synchronization frequency and performance gains is essential for optimizing <span id="S4.SS5.p3.1.1" class="ltx_text">FDLoRA</span> performance. Furthermore, the decrease in accuracy observed in the absence of parameter synchronization (<math id="S4.SS5.p3.1.m1.1" class="ltx_Math" alttext="H=\infty" display="inline"><semantics id="S4.SS5.p3.1.m1.1a"><mrow id="S4.SS5.p3.1.m1.1.1" xref="S4.SS5.p3.1.m1.1.1.cmml"><mi id="S4.SS5.p3.1.m1.1.1.2" xref="S4.SS5.p3.1.m1.1.1.2.cmml">H</mi><mo id="S4.SS5.p3.1.m1.1.1.1" xref="S4.SS5.p3.1.m1.1.1.1.cmml">=</mo><mi mathvariant="normal" id="S4.SS5.p3.1.m1.1.1.3" xref="S4.SS5.p3.1.m1.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p3.1.m1.1b"><apply id="S4.SS5.p3.1.m1.1.1.cmml" xref="S4.SS5.p3.1.m1.1.1"><eq id="S4.SS5.p3.1.m1.1.1.1.cmml" xref="S4.SS5.p3.1.m1.1.1.1"></eq><ci id="S4.SS5.p3.1.m1.1.1.2.cmml" xref="S4.SS5.p3.1.m1.1.1.2">𝐻</ci><infinity id="S4.SS5.p3.1.m1.1.1.3.cmml" xref="S4.SS5.p3.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p3.1.m1.1c">H=\infty</annotation></semantics></math>) underscores the need for parameter synchronization to maintain model alignment and performance across distributed clients.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span>The effect of both Personalized and Global LoRA module with <math id="S4.T4.2.m1.1" class="ltx_Math" alttext="\alpha=0.5" display="inline"><semantics id="S4.T4.2.m1.1b"><mrow id="S4.T4.2.m1.1.1" xref="S4.T4.2.m1.1.1.cmml"><mi id="S4.T4.2.m1.1.1.2" xref="S4.T4.2.m1.1.1.2.cmml">α</mi><mo id="S4.T4.2.m1.1.1.1" xref="S4.T4.2.m1.1.1.1.cmml">=</mo><mn id="S4.T4.2.m1.1.1.3" xref="S4.T4.2.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.2.m1.1c"><apply id="S4.T4.2.m1.1.1.cmml" xref="S4.T4.2.m1.1.1"><eq id="S4.T4.2.m1.1.1.1.cmml" xref="S4.T4.2.m1.1.1.1"></eq><ci id="S4.T4.2.m1.1.1.2.cmml" xref="S4.T4.2.m1.1.1.2">𝛼</ci><cn type="float" id="S4.T4.2.m1.1.1.3.cmml" xref="S4.T4.2.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.m1.1d">\alpha=0.5</annotation></semantics></math>.</figcaption>
<table id="S4.T4.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.3.1.1" class="ltx_tr">
<th id="S4.T4.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Methods</th>
<th id="S4.T4.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.3.1.1.2.1" class="ltx_text ltx_font_italic">Scenario-1</span></th>
<th id="S4.T4.3.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.3.1.1.3.1" class="ltx_text ltx_font_italic">Scenario-2</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.3.2.1" class="ltx_tr">
<th id="S4.T4.3.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">LLaMA2-7B (<span id="S4.T4.3.2.1.1.1" class="ltx_text ltx_font_italic">0-shot</span>)</th>
<td id="S4.T4.3.2.1.2" class="ltx_td ltx_align_center ltx_border_t">16.13</td>
<td id="S4.T4.3.2.1.3" class="ltx_td ltx_align_center ltx_border_t">31.36</td>
</tr>
<tr id="S4.T4.3.3.2" class="ltx_tr">
<th id="S4.T4.3.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">LLaMA2-7B (<span id="S4.T4.3.3.2.1.1" class="ltx_text ltx_font_italic">5-shot</span>)</th>
<td id="S4.T4.3.3.2.2" class="ltx_td ltx_align_center">23.51</td>
<td id="S4.T4.3.3.2.3" class="ltx_td ltx_align_center">32.69</td>
</tr>
<tr id="S4.T4.3.4.3" class="ltx_tr">
<th id="S4.T4.3.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">Personalized (<span id="S4.T4.3.4.3.1.1" class="ltx_text ltx_font_italic">standalone</span>)</th>
<td id="S4.T4.3.4.3.2" class="ltx_td ltx_align_center">58.26</td>
<td id="S4.T4.3.4.3.3" class="ltx_td ltx_align_center">47.61</td>
</tr>
<tr id="S4.T4.3.5.4" class="ltx_tr">
<th id="S4.T4.3.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">Global (<span id="S4.T4.3.5.4.1.1" class="ltx_text ltx_font_italic">standalone</span>)</th>
<td id="S4.T4.3.5.4.2" class="ltx_td ltx_align_center">61.30</td>
<td id="S4.T4.3.5.4.3" class="ltx_td ltx_align_center">56.30</td>
</tr>
<tr id="S4.T4.3.6.5" class="ltx_tr">
<th id="S4.T4.3.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t">
<span id="S4.T4.3.6.5.1.1" class="ltx_text">FDLoRA</span>(Ours)</th>
<td id="S4.T4.3.6.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">78.17</td>
<td id="S4.T4.3.6.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">56.20</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>RQ5: Effectiveness of combining personalized LoRA and global LoRA</h3>

<div id="S4.SS6.p1" class="ltx_para">
<p id="S4.SS6.p1.3" class="ltx_p"><span id="S4.SS6.p1.3.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> To validate the effectiveness of combining the personalized LoRA module with the global LoRA module, we conducted ablation experiments comparing it with the standalone personalized LoRA module and the standalone global LoRA module. We set the number of clients to <math id="S4.SS6.p1.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.SS6.p1.1.m1.1a"><mrow id="S4.SS6.p1.1.m1.1.1" xref="S4.SS6.p1.1.m1.1.1.cmml"><mi id="S4.SS6.p1.1.m1.1.1.2" xref="S4.SS6.p1.1.m1.1.1.2.cmml">N</mi><mo id="S4.SS6.p1.1.m1.1.1.1" xref="S4.SS6.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS6.p1.1.m1.1.1.3" xref="S4.SS6.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.1.m1.1b"><apply id="S4.SS6.p1.1.m1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1"><eq id="S4.SS6.p1.1.m1.1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1.1"></eq><ci id="S4.SS6.p1.1.m1.1.1.2.cmml" xref="S4.SS6.p1.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.SS6.p1.1.m1.1.1.3.cmml" xref="S4.SS6.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.1.m1.1c">N=5</annotation></semantics></math>, the number of communication rounds to <math id="S4.SS6.p1.2.m2.1" class="ltx_Math" alttext="T=30" display="inline"><semantics id="S4.SS6.p1.2.m2.1a"><mrow id="S4.SS6.p1.2.m2.1.1" xref="S4.SS6.p1.2.m2.1.1.cmml"><mi id="S4.SS6.p1.2.m2.1.1.2" xref="S4.SS6.p1.2.m2.1.1.2.cmml">T</mi><mo id="S4.SS6.p1.2.m2.1.1.1" xref="S4.SS6.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS6.p1.2.m2.1.1.3" xref="S4.SS6.p1.2.m2.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.2.m2.1b"><apply id="S4.SS6.p1.2.m2.1.1.cmml" xref="S4.SS6.p1.2.m2.1.1"><eq id="S4.SS6.p1.2.m2.1.1.1.cmml" xref="S4.SS6.p1.2.m2.1.1.1"></eq><ci id="S4.SS6.p1.2.m2.1.1.2.cmml" xref="S4.SS6.p1.2.m2.1.1.2">𝑇</ci><cn type="integer" id="S4.SS6.p1.2.m2.1.1.3.cmml" xref="S4.SS6.p1.2.m2.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.2.m2.1c">T=30</annotation></semantics></math>, and the synchronization frequency to <math id="S4.SS6.p1.3.m3.1" class="ltx_Math" alttext="H=T" display="inline"><semantics id="S4.SS6.p1.3.m3.1a"><mrow id="S4.SS6.p1.3.m3.1.1" xref="S4.SS6.p1.3.m3.1.1.cmml"><mi id="S4.SS6.p1.3.m3.1.1.2" xref="S4.SS6.p1.3.m3.1.1.2.cmml">H</mi><mo id="S4.SS6.p1.3.m3.1.1.1" xref="S4.SS6.p1.3.m3.1.1.1.cmml">=</mo><mi id="S4.SS6.p1.3.m3.1.1.3" xref="S4.SS6.p1.3.m3.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.3.m3.1b"><apply id="S4.SS6.p1.3.m3.1.1.cmml" xref="S4.SS6.p1.3.m3.1.1"><eq id="S4.SS6.p1.3.m3.1.1.1.cmml" xref="S4.SS6.p1.3.m3.1.1.1"></eq><ci id="S4.SS6.p1.3.m3.1.1.2.cmml" xref="S4.SS6.p1.3.m3.1.1.2">𝐻</ci><ci id="S4.SS6.p1.3.m3.1.1.3.cmml" xref="S4.SS6.p1.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.3.m3.1c">H=T</annotation></semantics></math>. Additionally, comparisons were made with standard LLMs under <span id="S4.SS6.p1.3.2" class="ltx_text ltx_font_italic">0-shot</span> and <span id="S4.SS6.p1.3.3" class="ltx_text ltx_font_italic">5-shot</span> settings. The results are shown in Table <a href="#S4.T4" title="Table 4 ‣ 4.5. RQ4: Performance with varies synchronous update frequency ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a></p>
</div>
<div id="S4.SS6.p2" class="ltx_para">
<p id="S4.SS6.p2.1" class="ltx_p">We can see that the standalone personalized and global LoRA modules show significant improvements over the off-the-shelf model with both 0-shot and 5-shot settings. In particular, the personalized module achieves significantly higher accuracy than the off-the-shelf model in both <span id="S4.SS6.p2.1.1" class="ltx_text ltx_font_italic">Scenario-1</span> and <span id="S4.SS6.p2.1.2" class="ltx_text ltx_font_italic">Scenario-2</span>, indicating its effectiveness in adapting to non-IDD data. Similarly, the global module also shows notable improvements over the off-the-shelf model, suggesting its ability to capture overarching patterns or preferences across the dataset. Notably, the global module outperforms the personalized module in <span id="S4.SS6.p2.1.3" class="ltx_text ltx_font_italic">Scenario-1</span>, while the personalized module performs slightly better in <span id="S4.SS6.p2.1.4" class="ltx_text ltx_font_italic">Scenario-2</span>. This discrepancy may indicate that the nature of the data or the characteristics of the users in each scenario affects the effectiveness of the modules differently. Furthermore, the combination of both personalized and global modules in the proposed approach yields the highest scores in both scenarios, suggesting that leveraging both individualized and general patterns leads to improved performance.</p>
</div>
<div id="S4.SS6.p3" class="ltx_para">
<p id="S4.SS6.p3.1" class="ltx_p">In summary, the experimental results suggest that both personalized and global LoRA modules contribute significantly to improving performance compared to the off-the-shelf model. The personalized module excels in capturing personalized knowledge in each client, while the global module effectively captures general patterns across clients. The combination of both modules in the proposed approach leads to superior performance, indicating the importance of leveraging both personalized and general patterns in practice. This highlights the potential of hybrid approaches that integrate personalized and global perspectives to achieve better results in different scenarios.</p>
</div>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Comparison of different batch size increasing strategies (<math id="S4.T5.2.m1.1" class="ltx_Math" alttext="\alpha=0.5" display="inline"><semantics id="S4.T5.2.m1.1b"><mrow id="S4.T5.2.m1.1.1" xref="S4.T5.2.m1.1.1.cmml"><mi id="S4.T5.2.m1.1.1.2" xref="S4.T5.2.m1.1.1.2.cmml">α</mi><mo id="S4.T5.2.m1.1.1.1" xref="S4.T5.2.m1.1.1.1.cmml">=</mo><mn id="S4.T5.2.m1.1.1.3" xref="S4.T5.2.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.2.m1.1c"><apply id="S4.T5.2.m1.1.1.cmml" xref="S4.T5.2.m1.1.1"><eq id="S4.T5.2.m1.1.1.1.cmml" xref="S4.T5.2.m1.1.1.1"></eq><ci id="S4.T5.2.m1.1.1.2.cmml" xref="S4.T5.2.m1.1.1.2">𝛼</ci><cn type="float" id="S4.T5.2.m1.1.1.3.cmml" xref="S4.T5.2.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.m1.1d">\alpha=0.5</annotation></semantics></math>).</figcaption>
<table id="S4.T5.17" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.17.16.1" class="ltx_tr">
<th id="S4.T5.17.16.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T5.17.16.1.1.1" class="ltx_text">Method</span></th>
<th id="S4.T5.17.16.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T5.17.16.1.2.1" class="ltx_text">Communication</span></th>
<th id="S4.T5.17.16.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T5.17.16.1.3.1" class="ltx_text">Time</span></th>
<th id="S4.T5.17.16.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T5.17.16.1.4.1" class="ltx_text">Compute Data</span></th>
<th id="S4.T5.17.16.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">Average Accuarcy</th>
</tr>
<tr id="S4.T5.17.17.2" class="ltx_tr">
<th id="S4.T5.17.17.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T5.17.17.2.1.1" class="ltx_text ltx_font_italic">Scenario-1</span></th>
<th id="S4.T5.17.17.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T5.17.17.2.2.1" class="ltx_text ltx_font_italic">Scenario-2</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.4.2" class="ltx_tr">
<td id="S4.T5.4.2.3" class="ltx_td ltx_align_left ltx_border_t">Baseline</td>
<td id="S4.T5.4.2.4" class="ltx_td ltx_align_center ltx_border_t">0</td>
<td id="S4.T5.3.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T5.3.1.1.m1.1" class="ltx_math_unparsed" alttext="1\times" display="inline"><semantics id="S4.T5.3.1.1.m1.1a"><mrow id="S4.T5.3.1.1.m1.1b"><mn id="S4.T5.3.1.1.m1.1.1">1</mn><mo lspace="0.222em" id="S4.T5.3.1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.3.1.1.m1.1c">1\times</annotation></semantics></math></td>
<td id="S4.T5.4.2.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T5.4.2.2.m1.1" class="ltx_math_unparsed" alttext="1\times" display="inline"><semantics id="S4.T5.4.2.2.m1.1a"><mrow id="S4.T5.4.2.2.m1.1b"><mn id="S4.T5.4.2.2.m1.1.1">1</mn><mo lspace="0.222em" id="S4.T5.4.2.2.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.4.2.2.m1.1c">1\times</annotation></semantics></math></td>
<td id="S4.T5.4.2.5" class="ltx_td ltx_align_center ltx_border_t">78.18</td>
<td id="S4.T5.4.2.6" class="ltx_td ltx_align_center ltx_border_t">57.95</td>
</tr>
<tr id="S4.T5.8.6" class="ltx_tr">
<td id="S4.T5.5.3.1" class="ltx_td ltx_align_left">Baseline, <math id="S4.T5.5.3.1.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.5.3.1.m1.1a"><mrow id="S4.T5.5.3.1.m1.1b"><mn id="S4.T5.5.3.1.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.5.3.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.5.3.1.m1.1c">4\times</annotation></semantics></math> batch size with data parallelism</td>
<td id="S4.T5.6.4.2" class="ltx_td ltx_align_center"><math id="S4.T5.6.4.2.m1.1" class="ltx_Math" alttext="4\times N" display="inline"><semantics id="S4.T5.6.4.2.m1.1a"><mrow id="S4.T5.6.4.2.m1.1.1" xref="S4.T5.6.4.2.m1.1.1.cmml"><mn id="S4.T5.6.4.2.m1.1.1.2" xref="S4.T5.6.4.2.m1.1.1.2.cmml">4</mn><mo lspace="0.222em" rspace="0.222em" id="S4.T5.6.4.2.m1.1.1.1" xref="S4.T5.6.4.2.m1.1.1.1.cmml">×</mo><mi id="S4.T5.6.4.2.m1.1.1.3" xref="S4.T5.6.4.2.m1.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.6.4.2.m1.1b"><apply id="S4.T5.6.4.2.m1.1.1.cmml" xref="S4.T5.6.4.2.m1.1.1"><times id="S4.T5.6.4.2.m1.1.1.1.cmml" xref="S4.T5.6.4.2.m1.1.1.1"></times><cn type="integer" id="S4.T5.6.4.2.m1.1.1.2.cmml" xref="S4.T5.6.4.2.m1.1.1.2">4</cn><ci id="S4.T5.6.4.2.m1.1.1.3.cmml" xref="S4.T5.6.4.2.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.6.4.2.m1.1c">4\times N</annotation></semantics></math></td>
<td id="S4.T5.7.5.3" class="ltx_td ltx_align_center"><math id="S4.T5.7.5.3.m1.1" class="ltx_math_unparsed" alttext="1\times" display="inline"><semantics id="S4.T5.7.5.3.m1.1a"><mrow id="S4.T5.7.5.3.m1.1b"><mn id="S4.T5.7.5.3.m1.1.1">1</mn><mo lspace="0.222em" id="S4.T5.7.5.3.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.7.5.3.m1.1c">1\times</annotation></semantics></math></td>
<td id="S4.T5.8.6.4" class="ltx_td ltx_align_center"><math id="S4.T5.8.6.4.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.8.6.4.m1.1a"><mrow id="S4.T5.8.6.4.m1.1b"><mn id="S4.T5.8.6.4.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.8.6.4.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.8.6.4.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.8.6.5" class="ltx_td ltx_align_center">77.74</td>
<td id="S4.T5.8.6.6" class="ltx_td ltx_align_center">56.48</td>
</tr>
<tr id="S4.T5.11.9" class="ltx_tr">
<td id="S4.T5.9.7.1" class="ltx_td ltx_align_left">Baseline, <math id="S4.T5.9.7.1.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.9.7.1.m1.1a"><mrow id="S4.T5.9.7.1.m1.1b"><mn id="S4.T5.9.7.1.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.9.7.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.9.7.1.m1.1c">4\times</annotation></semantics></math>batch size with
microbatching</td>
<td id="S4.T5.11.9.4" class="ltx_td ltx_align_center">0</td>
<td id="S4.T5.10.8.2" class="ltx_td ltx_align_center"><math id="S4.T5.10.8.2.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.10.8.2.m1.1a"><mrow id="S4.T5.10.8.2.m1.1b"><mn id="S4.T5.10.8.2.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.10.8.2.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.10.8.2.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.11.9.3" class="ltx_td ltx_align_center"><math id="S4.T5.11.9.3.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.11.9.3.m1.1a"><mrow id="S4.T5.11.9.3.m1.1b"><mn id="S4.T5.11.9.3.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.11.9.3.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.11.9.3.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.11.9.5" class="ltx_td ltx_align_center">77.72</td>
<td id="S4.T5.11.9.6" class="ltx_td ltx_align_center">56.69</td>
</tr>
<tr id="S4.T5.14.12" class="ltx_tr">
<td id="S4.T5.12.10.1" class="ltx_td ltx_align_left">Baseline, <math id="S4.T5.12.10.1.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.12.10.1.m1.1a"><mrow id="S4.T5.12.10.1.m1.1b"><mn id="S4.T5.12.10.1.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.12.10.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.12.10.1.m1.1c">4\times</annotation></semantics></math>update</td>
<td id="S4.T5.14.12.4" class="ltx_td ltx_align_center">0</td>
<td id="S4.T5.13.11.2" class="ltx_td ltx_align_center"><math id="S4.T5.13.11.2.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.13.11.2.m1.1a"><mrow id="S4.T5.13.11.2.m1.1b"><mn id="S4.T5.13.11.2.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.13.11.2.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.13.11.2.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.14.12.3" class="ltx_td ltx_align_center"><math id="S4.T5.14.12.3.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.14.12.3.m1.1a"><mrow id="S4.T5.14.12.3.m1.1b"><mn id="S4.T5.14.12.3.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.14.12.3.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.14.12.3.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.14.12.5" class="ltx_td ltx_align_center">73.55</td>
<td id="S4.T5.14.12.6" class="ltx_td ltx_align_center">55.03</td>
</tr>
<tr id="S4.T5.17.15" class="ltx_tr">
<td id="S4.T5.17.15.4" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T5.17.15.4.1" class="ltx_text">FDLoRA</span></td>
<td id="S4.T5.15.13.1" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T5.15.13.1.m1.1" class="ltx_Math" alttext="4\times\frac{T}{K}" display="inline"><semantics id="S4.T5.15.13.1.m1.1a"><mrow id="S4.T5.15.13.1.m1.1.1" xref="S4.T5.15.13.1.m1.1.1.cmml"><mn id="S4.T5.15.13.1.m1.1.1.2" xref="S4.T5.15.13.1.m1.1.1.2.cmml">4</mn><mo lspace="0.222em" rspace="0.222em" id="S4.T5.15.13.1.m1.1.1.1" xref="S4.T5.15.13.1.m1.1.1.1.cmml">×</mo><mfrac id="S4.T5.15.13.1.m1.1.1.3" xref="S4.T5.15.13.1.m1.1.1.3.cmml"><mi id="S4.T5.15.13.1.m1.1.1.3.2" xref="S4.T5.15.13.1.m1.1.1.3.2.cmml">T</mi><mi id="S4.T5.15.13.1.m1.1.1.3.3" xref="S4.T5.15.13.1.m1.1.1.3.3.cmml">K</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.15.13.1.m1.1b"><apply id="S4.T5.15.13.1.m1.1.1.cmml" xref="S4.T5.15.13.1.m1.1.1"><times id="S4.T5.15.13.1.m1.1.1.1.cmml" xref="S4.T5.15.13.1.m1.1.1.1"></times><cn type="integer" id="S4.T5.15.13.1.m1.1.1.2.cmml" xref="S4.T5.15.13.1.m1.1.1.2">4</cn><apply id="S4.T5.15.13.1.m1.1.1.3.cmml" xref="S4.T5.15.13.1.m1.1.1.3"><divide id="S4.T5.15.13.1.m1.1.1.3.1.cmml" xref="S4.T5.15.13.1.m1.1.1.3"></divide><ci id="S4.T5.15.13.1.m1.1.1.3.2.cmml" xref="S4.T5.15.13.1.m1.1.1.3.2">𝑇</ci><ci id="S4.T5.15.13.1.m1.1.1.3.3.cmml" xref="S4.T5.15.13.1.m1.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.15.13.1.m1.1c">4\times\frac{T}{K}</annotation></semantics></math></td>
<td id="S4.T5.16.14.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T5.16.14.2.m1.1" class="ltx_math_unparsed" alttext="1\times" display="inline"><semantics id="S4.T5.16.14.2.m1.1a"><mrow id="S4.T5.16.14.2.m1.1b"><mn id="S4.T5.16.14.2.m1.1.1">1</mn><mo lspace="0.222em" id="S4.T5.16.14.2.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.16.14.2.m1.1c">1\times</annotation></semantics></math></td>
<td id="S4.T5.17.15.3" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T5.17.15.3.m1.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.T5.17.15.3.m1.1a"><mrow id="S4.T5.17.15.3.m1.1b"><mn id="S4.T5.17.15.3.m1.1.1">4</mn><mo lspace="0.222em" id="S4.T5.17.15.3.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.T5.17.15.3.m1.1c">4\times</annotation></semantics></math></td>
<td id="S4.T5.17.15.5" class="ltx_td ltx_align_center ltx_border_bb">77.39</td>
<td id="S4.T5.17.15.6" class="ltx_td ltx_align_center ltx_border_bb">55.83</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.7. </span>RQ6: Trade-off between communication cost and computational cost</h3>

<div id="S4.SS7.p1" class="ltx_para">
<p id="S4.SS7.p1.1" class="ltx_p"><span id="S4.SS7.p1.1.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> The baseline methods involve variations in communication, time, and compute/data usage. Specifically, the first baseline utilizes standard settings with a single GPU for both data processing and model training, while the second employs data parallelism with four GPUs. The third baseline increases the batch size per GPU by four, resulting in slower training times, while the fourth keeps the batch size constant but increases the accumulation factor to 4. The results are present in Table <a href="#S4.T5" title="Table 5 ‣ 4.6. RQ5: Effectiveness of combining personalized LoRA and global LoRA ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div id="S4.SS7.p2" class="ltx_para">
<p id="S4.SS7.p2.1" class="ltx_p">In <span id="S4.SS7.p2.1.1" class="ltx_text ltx_font_italic">Scenario-1</span>, the baseline method employing data parallelism achieves optimal performance, benefiting from efficient communication and compute/data utilization. However, approaches with increased batch size or accumulation factor suffer from longer training times and lower average accuracy. This suggests that while parallelizing data across multiple GPUs can enhance performance, overly increasing batch size or accumulation factor may introduce bottlenecks in computation and negatively impact model convergence.</p>
</div>
<div id="S4.SS7.p3" class="ltx_para">
<p id="S4.SS7.p3.1" class="ltx_p">In <span id="S4.SS7.p3.1.1" class="ltx_text ltx_font_italic">Scenario-2</span>, larger batch sizes outperform smaller ones in the baseline methods, indicating the potential benefits of aggregating more data for training. However, an increase in the accumulation factor leads to performance degradation, highlighting the importance of balancing compute resources with training efficiency. These findings underscore the complex trade-offs involved in federated learning, where optimizing communication and computation strategies is essential for achieving optimal model performance across diverse scenarios.</p>
</div>
<div id="S4.SS7.p4" class="ltx_para">
<p id="S4.SS7.p4.1" class="ltx_p">The results demonstrate the intricate interplay between communication, computation, and model performance in federated learning. While certain strategies, such as data parallelism or larger batch sizes, may excel in specific scenarios, they may not generalize well across different settings. <span id="S4.SS7.p4.1.1" class="ltx_text">FDLoRA</span> emerges as a promising approach, striking a balance between communication and computation costs while maintaining competitive performance across diverse scenarios, including log anomaly detection and medical question answering.</p>
</div>
<figure id="S4.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6. </span>Comparison with different fusion methods (<math id="S4.T6.2.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.T6.2.m1.1b"><mrow id="S4.T6.2.m1.1.1" xref="S4.T6.2.m1.1.1.cmml"><mi id="S4.T6.2.m1.1.1.2" xref="S4.T6.2.m1.1.1.2.cmml">N</mi><mo id="S4.T6.2.m1.1.1.1" xref="S4.T6.2.m1.1.1.1.cmml">=</mo><mn id="S4.T6.2.m1.1.1.3" xref="S4.T6.2.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T6.2.m1.1c"><apply id="S4.T6.2.m1.1.1.cmml" xref="S4.T6.2.m1.1.1"><eq id="S4.T6.2.m1.1.1.1.cmml" xref="S4.T6.2.m1.1.1.1"></eq><ci id="S4.T6.2.m1.1.1.2.cmml" xref="S4.T6.2.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.T6.2.m1.1.1.3.cmml" xref="S4.T6.2.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.2.m1.1d">N=5</annotation></semantics></math>).</figcaption>
<table id="S4.T6.27" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.3.1" class="ltx_tr">
<th id="S4.T6.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">
<span id="S4.T6.3.1.1.1" class="ltx_text ltx_nopad"><svg version="1.1" height="15.57" width="181.96" overflow="visible"><g transform="translate(0,15.57) scale(1,-1)"><path d="M 0,15.57 181.96,0" stroke="#000000" stroke-width="0.4"></path><g class="ltx_svg_fog" transform="translate(0,0)"><g transform="translate(0,9.61) scale(1, -1)"><foreignObject width="90.98" height="9.61" overflow="visible">
<span id="S4.T6.3.1.1.1.pic1.2.1" class="ltx_inline-block">
<span id="S4.T6.3.1.1.1.pic1.2.1.1" class="ltx_inline-block ltx_align_left">
<span id="S4.T6.3.1.1.1.pic1.2.1.1.1" class="ltx_p">Fusion Method</span>
</span>
</span></foreignObject></g></g><g class="ltx_svg_fog" transform="translate(173.11,9.61)"><g transform="translate(0,5.96) scale(1, -1)"><foreignObject width="8.85" height="5.96" overflow="visible">
<span id="S4.T6.3.1.1.1.pic1.1.1" class="ltx_inline-block">
<span id="S4.T6.3.1.1.1.pic1.1.1.1" class="ltx_inline-block ltx_align_right">
<span id="S4.T6.3.1.1.1.pic1.1.1.1.1" class="ltx_p"><math id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1a"><mi id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1.1" xref="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1b"><ci id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1.1.cmml" xref="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.3.1.1.1.pic1.1.1.1.1.m1.1c">\alpha</annotation></semantics></math></span>
</span>
</span></foreignObject></g></g></g></svg></span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T6.3.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" colspan="3">
<span id="S4.T6.3.1.2.1" class="ltx_text ltx_font_italic">Scenario-1</span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T6.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T6.3.1.3.1" class="ltx_text ltx_font_italic">Scenario-2</span></th>
</tr>
<tr id="S4.T6.27.26.1" class="ltx_tr">
<th id="S4.T6.27.26.1.1" class="ltx_td ltx_align_right ltx_th ltx_th_column">  <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T6.27.26.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">0.1</th>
<th id="S4.T6.27.26.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">0.5</th>
<th id="S4.T6.27.26.1.4" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">1   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</th>
<th id="S4.T6.27.26.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">0.1</th>
<th id="S4.T6.27.26.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">0.5</th>
<th id="S4.T6.27.26.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">1</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.9.7" class="ltx_tr">
<td id="S4.T6.9.7.7" class="ltx_td ltx_align_left ltx_border_t">Random   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.4.2.1" class="ltx_td ltx_align_center ltx_border_t">32.88 <math id="S4.T6.4.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.4.2.1.m1.1a"><mo id="S4.T6.4.2.1.m1.1.1" xref="S4.T6.4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.4.2.1.m1.1b"><csymbol cd="latexml" id="S4.T6.4.2.1.m1.1.1.cmml" xref="S4.T6.4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.4.2.1.m1.1c">\pm</annotation></semantics></math> 5.81</td>
<td id="S4.T6.5.3.2" class="ltx_td ltx_align_center ltx_border_t">36.33 <math id="S4.T6.5.3.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.5.3.2.m1.1a"><mo id="S4.T6.5.3.2.m1.1.1" xref="S4.T6.5.3.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.5.3.2.m1.1b"><csymbol cd="latexml" id="S4.T6.5.3.2.m1.1.1.cmml" xref="S4.T6.5.3.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.5.3.2.m1.1c">\pm</annotation></semantics></math> 5.46</td>
<td id="S4.T6.6.4.3" class="ltx_td ltx_align_right ltx_border_t">41.61 <math id="S4.T6.6.4.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.6.4.3.m1.1a"><mo id="S4.T6.6.4.3.m1.1.1" xref="S4.T6.6.4.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.6.4.3.m1.1b"><csymbol cd="latexml" id="S4.T6.6.4.3.m1.1.1.cmml" xref="S4.T6.6.4.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.6.4.3.m1.1c">\pm</annotation></semantics></math> 4.81   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.7.5.4" class="ltx_td ltx_align_center ltx_border_t">48.15 <math id="S4.T6.7.5.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.7.5.4.m1.1a"><mo id="S4.T6.7.5.4.m1.1.1" xref="S4.T6.7.5.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.7.5.4.m1.1b"><csymbol cd="latexml" id="S4.T6.7.5.4.m1.1.1.cmml" xref="S4.T6.7.5.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.7.5.4.m1.1c">\pm</annotation></semantics></math> 2.97</td>
<td id="S4.T6.8.6.5" class="ltx_td ltx_align_center ltx_border_t">48.73 <math id="S4.T6.8.6.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.8.6.5.m1.1a"><mo id="S4.T6.8.6.5.m1.1.1" xref="S4.T6.8.6.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.8.6.5.m1.1b"><csymbol cd="latexml" id="S4.T6.8.6.5.m1.1.1.cmml" xref="S4.T6.8.6.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.8.6.5.m1.1c">\pm</annotation></semantics></math> 3.37</td>
<td id="S4.T6.9.7.6" class="ltx_td ltx_align_center ltx_border_t">48.43 <math id="S4.T6.9.7.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.9.7.6.m1.1a"><mo id="S4.T6.9.7.6.m1.1.1" xref="S4.T6.9.7.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.9.7.6.m1.1b"><csymbol cd="latexml" id="S4.T6.9.7.6.m1.1.1.cmml" xref="S4.T6.9.7.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.9.7.6.m1.1c">\pm</annotation></semantics></math> 1.35</td>
</tr>
<tr id="S4.T6.15.13" class="ltx_tr">
<td id="S4.T6.15.13.7" class="ltx_td ltx_align_left">Average   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.10.8.1" class="ltx_td ltx_align_center">36.94 <math id="S4.T6.10.8.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.10.8.1.m1.1a"><mo id="S4.T6.10.8.1.m1.1.1" xref="S4.T6.10.8.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.10.8.1.m1.1b"><csymbol cd="latexml" id="S4.T6.10.8.1.m1.1.1.cmml" xref="S4.T6.10.8.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.10.8.1.m1.1c">\pm</annotation></semantics></math> 2.66</td>
<td id="S4.T6.11.9.2" class="ltx_td ltx_align_center">46.57 <math id="S4.T6.11.9.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.11.9.2.m1.1a"><mo id="S4.T6.11.9.2.m1.1.1" xref="S4.T6.11.9.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.11.9.2.m1.1b"><csymbol cd="latexml" id="S4.T6.11.9.2.m1.1.1.cmml" xref="S4.T6.11.9.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.11.9.2.m1.1c">\pm</annotation></semantics></math> 2.87</td>
<td id="S4.T6.12.10.3" class="ltx_td ltx_align_right">43.21 <math id="S4.T6.12.10.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.12.10.3.m1.1a"><mo id="S4.T6.12.10.3.m1.1.1" xref="S4.T6.12.10.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.12.10.3.m1.1b"><csymbol cd="latexml" id="S4.T6.12.10.3.m1.1.1.cmml" xref="S4.T6.12.10.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.12.10.3.m1.1c">\pm</annotation></semantics></math> 1.90   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.13.11.4" class="ltx_td ltx_align_center">39.53 <math id="S4.T6.13.11.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.13.11.4.m1.1a"><mo id="S4.T6.13.11.4.m1.1.1" xref="S4.T6.13.11.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.13.11.4.m1.1b"><csymbol cd="latexml" id="S4.T6.13.11.4.m1.1.1.cmml" xref="S4.T6.13.11.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.13.11.4.m1.1c">\pm</annotation></semantics></math> 1.77</td>
<td id="S4.T6.14.12.5" class="ltx_td ltx_align_center">39.77 <math id="S4.T6.14.12.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.14.12.5.m1.1a"><mo id="S4.T6.14.12.5.m1.1.1" xref="S4.T6.14.12.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.14.12.5.m1.1b"><csymbol cd="latexml" id="S4.T6.14.12.5.m1.1.1.cmml" xref="S4.T6.14.12.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.14.12.5.m1.1c">\pm</annotation></semantics></math> 1.58</td>
<td id="S4.T6.15.13.6" class="ltx_td ltx_align_center">43.28 <math id="S4.T6.15.13.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.15.13.6.m1.1a"><mo id="S4.T6.15.13.6.m1.1.1" xref="S4.T6.15.13.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.15.13.6.m1.1b"><csymbol cd="latexml" id="S4.T6.15.13.6.m1.1.1.cmml" xref="S4.T6.15.13.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.15.13.6.m1.1c">\pm</annotation></semantics></math> 0.85</td>
</tr>
<tr id="S4.T6.21.19" class="ltx_tr">
<td id="S4.T6.21.19.7" class="ltx_td ltx_align_left">Sum   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.16.14.1" class="ltx_td ltx_align_center">68.47 <math id="S4.T6.16.14.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.16.14.1.m1.1a"><mo id="S4.T6.16.14.1.m1.1.1" xref="S4.T6.16.14.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.16.14.1.m1.1b"><csymbol cd="latexml" id="S4.T6.16.14.1.m1.1.1.cmml" xref="S4.T6.16.14.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.16.14.1.m1.1c">\pm</annotation></semantics></math> 1.76</td>
<td id="S4.T6.17.15.2" class="ltx_td ltx_align_center">67.86 <math id="S4.T6.17.15.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.17.15.2.m1.1a"><mo id="S4.T6.17.15.2.m1.1.1" xref="S4.T6.17.15.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.17.15.2.m1.1b"><csymbol cd="latexml" id="S4.T6.17.15.2.m1.1.1.cmml" xref="S4.T6.17.15.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.17.15.2.m1.1c">\pm</annotation></semantics></math> 2.05</td>
<td id="S4.T6.18.16.3" class="ltx_td ltx_align_right">64.81 <math id="S4.T6.18.16.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.18.16.3.m1.1a"><mo id="S4.T6.18.16.3.m1.1.1" xref="S4.T6.18.16.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.18.16.3.m1.1b"><csymbol cd="latexml" id="S4.T6.18.16.3.m1.1.1.cmml" xref="S4.T6.18.16.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.18.16.3.m1.1c">\pm</annotation></semantics></math> 1.84   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.19.17.4" class="ltx_td ltx_align_center">48.76 <math id="S4.T6.19.17.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.19.17.4.m1.1a"><mo id="S4.T6.19.17.4.m1.1.1" xref="S4.T6.19.17.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.19.17.4.m1.1b"><csymbol cd="latexml" id="S4.T6.19.17.4.m1.1.1.cmml" xref="S4.T6.19.17.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.19.17.4.m1.1c">\pm</annotation></semantics></math> 1.05</td>
<td id="S4.T6.20.18.5" class="ltx_td ltx_align_center">47.36 <math id="S4.T6.20.18.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.20.18.5.m1.1a"><mo id="S4.T6.20.18.5.m1.1.1" xref="S4.T6.20.18.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.20.18.5.m1.1b"><csymbol cd="latexml" id="S4.T6.20.18.5.m1.1.1.cmml" xref="S4.T6.20.18.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.20.18.5.m1.1c">\pm</annotation></semantics></math> 1.31</td>
<td id="S4.T6.21.19.6" class="ltx_td ltx_align_center"><span id="S4.T6.21.19.6.1" class="ltx_text ltx_font_bold">49.18 <math id="S4.T6.21.19.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.21.19.6.1.m1.1a"><mo id="S4.T6.21.19.6.1.m1.1.1" xref="S4.T6.21.19.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.21.19.6.1.m1.1b"><csymbol cd="latexml" id="S4.T6.21.19.6.1.m1.1.1.cmml" xref="S4.T6.21.19.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.21.19.6.1.m1.1c">\pm</annotation></semantics></math> 1.11</span></td>
</tr>
<tr id="S4.T6.27.25" class="ltx_tr">
<td id="S4.T6.27.25.7" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t">AdaFusion   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.22.20.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T6.22.20.1.1" class="ltx_text ltx_font_bold">76.30 <math id="S4.T6.22.20.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.22.20.1.1.m1.1a"><mo id="S4.T6.22.20.1.1.m1.1.1" xref="S4.T6.22.20.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.22.20.1.1.m1.1b"><csymbol cd="latexml" id="S4.T6.22.20.1.1.m1.1.1.cmml" xref="S4.T6.22.20.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.22.20.1.1.m1.1c">\pm</annotation></semantics></math> 1.89</span></td>
<td id="S4.T6.23.21.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T6.23.21.2.1" class="ltx_text ltx_font_bold">78.17 <math id="S4.T6.23.21.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.23.21.2.1.m1.1a"><mo id="S4.T6.23.21.2.1.m1.1.1" xref="S4.T6.23.21.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.23.21.2.1.m1.1b"><csymbol cd="latexml" id="S4.T6.23.21.2.1.m1.1.1.cmml" xref="S4.T6.23.21.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.23.21.2.1.m1.1c">\pm</annotation></semantics></math> 1.11</span></td>
<td id="S4.T6.24.22.3" class="ltx_td ltx_align_right ltx_border_bb ltx_border_t">
<span id="S4.T6.24.22.3.1" class="ltx_text ltx_font_bold">75.60 <math id="S4.T6.24.22.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.24.22.3.1.m1.1a"><mo id="S4.T6.24.22.3.1.m1.1.1" xref="S4.T6.24.22.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.24.22.3.1.m1.1b"><csymbol cd="latexml" id="S4.T6.24.22.3.1.m1.1.1.cmml" xref="S4.T6.24.22.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.24.22.3.1.m1.1c">\pm</annotation></semantics></math> 0.47</span>   <span class="ltx_rule" style="width:0.5pt;background:black;display:inline-block;"> </span>
</td>
<td id="S4.T6.25.23.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T6.25.23.4.1" class="ltx_text ltx_font_bold">57.70 <math id="S4.T6.25.23.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.25.23.4.1.m1.1a"><mo id="S4.T6.25.23.4.1.m1.1.1" xref="S4.T6.25.23.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.25.23.4.1.m1.1b"><csymbol cd="latexml" id="S4.T6.25.23.4.1.m1.1.1.cmml" xref="S4.T6.25.23.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.25.23.4.1.m1.1c">\pm</annotation></semantics></math> 0.68</span></td>
<td id="S4.T6.26.24.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T6.26.24.5.1" class="ltx_text ltx_font_bold">56.20 <math id="S4.T6.26.24.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.26.24.5.1.m1.1a"><mo id="S4.T6.26.24.5.1.m1.1.1" xref="S4.T6.26.24.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.26.24.5.1.m1.1b"><csymbol cd="latexml" id="S4.T6.26.24.5.1.m1.1.1.cmml" xref="S4.T6.26.24.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.26.24.5.1.m1.1c">\pm</annotation></semantics></math> 0.83</span></td>
<td id="S4.T6.27.25.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">48.50 <math id="S4.T6.27.25.6.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.27.25.6.m1.1a"><mo id="S4.T6.27.25.6.m1.1.1" xref="S4.T6.27.25.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.27.25.6.m1.1b"><csymbol cd="latexml" id="S4.T6.27.25.6.m1.1.1.cmml" xref="S4.T6.27.25.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.27.25.6.m1.1c">\pm</annotation></semantics></math> 0.72</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS8" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.8. </span>RQ7: Advantages of AdaFusion method</h3>

<div id="S4.SS8.p1" class="ltx_para">
<p id="S4.SS8.p1.7" class="ltx_p"><span id="S4.SS8.p1.7.1" class="ltx_text ltx_font_bold">Experiment Settings.</span> To evaluate the advantages of the <span id="S4.SS8.p1.7.2" class="ltx_text ltx_font_italic">AdaFusion</span> method over other fusion methods, we compared it with three baseline methods: <span id="S4.SS8.p1.7.3" class="ltx_text ltx_font_italic">1)</span>. <span id="S4.SS8.p1.7.4" class="ltx_text ltx_font_italic">Random</span>, where weights between 0 and 1 are randomly assigned to the personalized LoRA (<math id="S4.SS8.p1.1.m1.1" class="ltx_Math" alttext="w_{1}" display="inline"><semantics id="S4.SS8.p1.1.m1.1a"><msub id="S4.SS8.p1.1.m1.1.1" xref="S4.SS8.p1.1.m1.1.1.cmml"><mi id="S4.SS8.p1.1.m1.1.1.2" xref="S4.SS8.p1.1.m1.1.1.2.cmml">w</mi><mn id="S4.SS8.p1.1.m1.1.1.3" xref="S4.SS8.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.1.m1.1b"><apply id="S4.SS8.p1.1.m1.1.1.cmml" xref="S4.SS8.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS8.p1.1.m1.1.1.1.cmml" xref="S4.SS8.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS8.p1.1.m1.1.1.2.cmml" xref="S4.SS8.p1.1.m1.1.1.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.1.m1.1.1.3.cmml" xref="S4.SS8.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.1.m1.1c">w_{1}</annotation></semantics></math>) and the global LoRA (<math id="S4.SS8.p1.2.m2.1" class="ltx_Math" alttext="w_{2}" display="inline"><semantics id="S4.SS8.p1.2.m2.1a"><msub id="S4.SS8.p1.2.m2.1.1" xref="S4.SS8.p1.2.m2.1.1.cmml"><mi id="S4.SS8.p1.2.m2.1.1.2" xref="S4.SS8.p1.2.m2.1.1.2.cmml">w</mi><mn id="S4.SS8.p1.2.m2.1.1.3" xref="S4.SS8.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.2.m2.1b"><apply id="S4.SS8.p1.2.m2.1.1.cmml" xref="S4.SS8.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS8.p1.2.m2.1.1.1.cmml" xref="S4.SS8.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS8.p1.2.m2.1.1.2.cmml" xref="S4.SS8.p1.2.m2.1.1.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.2.m2.1.1.3.cmml" xref="S4.SS8.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.2.m2.1c">w_{2}</annotation></semantics></math>); <span id="S4.SS8.p1.7.5" class="ltx_text ltx_font_italic">2)</span>. <span id="S4.SS8.p1.7.6" class="ltx_text ltx_font_italic">Average</span>, where the parameters of the two LoRA modules are arithmetically averaged (equivalent to <math id="S4.SS8.p1.3.m3.1" class="ltx_Math" alttext="w_{1}=0.5" display="inline"><semantics id="S4.SS8.p1.3.m3.1a"><mrow id="S4.SS8.p1.3.m3.1.1" xref="S4.SS8.p1.3.m3.1.1.cmml"><msub id="S4.SS8.p1.3.m3.1.1.2" xref="S4.SS8.p1.3.m3.1.1.2.cmml"><mi id="S4.SS8.p1.3.m3.1.1.2.2" xref="S4.SS8.p1.3.m3.1.1.2.2.cmml">w</mi><mn id="S4.SS8.p1.3.m3.1.1.2.3" xref="S4.SS8.p1.3.m3.1.1.2.3.cmml">1</mn></msub><mo id="S4.SS8.p1.3.m3.1.1.1" xref="S4.SS8.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS8.p1.3.m3.1.1.3" xref="S4.SS8.p1.3.m3.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.3.m3.1b"><apply id="S4.SS8.p1.3.m3.1.1.cmml" xref="S4.SS8.p1.3.m3.1.1"><eq id="S4.SS8.p1.3.m3.1.1.1.cmml" xref="S4.SS8.p1.3.m3.1.1.1"></eq><apply id="S4.SS8.p1.3.m3.1.1.2.cmml" xref="S4.SS8.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.SS8.p1.3.m3.1.1.2.1.cmml" xref="S4.SS8.p1.3.m3.1.1.2">subscript</csymbol><ci id="S4.SS8.p1.3.m3.1.1.2.2.cmml" xref="S4.SS8.p1.3.m3.1.1.2.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.3.m3.1.1.2.3.cmml" xref="S4.SS8.p1.3.m3.1.1.2.3">1</cn></apply><cn type="float" id="S4.SS8.p1.3.m3.1.1.3.cmml" xref="S4.SS8.p1.3.m3.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.3.m3.1c">w_{1}=0.5</annotation></semantics></math> and <math id="S4.SS8.p1.4.m4.1" class="ltx_Math" alttext="w_{2}=0.5" display="inline"><semantics id="S4.SS8.p1.4.m4.1a"><mrow id="S4.SS8.p1.4.m4.1.1" xref="S4.SS8.p1.4.m4.1.1.cmml"><msub id="S4.SS8.p1.4.m4.1.1.2" xref="S4.SS8.p1.4.m4.1.1.2.cmml"><mi id="S4.SS8.p1.4.m4.1.1.2.2" xref="S4.SS8.p1.4.m4.1.1.2.2.cmml">w</mi><mn id="S4.SS8.p1.4.m4.1.1.2.3" xref="S4.SS8.p1.4.m4.1.1.2.3.cmml">2</mn></msub><mo id="S4.SS8.p1.4.m4.1.1.1" xref="S4.SS8.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS8.p1.4.m4.1.1.3" xref="S4.SS8.p1.4.m4.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.4.m4.1b"><apply id="S4.SS8.p1.4.m4.1.1.cmml" xref="S4.SS8.p1.4.m4.1.1"><eq id="S4.SS8.p1.4.m4.1.1.1.cmml" xref="S4.SS8.p1.4.m4.1.1.1"></eq><apply id="S4.SS8.p1.4.m4.1.1.2.cmml" xref="S4.SS8.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S4.SS8.p1.4.m4.1.1.2.1.cmml" xref="S4.SS8.p1.4.m4.1.1.2">subscript</csymbol><ci id="S4.SS8.p1.4.m4.1.1.2.2.cmml" xref="S4.SS8.p1.4.m4.1.1.2.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.4.m4.1.1.2.3.cmml" xref="S4.SS8.p1.4.m4.1.1.2.3">2</cn></apply><cn type="float" id="S4.SS8.p1.4.m4.1.1.3.cmml" xref="S4.SS8.p1.4.m4.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.4.m4.1c">w_{2}=0.5</annotation></semantics></math>); <span id="S4.SS8.p1.7.7" class="ltx_text ltx_font_italic">3)</span>. <span id="S4.SS8.p1.7.8" class="ltx_text ltx_font_italic">Sum</span>, where the parameters of the two LoRA modules are added directly (equivalent to <math id="S4.SS8.p1.5.m5.1" class="ltx_Math" alttext="w_{1}=1.0" display="inline"><semantics id="S4.SS8.p1.5.m5.1a"><mrow id="S4.SS8.p1.5.m5.1.1" xref="S4.SS8.p1.5.m5.1.1.cmml"><msub id="S4.SS8.p1.5.m5.1.1.2" xref="S4.SS8.p1.5.m5.1.1.2.cmml"><mi id="S4.SS8.p1.5.m5.1.1.2.2" xref="S4.SS8.p1.5.m5.1.1.2.2.cmml">w</mi><mn id="S4.SS8.p1.5.m5.1.1.2.3" xref="S4.SS8.p1.5.m5.1.1.2.3.cmml">1</mn></msub><mo id="S4.SS8.p1.5.m5.1.1.1" xref="S4.SS8.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS8.p1.5.m5.1.1.3" xref="S4.SS8.p1.5.m5.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.5.m5.1b"><apply id="S4.SS8.p1.5.m5.1.1.cmml" xref="S4.SS8.p1.5.m5.1.1"><eq id="S4.SS8.p1.5.m5.1.1.1.cmml" xref="S4.SS8.p1.5.m5.1.1.1"></eq><apply id="S4.SS8.p1.5.m5.1.1.2.cmml" xref="S4.SS8.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS8.p1.5.m5.1.1.2.1.cmml" xref="S4.SS8.p1.5.m5.1.1.2">subscript</csymbol><ci id="S4.SS8.p1.5.m5.1.1.2.2.cmml" xref="S4.SS8.p1.5.m5.1.1.2.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.5.m5.1.1.2.3.cmml" xref="S4.SS8.p1.5.m5.1.1.2.3">1</cn></apply><cn type="float" id="S4.SS8.p1.5.m5.1.1.3.cmml" xref="S4.SS8.p1.5.m5.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.5.m5.1c">w_{1}=1.0</annotation></semantics></math> and <math id="S4.SS8.p1.6.m6.1" class="ltx_Math" alttext="w_{2}=1.0" display="inline"><semantics id="S4.SS8.p1.6.m6.1a"><mrow id="S4.SS8.p1.6.m6.1.1" xref="S4.SS8.p1.6.m6.1.1.cmml"><msub id="S4.SS8.p1.6.m6.1.1.2" xref="S4.SS8.p1.6.m6.1.1.2.cmml"><mi id="S4.SS8.p1.6.m6.1.1.2.2" xref="S4.SS8.p1.6.m6.1.1.2.2.cmml">w</mi><mn id="S4.SS8.p1.6.m6.1.1.2.3" xref="S4.SS8.p1.6.m6.1.1.2.3.cmml">2</mn></msub><mo id="S4.SS8.p1.6.m6.1.1.1" xref="S4.SS8.p1.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS8.p1.6.m6.1.1.3" xref="S4.SS8.p1.6.m6.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.6.m6.1b"><apply id="S4.SS8.p1.6.m6.1.1.cmml" xref="S4.SS8.p1.6.m6.1.1"><eq id="S4.SS8.p1.6.m6.1.1.1.cmml" xref="S4.SS8.p1.6.m6.1.1.1"></eq><apply id="S4.SS8.p1.6.m6.1.1.2.cmml" xref="S4.SS8.p1.6.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS8.p1.6.m6.1.1.2.1.cmml" xref="S4.SS8.p1.6.m6.1.1.2">subscript</csymbol><ci id="S4.SS8.p1.6.m6.1.1.2.2.cmml" xref="S4.SS8.p1.6.m6.1.1.2.2">𝑤</ci><cn type="integer" id="S4.SS8.p1.6.m6.1.1.2.3.cmml" xref="S4.SS8.p1.6.m6.1.1.2.3">2</cn></apply><cn type="float" id="S4.SS8.p1.6.m6.1.1.3.cmml" xref="S4.SS8.p1.6.m6.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.6.m6.1c">w_{2}=1.0</annotation></semantics></math>). We evaluated the results under different <span id="S4.SS8.p1.7.9" class="ltx_text ltx_font_italic">non-IID</span> settings (e.g., <math id="S4.SS8.p1.7.m7.3" class="ltx_Math" alttext="\alpha=\{0.1,0.5,1.0\}" display="inline"><semantics id="S4.SS8.p1.7.m7.3a"><mrow id="S4.SS8.p1.7.m7.3.4" xref="S4.SS8.p1.7.m7.3.4.cmml"><mi id="S4.SS8.p1.7.m7.3.4.2" xref="S4.SS8.p1.7.m7.3.4.2.cmml">α</mi><mo id="S4.SS8.p1.7.m7.3.4.1" xref="S4.SS8.p1.7.m7.3.4.1.cmml">=</mo><mrow id="S4.SS8.p1.7.m7.3.4.3.2" xref="S4.SS8.p1.7.m7.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS8.p1.7.m7.3.4.3.2.1" xref="S4.SS8.p1.7.m7.3.4.3.1.cmml">{</mo><mn id="S4.SS8.p1.7.m7.1.1" xref="S4.SS8.p1.7.m7.1.1.cmml">0.1</mn><mo id="S4.SS8.p1.7.m7.3.4.3.2.2" xref="S4.SS8.p1.7.m7.3.4.3.1.cmml">,</mo><mn id="S4.SS8.p1.7.m7.2.2" xref="S4.SS8.p1.7.m7.2.2.cmml">0.5</mn><mo id="S4.SS8.p1.7.m7.3.4.3.2.3" xref="S4.SS8.p1.7.m7.3.4.3.1.cmml">,</mo><mn id="S4.SS8.p1.7.m7.3.3" xref="S4.SS8.p1.7.m7.3.3.cmml">1.0</mn><mo stretchy="false" id="S4.SS8.p1.7.m7.3.4.3.2.4" xref="S4.SS8.p1.7.m7.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p1.7.m7.3b"><apply id="S4.SS8.p1.7.m7.3.4.cmml" xref="S4.SS8.p1.7.m7.3.4"><eq id="S4.SS8.p1.7.m7.3.4.1.cmml" xref="S4.SS8.p1.7.m7.3.4.1"></eq><ci id="S4.SS8.p1.7.m7.3.4.2.cmml" xref="S4.SS8.p1.7.m7.3.4.2">𝛼</ci><set id="S4.SS8.p1.7.m7.3.4.3.1.cmml" xref="S4.SS8.p1.7.m7.3.4.3.2"><cn type="float" id="S4.SS8.p1.7.m7.1.1.cmml" xref="S4.SS8.p1.7.m7.1.1">0.1</cn><cn type="float" id="S4.SS8.p1.7.m7.2.2.cmml" xref="S4.SS8.p1.7.m7.2.2">0.5</cn><cn type="float" id="S4.SS8.p1.7.m7.3.3.cmml" xref="S4.SS8.p1.7.m7.3.3">1.0</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p1.7.m7.3c">\alpha=\{0.1,0.5,1.0\}</annotation></semantics></math>), as shown in Table <a href="#S4.T6" title="Table 6 ‣ 4.7. RQ6: Trade-off between communication cost and computational cost ‣ 4. Evaluation ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div id="S4.SS8.p2" class="ltx_para">
<p id="S4.SS8.p2.1" class="ltx_p">In <span id="S4.SS8.p2.1.1" class="ltx_text ltx_font_italic">Scenario-1</span>, <span id="S4.SS8.p2.1.2" class="ltx_text ltx_font_italic">AdaFusion</span> consistently outperforms the other fusion methods across all <math id="S4.SS8.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS8.p2.1.m1.1a"><mi id="S4.SS8.p2.1.m1.1.1" xref="S4.SS8.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS8.p2.1.m1.1b"><ci id="S4.SS8.p2.1.m1.1.1.cmml" xref="S4.SS8.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p2.1.m1.1c">\alpha</annotation></semantics></math> values. This indicates that <span id="S4.SS8.p2.1.3" class="ltx_text ltx_font_italic">AdaFusion</span> effectively adapts to the varying degrees of data heterogeneity, achieving superior average accuracy compared to Random, Average, and Sum fusion methods. Notably, the robust performance of <span id="S4.SS8.p2.1.4" class="ltx_text ltx_font_italic">AdaFusion</span> underscores its ability to dynamically adjust fusion weights based on the characteristics of each client’s data distribution, leading to enhanced model convergence and predictive accuracy.</p>
</div>
<div id="S4.SS8.p3" class="ltx_para">
<p id="S4.SS8.p3.3" class="ltx_p">However, the performance of <span id="S4.SS8.p3.3.1" class="ltx_text ltx_font_italic">AdaFusion</span> in <span id="S4.SS8.p3.3.2" class="ltx_text ltx_font_italic">Scenario-2</span> exhibits slight fluctuations across different <math id="S4.SS8.p3.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS8.p3.1.m1.1a"><mi id="S4.SS8.p3.1.m1.1.1" xref="S4.SS8.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS8.p3.1.m1.1b"><ci id="S4.SS8.p3.1.m1.1.1.cmml" xref="S4.SS8.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p3.1.m1.1c">\alpha</annotation></semantics></math> values. While <span id="S4.SS8.p3.3.3" class="ltx_text ltx_font_italic">AdaFusion</span> generally maintains competitive accuracy at <math id="S4.SS8.p3.2.m2.2" class="ltx_Math" alttext="\alpha=\{0.1,0.5\}" display="inline"><semantics id="S4.SS8.p3.2.m2.2a"><mrow id="S4.SS8.p3.2.m2.2.3" xref="S4.SS8.p3.2.m2.2.3.cmml"><mi id="S4.SS8.p3.2.m2.2.3.2" xref="S4.SS8.p3.2.m2.2.3.2.cmml">α</mi><mo id="S4.SS8.p3.2.m2.2.3.1" xref="S4.SS8.p3.2.m2.2.3.1.cmml">=</mo><mrow id="S4.SS8.p3.2.m2.2.3.3.2" xref="S4.SS8.p3.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS8.p3.2.m2.2.3.3.2.1" xref="S4.SS8.p3.2.m2.2.3.3.1.cmml">{</mo><mn id="S4.SS8.p3.2.m2.1.1" xref="S4.SS8.p3.2.m2.1.1.cmml">0.1</mn><mo id="S4.SS8.p3.2.m2.2.3.3.2.2" xref="S4.SS8.p3.2.m2.2.3.3.1.cmml">,</mo><mn id="S4.SS8.p3.2.m2.2.2" xref="S4.SS8.p3.2.m2.2.2.cmml">0.5</mn><mo stretchy="false" id="S4.SS8.p3.2.m2.2.3.3.2.3" xref="S4.SS8.p3.2.m2.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p3.2.m2.2b"><apply id="S4.SS8.p3.2.m2.2.3.cmml" xref="S4.SS8.p3.2.m2.2.3"><eq id="S4.SS8.p3.2.m2.2.3.1.cmml" xref="S4.SS8.p3.2.m2.2.3.1"></eq><ci id="S4.SS8.p3.2.m2.2.3.2.cmml" xref="S4.SS8.p3.2.m2.2.3.2">𝛼</ci><set id="S4.SS8.p3.2.m2.2.3.3.1.cmml" xref="S4.SS8.p3.2.m2.2.3.3.2"><cn type="float" id="S4.SS8.p3.2.m2.1.1.cmml" xref="S4.SS8.p3.2.m2.1.1">0.1</cn><cn type="float" id="S4.SS8.p3.2.m2.2.2.cmml" xref="S4.SS8.p3.2.m2.2.2">0.5</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p3.2.m2.2c">\alpha=\{0.1,0.5\}</annotation></semantics></math>, it is inferior to the Sum fusion method at <math id="S4.SS8.p3.3.m3.1" class="ltx_Math" alttext="\alpha=1.0" display="inline"><semantics id="S4.SS8.p3.3.m3.1a"><mrow id="S4.SS8.p3.3.m3.1.1" xref="S4.SS8.p3.3.m3.1.1.cmml"><mi id="S4.SS8.p3.3.m3.1.1.2" xref="S4.SS8.p3.3.m3.1.1.2.cmml">α</mi><mo id="S4.SS8.p3.3.m3.1.1.1" xref="S4.SS8.p3.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS8.p3.3.m3.1.1.3" xref="S4.SS8.p3.3.m3.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS8.p3.3.m3.1b"><apply id="S4.SS8.p3.3.m3.1.1.cmml" xref="S4.SS8.p3.3.m3.1.1"><eq id="S4.SS8.p3.3.m3.1.1.1.cmml" xref="S4.SS8.p3.3.m3.1.1.1"></eq><ci id="S4.SS8.p3.3.m3.1.1.2.cmml" xref="S4.SS8.p3.3.m3.1.1.2">𝛼</ci><cn type="float" id="S4.SS8.p3.3.m3.1.1.3.cmml" xref="S4.SS8.p3.3.m3.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p3.3.m3.1c">\alpha=1.0</annotation></semantics></math>. This discrepancy suggests that the efficacy of fusion methods may vary depending on the specific characteristics of the FL environment, such as the degree of data heterogeneity and the complexity of the learning task. Furthermore, it highlights the importance of considering the interplay between fusion methods and the inherent properties of the data distribution when designing FL algorithms.</p>
</div>
<div id="S4.SS8.p4" class="ltx_para">
<p id="S4.SS8.p4.1" class="ltx_p">In summary, the results reveal the nuanced performance of fusion methods in FL scenarios with varying degrees of data heterogeneity. AdaFusion emerges as a robust fusion approach, demonstrating superior adaptability and performance in <span id="S4.SS8.p4.1.1" class="ltx_text ltx_font_italic">Scenario-1</span> across all <math id="S4.SS8.p4.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS8.p4.1.m1.1a"><mi id="S4.SS8.p4.1.m1.1.1" xref="S4.SS8.p4.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS8.p4.1.m1.1b"><ci id="S4.SS8.p4.1.m1.1.1.cmml" xref="S4.SS8.p4.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS8.p4.1.m1.1c">\alpha</annotation></semantics></math> values. Its ability to dynamically adjust fusion weights based on local data characteristics enhances model convergence and predictive accuracy, making it well-suited for addressing the challenges of <span id="S4.SS8.p4.1.2" class="ltx_text ltx_font_italic">non-IID</span> data distributions in FL. However, further investigation is warranted to understand the factors influencing the performance of fusion methods in different scenarios and to optimize their efficacy for diverse FL applications.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Related Work</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we briefly review the related work of personalized federate learning and parameter-efficient fine-tuning.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_italic">Personalized federate learning (PFL).</span> The primary objective of PFL is to address the challenge encountered in conventional federated learning, where the global model lacks personalization for local tasks or datasets, leading to slow convergence and suboptimal performance in heterogeneous data (<span id="S5.p2.1.2" class="ltx_text ltx_font_italic">non-IID</span>) scenarios. PFL tackles this challenge through two key approaches <cite class="ltx_cite ltx_citemacro_citep">(Tan et al<span class="ltx_text">.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2022</a>)</cite>: global model personalization and learning personalized model.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p"><span id="S5.p3.1.1" class="ltx_text ltx_font_bold">Global model personalization</span>. To address the challenge of FL training on <span id="S5.p3.1.2" class="ltx_text ltx_font_italic">non-IID</span> data, the process of personalizing a global model globally can be divided into two stages. Firstly, a shared global model is trained via FL. Secondly, additional training is performed on local data to adapt to personalization. It is important to note that this process can be further divided into data-based and model-based methods.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p">The data-based method addresses the client drift problem, effectively converting <span id="S5.p4.1.1" class="ltx_text ltx_font_italic">non-IID</span> into IID settings. Thus, the unresolved problem (<span id="S5.p4.1.2" class="ltx_text ltx_font_italic">non-IID</span>) can be transferred to the resolved problem (IID) setting so that existing methods <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2017</a>)</cite> can process it. Research has investigated the use of data augmentation methods to enhance statistical homogeneity. However, applying existing over-sampling and under-sampling methods directly to FL settings, where client data is distributed and private, is challenging. To overcome this, researchers have developed data augmentation techniques tailored for FL settings <cite class="ltx_cite ltx_citemacro_citep">(Hao et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S5.p5" class="ltx_para">
<p id="S5.p5.1" class="ltx_p">Data-based approaches in FL mitigate client drift but often alter local data distributions, potentially losing valuable insights into client behavior diversity. Model-based global model personalization FL approaches aim to address this by either learning a robust global FL model for future client personalization or enhancing local model adaptation performance. These methods prioritize leveraging client behavior diversity to improve model personalization and adaptation, ensuring more effective and flexible FL outcomes. Researchers mainly use regularization <cite class="ltx_cite ltx_citemacro_citep">(Acar et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2021</a>)</cite>, meta-learning <cite class="ltx_cite ltx_citemacro_citep">(Fallah et al<span class="ltx_text">.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite>, and transfer learning <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2020</a>)</cite> to associate global models and local models for solution personalization. For instance, FedProx <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite> addresses statistical and systems heterogeneity. It introduced a proximal term to ensure the aggregation of incompletely calculated partial information and provide theoretical convergence guarantees under non-identical data distributions and system-level constraints. pFedMe <cite class="ltx_cite ltx_citemacro_citep">(T Dinh et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2020</a>)</cite> leverages Moreau envelopes to regularize clients’ loss functions, separating personalized optimization from global learning. Theoretically, pFedMe achieves state-of-the-art convergence rates, with quadratic speedup for strongly convex and 2/3-order sublinear speedup for smooth nonconvex objectives. FedHealth <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2020</a>)</cite> is the first federated transfer learning framework for wearable healthcare, which aggregates data via federated learning and tailors personalized models through transfer learning, ensuring accuracy and privacy.</p>
</div>
<div id="S5.p6" class="ltx_para">
<p id="S5.p6.1" class="ltx_p"><span id="S5.p6.1.1" class="ltx_text ltx_font_bold">Learning personalized model.</span> Unlike global model personalization, the learning personalized model has only a single training stage to achieve the effect of model personalization. Furthermore, it can be divided into structure-based methods and similarity-based methods.</p>
</div>
<div id="S5.p7" class="ltx_para">
<p id="S5.p7.1" class="ltx_p">Architecture-based PFL approaches customize model designs for individual clients. Techniques such as parameter decoupling <cite class="ltx_cite ltx_citemacro_citep">(Jin et al<span class="ltx_text">.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2022</a>)</cite> incorporate personalization layers for each client, while knowledge distillation methods <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> enable personalized model architectures for individual clients. Tailoring the architecture to each client’s specific requirements improves the effectiveness and adaptability of federated learning systems, resulting in improved model personalization. SplitFed <cite class="ltx_cite ltx_citemacro_citep">(Thapa et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2022</a>)</cite> merges FL and Split Learning (SL) to mitigate their drawbacks. SplitFed incorporates a refined architecture with differential privacy and PixelDP for enhanced data privacy and model robustness. He et al. proposed FedGKT <cite class="ltx_cite ltx_citemacro_citep">(He et al<span class="ltx_text">.</span>, <a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite>, a group knowledge transfer training algorithm. FedGKT employs an alternating minimization approach to train small CNNs on edge nodes and periodically transfer their knowledge via knowledge distillation to a large server-side CNN. FedGKT reduced edge computation demand, lower communication bandwidth for large CNNs, and asynchronous training, while maintaining accuracy comparable to FedAvg.</p>
</div>
<div id="S5.p8" class="ltx_para">
<p id="S5.p8.1" class="ltx_p">Similarity-based approaches focus on modeling client relationships to achieve personalization. These approaches aim to learn personalized models for each client, with related clients learning similar models <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2021</a>)</cite>. Various types of client relationships are explored in PFL research. Multi-task learning <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>)</cite> and model interpolation methods <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite> consider pairwise client relationships, while clustering techniques <cite class="ltx_cite ltx_citemacro_citep">(Briggs et al<span class="ltx_text">.</span>, <a href="#bib.bib5" title="" class="ltx_ref">2020</a>)</cite> examine group-level client relationships. These approaches leverage client similarities to enhance model personalization and performance in FL scenarios. Huang et al. proposed FedAMP <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>, which employs federated attentive message passing to facilitate collaborations among similar clients in federated learning with <span id="S5.p8.1.1" class="ltx_text ltx_font_italic">non-IID</span> data. Convergence is established for both convex and non-convex models. Additionally, a heuristic method is introduced to enhance performance for clients using deep neural networks. HeteroFL <cite class="ltx_cite ltx_citemacro_citep">(Diao et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2020</a>)</cite> is tailored for heterogeneous clients with varying computation and communication capabilities, which allows for training heterogeneous local models with different complexities while producing a single global inference model. It challenges the assumption of uniform model architectures across clients and demonstrates strategies to enhance federated learning training efficiency. Specifically, it achieves efficiency by adaptively distributing subnetworks based on clients’ capabilities. FedGroup <cite class="ltx_cite ltx_citemacro_citep">(Duan et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2020</a>)</cite> has introduced a new data-driven distance measure and a newcomer device cold start mechanism to improve scalability. The optimization process is divided into subgroups using the Kmeans++ algorithm, which can be combined with the FL optimizer FedProx to achieve even greater improvements.</p>
</div>
<div id="S5.p9" class="ltx_para">
<p id="S5.p9.1" class="ltx_p"><span id="S5.p9.1.1" class="ltx_text ltx_font_italic">Parameter-efficient fine-tuning (PEFT).</span> With the exponential increase in the number of parameters in state-of-the-art LLMs, fine-tuning for each downstream task has become exceedingly costly in terms of both time and resources. Xu et al. <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a href="#bib.bib50" title="" class="ltx_ref">2023</a>)</cite> aims to address this challenge by adapting LLMs to new tasks through the updating of only a small number of parameters, potentially including new ones. Several significant PEFT approaches have emerged to achieve this goal.</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p"><span id="S5.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Adapter-based methods</span> <cite class="ltx_cite ltx_citemacro_citep">(Kim et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2023</a>; Cai et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2022</a>)</cite> allow efficient fine-tuning of parameters by adding a small Adapter layer within the Transformer block. Each Adapter layer contains a lower projection matrix, an activation function, and an upper projection matrix. The lower projection matrix maps the input features to the bottleneck dimension, the activation function is used for non-linear transformation, and the upper projection matrix maps the bottleneck features back to the original dimensions. In this way, the adapter can introduce additional parameters to adapt to downstream tasks, while keeping most parameters unchanged.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p"><span id="S5.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Soft prompt</span> are learnable tensors concatenated with the input embeddings, which can be optimized to a dataset. However, one disadvantage is that they are not human-readable, as they do not correspond directly to embeddings of actual words. The soft prompt methods encompass several approaches, including prompt tuning <cite class="ltx_cite ltx_citemacro_citep">(Jia et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2022</a>)</cite>, prefix tuning <cite class="ltx_cite ltx_citemacro_citep">(Vos et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2022</a>)</cite>, P-tuning <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite>, and multi-task prompt tuning <cite class="ltx_cite ltx_citemacro_citep">(Asai et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p"><span id="S5.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Reparameterized-based methods</span> adds learnable parameters during the training process by constructing a low-rank representation of the original model parameters to achieve efficient fine-tuning of parameters. Such methods include Low-Rank Adaptation (LoRA) <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2021a</a>)</cite>, LoRA Derivatives <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a href="#bib.bib51" title="" class="ltx_ref">2024</a>)</cite>, and Hybrid PEFT <cite class="ltx_cite ltx_citemacro_citep">(Runwal et al<span class="ltx_text">.</span>, <a href="#bib.bib36" title="" class="ltx_ref">2024</a>)</cite>.</p>
</div>
</li>
</ul>
</div>
<div id="S5.p10" class="ltx_para">
<p id="S5.p10.1" class="ltx_p"><span id="S5.p10.1.1" class="ltx_text ltx_font_bold">Compared with the previous works:</span> Our work belongs to the category of reparameterized-based methods, but can also be extended to other PEFT methods. Most related to our work is the work of <cite class="ltx_cite ltx_citemacro_citep">(Yi et al<span class="ltx_text">.</span>, <a href="#bib.bib52" title="" class="ltx_ref">2023</a>; Wu et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2024</a>)</cite>, who combined the ideas of LoRA and iteratively trained the target model. However, <span id="S5.p10.1.2" class="ltx_text">FDLoRA</span> is specifically designed for practical scenarios where there is a scarcity of labeled data on each client and aims to minimize the number of fine-tuned parameters. In contrast to vanilla LoRA, our method carefully combines personalized LoRA and global LoRA, leveraging a fusion optimizer to integrate diverse knowledge from each client. We have developed a novel PFL framework that enables the training of both personalized and global LoRA, effectively harnessing the collaborative potential across clients. This strategy enhances the overall knowledge utilization and performance. Finally, <span id="S5.p10.1.3" class="ltx_text">FDLoRA</span> offers a practical solution for federated learning scenarios with limited labeled data on each client, while efficiently incorporating both personalized and global knowledge.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this paper, we have presented <span id="S6.p1.1.1" class="ltx_text">FDLoRA</span>, a novel variant of personalized federated learning framework based on LoRA tuning, which overcomes the lack of labeled data and the gap between the high cost and suboptimal of existing FL-based frameworks in the popular LLM scenario. <span id="S6.p1.1.2" class="ltx_text">FDLoRA</span> utilized dual LoRA modules to capture personalized and global knowledge, effectively leveraging collaboration across all clients and reducing the number of trainable parameters. Moreover, it employed an adaptive fusion algorithm to combine the parameters of two LoRAs to improve the performance. It achieves state-of-the-art in both log analysis and medical diagnosis scenarios demonstrating stability and robustness with respect to <span id="S6.p1.1.3" class="ltx_text ltx_font_italic">non-IID</span> degree, the number of clients, and communication rounds and frequency. Finally, <span id="S6.p1.1.4" class="ltx_text">FDLoRA</span> outperforms other increase batch size strategies with respect to communication cost, time spent training and the amount of compute &amp; data used.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">In our future work, we will explore the application of <span id="S6.p2.1.1" class="ltx_text">FDLoRA</span> to more real-world scenarios and evaluate its effectiveness and practicality in industrial environments, such as natural language understanding, sentiment analysis, and recommendation systems. Moreover, we will continue to enhance the robustness and efficiency of <span id="S6.p2.1.2" class="ltx_text">FDLoRA</span> by exploring advanced techniques for model optimization and communication compression.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">        




</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Acar et al<span id="bib.bib2.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Durmus Alp Emre Acar, Yue Zhao, Ramon Matas Navarro, Matthew Mattina, Paul N Whatmough, and Venkatesh Saligrama. 2021.

</span>
<span class="ltx_bibblock">Federated learning based on dynamic regularization.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2111.04263</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al<span id="bib.bib3.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Akari Asai, Mohammadreza Salehi, Matthew E Peters, and Hannaneh Hajishirzi. 2022.

</span>
<span class="ltx_bibblock">ATTEMPT: Parameter-efficient multi-task tuning via attentional mixtures of soft prompts.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2205.11961</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span id="bib.bib4.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiamu Bai, Daoyuan Chen, Bingchen Qian, Liuyi Yao, and Yaliang Li. 2024.

</span>
<span class="ltx_bibblock">Federated Fine-tuning of Large Language Models under Heterogeneous Language Tasks and Client Resources.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2402.11505</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Briggs et al<span id="bib.bib5.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Christopher Briggs, Zhong Fan, and Peter Andras. 2020.

</span>
<span class="ltx_bibblock">Federated learning with hierarchical clustering of local updates to improve training on non-IID data. In <em id="bib.bib5.3.1" class="ltx_emph ltx_font_italic">2020 International Joint Conference on Neural Networks (IJCNN)</em>. IEEE, 1–9.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cai et al<span id="bib.bib6.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Dongqi Cai, Yaozong Wu, Shangguang Wang, Felix Xiaozhu Lin, and Mengwei Xu. 2022.

</span>
<span class="ltx_bibblock">Fedadapter: Efficient federated learning for modern nlp.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2205.10162</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and Chao (2021)</span>
<span class="ltx_bibblock">
Hong-You Chen and Wei-Lun Chao. 2021.

</span>
<span class="ltx_bibblock">On bridging generic and personalized federated learning for image classification.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2107.00778</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span id="bib.bib8.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Minghui Chen, Meirui Jiang, Qi Dou, Zehua Wang, and Xiaoxiao Li. 2023.

</span>
<span class="ltx_bibblock">FedSoup: Improving Generalization and Personalization in Federated Learning via Selective Model Interpolation. In <em id="bib.bib8.3.1" class="ltx_emph ltx_font_italic">International Conference on Medical Image Computing and Computer-Assisted Intervention</em>. Springer, 318–328.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span id="bib.bib9.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Yiqiang Chen, Xin Qin, Jindong Wang, Chaohui Yu, and Wen Gao. 2020.

</span>
<span class="ltx_bibblock">Fedhealth: A federated transfer learning framework for wearable healthcare.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.3.1" class="ltx_emph ltx_font_italic">IEEE Intelligent Systems</em> 35, 4 (2020), 83–93.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al<span id="bib.bib10.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Daixuan Cheng, Shaohan Huang, and Furu Wei. 2024.

</span>
<span class="ltx_bibblock">Adapting Large Language Models via Reading Comprehension. In <em id="bib.bib10.3.1" class="ltx_emph ltx_font_italic">The Twelfth International Conference on Learning Representations</em>.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://openreview.net/forum?id=y886UXPEZ0" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=y886UXPEZ0</a>

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Collins et al<span id="bib.bib11.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Liam Collins, Hamed Hassani, Aryan Mokhtari, and Sanjay Shakkottai. 2021.

</span>
<span class="ltx_bibblock">Exploiting shared representations for personalized federated learning. In <em id="bib.bib11.3.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>. PMLR, 2089–2099.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Diao et al<span id="bib.bib12.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Enmao Diao, Jie Ding, and Vahid Tarokh. 2020.

</span>
<span class="ltx_bibblock">Heterofl: Computation and communication efficient federated learning for heterogeneous clients.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.01264</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Douillard et al<span id="bib.bib13.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Arthur Douillard, Qixuan Feng, Andrei A Rusu, Rachita Chhaparia, Yani Donchev, Adhiguna Kuncoro, Marc’Aurelio Ranzato, Arthur Szlam, and Jiajun Shen. 2023.

</span>
<span class="ltx_bibblock">DiLoCo: Distributed Low-Communication Training of Language Models.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2311.08105</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al<span id="bib.bib14.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang, and Jie Tang. 2022.

</span>
<span class="ltx_bibblock">GLM: General Language Model Pretraining with Autoregressive Blank Infilling. In <em id="bib.bib14.3.1" class="ltx_emph ltx_font_italic">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>. 320–335.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Duan et al<span id="bib.bib15.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Moming Duan, Duo Liu, Xinyuan Ji, Renping Liu, Liang Liang, Xianzhang Chen, and Yujuan Tan. 2020.

</span>
<span class="ltx_bibblock">FedGroup: Efficient clustered federated learning via decomposed data-driven measure.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.06870</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fallah et al<span id="bib.bib16.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Alireza Fallah, Aryan Mokhtari, and Asuman Ozdaglar. 2020.

</span>
<span class="ltx_bibblock">Personalized federated learning with theoretical guarantees: A model-agnostic meta-learning approach.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em> 33 (2020), 3557–3568.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Floridi and Chiriatti (2020)</span>
<span class="ltx_bibblock">
Luciano Floridi and Massimo Chiriatti. 2020.

</span>
<span class="ltx_bibblock">GPT-3: Its nature, scope, limits, and consequences.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Minds and Machines</em> 30 (2020), 681–694.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hao et al<span id="bib.bib18.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Weituo Hao, Mostafa El-Khamy, Jungwon Lee, Jianyi Zhang, Kevin J Liang, Changyou Chen, and Lawrence Carin Duke. 2021.

</span>
<span class="ltx_bibblock">Towards fair federated learning with zero-shot data augmentation. In <em id="bib.bib18.3.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em>. 3310–3319.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span id="bib.bib19.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Chaoyang He, Murali Annavaram, and Salman Avestimehr. 2020.

</span>
<span class="ltx_bibblock">Group knowledge transfer: Federated learning of large cnns at the edge.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em> 33 (2020), 14068–14080.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span id="bib.bib20.2.2.1" class="ltx_text">.</span> (2021a)</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2021a.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.09685</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span id="bib.bib21.2.2.1" class="ltx_text">.</span> (2021b)</span>
<span class="ltx_bibblock">
Shengyuan Hu, Zhiwei Steven Wu, and Virginia Smith. 2021b.

</span>
<span class="ltx_bibblock">Private multi-task learning: Formulation and applications to federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2108.12978</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span id="bib.bib22.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhiqiang Hu, Lei Wang, Yihuai Lan, Wanyu Xu, Ee-Peng Lim, Lidong Bing, Xing Xu, Soujanya Poria, and Roy Ka-Wei Lee. 2023.

</span>
<span class="ltx_bibblock">Llm-adapters: An adapter family for parameter-efficient fine-tuning of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.01933</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span id="bib.bib23.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Chengsong Huang, Qian Liu, Bill Yuchen Lin, Tianyu Pang, Chao Du, and Min Lin. 2023.

</span>
<span class="ltx_bibblock">Lorahub: Efficient cross-task generalization via dynamic lora composition.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2307.13269</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span id="bib.bib24.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Yutao Huang, Lingyang Chu, Zirui Zhou, Lanjun Wang, Jiangchuan Liu, Jian Pei, and Yong Zhang. 2021.

</span>
<span class="ltx_bibblock">Personalized cross-silo federated learning on non-iid data. In <em id="bib.bib24.3.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI conference on artificial intelligence</em>, Vol. 35. 7865–7873.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jia et al<span id="bib.bib25.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Menglin Jia, Luming Tang, Bor-Chun Chen, Claire Cardie, Serge Belongie, Bharath Hariharan, and Ser-Nam Lim. 2022.

</span>
<span class="ltx_bibblock">Visual prompt tuning. In <em id="bib.bib25.3.1" class="ltx_emph ltx_font_italic">European Conference on Computer Vision</em>. Springer, 709–727.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al<span id="bib.bib26.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Jiayin Jin, Jiaxiang Ren, Yang Zhou, Lingjuan Lyu, Ji Liu, and Dejing Dou. 2022.

</span>
<span class="ltx_bibblock">Accelerated federated learning with decoupled adaptive optimization. In <em id="bib.bib26.3.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>. PMLR, 10298–10322.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al<span id="bib.bib27.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Gyunyeop Kim, Joon Yoo, and Sangwoo Kang. 2023.

</span>
<span class="ltx_bibblock">Efficient Federated Learning with Pre-Trained Large Language Model Using Several Adapter Mechanisms.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.3.1" class="ltx_emph ltx_font_italic">Mathematics</em> 11, 21 (2023), 4479.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span id="bib.bib28.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and Virginia Smith. 2020.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.3.1" class="ltx_emph ltx_font_italic">Proceedings of Machine learning and systems</em> 2 (2020), 429–450.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span id="bib.bib29.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Tao Lin, Lingjing Kong, Sebastian U Stich, and Martin Jaggi. 2020.

</span>
<span class="ltx_bibblock">Ensemble distillation for robust model fusion in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em> 33 (2020), 2351–2363.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span id="bib.bib30.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Xiao Liu, Kaixuan Ji, Yicheng Fu, Weng Lam Tam, Zhengxiao Du, Zhilin Yang, and Jie Tang. 2021.

</span>
<span class="ltx_bibblock">P-tuning v2: Prompt tuning can be comparable to fine-tuning universally across scales and tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.07602</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span id="bib.bib31.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Xiaosong Ma, Jie Zhang, Song Guo, and Wenchao Xu. 2022.

</span>
<span class="ltx_bibblock">Layer-wised model aggregation for personalized federated learning. In <em id="bib.bib31.3.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em>. 10092–10101.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al<span id="bib.bib32.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas. 2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data. In <em id="bib.bib32.3.1" class="ltx_emph ltx_font_italic">Artificial intelligence and statistics</em>. PMLR, 1273–1282.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oliner and Stearley (2007)</span>
<span class="ltx_bibblock">
Adam Oliner and Jon Stearley. 2007.

</span>
<span class="ltx_bibblock">What supercomputers say: A study of five system logs. In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">37th annual IEEE/IFIP international conference on dependable systems and networks (DSN’07)</em>. IEEE, 575–584.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span id="bib.bib34.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Xiaomin Ouyang, Zhiyuan Xie, Jiayu Zhou, Jianwei Huang, and Guoliang Xing. 2021.

</span>
<span class="ltx_bibblock">Clusterfl: a similarity-aware federated learning system for human activity recognition. In <em id="bib.bib34.3.1" class="ltx_emph ltx_font_italic">Proceedings of the 19th Annual International Conference on Mobile Systems, Applications, and Services</em>. 54–66.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al<span id="bib.bib35.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Jiaxing Qi, Shaohan Huang, Zhongzhi Luan, Shu Yang, Carol Fung, Hailong Yang, Depei Qian, Jing Shang, Zhiwen Xiao, and Zhihui Wu. 2023.

</span>
<span class="ltx_bibblock">Loggpt: Exploring chatgpt for log-based anomaly detection. In <em id="bib.bib35.3.1" class="ltx_emph ltx_font_italic">2023 IEEE International Conference on High Performance Computing &amp; Communications, Data Science &amp; Systems, Smart City &amp; Dependability in Sensor, Cloud &amp; Big Data Systems &amp; Application (HPCC/DSS/SmartCity/DependSys)</em>. IEEE, 273–280.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Runwal et al<span id="bib.bib36.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Bharat Runwal, Tejaswini Pedapati, and Pin-Yu Chen. 2024.

</span>
<span class="ltx_bibblock">From PEFT to DEFT: Parameter Efficient Finetuning for Reducing Activation Density in Transformers.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2402.01911</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sheller et al<span id="bib.bib37.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Micah J Sheller, Brandon Edwards, G Anthony Reina, Jason Martin, Sarthak Pati, Aikaterini Kotrotsou, Mikhail Milchenko, Weilin Xu, Daniel Marcus, Rivka R Colen, et al<span id="bib.bib37.3.1" class="ltx_text">.</span> 2020.

</span>
<span class="ltx_bibblock">Federated learning in medicine: facilitating multi-institutional collaborations without sharing patient data.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.4.1" class="ltx_emph ltx_font_italic">Scientific reports</em> 10, 1 (2020), 12598.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stearley and Oliner (2008)</span>
<span class="ltx_bibblock">
Jon Stearley and Adam J Oliner. 2008.

</span>
<span class="ltx_bibblock">Bad words: Finding faults in spirit’s syslogs. In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">2008 Eighth IEEE International Symposium on Cluster Computing and the Grid (CCGRID)</em>. IEEE, 765–770.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sutskever et al<span id="bib.bib39.2.2.1" class="ltx_text">.</span> (2013)</span>
<span class="ltx_bibblock">
Ilya Sutskever, James Martens, George Dahl, and Geoffrey Hinton. 2013.

</span>
<span class="ltx_bibblock">On the importance of initialization and momentum in deep learning. In <em id="bib.bib39.3.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>. PMLR, 1139–1147.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">T Dinh et al<span id="bib.bib40.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Canh T Dinh, Nguyen Tran, and Josh Nguyen. 2020.

</span>
<span class="ltx_bibblock">Personalized federated learning with moreau envelopes.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em> 33 (2020), 21394–21405.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al<span id="bib.bib41.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Alysa Ziying Tan, Han Yu, Lizhen Cui, and Qiang Yang. 2022.

</span>
<span class="ltx_bibblock">Towards personalized federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thapa et al<span id="bib.bib42.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Chandra Thapa, Pathum Chamikara Mahawaga Arachchige, Seyit Camtepe, and Lichao Sun. 2022.

</span>
<span class="ltx_bibblock">Splitfed: When federated learning meets split learning. In <em id="bib.bib42.3.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial Intelligence</em>, Vol. 36. 8485–8493.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span id="bib.bib43.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al<span id="bib.bib43.3.1" class="ltx_text">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2307.09288</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vos et al<span id="bib.bib44.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
David Vos, Till Döhmen, and Sebastian Schelter. 2022.

</span>
<span class="ltx_bibblock">Towards parameter-efficient automation of data wrangling tasks with prefix-tuning. In <em id="bib.bib44.3.1" class="ltx_emph ltx_font_italic">NeurIPS 2022 First Table Representation Workshop</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wortsman et al<span id="bib.bib45.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Mitchell Wortsman, Maxwell C Horton, Carlos Guestrin, Ali Farhadi, and Mohammad Rastegari. 2021.

</span>
<span class="ltx_bibblock">Learning neural network subspaces. In <em id="bib.bib45.3.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>. PMLR, 11217–11227.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span id="bib.bib46.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Chuhan Wu, Fangzhao Wu, Lingjuan Lyu, Yongfeng Huang, and Xing Xie. 2022.

</span>
<span class="ltx_bibblock">Communication-efficient federated learning via knowledge distillation.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.3.1" class="ltx_emph ltx_font_italic">Nature communications</em> 13, 1 (2022), 2032.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span id="bib.bib47.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Tianyu Wu, Shizhu He, Jingping Liu, Siqi Sun, Kang Liu, Qing-Long Han, and Yang Tang. 2023.

</span>
<span class="ltx_bibblock">A brief overview of ChatGPT: The history, status quo and potential future development.

</span>
<span class="ltx_bibblock"><em id="bib.bib47.3.1" class="ltx_emph ltx_font_italic">IEEE/CAA Journal of Automatica Sinica</em> 10, 5 (2023), 1122–1136.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span id="bib.bib48.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Xinghao Wu, Xuefeng Liu, Jianwei Niu, Haolin Wang, Shaojie Tang, and Guogang Zhu. 2024.

</span>
<span class="ltx_bibblock">FedLoRA: When Personalized Federated Learning Meets Low-Rank Adaptation.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://openreview.net/forum?id=bZh06ptG9r" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=bZh06ptG9r</a>

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span id="bib.bib49.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Junjielong Xu, Ziang Cui, Yuan Zhao, Xu Zhang, Shilin He, Pinjia He, Liqun Li, Yu Kang, Qingwei Lin, Yingnong Dang, et al<span id="bib.bib49.3.1" class="ltx_text">.</span> 2024.

</span>
<span class="ltx_bibblock">UniLog: Automatic Logging via LLM and In-Context Learning. In <em id="bib.bib49.4.1" class="ltx_emph ltx_font_italic">Proceedings of the 46th IEEE/ACM International Conference on Software Engineering</em>. 1–12.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span id="bib.bib50.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Lingling Xu, Haoran Xie, Si-Zhao Joe Qin, Xiaohui Tao, and Fu Lee Wang. 2023.

</span>
<span class="ltx_bibblock">Parameter-efficient fine-tuning methods for pretrained language models: A critical review and assessment.

</span>
<span class="ltx_bibblock"><em id="bib.bib50.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2312.12148</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span id="bib.bib51.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Shu Yang, Muhammad Asif Ali, Cheng-Long Wang, Lijie Hu, and Di Wang. 2024.

</span>
<span class="ltx_bibblock">MoRAL: MoE Augmented LoRA for LLMs’ Lifelong Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib51.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2402.11260</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yi et al<span id="bib.bib52.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Liping Yi, Han Yu, Gang Wang, and Xiaoguang Liu. 2023.

</span>
<span class="ltx_bibblock">Fedlora: Model-heterogeneous personalized federated learning with lora tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib52.3.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.13283</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zeng et al<span id="bib.bib53.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Aohan Zeng, Xiao Liu, Zhengxiao Du, Zihan Wang, Hanyu Lai, Ming Ding, Zhuoyi Yang, Yifan Xu, Wendi Zheng, Xiao Xia, et al<span id="bib.bib53.3.1" class="ltx_text">.</span> 2022.

</span>
<span class="ltx_bibblock">Glm-130b: An open bilingual pre-trained model.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.4.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2210.02414</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span id="bib.bib54.2.2.1" class="ltx_text">.</span> (2024)</span>
<span class="ltx_bibblock">
Jianyi Zhang, Saeed Vahidian, Martin Kuo, Chunyuan Li, Ruiyi Zhang, Tong Yu, Guoyin Wang, and Yiran Chen. 2024.

</span>
<span class="ltx_bibblock">Towards building the federatedGPT: Federated instruction tuning. In <em id="bib.bib54.3.1" class="ltx_emph ltx_font_italic">ICASSP 2024-2024 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>. IEEE, 6915–6919.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span id="bib.bib55.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Jieming Zhu, Shilin He, Pinjia He, Jinyang Liu, and Michael R Lyu. 2023.

</span>
<span class="ltx_bibblock">Loghub: A large collection of system log datasets for ai-driven log analytics. In <em id="bib.bib55.3.1" class="ltx_emph ltx_font_italic">2023 IEEE 34th International Symposium on Software Reliability Engineering (ISSRE)</em>. IEEE, 355–366.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span id="bib.bib56.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Zhuangdi Zhu, Junyuan Hong, and Jiayu Zhou. 2021.

</span>
<span class="ltx_bibblock">Data-free knowledge distillation for heterogeneous federated learning. In <em id="bib.bib56.3.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>. PMLR, 12878–12889.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al<span id="bib.bib57.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhenxun Zhuang, Mingrui Liu, Ashok Cutkosky, and Francesco Orabona. 2022.

</span>
<span class="ltx_bibblock">Understanding adamw through proximal methods and scale-freeness.

</span>
<span class="ltx_bibblock"><em id="bib.bib57.3.1" class="ltx_emph ltx_font_italic">Transactions on Machine Learning Research</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section id="S1a" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">A1. </span>Conversation Template</h2>

<div id="S1a.p1" class="ltx_para">
<p id="S1a.p1.1" class="ltx_p">As shown in Figure <a href="#S1.F1" title="Figure A1 ‣ A1. Conversation Template ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A1</span></a>, we show two conversation templates (prompts) integrated with specific input parts (in <span id="S1a.p1.1.1" class="ltx_text" style="color:#FF0000;">red</span>). These templates serve as structured input frameworks for guiding LLMs to generate desired outputs. By providing context and constraints through these prompts, LLMs can effectively process and respond to inputs in a targeted manner, enhancing the quality and relevance of generated outputs. This integration of prompts with input segments facilitates more precise and contextually appropriate responses from LLMs, contributing to improved performance and usability in various natural language processing tasks.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2406.07925/assets/x11.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="162" height="258" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure A1. </span>Conversation template with both log-based anomaly detection and medical diagnosis.</figcaption>
</figure>
</section>
<section id="S2a" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">A2. </span>Dataset Example</h2>

<div id="S2a.p1" class="ltx_para">
<p id="S2a.p1.1" class="ltx_p">Figure <a href="#S2.F2a" title="Figure A2 ‣ A2. Dataset Example ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A2</span></a> shows the format of the training data in both scenarios. The format is important for the training process. All training data is stored in JSON format, a popular data format.</p>
</div>
<figure id="S2.F2a" class="ltx_figure"><img src="/html/2406.07925/assets/x12.png" id="S2.F2a.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="180" height="248" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure A2. </span>Data example with both log-based anomaly detection and medical diagnosis.</figcaption>
</figure>
</section>
<section id="S3a" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">A3. </span>Data prepossessing</h2>

<figure id="S3.F3a" class="ltx_figure"><img src="/html/2406.07925/assets/x13.png" id="S3.F3a.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="171" height="111" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure A3. </span>The illustration of log preprocessing.</figcaption>
</figure>
<div id="S3a.p1" class="ltx_para">
<p id="S3a.p1.1" class="ltx_p">Figure <a href="#S3.F3a" title="Figure A3 ‣ A3. Data prepossessing ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A3</span></a> is the illustration of preprocessing raw log messages. Log messages typically exhibit a semi-structured format, comprising two main components: a consistent part of the log event, and a variable part containing parameters. To prepare log data for anomaly detection model training, several preprocessing steps are necessary. Initially, both prefix and noise are eliminated through log filtering procedures to obtain the content part. Subsequently, automated log parsing techniques, such as Drain, are applied to extract both log events and parameters. Once parsed, the logs are organized into distinct groups using a fixed-size sliding window (the size default is 50), each comprising multiple log records. These groupings, designated as log sequences, serve as inputs for anomaly detection models and facilitate the identification of various patterns present in the log data. Note that based on existing work, the content part was selected to form the sequence to improve detection performance.</p>
</div>
</section>
<section id="S4a" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">A4. </span>Experiment Environment Details</h2>

<div id="S4a.p1" class="ltx_para">
<p id="S4a.p1.1" class="ltx_p">As shown in Table <a href="#S4.T1" title="Table A1 ‣ A4. Experiment Environment Details ‣ FDLoRA: Personalized Federated Learning of Large Language Model via Dual LoRA Tuning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A1</span></a>, we present the experimental hardware environment and details of LLaMA2-7B. In particular, we used three homogenous devices, so 6 <math id="S4a.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4a.p1.1.m1.1a"><mo id="S4a.p1.1.m1.1.1" xref="S4a.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4a.p1.1.m1.1b"><times id="S4a.p1.1.m1.1.1.cmml" xref="S4a.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4a.p1.1.m1.1c">\times</annotation></semantics></math> V100s were included in total.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A1. </span>The evaluated system and LLM specifications. </figcaption>
<table id="S4.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.1.2.1" class="ltx_tr">
<th id="S4.T1.1.2.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<td id="S4.T1.1.2.1.2" class="ltx_td ltx_align_left ltx_border_tt"><span id="S4.T1.1.2.1.2.1" class="ltx_text ltx_font_bold">System Overview</span></td>
</tr>
<tr id="S4.T1.1.3.2" class="ltx_tr">
<th id="S4.T1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T1.1.3.2.1.1" class="ltx_text ltx_font_bold">CPU</span></th>
<td id="S4.T1.1.3.2.2" class="ltx_td ltx_align_left ltx_border_t">48-core Xeon(R) Gold 6126 CPU @ 2.60GHz</td>
</tr>
<tr id="S4.T1.1.1" class="ltx_tr">
<th id="S4.T1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.1.2.1" class="ltx_text ltx_font_bold">GPU</span></th>
<td id="S4.T1.1.1.1" class="ltx_td ltx_align_left">2 <math id="S4.T1.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b"><times id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">\times</annotation></semantics></math> Tesla V100S</td>
</tr>
<tr id="S4.T1.1.4.3" class="ltx_tr">
<th id="S4.T1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.4.3.1.1" class="ltx_text ltx_font_bold">Memeory Capacity</span></th>
<td id="S4.T1.1.4.3.2" class="ltx_td ltx_align_left">187GB DRAM</td>
</tr>
<tr id="S4.T1.1.5.4" class="ltx_tr">
<th id="S4.T1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.5.4.1.1" class="ltx_text ltx_font_bold">Operating System</span></th>
<td id="S4.T1.1.5.4.2" class="ltx_td ltx_align_left">CentOS 7.5.1804</td>
</tr>
<tr id="S4.T1.1.6.5" class="ltx_tr">
<th id="S4.T1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.6.5.1.1" class="ltx_text ltx_font_bold">CUDA</span></th>
<td id="S4.T1.1.6.5.2" class="ltx_td ltx_align_left">12.1</td>
</tr>
<tr id="S4.T1.1.7.6" class="ltx_tr">
<th id="S4.T1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.7.6.1.1" class="ltx_text ltx_font_bold">NVIDIA Driver</span></th>
<td id="S4.T1.1.7.6.2" class="ltx_td ltx_align_left">530.30.02</td>
</tr>
<tr id="S4.T1.1.8.7" class="ltx_tr">
<th id="S4.T1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.8.7.1.1" class="ltx_text ltx_font_bold">ML framework</span></th>
<td id="S4.T1.1.8.7.2" class="ltx_td ltx_align_left">Pytorch 2.1.2</td>
</tr>
<tr id="S4.T1.1.9.8" class="ltx_tr">
<th id="S4.T1.1.9.8.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<td id="S4.T1.1.9.8.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T1.1.9.8.2.1" class="ltx_text ltx_font_bold">GPU Specification</span></td>
</tr>
<tr id="S4.T1.1.10.9" class="ltx_tr">
<th id="S4.T1.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T1.1.10.9.1.1" class="ltx_text ltx_font_bold">CUDA cores</span></th>
<td id="S4.T1.1.10.9.2" class="ltx_td ltx_align_left ltx_border_t">5120</td>
</tr>
<tr id="S4.T1.1.11.10" class="ltx_tr">
<th id="S4.T1.1.11.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.11.10.1.1" class="ltx_text ltx_font_bold">Memeory Capacity</span></th>
<td id="S4.T1.1.11.10.2" class="ltx_td ltx_align_left">32GB</td>
</tr>
<tr id="S4.T1.1.12.11" class="ltx_tr">
<th id="S4.T1.1.12.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.12.11.1.1" class="ltx_text ltx_font_bold">Memeory Bandwidth</span></th>
<td id="S4.T1.1.12.11.2" class="ltx_td ltx_align_left">900GB/s</td>
</tr>
<tr id="S4.T1.1.13.12" class="ltx_tr">
<th id="S4.T1.1.13.12.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<td id="S4.T1.1.13.12.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T1.1.13.12.2.1" class="ltx_text ltx_font_bold">LLaMA2-7B</span></td>
</tr>
<tr id="S4.T1.1.14.13" class="ltx_tr">
<th id="S4.T1.1.14.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S4.T1.1.14.13.1.1" class="ltx_text ltx_font_bold">#Tokens</span></th>
<td id="S4.T1.1.14.13.2" class="ltx_td ltx_align_left ltx_border_t">2.0T</td>
</tr>
<tr id="S4.T1.1.15.14" class="ltx_tr">
<th id="S4.T1.1.15.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.15.14.1.1" class="ltx_text ltx_font_bold">#Vocab</span></th>
<td id="S4.T1.1.15.14.2" class="ltx_td ltx_align_left">32,000</td>
</tr>
<tr id="S4.T1.1.16.15" class="ltx_tr">
<th id="S4.T1.1.16.15.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="S4.T1.1.16.15.1.1" class="ltx_text ltx_font_bold">Seq.Length</span></th>
<td id="S4.T1.1.16.15.2" class="ltx_td ltx_align_left">4K</td>
</tr>
<tr id="S4.T1.1.17.16" class="ltx_tr">
<th id="S4.T1.1.17.16.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span id="S4.T1.1.17.16.1.1" class="ltx_text ltx_font_bold">#Layer</span></th>
<td id="S4.T1.1.17.16.2" class="ltx_td ltx_align_left ltx_border_bb">32</td>
</tr>
</tbody>
</table>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.07924" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.07925" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.07925">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.07925" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.07926" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Jul  5 18:07:37 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
