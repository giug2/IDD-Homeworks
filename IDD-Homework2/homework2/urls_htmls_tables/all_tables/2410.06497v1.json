{
    "S3.T1": {
        "caption": "Table 1. ERCache Configuration Parameters",
        "table": "<table class=\"ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle\" id=\"S3.T1.1\">\n<thead class=\"ltx_thead\">\n<tr class=\"ltx_tr\" id=\"S3.T1.1.1.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S3.T1.1.1.1.1\">Parameter</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S3.T1.1.1.1.2\">Parameter type</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S3.T1.1.1.1.3\">Description</th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S3.T1.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.2.1.1\">model_id</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.2.1.2\">INT</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.2.1.3\">It is a unique identifier for a specific ads ranking model.</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.3.2\">\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.2.1\">model_type</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.2.2\">STRING</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.2.3\">It is a unique identifier for a specific ads ranking model type.</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.4.3\">\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.1\">enable_flag</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.2\">BOOL</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.3\">It determines whether or not the cache is enabled.</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.5.4\">\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T1.1.5.4.1\">cache_ttl</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T1.1.5.4.2\">INT</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T1.1.5.4.3\">It is used that specifies the duration for which embeddings are valid in the cache.</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "ERCache offers caching capabilities for\nindividual model IDs or model types.\nCustomers have the flexibility to\nenable caching based on their specific needs.\nThe ERCache configuration includes various parameters, as shown in Table\u00a01."
        ]
    },
    "S4.T2": {
        "caption": "Table 2. The ERCache (direct cache) performance on ads ranking models at Meta.",
        "table": "<table class=\"ltx_tabular ltx_guessed_headers ltx_align_middle\" id=\"S4.T2.1\">\n<thead class=\"ltx_thead\">\n<tr class=\"ltx_tr\" id=\"S4.T2.1.1.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T2.1.1.1.1\">Predictor task</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T2.1.1.1.2\">Ranking stage</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T2.1.1.1.3\">Direct cache TTL</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T2.1.1.1.4\">Computation resource savings</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T2.1.1.1.5\">E2E p99 latency diff</th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S4.T2.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.1.2.1.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.1.2.1.2\">First</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.1.2.1.3\">5 minutes</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.1.2.1.4\">44%</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.1.2.1.5\">-0.4%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.1.3.2\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.3.2.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.3.2.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.3.2.3\">5 minute</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.3.2.4\">51%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.3.2.5\">-0.11%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.1.4.3\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.4.3.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.4.3.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.4.3.3\">5 minutes</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.4.3.4\">43%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.4.3.5\">-0.04%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.1.5.4\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.5.4.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.5.4.2\">Second</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.5.4.3\">5 minutes</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.5.4.4\">64%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.5.4.5\">-0.03%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.1.6.5\">\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T2.1.6.5.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T2.1.6.5.2\">Second</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T2.1.6.5.3\">1 minutes</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T2.1.6.5.4\">52%</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T2.1.6.5.5\">-0.4%</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "As mentioned earlier, we measure the power usage\nfor a model and compare the change with and without\ndirect cache to evaluate the effectiveness of ERCache\nin reducing computational resources.\nFrom Table\u00a02,\nwe find ERCache can significantly reduce computational resource\nusage by 42% to 64%,\ndepending on the cache TTL settings.\nFurthermore, we note that\nthe power savings achieved by ERCache\nvary across different models,\ndue to their distinct access patterns and model profiles.",
            "E2E p99 latency.\nAccording to Table\u00a02,\nwe achieved an average reduction of 0.2%\nin end-to-end p99 latency.\nThis improvement is attributed to\nthe decrease in the number of model inference requests\nand reduced workload in the ads recommendation systems.\nNotably, we did not observe\nany NE loss for the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02.\nNotably, we did not observe any NE loss\nfor the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02.",
            "E2E p99 latency.\nAccording to Table\u00a02,\nwe achieved an average reduction of 0.2%\nin end-to-end p99 latency.\nThis improvement is attributed to\nthe decrease in the number of model inference requests\nand reduced workload in the ads recommendation systems.\nNotably, we did not observe\nany NE loss for the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02.\nNotably, we did not observe any NE loss\nfor the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02.",
            "E2E p99 latency.\nAccording to Table\u00a02,\nwe achieved an average reduction of 0.2%\nin end-to-end p99 latency.\nThis improvement is attributed to\nthe decrease in the number of model inference requests\nand reduced workload in the ads recommendation systems.\nNotably, we did not observe\nany NE loss for the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02.\nNotably, we did not observe any NE loss\nfor the models with direct cache enabled,\nusing the cache TTL shown in Table\u00a02."
        ]
    },
    "S4.T3": {
        "caption": "Table 3. The ERCache (failover cache) performance on ads ranking models at Meta.",
        "table": "<table class=\"ltx_tabular ltx_guessed_headers ltx_align_middle\" id=\"S4.T3.1\">\n<thead class=\"ltx_thead\">\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T3.1.1.1.1\">Predictor task</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T3.1.1.1.2\">Ranking stage</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T3.1.1.1.3\">Failover cache TTL</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T3.1.1.1.4\">Fallback rate w/o cache</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T3.1.1.1.5\">Fallback rate w/ cache</th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S4.T3.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.2.1.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.2.1.2\">Retrival</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.2.1.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.2.1.4\">0.7%</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.2.1.5\">0.3%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.3.2\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.3.2.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.3.2.2\">Retrival</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.3.2.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.3.2.4\">0.6%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.3.2.5\">0.1%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.4.3\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.4.3.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.4.3.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.4.3.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.4.3.4\">5.9%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.4.3.5\">0.1%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.5.4\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.5.4.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.5.4.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.5.4.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.5.4.4\">6.5%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.5.4.5\">0.1%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.6.5\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.6.5.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.6.5.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.6.5.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.6.5.4\">1.5%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.6.5.5\">0.5%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.7.6\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.7.6.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.7.6.2\">First</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.7.6.3\">1 hour</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.7.6.4\">1.4%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.7.6.5\">0.1%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.8.7\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.8.7.1\">CTR</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.8.7.2\">Second</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.8.7.3\">2 hours</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.8.7.4\">0.05%</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.8.7.5\">0.01%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.9.8\">\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T3.1.9.8.1\">CVR</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T3.1.9.8.2\">Second</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T3.1.9.8.3\">2 hours</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T3.1.9.8.4\">0.1%</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T3.1.9.8.5\">0.04%</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "Model fallback rate.\nTable\u00a03 shows that\nthe failover cache effectively reduces\nthe fallback rate for ads ranking models,\nwith an average reduction of 79.6%.\nThe most notable improvement is observed\nin the CVR model at the first ranking stage,\nwhere the fallback rate decreased from 6.5% to 0.1%."
        ]
    },
    "S4.T4": {
        "caption": "Table 4. The impact of cache TTL on model performance.",
        "table": "<table class=\"ltx_tabular ltx_guessed_headers ltx_align_middle\" id=\"S4.T4.1\">\n<thead class=\"ltx_thead\">\n<tr class=\"ltx_tr\" id=\"S4.T4.1.1.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T4.1.1.1.1\">Direct cache TTL</th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S4.T4.1.1.1.2\">NE difference</th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S4.T4.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T4.1.2.1.1\">30 seconds</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T4.1.2.1.2\">0.002%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.1.3.2\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.3.2.1\">1 minute</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.3.2.2\">-0.001%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.1.4.3\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.4.3.1\">2 minutes</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.4.3.2\">-0.007%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.1.5.4\">\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.5.4.1\">5 minutes</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.5.4.2\">0.003%</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.1.6.5\">\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T4.1.6.5.1\">10 minutes</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S4.T4.1.6.5.2\">0.06%</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "We investigate the relationship between model performance (NE)\nand cache TTL by comparing the NE difference\nbetween enabling and disabling direct cache with\nvarying cache TTLs, ranging from 30 seconds to 10 minutes.\nWe find that the model\u2019s performance starts\nto degrade when the cache TTL is set to 10 minutes or higher,\nas shown in Table\u00a04.\nIt is important to note that a lower NE value\nindicates better model performance."
        ]
    }
}