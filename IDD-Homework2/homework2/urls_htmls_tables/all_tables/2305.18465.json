{
    "PAPER'S NUMBER OF TABLES": 2,
    "S2.T1": {
        "caption": "Table 1: Live A/B tests of DP NWP models. Utility shows the improvement from previously deployed models; privacy shows the key parameters and corresponding device-level zCDP; all models are trained by DP-FTRL with report goal of 6500 and noise multiplier of 7; en-US*/es-ES* are trained with SecAgg in addition to DP; the base model in AR is a mix of N-gram and No-DP NN models.\n",
        "table": "<table id=\"S2.T1.2\" class=\"ltx_tabular ltx_centering ltx_align_middle\">\n<tbody class=\"ltx_tbody\">\n<tr id=\"S2.T1.2.1.1\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.1.1.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.1.1.1.1\" class=\"ltx_text\">NWP</span></td>\n<td id=\"S2.T1.2.1.1.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.1.1.2.1\" class=\"ltx_text\">Rounds</span></td>\n<td id=\"S2.T1.2.1.1.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" colspan=\"2\">Utility</td>\n<td id=\"S2.T1.2.1.1.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" colspan=\"2\">Privacy</td>\n<td id=\"S2.T1.2.1.1.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.1.1.5.1\" class=\"ltx_text\">\n<span id=\"S2.T1.2.1.1.5.1.1\" class=\"ltx_inline-block ltx_align_left\">\n<span id=\"S2.T1.2.1.1.5.1.1.1\" class=\"ltx_p\">Est.</span>\n<span id=\"S2.T1.2.1.1.5.1.1.2\" class=\"ltx_p\">Pop. (M)</span>\n</span></span></td>\n<td id=\"S2.T1.2.1.1.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.1.1.6.1\" class=\"ltx_text\">BaseModel</span></td>\n</tr>\n<tr id=\"S2.T1.2.2.2\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.2.2.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">PRate(+%)</td>\n<td id=\"S2.T1.2.2.2.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">Acc(+%)</td>\n<td id=\"S2.T1.2.2.2.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">MinS/MaxP/Timer</td>\n<td id=\"S2.T1.2.2.2.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">zCDP</td>\n</tr>\n<tr id=\"S2.T1.2.3.3\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.3.3.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">de-DE</td>\n<td id=\"S2.T1.2.3.3.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">930</td>\n<td id=\"S2.T1.2.3.3.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">8.28</td>\n<td id=\"S2.T1.2.3.3.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">12.49</td>\n<td id=\"S2.T1.2.3.3.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">212 / 4/ 48h</td>\n<td id=\"S2.T1.2.3.3.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.48</td>\n<td id=\"S2.T1.2.3.3.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.24</td>\n<td id=\"S2.T1.2.3.3.8\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"5\"><span id=\"S2.T1.2.3.3.8.1\" class=\"ltx_text\">\n<span id=\"S2.T1.2.3.3.8.1.1\" class=\"ltx_inline-block ltx_align_left\">\n<span id=\"S2.T1.2.3.3.8.1.1.1\" class=\"ltx_p\">N-gram</span>\n</span></span></td>\n</tr>\n<tr id=\"S2.T1.2.4.4\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.4.4.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">en-GB</td>\n<td id=\"S2.T1.2.4.4.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">980</td>\n<td id=\"S2.T1.2.4.4.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.26</td>\n<td id=\"S2.T1.2.4.4.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">7.72</td>\n<td id=\"S2.T1.2.4.4.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">226 / 4 / 72h</td>\n<td id=\"S2.T1.2.4.4.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.48</td>\n<td id=\"S2.T1.2.4.4.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">2.38</td>\n</tr>\n<tr id=\"S2.T1.2.5.5\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.5.5.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">fr-FR</td>\n<td id=\"S2.T1.2.5.5.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1280</td>\n<td id=\"S2.T1.2.5.5.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.78</td>\n<td id=\"S2.T1.2.5.5.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">8.50</td>\n<td id=\"S2.T1.2.5.5.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">180 / 5 / 72h</td>\n<td id=\"S2.T1.2.5.5.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.89</td>\n<td id=\"S2.T1.2.5.5.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">2.79</td>\n</tr>\n<tr id=\"S2.T1.2.6.6\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.6.6.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">it-IT</td>\n<td id=\"S2.T1.2.6.6.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1620</td>\n<td id=\"S2.T1.2.6.6.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.98</td>\n<td id=\"S2.T1.2.6.6.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.86</td>\n<td id=\"S2.T1.2.6.6.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">303 / 5 / 72h</td>\n<td id=\"S2.T1.2.6.6.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.71</td>\n<td id=\"S2.T1.2.6.6.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.32</td>\n</tr>\n<tr id=\"S2.T1.2.7.7\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.7.7.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">pt-PT</td>\n<td id=\"S2.T1.2.7.7.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">530</td>\n<td id=\"S2.T1.2.7.7.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3.99</td>\n<td id=\"S2.T1.2.7.7.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">7.82</td>\n<td id=\"S2.T1.2.7.7.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">54 / 8 / 48h</td>\n<td id=\"S2.T1.2.7.7.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.86</td>\n<td id=\"S2.T1.2.7.7.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.83</td>\n</tr>\n<tr id=\"S2.T1.2.8.8\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.8.8.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">es-ES</td>\n<td id=\"S2.T1.2.8.8.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1900</td>\n<td id=\"S2.T1.2.8.8.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.29</td>\n<td id=\"S2.T1.2.8.8.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.48</td>\n<td id=\"S2.T1.2.8.8.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">526 / 3 / 144h</td>\n<td id=\"S2.T1.2.8.8.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.35</td>\n<td id=\"S2.T1.2.8.8.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.8.8.7.1\" class=\"ltx_text\">4.21</span></td>\n<td id=\"S2.T1.2.8.8.8\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.8.8.8.1\" class=\"ltx_text\">\n<span id=\"S2.T1.2.8.8.8.1.1\" class=\"ltx_inline-block ltx_align_left\">\n<span id=\"S2.T1.2.8.8.8.1.1.1\" class=\"ltx_p\">zCDP 0.81</span>\n</span></span></td>\n</tr>\n<tr id=\"S2.T1.2.9.9\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.9.9.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r\">es-ES*</td>\n<td id=\"S2.T1.2.9.9.2\" class=\"ltx_td ltx_align_center ltx_border_r\">1750</td>\n<td id=\"S2.T1.2.9.9.3\" class=\"ltx_td ltx_align_center ltx_border_r\">0.32</td>\n<td id=\"S2.T1.2.9.9.4\" class=\"ltx_td ltx_align_center ltx_border_r\">0.56</td>\n<td id=\"S2.T1.2.9.9.5\" class=\"ltx_td ltx_align_center ltx_border_r\">349 / 4 / 144h</td>\n<td id=\"S2.T1.2.9.9.6\" class=\"ltx_td ltx_align_center ltx_border_r\">0.52</td>\n</tr>\n<tr id=\"S2.T1.2.10.10\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.10.10.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">en-US</td>\n<td id=\"S2.T1.2.10.10.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">2800</td>\n<td id=\"S2.T1.2.10.10.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">-0.39</td>\n<td id=\"S2.T1.2.10.10.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.11</td>\n<td id=\"S2.T1.2.10.10.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">371 / 7 / 48h</td>\n<td id=\"S2.T1.2.10.10.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.31</td>\n<td id=\"S2.T1.2.10.10.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T1.2.10.10.7.1\" class=\"ltx_text\">13</span></td>\n<td id=\"S2.T1.2.10.10.8\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"4\"><span id=\"S2.T1.2.10.10.8.1\" class=\"ltx_text\">\n<span id=\"S2.T1.2.10.10.8.1.1\" class=\"ltx_inline-block ltx_align_left\">\n<span id=\"S2.T1.2.10.10.8.1.1.1\" class=\"ltx_p\">No-DP NN</span>\n</span></span></td>\n</tr>\n<tr id=\"S2.T1.2.11.11\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.11.11.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r\">en-US*</td>\n<td id=\"S2.T1.2.11.11.2\" class=\"ltx_td ltx_align_center ltx_border_r\">1360</td>\n<td id=\"S2.T1.2.11.11.3\" class=\"ltx_td ltx_align_center ltx_border_r\">-0.30</td>\n<td id=\"S2.T1.2.11.11.4\" class=\"ltx_td ltx_align_center ltx_border_r\">0.15</td>\n<td id=\"S2.T1.2.11.11.5\" class=\"ltx_td ltx_align_center ltx_border_r\">622 / 2 / 144h</td>\n<td id=\"S2.T1.2.11.11.6\" class=\"ltx_td ltx_align_center ltx_border_r\">0.25</td>\n</tr>\n<tr id=\"S2.T1.2.12.12\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.12.12.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">pt-BR</td>\n<td id=\"S2.T1.2.12.12.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">3600</td>\n<td id=\"S2.T1.2.12.12.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.18</td>\n<td id=\"S2.T1.2.12.12.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.29</td>\n<td id=\"S2.T1.2.12.12.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">909 / 3 / 144h</td>\n<td id=\"S2.T1.2.12.12.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.45</td>\n<td id=\"S2.T1.2.12.12.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">16.6</td>\n</tr>\n<tr id=\"S2.T1.2.13.13\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.13.13.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">en-IN</td>\n<td id=\"S2.T1.2.13.13.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1290</td>\n<td id=\"S2.T1.2.13.13.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.19</td>\n<td id=\"S2.T1.2.13.13.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.40</td>\n<td id=\"S2.T1.2.13.13.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">170 / 6 / 96h</td>\n<td id=\"S2.T1.2.13.13.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.14</td>\n<td id=\"S2.T1.2.13.13.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">7.72</td>\n</tr>\n<tr id=\"S2.T1.2.14.14\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.14.14.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">es-MX</td>\n<td id=\"S2.T1.2.14.14.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1980</td>\n<td id=\"S2.T1.2.14.14.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">-0.15</td>\n<td id=\"S2.T1.2.14.14.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.29</td>\n<td id=\"S2.T1.2.14.14.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">343 / 5 / 96h</td>\n<td id=\"S2.T1.2.14.14.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.64</td>\n<td id=\"S2.T1.2.14.14.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.96</td>\n<td id=\"S2.T1.2.14.14.8\" class=\"ltx_td ltx_border_r\"></td>\n</tr>\n<tr id=\"S2.T1.2.15.15\" class=\"ltx_tr\">\n<td id=\"S2.T1.2.15.15.1\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t\">es-AR</td>\n<td id=\"S2.T1.2.15.15.2\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">640</td>\n<td id=\"S2.T1.2.15.15.3\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">0.25</td>\n<td id=\"S2.T1.2.15.15.4\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">3.50</td>\n<td id=\"S2.T1.2.15.15.5\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">90 / 5 / 96h</td>\n<td id=\"S2.T1.2.15.15.6\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">0.84</td>\n<td id=\"S2.T1.2.15.15.7\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">4.09</td>\n<td id=\"S2.T1.2.15.15.8\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">Mix</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": "",
        "references": [
            [
                "We summarize our strategy for training Gboard LMs with DP.\n\n",
                "\n",
                "(1)",
                " ",
                "Pre-train the model on public datasets if possible.\n",
                "\n",
                "(2)",
                " ",
                "Choose the maximum noise multiplier that meets the utility target based on small report goal simulation experiments on public datasets that is similar to the production task.\n",
                "\n",
                "(3)",
                " ",
                "Based on the target number of rounds and estimated population, linearly increase the report goal and noise multiplier to meet the privacy target, and choose a large report goal supported by the system. If the privacy target is unachievable, fix the report goal to maximum, and increase the noise multiplier to target on a model with suboptimal utility.\n",
                "\n",
                "(4)",
                " ",
                "Estimate the possible maximum MinS based on chosen report goal and estimated population, and configure the timer period to approach the MinS; use previous experience of model training speed if applicable.\n",
                "\n",
                "(5)",
                " ",
                "If the hyperparameters (e.g., learning rates) are known from previous experiments or simulation on public datasets, apply DP-FTRL with adaptive clipping (",
                "Alg.",
                " ",
                "1",
                ") without manual tuning to try meet the privacy and utility goals. Note that ",
                "Alg.",
                " ",
                "1",
                " needs to account the noise inflation and restart for privacy guarantees.\n",
                "\n",
                "(6)",
                " ",
                "If ",
                "Alg.",
                " ",
                "1",
                " fails or stronger privacy and utility are desirable, we can run a few small report goal experiments with ",
                "Alg.",
                " ",
                "1",
                " that tune quantile ",
                "γ",
                "𝛾",
                "\\gamma",
                " and server learning rate ",
                "η",
                "s",
                "subscript",
                "𝜂",
                "𝑠",
                "\\eta_{s}",
                ", select the best learning rate, and fix the clip norm based on the estimation; and run DP-FTRL with large report goals.\n",
                "\n",
                "(7)",
                " ",
                "SecAgg can be used for all experiments, and precise MaxP and MinS are computed by post-processing for privacy accounting.\n",
                "\n"
            ]
        ]
    },
    "S2.T2": {
        "caption": "Table 2: Live A/B tests of DP OTF models. Utility shows the WMR decrease and WPM increase; privacy shows the key parameters and corresponding zCDP bound; all models are trained with DP-FTRL with report goal of 6500 and noise multiplier of 7; estimated population for ru-RU is 6.63M and other tasks can be found in Tab. 1.",
        "table": "<table id=\"S2.T2.1\" class=\"ltx_tabular ltx_centering ltx_align_middle\">\n<tbody class=\"ltx_tbody\">\n<tr id=\"S2.T2.1.2.1\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.2.1.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T2.1.2.1.1.1\" class=\"ltx_text\">OTF</span></td>\n<td id=\"S2.T2.1.2.1.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"S2.T2.1.2.1.2.1\" class=\"ltx_text\">Rounds</span></td>\n<td id=\"S2.T2.1.2.1.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" colspan=\"2\">Utility</td>\n<td id=\"S2.T2.1.2.1.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" colspan=\"3\">Privacy</td>\n</tr>\n<tr id=\"S2.T2.1.1\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.1.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">WMR(-%)</td>\n<td id=\"S2.T2.1.1.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">WPM(+%)</td>\n<td id=\"S2.T2.1.1.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">MinS/MaxP/Timer</td>\n<td id=\"S2.T2.1.1.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">zCDP</td>\n<td id=\"S2.T2.1.1.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">DP-<math id=\"S2.T2.1.1.1.m1.1\" class=\"ltx_Math\" alttext=\"\\epsilon(\\delta=10^{-10})\" display=\"inline\"><semantics id=\"S2.T2.1.1.1.m1.1a\"><mrow id=\"S2.T2.1.1.1.m1.1.1\" xref=\"S2.T2.1.1.1.m1.1.1.cmml\"><mi id=\"S2.T2.1.1.1.m1.1.1.3\" xref=\"S2.T2.1.1.1.m1.1.1.3.cmml\">ϵ</mi><mo lspace=\"0em\" rspace=\"0em\" id=\"S2.T2.1.1.1.m1.1.1.2\" xref=\"S2.T2.1.1.1.m1.1.1.2.cmml\">​</mo><mrow id=\"S2.T2.1.1.1.m1.1.1.1.1\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.cmml\"><mo stretchy=\"false\" id=\"S2.T2.1.1.1.m1.1.1.1.1.2\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.cmml\">(</mo><mrow id=\"S2.T2.1.1.1.m1.1.1.1.1.1\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.cmml\"><mi id=\"S2.T2.1.1.1.m1.1.1.1.1.1.2\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.2.cmml\">δ</mi><mo id=\"S2.T2.1.1.1.m1.1.1.1.1.1.1\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.1.cmml\">=</mo><msup id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.cmml\"><mn id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.2\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml\">10</mn><mrow id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml\"><mo id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3a\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml\">−</mo><mn id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2.cmml\">10</mn></mrow></msup></mrow><mo stretchy=\"false\" id=\"S2.T2.1.1.1.m1.1.1.1.1.3\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.cmml\">)</mo></mrow></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S2.T2.1.1.1.m1.1b\"><apply id=\"S2.T2.1.1.1.m1.1.1.cmml\" xref=\"S2.T2.1.1.1.m1.1.1\"><times id=\"S2.T2.1.1.1.m1.1.1.2.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.2\"></times><ci id=\"S2.T2.1.1.1.m1.1.1.3.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.3\">italic-ϵ</ci><apply id=\"S2.T2.1.1.1.m1.1.1.1.1.1.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1\"><eq id=\"S2.T2.1.1.1.m1.1.1.1.1.1.1.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.1\"></eq><ci id=\"S2.T2.1.1.1.m1.1.1.1.1.1.2.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.2\">𝛿</ci><apply id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3\"><csymbol cd=\"ambiguous\" id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.1.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3\">superscript</csymbol><cn type=\"integer\" id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.2\">10</cn><apply id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3\"><minus id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.1.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3\"></minus><cn type=\"integer\" id=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2.cmml\" xref=\"S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2\">10</cn></apply></apply></apply></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S2.T2.1.1.1.m1.1c\">\\epsilon(\\delta=10^{-10})</annotation></semantics></math>\n</td>\n</tr>\n<tr id=\"S2.T2.1.3.2\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.3.2.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">de-DE</td>\n<td id=\"S2.T2.1.3.2.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1170</td>\n<td id=\"S2.T2.1.3.2.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.01</td>\n<td id=\"S2.T2.1.3.2.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.59</td>\n<td id=\"S2.T2.1.3.2.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">206 / 5 / 48h</td>\n<td id=\"S2.T2.1.3.2.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.89</td>\n<td id=\"S2.T2.1.3.2.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.01</td>\n</tr>\n<tr id=\"S2.T2.1.4.3\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.4.3.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">en-GB</td>\n<td id=\"S2.T2.1.4.3.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1220</td>\n<td id=\"S2.T2.1.4.3.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.99</td>\n<td id=\"S2.T2.1.4.3.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.38</td>\n<td id=\"S2.T2.1.4.3.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">206 / 5 / 72h</td>\n<td id=\"S2.T2.1.4.3.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.89</td>\n<td id=\"S2.T2.1.4.3.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.01</td>\n</tr>\n<tr id=\"S2.T2.1.5.4\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.5.4.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">es-ES</td>\n<td id=\"S2.T2.1.5.4.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1280</td>\n<td id=\"S2.T2.1.5.4.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.03</td>\n<td id=\"S2.T2.1.5.4.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.60</td>\n<td id=\"S2.T2.1.5.4.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">197 / 5 / 48h</td>\n<td id=\"S2.T2.1.5.4.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.89</td>\n<td id=\"S2.T2.1.5.4.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.01</td>\n</tr>\n<tr id=\"S2.T2.1.6.5\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.6.5.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">fr-FR</td>\n<td id=\"S2.T2.1.6.5.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1300</td>\n<td id=\"S2.T2.1.6.5.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.83</td>\n<td id=\"S2.T2.1.6.5.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.67</td>\n<td id=\"S2.T2.1.6.5.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">290 / 4 / 72h</td>\n<td id=\"S2.T2.1.6.5.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.61</td>\n<td id=\"S2.T2.1.6.5.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">7.31</td>\n</tr>\n<tr id=\"S2.T2.1.7.6\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.7.6.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">it-IT</td>\n<td id=\"S2.T2.1.7.6.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1360</td>\n<td id=\"S2.T2.1.7.6.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">1.39</td>\n<td id=\"S2.T2.1.7.6.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.80</td>\n<td id=\"S2.T2.1.7.6.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">188 / 5 / 48h</td>\n<td id=\"S2.T2.1.7.6.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.89</td>\n<td id=\"S2.T2.1.7.6.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">9.01</td>\n</tr>\n<tr id=\"S2.T2.1.8.7\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.8.7.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\">ru-RU</td>\n<td id=\"S2.T2.1.8.7.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">870</td>\n<td id=\"S2.T2.1.8.7.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.72</td>\n<td id=\"S2.T2.1.8.7.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.34</td>\n<td id=\"S2.T2.1.8.7.5\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">327 / 3 / 48h</td>\n<td id=\"S2.T2.1.8.7.6\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">0.32</td>\n<td id=\"S2.T2.1.8.7.7\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">5.13</td>\n</tr>\n<tr id=\"S2.T2.1.9.8\" class=\"ltx_tr\">\n<td id=\"S2.T2.1.9.8.1\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t\">pt-PT</td>\n<td id=\"S2.T2.1.9.8.2\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">430</td>\n<td id=\"S2.T2.1.9.8.3\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">1.71</td>\n<td id=\"S2.T2.1.9.8.4\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">0.32</td>\n<td id=\"S2.T2.1.9.8.5\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">54 / 7 / 48h</td>\n<td id=\"S2.T2.1.9.8.6\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">0.99</td>\n<td id=\"S2.T2.1.9.8.7\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">9.56</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": "",
        "references": [
            [
                "We summarize our strategy for training Gboard LMs with DP.\n\n",
                "\n",
                "(1)",
                " ",
                "Pre-train the model on public datasets if possible.\n",
                "\n",
                "(2)",
                " ",
                "Choose the maximum noise multiplier that meets the utility target based on small report goal simulation experiments on public datasets that is similar to the production task.\n",
                "\n",
                "(3)",
                " ",
                "Based on the target number of rounds and estimated population, linearly increase the report goal and noise multiplier to meet the privacy target, and choose a large report goal supported by the system. If the privacy target is unachievable, fix the report goal to maximum, and increase the noise multiplier to target on a model with suboptimal utility.\n",
                "\n",
                "(4)",
                " ",
                "Estimate the possible maximum MinS based on chosen report goal and estimated population, and configure the timer period to approach the MinS; use previous experience of model training speed if applicable.\n",
                "\n",
                "(5)",
                " ",
                "If the hyperparameters (e.g., learning rates) are known from previous experiments or simulation on public datasets, apply DP-FTRL with adaptive clipping (",
                "Alg.",
                " ",
                "1",
                ") without manual tuning to try meet the privacy and utility goals. Note that ",
                "Alg.",
                " ",
                "1",
                " needs to account the noise inflation and restart for privacy guarantees.\n",
                "\n",
                "(6)",
                " ",
                "If ",
                "Alg.",
                " ",
                "1",
                " fails or stronger privacy and utility are desirable, we can run a few small report goal experiments with ",
                "Alg.",
                " ",
                "1",
                " that tune quantile ",
                "γ",
                "𝛾",
                "\\gamma",
                " and server learning rate ",
                "η",
                "s",
                "subscript",
                "𝜂",
                "𝑠",
                "\\eta_{s}",
                ", select the best learning rate, and fix the clip norm based on the estimation; and run DP-FTRL with large report goals.\n",
                "\n",
                "(7)",
                " ",
                "SecAgg can be used for all experiments, and precise MaxP and MinS are computed by post-processing for privacy accounting.\n",
                "\n"
            ]
        ]
    }
}