{
    "PAPER'S NUMBER OF TABLES": 3,
    "S1.T1": {
        "caption": "Table 1: Comparison of characteristics considered in previous work and the methods analyzed in this paper. Notation:\nHD = Heterogeneous Data,\nCS = Client Sampling,\nRR = Random Reshuffling,\nNL = Non-identical Local Steps,\nVR = Variance Reduction,\nGM = Global Momentum,\nSS = Server Step Size. The bottom four methods are proposed and/or analyzed in this paper.",
        "table": "<table id=\"S1.T1.1\" class=\"ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle\">\n<tbody class=\"ltx_tbody\">\n<tr id=\"S1.T1.1.2.1\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.2.1.1\" class=\"ltx_td\"></td>\n<td id=\"S1.T1.1.2.1.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.2.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.2.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:12.4pt;height:12.4pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:12.1pt;transform:translate(0.16pt,-3.48pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.2.1.1.1\" class=\"ltx_p\">HD</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.3.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.3.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:11.1pt;height:11.1pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:10.2pt;transform:translate(0.44pt,-2.81pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.3.1.1.1\" class=\"ltx_p\">CS</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.4.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.4.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:12.2pt;height:12.2pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:11.8pt;transform:translate(0.21pt,-3.36pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.4.1.1.1\" class=\"ltx_p\">RR</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.5.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.5.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:11.6pt;height:11.6pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:11.0pt;transform:translate(0.32pt,-3.09pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.5.1.1.1\" class=\"ltx_p\">NL</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.6.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.6.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:12.3pt;height:12.3pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:11.9pt;transform:translate(0.19pt,-3.4pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.6.1.1.1\" class=\"ltx_p\">VR</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.7.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.7.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:13.5pt;height:13.5pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:13.6pt;transform:translate(-0.06pt,-4.01pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.7.1.1.1\" class=\"ltx_p\">GM</span>\n</span></span></span></td>\n<td id=\"S1.T1.1.2.1.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.2.1.8.1\" class=\"ltx_text ltx_align_left ltx_inline-block\" style=\"font-size:80%;width:8.0pt;\">\n<span id=\"S1.T1.1.2.1.8.1.1\" class=\"ltx_inline-block ltx_transformed_outer\" style=\"width:10.2pt;height:10.2pt;vertical-align:-0.0pt;\"><span class=\"ltx_transformed_inner\" style=\"width:8.9pt;transform:translate(0.63pt,-2.34pt) rotate(-45deg) ;\">\n<span id=\"S1.T1.1.2.1.8.1.1.1\" class=\"ltx_p\">SS</span>\n</span></span></span></td>\n</tr>\n<tr id=\"S1.T1.1.3.2\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.3.2.1\" class=\"ltx_td ltx_align_left ltx_border_t\">\n<span id=\"S1.T1.1.3.2.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedNova</span><span id=\"S1.T1.1.3.2.1.2\" class=\"ltx_text\" style=\"font-size:80%;\"> </span><cite class=\"ltx_cite ltx_citemacro_citep\"><span id=\"S1.T1.1.3.2.1.3.1\" class=\"ltx_text\" style=\"font-size:80%;\">(</span>Wang et al.<span id=\"S1.T1.1.3.2.1.4.2.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">, </span><a href=\"#bib.bib57\" title=\"\" class=\"ltx_ref\">2020</a><span id=\"S1.T1.1.3.2.1.5.3\" class=\"ltx_text\" style=\"font-size:80%;\">)</span></cite>\n</td>\n<td id=\"S1.T1.1.3.2.2\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.3.2.3\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.3.2.4\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.3.2.5\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.3.2.6\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.3.2.7\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.3.2.8\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.3.2.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n</tr>\n<tr id=\"S1.T1.1.4.3\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.4.3.1\" class=\"ltx_td ltx_align_left\">\n<span id=\"S1.T1.1.4.3.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedLin</span><span id=\"S1.T1.1.4.3.1.2\" class=\"ltx_text\" style=\"font-size:80%;\"> </span><cite class=\"ltx_cite ltx_citemacro_citep\"><span id=\"S1.T1.1.4.3.1.3.1\" class=\"ltx_text\" style=\"font-size:80%;\">(</span>Mitra et al.<span id=\"S1.T1.1.4.3.1.4.2.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">, </span><a href=\"#bib.bib44\" title=\"\" class=\"ltx_ref\">2021</a><span id=\"S1.T1.1.4.3.1.5.3\" class=\"ltx_text\" style=\"font-size:80%;\">)</span></cite>\n</td>\n<td id=\"S1.T1.1.4.3.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.4.3.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.4.3.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.4.3.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.4.3.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.4.3.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.4.3.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.4.3.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n</tr>\n<tr id=\"S1.T1.1.5.4\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.5.4.1\" class=\"ltx_td ltx_align_left\">\n<span id=\"S1.T1.1.5.4.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">Mime</span><span id=\"S1.T1.1.5.4.1.2\" class=\"ltx_text\" style=\"font-size:80%;\"> </span><cite class=\"ltx_cite ltx_citemacro_citep\"><span id=\"S1.T1.1.5.4.1.3.1\" class=\"ltx_text\" style=\"font-size:80%;\">(</span>Karimireddy et al.<span id=\"S1.T1.1.5.4.1.4.2.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">, </span><a href=\"#bib.bib26\" title=\"\" class=\"ltx_ref\">2020</a><span id=\"S1.T1.1.5.4.1.5.3\" class=\"ltx_text\" style=\"font-size:80%;\">)</span></cite>\n</td>\n<td id=\"S1.T1.1.5.4.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.5.4.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.5.4.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.5.4.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.5.4.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.5.4.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.5.4.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.5.4.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n</tr>\n<tr id=\"S1.T1.1.6.5\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.6.5.1\" class=\"ltx_td ltx_align_left\">\n<span id=\"S1.T1.1.6.5.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedRR</span><span id=\"S1.T1.1.6.5.1.2\" class=\"ltx_text\" style=\"font-size:80%;\"> </span><cite class=\"ltx_cite ltx_citemacro_citep\"><span id=\"S1.T1.1.6.5.1.3.1\" class=\"ltx_text\" style=\"font-size:80%;\">(</span>Mishchenko et al.<span id=\"S1.T1.1.6.5.1.4.2.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">, </span><a href=\"#bib.bib43\" title=\"\" class=\"ltx_ref\">2021</a><span id=\"S1.T1.1.6.5.1.5.3\" class=\"ltx_text\" style=\"font-size:80%;\">)</span></cite><span id=\"S1.T1.1.6.5.1.6\" class=\"ltx_text\" style=\"font-size:80%;\"> / </span><span id=\"S1.T1.1.6.5.1.7\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">LocalRR</span><span id=\"S1.T1.1.6.5.1.8\" class=\"ltx_text\" style=\"font-size:80%;\"> </span><cite class=\"ltx_cite ltx_citemacro_citep\"><span id=\"S1.T1.1.6.5.1.9.1\" class=\"ltx_text\" style=\"font-size:80%;\">(</span>Yun et al.<span id=\"S1.T1.1.6.5.1.10.2.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">, </span><a href=\"#bib.bib63\" title=\"\" class=\"ltx_ref\">2021</a><span id=\"S1.T1.1.6.5.1.11.3\" class=\"ltx_text\" style=\"font-size:80%;\">)</span></cite>\n</td>\n<td id=\"S1.T1.1.6.5.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.6.5.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.6.5.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.6.5.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.6.5.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.6.5.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.6.5.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.6.5.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n</tr>\n<tr id=\"S1.T1.1.7.6\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.7.6.1\" class=\"ltx_td ltx_align_left ltx_border_t\"><span id=\"S1.T1.1.7.6.1.1\" class=\"ltx_text ltx_font_italic\" style=\"font-size:80%;\">(Contributions in this work)</span></td>\n<td id=\"S1.T1.1.7.6.2\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.3\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.4\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.5\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.6\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.7\" class=\"ltx_td ltx_border_t\"></td>\n<td id=\"S1.T1.1.7.6.8\" class=\"ltx_td ltx_border_t\"></td>\n</tr>\n<tr id=\"S1.T1.1.1\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.1.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.2.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedAvgRR</span></td>\n<td id=\"S1.T1.1.1.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.1.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.1.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.1.1\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.1.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗<sup id=\"S1.T1.1.1.1.1.1\" class=\"ltx_sup\">∗</sup></span></td>\n<td id=\"S1.T1.1.1.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.1.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.1.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.1.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n</tr>\n<tr id=\"S1.T1.1.8.7\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.8.7.1\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedNovaRR</span></td>\n<td id=\"S1.T1.1.8.7.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.8.7.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.8.7.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.8.7.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.8.7.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.8.7.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.8.7.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.8.7.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n</tr>\n<tr id=\"S1.T1.1.9.8\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.9.8.1\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedShuffle</span></td>\n<td id=\"S1.T1.1.9.8.2\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.9.8.3\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.9.8.4\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.9.8.5\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.9.8.6\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.9.8.7\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#FF0000;\">✗</span></td>\n<td id=\"S1.T1.1.9.8.8\" class=\"ltx_td ltx_align_left\"><span id=\"S1.T1.1.9.8.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n</tr>\n<tr id=\"S1.T1.1.10.9\" class=\"ltx_tr\">\n<td id=\"S1.T1.1.10.9.1\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.1.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedShuffleMVR</span></td>\n<td id=\"S1.T1.1.10.9.2\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.2.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.3\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.3.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.4\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.4.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.5\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.5.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.6\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.6.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.7\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.7.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n<td id=\"S1.T1.1.10.9.8\" class=\"ltx_td ltx_align_left ltx_border_bb\"><span id=\"S1.T1.1.10.9.8.1\" class=\"ltx_text\" style=\"font-size:80%;color:#00FF00;\">✓</span></td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": "∗With NL, FedAvgRR optimizes the wrong objective.",
        "references": [
            "In this paper we aim to provide a unified view of local update methods while accounting for random reshuffling, data imbalance (through non-identical numbers of local steps), and client subsampling. Furthermore, we obtain faster convergence by incorporating momentum variance reduction. Table 1 summarizes the key differences mentioned above.",
            "General framework: FedShuffleGen. The above results are obtained by first considering a general framework (see Algorithm 4 in Appendix E.4) that accounts for data heterogeneity, different numbers of local updates per device, arbitrary client sampling, different local learning rates, and heterogeneity in the aggregation weights. To the best of our knowledge, this work is the first to tackle the challenge of random reshuffling in FL at this level of generality. Similar to Wang et al. (2020), our analysis reveals how heterogeneity in the number of local updates can lead to objective inconsistency. Within this framework, we obtain the first analysis of FedAvg 222We acknowledge the earlier work of Malinovsky et al. (2021), which analyzes random reshuffling of local data in the context of federated learning, with a specific focus on the role of client and server stepsizes. Our main results were obtained independently in early Fall 2021, and at that time we also learned about the results of Malinovsky et al. (2021) through personal communication, which were obtained somewhat earlier, but were not available online at that time. and FedNova with random reshuffling (FedAvgRR and FedNovaRR respectively in Table 1)."
        ]
    },
    "S6.T3": {
        "caption": "",
        "table": "<table id=\"S6.T3.fig1.3\" class=\"ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle\">\n<thead class=\"ltx_thead\">\n<tr id=\"S6.Ex6\" class=\"ltx_tr\">\n<th id=\"S6.Ex6.1\" class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex6.1.1\" class=\"ltx_text\" style=\"font-size:80%;\">Accuracy</span></th>\n<th id=\"S6.Ex6.2\" class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t\"><span id=\"S6.Ex6.2.1\" class=\"ltx_text\" style=\"font-size:80%;\">No Momentum</span></th>\n<th id=\"S6.Ex6.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t\"><span id=\"S6.Ex6.3.1\" class=\"ltx_text\" style=\"font-size:80%;\">With Momentum</span></th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr id=\"S6.Ex7\" class=\"ltx_tr\">\n<th id=\"S6.Ex7.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex7.3.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedAvgMin</span></th>\n<td id=\"S6.Ex7.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex7.1.m1.1\" class=\"ltx_Math\" alttext=\"35.79\\pm 0.28\" display=\"inline\"><semantics id=\"S6.Ex7.1.m1.1a\"><mrow id=\"S6.Ex7.1.m1.1.1\" xref=\"S6.Ex7.1.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex7.1.m1.1.1.2\" xref=\"S6.Ex7.1.m1.1.1.2.cmml\">35.79</mn><mo mathsize=\"80%\" id=\"S6.Ex7.1.m1.1.1.1\" xref=\"S6.Ex7.1.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex7.1.m1.1.1.3\" xref=\"S6.Ex7.1.m1.1.1.3.cmml\">0.28</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex7.1.m1.1b\"><apply id=\"S6.Ex7.1.m1.1.1.cmml\" xref=\"S6.Ex7.1.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex7.1.m1.1.1.1.cmml\" xref=\"S6.Ex7.1.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex7.1.m1.1.1.2.cmml\" xref=\"S6.Ex7.1.m1.1.1.2\">35.79</cn><cn type=\"float\" id=\"S6.Ex7.1.m1.1.1.3.cmml\" xref=\"S6.Ex7.1.m1.1.1.3\">0.28</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex7.1.m1.1c\">35.79\\pm 0.28</annotation></semantics></math></td>\n<td id=\"S6.Ex7.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex7.2.m1.1\" class=\"ltx_Math\" alttext=\"51.13\\pm 0.27\" display=\"inline\"><semantics id=\"S6.Ex7.2.m1.1a\"><mrow id=\"S6.Ex7.2.m1.1.1\" xref=\"S6.Ex7.2.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex7.2.m1.1.1.2\" xref=\"S6.Ex7.2.m1.1.1.2.cmml\">51.13</mn><mo mathsize=\"80%\" id=\"S6.Ex7.2.m1.1.1.1\" xref=\"S6.Ex7.2.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex7.2.m1.1.1.3\" xref=\"S6.Ex7.2.m1.1.1.3.cmml\">0.27</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex7.2.m1.1b\"><apply id=\"S6.Ex7.2.m1.1.1.cmml\" xref=\"S6.Ex7.2.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex7.2.m1.1.1.1.cmml\" xref=\"S6.Ex7.2.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex7.2.m1.1.1.2.cmml\" xref=\"S6.Ex7.2.m1.1.1.2\">51.13</cn><cn type=\"float\" id=\"S6.Ex7.2.m1.1.1.3.cmml\" xref=\"S6.Ex7.2.m1.1.1.3\">0.27</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex7.2.m1.1c\">51.13\\pm 0.27</annotation></semantics></math></td>\n</tr>\n<tr id=\"S6.Ex8\" class=\"ltx_tr\">\n<th id=\"S6.Ex8.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex8.3.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedAvgMean</span></th>\n<td id=\"S6.Ex8.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex8.1.m1.1\" class=\"ltx_Math\" alttext=\"36.95\\pm 0.55\" display=\"inline\"><semantics id=\"S6.Ex8.1.m1.1a\"><mrow id=\"S6.Ex8.1.m1.1.1\" xref=\"S6.Ex8.1.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex8.1.m1.1.1.2\" xref=\"S6.Ex8.1.m1.1.1.2.cmml\">36.95</mn><mo mathsize=\"80%\" id=\"S6.Ex8.1.m1.1.1.1\" xref=\"S6.Ex8.1.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex8.1.m1.1.1.3\" xref=\"S6.Ex8.1.m1.1.1.3.cmml\">0.55</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex8.1.m1.1b\"><apply id=\"S6.Ex8.1.m1.1.1.cmml\" xref=\"S6.Ex8.1.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex8.1.m1.1.1.1.cmml\" xref=\"S6.Ex8.1.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex8.1.m1.1.1.2.cmml\" xref=\"S6.Ex8.1.m1.1.1.2\">36.95</cn><cn type=\"float\" id=\"S6.Ex8.1.m1.1.1.3.cmml\" xref=\"S6.Ex8.1.m1.1.1.3\">0.55</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex8.1.m1.1c\">36.95\\pm 0.55</annotation></semantics></math></td>\n<td id=\"S6.Ex8.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex8.2.m1.1\" class=\"ltx_Math\" alttext=\"55.38\\pm 0.27\" display=\"inline\"><semantics id=\"S6.Ex8.2.m1.1a\"><mrow id=\"S6.Ex8.2.m1.1.1\" xref=\"S6.Ex8.2.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex8.2.m1.1.1.2\" xref=\"S6.Ex8.2.m1.1.1.2.cmml\">55.38</mn><mo mathsize=\"80%\" id=\"S6.Ex8.2.m1.1.1.1\" xref=\"S6.Ex8.2.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex8.2.m1.1.1.3\" xref=\"S6.Ex8.2.m1.1.1.3.cmml\">0.27</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex8.2.m1.1b\"><apply id=\"S6.Ex8.2.m1.1.1.cmml\" xref=\"S6.Ex8.2.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex8.2.m1.1.1.1.cmml\" xref=\"S6.Ex8.2.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex8.2.m1.1.1.2.cmml\" xref=\"S6.Ex8.2.m1.1.1.2\">55.38</cn><cn type=\"float\" id=\"S6.Ex8.2.m1.1.1.3.cmml\" xref=\"S6.Ex8.2.m1.1.1.3\">0.27</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex8.2.m1.1c\">55.38\\pm 0.27</annotation></semantics></math></td>\n</tr>\n<tr id=\"S6.Ex9\" class=\"ltx_tr\">\n<th id=\"S6.Ex9.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex9.3.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedAvg</span></th>\n<td id=\"S6.Ex9.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex9.1.m1.1\" class=\"ltx_Math\" alttext=\"48.61\\pm 0.56\" display=\"inline\"><semantics id=\"S6.Ex9.1.m1.1a\"><mrow id=\"S6.Ex9.1.m1.1.1\" xref=\"S6.Ex9.1.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex9.1.m1.1.1.2\" xref=\"S6.Ex9.1.m1.1.1.2.cmml\">48.61</mn><mo mathsize=\"80%\" id=\"S6.Ex9.1.m1.1.1.1\" xref=\"S6.Ex9.1.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex9.1.m1.1.1.3\" xref=\"S6.Ex9.1.m1.1.1.3.cmml\">0.56</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex9.1.m1.1b\"><apply id=\"S6.Ex9.1.m1.1.1.cmml\" xref=\"S6.Ex9.1.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex9.1.m1.1.1.1.cmml\" xref=\"S6.Ex9.1.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex9.1.m1.1.1.2.cmml\" xref=\"S6.Ex9.1.m1.1.1.2\">48.61</cn><cn type=\"float\" id=\"S6.Ex9.1.m1.1.1.3.cmml\" xref=\"S6.Ex9.1.m1.1.1.3\">0.56</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex9.1.m1.1c\">48.61\\pm 0.56</annotation></semantics></math></td>\n<td id=\"S6.Ex9.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex9.2.m1.1\" class=\"ltx_Math\" alttext=\"64.64\\pm 0.10\" display=\"inline\"><semantics id=\"S6.Ex9.2.m1.1a\"><mrow id=\"S6.Ex9.2.m1.1.1\" xref=\"S6.Ex9.2.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex9.2.m1.1.1.2\" xref=\"S6.Ex9.2.m1.1.1.2.cmml\">64.64</mn><mo mathsize=\"80%\" id=\"S6.Ex9.2.m1.1.1.1\" xref=\"S6.Ex9.2.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex9.2.m1.1.1.3\" xref=\"S6.Ex9.2.m1.1.1.3.cmml\">0.10</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex9.2.m1.1b\"><apply id=\"S6.Ex9.2.m1.1.1.cmml\" xref=\"S6.Ex9.2.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex9.2.m1.1.1.1.cmml\" xref=\"S6.Ex9.2.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex9.2.m1.1.1.2.cmml\" xref=\"S6.Ex9.2.m1.1.1.2\">64.64</cn><cn type=\"float\" id=\"S6.Ex9.2.m1.1.1.3.cmml\" xref=\"S6.Ex9.2.m1.1.1.3\">0.10</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex9.2.m1.1c\">64.64\\pm 0.10</annotation></semantics></math></td>\n</tr>\n<tr id=\"S6.Ex10\" class=\"ltx_tr\">\n<th id=\"S6.Ex10.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex10.3.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedNova</span></th>\n<td id=\"S6.Ex10.1\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex10.1.m1.1\" class=\"ltx_Math\" alttext=\"43.29\\pm 0.40\" display=\"inline\"><semantics id=\"S6.Ex10.1.m1.1a\"><mrow id=\"S6.Ex10.1.m1.1.1\" xref=\"S6.Ex10.1.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex10.1.m1.1.1.2\" xref=\"S6.Ex10.1.m1.1.1.2.cmml\">43.29</mn><mo mathsize=\"80%\" id=\"S6.Ex10.1.m1.1.1.1\" xref=\"S6.Ex10.1.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex10.1.m1.1.1.3\" xref=\"S6.Ex10.1.m1.1.1.3.cmml\">0.40</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex10.1.m1.1b\"><apply id=\"S6.Ex10.1.m1.1.1.cmml\" xref=\"S6.Ex10.1.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex10.1.m1.1.1.1.cmml\" xref=\"S6.Ex10.1.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex10.1.m1.1.1.2.cmml\" xref=\"S6.Ex10.1.m1.1.1.2\">43.29</cn><cn type=\"float\" id=\"S6.Ex10.1.m1.1.1.3.cmml\" xref=\"S6.Ex10.1.m1.1.1.3\">0.40</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex10.1.m1.1c\">43.29\\pm 0.40</annotation></semantics></math></td>\n<td id=\"S6.Ex10.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><math id=\"S6.Ex10.2.m1.1\" class=\"ltx_Math\" alttext=\"61.65\\pm 0.06\" display=\"inline\"><semantics id=\"S6.Ex10.2.m1.1a\"><mrow id=\"S6.Ex10.2.m1.1.1\" xref=\"S6.Ex10.2.m1.1.1.cmml\"><mn mathsize=\"80%\" id=\"S6.Ex10.2.m1.1.1.2\" xref=\"S6.Ex10.2.m1.1.1.2.cmml\">61.65</mn><mo mathsize=\"80%\" id=\"S6.Ex10.2.m1.1.1.1\" xref=\"S6.Ex10.2.m1.1.1.1.cmml\">±</mo><mn mathsize=\"80%\" id=\"S6.Ex10.2.m1.1.1.3\" xref=\"S6.Ex10.2.m1.1.1.3.cmml\">0.06</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex10.2.m1.1b\"><apply id=\"S6.Ex10.2.m1.1.1.cmml\" xref=\"S6.Ex10.2.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex10.2.m1.1.1.1.cmml\" xref=\"S6.Ex10.2.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex10.2.m1.1.1.2.cmml\" xref=\"S6.Ex10.2.m1.1.1.2\">61.65</cn><cn type=\"float\" id=\"S6.Ex10.2.m1.1.1.3.cmml\" xref=\"S6.Ex10.2.m1.1.1.3\">0.06</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex10.2.m1.1c\">61.65\\pm 0.06</annotation></semantics></math></td>\n</tr>\n<tr id=\"S6.Ex11\" class=\"ltx_tr\">\n<th id=\"S6.Ex11.3\" class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t\"><span id=\"S6.Ex11.3.1\" class=\"ltx_text ltx_font_smallcaps\" style=\"font-size:80%;\">FedShuffle</span></th>\n<td id=\"S6.Ex11.1\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\"><math id=\"S6.Ex11.1.m1.1\" class=\"ltx_Math\" alttext=\"\\mathbf{59.57\\pm 0.14}\" display=\"inline\"><semantics id=\"S6.Ex11.1.m1.1a\"><mrow id=\"S6.Ex11.1.m1.1.1\" xref=\"S6.Ex11.1.m1.1.1.cmml\"><mn class=\"ltx_mathvariant_bold\" mathsize=\"80%\" mathvariant=\"bold\" id=\"S6.Ex11.1.m1.1.1.2\" xref=\"S6.Ex11.1.m1.1.1.2.cmml\">59.57</mn><mo mathsize=\"80%\" id=\"S6.Ex11.1.m1.1.1.1\" xref=\"S6.Ex11.1.m1.1.1.1.cmml\">±</mo><mn class=\"ltx_mathvariant_bold\" mathsize=\"80%\" mathvariant=\"bold\" id=\"S6.Ex11.1.m1.1.1.3\" xref=\"S6.Ex11.1.m1.1.1.3.cmml\">0.14</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex11.1.m1.1b\"><apply id=\"S6.Ex11.1.m1.1.1.cmml\" xref=\"S6.Ex11.1.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex11.1.m1.1.1.1.cmml\" xref=\"S6.Ex11.1.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex11.1.m1.1.1.2.cmml\" xref=\"S6.Ex11.1.m1.1.1.2\">59.57</cn><cn type=\"float\" id=\"S6.Ex11.1.m1.1.1.3.cmml\" xref=\"S6.Ex11.1.m1.1.1.3\">0.14</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex11.1.m1.1c\">\\mathbf{59.57\\pm 0.14}</annotation></semantics></math></td>\n<td id=\"S6.Ex11.2\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\"><math id=\"S6.Ex11.2.m1.1\" class=\"ltx_Math\" alttext=\"\\mathbf{67.63\\pm 0.35}\" display=\"inline\"><semantics id=\"S6.Ex11.2.m1.1a\"><mrow id=\"S6.Ex11.2.m1.1.1\" xref=\"S6.Ex11.2.m1.1.1.cmml\"><mn class=\"ltx_mathvariant_bold\" mathsize=\"80%\" mathvariant=\"bold\" id=\"S6.Ex11.2.m1.1.1.2\" xref=\"S6.Ex11.2.m1.1.1.2.cmml\">67.63</mn><mo mathsize=\"80%\" id=\"S6.Ex11.2.m1.1.1.1\" xref=\"S6.Ex11.2.m1.1.1.1.cmml\">±</mo><mn class=\"ltx_mathvariant_bold\" mathsize=\"80%\" mathvariant=\"bold\" id=\"S6.Ex11.2.m1.1.1.3\" xref=\"S6.Ex11.2.m1.1.1.3.cmml\">0.35</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S6.Ex11.2.m1.1b\"><apply id=\"S6.Ex11.2.m1.1.1.cmml\" xref=\"S6.Ex11.2.m1.1.1\"><csymbol cd=\"latexml\" id=\"S6.Ex11.2.m1.1.1.1.cmml\" xref=\"S6.Ex11.2.m1.1.1.1\">plus-or-minus</csymbol><cn type=\"float\" id=\"S6.Ex11.2.m1.1.1.2.cmml\" xref=\"S6.Ex11.2.m1.1.1.2\">67.63</cn><cn type=\"float\" id=\"S6.Ex11.2.m1.1.1.3.cmml\" xref=\"S6.Ex11.2.m1.1.1.3\">0.35</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S6.Ex11.2.m1.1c\">\\mathbf{67.63\\pm 0.35}</annotation></semantics></math></td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": "",
        "references": [
            "In this paper we aim to provide a unified view of local update methods while accounting for random reshuffling, data imbalance (through non-identical numbers of local steps), and client subsampling. Furthermore, we obtain faster convergence by incorporating momentum variance reduction. Table 1 summarizes the key differences mentioned above.",
            "General framework: FedShuffleGen. The above results are obtained by first considering a general framework (see Algorithm 4 in Appendix E.4) that accounts for data heterogeneity, different numbers of local updates per device, arbitrary client sampling, different local learning rates, and heterogeneity in the aggregation weights. To the best of our knowledge, this work is the first to tackle the challenge of random reshuffling in FL at this level of generality. Similar to Wang et al. (2020), our analysis reveals how heterogeneity in the number of local updates can lead to objective inconsistency. Within this framework, we obtain the first analysis of FedAvg 222We acknowledge the earlier work of Malinovsky et al. (2021), which analyzes random reshuffling of local data in the context of federated learning, with a specific focus on the role of client and server stepsizes. Our main results were obtained independently in early Fall 2021, and at that time we also learned about the results of Malinovsky et al. (2021) through personal communication, which were obtained somewhat earlier, but were not available online at that time. and FedNova with random reshuffling (FedAvgRR and FedNovaRR respectively in Table 1).",
            "Federated optimization and local update methods. As we mentioned earlier local update methods are at the heart of FL. As a result, many prior works have analyzed various aspects of local update methods, e.g. (Wang & Joshi, 2021; Stich, 2018; Zhou & Cong, 2017; Yu et al., 2019; Li et al., 2019; Haddadpour & Mahdavi, 2019; Haddadpour et al., 2019a; b; Khaled et al., 2020; Stich & Karimireddy, 2020; Wang & Joshi, 2019; Woodworth et al., 2020; Koloskova et al., 2020; Khaled et al., 2019; Woodworth et al., 2018; Xie et al., 2019; Lin et al., 2018). These analyses are done under the assumption that every client performs the same number of local updates in each round. However this is usually not the case in practice, due to the heterogeneity of the data and system in FL; note that practical FL algorithms run a fixed number of epochs (not steps) per device. Moreover, forcing the fast and slow devices to run the same number of iterations would slow-down the training. This problem was also noted by (Wang et al., 2020), where it is shown that having a heterogeneous number of updates, which is inevitable in FL, leads to an inconsistency between the target loss (1) and the loss that the methods optimize. Moreover, as shown in (Wang et al., 2020), other approaches such as FedProx (Li et al., 2020), VRLSGD (Liang et al., 2019)\nand SCAFFOLD (Karimireddy et al., 2019a) that are designed for heterogeneous data can partially alleviate the problem but not completely eliminate it.",
            "In the next experiments, we evaluate the same methods on the CIFAR100 Krizhevsky et al. (2009) and Shakespeare McMahan et al. (2017) datasets. The results already showcased theoretically (see Sections 4\nand Appendix E) and empirically in the previous experiments that reshuffling leads to a substantial improvement over random sampling with replacement.\nTherefore, in these experiments we focus on other aspects of FedShuffle and show its superiority over other methods that use random reshuffling. To do that, we only consider random reshuffling methods in this section; thus FedNova, FedAvg, FedAvgMin and FedAvgMean refer to FedAvgRR, FedNovaRR, FedAvgMin and FedAvgMean with (partial) random reshuffling, respectively. For each task, we run 100010001000 rounds and we sample 161616 clients in each round. For Shakespeare, each client runs two local epochs. For CIFAR100, all clients have the same number of data points. Thus, we follow (Wang et al., 2020) to create heterogeneity and test our FedShuffleGen framework we assume each client runs 2 to 5 epochs uniformly at random.\nWe investigate which method performs the best and, furthermore, we look at the effects of the momentum.\nand importance sampling, where the description of the used importance sampling strategy can be found in (Horváth & Richtárik, 2019, Section 2.3).\nWe report the test accuracies in Figure 2 and Tables 3 and 3. We observe that FedShuffle outperforms all the baselines, for the Shakespeare dataset with a large margin. With respect to the global fixed momentum, we can see that this technique helps all the methods and substantially improves their performance.\nWe note that FedAvgMean and FedAvgMin perform exceptionally well for CIFAR100 (w/ momentum) but not for the Shakespeare dataset. We conjecture this is due to the significant heterogeneity of the Shakespeare dataset in terms of samples per client. In this setting, FedAvgMin does not utilize most of the data on clients with larger data-sets, while FedAvgMean over-uses the data on clients with smaller data-size. Note that for CIFAR100, this is not the case as we use an equal-sized split. For completeness, we include the train loss corresponding to Figure 2 in Section F in the appendix."
        ]
    },
    "A6.tab1": {
        "caption": "Table 4: Baselines.",
        "table": "<table id=\"A6.tab1.1\" class=\"ltx_tabular ltx_align_middle\">\n<tbody class=\"ltx_tbody\">\n<tr id=\"A6.Ex231\" class=\"ltx_tr\">\n<td id=\"A6.Ex231.1\" class=\"ltx_td ltx_border_l ltx_border_r ltx_border_t\"></td>\n<td id=\"A6.Ex231.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex231.2.1\" class=\"ltx_text\">Local Steps/ Epochs</span></td>\n<td id=\"A6.Ex231.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">W/ or W/O Replacement</td>\n<td id=\"A6.Ex231.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex231.4.1\" class=\"ltx_text\">Pseudocode</span></td>\n</tr>\n<tr id=\"A6.Ex232\" class=\"ltx_tr\">\n<td id=\"A6.Ex232.2\" class=\"ltx_td ltx_border_l ltx_border_r\"></td>\n<td id=\"A6.Ex232.1\" class=\"ltx_td ltx_align_center ltx_border_r\">Gradient Sampling<sup id=\"A6.Ex232.1.1\" class=\"ltx_sup\"><span id=\"A6.Ex232.1.1.1\" class=\"ltx_text ltx_font_italic\">a</span></sup>\n</td>\n</tr>\n<tr id=\"A6.Ex233\" class=\"ltx_tr\">\n<td id=\"A6.Ex233.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\"><span id=\"A6.Ex233.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedAvgRR</span></td>\n<td id=\"A6.Ex233.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">Epochs</td>\n<td id=\"A6.Ex233.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">W/O</td>\n<td id=\"A6.Ex233.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">Algorithm <a href=\"#alg2\" title=\"Algorithm 2 ‣ Appendix A FedAvg with Random Reshuffling ‣ Appendix ‣ FedShuffle: Recipes for Better Use of Local Work in Federated Learning\" class=\"ltx_ref\"><span class=\"ltx_text ltx_ref_tag\">2</span></a>\n</td>\n</tr>\n<tr id=\"A6.Ex234\" class=\"ltx_tr\">\n<td id=\"A6.Ex234.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex234.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedAvgMin</span></td>\n<td id=\"A6.Ex234.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex234.2.1\" class=\"ltx_text\">Steps</span></td>\n<td id=\"A6.Ex234.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex234.3.1\" class=\"ltx_text\">W/</span></td>\n<td id=\"A6.Ex234.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><cite class=\"ltx_cite ltx_citemacro_citet\">Reddi et al. (<a href=\"#bib.bib48\" title=\"\" class=\"ltx_ref\">2020</a>)</cite></td>\n</tr>\n<tr id=\"A6.Ex235\" class=\"ltx_tr\">\n<td id=\"A6.Ex235.1\" class=\"ltx_td ltx_align_center ltx_border_r\">Algorithm 1 with <math id=\"A6.Ex235.1.m1.1\" class=\"ltx_Math\" alttext=\"K=K_{\\text{min}}^{b}\" display=\"inline\"><semantics id=\"A6.Ex235.1.m1.1a\"><mrow id=\"A6.Ex235.1.m1.1.1\" xref=\"A6.Ex235.1.m1.1.1.cmml\"><mi id=\"A6.Ex235.1.m1.1.1.2\" xref=\"A6.Ex235.1.m1.1.1.2.cmml\">K</mi><mo id=\"A6.Ex235.1.m1.1.1.1\" xref=\"A6.Ex235.1.m1.1.1.1.cmml\">=</mo><msubsup id=\"A6.Ex235.1.m1.1.1.3\" xref=\"A6.Ex235.1.m1.1.1.3.cmml\"><mi id=\"A6.Ex235.1.m1.1.1.3.2.2\" xref=\"A6.Ex235.1.m1.1.1.3.2.2.cmml\">K</mi><mtext id=\"A6.Ex235.1.m1.1.1.3.2.3\" xref=\"A6.Ex235.1.m1.1.1.3.2.3a.cmml\">min</mtext><mi id=\"A6.Ex235.1.m1.1.1.3.3\" xref=\"A6.Ex235.1.m1.1.1.3.3.cmml\">b</mi></msubsup></mrow><annotation-xml encoding=\"MathML-Content\" id=\"A6.Ex235.1.m1.1b\"><apply id=\"A6.Ex235.1.m1.1.1.cmml\" xref=\"A6.Ex235.1.m1.1.1\"><eq id=\"A6.Ex235.1.m1.1.1.1.cmml\" xref=\"A6.Ex235.1.m1.1.1.1\"></eq><ci id=\"A6.Ex235.1.m1.1.1.2.cmml\" xref=\"A6.Ex235.1.m1.1.1.2\">𝐾</ci><apply id=\"A6.Ex235.1.m1.1.1.3.cmml\" xref=\"A6.Ex235.1.m1.1.1.3\"><csymbol cd=\"ambiguous\" id=\"A6.Ex235.1.m1.1.1.3.1.cmml\" xref=\"A6.Ex235.1.m1.1.1.3\">superscript</csymbol><apply id=\"A6.Ex235.1.m1.1.1.3.2.cmml\" xref=\"A6.Ex235.1.m1.1.1.3\"><csymbol cd=\"ambiguous\" id=\"A6.Ex235.1.m1.1.1.3.2.1.cmml\" xref=\"A6.Ex235.1.m1.1.1.3\">subscript</csymbol><ci id=\"A6.Ex235.1.m1.1.1.3.2.2.cmml\" xref=\"A6.Ex235.1.m1.1.1.3.2.2\">𝐾</ci><ci id=\"A6.Ex235.1.m1.1.1.3.2.3a.cmml\" xref=\"A6.Ex235.1.m1.1.1.3.2.3\"><mtext mathsize=\"70%\" id=\"A6.Ex235.1.m1.1.1.3.2.3.cmml\" xref=\"A6.Ex235.1.m1.1.1.3.2.3\">min</mtext></ci></apply><ci id=\"A6.Ex235.1.m1.1.1.3.3.cmml\" xref=\"A6.Ex235.1.m1.1.1.3.3\">𝑏</ci></apply></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"A6.Ex235.1.m1.1c\">K=K_{\\text{min}}^{b}</annotation></semantics></math>\n</td>\n</tr>\n<tr id=\"A6.Ex236\" class=\"ltx_tr\">\n<td id=\"A6.Ex236.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex236.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedAvgMean</span></td>\n<td id=\"A6.Ex236.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex236.2.1\" class=\"ltx_text\">Steps</span></td>\n<td id=\"A6.Ex236.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex236.3.1\" class=\"ltx_text\">W/</span></td>\n<td id=\"A6.Ex236.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><cite class=\"ltx_cite ltx_citemacro_citet\">Reddi et al. (<a href=\"#bib.bib48\" title=\"\" class=\"ltx_ref\">2020</a>)</cite></td>\n</tr>\n<tr id=\"A6.Ex237\" class=\"ltx_tr\">\n<td id=\"A6.Ex237.1\" class=\"ltx_td ltx_align_center ltx_border_r\">Algorithm 1 with <math id=\"A6.Ex237.1.m1.1\" class=\"ltx_Math\" alttext=\"K=K_{\\text{mean}}^{c}\" display=\"inline\"><semantics id=\"A6.Ex237.1.m1.1a\"><mrow id=\"A6.Ex237.1.m1.1.1\" xref=\"A6.Ex237.1.m1.1.1.cmml\"><mi id=\"A6.Ex237.1.m1.1.1.2\" xref=\"A6.Ex237.1.m1.1.1.2.cmml\">K</mi><mo id=\"A6.Ex237.1.m1.1.1.1\" xref=\"A6.Ex237.1.m1.1.1.1.cmml\">=</mo><msubsup id=\"A6.Ex237.1.m1.1.1.3\" xref=\"A6.Ex237.1.m1.1.1.3.cmml\"><mi id=\"A6.Ex237.1.m1.1.1.3.2.2\" xref=\"A6.Ex237.1.m1.1.1.3.2.2.cmml\">K</mi><mtext id=\"A6.Ex237.1.m1.1.1.3.2.3\" xref=\"A6.Ex237.1.m1.1.1.3.2.3a.cmml\">mean</mtext><mi id=\"A6.Ex237.1.m1.1.1.3.3\" xref=\"A6.Ex237.1.m1.1.1.3.3.cmml\">c</mi></msubsup></mrow><annotation-xml encoding=\"MathML-Content\" id=\"A6.Ex237.1.m1.1b\"><apply id=\"A6.Ex237.1.m1.1.1.cmml\" xref=\"A6.Ex237.1.m1.1.1\"><eq id=\"A6.Ex237.1.m1.1.1.1.cmml\" xref=\"A6.Ex237.1.m1.1.1.1\"></eq><ci id=\"A6.Ex237.1.m1.1.1.2.cmml\" xref=\"A6.Ex237.1.m1.1.1.2\">𝐾</ci><apply id=\"A6.Ex237.1.m1.1.1.3.cmml\" xref=\"A6.Ex237.1.m1.1.1.3\"><csymbol cd=\"ambiguous\" id=\"A6.Ex237.1.m1.1.1.3.1.cmml\" xref=\"A6.Ex237.1.m1.1.1.3\">superscript</csymbol><apply id=\"A6.Ex237.1.m1.1.1.3.2.cmml\" xref=\"A6.Ex237.1.m1.1.1.3\"><csymbol cd=\"ambiguous\" id=\"A6.Ex237.1.m1.1.1.3.2.1.cmml\" xref=\"A6.Ex237.1.m1.1.1.3\">subscript</csymbol><ci id=\"A6.Ex237.1.m1.1.1.3.2.2.cmml\" xref=\"A6.Ex237.1.m1.1.1.3.2.2\">𝐾</ci><ci id=\"A6.Ex237.1.m1.1.1.3.2.3a.cmml\" xref=\"A6.Ex237.1.m1.1.1.3.2.3\"><mtext mathsize=\"70%\" id=\"A6.Ex237.1.m1.1.1.3.2.3.cmml\" xref=\"A6.Ex237.1.m1.1.1.3.2.3\">mean</mtext></ci></apply><ci id=\"A6.Ex237.1.m1.1.1.3.3.cmml\" xref=\"A6.Ex237.1.m1.1.1.3.3\">𝑐</ci></apply></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"A6.Ex237.1.m1.1c\">K=K_{\\text{mean}}^{c}</annotation></semantics></math>\n</td>\n</tr>\n<tr id=\"A6.Ex238\" class=\"ltx_tr\">\n<td id=\"A6.Ex238.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\"><span id=\"A6.Ex238.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedNova</span></td>\n<td id=\"A6.Ex238.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">Epochs</td>\n<td id=\"A6.Ex238.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">W/</td>\n<td id=\"A6.Ex238.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\"><cite class=\"ltx_cite ltx_citemacro_citet\">Wang et al. (<a href=\"#bib.bib57\" title=\"\" class=\"ltx_ref\">2020</a>)</cite></td>\n</tr>\n<tr id=\"A6.Ex239\" class=\"ltx_tr\">\n<td id=\"A6.Ex239.1\" class=\"ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex239.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedNovaRR</span></td>\n<td id=\"A6.Ex239.2\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex239.2.1\" class=\"ltx_text\">Epochs</span></td>\n<td id=\"A6.Ex239.3\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" rowspan=\"2\"><span id=\"A6.Ex239.3.1\" class=\"ltx_text\">W/O</span></td>\n<td id=\"A6.Ex239.4\" class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\">Algorithm <a href=\"#alg4\" title=\"Algorithm 4 ‣ D.1 Discussion on Theoretical Assumptions ‣ Appendix D FedShuffleMVR: Convergence Analysis (Proof of Theorem 5.2) ‣ Appendix ‣ FedShuffle: Recipes for Better Use of Local Work in Federated Learning\" class=\"ltx_ref\"><span class=\"ltx_text ltx_ref_tag\">4</span></a>\n</td>\n</tr>\n<tr id=\"A6.Ex240\" class=\"ltx_tr\">\n<td id=\"A6.Ex240.1\" class=\"ltx_td ltx_align_center ltx_border_r\">with <span id=\"A6.Ex240.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedNova</span> aggregation</td>\n</tr>\n<tr id=\"A6.Ex241\" class=\"ltx_tr\">\n<td id=\"A6.Ex241.1\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t\"><span id=\"A6.Ex241.1.1\" class=\"ltx_text ltx_font_smallcaps\">FedShuffle</span></td>\n<td id=\"A6.Ex241.2\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">Epochs</td>\n<td id=\"A6.Ex241.3\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">W/O</td>\n<td id=\"A6.Ex241.4\" class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t\">Algorithm <a href=\"#alg1\" title=\"Algorithm 1 ‣ 3 Notation and Assumptions ‣ FedShuffle: Recipes for Better Use of Local Work in Federated Learning\" class=\"ltx_ref\"><span class=\"ltx_text ltx_ref_tag\">1</span></a>\n</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": "",
        "references": [
            [
                "a",
                " For real-world datasets, as it is commonly implemented in practice, all methods use without replacement sampling, i.e., random reshuffling.",
                " \n\n",
                "b",
                " ",
                "K",
                "=",
                "K",
                "min",
                "𝐾",
                "subscript",
                "𝐾",
                "min",
                "K=K_{\\text{min}}",
                " corresponds to the minimal number of steps across clients for ",
                "FedAvgRR",
                ".",
                "\n\n\n",
                "c",
                " ",
                "K",
                "=",
                "K",
                "mean",
                "𝐾",
                "subscript",
                "𝐾",
                "mean",
                "K=K_{\\text{mean}}",
                " corresponds to the average number of steps across clients for ",
                "FedAvgRR",
                ", i.e., ",
                "FedAvgMean",
                " and ",
                "FedAvgRR",
                " perform the same total computation.",
                "As mentioned in the previous section, we compare three algorithms – ",
                "FedAvg",
                ", ",
                "FedNova",
                ", and our ",
                "FedShuffle",
                ". For ",
                "FedAvg",
                ", we include an extra baseline that fixes objective inconsistency by running the same number of local steps per each client. To avoid extra computational burden on clients, i.e., to avoid stragglers, we select the number of local steps to be the minimal number of steps across clients. We refer to this baseline as ",
                "FedAvgMin",
                ". Another ",
                "FedAvg",
                "-type baseline that we compare to is ",
                "FedAvgMean",
                ". Similarly to ",
                "FedAvgMin",
                ", ",
                "FedAvgMean",
                " runs the same number of local steps per each device with a difference that the number of steps is selected such that the total computation performed by ",
                "FedAvgMean",
                " is equal to ",
                "FedAvg",
                " with local epochs. We include this theoretical baseline to see the effect of heterogeneity in local steps and whether it is beneficial to run full epochs. We consider three extensions: (i) random reshuffling for ",
                "FedAvg",
                ", and ",
                "FedNova",
                ", since these methods were not originally analysed using biased random reshuffling but rather with unbiased stochastic gradients obtained by sampling with replacement, (ii) global momentum.\nOur implementation of ",
                "FedAvg",
                " and ",
                "FedNova",
                " follows ",
                "(Reddi et al., ",
                "2020",
                ")",
                " and ",
                "(Wang et al., ",
                "2020",
                ")",
                ", respectively. In all of the experiments, the reported performance is average with one standard deviation over 3 runs with fixed seeds across methods for a fair comparison.",
                "Hyperparameters.",
                " The server learning rate for all methods is kept at its default value of ",
                "1",
                "1",
                "1",
                ". For all momentum methods, we pick momentum ",
                "0.9",
                "0.9",
                "0.9",
                ". The rest of the parameters for the simple quadratic objective are selected based on the theoretical values for all the methods. For the other experiments (Shakespeare and CIFAR100), the local learning rate is tuned by searching over a grid ",
                "{",
                "0.1",
                ",",
                "0.01",
                ",",
                "0.001",
                "}",
                "0.1",
                "0.01",
                "0.001",
                "\\{0.1,0.01,0.001\\}",
                " and we use a standard learning schedule, where the step size is decreased by ",
                "10",
                "10",
                "10",
                " at ",
                "50",
                "%",
                "percent",
                "50",
                "50\\%",
                " and ",
                "75",
                "%",
                "percent",
                "75",
                "75\\%",
                " of all communication rounds. We note that ",
                "FedShuffle",
                " uses different local step sizes for each client ",
                "η",
                "l",
                ",",
                "i",
                "r",
                "=",
                "η",
                "l",
                "r",
                "/",
                "|",
                "𝒟",
                "i",
                "|",
                "superscript",
                "subscript",
                "𝜂",
                "𝑙",
                "𝑖",
                "𝑟",
                "superscript",
                "subscript",
                "𝜂",
                "𝑙",
                "𝑟",
                "subscript",
                "𝒟",
                "𝑖",
                "\\eta_{l,i}^{r}=\\nicefrac{{\\eta_{l}^{r}}}{{|{\\cal D}_{i}|}}",
                ".\nFor a fair comparison, we take the local learning rate for ",
                "FedShuffle",
                " to be the local learning rate for the client with the largest number of local steps as this follows directly from the theory. The global momentum as defined in (",
                "13",
                ") and (",
                "14",
                ") is only used in this form for the toy experiment. For the real-word experiments, we ignore the last term and we approximate ",
                "∇",
                "f",
                "i",
                "​",
                "(",
                "x",
                "r",
                ")",
                "≈",
                "1",
                "E",
                "​",
                "|",
                "𝒟",
                "i",
                "|",
                "​",
                "η",
                "l",
                ",",
                "i",
                "r",
                "​",
                "Δ",
                "i",
                "r",
                "∇",
                "subscript",
                "𝑓",
                "𝑖",
                "superscript",
                "𝑥",
                "𝑟",
                "1",
                "𝐸",
                "subscript",
                "𝒟",
                "𝑖",
                "superscript",
                "subscript",
                "𝜂",
                "𝑙",
                "𝑖",
                "𝑟",
                "superscript",
                "subscript",
                "Δ",
                "𝑖",
                "𝑟",
                "\\nabla f_{i}(x^{r})\\approx\\frac{1}{E|{\\cal D}_{i}|\\eta_{l,i}^{r}}\\Delta_{i}^{r}",
                " to avoid extra communication and computation. Note that for both ",
                "FedNova",
                " and ",
                "FedShuffle",
                ", the estimator of ",
                "∇",
                "f",
                "​",
                "(",
                "x",
                "r",
                ")",
                "∇",
                "𝑓",
                "superscript",
                "𝑥",
                "𝑟",
                "\\nabla f(x^{r})",
                " is proportional to ",
                "Δ",
                "r",
                "superscript",
                "Δ",
                "𝑟",
                "\\Delta^{r}",
                " and, therefore, the server can directly update the global momentum using only this update. For ",
                "FedAvg",
                ", this is not the case and it is closely related to the objective inconsistency issue. Despite this fact, we provide ",
                "FedAvg",
                " with the proper momentum estimator that improves its performance as it reduces the objective inconsistency.\nLastly, for neural network experiments we allow each method to benefit from the weight decay ",
                "{",
                "0",
                ",",
                "1",
                "​",
                "e",
                "−",
                "4",
                "}",
                "0",
                "1",
                "𝑒",
                "4",
                "\\{0,1e-4\\}",
                " and the gradient clipping ",
                "{",
                "5",
                ",",
                "∞",
                "}",
                "5",
                "\\{5,\\infty\\}",
                ", i.e., we do a grid search over all the combinations of step sizes, weight decays and gradient clippings. For the toy experiment, the batch size is ",
                "1",
                "1",
                "1",
                " and for neural nets, we select batch size to be ",
                "32",
                "32",
                "32",
                ".",
                "Datasets and models.",
                " We run experiments on three datasets with three corresponding models. First, we consider a simple quadratic objective",
                "where ",
                "e",
                "i",
                "subscript",
                "𝑒",
                "𝑖",
                "e_{i}",
                " is the canonical basis vector with ",
                "1",
                "1",
                "1",
                " at ",
                "i",
                "𝑖",
                "i",
                "-th coordinate and ",
                "0",
                "0",
                " elsewhere. We partition data into 3 clients, where the first client owns the first data point, the second is assigned ",
                "e",
                "2",
                "subscript",
                "𝑒",
                "2",
                "e_{2}",
                " and ",
                "e",
                "3",
                "subscript",
                "𝑒",
                "3",
                "e_{3}",
                " and the rest belongs to the third client.",
                "For the second task, we evaluate a next character prediction model on the Shakespeare dataset ",
                "(Caldas et al., ",
                "2018a",
                ")",
                ". This dataset consists of 715 users (characters of Shakespeare plays), where each example corresponds to a contiguous set of lines spoken by the character in a given play. For the model, an input character is first transformed into an 8-dimensional vector using an embedding layer, and this is followed by an LSTM ",
                "(Hochreiter & Schmidhuber, ",
                "1997",
                ")",
                " with two hidden layers and 512-dimensional hidden state.",
                "Last, we consider an image classification task on the CIFAR100 dataset ",
                "(Krizhevsky et al., ",
                "2009",
                ")",
                " with a ResNet18 model ",
                "(He et al., ",
                "2016",
                ")",
                ", where we replace batch normalization layers with group normalization following  ",
                "(Hsieh et al., ",
                "2020",
                ")",
                ". The data is partitioned across 500 clients, where each client owns 100 data points using a hierarchical Latent Dirichlet Allocation (LDA) process ",
                "(Li & McCallum, ",
                "2006",
                ")",
                ". We use equivalent splits to those provided in TensorFlow Federated datasets ",
                "(TFF, ",
                "2021",
                ")",
                ".",
                "Our implementation is in PyTorch ",
                "(Paszke et al., ",
                "2019",
                ")",
                ".",
                "For the first experiment, we only consider performance on the train set (i.e., training loss), while for the real-world datasets we report performance on the corresponding validation datasets (validation accuracy).",
                "Baselines.",
                " For the experimental evaluation, we compare three methods — FedAvg, FedNova, and our FedShuffle—\nwith different extensions such as random reshuffling or momentum"
            ]
        ]
    }
}