<!DOCTYPE html><html prefix="dcterms: http://purl.org/dc/terms/" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2007.14390] 1 Introduction</title><meta property="og:description" content="Federated Learning (FL) has emerged as a promising technique for edge devices to collaboratively learn a shared prediction model, while keeping their training data on the device, thereby decoupling the ability to do ma…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1 Introduction">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="1 Introduction">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2007.14390">

<!--Generated on Wed Mar  6 07:56:51 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p">marginparsep has been altered.
<br class="ltx_break">topmargin has been altered.
<br class="ltx_break">marginparwidth has been altered.
<br class="ltx_break">marginparpush has been altered.
<br class="ltx_break"><span id="p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">The page layout violates the ICML style.</span>
Please do not change the page layout, or include packages like geometry,
savetrees, or fullpage, which change it for you.
We’re not able to reliably undo arbitrary changes to the style. Please remove
the offending package(s), or layout-changing commands and try again.</p>
</div>
<div id="p3" class="ltx_para ltx_align_center">
<p id="p3.1" class="ltx_p"><span class="ltx_rule" style="width:100%;height:2.0pt;background:black;display:inline-block;"> </span></p>
</div>
<div id="p4" class="ltx_para ltx_align_center">
<p id="p4.1" class="ltx_p"><span id="p4.1.1" class="ltx_text ltx_font_smallcaps">Flower: A Friendly Federated Learning Framework</span></p>
</div>
<div id="p5" class="ltx_para ltx_align_center">
<p id="p5.1" class="ltx_p"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></p>
</div>
<div id="p6" class="ltx_para">
<p id="p6.1" class="ltx_p ltx_align_center"><span id="p6.1.1" class="ltx_text ltx_font_bold">Anonymous Authors</span><sup id="p6.1.2" class="ltx_sup">1 </sup></p>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated Learning (FL) has emerged as a promising technique for edge devices to collaboratively learn a shared prediction model, while keeping their training data on the device, thereby decoupling the ability to do machine learning from the need to store the data in the cloud. However, FL is difficult to implement realistically, both in terms of scale and systems heterogeneity. Although there are a number of research frameworks available to simulate FL algorithms, they do not support the study of scalable FL workloads on heterogeneous edge devices.</p>
<p id="id2.id2" class="ltx_p">In this paper, we present Flower – a comprehensive FL framework that distinguishes itself from existing platforms by offering new facilities to execute large-scale FL experiments, and consider richly heterogeneous FL device scenarios. Our experiments show Flower can perform FL experiments up to <span id="id2.id2.1" class="ltx_text ltx_font_italic">15M in client size</span> using only a pair of high-end GPUs. Researchers can then seamlessly migrate experiments to real devices to examine other parts of the design space. We believe Flower provides the community a critical new tool for FL study and development.</p>
</div>
<span id="footnotex1" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">footnotetext: </span>
<sup id="footnotex1.1" class="ltx_sup">1</sup>Anonymous Institution, Anonymous City, Anonymous Region, Anonymous Country.
Correspondence to: Anonymous Author &lt;anon.email@domain.com&gt;.
 
<br class="ltx_break">Preliminary work . Do not distribute.</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">There has been tremendous progress in enabling the execution of deep learning models on mobile and embedded devices to infer user contexts and behaviors <cite class="ltx_cite ltx_citemacro_cite">Fromm et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018</a>); Chowdhery et al. (<a href="#bib.bib10" title="" class="ltx_ref">2019</a>); Malekzadeh et al. (<a href="#bib.bib28" title="" class="ltx_ref">2019</a>); Lee et al. (<a href="#bib.bib22" title="" class="ltx_ref">2019</a>); Yao et al. (<a href="#bib.bib44" title="" class="ltx_ref">2019</a>); LiKamWa et al. (<a href="#bib.bib26" title="" class="ltx_ref">2016</a>); Georgiev et al. (<a href="#bib.bib16" title="" class="ltx_ref">2017</a>)</cite>. This has been powered by the increasing computational abilities of mobile devices as well as novel algorithms which apply software optimizations to enable pre-trained cloud-scale models to run on resource-constrained devices. However, when it comes to the training of these mobile-focused models, a working assumption has been that the models will be trained centrally in the cloud, using training data aggregated from several users.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2007.14390/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="223" height="159" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Survey of the number of FL clients used in FL research papers in the last two years. Scatter plot of number of concurrent clients participated in each communication round (y-axis) and total number of clients in the client pool (x-axis). The x-axis is converted to log scale to reflect the data points more clearly. FedScale can achieve 100 concurrent clients participated in each round out of 10000 total clients (orange point), while Flower framework can achieve 1000 concurrent clients out of a total 1 million clients (green point). The plot shows that Flower can achieve both higher concurrent participated client and larger client pool compared with other experiments existing the the recent research papers. Appendix <a href="#A1.SS1" title="A.1 Survey on papers ‣ Appendix A Appendix" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a> gives details of the papers considered.</figcaption>
</figure>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite> is an emerging area of research in the machine learning community which aims to enable distributed edge devices (or users) to collaboratively <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">train</em> a shared prediction model while keeping their personal data private. At a high level, this is achieved by repeating three basic steps: i) local parameters update to a shared prediction model on each edge device, ii) sending the local parameter updates to a central server for aggregation, and iii) receiving the aggregated model back for the next round of local updates.</p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">From a systems perspective, a major bottleneck to FL research is the paucity of frameworks that support scalable execution of FL methods on mobile and edge devices. While several frameworks including Tensorflow Federated <cite class="ltx_cite ltx_citemacro_cite">Google (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>); Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016a</a>)</cite> (TFF) and LEAF <cite class="ltx_cite ltx_citemacro_cite">Caldas et al. (<a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite> enable experimentation on FL algorithms, they do not provide support for running FL on edge devices. System-related factors such as heterogeneity in the software stack, compute capabilities, and network bandwidth, affect model synchronization and local training. In combination with the choice of the client selection and parameter aggregation algorithms, they can impact the accuracy and training time of models trained in a federated setting. The systems’ complexity of FL and the lack of scalable open-source frameworks can lead to a disparity between FL research and production. While closed production-grade systems report client numbers in the thousands or even millions <cite class="ltx_cite ltx_citemacro_cite">Hard et al. (<a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite>, few research papers use populations of more than 100 clients, as can be seen in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Even those papers which use more than 100 clients rely on simulations (e.g., using nested loops) rather than actually implementing FL clients on real devices.</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">In this paper, we present <em id="S1.p4.1.1" class="ltx_emph ltx_font_italic">Flower</em><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://flower.dev" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://flower.dev</a></span></span></span>, a novel FL framework, that supports experimentation with both algorithmic and systems-related challenges in FL. Flower offers a stable, language and ML framework-agnostic implementation of the core components of a FL system, and provides higher-level abstractions to enable researchers to experiment and implement new ideas on top of a reliable stack. Moreover, Flower allows for rapid transition of existing ML training pipelines into a FL setup to evaluate their convergence properties and training time in a federated setting. Most importantly, Flower provides support for extending FL implementations to mobile and wireless clients, with heterogeneous compute, memory, and network resources.</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p">As system-level challenges of limited compute, memory, and network bandwidth in mobile devices are not a major bottleneck for powerful cloud servers, Flower provides built-in tools to simulate many of these challenging conditions in a cloud environment and allows for a realistic evaluation of FL algorithms. Finally, Flower is designed with scalability in mind and enables large-cohort research that leverages both a large number of connected clients and a large number of clients training concurrently. We believe that the capability to perform FL at scale will unlock new research opportunities as results obtained in small-scale experiments are not guaranteed to generalize well to large-scale problems. In summary, we make the following contributions:</p>
</div>
<div id="S1.p6" class="ltx_para ltx_noindent">
<ul id="S1.p6.1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.i1.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.i1.1.1.m1.1b"><mo id="S1.I1.i1.1.1.m1.1.1" xref="S1.I1.i1.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i1.1.1.m1.1c"><ci id="S1.I1.i1.1.1.m1.1.1.cmml" xref="S1.I1.i1.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i1.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We present Flower, a novel FL framework that supports large-cohort training and evaluation, both on real edge devices and on single-node or multi-node compute clusters. This unlocks scalable algorithmic research of real-world system conditions such as limited computational resources which are common for typical FL workloads.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.i2.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.i2.1.1.m1.1b"><mo id="S1.I1.i2.1.1.m1.1.1" xref="S1.I1.i2.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i2.1.1.m1.1c"><ci id="S1.I1.i2.1.1.m1.1.1.cmml" xref="S1.I1.i2.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i2.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We describe the design principles and implementation details of Flower. In addition to being language- and ML framework-agnostic by design, Flower is also fully extendable and can incorporate emerging algorithms, training strategies and communication protocols.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.i3.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.i3.1.1.m1.1b"><mo id="S1.I1.i3.1.1.m1.1.1" xref="S1.I1.i3.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i3.1.1.m1.1c"><ci id="S1.I1.i3.1.1.m1.1.1.cmml" xref="S1.I1.i3.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i3.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Using Flower , we present experiments that explore both algorithmic and system-level aspects of FL on five machine learning workloads with up to 15 million clients. Our results quantify the impact of various system bottlenecks such as client heterogeneity and fluctuating network speeds on FL performance.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.i4.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.i4.1.1.m1.1b"><mo id="S1.I1.i4.1.1.m1.1.1" xref="S1.I1.i4.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i4.1.1.m1.1c"><ci id="S1.I1.i4.1.1.m1.1.1.cmml" xref="S1.I1.i4.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i4.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p"><em id="S1.I1.i4.p1.1.1" class="ltx_emph ltx_font_italic">Flower is open-sourced under Apache 2.0 License</em>
and adopted by major research organizations in both academia and industry. The community is actively participating in the development and contributes novel baselines, functionality, and algorithms.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background and Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p">FL builds on a vast body of prior work and has since been expanded in different directions. McMahan et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite> introduced the basic federated averaging (FedAvg) algorithm and evaluated it in terms of communication efficiency. There is active work on privacy and robustness improvements for FL: A targeted model poisoning attack using Fashion-MNIST <cite class="ltx_cite ltx_citemacro_cite">Xiao et al. (<a href="#bib.bib42" title="" class="ltx_ref">2017</a>)</cite> (along with possible mitigation strategies) was demonstrated by Bhagoji et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib4" title="" class="ltx_ref">2018</a>)</cite>. Abadi et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib2" title="" class="ltx_ref">2016b</a>)</cite> propose an attempt to translate the idea of differential privacy to deep learning. Secure aggregation <cite class="ltx_cite ltx_citemacro_cite">Bonawitz et al. (<a href="#bib.bib5" title="" class="ltx_ref">2017</a>)</cite> is a way to hide model updates from “honest but curious” attackers. Robustness and fault-tolerance improvements at the optimizer level are commonly studied and demonstrated, e.g., by Zeno <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib43" title="" class="ltx_ref">2019</a>)</cite>. Finally, there is an increasing emphasis on the performance of federated optimization in heterogeneous data and system settings <cite class="ltx_cite ltx_citemacro_cite">Smith et al. (<a href="#bib.bib39" title="" class="ltx_ref">2017</a>); Li et al. (<a href="#bib.bib23" title="" class="ltx_ref">2018</a>; <a href="#bib.bib24" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p">The optimization of distributed training with and without federated concepts has been covered from many angles <cite class="ltx_cite ltx_citemacro_cite">Dean et al. (<a href="#bib.bib11" title="" class="ltx_ref">2012</a>); Jia et al. (<a href="#bib.bib19" title="" class="ltx_ref">2018</a>); Chahal et al. (<a href="#bib.bib9" title="" class="ltx_ref">2018</a>); Sergeev &amp; Balso (<a href="#bib.bib37" title="" class="ltx_ref">2018</a>); Dryden et al. (<a href="#bib.bib12" title="" class="ltx_ref">2016</a>)</cite>. Bonawitz et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib6" title="" class="ltx_ref">2019</a>)</cite> detail the system design of a large-scale Google-internal FL system. TFF <cite class="ltx_cite ltx_citemacro_cite">Google (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>, PySyft <cite class="ltx_cite ltx_citemacro_cite">Ryffel et al. (<a href="#bib.bib35" title="" class="ltx_ref">2018</a>)</cite>, and LEAF <cite class="ltx_cite ltx_citemacro_cite">Caldas et al. (<a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite> propose open source frameworks which are primarily used for simulations that run a small number of <span id="S2.p2.1.1" class="ltx_text ltx_font_italic">homogeneous</span> clients. Flower unifies both perspectives by being open source and suitable for exploratory research, with scalability to expand into settings involving a large number of <span id="S2.p2.1.2" class="ltx_text ltx_font_italic">heterogeneous</span> clients. Most of the mentioned approaches have in common that they implement their own systems to obtain the described results. The main intention of Flower is to provide a framework which would (a) allow to perform similar research using a common framework and (b) enable to run those experiments on a large number of <span id="S2.p2.1.3" class="ltx_text ltx_font_italic">heterogeneous</span> devices.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Flower Overview</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p">Flower is a novel end-to-end federated learning framework that enables a more seamless transition from experimental research in simulation to system research on a large cohort of real edge devices. Flower offers individual strength in both areas (viz. simulation and real world devices); and offers the ability for experimental implementations to migrate between the two extremes as needed during exploration and development. In this section, we describe use cases that motivate our perspective, design goals, resulting framework architecture, and comparison to other frameworks.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Use Cases</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.1" class="ltx_p">The identified gap between FL research practice and industry reports from proprietary large-scale systems (Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) is, at least in part, related a number of use cases that are not well-supported by the current FL ecosystem. The following sections show how Flower enables those use cases.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.1" class="ltx_p"><span id="S3.SS1.p2.1.1" class="ltx_text ltx_font_bold">Scale experiments to large cohorts.</span> Experiments need to scale to both a large client pool size and a large number of clients training concurrently to better understand how well methods generalize. A researcher needs to be able launch large-scale FL evaluations of their algorithms and design using reasonable levels of compute (e.g., single-machine/a multi-GPU rack), and have results at this scale have acceptable speed (wall-clock execution time).</p>
</div>
<div id="S3.SS1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS1.p3.1" class="ltx_p"><span id="S3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Experiment on heterogeneous devices.</span> Heterogeneous client environments are the norm for FL. Researchers need ways to both simulate heterogeneity and to execute FL on real edge devices to quantify the effects of system heterogeneity. Measurements about the performance of client performance should be able to be easily collected, and deploying heterogeneous experiments is painless.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para ltx_noindent">
<p id="S3.SS1.p4.1" class="ltx_p"><span id="S3.SS1.p4.1.1" class="ltx_text ltx_font_bold">Transition from simulation to real devices.</span> New methods are often conceived in simulated environments. To understand their applicability to real-world scenarios, frameworks need to support seamless transition between simulation and on-device execution. Shifting from simulation to real devices, mixing simulated and real devices, and selecting certain elements to have varying levels of realism (e.g., compute or network) should be easy.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para ltx_noindent">
<p id="S3.SS1.p5.1" class="ltx_p"><span id="S3.SS1.p5.1.1" class="ltx_text ltx_font_bold">Multi-framework workloads.</span> Diverse client environments naturally motivate the usage of different ML frameworks, so FL frameworks should be able to integrate updates coming from clients using varying ML frameworks in the same workload. Examples range from situations where clients use two different training frameworks (pytorch and tensorflow) to more complex situations where clients have their own device- and OS-specific training algorithm.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Excerpt of built-in FL algorithms available in Flower. New algorithms can be implemented using the <em id="S3.T1.2.1" class="ltx_emph ltx_font_italic">Strategy</em> interface.</figcaption>
<table id="S3.T1.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.3.1.1" class="ltx_tr">
<th id="S3.T1.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S3.T1.3.1.1.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S3.T1.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S3.T1.3.1.1.2.1" class="ltx_text ltx_font_bold">Description</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.3.2.1" class="ltx_tr">
<th id="S3.T1.3.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">FedAvg</th>
<td id="S3.T1.3.2.1.2" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">
<table id="S3.T1.3.2.1.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.2.1.2.1.1" class="ltx_tr">
<td id="S3.T1.3.2.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Vanilla Federated Averaging  <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite>
</td>
</tr>
</table>
</td>
</tr>
<tr id="S3.T1.3.3.2" class="ltx_tr">
<th id="S3.T1.3.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">
<table id="S3.T1.3.3.2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.3.2.1.1.1" class="ltx_tr">
<td id="S3.T1.3.3.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Fault</td>
</tr>
<tr id="S3.T1.3.3.2.1.1.2" class="ltx_tr">
<td id="S3.T1.3.3.2.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Tolerant</td>
</tr>
<tr id="S3.T1.3.3.2.1.1.3" class="ltx_tr">
<td id="S3.T1.3.3.2.1.1.3.1" class="ltx_td ltx_nopad_r ltx_align_center">FedAvg</td>
</tr>
</table>
</th>
<td id="S3.T1.3.3.2.2" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">
<table id="S3.T1.3.3.2.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.3.2.2.1.1" class="ltx_tr">
<td id="S3.T1.3.3.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">A variant of FedAvg that can tolerate faulty client</td>
</tr>
<tr id="S3.T1.3.3.2.2.1.2" class="ltx_tr">
<td id="S3.T1.3.3.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">conditions such as client disconnections or laggards.</td>
</tr>
</table>
</td>
</tr>
<tr id="S3.T1.3.4.3" class="ltx_tr">
<th id="S3.T1.3.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">FedProx</th>
<td id="S3.T1.3.4.3.2" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">
<table id="S3.T1.3.4.3.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.4.3.2.1.1" class="ltx_tr">
<td id="S3.T1.3.4.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Implementation of the algorithm proposed by</td>
</tr>
<tr id="S3.T1.3.4.3.2.1.2" class="ltx_tr">
<td id="S3.T1.3.4.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">Li et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib25" title="" class="ltx_ref">2020</a>)</cite> to extend FL to heterogenous</td>
</tr>
<tr id="S3.T1.3.4.3.2.1.3" class="ltx_tr">
<td id="S3.T1.3.4.3.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">network conditions.</td>
</tr>
</table>
</td>
</tr>
<tr id="S3.T1.3.5.4" class="ltx_tr">
<th id="S3.T1.3.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">QFedAvg</th>
<td id="S3.T1.3.5.4.2" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">
<table id="S3.T1.3.5.4.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.5.4.2.1.1" class="ltx_tr">
<td id="S3.T1.3.5.4.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Implementation of the algorithm proposed by</td>
</tr>
<tr id="S3.T1.3.5.4.2.1.2" class="ltx_tr">
<td id="S3.T1.3.5.4.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">Li et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib24" title="" class="ltx_ref">2019</a>)</cite> to encourage fairness in FL.</td>
</tr>
</table>
</td>
</tr>
<tr id="S3.T1.3.6.5" class="ltx_tr">
<th id="S3.T1.3.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t">FedOptim</th>
<td id="S3.T1.3.6.5.2" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_t">
<table id="S3.T1.3.6.5.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.6.5.2.1.1" class="ltx_tr">
<td id="S3.T1.3.6.5.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">A family of server-side optimizations that</td>
</tr>
<tr id="S3.T1.3.6.5.2.1.2" class="ltx_tr">
<td id="S3.T1.3.6.5.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">include FedAdagrad, FedYogi, and FedAdam</td>
</tr>
<tr id="S3.T1.3.6.5.2.1.3" class="ltx_tr">
<td id="S3.T1.3.6.5.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">as described in
Reddi et al. <cite class="ltx_cite ltx_citemacro_citeyearpar">(<a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite>.</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Design Goals</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">The given uses cases identify a gap in the existing FL ecosystem that results in research that does not necessarily reflect real-world FL scenarios. To adress the ecosystem gap, we defined a set of independent design goals for Flower:</p>
</div>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_bold">Scalable:</span> Given that real-world FL would encounter a large number of clients, Flower should scale to a large number of concurrent clients to foster research on a realistic scale.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para ltx_noindent">
<p id="S3.SS2.p3.1" class="ltx_p"><span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_bold">Client-agnostic:</span> Given the heterogeneous environment on mobile clients, Flower should be interoperable with different programming languages, operating systems, and hardware.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para ltx_noindent">
<p id="S3.SS2.p4.1" class="ltx_p"><span id="S3.SS2.p4.1.1" class="ltx_text ltx_font_bold">Communication-agnostic:</span> Given the heterogeneous connectivity settings, Flower should allow different serialization and communication approaches.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para ltx_noindent">
<p id="S3.SS2.p5.1" class="ltx_p"><span id="S3.SS2.p5.1.1" class="ltx_text ltx_font_bold">Privacy-agnostic:</span> Different FL settings (cross-devic, cross-silo) have different privacy requirements (secure aggregation, differential privacy). Flower should support common approaches whilst not be prescriptive about their usage.</p>
</div>
<div id="S3.SS2.p6" class="ltx_para ltx_noindent">
<p id="S3.SS2.p6.1" class="ltx_p"><span id="S3.SS2.p6.1.1" class="ltx_text ltx_font_bold">Flexible:</span> Given the rate of change in FL and the velocity of the general ML ecosystem, Flower should be flexible to enable both experimental research and adoption of recently proposed approaches with low engineering overhead.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para ltx_noindent">
<p id="S3.SS2.p7.1" class="ltx_p">A framework architecture with those properties will increase both realism and scale in FL research and provide a smooth transition from research in simulation to large-cohort research on real edge devices. The next section describes how the Flower framework architecture supports those goals.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Core Framework Architecture</h3>

<div id="S3.SS3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.p1.1" class="ltx_p">FL can be described as an interplay between global and local computations. Global computations are executed on the server side and responsible for orchestrating the learning process over a set of available clients. Local computations are executed on individual clients and have access to actual data used for training or evaluation of model parameters.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para ltx_noindent">
<p id="S3.SS3.p2.1" class="ltx_p">The architecture of the Flower core framework reflects that perspective and enables researchers to experiment with building blocks, both on the global and on the local level. Global logic for client selection, configuration, parameter update aggregation, and federated or centralized model evaluation can be expressed through the <em id="S3.SS3.p2.1.1" class="ltx_emph ltx_font_italic">Strategy</em> abstraction. An implementation of the <em id="S3.SS3.p2.1.2" class="ltx_emph ltx_font_italic">Strategy</em> abstraction represents a single FL algorithm and Flower provides tested reference implementations of popular FL algorithms such as FedAvg <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite> or FedYogi <cite class="ltx_cite ltx_citemacro_cite">Reddi et al. (<a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite> (summarized in table <a href="#S3.T1" title="Table 1 ‣ 3.1 Use Cases ‣ 3 Flower Overview" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). Local logic on the other hand is mainly concerned with model training and evaluation on local data partitions. Flower acknowledges the breadth and diversity of existing ML pipelines and offers ML framework-agnostic ways to federate these, either on the <em id="S3.SS3.p2.1.3" class="ltx_emph ltx_font_italic">Flower Protocol</em> level or using the high-level <em id="S3.SS3.p2.1.4" class="ltx_emph ltx_font_italic">Client</em> abstraction. Figure <a href="#S3.F2" title="Figure 2 ‣ 3.3 Core Framework Architecture ‣ 3 Flower Overview" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates those components.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2007.14390/assets/diagrams/flower-core-framework-architecture-2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="269" height="301" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Flower core framework architecture with both Edge Client Engine and Virtual Client Engine. Edge clients live on real edge devices and communicate with the server over RPC. Virtual clients on the other hand consume close to zero resources when inactive and only load model and data into memory when the client is being selected for training or evaluation.</figcaption>
</figure>
<div id="S3.SS3.p3" class="ltx_para ltx_noindent">
<p id="S3.SS3.p3.1" class="ltx_p">The Flower core framework implements the necessary infrastructure to run these workloads at scale. On the server side, there are three major components involved: the <em id="S3.SS3.p3.1.1" class="ltx_emph ltx_font_italic">ClientManager</em>, the FL loop, and a (user customizable) <em id="S3.SS3.p3.1.2" class="ltx_emph ltx_font_italic">Strategy</em>. Server components sample clients from the <em id="S3.SS3.p3.1.3" class="ltx_emph ltx_font_italic">ClientManager</em>, which manages a set of <em id="S3.SS3.p3.1.4" class="ltx_emph ltx_font_italic">ClientProxy</em> objects, each representing a single client connected to the server. They are responsible for sending and receiving <em id="S3.SS3.p3.1.5" class="ltx_emph ltx_font_italic">Flower Protocol</em> messages to and from the actual client. The FL loop is at the heart of the FL process: it orchestrates the entire learning process. It does not, however, make decisions about <em id="S3.SS3.p3.1.6" class="ltx_emph ltx_font_italic">how</em> to proceed, as those decisions are delegated to the currently configured <em id="S3.SS3.p3.1.7" class="ltx_emph ltx_font_italic">Strategy</em> implementation.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para ltx_noindent">
<p id="S3.SS3.p4.1" class="ltx_p">In summary, the FL loop asks the <em id="S3.SS3.p4.1.1" class="ltx_emph ltx_font_italic">Strategy</em> to configure the next round of FL, sends those configurations to the affected clients, receives the resulting client updates (or failures) from the clients, and delegates result aggregation to the <em id="S3.SS3.p4.1.2" class="ltx_emph ltx_font_italic">Strategy</em>. It takes the same approach for both federated training and federated evaluation, with the added capability of server-side evaluation (again, via the <em id="S3.SS3.p4.1.3" class="ltx_emph ltx_font_italic">Strategy</em>). The client side is simpler in the sense that it only waits for messages from the server. It then reacts to the messages received by calling user-provided training and evaluation functions.</p>
</div>
<div id="S3.SS3.p5" class="ltx_para ltx_noindent">
<p id="S3.SS3.p5.1" class="ltx_p">A distinctive property of this architecture is that the server is unaware of the nature of connected clients, which allows to train models across heterogeneous client platforms and implementations, including workloads comprised of clients connected through different communication stacks. The framework manages underlying complexities such as connection handling, client life cycle, timeouts, and error handling in an for the researcher.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Virtual Client Engine</h3>

<div id="S3.SS4.p1" class="ltx_para ltx_noindent">
<p id="S3.SS4.p1.1" class="ltx_p">Built into Flower is the Virtual Client Engine (VCE): a tool that enables the virtualization of Flower Clients to maximise utilization of the available hardware. Given a pool of clients, their respective compute and memory budgets (e.g. number of CPUs, VRAM requirements) and, the FL-specific hyperparameters (e.g. number of clients per round), the VCE launches Flower Clients in a resource-aware manner. The VCE will schedule, instantiate and run the Flower Clients in a transparent way to the user and the Flower Server. This property greatly simplifies parallelization of jobs, ensuring the available hardware is not underutilised and, enables porting the same FL experiment to a wide varying of setups without reconfiguration: a desktop machine, a single GPU rack or multi-node GPU cluster. The VCE therefore becomes a key module inside the Flower framework enabling running large scale FL workloads with minimal overhead in a scalable manner.</p>
</div>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Edge Client Engine</h3>

<div id="S3.SS5.p1" class="ltx_para ltx_noindent">
<p id="S3.SS5.p1.1" class="ltx_p">Flower is designed to be open source, extendable and, framework and device agnostic. Some devices suitable for lightweight FL workloads such as Raspberry Pi or NVIDIA Jetson require minimal or no special configuration. These Python-enabled embedded devices can readily be used as Flower Clients. On the other hand, commodity devices such as smartphones require a more strict, limited and sometimes proprietary software stack to run ML workloads. To circumvent this limitation, Flower provides a low-level integration by directly handling <em id="S3.SS5.p1.1.1" class="ltx_emph ltx_font_italic">Flower Protocol</em> messages on the client.</p>
</div>
</section>
<section id="S3.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6 </span>Secure Aggregation</h3>

<div id="S3.SS6.p1" class="ltx_para ltx_noindent">
<p id="S3.SS6.p1.1" class="ltx_p">In FL the server does not have direct access to a client’s data. To further protect clients’ local data, Flower provides implementation of both SecAgg <cite class="ltx_cite ltx_citemacro_cite">Bonawitz et al. (<a href="#bib.bib5" title="" class="ltx_ref">2017</a>)</cite> and SecAgg<math id="S3.SS6.p1.1.m1.1" class="ltx_Math" alttext="+" display="inline"><semantics id="S3.SS6.p1.1.m1.1a"><mo id="S3.SS6.p1.1.m1.1.1" xref="S3.SS6.p1.1.m1.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S3.SS6.p1.1.m1.1b"><plus id="S3.SS6.p1.1.m1.1.1.cmml" xref="S3.SS6.p1.1.m1.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p1.1.m1.1c">+</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">Bell et al. (<a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> protocols for a semi-honest threat model. The Flower secure aggregation implementation satisfies five goals: usability, flexibility, compatibility, reliability and efficiency. The execution of secure aggregation protocols is independent of any special hardware and ML framework, robust against client dropouts, and has lower theoretical overhead for both communication and computation than other traditional multi-party computation secure aggregation protocol, which will be shown in <a href="#S5.SS5" title="5.5 Secure Aggregation Overheads ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.5</span></a>.</p>
</div>
</section>
<section id="S3.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.7 </span>FL Framework Comparison</h3>

<div id="S3.SS7.p1" class="ltx_para ltx_noindent">
<p id="S3.SS7.p1.1" class="ltx_p">We compare Flower to other FL toolkits, namely TFF <cite class="ltx_cite ltx_citemacro_cite">Google (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>, Syft <cite class="ltx_cite ltx_citemacro_cite">Ryffel et al. (<a href="#bib.bib35" title="" class="ltx_ref">2018</a>)</cite>, FedScale <cite class="ltx_cite ltx_citemacro_cite">Lai et al. (<a href="#bib.bib21" title="" class="ltx_ref">2021</a>)</cite> and LEAF <cite class="ltx_cite ltx_citemacro_cite">Caldas et al. (<a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite>. Table <a href="#S3.T2" title="Table 2 ‣ 3.7 FL Framework Comparison ‣ 3 Flower Overview" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> provides an overview, with a more detailed description of those properties following thereafter.</p>
</div>
<figure id="S3.T2" class="ltx_table">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Comparison of different FL frameworks.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S3.T2.16" class="ltx_inline-block ltx_figure_panel ltx_align_center ltx_transformed_outer" style="width:266.9pt;height:176pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-14.8pt,9.8pt) scale(0.9,0.9) ;">
<table id="S3.T2.16.16" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T2.16.16.17.1" class="ltx_tr">
<th id="S3.T2.16.16.17.1.1" class="ltx_td ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"></th>
<th id="S3.T2.16.16.17.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S3.T2.16.16.17.1.2.1" class="ltx_text ltx_font_bold">TFF</span></th>
<th id="S3.T2.16.16.17.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S3.T2.16.16.17.1.3.1" class="ltx_text ltx_font_bold">Syft</span></th>
<th id="S3.T2.16.16.17.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S3.T2.16.16.17.1.4.1" class="ltx_text ltx_font_bold">FedScale</span></th>
<th id="S3.T2.16.16.17.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S3.T2.16.16.17.1.5.1" class="ltx_text ltx_font_bold">LEAF</span></th>
<th id="S3.T2.16.16.17.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S3.T2.16.16.17.1.6.1" class="ltx_text ltx_font_bold">Flower</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T2.5.5.5" class="ltx_tr">
<td id="S3.T2.5.5.5.6" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Single-node simulation</td>
<td id="S3.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.1.1.1.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.1.1.1.1.m1.1a"><mo id="S3.T2.1.1.1.1.m1.1.1" xref="S3.T2.1.1.1.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.T2.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.2.2.2.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.2.2.2.2.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.2.2.2.2.m1.1a"><mo id="S3.T2.2.2.2.2.m1.1.1" xref="S3.T2.2.2.2.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S3.T2.2.2.2.2.m1.1.1.cmml" xref="S3.T2.2.2.2.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.2.2.2.2.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.3.3.3.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.3.3.3.3.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.3.3.3.3.m1.1a"><mo id="S3.T2.3.3.3.3.m1.1.1" xref="S3.T2.3.3.3.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.3.3.3.3.m1.1b"><csymbol cd="latexml" id="S3.T2.3.3.3.3.m1.1.1.cmml" xref="S3.T2.3.3.3.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.3.3.3.3.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.4.4.4.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.4.4.4.4.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.4.4.4.4.m1.1a"><mo id="S3.T2.4.4.4.4.m1.1.1" xref="S3.T2.4.4.4.4.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.4.4.4.4.m1.1b"><csymbol cd="latexml" id="S3.T2.4.4.4.4.m1.1.1.cmml" xref="S3.T2.4.4.4.4.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.4.4.4.4.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.5.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.5.5.5.5.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.5.5.5.5.m1.1a"><mo id="S3.T2.5.5.5.5.m1.1.1" xref="S3.T2.5.5.5.5.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.5.5.5.5.m1.1b"><csymbol cd="latexml" id="S3.T2.5.5.5.5.m1.1.1.cmml" xref="S3.T2.5.5.5.5.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.5.5.5.5.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.8.8.8" class="ltx_tr">
<td id="S3.T2.8.8.8.4" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Multi-node execution</td>
<td id="S3.T2.8.8.8.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">*</td>
<td id="S3.T2.6.6.6.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.6.6.6.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.6.6.6.1.m1.1a"><mo id="S3.T2.6.6.6.1.m1.1.1" xref="S3.T2.6.6.6.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.6.6.6.1.m1.1b"><csymbol cd="latexml" id="S3.T2.6.6.6.1.m1.1.1.cmml" xref="S3.T2.6.6.6.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.6.6.6.1.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.7.7.7.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">(<math id="S3.T2.7.7.7.2.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.7.7.7.2.m1.1a"><mo id="S3.T2.7.7.7.2.m1.1.1" xref="S3.T2.7.7.7.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.7.7.7.2.m1.1b"><csymbol cd="latexml" id="S3.T2.7.7.7.2.m1.1.1.cmml" xref="S3.T2.7.7.7.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.7.7.7.2.m1.1c">\surd</annotation></semantics></math>)***</td>
<td id="S3.T2.8.8.8.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.8.8.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.8.8.8.3.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.8.8.8.3.m1.1a"><mo id="S3.T2.8.8.8.3.m1.1.1" xref="S3.T2.8.8.8.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.8.8.8.3.m1.1b"><csymbol cd="latexml" id="S3.T2.8.8.8.3.m1.1.1.cmml" xref="S3.T2.8.8.8.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.8.8.8.3.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.9.9.9" class="ltx_tr">
<td id="S3.T2.9.9.9.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Scalability</td>
<td id="S3.T2.9.9.9.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">*</td>
<td id="S3.T2.9.9.9.4" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.9.9.9.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">**</td>
<td id="S3.T2.9.9.9.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.9.9.9.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.9.9.9.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.9.9.9.1.m1.1a"><mo id="S3.T2.9.9.9.1.m1.1.1" xref="S3.T2.9.9.9.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.9.9.9.1.m1.1b"><csymbol cd="latexml" id="S3.T2.9.9.9.1.m1.1.1.cmml" xref="S3.T2.9.9.9.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.9.9.9.1.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.11.11.11" class="ltx_tr">
<td id="S3.T2.11.11.11.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Heterogeneous clients</td>
<td id="S3.T2.11.11.11.4" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.10.10.10.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">(<math id="S3.T2.10.10.10.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.10.10.10.1.m1.1a"><mo id="S3.T2.10.10.10.1.m1.1.1" xref="S3.T2.10.10.10.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.10.10.10.1.m1.1b"><csymbol cd="latexml" id="S3.T2.10.10.10.1.m1.1.1.cmml" xref="S3.T2.10.10.10.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.10.10.10.1.m1.1c">\surd</annotation></semantics></math>)***</td>
<td id="S3.T2.11.11.11.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">**</td>
<td id="S3.T2.11.11.11.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.11.11.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.11.11.11.2.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.11.11.11.2.m1.1a"><mo id="S3.T2.11.11.11.2.m1.1.1" xref="S3.T2.11.11.11.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.11.11.11.2.m1.1b"><csymbol cd="latexml" id="S3.T2.11.11.11.2.m1.1.1.cmml" xref="S3.T2.11.11.11.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.11.11.11.2.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.12.12.12" class="ltx_tr">
<td id="S3.T2.12.12.12.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">ML framework-agnostic</td>
<td id="S3.T2.12.12.12.3" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.12.12.12.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">****</td>
<td id="S3.T2.12.12.12.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">****</td>
<td id="S3.T2.12.12.12.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.12.12.12.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.12.12.12.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.12.12.12.1.m1.1a"><mo id="S3.T2.12.12.12.1.m1.1.1" xref="S3.T2.12.12.12.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.12.12.12.1.m1.1b"><csymbol cd="latexml" id="S3.T2.12.12.12.1.m1.1.1.cmml" xref="S3.T2.12.12.12.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.12.12.12.1.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.13.13.13" class="ltx_tr">
<td id="S3.T2.13.13.13.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Communication-agnostic</td>
<td id="S3.T2.13.13.13.3" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.13.13.13.4" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.13.13.13.5" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.13.13.13.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.13.13.13.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.13.13.13.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.13.13.13.1.m1.1a"><mo id="S3.T2.13.13.13.1.m1.1.1" xref="S3.T2.13.13.13.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.13.13.13.1.m1.1b"><csymbol cd="latexml" id="S3.T2.13.13.13.1.m1.1.1.cmml" xref="S3.T2.13.13.13.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.13.13.13.1.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.14.14.14" class="ltx_tr">
<td id="S3.T2.14.14.14.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Language-agnostic</td>
<td id="S3.T2.14.14.14.3" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.14.14.14.4" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.14.14.14.5" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.14.14.14.6" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.14.14.14.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.14.14.14.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.14.14.14.1.m1.1a"><mo id="S3.T2.14.14.14.1.m1.1.1" xref="S3.T2.14.14.14.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.14.14.14.1.m1.1b"><csymbol cd="latexml" id="S3.T2.14.14.14.1.m1.1.1.cmml" xref="S3.T2.14.14.14.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.14.14.14.1.m1.1c">\surd</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.16.16.16" class="ltx_tr">
<td id="S3.T2.16.16.16.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_l ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Baselines</td>
<td id="S3.T2.16.16.16.4" class="ltx_td ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.16.16.16.5" class="ltx_td ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="S3.T2.15.15.15.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.15.15.15.1.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.15.15.15.1.m1.1a"><mo id="S3.T2.15.15.15.1.m1.1.1" xref="S3.T2.15.15.15.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.15.15.15.1.m1.1b"><csymbol cd="latexml" id="S3.T2.15.15.15.1.m1.1.1.cmml" xref="S3.T2.15.15.15.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.15.15.15.1.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.16.16.16.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><math id="S3.T2.16.16.16.2.m1.1" class="ltx_Math" alttext="\surd" display="inline"><semantics id="S3.T2.16.16.16.2.m1.1a"><mo id="S3.T2.16.16.16.2.m1.1.1" xref="S3.T2.16.16.16.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S3.T2.16.16.16.2.m1.1b"><csymbol cd="latexml" id="S3.T2.16.16.16.2.m1.1.1.cmml" xref="S3.T2.16.16.16.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.16.16.16.2.m1.1c">\surd</annotation></semantics></math></td>
<td id="S3.T2.16.16.16.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">*</td>
</tr>
</tbody>
</table>
</span></div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.T2.17" class="ltx_p ltx_figure_panel ltx_align_center">Labels: <span id="S3.T2.17.1" class="ltx_text ltx_font_bold">*</span> Planned / <span id="S3.T2.17.2" class="ltx_text ltx_font_bold">**</span> Only simulated 
<br class="ltx_break"><span id="S3.T2.17.3" class="ltx_text ltx_font_bold">***</span> Only Python-based / <span id="S3.T2.17.4" class="ltx_text ltx_font_bold">****</span> Only PyTorch and/or TF/Keras</p>
</div>
</div>
</figure>
<div id="S3.SS7.p2" class="ltx_para ltx_noindent">
<p id="S3.SS7.p2.1" class="ltx_p"><span id="S3.SS7.p2.1.1" class="ltx_text ltx_font_bold">Single-node simulation</span> enables simulation of FL systems on a single machine to investigate workload performance without the need for a multi-machine system. Supported by all frameworks.</p>
</div>
<div id="S3.SS7.p3" class="ltx_para ltx_noindent">
<p id="S3.SS7.p3.1" class="ltx_p"><span id="S3.SS7.p3.1.1" class="ltx_text ltx_font_bold">Multi-node execution</span> requires network communication between server and clients on different machines. Multi-machine execution is currently supported by Syft and Flower. FedScale supports multi-machine simulation (but not real deployment), TFF plans multi-machine deployments.</p>
</div>
<div id="S3.SS7.p4" class="ltx_para ltx_noindent">
<p id="S3.SS7.p4.1" class="ltx_p"><span id="S3.SS7.p4.1.1" class="ltx_text ltx_font_bold">Scalability</span> is important to derive experimental results that generalize to large cohorts. Single-machine simulation is limited because workloads including a large number of clients often exhibit vastly different properties. TFF and LEAF are, at the time of writing, constrained to single-machine simulations. FedScale can simulate clients on multiple machines, but only scales to  100 concurrent clients. Syft is able to communicate over the network, but only by connecting to data holding clients that act as servers themselves, which limits scalability. In Flower, data-holding clients connect to the server which allows workloads to scale to millions of clients, including scenarios that require full control over when connections are being opened and closed. Flower also includes a virtual client engine for large-scale multi-node simulations.</p>
</div>
<div id="S3.SS7.p5" class="ltx_para ltx_noindent">
<p id="S3.SS7.p5.1" class="ltx_p"><span id="S3.SS7.p5.1.1" class="ltx_text ltx_font_bold">Heterogeneous clients</span> refers to the ability to run workloads comprised of clients running on different platforms using different languages, all in the same workload. FL targeting edge devices will clearly have to assume pools of clients of many different types (e.g., phone, tablet, embedded). Flower supports such heterogeneous client pools through its language-agnostic and <em id="S3.SS7.p5.1.2" class="ltx_emph ltx_font_italic">communication-agnostic</em> client-side integration points. It is the only framework in our comparison that does so, with TFF and Syft expecting a framework-provided client runtime, whereas FedScale and LEAF focus on Python-based simulations.</p>
</div>
<div id="S3.SS7.p6" class="ltx_para ltx_noindent">
<p id="S3.SS7.p6.1" class="ltx_p"><span id="S3.SS7.p6.1.1" class="ltx_text ltx_font_bold">ML framework-agnostic</span> toolkits allow researchers and users to leverage their previous investments in existing ML frameworks by providing universal integration points. This is a unique property of Flower: the ML framework landscape is evolving quickly (e.g., JAX <cite class="ltx_cite ltx_citemacro_cite">Bradbury et al. (<a href="#bib.bib7" title="" class="ltx_ref">2018</a>)</cite>, PyTorch Lightning <cite class="ltx_cite ltx_citemacro_cite">W. Falcon (<a href="#bib.bib41" title="" class="ltx_ref">2019</a>)</cite>) and therefore the user should choose which framework to use for their local training pipelines. TFF is tightly coupled with TensorFlow and experimentally supports JAX, LEAF also has a dependency on TensorFlow, and Syft provides hooks for PyTorch and Keras, but does not integrate with arbitrary tools.</p>
</div>
<div id="S3.SS7.p7" class="ltx_para ltx_noindent">
<p id="S3.SS7.p7.1" class="ltx_p"><span id="S3.SS7.p7.1.1" class="ltx_text ltx_font_bold">Language-agnostic</span> describes the capability to implement clients in a variety of languages, a property especially important for research on mobile and emerging embedded platforms. These platforms often do not support Python, but rely on specific languages (Java on Android, Swift on iOS) for idiomatic development, or native C++ for resource constrained embedded devices. Flower achieves a fully language-agnostic interface by offering protocol-level integration. Other frameworks are based on Python, with some of them indicating a plan to support Android and iOS (but not embedded platforms) in the future.</p>
</div>
<div id="S3.SS7.p8" class="ltx_para ltx_noindent">
<p id="S3.SS7.p8.1" class="ltx_p"><span id="S3.SS7.p8.1.1" class="ltx_text ltx_font_bold">Baselines</span> allow the comparison of existing methods with new FL algorithms. Having existing implementations at ones disposal can greatly accelerate research progress. LEAF and FedScale come with a number of benchmarks built-in with different datasets. TFF provides libraries for constructing baselines with some datasets. Flower currently implements a number of FL methods in the context of popular ML benchmarks, e.g., a federated training of CIFAR-10 <cite class="ltx_cite ltx_citemacro_cite">Krizhevsky et al. (<a href="#bib.bib20" title="" class="ltx_ref">2005</a>)</cite> image classification, and has initial port of LEAF datasets such as FEMNIST and Shakespeare <cite class="ltx_cite ltx_citemacro_cite">Caldas et al. (<a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Implementation</h2>

<div id="S4.p1" class="ltx_para ltx_noindent">
<p id="S4.p1.1" class="ltx_p">Flower has an extensive implementation of FL averaging algorithms, a robust communication stack, and various examples of deploying Flower on real and simulated clients. Due to space constraints, we only focus on some of the implementation details in this section and refer the reader to the Flower GitHub repository for more details.</p>
</div>
<div id="S4.p2" class="ltx_para ltx_noindent">
<p id="S4.p2.1" class="ltx_p"><span id="S4.p2.1.1" class="ltx_text ltx_font_bold">Communication stack.</span> FL requires stable and efficient communication between clients and server.
The Flower communication protocol is currently implemented on top of bi-directional gRPC <cite class="ltx_cite ltx_citemacro_cite"><a href="#bib.bib14" title="" class="ltx_ref">Foundation </a></cite> streams.
gRPC defines the types of messages exchanged and uses compilers to then generate efficient implementations for different languages such as Python, Java, or C++. A major reason for choosing gRPC was its efficient binary serialization format, which is especially important on low-bandwidth mobile connections. Bi-directional streaming allows for the exchange of multiple message without the overhead incurred by re-establishing a connection for every request/response pair.</p>
</div>
<div id="S4.p3" class="ltx_para ltx_noindent">
<p id="S4.p3.1" class="ltx_p"><span id="S4.p3.1.1" class="ltx_text ltx_font_bold">Serialization.</span> Independent of communication stack, Flower clients receive instructions (messages) as raw byte arrays (either via the network or throught other means, for example, inter-process communication), deserialize the instruction, and execute the instruction (e.g., training on local data). The results are then serialized and communicated back to the server. Note that a client communicates with the server through language-independent messages and can thus be implemented in a variety of programming languages, a key property to enable real on-device execution. The user-accessible byte array abstraction makes Flower uniquely serialization-agnostic and enables users to experiment with custom serialization methods, for example, gradient compression or encryption.</p>
</div>
<div id="S4.p4" class="ltx_para ltx_noindent">
<p id="S4.p4.1" class="ltx_p"><span id="S4.p4.1.1" class="ltx_text ltx_font_bold">Alternative communication stacks.</span> Even though the current implementation uses gRPC, there is no inherent reliance on it. The internal Flower server architecture uses modular abstractions such that components that are not tied to gRPC are unaware of it. This enables the server to support user-provided RPC frameworks and orchestrate workloads across heterogeneous clients, with some connected through gRPC, and others through other RPC frameworks.</p>
</div>
<div id="S4.p5" class="ltx_para ltx_noindent">
<p id="S4.p5.1" class="ltx_p"><span id="S4.p5.1.1" class="ltx_text ltx_font_bold">ClientProxy.</span> The abstraction that enables communication-agnostic execution is called <em id="S4.p5.1.2" class="ltx_emph ltx_font_italic">ClientProxy</em>. Each ClientProxy object registered with the ClientManager represents a single client that is available to the server for training or evaluation. Clients which are offline do not have an associated ClientProxy object. All server-side logic (client configuration, receiving results from clients) is built against the ClientProxy abstraction.</p>
</div>
<div id="S4.p6" class="ltx_para ltx_noindent">
<p id="S4.p6.1" class="ltx_p">One key design decision that makes Flower so flexible is that ClientProxy is an abstract interface, not an implementation. There are different implementations of the ClientProxy interface, for example, GrpcClientProxy. Each implementation encapsulates details on how to communicate with the actual client, for example, to send messages to an actual edge device using gRPC.</p>
</div>
<div id="S4.p7" class="ltx_para ltx_noindent">
<p id="S4.p7.1" class="ltx_p"><span id="S4.p7.1.1" class="ltx_text ltx_font_bold">Virtual Client Engine (VCE).</span> Resource consumption (CPU, GPU, RAM, VRAM, etc.) is the major bottleneck for large-scale experiments. Even a modestly sized model easily exhausts most systems if kept in memory a million times. The VCE enables large-scale single-machine or multi-machine experiments by executing workloads in a resource-aware fashion that either increases parallelism for better wall-clock time or to enable large-scale experiments on limited hardware resources. It creates a <em id="S4.p7.1.2" class="ltx_emph ltx_font_italic">ClientProxy</em> for each client, but defers instantiation of the actual client object (including local model and data) until the resources to execute the client-side task (training, evaluation) become available. This avoids having to keep multiple client-side models and datasets in memory at any given point in time.</p>
</div>
<div id="S4.p8" class="ltx_para ltx_noindent">
<p id="S4.p8.1" class="ltx_p">VCE builds on the Ray <cite class="ltx_cite ltx_citemacro_cite">Moritz et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite> framework to schedule the execution of client-side tasks. In case of limited resources, Ray can sequence the execution of client-side computations, thus enabling a much larger scale of experiments on common hardware. The capability to perform FL at scale will unlock new research opportunities as results obtained in small-scale experiments often do not generalize well to large-cohort settings.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Framework Evaluation</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p">In this section we evaluate Flower’s capabilities in supporting both research and implementations of real-world FL workloads. Our evaluation focuses on three main aspects:</p>
<ul id="S5.p1.2" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S5.I1.i1.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S5.I1.i1.1.1.m1.1b"><mo id="S5.I1.i1.1.1.m1.1.1" xref="S5.I1.i1.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S5.I1.i1.1.1.m1.1c"><ci id="S5.I1.i1.1.1.m1.1.1.cmml" xref="S5.I1.i1.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p"><span id="S5.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Scalability</span>: We show that Flower can (a) efficiently make use of available resources in single-machine simulations and (b) run experiments with millions of clients whilst sampling thousands in each training.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S5.I1.i2.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S5.I1.i2.1.1.m1.1b"><mo id="S5.I1.i2.1.1.m1.1.1" xref="S5.I1.i2.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S5.I1.i2.1.1.m1.1c"><ci id="S5.I1.i2.1.1.m1.1.1.cmml" xref="S5.I1.i2.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p"><span id="S5.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Heterogeneity</span>: We show that Flower can be deployed in real, heterogeneous devices commonly found in cross-device scenario and how it can be used to measure system statistics.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S5.I1.i3.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S5.I1.i3.1.1.m1.1b"><mo id="S5.I1.i3.1.1.m1.1.1" xref="S5.I1.i3.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S5.I1.i3.1.1.m1.1c"><ci id="S5.I1.i3.1.1.m1.1.1.cmml" xref="S5.I1.i3.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p"><span id="S5.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Realism</span>: We show through a case study how Flower can throw light on the performance of FL under heterogeneous clients with different computational and network capabilities.</p>
</div>
</li>
<li id="S5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S5.I1.i4.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S5.I1.i4.1.1.m1.1b"><mo id="S5.I1.i4.1.1.m1.1.1" xref="S5.I1.i4.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S5.I1.i4.1.1.m1.1c"><ci id="S5.I1.i4.1.1.m1.1.1.cmml" xref="S5.I1.i4.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i4.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S5.I1.i4.p1" class="ltx_para">
<p id="S5.I1.i4.p1.1" class="ltx_p"><span id="S5.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Privacy</span>: Finally, we show how our implementation of Secure Aggregation matches the expected theoretical overhead as expected.</p>
</div>
</li>
</ul>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Large-Scale Experiment</h3>

<div id="S5.SS1.p1" class="ltx_para ltx_noindent">
<p id="S5.SS1.p1.1" class="ltx_p">Federated Learning receives most of its power from its ability to leverage data from millions of users. However, selecting large numbers of clients in each training round does not necessarily translate into faster convergence times. In fact, as observed in <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite>, there is usually an empirical threshold for which if we increase the number of participating clients per round beyond that point, convergence will be slower. By allowing experiments to run at mega-scales, with thousands of active clients per round, Flower gives us the opportunity to empirically find such threshold for any task at hand.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para ltx_noindent">
<p id="S5.SS1.p2.1" class="ltx_p">To show this ability, in this series of experiments we use Flower to fine-tune a network on data from 15M users using different numbers of clients per round. More specifically, we fine-tune a Transformer network to correctly predict Amazon book ratings based on text reviews from users.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para ltx_noindent">
<p id="S5.SS1.p3.1" class="ltx_p"><span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_bold">Experimental Setup.</span> We choose to use Amazon’s Book Reviews Dataset <cite class="ltx_cite ltx_citemacro_citep">(Ni et al., <a href="#bib.bib31" title="" class="ltx_ref">2019</a>)</cite> which contains over 51M reviews from 15M different users. Each review from a given user contains a textual review of a book along with its given rank (1-5). We fine-tune the classifier of a pre-trained DistilBERT model <cite class="ltx_cite ltx_citemacro_cite">Sanh et al. (<a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite> to correctly predict ranks based on textual reviews. For each experiment we fix the number of clients being sampled in each round (from 10 to 1000) and aggregate models using <span id="S5.SS1.p3.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span>. We test the aggregated model after each round on a fixed set of 1M clients. Convergence curves are reported in Figure <a href="#S5.F3" title="Figure 3 ‣ 5.1 Large-Scale Experiment ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> all our experiments were run using two NVIDIA V100 GPUs on a 22-cores of an Intel Xeon Gold 6152 (2.10GHz) CPU.</p>
</div>
<div id="S5.SS1.p4" class="ltx_para ltx_noindent">
<p id="S5.SS1.p4.1" class="ltx_p"><span id="S5.SS1.p4.1.1" class="ltx_text ltx_font_bold">Results.</span> Figure <a href="#S5.F3" title="Figure 3 ‣ 5.1 Large-Scale Experiment ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the expected initial speed-up in convergence when selecting 10 to 500 clients per round in each experiment. However, if we decide to sample 1k clients in each round, we notice an increase in convergence time. Intuitively, this behaviour is caused by clients’ data having very different distributions; making it difficult for simple Aggregation Strategies such as <span id="S5.SS1.p4.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span> to find a suitable set of weights.</p>
</div>
<figure id="S5.F3" class="ltx_figure"><img src="/html/2007.14390/assets/x2.png" id="S5.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="233" height="181" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Flower scales to even 15M user experiments. Each curve shows successful convergence of the DistilBERT model under varying amounts of clients per round, with the exception of the two smallest client sizes: 50 and 10.
</figcaption>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Single Machine Experiments</h3>

<div id="S5.SS2.p1" class="ltx_para ltx_noindent">
<p id="S5.SS2.p1.1" class="ltx_p">One of our strongest claims in this paper is that Flower can be effectively used in Research. For this to be true, Flower needs to be fast at providing reliable results when experimenting new ideas, e.g. a new aggregation strategy.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para ltx_noindent">
<p id="S5.SS2.p2.1" class="ltx_p">In this experiment, we provide a head-to-head comparison in term of training times between Flower and the four main FL frameworks, namely FedScale, TFF, FedJax and the original LEAF, when training with different FL setups.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS2.p3.2" class="ltx_p"><span id="S5.SS2.p3.2.1" class="ltx_text ltx_font_bold">Experimental Setup.</span> We consider all three FL setups proposed by <cite class="ltx_cite ltx_citemacro_citep">(Caldas et al., <a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite> when training a CNN model to correctly classify characters from the <span id="S5.SS2.p3.2.2" class="ltx_text ltx_font_italic">FEMNIST</span> dataset. More specifically, we consider the scenarios where the number of clients (<math id="S5.SS2.p3.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S5.SS2.p3.1.m1.1a"><mi id="S5.SS2.p3.1.m1.1.1" xref="S5.SS2.p3.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.1.m1.1b"><ci id="S5.SS2.p3.1.m1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.1.m1.1c">c</annotation></semantics></math>) and local epochs per round change (<math id="S5.SS2.p3.2.m2.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S5.SS2.p3.2.m2.1a"><mi id="S5.SS2.p3.2.m2.1.1" xref="S5.SS2.p3.2.m2.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.2.m2.1b"><ci id="S5.SS2.p3.2.m2.1.1.cmml" xref="S5.SS2.p3.2.m2.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.2.m2.1c">l</annotation></semantics></math>) vary. The total number of rounds and total number of clients are kept constant at 2000 and 179, respectively. To allow for a fair comparison, We run all our experiments using eight cores of an Intel Xeon E5-2680 CPU (2.40GHz) equipped with two NVIDIA RTX2080 GPUs and 20GB of RAM.</p>
</div>
<div id="S5.SS2.p4" class="ltx_para ltx_noindent">
<p id="S5.SS2.p4.2" class="ltx_p"><span id="S5.SS2.p4.2.1" class="ltx_text ltx_font_bold">Results.</span> Figure <a href="#S5.F4" title="Figure 4 ‣ 5.2 Single Machine Experiments ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the impact of choosing different FL frameworks for the various tasks. On our first task, when training using three clients per round (<math id="S5.SS2.p4.1.m1.1" class="ltx_Math" alttext="c=3" display="inline"><semantics id="S5.SS2.p4.1.m1.1a"><mrow id="S5.SS2.p4.1.m1.1.1" xref="S5.SS2.p4.1.m1.1.1.cmml"><mi id="S5.SS2.p4.1.m1.1.1.2" xref="S5.SS2.p4.1.m1.1.1.2.cmml">c</mi><mo id="S5.SS2.p4.1.m1.1.1.1" xref="S5.SS2.p4.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p4.1.m1.1.1.3" xref="S5.SS2.p4.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.1.m1.1b"><apply id="S5.SS2.p4.1.m1.1.1.cmml" xref="S5.SS2.p4.1.m1.1.1"><eq id="S5.SS2.p4.1.m1.1.1.1.cmml" xref="S5.SS2.p4.1.m1.1.1.1"></eq><ci id="S5.SS2.p4.1.m1.1.1.2.cmml" xref="S5.SS2.p4.1.m1.1.1.2">𝑐</ci><cn type="integer" id="S5.SS2.p4.1.m1.1.1.3.cmml" xref="S5.SS2.p4.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.1.m1.1c">c=3</annotation></semantics></math>) for one local epoch (<math id="S5.SS2.p4.2.m2.1" class="ltx_Math" alttext="l=1" display="inline"><semantics id="S5.SS2.p4.2.m2.1a"><mrow id="S5.SS2.p4.2.m2.1.1" xref="S5.SS2.p4.2.m2.1.1.cmml"><mi id="S5.SS2.p4.2.m2.1.1.2" xref="S5.SS2.p4.2.m2.1.1.2.cmml">l</mi><mo id="S5.SS2.p4.2.m2.1.1.1" xref="S5.SS2.p4.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS2.p4.2.m2.1.1.3" xref="S5.SS2.p4.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.2.m2.1b"><apply id="S5.SS2.p4.2.m2.1.1.cmml" xref="S5.SS2.p4.2.m2.1.1"><eq id="S5.SS2.p4.2.m2.1.1.1.cmml" xref="S5.SS2.p4.2.m2.1.1.1"></eq><ci id="S5.SS2.p4.2.m2.1.1.2.cmml" xref="S5.SS2.p4.2.m2.1.1.2">𝑙</ci><cn type="integer" id="S5.SS2.p4.2.m2.1.1.3.cmml" xref="S5.SS2.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.2.m2.1c">l=1</annotation></semantics></math>), FedJax finishes training first (05:18), LEAF finishes second (44:39) followed by TFF (58:29) and Flower (59:19). In this simple case, the overhead of having a multi-task system, like the Virtual Client Engine (VCE), causes Flower to sightly under-perform in comparison to loop-based simulators, like LEAF.</p>
</div>
<div id="S5.SS2.p5" class="ltx_para ltx_noindent">
<p id="S5.SS2.p5.1" class="ltx_p">However, the benefits of having a VCE become more evident if we train on more realistic scenarios. When increasing the number of clients per round to 35 while keeping the single local epoch, we notice that Flower (230:18) is still among the fastest frameworks. Since the number of local epochs is still one, most of the overhead comes from loading data and models into memory rather than performing real training, hence the similarity those LEAF and Flower.</p>
</div>
<div id="S5.SS2.p6" class="ltx_para ltx_noindent">
<p id="S5.SS2.p6.1" class="ltx_p">The VCE allows us to specify the amount of GPU memory we want to associate with each client, this allows for more efficient data and model loading of different clients on the same GPU, making the overall training considerably faster. In fact, when we substantially increase the amount of work performed by each client to 100 local epochs, while fixing the number of active client to 3, we see a significant saving in training time. In this task Flower outperforms all other. It completes the task in just about 80 minutes, while the second best performing framework (FedJax) takes over twice as long (over 173 minutes).</p>
</div>
<div id="S5.SS2.p7" class="ltx_para ltx_noindent">
<p id="S5.SS2.p7.1" class="ltx_p">It is also important to acknowledge the two extreme training times we see in this experiment. FedJax seems to be very efficient when training on few (1) local epochs; however, in scenarios where communication-efficiency is key and larger number of local epochs are required, FedJax performance slightly degrades.
FedScale, on the other hands, consistently showed high training times across all training scenarios. We believe this apparent inefficiency to be associated with network overheads that are usually unnecessary in a single-computer simulation.</p>
</div>
<figure id="S5.F4" class="ltx_figure"><img src="/html/2007.14390/assets/x3.png" id="S5.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="233" height="242" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Training times (log scale in second) comparison of different FEMNIST tasks between different FL frameworks.</figcaption>
</figure>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Flower enables FL evaluation on real devices</h3>

<div id="S5.SS3.p1" class="ltx_para ltx_noindent">
<p id="S5.SS3.p1.1" class="ltx_p">Flower can assist researchers in quantifying the system costs associated with running FL on real devices and to identify bottlenecks in real-world federated training. In this section, we present the results of deploying Flower on six types of heterogeneous real-world mobile and embedded devices, including Java-based Android smartphones and Python-based Nvidia Jetson series devices and Raspberry Pi.</p>
</div>
<figure id="S5.F5" class="ltx_figure"><img src="/html/2007.14390/assets/x4.png" id="S5.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="173" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Flower enables quantifying the system performance of FL on mobile and embedded devices. Here we report the training times and energy consumption associated with running FL on CPUs and GPUs of various embedded devices.</figcaption>
</figure>
<div id="S5.SS3.p2" class="ltx_para ltx_noindent">
<p id="S5.SS3.p2.1" class="ltx_p"><span id="S5.SS3.p2.1.1" class="ltx_text ltx_font_bold">Experiment Setup.</span> We run the Flower server configured with the <span id="S5.SS3.p2.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span> strategy and host it on a cloud virtual machine. Python-based Flower clients are implemented for Nvidia Jetson series devices (Jetson Nano, TX2, NX, AGX) and Raspberry Pi, and trained using TensorFlow as the ML framework on each client. On the other hand, Android smartphones currently do not have extensive on-device training support with TensorFlow or PyTorch. To counter this issue, we leverage TensorFlow Lite to implement Flower clients on Android smartphones in Java. While TFLite is primarily designed for on-device inference, we leverage its capabilities to do on-device model personalization to implement a FL client application <cite class="ltx_cite ltx_citemacro_cite">Lite (<a href="#bib.bib27" title="" class="ltx_ref">2020</a>)</cite>. The source code for both implementations is available in the Flower repository.</p>
</div>
<figure id="S5.F6" class="ltx_figure"><img src="/html/2007.14390/assets/x5.png" id="S5.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Flower enables fine-grained profiling of FL performance on real devices. The framework overhead is <math id="S5.F6.2.m1.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S5.F6.2.m1.1b"><mo id="S5.F6.2.m1.1.1" xref="S5.F6.2.m1.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S5.F6.2.m1.1c"><lt id="S5.F6.2.m1.1.1.cmml" xref="S5.F6.2.m1.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.2.m1.1d">&lt;</annotation></semantics></math>100ms per round.</figcaption>
</figure>
<div id="S5.SS3.p3" class="ltx_para ltx_noindent">
<p id="S5.SS3.p3.1" class="ltx_p"><span id="S5.SS3.p3.1.1" class="ltx_text ltx_font_bold">Results.</span> Figure <a href="#S5.F5" title="Figure 5 ‣ 5.3 Flower enables FL evaluation on real devices ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the system metrics associated with training a DeepConvLSTM <cite class="ltx_cite ltx_citemacro_cite">Singh et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite> model for a human activity recognition task on Python-enabled Jetson and Raspberry Pi devices. We used the RealWorld dataset <cite class="ltx_cite ltx_citemacro_cite">Sztyler &amp; Stuckenschmidt (<a href="#bib.bib40" title="" class="ltx_ref">2016</a>)</cite> consisting of time-series data from accelerometer and gyroscope sensors on mobile devices, and partitioned it across 10 mobile clients. The first takeaway from our experiments in that we could deploy Flower clients on these heterogeneous devices, without requiring any modifications in the client-side Flower code. The only consideration was to ensure that a compatible ML framework (e.g., TensorFlow) is installed on each client. Secondly, we show in Figure <a href="#S5.F5" title="Figure 5 ‣ 5.3 Flower enables FL evaluation on real devices ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> how FL researchers can deploy and quantify the training time and energy consumption of FL on various heterogeneous devices and processors. Here, the FL training time is aggregated over 40 rounds, and includes the time taken to perform local 10 local epochs of SGD on the client, communicating model parameters between the server and the client, and updating the global model on the server. By comparing the relative energy consumption and training times across various devices, FL researchers can devise more informed client selection policies that can tradeoff between FL convergence time and overall energy consumption. For instance, choosing Jetson Nano-CPU based FL clients over Raspberry Pi clients may increase FL convergence time by 10 minutes, however it reduces the overall energy consumption by almost 60%.</p>
</div>
<div id="S5.SS3.p4" class="ltx_para ltx_noindent">
<p id="S5.SS3.p4.1" class="ltx_p">Next, we illustrate how Flower can enable fine-grained profiling of FL on real devices. We deploy Flower on 10 Android clients to train a model with 2 convolutional layers and 3 fully-connected layers <cite class="ltx_cite ltx_citemacro_cite">Flower (<a href="#bib.bib13" title="" class="ltx_ref">2021</a>)</cite> on the CIFAR-10 dataset. TensorFlow Lite is used as the training ML framework on the devices. We measure the time taken for various FL operations, such as local SGD training, communication between the server and client, local evaluation on the client, and the overhead due to the Flower framework. The overhead includes converting model gradients to GRPC-compatible buffers and vice-versa, to enable communication between Java FL clients and a Python FL server. In Figure <a href="#S5.F6" title="Figure 6 ‣ 5.3 Flower enables FL evaluation on real devices ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we report the mean latency of various FL operations over 40 rounds on two types of Android devices: Google Pixel 4 and Samsung Galaxy S9. We observe that on both devices, local training remains the most time-consuming operation, and that the total system overhead of the Flower framework is less than 100ms per round.</p>
</div>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Realism in Federated Learning</h3>

<div id="S5.SS4.p1" class="ltx_para ltx_noindent">
<p id="S5.SS4.p1.1" class="ltx_p">Flower facilitates the deployment of FL on real-world devices. While this property is beneficial for production-grade systems, can it also assist researchers in developing better federated optimization algorithms? In this section, we study two realistic scenarios of FL deployment.</p>
</div>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Effect of computational heterogeneity on FL training times. Using Flower, we can compute a hardware-specific cutoff <math id="S5.T3.3.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S5.T3.3.m1.1b"><mi id="S5.T3.3.m1.1.1" xref="S5.T3.3.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.T3.3.m1.1c"><ci id="S5.T3.3.m1.1.1.cmml" xref="S5.T3.3.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.m1.1d">\tau</annotation></semantics></math> (in minutes) for each processor, and find a balance between FL accuracy and training time. <math id="S5.T3.4.m2.1" class="ltx_Math" alttext="\tau=0" display="inline"><semantics id="S5.T3.4.m2.1b"><mrow id="S5.T3.4.m2.1.1" xref="S5.T3.4.m2.1.1.cmml"><mi id="S5.T3.4.m2.1.1.2" xref="S5.T3.4.m2.1.1.2.cmml">τ</mi><mo id="S5.T3.4.m2.1.1.1" xref="S5.T3.4.m2.1.1.1.cmml">=</mo><mn id="S5.T3.4.m2.1.1.3" xref="S5.T3.4.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.4.m2.1c"><apply id="S5.T3.4.m2.1.1.cmml" xref="S5.T3.4.m2.1.1"><eq id="S5.T3.4.m2.1.1.1.cmml" xref="S5.T3.4.m2.1.1.1"></eq><ci id="S5.T3.4.m2.1.1.2.cmml" xref="S5.T3.4.m2.1.1.2">𝜏</ci><cn type="integer" id="S5.T3.4.m2.1.1.3.cmml" xref="S5.T3.4.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.m2.1d">\tau=0</annotation></semantics></math> indicates no cutoff time.</figcaption>
<table id="S5.T3.10" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T3.7.3" class="ltx_tr">
<td id="S5.T3.7.3.4" class="ltx_td ltx_border_tt"></td>
<th id="S5.T3.7.3.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt"><span id="S5.T3.7.3.5.1" class="ltx_text ltx_font_bold">GPU</span></th>
<th id="S5.T3.5.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">
<table id="S5.T3.5.1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.5.1.1.1.2" class="ltx_tr">
<td id="S5.T3.5.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S5.T3.5.1.1.1.2.1.1" class="ltx_text ltx_font_bold">CPU</span></td>
</tr>
<tr id="S5.T3.5.1.1.1.1" class="ltx_tr">
<td id="S5.T3.5.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">
<span id="S5.T3.5.1.1.1.1.1.1" class="ltx_text ltx_font_bold">(</span><math id="S5.T3.5.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S5.T3.5.1.1.1.1.1.m1.1a"><mi id="S5.T3.5.1.1.1.1.1.m1.1.1" xref="S5.T3.5.1.1.1.1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.T3.5.1.1.1.1.1.m1.1b"><ci id="S5.T3.5.1.1.1.1.1.m1.1.1.cmml" xref="S5.T3.5.1.1.1.1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.1.1.1.1.1.m1.1c">\tau</annotation></semantics></math><span id="S5.T3.5.1.1.1.1.1.2" class="ltx_text ltx_font_bold"> = 0)</span>
</td>
</tr>
</table>
</th>
<th id="S5.T3.6.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">
<table id="S5.T3.6.2.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.6.2.2.1.2" class="ltx_tr">
<td id="S5.T3.6.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S5.T3.6.2.2.1.2.1.1" class="ltx_text ltx_font_bold">CPU</span></td>
</tr>
<tr id="S5.T3.6.2.2.1.1" class="ltx_tr">
<td id="S5.T3.6.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">
<span id="S5.T3.6.2.2.1.1.1.1" class="ltx_text ltx_font_bold">(</span><math id="S5.T3.6.2.2.1.1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S5.T3.6.2.2.1.1.1.m1.1a"><mi id="S5.T3.6.2.2.1.1.1.m1.1.1" xref="S5.T3.6.2.2.1.1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.T3.6.2.2.1.1.1.m1.1b"><ci id="S5.T3.6.2.2.1.1.1.m1.1.1.cmml" xref="S5.T3.6.2.2.1.1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.2.2.1.1.1.m1.1c">\tau</annotation></semantics></math><span id="S5.T3.6.2.2.1.1.1.2" class="ltx_text ltx_font_bold"> = 2.23)</span>
</td>
</tr>
</table>
</th>
<th id="S5.T3.7.3.3" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_border_tt">
<table id="S5.T3.7.3.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.7.3.3.1.2" class="ltx_tr">
<td id="S5.T3.7.3.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S5.T3.7.3.3.1.2.1.1" class="ltx_text ltx_font_bold">CPU</span></td>
</tr>
<tr id="S5.T3.7.3.3.1.1" class="ltx_tr">
<td id="S5.T3.7.3.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">
<span id="S5.T3.7.3.3.1.1.1.1" class="ltx_text ltx_font_bold">(</span><math id="S5.T3.7.3.3.1.1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S5.T3.7.3.3.1.1.1.m1.1a"><mi id="S5.T3.7.3.3.1.1.1.m1.1.1" xref="S5.T3.7.3.3.1.1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.T3.7.3.3.1.1.1.m1.1b"><ci id="S5.T3.7.3.3.1.1.1.m1.1.1.cmml" xref="S5.T3.7.3.3.1.1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.3.3.1.1.1.m1.1c">\tau</annotation></semantics></math><span id="S5.T3.7.3.3.1.1.1.2" class="ltx_text ltx_font_bold"> = 1.99)</span>
</td>
</tr>
</table>
</th>
</tr>
<tr id="S5.T3.10.7.1" class="ltx_tr">
<td id="S5.T3.10.7.1.1" class="ltx_td ltx_align_center ltx_border_t">Accuracy</td>
<td id="S5.T3.10.7.1.2" class="ltx_td ltx_align_center ltx_border_t">0.67</td>
<td id="S5.T3.10.7.1.3" class="ltx_td ltx_align_center ltx_border_t">0.67</td>
<td id="S5.T3.10.7.1.4" class="ltx_td ltx_align_left ltx_border_t">0.66</td>
<td id="S5.T3.10.7.1.5" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">0.63</td>
</tr>
<tr id="S5.T3.10.6" class="ltx_tr">
<td id="S5.T3.10.6.4" class="ltx_td ltx_align_center ltx_border_bb">
<table id="S5.T3.10.6.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.10.6.4.1.1" class="ltx_tr">
<td id="S5.T3.10.6.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Training</td>
</tr>
<tr id="S5.T3.10.6.4.1.2" class="ltx_tr">
<td id="S5.T3.10.6.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">time (mins)</td>
</tr>
</table>
</td>
<td id="S5.T3.10.6.5" class="ltx_td ltx_align_center ltx_border_bb">80.32</td>
<td id="S5.T3.8.4.1" class="ltx_td ltx_align_center ltx_border_bb">
<table id="S5.T3.8.4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.8.4.1.1.2" class="ltx_tr">
<td id="S5.T3.8.4.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">102</td>
</tr>
<tr id="S5.T3.8.4.1.1.1" class="ltx_tr">
<td id="S5.T3.8.4.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">(1.27<math id="S5.T3.8.4.1.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.T3.8.4.1.1.1.1.m1.1a"><mo id="S5.T3.8.4.1.1.1.1.m1.1.1" xref="S5.T3.8.4.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T3.8.4.1.1.1.1.m1.1b"><times id="S5.T3.8.4.1.1.1.1.m1.1.1.cmml" xref="S5.T3.8.4.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.4.1.1.1.1.m1.1c">\times</annotation></semantics></math>)</td>
</tr>
</table>
</td>
<td id="S5.T3.9.5.2" class="ltx_td ltx_align_left ltx_border_bb">
<table id="S5.T3.9.5.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.9.5.2.1.2" class="ltx_tr">
<td id="S5.T3.9.5.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">89.15</td>
</tr>
<tr id="S5.T3.9.5.2.1.1" class="ltx_tr">
<td id="S5.T3.9.5.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">(1.11<math id="S5.T3.9.5.2.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.T3.9.5.2.1.1.1.m1.1a"><mo id="S5.T3.9.5.2.1.1.1.m1.1.1" xref="S5.T3.9.5.2.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T3.9.5.2.1.1.1.m1.1b"><times id="S5.T3.9.5.2.1.1.1.m1.1.1.cmml" xref="S5.T3.9.5.2.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.9.5.2.1.1.1.m1.1c">\times</annotation></semantics></math>)</td>
</tr>
</table>
</td>
<td id="S5.T3.10.6.3" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb">
<table id="S5.T3.10.6.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T3.10.6.3.1.2" class="ltx_tr">
<td id="S5.T3.10.6.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">80.34</td>
</tr>
<tr id="S5.T3.10.6.3.1.1" class="ltx_tr">
<td id="S5.T3.10.6.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">(1.0<math id="S5.T3.10.6.3.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.T3.10.6.3.1.1.1.m1.1a"><mo id="S5.T3.10.6.3.1.1.1.m1.1.1" xref="S5.T3.10.6.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T3.10.6.3.1.1.1.m1.1b"><times id="S5.T3.10.6.3.1.1.1.m1.1.1.cmml" xref="S5.T3.10.6.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.10.6.3.1.1.1.m1.1c">\times</annotation></semantics></math>)</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS4.p2" class="ltx_para ltx_noindent">
<p id="S5.SS4.p2.1" class="ltx_p"><span id="S5.SS4.p2.1.1" class="ltx_text ltx_font_bold">Computational Heterogeneity across Clients.</span> In real-world, FL clients will have vastly different computational capabilities. While newer smartphones are now equipped with mobile GPUs, other phones or wearable devices may have a much less powerful processor. How does this computational heterogeneity impact FL?</p>
</div>
<div id="S5.SS4.p3" class="ltx_para ltx_noindent">
<p id="S5.SS4.p3.4" class="ltx_p">For this experiment, we use a Nvidia Jetson TX2 as the client device, which has a Pascal GPU and six CPU cores. We train a ResNet18 model on the CIFAR-10 dataset in a federated setting with 10 total Jetson TX2 clients and 40 rounds of training. In Table <a href="#S5.T3" title="Table 3 ‣ 5.4 Realism in Federated Learning ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we observe that if Jetson TX2 CPU clients are used for federated training (local epochs <math id="S5.SS4.p3.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S5.SS4.p3.1.m1.1a"><mi id="S5.SS4.p3.1.m1.1.1" xref="S5.SS4.p3.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.1.m1.1b"><ci id="S5.SS4.p3.1.m1.1.1.cmml" xref="S5.SS4.p3.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.1.m1.1c">E</annotation></semantics></math><math id="S5.SS4.p3.2.m2.1" class="ltx_Math" alttext="=" display="inline"><semantics id="S5.SS4.p3.2.m2.1a"><mo id="S5.SS4.p3.2.m2.1.1" xref="S5.SS4.p3.2.m2.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.2.m2.1b"><eq id="S5.SS4.p3.2.m2.1.1.cmml" xref="S5.SS4.p3.2.m2.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.2.m2.1c">=</annotation></semantics></math><math id="S5.SS4.p3.3.m3.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS4.p3.3.m3.1a"><mn id="S5.SS4.p3.3.m3.1.1" xref="S5.SS4.p3.3.m3.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.3.m3.1b"><cn type="integer" id="S5.SS4.p3.3.m3.1.1.cmml" xref="S5.SS4.p3.3.m3.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.3.m3.1c">10</annotation></semantics></math>), the FL process would take <math id="S5.SS4.p3.4.m4.1" class="ltx_math_unparsed" alttext="1.27\times" display="inline"><semantics id="S5.SS4.p3.4.m4.1a"><mrow id="S5.SS4.p3.4.m4.1b"><mn id="S5.SS4.p3.4.m4.1.1">1.27</mn><mo lspace="0.222em" id="S5.SS4.p3.4.m4.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.SS4.p3.4.m4.1c">1.27\times</annotation></semantics></math> more time to converge as compared to training on Jetson TX2 GPU clients.</p>
</div>
<div id="S5.SS4.p4" class="ltx_para ltx_noindent">
<p id="S5.SS4.p4.3" class="ltx_p">Once we obtain this quantification of computational heterogeneity using Flower, we can design better federated optimization algorithms. As an example, we implemented a modified version of FedAvg where each client device is assigned a cutoff time (<math id="S5.SS4.p4.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S5.SS4.p4.1.m1.1a"><mi id="S5.SS4.p4.1.m1.1.1" xref="S5.SS4.p4.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.1.m1.1b"><ci id="S5.SS4.p4.1.m1.1.1.cmml" xref="S5.SS4.p4.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.1.m1.1c">\tau</annotation></semantics></math>) after which it must send its model parameters to the server, irrespective of whether it has finished its local epochs or not. This strategy has parallels with the FedProx algorithm <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib23" title="" class="ltx_ref">2018</a>)</cite> which also accepts partial results from clients. However, the key advantage of Flower’s on-device training capabilities is that we can accurately measure and assign a <em id="S5.SS4.p4.3.1" class="ltx_emph ltx_font_italic">realistic</em> processor-specific cutoff time for each client. For example, we measure that on average it takes 1.99 minutes to complete a FL round on the TX2 GPU. We then set the same time as a cutoff for CPU clients (<math id="S5.SS4.p4.2.m2.1" class="ltx_Math" alttext="\tau=1.99" display="inline"><semantics id="S5.SS4.p4.2.m2.1a"><mrow id="S5.SS4.p4.2.m2.1.1" xref="S5.SS4.p4.2.m2.1.1.cmml"><mi id="S5.SS4.p4.2.m2.1.1.2" xref="S5.SS4.p4.2.m2.1.1.2.cmml">τ</mi><mo id="S5.SS4.p4.2.m2.1.1.1" xref="S5.SS4.p4.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS4.p4.2.m2.1.1.3" xref="S5.SS4.p4.2.m2.1.1.3.cmml">1.99</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.2.m2.1b"><apply id="S5.SS4.p4.2.m2.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1"><eq id="S5.SS4.p4.2.m2.1.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1.1"></eq><ci id="S5.SS4.p4.2.m2.1.1.2.cmml" xref="S5.SS4.p4.2.m2.1.1.2">𝜏</ci><cn type="float" id="S5.SS4.p4.2.m2.1.1.3.cmml" xref="S5.SS4.p4.2.m2.1.1.3">1.99</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.2.m2.1c">\tau=1.99</annotation></semantics></math> mins) as shown in Table <a href="#S5.T3" title="Table 3 ‣ 5.4 Realism in Federated Learning ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. This ensures that we can obtain faster convergence even in the presence of CPU clients, at the expense of a 4% accuracy drop. With <math id="S5.SS4.p4.3.m3.1" class="ltx_Math" alttext="\tau=2.23" display="inline"><semantics id="S5.SS4.p4.3.m3.1a"><mrow id="S5.SS4.p4.3.m3.1.1" xref="S5.SS4.p4.3.m3.1.1.cmml"><mi id="S5.SS4.p4.3.m3.1.1.2" xref="S5.SS4.p4.3.m3.1.1.2.cmml">τ</mi><mo id="S5.SS4.p4.3.m3.1.1.1" xref="S5.SS4.p4.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS4.p4.3.m3.1.1.3" xref="S5.SS4.p4.3.m3.1.1.3.cmml">2.23</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.3.m3.1b"><apply id="S5.SS4.p4.3.m3.1.1.cmml" xref="S5.SS4.p4.3.m3.1.1"><eq id="S5.SS4.p4.3.m3.1.1.1.cmml" xref="S5.SS4.p4.3.m3.1.1.1"></eq><ci id="S5.SS4.p4.3.m3.1.1.2.cmml" xref="S5.SS4.p4.3.m3.1.1.2">𝜏</ci><cn type="float" id="S5.SS4.p4.3.m3.1.1.3.cmml" xref="S5.SS4.p4.3.m3.1.1.3">2.23</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.3.m3.1c">\tau=2.23</annotation></semantics></math>, a better balance between accuracy and convergence time could be obtained for CPU clients.</p>
</div>
<div id="S5.SS4.p5" class="ltx_para ltx_noindent">
<p id="S5.SS4.p5.1" class="ltx_p"><span id="S5.SS4.p5.1.1" class="ltx_text ltx_font_bold">Heterogeneity in Network Speeds.</span> An important consideration for any FL system is to choose a set of participating clients in each training round. In the real-world, clients are distributed across the world and vary in their download and upload speeds. Hence, it is critical for any FL system to study how client selection can impact the overall FL training time. We now present an experiment with 40 clients collaborating to train a 4-layer deep CNN model for the FashionMNIST dataset. More details about the dataset and network architecture are presented in the Appendix.</p>
</div>
<figure id="S5.F7" class="ltx_figure"><img src="/html/2007.14390/assets/x6.png" id="S5.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="369" height="221" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Effect of network heterogeneity in clients on FL training time. Using this quantification, we designed a new client sampling strategy called FedFS (detailed in the Appendix).</figcaption>
</figure>
<div id="S5.SS4.p6" class="ltx_para ltx_noindent">
<p id="S5.SS4.p6.1" class="ltx_p">Using Flower, we instantiate 40 clients on a cloud platform and fix the download and upload speeds for each client using the <span id="S5.SS4.p6.1.1" class="ltx_text ltx_font_smallcaps">Wondershaper</span> library. Each client is representative of a country and its download and upload speed is set based on a recent market survey of 4G and 5G speeds in different countries <cite class="ltx_cite ltx_citemacro_cite">OpenSignal (<a href="#bib.bib32" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
<div id="S5.SS4.p7" class="ltx_para ltx_noindent">
<p id="S5.SS4.p7.1" class="ltx_p">The x-axis of Figure <a href="#S5.F7" title="Figure 7 ‣ 5.4 Realism in Federated Learning ‣ 5 Framework Evaluation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows countries arranged in descending order of their network speeds: country indices 1-20 represent the top 20 countries based on their network speeds (mean download speed = 40.1Mbps), and indices 21-40 are the bottom 20 countries (mean download speed = 6.76Mbps). We observe that if all clients have the network speeds corresponding to Country 1 (Canada), the FL training finishes in 8.9 mins. As we include slower clients in FL, the training time gradually increases, with a major jump around index = 17. On the other extreme, for client speeds corresponding to Country 40 (Iraq), the FL training takes 108 minutes.</p>
</div>
<div id="S5.SS4.p8" class="ltx_para ltx_noindent">
<p id="S5.SS4.p8.1" class="ltx_p">There are two key takeaways from this experiment: a) Using Flower, we can profile the training time of any FL algorithm under scenarios of network heterogeneity, b) we can leverage these insights to design sophisticated client sampling techniques.
For example, during subsequent rounds of federated learning, we could monitor the number of samples each client was able to process during a given time window and increase the selection probability of slow clients to balance the contributions of fast and slow clients to the global model.
The FedFS strategy detailed in the appendix works on this general idea, and reduces the convergence time of FL by up to 30% over the FedAvg random sampling approach.</p>
</div>
</section>
<section id="S5.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5 </span>Secure Aggregation Overheads</h3>

<figure id="S5.F8" class="ltx_figure ltx_align_center"><svg id="S5.F8.1.pic1" class="ltx_picture" height="229.7" overflow="visible" version="1.1" width="194.22"><g transform="translate(0,229.7) matrix(1 0 0 -1 0 0) translate(32.16,0) translate(0,22.52) matrix(0.6 0.0 0.0 0.6 -32.16 -22.52)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(53.59,0) translate(0,37.53)"><g stroke-width="0.4pt" fill="#BFBFBF" stroke="#BFBFBF" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" color="#BFBFBF"><path d="M 0 0 L 269.82 0 M 0 37.36 L 269.82 37.36 M 0 74.72 L 269.82 74.72 M 0 112.08 L 269.82 112.08 M 0 149.44 L 269.82 149.44 M 0 186.8 L 269.82 186.8 M 0 224.16 L 269.82 224.16" style="fill:none"></path></g><g stroke-width="0.2pt" fill="#808080" stroke="#808080" color="#808080"><path d="M 0 0 L 0 5.91 M 44.97 0 L 44.97 5.91 M 89.94 0 L 89.94 5.91 M 134.91 0 L 134.91 5.91 M 179.88 0 L 179.88 5.91 M 224.85 0 L 224.85 5.91 M 0 224.16 L 0 218.25 M 44.97 224.16 L 44.97 218.25 M 89.94 224.16 L 89.94 218.25 M 134.91 224.16 L 134.91 218.25 M 179.88 224.16 L 179.88 218.25 M 224.85 224.16 L 224.85 218.25" style="fill:none"></path></g><g stroke-width="0.2pt" fill="#808080" stroke="#808080" color="#808080"><path d="M 0 0 L 5.91 0 M 0 37.36 L 5.91 37.36 M 0 74.72 L 5.91 74.72 M 0 112.08 L 5.91 112.08 M 0 149.44 L 5.91 149.44 M 0 186.8 L 5.91 186.8 M 0 224.16 L 5.91 224.16 M 269.82 0 L 263.91 0 M 269.82 37.36 L 263.91 37.36 M 269.82 74.72 L 263.91 74.72 M 269.82 112.08 L 263.91 112.08 M 269.82 149.44 L 263.91 149.44 M 269.82 186.8 L 263.91 186.8 M 269.82 224.16 L 263.91 224.16" style="fill:none"></path></g><g stroke="#000000" fill="#000000" stroke-width="0.4pt"><path d="M 0 0 L 0 224.16 L 269.82 224.16 L 269.82 0 L 0 0 Z" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.46 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 41.51 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">1</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 86.48 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">2</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 131.45 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">3</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 176.42 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">4</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 221.39 -13.81)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="5" display="inline"><semantics id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">5</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 230.52 -37.03)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 5.705)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 11.41)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="24.63" height="11.41" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\cdot 10^{5}" display="inline"><semantics id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml"></mi><mo lspace="0.222em" rspace="0.222em" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">⋅</mo><msup id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml"><mn id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.2" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml">10</mn><mn id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.3" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml">5</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1"><ci id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1">⋅</ci><csymbol cd="latexml" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2">absent</csymbol><apply id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.1.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.2">10</cn><cn type="integer" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml" xref="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.3">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">\cdot 10^{5}</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -11.81 -4.46)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.46)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.92)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -18.73 14.22)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 41.82)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 46.28)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">50</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -25.64 32.9)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 79.18)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 83.64)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="20.76" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">100</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -25.64 51.58)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 116.54)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 121)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="20.76" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="150" display="inline"><semantics id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">150</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">150</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">150</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -25.64 70.26)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 153.89)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 158.36)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="20.76" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="200" display="inline"><semantics id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">200</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">200</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">200</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -25.64 88.94)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 191.25)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 195.72)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="20.76" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="250" display="inline"><semantics id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">250</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">250</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">250</annotation></semantics></math></foreignObject></g></g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 -25.64 107.62)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 228.61)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 233.08)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><foreignObject width="20.76" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="300" display="inline"><semantics id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">300</mn><annotation-xml encoding="MathML-Content" id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">300</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">300</annotation></semantics></math></foreignObject></g></g></g></g><clipPath id="pgfcp1"><path d="M 0 0 L 269.82 0 L 269.82 224.16 L 0 224.16 Z"></path></clipPath><g clip-path="url(#pgfcp1)"><g stroke="#0000FF" fill="#0000FF"><path d="M 44.97 73.66 L 89.94 80.05 L 134.91 87.96 L 179.88 93.34 L 224.85 100.66" style="fill:none"></path></g><g></g><g stroke="#FF0000" fill="#FF0000"><path d="M 44.97 105.31 L 89.94 128.52 L 134.91 149.93 L 179.88 171.63 L 224.85 193.73" style="fill:none"></path></g><g></g></g><g stroke="#0000FF" fill="#0000FF" color="#0000FF"><path d="M 47.74 73.66 C 47.74 75.19 46.5 76.43 44.97 76.43 C 43.44 76.43 42.2 75.19 42.2 73.66 C 42.2 72.13 43.44 70.89 44.97 70.89 C 46.5 70.89 47.74 72.13 47.74 73.66 Z M 44.97 73.66"></path><path d="M 92.71 80.05 C 92.71 81.58 91.47 82.82 89.94 82.82 C 88.41 82.82 87.17 81.58 87.17 80.05 C 87.17 78.53 88.41 77.29 89.94 77.29 C 91.47 77.29 92.71 78.53 92.71 80.05 Z M 89.94 80.05"></path><path d="M 137.68 87.96 C 137.68 89.48 136.44 90.72 134.91 90.72 C 133.38 90.72 132.14 89.48 132.14 87.96 C 132.14 86.43 133.38 85.19 134.91 85.19 C 136.44 85.19 137.68 86.43 137.68 87.96 Z M 134.91 87.96"></path><path d="M 182.65 93.34 C 182.65 94.87 181.41 96.11 179.88 96.11 C 178.35 96.11 177.11 94.87 177.11 93.34 C 177.11 91.81 178.35 90.57 179.88 90.57 C 181.41 90.57 182.65 91.81 182.65 93.34 Z M 179.88 93.34"></path><path d="M 227.62 100.66 C 227.62 102.19 226.38 103.43 224.85 103.43 C 223.32 103.43 222.08 102.19 222.08 100.66 C 222.08 99.13 223.32 97.89 224.85 97.89 C 226.38 97.89 227.62 99.13 227.62 100.66 Z M 224.85 100.66"></path></g><g stroke="#FF0000" fill="#FF0000" color="#FF0000"><path d="M 47.74 105.31 C 47.74 106.84 46.5 108.08 44.97 108.08 C 43.44 108.08 42.2 106.84 42.2 105.31 C 42.2 103.78 43.44 102.55 44.97 102.55 C 46.5 102.55 47.74 103.78 47.74 105.31 Z M 44.97 105.31"></path><path d="M 92.71 128.52 C 92.71 130.05 91.47 131.29 89.94 131.29 C 88.41 131.29 87.17 130.05 87.17 128.52 C 87.17 126.99 88.41 125.75 89.94 125.75 C 91.47 125.75 92.71 126.99 92.71 128.52 Z M 89.94 128.52"></path><path d="M 137.68 149.93 C 137.68 151.46 136.44 152.7 134.91 152.7 C 133.38 152.7 132.14 151.46 132.14 149.93 C 132.14 148.4 133.38 147.16 134.91 147.16 C 136.44 147.16 137.68 148.4 137.68 149.93 Z M 134.91 149.93"></path><path d="M 182.65 171.63 C 182.65 173.16 181.41 174.39 179.88 174.39 C 178.35 174.39 177.11 173.16 177.11 171.63 C 177.11 170.1 178.35 168.86 179.88 168.86 C 181.41 168.86 182.65 170.1 182.65 171.63 Z M 179.88 171.63"></path><path d="M 227.62 193.73 C 227.62 195.26 226.38 196.5 224.85 196.5 C 223.32 196.5 222.08 195.26 222.08 193.73 C 222.08 192.2 223.32 190.96 224.85 190.96 C 226.38 190.96 227.62 192.2 227.62 193.73 Z M 224.85 193.73"></path></g><g transform="matrix(1.0 0.0 0.0 1.0 82.19 -32.92)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 4.805)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 9.61)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><text transform="matrix(1 0 0 -1 0 0)">Model vector size</text></g></g></g></g><g transform="matrix(0.0 1.0 -1.0 0.0 -35.14 45.24)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 6.92)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 10.38)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><text transform="matrix(1 0 0 -1 0 0)">CPU running time (s)</text></g></g></g></g><g fill="#FFFFFF" stroke="#000000"><path d="M 8.37 170.26 h 109.16 v 46.89 h -109.16 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 12.52 173.03)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 31.02)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 10.34)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)" fill="#0000FF" stroke="#0000FF"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 24.18 0) translate(38.34,0) matrix(1.0 0.0 0.0 1.0 -35.57 -5.5)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 6.535)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 10.38)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><text transform="matrix(1 0 0 -1 0 0)">0% dropout</text></g></g></g></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 31.02)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0) translate(0.28,0)" fill="#FF0000" stroke="#FF0000"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 24.18 0) translate(38.34,0) matrix(1.0 0.0 0.0 1.0 -35.57 -5.5)" fill="#000000" stroke="#000000"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 6.535)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 10.38)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0)"><text transform="matrix(1 0 0 -1 0 0)">5% dropout</text></g></g></g></g></g></g></g></g></g></g></svg>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Performance of Secure Aggregation. Running time of server with increasing vector size

</figcaption>
</figure>
<div id="S5.SS5.p1" class="ltx_para ltx_noindent">
<p id="S5.SS5.p1.1" class="ltx_p">Privacy is one of the cornerstones in FL, which inevitably generates computational overhead during training. In hardware-constrained systems, such as cross-device FL, it is desirable not only to be able to measure such overheads, but also to make sure that security protocols are well implemented and follow the expected protocol described in the original papers. Flower’s implementation of Secure Aggregation, named Salvia, is based on the SecAgg <cite class="ltx_cite ltx_citemacro_cite">Bonawitz et al. (<a href="#bib.bib5" title="" class="ltx_ref">2017</a>)</cite> and SecAgg<math id="S5.SS5.p1.1.m1.1" class="ltx_Math" alttext="+" display="inline"><semantics id="S5.SS5.p1.1.m1.1a"><mo id="S5.SS5.p1.1.m1.1.1" xref="S5.SS5.p1.1.m1.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.1.m1.1b"><plus id="S5.SS5.p1.1.m1.1.1.cmml" xref="S5.SS5.p1.1.m1.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.1.m1.1c">+</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">Bell et al. (<a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> protocols as described in Section <a href="#S3.SS6" title="3.6 Secure Aggregation ‣ 3 Flower Overview" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.6</span></a>. To verify that Salvia’s behavior matches the expected theoretical complexity, we evaluate its impact on server-side computation and communication overhead with the model vector size and clients dropouts.</p>
</div>
<div id="S5.SS5.p2" class="ltx_para ltx_noindent">
<p id="S5.SS5.p2.4" class="ltx_p"><span id="S5.SS5.p2.4.1" class="ltx_text ltx_font_bold">Experiment Setup.</span> The FL simulations run on a Linux system with an Intel Xeon E-2136 CPU (<math id="S5.SS5.p2.1.m1.1" class="ltx_Math" alttext="3.30" display="inline"><semantics id="S5.SS5.p2.1.m1.1a"><mn id="S5.SS5.p2.1.m1.1.1" xref="S5.SS5.p2.1.m1.1.1.cmml">3.30</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p2.1.m1.1b"><cn type="float" id="S5.SS5.p2.1.m1.1.1.cmml" xref="S5.SS5.p2.1.m1.1.1">3.30</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p2.1.m1.1c">3.30</annotation></semantics></math>GHz), with <math id="S5.SS5.p2.2.m2.1" class="ltx_Math" alttext="256" display="inline"><semantics id="S5.SS5.p2.2.m2.1a"><mn id="S5.SS5.p2.2.m2.1.1" xref="S5.SS5.p2.2.m2.1.1.cmml">256</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p2.2.m2.1b"><cn type="integer" id="S5.SS5.p2.2.m2.1.1.cmml" xref="S5.SS5.p2.2.m2.1.1">256</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p2.2.m2.1c">256</annotation></semantics></math> GB of RAM. In our simulations, all entries of our local vectors are of size <math id="S5.SS5.p2.3.m3.1" class="ltx_Math" alttext="24" display="inline"><semantics id="S5.SS5.p2.3.m3.1a"><mn id="S5.SS5.p2.3.m3.1.1" xref="S5.SS5.p2.3.m3.1.1.cmml">24</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p2.3.m3.1b"><cn type="integer" id="S5.SS5.p2.3.m3.1.1.cmml" xref="S5.SS5.p2.3.m3.1.1">24</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p2.3.m3.1c">24</annotation></semantics></math> bits. We ignore communication latency. Moreover, all dropouts simulated happen after stage <math id="S5.SS5.p2.4.m4.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S5.SS5.p2.4.m4.1a"><mn id="S5.SS5.p2.4.m4.1.1" xref="S5.SS5.p2.4.m4.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p2.4.m4.1b"><cn type="integer" id="S5.SS5.p2.4.m4.1.1.cmml" xref="S5.SS5.p2.4.m4.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p2.4.m4.1c">2</annotation></semantics></math>, i.e. Share Keys Stage. This is because this imposes the most significant overhead as the server not only needs to regenerate dropped-out clients’ secrets, but also compute their pairwise masks generated between their neighbours.</p>
</div>
<div id="S5.SS5.p3" class="ltx_para ltx_noindent">
<p id="S5.SS5.p3.9" class="ltx_p">For our simulations, the <math id="S5.SS5.p3.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S5.SS5.p3.1.m1.1a"><mi id="S5.SS5.p3.1.m1.1.1" xref="S5.SS5.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.1.m1.1b"><ci id="S5.SS5.p3.1.m1.1.1.cmml" xref="S5.SS5.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.1.m1.1c">n</annotation></semantics></math> and <math id="S5.SS5.p3.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S5.SS5.p3.2.m2.1a"><mi id="S5.SS5.p3.2.m2.1.1" xref="S5.SS5.p3.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.2.m2.1b"><ci id="S5.SS5.p3.2.m2.1.1.cmml" xref="S5.SS5.p3.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.2.m2.1c">t</annotation></semantics></math> parameters of the <math id="S5.SS5.p3.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S5.SS5.p3.3.m3.1a"><mi id="S5.SS5.p3.3.m3.1.1" xref="S5.SS5.p3.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.3.m3.1b"><ci id="S5.SS5.p3.3.m3.1.1.cmml" xref="S5.SS5.p3.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.3.m3.1c">t</annotation></semantics></math>-out-of-<math id="S5.SS5.p3.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S5.SS5.p3.4.m4.1a"><mi id="S5.SS5.p3.4.m4.1.1" xref="S5.SS5.p3.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.4.m4.1b"><ci id="S5.SS5.p3.4.m4.1.1.cmml" xref="S5.SS5.p3.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.4.m4.1c">n</annotation></semantics></math> secret-sharing scheme are set to 51 and 26, respectively. These parameters are chosen to reference SecAgg<math id="S5.SS5.p3.5.m5.1" class="ltx_Math" alttext="+" display="inline"><semantics id="S5.SS5.p3.5.m5.1a"><mo id="S5.SS5.p3.5.m5.1.1" xref="S5.SS5.p3.5.m5.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.5.m5.1b"><plus id="S5.SS5.p3.5.m5.1.1.cmml" xref="S5.SS5.p3.5.m5.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.5.m5.1c">+</annotation></semantics></math>’s proven correctness and security guarantees, where we can tolerate up to <math id="S5.SS5.p3.6.m6.1" class="ltx_Math" alttext="5\%" display="inline"><semantics id="S5.SS5.p3.6.m6.1a"><mrow id="S5.SS5.p3.6.m6.1.1" xref="S5.SS5.p3.6.m6.1.1.cmml"><mn id="S5.SS5.p3.6.m6.1.1.2" xref="S5.SS5.p3.6.m6.1.1.2.cmml">5</mn><mo id="S5.SS5.p3.6.m6.1.1.1" xref="S5.SS5.p3.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.6.m6.1b"><apply id="S5.SS5.p3.6.m6.1.1.cmml" xref="S5.SS5.p3.6.m6.1.1"><csymbol cd="latexml" id="S5.SS5.p3.6.m6.1.1.1.cmml" xref="S5.SS5.p3.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S5.SS5.p3.6.m6.1.1.2.cmml" xref="S5.SS5.p3.6.m6.1.1.2">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.6.m6.1c">5\%</annotation></semantics></math> dropouts and <math id="S5.SS5.p3.7.m7.1" class="ltx_Math" alttext="5\%" display="inline"><semantics id="S5.SS5.p3.7.m7.1a"><mrow id="S5.SS5.p3.7.m7.1.1" xref="S5.SS5.p3.7.m7.1.1.cmml"><mn id="S5.SS5.p3.7.m7.1.1.2" xref="S5.SS5.p3.7.m7.1.1.2.cmml">5</mn><mo id="S5.SS5.p3.7.m7.1.1.1" xref="S5.SS5.p3.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.7.m7.1b"><apply id="S5.SS5.p3.7.m7.1.1.cmml" xref="S5.SS5.p3.7.m7.1.1"><csymbol cd="latexml" id="S5.SS5.p3.7.m7.1.1.1.cmml" xref="S5.SS5.p3.7.m7.1.1.1">percent</csymbol><cn type="integer" id="S5.SS5.p3.7.m7.1.1.2.cmml" xref="S5.SS5.p3.7.m7.1.1.2">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.7.m7.1c">5\%</annotation></semantics></math> corrupted clients with correctness holding with probability <math id="S5.SS5.p3.8.m8.1" class="ltx_Math" alttext="1-2^{-20}" display="inline"><semantics id="S5.SS5.p3.8.m8.1a"><mrow id="S5.SS5.p3.8.m8.1.1" xref="S5.SS5.p3.8.m8.1.1.cmml"><mn id="S5.SS5.p3.8.m8.1.1.2" xref="S5.SS5.p3.8.m8.1.1.2.cmml">1</mn><mo id="S5.SS5.p3.8.m8.1.1.1" xref="S5.SS5.p3.8.m8.1.1.1.cmml">−</mo><msup id="S5.SS5.p3.8.m8.1.1.3" xref="S5.SS5.p3.8.m8.1.1.3.cmml"><mn id="S5.SS5.p3.8.m8.1.1.3.2" xref="S5.SS5.p3.8.m8.1.1.3.2.cmml">2</mn><mrow id="S5.SS5.p3.8.m8.1.1.3.3" xref="S5.SS5.p3.8.m8.1.1.3.3.cmml"><mo id="S5.SS5.p3.8.m8.1.1.3.3a" xref="S5.SS5.p3.8.m8.1.1.3.3.cmml">−</mo><mn id="S5.SS5.p3.8.m8.1.1.3.3.2" xref="S5.SS5.p3.8.m8.1.1.3.3.2.cmml">20</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.8.m8.1b"><apply id="S5.SS5.p3.8.m8.1.1.cmml" xref="S5.SS5.p3.8.m8.1.1"><minus id="S5.SS5.p3.8.m8.1.1.1.cmml" xref="S5.SS5.p3.8.m8.1.1.1"></minus><cn type="integer" id="S5.SS5.p3.8.m8.1.1.2.cmml" xref="S5.SS5.p3.8.m8.1.1.2">1</cn><apply id="S5.SS5.p3.8.m8.1.1.3.cmml" xref="S5.SS5.p3.8.m8.1.1.3"><csymbol cd="ambiguous" id="S5.SS5.p3.8.m8.1.1.3.1.cmml" xref="S5.SS5.p3.8.m8.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS5.p3.8.m8.1.1.3.2.cmml" xref="S5.SS5.p3.8.m8.1.1.3.2">2</cn><apply id="S5.SS5.p3.8.m8.1.1.3.3.cmml" xref="S5.SS5.p3.8.m8.1.1.3.3"><minus id="S5.SS5.p3.8.m8.1.1.3.3.1.cmml" xref="S5.SS5.p3.8.m8.1.1.3.3"></minus><cn type="integer" id="S5.SS5.p3.8.m8.1.1.3.3.2.cmml" xref="S5.SS5.p3.8.m8.1.1.3.3.2">20</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.8.m8.1c">1-2^{-20}</annotation></semantics></math> and security holding with probability <math id="S5.SS5.p3.9.m9.1" class="ltx_Math" alttext="1-2^{-40}" display="inline"><semantics id="S5.SS5.p3.9.m9.1a"><mrow id="S5.SS5.p3.9.m9.1.1" xref="S5.SS5.p3.9.m9.1.1.cmml"><mn id="S5.SS5.p3.9.m9.1.1.2" xref="S5.SS5.p3.9.m9.1.1.2.cmml">1</mn><mo id="S5.SS5.p3.9.m9.1.1.1" xref="S5.SS5.p3.9.m9.1.1.1.cmml">−</mo><msup id="S5.SS5.p3.9.m9.1.1.3" xref="S5.SS5.p3.9.m9.1.1.3.cmml"><mn id="S5.SS5.p3.9.m9.1.1.3.2" xref="S5.SS5.p3.9.m9.1.1.3.2.cmml">2</mn><mrow id="S5.SS5.p3.9.m9.1.1.3.3" xref="S5.SS5.p3.9.m9.1.1.3.3.cmml"><mo id="S5.SS5.p3.9.m9.1.1.3.3a" xref="S5.SS5.p3.9.m9.1.1.3.3.cmml">−</mo><mn id="S5.SS5.p3.9.m9.1.1.3.3.2" xref="S5.SS5.p3.9.m9.1.1.3.3.2.cmml">40</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p3.9.m9.1b"><apply id="S5.SS5.p3.9.m9.1.1.cmml" xref="S5.SS5.p3.9.m9.1.1"><minus id="S5.SS5.p3.9.m9.1.1.1.cmml" xref="S5.SS5.p3.9.m9.1.1.1"></minus><cn type="integer" id="S5.SS5.p3.9.m9.1.1.2.cmml" xref="S5.SS5.p3.9.m9.1.1.2">1</cn><apply id="S5.SS5.p3.9.m9.1.1.3.cmml" xref="S5.SS5.p3.9.m9.1.1.3"><csymbol cd="ambiguous" id="S5.SS5.p3.9.m9.1.1.3.1.cmml" xref="S5.SS5.p3.9.m9.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS5.p3.9.m9.1.1.3.2.cmml" xref="S5.SS5.p3.9.m9.1.1.3.2">2</cn><apply id="S5.SS5.p3.9.m9.1.1.3.3.cmml" xref="S5.SS5.p3.9.m9.1.1.3.3"><minus id="S5.SS5.p3.9.m9.1.1.3.3.1.cmml" xref="S5.SS5.p3.9.m9.1.1.3.3"></minus><cn type="integer" id="S5.SS5.p3.9.m9.1.1.3.3.2.cmml" xref="S5.SS5.p3.9.m9.1.1.3.3.2">40</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p3.9.m9.1c">1-2^{-40}</annotation></semantics></math>.</p>
</div>
<div id="S5.SS5.p4" class="ltx_para ltx_noindent">
<p id="S5.SS5.p4.4" class="ltx_p"><span id="S5.SS5.p4.4.1" class="ltx_text ltx_font_bold">Results. </span> Fixing the number of sampled clients to <math id="S5.SS5.p4.1.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S5.SS5.p4.1.m1.1a"><mn id="S5.SS5.p4.1.m1.1.1" xref="S5.SS5.p4.1.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p4.1.m1.1b"><cn type="integer" id="S5.SS5.p4.1.m1.1.1.cmml" xref="S5.SS5.p4.1.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p4.1.m1.1c">100</annotation></semantics></math>, we plotted CPU running times
through aggregating a vector of size <math id="S5.SS5.p4.2.m2.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S5.SS5.p4.2.m2.1a"><mn id="S5.SS5.p4.2.m2.1.1" xref="S5.SS5.p4.2.m2.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p4.2.m2.1b"><cn type="integer" id="S5.SS5.p4.2.m2.1.1.cmml" xref="S5.SS5.p4.2.m2.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p4.2.m2.1c">100</annotation></semantics></math>k entries to aggregating one of size <math id="S5.SS5.p4.3.m3.1" class="ltx_Math" alttext="500" display="inline"><semantics id="S5.SS5.p4.3.m3.1a"><mn id="S5.SS5.p4.3.m3.1.1" xref="S5.SS5.p4.3.m3.1.1.cmml">500</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p4.3.m3.1b"><cn type="integer" id="S5.SS5.p4.3.m3.1.1.cmml" xref="S5.SS5.p4.3.m3.1.1">500</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p4.3.m3.1c">500</annotation></semantics></math>k entries in
Figure 8. We also measured how the performance would change after client dropouts by repeating the same experiments with a <math id="S5.SS5.p4.4.m4.1" class="ltx_Math" alttext="5\%" display="inline"><semantics id="S5.SS5.p4.4.m4.1a"><mrow id="S5.SS5.p4.4.m4.1.1" xref="S5.SS5.p4.4.m4.1.1.cmml"><mn id="S5.SS5.p4.4.m4.1.1.2" xref="S5.SS5.p4.4.m4.1.1.2.cmml">5</mn><mo id="S5.SS5.p4.4.m4.1.1.1" xref="S5.SS5.p4.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p4.4.m4.1b"><apply id="S5.SS5.p4.4.m4.1.1.cmml" xref="S5.SS5.p4.4.m4.1.1"><csymbol cd="latexml" id="S5.SS5.p4.4.m4.1.1.1.cmml" xref="S5.SS5.p4.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S5.SS5.p4.4.m4.1.1.2.cmml" xref="S5.SS5.p4.4.m4.1.1.2">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p4.4.m4.1c">5\%</annotation></semantics></math> client dropout.</p>
</div>
<div id="S5.SS5.p5" class="ltx_para ltx_noindent">
<p id="S5.SS5.p5.4" class="ltx_p">Both the running times and total data transfer of the server increase linearly with the model vector size as the operations involving model vectors are linear to the vectors’ sizes, e.g. generating masks, sending vectors. We also note the server’s running time increases when there are <math id="S5.SS5.p5.1.m1.1" class="ltx_Math" alttext="5\%" display="inline"><semantics id="S5.SS5.p5.1.m1.1a"><mrow id="S5.SS5.p5.1.m1.1.1" xref="S5.SS5.p5.1.m1.1.1.cmml"><mn id="S5.SS5.p5.1.m1.1.1.2" xref="S5.SS5.p5.1.m1.1.1.2.cmml">5</mn><mo id="S5.SS5.p5.1.m1.1.1.1" xref="S5.SS5.p5.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p5.1.m1.1b"><apply id="S5.SS5.p5.1.m1.1.1.cmml" xref="S5.SS5.p5.1.m1.1.1"><csymbol cd="latexml" id="S5.SS5.p5.1.m1.1.1.1.cmml" xref="S5.SS5.p5.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S5.SS5.p5.1.m1.1.1.2.cmml" xref="S5.SS5.p5.1.m1.1.1.2">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p5.1.m1.1c">5\%</annotation></semantics></math> clients dropping out, as the server has to perform extra computation to calculate all <math id="S5.SS5.p5.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.SS5.p5.2.m2.1a"><mi id="S5.SS5.p5.2.m2.1.1" xref="S5.SS5.p5.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p5.2.m2.1b"><ci id="S5.SS5.p5.2.m2.1.1.cmml" xref="S5.SS5.p5.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p5.2.m2.1c">k</annotation></semantics></math> pairwise masks for each client dropped. Lastly, we observe that the total data transferred of the server remains unchanged with client dropouts as each client only communicates with the server plus exactly <math id="S5.SS5.p5.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.SS5.p5.3.m3.1a"><mi id="S5.SS5.p5.3.m3.1.1" xref="S5.SS5.p5.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p5.3.m3.1b"><ci id="S5.SS5.p5.3.m3.1.1.cmml" xref="S5.SS5.p5.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p5.3.m3.1c">k</annotation></semantics></math> neighbors, regardless of the total number of clients and dropouts. We conclude that all our experimental data matches the expected complexities of SecAgg and SecAgg<math id="S5.SS5.p5.4.m4.1" class="ltx_Math" alttext="+" display="inline"><semantics id="S5.SS5.p5.4.m4.1a"><mo id="S5.SS5.p5.4.m4.1.1" xref="S5.SS5.p5.4.m4.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S5.SS5.p5.4.m4.1b"><plus id="S5.SS5.p5.4.m4.1.1.cmml" xref="S5.SS5.p5.4.m4.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p5.4.m4.1c">+</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para ltx_noindent">
<p id="S6.p1.1" class="ltx_p">We have presented Flower – a novel framework that is specifically designed to advance FL research by enabling heterogeneous FL workloads at scale. Although Flower is broadly useful across a range of FL settings, we believe that it will be a true <span id="S6.p1.1.1" class="ltx_text ltx_font_italic">game-changer</span> for reducing the disparity between FL research and real-world FL systems. Through the provided abstractions and components, researchers can federated existing ML workloads (regardless of the ML framework used) and transition these workloads from large-scale simulation to execution on heterogeneous edge devices.
We further evaluate the capabilities of Flower in experiments that target both scale and systems heterogeneity by scaling FL up to 15M clients, providing head-to-head comparison between different FL frameworks for single-computer experiments, measuring FL energy consumption on a cluster of Nvidia Jetson TX2 devices, optimizing convergence time under limited bandwidth, and illustrating a deployment of Flower on a range of Android mobile devices in the AWS Device Farm.
Flower is open-sourced under Apache 2.0 License and we look forward to more community contributions to it.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abadi et al. (2016a)</span>
<span class="ltx_bibblock">
Abadi, M., Barham, P., Chen, J., Chen, Z., Davis, A., Dean, J., Devin, M.,
Ghemawat, S., Irving, G., Isard, M., Kudlur, M., Levenberg, J., Monga, R.,
Moore, S., Murray, D. G., Steiner, B., Tucker, P., Vasudevan, V., Warden, P.,
Wicke, M., Yu, Y., and Zheng, X.

</span>
<span class="ltx_bibblock">Tensorflow: A system for large-scale machine learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">12th USENIX Symposium on Operating Systems Design and
Implementation (OSDI 16)</em>, pp.  265–283, 2016a.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://www.usenix.org/system/files/conference/osdi16/osdi16-abadi.pdf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.usenix.org/system/files/conference/osdi16/osdi16-abadi.pdf</a>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abadi et al. (2016b)</span>
<span class="ltx_bibblock">
Abadi, M., Chu, A., Goodfellow, I., McMahan, B., Mironov, I., Talwar, K., and
Zhang, L.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">23rd ACM Conference on Computer and Communications Security
(ACM CCS)</em>, pp.  308–318, 2016b.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://arxiv.org/abs/1607.00133" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://arxiv.org/abs/1607.00133</a>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bell et al. (2020)</span>
<span class="ltx_bibblock">
Bell, J. H., Bonawitz, K. A., Gascón, A., Lepoint, T., and Raykova, M.

</span>
<span class="ltx_bibblock">Secure single-server aggregation with (poly) logarithmic overhead.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 ACM SIGSAC Conference on Computer
and Communications Security</em>, pp.  1253–1269, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bhagoji et al. (2018)</span>
<span class="ltx_bibblock">
Bhagoji, A. N., Chakraborty, S., Mittal, P., and Calo, S. B.

</span>
<span class="ltx_bibblock">Analyzing federated learning through an adversarial lens.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1811.12470, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1811.12470" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1811.12470</a>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et al. (2017)</span>
<span class="ltx_bibblock">
Bonawitz, K., Ivanov, V., Kreuter, B., Marcedone, A., McMahan, H. B., Patel,
S., Ramage, D., Segal, A., and Seth, K.

</span>
<span class="ltx_bibblock">Practical secure aggregation for privacy-preserving machine learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2017 ACM SIGSAC Conference on Computer
and Communications Security</em>, CCS ’17, pp.  1175–1191, New York, NY, USA,
2017. ACM.

</span>
<span class="ltx_bibblock">ISBN 978-1-4503-4946-8.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3133956.3133982</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://doi.acm.org/10.1145/3133956.3133982" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://doi.acm.org/10.1145/3133956.3133982</a>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et al. (2019)</span>
<span class="ltx_bibblock">
Bonawitz, K., Eichner, H., Grieskamp, W., Huba, D., Ingerman, A., Ivanov, V.,
Kiddon, C. M., Konečný, J., Mazzocchi, S., McMahan, B., Overveldt, T. V.,
Petrou, D., Ramage, D., and Roselander, J.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">SysML 2019</em>, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://arxiv.org/abs/1902.01046" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://arxiv.org/abs/1902.01046</a>.

</span>
<span class="ltx_bibblock">To appear.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bradbury et al. (2018)</span>
<span class="ltx_bibblock">
Bradbury, J., Frostig, R., Hawkins, P., Johnson, M. J., Leary, C., Maclaurin,
D., Necula, G., Paszke, A., VanderPlas, J., Wanderman-Milne, S., and
Zhang, Q.

</span>
<span class="ltx_bibblock">JAX: composable transformations of Python+NumPy programs,
2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://github.com/google/jax" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://github.com/google/jax</a>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caldas et al. (2018)</span>
<span class="ltx_bibblock">
Caldas, S., Duddu, S. M. K., Wu, P., Li, T., Konečnỳ, J., McMahan,
H. B., Smith, V., and Talwalkar, A.

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.01097</em>, 2018.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chahal et al. (2018)</span>
<span class="ltx_bibblock">
Chahal, K. S., Grover, M. S., and Dey, K.

</span>
<span class="ltx_bibblock">A hitchhiker’s guide on distributed training of deep neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1810.11787, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1810.11787" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1810.11787</a>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhery et al. (2019)</span>
<span class="ltx_bibblock">
Chowdhery, A., Warden, P., Shlens, J., Howard, A., and Rhodes, R.

</span>
<span class="ltx_bibblock">Visual wake words dataset.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1906.05721, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1906.05721" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1906.05721</a>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dean et al. (2012)</span>
<span class="ltx_bibblock">
Dean, J., Corrado, G. S., Monga, R., Chen, K., Devin, M., Le, Q. V., Mao,
M. Z., Ranzato, M., Senior, A., Tucker, P., Yang, K., and Ng, A. Y.

</span>
<span class="ltx_bibblock">Large scale distributed deep networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 25th International Conference on Neural
Information Processing Systems - Volume 1</em>, NIPS’12, pp.  1223–1231, USA,
2012. Curran Associates Inc.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://dl.acm.org/citation.cfm?id=2999134.2999271" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://dl.acm.org/citation.cfm?id=2999134.2999271</a>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dryden et al. (2016)</span>
<span class="ltx_bibblock">
Dryden, N., Jacobs, S. A., Moon, T., and Van Essen, B.

</span>
<span class="ltx_bibblock">Communication quantization for data-parallel training of deep neural
networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Workshop on Machine Learning in High
Performance Computing Environments</em>, MLHPC ’16, pp.  1–8, Piscataway, NJ,
USA, 2016. IEEE Press.

</span>
<span class="ltx_bibblock">ISBN 978-1-5090-3882-4.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/MLHPC.2016.4</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1109/MLHPC.2016.4" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/MLHPC.2016.4</a>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Flower (2021)</span>
<span class="ltx_bibblock">
Flower.

</span>
<span class="ltx_bibblock">Model architecture for android devices.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/adap/flower/blob/main/examples/android/tflite_convertor/convert_to_tflite.py" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/adap/flower/blob/main/examples/android/tflite_convertor/convert_to_tflite.py</a>,
2021.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(14)</span>
<span class="ltx_bibblock">
Foundation, C. N. C.

</span>
<span class="ltx_bibblock">grpc: A high performance, open-source universal rpc framework.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://grpc.io" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://grpc.io</a>.

</span>
<span class="ltx_bibblock">Accessed: 2020-03-25.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fromm et al. (2018)</span>
<span class="ltx_bibblock">
Fromm, J., Patel, S., and Philipose, M.

</span>
<span class="ltx_bibblock">Heterogeneous bitwidth binarization in convolutional neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 32nd International Conference on Neural
Information Processing Systems</em>, NIPS’18, pp.  4010–4019, Red Hook, NY,
USA, 2018. Curran Associates Inc.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Georgiev et al. (2017)</span>
<span class="ltx_bibblock">
Georgiev, P., Lane, N. D., Mascolo, C., and Chu, D.

</span>
<span class="ltx_bibblock">Accelerating mobile audio sensing algorithms through on-chip GPU
offloading.

</span>
<span class="ltx_bibblock">In Choudhury, T., Ko, S. Y., Campbell, A., and Ganesan, D. (eds.),
<em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 15th Annual International Conference on Mobile
Systems, Applications, and Services, MobiSys’17, Niagara Falls, NY, USA, June
19-23, 2017</em>, pp.  306–318. ACM, 2017.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3081333.3081358</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1145/3081333.3081358" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1145/3081333.3081358</a>.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Google (2020)</span>
<span class="ltx_bibblock">
Google.

</span>
<span class="ltx_bibblock">Tensorflow federated: Machine learning on decentralized data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated</a>, 2020.

</span>
<span class="ltx_bibblock">accessed 25-Mar-20.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard et al. (2019)</span>
<span class="ltx_bibblock">
Hard, A., Rao, K., Mathews, R., Ramaswamy, S., Beaufays, F., Augenstein, S.,
Eichner, H., Kiddon, C., and Ramage, D.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction, 2019.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jia et al. (2018)</span>
<span class="ltx_bibblock">
Jia, X., Song, S., He, W., Wang, Y., Rong, H., Zhou, F., Xie, L., Guo, Z.,
Yang, Y., Yu, L., Chen, T., Hu, G., Shi, S., and Chu, X.

</span>
<span class="ltx_bibblock">Highly scalable deep learning training system with mixed-precision:
Training imagenet in four minutes.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1807.11205, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1807.11205" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1807.11205</a>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krizhevsky et al. (2005)</span>
<span class="ltx_bibblock">
Krizhevsky, A., Nair, V., and Hinton, G.

</span>
<span class="ltx_bibblock">Cifar-10 (canadian institute for advanced research).

</span>
<span class="ltx_bibblock"><em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Online</em>, 2005.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://www.cs.toronto.edu/~kriz/cifar.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.cs.toronto.edu/~kriz/cifar.html</a>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lai et al. (2021)</span>
<span class="ltx_bibblock">
Lai, F., Dai, Y., Zhu, X., and Chowdhury, M.

</span>
<span class="ltx_bibblock">Fedscale: Benchmarking model and system performance of federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2105.11367</em>, 2021.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al. (2019)</span>
<span class="ltx_bibblock">
Lee, T., Lin, Z., Pushp, S., Li, C., Liu, Y., Lee, Y., Xu, F., Xu, C., Zhang,
L., and Song, J.

</span>
<span class="ltx_bibblock">Occlumency: Privacy-preserving remote deep-learning inference using
sgx.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">The 25th Annual International Conference on Mobile Computing
and Networking</em>, MobiCom ’19, New York, NY, USA, 2019. Association for
Computing Machinery.

</span>
<span class="ltx_bibblock">ISBN 9781450361699.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3300061.3345447</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1145/3300061.3345447" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1145/3300061.3345447</a>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2018)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Zaheer, M., Sanjabi, M., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.06127</em>, 2018.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2019)</span>
<span class="ltx_bibblock">
Li, T., Sanjabi, M., and Smith, V.

</span>
<span class="ltx_bibblock">Fair resource allocation in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1905.10497</em>, 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Zaheer, M., Sanjabi, M., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks, 2020.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LiKamWa et al. (2016)</span>
<span class="ltx_bibblock">
LiKamWa, R., Hou, Y., Gao, J., Polansky, M., and Zhong, L.

</span>
<span class="ltx_bibblock">Redeye: Analog convnet image sensor architecture for continuous
mobile vision.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 43rd International Symposium on Computer
Architecture</em>, ISCA ’16, pp.  255–266. IEEE Press, 2016.

</span>
<span class="ltx_bibblock">ISBN 9781467389471.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/ISCA.2016.31</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1109/ISCA.2016.31" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/ISCA.2016.31</a>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lite (2020)</span>
<span class="ltx_bibblock">
Lite, T.

</span>
<span class="ltx_bibblock">On-device model personalization.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://blog.tensorflow.org/2019/12/example-on-device-model-personalization.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://blog.tensorflow.org/2019/12/example-on-device-model-personalization.html</a>,
2020.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Malekzadeh et al. (2019)</span>
<span class="ltx_bibblock">
Malekzadeh, M., Athanasakis, D., Haddadi, H., and Livshits, B.

</span>
<span class="ltx_bibblock">Privacy-preserving bandits, 2019.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., and y Arcas, B. A.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In Singh, A. and Zhu, X. J. (eds.), <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 20th
International Conference on Artificial Intelligence and Statistics, AISTATS
2017, 20-22 April 2017, Fort Lauderdale, FL, USA</em>, volume 54 of
<em id="bib.bib29.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, pp.  1273–1282. PMLR,
2017.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://proceedings.mlr.press/v54/mcmahan17a.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://proceedings.mlr.press/v54/mcmahan17a.html</a>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Moritz et al. (2018)</span>
<span class="ltx_bibblock">
Moritz, P., Nishihara, R., Wang, S., Tumanov, A., Liaw, R., Liang, E., Elibol,
M., Yang, Z., Paul, W., Jordan, M. I., and Stoica, I.

</span>
<span class="ltx_bibblock">Ray: A distributed framework for emerging ai applications, 2018.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni et al. (2019)</span>
<span class="ltx_bibblock">
Ni, J., Li, J., and McAuley, J.

</span>
<span class="ltx_bibblock">Justifying recommendations using distantly-labeled reviews and
fine-grained aspects.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference on Empirical Methods in
Natural Language Processing and the 9th International Joint Conference on
Natural Language Processing (EMNLP-IJCNLP)</em>, pp.  188–197, 2019.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenSignal (2020)</span>
<span class="ltx_bibblock">
OpenSignal.

</span>
<span class="ltx_bibblock">The state of mobile network experience 2020: One year into the 5g
era.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.opensignal.com/reports/2020/05/global-state-of-the-mobile-network" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.opensignal.com/reports/2020/05/global-state-of-the-mobile-network</a>,
2020.

</span>
<span class="ltx_bibblock">accessed 10-Oct-20.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2021)</span>
<span class="ltx_bibblock">
Reddi, S., Charles, Z., Zaheer, M., Garrett, Z., Rush, K., Konečný, J.,
Kumar, S., and McMahan, H. B.

</span>
<span class="ltx_bibblock">Adaptive federated optimization, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Russakovsky et al. (2015)</span>
<span class="ltx_bibblock">
Russakovsky, O., Deng, J., Su, H., Krause, J., Satheesh, S., Ma, S., Huang, Z.,
Karpathy, A., Khosla, A., Bernstein, M., et al.

</span>
<span class="ltx_bibblock">Imagenet large scale visual recognition challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">International journal of computer vision</em>, 115(3):211–252, 2015.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ryffel et al. (2018)</span>
<span class="ltx_bibblock">
Ryffel, T., Trask, A., Dahl, M., Wagner, B., Mancuso, J., Rueckert, D., and
Passerat-Palmbach, J.

</span>
<span class="ltx_bibblock">A generic framework for privacy preserving deep learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1811.04017, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1811.04017" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1811.04017</a>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sanh et al. (2019)</span>
<span class="ltx_bibblock">
Sanh, V., Debut, L., Chaumond, J., and Wolf, T.

</span>
<span class="ltx_bibblock">Distilbert, a distilled version of bert: smaller, faster, cheaper and
lighter.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1910.01108</em>, 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sergeev &amp; Balso (2018)</span>
<span class="ltx_bibblock">
Sergeev, A. and Balso, M. D.

</span>
<span class="ltx_bibblock">Horovod: fast and easy distributed deep learning in tensorflow.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1802.05799, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1802.05799" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1802.05799</a>.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al. (2021)</span>
<span class="ltx_bibblock">
Singh, S. P., Sharma, M. K., Lay-Ekuakille, A., Gangwar, D., and Gupta, S.

</span>
<span class="ltx_bibblock">Deep convlstm with self-attention for human activity decoding using
wearable sensors.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">IEEE Sensors Journal</em>, 21(6):8575–8582,
Mar 2021.

</span>
<span class="ltx_bibblock">ISSN 2379-9153.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/jsen.2020.3045135</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://dx.doi.org/10.1109/JSEN.2020.3045135" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://dx.doi.org/10.1109/JSEN.2020.3045135</a>.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Smith et al. (2017)</span>
<span class="ltx_bibblock">
Smith, V., Chiang, C.-K., Sanjabi, M., and Talwalkar, A. S.

</span>
<span class="ltx_bibblock">Federated multi-task learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, pp. 4424–4434, 2017.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sztyler &amp; Stuckenschmidt (2016)</span>
<span class="ltx_bibblock">
Sztyler, T. and Stuckenschmidt, H.

</span>
<span class="ltx_bibblock">On-body localization of wearable devices: An investigation of
position-aware activity recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">2016 IEEE International Conference on Pervasive Computing
and Communications (PerCom)</em>, pp.  1–9. IEEE Computer Society, 2016.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/PERCOM.2016.7456521</span>.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">W. Falcon (2019)</span>
<span class="ltx_bibblock">
W. Falcon, e. a.

</span>
<span class="ltx_bibblock">Pytorch lightning, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://github.com/williamFalcon/pytorch-lightning" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/williamFalcon/pytorch-lightning</a>.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2017)</span>
<span class="ltx_bibblock">
Xiao, H., Rasul, K., and Vollgraf, R.

</span>
<span class="ltx_bibblock">Fashion-mnist: a novel image dataset for benchmarking machine
learning algorithms.

</span>
<span class="ltx_bibblock"><em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1708.07747</em>, 2017.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2019)</span>
<span class="ltx_bibblock">
Xie, C., Koyejo, S., and Gupta, I.

</span>
<span class="ltx_bibblock">Zeno: Distributed stochastic gradient descent with suspicion-based
fault-tolerance.

</span>
<span class="ltx_bibblock">In Chaudhuri, K. and Salakhutdinov, R. (eds.), <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">Proceedings of
the 36th International Conference on Machine Learning</em>, volume 97 of
<em id="bib.bib43.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, pp.  6893–6901, Long
Beach, California, USA, 09–15 Jun 2019. PMLR.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://proceedings.mlr.press/v97/xie19b.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://proceedings.mlr.press/v97/xie19b.html</a>.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2019)</span>
<span class="ltx_bibblock">
Yao, Y., Li, H., Zheng, H., and Zhao, B. Y.

</span>
<span class="ltx_bibblock">Latent backdoor attacks on deep neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 ACM SIGSAC Conference on Computer
and Communications Security</em>, CCS ’19, pp.  2041–2055, New York, NY,
USA, 2019. Association for Computing Machinery.

</span>
<span class="ltx_bibblock">ISBN 9781450367479.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3319535.3354209</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1145/3319535.3354209" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1145/3319535.3354209</a>.

</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Survey on papers</h3>

<div id="A1.SS1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS1.p1.4" class="ltx_p">From a systems perspective, a major bottleneck to FL research is the paucity of frameworks that support scalable execution of FL methods on mobile and edge devices. Fig. <a href="#A1.F9" title="Figure 9 ‣ A.1 Survey on papers ‣ Appendix A Appendix" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the histograms of total number of clients in the FL pools in research papers. The research papers is gathered from Google Scholar that is related to federated learning from last 2 years which consists of total <math id="A1.SS1.p1.1.m1.1" class="ltx_Math" alttext="150" display="inline"><semantics id="A1.SS1.p1.1.m1.1a"><mn id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml">150</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><cn type="integer" id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1">150</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">150</annotation></semantics></math> papers in the survey. We excluded papers that are using the framework not available to reproduced the results. As we can see from the histogram, the majority of experiments only use up to <math id="A1.SS1.p1.2.m2.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A1.SS1.p1.2.m2.1a"><mn id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><cn type="integer" id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">100</annotation></semantics></math> total clients, which usually on datasets such as CIFAR10 and ImageNet. There are only <math id="A1.SS1.p1.3.m3.1" class="ltx_Math" alttext="3" display="inline"><semantics id="A1.SS1.p1.3.m3.1a"><mn id="A1.SS1.p1.3.m3.1.1" xref="A1.SS1.p1.3.m3.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.1b"><cn type="integer" id="A1.SS1.p1.3.m3.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.1c">3</annotation></semantics></math> papers using the dataset with a total clients pool up to <math id="A1.SS1.p1.4.m4.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A1.SS1.p1.4.m4.1a"><mn id="A1.SS1.p1.4.m4.1.1" xref="A1.SS1.p1.4.m4.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.1b"><cn type="integer" id="A1.SS1.p1.4.m4.1.1.cmml" xref="A1.SS1.p1.4.m4.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.1c">1</annotation></semantics></math> millions, and they are using the Reddit and Sentiment140 dataset from leaf <cite class="ltx_cite ltx_citemacro_cite">Caldas et al. (<a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<figure id="A1.F9" class="ltx_figure"><img src="/html/2007.14390/assets/x7.png" id="A1.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="233" height="186" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Histograms of the number of total FL clients used in FL research papers in the last two years. A vast majority of papers only use up to 100 clients.</figcaption>
</figure>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>FedFS Algorithm</h3>

<div id="A1.SS2.p1" class="ltx_para ltx_noindent">
<p id="A1.SS2.p1.1" class="ltx_p">We introduce <em id="A1.SS2.p1.1.1" class="ltx_emph ltx_font_italic">Federating: Fast and Slow</em> (<em id="A1.SS2.p1.1.2" class="ltx_emph ltx_font_italic">FedFS</em>) to overcomes the challenges arising from heterogeneous devices and non-IID data. <em id="A1.SS2.p1.1.3" class="ltx_emph ltx_font_italic">FedFS</em> acknowledges the difference in compute capabilities inherent in networks of mobile devices by combining partial work, importance sampling, and dynamic timeouts to enable clients to contribute equally to the global model.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para ltx_noindent">
<p id="A1.SS2.p2.12" class="ltx_p"><span id="A1.SS2.p2.12.1" class="ltx_text ltx_font_bold">Partial work</span>. Given a (local) data set of size <math id="A1.SS2.p2.1.m1.1" class="ltx_Math" alttext="m_{k}" display="inline"><semantics id="A1.SS2.p2.1.m1.1a"><msub id="A1.SS2.p2.1.m1.1.1" xref="A1.SS2.p2.1.m1.1.1.cmml"><mi id="A1.SS2.p2.1.m1.1.1.2" xref="A1.SS2.p2.1.m1.1.1.2.cmml">m</mi><mi id="A1.SS2.p2.1.m1.1.1.3" xref="A1.SS2.p2.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.1.m1.1b"><apply id="A1.SS2.p2.1.m1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS2.p2.1.m1.1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="A1.SS2.p2.1.m1.1.1.2.cmml" xref="A1.SS2.p2.1.m1.1.1.2">𝑚</ci><ci id="A1.SS2.p2.1.m1.1.1.3.cmml" xref="A1.SS2.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.1.m1.1c">m_{k}</annotation></semantics></math> on client <math id="A1.SS2.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p2.2.m2.1a"><mi id="A1.SS2.p2.2.m2.1.1" xref="A1.SS2.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.2.m2.1b"><ci id="A1.SS2.p2.2.m2.1.1.cmml" xref="A1.SS2.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.2.m2.1c">k</annotation></semantics></math>, a batch size of <math id="A1.SS2.p2.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="A1.SS2.p2.3.m3.1a"><mi id="A1.SS2.p2.3.m3.1.1" xref="A1.SS2.p2.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.3.m3.1b"><ci id="A1.SS2.p2.3.m3.1.1.cmml" xref="A1.SS2.p2.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.3.m3.1c">B</annotation></semantics></math>, and the number of local training epochs <math id="A1.SS2.p2.4.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A1.SS2.p2.4.m4.1a"><mi id="A1.SS2.p2.4.m4.1.1" xref="A1.SS2.p2.4.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.4.m4.1b"><ci id="A1.SS2.p2.4.m4.1.1.cmml" xref="A1.SS2.p2.4.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.4.m4.1c">E</annotation></semantics></math>, FedAvg performs <math id="A1.SS2.p2.5.m5.1" class="ltx_Math" alttext="E\frac{m_{k}}{B}" display="inline"><semantics id="A1.SS2.p2.5.m5.1a"><mrow id="A1.SS2.p2.5.m5.1.1" xref="A1.SS2.p2.5.m5.1.1.cmml"><mi id="A1.SS2.p2.5.m5.1.1.2" xref="A1.SS2.p2.5.m5.1.1.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.5.m5.1.1.1" xref="A1.SS2.p2.5.m5.1.1.1.cmml">​</mo><mfrac id="A1.SS2.p2.5.m5.1.1.3" xref="A1.SS2.p2.5.m5.1.1.3.cmml"><msub id="A1.SS2.p2.5.m5.1.1.3.2" xref="A1.SS2.p2.5.m5.1.1.3.2.cmml"><mi id="A1.SS2.p2.5.m5.1.1.3.2.2" xref="A1.SS2.p2.5.m5.1.1.3.2.2.cmml">m</mi><mi id="A1.SS2.p2.5.m5.1.1.3.2.3" xref="A1.SS2.p2.5.m5.1.1.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p2.5.m5.1.1.3.3" xref="A1.SS2.p2.5.m5.1.1.3.3.cmml">B</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.5.m5.1b"><apply id="A1.SS2.p2.5.m5.1.1.cmml" xref="A1.SS2.p2.5.m5.1.1"><times id="A1.SS2.p2.5.m5.1.1.1.cmml" xref="A1.SS2.p2.5.m5.1.1.1"></times><ci id="A1.SS2.p2.5.m5.1.1.2.cmml" xref="A1.SS2.p2.5.m5.1.1.2">𝐸</ci><apply id="A1.SS2.p2.5.m5.1.1.3.cmml" xref="A1.SS2.p2.5.m5.1.1.3"><divide id="A1.SS2.p2.5.m5.1.1.3.1.cmml" xref="A1.SS2.p2.5.m5.1.1.3"></divide><apply id="A1.SS2.p2.5.m5.1.1.3.2.cmml" xref="A1.SS2.p2.5.m5.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p2.5.m5.1.1.3.2.1.cmml" xref="A1.SS2.p2.5.m5.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p2.5.m5.1.1.3.2.2.cmml" xref="A1.SS2.p2.5.m5.1.1.3.2.2">𝑚</ci><ci id="A1.SS2.p2.5.m5.1.1.3.2.3.cmml" xref="A1.SS2.p2.5.m5.1.1.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p2.5.m5.1.1.3.3.cmml" xref="A1.SS2.p2.5.m5.1.1.3.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.5.m5.1c">E\frac{m_{k}}{B}</annotation></semantics></math> (local) gradient updates <math id="A1.SS2.p2.6.m6.2" class="ltx_Math" alttext="\theta^{k}\leftarrow\theta^{k}-\eta\triangledown\ell(b;\theta^{k})" display="inline"><semantics id="A1.SS2.p2.6.m6.2a"><mrow id="A1.SS2.p2.6.m6.2.2" xref="A1.SS2.p2.6.m6.2.2.cmml"><msup id="A1.SS2.p2.6.m6.2.2.3" xref="A1.SS2.p2.6.m6.2.2.3.cmml"><mi id="A1.SS2.p2.6.m6.2.2.3.2" xref="A1.SS2.p2.6.m6.2.2.3.2.cmml">θ</mi><mi id="A1.SS2.p2.6.m6.2.2.3.3" xref="A1.SS2.p2.6.m6.2.2.3.3.cmml">k</mi></msup><mo stretchy="false" id="A1.SS2.p2.6.m6.2.2.2" xref="A1.SS2.p2.6.m6.2.2.2.cmml">←</mo><mrow id="A1.SS2.p2.6.m6.2.2.1" xref="A1.SS2.p2.6.m6.2.2.1.cmml"><msup id="A1.SS2.p2.6.m6.2.2.1.3" xref="A1.SS2.p2.6.m6.2.2.1.3.cmml"><mi id="A1.SS2.p2.6.m6.2.2.1.3.2" xref="A1.SS2.p2.6.m6.2.2.1.3.2.cmml">θ</mi><mi id="A1.SS2.p2.6.m6.2.2.1.3.3" xref="A1.SS2.p2.6.m6.2.2.1.3.3.cmml">k</mi></msup><mo id="A1.SS2.p2.6.m6.2.2.1.2" xref="A1.SS2.p2.6.m6.2.2.1.2.cmml">−</mo><mrow id="A1.SS2.p2.6.m6.2.2.1.1" xref="A1.SS2.p2.6.m6.2.2.1.1.cmml"><mi id="A1.SS2.p2.6.m6.2.2.1.1.3" xref="A1.SS2.p2.6.m6.2.2.1.1.3.cmml">η</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.6.m6.2.2.1.1.2" xref="A1.SS2.p2.6.m6.2.2.1.1.2.cmml">​</mo><mi mathvariant="normal" id="A1.SS2.p2.6.m6.2.2.1.1.4" xref="A1.SS2.p2.6.m6.2.2.1.1.4.cmml">▽</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.6.m6.2.2.1.1.2a" xref="A1.SS2.p2.6.m6.2.2.1.1.2.cmml">​</mo><mi mathvariant="normal" id="A1.SS2.p2.6.m6.2.2.1.1.5" xref="A1.SS2.p2.6.m6.2.2.1.1.5.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.6.m6.2.2.1.1.2b" xref="A1.SS2.p2.6.m6.2.2.1.1.2.cmml">​</mo><mrow id="A1.SS2.p2.6.m6.2.2.1.1.1.1" xref="A1.SS2.p2.6.m6.2.2.1.1.1.2.cmml"><mo stretchy="false" id="A1.SS2.p2.6.m6.2.2.1.1.1.1.2" xref="A1.SS2.p2.6.m6.2.2.1.1.1.2.cmml">(</mo><mi id="A1.SS2.p2.6.m6.1.1" xref="A1.SS2.p2.6.m6.1.1.cmml">b</mi><mo id="A1.SS2.p2.6.m6.2.2.1.1.1.1.3" xref="A1.SS2.p2.6.m6.2.2.1.1.1.2.cmml">;</mo><msup id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.cmml"><mi id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.2" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.2.cmml">θ</mi><mi id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.3" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.3.cmml">k</mi></msup><mo stretchy="false" id="A1.SS2.p2.6.m6.2.2.1.1.1.1.4" xref="A1.SS2.p2.6.m6.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.6.m6.2b"><apply id="A1.SS2.p2.6.m6.2.2.cmml" xref="A1.SS2.p2.6.m6.2.2"><ci id="A1.SS2.p2.6.m6.2.2.2.cmml" xref="A1.SS2.p2.6.m6.2.2.2">←</ci><apply id="A1.SS2.p2.6.m6.2.2.3.cmml" xref="A1.SS2.p2.6.m6.2.2.3"><csymbol cd="ambiguous" id="A1.SS2.p2.6.m6.2.2.3.1.cmml" xref="A1.SS2.p2.6.m6.2.2.3">superscript</csymbol><ci id="A1.SS2.p2.6.m6.2.2.3.2.cmml" xref="A1.SS2.p2.6.m6.2.2.3.2">𝜃</ci><ci id="A1.SS2.p2.6.m6.2.2.3.3.cmml" xref="A1.SS2.p2.6.m6.2.2.3.3">𝑘</ci></apply><apply id="A1.SS2.p2.6.m6.2.2.1.cmml" xref="A1.SS2.p2.6.m6.2.2.1"><minus id="A1.SS2.p2.6.m6.2.2.1.2.cmml" xref="A1.SS2.p2.6.m6.2.2.1.2"></minus><apply id="A1.SS2.p2.6.m6.2.2.1.3.cmml" xref="A1.SS2.p2.6.m6.2.2.1.3"><csymbol cd="ambiguous" id="A1.SS2.p2.6.m6.2.2.1.3.1.cmml" xref="A1.SS2.p2.6.m6.2.2.1.3">superscript</csymbol><ci id="A1.SS2.p2.6.m6.2.2.1.3.2.cmml" xref="A1.SS2.p2.6.m6.2.2.1.3.2">𝜃</ci><ci id="A1.SS2.p2.6.m6.2.2.1.3.3.cmml" xref="A1.SS2.p2.6.m6.2.2.1.3.3">𝑘</ci></apply><apply id="A1.SS2.p2.6.m6.2.2.1.1.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1"><times id="A1.SS2.p2.6.m6.2.2.1.1.2.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.2"></times><ci id="A1.SS2.p2.6.m6.2.2.1.1.3.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.3">𝜂</ci><ci id="A1.SS2.p2.6.m6.2.2.1.1.4.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.4">▽</ci><ci id="A1.SS2.p2.6.m6.2.2.1.1.5.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.5">ℓ</ci><list id="A1.SS2.p2.6.m6.2.2.1.1.1.2.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1"><ci id="A1.SS2.p2.6.m6.1.1.cmml" xref="A1.SS2.p2.6.m6.1.1">𝑏</ci><apply id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.1.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1">superscript</csymbol><ci id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.2.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.2">𝜃</ci><ci id="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.3.cmml" xref="A1.SS2.p2.6.m6.2.2.1.1.1.1.1.3">𝑘</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.6.m6.2c">\theta^{k}\leftarrow\theta^{k}-\eta\triangledown\ell(b;\theta^{k})</annotation></semantics></math> before returning <math id="A1.SS2.p2.7.m7.1" class="ltx_Math" alttext="\theta^{k}" display="inline"><semantics id="A1.SS2.p2.7.m7.1a"><msup id="A1.SS2.p2.7.m7.1.1" xref="A1.SS2.p2.7.m7.1.1.cmml"><mi id="A1.SS2.p2.7.m7.1.1.2" xref="A1.SS2.p2.7.m7.1.1.2.cmml">θ</mi><mi id="A1.SS2.p2.7.m7.1.1.3" xref="A1.SS2.p2.7.m7.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.7.m7.1b"><apply id="A1.SS2.p2.7.m7.1.1.cmml" xref="A1.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="A1.SS2.p2.7.m7.1.1.1.cmml" xref="A1.SS2.p2.7.m7.1.1">superscript</csymbol><ci id="A1.SS2.p2.7.m7.1.1.2.cmml" xref="A1.SS2.p2.7.m7.1.1.2">𝜃</ci><ci id="A1.SS2.p2.7.m7.1.1.3.cmml" xref="A1.SS2.p2.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.7.m7.1c">\theta^{k}</annotation></semantics></math> to the server. The asynchronous setting treats the success of local update computation as binary. If a client succeeds in computing <math id="A1.SS2.p2.8.m8.1" class="ltx_Math" alttext="E\frac{m_{k}}{B}" display="inline"><semantics id="A1.SS2.p2.8.m8.1a"><mrow id="A1.SS2.p2.8.m8.1.1" xref="A1.SS2.p2.8.m8.1.1.cmml"><mi id="A1.SS2.p2.8.m8.1.1.2" xref="A1.SS2.p2.8.m8.1.1.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.8.m8.1.1.1" xref="A1.SS2.p2.8.m8.1.1.1.cmml">​</mo><mfrac id="A1.SS2.p2.8.m8.1.1.3" xref="A1.SS2.p2.8.m8.1.1.3.cmml"><msub id="A1.SS2.p2.8.m8.1.1.3.2" xref="A1.SS2.p2.8.m8.1.1.3.2.cmml"><mi id="A1.SS2.p2.8.m8.1.1.3.2.2" xref="A1.SS2.p2.8.m8.1.1.3.2.2.cmml">m</mi><mi id="A1.SS2.p2.8.m8.1.1.3.2.3" xref="A1.SS2.p2.8.m8.1.1.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p2.8.m8.1.1.3.3" xref="A1.SS2.p2.8.m8.1.1.3.3.cmml">B</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.8.m8.1b"><apply id="A1.SS2.p2.8.m8.1.1.cmml" xref="A1.SS2.p2.8.m8.1.1"><times id="A1.SS2.p2.8.m8.1.1.1.cmml" xref="A1.SS2.p2.8.m8.1.1.1"></times><ci id="A1.SS2.p2.8.m8.1.1.2.cmml" xref="A1.SS2.p2.8.m8.1.1.2">𝐸</ci><apply id="A1.SS2.p2.8.m8.1.1.3.cmml" xref="A1.SS2.p2.8.m8.1.1.3"><divide id="A1.SS2.p2.8.m8.1.1.3.1.cmml" xref="A1.SS2.p2.8.m8.1.1.3"></divide><apply id="A1.SS2.p2.8.m8.1.1.3.2.cmml" xref="A1.SS2.p2.8.m8.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p2.8.m8.1.1.3.2.1.cmml" xref="A1.SS2.p2.8.m8.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p2.8.m8.1.1.3.2.2.cmml" xref="A1.SS2.p2.8.m8.1.1.3.2.2">𝑚</ci><ci id="A1.SS2.p2.8.m8.1.1.3.2.3.cmml" xref="A1.SS2.p2.8.m8.1.1.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p2.8.m8.1.1.3.3.cmml" xref="A1.SS2.p2.8.m8.1.1.3.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.8.m8.1c">E\frac{m_{k}}{B}</annotation></semantics></math> mini-batch updates before reaching a timeout <math id="A1.SS2.p2.9.m9.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p2.9.m9.1a"><mi mathvariant="normal" id="A1.SS2.p2.9.m9.1.1" xref="A1.SS2.p2.9.m9.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.9.m9.1b"><ci id="A1.SS2.p2.9.m9.1.1.cmml" xref="A1.SS2.p2.9.m9.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.9.m9.1c">\Delta</annotation></semantics></math>, their weight update is considered by the server, otherwise it is discarded. The server then averages all successful <math id="A1.SS2.p2.10.m10.2" class="ltx_math_unparsed" alttext="\theta_{k\in\{0,..,K\}}" display="inline"><semantics id="A1.SS2.p2.10.m10.2a"><msub id="A1.SS2.p2.10.m10.2.3"><mi id="A1.SS2.p2.10.m10.2.3.2">θ</mi><mrow id="A1.SS2.p2.10.m10.2.2.2"><mi id="A1.SS2.p2.10.m10.1.1.1.1">k</mi><mo id="A1.SS2.p2.10.m10.2.2.2.2">∈</mo><mrow id="A1.SS2.p2.10.m10.2.2.2.3"><mo stretchy="false" id="A1.SS2.p2.10.m10.2.2.2.3.1">{</mo><mn id="A1.SS2.p2.10.m10.2.2.2.3.2">0</mn><mo id="A1.SS2.p2.10.m10.2.2.2.3.3">,</mo><mo lspace="0em" rspace="0.0835em" id="A1.SS2.p2.10.m10.2.2.2.3.4">.</mo><mo lspace="0.0835em" rspace="0.167em" id="A1.SS2.p2.10.m10.2.2.2.3.5">.</mo><mo id="A1.SS2.p2.10.m10.2.2.2.3.6">,</mo><mi id="A1.SS2.p2.10.m10.2.2.2.3.7">K</mi><mo stretchy="false" id="A1.SS2.p2.10.m10.2.2.2.3.8">}</mo></mrow></mrow></msub><annotation encoding="application/x-tex" id="A1.SS2.p2.10.m10.2b">\theta_{k\in\{0,..,K\}}</annotation></semantics></math> updates, weighted by <math id="A1.SS2.p2.11.m11.1" class="ltx_Math" alttext="m_{k}" display="inline"><semantics id="A1.SS2.p2.11.m11.1a"><msub id="A1.SS2.p2.11.m11.1.1" xref="A1.SS2.p2.11.m11.1.1.cmml"><mi id="A1.SS2.p2.11.m11.1.1.2" xref="A1.SS2.p2.11.m11.1.1.2.cmml">m</mi><mi id="A1.SS2.p2.11.m11.1.1.3" xref="A1.SS2.p2.11.m11.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.11.m11.1b"><apply id="A1.SS2.p2.11.m11.1.1.cmml" xref="A1.SS2.p2.11.m11.1.1"><csymbol cd="ambiguous" id="A1.SS2.p2.11.m11.1.1.1.cmml" xref="A1.SS2.p2.11.m11.1.1">subscript</csymbol><ci id="A1.SS2.p2.11.m11.1.1.2.cmml" xref="A1.SS2.p2.11.m11.1.1.2">𝑚</ci><ci id="A1.SS2.p2.11.m11.1.1.3.cmml" xref="A1.SS2.p2.11.m11.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.11.m11.1c">m_{k}</annotation></semantics></math>, the number of training examples on client <math id="A1.SS2.p2.12.m12.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p2.12.m12.1a"><mi id="A1.SS2.p2.12.m12.1.1" xref="A1.SS2.p2.12.m12.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.12.m12.1b"><ci id="A1.SS2.p2.12.m12.1.1.cmml" xref="A1.SS2.p2.12.m12.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.12.m12.1c">k</annotation></semantics></math>.</p>
</div>
<div id="A1.SS2.p3" class="ltx_para ltx_noindent">
<p id="A1.SS2.p3.12" class="ltx_p">This is wasteful because a clients’ computation might be discarded upon reaching <math id="A1.SS2.p3.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p3.1.m1.1a"><mi mathvariant="normal" id="A1.SS2.p3.1.m1.1.1" xref="A1.SS2.p3.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.1.m1.1b"><ci id="A1.SS2.p3.1.m1.1.1.cmml" xref="A1.SS2.p3.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.1.m1.1c">\Delta</annotation></semantics></math> even if it was close to computing the full <math id="A1.SS2.p3.2.m2.1" class="ltx_Math" alttext="E\frac{m_{k}}{B}" display="inline"><semantics id="A1.SS2.p3.2.m2.1a"><mrow id="A1.SS2.p3.2.m2.1.1" xref="A1.SS2.p3.2.m2.1.1.cmml"><mi id="A1.SS2.p3.2.m2.1.1.2" xref="A1.SS2.p3.2.m2.1.1.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p3.2.m2.1.1.1" xref="A1.SS2.p3.2.m2.1.1.1.cmml">​</mo><mfrac id="A1.SS2.p3.2.m2.1.1.3" xref="A1.SS2.p3.2.m2.1.1.3.cmml"><msub id="A1.SS2.p3.2.m2.1.1.3.2" xref="A1.SS2.p3.2.m2.1.1.3.2.cmml"><mi id="A1.SS2.p3.2.m2.1.1.3.2.2" xref="A1.SS2.p3.2.m2.1.1.3.2.2.cmml">m</mi><mi id="A1.SS2.p3.2.m2.1.1.3.2.3" xref="A1.SS2.p3.2.m2.1.1.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p3.2.m2.1.1.3.3" xref="A1.SS2.p3.2.m2.1.1.3.3.cmml">B</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.2.m2.1b"><apply id="A1.SS2.p3.2.m2.1.1.cmml" xref="A1.SS2.p3.2.m2.1.1"><times id="A1.SS2.p3.2.m2.1.1.1.cmml" xref="A1.SS2.p3.2.m2.1.1.1"></times><ci id="A1.SS2.p3.2.m2.1.1.2.cmml" xref="A1.SS2.p3.2.m2.1.1.2">𝐸</ci><apply id="A1.SS2.p3.2.m2.1.1.3.cmml" xref="A1.SS2.p3.2.m2.1.1.3"><divide id="A1.SS2.p3.2.m2.1.1.3.1.cmml" xref="A1.SS2.p3.2.m2.1.1.3"></divide><apply id="A1.SS2.p3.2.m2.1.1.3.2.cmml" xref="A1.SS2.p3.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p3.2.m2.1.1.3.2.1.cmml" xref="A1.SS2.p3.2.m2.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p3.2.m2.1.1.3.2.2.cmml" xref="A1.SS2.p3.2.m2.1.1.3.2.2">𝑚</ci><ci id="A1.SS2.p3.2.m2.1.1.3.2.3.cmml" xref="A1.SS2.p3.2.m2.1.1.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p3.2.m2.1.1.3.3.cmml" xref="A1.SS2.p3.2.m2.1.1.3.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.2.m2.1c">E\frac{m_{k}}{B}</annotation></semantics></math> gradient updates. We therefore apply the concept of partial work <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib23" title="" class="ltx_ref">2018</a>)</cite> in which a client submits their locally updated <math id="A1.SS2.p3.3.m3.1" class="ltx_Math" alttext="\theta_{k}" display="inline"><semantics id="A1.SS2.p3.3.m3.1a"><msub id="A1.SS2.p3.3.m3.1.1" xref="A1.SS2.p3.3.m3.1.1.cmml"><mi id="A1.SS2.p3.3.m3.1.1.2" xref="A1.SS2.p3.3.m3.1.1.2.cmml">θ</mi><mi id="A1.SS2.p3.3.m3.1.1.3" xref="A1.SS2.p3.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.3.m3.1b"><apply id="A1.SS2.p3.3.m3.1.1.cmml" xref="A1.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.3.m3.1.1.1.cmml" xref="A1.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="A1.SS2.p3.3.m3.1.1.2.cmml" xref="A1.SS2.p3.3.m3.1.1.2">𝜃</ci><ci id="A1.SS2.p3.3.m3.1.1.3.cmml" xref="A1.SS2.p3.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.3.m3.1c">\theta_{k}</annotation></semantics></math> upon reaching <math id="A1.SS2.p3.4.m4.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p3.4.m4.1a"><mi mathvariant="normal" id="A1.SS2.p3.4.m4.1.1" xref="A1.SS2.p3.4.m4.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.4.m4.1b"><ci id="A1.SS2.p3.4.m4.1.1.cmml" xref="A1.SS2.p3.4.m4.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.4.m4.1c">\Delta</annotation></semantics></math> along with <math id="A1.SS2.p3.5.m5.1" class="ltx_Math" alttext="c_{k}" display="inline"><semantics id="A1.SS2.p3.5.m5.1a"><msub id="A1.SS2.p3.5.m5.1.1" xref="A1.SS2.p3.5.m5.1.1.cmml"><mi id="A1.SS2.p3.5.m5.1.1.2" xref="A1.SS2.p3.5.m5.1.1.2.cmml">c</mi><mi id="A1.SS2.p3.5.m5.1.1.3" xref="A1.SS2.p3.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.5.m5.1b"><apply id="A1.SS2.p3.5.m5.1.1.cmml" xref="A1.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.5.m5.1.1.1.cmml" xref="A1.SS2.p3.5.m5.1.1">subscript</csymbol><ci id="A1.SS2.p3.5.m5.1.1.2.cmml" xref="A1.SS2.p3.5.m5.1.1.2">𝑐</ci><ci id="A1.SS2.p3.5.m5.1.1.3.cmml" xref="A1.SS2.p3.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.5.m5.1c">c_{k}</annotation></semantics></math>, the number of examples actually involved in computing <math id="A1.SS2.p3.6.m6.1" class="ltx_Math" alttext="\theta_{k}" display="inline"><semantics id="A1.SS2.p3.6.m6.1a"><msub id="A1.SS2.p3.6.m6.1.1" xref="A1.SS2.p3.6.m6.1.1.cmml"><mi id="A1.SS2.p3.6.m6.1.1.2" xref="A1.SS2.p3.6.m6.1.1.2.cmml">θ</mi><mi id="A1.SS2.p3.6.m6.1.1.3" xref="A1.SS2.p3.6.m6.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.6.m6.1b"><apply id="A1.SS2.p3.6.m6.1.1.cmml" xref="A1.SS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.6.m6.1.1.1.cmml" xref="A1.SS2.p3.6.m6.1.1">subscript</csymbol><ci id="A1.SS2.p3.6.m6.1.1.2.cmml" xref="A1.SS2.p3.6.m6.1.1.2">𝜃</ci><ci id="A1.SS2.p3.6.m6.1.1.3.cmml" xref="A1.SS2.p3.6.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.6.m6.1c">\theta_{k}</annotation></semantics></math>, even if <math id="A1.SS2.p3.7.m7.1" class="ltx_Math" alttext="c_{k}&lt;E\frac{m_{k}}{B}B" display="inline"><semantics id="A1.SS2.p3.7.m7.1a"><mrow id="A1.SS2.p3.7.m7.1.1" xref="A1.SS2.p3.7.m7.1.1.cmml"><msub id="A1.SS2.p3.7.m7.1.1.2" xref="A1.SS2.p3.7.m7.1.1.2.cmml"><mi id="A1.SS2.p3.7.m7.1.1.2.2" xref="A1.SS2.p3.7.m7.1.1.2.2.cmml">c</mi><mi id="A1.SS2.p3.7.m7.1.1.2.3" xref="A1.SS2.p3.7.m7.1.1.2.3.cmml">k</mi></msub><mo id="A1.SS2.p3.7.m7.1.1.1" xref="A1.SS2.p3.7.m7.1.1.1.cmml">&lt;</mo><mrow id="A1.SS2.p3.7.m7.1.1.3" xref="A1.SS2.p3.7.m7.1.1.3.cmml"><mi id="A1.SS2.p3.7.m7.1.1.3.2" xref="A1.SS2.p3.7.m7.1.1.3.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p3.7.m7.1.1.3.1" xref="A1.SS2.p3.7.m7.1.1.3.1.cmml">​</mo><mfrac id="A1.SS2.p3.7.m7.1.1.3.3" xref="A1.SS2.p3.7.m7.1.1.3.3.cmml"><msub id="A1.SS2.p3.7.m7.1.1.3.3.2" xref="A1.SS2.p3.7.m7.1.1.3.3.2.cmml"><mi id="A1.SS2.p3.7.m7.1.1.3.3.2.2" xref="A1.SS2.p3.7.m7.1.1.3.3.2.2.cmml">m</mi><mi id="A1.SS2.p3.7.m7.1.1.3.3.2.3" xref="A1.SS2.p3.7.m7.1.1.3.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p3.7.m7.1.1.3.3.3" xref="A1.SS2.p3.7.m7.1.1.3.3.3.cmml">B</mi></mfrac><mo lspace="0em" rspace="0em" id="A1.SS2.p3.7.m7.1.1.3.1a" xref="A1.SS2.p3.7.m7.1.1.3.1.cmml">​</mo><mi id="A1.SS2.p3.7.m7.1.1.3.4" xref="A1.SS2.p3.7.m7.1.1.3.4.cmml">B</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.7.m7.1b"><apply id="A1.SS2.p3.7.m7.1.1.cmml" xref="A1.SS2.p3.7.m7.1.1"><lt id="A1.SS2.p3.7.m7.1.1.1.cmml" xref="A1.SS2.p3.7.m7.1.1.1"></lt><apply id="A1.SS2.p3.7.m7.1.1.2.cmml" xref="A1.SS2.p3.7.m7.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p3.7.m7.1.1.2.1.cmml" xref="A1.SS2.p3.7.m7.1.1.2">subscript</csymbol><ci id="A1.SS2.p3.7.m7.1.1.2.2.cmml" xref="A1.SS2.p3.7.m7.1.1.2.2">𝑐</ci><ci id="A1.SS2.p3.7.m7.1.1.2.3.cmml" xref="A1.SS2.p3.7.m7.1.1.2.3">𝑘</ci></apply><apply id="A1.SS2.p3.7.m7.1.1.3.cmml" xref="A1.SS2.p3.7.m7.1.1.3"><times id="A1.SS2.p3.7.m7.1.1.3.1.cmml" xref="A1.SS2.p3.7.m7.1.1.3.1"></times><ci id="A1.SS2.p3.7.m7.1.1.3.2.cmml" xref="A1.SS2.p3.7.m7.1.1.3.2">𝐸</ci><apply id="A1.SS2.p3.7.m7.1.1.3.3.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3"><divide id="A1.SS2.p3.7.m7.1.1.3.3.1.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3"></divide><apply id="A1.SS2.p3.7.m7.1.1.3.3.2.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3.2"><csymbol cd="ambiguous" id="A1.SS2.p3.7.m7.1.1.3.3.2.1.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3.2">subscript</csymbol><ci id="A1.SS2.p3.7.m7.1.1.3.3.2.2.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3.2.2">𝑚</ci><ci id="A1.SS2.p3.7.m7.1.1.3.3.2.3.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p3.7.m7.1.1.3.3.3.cmml" xref="A1.SS2.p3.7.m7.1.1.3.3.3">𝐵</ci></apply><ci id="A1.SS2.p3.7.m7.1.1.3.4.cmml" xref="A1.SS2.p3.7.m7.1.1.3.4">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.7.m7.1c">c_{k}&lt;E\frac{m_{k}}{B}B</annotation></semantics></math>. The server averages by <math id="A1.SS2.p3.8.m8.1" class="ltx_Math" alttext="c_{k}" display="inline"><semantics id="A1.SS2.p3.8.m8.1a"><msub id="A1.SS2.p3.8.m8.1.1" xref="A1.SS2.p3.8.m8.1.1.cmml"><mi id="A1.SS2.p3.8.m8.1.1.2" xref="A1.SS2.p3.8.m8.1.1.2.cmml">c</mi><mi id="A1.SS2.p3.8.m8.1.1.3" xref="A1.SS2.p3.8.m8.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.8.m8.1b"><apply id="A1.SS2.p3.8.m8.1.1.cmml" xref="A1.SS2.p3.8.m8.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.8.m8.1.1.1.cmml" xref="A1.SS2.p3.8.m8.1.1">subscript</csymbol><ci id="A1.SS2.p3.8.m8.1.1.2.cmml" xref="A1.SS2.p3.8.m8.1.1.2">𝑐</ci><ci id="A1.SS2.p3.8.m8.1.1.3.cmml" xref="A1.SS2.p3.8.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.8.m8.1c">c_{k}</annotation></semantics></math>, not <math id="A1.SS2.p3.9.m9.1" class="ltx_Math" alttext="m_{k}" display="inline"><semantics id="A1.SS2.p3.9.m9.1a"><msub id="A1.SS2.p3.9.m9.1.1" xref="A1.SS2.p3.9.m9.1.1.cmml"><mi id="A1.SS2.p3.9.m9.1.1.2" xref="A1.SS2.p3.9.m9.1.1.2.cmml">m</mi><mi id="A1.SS2.p3.9.m9.1.1.3" xref="A1.SS2.p3.9.m9.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.9.m9.1b"><apply id="A1.SS2.p3.9.m9.1.1.cmml" xref="A1.SS2.p3.9.m9.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.9.m9.1.1.1.cmml" xref="A1.SS2.p3.9.m9.1.1">subscript</csymbol><ci id="A1.SS2.p3.9.m9.1.1.2.cmml" xref="A1.SS2.p3.9.m9.1.1.2">𝑚</ci><ci id="A1.SS2.p3.9.m9.1.1.3.cmml" xref="A1.SS2.p3.9.m9.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.9.m9.1c">m_{k}</annotation></semantics></math>, because <math id="A1.SS2.p3.10.m10.1" class="ltx_Math" alttext="c_{k}" display="inline"><semantics id="A1.SS2.p3.10.m10.1a"><msub id="A1.SS2.p3.10.m10.1.1" xref="A1.SS2.p3.10.m10.1.1.cmml"><mi id="A1.SS2.p3.10.m10.1.1.2" xref="A1.SS2.p3.10.m10.1.1.2.cmml">c</mi><mi id="A1.SS2.p3.10.m10.1.1.3" xref="A1.SS2.p3.10.m10.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.10.m10.1b"><apply id="A1.SS2.p3.10.m10.1.1.cmml" xref="A1.SS2.p3.10.m10.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.10.m10.1.1.1.cmml" xref="A1.SS2.p3.10.m10.1.1">subscript</csymbol><ci id="A1.SS2.p3.10.m10.1.1.2.cmml" xref="A1.SS2.p3.10.m10.1.1.2">𝑐</ci><ci id="A1.SS2.p3.10.m10.1.1.3.cmml" xref="A1.SS2.p3.10.m10.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.10.m10.1c">c_{k}</annotation></semantics></math> can vary over different rounds and devices depending on a number of factors (device speed, concurrent processes, <math id="A1.SS2.p3.11.m11.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p3.11.m11.1a"><mi mathvariant="normal" id="A1.SS2.p3.11.m11.1.1" xref="A1.SS2.p3.11.m11.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.11.m11.1b"><ci id="A1.SS2.p3.11.m11.1.1.cmml" xref="A1.SS2.p3.11.m11.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.11.m11.1c">\Delta</annotation></semantics></math>, <math id="A1.SS2.p3.12.m12.1" class="ltx_Math" alttext="m_{k}" display="inline"><semantics id="A1.SS2.p3.12.m12.1a"><msub id="A1.SS2.p3.12.m12.1.1" xref="A1.SS2.p3.12.m12.1.1.cmml"><mi id="A1.SS2.p3.12.m12.1.1.2" xref="A1.SS2.p3.12.m12.1.1.2.cmml">m</mi><mi id="A1.SS2.p3.12.m12.1.1.3" xref="A1.SS2.p3.12.m12.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.12.m12.1b"><apply id="A1.SS2.p3.12.m12.1.1.cmml" xref="A1.SS2.p3.12.m12.1.1"><csymbol cd="ambiguous" id="A1.SS2.p3.12.m12.1.1.1.cmml" xref="A1.SS2.p3.12.m12.1.1">subscript</csymbol><ci id="A1.SS2.p3.12.m12.1.1.2.cmml" xref="A1.SS2.p3.12.m12.1.1.2">𝑚</ci><ci id="A1.SS2.p3.12.m12.1.1.3.cmml" xref="A1.SS2.p3.12.m12.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.12.m12.1c">m_{k}</annotation></semantics></math>, etc.).</p>
</div>
<div id="A1.SS2.p4" class="ltx_para ltx_noindent">
<p id="A1.SS2.p4.3" class="ltx_p">Intuitively, this leads to more graceful performance degradation with smaller values for <math id="A1.SS2.p4.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p4.1.m1.1a"><mi mathvariant="normal" id="A1.SS2.p4.1.m1.1.1" xref="A1.SS2.p4.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p4.1.m1.1b"><ci id="A1.SS2.p4.1.m1.1.1.cmml" xref="A1.SS2.p4.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p4.1.m1.1c">\Delta</annotation></semantics></math>. Even if <math id="A1.SS2.p4.2.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p4.2.m2.1a"><mi mathvariant="normal" id="A1.SS2.p4.2.m2.1.1" xref="A1.SS2.p4.2.m2.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p4.2.m2.1b"><ci id="A1.SS2.p4.2.m2.1.1.cmml" xref="A1.SS2.p4.2.m2.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p4.2.m2.1c">\Delta</annotation></semantics></math> is set to an adversarial value just below the completion time of the fastest client, which would cause <em id="A1.SS2.p4.3.1" class="ltx_emph ltx_font_italic">FedAvg</em> to not consider any update and hence prevent convergence, <em id="A1.SS2.p4.3.2" class="ltx_emph ltx_font_italic">FedFS</em> would still progress by combining <math id="A1.SS2.p4.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A1.SS2.p4.3.m3.1a"><mi id="A1.SS2.p4.3.m3.1.1" xref="A1.SS2.p4.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p4.3.m3.1b"><ci id="A1.SS2.p4.3.m3.1.1.cmml" xref="A1.SS2.p4.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p4.3.m3.1c">K</annotation></semantics></math> partial updates. More importantly it allows devices which regularly discard their updates because of lacking compute capabilities to have their updates represented in the global model, which would otherwise overfit the data distribution on the subset of faster devices in the population.</p>
</div>
<div id="A1.SS2.p5" class="ltx_para ltx_noindent">
<p id="A1.SS2.p5.36" class="ltx_p"><span id="A1.SS2.p5.36.1" class="ltx_text ltx_font_bold">Importance sampling.</span> Partial work enables <em id="A1.SS2.p5.36.2" class="ltx_emph ltx_font_italic">FedFS</em> to leverage the observed values for <math id="A1.SS2.p5.1.m1.1" class="ltx_Math" alttext="c_{k}^{r}" display="inline"><semantics id="A1.SS2.p5.1.m1.1a"><msubsup id="A1.SS2.p5.1.m1.1.1" xref="A1.SS2.p5.1.m1.1.1.cmml"><mi id="A1.SS2.p5.1.m1.1.1.2.2" xref="A1.SS2.p5.1.m1.1.1.2.2.cmml">c</mi><mi id="A1.SS2.p5.1.m1.1.1.2.3" xref="A1.SS2.p5.1.m1.1.1.2.3.cmml">k</mi><mi id="A1.SS2.p5.1.m1.1.1.3" xref="A1.SS2.p5.1.m1.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.1.m1.1b"><apply id="A1.SS2.p5.1.m1.1.1.cmml" xref="A1.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.1.m1.1.1.1.cmml" xref="A1.SS2.p5.1.m1.1.1">superscript</csymbol><apply id="A1.SS2.p5.1.m1.1.1.2.cmml" xref="A1.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.1.m1.1.1.2.1.cmml" xref="A1.SS2.p5.1.m1.1.1">subscript</csymbol><ci id="A1.SS2.p5.1.m1.1.1.2.2.cmml" xref="A1.SS2.p5.1.m1.1.1.2.2">𝑐</ci><ci id="A1.SS2.p5.1.m1.1.1.2.3.cmml" xref="A1.SS2.p5.1.m1.1.1.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.1.m1.1.1.3.cmml" xref="A1.SS2.p5.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.1.m1.1c">c_{k}^{r}</annotation></semantics></math> (with <math id="A1.SS2.p5.2.m2.3" class="ltx_Math" alttext="r\in\{1,...,t\}" display="inline"><semantics id="A1.SS2.p5.2.m2.3a"><mrow id="A1.SS2.p5.2.m2.3.4" xref="A1.SS2.p5.2.m2.3.4.cmml"><mi id="A1.SS2.p5.2.m2.3.4.2" xref="A1.SS2.p5.2.m2.3.4.2.cmml">r</mi><mo id="A1.SS2.p5.2.m2.3.4.1" xref="A1.SS2.p5.2.m2.3.4.1.cmml">∈</mo><mrow id="A1.SS2.p5.2.m2.3.4.3.2" xref="A1.SS2.p5.2.m2.3.4.3.1.cmml"><mo stretchy="false" id="A1.SS2.p5.2.m2.3.4.3.2.1" xref="A1.SS2.p5.2.m2.3.4.3.1.cmml">{</mo><mn id="A1.SS2.p5.2.m2.1.1" xref="A1.SS2.p5.2.m2.1.1.cmml">1</mn><mo id="A1.SS2.p5.2.m2.3.4.3.2.2" xref="A1.SS2.p5.2.m2.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="A1.SS2.p5.2.m2.2.2" xref="A1.SS2.p5.2.m2.2.2.cmml">…</mi><mo id="A1.SS2.p5.2.m2.3.4.3.2.3" xref="A1.SS2.p5.2.m2.3.4.3.1.cmml">,</mo><mi id="A1.SS2.p5.2.m2.3.3" xref="A1.SS2.p5.2.m2.3.3.cmml">t</mi><mo stretchy="false" id="A1.SS2.p5.2.m2.3.4.3.2.4" xref="A1.SS2.p5.2.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.2.m2.3b"><apply id="A1.SS2.p5.2.m2.3.4.cmml" xref="A1.SS2.p5.2.m2.3.4"><in id="A1.SS2.p5.2.m2.3.4.1.cmml" xref="A1.SS2.p5.2.m2.3.4.1"></in><ci id="A1.SS2.p5.2.m2.3.4.2.cmml" xref="A1.SS2.p5.2.m2.3.4.2">𝑟</ci><set id="A1.SS2.p5.2.m2.3.4.3.1.cmml" xref="A1.SS2.p5.2.m2.3.4.3.2"><cn type="integer" id="A1.SS2.p5.2.m2.1.1.cmml" xref="A1.SS2.p5.2.m2.1.1">1</cn><ci id="A1.SS2.p5.2.m2.2.2.cmml" xref="A1.SS2.p5.2.m2.2.2">…</ci><ci id="A1.SS2.p5.2.m2.3.3.cmml" xref="A1.SS2.p5.2.m2.3.3">𝑡</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.2.m2.3c">r\in\{1,...,t\}</annotation></semantics></math>, the amount of work done by client <math id="A1.SS2.p5.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p5.3.m3.1a"><mi id="A1.SS2.p5.3.m3.1.1" xref="A1.SS2.p5.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.3.m3.1b"><ci id="A1.SS2.p5.3.m3.1.1.cmml" xref="A1.SS2.p5.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.3.m3.1c">k</annotation></semantics></math> during all previous rounds up to the current round <math id="A1.SS2.p5.4.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A1.SS2.p5.4.m4.1a"><mi id="A1.SS2.p5.4.m4.1.1" xref="A1.SS2.p5.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.4.m4.1b"><ci id="A1.SS2.p5.4.m4.1.1.cmml" xref="A1.SS2.p5.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.4.m4.1c">t</annotation></semantics></math>) and <math id="A1.SS2.p5.5.m5.1" class="ltx_Math" alttext="E^{r}m_{k}" display="inline"><semantics id="A1.SS2.p5.5.m5.1a"><mrow id="A1.SS2.p5.5.m5.1.1" xref="A1.SS2.p5.5.m5.1.1.cmml"><msup id="A1.SS2.p5.5.m5.1.1.2" xref="A1.SS2.p5.5.m5.1.1.2.cmml"><mi id="A1.SS2.p5.5.m5.1.1.2.2" xref="A1.SS2.p5.5.m5.1.1.2.2.cmml">E</mi><mi id="A1.SS2.p5.5.m5.1.1.2.3" xref="A1.SS2.p5.5.m5.1.1.2.3.cmml">r</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.5.m5.1.1.1" xref="A1.SS2.p5.5.m5.1.1.1.cmml">​</mo><msub id="A1.SS2.p5.5.m5.1.1.3" xref="A1.SS2.p5.5.m5.1.1.3.cmml"><mi id="A1.SS2.p5.5.m5.1.1.3.2" xref="A1.SS2.p5.5.m5.1.1.3.2.cmml">m</mi><mi id="A1.SS2.p5.5.m5.1.1.3.3" xref="A1.SS2.p5.5.m5.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.5.m5.1b"><apply id="A1.SS2.p5.5.m5.1.1.cmml" xref="A1.SS2.p5.5.m5.1.1"><times id="A1.SS2.p5.5.m5.1.1.1.cmml" xref="A1.SS2.p5.5.m5.1.1.1"></times><apply id="A1.SS2.p5.5.m5.1.1.2.cmml" xref="A1.SS2.p5.5.m5.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.5.m5.1.1.2.1.cmml" xref="A1.SS2.p5.5.m5.1.1.2">superscript</csymbol><ci id="A1.SS2.p5.5.m5.1.1.2.2.cmml" xref="A1.SS2.p5.5.m5.1.1.2.2">𝐸</ci><ci id="A1.SS2.p5.5.m5.1.1.2.3.cmml" xref="A1.SS2.p5.5.m5.1.1.2.3">𝑟</ci></apply><apply id="A1.SS2.p5.5.m5.1.1.3.cmml" xref="A1.SS2.p5.5.m5.1.1.3"><csymbol cd="ambiguous" id="A1.SS2.p5.5.m5.1.1.3.1.cmml" xref="A1.SS2.p5.5.m5.1.1.3">subscript</csymbol><ci id="A1.SS2.p5.5.m5.1.1.3.2.cmml" xref="A1.SS2.p5.5.m5.1.1.3.2">𝑚</ci><ci id="A1.SS2.p5.5.m5.1.1.3.3.cmml" xref="A1.SS2.p5.5.m5.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.5.m5.1c">E^{r}m_{k}</annotation></semantics></math> (with <math id="A1.SS2.p5.6.m6.3" class="ltx_Math" alttext="r\in\{1,...,t\}" display="inline"><semantics id="A1.SS2.p5.6.m6.3a"><mrow id="A1.SS2.p5.6.m6.3.4" xref="A1.SS2.p5.6.m6.3.4.cmml"><mi id="A1.SS2.p5.6.m6.3.4.2" xref="A1.SS2.p5.6.m6.3.4.2.cmml">r</mi><mo id="A1.SS2.p5.6.m6.3.4.1" xref="A1.SS2.p5.6.m6.3.4.1.cmml">∈</mo><mrow id="A1.SS2.p5.6.m6.3.4.3.2" xref="A1.SS2.p5.6.m6.3.4.3.1.cmml"><mo stretchy="false" id="A1.SS2.p5.6.m6.3.4.3.2.1" xref="A1.SS2.p5.6.m6.3.4.3.1.cmml">{</mo><mn id="A1.SS2.p5.6.m6.1.1" xref="A1.SS2.p5.6.m6.1.1.cmml">1</mn><mo id="A1.SS2.p5.6.m6.3.4.3.2.2" xref="A1.SS2.p5.6.m6.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="A1.SS2.p5.6.m6.2.2" xref="A1.SS2.p5.6.m6.2.2.cmml">…</mi><mo id="A1.SS2.p5.6.m6.3.4.3.2.3" xref="A1.SS2.p5.6.m6.3.4.3.1.cmml">,</mo><mi id="A1.SS2.p5.6.m6.3.3" xref="A1.SS2.p5.6.m6.3.3.cmml">t</mi><mo stretchy="false" id="A1.SS2.p5.6.m6.3.4.3.2.4" xref="A1.SS2.p5.6.m6.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.6.m6.3b"><apply id="A1.SS2.p5.6.m6.3.4.cmml" xref="A1.SS2.p5.6.m6.3.4"><in id="A1.SS2.p5.6.m6.3.4.1.cmml" xref="A1.SS2.p5.6.m6.3.4.1"></in><ci id="A1.SS2.p5.6.m6.3.4.2.cmml" xref="A1.SS2.p5.6.m6.3.4.2">𝑟</ci><set id="A1.SS2.p5.6.m6.3.4.3.1.cmml" xref="A1.SS2.p5.6.m6.3.4.3.2"><cn type="integer" id="A1.SS2.p5.6.m6.1.1.cmml" xref="A1.SS2.p5.6.m6.1.1">1</cn><ci id="A1.SS2.p5.6.m6.2.2.cmml" xref="A1.SS2.p5.6.m6.2.2">…</ci><ci id="A1.SS2.p5.6.m6.3.3.cmml" xref="A1.SS2.p5.6.m6.3.3">𝑡</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.6.m6.3c">r\in\{1,...,t\}</annotation></semantics></math>, the amount of work client <math id="A1.SS2.p5.7.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p5.7.m7.1a"><mi id="A1.SS2.p5.7.m7.1.1" xref="A1.SS2.p5.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.7.m7.1b"><ci id="A1.SS2.p5.7.m7.1.1.cmml" xref="A1.SS2.p5.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.7.m7.1c">k</annotation></semantics></math> was maximally allowed to do during those rounds) for client selection during round <math id="A1.SS2.p5.8.m8.1" class="ltx_Math" alttext="t+1" display="inline"><semantics id="A1.SS2.p5.8.m8.1a"><mrow id="A1.SS2.p5.8.m8.1.1" xref="A1.SS2.p5.8.m8.1.1.cmml"><mi id="A1.SS2.p5.8.m8.1.1.2" xref="A1.SS2.p5.8.m8.1.1.2.cmml">t</mi><mo id="A1.SS2.p5.8.m8.1.1.1" xref="A1.SS2.p5.8.m8.1.1.1.cmml">+</mo><mn id="A1.SS2.p5.8.m8.1.1.3" xref="A1.SS2.p5.8.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.8.m8.1b"><apply id="A1.SS2.p5.8.m8.1.1.cmml" xref="A1.SS2.p5.8.m8.1.1"><plus id="A1.SS2.p5.8.m8.1.1.1.cmml" xref="A1.SS2.p5.8.m8.1.1.1"></plus><ci id="A1.SS2.p5.8.m8.1.1.2.cmml" xref="A1.SS2.p5.8.m8.1.1.2">𝑡</ci><cn type="integer" id="A1.SS2.p5.8.m8.1.1.3.cmml" xref="A1.SS2.p5.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.8.m8.1c">t+1</annotation></semantics></math>. <math id="A1.SS2.p5.9.m9.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A1.SS2.p5.9.m9.1a"><mi id="A1.SS2.p5.9.m9.1.1" xref="A1.SS2.p5.9.m9.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.9.m9.1b"><ci id="A1.SS2.p5.9.m9.1.1.cmml" xref="A1.SS2.p5.9.m9.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.9.m9.1c">c</annotation></semantics></math> and <math id="A1.SS2.p5.10.m10.1" class="ltx_Math" alttext="m" display="inline"><semantics id="A1.SS2.p5.10.m10.1a"><mi id="A1.SS2.p5.10.m10.1.1" xref="A1.SS2.p5.10.m10.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.10.m10.1b"><ci id="A1.SS2.p5.10.m10.1.1.cmml" xref="A1.SS2.p5.10.m10.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.10.m10.1c">m</annotation></semantics></math> can be measured in different ways depending on the use case. In vision, <math id="A1.SS2.p5.11.m11.1" class="ltx_Math" alttext="c_{k}^{t}" display="inline"><semantics id="A1.SS2.p5.11.m11.1a"><msubsup id="A1.SS2.p5.11.m11.1.1" xref="A1.SS2.p5.11.m11.1.1.cmml"><mi id="A1.SS2.p5.11.m11.1.1.2.2" xref="A1.SS2.p5.11.m11.1.1.2.2.cmml">c</mi><mi id="A1.SS2.p5.11.m11.1.1.2.3" xref="A1.SS2.p5.11.m11.1.1.2.3.cmml">k</mi><mi id="A1.SS2.p5.11.m11.1.1.3" xref="A1.SS2.p5.11.m11.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.11.m11.1b"><apply id="A1.SS2.p5.11.m11.1.1.cmml" xref="A1.SS2.p5.11.m11.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.11.m11.1.1.1.cmml" xref="A1.SS2.p5.11.m11.1.1">superscript</csymbol><apply id="A1.SS2.p5.11.m11.1.1.2.cmml" xref="A1.SS2.p5.11.m11.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.11.m11.1.1.2.1.cmml" xref="A1.SS2.p5.11.m11.1.1">subscript</csymbol><ci id="A1.SS2.p5.11.m11.1.1.2.2.cmml" xref="A1.SS2.p5.11.m11.1.1.2.2">𝑐</ci><ci id="A1.SS2.p5.11.m11.1.1.2.3.cmml" xref="A1.SS2.p5.11.m11.1.1.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.11.m11.1.1.3.cmml" xref="A1.SS2.p5.11.m11.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.11.m11.1c">c_{k}^{t}</annotation></semantics></math> could capture the number of image examples processed, whereas in speech <math id="A1.SS2.p5.12.m12.1" class="ltx_Math" alttext="c_{k}^{t}" display="inline"><semantics id="A1.SS2.p5.12.m12.1a"><msubsup id="A1.SS2.p5.12.m12.1.1" xref="A1.SS2.p5.12.m12.1.1.cmml"><mi id="A1.SS2.p5.12.m12.1.1.2.2" xref="A1.SS2.p5.12.m12.1.1.2.2.cmml">c</mi><mi id="A1.SS2.p5.12.m12.1.1.2.3" xref="A1.SS2.p5.12.m12.1.1.2.3.cmml">k</mi><mi id="A1.SS2.p5.12.m12.1.1.3" xref="A1.SS2.p5.12.m12.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.12.m12.1b"><apply id="A1.SS2.p5.12.m12.1.1.cmml" xref="A1.SS2.p5.12.m12.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.12.m12.1.1.1.cmml" xref="A1.SS2.p5.12.m12.1.1">superscript</csymbol><apply id="A1.SS2.p5.12.m12.1.1.2.cmml" xref="A1.SS2.p5.12.m12.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.12.m12.1.1.2.1.cmml" xref="A1.SS2.p5.12.m12.1.1">subscript</csymbol><ci id="A1.SS2.p5.12.m12.1.1.2.2.cmml" xref="A1.SS2.p5.12.m12.1.1.2.2">𝑐</ci><ci id="A1.SS2.p5.12.m12.1.1.2.3.cmml" xref="A1.SS2.p5.12.m12.1.1.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.12.m12.1.1.3.cmml" xref="A1.SS2.p5.12.m12.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.12.m12.1c">c_{k}^{t}</annotation></semantics></math> could measure the accumulated duration of all audio samples used for training on client <math id="A1.SS2.p5.13.m13.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p5.13.m13.1a"><mi id="A1.SS2.p5.13.m13.1.1" xref="A1.SS2.p5.13.m13.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.13.m13.1b"><ci id="A1.SS2.p5.13.m13.1.1.cmml" xref="A1.SS2.p5.13.m13.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.13.m13.1c">k</annotation></semantics></math> during round <math id="A1.SS2.p5.14.m14.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A1.SS2.p5.14.m14.1a"><mi id="A1.SS2.p5.14.m14.1.1" xref="A1.SS2.p5.14.m14.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.14.m14.1b"><ci id="A1.SS2.p5.14.m14.1.1.cmml" xref="A1.SS2.p5.14.m14.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.14.m14.1c">t</annotation></semantics></math>. <math id="A1.SS2.p5.15.m15.1" class="ltx_Math" alttext="c_{k}^{t}&lt;E^{t}m_{k}" display="inline"><semantics id="A1.SS2.p5.15.m15.1a"><mrow id="A1.SS2.p5.15.m15.1.1" xref="A1.SS2.p5.15.m15.1.1.cmml"><msubsup id="A1.SS2.p5.15.m15.1.1.2" xref="A1.SS2.p5.15.m15.1.1.2.cmml"><mi id="A1.SS2.p5.15.m15.1.1.2.2.2" xref="A1.SS2.p5.15.m15.1.1.2.2.2.cmml">c</mi><mi id="A1.SS2.p5.15.m15.1.1.2.2.3" xref="A1.SS2.p5.15.m15.1.1.2.2.3.cmml">k</mi><mi id="A1.SS2.p5.15.m15.1.1.2.3" xref="A1.SS2.p5.15.m15.1.1.2.3.cmml">t</mi></msubsup><mo id="A1.SS2.p5.15.m15.1.1.1" xref="A1.SS2.p5.15.m15.1.1.1.cmml">&lt;</mo><mrow id="A1.SS2.p5.15.m15.1.1.3" xref="A1.SS2.p5.15.m15.1.1.3.cmml"><msup id="A1.SS2.p5.15.m15.1.1.3.2" xref="A1.SS2.p5.15.m15.1.1.3.2.cmml"><mi id="A1.SS2.p5.15.m15.1.1.3.2.2" xref="A1.SS2.p5.15.m15.1.1.3.2.2.cmml">E</mi><mi id="A1.SS2.p5.15.m15.1.1.3.2.3" xref="A1.SS2.p5.15.m15.1.1.3.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.15.m15.1.1.3.1" xref="A1.SS2.p5.15.m15.1.1.3.1.cmml">​</mo><msub id="A1.SS2.p5.15.m15.1.1.3.3" xref="A1.SS2.p5.15.m15.1.1.3.3.cmml"><mi id="A1.SS2.p5.15.m15.1.1.3.3.2" xref="A1.SS2.p5.15.m15.1.1.3.3.2.cmml">m</mi><mi id="A1.SS2.p5.15.m15.1.1.3.3.3" xref="A1.SS2.p5.15.m15.1.1.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.15.m15.1b"><apply id="A1.SS2.p5.15.m15.1.1.cmml" xref="A1.SS2.p5.15.m15.1.1"><lt id="A1.SS2.p5.15.m15.1.1.1.cmml" xref="A1.SS2.p5.15.m15.1.1.1"></lt><apply id="A1.SS2.p5.15.m15.1.1.2.cmml" xref="A1.SS2.p5.15.m15.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.15.m15.1.1.2.1.cmml" xref="A1.SS2.p5.15.m15.1.1.2">superscript</csymbol><apply id="A1.SS2.p5.15.m15.1.1.2.2.cmml" xref="A1.SS2.p5.15.m15.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.15.m15.1.1.2.2.1.cmml" xref="A1.SS2.p5.15.m15.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.15.m15.1.1.2.2.2.cmml" xref="A1.SS2.p5.15.m15.1.1.2.2.2">𝑐</ci><ci id="A1.SS2.p5.15.m15.1.1.2.2.3.cmml" xref="A1.SS2.p5.15.m15.1.1.2.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.15.m15.1.1.2.3.cmml" xref="A1.SS2.p5.15.m15.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.15.m15.1.1.3.cmml" xref="A1.SS2.p5.15.m15.1.1.3"><times id="A1.SS2.p5.15.m15.1.1.3.1.cmml" xref="A1.SS2.p5.15.m15.1.1.3.1"></times><apply id="A1.SS2.p5.15.m15.1.1.3.2.cmml" xref="A1.SS2.p5.15.m15.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.15.m15.1.1.3.2.1.cmml" xref="A1.SS2.p5.15.m15.1.1.3.2">superscript</csymbol><ci id="A1.SS2.p5.15.m15.1.1.3.2.2.cmml" xref="A1.SS2.p5.15.m15.1.1.3.2.2">𝐸</ci><ci id="A1.SS2.p5.15.m15.1.1.3.2.3.cmml" xref="A1.SS2.p5.15.m15.1.1.3.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.15.m15.1.1.3.3.cmml" xref="A1.SS2.p5.15.m15.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS2.p5.15.m15.1.1.3.3.1.cmml" xref="A1.SS2.p5.15.m15.1.1.3.3">subscript</csymbol><ci id="A1.SS2.p5.15.m15.1.1.3.3.2.cmml" xref="A1.SS2.p5.15.m15.1.1.3.3.2">𝑚</ci><ci id="A1.SS2.p5.15.m15.1.1.3.3.3.cmml" xref="A1.SS2.p5.15.m15.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.15.m15.1c">c_{k}^{t}&lt;E^{t}m_{k}</annotation></semantics></math> suggests that client <math id="A1.SS2.p5.16.m16.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p5.16.m16.1a"><mi id="A1.SS2.p5.16.m16.1.1" xref="A1.SS2.p5.16.m16.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.16.m16.1b"><ci id="A1.SS2.p5.16.m16.1.1.cmml" xref="A1.SS2.p5.16.m16.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.16.m16.1c">k</annotation></semantics></math> was not able to compute <math id="A1.SS2.p5.17.m17.1" class="ltx_Math" alttext="E^{t}\frac{m_{k}}{B}" display="inline"><semantics id="A1.SS2.p5.17.m17.1a"><mrow id="A1.SS2.p5.17.m17.1.1" xref="A1.SS2.p5.17.m17.1.1.cmml"><msup id="A1.SS2.p5.17.m17.1.1.2" xref="A1.SS2.p5.17.m17.1.1.2.cmml"><mi id="A1.SS2.p5.17.m17.1.1.2.2" xref="A1.SS2.p5.17.m17.1.1.2.2.cmml">E</mi><mi id="A1.SS2.p5.17.m17.1.1.2.3" xref="A1.SS2.p5.17.m17.1.1.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.17.m17.1.1.1" xref="A1.SS2.p5.17.m17.1.1.1.cmml">​</mo><mfrac id="A1.SS2.p5.17.m17.1.1.3" xref="A1.SS2.p5.17.m17.1.1.3.cmml"><msub id="A1.SS2.p5.17.m17.1.1.3.2" xref="A1.SS2.p5.17.m17.1.1.3.2.cmml"><mi id="A1.SS2.p5.17.m17.1.1.3.2.2" xref="A1.SS2.p5.17.m17.1.1.3.2.2.cmml">m</mi><mi id="A1.SS2.p5.17.m17.1.1.3.2.3" xref="A1.SS2.p5.17.m17.1.1.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p5.17.m17.1.1.3.3" xref="A1.SS2.p5.17.m17.1.1.3.3.cmml">B</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.17.m17.1b"><apply id="A1.SS2.p5.17.m17.1.1.cmml" xref="A1.SS2.p5.17.m17.1.1"><times id="A1.SS2.p5.17.m17.1.1.1.cmml" xref="A1.SS2.p5.17.m17.1.1.1"></times><apply id="A1.SS2.p5.17.m17.1.1.2.cmml" xref="A1.SS2.p5.17.m17.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.17.m17.1.1.2.1.cmml" xref="A1.SS2.p5.17.m17.1.1.2">superscript</csymbol><ci id="A1.SS2.p5.17.m17.1.1.2.2.cmml" xref="A1.SS2.p5.17.m17.1.1.2.2">𝐸</ci><ci id="A1.SS2.p5.17.m17.1.1.2.3.cmml" xref="A1.SS2.p5.17.m17.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.17.m17.1.1.3.cmml" xref="A1.SS2.p5.17.m17.1.1.3"><divide id="A1.SS2.p5.17.m17.1.1.3.1.cmml" xref="A1.SS2.p5.17.m17.1.1.3"></divide><apply id="A1.SS2.p5.17.m17.1.1.3.2.cmml" xref="A1.SS2.p5.17.m17.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.17.m17.1.1.3.2.1.cmml" xref="A1.SS2.p5.17.m17.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p5.17.m17.1.1.3.2.2.cmml" xref="A1.SS2.p5.17.m17.1.1.3.2.2">𝑚</ci><ci id="A1.SS2.p5.17.m17.1.1.3.2.3.cmml" xref="A1.SS2.p5.17.m17.1.1.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.17.m17.1.1.3.3.cmml" xref="A1.SS2.p5.17.m17.1.1.3.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.17.m17.1c">E^{t}\frac{m_{k}}{B}</annotation></semantics></math> gradient updates within <math id="A1.SS2.p5.18.m18.1" class="ltx_Math" alttext="\Delta_{t}" display="inline"><semantics id="A1.SS2.p5.18.m18.1a"><msub id="A1.SS2.p5.18.m18.1.1" xref="A1.SS2.p5.18.m18.1.1.cmml"><mi mathvariant="normal" id="A1.SS2.p5.18.m18.1.1.2" xref="A1.SS2.p5.18.m18.1.1.2.cmml">Δ</mi><mi id="A1.SS2.p5.18.m18.1.1.3" xref="A1.SS2.p5.18.m18.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.18.m18.1b"><apply id="A1.SS2.p5.18.m18.1.1.cmml" xref="A1.SS2.p5.18.m18.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.18.m18.1.1.1.cmml" xref="A1.SS2.p5.18.m18.1.1">subscript</csymbol><ci id="A1.SS2.p5.18.m18.1.1.2.cmml" xref="A1.SS2.p5.18.m18.1.1.2">Δ</ci><ci id="A1.SS2.p5.18.m18.1.1.3.cmml" xref="A1.SS2.p5.18.m18.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.18.m18.1c">\Delta_{t}</annotation></semantics></math>, so its weight update <math id="A1.SS2.p5.19.m19.1" class="ltx_Math" alttext="\theta_{k}^{t}" display="inline"><semantics id="A1.SS2.p5.19.m19.1a"><msubsup id="A1.SS2.p5.19.m19.1.1" xref="A1.SS2.p5.19.m19.1.1.cmml"><mi id="A1.SS2.p5.19.m19.1.1.2.2" xref="A1.SS2.p5.19.m19.1.1.2.2.cmml">θ</mi><mi id="A1.SS2.p5.19.m19.1.1.2.3" xref="A1.SS2.p5.19.m19.1.1.2.3.cmml">k</mi><mi id="A1.SS2.p5.19.m19.1.1.3" xref="A1.SS2.p5.19.m19.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.19.m19.1b"><apply id="A1.SS2.p5.19.m19.1.1.cmml" xref="A1.SS2.p5.19.m19.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.19.m19.1.1.1.cmml" xref="A1.SS2.p5.19.m19.1.1">superscript</csymbol><apply id="A1.SS2.p5.19.m19.1.1.2.cmml" xref="A1.SS2.p5.19.m19.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.19.m19.1.1.2.1.cmml" xref="A1.SS2.p5.19.m19.1.1">subscript</csymbol><ci id="A1.SS2.p5.19.m19.1.1.2.2.cmml" xref="A1.SS2.p5.19.m19.1.1.2.2">𝜃</ci><ci id="A1.SS2.p5.19.m19.1.1.2.3.cmml" xref="A1.SS2.p5.19.m19.1.1.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.19.m19.1.1.3.cmml" xref="A1.SS2.p5.19.m19.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.19.m19.1c">\theta_{k}^{t}</annotation></semantics></math> has less of an impact on the global model <math id="A1.SS2.p5.20.m20.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="A1.SS2.p5.20.m20.1a"><mi id="A1.SS2.p5.20.m20.1.1" xref="A1.SS2.p5.20.m20.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.20.m20.1b"><ci id="A1.SS2.p5.20.m20.1.1.cmml" xref="A1.SS2.p5.20.m20.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.20.m20.1c">\theta</annotation></semantics></math> compared to an update from client <math id="A1.SS2.p5.21.m21.1" class="ltx_Math" alttext="j" display="inline"><semantics id="A1.SS2.p5.21.m21.1a"><mi id="A1.SS2.p5.21.m21.1.1" xref="A1.SS2.p5.21.m21.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.21.m21.1b"><ci id="A1.SS2.p5.21.m21.1.1.cmml" xref="A1.SS2.p5.21.m21.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.21.m21.1c">j</annotation></semantics></math> with <math id="A1.SS2.p5.22.m22.1" class="ltx_Math" alttext="c_{j}^{t}=E^{t}m_{j}" display="inline"><semantics id="A1.SS2.p5.22.m22.1a"><mrow id="A1.SS2.p5.22.m22.1.1" xref="A1.SS2.p5.22.m22.1.1.cmml"><msubsup id="A1.SS2.p5.22.m22.1.1.2" xref="A1.SS2.p5.22.m22.1.1.2.cmml"><mi id="A1.SS2.p5.22.m22.1.1.2.2.2" xref="A1.SS2.p5.22.m22.1.1.2.2.2.cmml">c</mi><mi id="A1.SS2.p5.22.m22.1.1.2.2.3" xref="A1.SS2.p5.22.m22.1.1.2.2.3.cmml">j</mi><mi id="A1.SS2.p5.22.m22.1.1.2.3" xref="A1.SS2.p5.22.m22.1.1.2.3.cmml">t</mi></msubsup><mo id="A1.SS2.p5.22.m22.1.1.1" xref="A1.SS2.p5.22.m22.1.1.1.cmml">=</mo><mrow id="A1.SS2.p5.22.m22.1.1.3" xref="A1.SS2.p5.22.m22.1.1.3.cmml"><msup id="A1.SS2.p5.22.m22.1.1.3.2" xref="A1.SS2.p5.22.m22.1.1.3.2.cmml"><mi id="A1.SS2.p5.22.m22.1.1.3.2.2" xref="A1.SS2.p5.22.m22.1.1.3.2.2.cmml">E</mi><mi id="A1.SS2.p5.22.m22.1.1.3.2.3" xref="A1.SS2.p5.22.m22.1.1.3.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.22.m22.1.1.3.1" xref="A1.SS2.p5.22.m22.1.1.3.1.cmml">​</mo><msub id="A1.SS2.p5.22.m22.1.1.3.3" xref="A1.SS2.p5.22.m22.1.1.3.3.cmml"><mi id="A1.SS2.p5.22.m22.1.1.3.3.2" xref="A1.SS2.p5.22.m22.1.1.3.3.2.cmml">m</mi><mi id="A1.SS2.p5.22.m22.1.1.3.3.3" xref="A1.SS2.p5.22.m22.1.1.3.3.3.cmml">j</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.22.m22.1b"><apply id="A1.SS2.p5.22.m22.1.1.cmml" xref="A1.SS2.p5.22.m22.1.1"><eq id="A1.SS2.p5.22.m22.1.1.1.cmml" xref="A1.SS2.p5.22.m22.1.1.1"></eq><apply id="A1.SS2.p5.22.m22.1.1.2.cmml" xref="A1.SS2.p5.22.m22.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.22.m22.1.1.2.1.cmml" xref="A1.SS2.p5.22.m22.1.1.2">superscript</csymbol><apply id="A1.SS2.p5.22.m22.1.1.2.2.cmml" xref="A1.SS2.p5.22.m22.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.22.m22.1.1.2.2.1.cmml" xref="A1.SS2.p5.22.m22.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.22.m22.1.1.2.2.2.cmml" xref="A1.SS2.p5.22.m22.1.1.2.2.2">𝑐</ci><ci id="A1.SS2.p5.22.m22.1.1.2.2.3.cmml" xref="A1.SS2.p5.22.m22.1.1.2.2.3">𝑗</ci></apply><ci id="A1.SS2.p5.22.m22.1.1.2.3.cmml" xref="A1.SS2.p5.22.m22.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.22.m22.1.1.3.cmml" xref="A1.SS2.p5.22.m22.1.1.3"><times id="A1.SS2.p5.22.m22.1.1.3.1.cmml" xref="A1.SS2.p5.22.m22.1.1.3.1"></times><apply id="A1.SS2.p5.22.m22.1.1.3.2.cmml" xref="A1.SS2.p5.22.m22.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.22.m22.1.1.3.2.1.cmml" xref="A1.SS2.p5.22.m22.1.1.3.2">superscript</csymbol><ci id="A1.SS2.p5.22.m22.1.1.3.2.2.cmml" xref="A1.SS2.p5.22.m22.1.1.3.2.2">𝐸</ci><ci id="A1.SS2.p5.22.m22.1.1.3.2.3.cmml" xref="A1.SS2.p5.22.m22.1.1.3.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.22.m22.1.1.3.3.cmml" xref="A1.SS2.p5.22.m22.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS2.p5.22.m22.1.1.3.3.1.cmml" xref="A1.SS2.p5.22.m22.1.1.3.3">subscript</csymbol><ci id="A1.SS2.p5.22.m22.1.1.3.3.2.cmml" xref="A1.SS2.p5.22.m22.1.1.3.3.2">𝑚</ci><ci id="A1.SS2.p5.22.m22.1.1.3.3.3.cmml" xref="A1.SS2.p5.22.m22.1.1.3.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.22.m22.1c">c_{j}^{t}=E^{t}m_{j}</annotation></semantics></math>.
<em id="A1.SS2.p5.36.3" class="ltx_emph ltx_font_italic">FedFS</em> uses importance sampling for client selection to mitigate the effects introduced by this difference in client capabilities.
We define the work contribution <math id="A1.SS2.p5.23.m23.1" class="ltx_Math" alttext="w_{k}" display="inline"><semantics id="A1.SS2.p5.23.m23.1a"><msub id="A1.SS2.p5.23.m23.1.1" xref="A1.SS2.p5.23.m23.1.1.cmml"><mi id="A1.SS2.p5.23.m23.1.1.2" xref="A1.SS2.p5.23.m23.1.1.2.cmml">w</mi><mi id="A1.SS2.p5.23.m23.1.1.3" xref="A1.SS2.p5.23.m23.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.23.m23.1b"><apply id="A1.SS2.p5.23.m23.1.1.cmml" xref="A1.SS2.p5.23.m23.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.23.m23.1.1.1.cmml" xref="A1.SS2.p5.23.m23.1.1">subscript</csymbol><ci id="A1.SS2.p5.23.m23.1.1.2.cmml" xref="A1.SS2.p5.23.m23.1.1.2">𝑤</ci><ci id="A1.SS2.p5.23.m23.1.1.3.cmml" xref="A1.SS2.p5.23.m23.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.23.m23.1c">w_{k}</annotation></semantics></math> of client <math id="A1.SS2.p5.24.m24.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS2.p5.24.m24.1a"><mi id="A1.SS2.p5.24.m24.1.1" xref="A1.SS2.p5.24.m24.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.24.m24.1b"><ci id="A1.SS2.p5.24.m24.1.1.cmml" xref="A1.SS2.p5.24.m24.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.24.m24.1c">k</annotation></semantics></math> as the ratio between the actual work done during previous rounds
<math id="A1.SS2.p5.25.m25.1" class="ltx_Math" alttext="c_{k}=\sum_{r=1}^{t}c_{k}^{r}" display="inline"><semantics id="A1.SS2.p5.25.m25.1a"><mrow id="A1.SS2.p5.25.m25.1.1" xref="A1.SS2.p5.25.m25.1.1.cmml"><msub id="A1.SS2.p5.25.m25.1.1.2" xref="A1.SS2.p5.25.m25.1.1.2.cmml"><mi id="A1.SS2.p5.25.m25.1.1.2.2" xref="A1.SS2.p5.25.m25.1.1.2.2.cmml">c</mi><mi id="A1.SS2.p5.25.m25.1.1.2.3" xref="A1.SS2.p5.25.m25.1.1.2.3.cmml">k</mi></msub><mo rspace="0.111em" id="A1.SS2.p5.25.m25.1.1.1" xref="A1.SS2.p5.25.m25.1.1.1.cmml">=</mo><mrow id="A1.SS2.p5.25.m25.1.1.3" xref="A1.SS2.p5.25.m25.1.1.3.cmml"><msubsup id="A1.SS2.p5.25.m25.1.1.3.1" xref="A1.SS2.p5.25.m25.1.1.3.1.cmml"><mo id="A1.SS2.p5.25.m25.1.1.3.1.2.2" xref="A1.SS2.p5.25.m25.1.1.3.1.2.2.cmml">∑</mo><mrow id="A1.SS2.p5.25.m25.1.1.3.1.2.3" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.cmml"><mi id="A1.SS2.p5.25.m25.1.1.3.1.2.3.2" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.2.cmml">r</mi><mo id="A1.SS2.p5.25.m25.1.1.3.1.2.3.1" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.1.cmml">=</mo><mn id="A1.SS2.p5.25.m25.1.1.3.1.2.3.3" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="A1.SS2.p5.25.m25.1.1.3.1.3" xref="A1.SS2.p5.25.m25.1.1.3.1.3.cmml">t</mi></msubsup><msubsup id="A1.SS2.p5.25.m25.1.1.3.2" xref="A1.SS2.p5.25.m25.1.1.3.2.cmml"><mi id="A1.SS2.p5.25.m25.1.1.3.2.2.2" xref="A1.SS2.p5.25.m25.1.1.3.2.2.2.cmml">c</mi><mi id="A1.SS2.p5.25.m25.1.1.3.2.2.3" xref="A1.SS2.p5.25.m25.1.1.3.2.2.3.cmml">k</mi><mi id="A1.SS2.p5.25.m25.1.1.3.2.3" xref="A1.SS2.p5.25.m25.1.1.3.2.3.cmml">r</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.25.m25.1b"><apply id="A1.SS2.p5.25.m25.1.1.cmml" xref="A1.SS2.p5.25.m25.1.1"><eq id="A1.SS2.p5.25.m25.1.1.1.cmml" xref="A1.SS2.p5.25.m25.1.1.1"></eq><apply id="A1.SS2.p5.25.m25.1.1.2.cmml" xref="A1.SS2.p5.25.m25.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.25.m25.1.1.2.1.cmml" xref="A1.SS2.p5.25.m25.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.25.m25.1.1.2.2.cmml" xref="A1.SS2.p5.25.m25.1.1.2.2">𝑐</ci><ci id="A1.SS2.p5.25.m25.1.1.2.3.cmml" xref="A1.SS2.p5.25.m25.1.1.2.3">𝑘</ci></apply><apply id="A1.SS2.p5.25.m25.1.1.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3"><apply id="A1.SS2.p5.25.m25.1.1.3.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1"><csymbol cd="ambiguous" id="A1.SS2.p5.25.m25.1.1.3.1.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1">superscript</csymbol><apply id="A1.SS2.p5.25.m25.1.1.3.1.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1"><csymbol cd="ambiguous" id="A1.SS2.p5.25.m25.1.1.3.1.2.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1">subscript</csymbol><sum id="A1.SS2.p5.25.m25.1.1.3.1.2.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.2.2"></sum><apply id="A1.SS2.p5.25.m25.1.1.3.1.2.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3"><eq id="A1.SS2.p5.25.m25.1.1.3.1.2.3.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.1"></eq><ci id="A1.SS2.p5.25.m25.1.1.3.1.2.3.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.2">𝑟</ci><cn type="integer" id="A1.SS2.p5.25.m25.1.1.3.1.2.3.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="A1.SS2.p5.25.m25.1.1.3.1.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3.1.3">𝑡</ci></apply><apply id="A1.SS2.p5.25.m25.1.1.3.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.25.m25.1.1.3.2.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2">superscript</csymbol><apply id="A1.SS2.p5.25.m25.1.1.3.2.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.25.m25.1.1.3.2.2.1.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p5.25.m25.1.1.3.2.2.2.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2.2.2">𝑐</ci><ci id="A1.SS2.p5.25.m25.1.1.3.2.2.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.25.m25.1.1.3.2.3.cmml" xref="A1.SS2.p5.25.m25.1.1.3.2.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.25.m25.1c">c_{k}=\sum_{r=1}^{t}c_{k}^{r}</annotation></semantics></math> and the maximum work possible <math id="A1.SS2.p5.26.m26.1" class="ltx_Math" alttext="\hat{c}_{k}=\sum_{r=1}^{t}E^{r}m_{k}" display="inline"><semantics id="A1.SS2.p5.26.m26.1a"><mrow id="A1.SS2.p5.26.m26.1.1" xref="A1.SS2.p5.26.m26.1.1.cmml"><msub id="A1.SS2.p5.26.m26.1.1.2" xref="A1.SS2.p5.26.m26.1.1.2.cmml"><mover accent="true" id="A1.SS2.p5.26.m26.1.1.2.2" xref="A1.SS2.p5.26.m26.1.1.2.2.cmml"><mi id="A1.SS2.p5.26.m26.1.1.2.2.2" xref="A1.SS2.p5.26.m26.1.1.2.2.2.cmml">c</mi><mo id="A1.SS2.p5.26.m26.1.1.2.2.1" xref="A1.SS2.p5.26.m26.1.1.2.2.1.cmml">^</mo></mover><mi id="A1.SS2.p5.26.m26.1.1.2.3" xref="A1.SS2.p5.26.m26.1.1.2.3.cmml">k</mi></msub><mo rspace="0.111em" id="A1.SS2.p5.26.m26.1.1.1" xref="A1.SS2.p5.26.m26.1.1.1.cmml">=</mo><mrow id="A1.SS2.p5.26.m26.1.1.3" xref="A1.SS2.p5.26.m26.1.1.3.cmml"><msubsup id="A1.SS2.p5.26.m26.1.1.3.1" xref="A1.SS2.p5.26.m26.1.1.3.1.cmml"><mo id="A1.SS2.p5.26.m26.1.1.3.1.2.2" xref="A1.SS2.p5.26.m26.1.1.3.1.2.2.cmml">∑</mo><mrow id="A1.SS2.p5.26.m26.1.1.3.1.2.3" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.cmml"><mi id="A1.SS2.p5.26.m26.1.1.3.1.2.3.2" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.2.cmml">r</mi><mo id="A1.SS2.p5.26.m26.1.1.3.1.2.3.1" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.1.cmml">=</mo><mn id="A1.SS2.p5.26.m26.1.1.3.1.2.3.3" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="A1.SS2.p5.26.m26.1.1.3.1.3" xref="A1.SS2.p5.26.m26.1.1.3.1.3.cmml">t</mi></msubsup><mrow id="A1.SS2.p5.26.m26.1.1.3.2" xref="A1.SS2.p5.26.m26.1.1.3.2.cmml"><msup id="A1.SS2.p5.26.m26.1.1.3.2.2" xref="A1.SS2.p5.26.m26.1.1.3.2.2.cmml"><mi id="A1.SS2.p5.26.m26.1.1.3.2.2.2" xref="A1.SS2.p5.26.m26.1.1.3.2.2.2.cmml">E</mi><mi id="A1.SS2.p5.26.m26.1.1.3.2.2.3" xref="A1.SS2.p5.26.m26.1.1.3.2.2.3.cmml">r</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.26.m26.1.1.3.2.1" xref="A1.SS2.p5.26.m26.1.1.3.2.1.cmml">​</mo><msub id="A1.SS2.p5.26.m26.1.1.3.2.3" xref="A1.SS2.p5.26.m26.1.1.3.2.3.cmml"><mi id="A1.SS2.p5.26.m26.1.1.3.2.3.2" xref="A1.SS2.p5.26.m26.1.1.3.2.3.2.cmml">m</mi><mi id="A1.SS2.p5.26.m26.1.1.3.2.3.3" xref="A1.SS2.p5.26.m26.1.1.3.2.3.3.cmml">k</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.26.m26.1b"><apply id="A1.SS2.p5.26.m26.1.1.cmml" xref="A1.SS2.p5.26.m26.1.1"><eq id="A1.SS2.p5.26.m26.1.1.1.cmml" xref="A1.SS2.p5.26.m26.1.1.1"></eq><apply id="A1.SS2.p5.26.m26.1.1.2.cmml" xref="A1.SS2.p5.26.m26.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.26.m26.1.1.2.1.cmml" xref="A1.SS2.p5.26.m26.1.1.2">subscript</csymbol><apply id="A1.SS2.p5.26.m26.1.1.2.2.cmml" xref="A1.SS2.p5.26.m26.1.1.2.2"><ci id="A1.SS2.p5.26.m26.1.1.2.2.1.cmml" xref="A1.SS2.p5.26.m26.1.1.2.2.1">^</ci><ci id="A1.SS2.p5.26.m26.1.1.2.2.2.cmml" xref="A1.SS2.p5.26.m26.1.1.2.2.2">𝑐</ci></apply><ci id="A1.SS2.p5.26.m26.1.1.2.3.cmml" xref="A1.SS2.p5.26.m26.1.1.2.3">𝑘</ci></apply><apply id="A1.SS2.p5.26.m26.1.1.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3"><apply id="A1.SS2.p5.26.m26.1.1.3.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1"><csymbol cd="ambiguous" id="A1.SS2.p5.26.m26.1.1.3.1.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1">superscript</csymbol><apply id="A1.SS2.p5.26.m26.1.1.3.1.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1"><csymbol cd="ambiguous" id="A1.SS2.p5.26.m26.1.1.3.1.2.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1">subscript</csymbol><sum id="A1.SS2.p5.26.m26.1.1.3.1.2.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.2.2"></sum><apply id="A1.SS2.p5.26.m26.1.1.3.1.2.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3"><eq id="A1.SS2.p5.26.m26.1.1.3.1.2.3.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.1"></eq><ci id="A1.SS2.p5.26.m26.1.1.3.1.2.3.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.2">𝑟</ci><cn type="integer" id="A1.SS2.p5.26.m26.1.1.3.1.2.3.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="A1.SS2.p5.26.m26.1.1.3.1.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.1.3">𝑡</ci></apply><apply id="A1.SS2.p5.26.m26.1.1.3.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2"><times id="A1.SS2.p5.26.m26.1.1.3.2.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.1"></times><apply id="A1.SS2.p5.26.m26.1.1.3.2.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.2"><csymbol cd="ambiguous" id="A1.SS2.p5.26.m26.1.1.3.2.2.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.2">superscript</csymbol><ci id="A1.SS2.p5.26.m26.1.1.3.2.2.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.2.2">𝐸</ci><ci id="A1.SS2.p5.26.m26.1.1.3.2.2.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.2.3">𝑟</ci></apply><apply id="A1.SS2.p5.26.m26.1.1.3.2.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.3"><csymbol cd="ambiguous" id="A1.SS2.p5.26.m26.1.1.3.2.3.1.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.3">subscript</csymbol><ci id="A1.SS2.p5.26.m26.1.1.3.2.3.2.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.3.2">𝑚</ci><ci id="A1.SS2.p5.26.m26.1.1.3.2.3.3.cmml" xref="A1.SS2.p5.26.m26.1.1.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.26.m26.1c">\hat{c}_{k}=\sum_{r=1}^{t}E^{r}m_{k}</annotation></semantics></math>. Clients which have never been selected before (and hence have no contribution history) have <math id="A1.SS2.p5.27.m27.1" class="ltx_Math" alttext="w_{k}=0" display="inline"><semantics id="A1.SS2.p5.27.m27.1a"><mrow id="A1.SS2.p5.27.m27.1.1" xref="A1.SS2.p5.27.m27.1.1.cmml"><msub id="A1.SS2.p5.27.m27.1.1.2" xref="A1.SS2.p5.27.m27.1.1.2.cmml"><mi id="A1.SS2.p5.27.m27.1.1.2.2" xref="A1.SS2.p5.27.m27.1.1.2.2.cmml">w</mi><mi id="A1.SS2.p5.27.m27.1.1.2.3" xref="A1.SS2.p5.27.m27.1.1.2.3.cmml">k</mi></msub><mo id="A1.SS2.p5.27.m27.1.1.1" xref="A1.SS2.p5.27.m27.1.1.1.cmml">=</mo><mn id="A1.SS2.p5.27.m27.1.1.3" xref="A1.SS2.p5.27.m27.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.27.m27.1b"><apply id="A1.SS2.p5.27.m27.1.1.cmml" xref="A1.SS2.p5.27.m27.1.1"><eq id="A1.SS2.p5.27.m27.1.1.1.cmml" xref="A1.SS2.p5.27.m27.1.1.1"></eq><apply id="A1.SS2.p5.27.m27.1.1.2.cmml" xref="A1.SS2.p5.27.m27.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.27.m27.1.1.2.1.cmml" xref="A1.SS2.p5.27.m27.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.27.m27.1.1.2.2.cmml" xref="A1.SS2.p5.27.m27.1.1.2.2">𝑤</ci><ci id="A1.SS2.p5.27.m27.1.1.2.3.cmml" xref="A1.SS2.p5.27.m27.1.1.2.3">𝑘</ci></apply><cn type="integer" id="A1.SS2.p5.27.m27.1.1.3.cmml" xref="A1.SS2.p5.27.m27.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.27.m27.1c">w_{k}=0</annotation></semantics></math>. We then sample clients on the selection probability <math id="A1.SS2.p5.28.m28.1" class="ltx_Math" alttext="1-w_{k}+\epsilon" display="inline"><semantics id="A1.SS2.p5.28.m28.1a"><mrow id="A1.SS2.p5.28.m28.1.1" xref="A1.SS2.p5.28.m28.1.1.cmml"><mrow id="A1.SS2.p5.28.m28.1.1.2" xref="A1.SS2.p5.28.m28.1.1.2.cmml"><mn id="A1.SS2.p5.28.m28.1.1.2.2" xref="A1.SS2.p5.28.m28.1.1.2.2.cmml">1</mn><mo id="A1.SS2.p5.28.m28.1.1.2.1" xref="A1.SS2.p5.28.m28.1.1.2.1.cmml">−</mo><msub id="A1.SS2.p5.28.m28.1.1.2.3" xref="A1.SS2.p5.28.m28.1.1.2.3.cmml"><mi id="A1.SS2.p5.28.m28.1.1.2.3.2" xref="A1.SS2.p5.28.m28.1.1.2.3.2.cmml">w</mi><mi id="A1.SS2.p5.28.m28.1.1.2.3.3" xref="A1.SS2.p5.28.m28.1.1.2.3.3.cmml">k</mi></msub></mrow><mo id="A1.SS2.p5.28.m28.1.1.1" xref="A1.SS2.p5.28.m28.1.1.1.cmml">+</mo><mi id="A1.SS2.p5.28.m28.1.1.3" xref="A1.SS2.p5.28.m28.1.1.3.cmml">ϵ</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.28.m28.1b"><apply id="A1.SS2.p5.28.m28.1.1.cmml" xref="A1.SS2.p5.28.m28.1.1"><plus id="A1.SS2.p5.28.m28.1.1.1.cmml" xref="A1.SS2.p5.28.m28.1.1.1"></plus><apply id="A1.SS2.p5.28.m28.1.1.2.cmml" xref="A1.SS2.p5.28.m28.1.1.2"><minus id="A1.SS2.p5.28.m28.1.1.2.1.cmml" xref="A1.SS2.p5.28.m28.1.1.2.1"></minus><cn type="integer" id="A1.SS2.p5.28.m28.1.1.2.2.cmml" xref="A1.SS2.p5.28.m28.1.1.2.2">1</cn><apply id="A1.SS2.p5.28.m28.1.1.2.3.cmml" xref="A1.SS2.p5.28.m28.1.1.2.3"><csymbol cd="ambiguous" id="A1.SS2.p5.28.m28.1.1.2.3.1.cmml" xref="A1.SS2.p5.28.m28.1.1.2.3">subscript</csymbol><ci id="A1.SS2.p5.28.m28.1.1.2.3.2.cmml" xref="A1.SS2.p5.28.m28.1.1.2.3.2">𝑤</ci><ci id="A1.SS2.p5.28.m28.1.1.2.3.3.cmml" xref="A1.SS2.p5.28.m28.1.1.2.3.3">𝑘</ci></apply></apply><ci id="A1.SS2.p5.28.m28.1.1.3.cmml" xref="A1.SS2.p5.28.m28.1.1.3">italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.28.m28.1c">1-w_{k}+\epsilon</annotation></semantics></math> (normalized over all <math id="A1.SS2.p5.29.m29.3" class="ltx_Math" alttext="k\in\{1,...,K\}" display="inline"><semantics id="A1.SS2.p5.29.m29.3a"><mrow id="A1.SS2.p5.29.m29.3.4" xref="A1.SS2.p5.29.m29.3.4.cmml"><mi id="A1.SS2.p5.29.m29.3.4.2" xref="A1.SS2.p5.29.m29.3.4.2.cmml">k</mi><mo id="A1.SS2.p5.29.m29.3.4.1" xref="A1.SS2.p5.29.m29.3.4.1.cmml">∈</mo><mrow id="A1.SS2.p5.29.m29.3.4.3.2" xref="A1.SS2.p5.29.m29.3.4.3.1.cmml"><mo stretchy="false" id="A1.SS2.p5.29.m29.3.4.3.2.1" xref="A1.SS2.p5.29.m29.3.4.3.1.cmml">{</mo><mn id="A1.SS2.p5.29.m29.1.1" xref="A1.SS2.p5.29.m29.1.1.cmml">1</mn><mo id="A1.SS2.p5.29.m29.3.4.3.2.2" xref="A1.SS2.p5.29.m29.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="A1.SS2.p5.29.m29.2.2" xref="A1.SS2.p5.29.m29.2.2.cmml">…</mi><mo id="A1.SS2.p5.29.m29.3.4.3.2.3" xref="A1.SS2.p5.29.m29.3.4.3.1.cmml">,</mo><mi id="A1.SS2.p5.29.m29.3.3" xref="A1.SS2.p5.29.m29.3.3.cmml">K</mi><mo stretchy="false" id="A1.SS2.p5.29.m29.3.4.3.2.4" xref="A1.SS2.p5.29.m29.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.29.m29.3b"><apply id="A1.SS2.p5.29.m29.3.4.cmml" xref="A1.SS2.p5.29.m29.3.4"><in id="A1.SS2.p5.29.m29.3.4.1.cmml" xref="A1.SS2.p5.29.m29.3.4.1"></in><ci id="A1.SS2.p5.29.m29.3.4.2.cmml" xref="A1.SS2.p5.29.m29.3.4.2">𝑘</ci><set id="A1.SS2.p5.29.m29.3.4.3.1.cmml" xref="A1.SS2.p5.29.m29.3.4.3.2"><cn type="integer" id="A1.SS2.p5.29.m29.1.1.cmml" xref="A1.SS2.p5.29.m29.1.1">1</cn><ci id="A1.SS2.p5.29.m29.2.2.cmml" xref="A1.SS2.p5.29.m29.2.2">…</ci><ci id="A1.SS2.p5.29.m29.3.3.cmml" xref="A1.SS2.p5.29.m29.3.3">𝐾</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.29.m29.3c">k\in\{1,...,K\}</annotation></semantics></math>), with <math id="A1.SS2.p5.30.m30.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="A1.SS2.p5.30.m30.1a"><mi id="A1.SS2.p5.30.m30.1.1" xref="A1.SS2.p5.30.m30.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.30.m30.1b"><ci id="A1.SS2.p5.30.m30.1.1.cmml" xref="A1.SS2.p5.30.m30.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.30.m30.1c">\epsilon</annotation></semantics></math> being the minimum client selection probability. <math id="A1.SS2.p5.31.m31.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="A1.SS2.p5.31.m31.1a"><mi id="A1.SS2.p5.31.m31.1.1" xref="A1.SS2.p5.31.m31.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.31.m31.1b"><ci id="A1.SS2.p5.31.m31.1.1.cmml" xref="A1.SS2.p5.31.m31.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.31.m31.1c">\epsilon</annotation></semantics></math> is an important hyper-parameter that prevents clients with <math id="A1.SS2.p5.32.m32.1" class="ltx_Math" alttext="c_{k}^{t}=E^{t}m_{k}" display="inline"><semantics id="A1.SS2.p5.32.m32.1a"><mrow id="A1.SS2.p5.32.m32.1.1" xref="A1.SS2.p5.32.m32.1.1.cmml"><msubsup id="A1.SS2.p5.32.m32.1.1.2" xref="A1.SS2.p5.32.m32.1.1.2.cmml"><mi id="A1.SS2.p5.32.m32.1.1.2.2.2" xref="A1.SS2.p5.32.m32.1.1.2.2.2.cmml">c</mi><mi id="A1.SS2.p5.32.m32.1.1.2.2.3" xref="A1.SS2.p5.32.m32.1.1.2.2.3.cmml">k</mi><mi id="A1.SS2.p5.32.m32.1.1.2.3" xref="A1.SS2.p5.32.m32.1.1.2.3.cmml">t</mi></msubsup><mo id="A1.SS2.p5.32.m32.1.1.1" xref="A1.SS2.p5.32.m32.1.1.1.cmml">=</mo><mrow id="A1.SS2.p5.32.m32.1.1.3" xref="A1.SS2.p5.32.m32.1.1.3.cmml"><msup id="A1.SS2.p5.32.m32.1.1.3.2" xref="A1.SS2.p5.32.m32.1.1.3.2.cmml"><mi id="A1.SS2.p5.32.m32.1.1.3.2.2" xref="A1.SS2.p5.32.m32.1.1.3.2.2.cmml">E</mi><mi id="A1.SS2.p5.32.m32.1.1.3.2.3" xref="A1.SS2.p5.32.m32.1.1.3.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.32.m32.1.1.3.1" xref="A1.SS2.p5.32.m32.1.1.3.1.cmml">​</mo><msub id="A1.SS2.p5.32.m32.1.1.3.3" xref="A1.SS2.p5.32.m32.1.1.3.3.cmml"><mi id="A1.SS2.p5.32.m32.1.1.3.3.2" xref="A1.SS2.p5.32.m32.1.1.3.3.2.cmml">m</mi><mi id="A1.SS2.p5.32.m32.1.1.3.3.3" xref="A1.SS2.p5.32.m32.1.1.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.32.m32.1b"><apply id="A1.SS2.p5.32.m32.1.1.cmml" xref="A1.SS2.p5.32.m32.1.1"><eq id="A1.SS2.p5.32.m32.1.1.1.cmml" xref="A1.SS2.p5.32.m32.1.1.1"></eq><apply id="A1.SS2.p5.32.m32.1.1.2.cmml" xref="A1.SS2.p5.32.m32.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.32.m32.1.1.2.1.cmml" xref="A1.SS2.p5.32.m32.1.1.2">superscript</csymbol><apply id="A1.SS2.p5.32.m32.1.1.2.2.cmml" xref="A1.SS2.p5.32.m32.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.32.m32.1.1.2.2.1.cmml" xref="A1.SS2.p5.32.m32.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.32.m32.1.1.2.2.2.cmml" xref="A1.SS2.p5.32.m32.1.1.2.2.2">𝑐</ci><ci id="A1.SS2.p5.32.m32.1.1.2.2.3.cmml" xref="A1.SS2.p5.32.m32.1.1.2.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.32.m32.1.1.2.3.cmml" xref="A1.SS2.p5.32.m32.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.32.m32.1.1.3.cmml" xref="A1.SS2.p5.32.m32.1.1.3"><times id="A1.SS2.p5.32.m32.1.1.3.1.cmml" xref="A1.SS2.p5.32.m32.1.1.3.1"></times><apply id="A1.SS2.p5.32.m32.1.1.3.2.cmml" xref="A1.SS2.p5.32.m32.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.32.m32.1.1.3.2.1.cmml" xref="A1.SS2.p5.32.m32.1.1.3.2">superscript</csymbol><ci id="A1.SS2.p5.32.m32.1.1.3.2.2.cmml" xref="A1.SS2.p5.32.m32.1.1.3.2.2">𝐸</ci><ci id="A1.SS2.p5.32.m32.1.1.3.2.3.cmml" xref="A1.SS2.p5.32.m32.1.1.3.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.32.m32.1.1.3.3.cmml" xref="A1.SS2.p5.32.m32.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS2.p5.32.m32.1.1.3.3.1.cmml" xref="A1.SS2.p5.32.m32.1.1.3.3">subscript</csymbol><ci id="A1.SS2.p5.32.m32.1.1.3.3.2.cmml" xref="A1.SS2.p5.32.m32.1.1.3.3.2">𝑚</ci><ci id="A1.SS2.p5.32.m32.1.1.3.3.3.cmml" xref="A1.SS2.p5.32.m32.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.32.m32.1c">c_{k}^{t}=E^{t}m_{k}</annotation></semantics></math> to be excluded from future rounds. Basing the client selection probability on a clients’ previous contributions (<math id="A1.SS2.p5.33.m33.1" class="ltx_Math" alttext="w_{k}" display="inline"><semantics id="A1.SS2.p5.33.m33.1a"><msub id="A1.SS2.p5.33.m33.1.1" xref="A1.SS2.p5.33.m33.1.1.cmml"><mi id="A1.SS2.p5.33.m33.1.1.2" xref="A1.SS2.p5.33.m33.1.1.2.cmml">w</mi><mi id="A1.SS2.p5.33.m33.1.1.3" xref="A1.SS2.p5.33.m33.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.33.m33.1b"><apply id="A1.SS2.p5.33.m33.1.1.cmml" xref="A1.SS2.p5.33.m33.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.33.m33.1.1.1.cmml" xref="A1.SS2.p5.33.m33.1.1">subscript</csymbol><ci id="A1.SS2.p5.33.m33.1.1.2.cmml" xref="A1.SS2.p5.33.m33.1.1.2">𝑤</ci><ci id="A1.SS2.p5.33.m33.1.1.3.cmml" xref="A1.SS2.p5.33.m33.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.33.m33.1c">w_{k}</annotation></semantics></math>) allows clients which had low contributions in previous rounds to be selected more frequently, and hence contribute additional updates to the global model. Synchronous <em id="A1.SS2.p5.36.4" class="ltx_emph ltx_font_italic">FedAvg</em> is a special case of <em id="A1.SS2.p5.36.5" class="ltx_emph ltx_font_italic">FedFS</em>: if all clients are able to compute <math id="A1.SS2.p5.34.m34.1" class="ltx_Math" alttext="c_{k}^{t}=E^{t}m_{k}" display="inline"><semantics id="A1.SS2.p5.34.m34.1a"><mrow id="A1.SS2.p5.34.m34.1.1" xref="A1.SS2.p5.34.m34.1.1.cmml"><msubsup id="A1.SS2.p5.34.m34.1.1.2" xref="A1.SS2.p5.34.m34.1.1.2.cmml"><mi id="A1.SS2.p5.34.m34.1.1.2.2.2" xref="A1.SS2.p5.34.m34.1.1.2.2.2.cmml">c</mi><mi id="A1.SS2.p5.34.m34.1.1.2.2.3" xref="A1.SS2.p5.34.m34.1.1.2.2.3.cmml">k</mi><mi id="A1.SS2.p5.34.m34.1.1.2.3" xref="A1.SS2.p5.34.m34.1.1.2.3.cmml">t</mi></msubsup><mo id="A1.SS2.p5.34.m34.1.1.1" xref="A1.SS2.p5.34.m34.1.1.1.cmml">=</mo><mrow id="A1.SS2.p5.34.m34.1.1.3" xref="A1.SS2.p5.34.m34.1.1.3.cmml"><msup id="A1.SS2.p5.34.m34.1.1.3.2" xref="A1.SS2.p5.34.m34.1.1.3.2.cmml"><mi id="A1.SS2.p5.34.m34.1.1.3.2.2" xref="A1.SS2.p5.34.m34.1.1.3.2.2.cmml">E</mi><mi id="A1.SS2.p5.34.m34.1.1.3.2.3" xref="A1.SS2.p5.34.m34.1.1.3.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p5.34.m34.1.1.3.1" xref="A1.SS2.p5.34.m34.1.1.3.1.cmml">​</mo><msub id="A1.SS2.p5.34.m34.1.1.3.3" xref="A1.SS2.p5.34.m34.1.1.3.3.cmml"><mi id="A1.SS2.p5.34.m34.1.1.3.3.2" xref="A1.SS2.p5.34.m34.1.1.3.3.2.cmml">m</mi><mi id="A1.SS2.p5.34.m34.1.1.3.3.3" xref="A1.SS2.p5.34.m34.1.1.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.34.m34.1b"><apply id="A1.SS2.p5.34.m34.1.1.cmml" xref="A1.SS2.p5.34.m34.1.1"><eq id="A1.SS2.p5.34.m34.1.1.1.cmml" xref="A1.SS2.p5.34.m34.1.1.1"></eq><apply id="A1.SS2.p5.34.m34.1.1.2.cmml" xref="A1.SS2.p5.34.m34.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.34.m34.1.1.2.1.cmml" xref="A1.SS2.p5.34.m34.1.1.2">superscript</csymbol><apply id="A1.SS2.p5.34.m34.1.1.2.2.cmml" xref="A1.SS2.p5.34.m34.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p5.34.m34.1.1.2.2.1.cmml" xref="A1.SS2.p5.34.m34.1.1.2">subscript</csymbol><ci id="A1.SS2.p5.34.m34.1.1.2.2.2.cmml" xref="A1.SS2.p5.34.m34.1.1.2.2.2">𝑐</ci><ci id="A1.SS2.p5.34.m34.1.1.2.2.3.cmml" xref="A1.SS2.p5.34.m34.1.1.2.2.3">𝑘</ci></apply><ci id="A1.SS2.p5.34.m34.1.1.2.3.cmml" xref="A1.SS2.p5.34.m34.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.34.m34.1.1.3.cmml" xref="A1.SS2.p5.34.m34.1.1.3"><times id="A1.SS2.p5.34.m34.1.1.3.1.cmml" xref="A1.SS2.p5.34.m34.1.1.3.1"></times><apply id="A1.SS2.p5.34.m34.1.1.3.2.cmml" xref="A1.SS2.p5.34.m34.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p5.34.m34.1.1.3.2.1.cmml" xref="A1.SS2.p5.34.m34.1.1.3.2">superscript</csymbol><ci id="A1.SS2.p5.34.m34.1.1.3.2.2.cmml" xref="A1.SS2.p5.34.m34.1.1.3.2.2">𝐸</ci><ci id="A1.SS2.p5.34.m34.1.1.3.2.3.cmml" xref="A1.SS2.p5.34.m34.1.1.3.2.3">𝑡</ci></apply><apply id="A1.SS2.p5.34.m34.1.1.3.3.cmml" xref="A1.SS2.p5.34.m34.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS2.p5.34.m34.1.1.3.3.1.cmml" xref="A1.SS2.p5.34.m34.1.1.3.3">subscript</csymbol><ci id="A1.SS2.p5.34.m34.1.1.3.3.2.cmml" xref="A1.SS2.p5.34.m34.1.1.3.3.2">𝑚</ci><ci id="A1.SS2.p5.34.m34.1.1.3.3.3.cmml" xref="A1.SS2.p5.34.m34.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.34.m34.1c">c_{k}^{t}=E^{t}m_{k}</annotation></semantics></math> every round, then there will be no difference in <math id="A1.SS2.p5.35.m35.1" class="ltx_Math" alttext="w_{k}" display="inline"><semantics id="A1.SS2.p5.35.m35.1a"><msub id="A1.SS2.p5.35.m35.1.1" xref="A1.SS2.p5.35.m35.1.1.cmml"><mi id="A1.SS2.p5.35.m35.1.1.2" xref="A1.SS2.p5.35.m35.1.1.2.cmml">w</mi><mi id="A1.SS2.p5.35.m35.1.1.3" xref="A1.SS2.p5.35.m35.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.35.m35.1b"><apply id="A1.SS2.p5.35.m35.1.1.cmml" xref="A1.SS2.p5.35.m35.1.1"><csymbol cd="ambiguous" id="A1.SS2.p5.35.m35.1.1.1.cmml" xref="A1.SS2.p5.35.m35.1.1">subscript</csymbol><ci id="A1.SS2.p5.35.m35.1.1.2.cmml" xref="A1.SS2.p5.35.m35.1.1.2">𝑤</ci><ci id="A1.SS2.p5.35.m35.1.1.3.cmml" xref="A1.SS2.p5.35.m35.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.35.m35.1c">w_{k}</annotation></semantics></math> and <em id="A1.SS2.p5.36.6" class="ltx_emph ltx_font_italic">FedFS</em> samples amongst all clients with a uniform client selection probability of <math id="A1.SS2.p5.36.m36.1" class="ltx_Math" alttext="\frac{1}{k}" display="inline"><semantics id="A1.SS2.p5.36.m36.1a"><mfrac id="A1.SS2.p5.36.m36.1.1" xref="A1.SS2.p5.36.m36.1.1.cmml"><mn id="A1.SS2.p5.36.m36.1.1.2" xref="A1.SS2.p5.36.m36.1.1.2.cmml">1</mn><mi id="A1.SS2.p5.36.m36.1.1.3" xref="A1.SS2.p5.36.m36.1.1.3.cmml">k</mi></mfrac><annotation-xml encoding="MathML-Content" id="A1.SS2.p5.36.m36.1b"><apply id="A1.SS2.p5.36.m36.1.1.cmml" xref="A1.SS2.p5.36.m36.1.1"><divide id="A1.SS2.p5.36.m36.1.1.1.cmml" xref="A1.SS2.p5.36.m36.1.1"></divide><cn type="integer" id="A1.SS2.p5.36.m36.1.1.2.cmml" xref="A1.SS2.p5.36.m36.1.1.2">1</cn><ci id="A1.SS2.p5.36.m36.1.1.3.cmml" xref="A1.SS2.p5.36.m36.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p5.36.m36.1c">\frac{1}{k}</annotation></semantics></math>.</p>
</div>
<div id="A1.SS2.p6" class="ltx_para ltx_noindent">
<p id="A1.SS2.p6.8" class="ltx_p"><span id="A1.SS2.p6.8.1" class="ltx_text ltx_font_bold">Alternating timeout.</span> Gradual failure for clients which are not able to compute <math id="A1.SS2.p6.1.m1.1" class="ltx_Math" alttext="E^{t}\frac{m_{k}}{B}" display="inline"><semantics id="A1.SS2.p6.1.m1.1a"><mrow id="A1.SS2.p6.1.m1.1.1" xref="A1.SS2.p6.1.m1.1.1.cmml"><msup id="A1.SS2.p6.1.m1.1.1.2" xref="A1.SS2.p6.1.m1.1.1.2.cmml"><mi id="A1.SS2.p6.1.m1.1.1.2.2" xref="A1.SS2.p6.1.m1.1.1.2.2.cmml">E</mi><mi id="A1.SS2.p6.1.m1.1.1.2.3" xref="A1.SS2.p6.1.m1.1.1.2.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="A1.SS2.p6.1.m1.1.1.1" xref="A1.SS2.p6.1.m1.1.1.1.cmml">​</mo><mfrac id="A1.SS2.p6.1.m1.1.1.3" xref="A1.SS2.p6.1.m1.1.1.3.cmml"><msub id="A1.SS2.p6.1.m1.1.1.3.2" xref="A1.SS2.p6.1.m1.1.1.3.2.cmml"><mi id="A1.SS2.p6.1.m1.1.1.3.2.2" xref="A1.SS2.p6.1.m1.1.1.3.2.2.cmml">m</mi><mi id="A1.SS2.p6.1.m1.1.1.3.2.3" xref="A1.SS2.p6.1.m1.1.1.3.2.3.cmml">k</mi></msub><mi id="A1.SS2.p6.1.m1.1.1.3.3" xref="A1.SS2.p6.1.m1.1.1.3.3.cmml">B</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.1.m1.1b"><apply id="A1.SS2.p6.1.m1.1.1.cmml" xref="A1.SS2.p6.1.m1.1.1"><times id="A1.SS2.p6.1.m1.1.1.1.cmml" xref="A1.SS2.p6.1.m1.1.1.1"></times><apply id="A1.SS2.p6.1.m1.1.1.2.cmml" xref="A1.SS2.p6.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p6.1.m1.1.1.2.1.cmml" xref="A1.SS2.p6.1.m1.1.1.2">superscript</csymbol><ci id="A1.SS2.p6.1.m1.1.1.2.2.cmml" xref="A1.SS2.p6.1.m1.1.1.2.2">𝐸</ci><ci id="A1.SS2.p6.1.m1.1.1.2.3.cmml" xref="A1.SS2.p6.1.m1.1.1.2.3">𝑡</ci></apply><apply id="A1.SS2.p6.1.m1.1.1.3.cmml" xref="A1.SS2.p6.1.m1.1.1.3"><divide id="A1.SS2.p6.1.m1.1.1.3.1.cmml" xref="A1.SS2.p6.1.m1.1.1.3"></divide><apply id="A1.SS2.p6.1.m1.1.1.3.2.cmml" xref="A1.SS2.p6.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS2.p6.1.m1.1.1.3.2.1.cmml" xref="A1.SS2.p6.1.m1.1.1.3.2">subscript</csymbol><ci id="A1.SS2.p6.1.m1.1.1.3.2.2.cmml" xref="A1.SS2.p6.1.m1.1.1.3.2.2">𝑚</ci><ci id="A1.SS2.p6.1.m1.1.1.3.2.3.cmml" xref="A1.SS2.p6.1.m1.1.1.3.2.3">𝑘</ci></apply><ci id="A1.SS2.p6.1.m1.1.1.3.3.cmml" xref="A1.SS2.p6.1.m1.1.1.3.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.1.m1.1c">E^{t}\frac{m_{k}}{B}</annotation></semantics></math> gradient updates within <math id="A1.SS2.p6.2.m2.1" class="ltx_Math" alttext="\Delta_{t}" display="inline"><semantics id="A1.SS2.p6.2.m2.1a"><msub id="A1.SS2.p6.2.m2.1.1" xref="A1.SS2.p6.2.m2.1.1.cmml"><mi mathvariant="normal" id="A1.SS2.p6.2.m2.1.1.2" xref="A1.SS2.p6.2.m2.1.1.2.cmml">Δ</mi><mi id="A1.SS2.p6.2.m2.1.1.3" xref="A1.SS2.p6.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.2.m2.1b"><apply id="A1.SS2.p6.2.m2.1.1.cmml" xref="A1.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="A1.SS2.p6.2.m2.1.1.1.cmml" xref="A1.SS2.p6.2.m2.1.1">subscript</csymbol><ci id="A1.SS2.p6.2.m2.1.1.2.cmml" xref="A1.SS2.p6.2.m2.1.1.2">Δ</ci><ci id="A1.SS2.p6.2.m2.1.1.3.cmml" xref="A1.SS2.p6.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.2.m2.1c">\Delta_{t}</annotation></semantics></math> and client selection based on previous contributions allow <em id="A1.SS2.p6.8.2" class="ltx_emph ltx_font_italic">FedFS</em> to use more aggressive values for <math id="A1.SS2.p6.3.m3.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p6.3.m3.1a"><mi mathvariant="normal" id="A1.SS2.p6.3.m3.1.1" xref="A1.SS2.p6.3.m3.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.3.m3.1b"><ci id="A1.SS2.p6.3.m3.1.1.cmml" xref="A1.SS2.p6.3.m3.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.3.m3.1c">\Delta</annotation></semantics></math>. One strategy is to use an alternating schedule for <math id="A1.SS2.p6.4.m4.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A1.SS2.p6.4.m4.1a"><mi mathvariant="normal" id="A1.SS2.p6.4.m4.1.1" xref="A1.SS2.p6.4.m4.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.4.m4.1b"><ci id="A1.SS2.p6.4.m4.1.1.cmml" xref="A1.SS2.p6.4.m4.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.4.m4.1c">\Delta</annotation></semantics></math> in which we perform <math id="A1.SS2.p6.5.m5.1" class="ltx_Math" alttext="r_{f}" display="inline"><semantics id="A1.SS2.p6.5.m5.1a"><msub id="A1.SS2.p6.5.m5.1.1" xref="A1.SS2.p6.5.m5.1.1.cmml"><mi id="A1.SS2.p6.5.m5.1.1.2" xref="A1.SS2.p6.5.m5.1.1.2.cmml">r</mi><mi id="A1.SS2.p6.5.m5.1.1.3" xref="A1.SS2.p6.5.m5.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.5.m5.1b"><apply id="A1.SS2.p6.5.m5.1.1.cmml" xref="A1.SS2.p6.5.m5.1.1"><csymbol cd="ambiguous" id="A1.SS2.p6.5.m5.1.1.1.cmml" xref="A1.SS2.p6.5.m5.1.1">subscript</csymbol><ci id="A1.SS2.p6.5.m5.1.1.2.cmml" xref="A1.SS2.p6.5.m5.1.1.2">𝑟</ci><ci id="A1.SS2.p6.5.m5.1.1.3.cmml" xref="A1.SS2.p6.5.m5.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.5.m5.1c">r_{f}</annotation></semantics></math> “fast” rounds with small <math id="A1.SS2.p6.6.m6.1" class="ltx_Math" alttext="\Delta^{f}" display="inline"><semantics id="A1.SS2.p6.6.m6.1a"><msup id="A1.SS2.p6.6.m6.1.1" xref="A1.SS2.p6.6.m6.1.1.cmml"><mi mathvariant="normal" id="A1.SS2.p6.6.m6.1.1.2" xref="A1.SS2.p6.6.m6.1.1.2.cmml">Δ</mi><mi id="A1.SS2.p6.6.m6.1.1.3" xref="A1.SS2.p6.6.m6.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.6.m6.1b"><apply id="A1.SS2.p6.6.m6.1.1.cmml" xref="A1.SS2.p6.6.m6.1.1"><csymbol cd="ambiguous" id="A1.SS2.p6.6.m6.1.1.1.cmml" xref="A1.SS2.p6.6.m6.1.1">superscript</csymbol><ci id="A1.SS2.p6.6.m6.1.1.2.cmml" xref="A1.SS2.p6.6.m6.1.1.2">Δ</ci><ci id="A1.SS2.p6.6.m6.1.1.3.cmml" xref="A1.SS2.p6.6.m6.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.6.m6.1c">\Delta^{f}</annotation></semantics></math>) and <math id="A1.SS2.p6.7.m7.1" class="ltx_Math" alttext="r_{s}" display="inline"><semantics id="A1.SS2.p6.7.m7.1a"><msub id="A1.SS2.p6.7.m7.1.1" xref="A1.SS2.p6.7.m7.1.1.cmml"><mi id="A1.SS2.p6.7.m7.1.1.2" xref="A1.SS2.p6.7.m7.1.1.2.cmml">r</mi><mi id="A1.SS2.p6.7.m7.1.1.3" xref="A1.SS2.p6.7.m7.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.7.m7.1b"><apply id="A1.SS2.p6.7.m7.1.1.cmml" xref="A1.SS2.p6.7.m7.1.1"><csymbol cd="ambiguous" id="A1.SS2.p6.7.m7.1.1.1.cmml" xref="A1.SS2.p6.7.m7.1.1">subscript</csymbol><ci id="A1.SS2.p6.7.m7.1.1.2.cmml" xref="A1.SS2.p6.7.m7.1.1.2">𝑟</ci><ci id="A1.SS2.p6.7.m7.1.1.3.cmml" xref="A1.SS2.p6.7.m7.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.7.m7.1c">r_{s}</annotation></semantics></math> “slow” rounds with larger <math id="A1.SS2.p6.8.m8.1" class="ltx_Math" alttext="\Delta^{s}" display="inline"><semantics id="A1.SS2.p6.8.m8.1a"><msup id="A1.SS2.p6.8.m8.1.1" xref="A1.SS2.p6.8.m8.1.1.cmml"><mi mathvariant="normal" id="A1.SS2.p6.8.m8.1.1.2" xref="A1.SS2.p6.8.m8.1.1.2.cmml">Δ</mi><mi id="A1.SS2.p6.8.m8.1.1.3" xref="A1.SS2.p6.8.m8.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="A1.SS2.p6.8.m8.1b"><apply id="A1.SS2.p6.8.m8.1.1.cmml" xref="A1.SS2.p6.8.m8.1.1"><csymbol cd="ambiguous" id="A1.SS2.p6.8.m8.1.1.1.cmml" xref="A1.SS2.p6.8.m8.1.1">superscript</csymbol><ci id="A1.SS2.p6.8.m8.1.1.2.cmml" xref="A1.SS2.p6.8.m8.1.1.2">Δ</ci><ci id="A1.SS2.p6.8.m8.1.1.3.cmml" xref="A1.SS2.p6.8.m8.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p6.8.m8.1c">\Delta^{s}</annotation></semantics></math>. This allows <em id="A1.SS2.p6.8.3" class="ltx_emph ltx_font_italic">FedFS</em> to be configured for either improved convergence in terms of wall-clock time or better overall performance (e.g., in terms for classification accuracy).</p>
</div>
<div id="A1.SS2.p7" class="ltx_para ltx_noindent">
<p id="A1.SS2.p7.1" class="ltx_p"><span id="A1.SS2.p7.1.1" class="ltx_text ltx_font_bold">FedFS algorithm.</span> The full <em id="A1.SS2.p7.1.2" class="ltx_emph ltx_font_italic">FedFS</em> algorithm is given in Algorithm <a href="#alg1" title="Algorithm 1 ‣ A.2 FedFS Algorithm ‣ Appendix A Appendix" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.21" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.1.1" class="ltx_listingline">
<span id="alg1.1.1.1" class="ltx_text ltx_font_bold">begin</span> Server <math id="alg1.1.1.m1.7" class="ltx_Math" alttext="T,C,K,\epsilon,r_{f},r_{s},\Delta_{max},E,B," display="inline"><semantics id="alg1.1.1.m1.7a"><mrow id="alg1.1.1.m1.7.7.1"><mrow id="alg1.1.1.m1.7.7.1.1.3" xref="alg1.1.1.m1.7.7.1.1.4.cmml"><mi id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml">T</mi><mo id="alg1.1.1.m1.7.7.1.1.3.4" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><mi id="alg1.1.1.m1.2.2" xref="alg1.1.1.m1.2.2.cmml">C</mi><mo id="alg1.1.1.m1.7.7.1.1.3.5" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><mi id="alg1.1.1.m1.3.3" xref="alg1.1.1.m1.3.3.cmml">K</mi><mo id="alg1.1.1.m1.7.7.1.1.3.6" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><mi id="alg1.1.1.m1.4.4" xref="alg1.1.1.m1.4.4.cmml">ϵ</mi><mo id="alg1.1.1.m1.7.7.1.1.3.7" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><msub id="alg1.1.1.m1.7.7.1.1.1.1" xref="alg1.1.1.m1.7.7.1.1.1.1.cmml"><mi id="alg1.1.1.m1.7.7.1.1.1.1.2" xref="alg1.1.1.m1.7.7.1.1.1.1.2.cmml">r</mi><mi id="alg1.1.1.m1.7.7.1.1.1.1.3" xref="alg1.1.1.m1.7.7.1.1.1.1.3.cmml">f</mi></msub><mo id="alg1.1.1.m1.7.7.1.1.3.8" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><msub id="alg1.1.1.m1.7.7.1.1.2.2" xref="alg1.1.1.m1.7.7.1.1.2.2.cmml"><mi id="alg1.1.1.m1.7.7.1.1.2.2.2" xref="alg1.1.1.m1.7.7.1.1.2.2.2.cmml">r</mi><mi id="alg1.1.1.m1.7.7.1.1.2.2.3" xref="alg1.1.1.m1.7.7.1.1.2.2.3.cmml">s</mi></msub><mo id="alg1.1.1.m1.7.7.1.1.3.9" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><msub id="alg1.1.1.m1.7.7.1.1.3.3" xref="alg1.1.1.m1.7.7.1.1.3.3.cmml"><mi mathvariant="normal" id="alg1.1.1.m1.7.7.1.1.3.3.2" xref="alg1.1.1.m1.7.7.1.1.3.3.2.cmml">Δ</mi><mrow id="alg1.1.1.m1.7.7.1.1.3.3.3" xref="alg1.1.1.m1.7.7.1.1.3.3.3.cmml"><mi id="alg1.1.1.m1.7.7.1.1.3.3.3.2" xref="alg1.1.1.m1.7.7.1.1.3.3.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg1.1.1.m1.7.7.1.1.3.3.3.1" xref="alg1.1.1.m1.7.7.1.1.3.3.3.1.cmml">​</mo><mi id="alg1.1.1.m1.7.7.1.1.3.3.3.3" xref="alg1.1.1.m1.7.7.1.1.3.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.1.1.m1.7.7.1.1.3.3.3.1a" xref="alg1.1.1.m1.7.7.1.1.3.3.3.1.cmml">​</mo><mi id="alg1.1.1.m1.7.7.1.1.3.3.3.4" xref="alg1.1.1.m1.7.7.1.1.3.3.3.4.cmml">x</mi></mrow></msub><mo id="alg1.1.1.m1.7.7.1.1.3.10" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><mi id="alg1.1.1.m1.5.5" xref="alg1.1.1.m1.5.5.cmml">E</mi><mo id="alg1.1.1.m1.7.7.1.1.3.11" xref="alg1.1.1.m1.7.7.1.1.4.cmml">,</mo><mi id="alg1.1.1.m1.6.6" xref="alg1.1.1.m1.6.6.cmml">B</mi></mrow><mo id="alg1.1.1.m1.7.7.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.7b"><list id="alg1.1.1.m1.7.7.1.1.4.cmml" xref="alg1.1.1.m1.7.7.1.1.3"><ci id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1">𝑇</ci><ci id="alg1.1.1.m1.2.2.cmml" xref="alg1.1.1.m1.2.2">𝐶</ci><ci id="alg1.1.1.m1.3.3.cmml" xref="alg1.1.1.m1.3.3">𝐾</ci><ci id="alg1.1.1.m1.4.4.cmml" xref="alg1.1.1.m1.4.4">italic-ϵ</ci><apply id="alg1.1.1.m1.7.7.1.1.1.1.cmml" xref="alg1.1.1.m1.7.7.1.1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.7.7.1.1.1.1.1.cmml" xref="alg1.1.1.m1.7.7.1.1.1.1">subscript</csymbol><ci id="alg1.1.1.m1.7.7.1.1.1.1.2.cmml" xref="alg1.1.1.m1.7.7.1.1.1.1.2">𝑟</ci><ci id="alg1.1.1.m1.7.7.1.1.1.1.3.cmml" xref="alg1.1.1.m1.7.7.1.1.1.1.3">𝑓</ci></apply><apply id="alg1.1.1.m1.7.7.1.1.2.2.cmml" xref="alg1.1.1.m1.7.7.1.1.2.2"><csymbol cd="ambiguous" id="alg1.1.1.m1.7.7.1.1.2.2.1.cmml" xref="alg1.1.1.m1.7.7.1.1.2.2">subscript</csymbol><ci id="alg1.1.1.m1.7.7.1.1.2.2.2.cmml" xref="alg1.1.1.m1.7.7.1.1.2.2.2">𝑟</ci><ci id="alg1.1.1.m1.7.7.1.1.2.2.3.cmml" xref="alg1.1.1.m1.7.7.1.1.2.2.3">𝑠</ci></apply><apply id="alg1.1.1.m1.7.7.1.1.3.3.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3"><csymbol cd="ambiguous" id="alg1.1.1.m1.7.7.1.1.3.3.1.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3">subscript</csymbol><ci id="alg1.1.1.m1.7.7.1.1.3.3.2.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.2">Δ</ci><apply id="alg1.1.1.m1.7.7.1.1.3.3.3.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.3"><times id="alg1.1.1.m1.7.7.1.1.3.3.3.1.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.3.1"></times><ci id="alg1.1.1.m1.7.7.1.1.3.3.3.2.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.3.2">𝑚</ci><ci id="alg1.1.1.m1.7.7.1.1.3.3.3.3.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.3.3">𝑎</ci><ci id="alg1.1.1.m1.7.7.1.1.3.3.3.4.cmml" xref="alg1.1.1.m1.7.7.1.1.3.3.3.4">𝑥</ci></apply></apply><ci id="alg1.1.1.m1.5.5.cmml" xref="alg1.1.1.m1.5.5">𝐸</ci><ci id="alg1.1.1.m1.6.6.cmml" xref="alg1.1.1.m1.6.6">𝐵</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.7c">T,C,K,\epsilon,r_{f},r_{s},\Delta_{max},E,B,</annotation></semantics></math> 
</div>
<div id="alg1.2.2" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
initialise <math id="alg1.2.2.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="alg1.2.2.m1.1a"><msub id="alg1.2.2.m1.1.1" xref="alg1.2.2.m1.1.1.cmml"><mi id="alg1.2.2.m1.1.1.2" xref="alg1.2.2.m1.1.1.2.cmml">θ</mi><mn id="alg1.2.2.m1.1.1.3" xref="alg1.2.2.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.2.2.m1.1b"><apply id="alg1.2.2.m1.1.1.cmml" xref="alg1.2.2.m1.1.1"><csymbol cd="ambiguous" id="alg1.2.2.m1.1.1.1.cmml" xref="alg1.2.2.m1.1.1">subscript</csymbol><ci id="alg1.2.2.m1.1.1.2.cmml" xref="alg1.2.2.m1.1.1.2">𝜃</ci><cn type="integer" id="alg1.2.2.m1.1.1.3.cmml" xref="alg1.2.2.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m1.1c">\theta_{0}</annotation></semantics></math>
</div>
<div id="alg1.3.3" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.3.3.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.3.3.1" class="ltx_emph ltx_font_italic">round <math id="alg1.3.3.1.m1.3" class="ltx_Math" alttext="t\leftarrow 0,...,T-1" display="inline"><semantics id="alg1.3.3.1.m1.3a"><mrow id="alg1.3.3.1.m1.3.3" xref="alg1.3.3.1.m1.3.3.cmml"><mi id="alg1.3.3.1.m1.3.3.3" xref="alg1.3.3.1.m1.3.3.3.cmml">t</mi><mo stretchy="false" id="alg1.3.3.1.m1.3.3.2" xref="alg1.3.3.1.m1.3.3.2.cmml">←</mo><mrow id="alg1.3.3.1.m1.3.3.1.1" xref="alg1.3.3.1.m1.3.3.1.2.cmml"><mn id="alg1.3.3.1.m1.1.1" xref="alg1.3.3.1.m1.1.1.cmml">0</mn><mo id="alg1.3.3.1.m1.3.3.1.1.2" xref="alg1.3.3.1.m1.3.3.1.2.cmml">,</mo><mi mathvariant="normal" id="alg1.3.3.1.m1.2.2" xref="alg1.3.3.1.m1.2.2.cmml">…</mi><mo id="alg1.3.3.1.m1.3.3.1.1.3" xref="alg1.3.3.1.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.3.3.1.m1.3.3.1.1.1" xref="alg1.3.3.1.m1.3.3.1.1.1.cmml"><mi id="alg1.3.3.1.m1.3.3.1.1.1.2" xref="alg1.3.3.1.m1.3.3.1.1.1.2.cmml">T</mi><mo id="alg1.3.3.1.m1.3.3.1.1.1.1" xref="alg1.3.3.1.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg1.3.3.1.m1.3.3.1.1.1.3" xref="alg1.3.3.1.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.3.3.1.m1.3b"><apply id="alg1.3.3.1.m1.3.3.cmml" xref="alg1.3.3.1.m1.3.3"><ci id="alg1.3.3.1.m1.3.3.2.cmml" xref="alg1.3.3.1.m1.3.3.2">←</ci><ci id="alg1.3.3.1.m1.3.3.3.cmml" xref="alg1.3.3.1.m1.3.3.3">𝑡</ci><list id="alg1.3.3.1.m1.3.3.1.2.cmml" xref="alg1.3.3.1.m1.3.3.1.1"><cn type="integer" id="alg1.3.3.1.m1.1.1.cmml" xref="alg1.3.3.1.m1.1.1">0</cn><ci id="alg1.3.3.1.m1.2.2.cmml" xref="alg1.3.3.1.m1.2.2">…</ci><apply id="alg1.3.3.1.m1.3.3.1.1.1.cmml" xref="alg1.3.3.1.m1.3.3.1.1.1"><minus id="alg1.3.3.1.m1.3.3.1.1.1.1.cmml" xref="alg1.3.3.1.m1.3.3.1.1.1.1"></minus><ci id="alg1.3.3.1.m1.3.3.1.1.1.2.cmml" xref="alg1.3.3.1.m1.3.3.1.1.1.2">𝑇</ci><cn type="integer" id="alg1.3.3.1.m1.3.3.1.1.1.3.cmml" xref="alg1.3.3.1.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.1.m1.3c">t\leftarrow 0,...,T-1</annotation></semantics></math></em> <span id="alg1.3.3.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.4.4" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.4.4.m1.3" class="ltx_Math" alttext="j\leftarrow\max(\lfloor C\cdot K\rfloor,1)" display="inline"><semantics id="alg1.4.4.m1.3a"><mrow id="alg1.4.4.m1.3.3" xref="alg1.4.4.m1.3.3.cmml"><mi id="alg1.4.4.m1.3.3.3" xref="alg1.4.4.m1.3.3.3.cmml">j</mi><mo stretchy="false" id="alg1.4.4.m1.3.3.2" xref="alg1.4.4.m1.3.3.2.cmml">←</mo><mrow id="alg1.4.4.m1.3.3.1.1" xref="alg1.4.4.m1.3.3.1.2.cmml"><mi id="alg1.4.4.m1.1.1" xref="alg1.4.4.m1.1.1.cmml">max</mi><mo id="alg1.4.4.m1.3.3.1.1a" xref="alg1.4.4.m1.3.3.1.2.cmml">⁡</mo><mrow id="alg1.4.4.m1.3.3.1.1.1" xref="alg1.4.4.m1.3.3.1.2.cmml"><mo stretchy="false" id="alg1.4.4.m1.3.3.1.1.1.2" xref="alg1.4.4.m1.3.3.1.2.cmml">(</mo><mrow id="alg1.4.4.m1.3.3.1.1.1.1.1" xref="alg1.4.4.m1.3.3.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.4.4.m1.3.3.1.1.1.1.1.2" xref="alg1.4.4.m1.3.3.1.1.1.1.2.1.cmml">⌊</mo><mrow id="alg1.4.4.m1.3.3.1.1.1.1.1.1" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.cmml"><mi id="alg1.4.4.m1.3.3.1.1.1.1.1.1.2" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="alg1.4.4.m1.3.3.1.1.1.1.1.1.1" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.1.cmml">⋅</mo><mi id="alg1.4.4.m1.3.3.1.1.1.1.1.1.3" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.3.cmml">K</mi></mrow><mo stretchy="false" id="alg1.4.4.m1.3.3.1.1.1.1.1.3" xref="alg1.4.4.m1.3.3.1.1.1.1.2.1.cmml">⌋</mo></mrow><mo id="alg1.4.4.m1.3.3.1.1.1.3" xref="alg1.4.4.m1.3.3.1.2.cmml">,</mo><mn id="alg1.4.4.m1.2.2" xref="alg1.4.4.m1.2.2.cmml">1</mn><mo stretchy="false" id="alg1.4.4.m1.3.3.1.1.1.4" xref="alg1.4.4.m1.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.4.4.m1.3b"><apply id="alg1.4.4.m1.3.3.cmml" xref="alg1.4.4.m1.3.3"><ci id="alg1.4.4.m1.3.3.2.cmml" xref="alg1.4.4.m1.3.3.2">←</ci><ci id="alg1.4.4.m1.3.3.3.cmml" xref="alg1.4.4.m1.3.3.3">𝑗</ci><apply id="alg1.4.4.m1.3.3.1.2.cmml" xref="alg1.4.4.m1.3.3.1.1"><max id="alg1.4.4.m1.1.1.cmml" xref="alg1.4.4.m1.1.1"></max><apply id="alg1.4.4.m1.3.3.1.1.1.1.2.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1"><floor id="alg1.4.4.m1.3.3.1.1.1.1.2.1.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1.2"></floor><apply id="alg1.4.4.m1.3.3.1.1.1.1.1.1.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1"><ci id="alg1.4.4.m1.3.3.1.1.1.1.1.1.1.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.1">⋅</ci><ci id="alg1.4.4.m1.3.3.1.1.1.1.1.1.2.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.2">𝐶</ci><ci id="alg1.4.4.m1.3.3.1.1.1.1.1.1.3.cmml" xref="alg1.4.4.m1.3.3.1.1.1.1.1.1.3">𝐾</ci></apply></apply><cn type="integer" id="alg1.4.4.m1.2.2.cmml" xref="alg1.4.4.m1.2.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m1.3c">j\leftarrow\max(\lfloor C\cdot K\rfloor,1)</annotation></semantics></math> 
</div>
<div id="alg1.21.22" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.8.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg1.5.5.m1.1" class="ltx_Math" alttext="\mathcal{S}_{t}\leftarrow" display="inline"><semantics id="alg1.5.5.m1.1a"><mrow id="alg1.5.5.m1.1.1" xref="alg1.5.5.m1.1.1.cmml"><msub id="alg1.5.5.m1.1.1.2" xref="alg1.5.5.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.5.5.m1.1.1.2.2" xref="alg1.5.5.m1.1.1.2.2.cmml">𝒮</mi><mi id="alg1.5.5.m1.1.1.2.3" xref="alg1.5.5.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.5.5.m1.1.1.1" xref="alg1.5.5.m1.1.1.1.cmml">←</mo><mi id="alg1.5.5.m1.1.1.3" xref="alg1.5.5.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.5.m1.1b"><apply id="alg1.5.5.m1.1.1.cmml" xref="alg1.5.5.m1.1.1"><ci id="alg1.5.5.m1.1.1.1.cmml" xref="alg1.5.5.m1.1.1.1">←</ci><apply id="alg1.5.5.m1.1.1.2.cmml" xref="alg1.5.5.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.5.5.m1.1.1.2.1.cmml" xref="alg1.5.5.m1.1.1.2">subscript</csymbol><ci id="alg1.5.5.m1.1.1.2.2.cmml" xref="alg1.5.5.m1.1.1.2.2">𝒮</ci><ci id="alg1.5.5.m1.1.1.2.3.cmml" xref="alg1.5.5.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.5.5.m1.1.1.3.cmml" xref="alg1.5.5.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m1.1c">\mathcal{S}_{t}\leftarrow</annotation></semantics></math> (sample <math id="alg1.6.6.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="alg1.6.6.m2.1a"><mi id="alg1.6.6.m2.1.1" xref="alg1.6.6.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="alg1.6.6.m2.1b"><ci id="alg1.6.6.m2.1.1.cmml" xref="alg1.6.6.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m2.1c">j</annotation></semantics></math> distinct indices from <math id="alg1.7.7.m3.3" class="ltx_Math" alttext="\{1,...,K\}" display="inline"><semantics id="alg1.7.7.m3.3a"><mrow id="alg1.7.7.m3.3.4.2" xref="alg1.7.7.m3.3.4.1.cmml"><mo stretchy="false" id="alg1.7.7.m3.3.4.2.1" xref="alg1.7.7.m3.3.4.1.cmml">{</mo><mn id="alg1.7.7.m3.1.1" xref="alg1.7.7.m3.1.1.cmml">1</mn><mo id="alg1.7.7.m3.3.4.2.2" xref="alg1.7.7.m3.3.4.1.cmml">,</mo><mi mathvariant="normal" id="alg1.7.7.m3.2.2" xref="alg1.7.7.m3.2.2.cmml">…</mi><mo id="alg1.7.7.m3.3.4.2.3" xref="alg1.7.7.m3.3.4.1.cmml">,</mo><mi id="alg1.7.7.m3.3.3" xref="alg1.7.7.m3.3.3.cmml">K</mi><mo stretchy="false" id="alg1.7.7.m3.3.4.2.4" xref="alg1.7.7.m3.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.m3.3b"><set id="alg1.7.7.m3.3.4.1.cmml" xref="alg1.7.7.m3.3.4.2"><cn type="integer" id="alg1.7.7.m3.1.1.cmml" xref="alg1.7.7.m3.1.1">1</cn><ci id="alg1.7.7.m3.2.2.cmml" xref="alg1.7.7.m3.2.2">…</ci><ci id="alg1.7.7.m3.3.3.cmml" xref="alg1.7.7.m3.3.3">𝐾</ci></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.m3.3c">\{1,...,K\}</annotation></semantics></math> with <math id="alg1.8.8.m4.1" class="ltx_Math" alttext="1-w_{k}+\epsilon" display="inline"><semantics id="alg1.8.8.m4.1a"><mrow id="alg1.8.8.m4.1.1" xref="alg1.8.8.m4.1.1.cmml"><mrow id="alg1.8.8.m4.1.1.2" xref="alg1.8.8.m4.1.1.2.cmml"><mn id="alg1.8.8.m4.1.1.2.2" xref="alg1.8.8.m4.1.1.2.2.cmml">1</mn><mo id="alg1.8.8.m4.1.1.2.1" xref="alg1.8.8.m4.1.1.2.1.cmml">−</mo><msub id="alg1.8.8.m4.1.1.2.3" xref="alg1.8.8.m4.1.1.2.3.cmml"><mi id="alg1.8.8.m4.1.1.2.3.2" xref="alg1.8.8.m4.1.1.2.3.2.cmml">w</mi><mi id="alg1.8.8.m4.1.1.2.3.3" xref="alg1.8.8.m4.1.1.2.3.3.cmml">k</mi></msub></mrow><mo id="alg1.8.8.m4.1.1.1" xref="alg1.8.8.m4.1.1.1.cmml">+</mo><mi id="alg1.8.8.m4.1.1.3" xref="alg1.8.8.m4.1.1.3.cmml">ϵ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.8.m4.1b"><apply id="alg1.8.8.m4.1.1.cmml" xref="alg1.8.8.m4.1.1"><plus id="alg1.8.8.m4.1.1.1.cmml" xref="alg1.8.8.m4.1.1.1"></plus><apply id="alg1.8.8.m4.1.1.2.cmml" xref="alg1.8.8.m4.1.1.2"><minus id="alg1.8.8.m4.1.1.2.1.cmml" xref="alg1.8.8.m4.1.1.2.1"></minus><cn type="integer" id="alg1.8.8.m4.1.1.2.2.cmml" xref="alg1.8.8.m4.1.1.2.2">1</cn><apply id="alg1.8.8.m4.1.1.2.3.cmml" xref="alg1.8.8.m4.1.1.2.3"><csymbol cd="ambiguous" id="alg1.8.8.m4.1.1.2.3.1.cmml" xref="alg1.8.8.m4.1.1.2.3">subscript</csymbol><ci id="alg1.8.8.m4.1.1.2.3.2.cmml" xref="alg1.8.8.m4.1.1.2.3.2">𝑤</ci><ci id="alg1.8.8.m4.1.1.2.3.3.cmml" xref="alg1.8.8.m4.1.1.2.3.3">𝑘</ci></apply></apply><ci id="alg1.8.8.m4.1.1.3.cmml" xref="alg1.8.8.m4.1.1.3">italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m4.1c">1-w_{k}+\epsilon</annotation></semantics></math>) 
</div>
<div id="alg1.21.23" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.9.9" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg1.9.9.2" class="ltx_text ltx_font_bold">if</span> <em id="alg1.9.9.1" class="ltx_emph ltx_font_italic">fast round (<math id="alg1.9.9.1.m1.2" class="ltx_Math" alttext="r_{f},r_{s}" display="inline"><semantics id="alg1.9.9.1.m1.2a"><mrow id="alg1.9.9.1.m1.2.2.2" xref="alg1.9.9.1.m1.2.2.3.cmml"><msub id="alg1.9.9.1.m1.1.1.1.1" xref="alg1.9.9.1.m1.1.1.1.1.cmml"><mi id="alg1.9.9.1.m1.1.1.1.1.2" xref="alg1.9.9.1.m1.1.1.1.1.2.cmml">r</mi><mi id="alg1.9.9.1.m1.1.1.1.1.3" xref="alg1.9.9.1.m1.1.1.1.1.3.cmml">f</mi></msub><mo id="alg1.9.9.1.m1.2.2.2.3" xref="alg1.9.9.1.m1.2.2.3.cmml">,</mo><msub id="alg1.9.9.1.m1.2.2.2.2" xref="alg1.9.9.1.m1.2.2.2.2.cmml"><mi id="alg1.9.9.1.m1.2.2.2.2.2" xref="alg1.9.9.1.m1.2.2.2.2.2.cmml">r</mi><mi id="alg1.9.9.1.m1.2.2.2.2.3" xref="alg1.9.9.1.m1.2.2.2.2.3.cmml">s</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.9.1.m1.2b"><list id="alg1.9.9.1.m1.2.2.3.cmml" xref="alg1.9.9.1.m1.2.2.2"><apply id="alg1.9.9.1.m1.1.1.1.1.cmml" xref="alg1.9.9.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.9.9.1.m1.1.1.1.1.1.cmml" xref="alg1.9.9.1.m1.1.1.1.1">subscript</csymbol><ci id="alg1.9.9.1.m1.1.1.1.1.2.cmml" xref="alg1.9.9.1.m1.1.1.1.1.2">𝑟</ci><ci id="alg1.9.9.1.m1.1.1.1.1.3.cmml" xref="alg1.9.9.1.m1.1.1.1.1.3">𝑓</ci></apply><apply id="alg1.9.9.1.m1.2.2.2.2.cmml" xref="alg1.9.9.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.9.9.1.m1.2.2.2.2.1.cmml" xref="alg1.9.9.1.m1.2.2.2.2">subscript</csymbol><ci id="alg1.9.9.1.m1.2.2.2.2.2.cmml" xref="alg1.9.9.1.m1.2.2.2.2.2">𝑟</ci><ci id="alg1.9.9.1.m1.2.2.2.2.3.cmml" xref="alg1.9.9.1.m1.2.2.2.2.3">𝑠</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.1.m1.2c">r_{f},r_{s}</annotation></semantics></math>)</em> <span id="alg1.9.9.3" class="ltx_text ltx_font_bold">then</span>
</div>
<div id="alg1.10.10" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.10.10.m1.1" class="ltx_Math" alttext="\Delta_{t}=\Delta^{f}" display="inline"><semantics id="alg1.10.10.m1.1a"><mrow id="alg1.10.10.m1.1.1" xref="alg1.10.10.m1.1.1.cmml"><msub id="alg1.10.10.m1.1.1.2" xref="alg1.10.10.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.10.10.m1.1.1.2.2" xref="alg1.10.10.m1.1.1.2.2.cmml">Δ</mi><mi id="alg1.10.10.m1.1.1.2.3" xref="alg1.10.10.m1.1.1.2.3.cmml">t</mi></msub><mo id="alg1.10.10.m1.1.1.1" xref="alg1.10.10.m1.1.1.1.cmml">=</mo><msup id="alg1.10.10.m1.1.1.3" xref="alg1.10.10.m1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.10.10.m1.1.1.3.2" xref="alg1.10.10.m1.1.1.3.2.cmml">Δ</mi><mi id="alg1.10.10.m1.1.1.3.3" xref="alg1.10.10.m1.1.1.3.3.cmml">f</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.10.m1.1b"><apply id="alg1.10.10.m1.1.1.cmml" xref="alg1.10.10.m1.1.1"><eq id="alg1.10.10.m1.1.1.1.cmml" xref="alg1.10.10.m1.1.1.1"></eq><apply id="alg1.10.10.m1.1.1.2.cmml" xref="alg1.10.10.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.10.10.m1.1.1.2.1.cmml" xref="alg1.10.10.m1.1.1.2">subscript</csymbol><ci id="alg1.10.10.m1.1.1.2.2.cmml" xref="alg1.10.10.m1.1.1.2.2">Δ</ci><ci id="alg1.10.10.m1.1.1.2.3.cmml" xref="alg1.10.10.m1.1.1.2.3">𝑡</ci></apply><apply id="alg1.10.10.m1.1.1.3.cmml" xref="alg1.10.10.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.10.10.m1.1.1.3.1.cmml" xref="alg1.10.10.m1.1.1.3">superscript</csymbol><ci id="alg1.10.10.m1.1.1.3.2.cmml" xref="alg1.10.10.m1.1.1.3.2">Δ</ci><ci id="alg1.10.10.m1.1.1.3.3.cmml" xref="alg1.10.10.m1.1.1.3.3">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.m1.1c">\Delta_{t}=\Delta^{f}</annotation></semantics></math> 
</div>
<div id="alg1.21.24" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.21.25" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg1.21.25.1" class="ltx_text ltx_font_bold">else</span> 
</div>
<div id="alg1.11.11" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.11.11.m1.1" class="ltx_Math" alttext="\Delta_{t}=\Delta^{s}" display="inline"><semantics id="alg1.11.11.m1.1a"><mrow id="alg1.11.11.m1.1.1" xref="alg1.11.11.m1.1.1.cmml"><msub id="alg1.11.11.m1.1.1.2" xref="alg1.11.11.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.11.11.m1.1.1.2.2" xref="alg1.11.11.m1.1.1.2.2.cmml">Δ</mi><mi id="alg1.11.11.m1.1.1.2.3" xref="alg1.11.11.m1.1.1.2.3.cmml">t</mi></msub><mo id="alg1.11.11.m1.1.1.1" xref="alg1.11.11.m1.1.1.1.cmml">=</mo><msup id="alg1.11.11.m1.1.1.3" xref="alg1.11.11.m1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.11.11.m1.1.1.3.2" xref="alg1.11.11.m1.1.1.3.2.cmml">Δ</mi><mi id="alg1.11.11.m1.1.1.3.3" xref="alg1.11.11.m1.1.1.3.3.cmml">s</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.11.11.m1.1b"><apply id="alg1.11.11.m1.1.1.cmml" xref="alg1.11.11.m1.1.1"><eq id="alg1.11.11.m1.1.1.1.cmml" xref="alg1.11.11.m1.1.1.1"></eq><apply id="alg1.11.11.m1.1.1.2.cmml" xref="alg1.11.11.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.11.11.m1.1.1.2.1.cmml" xref="alg1.11.11.m1.1.1.2">subscript</csymbol><ci id="alg1.11.11.m1.1.1.2.2.cmml" xref="alg1.11.11.m1.1.1.2.2">Δ</ci><ci id="alg1.11.11.m1.1.1.2.3.cmml" xref="alg1.11.11.m1.1.1.2.3">𝑡</ci></apply><apply id="alg1.11.11.m1.1.1.3.cmml" xref="alg1.11.11.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.11.11.m1.1.1.3.1.cmml" xref="alg1.11.11.m1.1.1.3">superscript</csymbol><ci id="alg1.11.11.m1.1.1.3.2.cmml" xref="alg1.11.11.m1.1.1.3.2">Δ</ci><ci id="alg1.11.11.m1.1.1.3.3.cmml" xref="alg1.11.11.m1.1.1.3.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.m1.1c">\Delta_{t}=\Delta^{s}</annotation></semantics></math> 
</div>
<div id="alg1.21.26" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.21.27" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end if
</div>
<div id="alg1.21.28" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg1.12.12" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg1.12.12.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.12.12.1" class="ltx_emph ltx_font_italic"><math id="alg1.12.12.1.m1.1" class="ltx_Math" alttext="k\in\mathcal{S}_{t}" display="inline"><semantics id="alg1.12.12.1.m1.1a"><mrow id="alg1.12.12.1.m1.1.1" xref="alg1.12.12.1.m1.1.1.cmml"><mi id="alg1.12.12.1.m1.1.1.2" xref="alg1.12.12.1.m1.1.1.2.cmml">k</mi><mo id="alg1.12.12.1.m1.1.1.1" xref="alg1.12.12.1.m1.1.1.1.cmml">∈</mo><msub id="alg1.12.12.1.m1.1.1.3" xref="alg1.12.12.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.12.12.1.m1.1.1.3.2" xref="alg1.12.12.1.m1.1.1.3.2.cmml">𝒮</mi><mi id="alg1.12.12.1.m1.1.1.3.3" xref="alg1.12.12.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.12.12.1.m1.1b"><apply id="alg1.12.12.1.m1.1.1.cmml" xref="alg1.12.12.1.m1.1.1"><in id="alg1.12.12.1.m1.1.1.1.cmml" xref="alg1.12.12.1.m1.1.1.1"></in><ci id="alg1.12.12.1.m1.1.1.2.cmml" xref="alg1.12.12.1.m1.1.1.2">𝑘</ci><apply id="alg1.12.12.1.m1.1.1.3.cmml" xref="alg1.12.12.1.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.12.12.1.m1.1.1.3.1.cmml" xref="alg1.12.12.1.m1.1.1.3">subscript</csymbol><ci id="alg1.12.12.1.m1.1.1.3.2.cmml" xref="alg1.12.12.1.m1.1.1.3.2">𝒮</ci><ci id="alg1.12.12.1.m1.1.1.3.3.cmml" xref="alg1.12.12.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.1.m1.1c">k\in\mathcal{S}_{t}</annotation></semantics></math></em> <span id="alg1.12.12.3" class="ltx_text ltx_font_bold">do in parallel</span> 
</div>
<div id="alg1.19.19" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.13.13.m1.3" class="ltx_Math" alttext="\theta_{t+1}^{k},c_{k},m_{k}\leftarrow" display="inline"><semantics id="alg1.13.13.m1.3a"><mrow id="alg1.13.13.m1.3.3" xref="alg1.13.13.m1.3.3.cmml"><mrow id="alg1.13.13.m1.3.3.3.3" xref="alg1.13.13.m1.3.3.3.4.cmml"><msubsup id="alg1.13.13.m1.1.1.1.1.1" xref="alg1.13.13.m1.1.1.1.1.1.cmml"><mi id="alg1.13.13.m1.1.1.1.1.1.2.2" xref="alg1.13.13.m1.1.1.1.1.1.2.2.cmml">θ</mi><mrow id="alg1.13.13.m1.1.1.1.1.1.2.3" xref="alg1.13.13.m1.1.1.1.1.1.2.3.cmml"><mi id="alg1.13.13.m1.1.1.1.1.1.2.3.2" xref="alg1.13.13.m1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="alg1.13.13.m1.1.1.1.1.1.2.3.1" xref="alg1.13.13.m1.1.1.1.1.1.2.3.1.cmml">+</mo><mn id="alg1.13.13.m1.1.1.1.1.1.2.3.3" xref="alg1.13.13.m1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.13.13.m1.1.1.1.1.1.3" xref="alg1.13.13.m1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="alg1.13.13.m1.3.3.3.3.4" xref="alg1.13.13.m1.3.3.3.4.cmml">,</mo><msub id="alg1.13.13.m1.2.2.2.2.2" xref="alg1.13.13.m1.2.2.2.2.2.cmml"><mi id="alg1.13.13.m1.2.2.2.2.2.2" xref="alg1.13.13.m1.2.2.2.2.2.2.cmml">c</mi><mi id="alg1.13.13.m1.2.2.2.2.2.3" xref="alg1.13.13.m1.2.2.2.2.2.3.cmml">k</mi></msub><mo id="alg1.13.13.m1.3.3.3.3.5" xref="alg1.13.13.m1.3.3.3.4.cmml">,</mo><msub id="alg1.13.13.m1.3.3.3.3.3" xref="alg1.13.13.m1.3.3.3.3.3.cmml"><mi id="alg1.13.13.m1.3.3.3.3.3.2" xref="alg1.13.13.m1.3.3.3.3.3.2.cmml">m</mi><mi id="alg1.13.13.m1.3.3.3.3.3.3" xref="alg1.13.13.m1.3.3.3.3.3.3.cmml">k</mi></msub></mrow><mo stretchy="false" id="alg1.13.13.m1.3.3.4" xref="alg1.13.13.m1.3.3.4.cmml">←</mo><mi id="alg1.13.13.m1.3.3.5" xref="alg1.13.13.m1.3.3.5.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.13.m1.3b"><apply id="alg1.13.13.m1.3.3.cmml" xref="alg1.13.13.m1.3.3"><ci id="alg1.13.13.m1.3.3.4.cmml" xref="alg1.13.13.m1.3.3.4">←</ci><list id="alg1.13.13.m1.3.3.3.4.cmml" xref="alg1.13.13.m1.3.3.3.3"><apply id="alg1.13.13.m1.1.1.1.1.1.cmml" xref="alg1.13.13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.13.13.m1.1.1.1.1.1.1.cmml" xref="alg1.13.13.m1.1.1.1.1.1">superscript</csymbol><apply id="alg1.13.13.m1.1.1.1.1.1.2.cmml" xref="alg1.13.13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.13.13.m1.1.1.1.1.1.2.1.cmml" xref="alg1.13.13.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.13.13.m1.1.1.1.1.1.2.2.cmml" xref="alg1.13.13.m1.1.1.1.1.1.2.2">𝜃</ci><apply id="alg1.13.13.m1.1.1.1.1.1.2.3.cmml" xref="alg1.13.13.m1.1.1.1.1.1.2.3"><plus id="alg1.13.13.m1.1.1.1.1.1.2.3.1.cmml" xref="alg1.13.13.m1.1.1.1.1.1.2.3.1"></plus><ci id="alg1.13.13.m1.1.1.1.1.1.2.3.2.cmml" xref="alg1.13.13.m1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.13.13.m1.1.1.1.1.1.2.3.3.cmml" xref="alg1.13.13.m1.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.13.13.m1.1.1.1.1.1.3.cmml" xref="alg1.13.13.m1.1.1.1.1.1.3">𝑘</ci></apply><apply id="alg1.13.13.m1.2.2.2.2.2.cmml" xref="alg1.13.13.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.13.13.m1.2.2.2.2.2.1.cmml" xref="alg1.13.13.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.13.13.m1.2.2.2.2.2.2.cmml" xref="alg1.13.13.m1.2.2.2.2.2.2">𝑐</ci><ci id="alg1.13.13.m1.2.2.2.2.2.3.cmml" xref="alg1.13.13.m1.2.2.2.2.2.3">𝑘</ci></apply><apply id="alg1.13.13.m1.3.3.3.3.3.cmml" xref="alg1.13.13.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.13.13.m1.3.3.3.3.3.1.cmml" xref="alg1.13.13.m1.3.3.3.3.3">subscript</csymbol><ci id="alg1.13.13.m1.3.3.3.3.3.2.cmml" xref="alg1.13.13.m1.3.3.3.3.3.2">𝑚</ci><ci id="alg1.13.13.m1.3.3.3.3.3.3.cmml" xref="alg1.13.13.m1.3.3.3.3.3.3">𝑘</ci></apply></list><csymbol cd="latexml" id="alg1.13.13.m1.3.3.5.cmml" xref="alg1.13.13.m1.3.3.5">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m1.3c">\theta_{t+1}^{k},c_{k},m_{k}\leftarrow</annotation></semantics></math> ClientTraining(<math id="alg1.14.14.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.14.14.m2.1a"><mi id="alg1.14.14.m2.1.1" xref="alg1.14.14.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.14.14.m2.1b"><ci id="alg1.14.14.m2.1.1.cmml" xref="alg1.14.14.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m2.1c">k</annotation></semantics></math>, <math id="alg1.15.15.m3.1" class="ltx_Math" alttext="\Delta_{t}" display="inline"><semantics id="alg1.15.15.m3.1a"><msub id="alg1.15.15.m3.1.1" xref="alg1.15.15.m3.1.1.cmml"><mi mathvariant="normal" id="alg1.15.15.m3.1.1.2" xref="alg1.15.15.m3.1.1.2.cmml">Δ</mi><mi id="alg1.15.15.m3.1.1.3" xref="alg1.15.15.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.15.15.m3.1b"><apply id="alg1.15.15.m3.1.1.cmml" xref="alg1.15.15.m3.1.1"><csymbol cd="ambiguous" id="alg1.15.15.m3.1.1.1.cmml" xref="alg1.15.15.m3.1.1">subscript</csymbol><ci id="alg1.15.15.m3.1.1.2.cmml" xref="alg1.15.15.m3.1.1.2">Δ</ci><ci id="alg1.15.15.m3.1.1.3.cmml" xref="alg1.15.15.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.m3.1c">\Delta_{t}</annotation></semantics></math>, <math id="alg1.16.16.m4.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="alg1.16.16.m4.1a"><msub id="alg1.16.16.m4.1.1" xref="alg1.16.16.m4.1.1.cmml"><mi id="alg1.16.16.m4.1.1.2" xref="alg1.16.16.m4.1.1.2.cmml">θ</mi><mi id="alg1.16.16.m4.1.1.3" xref="alg1.16.16.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.16.16.m4.1b"><apply id="alg1.16.16.m4.1.1.cmml" xref="alg1.16.16.m4.1.1"><csymbol cd="ambiguous" id="alg1.16.16.m4.1.1.1.cmml" xref="alg1.16.16.m4.1.1">subscript</csymbol><ci id="alg1.16.16.m4.1.1.2.cmml" xref="alg1.16.16.m4.1.1.2">𝜃</ci><ci id="alg1.16.16.m4.1.1.3.cmml" xref="alg1.16.16.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.m4.1c">\theta_{t}</annotation></semantics></math>, <math id="alg1.17.17.m5.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.17.17.m5.1a"><mi id="alg1.17.17.m5.1.1" xref="alg1.17.17.m5.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.17.17.m5.1b"><ci id="alg1.17.17.m5.1.1.cmml" xref="alg1.17.17.m5.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.m5.1c">E</annotation></semantics></math>, <math id="alg1.18.18.m6.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.18.18.m6.1a"><mi id="alg1.18.18.m6.1.1" xref="alg1.18.18.m6.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.18.18.m6.1b"><ci id="alg1.18.18.m6.1.1.cmml" xref="alg1.18.18.m6.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.18.m6.1c">B</annotation></semantics></math>, <math id="alg1.19.19.m7.1" class="ltx_Math" alttext="\Delta_{t}" display="inline"><semantics id="alg1.19.19.m7.1a"><msub id="alg1.19.19.m7.1.1" xref="alg1.19.19.m7.1.1.cmml"><mi mathvariant="normal" id="alg1.19.19.m7.1.1.2" xref="alg1.19.19.m7.1.1.2.cmml">Δ</mi><mi id="alg1.19.19.m7.1.1.3" xref="alg1.19.19.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.19.19.m7.1b"><apply id="alg1.19.19.m7.1.1.cmml" xref="alg1.19.19.m7.1.1"><csymbol cd="ambiguous" id="alg1.19.19.m7.1.1.1.cmml" xref="alg1.19.19.m7.1.1">subscript</csymbol><ci id="alg1.19.19.m7.1.1.2.cmml" xref="alg1.19.19.m7.1.1.2">Δ</ci><ci id="alg1.19.19.m7.1.1.3.cmml" xref="alg1.19.19.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.19.m7.1c">\Delta_{t}</annotation></semantics></math>) 
</div>
<div id="alg1.21.29" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.21.30" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end forpar
</div>
<div id="alg1.20.20" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg1.20.20.m1.1" class="ltx_Math" alttext="c_{r}\leftarrow\sum_{k\in\mathcal{S}_{t}}c_{k}" display="inline"><semantics id="alg1.20.20.m1.1a"><mrow id="alg1.20.20.m1.1.1" xref="alg1.20.20.m1.1.1.cmml"><msub id="alg1.20.20.m1.1.1.2" xref="alg1.20.20.m1.1.1.2.cmml"><mi id="alg1.20.20.m1.1.1.2.2" xref="alg1.20.20.m1.1.1.2.2.cmml">c</mi><mi id="alg1.20.20.m1.1.1.2.3" xref="alg1.20.20.m1.1.1.2.3.cmml">r</mi></msub><mo rspace="0.111em" stretchy="false" id="alg1.20.20.m1.1.1.1" xref="alg1.20.20.m1.1.1.1.cmml">←</mo><mrow id="alg1.20.20.m1.1.1.3" xref="alg1.20.20.m1.1.1.3.cmml"><msub id="alg1.20.20.m1.1.1.3.1" xref="alg1.20.20.m1.1.1.3.1.cmml"><mo id="alg1.20.20.m1.1.1.3.1.2" xref="alg1.20.20.m1.1.1.3.1.2.cmml">∑</mo><mrow id="alg1.20.20.m1.1.1.3.1.3" xref="alg1.20.20.m1.1.1.3.1.3.cmml"><mi id="alg1.20.20.m1.1.1.3.1.3.2" xref="alg1.20.20.m1.1.1.3.1.3.2.cmml">k</mi><mo id="alg1.20.20.m1.1.1.3.1.3.1" xref="alg1.20.20.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="alg1.20.20.m1.1.1.3.1.3.3" xref="alg1.20.20.m1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.20.20.m1.1.1.3.1.3.3.2" xref="alg1.20.20.m1.1.1.3.1.3.3.2.cmml">𝒮</mi><mi id="alg1.20.20.m1.1.1.3.1.3.3.3" xref="alg1.20.20.m1.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><msub id="alg1.20.20.m1.1.1.3.2" xref="alg1.20.20.m1.1.1.3.2.cmml"><mi id="alg1.20.20.m1.1.1.3.2.2" xref="alg1.20.20.m1.1.1.3.2.2.cmml">c</mi><mi id="alg1.20.20.m1.1.1.3.2.3" xref="alg1.20.20.m1.1.1.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.20.20.m1.1b"><apply id="alg1.20.20.m1.1.1.cmml" xref="alg1.20.20.m1.1.1"><ci id="alg1.20.20.m1.1.1.1.cmml" xref="alg1.20.20.m1.1.1.1">←</ci><apply id="alg1.20.20.m1.1.1.2.cmml" xref="alg1.20.20.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.20.20.m1.1.1.2.1.cmml" xref="alg1.20.20.m1.1.1.2">subscript</csymbol><ci id="alg1.20.20.m1.1.1.2.2.cmml" xref="alg1.20.20.m1.1.1.2.2">𝑐</ci><ci id="alg1.20.20.m1.1.1.2.3.cmml" xref="alg1.20.20.m1.1.1.2.3">𝑟</ci></apply><apply id="alg1.20.20.m1.1.1.3.cmml" xref="alg1.20.20.m1.1.1.3"><apply id="alg1.20.20.m1.1.1.3.1.cmml" xref="alg1.20.20.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.20.20.m1.1.1.3.1.1.cmml" xref="alg1.20.20.m1.1.1.3.1">subscript</csymbol><sum id="alg1.20.20.m1.1.1.3.1.2.cmml" xref="alg1.20.20.m1.1.1.3.1.2"></sum><apply id="alg1.20.20.m1.1.1.3.1.3.cmml" xref="alg1.20.20.m1.1.1.3.1.3"><in id="alg1.20.20.m1.1.1.3.1.3.1.cmml" xref="alg1.20.20.m1.1.1.3.1.3.1"></in><ci id="alg1.20.20.m1.1.1.3.1.3.2.cmml" xref="alg1.20.20.m1.1.1.3.1.3.2">𝑘</ci><apply id="alg1.20.20.m1.1.1.3.1.3.3.cmml" xref="alg1.20.20.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="alg1.20.20.m1.1.1.3.1.3.3.1.cmml" xref="alg1.20.20.m1.1.1.3.1.3.3">subscript</csymbol><ci id="alg1.20.20.m1.1.1.3.1.3.3.2.cmml" xref="alg1.20.20.m1.1.1.3.1.3.3.2">𝒮</ci><ci id="alg1.20.20.m1.1.1.3.1.3.3.3.cmml" xref="alg1.20.20.m1.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.20.20.m1.1.1.3.2.cmml" xref="alg1.20.20.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.20.20.m1.1.1.3.2.1.cmml" xref="alg1.20.20.m1.1.1.3.2">subscript</csymbol><ci id="alg1.20.20.m1.1.1.3.2.2.cmml" xref="alg1.20.20.m1.1.1.3.2.2">𝑐</ci><ci id="alg1.20.20.m1.1.1.3.2.3.cmml" xref="alg1.20.20.m1.1.1.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.20.m1.1c">c_{r}\leftarrow\sum_{k\in\mathcal{S}_{t}}c_{k}</annotation></semantics></math> 
</div>
<div id="alg1.21.21" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.21.21.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\sum_{k\in\mathcal{S}_{t}}\;\frac{c_{k}}{c_{r}}\;\theta_{t+1}^{k}" display="inline"><semantics id="alg1.21.21.m1.1a"><mrow id="alg1.21.21.m1.1.1" xref="alg1.21.21.m1.1.1.cmml"><msub id="alg1.21.21.m1.1.1.2" xref="alg1.21.21.m1.1.1.2.cmml"><mi id="alg1.21.21.m1.1.1.2.2" xref="alg1.21.21.m1.1.1.2.2.cmml">θ</mi><mrow id="alg1.21.21.m1.1.1.2.3" xref="alg1.21.21.m1.1.1.2.3.cmml"><mi id="alg1.21.21.m1.1.1.2.3.2" xref="alg1.21.21.m1.1.1.2.3.2.cmml">t</mi><mo id="alg1.21.21.m1.1.1.2.3.1" xref="alg1.21.21.m1.1.1.2.3.1.cmml">+</mo><mn id="alg1.21.21.m1.1.1.2.3.3" xref="alg1.21.21.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="alg1.21.21.m1.1.1.1" xref="alg1.21.21.m1.1.1.1.cmml">←</mo><mrow id="alg1.21.21.m1.1.1.3" xref="alg1.21.21.m1.1.1.3.cmml"><msub id="alg1.21.21.m1.1.1.3.1" xref="alg1.21.21.m1.1.1.3.1.cmml"><mo id="alg1.21.21.m1.1.1.3.1.2" xref="alg1.21.21.m1.1.1.3.1.2.cmml">∑</mo><mrow id="alg1.21.21.m1.1.1.3.1.3" xref="alg1.21.21.m1.1.1.3.1.3.cmml"><mi id="alg1.21.21.m1.1.1.3.1.3.2" xref="alg1.21.21.m1.1.1.3.1.3.2.cmml">k</mi><mo id="alg1.21.21.m1.1.1.3.1.3.1" xref="alg1.21.21.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="alg1.21.21.m1.1.1.3.1.3.3" xref="alg1.21.21.m1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.21.21.m1.1.1.3.1.3.3.2" xref="alg1.21.21.m1.1.1.3.1.3.3.2.cmml">𝒮</mi><mi id="alg1.21.21.m1.1.1.3.1.3.3.3" xref="alg1.21.21.m1.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="alg1.21.21.m1.1.1.3.2" xref="alg1.21.21.m1.1.1.3.2.cmml"><mfrac id="alg1.21.21.m1.1.1.3.2.2" xref="alg1.21.21.m1.1.1.3.2.2.cmml"><msub id="alg1.21.21.m1.1.1.3.2.2.2" xref="alg1.21.21.m1.1.1.3.2.2.2.cmml"><mi id="alg1.21.21.m1.1.1.3.2.2.2.2" xref="alg1.21.21.m1.1.1.3.2.2.2.2.cmml">c</mi><mi id="alg1.21.21.m1.1.1.3.2.2.2.3" xref="alg1.21.21.m1.1.1.3.2.2.2.3.cmml">k</mi></msub><msub id="alg1.21.21.m1.1.1.3.2.2.3" xref="alg1.21.21.m1.1.1.3.2.2.3.cmml"><mi id="alg1.21.21.m1.1.1.3.2.2.3.2" xref="alg1.21.21.m1.1.1.3.2.2.3.2.cmml">c</mi><mi id="alg1.21.21.m1.1.1.3.2.2.3.3" xref="alg1.21.21.m1.1.1.3.2.2.3.3.cmml">r</mi></msub></mfrac><mo lspace="0.280em" rspace="0em" id="alg1.21.21.m1.1.1.3.2.1" xref="alg1.21.21.m1.1.1.3.2.1.cmml">​</mo><msubsup id="alg1.21.21.m1.1.1.3.2.3" xref="alg1.21.21.m1.1.1.3.2.3.cmml"><mi id="alg1.21.21.m1.1.1.3.2.3.2.2" xref="alg1.21.21.m1.1.1.3.2.3.2.2.cmml">θ</mi><mrow id="alg1.21.21.m1.1.1.3.2.3.2.3" xref="alg1.21.21.m1.1.1.3.2.3.2.3.cmml"><mi id="alg1.21.21.m1.1.1.3.2.3.2.3.2" xref="alg1.21.21.m1.1.1.3.2.3.2.3.2.cmml">t</mi><mo id="alg1.21.21.m1.1.1.3.2.3.2.3.1" xref="alg1.21.21.m1.1.1.3.2.3.2.3.1.cmml">+</mo><mn id="alg1.21.21.m1.1.1.3.2.3.2.3.3" xref="alg1.21.21.m1.1.1.3.2.3.2.3.3.cmml">1</mn></mrow><mi id="alg1.21.21.m1.1.1.3.2.3.3" xref="alg1.21.21.m1.1.1.3.2.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.21.21.m1.1b"><apply id="alg1.21.21.m1.1.1.cmml" xref="alg1.21.21.m1.1.1"><ci id="alg1.21.21.m1.1.1.1.cmml" xref="alg1.21.21.m1.1.1.1">←</ci><apply id="alg1.21.21.m1.1.1.2.cmml" xref="alg1.21.21.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.2.1.cmml" xref="alg1.21.21.m1.1.1.2">subscript</csymbol><ci id="alg1.21.21.m1.1.1.2.2.cmml" xref="alg1.21.21.m1.1.1.2.2">𝜃</ci><apply id="alg1.21.21.m1.1.1.2.3.cmml" xref="alg1.21.21.m1.1.1.2.3"><plus id="alg1.21.21.m1.1.1.2.3.1.cmml" xref="alg1.21.21.m1.1.1.2.3.1"></plus><ci id="alg1.21.21.m1.1.1.2.3.2.cmml" xref="alg1.21.21.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.21.21.m1.1.1.2.3.3.cmml" xref="alg1.21.21.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.21.21.m1.1.1.3.cmml" xref="alg1.21.21.m1.1.1.3"><apply id="alg1.21.21.m1.1.1.3.1.cmml" xref="alg1.21.21.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.1.1.cmml" xref="alg1.21.21.m1.1.1.3.1">subscript</csymbol><sum id="alg1.21.21.m1.1.1.3.1.2.cmml" xref="alg1.21.21.m1.1.1.3.1.2"></sum><apply id="alg1.21.21.m1.1.1.3.1.3.cmml" xref="alg1.21.21.m1.1.1.3.1.3"><in id="alg1.21.21.m1.1.1.3.1.3.1.cmml" xref="alg1.21.21.m1.1.1.3.1.3.1"></in><ci id="alg1.21.21.m1.1.1.3.1.3.2.cmml" xref="alg1.21.21.m1.1.1.3.1.3.2">𝑘</ci><apply id="alg1.21.21.m1.1.1.3.1.3.3.cmml" xref="alg1.21.21.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.1.3.3.1.cmml" xref="alg1.21.21.m1.1.1.3.1.3.3">subscript</csymbol><ci id="alg1.21.21.m1.1.1.3.1.3.3.2.cmml" xref="alg1.21.21.m1.1.1.3.1.3.3.2">𝒮</ci><ci id="alg1.21.21.m1.1.1.3.1.3.3.3.cmml" xref="alg1.21.21.m1.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.21.21.m1.1.1.3.2.cmml" xref="alg1.21.21.m1.1.1.3.2"><times id="alg1.21.21.m1.1.1.3.2.1.cmml" xref="alg1.21.21.m1.1.1.3.2.1"></times><apply id="alg1.21.21.m1.1.1.3.2.2.cmml" xref="alg1.21.21.m1.1.1.3.2.2"><divide id="alg1.21.21.m1.1.1.3.2.2.1.cmml" xref="alg1.21.21.m1.1.1.3.2.2"></divide><apply id="alg1.21.21.m1.1.1.3.2.2.2.cmml" xref="alg1.21.21.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.2.2.2.1.cmml" xref="alg1.21.21.m1.1.1.3.2.2.2">subscript</csymbol><ci id="alg1.21.21.m1.1.1.3.2.2.2.2.cmml" xref="alg1.21.21.m1.1.1.3.2.2.2.2">𝑐</ci><ci id="alg1.21.21.m1.1.1.3.2.2.2.3.cmml" xref="alg1.21.21.m1.1.1.3.2.2.2.3">𝑘</ci></apply><apply id="alg1.21.21.m1.1.1.3.2.2.3.cmml" xref="alg1.21.21.m1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.2.2.3.1.cmml" xref="alg1.21.21.m1.1.1.3.2.2.3">subscript</csymbol><ci id="alg1.21.21.m1.1.1.3.2.2.3.2.cmml" xref="alg1.21.21.m1.1.1.3.2.2.3.2">𝑐</ci><ci id="alg1.21.21.m1.1.1.3.2.2.3.3.cmml" xref="alg1.21.21.m1.1.1.3.2.2.3.3">𝑟</ci></apply></apply><apply id="alg1.21.21.m1.1.1.3.2.3.cmml" xref="alg1.21.21.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.2.3.1.cmml" xref="alg1.21.21.m1.1.1.3.2.3">superscript</csymbol><apply id="alg1.21.21.m1.1.1.3.2.3.2.cmml" xref="alg1.21.21.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.2.3.2.1.cmml" xref="alg1.21.21.m1.1.1.3.2.3">subscript</csymbol><ci id="alg1.21.21.m1.1.1.3.2.3.2.2.cmml" xref="alg1.21.21.m1.1.1.3.2.3.2.2">𝜃</ci><apply id="alg1.21.21.m1.1.1.3.2.3.2.3.cmml" xref="alg1.21.21.m1.1.1.3.2.3.2.3"><plus id="alg1.21.21.m1.1.1.3.2.3.2.3.1.cmml" xref="alg1.21.21.m1.1.1.3.2.3.2.3.1"></plus><ci id="alg1.21.21.m1.1.1.3.2.3.2.3.2.cmml" xref="alg1.21.21.m1.1.1.3.2.3.2.3.2">𝑡</ci><cn type="integer" id="alg1.21.21.m1.1.1.3.2.3.2.3.3.cmml" xref="alg1.21.21.m1.1.1.3.2.3.2.3.3">1</cn></apply></apply><ci id="alg1.21.21.m1.1.1.3.2.3.3.cmml" xref="alg1.21.21.m1.1.1.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.21.m1.1c">\theta_{t+1}\leftarrow\sum_{k\in\mathcal{S}_{t}}\;\frac{c_{k}}{c_{r}}\;\theta_{t+1}^{k}</annotation></semantics></math> 
</div>
<div id="alg1.21.31" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.21.32" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg1.21.33" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg1.21.34" class="ltx_listingline"> end
</div>
<div id="alg1.21.35" class="ltx_listingline">
</div>
<div id="alg1.21.36" class="ltx_listingline">

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.23.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> FedFS</figcaption>
</figure>
<figure id="A1.F10" class="ltx_figure">
<div id="A1.F10.1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:157.9pt;height:102.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-26.3pt,17.0pt) scale(0.75,0.75) ;"><svg id="A1.F10.1.1.pic1" class="ltx_picture" height="188.29" overflow="visible" version="1.1" width="277.44"><g transform="translate(0,188.29) matrix(1 0 0 -1 0 0) translate(52.58,0) translate(0,47.66) matrix(1.0 0.0 0.0 1.0 -52.58 -47.66)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(38.87,0) translate(0,47.66)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><g fill="#FFFFFF"><path d="M 13.71 0 L 227.04 0 L 227.04 134.58 L 13.71 134.58 Z" style="stroke:none"></path></g><g stroke-width="0.4pt" fill="#D9D9D9" stroke="#D9D9D9" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" color="#D9D9D9"><path d="M 13.71 0 L 13.71 134.58 M 28.95 0 L 28.95 134.58 M 44.19 0 L 44.19 134.58 M 59.43 0 L 59.43 134.58 M 74.66 0 L 74.66 134.58 M 89.9 0 L 89.9 134.58 M 105.14 0 L 105.14 134.58 M 120.38 0 L 120.38 134.58 M 135.61 0 L 135.61 134.58 M 150.85 0 L 150.85 134.58 M 166.09 0 L 166.09 134.58 M 181.33 0 L 181.33 134.58 M 196.56 0 L 196.56 134.58 M 211.8 0 L 211.8 134.58 M 227.04 0 L 227.04 134.58" style="fill:none"></path></g><g stroke-width="0.4pt" fill="#D9D9D9" stroke="#D9D9D9" stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt" color="#D9D9D9"><path d="M 13.71 0 L 227.04 0 M 13.71 31.67 L 227.04 31.67 M 13.71 63.33 L 227.04 63.33 M 13.71 95 L 227.04 95 M 13.71 126.66 L 227.04 126.66" style="fill:none"></path></g><g stroke-width="0.2pt" fill="#808080" stroke="#808080" color="#808080"><path d="M 13.71 -5.91 L 13.71 0 M 28.95 -5.91 L 28.95 0 M 44.19 -5.91 L 44.19 0 M 59.43 -5.91 L 59.43 0 M 74.66 -5.91 L 74.66 0 M 89.9 -5.91 L 89.9 0 M 105.14 -5.91 L 105.14 0 M 120.38 -5.91 L 120.38 0 M 135.61 -5.91 L 135.61 0 M 150.85 -5.91 L 150.85 0 M 166.09 -5.91 L 166.09 0 M 181.33 -5.91 L 181.33 0 M 196.56 -5.91 L 196.56 0 M 211.8 -5.91 L 211.8 0 M 227.04 -5.91 L 227.04 0 M 13.71 140.49 L 13.71 134.58 M 28.95 140.49 L 28.95 134.58 M 44.19 140.49 L 44.19 134.58 M 59.43 140.49 L 59.43 134.58 M 74.66 140.49 L 74.66 134.58 M 89.9 140.49 L 89.9 134.58 M 105.14 140.49 L 105.14 134.58 M 120.38 140.49 L 120.38 134.58 M 135.61 140.49 L 135.61 134.58 M 150.85 140.49 L 150.85 134.58 M 166.09 140.49 L 166.09 134.58 M 181.33 140.49 L 181.33 134.58 M 196.56 140.49 L 196.56 134.58 M 211.8 140.49 L 211.8 134.58 M 227.04 140.49 L 227.04 134.58" style="fill:none"></path></g><g stroke-width="0.2pt" fill="#808080" stroke="#808080" color="#808080"><path d="M 7.81 0 L 13.71 0 M 7.81 31.67 L 13.71 31.67 M 7.81 63.33 L 13.71 63.33 M 7.81 95 L 13.71 95 M 7.81 126.66 L 13.71 126.66 M 232.94 0 L 227.04 0 M 232.94 31.67 L 227.04 31.67 M 232.94 63.33 L 227.04 63.33 M 232.94 95 L 227.04 95 M 232.94 126.66 L 227.04 126.66" style="fill:none"></path></g><path d="M 13.71 0 L 13.71 134.58 L 227.04 134.58 L 227.04 0 L 13.71 0 Z" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 10.25 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.6.6.6.6.1.1" class="ltx_text">1</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 25.49 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.7.7.7.7.1.1" class="ltx_text">2</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 40.73 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.8.8.8.8.1.1" class="ltx_text">3</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 55.97 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.9.9.9.9.1.1" class="ltx_text">4</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 71.2 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.10.10.10.10.1.1" class="ltx_text">5</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 143.93 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.11.11.11.11.1.1" class="ltx_text">10</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 220.12 -19.71)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.12.12.12.12.1.1" class="ltx_text">15</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -4 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.F10.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -10.92 27.21)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="20" display="inline"><semantics id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F10.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">20</annotation></semantics></math></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -10.92 58.87)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="40" display="inline"><semantics id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">40</mn><annotation-xml encoding="MathML-Content" id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">40</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F10.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">40</annotation></semantics></math></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -10.92 90.54)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="60" display="inline"><semantics id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1" xref="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">60</mn><annotation-xml encoding="MathML-Content" id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1">60</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F10.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1c">60</annotation></semantics></math></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -10.92 122.21)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><math id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="80" display="inline"><semantics id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1" xref="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">80</mn><annotation-xml encoding="MathML-Content" id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1b"><cn type="integer" id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1">80</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F10.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1c">80</annotation></semantics></math></foreignObject></g><clipPath id="pgfcp2"><path d="M 13.71 0 L 227.04 0 L 227.04 134.58 L 13.71 134.58 Z"></path></clipPath><g clip-path="url(#pgfcp2)"><g stroke="#FF7D2B" fill="#FF7D2B" stroke-width="1.0pt" color="#FF7D2B"><path d="M 0 0.16 L 3.05 0.16 L 4.57 3.89 L 7.62 16.61 L 9.14 23.57 L 12.19 30.4 L 13.71 33.68 L 16.76 42.24 L 18.28 46.63 L 21.33 50.78 L 22.86 54.08 L 25.9 56.8 L 27.43 58.83 L 28.95 61.87 L 32 63.13 L 33.52 64.99 L 36.57 66.72 L 38.09 67.6 L 41.14 69.75 L 42.66 70.19 L 45.71 71.86 L 47.24 72.82 L 50.28 73.48 L 51.81 74.44 L 53.33 75.32 L 56.38 76.42 L 57.9 76.6 L 60.95 76.77 L 62.47 77.77 L 65.52 78.12 L 67.04 78.59 L 70.09 78.62 L 71.62 79.45 L 74.66 80.42 L 76.19 80.46 L 77.71 81.04 L 80.76 80.93 L 82.28 81.68 L 85.33 81.81 L 86.85 82.03 L 89.9 82.82 L 91.42 83.31 L 94.47 83.3 L 96 83.16 L 99.04 83.75 L 100.57 83.92 L 103.61 84.42 L 105.14 84.04 L 106.66 84.89 L 109.71 84.85 L 111.23 85.91 L 114.28 85.63 L 115.8 85.98 L 118.85 85.97 L 120.38 85.98 L 123.42 85.69 L 124.95 86.8 L 127.99 86.74 L 129.52 86.78 L 132.57 86.51 L 134.09 87.63 L 135.61 87.97 L 138.66 87.88 L 140.18 87.83 L 143.23 87.95 L 144.76 87.69 L 147.8 88.23 L 149.33 88.64 L 152.37 88.8 L 153.9 88.74 L 156.95 88.47 L 158.47 89.3 L 159.99 89.47 L 163.04 88.92 L 164.56 89.09 L 167.61 89.45 L 169.14 89.86 L 172.18 89.43 L 173.71 90.01 L 176.75 89.99 L 178.28 90.06 L 181.33 90.62 L 182.85 90.39 L 184.37 90.69 L 187.42 90.21 L 188.94 90.52 L 191.99 90.69 L 193.52 90.91 L 196.56 90.79 L 198.09 91.18 L 201.13 91.44 L 202.66 91.46 L 205.71 91.61 L 207.23 91.32 L 210.28 91.59 L 211.8 91.61 L 213.32 91.33 L 216.37 91.92 L 217.9 91.96" style="fill:none"></path></g><g></g><g stroke="#179E36" fill="#179E36" stroke-width="1.0pt" color="#179E36"><path d="M 0 0.83 L 3.05 0.86 L 4.57 12.95 L 7.62 41.03 L 9.14 53.11 L 12.19 63.35 L 13.71 68.52 L 16.76 79.67 L 18.28 85.48 L 21.33 90.02 L 22.86 93.35 L 25.9 96.27 L 27.43 98.71 L 28.95 101.45 L 32 103.02 L 33.52 104.8 L 36.57 106.56 L 38.09 107.71 L 41.14 109.59 L 42.66 109.86 L 45.71 111.75 L 47.24 112.64 L 50.28 112.86 L 51.81 113.84 L 53.33 114.83 L 56.38 115.16 L 57.9 115.74 L 60.95 115.72 L 62.47 116.62 L 65.52 117.07 L 67.04 117.21 L 70.09 117.25 L 71.62 117.84 L 74.66 119.04 L 76.19 118.95 L 77.71 119.37 L 80.76 119.17 L 82.28 119.7 L 85.33 119.52 L 86.85 120.1 L 89.9 120.33 L 91.42 120.76 L 94.47 120.88 L 96 120.48 L 99.04 121.19 L 100.57 121.63 L 103.61 121.85 L 105.14 121.65 L 106.66 122.02 L 109.71 122 L 111.23 122.76 L 114.28 122.37 L 115.8 122.65 L 118.85 123.03 L 120.38 122.91 L 123.42 122.72 L 124.95 123.45 L 127.99 123.28 L 129.52 123.27 L 132.57 122.97 L 134.09 123.69 L 135.61 123.96 L 138.66 123.88 L 140.18 123.84 L 143.23 123.97 L 144.76 123.74 L 147.8 124.05 L 149.33 124.44 L 152.37 124.78 L 153.9 124.42 L 156.95 124.24 L 158.47 125.02 L 159.99 125.26 L 163.04 124.62 L 164.56 124.75 L 167.61 125.16 L 169.14 125.21 L 172.18 125 L 173.71 125.24 L 176.75 125.34 L 178.28 125.53 L 181.33 125.76 L 182.85 125.65 L 184.37 125.77 L 187.42 125.53 L 188.94 125.78 L 191.99 125.79 L 193.52 125.91 L 196.56 126.03 L 198.09 126.28 L 201.13 126.33 L 202.66 126.39 L 205.71 126.49 L 207.23 126.27 L 210.28 126.53 L 211.8 126.61 L 213.32 126.61 L 216.37 126.81 L 217.9 126.7" style="fill:none"></path></g><g></g></g><g transform="matrix(1.0 0.0 0.0 1.0 56.42 -39.59)" fill="#000000" stroke="#000000"><foreignObject width="127.92" height="13.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.13.13.13.13.1.1" class="ltx_text">Training time (Days)</span></foreignObject></g><g transform="matrix(0.0 1.0 -1.0 0.0 -23.88 25.76)" fill="#000000" stroke="#000000"><foreignObject width="83.06" height="13.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.14.14.14.14.1.1" class="ltx_text">Accuracy (%)</span></foreignObject></g><g fill="#FFFFFF" stroke="#000000"><path d="M 85.77 4.31 h 134.59 v 39.67 h -134.59 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 89.93 7.08)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 25.595)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.53)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0) translate(0.69,0)" fill="#FF7D2B" stroke="#FF7D2B" stroke-width="1.0pt" color="#FF7D2B"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 25.01 0) translate(50.64,0) matrix(1.0 0.0 0.0 1.0 -47.87 -3.69)" fill="#000000" stroke="#000000"><foreignObject width="95.74" height="12.15" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.15.15.15.15.1.1.1.1.1" class="ltx_text">Top-1 Accuracy</span></foreignObject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 25.6)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 0 0) translate(0.69,0)" fill="#179E36" stroke="#179E36" stroke-width="1.0pt" color="#179E36"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" transform="matrix(1 0 0 -1 25.01 0) translate(50.64,0) matrix(1.0 0.0 0.0 1.0 -47.87 -3.69)" fill="#000000" stroke="#000000"><foreignObject width="95.74" height="12.15" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="A1.F10.1.1.pic1.16.16.16.16.2.2.1.1.1" class="ltx_text">Top-5 Accuracy</span></foreignObject></g></g></g></g></g></g></svg>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Training time reported in days and accuracies (Top-1 and Top-5) for an ImageNet federated training with Flower.</figcaption>
</figure>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Scaling FedAvg to ImageNet-scale datasets</h3>

<div id="A1.SS3.p1" class="ltx_para ltx_noindent">
<p id="A1.SS3.p1.1" class="ltx_p">We now demonstrate that Flower can not only scale to a large number of clients, but it can also support training of FL models on web-scale workloads such as ImageNet. To the best of our knowledge, this is the first-ever attempt at training ImageNet in a FL setting.</p>
</div>
<div id="A1.SS3.p2" class="ltx_para ltx_noindent">
<p id="A1.SS3.p2.3" class="ltx_p"><span id="A1.SS3.p2.3.1" class="ltx_text ltx_font_bold">Experiment Setup</span>. We use the ILSVRC-2012 ImageNet partitioning <cite class="ltx_cite ltx_citemacro_citep">(Russakovsky et al., <a href="#bib.bib34" title="" class="ltx_ref">2015</a>)</cite> that contains <math id="A1.SS3.p2.1.m1.1" class="ltx_Math" alttext="1.2M" display="inline"><semantics id="A1.SS3.p2.1.m1.1a"><mrow id="A1.SS3.p2.1.m1.1.1" xref="A1.SS3.p2.1.m1.1.1.cmml"><mn id="A1.SS3.p2.1.m1.1.1.2" xref="A1.SS3.p2.1.m1.1.1.2.cmml">1.2</mn><mo lspace="0em" rspace="0em" id="A1.SS3.p2.1.m1.1.1.1" xref="A1.SS3.p2.1.m1.1.1.1.cmml">​</mo><mi id="A1.SS3.p2.1.m1.1.1.3" xref="A1.SS3.p2.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.1.m1.1b"><apply id="A1.SS3.p2.1.m1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1"><times id="A1.SS3.p2.1.m1.1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1.1"></times><cn type="float" id="A1.SS3.p2.1.m1.1.1.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2">1.2</cn><ci id="A1.SS3.p2.1.m1.1.1.3.cmml" xref="A1.SS3.p2.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.1.m1.1c">1.2M</annotation></semantics></math> pictures for training and a subset composed of <math id="A1.SS3.p2.2.m2.1" class="ltx_Math" alttext="50K" display="inline"><semantics id="A1.SS3.p2.2.m2.1a"><mrow id="A1.SS3.p2.2.m2.1.1" xref="A1.SS3.p2.2.m2.1.1.cmml"><mn id="A1.SS3.p2.2.m2.1.1.2" xref="A1.SS3.p2.2.m2.1.1.2.cmml">50</mn><mo lspace="0em" rspace="0em" id="A1.SS3.p2.2.m2.1.1.1" xref="A1.SS3.p2.2.m2.1.1.1.cmml">​</mo><mi id="A1.SS3.p2.2.m2.1.1.3" xref="A1.SS3.p2.2.m2.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.2.m2.1b"><apply id="A1.SS3.p2.2.m2.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1"><times id="A1.SS3.p2.2.m2.1.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1.1"></times><cn type="integer" id="A1.SS3.p2.2.m2.1.1.2.cmml" xref="A1.SS3.p2.2.m2.1.1.2">50</cn><ci id="A1.SS3.p2.2.m2.1.1.3.cmml" xref="A1.SS3.p2.2.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.2.m2.1c">50K</annotation></semantics></math> images for testing. We train a ResNet-18 model on this dataset in a federated setting with <math id="A1.SS3.p2.3.m3.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A1.SS3.p2.3.m3.1a"><mn id="A1.SS3.p2.3.m3.1.1" xref="A1.SS3.p2.3.m3.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.3.m3.1b"><cn type="integer" id="A1.SS3.p2.3.m3.1.1.cmml" xref="A1.SS3.p2.3.m3.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.3.m3.1c">50</annotation></semantics></math> clients equipped with four physical CPU cores. To this end, we partition the ImageNet training set into 50 IID partitions and distribute them on each client. During training, we also consider a simple image augmentation scheme based on random horizontal flipping and cropping.</p>
</div>
<div id="A1.SS3.p3" class="ltx_para ltx_noindent">
<p id="A1.SS3.p3.3" class="ltx_p"><span id="A1.SS3.p3.3.1" class="ltx_text ltx_font_bold">Results</span>. Figure <a href="#A1.F10" title="Figure 10 ‣ A.2 FedFS Algorithm ‣ Appendix A Appendix" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> shows the results on the test set of ImageNet obtained by training a ResNet-18 model. It is worth to mention that based on <math id="A1.SS3.p3.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A1.SS3.p3.1.m1.1a"><mn id="A1.SS3.p3.1.m1.1.1" xref="A1.SS3.p3.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p3.1.m1.1b"><cn type="integer" id="A1.SS3.p3.1.m1.1.1.cmml" xref="A1.SS3.p3.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p3.1.m1.1c">50</annotation></semantics></math> clients and <math id="A1.SS3.p3.2.m2.1" class="ltx_Math" alttext="3" display="inline"><semantics id="A1.SS3.p3.2.m2.1a"><mn id="A1.SS3.p3.2.m2.1.1" xref="A1.SS3.p3.2.m2.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p3.2.m2.1b"><cn type="integer" id="A1.SS3.p3.2.m2.1.1.cmml" xref="A1.SS3.p3.2.m2.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p3.2.m2.1c">3</annotation></semantics></math> local epochs, the training lasted for about <math id="A1.SS3.p3.3.m3.1" class="ltx_Math" alttext="15" display="inline"><semantics id="A1.SS3.p3.3.m3.1a"><mn id="A1.SS3.p3.3.m3.1.1" xref="A1.SS3.p3.3.m3.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p3.3.m3.1b"><cn type="integer" id="A1.SS3.p3.3.m3.1.1.cmml" xref="A1.SS3.p3.3.m3.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p3.3.m3.1c">15</annotation></semantics></math> days demonstrating Flower’s potential to run long-term and realistic experiments.</p>
</div>
<div id="A1.SS3.p4" class="ltx_para ltx_noindent">
<p id="A1.SS3.p4.4" class="ltx_p">We measured top-1 and top-5 accuracies of <math id="A1.SS3.p4.1.m1.1" class="ltx_Math" alttext="59.1" display="inline"><semantics id="A1.SS3.p4.1.m1.1a"><mn id="A1.SS3.p4.1.m1.1.1" xref="A1.SS3.p4.1.m1.1.1.cmml">59.1</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p4.1.m1.1b"><cn type="float" id="A1.SS3.p4.1.m1.1.1.cmml" xref="A1.SS3.p4.1.m1.1.1">59.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p4.1.m1.1c">59.1</annotation></semantics></math>% and <math id="A1.SS3.p4.2.m2.1" class="ltx_Math" alttext="80.4" display="inline"><semantics id="A1.SS3.p4.2.m2.1a"><mn id="A1.SS3.p4.2.m2.1.1" xref="A1.SS3.p4.2.m2.1.1.cmml">80.4</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p4.2.m2.1b"><cn type="float" id="A1.SS3.p4.2.m2.1.1.cmml" xref="A1.SS3.p4.2.m2.1.1">80.4</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p4.2.m2.1c">80.4</annotation></semantics></math>% respectively obtained with FL compared to <math id="A1.SS3.p4.3.m3.1" class="ltx_Math" alttext="63" display="inline"><semantics id="A1.SS3.p4.3.m3.1a"><mn id="A1.SS3.p4.3.m3.1.1" xref="A1.SS3.p4.3.m3.1.1.cmml">63</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p4.3.m3.1b"><cn type="integer" id="A1.SS3.p4.3.m3.1.1.cmml" xref="A1.SS3.p4.3.m3.1.1">63</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p4.3.m3.1c">63</annotation></semantics></math>% and <math id="A1.SS3.p4.4.m4.1" class="ltx_Math" alttext="84" display="inline"><semantics id="A1.SS3.p4.4.m4.1a"><mn id="A1.SS3.p4.4.m4.1.1" xref="A1.SS3.p4.4.m4.1.1.cmml">84</mn><annotation-xml encoding="MathML-Content" id="A1.SS3.p4.4.m4.1b"><cn type="integer" id="A1.SS3.p4.4.m4.1.1.cmml" xref="A1.SS3.p4.4.m4.1.1">84</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p4.4.m4.1c">84</annotation></semantics></math>% for centralised training. First, it is clear from Figure <a href="#A1.F10" title="Figure 10 ‣ A.2 FedFS Algorithm ‣ Appendix A Appendix" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> that FL accuracies could have increased a bit further at the cost of a longer training time, certainly reducing the gap with centralised training. Then, the ResNet-18 architecture relies heavily on batch-normalisation, and it is unclear how the internal statistics of this technique behave in the context of FL, potentially harming the final results. As expected, the scalability of Flower helps with raising and investing new issues related to federated learning.</p>
</div>
<div id="A1.SS3.p5" class="ltx_para ltx_noindent">
<p id="A1.SS3.p5.1" class="ltx_p">For such long-term experiments, one major risk is that client devices may go offline during training, thereby nullifying the training progress. Flower’s built-in support for keeping the model states on the server and resuming the federated training from the last saved state in the case of failures came handy for this experiment.</p>
</div>
</section>
<section id="A1.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Datasets and Network Architectures</h3>

<div id="A1.SS4.p1" class="ltx_para ltx_noindent">
<p id="A1.SS4.p1.1" class="ltx_p">We use the following datasets and network architectures for our experiments.</p>
</div>
<div id="A1.SS4.p2" class="ltx_para ltx_noindent">
<p id="A1.SS4.p2.1" class="ltx_p"><span id="A1.SS4.p2.1.1" class="ltx_text ltx_font_bold">CIFAR-10</span> consists of 60,000 images from 10 different object classes. The images are 32 x 32 pixels in size and in RGB format. We use the training and test splits provided by the dataset authors — 50,000 images are used as training data and remaining 10,000 images are reserved for testing.</p>
</div>
<div id="A1.SS4.p3" class="ltx_para ltx_noindent">
<p id="A1.SS4.p3.1" class="ltx_p"><span id="A1.SS4.p3.1.1" class="ltx_text ltx_font_bold">Fashion-MNIST</span> consists of images of fashion items (60,000 training, 10,000 test) with 10 classes such as trousers or pullovers. The images are 28 x 28 pixels in size and in grayscale format. We use a 2-layer CNN followed by 2 fully-connected layers for training a model on this dataset.</p>
</div>
<div id="A1.SS4.p4" class="ltx_para ltx_noindent">
<p id="A1.SS4.p4.2" class="ltx_p"><span id="A1.SS4.p4.2.1" class="ltx_text ltx_font_bold">ImageNet</span>. We use the ILSVRC-2012 ImageNet <cite class="ltx_cite ltx_citemacro_citep">(Russakovsky et al., <a href="#bib.bib34" title="" class="ltx_ref">2015</a>)</cite> containing <math id="A1.SS4.p4.1.m1.1" class="ltx_Math" alttext="1.2M" display="inline"><semantics id="A1.SS4.p4.1.m1.1a"><mrow id="A1.SS4.p4.1.m1.1.1" xref="A1.SS4.p4.1.m1.1.1.cmml"><mn id="A1.SS4.p4.1.m1.1.1.2" xref="A1.SS4.p4.1.m1.1.1.2.cmml">1.2</mn><mo lspace="0em" rspace="0em" id="A1.SS4.p4.1.m1.1.1.1" xref="A1.SS4.p4.1.m1.1.1.1.cmml">​</mo><mi id="A1.SS4.p4.1.m1.1.1.3" xref="A1.SS4.p4.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.p4.1.m1.1b"><apply id="A1.SS4.p4.1.m1.1.1.cmml" xref="A1.SS4.p4.1.m1.1.1"><times id="A1.SS4.p4.1.m1.1.1.1.cmml" xref="A1.SS4.p4.1.m1.1.1.1"></times><cn type="float" id="A1.SS4.p4.1.m1.1.1.2.cmml" xref="A1.SS4.p4.1.m1.1.1.2">1.2</cn><ci id="A1.SS4.p4.1.m1.1.1.3.cmml" xref="A1.SS4.p4.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p4.1.m1.1c">1.2M</annotation></semantics></math> images for training and <math id="A1.SS4.p4.2.m2.1" class="ltx_Math" alttext="50K" display="inline"><semantics id="A1.SS4.p4.2.m2.1a"><mrow id="A1.SS4.p4.2.m2.1.1" xref="A1.SS4.p4.2.m2.1.1.cmml"><mn id="A1.SS4.p4.2.m2.1.1.2" xref="A1.SS4.p4.2.m2.1.1.2.cmml">50</mn><mo lspace="0em" rspace="0em" id="A1.SS4.p4.2.m2.1.1.1" xref="A1.SS4.p4.2.m2.1.1.1.cmml">​</mo><mi id="A1.SS4.p4.2.m2.1.1.3" xref="A1.SS4.p4.2.m2.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.p4.2.m2.1b"><apply id="A1.SS4.p4.2.m2.1.1.cmml" xref="A1.SS4.p4.2.m2.1.1"><times id="A1.SS4.p4.2.m2.1.1.1.cmml" xref="A1.SS4.p4.2.m2.1.1.1"></times><cn type="integer" id="A1.SS4.p4.2.m2.1.1.2.cmml" xref="A1.SS4.p4.2.m2.1.1.2">50</cn><ci id="A1.SS4.p4.2.m2.1.1.3.cmml" xref="A1.SS4.p4.2.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p4.2.m2.1c">50K</annotation></semantics></math> images for testing. A ResNet-18 model is used for federated training this dataset.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section><div class="ltx_rdf" about="" property="dcterms:creator" content="Anonymous Authors"></div>
<div class="ltx_rdf" about="" property="dcterms:subject" content="Machine Learning, MLSys"></div>
<div class="ltx_rdf" about="" property="dcterms:subject" content="mlsys 2022"></div>
<div class="ltx_rdf" about="" property="dcterms:title" content="Flower: A Friendly Federated Learning Framework"></div>

</article>
</div>
<div class="ar5iv-footer"><a href="/html/2007.14389" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2007.14390" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2007.14390">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2007.14390" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2007.14391" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar  6 07:56:51 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
