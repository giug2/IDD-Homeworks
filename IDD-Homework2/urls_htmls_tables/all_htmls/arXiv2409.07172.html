<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets</title>
<!--Generated on Wed Sep 11 10:23:17 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="LiteMedSAM Swin Transformer Multiple Prompts." lang="en" name="keywords"/>
<base href="/html/2409.07172v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S1" title="In Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2" title="In Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.SS1" title="In 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Data preprocessing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.SS2" title="In 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Proposed method</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.SS3" title="In 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Inference strategy for box-based points and box-based scribble</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3" title="In Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3.SS1" title="In 3 Experiments ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Dataset and evaluation metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3.SS2" title="In 3 Experiments ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Implementation details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4" title="In Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Results and discussion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.SS1" title="In 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Quantitative results on validation set</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.SS2" title="In 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Quantitative results on testing set</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.SS3" title="In 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Qualitative results on external public dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.SS4" title="In 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Limitation and future work</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S5" title="In Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S5.SS0.SSS1" title="In 5 Conclusion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.0.1 </span>Acknowledgements</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span class="ltx_note ltx_role_institutetext" id="id1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span><sup class="ltx_sup" id="id1.1"><span class="ltx_text ltx_font_italic" id="id1.1.1">†</span></sup>Division of Image Processing, Department of Radiology, Leiden University Medical Center, Leiden, the
Netherlands 
<br class="ltx_break"/><span class="ltx_note ltx_role_email" id="id1.2"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>{r.gao, d.lyu}@lumc.nl</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ruochen Gao<sup class="ltx_sup" id="id5.2.id1"><span class="ltx_text ltx_font_italic" id="id5.2.id1.1">†⋆</span></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-9411-3369" title="ORCID identifier">0000-0002-9411-3369</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Donghang Lyu<sup class="ltx_sup" id="id6.2.id1">†</sup>
</span><span class="ltx_author_notes">These authors contributed equally to this work.
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0008-1446-9930" title="ORCID identifier">0009-0008-1446-9930</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Marius Staring<sup class="ltx_sup" id="id7.2.id1"><span class="ltx_text ltx_font_italic" id="id7.2.id1.1">†</span></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2885-5812" title="ORCID identifier">0000-0003-2885-5812</a></span>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id8.id1">Medical imaging is essential for the diagnosis and treatment of diseases, with medical image segmentation as a subtask receiving high attention. However, automatic medical image segmentation models are typically task-specific and struggle to handle multiple scenarios, such as different imaging modalities and regions of interest. With the introduction of the Segment Anything Model (SAM), training a universal model for various clinical scenarios has become feasible. Recently, several Medical SAM (MedSAM) methods have been proposed, but these models often rely on heavy image encoders to achieve high performance, which may not be practical for real-world applications due to their high computational demands and slow inference speed. To address this issue, a lightweight version of the MedSAM (LiteMedSAM) can provide a viable solution, achieving high performance while requiring fewer resources and less time. In this work, we introduce Swin-LiteMedSAM, a new variant of LiteMedSAM. This model integrates the tiny Swin Transformer as the image encoder, incorporates multiple types of prompts, including box-based points and scribble generated from a given bounding box, and establishes skip connections between the image encoder and the mask decoder. In the <span class="ltx_text ltx_font_italic" id="id8.id1.1">Segment Anything in Medical Images on Laptop</span> challenge (CVPR 2024), our approach strikes a good balance between segmentation performance and speed, demonstrating significantly improved overall results across multiple modalities compared to the LiteMedSAM baseline provided by the challenge organizers. Our proposed model achieved a DSC score of <span class="ltx_text ltx_font_bold" id="id8.id1.2">0.8678</span> and an NSD score of <span class="ltx_text ltx_font_bold" id="id8.id1.3">0.8844</span> on the validation set. On the final test set, it attained a DSC score of <span class="ltx_text ltx_font_bold" id="id8.id1.4">0.8193</span> and an NSD score of <span class="ltx_text ltx_font_bold" id="id8.id1.5">0.8461</span>, securing fourth place in the challenge. The code and trained model are available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/RuochenGao/Swin_LiteMedSAM" title="">https://github.com/RuochenGao/Swin_LiteMedSAM</a>.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>LiteMedSAM Swin Transformer Multiple Prompts.
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Medical imaging diagnosis is fundamental for evaluating diseases, and medical image segmentation, which involves the extraction of specific structures such as tumors and organs from medical images, consistently receives significant attention. Deep learning methods have demonstrated effectiveness in this field, leading to the development of numerous models tailored for specific scenarios. However, each scenario typically requires training a dedicated segmentation model, demanding substantial effort. In recent years, inspired by the rapid development of large language models (LLMs) in the natural language processing (NLP) field, researchers have begun exploring the application of large models in computer vision. Segment Anything Model (SAM) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib5" title="">5</a>]</cite> is one such innovation, aiming to unify the segmentation task for general images by training with a huge amount of data.
while SAM holds potential, the distinct features of medical images can hinder its performance in medical image segmentation. Therefore, recent works <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib10" title="">10</a>]</cite> focus on adapting the SAM model for medical applications by re-training with a large volume of medical images. Despite achieving high performance in various medical image segmentation tasks, SAM models’ large parameter volume and the high spatial resolution of medical images require substantial computational resources and processing time. This poses challenges for practical deployment of SAM models in real-world applications, or even for non-industry academic groups conducting research on them. Consequently, lite SAM models are gaining more attention as a solution to this problem.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">The original SAM model is composed of three main components: an image encoder, a prompt encoder, and a mask decoder. Among these, the image encoder is the primary factor contributing to high computational and memory costs due to the usage of ViT-H <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib3" title="">3</a>]</cite>. To mitigate resource consumption and accelerate processing, various studies have aimed to make the image encoder more lightweight. For instance, FastSAM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib15" title="">15</a>]</cite> introduces a CNN-based framework, while MobileSAM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib13" title="">13</a>]</cite> tackles this issue by distilling knowledge from the ViT-H image encoder into a tiny ViT-based encoder. Additionally, EfficientSAM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib11" title="">11</a>]</cite> employs the Masked Autoencoders (MAE) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib4" title="">4</a>]</cite> framework to efficiently transfer knowledge from a large image encoder to a small one, resulting in a more resource-efficient design with better performance. EfficientViT-SAM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib14" title="">14</a>]</cite> further enhances this approach by incorporating EfficientViT <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib1" title="">1</a>]</cite> with fused MBConv blocks <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib9" title="">9</a>]</cite> to create a lightweight image encoder.
Recently, the challenge <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">Segment Anything in Medical Images on Laptop<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_upright" id="footnote1.1.1.1">1</span></span><a class="ltx_ref ltx_url ltx_font_typewriter ltx_font_upright" href="https://www.codabench.org/competitions/1847/" title="">https://www.codabench.org/competitions/1847/</a></span></span></span></span>, hosted at CVPR 2024, sought universal promptable medical image segmentation models deployable on laptops or edge devices without GPU reliance. The organizers developed LiteMedSAM<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/bowang-lab/MedSAM/tree/LiteMedSAM" title="">https://github.com/bowang-lab/MedSAM/tree/LiteMedSAM</a></span></span></span> as a baseline, using the distillation strategy described in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib13" title="">13</a>]</cite>. Although LiteMedSAM focuses on optimizing the image encoder to reduce resource usage, segmentation performance is compromised. Therefore, our goal is to enhance performance without highly sacrificing efficiency. To achieve this, we use a lightweight Swin Transformer as image encoder and also introduce two additional prompts, box-based points and box-based scribble, except the original box prompt. To this end, we introduce our model, Swin-LiteMedSAM. The key contributions of our model are as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Instead of transferring knowledge to a tiny ViT, we employ a tiny Swin Transformer <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib6" title="">6</a>]</cite> as the image encoder. The Swin Transformer is designed to handle large images more efficiently, both in terms of computation and memory usage compared to ViT. Moreover, skip connections are established between the image encoder and mask decoder to enhance feature integration.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We introduce additional types of prompts beyond boxes, including box-based points and box-based scribble. These prompts are automatically generated from the given bounding box and effectively improve model performance without significantly increasing resource costs.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Overall, Swin-LiteMedSAM achieves substantial improvements in performance over LiteMedSAM while maintaining high inference speed.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Method</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Data preprocessing</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.2">To accelerate the model’s training and inference stages and reduce memory consumption, we resize the input image to <math alttext="256\times 256" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mrow id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml"><mn id="S2.SS1.p1.1.m1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.2.cmml">256</mn><mo id="S2.SS1.p1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="S2.SS1.p1.1.m1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><apply id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1"><times id="S2.SS1.p1.1.m1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1"></times><cn id="S2.SS1.p1.1.m1.1.1.2.cmml" type="integer" xref="S2.SS1.p1.1.m1.1.1.2">256</cn><cn id="S2.SS1.p1.1.m1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">256\times 256</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">256 × 256</annotation></semantics></math>. This is achieved by first resizing the images while maintaining their original aspect ratio based on the longest side, and then do zero padding to reach the final size of <math alttext="256\times 256" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><mn id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml">256</mn><mo id="S2.SS1.p1.2.m2.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.SS1.p1.2.m2.1.1.1.cmml">×</mo><mn id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><times id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1"></times><cn id="S2.SS1.p1.2.m2.1.1.2.cmml" type="integer" xref="S2.SS1.p1.2.m2.1.1.2">256</cn><cn id="S2.SS1.p1.2.m2.1.1.3.cmml" type="integer" xref="S2.SS1.p1.2.m2.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">256\times 256</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">256 × 256</annotation></semantics></math>. For data normalization, we use the method described in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib8" title="">8</a>]</cite>. Please refer to <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib8" title="">8</a>]</cite> for more details.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">Note that gray-scale images such as CT, MR, US, and PET typically have only one channel, whereas RGB images from modalities like endoscopy, dermoscopy, and fundus imaging usually have three channels. To maintain consistency during model training, we replicated the channel dimension for gray-scale images, converting them from one channel to three channels.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Proposed method</h3>
<figure class="ltx_figure" id="S2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="1382" id="S2.F1.g1" src="extracted/5847717/imgs/Swin-LiteMedSAM.png" width="1510"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview of the Swin-LiteMedSAM architecture.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Our model’s structure is shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.F1" title="Figure 1 ‣ 2.2 Proposed method ‣ 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">1</span></a>. It mainly comprises three components: an image encoder, a prompt decoder, and a mask decoder. The function of these three components are detailed below.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">The image encoder architecture is inspired by the original tiny ViT design of LiteMedSAM. The input first passes through two convolutional layers, which capture low-level spatial features and adjust the number of channels to 64. Following this, the encoder consists of four stages, with their depths arranged according to the tiny ViT configuration as (2, 2, 6, 2). The structure of the Swin block used in our encoder is illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.F2" title="Figure 2 ‣ 2.2 Proposed method ‣ 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">2</span></a>. We have slightly modified the standard Swin block by adding a convolutional block with batch normalization between the windowed multi-head self-attention (W-MSA) module and the Multi-Layer Perceptron (MLP). This modification enables our encoder to effectively capturing both global and local features. Furthermore, the number of channels and spatial resolution across four stages remain consistent with the original design.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="626" id="S2.F2.g1" src="extracted/5847717/imgs/swin_block.png" width="649"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The overall structure of the Swin Transformer block.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">Finally, a head branch consisting of several convolutional layers and layer normalization adjusts the channel number to 256.</p>
</div>
<div class="ltx_para" id="S2.SS2.p4">
<p class="ltx_p" id="S2.SS2.p4.1">In the prompt encoder, we introduce two additional types of prompts: box-based points and a box-based scribble, alongside the original box prompt. The box-based points and the box are combined to form a sparse embedding, while the box-based scribble is used for dense embedding. For the box-based prompt, drawing from insights provided by <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib10" title="">10</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib2" title="">2</a>]</cite>, which demonstrate the effectiveness of using multiple points over a single point, we opt to utilize four points in our prompt encoder. To achieve this, we divide the bounding box area into four equivalent sub-parts based on the central point. We then randomly generate one point in the non-zero area of each sub-part, resulting in four points distributed inside the box. If a sub-part contains only zeros, we select the central point. This approach ensures a relatively sparse distribution of points covering more area. Furthermore, a box-based scribble is randomly generated within the box using the algorithm in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib16" title="">16</a>]</cite>.
All pixels in the scribble are set to 1 and placed into the corresponding part of an all-zero matrix with a shape of (256, 256) to create a mask for the dense embedding. Similarly, if all pixels in the box are zeros, the scribble is set to an all-zero matrix of shape (256, 256) to ensure the prompt encoder focuses on the sparse prompt embedding part, as illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.F3" title="Figure 3 ‣ 2.2 Proposed method ‣ 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_figure" id="S2.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S2.F3.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="154" id="S2.F3.1.g1" src="extracted/5847717/imgs/train_point_scribble.png" width="180"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S2.F3.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="156" id="S2.F3.2.g1" src="extracted/5847717/imgs/infer_point.png" width="180"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S2.F3.3"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="153" id="S2.F3.3.g1" src="extracted/5847717/imgs/infer_scribble.png" width="180"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span> (a) Box-based points and scribble generation strategies during the training stage. (b) Box-based points generation strategy during the inference stage. (c) Box-based scribble generation strategy during inference stage.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS2.p5">
<p class="ltx_p" id="S2.SS2.p5.1">Then in the mask decoder, we follow the SAM original design by using a two-way transformer to process embeddings from the prompt encoder and image encoder. Moreover, we build skip connections between the image encoder and mask decoder, concatenating outputs from the last three stages and fusing them with several convolutional layers. This output is then combined with the two-way transformer’s output and passed through an upscaling block to double the image resolution. Similarly, the upscaled output is concatenated with the first stage’s output from the image encoder, and the resulting output is further upsampled to return back to the original spatial resolution.</p>
</div>
<div class="ltx_para" id="S2.SS2.p6">
<p class="ltx_p" id="S2.SS2.p6.2">For the loss function, it consists of a mask prediction loss <math alttext="L_{mask}" class="ltx_Math" display="inline" id="S2.SS2.p6.1.m1.1"><semantics id="S2.SS2.p6.1.m1.1a"><msub id="S2.SS2.p6.1.m1.1.1" xref="S2.SS2.p6.1.m1.1.1.cmml"><mi id="S2.SS2.p6.1.m1.1.1.2" xref="S2.SS2.p6.1.m1.1.1.2.cmml">L</mi><mrow id="S2.SS2.p6.1.m1.1.1.3" xref="S2.SS2.p6.1.m1.1.1.3.cmml"><mi id="S2.SS2.p6.1.m1.1.1.3.2" xref="S2.SS2.p6.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.SS2.p6.1.m1.1.1.3.1" xref="S2.SS2.p6.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.1.m1.1.1.3.3" xref="S2.SS2.p6.1.m1.1.1.3.3.cmml">a</mi><mo id="S2.SS2.p6.1.m1.1.1.3.1a" xref="S2.SS2.p6.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.1.m1.1.1.3.4" xref="S2.SS2.p6.1.m1.1.1.3.4.cmml">s</mi><mo id="S2.SS2.p6.1.m1.1.1.3.1b" xref="S2.SS2.p6.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.1.m1.1.1.3.5" xref="S2.SS2.p6.1.m1.1.1.3.5.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.1.m1.1b"><apply id="S2.SS2.p6.1.m1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.1.m1.1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p6.1.m1.1.1.2.cmml" xref="S2.SS2.p6.1.m1.1.1.2">𝐿</ci><apply id="S2.SS2.p6.1.m1.1.1.3.cmml" xref="S2.SS2.p6.1.m1.1.1.3"><times id="S2.SS2.p6.1.m1.1.1.3.1.cmml" xref="S2.SS2.p6.1.m1.1.1.3.1"></times><ci id="S2.SS2.p6.1.m1.1.1.3.2.cmml" xref="S2.SS2.p6.1.m1.1.1.3.2">𝑚</ci><ci id="S2.SS2.p6.1.m1.1.1.3.3.cmml" xref="S2.SS2.p6.1.m1.1.1.3.3">𝑎</ci><ci id="S2.SS2.p6.1.m1.1.1.3.4.cmml" xref="S2.SS2.p6.1.m1.1.1.3.4">𝑠</ci><ci id="S2.SS2.p6.1.m1.1.1.3.5.cmml" xref="S2.SS2.p6.1.m1.1.1.3.5">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.1.m1.1c">L_{mask}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p6.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_m italic_a italic_s italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and a IoU score prediction loss <math alttext="L_{iou}" class="ltx_Math" display="inline" id="S2.SS2.p6.2.m2.1"><semantics id="S2.SS2.p6.2.m2.1a"><msub id="S2.SS2.p6.2.m2.1.1" xref="S2.SS2.p6.2.m2.1.1.cmml"><mi id="S2.SS2.p6.2.m2.1.1.2" xref="S2.SS2.p6.2.m2.1.1.2.cmml">L</mi><mrow id="S2.SS2.p6.2.m2.1.1.3" xref="S2.SS2.p6.2.m2.1.1.3.cmml"><mi id="S2.SS2.p6.2.m2.1.1.3.2" xref="S2.SS2.p6.2.m2.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p6.2.m2.1.1.3.1" xref="S2.SS2.p6.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.2.m2.1.1.3.3" xref="S2.SS2.p6.2.m2.1.1.3.3.cmml">o</mi><mo id="S2.SS2.p6.2.m2.1.1.3.1a" xref="S2.SS2.p6.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.2.m2.1.1.3.4" xref="S2.SS2.p6.2.m2.1.1.3.4.cmml">u</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.2.m2.1b"><apply id="S2.SS2.p6.2.m2.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.2.m2.1.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p6.2.m2.1.1.2.cmml" xref="S2.SS2.p6.2.m2.1.1.2">𝐿</ci><apply id="S2.SS2.p6.2.m2.1.1.3.cmml" xref="S2.SS2.p6.2.m2.1.1.3"><times id="S2.SS2.p6.2.m2.1.1.3.1.cmml" xref="S2.SS2.p6.2.m2.1.1.3.1"></times><ci id="S2.SS2.p6.2.m2.1.1.3.2.cmml" xref="S2.SS2.p6.2.m2.1.1.3.2">𝑖</ci><ci id="S2.SS2.p6.2.m2.1.1.3.3.cmml" xref="S2.SS2.p6.2.m2.1.1.3.3">𝑜</ci><ci id="S2.SS2.p6.2.m2.1.1.3.4.cmml" xref="S2.SS2.p6.2.m2.1.1.3.4">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.2.m2.1c">L_{iou}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p6.2.m2.1d">italic_L start_POSTSUBSCRIPT italic_i italic_o italic_u end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L=L_{mask}+L_{iou}," class="ltx_Math" display="block" id="S2.E1.m1.1"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mi id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.2.cmml">L</mi><mo id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.3.cmml"><msub id="S2.E1.m1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.3.2.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.cmml">L</mi><mrow id="S2.E1.m1.1.1.1.1.3.2.3" xref="S2.E1.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.3.2" xref="S2.E1.m1.1.1.1.1.3.2.3.2.cmml">m</mi><mo id="S2.E1.m1.1.1.1.1.3.2.3.1" xref="S2.E1.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.E1.m1.1.1.1.1.3.2.3.3" xref="S2.E1.m1.1.1.1.1.3.2.3.3.cmml">a</mi><mo id="S2.E1.m1.1.1.1.1.3.2.3.1a" xref="S2.E1.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.E1.m1.1.1.1.1.3.2.3.4" xref="S2.E1.m1.1.1.1.1.3.2.3.4.cmml">s</mi><mo id="S2.E1.m1.1.1.1.1.3.2.3.1b" xref="S2.E1.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.E1.m1.1.1.1.1.3.2.3.5" xref="S2.E1.m1.1.1.1.1.3.2.3.5.cmml">k</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S2.E1.m1.1.1.1.1.3.3" xref="S2.E1.m1.1.1.1.1.3.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.3.2" xref="S2.E1.m1.1.1.1.1.3.3.2.cmml">L</mi><mrow id="S2.E1.m1.1.1.1.1.3.3.3" xref="S2.E1.m1.1.1.1.1.3.3.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.3.3.2" xref="S2.E1.m1.1.1.1.1.3.3.3.2.cmml">i</mi><mo id="S2.E1.m1.1.1.1.1.3.3.3.1" xref="S2.E1.m1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.E1.m1.1.1.1.1.3.3.3.3" xref="S2.E1.m1.1.1.1.1.3.3.3.3.cmml">o</mi><mo id="S2.E1.m1.1.1.1.1.3.3.3.1a" xref="S2.E1.m1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.E1.m1.1.1.1.1.3.3.3.4" xref="S2.E1.m1.1.1.1.1.3.3.3.4.cmml">u</mi></mrow></msub></mrow></mrow><mo id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><eq id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"></eq><ci id="S2.E1.m1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2">𝐿</ci><apply id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3"><plus id="S2.E1.m1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1"></plus><apply id="S2.E1.m1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2">𝐿</ci><apply id="S2.E1.m1.1.1.1.1.3.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3"><times id="S2.E1.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.E1.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.2">𝑚</ci><ci id="S2.E1.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3">𝑎</ci><ci id="S2.E1.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.4">𝑠</ci><ci id="S2.E1.m1.1.1.1.1.3.2.3.5.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.5">𝑘</ci></apply></apply><apply id="S2.E1.m1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.3.2">𝐿</ci><apply id="S2.E1.m1.1.1.1.1.3.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.3.3"><times id="S2.E1.m1.1.1.1.1.3.3.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.3.3.1"></times><ci id="S2.E1.m1.1.1.1.1.3.3.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.3.3.2">𝑖</ci><ci id="S2.E1.m1.1.1.1.1.3.3.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.3.3.3">𝑜</ci><ci id="S2.E1.m1.1.1.1.1.3.3.3.4.cmml" xref="S2.E1.m1.1.1.1.1.3.3.3.4">𝑢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">L=L_{mask}+L_{iou},</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1d">italic_L = italic_L start_POSTSUBSCRIPT italic_m italic_a italic_s italic_k end_POSTSUBSCRIPT + italic_L start_POSTSUBSCRIPT italic_i italic_o italic_u end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.p6.4">where <math alttext="L_{mask}" class="ltx_Math" display="inline" id="S2.SS2.p6.3.m1.1"><semantics id="S2.SS2.p6.3.m1.1a"><msub id="S2.SS2.p6.3.m1.1.1" xref="S2.SS2.p6.3.m1.1.1.cmml"><mi id="S2.SS2.p6.3.m1.1.1.2" xref="S2.SS2.p6.3.m1.1.1.2.cmml">L</mi><mrow id="S2.SS2.p6.3.m1.1.1.3" xref="S2.SS2.p6.3.m1.1.1.3.cmml"><mi id="S2.SS2.p6.3.m1.1.1.3.2" xref="S2.SS2.p6.3.m1.1.1.3.2.cmml">m</mi><mo id="S2.SS2.p6.3.m1.1.1.3.1" xref="S2.SS2.p6.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.3.m1.1.1.3.3" xref="S2.SS2.p6.3.m1.1.1.3.3.cmml">a</mi><mo id="S2.SS2.p6.3.m1.1.1.3.1a" xref="S2.SS2.p6.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.3.m1.1.1.3.4" xref="S2.SS2.p6.3.m1.1.1.3.4.cmml">s</mi><mo id="S2.SS2.p6.3.m1.1.1.3.1b" xref="S2.SS2.p6.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.3.m1.1.1.3.5" xref="S2.SS2.p6.3.m1.1.1.3.5.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.3.m1.1b"><apply id="S2.SS2.p6.3.m1.1.1.cmml" xref="S2.SS2.p6.3.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.3.m1.1.1.1.cmml" xref="S2.SS2.p6.3.m1.1.1">subscript</csymbol><ci id="S2.SS2.p6.3.m1.1.1.2.cmml" xref="S2.SS2.p6.3.m1.1.1.2">𝐿</ci><apply id="S2.SS2.p6.3.m1.1.1.3.cmml" xref="S2.SS2.p6.3.m1.1.1.3"><times id="S2.SS2.p6.3.m1.1.1.3.1.cmml" xref="S2.SS2.p6.3.m1.1.1.3.1"></times><ci id="S2.SS2.p6.3.m1.1.1.3.2.cmml" xref="S2.SS2.p6.3.m1.1.1.3.2">𝑚</ci><ci id="S2.SS2.p6.3.m1.1.1.3.3.cmml" xref="S2.SS2.p6.3.m1.1.1.3.3">𝑎</ci><ci id="S2.SS2.p6.3.m1.1.1.3.4.cmml" xref="S2.SS2.p6.3.m1.1.1.3.4">𝑠</ci><ci id="S2.SS2.p6.3.m1.1.1.3.5.cmml" xref="S2.SS2.p6.3.m1.1.1.3.5">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.3.m1.1c">L_{mask}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p6.3.m1.1d">italic_L start_POSTSUBSCRIPT italic_m italic_a italic_s italic_k end_POSTSUBSCRIPT</annotation></semantics></math> is the summation of the Dice loss and binary cross-entropy by comparing the predicted mask with the ground truth mask, while <math alttext="L_{iou}" class="ltx_Math" display="inline" id="S2.SS2.p6.4.m2.1"><semantics id="S2.SS2.p6.4.m2.1a"><msub id="S2.SS2.p6.4.m2.1.1" xref="S2.SS2.p6.4.m2.1.1.cmml"><mi id="S2.SS2.p6.4.m2.1.1.2" xref="S2.SS2.p6.4.m2.1.1.2.cmml">L</mi><mrow id="S2.SS2.p6.4.m2.1.1.3" xref="S2.SS2.p6.4.m2.1.1.3.cmml"><mi id="S2.SS2.p6.4.m2.1.1.3.2" xref="S2.SS2.p6.4.m2.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p6.4.m2.1.1.3.1" xref="S2.SS2.p6.4.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.4.m2.1.1.3.3" xref="S2.SS2.p6.4.m2.1.1.3.3.cmml">o</mi><mo id="S2.SS2.p6.4.m2.1.1.3.1a" xref="S2.SS2.p6.4.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p6.4.m2.1.1.3.4" xref="S2.SS2.p6.4.m2.1.1.3.4.cmml">u</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.4.m2.1b"><apply id="S2.SS2.p6.4.m2.1.1.cmml" xref="S2.SS2.p6.4.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.4.m2.1.1.1.cmml" xref="S2.SS2.p6.4.m2.1.1">subscript</csymbol><ci id="S2.SS2.p6.4.m2.1.1.2.cmml" xref="S2.SS2.p6.4.m2.1.1.2">𝐿</ci><apply id="S2.SS2.p6.4.m2.1.1.3.cmml" xref="S2.SS2.p6.4.m2.1.1.3"><times id="S2.SS2.p6.4.m2.1.1.3.1.cmml" xref="S2.SS2.p6.4.m2.1.1.3.1"></times><ci id="S2.SS2.p6.4.m2.1.1.3.2.cmml" xref="S2.SS2.p6.4.m2.1.1.3.2">𝑖</ci><ci id="S2.SS2.p6.4.m2.1.1.3.3.cmml" xref="S2.SS2.p6.4.m2.1.1.3.3">𝑜</ci><ci id="S2.SS2.p6.4.m2.1.1.3.4.cmml" xref="S2.SS2.p6.4.m2.1.1.3.4">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.4.m2.1c">L_{iou}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p6.4.m2.1d">italic_L start_POSTSUBSCRIPT italic_i italic_o italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is the MSE loss between the predicted and actual IoU scores.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Inference strategy for box-based points and box-based scribble</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.6">The strategy for generating box-based points and box-based scribble has some difference between the training and inference stages. During the training stage, the range for generating four points is within the entire bounding box, which aims to expose the model to diverse cases and helps improve its generalization capabilities. However, randomly generating points within the whole box might not be ideal during the inference stage, as objects are typically located near the central part of the box. Random generation can easily place some points near the boundary, which is less effective and even negatively impact performance. Furthermore, for the situation of a single point prompt, the central point of the box is always the first choice <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib2" title="">2</a>]</cite>. Likewise, the two corner points of the box already provide some external and surrounding information of objects. Therefore, points should be better distributed in the relatively central part of the box. For a given bounding box, represented by its upper left point (<math alttext="x_{min}" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.1"><semantics id="S2.SS3.p1.1.m1.1a"><msub id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.2.cmml">x</mi><mrow id="S2.SS3.p1.1.m1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.3.cmml"><mi id="S2.SS3.p1.1.m1.1.1.3.2" xref="S2.SS3.p1.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.1.m1.1.1.3.1" xref="S2.SS3.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.1.m1.1.1.3.3" xref="S2.SS3.p1.1.m1.1.1.3.3.cmml">i</mi><mo id="S2.SS3.p1.1.m1.1.1.3.1a" xref="S2.SS3.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.1.m1.1.1.3.4" xref="S2.SS3.p1.1.m1.1.1.3.4.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><apply id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS3.p1.1.m1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.2">𝑥</ci><apply id="S2.SS3.p1.1.m1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.3"><times id="S2.SS3.p1.1.m1.1.1.3.1.cmml" xref="S2.SS3.p1.1.m1.1.1.3.1"></times><ci id="S2.SS3.p1.1.m1.1.1.3.2.cmml" xref="S2.SS3.p1.1.m1.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.1.m1.1.1.3.3.cmml" xref="S2.SS3.p1.1.m1.1.1.3.3">𝑖</ci><ci id="S2.SS3.p1.1.m1.1.1.3.4.cmml" xref="S2.SS3.p1.1.m1.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">x_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="y_{min}" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m2.1"><semantics id="S2.SS3.p1.2.m2.1a"><msub id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.2" xref="S2.SS3.p1.2.m2.1.1.2.cmml">y</mi><mrow id="S2.SS3.p1.2.m2.1.1.3" xref="S2.SS3.p1.2.m2.1.1.3.cmml"><mi id="S2.SS3.p1.2.m2.1.1.3.2" xref="S2.SS3.p1.2.m2.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.2.m2.1.1.3.1" xref="S2.SS3.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.1.1.3.3" xref="S2.SS3.p1.2.m2.1.1.3.3.cmml">i</mi><mo id="S2.SS3.p1.2.m2.1.1.3.1a" xref="S2.SS3.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.1.1.3.4" xref="S2.SS3.p1.2.m2.1.1.3.4.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><apply id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS3.p1.2.m2.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.2">𝑦</ci><apply id="S2.SS3.p1.2.m2.1.1.3.cmml" xref="S2.SS3.p1.2.m2.1.1.3"><times id="S2.SS3.p1.2.m2.1.1.3.1.cmml" xref="S2.SS3.p1.2.m2.1.1.3.1"></times><ci id="S2.SS3.p1.2.m2.1.1.3.2.cmml" xref="S2.SS3.p1.2.m2.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.2.m2.1.1.3.3.cmml" xref="S2.SS3.p1.2.m2.1.1.3.3">𝑖</ci><ci id="S2.SS3.p1.2.m2.1.1.3.4.cmml" xref="S2.SS3.p1.2.m2.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">y_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math>) and bottom right point (<math alttext="x_{max}" class="ltx_Math" display="inline" id="S2.SS3.p1.3.m3.1"><semantics id="S2.SS3.p1.3.m3.1a"><msub id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml"><mi id="S2.SS3.p1.3.m3.1.1.2" xref="S2.SS3.p1.3.m3.1.1.2.cmml">x</mi><mrow id="S2.SS3.p1.3.m3.1.1.3" xref="S2.SS3.p1.3.m3.1.1.3.cmml"><mi id="S2.SS3.p1.3.m3.1.1.3.2" xref="S2.SS3.p1.3.m3.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.3.m3.1.1.3.1" xref="S2.SS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.3.m3.1.1.3.3" xref="S2.SS3.p1.3.m3.1.1.3.3.cmml">a</mi><mo id="S2.SS3.p1.3.m3.1.1.3.1a" xref="S2.SS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.3.m3.1.1.3.4" xref="S2.SS3.p1.3.m3.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><apply id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.3.m3.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS3.p1.3.m3.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2">𝑥</ci><apply id="S2.SS3.p1.3.m3.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3"><times id="S2.SS3.p1.3.m3.1.1.3.1.cmml" xref="S2.SS3.p1.3.m3.1.1.3.1"></times><ci id="S2.SS3.p1.3.m3.1.1.3.2.cmml" xref="S2.SS3.p1.3.m3.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.3.m3.1.1.3.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3.3">𝑎</ci><ci id="S2.SS3.p1.3.m3.1.1.3.4.cmml" xref="S2.SS3.p1.3.m3.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">x_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="y_{max}" class="ltx_Math" display="inline" id="S2.SS3.p1.4.m4.1"><semantics id="S2.SS3.p1.4.m4.1a"><msub id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml"><mi id="S2.SS3.p1.4.m4.1.1.2" xref="S2.SS3.p1.4.m4.1.1.2.cmml">y</mi><mrow id="S2.SS3.p1.4.m4.1.1.3" xref="S2.SS3.p1.4.m4.1.1.3.cmml"><mi id="S2.SS3.p1.4.m4.1.1.3.2" xref="S2.SS3.p1.4.m4.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.4.m4.1.1.3.1" xref="S2.SS3.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.4.m4.1.1.3.3" xref="S2.SS3.p1.4.m4.1.1.3.3.cmml">a</mi><mo id="S2.SS3.p1.4.m4.1.1.3.1a" xref="S2.SS3.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.4.m4.1.1.3.4" xref="S2.SS3.p1.4.m4.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><apply id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m4.1.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS3.p1.4.m4.1.1.2.cmml" xref="S2.SS3.p1.4.m4.1.1.2">𝑦</ci><apply id="S2.SS3.p1.4.m4.1.1.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3"><times id="S2.SS3.p1.4.m4.1.1.3.1.cmml" xref="S2.SS3.p1.4.m4.1.1.3.1"></times><ci id="S2.SS3.p1.4.m4.1.1.3.2.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.4.m4.1.1.3.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3">𝑎</ci><ci id="S2.SS3.p1.4.m4.1.1.3.4.cmml" xref="S2.SS3.p1.4.m4.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">y_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.4.m4.1d">italic_y start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math>), we introduce two variables, <math alttext="\mathrm{shift}_{h}" class="ltx_Math" display="inline" id="S2.SS3.p1.5.m5.1"><semantics id="S2.SS3.p1.5.m5.1a"><msub id="S2.SS3.p1.5.m5.1.1" xref="S2.SS3.p1.5.m5.1.1.cmml"><mi id="S2.SS3.p1.5.m5.1.1.2" xref="S2.SS3.p1.5.m5.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.5.m5.1.1.3" xref="S2.SS3.p1.5.m5.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.5.m5.1b"><apply id="S2.SS3.p1.5.m5.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.5.m5.1.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS3.p1.5.m5.1.1.2.cmml" xref="S2.SS3.p1.5.m5.1.1.2">shift</ci><ci id="S2.SS3.p1.5.m5.1.1.3.cmml" xref="S2.SS3.p1.5.m5.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.5.m5.1c">\mathrm{shift}_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.5.m5.1d">roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathrm{shift}_{w}" class="ltx_Math" display="inline" id="S2.SS3.p1.6.m6.1"><semantics id="S2.SS3.p1.6.m6.1a"><msub id="S2.SS3.p1.6.m6.1.1" xref="S2.SS3.p1.6.m6.1.1.cmml"><mi id="S2.SS3.p1.6.m6.1.1.2" xref="S2.SS3.p1.6.m6.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.6.m6.1.1.3" xref="S2.SS3.p1.6.m6.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.6.m6.1b"><apply id="S2.SS3.p1.6.m6.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.6.m6.1.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S2.SS3.p1.6.m6.1.1.2.cmml" xref="S2.SS3.p1.6.m6.1.1.2">shift</ci><ci id="S2.SS3.p1.6.m6.1.1.3.cmml" xref="S2.SS3.p1.6.m6.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.6.m6.1c">\mathrm{shift}_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.6.m6.1d">roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>, to adjust the coordinates along height and width directions so that four points do not occur in the peripheral area, as shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.F3" title="Figure 3 ‣ 2.2 Proposed method ‣ 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">3</span></a>. This adjustment is denoted as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.Ex1">
<tbody id="S2.Ex1X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle x^{\prime}_{min}" class="ltx_Math" display="inline" id="S2.Ex1X.2.1.1.m1.1"><semantics id="S2.Ex1X.2.1.1.m1.1a"><msubsup id="S2.Ex1X.2.1.1.m1.1.1" xref="S2.Ex1X.2.1.1.m1.1.1.cmml"><mi id="S2.Ex1X.2.1.1.m1.1.1.2.2" xref="S2.Ex1X.2.1.1.m1.1.1.2.2.cmml">x</mi><mrow id="S2.Ex1X.2.1.1.m1.1.1.3" xref="S2.Ex1X.2.1.1.m1.1.1.3.cmml"><mi id="S2.Ex1X.2.1.1.m1.1.1.3.2" xref="S2.Ex1X.2.1.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.Ex1X.2.1.1.m1.1.1.3.1" xref="S2.Ex1X.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1X.2.1.1.m1.1.1.3.3" xref="S2.Ex1X.2.1.1.m1.1.1.3.3.cmml">i</mi><mo id="S2.Ex1X.2.1.1.m1.1.1.3.1a" xref="S2.Ex1X.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1X.2.1.1.m1.1.1.3.4" xref="S2.Ex1X.2.1.1.m1.1.1.3.4.cmml">n</mi></mrow><mo id="S2.Ex1X.2.1.1.m1.1.1.2.3" xref="S2.Ex1X.2.1.1.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.Ex1X.2.1.1.m1.1b"><apply id="S2.Ex1X.2.1.1.m1.1.1.cmml" xref="S2.Ex1X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1X.2.1.1.m1.1.1.1.cmml" xref="S2.Ex1X.2.1.1.m1.1.1">subscript</csymbol><apply id="S2.Ex1X.2.1.1.m1.1.1.2.cmml" xref="S2.Ex1X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1X.2.1.1.m1.1.1.2.1.cmml" xref="S2.Ex1X.2.1.1.m1.1.1">superscript</csymbol><ci id="S2.Ex1X.2.1.1.m1.1.1.2.2.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.2.2">𝑥</ci><ci id="S2.Ex1X.2.1.1.m1.1.1.2.3.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.2.3">′</ci></apply><apply id="S2.Ex1X.2.1.1.m1.1.1.3.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.3"><times id="S2.Ex1X.2.1.1.m1.1.1.3.1.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.3.1"></times><ci id="S2.Ex1X.2.1.1.m1.1.1.3.2.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.3.2">𝑚</ci><ci id="S2.Ex1X.2.1.1.m1.1.1.3.3.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.3.3">𝑖</ci><ci id="S2.Ex1X.2.1.1.m1.1.1.3.4.cmml" xref="S2.Ex1X.2.1.1.m1.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1X.2.1.1.m1.1c">\displaystyle x^{\prime}_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1X.2.1.1.m1.1d">italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=x_{min}+\mathrm{shift}_{w}," class="ltx_Math" display="inline" id="S2.Ex1X.3.2.2.m1.1"><semantics id="S2.Ex1X.3.2.2.m1.1a"><mrow id="S2.Ex1X.3.2.2.m1.1.1.1" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.cmml"><mrow id="S2.Ex1X.3.2.2.m1.1.1.1.1" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.cmml"><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.2.cmml"></mi><mo id="S2.Ex1X.3.2.2.m1.1.1.1.1.1" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.Ex1X.3.2.2.m1.1.1.1.1.3" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.cmml"><msub id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.cmml"><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.2.cmml">x</mi><mrow id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.2.cmml">m</mi><mo id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.3" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.3.cmml">i</mi><mo id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1a" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.4" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.4.cmml">n</mi></mrow></msub><mo id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.1" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.2.cmml">shift</mi><mi id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.3" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.3.cmml">w</mi></msub></mrow></mrow><mo id="S2.Ex1X.3.2.2.m1.1.1.1.2" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1X.3.2.2.m1.1b"><apply id="S2.Ex1X.3.2.2.m1.1.1.1.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1"><eq id="S2.Ex1X.3.2.2.m1.1.1.1.1.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S2.Ex1X.3.2.2.m1.1.1.1.1.2.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.2">absent</csymbol><apply id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3"><plus id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.1"></plus><apply id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.2.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.2">𝑥</ci><apply id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3"><times id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.2">𝑚</ci><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.3">𝑖</ci><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.2.3.4">𝑛</ci></apply></apply><apply id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.1.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.2.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.2">shift</ci><ci id="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S2.Ex1X.3.2.2.m1.1.1.1.1.3.3.3">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1X.3.2.2.m1.1c">\displaystyle=x_{min}+\mathrm{shift}_{w},</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1X.3.2.2.m1.1d">= italic_x start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT + roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.Ex1Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle y^{\prime}_{min}" class="ltx_Math" display="inline" id="S2.Ex1Xa.2.1.1.m1.1"><semantics id="S2.Ex1Xa.2.1.1.m1.1a"><msubsup id="S2.Ex1Xa.2.1.1.m1.1.1" xref="S2.Ex1Xa.2.1.1.m1.1.1.cmml"><mi id="S2.Ex1Xa.2.1.1.m1.1.1.2.2" xref="S2.Ex1Xa.2.1.1.m1.1.1.2.2.cmml">y</mi><mrow id="S2.Ex1Xa.2.1.1.m1.1.1.3" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.cmml"><mi id="S2.Ex1Xa.2.1.1.m1.1.1.3.2" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.Ex1Xa.2.1.1.m1.1.1.3.1" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xa.2.1.1.m1.1.1.3.3" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.3.cmml">i</mi><mo id="S2.Ex1Xa.2.1.1.m1.1.1.3.1a" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xa.2.1.1.m1.1.1.3.4" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.4.cmml">n</mi></mrow><mo id="S2.Ex1Xa.2.1.1.m1.1.1.2.3" xref="S2.Ex1Xa.2.1.1.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.Ex1Xa.2.1.1.m1.1b"><apply id="S2.Ex1Xa.2.1.1.m1.1.1.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xa.2.1.1.m1.1.1.1.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1">subscript</csymbol><apply id="S2.Ex1Xa.2.1.1.m1.1.1.2.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xa.2.1.1.m1.1.1.2.1.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1">superscript</csymbol><ci id="S2.Ex1Xa.2.1.1.m1.1.1.2.2.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.2.2">𝑦</ci><ci id="S2.Ex1Xa.2.1.1.m1.1.1.2.3.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.2.3">′</ci></apply><apply id="S2.Ex1Xa.2.1.1.m1.1.1.3.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.3"><times id="S2.Ex1Xa.2.1.1.m1.1.1.3.1.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.1"></times><ci id="S2.Ex1Xa.2.1.1.m1.1.1.3.2.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.2">𝑚</ci><ci id="S2.Ex1Xa.2.1.1.m1.1.1.3.3.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.3">𝑖</ci><ci id="S2.Ex1Xa.2.1.1.m1.1.1.3.4.cmml" xref="S2.Ex1Xa.2.1.1.m1.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xa.2.1.1.m1.1c">\displaystyle y^{\prime}_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xa.2.1.1.m1.1d">italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=y_{min}+\mathrm{shift}_{h}," class="ltx_Math" display="inline" id="S2.Ex1Xa.3.2.2.m1.1"><semantics id="S2.Ex1Xa.3.2.2.m1.1a"><mrow id="S2.Ex1Xa.3.2.2.m1.1.1.1" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.cmml"><mrow id="S2.Ex1Xa.3.2.2.m1.1.1.1.1" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.cmml"><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.2.cmml"></mi><mo id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.1" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.cmml"><msub id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.cmml"><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.2.cmml">y</mi><mrow id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.2.cmml">m</mi><mo id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.3" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.3.cmml">i</mi><mo id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1a" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.4" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.4.cmml">n</mi></mrow></msub><mo id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.1" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.2.cmml">shift</mi><mi id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.3" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">h</mi></msub></mrow></mrow><mo id="S2.Ex1Xa.3.2.2.m1.1.1.1.2" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1Xa.3.2.2.m1.1b"><apply id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1"><eq id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.2.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.2">absent</csymbol><apply id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3"><plus id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.1"></plus><apply id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.2.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.2">𝑦</ci><apply id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3"><times id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.2">𝑚</ci><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.3">𝑖</ci><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.2.3.4">𝑛</ci></apply></apply><apply id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.1.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.2.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.2">shift</ci><ci id="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S2.Ex1Xa.3.2.2.m1.1.1.1.1.3.3.3">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xa.3.2.2.m1.1c">\displaystyle=y_{min}+\mathrm{shift}_{h},</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xa.3.2.2.m1.1d">= italic_y start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT + roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.Ex1Xb"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle x^{\prime}_{max}" class="ltx_Math" display="inline" id="S2.Ex1Xb.2.1.1.m1.1"><semantics id="S2.Ex1Xb.2.1.1.m1.1a"><msubsup id="S2.Ex1Xb.2.1.1.m1.1.1" xref="S2.Ex1Xb.2.1.1.m1.1.1.cmml"><mi id="S2.Ex1Xb.2.1.1.m1.1.1.2.2" xref="S2.Ex1Xb.2.1.1.m1.1.1.2.2.cmml">x</mi><mrow id="S2.Ex1Xb.2.1.1.m1.1.1.3" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.cmml"><mi id="S2.Ex1Xb.2.1.1.m1.1.1.3.2" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.Ex1Xb.2.1.1.m1.1.1.3.1" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xb.2.1.1.m1.1.1.3.3" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.3.cmml">a</mi><mo id="S2.Ex1Xb.2.1.1.m1.1.1.3.1a" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xb.2.1.1.m1.1.1.3.4" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.4.cmml">x</mi></mrow><mo id="S2.Ex1Xb.2.1.1.m1.1.1.2.3" xref="S2.Ex1Xb.2.1.1.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.Ex1Xb.2.1.1.m1.1b"><apply id="S2.Ex1Xb.2.1.1.m1.1.1.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xb.2.1.1.m1.1.1.1.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1">subscript</csymbol><apply id="S2.Ex1Xb.2.1.1.m1.1.1.2.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xb.2.1.1.m1.1.1.2.1.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1">superscript</csymbol><ci id="S2.Ex1Xb.2.1.1.m1.1.1.2.2.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.2.2">𝑥</ci><ci id="S2.Ex1Xb.2.1.1.m1.1.1.2.3.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.2.3">′</ci></apply><apply id="S2.Ex1Xb.2.1.1.m1.1.1.3.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.3"><times id="S2.Ex1Xb.2.1.1.m1.1.1.3.1.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.1"></times><ci id="S2.Ex1Xb.2.1.1.m1.1.1.3.2.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.2">𝑚</ci><ci id="S2.Ex1Xb.2.1.1.m1.1.1.3.3.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.3">𝑎</ci><ci id="S2.Ex1Xb.2.1.1.m1.1.1.3.4.cmml" xref="S2.Ex1Xb.2.1.1.m1.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xb.2.1.1.m1.1c">\displaystyle x^{\prime}_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xb.2.1.1.m1.1d">italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=x_{max}-\mathrm{shift}_{w}," class="ltx_Math" display="inline" id="S2.Ex1Xb.3.2.2.m1.1"><semantics id="S2.Ex1Xb.3.2.2.m1.1a"><mrow id="S2.Ex1Xb.3.2.2.m1.1.1.1" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.cmml"><mrow id="S2.Ex1Xb.3.2.2.m1.1.1.1.1" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.cmml"><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.2.cmml"></mi><mo id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.1" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.cmml"><msub id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.cmml"><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.2.cmml">x</mi><mrow id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.2.cmml">m</mi><mo id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.3" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.3.cmml">a</mi><mo id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1a" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.4" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.4.cmml">x</mi></mrow></msub><mo id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.1" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.1.cmml">−</mo><msub id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.2.cmml">shift</mi><mi id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.3" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.3.cmml">w</mi></msub></mrow></mrow><mo id="S2.Ex1Xb.3.2.2.m1.1.1.1.2" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1Xb.3.2.2.m1.1b"><apply id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1"><eq id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.2.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.2">absent</csymbol><apply id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3"><minus id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.1"></minus><apply id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.2.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.2">𝑥</ci><apply id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3"><times id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.2">𝑚</ci><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.3">𝑎</ci><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.2.3.4">𝑥</ci></apply></apply><apply id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.1.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.2.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.2">shift</ci><ci id="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S2.Ex1Xb.3.2.2.m1.1.1.1.1.3.3.3">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xb.3.2.2.m1.1c">\displaystyle=x_{max}-\mathrm{shift}_{w},</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xb.3.2.2.m1.1d">= italic_x start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT - roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.Ex1Xc"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle y^{\prime}_{max}" class="ltx_Math" display="inline" id="S2.Ex1Xc.2.1.1.m1.1"><semantics id="S2.Ex1Xc.2.1.1.m1.1a"><msubsup id="S2.Ex1Xc.2.1.1.m1.1.1" xref="S2.Ex1Xc.2.1.1.m1.1.1.cmml"><mi id="S2.Ex1Xc.2.1.1.m1.1.1.2.2" xref="S2.Ex1Xc.2.1.1.m1.1.1.2.2.cmml">y</mi><mrow id="S2.Ex1Xc.2.1.1.m1.1.1.3" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.cmml"><mi id="S2.Ex1Xc.2.1.1.m1.1.1.3.2" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.2.cmml">m</mi><mo id="S2.Ex1Xc.2.1.1.m1.1.1.3.1" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xc.2.1.1.m1.1.1.3.3" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.3.cmml">a</mi><mo id="S2.Ex1Xc.2.1.1.m1.1.1.3.1a" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.Ex1Xc.2.1.1.m1.1.1.3.4" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.4.cmml">x</mi></mrow><mo id="S2.Ex1Xc.2.1.1.m1.1.1.2.3" xref="S2.Ex1Xc.2.1.1.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.Ex1Xc.2.1.1.m1.1b"><apply id="S2.Ex1Xc.2.1.1.m1.1.1.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xc.2.1.1.m1.1.1.1.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1">subscript</csymbol><apply id="S2.Ex1Xc.2.1.1.m1.1.1.2.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.Ex1Xc.2.1.1.m1.1.1.2.1.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1">superscript</csymbol><ci id="S2.Ex1Xc.2.1.1.m1.1.1.2.2.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.2.2">𝑦</ci><ci id="S2.Ex1Xc.2.1.1.m1.1.1.2.3.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.2.3">′</ci></apply><apply id="S2.Ex1Xc.2.1.1.m1.1.1.3.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.3"><times id="S2.Ex1Xc.2.1.1.m1.1.1.3.1.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.1"></times><ci id="S2.Ex1Xc.2.1.1.m1.1.1.3.2.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.2">𝑚</ci><ci id="S2.Ex1Xc.2.1.1.m1.1.1.3.3.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.3">𝑎</ci><ci id="S2.Ex1Xc.2.1.1.m1.1.1.3.4.cmml" xref="S2.Ex1Xc.2.1.1.m1.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xc.2.1.1.m1.1c">\displaystyle y^{\prime}_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xc.2.1.1.m1.1d">italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=y_{max}-\mathrm{shift}_{h}." class="ltx_Math" display="inline" id="S2.Ex1Xc.3.2.2.m1.1"><semantics id="S2.Ex1Xc.3.2.2.m1.1a"><mrow id="S2.Ex1Xc.3.2.2.m1.1.1.1" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.cmml"><mrow id="S2.Ex1Xc.3.2.2.m1.1.1.1.1" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.cmml"><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.2" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.2.cmml"></mi><mo id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.1" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.cmml"><msub id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.cmml"><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.2" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.2.cmml">y</mi><mrow id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.2" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.2.cmml">m</mi><mo id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.3" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.3.cmml">a</mi><mo id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1a" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.4" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.4.cmml">x</mi></mrow></msub><mo id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.1" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.1.cmml">−</mo><msub id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.2" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.2.cmml">shift</mi><mi id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.3" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.3.cmml">h</mi></msub></mrow></mrow><mo id="S2.Ex1Xc.3.2.2.m1.1.1.1.2" lspace="0em" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1Xc.3.2.2.m1.1b"><apply id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1"><eq id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.2.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.2">absent</csymbol><apply id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3"><minus id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.1"></minus><apply id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.2.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.2">𝑦</ci><apply id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3"><times id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.2">𝑚</ci><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.3">𝑎</ci><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.2.3.4">𝑥</ci></apply></apply><apply id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.1.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.2.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.2">shift</ci><ci id="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S2.Ex1Xc.3.2.2.m1.1.1.1.1.3.3.3">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1Xc.3.2.2.m1.1c">\displaystyle=y_{max}-\mathrm{shift}_{h}.</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1Xc.3.2.2.m1.1d">= italic_y start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT - roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p1.22">Here, the new upper left point (<math alttext="x^{\prime}_{min}" class="ltx_Math" display="inline" id="S2.SS3.p1.7.m1.1"><semantics id="S2.SS3.p1.7.m1.1a"><msubsup id="S2.SS3.p1.7.m1.1.1" xref="S2.SS3.p1.7.m1.1.1.cmml"><mi id="S2.SS3.p1.7.m1.1.1.2.2" xref="S2.SS3.p1.7.m1.1.1.2.2.cmml">x</mi><mrow id="S2.SS3.p1.7.m1.1.1.3" xref="S2.SS3.p1.7.m1.1.1.3.cmml"><mi id="S2.SS3.p1.7.m1.1.1.3.2" xref="S2.SS3.p1.7.m1.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.7.m1.1.1.3.1" xref="S2.SS3.p1.7.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.7.m1.1.1.3.3" xref="S2.SS3.p1.7.m1.1.1.3.3.cmml">i</mi><mo id="S2.SS3.p1.7.m1.1.1.3.1a" xref="S2.SS3.p1.7.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.7.m1.1.1.3.4" xref="S2.SS3.p1.7.m1.1.1.3.4.cmml">n</mi></mrow><mo id="S2.SS3.p1.7.m1.1.1.2.3" xref="S2.SS3.p1.7.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.7.m1.1b"><apply id="S2.SS3.p1.7.m1.1.1.cmml" xref="S2.SS3.p1.7.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.7.m1.1.1.1.cmml" xref="S2.SS3.p1.7.m1.1.1">subscript</csymbol><apply id="S2.SS3.p1.7.m1.1.1.2.cmml" xref="S2.SS3.p1.7.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.7.m1.1.1.2.1.cmml" xref="S2.SS3.p1.7.m1.1.1">superscript</csymbol><ci id="S2.SS3.p1.7.m1.1.1.2.2.cmml" xref="S2.SS3.p1.7.m1.1.1.2.2">𝑥</ci><ci id="S2.SS3.p1.7.m1.1.1.2.3.cmml" xref="S2.SS3.p1.7.m1.1.1.2.3">′</ci></apply><apply id="S2.SS3.p1.7.m1.1.1.3.cmml" xref="S2.SS3.p1.7.m1.1.1.3"><times id="S2.SS3.p1.7.m1.1.1.3.1.cmml" xref="S2.SS3.p1.7.m1.1.1.3.1"></times><ci id="S2.SS3.p1.7.m1.1.1.3.2.cmml" xref="S2.SS3.p1.7.m1.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.7.m1.1.1.3.3.cmml" xref="S2.SS3.p1.7.m1.1.1.3.3">𝑖</ci><ci id="S2.SS3.p1.7.m1.1.1.3.4.cmml" xref="S2.SS3.p1.7.m1.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.7.m1.1c">x^{\prime}_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.7.m1.1d">italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="y^{\prime}_{min}" class="ltx_Math" display="inline" id="S2.SS3.p1.8.m2.1"><semantics id="S2.SS3.p1.8.m2.1a"><msubsup id="S2.SS3.p1.8.m2.1.1" xref="S2.SS3.p1.8.m2.1.1.cmml"><mi id="S2.SS3.p1.8.m2.1.1.2.2" xref="S2.SS3.p1.8.m2.1.1.2.2.cmml">y</mi><mrow id="S2.SS3.p1.8.m2.1.1.3" xref="S2.SS3.p1.8.m2.1.1.3.cmml"><mi id="S2.SS3.p1.8.m2.1.1.3.2" xref="S2.SS3.p1.8.m2.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.8.m2.1.1.3.1" xref="S2.SS3.p1.8.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.8.m2.1.1.3.3" xref="S2.SS3.p1.8.m2.1.1.3.3.cmml">i</mi><mo id="S2.SS3.p1.8.m2.1.1.3.1a" xref="S2.SS3.p1.8.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.8.m2.1.1.3.4" xref="S2.SS3.p1.8.m2.1.1.3.4.cmml">n</mi></mrow><mo id="S2.SS3.p1.8.m2.1.1.2.3" xref="S2.SS3.p1.8.m2.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.8.m2.1b"><apply id="S2.SS3.p1.8.m2.1.1.cmml" xref="S2.SS3.p1.8.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m2.1.1.1.cmml" xref="S2.SS3.p1.8.m2.1.1">subscript</csymbol><apply id="S2.SS3.p1.8.m2.1.1.2.cmml" xref="S2.SS3.p1.8.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m2.1.1.2.1.cmml" xref="S2.SS3.p1.8.m2.1.1">superscript</csymbol><ci id="S2.SS3.p1.8.m2.1.1.2.2.cmml" xref="S2.SS3.p1.8.m2.1.1.2.2">𝑦</ci><ci id="S2.SS3.p1.8.m2.1.1.2.3.cmml" xref="S2.SS3.p1.8.m2.1.1.2.3">′</ci></apply><apply id="S2.SS3.p1.8.m2.1.1.3.cmml" xref="S2.SS3.p1.8.m2.1.1.3"><times id="S2.SS3.p1.8.m2.1.1.3.1.cmml" xref="S2.SS3.p1.8.m2.1.1.3.1"></times><ci id="S2.SS3.p1.8.m2.1.1.3.2.cmml" xref="S2.SS3.p1.8.m2.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.8.m2.1.1.3.3.cmml" xref="S2.SS3.p1.8.m2.1.1.3.3">𝑖</ci><ci id="S2.SS3.p1.8.m2.1.1.3.4.cmml" xref="S2.SS3.p1.8.m2.1.1.3.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.8.m2.1c">y^{\prime}_{min}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.8.m2.1d">italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_i italic_n end_POSTSUBSCRIPT</annotation></semantics></math>) and bottom right point (<math alttext="x^{\prime}_{max}" class="ltx_Math" display="inline" id="S2.SS3.p1.9.m3.1"><semantics id="S2.SS3.p1.9.m3.1a"><msubsup id="S2.SS3.p1.9.m3.1.1" xref="S2.SS3.p1.9.m3.1.1.cmml"><mi id="S2.SS3.p1.9.m3.1.1.2.2" xref="S2.SS3.p1.9.m3.1.1.2.2.cmml">x</mi><mrow id="S2.SS3.p1.9.m3.1.1.3" xref="S2.SS3.p1.9.m3.1.1.3.cmml"><mi id="S2.SS3.p1.9.m3.1.1.3.2" xref="S2.SS3.p1.9.m3.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.9.m3.1.1.3.1" xref="S2.SS3.p1.9.m3.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.9.m3.1.1.3.3" xref="S2.SS3.p1.9.m3.1.1.3.3.cmml">a</mi><mo id="S2.SS3.p1.9.m3.1.1.3.1a" xref="S2.SS3.p1.9.m3.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.9.m3.1.1.3.4" xref="S2.SS3.p1.9.m3.1.1.3.4.cmml">x</mi></mrow><mo id="S2.SS3.p1.9.m3.1.1.2.3" xref="S2.SS3.p1.9.m3.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.9.m3.1b"><apply id="S2.SS3.p1.9.m3.1.1.cmml" xref="S2.SS3.p1.9.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.9.m3.1.1.1.cmml" xref="S2.SS3.p1.9.m3.1.1">subscript</csymbol><apply id="S2.SS3.p1.9.m3.1.1.2.cmml" xref="S2.SS3.p1.9.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.9.m3.1.1.2.1.cmml" xref="S2.SS3.p1.9.m3.1.1">superscript</csymbol><ci id="S2.SS3.p1.9.m3.1.1.2.2.cmml" xref="S2.SS3.p1.9.m3.1.1.2.2">𝑥</ci><ci id="S2.SS3.p1.9.m3.1.1.2.3.cmml" xref="S2.SS3.p1.9.m3.1.1.2.3">′</ci></apply><apply id="S2.SS3.p1.9.m3.1.1.3.cmml" xref="S2.SS3.p1.9.m3.1.1.3"><times id="S2.SS3.p1.9.m3.1.1.3.1.cmml" xref="S2.SS3.p1.9.m3.1.1.3.1"></times><ci id="S2.SS3.p1.9.m3.1.1.3.2.cmml" xref="S2.SS3.p1.9.m3.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.9.m3.1.1.3.3.cmml" xref="S2.SS3.p1.9.m3.1.1.3.3">𝑎</ci><ci id="S2.SS3.p1.9.m3.1.1.3.4.cmml" xref="S2.SS3.p1.9.m3.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.9.m3.1c">x^{\prime}_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.9.m3.1d">italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="y^{\prime}_{max}" class="ltx_Math" display="inline" id="S2.SS3.p1.10.m4.1"><semantics id="S2.SS3.p1.10.m4.1a"><msubsup id="S2.SS3.p1.10.m4.1.1" xref="S2.SS3.p1.10.m4.1.1.cmml"><mi id="S2.SS3.p1.10.m4.1.1.2.2" xref="S2.SS3.p1.10.m4.1.1.2.2.cmml">y</mi><mrow id="S2.SS3.p1.10.m4.1.1.3" xref="S2.SS3.p1.10.m4.1.1.3.cmml"><mi id="S2.SS3.p1.10.m4.1.1.3.2" xref="S2.SS3.p1.10.m4.1.1.3.2.cmml">m</mi><mo id="S2.SS3.p1.10.m4.1.1.3.1" xref="S2.SS3.p1.10.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.10.m4.1.1.3.3" xref="S2.SS3.p1.10.m4.1.1.3.3.cmml">a</mi><mo id="S2.SS3.p1.10.m4.1.1.3.1a" xref="S2.SS3.p1.10.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.10.m4.1.1.3.4" xref="S2.SS3.p1.10.m4.1.1.3.4.cmml">x</mi></mrow><mo id="S2.SS3.p1.10.m4.1.1.2.3" xref="S2.SS3.p1.10.m4.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.10.m4.1b"><apply id="S2.SS3.p1.10.m4.1.1.cmml" xref="S2.SS3.p1.10.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.10.m4.1.1.1.cmml" xref="S2.SS3.p1.10.m4.1.1">subscript</csymbol><apply id="S2.SS3.p1.10.m4.1.1.2.cmml" xref="S2.SS3.p1.10.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.10.m4.1.1.2.1.cmml" xref="S2.SS3.p1.10.m4.1.1">superscript</csymbol><ci id="S2.SS3.p1.10.m4.1.1.2.2.cmml" xref="S2.SS3.p1.10.m4.1.1.2.2">𝑦</ci><ci id="S2.SS3.p1.10.m4.1.1.2.3.cmml" xref="S2.SS3.p1.10.m4.1.1.2.3">′</ci></apply><apply id="S2.SS3.p1.10.m4.1.1.3.cmml" xref="S2.SS3.p1.10.m4.1.1.3"><times id="S2.SS3.p1.10.m4.1.1.3.1.cmml" xref="S2.SS3.p1.10.m4.1.1.3.1"></times><ci id="S2.SS3.p1.10.m4.1.1.3.2.cmml" xref="S2.SS3.p1.10.m4.1.1.3.2">𝑚</ci><ci id="S2.SS3.p1.10.m4.1.1.3.3.cmml" xref="S2.SS3.p1.10.m4.1.1.3.3">𝑎</ci><ci id="S2.SS3.p1.10.m4.1.1.3.4.cmml" xref="S2.SS3.p1.10.m4.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.10.m4.1c">y^{\prime}_{max}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.10.m4.1d">italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m italic_a italic_x end_POSTSUBSCRIPT</annotation></semantics></math>) form a new box and randomly generate four points within it.
The range of <math alttext="\mathrm{shift}_{w}" class="ltx_Math" display="inline" id="S2.SS3.p1.11.m5.1"><semantics id="S2.SS3.p1.11.m5.1a"><msub id="S2.SS3.p1.11.m5.1.1" xref="S2.SS3.p1.11.m5.1.1.cmml"><mi id="S2.SS3.p1.11.m5.1.1.2" xref="S2.SS3.p1.11.m5.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.11.m5.1.1.3" xref="S2.SS3.p1.11.m5.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.11.m5.1b"><apply id="S2.SS3.p1.11.m5.1.1.cmml" xref="S2.SS3.p1.11.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.11.m5.1.1.1.cmml" xref="S2.SS3.p1.11.m5.1.1">subscript</csymbol><ci id="S2.SS3.p1.11.m5.1.1.2.cmml" xref="S2.SS3.p1.11.m5.1.1.2">shift</ci><ci id="S2.SS3.p1.11.m5.1.1.3.cmml" xref="S2.SS3.p1.11.m5.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.11.m5.1c">\mathrm{shift}_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.11.m5.1d">roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> is <math alttext="(0,\frac{1}{2}w)" class="ltx_Math" display="inline" id="S2.SS3.p1.12.m6.2"><semantics id="S2.SS3.p1.12.m6.2a"><mrow id="S2.SS3.p1.12.m6.2.2.1" xref="S2.SS3.p1.12.m6.2.2.2.cmml"><mo id="S2.SS3.p1.12.m6.2.2.1.2" stretchy="false" xref="S2.SS3.p1.12.m6.2.2.2.cmml">(</mo><mn id="S2.SS3.p1.12.m6.1.1" xref="S2.SS3.p1.12.m6.1.1.cmml">0</mn><mo id="S2.SS3.p1.12.m6.2.2.1.3" xref="S2.SS3.p1.12.m6.2.2.2.cmml">,</mo><mrow id="S2.SS3.p1.12.m6.2.2.1.1" xref="S2.SS3.p1.12.m6.2.2.1.1.cmml"><mfrac id="S2.SS3.p1.12.m6.2.2.1.1.2" xref="S2.SS3.p1.12.m6.2.2.1.1.2.cmml"><mn id="S2.SS3.p1.12.m6.2.2.1.1.2.2" xref="S2.SS3.p1.12.m6.2.2.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p1.12.m6.2.2.1.1.2.3" xref="S2.SS3.p1.12.m6.2.2.1.1.2.3.cmml">2</mn></mfrac><mo id="S2.SS3.p1.12.m6.2.2.1.1.1" xref="S2.SS3.p1.12.m6.2.2.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p1.12.m6.2.2.1.1.3" xref="S2.SS3.p1.12.m6.2.2.1.1.3.cmml">w</mi></mrow><mo id="S2.SS3.p1.12.m6.2.2.1.4" stretchy="false" xref="S2.SS3.p1.12.m6.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.12.m6.2b"><interval closure="open" id="S2.SS3.p1.12.m6.2.2.2.cmml" xref="S2.SS3.p1.12.m6.2.2.1"><cn id="S2.SS3.p1.12.m6.1.1.cmml" type="integer" xref="S2.SS3.p1.12.m6.1.1">0</cn><apply id="S2.SS3.p1.12.m6.2.2.1.1.cmml" xref="S2.SS3.p1.12.m6.2.2.1.1"><times id="S2.SS3.p1.12.m6.2.2.1.1.1.cmml" xref="S2.SS3.p1.12.m6.2.2.1.1.1"></times><apply id="S2.SS3.p1.12.m6.2.2.1.1.2.cmml" xref="S2.SS3.p1.12.m6.2.2.1.1.2"><divide id="S2.SS3.p1.12.m6.2.2.1.1.2.1.cmml" xref="S2.SS3.p1.12.m6.2.2.1.1.2"></divide><cn id="S2.SS3.p1.12.m6.2.2.1.1.2.2.cmml" type="integer" xref="S2.SS3.p1.12.m6.2.2.1.1.2.2">1</cn><cn id="S2.SS3.p1.12.m6.2.2.1.1.2.3.cmml" type="integer" xref="S2.SS3.p1.12.m6.2.2.1.1.2.3">2</cn></apply><ci id="S2.SS3.p1.12.m6.2.2.1.1.3.cmml" xref="S2.SS3.p1.12.m6.2.2.1.1.3">𝑤</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.12.m6.2c">(0,\frac{1}{2}w)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.12.m6.2d">( 0 , divide start_ARG 1 end_ARG start_ARG 2 end_ARG italic_w )</annotation></semantics></math>, and the range of <math alttext="\mathrm{shift}_{h}" class="ltx_Math" display="inline" id="S2.SS3.p1.13.m7.1"><semantics id="S2.SS3.p1.13.m7.1a"><msub id="S2.SS3.p1.13.m7.1.1" xref="S2.SS3.p1.13.m7.1.1.cmml"><mi id="S2.SS3.p1.13.m7.1.1.2" xref="S2.SS3.p1.13.m7.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.13.m7.1.1.3" xref="S2.SS3.p1.13.m7.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.13.m7.1b"><apply id="S2.SS3.p1.13.m7.1.1.cmml" xref="S2.SS3.p1.13.m7.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.13.m7.1.1.1.cmml" xref="S2.SS3.p1.13.m7.1.1">subscript</csymbol><ci id="S2.SS3.p1.13.m7.1.1.2.cmml" xref="S2.SS3.p1.13.m7.1.1.2">shift</ci><ci id="S2.SS3.p1.13.m7.1.1.3.cmml" xref="S2.SS3.p1.13.m7.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.13.m7.1c">\mathrm{shift}_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.13.m7.1d">roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> is <math alttext="(0,\frac{1}{2}h)" class="ltx_Math" display="inline" id="S2.SS3.p1.14.m8.2"><semantics id="S2.SS3.p1.14.m8.2a"><mrow id="S2.SS3.p1.14.m8.2.2.1" xref="S2.SS3.p1.14.m8.2.2.2.cmml"><mo id="S2.SS3.p1.14.m8.2.2.1.2" stretchy="false" xref="S2.SS3.p1.14.m8.2.2.2.cmml">(</mo><mn id="S2.SS3.p1.14.m8.1.1" xref="S2.SS3.p1.14.m8.1.1.cmml">0</mn><mo id="S2.SS3.p1.14.m8.2.2.1.3" xref="S2.SS3.p1.14.m8.2.2.2.cmml">,</mo><mrow id="S2.SS3.p1.14.m8.2.2.1.1" xref="S2.SS3.p1.14.m8.2.2.1.1.cmml"><mfrac id="S2.SS3.p1.14.m8.2.2.1.1.2" xref="S2.SS3.p1.14.m8.2.2.1.1.2.cmml"><mn id="S2.SS3.p1.14.m8.2.2.1.1.2.2" xref="S2.SS3.p1.14.m8.2.2.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p1.14.m8.2.2.1.1.2.3" xref="S2.SS3.p1.14.m8.2.2.1.1.2.3.cmml">2</mn></mfrac><mo id="S2.SS3.p1.14.m8.2.2.1.1.1" xref="S2.SS3.p1.14.m8.2.2.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p1.14.m8.2.2.1.1.3" xref="S2.SS3.p1.14.m8.2.2.1.1.3.cmml">h</mi></mrow><mo id="S2.SS3.p1.14.m8.2.2.1.4" stretchy="false" xref="S2.SS3.p1.14.m8.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.14.m8.2b"><interval closure="open" id="S2.SS3.p1.14.m8.2.2.2.cmml" xref="S2.SS3.p1.14.m8.2.2.1"><cn id="S2.SS3.p1.14.m8.1.1.cmml" type="integer" xref="S2.SS3.p1.14.m8.1.1">0</cn><apply id="S2.SS3.p1.14.m8.2.2.1.1.cmml" xref="S2.SS3.p1.14.m8.2.2.1.1"><times id="S2.SS3.p1.14.m8.2.2.1.1.1.cmml" xref="S2.SS3.p1.14.m8.2.2.1.1.1"></times><apply id="S2.SS3.p1.14.m8.2.2.1.1.2.cmml" xref="S2.SS3.p1.14.m8.2.2.1.1.2"><divide id="S2.SS3.p1.14.m8.2.2.1.1.2.1.cmml" xref="S2.SS3.p1.14.m8.2.2.1.1.2"></divide><cn id="S2.SS3.p1.14.m8.2.2.1.1.2.2.cmml" type="integer" xref="S2.SS3.p1.14.m8.2.2.1.1.2.2">1</cn><cn id="S2.SS3.p1.14.m8.2.2.1.1.2.3.cmml" type="integer" xref="S2.SS3.p1.14.m8.2.2.1.1.2.3">2</cn></apply><ci id="S2.SS3.p1.14.m8.2.2.1.1.3.cmml" xref="S2.SS3.p1.14.m8.2.2.1.1.3">ℎ</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.14.m8.2c">(0,\frac{1}{2}h)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.14.m8.2d">( 0 , divide start_ARG 1 end_ARG start_ARG 2 end_ARG italic_h )</annotation></semantics></math>, where <math alttext="w" class="ltx_Math" display="inline" id="S2.SS3.p1.15.m9.1"><semantics id="S2.SS3.p1.15.m9.1a"><mi id="S2.SS3.p1.15.m9.1.1" xref="S2.SS3.p1.15.m9.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.15.m9.1b"><ci id="S2.SS3.p1.15.m9.1.1.cmml" xref="S2.SS3.p1.15.m9.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.15.m9.1c">w</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.15.m9.1d">italic_w</annotation></semantics></math> and <math alttext="h" class="ltx_Math" display="inline" id="S2.SS3.p1.16.m10.1"><semantics id="S2.SS3.p1.16.m10.1a"><mi id="S2.SS3.p1.16.m10.1.1" xref="S2.SS3.p1.16.m10.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.16.m10.1b"><ci id="S2.SS3.p1.16.m10.1.1.cmml" xref="S2.SS3.p1.16.m10.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.16.m10.1c">h</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.16.m10.1d">italic_h</annotation></semantics></math> are the width and height of the image, respectively. In this study, we adjusted the range of <math alttext="\mathrm{shift}_{w}" class="ltx_Math" display="inline" id="S2.SS3.p1.17.m11.1"><semantics id="S2.SS3.p1.17.m11.1a"><msub id="S2.SS3.p1.17.m11.1.1" xref="S2.SS3.p1.17.m11.1.1.cmml"><mi id="S2.SS3.p1.17.m11.1.1.2" xref="S2.SS3.p1.17.m11.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.17.m11.1.1.3" xref="S2.SS3.p1.17.m11.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.17.m11.1b"><apply id="S2.SS3.p1.17.m11.1.1.cmml" xref="S2.SS3.p1.17.m11.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.17.m11.1.1.1.cmml" xref="S2.SS3.p1.17.m11.1.1">subscript</csymbol><ci id="S2.SS3.p1.17.m11.1.1.2.cmml" xref="S2.SS3.p1.17.m11.1.1.2">shift</ci><ci id="S2.SS3.p1.17.m11.1.1.3.cmml" xref="S2.SS3.p1.17.m11.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.17.m11.1c">\mathrm{shift}_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.17.m11.1d">roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="(\frac{1}{5}w,\frac{2}{5}w)" class="ltx_Math" display="inline" id="S2.SS3.p1.18.m12.2"><semantics id="S2.SS3.p1.18.m12.2a"><mrow id="S2.SS3.p1.18.m12.2.2.2" xref="S2.SS3.p1.18.m12.2.2.3.cmml"><mo id="S2.SS3.p1.18.m12.2.2.2.3" stretchy="false" xref="S2.SS3.p1.18.m12.2.2.3.cmml">(</mo><mrow id="S2.SS3.p1.18.m12.1.1.1.1" xref="S2.SS3.p1.18.m12.1.1.1.1.cmml"><mfrac id="S2.SS3.p1.18.m12.1.1.1.1.2" xref="S2.SS3.p1.18.m12.1.1.1.1.2.cmml"><mn id="S2.SS3.p1.18.m12.1.1.1.1.2.2" xref="S2.SS3.p1.18.m12.1.1.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p1.18.m12.1.1.1.1.2.3" xref="S2.SS3.p1.18.m12.1.1.1.1.2.3.cmml">5</mn></mfrac><mo id="S2.SS3.p1.18.m12.1.1.1.1.1" xref="S2.SS3.p1.18.m12.1.1.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p1.18.m12.1.1.1.1.3" xref="S2.SS3.p1.18.m12.1.1.1.1.3.cmml">w</mi></mrow><mo id="S2.SS3.p1.18.m12.2.2.2.4" xref="S2.SS3.p1.18.m12.2.2.3.cmml">,</mo><mrow id="S2.SS3.p1.18.m12.2.2.2.2" xref="S2.SS3.p1.18.m12.2.2.2.2.cmml"><mfrac id="S2.SS3.p1.18.m12.2.2.2.2.2" xref="S2.SS3.p1.18.m12.2.2.2.2.2.cmml"><mn id="S2.SS3.p1.18.m12.2.2.2.2.2.2" xref="S2.SS3.p1.18.m12.2.2.2.2.2.2.cmml">2</mn><mn id="S2.SS3.p1.18.m12.2.2.2.2.2.3" xref="S2.SS3.p1.18.m12.2.2.2.2.2.3.cmml">5</mn></mfrac><mo id="S2.SS3.p1.18.m12.2.2.2.2.1" xref="S2.SS3.p1.18.m12.2.2.2.2.1.cmml">⁢</mo><mi id="S2.SS3.p1.18.m12.2.2.2.2.3" xref="S2.SS3.p1.18.m12.2.2.2.2.3.cmml">w</mi></mrow><mo id="S2.SS3.p1.18.m12.2.2.2.5" stretchy="false" xref="S2.SS3.p1.18.m12.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.18.m12.2b"><interval closure="open" id="S2.SS3.p1.18.m12.2.2.3.cmml" xref="S2.SS3.p1.18.m12.2.2.2"><apply id="S2.SS3.p1.18.m12.1.1.1.1.cmml" xref="S2.SS3.p1.18.m12.1.1.1.1"><times id="S2.SS3.p1.18.m12.1.1.1.1.1.cmml" xref="S2.SS3.p1.18.m12.1.1.1.1.1"></times><apply id="S2.SS3.p1.18.m12.1.1.1.1.2.cmml" xref="S2.SS3.p1.18.m12.1.1.1.1.2"><divide id="S2.SS3.p1.18.m12.1.1.1.1.2.1.cmml" xref="S2.SS3.p1.18.m12.1.1.1.1.2"></divide><cn id="S2.SS3.p1.18.m12.1.1.1.1.2.2.cmml" type="integer" xref="S2.SS3.p1.18.m12.1.1.1.1.2.2">1</cn><cn id="S2.SS3.p1.18.m12.1.1.1.1.2.3.cmml" type="integer" xref="S2.SS3.p1.18.m12.1.1.1.1.2.3">5</cn></apply><ci id="S2.SS3.p1.18.m12.1.1.1.1.3.cmml" xref="S2.SS3.p1.18.m12.1.1.1.1.3">𝑤</ci></apply><apply id="S2.SS3.p1.18.m12.2.2.2.2.cmml" xref="S2.SS3.p1.18.m12.2.2.2.2"><times id="S2.SS3.p1.18.m12.2.2.2.2.1.cmml" xref="S2.SS3.p1.18.m12.2.2.2.2.1"></times><apply id="S2.SS3.p1.18.m12.2.2.2.2.2.cmml" xref="S2.SS3.p1.18.m12.2.2.2.2.2"><divide id="S2.SS3.p1.18.m12.2.2.2.2.2.1.cmml" xref="S2.SS3.p1.18.m12.2.2.2.2.2"></divide><cn id="S2.SS3.p1.18.m12.2.2.2.2.2.2.cmml" type="integer" xref="S2.SS3.p1.18.m12.2.2.2.2.2.2">2</cn><cn id="S2.SS3.p1.18.m12.2.2.2.2.2.3.cmml" type="integer" xref="S2.SS3.p1.18.m12.2.2.2.2.2.3">5</cn></apply><ci id="S2.SS3.p1.18.m12.2.2.2.2.3.cmml" xref="S2.SS3.p1.18.m12.2.2.2.2.3">𝑤</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.18.m12.2c">(\frac{1}{5}w,\frac{2}{5}w)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.18.m12.2d">( divide start_ARG 1 end_ARG start_ARG 5 end_ARG italic_w , divide start_ARG 2 end_ARG start_ARG 5 end_ARG italic_w )</annotation></semantics></math> and the range of <math alttext="\mathrm{shift}_{h}" class="ltx_Math" display="inline" id="S2.SS3.p1.19.m13.1"><semantics id="S2.SS3.p1.19.m13.1a"><msub id="S2.SS3.p1.19.m13.1.1" xref="S2.SS3.p1.19.m13.1.1.cmml"><mi id="S2.SS3.p1.19.m13.1.1.2" xref="S2.SS3.p1.19.m13.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.19.m13.1.1.3" xref="S2.SS3.p1.19.m13.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.19.m13.1b"><apply id="S2.SS3.p1.19.m13.1.1.cmml" xref="S2.SS3.p1.19.m13.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.19.m13.1.1.1.cmml" xref="S2.SS3.p1.19.m13.1.1">subscript</csymbol><ci id="S2.SS3.p1.19.m13.1.1.2.cmml" xref="S2.SS3.p1.19.m13.1.1.2">shift</ci><ci id="S2.SS3.p1.19.m13.1.1.3.cmml" xref="S2.SS3.p1.19.m13.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.19.m13.1c">\mathrm{shift}_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.19.m13.1d">roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="(\frac{1}{5}h,\frac{2}{5}h)" class="ltx_Math" display="inline" id="S2.SS3.p1.20.m14.2"><semantics id="S2.SS3.p1.20.m14.2a"><mrow id="S2.SS3.p1.20.m14.2.2.2" xref="S2.SS3.p1.20.m14.2.2.3.cmml"><mo id="S2.SS3.p1.20.m14.2.2.2.3" stretchy="false" xref="S2.SS3.p1.20.m14.2.2.3.cmml">(</mo><mrow id="S2.SS3.p1.20.m14.1.1.1.1" xref="S2.SS3.p1.20.m14.1.1.1.1.cmml"><mfrac id="S2.SS3.p1.20.m14.1.1.1.1.2" xref="S2.SS3.p1.20.m14.1.1.1.1.2.cmml"><mn id="S2.SS3.p1.20.m14.1.1.1.1.2.2" xref="S2.SS3.p1.20.m14.1.1.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p1.20.m14.1.1.1.1.2.3" xref="S2.SS3.p1.20.m14.1.1.1.1.2.3.cmml">5</mn></mfrac><mo id="S2.SS3.p1.20.m14.1.1.1.1.1" xref="S2.SS3.p1.20.m14.1.1.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p1.20.m14.1.1.1.1.3" xref="S2.SS3.p1.20.m14.1.1.1.1.3.cmml">h</mi></mrow><mo id="S2.SS3.p1.20.m14.2.2.2.4" xref="S2.SS3.p1.20.m14.2.2.3.cmml">,</mo><mrow id="S2.SS3.p1.20.m14.2.2.2.2" xref="S2.SS3.p1.20.m14.2.2.2.2.cmml"><mfrac id="S2.SS3.p1.20.m14.2.2.2.2.2" xref="S2.SS3.p1.20.m14.2.2.2.2.2.cmml"><mn id="S2.SS3.p1.20.m14.2.2.2.2.2.2" xref="S2.SS3.p1.20.m14.2.2.2.2.2.2.cmml">2</mn><mn id="S2.SS3.p1.20.m14.2.2.2.2.2.3" xref="S2.SS3.p1.20.m14.2.2.2.2.2.3.cmml">5</mn></mfrac><mo id="S2.SS3.p1.20.m14.2.2.2.2.1" xref="S2.SS3.p1.20.m14.2.2.2.2.1.cmml">⁢</mo><mi id="S2.SS3.p1.20.m14.2.2.2.2.3" xref="S2.SS3.p1.20.m14.2.2.2.2.3.cmml">h</mi></mrow><mo id="S2.SS3.p1.20.m14.2.2.2.5" stretchy="false" xref="S2.SS3.p1.20.m14.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.20.m14.2b"><interval closure="open" id="S2.SS3.p1.20.m14.2.2.3.cmml" xref="S2.SS3.p1.20.m14.2.2.2"><apply id="S2.SS3.p1.20.m14.1.1.1.1.cmml" xref="S2.SS3.p1.20.m14.1.1.1.1"><times id="S2.SS3.p1.20.m14.1.1.1.1.1.cmml" xref="S2.SS3.p1.20.m14.1.1.1.1.1"></times><apply id="S2.SS3.p1.20.m14.1.1.1.1.2.cmml" xref="S2.SS3.p1.20.m14.1.1.1.1.2"><divide id="S2.SS3.p1.20.m14.1.1.1.1.2.1.cmml" xref="S2.SS3.p1.20.m14.1.1.1.1.2"></divide><cn id="S2.SS3.p1.20.m14.1.1.1.1.2.2.cmml" type="integer" xref="S2.SS3.p1.20.m14.1.1.1.1.2.2">1</cn><cn id="S2.SS3.p1.20.m14.1.1.1.1.2.3.cmml" type="integer" xref="S2.SS3.p1.20.m14.1.1.1.1.2.3">5</cn></apply><ci id="S2.SS3.p1.20.m14.1.1.1.1.3.cmml" xref="S2.SS3.p1.20.m14.1.1.1.1.3">ℎ</ci></apply><apply id="S2.SS3.p1.20.m14.2.2.2.2.cmml" xref="S2.SS3.p1.20.m14.2.2.2.2"><times id="S2.SS3.p1.20.m14.2.2.2.2.1.cmml" xref="S2.SS3.p1.20.m14.2.2.2.2.1"></times><apply id="S2.SS3.p1.20.m14.2.2.2.2.2.cmml" xref="S2.SS3.p1.20.m14.2.2.2.2.2"><divide id="S2.SS3.p1.20.m14.2.2.2.2.2.1.cmml" xref="S2.SS3.p1.20.m14.2.2.2.2.2"></divide><cn id="S2.SS3.p1.20.m14.2.2.2.2.2.2.cmml" type="integer" xref="S2.SS3.p1.20.m14.2.2.2.2.2.2">2</cn><cn id="S2.SS3.p1.20.m14.2.2.2.2.2.3.cmml" type="integer" xref="S2.SS3.p1.20.m14.2.2.2.2.2.3">5</cn></apply><ci id="S2.SS3.p1.20.m14.2.2.2.2.3.cmml" xref="S2.SS3.p1.20.m14.2.2.2.2.3">ℎ</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.20.m14.2c">(\frac{1}{5}h,\frac{2}{5}h)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.20.m14.2d">( divide start_ARG 1 end_ARG start_ARG 5 end_ARG italic_h , divide start_ARG 2 end_ARG start_ARG 5 end_ARG italic_h )</annotation></semantics></math> to ensure that the distribution of points is closer to the center. Additionally, <math alttext="\mathrm{shift}_{w}" class="ltx_Math" display="inline" id="S2.SS3.p1.21.m15.1"><semantics id="S2.SS3.p1.21.m15.1a"><msub id="S2.SS3.p1.21.m15.1.1" xref="S2.SS3.p1.21.m15.1.1.cmml"><mi id="S2.SS3.p1.21.m15.1.1.2" xref="S2.SS3.p1.21.m15.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.21.m15.1.1.3" xref="S2.SS3.p1.21.m15.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.21.m15.1b"><apply id="S2.SS3.p1.21.m15.1.1.cmml" xref="S2.SS3.p1.21.m15.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.21.m15.1.1.1.cmml" xref="S2.SS3.p1.21.m15.1.1">subscript</csymbol><ci id="S2.SS3.p1.21.m15.1.1.2.cmml" xref="S2.SS3.p1.21.m15.1.1.2">shift</ci><ci id="S2.SS3.p1.21.m15.1.1.3.cmml" xref="S2.SS3.p1.21.m15.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.21.m15.1c">\mathrm{shift}_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.21.m15.1d">roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathrm{shift}_{h}" class="ltx_Math" display="inline" id="S2.SS3.p1.22.m16.1"><semantics id="S2.SS3.p1.22.m16.1a"><msub id="S2.SS3.p1.22.m16.1.1" xref="S2.SS3.p1.22.m16.1.1.cmml"><mi id="S2.SS3.p1.22.m16.1.1.2" xref="S2.SS3.p1.22.m16.1.1.2.cmml">shift</mi><mi id="S2.SS3.p1.22.m16.1.1.3" xref="S2.SS3.p1.22.m16.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.22.m16.1b"><apply id="S2.SS3.p1.22.m16.1.1.cmml" xref="S2.SS3.p1.22.m16.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.22.m16.1.1.1.cmml" xref="S2.SS3.p1.22.m16.1.1">subscript</csymbol><ci id="S2.SS3.p1.22.m16.1.1.2.cmml" xref="S2.SS3.p1.22.m16.1.1.2">shift</ci><ci id="S2.SS3.p1.22.m16.1.1.3.cmml" xref="S2.SS3.p1.22.m16.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.22.m16.1c">\mathrm{shift}_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.22.m16.1d">roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> are randomly adjusted within their ranges for each sample to achieve better overall performance. We also follow the same points distribution strategy as in the training stage to ensure that the four points are positioned in the four quadrants of the image.</p>
</div>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.4">Then Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S2.F3" title="Figure 3 ‣ 2.2 Proposed method ‣ 2 Method ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the strategy of generating a scribble in the inference stage. Considering the empirical distribution of points, we believe that placing the scribble closer to the edges is more effective than points for capturing contour information. Therefore, we adjusted the range of <math alttext="\mathrm{shift}_{w}" class="ltx_Math" display="inline" id="S2.SS3.p2.1.m1.1"><semantics id="S2.SS3.p2.1.m1.1a"><msub id="S2.SS3.p2.1.m1.1.1" xref="S2.SS3.p2.1.m1.1.1.cmml"><mi id="S2.SS3.p2.1.m1.1.1.2" xref="S2.SS3.p2.1.m1.1.1.2.cmml">shift</mi><mi id="S2.SS3.p2.1.m1.1.1.3" xref="S2.SS3.p2.1.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.1b"><apply id="S2.SS3.p2.1.m1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS3.p2.1.m1.1.1.2.cmml" xref="S2.SS3.p2.1.m1.1.1.2">shift</ci><ci id="S2.SS3.p2.1.m1.1.1.3.cmml" xref="S2.SS3.p2.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.1c">\mathrm{shift}_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.1.m1.1d">roman_shift start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="(\frac{1}{8}w,\frac{1}{6}w)" class="ltx_Math" display="inline" id="S2.SS3.p2.2.m2.2"><semantics id="S2.SS3.p2.2.m2.2a"><mrow id="S2.SS3.p2.2.m2.2.2.2" xref="S2.SS3.p2.2.m2.2.2.3.cmml"><mo id="S2.SS3.p2.2.m2.2.2.2.3" stretchy="false" xref="S2.SS3.p2.2.m2.2.2.3.cmml">(</mo><mrow id="S2.SS3.p2.2.m2.1.1.1.1" xref="S2.SS3.p2.2.m2.1.1.1.1.cmml"><mfrac id="S2.SS3.p2.2.m2.1.1.1.1.2" xref="S2.SS3.p2.2.m2.1.1.1.1.2.cmml"><mn id="S2.SS3.p2.2.m2.1.1.1.1.2.2" xref="S2.SS3.p2.2.m2.1.1.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p2.2.m2.1.1.1.1.2.3" xref="S2.SS3.p2.2.m2.1.1.1.1.2.3.cmml">8</mn></mfrac><mo id="S2.SS3.p2.2.m2.1.1.1.1.1" xref="S2.SS3.p2.2.m2.1.1.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p2.2.m2.1.1.1.1.3" xref="S2.SS3.p2.2.m2.1.1.1.1.3.cmml">w</mi></mrow><mo id="S2.SS3.p2.2.m2.2.2.2.4" xref="S2.SS3.p2.2.m2.2.2.3.cmml">,</mo><mrow id="S2.SS3.p2.2.m2.2.2.2.2" xref="S2.SS3.p2.2.m2.2.2.2.2.cmml"><mfrac id="S2.SS3.p2.2.m2.2.2.2.2.2" xref="S2.SS3.p2.2.m2.2.2.2.2.2.cmml"><mn id="S2.SS3.p2.2.m2.2.2.2.2.2.2" xref="S2.SS3.p2.2.m2.2.2.2.2.2.2.cmml">1</mn><mn id="S2.SS3.p2.2.m2.2.2.2.2.2.3" xref="S2.SS3.p2.2.m2.2.2.2.2.2.3.cmml">6</mn></mfrac><mo id="S2.SS3.p2.2.m2.2.2.2.2.1" xref="S2.SS3.p2.2.m2.2.2.2.2.1.cmml">⁢</mo><mi id="S2.SS3.p2.2.m2.2.2.2.2.3" xref="S2.SS3.p2.2.m2.2.2.2.2.3.cmml">w</mi></mrow><mo id="S2.SS3.p2.2.m2.2.2.2.5" stretchy="false" xref="S2.SS3.p2.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.2b"><interval closure="open" id="S2.SS3.p2.2.m2.2.2.3.cmml" xref="S2.SS3.p2.2.m2.2.2.2"><apply id="S2.SS3.p2.2.m2.1.1.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1"><times id="S2.SS3.p2.2.m2.1.1.1.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1.1"></times><apply id="S2.SS3.p2.2.m2.1.1.1.1.2.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1.2"><divide id="S2.SS3.p2.2.m2.1.1.1.1.2.1.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1.2"></divide><cn id="S2.SS3.p2.2.m2.1.1.1.1.2.2.cmml" type="integer" xref="S2.SS3.p2.2.m2.1.1.1.1.2.2">1</cn><cn id="S2.SS3.p2.2.m2.1.1.1.1.2.3.cmml" type="integer" xref="S2.SS3.p2.2.m2.1.1.1.1.2.3">8</cn></apply><ci id="S2.SS3.p2.2.m2.1.1.1.1.3.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1.3">𝑤</ci></apply><apply id="S2.SS3.p2.2.m2.2.2.2.2.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2"><times id="S2.SS3.p2.2.m2.2.2.2.2.1.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2.1"></times><apply id="S2.SS3.p2.2.m2.2.2.2.2.2.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2.2"><divide id="S2.SS3.p2.2.m2.2.2.2.2.2.1.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2.2"></divide><cn id="S2.SS3.p2.2.m2.2.2.2.2.2.2.cmml" type="integer" xref="S2.SS3.p2.2.m2.2.2.2.2.2.2">1</cn><cn id="S2.SS3.p2.2.m2.2.2.2.2.2.3.cmml" type="integer" xref="S2.SS3.p2.2.m2.2.2.2.2.2.3">6</cn></apply><ci id="S2.SS3.p2.2.m2.2.2.2.2.3.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2.3">𝑤</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.2c">(\frac{1}{8}w,\frac{1}{6}w)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.2.m2.2d">( divide start_ARG 1 end_ARG start_ARG 8 end_ARG italic_w , divide start_ARG 1 end_ARG start_ARG 6 end_ARG italic_w )</annotation></semantics></math> and the range of <math alttext="\mathrm{shift}_{h}" class="ltx_Math" display="inline" id="S2.SS3.p2.3.m3.1"><semantics id="S2.SS3.p2.3.m3.1a"><msub id="S2.SS3.p2.3.m3.1.1" xref="S2.SS3.p2.3.m3.1.1.cmml"><mi id="S2.SS3.p2.3.m3.1.1.2" xref="S2.SS3.p2.3.m3.1.1.2.cmml">shift</mi><mi id="S2.SS3.p2.3.m3.1.1.3" xref="S2.SS3.p2.3.m3.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.3.m3.1b"><apply id="S2.SS3.p2.3.m3.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.3.m3.1.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS3.p2.3.m3.1.1.2.cmml" xref="S2.SS3.p2.3.m3.1.1.2">shift</ci><ci id="S2.SS3.p2.3.m3.1.1.3.cmml" xref="S2.SS3.p2.3.m3.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.3.m3.1c">\mathrm{shift}_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.3.m3.1d">roman_shift start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="(\frac{1}{8}h,\frac{1}{6}h)" class="ltx_Math" display="inline" id="S2.SS3.p2.4.m4.2"><semantics id="S2.SS3.p2.4.m4.2a"><mrow id="S2.SS3.p2.4.m4.2.2.2" xref="S2.SS3.p2.4.m4.2.2.3.cmml"><mo id="S2.SS3.p2.4.m4.2.2.2.3" stretchy="false" xref="S2.SS3.p2.4.m4.2.2.3.cmml">(</mo><mrow id="S2.SS3.p2.4.m4.1.1.1.1" xref="S2.SS3.p2.4.m4.1.1.1.1.cmml"><mfrac id="S2.SS3.p2.4.m4.1.1.1.1.2" xref="S2.SS3.p2.4.m4.1.1.1.1.2.cmml"><mn id="S2.SS3.p2.4.m4.1.1.1.1.2.2" xref="S2.SS3.p2.4.m4.1.1.1.1.2.2.cmml">1</mn><mn id="S2.SS3.p2.4.m4.1.1.1.1.2.3" xref="S2.SS3.p2.4.m4.1.1.1.1.2.3.cmml">8</mn></mfrac><mo id="S2.SS3.p2.4.m4.1.1.1.1.1" xref="S2.SS3.p2.4.m4.1.1.1.1.1.cmml">⁢</mo><mi id="S2.SS3.p2.4.m4.1.1.1.1.3" xref="S2.SS3.p2.4.m4.1.1.1.1.3.cmml">h</mi></mrow><mo id="S2.SS3.p2.4.m4.2.2.2.4" xref="S2.SS3.p2.4.m4.2.2.3.cmml">,</mo><mrow id="S2.SS3.p2.4.m4.2.2.2.2" xref="S2.SS3.p2.4.m4.2.2.2.2.cmml"><mfrac id="S2.SS3.p2.4.m4.2.2.2.2.2" xref="S2.SS3.p2.4.m4.2.2.2.2.2.cmml"><mn id="S2.SS3.p2.4.m4.2.2.2.2.2.2" xref="S2.SS3.p2.4.m4.2.2.2.2.2.2.cmml">1</mn><mn id="S2.SS3.p2.4.m4.2.2.2.2.2.3" xref="S2.SS3.p2.4.m4.2.2.2.2.2.3.cmml">6</mn></mfrac><mo id="S2.SS3.p2.4.m4.2.2.2.2.1" xref="S2.SS3.p2.4.m4.2.2.2.2.1.cmml">⁢</mo><mi id="S2.SS3.p2.4.m4.2.2.2.2.3" xref="S2.SS3.p2.4.m4.2.2.2.2.3.cmml">h</mi></mrow><mo id="S2.SS3.p2.4.m4.2.2.2.5" stretchy="false" xref="S2.SS3.p2.4.m4.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.4.m4.2b"><interval closure="open" id="S2.SS3.p2.4.m4.2.2.3.cmml" xref="S2.SS3.p2.4.m4.2.2.2"><apply id="S2.SS3.p2.4.m4.1.1.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1"><times id="S2.SS3.p2.4.m4.1.1.1.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1.1"></times><apply id="S2.SS3.p2.4.m4.1.1.1.1.2.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1.2"><divide id="S2.SS3.p2.4.m4.1.1.1.1.2.1.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1.2"></divide><cn id="S2.SS3.p2.4.m4.1.1.1.1.2.2.cmml" type="integer" xref="S2.SS3.p2.4.m4.1.1.1.1.2.2">1</cn><cn id="S2.SS3.p2.4.m4.1.1.1.1.2.3.cmml" type="integer" xref="S2.SS3.p2.4.m4.1.1.1.1.2.3">8</cn></apply><ci id="S2.SS3.p2.4.m4.1.1.1.1.3.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1.3">ℎ</ci></apply><apply id="S2.SS3.p2.4.m4.2.2.2.2.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2"><times id="S2.SS3.p2.4.m4.2.2.2.2.1.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2.1"></times><apply id="S2.SS3.p2.4.m4.2.2.2.2.2.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2.2"><divide id="S2.SS3.p2.4.m4.2.2.2.2.2.1.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2.2"></divide><cn id="S2.SS3.p2.4.m4.2.2.2.2.2.2.cmml" type="integer" xref="S2.SS3.p2.4.m4.2.2.2.2.2.2">1</cn><cn id="S2.SS3.p2.4.m4.2.2.2.2.2.3.cmml" type="integer" xref="S2.SS3.p2.4.m4.2.2.2.2.2.3">6</cn></apply><ci id="S2.SS3.p2.4.m4.2.2.2.2.3.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2.3">ℎ</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.4.m4.2c">(\frac{1}{8}h,\frac{1}{6}h)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.4.m4.2d">( divide start_ARG 1 end_ARG start_ARG 8 end_ARG italic_h , divide start_ARG 1 end_ARG start_ARG 6 end_ARG italic_h )</annotation></semantics></math> to expand the area for generating a scribble. Note that we generate the scribble in non-zero areas, based on the prior knowledge that people typically avoid drawing scribble in regions with zero pixel values.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Dataset and evaluation metrics</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">Training and validation dataset</span>
We only use the provided challenge dataset, without additional public datasets. This dataset includes 11 modalities: CT, MRI, PET, X-ray, ultrasound, mammography, OCT, endoscopy, fundus, dermoscopy, and microscopy, totaling more than one million 2D image-mask pairs.

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.2">Testing dataset</span>
The testing set in this challenge is hidden, with all testing images newly collected from 20+ different institutions worldwide.

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.3">Evaluation metrics</span>
The evaluation metrics are the Dice Similarity Coefficient (DSC) and Normalized Surface Dice (NSD) for accuracy, and Docker container running time for efficiency. These metrics together determine the ranking. Note that only mean results are available. The evaluation platform environment is presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3.T1" title="Table 1 ‣ 3.1 Dataset and evaluation metrics ‣ 3 Experiments ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Evaluation Platform environment settings.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.1.1">System</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.1.2">Ubuntu 20.04 Desktop</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.2.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.2.1.1">CPU</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.2.1.2">Intel Xeon(R) W-2133 @3.60GHz</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.3.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.3.2.1">RAM</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.3.2.2">8GB</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4.3">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T1.1.4.3.1">Docker version</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T1.1.4.3.2">20.10.13</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Implementation details</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.1">Training environment settings</span>
The training environments are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3.T2" title="Table 2 ‣ 3.2 Implementation details ‣ 3 Experiments ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Training environmentn settings.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T2.1.1.1.1">System</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T2.1.1.1.2">Red Hat 9</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.2.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.2.1.1">CPU</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.2.1.2">AMD EPYC 7513 @2.60GHz</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.3.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.3.2.1">RAM</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.3.2.2">256GB</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.4.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.4.3.1">GPU (number and type)</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.4.3.2">One NVIDIA A100 40G</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.5.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.5.4.1">CUDA version</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.5.4.2">12.4</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.6.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.6.5.1">Programming language</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.6.5.2">Python 3.10</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.7.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.7.6.1">Deep learning framework</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.7.6.2">PyTorch 2.2.2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.8.7">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T2.1.8.7.1">Specific dependencies</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T2.1.8.7.2">Monai, Einops, Timm and Transformers</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Training protocols</span>
Our training strategy consists of two stages. In the first stage, we utilize knowledge distillation to transfer information from the large ViT-B image encoder to the tiny Swin Transformer as our image encoder. To note, we pre-saved the output image embeddings from the ViT-B encoder to speed up the distillation process. In the second stage, we take the pre-trained image encoder from the first stage and proceed to train the entire model. The training details of these two stages are listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S3.T3" title="Table 3 ‣ 3.2 Implementation details ‣ 3 Experiments ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">3</span></a>.

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.2">Data sampling strategy</span>
During the training, we randomly sample image cases from the dataset. If the case is 3D, such as a CT, MR, or PET scan, we randomly sample a slice from the 3D image. If the case is 2D, such as an X-ray or microscopy image, we use the image directly. This strategy significantly reduces training time and ensures a more balanced distribution of training samples across different modalities.

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.3">Data augmentation</span>
We apply vertical and horizontal flips to the image, each with a 50% probability.

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.4">Inference environment settings</span>
During the inference stage, the running environment differs from the training stage. A docker container is built, starting with a ’python:3.10-slim’ image and installing the CPU version of PyTorch 2.2.2. All other aspects still remain same with the training stage.</p>
</div>
<figure class="ltx_table" id="S3.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Training protocols of the first stage and the second stage.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T3.4.4">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.4.4.5.1">
<td class="ltx_td ltx_border_r ltx_border_t" id="S3.T3.4.4.5.1.1"></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.5.1.2">The first stage</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.5.1.3">The second stage</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.6.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.6.2.1">Pre-trained Model</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.6.2.2">MedSAM ViT-B</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.6.2.3">Tiny Swin Transformer</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.7.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.7.3.1">Batch size</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.7.3.2">64</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.7.3.3">16</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.4.5">Patch size</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.2.2.2.2">256<math alttext="\times" class="ltx_Math" display="inline" id="S3.T3.1.1.1.1.m1.1"><semantics id="S3.T3.1.1.1.1.m1.1a"><mo id="S3.T3.1.1.1.1.m1.1.1" xref="S3.T3.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.1.m1.1b"><times id="S3.T3.1.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S3.T3.1.1.1.1.m1.1d">×</annotation></semantics></math>256<math alttext="\times" class="ltx_Math" display="inline" id="S3.T3.2.2.2.2.m2.1"><semantics id="S3.T3.2.2.2.2.m2.1a"><mo id="S3.T3.2.2.2.2.m2.1.1" xref="S3.T3.2.2.2.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.2.m2.1b"><times id="S3.T3.2.2.2.2.m2.1.1.cmml" xref="S3.T3.2.2.2.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.2.m2.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S3.T3.2.2.2.2.m2.1d">×</annotation></semantics></math>3</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.4.4">256<math alttext="\times" class="ltx_Math" display="inline" id="S3.T3.3.3.3.3.m1.1"><semantics id="S3.T3.3.3.3.3.m1.1a"><mo id="S3.T3.3.3.3.3.m1.1.1" xref="S3.T3.3.3.3.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.3.m1.1b"><times id="S3.T3.3.3.3.3.m1.1.1.cmml" xref="S3.T3.3.3.3.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.3.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S3.T3.3.3.3.3.m1.1d">×</annotation></semantics></math>256<math alttext="\times" class="ltx_Math" display="inline" id="S3.T3.4.4.4.4.m2.1"><semantics id="S3.T3.4.4.4.4.m2.1a"><mo id="S3.T3.4.4.4.4.m2.1.1" xref="S3.T3.4.4.4.4.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T3.4.4.4.4.m2.1b"><times id="S3.T3.4.4.4.4.m2.1.1.cmml" xref="S3.T3.4.4.4.4.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.4.4.4.m2.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S3.T3.4.4.4.4.m2.1d">×</annotation></semantics></math>3</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.8.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.8.4.1">Total epochs</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.8.4.2">10</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.8.4.3">25</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.9.5">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.9.5.1">Optimizer</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.9.5.2">AdamW</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.9.5.3">AdamW</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.10.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.10.6.1">Initial learning rate (lr)</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.10.6.2">2e-4</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.10.6.3">2e-4</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.11.7">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.11.7.1">Lr decay schedule</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.11.7.2">ReducedLROnPlateau</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.11.7.3">ReducedLROnPlateau</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.12.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.12.8.1">Training time</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.12.8.2">60.8 hours</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.12.8.3">46 hours</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.13.9">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.13.9.1">Loss function</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.13.9.2">L1 Loss</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.13.9.3">MSE Loss+Dice Loss+BCE Loss</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.14.10">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.14.10.1">Number of model parameters</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.4.4.14.10.2">10.51M</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.4.14.10.3">36.77M</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.15.11">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S3.T3.4.4.15.11.1">Number of flops</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S3.T3.4.4.15.11.2">47.70G</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" id="S3.T3.4.4.15.11.3">55.20G</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Results and discussion</h2>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Comparison between LiteMedSAM and our proposed Swin-LiteMedSAM.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.1.1.1.1" rowspan="2"><span class="ltx_text" id="S4.T4.1.1.1.1.1">Target</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2" id="S4.T4.1.1.1.2">LiteMedSAM</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="S4.T4.1.1.1.3">Swin-LiteMedSAM</th>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.2.2.1">DSC (%)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T4.1.2.2.2">NSD (%)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.2.2.3">DSC (%)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.2.2.4">NSD (%)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.1.3.1.1">CT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.1.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.1.2.1">92.26</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.1.3.1.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.1.3.1">94.90</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.1.4">91.46</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.1.5">94.70</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.4.2.1">MR</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.2.2.1">89.63</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.4.2.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.2.3.1">93.37</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.2.4">87.12</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.2.5">91.19</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.5.3.1">PET</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.3.2">51.58</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.5.3.3">25.17</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.3.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.3.4.1">69.43</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.5.3.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.3.5.1">56.99</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.6.4.1">US</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.4.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.4.2.1">94.77</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.6.4.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.4.3.1">96.81</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.4.4">85.57</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.4.5">90.63</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.7.5.1">X-ray</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.7.5.2">81.05</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.7.5.3">85.35</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.7.5.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.5.4.1">83.98</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.7.5.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.5.5.1">88.88</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.8.6.1">Dermoscopy</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.8.6.2">92.47</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.8.6.3">93.85</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.8.6.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.6.4.1">94.20</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.8.6.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.6.5.1">95.65</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.9.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.9.7.1">Endoscopy</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.9.7.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.9.7.2.1">96.04</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.9.7.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.9.7.3.1">98.11</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.9.7.4">95.29</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.9.7.5">97.63</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.10.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.10.8.1">Fundus</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.10.8.2">94.81</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.10.8.3">96.41</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.10.8.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.10.8.4.1">95.83</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.10.8.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.10.8.5.1">97.39</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.11.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.11.9.1">Microscopy</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.11.9.2">61.63</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.11.9.3">65.38</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.11.9.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.11.9.4.1">77.45</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.11.9.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.11.9.5.1">83.91</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.12.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S4.T4.1.12.10.1">Average</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T4.1.12.10.2">83.81</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T4.1.12.10.3">83.26</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T4.1.12.10.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.12.10.4.1">86.70</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T4.1.12.10.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.12.10.5.1">88.55</span></td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>Ablation study of the proposed method. The check mark shows including the module in the method. Here, Swin-T indicates tiny Swin Transformer.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T5.10">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.10.11.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.10.11.1.1">Swin-T</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.10.11.1.2">Skip connection</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.10.11.1.3">Box-based points</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.10.11.1.4">Box-based scribble</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.10.11.1.5">DSC (%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.10.11.1.6">NSD (%)</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.1.1"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.m1.1a"><mi id="S4.T5.1.1.1.m1.1.1" mathvariant="normal" xref="S4.T5.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.T5.1.1.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.T5.1.1.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.T5.1.1.4"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.5">85.79</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.6">86.75</td>
</tr>
<tr class="ltx_tr" id="S4.T5.3.3">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.2.2.1"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.2.2.1.m1.1"><semantics id="S4.T5.2.2.1.m1.1a"><mi id="S4.T5.2.2.1.m1.1.1" mathvariant="normal" xref="S4.T5.2.2.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.1.m1.1b"><ci id="S4.T5.2.2.1.m1.1.1.cmml" xref="S4.T5.2.2.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.1.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.2.2.1.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.3.3.2"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.3.3.2.m1.1"><semantics id="S4.T5.3.3.2.m1.1a"><mi id="S4.T5.3.3.2.m1.1.1" mathvariant="normal" xref="S4.T5.3.3.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.3.3.2.m1.1b"><ci id="S4.T5.3.3.2.m1.1.1.cmml" xref="S4.T5.3.3.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.3.2.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.3.3.2.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_border_r" id="S4.T5.3.3.3"></td>
<td class="ltx_td ltx_border_r" id="S4.T5.3.3.4"></td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.5">86.48</td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.6">87.74</td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.4.4.1"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.4.4.1.m1.1"><semantics id="S4.T5.4.4.1.m1.1a"><mi id="S4.T5.4.4.1.m1.1.1" mathvariant="normal" xref="S4.T5.4.4.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.4.4.1.m1.1b"><ci id="S4.T5.4.4.1.m1.1.1.cmml" xref="S4.T5.4.4.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.4.1.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.4.4.1.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.5.5.2"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.5.5.2.m1.1"><semantics id="S4.T5.5.5.2.m1.1a"><mi id="S4.T5.5.5.2.m1.1.1" mathvariant="normal" xref="S4.T5.5.5.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.5.5.2.m1.1b"><ci id="S4.T5.5.5.2.m1.1.1.cmml" xref="S4.T5.5.5.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.5.5.2.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.5.5.2.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.6.6.3"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.6.6.3.m1.1"><semantics id="S4.T5.6.6.3.m1.1a"><mi id="S4.T5.6.6.3.m1.1.1" mathvariant="normal" xref="S4.T5.6.6.3.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.6.6.3.m1.1b"><ci id="S4.T5.6.6.3.m1.1.1.cmml" xref="S4.T5.6.6.3.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.6.6.3.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.6.6.3.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_border_r" id="S4.T5.6.6.4"></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.5">86.22</td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.6">87.79</td>
</tr>
<tr class="ltx_tr" id="S4.T5.10.10">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T5.7.7.1"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.7.7.1.m1.1"><semantics id="S4.T5.7.7.1.m1.1a"><mi id="S4.T5.7.7.1.m1.1.1" mathvariant="normal" xref="S4.T5.7.7.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.7.7.1.m1.1b"><ci id="S4.T5.7.7.1.m1.1.1.cmml" xref="S4.T5.7.7.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.7.7.1.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.7.7.1.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T5.8.8.2"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.8.8.2.m1.1"><semantics id="S4.T5.8.8.2.m1.1a"><mi id="S4.T5.8.8.2.m1.1.1" mathvariant="normal" xref="S4.T5.8.8.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.8.8.2.m1.1b"><ci id="S4.T5.8.8.2.m1.1.1.cmml" xref="S4.T5.8.8.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.8.8.2.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.8.8.2.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T5.9.9.3"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.9.9.3.m1.1"><semantics id="S4.T5.9.9.3.m1.1a"><mi id="S4.T5.9.9.3.m1.1.1" mathvariant="normal" xref="S4.T5.9.9.3.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.9.9.3.m1.1b"><ci id="S4.T5.9.9.3.m1.1.1.cmml" xref="S4.T5.9.9.3.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.9.9.3.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.9.9.3.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T5.10.10.4"><math alttext="\checkmark" class="ltx_Math" display="inline" id="S4.T5.10.10.4.m1.1"><semantics id="S4.T5.10.10.4.m1.1a"><mi id="S4.T5.10.10.4.m1.1.1" mathvariant="normal" xref="S4.T5.10.10.4.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.10.10.4.m1.1b"><ci id="S4.T5.10.10.4.m1.1.1.cmml" xref="S4.T5.10.10.4.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.10.10.4.m1.1c">\checkmark</annotation><annotation encoding="application/x-llamapun" id="S4.T5.10.10.4.m1.1d">✓</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T5.10.10.5"><span class="ltx_text ltx_font_bold" id="S4.T5.10.10.5.1">86.70</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T5.10.10.6"><span class="ltx_text ltx_font_bold" id="S4.T5.10.10.6.1">88.55</span></td>
</tr>
</tbody>
</table>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Quantitative results on validation set</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.T4" title="Table 4 ‣ 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">4</span></a> shows that Swin-LiteMedSAM achieves higher average DSC (86.70%) and NSD (88.55%) scores compared to LiteMedSAM, which recorded 83.81% for DSC and 83.26% for NSD. In general, Swin-LiteMedSAM achieved a more balanced and comprehensive performance across the nine modalities compared to LiteMedSAM. It showed significant improvement in PET and Microscopy while maintaining strong performance in most modalities. However, the model experienced a noticeable drop in DSC and NSD scores for the US modality.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">Then Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.T5" title="Table 5 ‣ 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">5</span></a> further highlights the importance of each component in our proposed method, particularly the inclusion of skip connections, as well as both box-based points and scribble, in achieving superior segmentation performance. Here, the introduction of two additional box-based prompts provide limited improvement. This could be due to two factors. First, some prompts may have been placed in sub-optimal positions due to the random way, negatively impacting overall performance. Second, inadequate training can be a contributing factor. Although the data sampling strategy helped balance the distribution of modalities and accelerated the training process, it significantly reduced the number of training samples. This reduction can hinder the effective training of the prompts, which require a high volume of diverse cases to perform optimally.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Quantitative results on testing set</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.4">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.T6" title="Table 6 ‣ 4.2 Quantitative results on testing set ‣ 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">6</span></a>, our proposed method significantly outperforms LiteMedSAM across most imaging modalities in terms of DSC and NSD, while also reducing runtime of all the modalities. Specifically, for CT images, our method achieved an absolute DSC improvement of <math alttext="17.15\%" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">17.15</mn><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1">percent</csymbol><cn id="S4.SS2.p1.1.m1.1.1.2.cmml" type="float" xref="S4.SS2.p1.1.m1.1.1.2">17.15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">17.15\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">17.15 %</annotation></semantics></math>, corresponding to a relative improvement of <math alttext="30.76\%" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mn id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">30.76</mn><mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1">percent</csymbol><cn id="S4.SS2.p1.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.p1.2.m2.1.1.2">30.76</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">30.76\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">30.76 %</annotation></semantics></math>, and an NSD increase of <math alttext="18.51\%" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mn id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">18.51</mn><mo id="S4.SS2.p1.3.m3.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1">percent</csymbol><cn id="S4.SS2.p1.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.p1.3.m3.1.1.2">18.51</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">18.51\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">18.51 %</annotation></semantics></math>, corresponding to a relative improvement of <math alttext="31.75\%" class="ltx_Math" display="inline" id="S4.SS2.p1.4.m4.1"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mn id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">31.75</mn><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><csymbol cd="latexml" id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1">percent</csymbol><cn id="S4.SS2.p1.4.m4.1.1.2.cmml" type="float" xref="S4.SS2.p1.4.m4.1.1.2">31.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">31.75\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.4.m4.1d">31.75 %</annotation></semantics></math>, compared to LiteMedSAM, also with a faster runtime. For PET and X-ray modalities, our method demonstrated competitive DSC and NSD results. In PET, it achieved a marginal NSD improvement while maintaining similar DSC performance, and significantly reduced runtime. For X-ray, despite a slightly lower DSC compared to LiteMedSAM, the difference is minimal, demonstrating a still competitive result.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.4">Furthermore, we observed significant instability in the original LiteMedSAM. Taking CT modality as an example, LiteMedSAM performed exceptionally well on the validation set, surpassing Swin-LiteMedSAM. However, when evaluated on the testing set, performance of CT experienced a significant performance drop, with DSC falling from <math alttext="92.26\%" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mn id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">92.26</mn><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1">percent</csymbol><cn id="S4.SS2.p2.1.m1.1.1.2.cmml" type="float" xref="S4.SS2.p2.1.m1.1.1.2">92.26</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">92.26\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">92.26 %</annotation></semantics></math> to <math alttext="55.75\%" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1"><semantics id="S4.SS2.p2.2.m2.1a"><mrow id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mn id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">55.75</mn><mo id="S4.SS2.p2.2.m2.1.1.1" xref="S4.SS2.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1.1">percent</csymbol><cn id="S4.SS2.p2.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.p2.2.m2.1.1.2">55.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">55.75\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.1d">55.75 %</annotation></semantics></math> and NSD dropping from <math alttext="94.90\%" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.1"><semantics id="S4.SS2.p2.3.m3.1a"><mrow id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mn id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">94.90</mn><mo id="S4.SS2.p2.3.m3.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1">percent</csymbol><cn id="S4.SS2.p2.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.p2.3.m3.1.1.2">94.90</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">94.90\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m3.1d">94.90 %</annotation></semantics></math> to <math alttext="58.48\%" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1"><semantics id="S4.SS2.p2.4.m4.1a"><mrow id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mn id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">58.48</mn><mo id="S4.SS2.p2.4.m4.1.1.1" xref="S4.SS2.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><csymbol cd="latexml" id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1.1">percent</csymbol><cn id="S4.SS2.p2.4.m4.1.1.2.cmml" type="float" xref="S4.SS2.p2.4.m4.1.1.2">58.48</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">58.48\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m4.1d">58.48 %</annotation></semantics></math>. Although Swin-LiteMedSAM encounters a similar issue with the CT modality, the performance drop is much less severe. Furthermore, this issue is observed in other modalities as well, further approving that the Swin-LiteMedSAM model offers better stability and generalization, which are essential for the real world applications.</p>
</div>
<figure class="ltx_table" id="S4.T6">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6: </span>Quantitative evaluation results for final testing set</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T6.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T6.1.1.1.1" rowspan="2"><span class="ltx_text" id="S4.T6.1.1.1.1.1">Target</span></th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S4.T6.1.1.1.2">LiteMedSAM<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>The model weights and results are released by the challenge organizer.</span></span></span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="S4.T6.1.1.1.3">Proposed Swin-LiteMedSAM</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.2.2.1">DSC (%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.2.2.2">NSD (%)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T6.1.2.2.3">Runtime (s)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.2.2.4">DSC (%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.2.2.5">NSD (%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.2.2.6">Runtime (s)</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T6.1.3.3.1">CT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.3.3.2">55.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.3.3.3">58.48</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T6.1.3.3.4">32.68</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.3.3.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.3.3.5.1">72.90</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.3.3.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.3.3.6.1">76.99</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.3.3.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.3.3.7.1">25.14</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.4.4.1">MR</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.4.2">64.80</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.4.3">62.75</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.4.4.4">15.91</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.4.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.4.4.5.1">68.61</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.4.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.4.4.6.1">70.13</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.4.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.4.4.7.1">13.44</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.5.5.1">PET</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.5.2"><span class="ltx_text ltx_font_bold" id="S4.T6.1.5.5.2.1">76.94</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.5.3">66.98</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.5.5.4">12.99</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.5.5">76.50</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.5.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.5.5.6.1">67.63</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.5.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.5.5.7.1">10.52</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.6.6.1">US</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.6.2">85.24</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.6.3">89.73</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.6.6.4">8.27</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.6.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.6.6.5.1">88.01</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.6.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.6.6.6.1">92.43</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.6.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.6.6.7.1">7.58</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.7.7.1">X-ray</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.7.7.2"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.7.2.1">85.51</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.7.7.3"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.7.3.1">94.40</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.7.7.4">8.79</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.7.7.5">84.58</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.7.7.6">94.32</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.7.7.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.7.7.1">6.89</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.8.8.1">Endoscopy</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.8.8.2">94.41</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.8.8.3">96.95</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.8.8.4">13.85</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.8.8.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.8.8.5.1">94.58</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.8.8.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.8.8.6.1">97.17</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.8.8.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.8.8.7.1">11.36</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.9.9.1">Fundus</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.9.9.2"><span class="ltx_text ltx_font_bold" id="S4.T6.1.9.9.2.1">87.47</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.9.9.3"><span class="ltx_text ltx_font_bold" id="S4.T6.1.9.9.3.1">89.58</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.9.9.4">11.72</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.9.9.5">80.71</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.9.9.6">82.93</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.9.9.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.9.9.7.1">9.85</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.10.10.1">Microscopy</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.10.10.2">84.36</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.10.10.3">86.15</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.10.10.4">11.85</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.10.10.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.10.10.5.1">87.08</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.10.10.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.10.10.6.1">88.94</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.10.10.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.10.10.7.1">10.48</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T6.1.11.11.1">OCT</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.11.11.2">73.31</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.11.11.3">80.20</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.1.11.11.4">8.39</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.11.11.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.11.11.5.1">84.39</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.11.11.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.11.11.6.1">90.97</span></td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.11.11.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.11.11.7.1">6.87</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S4.T6.1.12.12.1">Average</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T6.1.12.12.2">78.64</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T6.1.12.12.3">80.58</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T6.1.12.12.4">13.99</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T6.1.12.12.5"><span class="ltx_text ltx_font_bold" id="S4.T6.1.12.12.5.1">81.93</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T6.1.12.12.6"><span class="ltx_text ltx_font_bold" id="S4.T6.1.12.12.6.1">84.61</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T6.1.12.12.7"><span class="ltx_text ltx_font_bold" id="S4.T6.1.12.12.7.1">11.01</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Qualitative results on external public dataset</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">Since the ground truth for the challenge validation and testing set is not available, we select SegRap2023
<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib7" title="">7</a>]</cite>, a public head and neck CT dataset containing annotations for multiple organs, to verify the model’s performance.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">As depicted in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#S4.F4" title="Figure 4 ‣ 4.3 Qualitative results on external public dataset ‣ 4 Results and discussion ‣ Swin-LiteMedSAM: A Lightweight Box-Based Segment Anything Model for Large-Scale Medical Image Datasets"><span class="ltx_text ltx_ref_tag">4</span></a>, we showcase three representative examples from SegRap2023 to visually check our model’s performance.
In the first case, our model demonstrates strong performance in brain segmentation. This is primarily attributed to the brain’s large size and distinct contrast with surrounding tissues.
Moving to the second case, we observed that our model maintains good performance even with smaller targets such as the spinal cord, esophagus, and trachea.
However, in the third case, our model’s performance falls short compared to the ground truth. The main issue arises from the ambiguous semantics in medical images. For instance, when aiming to segment the oral cavity, our method only identifies the teeth. This discrepancy stems from the fact that the box prompt for the oral cavity can also be interpreted as segmenting teeth. It is hard to provide a more precise prompt in this case to specify the intended target for segmentation.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="672" id="S4.F4.g1" src="extracted/5847717/imgs/Visualization.png" width="648"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Visual comparison between ground truth and our proposed method, with each row representing one case from SegRap2023. (a), (b), and (c) represent the original image with box prompts, ground truth, and the prediction results of our proposed model, respectively.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Limitation and future work</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">One main limitation of our method for this challenge is that our model is using 2D images for training and validation, whereas medical imaging data, such as CT, MRI, and PET, are typically in 3D format. Currently, we process these 3D images by making predictions on individual 2D slices, which does not fully utilize the 3D anatomical information and might hinder the performance improvement. The key issue is that the prompts input to the model are generally based on 2D information, such as bounding boxes and points. In the future, we aim to explore how to provide effective prompt information in 3D and adapt the model to handle 3D images directly.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">Additionally, we applied certain manual rules to control the distribution of box-based points and the scribble, which is impossible to find the optimal setting and can easily do harm to the overall performance if not set properly. Furthermore, due to variations in medical modalities and the shapes of segmentation targets, the distribution of points and scribble should be adjusted accordingly. Therefore, developing a learning-based method for generating box-based points and scribble would be highly beneficial and could further enhance the model’s performance.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we introduce Swin-LiteMedSAM, a lightweight box-based segment anything model. Our model utilizes the tiny Swin Transformer as image encoder, enabling it to extracts high-level features more effectively. Additionally, the introduction of box-based points and box-based scribble provide more spatial cues, which improve segmentation accuracy without substantially increasing computational costs or demanding extensive manual annotation. Overall, our approach achieves stronger and more stable performance across different medical imaging modalities while maintaining fast inference speed, outperforming the LiteMedSAM model.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS0.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.0.1 </span>Acknowledgements</h4>
<div class="ltx_para" id="S5.SS0.SSS1.p1">
<p class="ltx_p" id="S5.SS0.SSS1.p1.1">This study utilized computing resources from the Academic Leiden Interdisciplinary Cluster Environment (ALICE) provided by Leiden University. We thank all the data owners for making the medical images publicly available and CodaLab <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.07172v1#bib.bib12" title="">12</a>]</cite> for hosting the challenge platform. This work was supported by the China Scholarship Council (No. 202207720085) and the project ROBUST: Trustworthy AI-based Systems for Sustainable Growth with
project number KICH3.LTP.20.006, which is (partly)
financed by the Dutch Research Council (NWO), Philips Research, and the Dutch Ministry of Economic Affairs
and Climate Policy (EZK) under the program LTP KIC
2020-2023.</p>
</div>
</section>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Cai, H., Gan, C., Han, S.: Efficientvit: Enhanced linear attention for high-resolution low-computation visual recognition. arxiv 2022. arXiv preprint arXiv:2205.14756

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Cheng, D., Qin, Z., Jiang, Z., Zhang, S., Lao, Q., Li, K.: Sam on medical images: A comprehensive study on three prompt modes. arXiv preprint arXiv:2305.00035 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Dosovitskiy, A., Beyer, L., Kolesnikov, A., Weissenborn, D., Zhai, X., Unterthiner, T., Dehghani, M., Minderer, M., Heigold, G., Gelly, S., et al.: An image is worth 16x16 words: Transformers for image recognition at scale. arXiv preprint arXiv:2010.11929 (2020)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
He, K., Chen, X., Xie, S., Li, Y., Dollár, P., Girshick, R.: Masked autoencoders are scalable vision learners. In: Proceedings of the IEEE/CVF conference on computer vision and pattern recognition. pp. 16000–16009 (2022)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Kirillov, A., Mintun, E., Ravi, N., Mao, H., Rolland, C., Gustafson, L., Xiao, T., Whitehead, S., Berg, A.C., Lo, W.Y., Dollar, P., Girshick, R.: Segment anything. In: Proceedings of the International Conference on Computer Vision. pp. 4015–4026 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Liu, Z., Lin, Y., Cao, Y., Hu, H., Wei, Y., Zhang, Z., Lin, S., Guo, B.: Swin transformer: Hierarchical vision transformer using shifted windows. In: Proceedings of the IEEE/CVF international conference on computer vision. pp. 10012–10022 (2021)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Luo, X., Fu, J., Zhong, Y., Liu, S., Han, B., Astaraki, M., Bendazzoli, S., Toma-Dasu, I., Ye, Y., Chen, Z., et al.: Segrap2023: A benchmark of organs-at-risk and gross tumor volume segmentation for radiotherapy planning of nasopharyngeal carcinoma. arXiv preprint arXiv:2312.09576 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Ma, J., He, Y., Li, F., Han, L., You, C., Wang, B.: Segment anything in medical images. Nature Communications <span class="ltx_text ltx_font_bold" id="bib.bib8.1.1">15</span>(1),  654 (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Tan, M., Le, Q.: Efficientnetv2: Smaller models and faster training. In: International conference on machine learning. pp. 10096–10106. PMLR (2021)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Wu, J., Fu, R., Fang, H., Liu, Y., Wang, Z., Xu, Y., Jin, Y., Arbel, T.: Medical sam adapter: Adapting segment anything model for medical image segmentation. arXiv preprint arXiv:2304.12620 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Xiong, Y., Varadarajan, B., Wu, L., Xiang, X., Xiao, F., Zhu, C., Dai, X., Wang, D., Sun, F., Iandola, F., et al.: Efficientsam: Leveraged masked image pretraining for efficient segment anything. arXiv preprint arXiv:2312.00863 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Xu, Z., Escalera, S., Pavão, A., Richard, M., Tu, W.W., Yao, Q., Zhao, H., Guyon, I.: Codabench: Flexible, easy-to-use, and reproducible meta-benchmark platform. Patterns <span class="ltx_text ltx_font_bold" id="bib.bib12.1.1">3</span>(7), 100543 (2022)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Zhang, C., Han, D., Qiao, Y., Kim, J.U., Bae, S.H., Lee, S., Hong, C.S.: Faster segment anything: Towards lightweight sam for mobile applications. arXiv preprint arXiv:2306.14289 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Zhang, Z., Cai, H., Han, S.: Efficientvit-sam: Accelerated segment anything model without performance loss. In: CVPR Workshop: Efficient Large Vision Models (2024)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Zhao, X., Ding, W., An, Y., Du, Y., Yu, T., Li, M., Tang, M., Wang, J.: Fast segment anything. arXiv preprint arXiv:2306.12156 (2023)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Zou, X., Yang, J., Zhang, H., Li, F., Li, L., Wang, J., Wang, L., Gao, J., Lee, Y.J.: Segment everything everywhere all at once. Advances in Neural Information Processing Systems <span class="ltx_text ltx_font_bold" id="bib.bib16.1.1">36</span> (2024)

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Sep 11 10:23:17 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
