<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation</title>
<!--Generated on Fri Aug 23 20:41:06 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Sequential Recommendation, 
Large Language Models, 
Contrastive Learning" lang="en" name="keywords"/>
<base href="/html/2405.02429v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S1" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction and Motivation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S2" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS1" title="In 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Preliminaries and Terminology</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS2" title="In 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Data Format and Template Design</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS3" title="In 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Two-Stage Fine-Tuning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS4" title="In 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Training Objectives</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS5" title="In 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Quasi-Round-Robin BM25 Retrieval</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experimental Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Further Analyses and Discussion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S7" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#A1" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Examples of Data Duplication</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#A2" title="In CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Additional Discussion on Contrastive Alignment</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">CALRec: <span class="ltx_text ltx_framed ltx_framed_underline" id="3.1">C</span>ontrastive <span class="ltx_text ltx_framed ltx_framed_underline" id="4.2">A</span>lignment of Generative <span class="ltx_text ltx_framed ltx_framed_underline" id="5.3">L</span>LMs for Sequential <span class="ltx_text ltx_framed ltx_framed_underline" id="6.4">Rec</span>ommendation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yaoyiran Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="7.1.1">University of Cambridge</span><span class="ltx_text ltx_affiliation_country" id="8.2.2">United Kingdom</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yl711@cam.ac.uk">yl711@cam.ac.uk</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiang Zhai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="9.1.1">Google</span><span class="ltx_text ltx_affiliation_country" id="10.2.2">USA</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xiangzhai@google.com">xiangzhai@google.com</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Moustafa Alzantot
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="11.1.1">Google</span><span class="ltx_text ltx_affiliation_country" id="12.2.2">USA</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:mfarid@google.com">mfarid@google.com</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Keyi Yu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="13.1.1">Google</span><span class="ltx_text ltx_affiliation_country" id="14.2.2">USA</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yukeyi@google.com">yukeyi@google.com</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ivan VuliÄ‡
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="15.1.1">University of Cambridge</span><span class="ltx_text ltx_affiliation_country" id="16.2.2">United Kingdom</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:iv250@cam.ac.uk">iv250@cam.ac.uk</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Anna Korhonen
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="17.1.1">University of Cambridge</span><span class="ltx_text ltx_affiliation_country" id="18.2.2">United Kingdom</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:alk23@cam.ac.uk">alk23@cam.ac.uk</a>
</span></span></span>
<span class="ltx_author_before">Â andÂ </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mohamed Hammad
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="19.1.1">Google</span><span class="ltx_text ltx_affiliation_country" id="20.2.2">USA</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:mibra@google.com">mibra@google.com</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id2.2">Traditional recommender systems such as matrix factorization methods have primarily focused on learning a shared dense embedding space to represent both items and user preferences. Subsequently, sequence models such as RNN, GRUs, and, recently, Transformers have emerged and excelled in the task of sequential recommendation. This task requires understanding the sequential structure present in usersâ€™ historical interactions to predict the next item they may like. Building upon the success of Large Language Models (LLMs) in a variety of tasks, researchers have recently explored using LLMs that are pretrained on vast corpora of text for sequential recommendation. To use LLMs for sequential recommendation, both the history of user interactions and the modelâ€™s prediction of the next item are expressed in text form. We propose CALRec, a two-stage LLM finetuning framework that finetunes a pretrained LLM in a two-tower fashion using a mixture of two contrastive losses and a language modeling loss: the LLM is first finetuned on a data mixture from multiple domains followed by another round of target domain finetuning. Our model significantly outperforms many state-of-the-art baselines (<math alttext="+37\%" class="ltx_Math" display="inline" id="1.m1.1"><semantics id="1.m1.1a"><mrow id="1.m1.1.1" xref="1.m1.1.1.cmml"><mo id="1.m1.1.1a" xref="1.m1.1.1.cmml">+</mo><mrow id="1.m1.1.1.2" xref="1.m1.1.1.2.cmml"><mn id="1.m1.1.1.2.2" xref="1.m1.1.1.2.2.cmml">37</mn><mo id="1.m1.1.1.2.1" xref="1.m1.1.1.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="1.m1.1b"><apply id="1.m1.1.1.cmml" xref="1.m1.1.1"><plus id="1.m1.1.1.1.cmml" xref="1.m1.1.1"></plus><apply id="1.m1.1.1.2.cmml" xref="1.m1.1.1.2"><csymbol cd="latexml" id="1.m1.1.1.2.1.cmml" xref="1.m1.1.1.2.1">percent</csymbol><cn id="1.m1.1.1.2.2.cmml" type="integer" xref="1.m1.1.1.2.2">37</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="1.m1.1c">+37\%</annotation><annotation encoding="application/x-llamapun" id="1.m1.1d">+ 37 %</annotation></semantics></math> in Recall@1 and <math alttext="+24\%" class="ltx_Math" display="inline" id="id2.2.m2.1"><semantics id="id2.2.m2.1a"><mrow id="id2.2.m2.1.1" xref="id2.2.m2.1.1.cmml"><mo id="id2.2.m2.1.1a" xref="id2.2.m2.1.1.cmml">+</mo><mrow id="id2.2.m2.1.1.2" xref="id2.2.m2.1.1.2.cmml"><mn id="id2.2.m2.1.1.2.2" xref="id2.2.m2.1.1.2.2.cmml">24</mn><mo id="id2.2.m2.1.1.2.1" xref="id2.2.m2.1.1.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="id2.2.m2.1b"><apply id="id2.2.m2.1.1.cmml" xref="id2.2.m2.1.1"><plus id="id2.2.m2.1.1.1.cmml" xref="id2.2.m2.1.1"></plus><apply id="id2.2.m2.1.1.2.cmml" xref="id2.2.m2.1.1.2"><csymbol cd="latexml" id="id2.2.m2.1.1.2.1.cmml" xref="id2.2.m2.1.1.2.1">percent</csymbol><cn id="id2.2.m2.1.1.2.2.cmml" type="integer" xref="id2.2.m2.1.1.2.2">24</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.2.m2.1c">+24\%</annotation><annotation encoding="application/x-llamapun" id="id2.2.m2.1d">+ 24 %</annotation></semantics></math> in NDCG@10) and our systematic ablation studies reveal that (i) both stages of finetuning are crucial, and, when combined, we achieve improved performance, and (ii) contrastive alignment is effective among the target domains explored in our experiments.</p>
</div>
<div class="ltx_keywords">Sequential Recommendation,
Large Language Models,
Contrastive Learning
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="21"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="22"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="23"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">conference: </span>18th ACM Conference on Recommender Systems; October 14â€“18, 2024; Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="24"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">booktitle: </span>18th ACM Conference on Recommender Systems (RecSys â€™24), October 14â€“18, 2024, Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="25"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">doi: </span>10.1145/3640457.3688121</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="26"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">isbn: </span>979-8-4007-0505-2/24/10</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="27"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">ccs: </span>Information systemsÂ Recommender systems</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="28"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">ccs: </span>Computing methodologiesÂ Neural networks</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction and Motivation</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recommender systems aim to understand users and items and use the learned knowledge to recommend relevant items for future user interactions. Traditional collaborative filtering methodsÂ <cite class="ltx_cite ltx_citemacro_citep">(Goldberg etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib16" title="">1992</a>; Sarwar etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib43" title="">2001</a>; Koren etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib26" title="">2009</a>)</cite> map item and user IDs into a common latent embedding space learned from individual user-item interactions, but these embeddings are often static and fail to capture the dynamic nature of user interests. Recent exploration in sequential recommender employs RNNÂ <cite class="ltx_cite ltx_citemacro_citep">(Hidasi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib17" title="">2016</a>)</cite>, CNNÂ <cite class="ltx_cite ltx_citemacro_citep">(Yan etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib55" title="">2019</a>)</cite> and the transformerÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>; Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite> to directly learn the time-evolution of user behaviors. The transformer architecture Â <cite class="ltx_cite ltx_citemacro_citep">(Vaswani etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib50" title="">2017</a>; Devlin etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib11" title="">2019</a>)</cite> stands out for its efficient capability of modeling sequences through the self-attention mechanism, which learns the correlation or causal relationships between different tokens and their influence on future tokens. In a large body of recommender systems (RecSys) research, each input position (token) corresponds to a single user activity, typically a userâ€™s interaction (e.g., purchase) with an item Â <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>; Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>; Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>; Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>; Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>)</cite>.
More specifically, some approaches rely on item IDs, each represented by a unique token, and model a userâ€™s interaction history as a sequence of item ID tokensÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>; Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite>; other efforts combine more sophisticated features, such as the text embedding of item descriptions, to capture richer content information for each item Â <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>; Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Motivated by the global paradigm shift towards autoregressive Language Large Models (LLMs)Â <cite class="ltx_cite ltx_citemacro_citep">(Achiam etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib2" title="">2023</a>; Anil etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib3" title="">2023</a>; Tay etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib47" title="">2023</a>; Team etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib48" title="">2023</a>)</cite> with successful applications in various tasks and domainsÂ <cite class="ltx_cite ltx_citemacro_citep">(Dosovitskiy etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib12" title="">2021</a>; Arnab etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib4" title="">2021</a>; Ramesh etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib40" title="">2022</a>; Yu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib56" title="">2021</a>)</cite>, we focus on leveraging generative LLMs for sequential recommender systems. Pretrained LLMs learn knowledge from large text corpora and are expected to perform reasonably well in general tasks, and their performance on specific tasks further improves after fine-tuning with domain-specific data. Several studies have explored utilizing LLMs in recommender systemsÂ <cite class="ltx_cite ltx_citemacro_citep">(Wu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib53" title="">2023</a>)</cite>, such as framing sequential recommendation as sentence-completionÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite> or question-answering problemsÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib57" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Despite the impressive language understanding capabilities of pretrained LLMs, they require fine-tuning for highly specific tasks like sequential recommendation. An LLM should be ideally fully fine-tunedÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib24" title="">2023</a>; Whitehouse etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib52" title="">2023</a>)</cite> to learn to comprehend domain-specific flattened text sequences and the underlying user interest evolution. Similar to most sequence modeling approaches like SASRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>)</cite>, BERT4RECÂ <cite class="ltx_cite ltx_citemacro_citep">(Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite>, RecformerÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, and GPT4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite>, we adopt next-item prediction as the sequential recommendation task.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Based on sentence-completionÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite> or question-answering Â <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib57" title="">2023</a>)</cite> styled prompting, our template design is further inspired by the idea of few-shot learningÂ <cite class="ltx_cite ltx_citemacro_citep">(Brown etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib8" title="">2020</a>)</cite>. Specifically, we prefix user sequence and each item in the user sequence with distinctive text indicators that <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">1)</span> allow the model to better understand data pattern and text format and <span class="ltx_text ltx_font_bold" id="S1.p4.1.2">2)</span> increase the LLM response coherence of the input sentence. We further propose a Contrastive Aligned Generative LLM Recommendation (CALRec) framework to adapt an LLM for sequential recommendation, inspired by the effectiveness of contrastive learning (CL) in mapping-based RecSysÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> and CL research in NLP and other areas Â <cite class="ltx_cite ltx_citemacro_citep">(Gao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib14" title="">2021</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib29" title="">2023a</a>)</cite>. CALRec features the following:</p>
</div>
<div class="ltx_para" id="S1.p5">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Pure text input and text output with advanced prompt design.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">A mixed training objective that combines customized next-item generation objective and auxiliary contrastive objectives.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">A two-stage LLM fine-tuning paradigm consisting of a multi-category joint fine-tuning stage followed by a category-specific fine-tuning stage.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">A novel quasi-round-robin BM25 retrieval approach for item retrieval.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Similar to previous workÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>; Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, we leverage the Amazon Review datasetÂ <cite class="ltx_cite ltx_citemacro_citep">(Ni etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib36" title="">2019</a>)</cite> and compare our results to open-source state-of-the-art (SotA) baselines. We observed a non-negligible percentage of consecutive identical activities by the same users in the raw datasets which might trivialize the next-item prediction task. We thus train and evaluate the model on deduplicated sequences and propose to adopt â€˜Last Item Repeaterâ€™, a training-free, text-statistic baseline for model comparison (Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a> and Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6" title="6. Further Analyses and Discussion â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>). We also revisit the existing evaluation metrics of the previous works, and propose to report both optimistic and pessimistic metric scores for text-based RecSys (Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>). Through comprehensive experiments, we discover that our CALRec method demonstrates superior performance and outperforms existing SotA by a considerable margin in most evaluation metrics. A systematic ablation study indicates the effectiveness of the two-stage training paradigm, our contrastive alignment, and our template design among the various data categories examined in our experiments.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Finally, we briefly summarize the contribution of our study:</p>
<ul class="ltx_itemize" id="S1.I2">
<li class="ltx_item" id="S1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i1.p1">
<p class="ltx_p" id="S1.I2.i1.p1.1">We proposed CALRec, a novel sequential recommendation framework that features advanced prompt design, a two-stage training paradigm, a combined training objective, and a quasi-round-robin BM25 retrieval approach.
</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i2.p1">
<p class="ltx_p" id="S1.I2.i2.p1.1">We conduct comprehensive experiments, ablation study and further analyses and show that <span class="ltx_text ltx_font_bold" id="S1.I2.i2.p1.1.1">1)</span> our approach outperforms existing baselines in most metrics by a considerable margin; <span class="ltx_text ltx_font_bold" id="S1.I2.i2.p1.1.2">2)</span> the main components of our approach are effective. We also discuss <span class="ltx_text ltx_font_bold" id="S1.I2.i2.p1.1.3">3)</span> the characteristics of our output and our limitations.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i3.p1">
<p class="ltx_p" id="S1.I2.i3.p1.1">We revisit data preprocessing and evaluation metrics in this field.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Traditional recommender systems like Collaborative FilteringÂ <cite class="ltx_cite ltx_citemacro_citep">(Goldberg etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib16" title="">1992</a>)</cite> learn relevance through user-item co-occurrence. Early collaborative filtering approaches like Matrix Factorization (MF)Â <cite class="ltx_cite ltx_citemacro_citep">(Koren etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib26" title="">2009</a>)</cite> are ID-only where both user and item IDs are embedded in a shared embedding space. Later MF improvements incorporated other attributesÂ <cite class="ltx_cite ltx_citemacro_citep">(Shi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib44" title="">2014</a>)</cite> such as time and location. Nevertheless, these approaches did not capture the sequential nature of user behavior which gave rise to a class of Sequential Recommenders. The initial Sequential Recommenders, similar to MF, were ID-only models, exemplified by GRU4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Hidasi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib17" title="">2016</a>)</cite>, SASRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>)</cite>, and Bert4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite>. Subsequent research expanded these models by integrating additional attributes beyond IDs, leading to the development of methods such as FDSAÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>)</cite>, S3-RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>)</cite>, and UniSRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>)</cite>. Due to the challenges associated with IDs in real world Recommender SystemsÂ <cite class="ltx_cite ltx_citemacro_citep">(Shi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib44" title="">2014</a>)</cite>, researchers explored removing them in favor of attribute-only modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>. However, this shift led to quality issues, as the valuable â€˜memorization characteristicsâ€™ provided by IDs were lost. Another thread of research explored deriving IDs from attribute embeddingÂ <cite class="ltx_cite ltx_citemacro_citep">(Rajput etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib39" title="">2023</a>; Singh etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib45" title="">2023</a>; Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib18" title="">2023</a>)</cite>, which mitigates some of the challenges associated with random IDs, albeit at the cost of increased system complexity.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">With the advent of pretrained LLMs, which include encoder-only models like BERTÂ <cite class="ltx_cite ltx_citemacro_citep">(Devlin etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib11" title="">2019</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, encoder-decoder models like T5Â <cite class="ltx_cite ltx_citemacro_citep">(Raffel etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib38" title="">2020</a>)</cite>, and decoder-only models like PaLMÂ <cite class="ltx_cite ltx_citemacro_citep">(Chowdhery etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib10" title="">2023</a>; Anil etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib3" title="">2023</a>)</cite>, GPTÂ <cite class="ltx_cite ltx_citemacro_citep">(Brown etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib8" title="">2020</a>)</cite>, and LLamaÂ <cite class="ltx_cite ltx_citemacro_citep">(Touvron etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib49" title="">2023</a>)</cite>, researchers explored leveraging these backbones in sequential recommendation tasks, harnessing the extensive â€˜knowledgeâ€™ encoded within their parameters. Some approaches utilized zero-shot or few-shot methodsÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang and Lim, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib51" title="">2023</a>; Liu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib34" title="">2023</a>; Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib20" title="">2024</a>)</cite>, while others extract item text embeddings from LLMs, both with frozen LLM parameters.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Previous work also explored fine-tuning encoder-only, encoder-decoder or decoder-only LLMs to incorporate recommendation knowledge into the LLMsÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>; Raffel etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib38" title="">2020</a>; Wu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib53" title="">2023</a>; Lin etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib33" title="">2023</a>; Kang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib24" title="">2023</a>; Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib57" title="">2023</a>; Bao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib5" title="">2023</a>; Ji etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib21" title="">2024</a>; Zhu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib61" title="">2024</a>)</cite>.
P5Â <cite class="ltx_cite ltx_citemacro_citep">(Geng etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib15" title="">2022</a>)</cite> fine-tuned a pre-trained T5Â <cite class="ltx_cite ltx_citemacro_citep">(Raffel etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib38" title="">2020</a>)</cite> model to solve various common RecSys tasks, including sequential recommendation. In contrast to P5, which frames the sequential recommendation task as an ID generation problem, our approach focuses on generating item attribute text and features a two-tower training framework, enhancing modelâ€™s understanding of items with their attributes within the context of user-item interaction sequences. GPT4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite> fine-tunes a pre-trained GPT-2 model to generate the next-item titles. Similar to GPT4Rec, we use BM25Â <cite class="ltx_cite ltx_citemacro_citep">(Robertson etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib41" title="">2009</a>)</cite> to search for items in the item corpus. However, unlike GPT4Rec which was directly fine-tuned for next-item generation as a sentence completion task on each target domain respectively, we are among the first to explore using the contrastive loss as an auxiliary objective to fine-tune an autoregressive LLM on the sequential recommendation task, and our work also features a multi-stage fine-tuning framework, enabling our model to generalize to multiple target domains. We include the list of baseline models we compare against and their details in Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Methodology</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Preliminaries and Terminology</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.9">We assume a set of users <math alttext="\mathcal{U}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">ğ’°</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">ğ’°</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">caligraphic_U</annotation></semantics></math>, where a user <math alttext="u\in\mathcal{U}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">u</mi><mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">âˆˆ</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">ğ’°</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><in id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"></in><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">ğ‘¢</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">ğ’°</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">u\in\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_u âˆˆ caligraphic_U</annotation></semantics></math> is associated with an interaction sequence comprising <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_n</annotation></semantics></math> items <math alttext="(I_{1},I_{2},...,I_{n})" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.4"><semantics id="S3.SS1.p1.4.m4.4a"><mrow id="S3.SS1.p1.4.m4.4.4.3" xref="S3.SS1.p1.4.m4.4.4.4.cmml"><mo id="S3.SS1.p1.4.m4.4.4.3.4" stretchy="false" xref="S3.SS1.p1.4.m4.4.4.4.cmml">(</mo><msub id="S3.SS1.p1.4.m4.2.2.1.1" xref="S3.SS1.p1.4.m4.2.2.1.1.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.1.2" xref="S3.SS1.p1.4.m4.2.2.1.1.2.cmml">I</mi><mn id="S3.SS1.p1.4.m4.2.2.1.1.3" xref="S3.SS1.p1.4.m4.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.4.m4.4.4.3.5" xref="S3.SS1.p1.4.m4.4.4.4.cmml">,</mo><msub id="S3.SS1.p1.4.m4.3.3.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.cmml">I</mi><mn id="S3.SS1.p1.4.m4.3.3.2.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.4.m4.4.4.3.6" xref="S3.SS1.p1.4.m4.4.4.4.cmml">,</mo><mi id="S3.SS1.p1.4.m4.1.1" mathvariant="normal" xref="S3.SS1.p1.4.m4.1.1.cmml">â€¦</mi><mo id="S3.SS1.p1.4.m4.4.4.3.7" xref="S3.SS1.p1.4.m4.4.4.4.cmml">,</mo><msub id="S3.SS1.p1.4.m4.4.4.3.3" xref="S3.SS1.p1.4.m4.4.4.3.3.cmml"><mi id="S3.SS1.p1.4.m4.4.4.3.3.2" xref="S3.SS1.p1.4.m4.4.4.3.3.2.cmml">I</mi><mi id="S3.SS1.p1.4.m4.4.4.3.3.3" xref="S3.SS1.p1.4.m4.4.4.3.3.3.cmml">n</mi></msub><mo id="S3.SS1.p1.4.m4.4.4.3.8" stretchy="false" xref="S3.SS1.p1.4.m4.4.4.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.4b"><vector id="S3.SS1.p1.4.m4.4.4.4.cmml" xref="S3.SS1.p1.4.m4.4.4.3"><apply id="S3.SS1.p1.4.m4.2.2.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.2">ğ¼</ci><cn id="S3.SS1.p1.4.m4.2.2.1.1.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.2.2.1.1.3">1</cn></apply><apply id="S3.SS1.p1.4.m4.3.3.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2">ğ¼</ci><cn id="S3.SS1.p1.4.m4.3.3.2.2.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.3.3.2.2.3">2</cn></apply><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">â€¦</ci><apply id="S3.SS1.p1.4.m4.4.4.3.3.cmml" xref="S3.SS1.p1.4.m4.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.4.4.3.3.1.cmml" xref="S3.SS1.p1.4.m4.4.4.3.3">subscript</csymbol><ci id="S3.SS1.p1.4.m4.4.4.3.3.2.cmml" xref="S3.SS1.p1.4.m4.4.4.3.3.2">ğ¼</ci><ci id="S3.SS1.p1.4.m4.4.4.3.3.3.cmml" xref="S3.SS1.p1.4.m4.4.4.3.3.3">ğ‘›</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.4c">(I_{1},I_{2},...,I_{n})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.4d">( italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math> arranged in chronological order (note that the value of <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_n</annotation></semantics></math> may vary across different users). The <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.9.1">sequential recommendation</span> task is then defined as follows: given the userâ€™s historical interaction sequence <math alttext="I_{1:n-1}=(I_{1},I_{2},...,I_{n-1})" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.4"><semantics id="S3.SS1.p1.6.m6.4a"><mrow id="S3.SS1.p1.6.m6.4.4" xref="S3.SS1.p1.6.m6.4.4.cmml"><msub id="S3.SS1.p1.6.m6.4.4.5" xref="S3.SS1.p1.6.m6.4.4.5.cmml"><mi id="S3.SS1.p1.6.m6.4.4.5.2" xref="S3.SS1.p1.6.m6.4.4.5.2.cmml">I</mi><mrow id="S3.SS1.p1.6.m6.4.4.5.3" xref="S3.SS1.p1.6.m6.4.4.5.3.cmml"><mn id="S3.SS1.p1.6.m6.4.4.5.3.2" xref="S3.SS1.p1.6.m6.4.4.5.3.2.cmml">1</mn><mo id="S3.SS1.p1.6.m6.4.4.5.3.1" lspace="0.278em" rspace="0.278em" xref="S3.SS1.p1.6.m6.4.4.5.3.1.cmml">:</mo><mrow id="S3.SS1.p1.6.m6.4.4.5.3.3" xref="S3.SS1.p1.6.m6.4.4.5.3.3.cmml"><mi id="S3.SS1.p1.6.m6.4.4.5.3.3.2" xref="S3.SS1.p1.6.m6.4.4.5.3.3.2.cmml">n</mi><mo id="S3.SS1.p1.6.m6.4.4.5.3.3.1" xref="S3.SS1.p1.6.m6.4.4.5.3.3.1.cmml">âˆ’</mo><mn id="S3.SS1.p1.6.m6.4.4.5.3.3.3" xref="S3.SS1.p1.6.m6.4.4.5.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.SS1.p1.6.m6.4.4.4" xref="S3.SS1.p1.6.m6.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.4.4.3.3" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml"><mo id="S3.SS1.p1.6.m6.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">(</mo><msub id="S3.SS1.p1.6.m6.2.2.1.1.1" xref="S3.SS1.p1.6.m6.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.2.2.1.1.1.2" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml">I</mi><mn id="S3.SS1.p1.6.m6.2.2.1.1.1.3" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.6.m6.4.4.3.3.5" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.6.m6.3.3.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml">I</mi><mn id="S3.SS1.p1.6.m6.3.3.2.2.2.3" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.6.m6.4.4.3.3.6" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.6.m6.1.1" mathvariant="normal" xref="S3.SS1.p1.6.m6.1.1.cmml">â€¦</mi><mo id="S3.SS1.p1.6.m6.4.4.3.3.7" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.6.m6.4.4.3.3.3" xref="S3.SS1.p1.6.m6.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.6.m6.4.4.3.3.3.2" xref="S3.SS1.p1.6.m6.4.4.3.3.3.2.cmml">I</mi><mrow id="S3.SS1.p1.6.m6.4.4.3.3.3.3" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.cmml"><mi id="S3.SS1.p1.6.m6.4.4.3.3.3.3.2" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.2.cmml">n</mi><mo id="S3.SS1.p1.6.m6.4.4.3.3.3.3.1" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.1.cmml">âˆ’</mo><mn id="S3.SS1.p1.6.m6.4.4.3.3.3.3.3" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.p1.6.m6.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.4b"><apply id="S3.SS1.p1.6.m6.4.4.cmml" xref="S3.SS1.p1.6.m6.4.4"><eq id="S3.SS1.p1.6.m6.4.4.4.cmml" xref="S3.SS1.p1.6.m6.4.4.4"></eq><apply id="S3.SS1.p1.6.m6.4.4.5.cmml" xref="S3.SS1.p1.6.m6.4.4.5"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.4.4.5.1.cmml" xref="S3.SS1.p1.6.m6.4.4.5">subscript</csymbol><ci id="S3.SS1.p1.6.m6.4.4.5.2.cmml" xref="S3.SS1.p1.6.m6.4.4.5.2">ğ¼</ci><apply id="S3.SS1.p1.6.m6.4.4.5.3.cmml" xref="S3.SS1.p1.6.m6.4.4.5.3"><ci id="S3.SS1.p1.6.m6.4.4.5.3.1.cmml" xref="S3.SS1.p1.6.m6.4.4.5.3.1">:</ci><cn id="S3.SS1.p1.6.m6.4.4.5.3.2.cmml" type="integer" xref="S3.SS1.p1.6.m6.4.4.5.3.2">1</cn><apply id="S3.SS1.p1.6.m6.4.4.5.3.3.cmml" xref="S3.SS1.p1.6.m6.4.4.5.3.3"><minus id="S3.SS1.p1.6.m6.4.4.5.3.3.1.cmml" xref="S3.SS1.p1.6.m6.4.4.5.3.3.1"></minus><ci id="S3.SS1.p1.6.m6.4.4.5.3.3.2.cmml" xref="S3.SS1.p1.6.m6.4.4.5.3.3.2">ğ‘›</ci><cn id="S3.SS1.p1.6.m6.4.4.5.3.3.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.4.4.5.3.3.3">1</cn></apply></apply></apply><vector id="S3.SS1.p1.6.m6.4.4.3.4.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3"><apply id="S3.SS1.p1.6.m6.2.2.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2">ğ¼</ci><cn id="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.6.m6.3.3.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2">ğ¼</ci><cn id="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">â€¦</ci><apply id="S3.SS1.p1.6.m6.4.4.3.3.3.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.6.m6.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.2">ğ¼</ci><apply id="S3.SS1.p1.6.m6.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3"><minus id="S3.SS1.p1.6.m6.4.4.3.3.3.3.1.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.1"></minus><ci id="S3.SS1.p1.6.m6.4.4.3.3.3.3.2.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.2">ğ‘›</ci><cn id="S3.SS1.p1.6.m6.4.4.3.3.3.3.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.3">1</cn></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.4c">I_{1:n-1}=(I_{1},I_{2},...,I_{n-1})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.4d">italic_I start_POSTSUBSCRIPT 1 : italic_n - 1 end_POSTSUBSCRIPT = ( italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_I start_POSTSUBSCRIPT italic_n - 1 end_POSTSUBSCRIPT )</annotation></semantics></math>, a sequential recommender aims to predict the target item <math alttext="I_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><msub id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.p1.7.m7.1.1.2" xref="S3.SS1.p1.7.m7.1.1.2.cmml">I</mi><mi id="S3.SS1.p1.7.m7.1.1.3" xref="S3.SS1.p1.7.m7.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><apply id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.p1.7.m7.1.1.2">ğ¼</ci><ci id="S3.SS1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.p1.7.m7.1.1.3">ğ‘›</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">I_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, the last item in the userâ€™s full interaction sequence. In our study, we use pure text to represent each item and user interaction sequence (Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS2" title="3.2. Data Format and Template Design â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a>), and we adapt autoregressive LLMs pretrained on large corpora of text for sequential recommendation. Specifically, we pose the task as a sequence-to-sequence generation task where the input is the text description of <math alttext="I_{1:n-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">I</mi><mrow id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml"><mn id="S3.SS1.p1.8.m8.1.1.3.2" xref="S3.SS1.p1.8.m8.1.1.3.2.cmml">1</mn><mo id="S3.SS1.p1.8.m8.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.SS1.p1.8.m8.1.1.3.1.cmml">:</mo><mrow id="S3.SS1.p1.8.m8.1.1.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.cmml"><mi id="S3.SS1.p1.8.m8.1.1.3.3.2" xref="S3.SS1.p1.8.m8.1.1.3.3.2.cmml">n</mi><mo id="S3.SS1.p1.8.m8.1.1.3.3.1" xref="S3.SS1.p1.8.m8.1.1.3.3.1.cmml">âˆ’</mo><mn id="S3.SS1.p1.8.m8.1.1.3.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">ğ¼</ci><apply id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3"><ci id="S3.SS1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.1">:</ci><cn id="S3.SS1.p1.8.m8.1.1.3.2.cmml" type="integer" xref="S3.SS1.p1.8.m8.1.1.3.2">1</cn><apply id="S3.SS1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3"><minus id="S3.SS1.p1.8.m8.1.1.3.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3.1"></minus><ci id="S3.SS1.p1.8.m8.1.1.3.3.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3.2">ğ‘›</ci><cn id="S3.SS1.p1.8.m8.1.1.3.3.3.cmml" type="integer" xref="S3.SS1.p1.8.m8.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">I_{1:n-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_I start_POSTSUBSCRIPT 1 : italic_n - 1 end_POSTSUBSCRIPT</annotation></semantics></math> and the expected output is that of <math alttext="I_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><msub id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">I</mi><mi id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">ğ¼</ci><ci id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">ğ‘›</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">I_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>. Our primary motivation for formulating the problem entirely within the text domain is to exploit the rich textual information inherent in real-world data and to capitalize on LLMsâ€™ strong language understanding and reasoning capabilities.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="377" id="S3.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>CALRec: Training Framework.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Data Format and Template Design</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.2">In our setup, items and user sequences are provided exclusively in text format. Instead of treating per-item features separately as in traditional recommender modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>; Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>)</cite> and inspired byÂ <cite class="ltx_cite ltx_citemacro_citet">Li etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, we flatten each itemâ€™s semantically meaningful attributes into a single sequence of text tokens, where the attributes are respectively formatted in the style of â€œ<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.1">Attribute Name: Attribute Description</span>â€ and then are concatenated together. Typical attributes include the title, ratings, keywords, price, and others, exemplified by the title attribute â€œ<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.2">Title: iPhone 13 Pro Max</span>â€. We discard non-semantic ID attributes such as item hashing IDs or user IDs which may add noise to the LLM input. Missing attribute descriptions are replaced with the wildcard text â€œ<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.3">Unknown</span>â€. For the user sequence, different fromÂ <cite class="ltx_cite ltx_citemacro_citet">Li etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, we additionally use a user prefix â€œ<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.4">This is the summary of a userâ€™s purchase history.</span>â€ and per-item prefixes â€œ<math alttext="\backslash" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mo id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">\</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">\</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\backslash</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">\</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.5">nThe first/next item bought is as follows.</span>â€ (â€œ<math alttext="\backslash" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mo id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">\</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">\</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\backslash</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">\</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.2.6">n</span>â€ is not applied on the first item) to separate items. The user sequence prefix signature facilitates LLMs in differentiating between single item input and user sequence input. The per-item prefix signature
aids LLMs in segmenting distinct items within a user history sequence, thereby enhancing task comprehension. In addition, we end the user history sequence with the same item prefix, prompting the LLM to predict the next purchase as a sentence completion task. This design is inspired by the idea of â€˜few-shot in-context learningâ€™Â <cite class="ltx_cite ltx_citemacro_citep">(Brown etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib8" title="">2020</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib30" title="">2023b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib31" title="">2024</a>)</cite>:<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Our approach does not conform to the exact concept of â€˜few-shotâ€™ learning by definition, since our input data is always from a single user.</span></span></span> since the same item prefix is also seen in the history sequence, our approach is beneficial for the LLM to generate text that follows the output format. A concrete example of the full prompt is provided as follows<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>During training, the user history and the target item sequences (from the training set) are concatenated. At inference, only the user history sequence (from the validation/test set) serves as the LLM input.</span></span></span>:</p>
<p class="ltx_p ltx_align_center" id="S3.SS2.p1.10.8">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="S3.SS2.p1.10.8.8.8" style="width:203.8pt;">
<span class="ltx_p" id="S3.SS2.p1.7.5.5.5.5">
<span class="ltx_inline-block ltx_markedasmath ltx_align_bottom" id="S3.SS2.p1.7.5.5.5.5.5">
<span class="ltx_p" id="S3.SS2.p1.7.5.5.5.5.5.1"><span class="ltx_rule" style="width:99.7pt;height:0.5pt;background:black;display:inline-block;">Â </span></span>
</span><span class="ltx_text" id="S3.SS2.p1.7.5.5.5.5.4" style="font-size:80%;">
[USER PURCHASE HISTORY SEQUENCE]

<span class="ltx_inline-block ltx_markedasmath ltx_align_bottom" id="S3.SS2.p1.7.5.5.5.5.4.4">
<span class="ltx_p" id="S3.SS2.p1.7.5.5.5.5.4.4.1"><span class="ltx_rule" style="width:99.7pt;height:0.5pt;background:black;display:inline-block;">Â </span></span>
</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.7.5.5.5.5.4.3" style="color:#4F5999;">This is the summary of a userâ€™s purchase history.<span class="ltx_text" id="S3.SS2.p1.7.5.5.5.5.4.3.3" style="color:#000000;"> The first item bought is as follows. <span class="ltx_text" id="S3.SS2.p1.5.3.3.3.3.2.1.1.1" style="color:#BD7126;">Title: The Hillman Group 591520 Small Wire Nail and Brad Assortment, 260-Pack. Category: Tools <math alttext="\&amp;" class="ltx_Math" display="inline" id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1"><semantics id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1a"><mo id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1.1" mathcolor="#BD7126" xref="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1b"><and id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1.1.cmml" xref="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.3.3.3.3.2.1.1.1.m1.1d">&amp;</annotation></semantics></math> Home Improvement. Brand: Hillman. Price: Unknown.</span>
<br class="ltx_break"/>The next item bought is as follows. <span class="ltx_text" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3" style="color:#BD7126;">Title: Pro Flex Super Flexible Elastomeric Sealant Acrylic Clear Paintable 10 Oz. Category: Tools <math alttext="\&amp;" class="ltx_Math" display="inline" id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1"><semantics id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1a"><mo id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1.1" mathcolor="#BD7126" xref="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1b"><and id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1.1.cmml" xref="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.6.4.4.4.4.3.2.2.2.m1.1d">&amp;</annotation></semantics></math> Home Improvement. Brand: Geocel. Price: <math alttext="\$11.22" class="ltx_Math" display="inline" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1"><semantics id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1a"><mrow id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.cmml"><mo id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.1" mathcolor="#BD7126" rspace="0.167em" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.1.cmml">$</mo><mn id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.2" mathcolor="#BD7126" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.2.cmml">11.22</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1b"><apply id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.cmml" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1"><csymbol cd="latexml" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.1.cmml" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.1">currency-dollar</csymbol><cn id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.2.cmml" type="float" xref="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1.1.2">11.22</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1c">\$11.22</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.5.5.5.5.4.3.3.3.m2.1d">$ 11.22</annotation></semantics></math>.</span>
<br class="ltx_break"/>The next item bought is as follows.
<br class="ltx_break"/></span></span></span></span>
<span class="ltx_p" id="S3.SS2.p1.10.8.8.8.8">
<span class="ltx_inline-block ltx_markedasmath ltx_align_bottom" id="S3.SS2.p1.10.8.8.8.8.3">
<span class="ltx_p" id="S3.SS2.p1.10.8.8.8.8.3.1"><span class="ltx_rule" style="width:134.4pt;height:0.5pt;background:black;display:inline-block;">Â </span></span>
</span><span class="ltx_text" id="S3.SS2.p1.10.8.8.8.8.2" style="font-size:80%;">
[TARGET ITEM SEQUENCE]

<span class="ltx_inline-block ltx_markedasmath ltx_align_bottom" id="S3.SS2.p1.10.8.8.8.8.2.2">
<span class="ltx_p" id="S3.SS2.p1.10.8.8.8.8.2.2.1"><span class="ltx_rule" style="width:134.4pt;height:0.5pt;background:black;display:inline-block;">Â </span></span>
</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="S3.SS2.p1.10.8.8.8.8.2.1" style="color:#4A6635;">Title: Trimaco Llc RF36 35-Inch by 166-Feet Rosin Flooring Paper, Red. Category: Tools <math alttext="\&amp;" class="ltx_Math" display="inline" id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1"><semantics id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1a"><mo id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1.1" mathcolor="#4A6635" xref="S3.SS2.p1.10.8.8.8.8.2.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1b"><and id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1.1.cmml" xref="S3.SS2.p1.10.8.8.8.8.2.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.10.8.8.8.8.2.1.m1.1d">&amp;</annotation></semantics></math> Home Improvement. Brand: Trimaco. Price: Unknown.</span></span></span>
</span></p>
<p class="ltx_p" id="S3.SS2.p1.11">Different from our method, many previous text-based approaches do not specify an item prefix and simply leverage a one-off user history suffixÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>; Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib57" title="">2023</a>)</cite> (some approaches even do not specify any user suffix at allÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>).</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Two-Stage Fine-Tuning</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.2">Previous workÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> indicates that pretraining a RecSys on a large volume of data (various data categories) provides favorable inductive bias for downstream tasks (a specific and smaller-scale data category for evaluation after further fine-tuning on them). Analogously, based on an LLM already pretrained on large, diverse text corpora, we propose a two-stage fine-tuning framework that consists of Multi-Category Joint Fine-Tuning (Stage I) and Category-Specific Fine-Tuning (Stage II): the latter benefits from the former as a result of transfer learning. Our Stage I fine-tuning allows the model to adapt to the sequential recommendation problem setting and learn data patterns in a category-agnostic fashion. Inspired byÂ <cite class="ltx_cite ltx_citemacro_citet">Xue etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib54" title="">2021</a>)</cite>, we adopt a sampling rate for each data category proportional to <math alttext="|\mathcal{U}|^{0.3}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><msup id="S3.SS3.p1.1.m1.1.2" xref="S3.SS3.p1.1.m1.1.2.cmml"><mrow id="S3.SS3.p1.1.m1.1.2.2.2" xref="S3.SS3.p1.1.m1.1.2.2.1.cmml"><mo id="S3.SS3.p1.1.m1.1.2.2.2.1" stretchy="false" xref="S3.SS3.p1.1.m1.1.2.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">ğ’°</mi><mo id="S3.SS3.p1.1.m1.1.2.2.2.2" stretchy="false" xref="S3.SS3.p1.1.m1.1.2.2.1.1.cmml">|</mo></mrow><mn id="S3.SS3.p1.1.m1.1.2.3" xref="S3.SS3.p1.1.m1.1.2.3.cmml">0.3</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.2">superscript</csymbol><apply id="S3.SS3.p1.1.m1.1.2.2.1.cmml" xref="S3.SS3.p1.1.m1.1.2.2.2"><abs id="S3.SS3.p1.1.m1.1.2.2.1.1.cmml" xref="S3.SS3.p1.1.m1.1.2.2.2.1"></abs><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">ğ’°</ci></apply><cn id="S3.SS3.p1.1.m1.1.2.3.cmml" type="float" xref="S3.SS3.p1.1.m1.1.2.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">|\mathcal{U}|^{0.3}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">| caligraphic_U | start_POSTSUPERSCRIPT 0.3 end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="|\mathcal{U}|" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.2.2" xref="S3.SS3.p1.2.m2.1.2.1.cmml"><mo id="S3.SS3.p1.2.m2.1.2.2.1" stretchy="false" xref="S3.SS3.p1.2.m2.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">ğ’°</mi><mo id="S3.SS3.p1.2.m2.1.2.2.2" stretchy="false" xref="S3.SS3.p1.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.2.1.cmml" xref="S3.SS3.p1.2.m2.1.2.2"><abs id="S3.SS3.p1.2.m2.1.2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.2.2.1"></abs><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">ğ’°</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">|\mathcal{U}|</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">| caligraphic_U |</annotation></semantics></math> is the size (number of users) of each category, for the purpose of combating the data imbalance issue, preventing a few extra-large categories from dominating the Stage I fine-tuning set. After deriving the multi-category fine-tuned model, we further adapt the model to each category respectively via Category-Specific Fine-Tuning (Stage II). In both stages, the training objective is the same, introduced in Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS4" title="3.4. Training Objectives â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3.4</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Training Objectives</h3>
<div class="ltx_para ltx_noindent" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.4"><span class="ltx_text ltx_font_bold" id="S3.SS4.p1.4.1">Next-Item Generation Objective.</span> The primary objective employed for LLM fine-tuning is the Next-Item (Text) Generation <span class="ltx_text ltx_font_italic" id="S3.SS4.p1.4.2">(NIG)</span> Objective. NIG aims to generate the text description of the target item given the text description of the previous items in a userâ€™s history. Denote the text-tokenized user sequence (for a user) as <math alttext="\textsc{t}=(t_{1},t_{2},...,t_{l})" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.4"><semantics id="S3.SS4.p1.1.m1.4a"><mrow id="S3.SS4.p1.1.m1.4.4" xref="S3.SS4.p1.1.m1.4.4.cmml"><mtext class="ltx_font_smallcaps" id="S3.SS4.p1.1.m1.4.4.5" xref="S3.SS4.p1.1.m1.4.4.5a.cmml">t</mtext><mo id="S3.SS4.p1.1.m1.4.4.4" xref="S3.SS4.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS4.p1.1.m1.4.4.3.3" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml"><mo id="S3.SS4.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml">(</mo><msub id="S3.SS4.p1.1.m1.2.2.1.1.1" xref="S3.SS4.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS4.p1.1.m1.2.2.1.1.1.2" xref="S3.SS4.p1.1.m1.2.2.1.1.1.2.cmml">t</mi><mn id="S3.SS4.p1.1.m1.2.2.1.1.1.3" xref="S3.SS4.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS4.p1.1.m1.4.4.3.3.5" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS4.p1.1.m1.3.3.2.2.2" xref="S3.SS4.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS4.p1.1.m1.3.3.2.2.2.2" xref="S3.SS4.p1.1.m1.3.3.2.2.2.2.cmml">t</mi><mn id="S3.SS4.p1.1.m1.3.3.2.2.2.3" xref="S3.SS4.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS4.p1.1.m1.4.4.3.3.6" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS4.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS4.p1.1.m1.1.1.cmml">â€¦</mi><mo id="S3.SS4.p1.1.m1.4.4.3.3.7" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS4.p1.1.m1.4.4.3.3.3" xref="S3.SS4.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS4.p1.1.m1.4.4.3.3.3.2" xref="S3.SS4.p1.1.m1.4.4.3.3.3.2.cmml">t</mi><mi id="S3.SS4.p1.1.m1.4.4.3.3.3.3" xref="S3.SS4.p1.1.m1.4.4.3.3.3.3.cmml">l</mi></msub><mo id="S3.SS4.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS4.p1.1.m1.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.4b"><apply id="S3.SS4.p1.1.m1.4.4.cmml" xref="S3.SS4.p1.1.m1.4.4"><eq id="S3.SS4.p1.1.m1.4.4.4.cmml" xref="S3.SS4.p1.1.m1.4.4.4"></eq><ci id="S3.SS4.p1.1.m1.4.4.5a.cmml" xref="S3.SS4.p1.1.m1.4.4.5"><mtext class="ltx_font_smallcaps" id="S3.SS4.p1.1.m1.4.4.5.cmml" xref="S3.SS4.p1.1.m1.4.4.5">t</mtext></ci><vector id="S3.SS4.p1.1.m1.4.4.3.4.cmml" xref="S3.SS4.p1.1.m1.4.4.3.3"><apply id="S3.SS4.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS4.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS4.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.2.2.1.1.1.2">ğ‘¡</ci><cn id="S3.SS4.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS4.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS4.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS4.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS4.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS4.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS4.p1.1.m1.3.3.2.2.2.2">ğ‘¡</ci><cn id="S3.SS4.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS4.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">â€¦</ci><apply id="S3.SS4.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS4.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS4.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS4.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS4.p1.1.m1.4.4.3.3.3.2">ğ‘¡</ci><ci id="S3.SS4.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS4.p1.1.m1.4.4.3.3.3.3">ğ‘™</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.4c">\textsc{t}=(t_{1},t_{2},...,t_{l})</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.4d">t = ( italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="l" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1"><semantics id="S3.SS4.p1.2.m2.1a"><mi id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">ğ‘™</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">l</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.2.m2.1d">italic_l</annotation></semantics></math> is the tokenized sequence length. The first <math alttext="m" class="ltx_Math" display="inline" id="S3.SS4.p1.3.m3.1"><semantics id="S3.SS4.p1.3.m3.1a"><mi id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><ci id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">ğ‘š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.3.m3.1d">italic_m</annotation></semantics></math> tokens belong to all the items in the user sequence except for the last item (i.e., the target item), followed by <math alttext="l-m" class="ltx_Math" display="inline" id="S3.SS4.p1.4.m4.1"><semantics id="S3.SS4.p1.4.m4.1a"><mrow id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml"><mi id="S3.SS4.p1.4.m4.1.1.2" xref="S3.SS4.p1.4.m4.1.1.2.cmml">l</mi><mo id="S3.SS4.p1.4.m4.1.1.1" xref="S3.SS4.p1.4.m4.1.1.1.cmml">âˆ’</mo><mi id="S3.SS4.p1.4.m4.1.1.3" xref="S3.SS4.p1.4.m4.1.1.3.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b"><apply id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1"><minus id="S3.SS4.p1.4.m4.1.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1.1"></minus><ci id="S3.SS4.p1.4.m4.1.1.2.cmml" xref="S3.SS4.p1.4.m4.1.1.2">ğ‘™</ci><ci id="S3.SS4.p1.4.m4.1.1.3.cmml" xref="S3.SS4.p1.4.m4.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">l-m</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.4.m4.1d">italic_l - italic_m</annotation></semantics></math> tokens for the target item. We propose this next-item generation objective to adapt an LLM for sequential recommendation:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{NIG}=\mathop{\mathbb{E}}\limits_{\textsc{t}\sim p(\textsc{t})}%
\left[\sum_{j=m+1}^{l}\text{log}\,P(t_{j}|t_{1:j-1};\theta)\right]" class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml"><msub id="S3.E1.m1.3.3.3" xref="S3.E1.m1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3.3.2" xref="S3.E1.m1.3.3.3.2.cmml">â„’</mi><mrow id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.3.cmml"><mi id="S3.E1.m1.3.3.3.3.2" xref="S3.E1.m1.3.3.3.3.2.cmml">N</mi><mo id="S3.E1.m1.3.3.3.3.1" xref="S3.E1.m1.3.3.3.3.1.cmml">â¢</mo><mi id="S3.E1.m1.3.3.3.3.3" xref="S3.E1.m1.3.3.3.3.3.cmml">I</mi><mo id="S3.E1.m1.3.3.3.3.1a" xref="S3.E1.m1.3.3.3.3.1.cmml">â¢</mo><mi id="S3.E1.m1.3.3.3.3.4" xref="S3.E1.m1.3.3.3.3.4.cmml">G</mi></mrow></msub><mo id="S3.E1.m1.3.3.2" rspace="0.1389em" xref="S3.E1.m1.3.3.2.cmml">=</mo><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.cmml"><munder id="S3.E1.m1.3.3.1.2" xref="S3.E1.m1.3.3.1.2.cmml"><mo id="S3.E1.m1.3.3.1.2.2" lspace="0.1389em" movablelimits="false" rspace="0em" xref="S3.E1.m1.3.3.1.2.2.cmml">ğ”¼</mo><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.1.1.1.3a.cmml">t</mtext><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.cmml">âˆ¼</mo><mrow id="S3.E1.m1.1.1.1.4" xref="S3.E1.m1.1.1.1.4.cmml"><mi id="S3.E1.m1.1.1.1.4.2" xref="S3.E1.m1.1.1.1.4.2.cmml">p</mi><mo id="S3.E1.m1.1.1.1.4.1" xref="S3.E1.m1.1.1.1.4.1.cmml">â¢</mo><mrow id="S3.E1.m1.1.1.1.4.3.2" xref="S3.E1.m1.1.1.1.1a.cmml"><mo id="S3.E1.m1.1.1.1.4.3.2.1" stretchy="false" xref="S3.E1.m1.1.1.1.1a.cmml">(</mo><mtext class="ltx_font_smallcaps" id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">t</mtext><mo id="S3.E1.m1.1.1.1.4.3.2.2" stretchy="false" xref="S3.E1.m1.1.1.1.1a.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.2.cmml"><mo id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.2.1.cmml">[</mo><mrow id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.cmml"><munderover id="S3.E1.m1.3.3.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.2.cmml"><mo id="S3.E1.m1.3.3.1.1.1.1.2.2.2" lspace="0em" movablelimits="false" xref="S3.E1.m1.3.3.1.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.2.2.3" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.2.2.3.2" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.2.cmml">j</mi><mo id="S3.E1.m1.3.3.1.1.1.1.2.2.3.1" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.1.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.2" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.2.cmml">m</mi><mo id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.1" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.1.cmml">+</mo><mn id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.3" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.3.cmml">1</mn></mrow></mrow><mi id="S3.E1.m1.3.3.1.1.1.1.2.3" xref="S3.E1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></munderover><mrow id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mtext id="S3.E1.m1.3.3.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.3a.cmml">log</mtext><mo id="S3.E1.m1.3.3.1.1.1.1.1.2" lspace="0.170em" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mi id="S3.E1.m1.3.3.1.1.1.1.1.4" xref="S3.E1.m1.3.3.1.1.1.1.1.4.cmml">P</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.2a" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml">j</mi></msub><mo fence="false" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml">t</mi><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">j</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">âˆ’</mo><mn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">Î¸</mi></mrow></mrow><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.3.3.1.1.1.3" xref="S3.E1.m1.3.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3"><eq id="S3.E1.m1.3.3.2.cmml" xref="S3.E1.m1.3.3.2"></eq><apply id="S3.E1.m1.3.3.3.cmml" xref="S3.E1.m1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.3.3.3.2.cmml" xref="S3.E1.m1.3.3.3.2">â„’</ci><apply id="S3.E1.m1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3"><times id="S3.E1.m1.3.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3.3.1"></times><ci id="S3.E1.m1.3.3.3.3.2.cmml" xref="S3.E1.m1.3.3.3.3.2">ğ‘</ci><ci id="S3.E1.m1.3.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3.3">ğ¼</ci><ci id="S3.E1.m1.3.3.3.3.4.cmml" xref="S3.E1.m1.3.3.3.3.4">ğº</ci></apply></apply><apply id="S3.E1.m1.3.3.1.cmml" xref="S3.E1.m1.3.3.1"><apply id="S3.E1.m1.3.3.1.2.cmml" xref="S3.E1.m1.3.3.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.2.1.cmml" xref="S3.E1.m1.3.3.1.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.2.2.cmml" xref="S3.E1.m1.3.3.1.2.2">ğ”¼</ci><apply id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.2">similar-to</csymbol><ci id="S3.E1.m1.1.1.1.3a.cmml" xref="S3.E1.m1.1.1.1.3"><mtext class="ltx_font_smallcaps" id="S3.E1.m1.1.1.1.3.cmml" mathsize="70%" xref="S3.E1.m1.1.1.1.3">t</mtext></ci><apply id="S3.E1.m1.1.1.1.4.cmml" xref="S3.E1.m1.1.1.1.4"><times id="S3.E1.m1.1.1.1.4.1.cmml" xref="S3.E1.m1.1.1.1.4.1"></times><ci id="S3.E1.m1.1.1.1.4.2.cmml" xref="S3.E1.m1.1.1.1.4.2">ğ‘</ci><ci id="S3.E1.m1.1.1.1.1a.cmml" xref="S3.E1.m1.1.1.1.4.3.2"><mtext class="ltx_font_smallcaps" id="S3.E1.m1.1.1.1.1.cmml" mathsize="70%" xref="S3.E1.m1.1.1.1.1">t</mtext></ci></apply></apply></apply><apply id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.2">delimited-[]</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1"><apply id="S3.E1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.2"></sum><apply id="S3.E1.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3"><eq id="S3.E1.m1.3.3.1.1.1.1.2.2.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.3.3.1.1.1.1.2.2.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.2">ğ‘—</ci><apply id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3"><plus id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.1"></plus><ci id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.2">ğ‘š</ci><cn id="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.2.2.3.3.3">1</cn></apply></apply></apply><ci id="S3.E1.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.3">ğ‘™</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"><times id="S3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2"></times><ci id="S3.E1.m1.3.3.1.1.1.1.1.3a.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.3"><mtext id="S3.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.3">log</mtext></ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.4.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.4">ğ‘ƒ</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2">ğ‘¡</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.3.3">ğ‘—</ci></apply><list id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘¡</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1">:</ci><cn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2">ğ‘—</ci><cn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">ğœƒ</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\mathcal{L}_{NIG}=\mathop{\mathbb{E}}\limits_{\textsc{t}\sim p(\textsc{t})}%
\left[\sum_{j=m+1}^{l}\text{log}\,P(t_{j}|t_{1:j-1};\theta)\right]</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">caligraphic_L start_POSTSUBSCRIPT italic_N italic_I italic_G end_POSTSUBSCRIPT = blackboard_E start_POSTSUBSCRIPT t âˆ¼ italic_p ( t ) end_POSTSUBSCRIPT [ âˆ‘ start_POSTSUBSCRIPT italic_j = italic_m + 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT log italic_P ( italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT | italic_t start_POSTSUBSCRIPT 1 : italic_j - 1 end_POSTSUBSCRIPT ; italic_Î¸ ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.5">where p(<span class="ltx_text ltx_font_smallcaps" id="S3.SS4.p1.5.1">t</span>) denotes the data distribution, and <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS4.p1.5.m1.1"><semantics id="S3.SS4.p1.5.m1.1a"><mi id="S3.SS4.p1.5.m1.1.1" xref="S3.SS4.p1.5.m1.1.1.cmml">Î¸</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m1.1b"><ci id="S3.SS4.p1.5.m1.1.1.cmml" xref="S3.SS4.p1.5.m1.1.1">ğœƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.5.m1.1d">italic_Î¸</annotation></semantics></math> is the whole set of trainable parameters of the chosen LLM.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.3"><span class="ltx_text ltx_font_bold" id="S3.SS4.p2.3.1">Auxiliary Contrastive Alignment.</span> One shortcoming of the NIG is that it deals with the input and output on the token level rather than on the item/user level. Therefore, in addition to the token-level NIG objective, we also investigate auxiliary contrastive objectives that operate on the item/user level. Specifically, we adopt a two-tower training framework where one tower only takes in the target item, and the mean-pooled feature in the final hidden layer is denoted as <math alttext="\mathbf{v}^{T}" class="ltx_Math" display="inline" id="S3.SS4.p2.1.m1.1"><semantics id="S3.SS4.p2.1.m1.1a"><msup id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml"><mi id="S3.SS4.p2.1.m1.1.1.2" xref="S3.SS4.p2.1.m1.1.1.2.cmml">ğ¯</mi><mi id="S3.SS4.p2.1.m1.1.1.3" xref="S3.SS4.p2.1.m1.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><apply id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">superscript</csymbol><ci id="S3.SS4.p2.1.m1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2">ğ¯</ci><ci id="S3.SS4.p2.1.m1.1.1.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3">ğ‘‡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">\mathbf{v}^{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.1.m1.1d">bold_v start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT</annotation></semantics></math>. The second tower takes the whole user sequence and similarly we denote the mean-pooled feature corresponding to the user history sequence as <math alttext="\mathbf{v}^{U}" class="ltx_Math" display="inline" id="S3.SS4.p2.2.m2.1"><semantics id="S3.SS4.p2.2.m2.1a"><msup id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2" xref="S3.SS4.p2.2.m2.1.1.2.cmml">ğ¯</mi><mi id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3.cmml">U</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2">ğ¯</ci><ci id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3">ğ‘ˆ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">\mathbf{v}^{U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.2.m2.1d">bold_v start_POSTSUPERSCRIPT italic_U end_POSTSUPERSCRIPT</annotation></semantics></math> and the feature for the target item conditioned on the user history as <math alttext="\mathbf{v}^{T|U}" class="ltx_Math" display="inline" id="S3.SS4.p2.3.m3.1"><semantics id="S3.SS4.p2.3.m3.1a"><msup id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml"><mi id="S3.SS4.p2.3.m3.1.1.2" xref="S3.SS4.p2.3.m3.1.1.2.cmml">ğ¯</mi><mrow id="S3.SS4.p2.3.m3.1.1.3" xref="S3.SS4.p2.3.m3.1.1.3.cmml"><mi id="S3.SS4.p2.3.m3.1.1.3.2" xref="S3.SS4.p2.3.m3.1.1.3.2.cmml">T</mi><mo fence="false" id="S3.SS4.p2.3.m3.1.1.3.1" xref="S3.SS4.p2.3.m3.1.1.3.1.cmml">|</mo><mi id="S3.SS4.p2.3.m3.1.1.3.3" xref="S3.SS4.p2.3.m3.1.1.3.3.cmml">U</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><apply id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.3.m3.1.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">superscript</csymbol><ci id="S3.SS4.p2.3.m3.1.1.2.cmml" xref="S3.SS4.p2.3.m3.1.1.2">ğ¯</ci><apply id="S3.SS4.p2.3.m3.1.1.3.cmml" xref="S3.SS4.p2.3.m3.1.1.3"><csymbol cd="latexml" id="S3.SS4.p2.3.m3.1.1.3.1.cmml" xref="S3.SS4.p2.3.m3.1.1.3.1">conditional</csymbol><ci id="S3.SS4.p2.3.m3.1.1.3.2.cmml" xref="S3.SS4.p2.3.m3.1.1.3.2">ğ‘‡</ci><ci id="S3.SS4.p2.3.m3.1.1.3.3.cmml" xref="S3.SS4.p2.3.m3.1.1.3.3">ğ‘ˆ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">\mathbf{v}^{T|U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.3.m3.1d">bold_v start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT</annotation></semantics></math> (see also Fig.Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.F1" title="Figure 1 â€£ 3.1. Preliminaries and Terminology â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>). We experiment with two contrastive losses for user- and item-level alignments following the InfoNCE loss Â <cite class="ltx_cite ltx_citemacro_citep">(Oord etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib37" title="">2018</a>)</cite>, a standard and robust choice in contrastive learning research Â <cite class="ltx_cite ltx_citemacro_citep">(Chen etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib9" title="">2020</a>; Gao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib14" title="">2021</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib32" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib29" title="">2023a</a>)</cite>. Below, we present the calculation of these losses on a batch of data:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx1">
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell" colspan="2"><math alttext="\displaystyle\begin{split}\mathcal{L}_{TT}=&amp;-\frac{1}{N_{b}}\!\sum_{i=1}^{N_{b%
}}\text{log}\frac{\text{exp}(\text{cos}(\mathbf{v}^{T|U}_{i},\mathbf{v}^{T}_{i%
})/\tau_{c})}{\sum_{j=1}^{N_{b}}\text{exp}(\text{cos}(\mathbf{v}^{T|U}_{j},%
\mathbf{v}^{T}_{i})/\tau_{c})},\end{split}" class="ltx_Math" display="inline" id="S3.E2.m1.13"><semantics id="S3.E2.m1.13a"><mtable columnspacing="0pt" id="S3.E2.m1.13.13.2"><mtr id="S3.E2.m1.13.13.2a"><mtd class="ltx_align_right" columnalign="right" id="S3.E2.m1.13.13.2b"><mrow id="S3.E2.m1.3.3.3.3.3a"><msub id="S3.E2.m1.3.3.3.3.3a.4"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml">â„’</mi><mrow id="S3.E2.m1.2.2.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.2.2.1.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.2.2.2.1.2.cmml">T</mi><mo id="S3.E2.m1.2.2.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.2.2.2.1.3.cmml">T</mi></mrow></msub><mo id="S3.E2.m1.3.3.3.3.3.3" xref="S3.E2.m1.3.3.3.3.3.3.cmml">=</mo><mi id="S3.E2.m1.3.3.3.3.3a.5" xref="S3.E2.m1.12.12.1.1.1.cmml"></mi></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.13.13.2c"><mrow id="S3.E2.m1.13.13.2.12.12.9.9"><mrow id="S3.E2.m1.13.13.2.12.12.9.9.1"><mo id="S3.E2.m1.13.13.2.12.12.9.9.1a" xref="S3.E2.m1.12.12.1.1.1.cmml">âˆ’</mo><mrow id="S3.E2.m1.13.13.2.12.12.9.9.1.1"><mstyle displaystyle="true" id="S3.E2.m1.5.5.5.5.2.2" xref="S3.E2.m1.5.5.5.5.2.2.cmml"><mfrac id="S3.E2.m1.5.5.5.5.2.2a" xref="S3.E2.m1.5.5.5.5.2.2.cmml"><mn id="S3.E2.m1.5.5.5.5.2.2.2" xref="S3.E2.m1.5.5.5.5.2.2.2.cmml">1</mn><msub id="S3.E2.m1.5.5.5.5.2.2.3" xref="S3.E2.m1.5.5.5.5.2.2.3.cmml"><mi id="S3.E2.m1.5.5.5.5.2.2.3.2" xref="S3.E2.m1.5.5.5.5.2.2.3.2.cmml">N</mi><mi id="S3.E2.m1.5.5.5.5.2.2.3.3" xref="S3.E2.m1.5.5.5.5.2.2.3.3.cmml">b</mi></msub></mfrac></mstyle><mo id="S3.E2.m1.13.13.2.12.12.9.9.1.1.1" xref="S3.E2.m1.12.12.1.1.1.cmml">â¢</mo><mrow id="S3.E2.m1.13.13.2.12.12.9.9.1.1.2"><mstyle displaystyle="true" id="S3.E2.m1.13.13.2.12.12.9.9.1.1.2.1"><munderover id="S3.E2.m1.13.13.2.12.12.9.9.1.1.2.1a"><mo id="S3.E2.m1.6.6.6.6.3.3" movablelimits="false" xref="S3.E2.m1.6.6.6.6.3.3.cmml">âˆ‘</mo><mrow id="S3.E2.m1.7.7.7.7.4.4.1" xref="S3.E2.m1.7.7.7.7.4.4.1.cmml"><mi id="S3.E2.m1.7.7.7.7.4.4.1.2" xref="S3.E2.m1.7.7.7.7.4.4.1.2.cmml">i</mi><mo id="S3.E2.m1.7.7.7.7.4.4.1.1" xref="S3.E2.m1.7.7.7.7.4.4.1.1.cmml">=</mo><mn id="S3.E2.m1.7.7.7.7.4.4.1.3" xref="S3.E2.m1.7.7.7.7.4.4.1.3.cmml">1</mn></mrow><msub id="S3.E2.m1.8.8.8.8.5.5.1" xref="S3.E2.m1.8.8.8.8.5.5.1.cmml"><mi id="S3.E2.m1.8.8.8.8.5.5.1.2" xref="S3.E2.m1.8.8.8.8.5.5.1.2.cmml">N</mi><mi id="S3.E2.m1.8.8.8.8.5.5.1.3" xref="S3.E2.m1.8.8.8.8.5.5.1.3.cmml">b</mi></msub></munderover></mstyle><mrow id="S3.E2.m1.13.13.2.12.12.9.9.1.1.2.2"><mtext id="S3.E2.m1.9.9.9.9.6.6" xref="S3.E2.m1.9.9.9.9.6.6a.cmml">log</mtext><mo id="S3.E2.m1.13.13.2.12.12.9.9.1.1.2.2.1" xref="S3.E2.m1.12.12.1.1.1.cmml">â¢</mo><mstyle displaystyle="true" id="S3.E2.m1.10.10.10.10.7.7" xref="S3.E2.m1.10.10.10.10.7.7.cmml"><mfrac id="S3.E2.m1.10.10.10.10.7.7a" xref="S3.E2.m1.10.10.10.10.7.7.cmml"><mrow id="S3.E2.m1.10.10.10.10.7.7.1" xref="S3.E2.m1.10.10.10.10.7.7.1.cmml"><mtext id="S3.E2.m1.10.10.10.10.7.7.1.3" xref="S3.E2.m1.10.10.10.10.7.7.1.3a.cmml">exp</mtext><mo id="S3.E2.m1.10.10.10.10.7.7.1.2" xref="S3.E2.m1.10.10.10.10.7.7.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.cmml"><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.2" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.cmml"><mrow id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.cmml"><mtext id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4a.cmml">cos</mtext><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.3.cmml">â¢</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml"><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3.cmml">i</mi><mrow id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.2.cmml">T</mi><mo fence="false" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.1.cmml">|</mo><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.3.cmml">U</mi></mrow></msubsup><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.4" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.3.cmml">/</mo><msub id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.2" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.2.cmml">Ï„</mi><mi id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.3" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="S3.E2.m1.10.10.10.10.7.7.1.1.1.3" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.10.10.10.10.7.7.2" xref="S3.E2.m1.10.10.10.10.7.7.2.cmml"><msubsup id="S3.E2.m1.10.10.10.10.7.7.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.2.cmml"><mo id="S3.E2.m1.10.10.10.10.7.7.2.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.2" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.2.cmml">j</mi><mo id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.1" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.3" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E2.m1.10.10.10.10.7.7.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.2.3.2" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3.2.cmml">N</mi><mi id="S3.E2.m1.10.10.10.10.7.7.2.2.3.3" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3.3.cmml">b</mi></msub></msubsup><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1" xref="S3.E2.m1.10.10.10.10.7.7.2.1.cmml"><mtext id="S3.E2.m1.10.10.10.10.7.7.2.1.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.3a.cmml">exp</mtext><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.cmml"><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.2" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.cmml"><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.cmml"><mtext id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4a.cmml">cos</mtext><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.3.cmml">â¢</mo><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3.cmml">j</mi><mrow id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.2.cmml">T</mi><mo fence="false" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.1.cmml">|</mo><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.3.cmml">U</mi></mrow></msubsup><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.4" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.3.cmml">/</mo><msub id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.cmml"><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.2" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.2.cmml">Ï„</mi><mi id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.3" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.3" stretchy="false" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.11.11.11.11.8.8" xref="S3.E2.m1.12.12.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E2.m1.13b"><apply id="S3.E2.m1.12.12.1.1.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><eq id="S3.E2.m1.3.3.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3.3.3"></eq><apply id="S3.E2.m1.12.12.1.1.1.2.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E2.m1.12.12.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1">â„’</ci><apply id="S3.E2.m1.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1"><times id="S3.E2.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.1"></times><ci id="S3.E2.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.2">ğ‘‡</ci><ci id="S3.E2.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.3">ğ‘‡</ci></apply></apply><apply id="S3.E2.m1.12.12.1.1.1.3.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><minus id="S3.E2.m1.4.4.4.4.1.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"></minus><apply id="S3.E2.m1.12.12.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><times id="S3.E2.m1.12.12.1.1.1.3.2.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"></times><apply id="S3.E2.m1.5.5.5.5.2.2.cmml" xref="S3.E2.m1.5.5.5.5.2.2"><divide id="S3.E2.m1.5.5.5.5.2.2.1.cmml" xref="S3.E2.m1.5.5.5.5.2.2"></divide><cn id="S3.E2.m1.5.5.5.5.2.2.2.cmml" type="integer" xref="S3.E2.m1.5.5.5.5.2.2.2">1</cn><apply id="S3.E2.m1.5.5.5.5.2.2.3.cmml" xref="S3.E2.m1.5.5.5.5.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.5.2.2.3.1.cmml" xref="S3.E2.m1.5.5.5.5.2.2.3">subscript</csymbol><ci id="S3.E2.m1.5.5.5.5.2.2.3.2.cmml" xref="S3.E2.m1.5.5.5.5.2.2.3.2">ğ‘</ci><ci id="S3.E2.m1.5.5.5.5.2.2.3.3.cmml" xref="S3.E2.m1.5.5.5.5.2.2.3.3">ğ‘</ci></apply></apply><apply id="S3.E2.m1.12.12.1.1.1.3.2.3.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><apply id="S3.E2.m1.12.12.1.1.1.3.2.3.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E2.m1.12.12.1.1.1.3.2.3.1.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5">superscript</csymbol><apply id="S3.E2.m1.12.12.1.1.1.3.2.3.1.2.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E2.m1.12.12.1.1.1.3.2.3.1.2.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5">subscript</csymbol><sum id="S3.E2.m1.6.6.6.6.3.3.cmml" xref="S3.E2.m1.6.6.6.6.3.3"></sum><apply id="S3.E2.m1.7.7.7.7.4.4.1.cmml" xref="S3.E2.m1.7.7.7.7.4.4.1"><eq id="S3.E2.m1.7.7.7.7.4.4.1.1.cmml" xref="S3.E2.m1.7.7.7.7.4.4.1.1"></eq><ci id="S3.E2.m1.7.7.7.7.4.4.1.2.cmml" xref="S3.E2.m1.7.7.7.7.4.4.1.2">ğ‘–</ci><cn id="S3.E2.m1.7.7.7.7.4.4.1.3.cmml" type="integer" xref="S3.E2.m1.7.7.7.7.4.4.1.3">1</cn></apply></apply><apply id="S3.E2.m1.8.8.8.8.5.5.1.cmml" xref="S3.E2.m1.8.8.8.8.5.5.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.5.5.1.1.cmml" xref="S3.E2.m1.8.8.8.8.5.5.1">subscript</csymbol><ci id="S3.E2.m1.8.8.8.8.5.5.1.2.cmml" xref="S3.E2.m1.8.8.8.8.5.5.1.2">ğ‘</ci><ci id="S3.E2.m1.8.8.8.8.5.5.1.3.cmml" xref="S3.E2.m1.8.8.8.8.5.5.1.3">ğ‘</ci></apply></apply><apply id="S3.E2.m1.12.12.1.1.1.3.2.3.2.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"><times id="S3.E2.m1.12.12.1.1.1.3.2.3.2.1.cmml" xref="S3.E2.m1.3.3.3.3.3a.5"></times><ci id="S3.E2.m1.9.9.9.9.6.6a.cmml" xref="S3.E2.m1.9.9.9.9.6.6"><mtext id="S3.E2.m1.9.9.9.9.6.6.cmml" xref="S3.E2.m1.9.9.9.9.6.6">log</mtext></ci><apply id="S3.E2.m1.10.10.10.10.7.7.cmml" xref="S3.E2.m1.10.10.10.10.7.7"><divide id="S3.E2.m1.10.10.10.10.7.7.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7"></divide><apply id="S3.E2.m1.10.10.10.10.7.7.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1"><times id="S3.E2.m1.10.10.10.10.7.7.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.2"></times><ci id="S3.E2.m1.10.10.10.10.7.7.1.3a.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.3"><mtext id="S3.E2.m1.10.10.10.10.7.7.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.3">exp</mtext></ci><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1"><divide id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.3"></divide><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2"><times id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.3"></times><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4a.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4"><mtext id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.4">cos</mtext></ci><interval closure="open" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2"><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2">ğ¯</ci><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3"><csymbol cd="latexml" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.1">conditional</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.2">ğ‘‡</ci><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.3">ğ‘ˆ</ci></apply></apply><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3">ğ‘‡</ci></apply><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3">ğ‘–</ci></apply></interval></apply><apply id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.2">ğœ</ci><ci id="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.1.1.1.1.4.3">ğ‘</ci></apply></apply></apply><apply id="S3.E2.m1.10.10.10.10.7.7.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2"><apply id="S3.E2.m1.10.10.10.10.7.7.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2">superscript</csymbol><apply id="S3.E2.m1.10.10.10.10.7.7.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2">subscript</csymbol><sum id="S3.E2.m1.10.10.10.10.7.7.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.2"></sum><apply id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3"><eq id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.1"></eq><ci id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.2">ğ‘—</ci><cn id="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.10.10.10.10.7.7.2.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.10.10.10.10.7.7.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.2.3.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3">subscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.2.2.3.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3.2">ğ‘</ci><ci id="S3.E2.m1.10.10.10.10.7.7.2.2.3.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.2.3.3">ğ‘</ci></apply></apply><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1"><times id="S3.E2.m1.10.10.10.10.7.7.2.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.2"></times><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.3a.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.3"><mtext id="S3.E2.m1.10.10.10.10.7.7.2.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.3">exp</mtext></ci><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1"><divide id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.3"></divide><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2"><times id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.3"></times><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4a.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4"><mtext id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.4">cos</mtext></ci><interval closure="open" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2"><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2">ğ¯</ci><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3"><csymbol cd="latexml" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.1">conditional</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.2">ğ‘‡</ci><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.3">ğ‘ˆ</ci></apply></apply><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3">ğ‘—</ci></apply><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3">ğ‘‡</ci></apply><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3">ğ‘–</ci></apply></interval></apply><apply id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.1.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.2.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.2">ğœ</ci><ci id="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.3.cmml" xref="S3.E2.m1.10.10.10.10.7.7.2.1.1.1.1.4.3">ğ‘</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.13c">\displaystyle\begin{split}\mathcal{L}_{TT}=&amp;-\frac{1}{N_{b}}\!\sum_{i=1}^{N_{b%
}}\text{log}\frac{\text{exp}(\text{cos}(\mathbf{v}^{T|U}_{i},\mathbf{v}^{T}_{i%
})/\tau_{c})}{\sum_{j=1}^{N_{b}}\text{exp}(\text{cos}(\mathbf{v}^{T|U}_{j},%
\mathbf{v}^{T}_{i})/\tau_{c})},\end{split}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.13d">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT = end_CELL start_CELL - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_ARG âˆ‘ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_POSTSUPERSCRIPT log divide start_ARG exp ( cos ( bold_v start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_v start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_POSTSUPERSCRIPT exp ( cos ( bold_v start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , bold_v start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) end_ARG , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell" colspan="2"><math alttext="\displaystyle\begin{split}\mathcal{L}_{UT}=&amp;-\frac{1}{N_{b}}\!\sum_{i=1}^{N_{b%
}}\text{log}\frac{\text{exp}(\text{cos}(\mathbf{v}^{U}_{i},\mathbf{v}^{T}_{i})%
/\tau_{c})}{\sum_{j=1}^{N_{b}}\text{exp}(\text{cos}(\mathbf{v}^{U}_{j},\mathbf%
{v}^{T}_{i})/\tau_{c})},\end{split}" class="ltx_Math" display="inline" id="S3.E3.m1.13"><semantics id="S3.E3.m1.13a"><mtable columnspacing="0pt" id="S3.E3.m1.13.13.2"><mtr id="S3.E3.m1.13.13.2a"><mtd class="ltx_align_right" columnalign="right" id="S3.E3.m1.13.13.2b"><mrow id="S3.E3.m1.3.3.3.3.3a"><msub id="S3.E3.m1.3.3.3.3.3a.4"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml">â„’</mi><mrow id="S3.E3.m1.2.2.2.2.2.2.1" xref="S3.E3.m1.2.2.2.2.2.2.1.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.1.2" xref="S3.E3.m1.2.2.2.2.2.2.1.2.cmml">U</mi><mo id="S3.E3.m1.2.2.2.2.2.2.1.1" xref="S3.E3.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E3.m1.2.2.2.2.2.2.1.3" xref="S3.E3.m1.2.2.2.2.2.2.1.3.cmml">T</mi></mrow></msub><mo id="S3.E3.m1.3.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.3.cmml">=</mo><mi id="S3.E3.m1.3.3.3.3.3a.5" xref="S3.E3.m1.12.12.1.1.1.cmml"></mi></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E3.m1.13.13.2c"><mrow id="S3.E3.m1.13.13.2.12.12.9.9"><mrow id="S3.E3.m1.13.13.2.12.12.9.9.1"><mo id="S3.E3.m1.13.13.2.12.12.9.9.1a" xref="S3.E3.m1.12.12.1.1.1.cmml">âˆ’</mo><mrow id="S3.E3.m1.13.13.2.12.12.9.9.1.1"><mstyle displaystyle="true" id="S3.E3.m1.5.5.5.5.2.2" xref="S3.E3.m1.5.5.5.5.2.2.cmml"><mfrac id="S3.E3.m1.5.5.5.5.2.2a" xref="S3.E3.m1.5.5.5.5.2.2.cmml"><mn id="S3.E3.m1.5.5.5.5.2.2.2" xref="S3.E3.m1.5.5.5.5.2.2.2.cmml">1</mn><msub id="S3.E3.m1.5.5.5.5.2.2.3" xref="S3.E3.m1.5.5.5.5.2.2.3.cmml"><mi id="S3.E3.m1.5.5.5.5.2.2.3.2" xref="S3.E3.m1.5.5.5.5.2.2.3.2.cmml">N</mi><mi id="S3.E3.m1.5.5.5.5.2.2.3.3" xref="S3.E3.m1.5.5.5.5.2.2.3.3.cmml">b</mi></msub></mfrac></mstyle><mo id="S3.E3.m1.13.13.2.12.12.9.9.1.1.1" xref="S3.E3.m1.12.12.1.1.1.cmml">â¢</mo><mrow id="S3.E3.m1.13.13.2.12.12.9.9.1.1.2"><mstyle displaystyle="true" id="S3.E3.m1.13.13.2.12.12.9.9.1.1.2.1"><munderover id="S3.E3.m1.13.13.2.12.12.9.9.1.1.2.1a"><mo id="S3.E3.m1.6.6.6.6.3.3" movablelimits="false" xref="S3.E3.m1.6.6.6.6.3.3.cmml">âˆ‘</mo><mrow id="S3.E3.m1.7.7.7.7.4.4.1" xref="S3.E3.m1.7.7.7.7.4.4.1.cmml"><mi id="S3.E3.m1.7.7.7.7.4.4.1.2" xref="S3.E3.m1.7.7.7.7.4.4.1.2.cmml">i</mi><mo id="S3.E3.m1.7.7.7.7.4.4.1.1" xref="S3.E3.m1.7.7.7.7.4.4.1.1.cmml">=</mo><mn id="S3.E3.m1.7.7.7.7.4.4.1.3" xref="S3.E3.m1.7.7.7.7.4.4.1.3.cmml">1</mn></mrow><msub id="S3.E3.m1.8.8.8.8.5.5.1" xref="S3.E3.m1.8.8.8.8.5.5.1.cmml"><mi id="S3.E3.m1.8.8.8.8.5.5.1.2" xref="S3.E3.m1.8.8.8.8.5.5.1.2.cmml">N</mi><mi id="S3.E3.m1.8.8.8.8.5.5.1.3" xref="S3.E3.m1.8.8.8.8.5.5.1.3.cmml">b</mi></msub></munderover></mstyle><mrow id="S3.E3.m1.13.13.2.12.12.9.9.1.1.2.2"><mtext id="S3.E3.m1.9.9.9.9.6.6" xref="S3.E3.m1.9.9.9.9.6.6a.cmml">log</mtext><mo id="S3.E3.m1.13.13.2.12.12.9.9.1.1.2.2.1" xref="S3.E3.m1.12.12.1.1.1.cmml">â¢</mo><mstyle displaystyle="true" id="S3.E3.m1.10.10.10.10.7.7" xref="S3.E3.m1.10.10.10.10.7.7.cmml"><mfrac id="S3.E3.m1.10.10.10.10.7.7a" xref="S3.E3.m1.10.10.10.10.7.7.cmml"><mrow id="S3.E3.m1.10.10.10.10.7.7.1" xref="S3.E3.m1.10.10.10.10.7.7.1.cmml"><mtext id="S3.E3.m1.10.10.10.10.7.7.1.3" xref="S3.E3.m1.10.10.10.10.7.7.1.3a.cmml">exp</mtext><mo id="S3.E3.m1.10.10.10.10.7.7.1.2" xref="S3.E3.m1.10.10.10.10.7.7.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.cmml"><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.2" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.cmml"><mrow id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.cmml"><mtext id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4a.cmml">cos</mtext><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.3.cmml">â¢</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml"><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3.cmml">i</mi><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.cmml">U</mi></msubsup><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.4" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.3.cmml">/</mo><msub id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.2" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.2.cmml">Ï„</mi><mi id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.3" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="S3.E3.m1.10.10.10.10.7.7.1.1.1.3" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.10.10.10.10.7.7.2" xref="S3.E3.m1.10.10.10.10.7.7.2.cmml"><msubsup id="S3.E3.m1.10.10.10.10.7.7.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.2.cmml"><mo id="S3.E3.m1.10.10.10.10.7.7.2.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.2" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.2.cmml">j</mi><mo id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.1" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.1.cmml">=</mo><mn id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.3" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E3.m1.10.10.10.10.7.7.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.2.2.3.2" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3.2.cmml">N</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.2.3.3" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3.3.cmml">b</mi></msub></msubsup><mrow id="S3.E3.m1.10.10.10.10.7.7.2.1" xref="S3.E3.m1.10.10.10.10.7.7.2.1.cmml"><mtext id="S3.E3.m1.10.10.10.10.7.7.2.1.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.3a.cmml">exp</mtext><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.cmml"><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.2" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.cmml"><mrow id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.cmml"><mtext id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4a.cmml">cos</mtext><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.3.cmml">â¢</mo><mrow id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml"><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3.cmml">j</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.cmml">U</mi></msubsup><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.4" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.3.cmml">/</mo><msub id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.cmml"><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.2" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.2.cmml">Ï„</mi><mi id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.3" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.3" stretchy="false" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.11.11.11.11.8.8" xref="S3.E3.m1.12.12.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E3.m1.13b"><apply id="S3.E3.m1.12.12.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><eq id="S3.E3.m1.3.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3"></eq><apply id="S3.E3.m1.12.12.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E3.m1.12.12.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1">â„’</ci><apply id="S3.E3.m1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2.1"><times id="S3.E3.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2.1.1"></times><ci id="S3.E3.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.1.2">ğ‘ˆ</ci><ci id="S3.E3.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.1.3">ğ‘‡</ci></apply></apply><apply id="S3.E3.m1.12.12.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><minus id="S3.E3.m1.4.4.4.4.1.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"></minus><apply id="S3.E3.m1.12.12.1.1.1.3.2.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><times id="S3.E3.m1.12.12.1.1.1.3.2.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"></times><apply id="S3.E3.m1.5.5.5.5.2.2.cmml" xref="S3.E3.m1.5.5.5.5.2.2"><divide id="S3.E3.m1.5.5.5.5.2.2.1.cmml" xref="S3.E3.m1.5.5.5.5.2.2"></divide><cn id="S3.E3.m1.5.5.5.5.2.2.2.cmml" type="integer" xref="S3.E3.m1.5.5.5.5.2.2.2">1</cn><apply id="S3.E3.m1.5.5.5.5.2.2.3.cmml" xref="S3.E3.m1.5.5.5.5.2.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.5.2.2.3.1.cmml" xref="S3.E3.m1.5.5.5.5.2.2.3">subscript</csymbol><ci id="S3.E3.m1.5.5.5.5.2.2.3.2.cmml" xref="S3.E3.m1.5.5.5.5.2.2.3.2">ğ‘</ci><ci id="S3.E3.m1.5.5.5.5.2.2.3.3.cmml" xref="S3.E3.m1.5.5.5.5.2.2.3.3">ğ‘</ci></apply></apply><apply id="S3.E3.m1.12.12.1.1.1.3.2.3.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><apply id="S3.E3.m1.12.12.1.1.1.3.2.3.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E3.m1.12.12.1.1.1.3.2.3.1.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5">superscript</csymbol><apply id="S3.E3.m1.12.12.1.1.1.3.2.3.1.2.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><csymbol cd="ambiguous" id="S3.E3.m1.12.12.1.1.1.3.2.3.1.2.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5">subscript</csymbol><sum id="S3.E3.m1.6.6.6.6.3.3.cmml" xref="S3.E3.m1.6.6.6.6.3.3"></sum><apply id="S3.E3.m1.7.7.7.7.4.4.1.cmml" xref="S3.E3.m1.7.7.7.7.4.4.1"><eq id="S3.E3.m1.7.7.7.7.4.4.1.1.cmml" xref="S3.E3.m1.7.7.7.7.4.4.1.1"></eq><ci id="S3.E3.m1.7.7.7.7.4.4.1.2.cmml" xref="S3.E3.m1.7.7.7.7.4.4.1.2">ğ‘–</ci><cn id="S3.E3.m1.7.7.7.7.4.4.1.3.cmml" type="integer" xref="S3.E3.m1.7.7.7.7.4.4.1.3">1</cn></apply></apply><apply id="S3.E3.m1.8.8.8.8.5.5.1.cmml" xref="S3.E3.m1.8.8.8.8.5.5.1"><csymbol cd="ambiguous" id="S3.E3.m1.8.8.8.8.5.5.1.1.cmml" xref="S3.E3.m1.8.8.8.8.5.5.1">subscript</csymbol><ci id="S3.E3.m1.8.8.8.8.5.5.1.2.cmml" xref="S3.E3.m1.8.8.8.8.5.5.1.2">ğ‘</ci><ci id="S3.E3.m1.8.8.8.8.5.5.1.3.cmml" xref="S3.E3.m1.8.8.8.8.5.5.1.3">ğ‘</ci></apply></apply><apply id="S3.E3.m1.12.12.1.1.1.3.2.3.2.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"><times id="S3.E3.m1.12.12.1.1.1.3.2.3.2.1.cmml" xref="S3.E3.m1.3.3.3.3.3a.5"></times><ci id="S3.E3.m1.9.9.9.9.6.6a.cmml" xref="S3.E3.m1.9.9.9.9.6.6"><mtext id="S3.E3.m1.9.9.9.9.6.6.cmml" xref="S3.E3.m1.9.9.9.9.6.6">log</mtext></ci><apply id="S3.E3.m1.10.10.10.10.7.7.cmml" xref="S3.E3.m1.10.10.10.10.7.7"><divide id="S3.E3.m1.10.10.10.10.7.7.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7"></divide><apply id="S3.E3.m1.10.10.10.10.7.7.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1"><times id="S3.E3.m1.10.10.10.10.7.7.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.2"></times><ci id="S3.E3.m1.10.10.10.10.7.7.1.3a.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.3"><mtext id="S3.E3.m1.10.10.10.10.7.7.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.3">exp</mtext></ci><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1"><divide id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.3"></divide><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2"><times id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.3"></times><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4a.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4"><mtext id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.4">cos</mtext></ci><interval closure="open" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2"><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.2">ğ¯</ci><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.2.3">ğ‘ˆ</ci></apply><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.2.3">ğ‘‡</ci></apply><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.2.2.2.2.3">ğ‘–</ci></apply></interval></apply><apply id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.2">ğœ</ci><ci id="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.1.1.1.1.4.3">ğ‘</ci></apply></apply></apply><apply id="S3.E3.m1.10.10.10.10.7.7.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2"><apply id="S3.E3.m1.10.10.10.10.7.7.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2">superscript</csymbol><apply id="S3.E3.m1.10.10.10.10.7.7.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2">subscript</csymbol><sum id="S3.E3.m1.10.10.10.10.7.7.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.2"></sum><apply id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3"><eq id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.1"></eq><ci id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.2">ğ‘—</ci><cn id="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.3.cmml" type="integer" xref="S3.E3.m1.10.10.10.10.7.7.2.2.2.3.3">1</cn></apply></apply><apply id="S3.E3.m1.10.10.10.10.7.7.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.2.3.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3">subscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.2.2.3.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3.2">ğ‘</ci><ci id="S3.E3.m1.10.10.10.10.7.7.2.2.3.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.2.3.3">ğ‘</ci></apply></apply><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1"><times id="S3.E3.m1.10.10.10.10.7.7.2.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.2"></times><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.3a.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.3"><mtext id="S3.E3.m1.10.10.10.10.7.7.2.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.3">exp</mtext></ci><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1"><divide id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.3"></divide><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2"><times id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.3"></times><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4a.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4"><mtext id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.4">cos</mtext></ci><interval closure="open" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2"><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.2">ğ¯</ci><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.2.3">ğ‘ˆ</ci></apply><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.1.1.1.1.3">ğ‘—</ci></apply><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.2.3">ğ‘‡</ci></apply><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.2.2.2.2.3">ğ‘–</ci></apply></interval></apply><apply id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.1.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.2.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.2">ğœ</ci><ci id="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.3.cmml" xref="S3.E3.m1.10.10.10.10.7.7.2.1.1.1.1.4.3">ğ‘</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.13c">\displaystyle\begin{split}\mathcal{L}_{UT}=&amp;-\frac{1}{N_{b}}\!\sum_{i=1}^{N_{b%
}}\text{log}\frac{\text{exp}(\text{cos}(\mathbf{v}^{U}_{i},\mathbf{v}^{T}_{i})%
/\tau_{c})}{\sum_{j=1}^{N_{b}}\text{exp}(\text{cos}(\mathbf{v}^{U}_{j},\mathbf%
{v}^{T}_{i})/\tau_{c})},\end{split}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.13d">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_U italic_T end_POSTSUBSCRIPT = end_CELL start_CELL - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_ARG âˆ‘ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_POSTSUPERSCRIPT log divide start_ARG exp ( cos ( bold_v start_POSTSUPERSCRIPT italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_v start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT end_POSTSUPERSCRIPT exp ( cos ( bold_v start_POSTSUPERSCRIPT italic_U end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , bold_v start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) end_ARG , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p2.6">where in-batch negative samples are adopted, <math alttext="N_{b}" class="ltx_Math" display="inline" id="S3.SS4.p2.4.m1.1"><semantics id="S3.SS4.p2.4.m1.1a"><msub id="S3.SS4.p2.4.m1.1.1" xref="S3.SS4.p2.4.m1.1.1.cmml"><mi id="S3.SS4.p2.4.m1.1.1.2" xref="S3.SS4.p2.4.m1.1.1.2.cmml">N</mi><mi id="S3.SS4.p2.4.m1.1.1.3" xref="S3.SS4.p2.4.m1.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m1.1b"><apply id="S3.SS4.p2.4.m1.1.1.cmml" xref="S3.SS4.p2.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.4.m1.1.1.1.cmml" xref="S3.SS4.p2.4.m1.1.1">subscript</csymbol><ci id="S3.SS4.p2.4.m1.1.1.2.cmml" xref="S3.SS4.p2.4.m1.1.1.2">ğ‘</ci><ci id="S3.SS4.p2.4.m1.1.1.3.cmml" xref="S3.SS4.p2.4.m1.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m1.1c">N_{b}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.4.m1.1d">italic_N start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT</annotation></semantics></math> is the batch size (number of user sequences in a training batch), <math alttext="\text{cos}(\cdot,\cdot)" class="ltx_Math" display="inline" id="S3.SS4.p2.5.m2.2"><semantics id="S3.SS4.p2.5.m2.2a"><mrow id="S3.SS4.p2.5.m2.2.3" xref="S3.SS4.p2.5.m2.2.3.cmml"><mtext id="S3.SS4.p2.5.m2.2.3.2" xref="S3.SS4.p2.5.m2.2.3.2a.cmml">cos</mtext><mo id="S3.SS4.p2.5.m2.2.3.1" xref="S3.SS4.p2.5.m2.2.3.1.cmml">â¢</mo><mrow id="S3.SS4.p2.5.m2.2.3.3.2" xref="S3.SS4.p2.5.m2.2.3.3.1.cmml"><mo id="S3.SS4.p2.5.m2.2.3.3.2.1" stretchy="false" xref="S3.SS4.p2.5.m2.2.3.3.1.cmml">(</mo><mo id="S3.SS4.p2.5.m2.1.1" lspace="0em" rspace="0em" xref="S3.SS4.p2.5.m2.1.1.cmml">â‹…</mo><mo id="S3.SS4.p2.5.m2.2.3.3.2.2" rspace="0em" xref="S3.SS4.p2.5.m2.2.3.3.1.cmml">,</mo><mo id="S3.SS4.p2.5.m2.2.2" lspace="0em" rspace="0em" xref="S3.SS4.p2.5.m2.2.2.cmml">â‹…</mo><mo id="S3.SS4.p2.5.m2.2.3.3.2.3" stretchy="false" xref="S3.SS4.p2.5.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m2.2b"><apply id="S3.SS4.p2.5.m2.2.3.cmml" xref="S3.SS4.p2.5.m2.2.3"><times id="S3.SS4.p2.5.m2.2.3.1.cmml" xref="S3.SS4.p2.5.m2.2.3.1"></times><ci id="S3.SS4.p2.5.m2.2.3.2a.cmml" xref="S3.SS4.p2.5.m2.2.3.2"><mtext id="S3.SS4.p2.5.m2.2.3.2.cmml" xref="S3.SS4.p2.5.m2.2.3.2">cos</mtext></ci><interval closure="open" id="S3.SS4.p2.5.m2.2.3.3.1.cmml" xref="S3.SS4.p2.5.m2.2.3.3.2"><ci id="S3.SS4.p2.5.m2.1.1.cmml" xref="S3.SS4.p2.5.m2.1.1">â‹…</ci><ci id="S3.SS4.p2.5.m2.2.2.cmml" xref="S3.SS4.p2.5.m2.2.2">â‹…</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m2.2c">\text{cos}(\cdot,\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.5.m2.2d">cos ( â‹… , â‹… )</annotation></semantics></math> calculates the cosine similarity between two input vectors, and <math alttext="\tau_{c}" class="ltx_Math" display="inline" id="S3.SS4.p2.6.m3.1"><semantics id="S3.SS4.p2.6.m3.1a"><msub id="S3.SS4.p2.6.m3.1.1" xref="S3.SS4.p2.6.m3.1.1.cmml"><mi id="S3.SS4.p2.6.m3.1.1.2" xref="S3.SS4.p2.6.m3.1.1.2.cmml">Ï„</mi><mi id="S3.SS4.p2.6.m3.1.1.3" xref="S3.SS4.p2.6.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m3.1b"><apply id="S3.SS4.p2.6.m3.1.1.cmml" xref="S3.SS4.p2.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.6.m3.1.1.1.cmml" xref="S3.SS4.p2.6.m3.1.1">subscript</csymbol><ci id="S3.SS4.p2.6.m3.1.1.2.cmml" xref="S3.SS4.p2.6.m3.1.1.2">ğœ</ci><ci id="S3.SS4.p2.6.m3.1.1.3.cmml" xref="S3.SS4.p2.6.m3.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m3.1c">\tau_{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.6.m3.1d">italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> is the temperature for contrastive alignments.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">Our final training objective is a mixture of <math alttext="\mathcal{L}_{NIG}" class="ltx_Math" display="inline" id="S3.SS4.p3.1.m1.1"><semantics id="S3.SS4.p3.1.m1.1a"><msub id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.1.m1.1.1.2" xref="S3.SS4.p3.1.m1.1.1.2.cmml">â„’</mi><mrow id="S3.SS4.p3.1.m1.1.1.3" xref="S3.SS4.p3.1.m1.1.1.3.cmml"><mi id="S3.SS4.p3.1.m1.1.1.3.2" xref="S3.SS4.p3.1.m1.1.1.3.2.cmml">N</mi><mo id="S3.SS4.p3.1.m1.1.1.3.1" xref="S3.SS4.p3.1.m1.1.1.3.1.cmml">â¢</mo><mi id="S3.SS4.p3.1.m1.1.1.3.3" xref="S3.SS4.p3.1.m1.1.1.3.3.cmml">I</mi><mo id="S3.SS4.p3.1.m1.1.1.3.1a" xref="S3.SS4.p3.1.m1.1.1.3.1.cmml">â¢</mo><mi id="S3.SS4.p3.1.m1.1.1.3.4" xref="S3.SS4.p3.1.m1.1.1.3.4.cmml">G</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><apply id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.1.m1.1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.1.m1.1.1.2.cmml" xref="S3.SS4.p3.1.m1.1.1.2">â„’</ci><apply id="S3.SS4.p3.1.m1.1.1.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3"><times id="S3.SS4.p3.1.m1.1.1.3.1.cmml" xref="S3.SS4.p3.1.m1.1.1.3.1"></times><ci id="S3.SS4.p3.1.m1.1.1.3.2.cmml" xref="S3.SS4.p3.1.m1.1.1.3.2">ğ‘</ci><ci id="S3.SS4.p3.1.m1.1.1.3.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3.3">ğ¼</ci><ci id="S3.SS4.p3.1.m1.1.1.3.4.cmml" xref="S3.SS4.p3.1.m1.1.1.3.4">ğº</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">\mathcal{L}_{NIG}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_N italic_I italic_G end_POSTSUBSCRIPT</annotation></semantics></math> and contrastive losses as shown in Fig.Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.F1" title="Figure 1 â€£ 3.1. Preliminaries and Terminology â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx2">
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell" colspan="2"><math alttext="\displaystyle\begin{split}\mathcal{L}_{CALRec}=(1-\alpha-\beta)\mathcal{L}_{%
NIG}+\alpha\mathcal{L}_{TT}+\beta\mathcal{L}_{UT}.\end{split}" class="ltx_Math" display="inline" id="S3.E4.m1.23"><semantics id="S3.E4.m1.23a"><mtable id="S3.E4.m1.23.23.2"><mtr id="S3.E4.m1.23.23.2a"><mtd class="ltx_align_right" columnalign="right" id="S3.E4.m1.23.23.2b"><mrow id="S3.E4.m1.23.23.2.22.22.22.22"><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1"><msub id="S3.E4.m1.23.23.2.22.22.22.22.1.2"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">â„’</mi><mrow id="S3.E4.m1.2.2.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.2.2.1.cmml"><mi id="S3.E4.m1.2.2.2.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.2.2.1.2.cmml">C</mi><mo id="S3.E4.m1.2.2.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E4.m1.2.2.2.2.2.2.1.3" xref="S3.E4.m1.2.2.2.2.2.2.1.3.cmml">A</mi><mo id="S3.E4.m1.2.2.2.2.2.2.1.1a" xref="S3.E4.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E4.m1.2.2.2.2.2.2.1.4" xref="S3.E4.m1.2.2.2.2.2.2.1.4.cmml">L</mi><mo id="S3.E4.m1.2.2.2.2.2.2.1.1b" xref="S3.E4.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E4.m1.2.2.2.2.2.2.1.5" xref="S3.E4.m1.2.2.2.2.2.2.1.5.cmml">R</mi><mo id="S3.E4.m1.2.2.2.2.2.2.1.1c" xref="S3.E4.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E4.m1.2.2.2.2.2.2.1.6" xref="S3.E4.m1.2.2.2.2.2.2.1.6.cmml">e</mi><mo id="S3.E4.m1.2.2.2.2.2.2.1.1d" xref="S3.E4.m1.2.2.2.2.2.2.1.1.cmml">â¢</mo><mi id="S3.E4.m1.2.2.2.2.2.2.1.7" xref="S3.E4.m1.2.2.2.2.2.2.1.7.cmml">c</mi></mrow></msub><mo id="S3.E4.m1.3.3.3.3.3.3" xref="S3.E4.m1.3.3.3.3.3.3.cmml">=</mo><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1"><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1.1"><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1.1.1.1"><mo id="S3.E4.m1.4.4.4.4.4.4" stretchy="false" xref="S3.E4.m1.22.22.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1.1.1.1.1"><mn id="S3.E4.m1.5.5.5.5.5.5" xref="S3.E4.m1.5.5.5.5.5.5.cmml">1</mn><mo id="S3.E4.m1.6.6.6.6.6.6" xref="S3.E4.m1.6.6.6.6.6.6.cmml">âˆ’</mo><mi id="S3.E4.m1.7.7.7.7.7.7" xref="S3.E4.m1.7.7.7.7.7.7.cmml">Î±</mi><mo id="S3.E4.m1.6.6.6.6.6.6a" xref="S3.E4.m1.6.6.6.6.6.6.cmml">âˆ’</mo><mi id="S3.E4.m1.9.9.9.9.9.9" xref="S3.E4.m1.9.9.9.9.9.9.cmml">Î²</mi></mrow><mo id="S3.E4.m1.10.10.10.10.10.10" stretchy="false" xref="S3.E4.m1.22.22.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.23.23.2.22.22.22.22.1.1.1.2" xref="S3.E4.m1.22.22.1.1.1.cmml">â¢</mo><msub id="S3.E4.m1.23.23.2.22.22.22.22.1.1.1.3"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.11.11.11.11.11.11" xref="S3.E4.m1.11.11.11.11.11.11.cmml">â„’</mi><mrow id="S3.E4.m1.12.12.12.12.12.12.1" xref="S3.E4.m1.12.12.12.12.12.12.1.cmml"><mi id="S3.E4.m1.12.12.12.12.12.12.1.2" xref="S3.E4.m1.12.12.12.12.12.12.1.2.cmml">N</mi><mo id="S3.E4.m1.12.12.12.12.12.12.1.1" xref="S3.E4.m1.12.12.12.12.12.12.1.1.cmml">â¢</mo><mi id="S3.E4.m1.12.12.12.12.12.12.1.3" xref="S3.E4.m1.12.12.12.12.12.12.1.3.cmml">I</mi><mo id="S3.E4.m1.12.12.12.12.12.12.1.1a" xref="S3.E4.m1.12.12.12.12.12.12.1.1.cmml">â¢</mo><mi id="S3.E4.m1.12.12.12.12.12.12.1.4" xref="S3.E4.m1.12.12.12.12.12.12.1.4.cmml">G</mi></mrow></msub></mrow><mo id="S3.E4.m1.13.13.13.13.13.13" xref="S3.E4.m1.13.13.13.13.13.13.cmml">+</mo><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1.2"><mi id="S3.E4.m1.14.14.14.14.14.14" xref="S3.E4.m1.14.14.14.14.14.14.cmml">Î±</mi><mo id="S3.E4.m1.23.23.2.22.22.22.22.1.1.2.1" xref="S3.E4.m1.22.22.1.1.1.cmml">â¢</mo><msub id="S3.E4.m1.23.23.2.22.22.22.22.1.1.2.2"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.15.15.15.15.15.15" xref="S3.E4.m1.15.15.15.15.15.15.cmml">â„’</mi><mrow id="S3.E4.m1.16.16.16.16.16.16.1" xref="S3.E4.m1.16.16.16.16.16.16.1.cmml"><mi id="S3.E4.m1.16.16.16.16.16.16.1.2" xref="S3.E4.m1.16.16.16.16.16.16.1.2.cmml">T</mi><mo id="S3.E4.m1.16.16.16.16.16.16.1.1" xref="S3.E4.m1.16.16.16.16.16.16.1.1.cmml">â¢</mo><mi id="S3.E4.m1.16.16.16.16.16.16.1.3" xref="S3.E4.m1.16.16.16.16.16.16.1.3.cmml">T</mi></mrow></msub></mrow><mo id="S3.E4.m1.13.13.13.13.13.13a" xref="S3.E4.m1.13.13.13.13.13.13.cmml">+</mo><mrow id="S3.E4.m1.23.23.2.22.22.22.22.1.1.3"><mi id="S3.E4.m1.18.18.18.18.18.18" xref="S3.E4.m1.18.18.18.18.18.18.cmml">Î²</mi><mo id="S3.E4.m1.23.23.2.22.22.22.22.1.1.3.1" xref="S3.E4.m1.22.22.1.1.1.cmml">â¢</mo><msub id="S3.E4.m1.23.23.2.22.22.22.22.1.1.3.2"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.19.19.19.19.19.19" xref="S3.E4.m1.19.19.19.19.19.19.cmml">â„’</mi><mrow id="S3.E4.m1.20.20.20.20.20.20.1" xref="S3.E4.m1.20.20.20.20.20.20.1.cmml"><mi id="S3.E4.m1.20.20.20.20.20.20.1.2" xref="S3.E4.m1.20.20.20.20.20.20.1.2.cmml">U</mi><mo id="S3.E4.m1.20.20.20.20.20.20.1.1" xref="S3.E4.m1.20.20.20.20.20.20.1.1.cmml">â¢</mo><mi id="S3.E4.m1.20.20.20.20.20.20.1.3" xref="S3.E4.m1.20.20.20.20.20.20.1.3.cmml">T</mi></mrow></msub></mrow></mrow></mrow><mo id="S3.E4.m1.21.21.21.21.21.21" lspace="0em" xref="S3.E4.m1.22.22.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E4.m1.23b"><apply id="S3.E4.m1.22.22.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><eq id="S3.E4.m1.3.3.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3.3.3"></eq><apply id="S3.E4.m1.22.22.1.1.1.3.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.E4.m1.22.22.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">â„’</ci><apply id="S3.E4.m1.2.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1"><times id="S3.E4.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.1"></times><ci id="S3.E4.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.2">ğ¶</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.3">ğ´</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1.4.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.4">ğ¿</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1.5.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.5">ğ‘…</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1.6.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.6">ğ‘’</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1.7.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1.7">ğ‘</ci></apply></apply><apply id="S3.E4.m1.22.22.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><plus id="S3.E4.m1.13.13.13.13.13.13.cmml" xref="S3.E4.m1.13.13.13.13.13.13"></plus><apply id="S3.E4.m1.22.22.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><times id="S3.E4.m1.22.22.1.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.4.4.4.4"></times><apply id="S3.E4.m1.22.22.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><minus id="S3.E4.m1.6.6.6.6.6.6.cmml" xref="S3.E4.m1.6.6.6.6.6.6"></minus><cn id="S3.E4.m1.5.5.5.5.5.5.cmml" type="integer" xref="S3.E4.m1.5.5.5.5.5.5">1</cn><ci id="S3.E4.m1.7.7.7.7.7.7.cmml" xref="S3.E4.m1.7.7.7.7.7.7">ğ›¼</ci><ci id="S3.E4.m1.9.9.9.9.9.9.cmml" xref="S3.E4.m1.9.9.9.9.9.9">ğ›½</ci></apply><apply id="S3.E4.m1.22.22.1.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.E4.m1.22.22.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4">subscript</csymbol><ci id="S3.E4.m1.11.11.11.11.11.11.cmml" xref="S3.E4.m1.11.11.11.11.11.11">â„’</ci><apply id="S3.E4.m1.12.12.12.12.12.12.1.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1"><times id="S3.E4.m1.12.12.12.12.12.12.1.1.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1.1"></times><ci id="S3.E4.m1.12.12.12.12.12.12.1.2.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1.2">ğ‘</ci><ci id="S3.E4.m1.12.12.12.12.12.12.1.3.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1.3">ğ¼</ci><ci id="S3.E4.m1.12.12.12.12.12.12.1.4.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1.4">ğº</ci></apply></apply></apply><apply id="S3.E4.m1.22.22.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><times id="S3.E4.m1.22.22.1.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"></times><ci id="S3.E4.m1.14.14.14.14.14.14.cmml" xref="S3.E4.m1.14.14.14.14.14.14">ğ›¼</ci><apply id="S3.E4.m1.22.22.1.1.1.1.3.3.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.E4.m1.22.22.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4">subscript</csymbol><ci id="S3.E4.m1.15.15.15.15.15.15.cmml" xref="S3.E4.m1.15.15.15.15.15.15">â„’</ci><apply id="S3.E4.m1.16.16.16.16.16.16.1.cmml" xref="S3.E4.m1.16.16.16.16.16.16.1"><times id="S3.E4.m1.16.16.16.16.16.16.1.1.cmml" xref="S3.E4.m1.16.16.16.16.16.16.1.1"></times><ci id="S3.E4.m1.16.16.16.16.16.16.1.2.cmml" xref="S3.E4.m1.16.16.16.16.16.16.1.2">ğ‘‡</ci><ci id="S3.E4.m1.16.16.16.16.16.16.1.3.cmml" xref="S3.E4.m1.16.16.16.16.16.16.1.3">ğ‘‡</ci></apply></apply></apply><apply id="S3.E4.m1.22.22.1.1.1.1.4.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><times id="S3.E4.m1.22.22.1.1.1.1.4.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4"></times><ci id="S3.E4.m1.18.18.18.18.18.18.cmml" xref="S3.E4.m1.18.18.18.18.18.18">ğ›½</ci><apply id="S3.E4.m1.22.22.1.1.1.1.4.3.cmml" xref="S3.E4.m1.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.E4.m1.22.22.1.1.1.1.4.3.1.cmml" xref="S3.E4.m1.4.4.4.4.4.4">subscript</csymbol><ci id="S3.E4.m1.19.19.19.19.19.19.cmml" xref="S3.E4.m1.19.19.19.19.19.19">â„’</ci><apply id="S3.E4.m1.20.20.20.20.20.20.1.cmml" xref="S3.E4.m1.20.20.20.20.20.20.1"><times id="S3.E4.m1.20.20.20.20.20.20.1.1.cmml" xref="S3.E4.m1.20.20.20.20.20.20.1.1"></times><ci id="S3.E4.m1.20.20.20.20.20.20.1.2.cmml" xref="S3.E4.m1.20.20.20.20.20.20.1.2">ğ‘ˆ</ci><ci id="S3.E4.m1.20.20.20.20.20.20.1.3.cmml" xref="S3.E4.m1.20.20.20.20.20.20.1.3">ğ‘‡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.23c">\displaystyle\begin{split}\mathcal{L}_{CALRec}=(1-\alpha-\beta)\mathcal{L}_{%
NIG}+\alpha\mathcal{L}_{TT}+\beta\mathcal{L}_{UT}.\end{split}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.23d">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_C italic_A italic_L italic_R italic_e italic_c end_POSTSUBSCRIPT = ( 1 - italic_Î± - italic_Î² ) caligraphic_L start_POSTSUBSCRIPT italic_N italic_I italic_G end_POSTSUBSCRIPT + italic_Î± caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT + italic_Î² caligraphic_L start_POSTSUBSCRIPT italic_U italic_T end_POSTSUBSCRIPT . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Quasi-Round-Robin BM25 Retrieval</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.5">At inference, we prompt the model with the text description of userâ€™s history of interactions (see also Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.SS2" title="3.2. Data Format and Template Design â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a>). To obtain more than one candidate next-item prediction, we conduct temperature samplingÂ <cite class="ltx_cite ltx_citemacro_citep">(Fan etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib13" title="">2018</a>)</cite> to generate <math alttext="N_{\text{gen}}" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">N</mi><mtext id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3a.cmml">gen</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">ğ‘</ci><ci id="S3.SS5.p1.1.m1.1.1.3a.cmml" xref="S3.SS5.p1.1.m1.1.1.3"><mtext id="S3.SS5.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p1.1.m1.1.1.3">gen</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">N_{\text{gen}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.1.m1.1d">italic_N start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT</annotation></semantics></math> pieces of text as <math alttext="N_{\text{gen}}" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><msub id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml"><mi id="S3.SS5.p1.2.m2.1.1.2" xref="S3.SS5.p1.2.m2.1.1.2.cmml">N</mi><mtext id="S3.SS5.p1.2.m2.1.1.3" xref="S3.SS5.p1.2.m2.1.1.3a.cmml">gen</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><apply id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.2.m2.1.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p1.2.m2.1.1.2.cmml" xref="S3.SS5.p1.2.m2.1.1.2">ğ‘</ci><ci id="S3.SS5.p1.2.m2.1.1.3a.cmml" xref="S3.SS5.p1.2.m2.1.1.3"><mtext id="S3.SS5.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p1.2.m2.1.1.3">gen</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">N_{\text{gen}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.2.m2.1d">italic_N start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT</annotation></semantics></math> predictions for the next item. Each of the <math alttext="N_{\text{gen}}" class="ltx_Math" display="inline" id="S3.SS5.p1.3.m3.1"><semantics id="S3.SS5.p1.3.m3.1a"><msub id="S3.SS5.p1.3.m3.1.1" xref="S3.SS5.p1.3.m3.1.1.cmml"><mi id="S3.SS5.p1.3.m3.1.1.2" xref="S3.SS5.p1.3.m3.1.1.2.cmml">N</mi><mtext id="S3.SS5.p1.3.m3.1.1.3" xref="S3.SS5.p1.3.m3.1.1.3a.cmml">gen</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.3.m3.1b"><apply id="S3.SS5.p1.3.m3.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2">ğ‘</ci><ci id="S3.SS5.p1.3.m3.1.1.3a.cmml" xref="S3.SS5.p1.3.m3.1.1.3"><mtext id="S3.SS5.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p1.3.m3.1.1.3">gen</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.3.m3.1c">N_{\text{gen}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.3.m3.1d">italic_N start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT</annotation></semantics></math> predictions is associated with its sequence score <math alttext="s" class="ltx_Math" display="inline" id="S3.SS5.p1.4.m4.1"><semantics id="S3.SS5.p1.4.m4.1a"><mi id="S3.SS5.p1.4.m4.1.1" xref="S3.SS5.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.4.m4.1b"><ci id="S3.SS5.p1.4.m4.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1">ğ‘ </ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.4.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.4.m4.1d">italic_s</annotation></semantics></math> (i.e., log probability, which is a negative real number typically in the range of <math alttext="(-10,0)" class="ltx_Math" display="inline" id="S3.SS5.p1.5.m5.2"><semantics id="S3.SS5.p1.5.m5.2a"><mrow id="S3.SS5.p1.5.m5.2.2.1" xref="S3.SS5.p1.5.m5.2.2.2.cmml"><mo id="S3.SS5.p1.5.m5.2.2.1.2" stretchy="false" xref="S3.SS5.p1.5.m5.2.2.2.cmml">(</mo><mrow id="S3.SS5.p1.5.m5.2.2.1.1" xref="S3.SS5.p1.5.m5.2.2.1.1.cmml"><mo id="S3.SS5.p1.5.m5.2.2.1.1a" xref="S3.SS5.p1.5.m5.2.2.1.1.cmml">âˆ’</mo><mn id="S3.SS5.p1.5.m5.2.2.1.1.2" xref="S3.SS5.p1.5.m5.2.2.1.1.2.cmml">10</mn></mrow><mo id="S3.SS5.p1.5.m5.2.2.1.3" xref="S3.SS5.p1.5.m5.2.2.2.cmml">,</mo><mn id="S3.SS5.p1.5.m5.1.1" xref="S3.SS5.p1.5.m5.1.1.cmml">0</mn><mo id="S3.SS5.p1.5.m5.2.2.1.4" stretchy="false" xref="S3.SS5.p1.5.m5.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.5.m5.2b"><interval closure="open" id="S3.SS5.p1.5.m5.2.2.2.cmml" xref="S3.SS5.p1.5.m5.2.2.1"><apply id="S3.SS5.p1.5.m5.2.2.1.1.cmml" xref="S3.SS5.p1.5.m5.2.2.1.1"><minus id="S3.SS5.p1.5.m5.2.2.1.1.1.cmml" xref="S3.SS5.p1.5.m5.2.2.1.1"></minus><cn id="S3.SS5.p1.5.m5.2.2.1.1.2.cmml" type="integer" xref="S3.SS5.p1.5.m5.2.2.1.1.2">10</cn></apply><cn id="S3.SS5.p1.5.m5.1.1.cmml" type="integer" xref="S3.SS5.p1.5.m5.1.1">0</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.5.m5.2c">(-10,0)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.5.m5.2d">( - 10 , 0 )</annotation></semantics></math>, as observed on our data).</p>
</div>
<figure class="ltx_float ltx_algorithm" id="alg1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="alg1.53">
<div class="ltx_listingline" id="alg1.53.54">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.54.1.1.1" style="font-size:80%;">1</span></span>
<span class="ltx_text" id="alg1.53.54.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.2.2">
<span class="ltx_text ltx_font_bold" id="alg1.2.2.1" style="font-size:80%;">Input :</span><span class="ltx_text" id="alg1.2.2.2" style="font-size:80%;">Â 
</span><math alttext="samples" class="ltx_Math" display="inline" id="alg1.1.1.m1.1"><semantics id="alg1.1.1.m1.1a"><mrow id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml"><mi id="alg1.1.1.m1.1.1.2" mathsize="80%" xref="alg1.1.1.m1.1.1.2.cmml">s</mi><mo id="alg1.1.1.m1.1.1.1" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.3" mathsize="80%" xref="alg1.1.1.m1.1.1.3.cmml">a</mi><mo id="alg1.1.1.m1.1.1.1a" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.4" mathsize="80%" xref="alg1.1.1.m1.1.1.4.cmml">m</mi><mo id="alg1.1.1.m1.1.1.1b" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.5" mathsize="80%" xref="alg1.1.1.m1.1.1.5.cmml">p</mi><mo id="alg1.1.1.m1.1.1.1c" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.6" mathsize="80%" xref="alg1.1.1.m1.1.1.6.cmml">l</mi><mo id="alg1.1.1.m1.1.1.1d" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.7" mathsize="80%" xref="alg1.1.1.m1.1.1.7.cmml">e</mi><mo id="alg1.1.1.m1.1.1.1e" xref="alg1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.1.1.m1.1.1.8" mathsize="80%" xref="alg1.1.1.m1.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.1b"><apply id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1"><times id="alg1.1.1.m1.1.1.1.cmml" xref="alg1.1.1.m1.1.1.1"></times><ci id="alg1.1.1.m1.1.1.2.cmml" xref="alg1.1.1.m1.1.1.2">ğ‘ </ci><ci id="alg1.1.1.m1.1.1.3.cmml" xref="alg1.1.1.m1.1.1.3">ğ‘</ci><ci id="alg1.1.1.m1.1.1.4.cmml" xref="alg1.1.1.m1.1.1.4">ğ‘š</ci><ci id="alg1.1.1.m1.1.1.5.cmml" xref="alg1.1.1.m1.1.1.5">ğ‘</ci><ci id="alg1.1.1.m1.1.1.6.cmml" xref="alg1.1.1.m1.1.1.6">ğ‘™</ci><ci id="alg1.1.1.m1.1.1.7.cmml" xref="alg1.1.1.m1.1.1.7">ğ‘’</ci><ci id="alg1.1.1.m1.1.1.8.cmml" xref="alg1.1.1.m1.1.1.8">ğ‘ </ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.1c">samples</annotation><annotation encoding="application/x-llamapun" id="alg1.1.1.m1.1d">italic_s italic_a italic_m italic_p italic_l italic_e italic_s</annotation></semantics></math><span class="ltx_text" id="alg1.2.2.3" style="font-size:80%;">, output texts sampled from the LLM (size = </span><math alttext="N_{\text{gen}}" class="ltx_Math" display="inline" id="alg1.2.2.m2.1"><semantics id="alg1.2.2.m2.1a"><msub id="alg1.2.2.m2.1.1" xref="alg1.2.2.m2.1.1.cmml"><mi id="alg1.2.2.m2.1.1.2" mathsize="80%" xref="alg1.2.2.m2.1.1.2.cmml">N</mi><mtext id="alg1.2.2.m2.1.1.3" mathsize="80%" xref="alg1.2.2.m2.1.1.3a.cmml">gen</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.2.2.m2.1b"><apply id="alg1.2.2.m2.1.1.cmml" xref="alg1.2.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.2.2.m2.1.1.1.cmml" xref="alg1.2.2.m2.1.1">subscript</csymbol><ci id="alg1.2.2.m2.1.1.2.cmml" xref="alg1.2.2.m2.1.1.2">ğ‘</ci><ci id="alg1.2.2.m2.1.1.3a.cmml" xref="alg1.2.2.m2.1.1.3"><mtext id="alg1.2.2.m2.1.1.3.cmml" mathsize="56%" xref="alg1.2.2.m2.1.1.3">gen</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m2.1c">N_{\text{gen}}</annotation><annotation encoding="application/x-llamapun" id="alg1.2.2.m2.1d">italic_N start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.2.2.4" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline" id="alg1.53.55">
<span class="ltx_text" id="alg1.53.55.1" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.5.5">
<math alttext="logprobs" class="ltx_Math" display="inline" id="alg1.3.3.m1.1"><semantics id="alg1.3.3.m1.1a"><mrow id="alg1.3.3.m1.1.1" xref="alg1.3.3.m1.1.1.cmml"><mi id="alg1.3.3.m1.1.1.2" mathsize="80%" xref="alg1.3.3.m1.1.1.2.cmml">l</mi><mo id="alg1.3.3.m1.1.1.1" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.3" mathsize="80%" xref="alg1.3.3.m1.1.1.3.cmml">o</mi><mo id="alg1.3.3.m1.1.1.1a" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.4" mathsize="80%" xref="alg1.3.3.m1.1.1.4.cmml">g</mi><mo id="alg1.3.3.m1.1.1.1b" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.5" mathsize="80%" xref="alg1.3.3.m1.1.1.5.cmml">p</mi><mo id="alg1.3.3.m1.1.1.1c" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.6" mathsize="80%" xref="alg1.3.3.m1.1.1.6.cmml">r</mi><mo id="alg1.3.3.m1.1.1.1d" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.7" mathsize="80%" xref="alg1.3.3.m1.1.1.7.cmml">o</mi><mo id="alg1.3.3.m1.1.1.1e" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.8" mathsize="80%" xref="alg1.3.3.m1.1.1.8.cmml">b</mi><mo id="alg1.3.3.m1.1.1.1f" xref="alg1.3.3.m1.1.1.1.cmml">â¢</mo><mi id="alg1.3.3.m1.1.1.9" mathsize="80%" xref="alg1.3.3.m1.1.1.9.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.3.3.m1.1b"><apply id="alg1.3.3.m1.1.1.cmml" xref="alg1.3.3.m1.1.1"><times id="alg1.3.3.m1.1.1.1.cmml" xref="alg1.3.3.m1.1.1.1"></times><ci id="alg1.3.3.m1.1.1.2.cmml" xref="alg1.3.3.m1.1.1.2">ğ‘™</ci><ci id="alg1.3.3.m1.1.1.3.cmml" xref="alg1.3.3.m1.1.1.3">ğ‘œ</ci><ci id="alg1.3.3.m1.1.1.4.cmml" xref="alg1.3.3.m1.1.1.4">ğ‘”</ci><ci id="alg1.3.3.m1.1.1.5.cmml" xref="alg1.3.3.m1.1.1.5">ğ‘</ci><ci id="alg1.3.3.m1.1.1.6.cmml" xref="alg1.3.3.m1.1.1.6">ğ‘Ÿ</ci><ci id="alg1.3.3.m1.1.1.7.cmml" xref="alg1.3.3.m1.1.1.7">ğ‘œ</ci><ci id="alg1.3.3.m1.1.1.8.cmml" xref="alg1.3.3.m1.1.1.8">ğ‘</ci><ci id="alg1.3.3.m1.1.1.9.cmml" xref="alg1.3.3.m1.1.1.9">ğ‘ </ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m1.1c">logprobs</annotation><annotation encoding="application/x-llamapun" id="alg1.3.3.m1.1d">italic_l italic_o italic_g italic_p italic_r italic_o italic_b italic_s</annotation></semantics></math><span class="ltx_text" id="alg1.5.5.1" style="font-size:80%;">, LLM sequence scores of </span><math alttext="samples" class="ltx_Math" display="inline" id="alg1.4.4.m2.1"><semantics id="alg1.4.4.m2.1a"><mrow id="alg1.4.4.m2.1.1" xref="alg1.4.4.m2.1.1.cmml"><mi id="alg1.4.4.m2.1.1.2" mathsize="80%" xref="alg1.4.4.m2.1.1.2.cmml">s</mi><mo id="alg1.4.4.m2.1.1.1" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.3" mathsize="80%" xref="alg1.4.4.m2.1.1.3.cmml">a</mi><mo id="alg1.4.4.m2.1.1.1a" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.4" mathsize="80%" xref="alg1.4.4.m2.1.1.4.cmml">m</mi><mo id="alg1.4.4.m2.1.1.1b" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.5" mathsize="80%" xref="alg1.4.4.m2.1.1.5.cmml">p</mi><mo id="alg1.4.4.m2.1.1.1c" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.6" mathsize="80%" xref="alg1.4.4.m2.1.1.6.cmml">l</mi><mo id="alg1.4.4.m2.1.1.1d" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.7" mathsize="80%" xref="alg1.4.4.m2.1.1.7.cmml">e</mi><mo id="alg1.4.4.m2.1.1.1e" xref="alg1.4.4.m2.1.1.1.cmml">â¢</mo><mi id="alg1.4.4.m2.1.1.8" mathsize="80%" xref="alg1.4.4.m2.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.4.4.m2.1b"><apply id="alg1.4.4.m2.1.1.cmml" xref="alg1.4.4.m2.1.1"><times id="alg1.4.4.m2.1.1.1.cmml" xref="alg1.4.4.m2.1.1.1"></times><ci id="alg1.4.4.m2.1.1.2.cmml" xref="alg1.4.4.m2.1.1.2">ğ‘ </ci><ci id="alg1.4.4.m2.1.1.3.cmml" xref="alg1.4.4.m2.1.1.3">ğ‘</ci><ci id="alg1.4.4.m2.1.1.4.cmml" xref="alg1.4.4.m2.1.1.4">ğ‘š</ci><ci id="alg1.4.4.m2.1.1.5.cmml" xref="alg1.4.4.m2.1.1.5">ğ‘</ci><ci id="alg1.4.4.m2.1.1.6.cmml" xref="alg1.4.4.m2.1.1.6">ğ‘™</ci><ci id="alg1.4.4.m2.1.1.7.cmml" xref="alg1.4.4.m2.1.1.7">ğ‘’</ci><ci id="alg1.4.4.m2.1.1.8.cmml" xref="alg1.4.4.m2.1.1.8">ğ‘ </ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m2.1c">samples</annotation><annotation encoding="application/x-llamapun" id="alg1.4.4.m2.1d">italic_s italic_a italic_m italic_p italic_l italic_e italic_s</annotation></semantics></math><span class="ltx_text" id="alg1.5.5.2" style="font-size:80%;"> (size = </span><math alttext="N_{\text{gen}}" class="ltx_Math" display="inline" id="alg1.5.5.m3.1"><semantics id="alg1.5.5.m3.1a"><msub id="alg1.5.5.m3.1.1" xref="alg1.5.5.m3.1.1.cmml"><mi id="alg1.5.5.m3.1.1.2" mathsize="80%" xref="alg1.5.5.m3.1.1.2.cmml">N</mi><mtext id="alg1.5.5.m3.1.1.3" mathsize="80%" xref="alg1.5.5.m3.1.1.3a.cmml">gen</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.5.5.m3.1b"><apply id="alg1.5.5.m3.1.1.cmml" xref="alg1.5.5.m3.1.1"><csymbol cd="ambiguous" id="alg1.5.5.m3.1.1.1.cmml" xref="alg1.5.5.m3.1.1">subscript</csymbol><ci id="alg1.5.5.m3.1.1.2.cmml" xref="alg1.5.5.m3.1.1.2">ğ‘</ci><ci id="alg1.5.5.m3.1.1.3a.cmml" xref="alg1.5.5.m3.1.1.3"><mtext id="alg1.5.5.m3.1.1.3.cmml" mathsize="56%" xref="alg1.5.5.m3.1.1.3">gen</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m3.1c">N_{\text{gen}}</annotation><annotation encoding="application/x-llamapun" id="alg1.5.5.m3.1d">italic_N start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.5.5.3" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline" id="alg1.53.56">
<span class="ltx_text" id="alg1.53.56.1" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.7.7">
<math alttext="C" class="ltx_Math" display="inline" id="alg1.6.6.m1.1"><semantics id="alg1.6.6.m1.1a"><mi id="alg1.6.6.m1.1.1" mathsize="80%" xref="alg1.6.6.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg1.6.6.m1.1b"><ci id="alg1.6.6.m1.1.1.cmml" xref="alg1.6.6.m1.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="alg1.6.6.m1.1d">italic_C</annotation></semantics></math><span class="ltx_text" id="alg1.7.7.1" style="font-size:80%;">, corpus of candidate items (size = </span><math alttext="N_{c}" class="ltx_Math" display="inline" id="alg1.7.7.m2.1"><semantics id="alg1.7.7.m2.1a"><msub id="alg1.7.7.m2.1.1" xref="alg1.7.7.m2.1.1.cmml"><mi id="alg1.7.7.m2.1.1.2" mathsize="80%" xref="alg1.7.7.m2.1.1.2.cmml">N</mi><mi id="alg1.7.7.m2.1.1.3" mathsize="80%" xref="alg1.7.7.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.7.7.m2.1b"><apply id="alg1.7.7.m2.1.1.cmml" xref="alg1.7.7.m2.1.1"><csymbol cd="ambiguous" id="alg1.7.7.m2.1.1.1.cmml" xref="alg1.7.7.m2.1.1">subscript</csymbol><ci id="alg1.7.7.m2.1.1.2.cmml" xref="alg1.7.7.m2.1.1.2">ğ‘</ci><ci id="alg1.7.7.m2.1.1.3.cmml" xref="alg1.7.7.m2.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.m2.1c">N_{c}</annotation><annotation encoding="application/x-llamapun" id="alg1.7.7.m2.1d">italic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.7.7.2" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline" id="alg1.53.57">
<span class="ltx_text" id="alg1.53.57.1" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.8.8">
<math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="alg1.8.8.m1.1"><semantics id="alg1.8.8.m1.1a"><msub id="alg1.8.8.m1.1.1" xref="alg1.8.8.m1.1.1.cmml"><mi id="alg1.8.8.m1.1.1.2" mathsize="80%" xref="alg1.8.8.m1.1.1.2.cmml">N</mi><mtext id="alg1.8.8.m1.1.1.3" mathsize="80%" xref="alg1.8.8.m1.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.8.8.m1.1b"><apply id="alg1.8.8.m1.1.1.cmml" xref="alg1.8.8.m1.1.1"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.1.cmml" xref="alg1.8.8.m1.1.1">subscript</csymbol><ci id="alg1.8.8.m1.1.1.2.cmml" xref="alg1.8.8.m1.1.1.2">ğ‘</ci><ci id="alg1.8.8.m1.1.1.3a.cmml" xref="alg1.8.8.m1.1.1.3"><mtext id="alg1.8.8.m1.1.1.3.cmml" mathsize="56%" xref="alg1.8.8.m1.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m1.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="alg1.8.8.m1.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.8.8.1" style="font-size:80%;">, a hyperparameter that determines the number of generated</span>
</div>
<div class="ltx_listingline" id="alg1.53.58">
<span class="ltx_text" id="alg1.53.58.1" style="font-size:80%;"> text samples used for BM25 matching;</span>
</div>
<div class="ltx_listingline" id="alg1.53.59">
<span class="ltx_text" id="alg1.53.59.1" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.9.9">
<math alttext="\epsilon" class="ltx_Math" display="inline" id="alg1.9.9.m1.1"><semantics id="alg1.9.9.m1.1a"><mi id="alg1.9.9.m1.1.1" mathsize="80%" xref="alg1.9.9.m1.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="alg1.9.9.m1.1b"><ci id="alg1.9.9.m1.1.1.cmml" xref="alg1.9.9.m1.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.m1.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="alg1.9.9.m1.1d">italic_Ïµ</annotation></semantics></math><span class="ltx_text" id="alg1.9.9.1" style="font-size:80%;">, a hyperparameter that controls the modulation of BM25 scores</span>
</div>
<div class="ltx_listingline" id="alg1.53.60">
<span class="ltx_text" id="alg1.53.60.1" style="font-size:80%;"> with LLM sequence scores.
</span>
</div>
<div class="ltx_listingline" id="alg1.53.61">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.61.1.1.1" style="font-size:80%;">2</span></span><span class="ltx_text" id="alg1.53.61.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.53.62">
<span class="ltx_text ltx_font_bold" id="alg1.53.62.1" style="font-size:80%;">Output :</span><span class="ltx_text" id="alg1.53.62.2" style="font-size:80%;">Â The sorted list of item predictions.</span>
</div>
<div class="ltx_listingline" id="alg1.53.63">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.63.1.1.1" style="font-size:80%;">3</span></span><span class="ltx_text" id="alg1.53.63.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.10.10">
<span class="ltx_text ltx_font_typewriter" id="alg1.10.10.2" style="font-size:80%;color:#0000FF;">// </span><span class="ltx_text ltx_font_typewriter" id="alg1.10.10.1" style="font-size:80%;color:#0000FF;">Sort <math alttext="samples" class="ltx_Math" display="inline" id="alg1.10.10.1.m1.1"><semantics id="alg1.10.10.1.m1.1a"><mrow id="alg1.10.10.1.m1.1.1" xref="alg1.10.10.1.m1.1.1.cmml"><mi id="alg1.10.10.1.m1.1.1.2" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.2.cmml">s</mi><mo id="alg1.10.10.1.m1.1.1.1" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.3" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.3.cmml">a</mi><mo id="alg1.10.10.1.m1.1.1.1a" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.4" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.4.cmml">m</mi><mo id="alg1.10.10.1.m1.1.1.1b" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.5" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.5.cmml">p</mi><mo id="alg1.10.10.1.m1.1.1.1c" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.6" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.6.cmml">l</mi><mo id="alg1.10.10.1.m1.1.1.1d" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.7" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.7.cmml">e</mi><mo id="alg1.10.10.1.m1.1.1.1e" xref="alg1.10.10.1.m1.1.1.1.cmml">â¢</mo><mi id="alg1.10.10.1.m1.1.1.8" mathcolor="#0000FF" xref="alg1.10.10.1.m1.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.10.1.m1.1b"><apply id="alg1.10.10.1.m1.1.1.cmml" xref="alg1.10.10.1.m1.1.1"><times id="alg1.10.10.1.m1.1.1.1.cmml" xref="alg1.10.10.1.m1.1.1.1"></times><ci id="alg1.10.10.1.m1.1.1.2.cmml" xref="alg1.10.10.1.m1.1.1.2">ğ‘ </ci><ci id="alg1.10.10.1.m1.1.1.3.cmml" xref="alg1.10.10.1.m1.1.1.3">ğ‘</ci><ci id="alg1.10.10.1.m1.1.1.4.cmml" xref="alg1.10.10.1.m1.1.1.4">ğ‘š</ci><ci id="alg1.10.10.1.m1.1.1.5.cmml" xref="alg1.10.10.1.m1.1.1.5">ğ‘</ci><ci id="alg1.10.10.1.m1.1.1.6.cmml" xref="alg1.10.10.1.m1.1.1.6">ğ‘™</ci><ci id="alg1.10.10.1.m1.1.1.7.cmml" xref="alg1.10.10.1.m1.1.1.7">ğ‘’</ci><ci id="alg1.10.10.1.m1.1.1.8.cmml" xref="alg1.10.10.1.m1.1.1.8">ğ‘ </ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.1.m1.1c">samples</annotation><annotation encoding="application/x-llamapun" id="alg1.10.10.1.m1.1d">italic_s italic_a italic_m italic_p italic_l italic_e italic_s</annotation></semantics></math> by score and remove duplicates </span>
</div>
<div class="ltx_listingline" id="alg1.13.13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.13.13.3.1.1" style="font-size:80%;">4</span></span><span class="ltx_text" id="alg1.13.13.4" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.11.11.1" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.11.11.1.m1.1"><semantics id="alg1.11.11.1.m1.1a"><mi id="alg1.11.11.1.m1.1.1" mathvariant="normal" xref="alg1.11.11.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.11.11.1.m1.1b"><ci id="alg1.11.11.1.m1.1.1.cmml" xref="alg1.11.11.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.11.11.1.m1.1d">_</annotation></semantics></math>samples</span><span class="ltx_text" id="alg1.13.13.5" style="font-size:80%;">, </span><span class="ltx_text ltx_font_typewriter" id="alg1.12.12.2" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.12.12.2.m1.1"><semantics id="alg1.12.12.2.m1.1a"><mi id="alg1.12.12.2.m1.1.1" mathvariant="normal" xref="alg1.12.12.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.12.12.2.m1.1b"><ci id="alg1.12.12.2.m1.1.1.cmml" xref="alg1.12.12.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.12.12.2.m1.1d">_</annotation></semantics></math>logprobs</span><span class="ltx_text" id="alg1.13.13.6" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.13.13.m1.1"><semantics id="alg1.13.13.m1.1a"><mo id="alg1.13.13.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.13.13.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.13.13.m1.1b"><ci id="alg1.13.13.m1.1.1.cmml" xref="alg1.13.13.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.13.13.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.13.13.7" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.13.13.8" style="font-size:80%;">SortDescending(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.13.13.8.1">(<span class="ltx_text ltx_font_typewriter" id="alg1.13.13.8.1.1">samples</span>, <span class="ltx_text ltx_font_typewriter" id="alg1.13.13.8.1.2">logprobs</span>), <span class="ltx_text ltx_font_typewriter" id="alg1.13.13.8.1.3">by</span>=<span class="ltx_text ltx_font_typewriter" id="alg1.13.13.8.1.4">logprobs</span></em>)</span><span class="ltx_text" id="alg1.13.13.9" style="font-size:80%;"> </span>
</div>
<div class="ltx_listingline" id="alg1.53.64">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.64.1.1.1" style="font-size:80%;">5</span></span><span class="ltx_text" id="alg1.53.64.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.18.18">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.18.18.5.1.1" style="font-size:80%;">6</span></span><span class="ltx_text ltx_font_typewriter" id="alg1.14.14.1" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.14.14.1.m1.1"><semantics id="alg1.14.14.1.m1.1a"><mi id="alg1.14.14.1.m1.1.1" mathvariant="normal" xref="alg1.14.14.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.14.14.1.m1.1b"><ci id="alg1.14.14.1.m1.1.1.cmml" xref="alg1.14.14.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.14.14.1.m1.1d">_</annotation></semantics></math>samples</span><span class="ltx_text" id="alg1.18.18.6" style="font-size:80%;">, </span><span class="ltx_text ltx_font_typewriter" id="alg1.15.15.2" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.15.15.2.m1.1"><semantics id="alg1.15.15.2.m1.1a"><mi id="alg1.15.15.2.m1.1.1" mathvariant="normal" xref="alg1.15.15.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.15.15.2.m1.1b"><ci id="alg1.15.15.2.m1.1.1.cmml" xref="alg1.15.15.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.15.15.2.m1.1d">_</annotation></semantics></math>logprobs</span><span class="ltx_text" id="alg1.18.18.7" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.16.16.m1.1"><semantics id="alg1.16.16.m1.1a"><mo id="alg1.16.16.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.16.16.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.16.16.m1.1b"><ci id="alg1.16.16.m1.1.1.cmml" xref="alg1.16.16.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.16.16.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.18.18.8" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.18.18.4" style="font-size:80%;">RemoveDuplicates(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.18.18.4.2">(<span class="ltx_text ltx_font_typewriter" id="alg1.17.17.3.1.1">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.17.17.3.1.1.m1.1"><semantics id="alg1.17.17.3.1.1.m1.1a"><mi id="alg1.17.17.3.1.1.m1.1.1" mathvariant="normal" xref="alg1.17.17.3.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.17.17.3.1.1.m1.1b"><ci id="alg1.17.17.3.1.1.m1.1.1.cmml" xref="alg1.17.17.3.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.3.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.17.17.3.1.1.m1.1d">_</annotation></semantics></math>samples</span>, <span class="ltx_text ltx_font_typewriter" id="alg1.18.18.4.2.2">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.18.18.4.2.2.m1.1"><semantics id="alg1.18.18.4.2.2.m1.1a"><mi id="alg1.18.18.4.2.2.m1.1.1" mathvariant="normal" xref="alg1.18.18.4.2.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.18.18.4.2.2.m1.1b"><ci id="alg1.18.18.4.2.2.m1.1.1.cmml" xref="alg1.18.18.4.2.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.18.4.2.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.18.18.4.2.2.m1.1d">_</annotation></semantics></math>logprobs</span>)</em>)</span><span class="ltx_text" id="alg1.18.18.9" style="font-size:80%;"> </span>
</div>
<div class="ltx_listingline" id="alg1.53.65">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.65.1.1.1" style="font-size:80%;">7</span></span><span class="ltx_text" id="alg1.53.65.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.19.19">
<span class="ltx_text ltx_font_typewriter" id="alg1.19.19.2" style="font-size:80%;color:#0000FF;">// </span><span class="ltx_text ltx_font_typewriter" id="alg1.19.19.1" style="font-size:80%;color:#0000FF;">Keep the top <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="alg1.19.19.1.m1.1"><semantics id="alg1.19.19.1.m1.1a"><msub id="alg1.19.19.1.m1.1.1" xref="alg1.19.19.1.m1.1.1.cmml"><mi id="alg1.19.19.1.m1.1.1.2" mathcolor="#0000FF" xref="alg1.19.19.1.m1.1.1.2.cmml">N</mi><mtext class="ltx_mathvariant_monospace" id="alg1.19.19.1.m1.1.1.3" mathcolor="#0000FF" xref="alg1.19.19.1.m1.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.19.19.1.m1.1b"><apply id="alg1.19.19.1.m1.1.1.cmml" xref="alg1.19.19.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.19.19.1.m1.1.1.1.cmml" xref="alg1.19.19.1.m1.1.1">subscript</csymbol><ci id="alg1.19.19.1.m1.1.1.2.cmml" xref="alg1.19.19.1.m1.1.1.2">ğ‘</ci><ci id="alg1.19.19.1.m1.1.1.3a.cmml" xref="alg1.19.19.1.m1.1.1.3"><mtext class="ltx_mathvariant_monospace" id="alg1.19.19.1.m1.1.1.3.cmml" mathcolor="#0000FF" mathsize="70%" xref="alg1.19.19.1.m1.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.19.1.m1.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="alg1.19.19.1.m1.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> samples </span>
</div>
<div class="ltx_listingline" id="alg1.53.66">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.66.1.1.1" style="font-size:80%;">8</span></span><span class="ltx_text" id="alg1.53.66.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.23.23">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.23.23.4.1.1" style="font-size:80%;">9</span></span><span class="ltx_text ltx_font_typewriter" id="alg1.20.20.1" style="font-size:80%;">top<math alttext="\_" class="ltx_Math" display="inline" id="alg1.20.20.1.m1.1"><semantics id="alg1.20.20.1.m1.1a"><mi id="alg1.20.20.1.m1.1.1" mathvariant="normal" xref="alg1.20.20.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.20.20.1.m1.1b"><ci id="alg1.20.20.1.m1.1.1.cmml" xref="alg1.20.20.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.20.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.20.20.1.m1.1d">_</annotation></semantics></math>samples</span><span class="ltx_text" id="alg1.23.23.5" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.21.21.m1.1"><semantics id="alg1.21.21.m1.1a"><mo id="alg1.21.21.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.21.21.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.21.21.m1.1b"><ci id="alg1.21.21.m1.1.1.cmml" xref="alg1.21.21.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.21.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.21.21.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.23.23.6" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.23.23.3" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.22.22.2.m1.1"><semantics id="alg1.22.22.2.m1.1a"><mi id="alg1.22.22.2.m1.1.1" mathvariant="normal" xref="alg1.22.22.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.22.22.2.m1.1b"><ci id="alg1.22.22.2.m1.1.1.cmml" xref="alg1.22.22.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.22.22.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.22.22.2.m1.1d">_</annotation></semantics></math>samples<math alttext="[:N_{\text{preds}}]" class="ltx_math_unparsed" display="inline" id="alg1.23.23.3.m2.1"><semantics id="alg1.23.23.3.m2.1a"><mrow id="alg1.23.23.3.m2.1b"><mo id="alg1.23.23.3.m2.1.1" stretchy="false">[</mo><mo id="alg1.23.23.3.m2.1.2" rspace="0.278em">:</mo><msub id="alg1.23.23.3.m2.1.3"><mi id="alg1.23.23.3.m2.1.3.2">N</mi><mtext id="alg1.23.23.3.m2.1.3.3">preds</mtext></msub><mo id="alg1.23.23.3.m2.1.4" stretchy="false">]</mo></mrow><annotation encoding="application/x-tex" id="alg1.23.23.3.m2.1c">[:N_{\text{preds}}]</annotation><annotation encoding="application/x-llamapun" id="alg1.23.23.3.m2.1d">[ : italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT ]</annotation></semantics></math></span>
</div>
<div class="ltx_listingline" id="alg1.27.27">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.27.27.4.1.1" style="font-size:80%;">10</span></span><span class="ltx_text" id="alg1.27.27.5" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.24.24.1" style="font-size:80%;">top<math alttext="\_" class="ltx_Math" display="inline" id="alg1.24.24.1.m1.1"><semantics id="alg1.24.24.1.m1.1a"><mi id="alg1.24.24.1.m1.1.1" mathvariant="normal" xref="alg1.24.24.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.24.24.1.m1.1b"><ci id="alg1.24.24.1.m1.1.1.cmml" xref="alg1.24.24.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.24.24.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.24.24.1.m1.1d">_</annotation></semantics></math>logprobs</span><span class="ltx_text" id="alg1.27.27.6" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.25.25.m1.1"><semantics id="alg1.25.25.m1.1a"><mo id="alg1.25.25.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.25.25.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.25.25.m1.1b"><ci id="alg1.25.25.m1.1.1.cmml" xref="alg1.25.25.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.25.25.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.25.25.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.27.27.7" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.27.27.3" style="font-size:80%;">sorted<math alttext="\_" class="ltx_Math" display="inline" id="alg1.26.26.2.m1.1"><semantics id="alg1.26.26.2.m1.1a"><mi id="alg1.26.26.2.m1.1.1" mathvariant="normal" xref="alg1.26.26.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.26.26.2.m1.1b"><ci id="alg1.26.26.2.m1.1.1.cmml" xref="alg1.26.26.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.26.26.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.26.26.2.m1.1d">_</annotation></semantics></math>logprobs<math alttext="[:N_{\text{preds}}]" class="ltx_math_unparsed" display="inline" id="alg1.27.27.3.m2.1"><semantics id="alg1.27.27.3.m2.1a"><mrow id="alg1.27.27.3.m2.1b"><mo id="alg1.27.27.3.m2.1.1" stretchy="false">[</mo><mo id="alg1.27.27.3.m2.1.2" rspace="0.278em">:</mo><msub id="alg1.27.27.3.m2.1.3"><mi id="alg1.27.27.3.m2.1.3.2">N</mi><mtext id="alg1.27.27.3.m2.1.3.3">preds</mtext></msub><mo id="alg1.27.27.3.m2.1.4" stretchy="false">]</mo></mrow><annotation encoding="application/x-tex" id="alg1.27.27.3.m2.1c">[:N_{\text{preds}}]</annotation><annotation encoding="application/x-llamapun" id="alg1.27.27.3.m2.1d">[ : italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT ]</annotation></semantics></math></span>
</div>
<div class="ltx_listingline" id="alg1.31.31">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.31.31.4.1.1" style="font-size:80%;">11</span></span><span class="ltx_text" id="alg1.31.31.5" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.28.28.1" style="font-size:80%;">match<math alttext="\_" class="ltx_Math" display="inline" id="alg1.28.28.1.m1.1"><semantics id="alg1.28.28.1.m1.1a"><mi id="alg1.28.28.1.m1.1.1" mathvariant="normal" xref="alg1.28.28.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.28.28.1.m1.1b"><ci id="alg1.28.28.1.m1.1.1.cmml" xref="alg1.28.28.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.28.28.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.28.28.1.m1.1d">_</annotation></semantics></math>scores</span><span class="ltx_text" id="alg1.31.31.6" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.29.29.m1.1"><semantics id="alg1.29.29.m1.1a"><mo id="alg1.29.29.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.29.29.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.29.29.m1.1b"><ci id="alg1.29.29.m1.1.1.cmml" xref="alg1.29.29.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.29.29.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.29.29.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.31.31.7" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.31.31.3" style="font-size:80%;">EmptyMatrix(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.31.31.3.2"><math alttext="N_{c}" class="ltx_Math" display="inline" id="alg1.30.30.2.1.m1.1"><semantics id="alg1.30.30.2.1.m1.1a"><msub id="alg1.30.30.2.1.m1.1.1" xref="alg1.30.30.2.1.m1.1.1.cmml"><mi id="alg1.30.30.2.1.m1.1.1.2" xref="alg1.30.30.2.1.m1.1.1.2.cmml">N</mi><mi id="alg1.30.30.2.1.m1.1.1.3" xref="alg1.30.30.2.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.30.30.2.1.m1.1b"><apply id="alg1.30.30.2.1.m1.1.1.cmml" xref="alg1.30.30.2.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.30.30.2.1.m1.1.1.1.cmml" xref="alg1.30.30.2.1.m1.1.1">subscript</csymbol><ci id="alg1.30.30.2.1.m1.1.1.2.cmml" xref="alg1.30.30.2.1.m1.1.1.2">ğ‘</ci><ci id="alg1.30.30.2.1.m1.1.1.3.cmml" xref="alg1.30.30.2.1.m1.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.30.30.2.1.m1.1c">N_{c}</annotation><annotation encoding="application/x-llamapun" id="alg1.30.30.2.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="alg1.31.31.3.2.m2.1"><semantics id="alg1.31.31.3.2.m2.1a"><msub id="alg1.31.31.3.2.m2.1.1" xref="alg1.31.31.3.2.m2.1.1.cmml"><mi id="alg1.31.31.3.2.m2.1.1.2" xref="alg1.31.31.3.2.m2.1.1.2.cmml">N</mi><mtext class="ltx_mathvariant_italic" id="alg1.31.31.3.2.m2.1.1.3" xref="alg1.31.31.3.2.m2.1.1.3b.cmml"><em class="ltx_emph" id="alg1.31.31.3.2.m2.1.1.3.1nest" style="font-size:70%;">preds</em></mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.31.31.3.2.m2.1b"><apply id="alg1.31.31.3.2.m2.1.1.cmml" xref="alg1.31.31.3.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.31.31.3.2.m2.1.1.1.cmml" xref="alg1.31.31.3.2.m2.1.1">subscript</csymbol><ci id="alg1.31.31.3.2.m2.1.1.2.cmml" xref="alg1.31.31.3.2.m2.1.1.2">ğ‘</ci><ci id="alg1.31.31.3.2.m2.1.1.3b.cmml" xref="alg1.31.31.3.2.m2.1.1.3"><mtext class="ltx_mathvariant_italic" id="alg1.31.31.3.2.m2.1.1.3.cmml" mathsize="70%" xref="alg1.31.31.3.2.m2.1.1.3"><em class="ltx_emph" id="alg1.31.31.3.2.m2.1.1.3.1anest" style="font-size:70%;">preds</em></mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.31.31.3.2.m2.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="alg1.31.31.3.2.m2.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math></em>)</span>
</div>
<div class="ltx_listingline" id="alg1.33.33">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.33.33.3.1.1" style="font-size:80%;">12</span></span><span class="ltx_text" id="alg1.33.33.4" style="font-size:80%;">
</span><span class="ltx_text ltx_font_bold" id="alg1.33.33.5" style="font-size:80%;">for</span><span class="ltx_text" id="alg1.33.33.6" style="font-size:80%;">Â </span><em class="ltx_emph ltx_font_italic" id="alg1.33.33.2" style="font-size:80%;"><math alttext="i\leftarrow 1" class="ltx_Math" display="inline" id="alg1.32.32.1.m1.1"><semantics id="alg1.32.32.1.m1.1a"><mrow id="alg1.32.32.1.m1.1.1" xref="alg1.32.32.1.m1.1.1.cmml"><mi id="alg1.32.32.1.m1.1.1.2" xref="alg1.32.32.1.m1.1.1.2.cmml">i</mi><mo id="alg1.32.32.1.m1.1.1.1" stretchy="false" xref="alg1.32.32.1.m1.1.1.1.cmml">â†</mo><mn id="alg1.32.32.1.m1.1.1.3" xref="alg1.32.32.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.32.32.1.m1.1b"><apply id="alg1.32.32.1.m1.1.1.cmml" xref="alg1.32.32.1.m1.1.1"><ci id="alg1.32.32.1.m1.1.1.1.cmml" xref="alg1.32.32.1.m1.1.1.1">â†</ci><ci id="alg1.32.32.1.m1.1.1.2.cmml" xref="alg1.32.32.1.m1.1.1.2">ğ‘–</ci><cn id="alg1.32.32.1.m1.1.1.3.cmml" type="integer" xref="alg1.32.32.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.32.32.1.m1.1c">i\leftarrow 1</annotation><annotation encoding="application/x-llamapun" id="alg1.32.32.1.m1.1d">italic_i â† 1</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.33.33.2.1">to</span> <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="alg1.33.33.2.m2.1"><semantics id="alg1.33.33.2.m2.1a"><msub id="alg1.33.33.2.m2.1.1" xref="alg1.33.33.2.m2.1.1.cmml"><mi id="alg1.33.33.2.m2.1.1.2" xref="alg1.33.33.2.m2.1.1.2.cmml">N</mi><mtext class="ltx_mathvariant_italic" id="alg1.33.33.2.m2.1.1.3" xref="alg1.33.33.2.m2.1.1.3b.cmml"><em class="ltx_emph" id="alg1.33.33.2.m2.1.1.3.1nest" style="font-size:70%;">preds</em></mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.33.33.2.m2.1b"><apply id="alg1.33.33.2.m2.1.1.cmml" xref="alg1.33.33.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.33.33.2.m2.1.1.1.cmml" xref="alg1.33.33.2.m2.1.1">subscript</csymbol><ci id="alg1.33.33.2.m2.1.1.2.cmml" xref="alg1.33.33.2.m2.1.1.2">ğ‘</ci><ci id="alg1.33.33.2.m2.1.1.3b.cmml" xref="alg1.33.33.2.m2.1.1.3"><mtext class="ltx_mathvariant_italic" id="alg1.33.33.2.m2.1.1.3.cmml" mathsize="70%" xref="alg1.33.33.2.m2.1.1.3"><em class="ltx_emph" id="alg1.33.33.2.m2.1.1.3.1anest" style="font-size:70%;">preds</em></mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.33.33.2.m2.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="alg1.33.33.2.m2.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math></em><span class="ltx_text" id="alg1.33.33.7" style="font-size:80%;">Â </span><span class="ltx_text ltx_font_bold" id="alg1.33.33.8" style="font-size:80%;">do</span>
</div>
<div class="ltx_listingline" id="alg1.53.67">
<span class="ltx_text" id="alg1.53.67.1" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.53.67.2" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.53.67.3" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.53.67.4" style="font-size:80%;color:#0000FF;">// </span><span class="ltx_text ltx_font_typewriter" id="alg1.53.67.5" style="font-size:80%;color:#0000FF;">Find BM25 scores between entire corpus and each sample </span>
</div>
<div class="ltx_listingline" id="alg1.36.36">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.36.36.3.1.1" style="font-size:80%;">13</span></span><span class="ltx_text" id="alg1.36.36.4" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.36.36.5" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.36.36.6" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.34.34.1" style="font-size:80%;">bm25<math alttext="\_" class="ltx_Math" display="inline" id="alg1.34.34.1.m1.1"><semantics id="alg1.34.34.1.m1.1a"><mi id="alg1.34.34.1.m1.1.1" mathvariant="normal" xref="alg1.34.34.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.34.34.1.m1.1b"><ci id="alg1.34.34.1.m1.1.1.cmml" xref="alg1.34.34.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.34.34.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.34.34.1.m1.1d">_</annotation></semantics></math>scores</span><span class="ltx_text" id="alg1.36.36.7" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.35.35.m1.1"><semantics id="alg1.35.35.m1.1a"><mo id="alg1.35.35.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.35.35.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.35.35.m1.1b"><ci id="alg1.35.35.m1.1.1.cmml" xref="alg1.35.35.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.35.35.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.35.35.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.36.36.8" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.36.36.2" style="font-size:80%;">BM25(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.36.36.2.1"><span class="ltx_text ltx_font_typewriter" id="alg1.36.36.2.1.1">top<math alttext="\_" class="ltx_Math" display="inline" id="alg1.36.36.2.1.1.m1.1"><semantics id="alg1.36.36.2.1.1.m1.1a"><mi id="alg1.36.36.2.1.1.m1.1.1" mathvariant="normal" xref="alg1.36.36.2.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.36.36.2.1.1.m1.1b"><ci id="alg1.36.36.2.1.1.m1.1.1.cmml" xref="alg1.36.36.2.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.36.36.2.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.36.36.2.1.1.m1.1d">_</annotation></semantics></math>samples</span>[i], C</em>)</span>
</div>
<div class="ltx_listingline" id="alg1.40.40">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.40.40.4.1.1" style="font-size:80%;">14</span></span><span class="ltx_text" id="alg1.40.40.5" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.40.40.6" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.40.40.7" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.38.38.2" style="font-size:80%;">bm25<math alttext="\_" class="ltx_Math" display="inline" id="alg1.37.37.1.m1.1"><semantics id="alg1.37.37.1.m1.1a"><mi id="alg1.37.37.1.m1.1.1" mathvariant="normal" xref="alg1.37.37.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.37.37.1.m1.1b"><ci id="alg1.37.37.1.m1.1.1.cmml" xref="alg1.37.37.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.37.37.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.37.37.1.m1.1d">_</annotation></semantics></math>scores<math alttext="\_" class="ltx_Math" display="inline" id="alg1.38.38.2.m2.1"><semantics id="alg1.38.38.2.m2.1a"><mi id="alg1.38.38.2.m2.1.1" mathvariant="normal" xref="alg1.38.38.2.m2.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.38.38.2.m2.1b"><ci id="alg1.38.38.2.m2.1.1.cmml" xref="alg1.38.38.2.m2.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.38.38.2.m2.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.38.38.2.m2.1d">_</annotation></semantics></math>scaled</span><span class="ltx_text" id="alg1.40.40.8" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.39.39.m1.1"><semantics id="alg1.39.39.m1.1a"><mo id="alg1.39.39.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.39.39.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.39.39.m1.1b"><ci id="alg1.39.39.m1.1.1.cmml" xref="alg1.39.39.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.39.39.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.39.39.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.40.40.9" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.40.40.3" style="font-size:80%;">LinearScale(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.40.40.3.1"><span class="ltx_text ltx_font_typewriter" id="alg1.40.40.3.1.1">bm25<math alttext="\_" class="ltx_Math" display="inline" id="alg1.40.40.3.1.1.m1.1"><semantics id="alg1.40.40.3.1.1.m1.1a"><mi id="alg1.40.40.3.1.1.m1.1.1" mathvariant="normal" xref="alg1.40.40.3.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.40.40.3.1.1.m1.1b"><ci id="alg1.40.40.3.1.1.m1.1.1.cmml" xref="alg1.40.40.3.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.40.40.3.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.40.40.3.1.1.m1.1d">_</annotation></semantics></math>scores</span>, <span class="ltx_text" id="alg1.40.40.3.1.2">axis=0</span></em>)</span>
</div>
<div class="ltx_listingline" id="alg1.53.68">
<span class="ltx_text" id="alg1.53.68.1" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.53.68.2" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.53.68.3" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.53.68.4" style="font-size:80%;color:#0000FF;">// </span><span class="ltx_text ltx_font_typewriter" id="alg1.53.68.5" style="font-size:80%;color:#0000FF;">Modulate by sequence score </span>
</div>
<div class="ltx_listingline" id="alg1.44.44">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.44.44.3.1.1" style="font-size:80%;">15</span></span><span class="ltx_text" id="alg1.44.44.4" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.44.44.5" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.44.44.6" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.42.42.2" style="font-size:80%;">modulated<math alttext="\_" class="ltx_Math" display="inline" id="alg1.41.41.1.m1.1"><semantics id="alg1.41.41.1.m1.1a"><mi id="alg1.41.41.1.m1.1.1" mathvariant="normal" xref="alg1.41.41.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.41.41.1.m1.1b"><ci id="alg1.41.41.1.m1.1.1.cmml" xref="alg1.41.41.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.41.41.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.41.41.1.m1.1d">_</annotation></semantics></math>bm25<math alttext="\_" class="ltx_Math" display="inline" id="alg1.42.42.2.m2.1"><semantics id="alg1.42.42.2.m2.1a"><mi id="alg1.42.42.2.m2.1.1" mathvariant="normal" xref="alg1.42.42.2.m2.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.42.42.2.m2.1b"><ci id="alg1.42.42.2.m2.1.1.cmml" xref="alg1.42.42.2.m2.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.42.42.2.m2.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.42.42.2.m2.1d">_</annotation></semantics></math>scores</span><span class="ltx_text" id="alg1.44.44.7" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.43.43.m1.1"><semantics id="alg1.43.43.m1.1a"><mo id="alg1.43.43.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.43.43.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.43.43.m1.1b"><ci id="alg1.43.43.m1.1.1.cmml" xref="alg1.43.43.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.43.43.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.43.43.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.44.44.8" style="font-size:80%;"> </span><math alttext="e^{\epsilon\cdot\texttt{top$\_$logprobs[i]}}\times\texttt{bm25$\_$scores$\_$scaled}" class="ltx_Math" display="inline" id="alg1.44.44.m2.3"><semantics id="alg1.44.44.m2.3a"><mrow id="alg1.44.44.m2.3.4" xref="alg1.44.44.m2.3.4.cmml"><msup id="alg1.44.44.m2.3.4.2" xref="alg1.44.44.m2.3.4.2.cmml"><mi id="alg1.44.44.m2.3.4.2.2" mathsize="80%" xref="alg1.44.44.m2.3.4.2.2.cmml">e</mi><mrow id="alg1.44.44.m2.1.1.1" xref="alg1.44.44.m2.1.1.1.cmml"><mi id="alg1.44.44.m2.1.1.1.3" mathsize="80%" xref="alg1.44.44.m2.1.1.1.3.cmml">Ïµ</mi><mo id="alg1.44.44.m2.1.1.1.2" lspace="0.222em" mathsize="80%" rspace="0.222em" xref="alg1.44.44.m2.1.1.1.2.cmml">â‹…</mo><mrow id="alg1.44.44.m2.1.1.1.1.1" xref="alg1.44.44.m2.1.1.1.1.1c.cmml"><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.1.1.1.1.1a" mathsize="80%" xref="alg1.44.44.m2.1.1.1.1.1c.cmml">top</mtext><mi id="alg1.44.44.m2.1.1.1.1.1.m1.1.1" mathsize="80%" mathvariant="normal" xref="alg1.44.44.m2.1.1.1.1.1.m1.1.1.cmml">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.1.1.1.1.1b" mathsize="80%" xref="alg1.44.44.m2.1.1.1.1.1c.cmml">logprobs[i]</mtext></mrow></mrow></msup><mo id="alg1.44.44.m2.3.4.1" lspace="0.222em" mathsize="80%" rspace="0.222em" xref="alg1.44.44.m2.3.4.1.cmml">Ã—</mo><mrow id="alg1.44.44.m2.3.3.2" xref="alg1.44.44.m2.3.3.2d.cmml"><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2a" mathsize="80%" xref="alg1.44.44.m2.3.3.2d.cmml">bm25</mtext><mi id="alg1.44.44.m2.2.2.1.m1.1.1" mathsize="80%" mathvariant="normal" xref="alg1.44.44.m2.2.2.1.m1.1.1.cmml">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2b" mathsize="80%" xref="alg1.44.44.m2.3.3.2d.cmml">scores</mtext><mi id="alg1.44.44.m2.3.3.2.m2.1.1" mathsize="80%" mathvariant="normal" xref="alg1.44.44.m2.3.3.2.m2.1.1.cmml">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2c" mathsize="80%" xref="alg1.44.44.m2.3.3.2d.cmml">scaled</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.44.44.m2.3b"><apply id="alg1.44.44.m2.3.4.cmml" xref="alg1.44.44.m2.3.4"><times id="alg1.44.44.m2.3.4.1.cmml" xref="alg1.44.44.m2.3.4.1"></times><apply id="alg1.44.44.m2.3.4.2.cmml" xref="alg1.44.44.m2.3.4.2"><csymbol cd="ambiguous" id="alg1.44.44.m2.3.4.2.1.cmml" xref="alg1.44.44.m2.3.4.2">superscript</csymbol><ci id="alg1.44.44.m2.3.4.2.2.cmml" xref="alg1.44.44.m2.3.4.2.2">ğ‘’</ci><apply id="alg1.44.44.m2.1.1.1.cmml" xref="alg1.44.44.m2.1.1.1"><ci id="alg1.44.44.m2.1.1.1.2.cmml" xref="alg1.44.44.m2.1.1.1.2">â‹…</ci><ci id="alg1.44.44.m2.1.1.1.3.cmml" xref="alg1.44.44.m2.1.1.1.3">italic-Ïµ</ci><ci id="alg1.44.44.m2.1.1.1.1.1c.cmml" xref="alg1.44.44.m2.1.1.1.1.1"><mrow id="alg1.44.44.m2.1.1.1.1.1.cmml" xref="alg1.44.44.m2.1.1.1.1.1"><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.1.1.1.1.1a.cmml" mathsize="56%" xref="alg1.44.44.m2.1.1.1.1.1">top</mtext><mi id="alg1.44.44.m2.1.1.1.1.1.m1.1.1.cmml" mathsize="56%" mathvariant="normal" xref="alg1.44.44.m2.1.1.1.1.1.m1.1.1">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.1.1.1.1.1b.cmml" mathsize="56%" xref="alg1.44.44.m2.1.1.1.1.1">logprobs[i]</mtext></mrow></ci></apply></apply><ci id="alg1.44.44.m2.3.3.2d.cmml" xref="alg1.44.44.m2.3.3.2"><mrow id="alg1.44.44.m2.3.3.2.cmml" xref="alg1.44.44.m2.3.3.2"><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2a.cmml" mathsize="80%" xref="alg1.44.44.m2.3.3.2">bm25</mtext><mi id="alg1.44.44.m2.2.2.1.m1.1.1.cmml" mathsize="80%" mathvariant="normal" xref="alg1.44.44.m2.2.2.1.m1.1.1">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2b.cmml" mathsize="80%" xref="alg1.44.44.m2.3.3.2">scores</mtext><mi id="alg1.44.44.m2.3.3.2.m2.1.1.cmml" mathsize="80%" mathvariant="normal" xref="alg1.44.44.m2.3.3.2.m2.1.1">_</mi><mtext class="ltx_mathvariant_monospace" id="alg1.44.44.m2.3.3.2c.cmml" mathsize="80%" xref="alg1.44.44.m2.3.3.2">scaled</mtext></mrow></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.44.44.m2.3c">e^{\epsilon\cdot\texttt{top$\_$logprobs[i]}}\times\texttt{bm25$\_$scores$\_$scaled}</annotation><annotation encoding="application/x-llamapun" id="alg1.44.44.m2.3d">italic_e start_POSTSUPERSCRIPT italic_Ïµ â‹… top _ logprobs[i] end_POSTSUPERSCRIPT Ã— bm25 _ scores _ scaled</annotation></semantics></math><span class="ltx_text" id="alg1.44.44.9" style="font-size:80%;"> </span>
</div>
<div class="ltx_listingline" id="alg1.48.48">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.48.48.4.1.1" style="font-size:80%;">16</span></span><span class="ltx_text" id="alg1.48.48.5" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.48.48.6" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.48.48.7" style="font-size:80%;">
</span><span class="ltx_text ltx_font_typewriter" id="alg1.45.45.1" style="font-size:80%;">match<math alttext="\_" class="ltx_Math" display="inline" id="alg1.45.45.1.m1.1"><semantics id="alg1.45.45.1.m1.1a"><mi id="alg1.45.45.1.m1.1.1" mathvariant="normal" xref="alg1.45.45.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.45.45.1.m1.1b"><ci id="alg1.45.45.1.m1.1.1.cmml" xref="alg1.45.45.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.45.45.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.45.45.1.m1.1d">_</annotation></semantics></math>scores[:,i]</span><span class="ltx_text" id="alg1.48.48.8" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.46.46.m1.1"><semantics id="alg1.46.46.m1.1a"><mo id="alg1.46.46.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.46.46.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.46.46.m1.1b"><ci id="alg1.46.46.m1.1.1.cmml" xref="alg1.46.46.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.46.46.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.46.46.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.48.48.9" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.48.48.3" style="font-size:80%;">modulated<math alttext="\_" class="ltx_Math" display="inline" id="alg1.47.47.2.m1.1"><semantics id="alg1.47.47.2.m1.1a"><mi id="alg1.47.47.2.m1.1.1" mathvariant="normal" xref="alg1.47.47.2.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.47.47.2.m1.1b"><ci id="alg1.47.47.2.m1.1.1.cmml" xref="alg1.47.47.2.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.47.47.2.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.47.47.2.m1.1d">_</annotation></semantics></math>bm25<math alttext="\_" class="ltx_Math" display="inline" id="alg1.48.48.3.m2.1"><semantics id="alg1.48.48.3.m2.1a"><mi id="alg1.48.48.3.m2.1.1" mathvariant="normal" xref="alg1.48.48.3.m2.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.48.48.3.m2.1b"><ci id="alg1.48.48.3.m2.1.1.cmml" xref="alg1.48.48.3.m2.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.48.48.3.m2.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.48.48.3.m2.1d">_</annotation></semantics></math>scores</span>
</div>
<div class="ltx_listingline" id="alg1.53.69">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.53.69.1.1.1" style="font-size:80%;">17</span></span><span class="ltx_text" id="alg1.53.69.2" style="font-size:80%;">Â Â </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span><span class="ltx_text" id="alg1.53.69.3" style="font-size:80%;">Â Â Â </span><span class="ltx_text" id="alg1.53.69.4" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.51.51">
<span class="ltx_text ltx_font_typewriter" id="alg1.49.49.1" style="font-size:80%;">candidate<math alttext="\_" class="ltx_Math" display="inline" id="alg1.49.49.1.m1.1"><semantics id="alg1.49.49.1.m1.1a"><mi id="alg1.49.49.1.m1.1.1" mathvariant="normal" xref="alg1.49.49.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.49.49.1.m1.1b"><ci id="alg1.49.49.1.m1.1.1.cmml" xref="alg1.49.49.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.49.49.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.49.49.1.m1.1d">_</annotation></semantics></math>scores</span><span class="ltx_text" id="alg1.51.51.3" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.50.50.m1.1"><semantics id="alg1.50.50.m1.1a"><mo id="alg1.50.50.m1.1.1" mathsize="80%" stretchy="false" xref="alg1.50.50.m1.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="alg1.50.50.m1.1b"><ci id="alg1.50.50.m1.1.1.cmml" xref="alg1.50.50.m1.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.50.50.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.50.50.m1.1d">â†</annotation></semantics></math><span class="ltx_text" id="alg1.51.51.4" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.51.51.2" style="font-size:80%;">MaxPool(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.51.51.2.1"><span class="ltx_text ltx_font_typewriter" id="alg1.51.51.2.1.1">match<math alttext="\_" class="ltx_Math" display="inline" id="alg1.51.51.2.1.1.m1.1"><semantics id="alg1.51.51.2.1.1.m1.1a"><mi id="alg1.51.51.2.1.1.m1.1.1" mathvariant="normal" xref="alg1.51.51.2.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.51.51.2.1.1.m1.1b"><ci id="alg1.51.51.2.1.1.m1.1.1.cmml" xref="alg1.51.51.2.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.51.51.2.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.51.51.2.1.1.m1.1d">_</annotation></semantics></math>scores</span>, <span class="ltx_text" id="alg1.51.51.2.1.2">axis=1</span></em>)</span><span class="ltx_text" id="alg1.51.51.5" style="font-size:80%;"> </span>
</div>
<div class="ltx_listingline" id="alg1.52.52">
<span class="ltx_text" id="alg1.52.52.2" style="font-size:80%;">Â  </span><span class="ltx_text ltx_font_typewriter" id="alg1.52.52.3" style="font-size:80%;color:#0000FF;">// </span><span class="ltx_text ltx_font_typewriter" id="alg1.52.52.1" style="font-size:80%;color:#0000FF;">size = N<sub class="ltx_sub" id="alg1.52.52.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="alg1.52.52.1.1.1">c</span></sub></span>
</div>
<div class="ltx_listingline" id="alg1.53.53">
<span class="ltx_text" id="alg1.53.53.2" style="font-size:80%;">
</span><span class="ltx_text ltx_font_bold" id="alg1.53.53.3" style="font-size:80%;">return</span><span class="ltx_text" id="alg1.53.53.4" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.53.53.1" style="font-size:80%;">ArgSortDescending(<em class="ltx_emph ltx_font_italic" id="alg1.53.53.1.1">candidate<math alttext="\_" class="ltx_Math" display="inline" id="alg1.53.53.1.1.1.m1.1"><semantics id="alg1.53.53.1.1.1.m1.1a"><mi id="alg1.53.53.1.1.1.m1.1.1" mathvariant="normal" xref="alg1.53.53.1.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="alg1.53.53.1.1.1.m1.1b"><ci id="alg1.53.53.1.1.1.m1.1.1.cmml" xref="alg1.53.53.1.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.53.53.1.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="alg1.53.53.1.1.1.m1.1d">_</annotation></semantics></math>scores</em>)</span><span class="ltx_text" id="alg1.53.53.5" style="font-size:80%;">
</span>
</div>
</div>
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.57.1.1">AlgorithmÂ 1</span> </span><span class="ltx_text" id="alg1.58.2" style="font-size:113%;">Quasi Round Robin BM25 Selection</span></figcaption>
</figure>
<div class="ltx_para" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.20">We remove duplicate generations, sort them by sequence scores in descend order, and retain at most top <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.1"><semantics id="S3.SS5.p2.1.m1.1a"><msub id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml"><mi id="S3.SS5.p2.1.m1.1.1.2" xref="S3.SS5.p2.1.m1.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.1.m1.1.1.3" xref="S3.SS5.p2.1.m1.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><apply id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.1.m1.1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p2.1.m1.1.1.2.cmml" xref="S3.SS5.p2.1.m1.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.1.m1.1.1.3a.cmml" xref="S3.SS5.p2.1.m1.1.1.3"><mtext id="S3.SS5.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.1.m1.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.1.m1.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> unique predictions. Then, in order to match these generated texts with items from our corpus, we rely on BM25 retrievalÂ <cite class="ltx_cite ltx_citemacro_citep">(Robertson etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib41" title="">2009</a>)</cite> to calculate the matching scores between each text prediction and the whole item corpus (with size <math alttext="N_{c}" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m2.1"><semantics id="S3.SS5.p2.2.m2.1a"><msub id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml"><mi id="S3.SS5.p2.2.m2.1.1.2" xref="S3.SS5.p2.2.m2.1.1.2.cmml">N</mi><mi id="S3.SS5.p2.2.m2.1.1.3" xref="S3.SS5.p2.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><apply id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m2.1.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p2.2.m2.1.1.2.cmml" xref="S3.SS5.p2.2.m2.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.2.m2.1.1.3.cmml" xref="S3.SS5.p2.2.m2.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">N_{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>): this will result in BM25 matching scores organized into a matrix of shape (<math alttext="N_{c}" class="ltx_Math" display="inline" id="S3.SS5.p2.3.m3.1"><semantics id="S3.SS5.p2.3.m3.1a"><msub id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml"><mi id="S3.SS5.p2.3.m3.1.1.2" xref="S3.SS5.p2.3.m3.1.1.2.cmml">N</mi><mi id="S3.SS5.p2.3.m3.1.1.3" xref="S3.SS5.p2.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><apply id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.3.m3.1.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.p2.3.m3.1.1.2.cmml" xref="S3.SS5.p2.3.m3.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.3.m3.1.1.3.cmml" xref="S3.SS5.p2.3.m3.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">N_{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.3.m3.1d">italic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.4.m4.1"><semantics id="S3.SS5.p2.4.m4.1a"><msub id="S3.SS5.p2.4.m4.1.1" xref="S3.SS5.p2.4.m4.1.1.cmml"><mi id="S3.SS5.p2.4.m4.1.1.2" xref="S3.SS5.p2.4.m4.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.4.m4.1.1.3" xref="S3.SS5.p2.4.m4.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><apply id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.4.m4.1.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.p2.4.m4.1.1.2.cmml" xref="S3.SS5.p2.4.m4.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.4.m4.1.1.3a.cmml" xref="S3.SS5.p2.4.m4.1.1.3"><mtext id="S3.SS5.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.4.m4.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.4.m4.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math>). In order to rank the candidate items, we devise the following heuristics which aims to select the closest matches according to both the LLM sequence scores and BM25 scores in a quasi-round-robin fashion across the different <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.5.m5.1"><semantics id="S3.SS5.p2.5.m5.1a"><msub id="S3.SS5.p2.5.m5.1.1" xref="S3.SS5.p2.5.m5.1.1.cmml"><mi id="S3.SS5.p2.5.m5.1.1.2" xref="S3.SS5.p2.5.m5.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.5.m5.1.1.3" xref="S3.SS5.p2.5.m5.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.5.m5.1b"><apply id="S3.SS5.p2.5.m5.1.1.cmml" xref="S3.SS5.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.5.m5.1.1.1.cmml" xref="S3.SS5.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS5.p2.5.m5.1.1.2.cmml" xref="S3.SS5.p2.5.m5.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.5.m5.1.1.3a.cmml" xref="S3.SS5.p2.5.m5.1.1.3"><mtext id="S3.SS5.p2.5.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.5.m5.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.5.m5.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.5.m5.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> text generations. First, we linearly scale each column of the matrix respectively to the range <math alttext="[0,1]" class="ltx_Math" display="inline" id="S3.SS5.p2.6.m6.2"><semantics id="S3.SS5.p2.6.m6.2a"><mrow id="S3.SS5.p2.6.m6.2.3.2" xref="S3.SS5.p2.6.m6.2.3.1.cmml"><mo id="S3.SS5.p2.6.m6.2.3.2.1" stretchy="false" xref="S3.SS5.p2.6.m6.2.3.1.cmml">[</mo><mn id="S3.SS5.p2.6.m6.1.1" xref="S3.SS5.p2.6.m6.1.1.cmml">0</mn><mo id="S3.SS5.p2.6.m6.2.3.2.2" xref="S3.SS5.p2.6.m6.2.3.1.cmml">,</mo><mn id="S3.SS5.p2.6.m6.2.2" xref="S3.SS5.p2.6.m6.2.2.cmml">1</mn><mo id="S3.SS5.p2.6.m6.2.3.2.3" stretchy="false" xref="S3.SS5.p2.6.m6.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.6.m6.2b"><interval closure="closed" id="S3.SS5.p2.6.m6.2.3.1.cmml" xref="S3.SS5.p2.6.m6.2.3.2"><cn id="S3.SS5.p2.6.m6.1.1.cmml" type="integer" xref="S3.SS5.p2.6.m6.1.1">0</cn><cn id="S3.SS5.p2.6.m6.2.2.cmml" type="integer" xref="S3.SS5.p2.6.m6.2.2">1</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.6.m6.2c">[0,1]</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.6.m6.2d">[ 0 , 1 ]</annotation></semantics></math> to make BM25 scores derived from different LLM predictions comparable. We then penalize each predictionâ€™s BM25 scores (each column) by multiplying the BM25 scores by a factor of <math alttext="e^{\epsilon s}" class="ltx_Math" display="inline" id="S3.SS5.p2.7.m7.1"><semantics id="S3.SS5.p2.7.m7.1a"><msup id="S3.SS5.p2.7.m7.1.1" xref="S3.SS5.p2.7.m7.1.1.cmml"><mi id="S3.SS5.p2.7.m7.1.1.2" xref="S3.SS5.p2.7.m7.1.1.2.cmml">e</mi><mrow id="S3.SS5.p2.7.m7.1.1.3" xref="S3.SS5.p2.7.m7.1.1.3.cmml"><mi id="S3.SS5.p2.7.m7.1.1.3.2" xref="S3.SS5.p2.7.m7.1.1.3.2.cmml">Ïµ</mi><mo id="S3.SS5.p2.7.m7.1.1.3.1" xref="S3.SS5.p2.7.m7.1.1.3.1.cmml">â¢</mo><mi id="S3.SS5.p2.7.m7.1.1.3.3" xref="S3.SS5.p2.7.m7.1.1.3.3.cmml">s</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.7.m7.1b"><apply id="S3.SS5.p2.7.m7.1.1.cmml" xref="S3.SS5.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.7.m7.1.1.1.cmml" xref="S3.SS5.p2.7.m7.1.1">superscript</csymbol><ci id="S3.SS5.p2.7.m7.1.1.2.cmml" xref="S3.SS5.p2.7.m7.1.1.2">ğ‘’</ci><apply id="S3.SS5.p2.7.m7.1.1.3.cmml" xref="S3.SS5.p2.7.m7.1.1.3"><times id="S3.SS5.p2.7.m7.1.1.3.1.cmml" xref="S3.SS5.p2.7.m7.1.1.3.1"></times><ci id="S3.SS5.p2.7.m7.1.1.3.2.cmml" xref="S3.SS5.p2.7.m7.1.1.3.2">italic-Ïµ</ci><ci id="S3.SS5.p2.7.m7.1.1.3.3.cmml" xref="S3.SS5.p2.7.m7.1.1.3.3">ğ‘ </ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.7.m7.1c">e^{\epsilon s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.7.m7.1d">italic_e start_POSTSUPERSCRIPT italic_Ïµ italic_s end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="s" class="ltx_Math" display="inline" id="S3.SS5.p2.8.m8.1"><semantics id="S3.SS5.p2.8.m8.1a"><mi id="S3.SS5.p2.8.m8.1.1" xref="S3.SS5.p2.8.m8.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.8.m8.1b"><ci id="S3.SS5.p2.8.m8.1.1.cmml" xref="S3.SS5.p2.8.m8.1.1">ğ‘ </ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.8.m8.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.8.m8.1d">italic_s</annotation></semantics></math> is the sequence score associated with the text prediction, and <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS5.p2.9.m9.1"><semantics id="S3.SS5.p2.9.m9.1a"><mi id="S3.SS5.p2.9.m9.1.1" xref="S3.SS5.p2.9.m9.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.9.m9.1b"><ci id="S3.SS5.p2.9.m9.1.1.cmml" xref="S3.SS5.p2.9.m9.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.9.m9.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.9.m9.1d">italic_Ïµ</annotation></semantics></math> is a small positive constant so that <math alttext="e^{\epsilon s}" class="ltx_Math" display="inline" id="S3.SS5.p2.10.m10.1"><semantics id="S3.SS5.p2.10.m10.1a"><msup id="S3.SS5.p2.10.m10.1.1" xref="S3.SS5.p2.10.m10.1.1.cmml"><mi id="S3.SS5.p2.10.m10.1.1.2" xref="S3.SS5.p2.10.m10.1.1.2.cmml">e</mi><mrow id="S3.SS5.p2.10.m10.1.1.3" xref="S3.SS5.p2.10.m10.1.1.3.cmml"><mi id="S3.SS5.p2.10.m10.1.1.3.2" xref="S3.SS5.p2.10.m10.1.1.3.2.cmml">Ïµ</mi><mo id="S3.SS5.p2.10.m10.1.1.3.1" xref="S3.SS5.p2.10.m10.1.1.3.1.cmml">â¢</mo><mi id="S3.SS5.p2.10.m10.1.1.3.3" xref="S3.SS5.p2.10.m10.1.1.3.3.cmml">s</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.10.m10.1b"><apply id="S3.SS5.p2.10.m10.1.1.cmml" xref="S3.SS5.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.10.m10.1.1.1.cmml" xref="S3.SS5.p2.10.m10.1.1">superscript</csymbol><ci id="S3.SS5.p2.10.m10.1.1.2.cmml" xref="S3.SS5.p2.10.m10.1.1.2">ğ‘’</ci><apply id="S3.SS5.p2.10.m10.1.1.3.cmml" xref="S3.SS5.p2.10.m10.1.1.3"><times id="S3.SS5.p2.10.m10.1.1.3.1.cmml" xref="S3.SS5.p2.10.m10.1.1.3.1"></times><ci id="S3.SS5.p2.10.m10.1.1.3.2.cmml" xref="S3.SS5.p2.10.m10.1.1.3.2">italic-Ïµ</ci><ci id="S3.SS5.p2.10.m10.1.1.3.3.cmml" xref="S3.SS5.p2.10.m10.1.1.3.3">ğ‘ </ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.10.m10.1c">e^{\epsilon s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.10.m10.1d">italic_e start_POSTSUPERSCRIPT italic_Ïµ italic_s end_POSTSUPERSCRIPT</annotation></semantics></math> is smaller than but very close to <math alttext="1.0" class="ltx_Math" display="inline" id="S3.SS5.p2.11.m11.1"><semantics id="S3.SS5.p2.11.m11.1a"><mn id="S3.SS5.p2.11.m11.1.1" xref="S3.SS5.p2.11.m11.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.11.m11.1b"><cn id="S3.SS5.p2.11.m11.1.1.cmml" type="float" xref="S3.SS5.p2.11.m11.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.11.m11.1c">1.0</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.11.m11.1d">1.0</annotation></semantics></math>. This is to further modulate the BM25 text-based retrieval scores by the LLM generative scores. After that, we max-pool along the <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.12.m12.1"><semantics id="S3.SS5.p2.12.m12.1a"><msub id="S3.SS5.p2.12.m12.1.1" xref="S3.SS5.p2.12.m12.1.1.cmml"><mi id="S3.SS5.p2.12.m12.1.1.2" xref="S3.SS5.p2.12.m12.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.12.m12.1.1.3" xref="S3.SS5.p2.12.m12.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.12.m12.1b"><apply id="S3.SS5.p2.12.m12.1.1.cmml" xref="S3.SS5.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.12.m12.1.1.1.cmml" xref="S3.SS5.p2.12.m12.1.1">subscript</csymbol><ci id="S3.SS5.p2.12.m12.1.1.2.cmml" xref="S3.SS5.p2.12.m12.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.12.m12.1.1.3a.cmml" xref="S3.SS5.p2.12.m12.1.1.3"><mtext id="S3.SS5.p2.12.m12.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.12.m12.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.12.m12.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.12.m12.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> axis and finally derive modulated BM25 matching scores in a single vector of size <math alttext="N_{c}" class="ltx_Math" display="inline" id="S3.SS5.p2.13.m13.1"><semantics id="S3.SS5.p2.13.m13.1a"><msub id="S3.SS5.p2.13.m13.1.1" xref="S3.SS5.p2.13.m13.1.1.cmml"><mi id="S3.SS5.p2.13.m13.1.1.2" xref="S3.SS5.p2.13.m13.1.1.2.cmml">N</mi><mi id="S3.SS5.p2.13.m13.1.1.3" xref="S3.SS5.p2.13.m13.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.13.m13.1b"><apply id="S3.SS5.p2.13.m13.1.1.cmml" xref="S3.SS5.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.13.m13.1.1.1.cmml" xref="S3.SS5.p2.13.m13.1.1">subscript</csymbol><ci id="S3.SS5.p2.13.m13.1.1.2.cmml" xref="S3.SS5.p2.13.m13.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.13.m13.1.1.3.cmml" xref="S3.SS5.p2.13.m13.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.13.m13.1c">N_{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.13.m13.1d">italic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, with information from all <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.14.m14.1"><semantics id="S3.SS5.p2.14.m14.1a"><msub id="S3.SS5.p2.14.m14.1.1" xref="S3.SS5.p2.14.m14.1.1.cmml"><mi id="S3.SS5.p2.14.m14.1.1.2" xref="S3.SS5.p2.14.m14.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.14.m14.1.1.3" xref="S3.SS5.p2.14.m14.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.14.m14.1b"><apply id="S3.SS5.p2.14.m14.1.1.cmml" xref="S3.SS5.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.14.m14.1.1.1.cmml" xref="S3.SS5.p2.14.m14.1.1">subscript</csymbol><ci id="S3.SS5.p2.14.m14.1.1.2.cmml" xref="S3.SS5.p2.14.m14.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.14.m14.1.1.3a.cmml" xref="S3.SS5.p2.14.m14.1.1.3"><mtext id="S3.SS5.p2.14.m14.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.14.m14.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.14.m14.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.14.m14.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> recommendations fused in it (we can then derive the ranking of the ground-truth target item in the item corpus for calculating evaluation metric scores, or return top-K recommendations for users), as presented in AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#alg1" title="In 3.5. Quasi-Round-Robin BM25 Retrieval â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>In our preliminary investigation, we found that <span class="ltx_text ltx_font_bold" id="footnote3.1">1)</span> max-pooling significantly outperforms min-pooling and mean-pooling and <span class="ltx_text ltx_font_bold" id="footnote3.2">2)</span> there is obvious performance drop if we remove modulation since only max-pooling combined with modulation can make sure that top-1 LLM outputsâ€™ top-1 recommendation is still the top-1 recommendation in the merged list. <span class="ltx_text ltx_font_bold" id="footnote3.3">3)</span> The overall results are not sensitive to the value of <math alttext="\epsilon" class="ltx_Math" display="inline" id="footnote3.m1.1"><semantics id="footnote3.m1.1b"><mi id="footnote3.m1.1.1" xref="footnote3.m1.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="footnote3.m1.1c"><ci id="footnote3.m1.1.1.cmml" xref="footnote3.m1.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote3.m1.1d">\epsilon</annotation><annotation encoding="application/x-llamapun" id="footnote3.m1.1e">italic_Ïµ</annotation></semantics></math> as long as <math alttext="\epsilon" class="ltx_Math" display="inline" id="footnote3.m2.1"><semantics id="footnote3.m2.1b"><mi id="footnote3.m2.1.1" xref="footnote3.m2.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="footnote3.m2.1c"><ci id="footnote3.m2.1.1.cmml" xref="footnote3.m2.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote3.m2.1d">\epsilon</annotation><annotation encoding="application/x-llamapun" id="footnote3.m2.1e">italic_Ïµ</annotation></semantics></math> is small.</span></span></span>. Here, we provide another view into the round-robin nature of our approach: given that the scaled BM25 score of each best-match item from the non-duplicate <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.15.m15.1"><semantics id="S3.SS5.p2.15.m15.1a"><msub id="S3.SS5.p2.15.m15.1.1" xref="S3.SS5.p2.15.m15.1.1.cmml"><mi id="S3.SS5.p2.15.m15.1.1.2" xref="S3.SS5.p2.15.m15.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.15.m15.1.1.3" xref="S3.SS5.p2.15.m15.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.15.m15.1b"><apply id="S3.SS5.p2.15.m15.1.1.cmml" xref="S3.SS5.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.15.m15.1.1.1.cmml" xref="S3.SS5.p2.15.m15.1.1">subscript</csymbol><ci id="S3.SS5.p2.15.m15.1.1.2.cmml" xref="S3.SS5.p2.15.m15.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.15.m15.1.1.3a.cmml" xref="S3.SS5.p2.15.m15.1.1.3"><mtext id="S3.SS5.p2.15.m15.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.15.m15.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.15.m15.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.15.m15.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> texts generated is <math alttext="1" class="ltx_Math" display="inline" id="S3.SS5.p2.16.m16.1"><semantics id="S3.SS5.p2.16.m16.1a"><mn id="S3.SS5.p2.16.m16.1.1" xref="S3.SS5.p2.16.m16.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.16.m16.1b"><cn id="S3.SS5.p2.16.m16.1.1.cmml" type="integer" xref="S3.SS5.p2.16.m16.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.16.m16.1c">1</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.16.m16.1d">1</annotation></semantics></math>, when they are further modulated (scaled down) using <math alttext="e^{\epsilon s}" class="ltx_Math" display="inline" id="S3.SS5.p2.17.m17.1"><semantics id="S3.SS5.p2.17.m17.1a"><msup id="S3.SS5.p2.17.m17.1.1" xref="S3.SS5.p2.17.m17.1.1.cmml"><mi id="S3.SS5.p2.17.m17.1.1.2" xref="S3.SS5.p2.17.m17.1.1.2.cmml">e</mi><mrow id="S3.SS5.p2.17.m17.1.1.3" xref="S3.SS5.p2.17.m17.1.1.3.cmml"><mi id="S3.SS5.p2.17.m17.1.1.3.2" xref="S3.SS5.p2.17.m17.1.1.3.2.cmml">Ïµ</mi><mo id="S3.SS5.p2.17.m17.1.1.3.1" xref="S3.SS5.p2.17.m17.1.1.3.1.cmml">â¢</mo><mi id="S3.SS5.p2.17.m17.1.1.3.3" xref="S3.SS5.p2.17.m17.1.1.3.3.cmml">s</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.17.m17.1b"><apply id="S3.SS5.p2.17.m17.1.1.cmml" xref="S3.SS5.p2.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.17.m17.1.1.1.cmml" xref="S3.SS5.p2.17.m17.1.1">superscript</csymbol><ci id="S3.SS5.p2.17.m17.1.1.2.cmml" xref="S3.SS5.p2.17.m17.1.1.2">ğ‘’</ci><apply id="S3.SS5.p2.17.m17.1.1.3.cmml" xref="S3.SS5.p2.17.m17.1.1.3"><times id="S3.SS5.p2.17.m17.1.1.3.1.cmml" xref="S3.SS5.p2.17.m17.1.1.3.1"></times><ci id="S3.SS5.p2.17.m17.1.1.3.2.cmml" xref="S3.SS5.p2.17.m17.1.1.3.2">italic-Ïµ</ci><ci id="S3.SS5.p2.17.m17.1.1.3.3.cmml" xref="S3.SS5.p2.17.m17.1.1.3.3">ğ‘ </ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.17.m17.1c">e^{\epsilon s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.17.m17.1d">italic_e start_POSTSUPERSCRIPT italic_Ïµ italic_s end_POSTSUPERSCRIPT</annotation></semantics></math>, the final retrieval algorithm roughly follows a round-robin fashion, where the top-1 BM25 retrieval result of each of the generated text are in turn grouped as the final top <math alttext="N_{\text{preds}}" class="ltx_Math" display="inline" id="S3.SS5.p2.18.m18.1"><semantics id="S3.SS5.p2.18.m18.1a"><msub id="S3.SS5.p2.18.m18.1.1" xref="S3.SS5.p2.18.m18.1.1.cmml"><mi id="S3.SS5.p2.18.m18.1.1.2" xref="S3.SS5.p2.18.m18.1.1.2.cmml">N</mi><mtext id="S3.SS5.p2.18.m18.1.1.3" xref="S3.SS5.p2.18.m18.1.1.3a.cmml">preds</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.18.m18.1b"><apply id="S3.SS5.p2.18.m18.1.1.cmml" xref="S3.SS5.p2.18.m18.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.18.m18.1.1.1.cmml" xref="S3.SS5.p2.18.m18.1.1">subscript</csymbol><ci id="S3.SS5.p2.18.m18.1.1.2.cmml" xref="S3.SS5.p2.18.m18.1.1.2">ğ‘</ci><ci id="S3.SS5.p2.18.m18.1.1.3a.cmml" xref="S3.SS5.p2.18.m18.1.1.3"><mtext id="S3.SS5.p2.18.m18.1.1.3.cmml" mathsize="70%" xref="S3.SS5.p2.18.m18.1.1.3">preds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.18.m18.1c">N_{\text{preds}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.18.m18.1d">italic_N start_POSTSUBSCRIPT preds end_POSTSUBSCRIPT</annotation></semantics></math> retrieval results, when <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS5.p2.19.m19.1"><semantics id="S3.SS5.p2.19.m19.1a"><mi id="S3.SS5.p2.19.m19.1.1" xref="S3.SS5.p2.19.m19.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.19.m19.1b"><ci id="S3.SS5.p2.19.m19.1.1.cmml" xref="S3.SS5.p2.19.m19.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.19.m19.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.19.m19.1d">italic_Ïµ</annotation></semantics></math> is close to <math alttext="0.0" class="ltx_Math" display="inline" id="S3.SS5.p2.20.m20.1"><semantics id="S3.SS5.p2.20.m20.1a"><mn id="S3.SS5.p2.20.m20.1.1" xref="S3.SS5.p2.20.m20.1.1.cmml">0.0</mn><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.20.m20.1b"><cn id="S3.SS5.p2.20.m20.1.1.cmml" type="float" xref="S3.SS5.p2.20.m20.1.1">0.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.20.m20.1c">0.0</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.20.m20.1d">0.0</annotation></semantics></math>. Since there are ties, we name our method â€˜quasi-â€™ rather than â€˜strict-â€™ round-robin.

</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experimental Setup</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.p1.1.1">LLM Selection.</span> Our work leverages PaLM-2Â <cite class="ltx_cite ltx_citemacro_citep">(Anil etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib3" title="">2023</a>; Tay etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib47" title="">2023</a>)</cite>, a state-of-the-art LLM that is pretrained with a mixture of different objectives and exhibits exceptional generalization capabilities on a variety of language tasks. Among PaLM-2 model variants, we choose PaLM-2 XXS as the LLM backbone for our tasks, balancing model capability with inference latency.<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>Here, XXS is a â€˜T-shirt sizeâ€™ notation of the model size. S-, M- and L-sized PaLM-2 models reported inÂ <cite class="ltx_cite ltx_citemacro_citet">Anil etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib3" title="">2023</a>)</cite> are all larger than our XXS-sized model.</span></span></span> Larger PaLM-2 S does not show a significant advantage against XXS model when both are without fine-tuning (see Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5" title="5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a>). Besides, the scale of our dataset (significantly smaller than text corpora for pretraining LLMs) may lead to overfitting when fine-tuning larger modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Kirkpatrick etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib25" title="">2017</a>; Mitchell etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib35" title="">2022</a>)</cite>.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.1" style="width:411.9pt;height:70.8pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-216.1pt,36.9pt) scale(0.487980751720091,0.487980751720091) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.1">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T1.1.1.1.1"></td>
<td class="ltx_td ltx_border_tt" id="S4.T1.1.1.1.2"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1.3"><span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.1.3.1" style="background-color:#EBEBEB;">Before Dedup</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="8" id="S4.T1.1.1.1.4"><span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.1.4.1" style="background-color:#EBEBEB;">After Dedup</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.2" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.1"><span class="ltx_text" id="S4.T1.1.1.2.1.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.2"><span class="ltx_text" id="S4.T1.1.1.2.2.1" style="background-color:#EBEBEB;"># of Users</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.3"><span class="ltx_text" id="S4.T1.1.1.2.3.1" style="background-color:#EBEBEB;">% of duplicate Purchases</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.4"><span class="ltx_text" id="S4.T1.1.1.2.4.1" style="background-color:#EBEBEB;"># of Items</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.5"><span class="ltx_text" id="S4.T1.1.1.2.5.1" style="background-color:#EBEBEB;">Total Purchase</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.6"><span class="ltx_text" id="S4.T1.1.1.2.6.1" style="background-color:#EBEBEB;">Items/User</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.7"><span class="ltx_text" id="S4.T1.1.1.2.7.1" style="background-color:#EBEBEB;">Purchases/Item</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.8"><span class="ltx_text" id="S4.T1.1.1.2.8.1" style="background-color:#EBEBEB;">Density</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.9"><span class="ltx_text" id="S4.T1.1.1.2.9.1" style="background-color:#EBEBEB;">Words/Item</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.10"><span class="ltx_text" id="S4.T1.1.1.2.10.1" style="background-color:#EBEBEB;">Word Vocab Size</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.11"><span class="ltx_text" id="S4.T1.1.1.2.11.1" style="background-color:#EBEBEB;">Avg. Word Freq</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.3">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.1"><span class="ltx_text" id="S4.T1.1.1.3.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2">9461</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.3">5.5%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.4">5282</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.5">66644</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.6">7.04</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.7">12.62</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.8">0.0013</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.9">22.82</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.10">19178</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.11">6.3</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.4">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.1"><span class="ltx_text" id="S4.T1.1.1.4.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.2">25577</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.3">4.0%</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.4">10599</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.5">214526</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.6">8.39</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.7">20.24</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.8">0.00079</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.9">18.43</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.10">22256</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.11">8.8</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.5">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.1"><span class="ltx_text" id="S4.T1.1.1.5.1.1">Arts</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.2">47197</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.3">9.4%</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4">22828</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.5">411449</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.6">8.72</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.7">18.02</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.8">0.00038</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.9">21.38</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.10">40342</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.11">12.1</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.6">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.1"><span class="ltx_text" id="S4.T1.1.1.6.1.1">Office</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.2">44736 (50%)</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.3">6.3%</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.4">27482</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.5">352151</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.6">7.87</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.7">12.81</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.8">0.00029</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.9">21.74</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.10">56687</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.11">10.5</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.7">
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.1"><span class="ltx_text" id="S4.T1.1.1.7.1.1">Games</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.2">50940</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.3">4.7%</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.4">17383</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.5">457060</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6">8.97</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.7">26.29</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.8">0.00051</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.9">16.39</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.10">17087</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.11">16.7</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.8">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.1"><span class="ltx_text" id="S4.T1.1.1.8.1.1">Pet</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.2">43135 (20%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.3">5.9%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.4">37712</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.5">380623</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.6">8.82</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.7">10.09</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.8">0.00023</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.9">19.87</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.10">47339</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8.11">15.8</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Statistics of Amazon Review dataset.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.p2">
<p class="ltx_p" id="S4.p2.17"><span class="ltx_text ltx_font_bold" id="S4.p2.17.1">Dataset.</span> Our experiments adopt the established and publicly available <a class="ltx_ref ltx_href" href="https://cseweb.ucsd.edu/~jmcauley/datasets/amazon_v2/" title="">Amazon Review dataset 2018</a>Â <cite class="ltx_cite ltx_citemacro_citep">(Ni etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib36" title="">2019</a>)</cite>. Specifically, we use the <math alttext="5" class="ltx_Math" display="inline" id="S4.p2.1.m1.1"><semantics id="S4.p2.1.m1.1a"><mn id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><cn id="S4.p2.1.m1.1.1.cmml" type="integer" xref="S4.p2.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S4.p2.1.m1.1d">5</annotation></semantics></math>-core subsets where each user/item is found in at least <math alttext="5" class="ltx_Math" display="inline" id="S4.p2.2.m2.1"><semantics id="S4.p2.2.m2.1a"><mn id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><cn id="S4.p2.2.m2.1.1.cmml" type="integer" xref="S4.p2.2.m2.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">5</annotation><annotation encoding="application/x-llamapun" id="S4.p2.2.m2.1d">5</annotation></semantics></math> interactions. We choose four item attributes: <span class="ltx_text ltx_font_italic" id="S4.p2.17.2">title, category, brand</span>, and <span class="ltx_text ltx_font_italic" id="S4.p2.17.3">price</span>, to construct the flattened text description of each item, and we truncate the length of their corresponding descriptions to <math alttext="25" class="ltx_Math" display="inline" id="S4.p2.3.m3.1"><semantics id="S4.p2.3.m3.1a"><mn id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.1b"><cn id="S4.p2.3.m3.1.1.cmml" type="integer" xref="S4.p2.3.m3.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.1c">25</annotation><annotation encoding="application/x-llamapun" id="S4.p2.3.m3.1d">25</annotation></semantics></math>, <math alttext="15" class="ltx_Math" display="inline" id="S4.p2.4.m4.1"><semantics id="S4.p2.4.m4.1a"><mn id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><cn id="S4.p2.4.m4.1.1.cmml" type="integer" xref="S4.p2.4.m4.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">15</annotation><annotation encoding="application/x-llamapun" id="S4.p2.4.m4.1d">15</annotation></semantics></math>, <math alttext="15" class="ltx_Math" display="inline" id="S4.p2.5.m5.1"><semantics id="S4.p2.5.m5.1a"><mn id="S4.p2.5.m5.1.1" xref="S4.p2.5.m5.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S4.p2.5.m5.1b"><cn id="S4.p2.5.m5.1.1.cmml" type="integer" xref="S4.p2.5.m5.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.5.m5.1c">15</annotation><annotation encoding="application/x-llamapun" id="S4.p2.5.m5.1d">15</annotation></semantics></math>, and <math alttext="15" class="ltx_Math" display="inline" id="S4.p2.6.m6.1"><semantics id="S4.p2.6.m6.1a"><mn id="S4.p2.6.m6.1.1" xref="S4.p2.6.m6.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S4.p2.6.m6.1b"><cn id="S4.p2.6.m6.1.1.cmml" type="integer" xref="S4.p2.6.m6.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.6.m6.1c">15</annotation><annotation encoding="application/x-llamapun" id="S4.p2.6.m6.1d">15</annotation></semantics></math> words, respectively. FollowingÂ <cite class="ltx_cite ltx_citemacro_citet">Li etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, the same <math alttext="14" class="ltx_Math" display="inline" id="S4.p2.7.m7.1"><semantics id="S4.p2.7.m7.1a"><mn id="S4.p2.7.m7.1.1" xref="S4.p2.7.m7.1.1.cmml">14</mn><annotation-xml encoding="MathML-Content" id="S4.p2.7.m7.1b"><cn id="S4.p2.7.m7.1.1.cmml" type="integer" xref="S4.p2.7.m7.1.1">14</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.7.m7.1c">14</annotation><annotation encoding="application/x-llamapun" id="S4.p2.7.m7.1d">14</annotation></semantics></math> product categories are involved in our research and they are all used for Stage I multi-category joint fine-tuning (<math alttext="3.59" class="ltx_Math" display="inline" id="S4.p2.8.m8.1"><semantics id="S4.p2.8.m8.1a"><mn id="S4.p2.8.m8.1.1" xref="S4.p2.8.m8.1.1.cmml">3.59</mn><annotation-xml encoding="MathML-Content" id="S4.p2.8.m8.1b"><cn id="S4.p2.8.m8.1.1.cmml" type="float" xref="S4.p2.8.m8.1.1">3.59</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.8.m8.1c">3.59</annotation><annotation encoding="application/x-llamapun" id="S4.p2.8.m8.1d">3.59</annotation></semantics></math>M users). Among them, <math alttext="7" class="ltx_Math" display="inline" id="S4.p2.9.m9.1"><semantics id="S4.p2.9.m9.1a"><mn id="S4.p2.9.m9.1.1" xref="S4.p2.9.m9.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S4.p2.9.m9.1b"><cn id="S4.p2.9.m9.1.1.cmml" type="integer" xref="S4.p2.9.m9.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.9.m9.1c">7</annotation><annotation encoding="application/x-llamapun" id="S4.p2.9.m9.1d">7</annotation></semantics></math> categories (<math alttext="3.37" class="ltx_Math" display="inline" id="S4.p2.10.m10.1"><semantics id="S4.p2.10.m10.1a"><mn id="S4.p2.10.m10.1.1" xref="S4.p2.10.m10.1.1.cmml">3.37</mn><annotation-xml encoding="MathML-Content" id="S4.p2.10.m10.1b"><cn id="S4.p2.10.m10.1.1.cmml" type="float" xref="S4.p2.10.m10.1.1">3.37</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.10.m10.1c">3.37</annotation><annotation encoding="application/x-llamapun" id="S4.p2.10.m10.1d">3.37</annotation></semantics></math>M users) are only for Stage I
training where their entire user purchase records are used<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>The <math alttext="7" class="ltx_Math" display="inline" id="footnote5.m1.1"><semantics id="footnote5.m1.1b"><mn id="footnote5.m1.1.1" xref="footnote5.m1.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="footnote5.m1.1c"><cn id="footnote5.m1.1.1.cmml" type="integer" xref="footnote5.m1.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote5.m1.1d">7</annotation><annotation encoding="application/x-llamapun" id="footnote5.m1.1e">7</annotation></semantics></math> categories are â€˜Automotiveâ€™, â€˜Cell Phones and Accessoriesâ€™, â€˜Clothing Shoes and Jewelry
â€™, â€˜Electronicsâ€™, â€˜ Grocery and Gourmet Foodâ€™, â€˜Home and Kitchenâ€™, and â€˜Movies and TVâ€™. The aim of leveraging large volume of data in Stage I is to benefit other categories in Stage II as a result of transfer learning.
</span></span></span>; one category â€˜CD and Vinylsâ€™ is used for model selection purpose (29K users) during Stage I training where the last item for each user is left for validation and only the first <math alttext="n-1" class="ltx_Math" display="inline" id="S4.p2.11.m11.1"><semantics id="S4.p2.11.m11.1a"><mrow id="S4.p2.11.m11.1.1" xref="S4.p2.11.m11.1.1.cmml"><mi id="S4.p2.11.m11.1.1.2" xref="S4.p2.11.m11.1.1.2.cmml">n</mi><mo id="S4.p2.11.m11.1.1.1" xref="S4.p2.11.m11.1.1.1.cmml">âˆ’</mo><mn id="S4.p2.11.m11.1.1.3" xref="S4.p2.11.m11.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.11.m11.1b"><apply id="S4.p2.11.m11.1.1.cmml" xref="S4.p2.11.m11.1.1"><minus id="S4.p2.11.m11.1.1.1.cmml" xref="S4.p2.11.m11.1.1.1"></minus><ci id="S4.p2.11.m11.1.1.2.cmml" xref="S4.p2.11.m11.1.1.2">ğ‘›</ci><cn id="S4.p2.11.m11.1.1.3.cmml" type="integer" xref="S4.p2.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.11.m11.1c">n-1</annotation><annotation encoding="application/x-llamapun" id="S4.p2.11.m11.1d">italic_n - 1</annotation></semantics></math> items are adopted for training. Finally, the remaining <math alttext="6" class="ltx_Math" display="inline" id="S4.p2.12.m12.1"><semantics id="S4.p2.12.m12.1a"><mn id="S4.p2.12.m12.1.1" xref="S4.p2.12.m12.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S4.p2.12.m12.1b"><cn id="S4.p2.12.m12.1.1.cmml" type="integer" xref="S4.p2.12.m12.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.12.m12.1c">6</annotation><annotation encoding="application/x-llamapun" id="S4.p2.12.m12.1d">6</annotation></semantics></math> categories are adopted for category-specific fine-tuning (Stage II) and evaluation (<math alttext="0.22" class="ltx_Math" display="inline" id="S4.p2.13.m13.1"><semantics id="S4.p2.13.m13.1a"><mn id="S4.p2.13.m13.1.1" xref="S4.p2.13.m13.1.1.cmml">0.22</mn><annotation-xml encoding="MathML-Content" id="S4.p2.13.m13.1b"><cn id="S4.p2.13.m13.1.1.cmml" type="float" xref="S4.p2.13.m13.1.1">0.22</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.13.m13.1c">0.22</annotation><annotation encoding="application/x-llamapun" id="S4.p2.13.m13.1d">0.22</annotation></semantics></math>M Users)<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>The <math alttext="6" class="ltx_Math" display="inline" id="footnote6.m1.1"><semantics id="footnote6.m1.1b"><mn id="footnote6.m1.1.1" xref="footnote6.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="footnote6.m1.1c"><cn id="footnote6.m1.1.1.cmml" type="integer" xref="footnote6.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote6.m1.1d">6</annotation><annotation encoding="application/x-llamapun" id="footnote6.m1.1e">6</annotation></semantics></math> categories are â€˜Industrial and Scientificâ€™, â€˜Musical Instrumentsâ€™, â€˜Arts, Crafts and Sewingâ€™, â€˜Office Productsâ€™, â€˜Video Gamesâ€™, â€˜Pet Suppliesâ€™. For brevity, we also denote them as â€˜Scientificâ€™, â€˜Instrumentsâ€™, â€˜Artsâ€™, â€˜Officeâ€™, â€˜Gamesâ€™, and â€˜Petâ€™, respectively.</span></span></span>, where the first <math alttext="n-2" class="ltx_Math" display="inline" id="S4.p2.14.m14.1"><semantics id="S4.p2.14.m14.1a"><mrow id="S4.p2.14.m14.1.1" xref="S4.p2.14.m14.1.1.cmml"><mi id="S4.p2.14.m14.1.1.2" xref="S4.p2.14.m14.1.1.2.cmml">n</mi><mo id="S4.p2.14.m14.1.1.1" xref="S4.p2.14.m14.1.1.1.cmml">âˆ’</mo><mn id="S4.p2.14.m14.1.1.3" xref="S4.p2.14.m14.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.14.m14.1b"><apply id="S4.p2.14.m14.1.1.cmml" xref="S4.p2.14.m14.1.1"><minus id="S4.p2.14.m14.1.1.1.cmml" xref="S4.p2.14.m14.1.1.1"></minus><ci id="S4.p2.14.m14.1.1.2.cmml" xref="S4.p2.14.m14.1.1.2">ğ‘›</ci><cn id="S4.p2.14.m14.1.1.3.cmml" type="integer" xref="S4.p2.14.m14.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.14.m14.1c">n-2</annotation><annotation encoding="application/x-llamapun" id="S4.p2.14.m14.1d">italic_n - 2</annotation></semantics></math> items are used for training in both Stages I and II, the penultimate item is used for validation in Stage II, and the very last item for evaluation. We also conduct data deduplication (dedup) on user sequences, which we describe later in next paragraph. For large categories including â€˜Officeâ€™ and â€˜Petâ€™, we randomly sampled <math alttext="50\%" class="ltx_Math" display="inline" id="S4.p2.15.m15.1"><semantics id="S4.p2.15.m15.1a"><mrow id="S4.p2.15.m15.1.1" xref="S4.p2.15.m15.1.1.cmml"><mn id="S4.p2.15.m15.1.1.2" xref="S4.p2.15.m15.1.1.2.cmml">50</mn><mo id="S4.p2.15.m15.1.1.1" xref="S4.p2.15.m15.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.15.m15.1b"><apply id="S4.p2.15.m15.1.1.cmml" xref="S4.p2.15.m15.1.1"><csymbol cd="latexml" id="S4.p2.15.m15.1.1.1.cmml" xref="S4.p2.15.m15.1.1.1">percent</csymbol><cn id="S4.p2.15.m15.1.1.2.cmml" type="integer" xref="S4.p2.15.m15.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.15.m15.1c">50\%</annotation><annotation encoding="application/x-llamapun" id="S4.p2.15.m15.1d">50 %</annotation></semantics></math> and <math alttext="20\%" class="ltx_Math" display="inline" id="S4.p2.16.m16.1"><semantics id="S4.p2.16.m16.1a"><mrow id="S4.p2.16.m16.1.1" xref="S4.p2.16.m16.1.1.cmml"><mn id="S4.p2.16.m16.1.1.2" xref="S4.p2.16.m16.1.1.2.cmml">20</mn><mo id="S4.p2.16.m16.1.1.1" xref="S4.p2.16.m16.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.16.m16.1b"><apply id="S4.p2.16.m16.1.1.cmml" xref="S4.p2.16.m16.1.1"><csymbol cd="latexml" id="S4.p2.16.m16.1.1.1.cmml" xref="S4.p2.16.m16.1.1.1">percent</csymbol><cn id="S4.p2.16.m16.1.1.2.cmml" type="integer" xref="S4.p2.16.m16.1.1.2">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.16.m16.1c">20\%</annotation><annotation encoding="application/x-llamapun" id="S4.p2.16.m16.1d">20 %</annotation></semantics></math> users respectively. The detailed statistics of our data in Stage II (after deduplication) are presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4.T1" title="Table 1 â€£ 4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>,
where â€˜Densityâ€™ is defined as <math alttext="\text{Total Purchase}/(\#\text{of Users}\times\#\text{of Items})" class="ltx_Math" display="inline" id="S4.p2.17.m17.1"><semantics id="S4.p2.17.m17.1a"><mrow id="S4.p2.17.m17.1.1" xref="S4.p2.17.m17.1.1.cmml"><mtext id="S4.p2.17.m17.1.1.3" xref="S4.p2.17.m17.1.1.3a.cmml">Total Purchase</mtext><mo id="S4.p2.17.m17.1.1.2" xref="S4.p2.17.m17.1.1.2.cmml">/</mo><mrow id="S4.p2.17.m17.1.1.1.1" xref="S4.p2.17.m17.1.1.1.1.1.cmml"><mo id="S4.p2.17.m17.1.1.1.1.2" stretchy="false" xref="S4.p2.17.m17.1.1.1.1.1.cmml">(</mo><mrow id="S4.p2.17.m17.1.1.1.1.1" xref="S4.p2.17.m17.1.1.1.1.1.cmml"><mrow id="S4.p2.17.m17.1.1.1.1.1.2" xref="S4.p2.17.m17.1.1.1.1.1.2.cmml"><mrow id="S4.p2.17.m17.1.1.1.1.1.2.2" xref="S4.p2.17.m17.1.1.1.1.1.2.2.cmml"><mi id="S4.p2.17.m17.1.1.1.1.1.2.2.2" mathvariant="normal" xref="S4.p2.17.m17.1.1.1.1.1.2.2.2.cmml">#</mi><mo id="S4.p2.17.m17.1.1.1.1.1.2.2.1" xref="S4.p2.17.m17.1.1.1.1.1.2.2.1.cmml">â¢</mo><mtext id="S4.p2.17.m17.1.1.1.1.1.2.2.3" xref="S4.p2.17.m17.1.1.1.1.1.2.2.3a.cmml">of Users</mtext></mrow><mo id="S4.p2.17.m17.1.1.1.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S4.p2.17.m17.1.1.1.1.1.2.1.cmml">Ã—</mo><mi id="S4.p2.17.m17.1.1.1.1.1.2.3" mathvariant="normal" xref="S4.p2.17.m17.1.1.1.1.1.2.3.cmml">#</mi></mrow><mo id="S4.p2.17.m17.1.1.1.1.1.1" xref="S4.p2.17.m17.1.1.1.1.1.1.cmml">â¢</mo><mtext id="S4.p2.17.m17.1.1.1.1.1.3" xref="S4.p2.17.m17.1.1.1.1.1.3a.cmml">of Items</mtext></mrow><mo id="S4.p2.17.m17.1.1.1.1.3" stretchy="false" xref="S4.p2.17.m17.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.17.m17.1b"><apply id="S4.p2.17.m17.1.1.cmml" xref="S4.p2.17.m17.1.1"><divide id="S4.p2.17.m17.1.1.2.cmml" xref="S4.p2.17.m17.1.1.2"></divide><ci id="S4.p2.17.m17.1.1.3a.cmml" xref="S4.p2.17.m17.1.1.3"><mtext id="S4.p2.17.m17.1.1.3.cmml" xref="S4.p2.17.m17.1.1.3">Total Purchase</mtext></ci><apply id="S4.p2.17.m17.1.1.1.1.1.cmml" xref="S4.p2.17.m17.1.1.1.1"><times id="S4.p2.17.m17.1.1.1.1.1.1.cmml" xref="S4.p2.17.m17.1.1.1.1.1.1"></times><apply id="S4.p2.17.m17.1.1.1.1.1.2.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2"><times id="S4.p2.17.m17.1.1.1.1.1.2.1.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.1"></times><apply id="S4.p2.17.m17.1.1.1.1.1.2.2.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.2"><times id="S4.p2.17.m17.1.1.1.1.1.2.2.1.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.2.1"></times><ci id="S4.p2.17.m17.1.1.1.1.1.2.2.2.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.2.2">#</ci><ci id="S4.p2.17.m17.1.1.1.1.1.2.2.3a.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.2.3"><mtext id="S4.p2.17.m17.1.1.1.1.1.2.2.3.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.2.3">of Users</mtext></ci></apply><ci id="S4.p2.17.m17.1.1.1.1.1.2.3.cmml" xref="S4.p2.17.m17.1.1.1.1.1.2.3">#</ci></apply><ci id="S4.p2.17.m17.1.1.1.1.1.3a.cmml" xref="S4.p2.17.m17.1.1.1.1.1.3"><mtext id="S4.p2.17.m17.1.1.1.1.1.3.cmml" xref="S4.p2.17.m17.1.1.1.1.1.3">of Items</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.17.m17.1c">\text{Total Purchase}/(\#\text{of Users}\times\#\text{of Items})</annotation><annotation encoding="application/x-llamapun" id="S4.p2.17.m17.1d">Total Purchase / ( # of Users Ã— # of Items )</annotation></semantics></math>, and the â€˜Word Vocab Sizeâ€™ denotes the lowercase natural word types over the item corpus spanning the four attributes used.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p3">
<p class="ltx_p" id="S4.p3.2"><span class="ltx_text ltx_font_bold" id="S4.p3.2.1">User Sequence Deduplication.</span> We have found that the Amazon Review data include a non-negligible percentage of consecutive duplicate events in user sequences, where the duplication is identified as two consecutive activities by the same user that have the same item ID (ASIN number), review text, rating, and the same review timestamp. As indicated in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4.T1" title="Table 1 â€£ 4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, around <math alttext="4\%" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><mrow id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml"><mn id="S4.p3.1.m1.1.1.2" xref="S4.p3.1.m1.1.1.2.cmml">4</mn><mo id="S4.p3.1.m1.1.1.1" xref="S4.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><apply id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1"><csymbol cd="latexml" id="S4.p3.1.m1.1.1.1.cmml" xref="S4.p3.1.m1.1.1.1">percent</csymbol><cn id="S4.p3.1.m1.1.1.2.cmml" type="integer" xref="S4.p3.1.m1.1.1.2">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">4\%</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">4 %</annotation></semantics></math> to <math alttext="9.4\%" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><mrow id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml"><mn id="S4.p3.2.m2.1.1.2" xref="S4.p3.2.m2.1.1.2.cmml">9.4</mn><mo id="S4.p3.2.m2.1.1.1" xref="S4.p3.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><apply id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1"><csymbol cd="latexml" id="S4.p3.2.m2.1.1.1.cmml" xref="S4.p3.2.m2.1.1.1">percent</csymbol><cn id="S4.p3.2.m2.1.1.2.cmml" type="float" xref="S4.p3.2.m2.1.1.2">9.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">9.4\%</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">9.4 %</annotation></semantics></math> of purchases are exact duplicates of the previous ones in their user sequences. We conduct deduplication (dedup) on all user sequences following our strict definition of duplication above, while we still keep two consecutive purchases of the same item, if they occurred at different times (i.e., they come with different timestamps) or come with different ratings/review text since they are likely the usersâ€™ real actions. We note that some previous work, e.g. Â <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite>, did not conduct user sequence deduplication, which may lead a recommender system to learn a trivial strategy of always recommending the last item in the input sequence.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p4">
<p class="ltx_p" id="S4.p4.19"><span class="ltx_text ltx_font_bold" id="S4.p4.19.1">Implementation Details.</span> We train our CALRec based on XXS-sized PaLM-2 on a cluster of TPUv4 chipsÂ <cite class="ltx_cite ltx_citemacro_citep">(Jouppi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib22" title="">2023</a>)</cite>; our code is implemented with JAXÂ <cite class="ltx_cite ltx_citemacro_citep">(Bradbury etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib7" title="">2018</a>)</cite><span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/google/jax" title="">https://github.com/google/jax</a></span></span></span>and PAX<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/google/paxml" title="">https://github.com/google/paxml</a></span></span></span>. We adopt a training batch size of <math alttext="512" class="ltx_Math" display="inline" id="S4.p4.1.m1.1"><semantics id="S4.p4.1.m1.1a"><mn id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml">512</mn><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><cn id="S4.p4.1.m1.1.1.cmml" type="integer" xref="S4.p4.1.m1.1.1">512</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">512</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.1d">512</annotation></semantics></math> users, a learning rate of <math alttext="1" class="ltx_Math" display="inline" id="S4.p4.2.m2.1"><semantics id="S4.p4.2.m2.1a"><mn id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><cn id="S4.p4.2.m2.1.1.cmml" type="integer" xref="S4.p4.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">1</annotation><annotation encoding="application/x-llamapun" id="S4.p4.2.m2.1d">1</annotation></semantics></math>e<math alttext="-4" class="ltx_Math" display="inline" id="S4.p4.3.m3.1"><semantics id="S4.p4.3.m3.1a"><mrow id="S4.p4.3.m3.1.1" xref="S4.p4.3.m3.1.1.cmml"><mo id="S4.p4.3.m3.1.1a" xref="S4.p4.3.m3.1.1.cmml">âˆ’</mo><mn id="S4.p4.3.m3.1.1.2" xref="S4.p4.3.m3.1.1.2.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.3.m3.1b"><apply id="S4.p4.3.m3.1.1.cmml" xref="S4.p4.3.m3.1.1"><minus id="S4.p4.3.m3.1.1.1.cmml" xref="S4.p4.3.m3.1.1"></minus><cn id="S4.p4.3.m3.1.1.2.cmml" type="integer" xref="S4.p4.3.m3.1.1.2">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.3.m3.1c">-4</annotation><annotation encoding="application/x-llamapun" id="S4.p4.3.m3.1d">- 4</annotation></semantics></math>, a maximum input length of <math alttext="1,024" class="ltx_Math" display="inline" id="S4.p4.4.m4.2"><semantics id="S4.p4.4.m4.2a"><mrow id="S4.p4.4.m4.2.3.2" xref="S4.p4.4.m4.2.3.1.cmml"><mn id="S4.p4.4.m4.1.1" xref="S4.p4.4.m4.1.1.cmml">1</mn><mo id="S4.p4.4.m4.2.3.2.1" xref="S4.p4.4.m4.2.3.1.cmml">,</mo><mn id="S4.p4.4.m4.2.2" xref="S4.p4.4.m4.2.2.cmml">024</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.4.m4.2b"><list id="S4.p4.4.m4.2.3.1.cmml" xref="S4.p4.4.m4.2.3.2"><cn id="S4.p4.4.m4.1.1.cmml" type="integer" xref="S4.p4.4.m4.1.1">1</cn><cn id="S4.p4.4.m4.2.2.cmml" type="integer" xref="S4.p4.4.m4.2.2">024</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.4.m4.2c">1,024</annotation><annotation encoding="application/x-llamapun" id="S4.p4.4.m4.2d">1 , 024</annotation></semantics></math> tokens, and a maximum output decoding length of <math alttext="80" class="ltx_Math" display="inline" id="S4.p4.5.m5.1"><semantics id="S4.p4.5.m5.1a"><mn id="S4.p4.5.m5.1.1" xref="S4.p4.5.m5.1.1.cmml">80</mn><annotation-xml encoding="MathML-Content" id="S4.p4.5.m5.1b"><cn id="S4.p4.5.m5.1.1.cmml" type="integer" xref="S4.p4.5.m5.1.1">80</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.5.m5.1c">80</annotation><annotation encoding="application/x-llamapun" id="S4.p4.5.m5.1d">80</annotation></semantics></math> tokens. As a data augmentation trick, during training, we randomly truncate the last <math alttext="k" class="ltx_Math" display="inline" id="S4.p4.6.m6.1"><semantics id="S4.p4.6.m6.1a"><mi id="S4.p4.6.m6.1.1" xref="S4.p4.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p4.6.m6.1b"><ci id="S4.p4.6.m6.1.1.cmml" xref="S4.p4.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.p4.6.m6.1d">italic_k</annotation></semantics></math> items (<math alttext="k\in\{0,1,2,3,4\}" class="ltx_Math" display="inline" id="S4.p4.7.m7.5"><semantics id="S4.p4.7.m7.5a"><mrow id="S4.p4.7.m7.5.6" xref="S4.p4.7.m7.5.6.cmml"><mi id="S4.p4.7.m7.5.6.2" xref="S4.p4.7.m7.5.6.2.cmml">k</mi><mo id="S4.p4.7.m7.5.6.1" xref="S4.p4.7.m7.5.6.1.cmml">âˆˆ</mo><mrow id="S4.p4.7.m7.5.6.3.2" xref="S4.p4.7.m7.5.6.3.1.cmml"><mo id="S4.p4.7.m7.5.6.3.2.1" stretchy="false" xref="S4.p4.7.m7.5.6.3.1.cmml">{</mo><mn id="S4.p4.7.m7.1.1" xref="S4.p4.7.m7.1.1.cmml">0</mn><mo id="S4.p4.7.m7.5.6.3.2.2" xref="S4.p4.7.m7.5.6.3.1.cmml">,</mo><mn id="S4.p4.7.m7.2.2" xref="S4.p4.7.m7.2.2.cmml">1</mn><mo id="S4.p4.7.m7.5.6.3.2.3" xref="S4.p4.7.m7.5.6.3.1.cmml">,</mo><mn id="S4.p4.7.m7.3.3" xref="S4.p4.7.m7.3.3.cmml">2</mn><mo id="S4.p4.7.m7.5.6.3.2.4" xref="S4.p4.7.m7.5.6.3.1.cmml">,</mo><mn id="S4.p4.7.m7.4.4" xref="S4.p4.7.m7.4.4.cmml">3</mn><mo id="S4.p4.7.m7.5.6.3.2.5" xref="S4.p4.7.m7.5.6.3.1.cmml">,</mo><mn id="S4.p4.7.m7.5.5" xref="S4.p4.7.m7.5.5.cmml">4</mn><mo id="S4.p4.7.m7.5.6.3.2.6" stretchy="false" xref="S4.p4.7.m7.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.7.m7.5b"><apply id="S4.p4.7.m7.5.6.cmml" xref="S4.p4.7.m7.5.6"><in id="S4.p4.7.m7.5.6.1.cmml" xref="S4.p4.7.m7.5.6.1"></in><ci id="S4.p4.7.m7.5.6.2.cmml" xref="S4.p4.7.m7.5.6.2">ğ‘˜</ci><set id="S4.p4.7.m7.5.6.3.1.cmml" xref="S4.p4.7.m7.5.6.3.2"><cn id="S4.p4.7.m7.1.1.cmml" type="integer" xref="S4.p4.7.m7.1.1">0</cn><cn id="S4.p4.7.m7.2.2.cmml" type="integer" xref="S4.p4.7.m7.2.2">1</cn><cn id="S4.p4.7.m7.3.3.cmml" type="integer" xref="S4.p4.7.m7.3.3">2</cn><cn id="S4.p4.7.m7.4.4.cmml" type="integer" xref="S4.p4.7.m7.4.4">3</cn><cn id="S4.p4.7.m7.5.5.cmml" type="integer" xref="S4.p4.7.m7.5.5">4</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.7.m7.5c">k\in\{0,1,2,3,4\}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.7.m7.5d">italic_k âˆˆ { 0 , 1 , 2 , 3 , 4 }</annotation></semantics></math>) from the full user record (with <math alttext="n" class="ltx_Math" display="inline" id="S4.p4.8.m8.1"><semantics id="S4.p4.8.m8.1a"><mi id="S4.p4.8.m8.1.1" xref="S4.p4.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.p4.8.m8.1b"><ci id="S4.p4.8.m8.1.1.cmml" xref="S4.p4.8.m8.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.8.m8.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.p4.8.m8.1d">italic_n</annotation></semantics></math> items) and always use the last item after truncation (i.e., the <math alttext="(n-k)" class="ltx_Math" display="inline" id="S4.p4.9.m9.1"><semantics id="S4.p4.9.m9.1a"><mrow id="S4.p4.9.m9.1.1.1" xref="S4.p4.9.m9.1.1.1.1.cmml"><mo id="S4.p4.9.m9.1.1.1.2" stretchy="false" xref="S4.p4.9.m9.1.1.1.1.cmml">(</mo><mrow id="S4.p4.9.m9.1.1.1.1" xref="S4.p4.9.m9.1.1.1.1.cmml"><mi id="S4.p4.9.m9.1.1.1.1.2" xref="S4.p4.9.m9.1.1.1.1.2.cmml">n</mi><mo id="S4.p4.9.m9.1.1.1.1.1" xref="S4.p4.9.m9.1.1.1.1.1.cmml">âˆ’</mo><mi id="S4.p4.9.m9.1.1.1.1.3" xref="S4.p4.9.m9.1.1.1.1.3.cmml">k</mi></mrow><mo id="S4.p4.9.m9.1.1.1.3" stretchy="false" xref="S4.p4.9.m9.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.9.m9.1b"><apply id="S4.p4.9.m9.1.1.1.1.cmml" xref="S4.p4.9.m9.1.1.1"><minus id="S4.p4.9.m9.1.1.1.1.1.cmml" xref="S4.p4.9.m9.1.1.1.1.1"></minus><ci id="S4.p4.9.m9.1.1.1.1.2.cmml" xref="S4.p4.9.m9.1.1.1.1.2">ğ‘›</ci><ci id="S4.p4.9.m9.1.1.1.1.3.cmml" xref="S4.p4.9.m9.1.1.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.9.m9.1c">(n-k)</annotation><annotation encoding="application/x-llamapun" id="S4.p4.9.m9.1d">( italic_n - italic_k )</annotation></semantics></math>-th item in the original user record) as the target item. We train CALRec with <math alttext="\alpha=0.125,\beta=-0.025" class="ltx_Math" display="inline" id="S4.p4.10.m10.2"><semantics id="S4.p4.10.m10.2a"><mrow id="S4.p4.10.m10.2.2.2" xref="S4.p4.10.m10.2.2.3.cmml"><mrow id="S4.p4.10.m10.1.1.1.1" xref="S4.p4.10.m10.1.1.1.1.cmml"><mi id="S4.p4.10.m10.1.1.1.1.2" xref="S4.p4.10.m10.1.1.1.1.2.cmml">Î±</mi><mo id="S4.p4.10.m10.1.1.1.1.1" xref="S4.p4.10.m10.1.1.1.1.1.cmml">=</mo><mn id="S4.p4.10.m10.1.1.1.1.3" xref="S4.p4.10.m10.1.1.1.1.3.cmml">0.125</mn></mrow><mo id="S4.p4.10.m10.2.2.2.3" xref="S4.p4.10.m10.2.2.3a.cmml">,</mo><mrow id="S4.p4.10.m10.2.2.2.2" xref="S4.p4.10.m10.2.2.2.2.cmml"><mi id="S4.p4.10.m10.2.2.2.2.2" xref="S4.p4.10.m10.2.2.2.2.2.cmml">Î²</mi><mo id="S4.p4.10.m10.2.2.2.2.1" xref="S4.p4.10.m10.2.2.2.2.1.cmml">=</mo><mrow id="S4.p4.10.m10.2.2.2.2.3" xref="S4.p4.10.m10.2.2.2.2.3.cmml"><mo id="S4.p4.10.m10.2.2.2.2.3a" xref="S4.p4.10.m10.2.2.2.2.3.cmml">âˆ’</mo><mn id="S4.p4.10.m10.2.2.2.2.3.2" xref="S4.p4.10.m10.2.2.2.2.3.2.cmml">0.025</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.10.m10.2b"><apply id="S4.p4.10.m10.2.2.3.cmml" xref="S4.p4.10.m10.2.2.2"><csymbol cd="ambiguous" id="S4.p4.10.m10.2.2.3a.cmml" xref="S4.p4.10.m10.2.2.2.3">formulae-sequence</csymbol><apply id="S4.p4.10.m10.1.1.1.1.cmml" xref="S4.p4.10.m10.1.1.1.1"><eq id="S4.p4.10.m10.1.1.1.1.1.cmml" xref="S4.p4.10.m10.1.1.1.1.1"></eq><ci id="S4.p4.10.m10.1.1.1.1.2.cmml" xref="S4.p4.10.m10.1.1.1.1.2">ğ›¼</ci><cn id="S4.p4.10.m10.1.1.1.1.3.cmml" type="float" xref="S4.p4.10.m10.1.1.1.1.3">0.125</cn></apply><apply id="S4.p4.10.m10.2.2.2.2.cmml" xref="S4.p4.10.m10.2.2.2.2"><eq id="S4.p4.10.m10.2.2.2.2.1.cmml" xref="S4.p4.10.m10.2.2.2.2.1"></eq><ci id="S4.p4.10.m10.2.2.2.2.2.cmml" xref="S4.p4.10.m10.2.2.2.2.2">ğ›½</ci><apply id="S4.p4.10.m10.2.2.2.2.3.cmml" xref="S4.p4.10.m10.2.2.2.2.3"><minus id="S4.p4.10.m10.2.2.2.2.3.1.cmml" xref="S4.p4.10.m10.2.2.2.2.3"></minus><cn id="S4.p4.10.m10.2.2.2.2.3.2.cmml" type="float" xref="S4.p4.10.m10.2.2.2.2.3.2">0.025</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.10.m10.2c">\alpha=0.125,\beta=-0.025</annotation><annotation encoding="application/x-llamapun" id="S4.p4.10.m10.2d">italic_Î± = 0.125 , italic_Î² = - 0.025</annotation></semantics></math> for up to <math alttext="150,000" class="ltx_Math" display="inline" id="S4.p4.11.m11.2"><semantics id="S4.p4.11.m11.2a"><mrow id="S4.p4.11.m11.2.3.2" xref="S4.p4.11.m11.2.3.1.cmml"><mn id="S4.p4.11.m11.1.1" xref="S4.p4.11.m11.1.1.cmml">150</mn><mo id="S4.p4.11.m11.2.3.2.1" xref="S4.p4.11.m11.2.3.1.cmml">,</mo><mn id="S4.p4.11.m11.2.2" xref="S4.p4.11.m11.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.11.m11.2b"><list id="S4.p4.11.m11.2.3.1.cmml" xref="S4.p4.11.m11.2.3.2"><cn id="S4.p4.11.m11.1.1.cmml" type="integer" xref="S4.p4.11.m11.1.1">150</cn><cn id="S4.p4.11.m11.2.2.cmml" type="integer" xref="S4.p4.11.m11.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.11.m11.2c">150,000</annotation><annotation encoding="application/x-llamapun" id="S4.p4.11.m11.2d">150 , 000</annotation></semantics></math> steps in Stage I and adopt <math alttext="\tau_{c}=0.5" class="ltx_Math" display="inline" id="S4.p4.12.m12.1"><semantics id="S4.p4.12.m12.1a"><mrow id="S4.p4.12.m12.1.1" xref="S4.p4.12.m12.1.1.cmml"><msub id="S4.p4.12.m12.1.1.2" xref="S4.p4.12.m12.1.1.2.cmml"><mi id="S4.p4.12.m12.1.1.2.2" xref="S4.p4.12.m12.1.1.2.2.cmml">Ï„</mi><mi id="S4.p4.12.m12.1.1.2.3" xref="S4.p4.12.m12.1.1.2.3.cmml">c</mi></msub><mo id="S4.p4.12.m12.1.1.1" xref="S4.p4.12.m12.1.1.1.cmml">=</mo><mn id="S4.p4.12.m12.1.1.3" xref="S4.p4.12.m12.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.12.m12.1b"><apply id="S4.p4.12.m12.1.1.cmml" xref="S4.p4.12.m12.1.1"><eq id="S4.p4.12.m12.1.1.1.cmml" xref="S4.p4.12.m12.1.1.1"></eq><apply id="S4.p4.12.m12.1.1.2.cmml" xref="S4.p4.12.m12.1.1.2"><csymbol cd="ambiguous" id="S4.p4.12.m12.1.1.2.1.cmml" xref="S4.p4.12.m12.1.1.2">subscript</csymbol><ci id="S4.p4.12.m12.1.1.2.2.cmml" xref="S4.p4.12.m12.1.1.2.2">ğœ</ci><ci id="S4.p4.12.m12.1.1.2.3.cmml" xref="S4.p4.12.m12.1.1.2.3">ğ‘</ci></apply><cn id="S4.p4.12.m12.1.1.3.cmml" type="float" xref="S4.p4.12.m12.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.12.m12.1c">\tau_{c}=0.5</annotation><annotation encoding="application/x-llamapun" id="S4.p4.12.m12.1d">italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT = 0.5</annotation></semantics></math> (see Eqs.Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.E2" title="In 3.4. Training Objectives â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> &amp;Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S3.E3" title="In 3.4. Training Objectives â€£ 3. Methodology â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>) as the configuration yields best validation scores. We adopt the checkpoint with <math alttext="135,000" class="ltx_Math" display="inline" id="S4.p4.13.m13.2"><semantics id="S4.p4.13.m13.2a"><mrow id="S4.p4.13.m13.2.3.2" xref="S4.p4.13.m13.2.3.1.cmml"><mn id="S4.p4.13.m13.1.1" xref="S4.p4.13.m13.1.1.cmml">135</mn><mo id="S4.p4.13.m13.2.3.2.1" xref="S4.p4.13.m13.2.3.1.cmml">,</mo><mn id="S4.p4.13.m13.2.2" xref="S4.p4.13.m13.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.13.m13.2b"><list id="S4.p4.13.m13.2.3.1.cmml" xref="S4.p4.13.m13.2.3.2"><cn id="S4.p4.13.m13.1.1.cmml" type="integer" xref="S4.p4.13.m13.1.1">135</cn><cn id="S4.p4.13.m13.2.2.cmml" type="integer" xref="S4.p4.13.m13.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.13.m13.2c">135,000</annotation><annotation encoding="application/x-llamapun" id="S4.p4.13.m13.2d">135 , 000</annotation></semantics></math> training steps in Stage I selected on the validation data category, and then further fine-tune the model for Stage II. There are two exceptions: Scientific<span class="ltx_note ltx_role_footnote" id="footnote9"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span>We pick the Stage I model at <math alttext="45,000" class="ltx_Math" display="inline" id="footnote9.m1.2"><semantics id="footnote9.m1.2b"><mrow id="footnote9.m1.2.3.2" xref="footnote9.m1.2.3.1.cmml"><mn id="footnote9.m1.1.1" xref="footnote9.m1.1.1.cmml">45</mn><mo id="footnote9.m1.2.3.2.1" xref="footnote9.m1.2.3.1.cmml">,</mo><mn id="footnote9.m1.2.2" xref="footnote9.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote9.m1.2c"><list id="footnote9.m1.2.3.1.cmml" xref="footnote9.m1.2.3.2"><cn id="footnote9.m1.1.1.cmml" type="integer" xref="footnote9.m1.1.1">45</cn><cn id="footnote9.m1.2.2.cmml" type="integer" xref="footnote9.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="footnote9.m1.2d">45,000</annotation><annotation encoding="application/x-llamapun" id="footnote9.m1.2e">45 , 000</annotation></semantics></math> training steps since â€˜Scientificâ€™ is significantly smaller than other categories and its own validation set indicates that overfitting occurs at <math alttext="135,000" class="ltx_Math" display="inline" id="footnote9.m2.2"><semantics id="footnote9.m2.2b"><mrow id="footnote9.m2.2.3.2" xref="footnote9.m2.2.3.1.cmml"><mn id="footnote9.m2.1.1" xref="footnote9.m2.1.1.cmml">135</mn><mo id="footnote9.m2.2.3.2.1" xref="footnote9.m2.2.3.1.cmml">,</mo><mn id="footnote9.m2.2.2" xref="footnote9.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote9.m2.2c"><list id="footnote9.m2.2.3.1.cmml" xref="footnote9.m2.2.3.2"><cn id="footnote9.m2.1.1.cmml" type="integer" xref="footnote9.m2.1.1">135</cn><cn id="footnote9.m2.2.2.cmml" type="integer" xref="footnote9.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="footnote9.m2.2d">135,000</annotation><annotation encoding="application/x-llamapun" id="footnote9.m2.2e">135 , 000</annotation></semantics></math> steps and then continue with Stage II training.</span></span></span>, and Games<span class="ltx_note ltx_role_footnote" id="footnote10"><sup class="ltx_note_mark">10</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">10</sup><span class="ltx_tag ltx_tag_note">10</span>For Games category, we adopt <math alttext="\alpha=0.125,\beta=0" class="ltx_Math" display="inline" id="footnote10.m1.2"><semantics id="footnote10.m1.2b"><mrow id="footnote10.m1.2.2.2" xref="footnote10.m1.2.2.3.cmml"><mrow id="footnote10.m1.1.1.1.1" xref="footnote10.m1.1.1.1.1.cmml"><mi id="footnote10.m1.1.1.1.1.2" xref="footnote10.m1.1.1.1.1.2.cmml">Î±</mi><mo id="footnote10.m1.1.1.1.1.1" xref="footnote10.m1.1.1.1.1.1.cmml">=</mo><mn id="footnote10.m1.1.1.1.1.3" xref="footnote10.m1.1.1.1.1.3.cmml">0.125</mn></mrow><mo id="footnote10.m1.2.2.2.3" xref="footnote10.m1.2.2.3a.cmml">,</mo><mrow id="footnote10.m1.2.2.2.2" xref="footnote10.m1.2.2.2.2.cmml"><mi id="footnote10.m1.2.2.2.2.2" xref="footnote10.m1.2.2.2.2.2.cmml">Î²</mi><mo id="footnote10.m1.2.2.2.2.1" xref="footnote10.m1.2.2.2.2.1.cmml">=</mo><mn id="footnote10.m1.2.2.2.2.3" xref="footnote10.m1.2.2.2.2.3.cmml">0</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote10.m1.2c"><apply id="footnote10.m1.2.2.3.cmml" xref="footnote10.m1.2.2.2"><csymbol cd="ambiguous" id="footnote10.m1.2.2.3a.cmml" xref="footnote10.m1.2.2.2.3">formulae-sequence</csymbol><apply id="footnote10.m1.1.1.1.1.cmml" xref="footnote10.m1.1.1.1.1"><eq id="footnote10.m1.1.1.1.1.1.cmml" xref="footnote10.m1.1.1.1.1.1"></eq><ci id="footnote10.m1.1.1.1.1.2.cmml" xref="footnote10.m1.1.1.1.1.2">ğ›¼</ci><cn id="footnote10.m1.1.1.1.1.3.cmml" type="float" xref="footnote10.m1.1.1.1.1.3">0.125</cn></apply><apply id="footnote10.m1.2.2.2.2.cmml" xref="footnote10.m1.2.2.2.2"><eq id="footnote10.m1.2.2.2.2.1.cmml" xref="footnote10.m1.2.2.2.2.1"></eq><ci id="footnote10.m1.2.2.2.2.2.cmml" xref="footnote10.m1.2.2.2.2.2">ğ›½</ci><cn id="footnote10.m1.2.2.2.2.3.cmml" type="integer" xref="footnote10.m1.2.2.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote10.m1.2d">\alpha=0.125,\beta=0</annotation><annotation encoding="application/x-llamapun" id="footnote10.m1.2e">italic_Î± = 0.125 , italic_Î² = 0</annotation></semantics></math> for both stages and its Stage I checkpoint at <math alttext="105,000" class="ltx_Math" display="inline" id="footnote10.m2.2"><semantics id="footnote10.m2.2b"><mrow id="footnote10.m2.2.3.2" xref="footnote10.m2.2.3.1.cmml"><mn id="footnote10.m2.1.1" xref="footnote10.m2.1.1.cmml">105</mn><mo id="footnote10.m2.2.3.2.1" xref="footnote10.m2.2.3.1.cmml">,</mo><mn id="footnote10.m2.2.2" xref="footnote10.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote10.m2.2c"><list id="footnote10.m2.2.3.1.cmml" xref="footnote10.m2.2.3.2"><cn id="footnote10.m2.1.1.cmml" type="integer" xref="footnote10.m2.1.1">105</cn><cn id="footnote10.m2.2.2.cmml" type="integer" xref="footnote10.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="footnote10.m2.2d">105,000</annotation><annotation encoding="application/x-llamapun" id="footnote10.m2.2e">105 , 000</annotation></semantics></math> steps is selected using the Stage I validation set. It is because we found on the â€˜Gamesâ€™ own validation set, the new setup outperforms the previous (default) setup.</span></span></span>. All our model selection is based on the NDCG@10 metric following previous work (specifically we adopt its pessimistic estimation which will be defined later in this section). For each case, the same training objective is used in Stages I and II. At inference, the temperature for decoding is <math alttext="0.5" class="ltx_Math" display="inline" id="S4.p4.14.m14.1"><semantics id="S4.p4.14.m14.1a"><mn id="S4.p4.14.m14.1.1" xref="S4.p4.14.m14.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S4.p4.14.m14.1b"><cn id="S4.p4.14.m14.1.1.cmml" type="float" xref="S4.p4.14.m14.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.14.m14.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S4.p4.14.m14.1d">0.5</annotation></semantics></math>, <math alttext="N_{gen}=32" class="ltx_Math" display="inline" id="S4.p4.15.m15.1"><semantics id="S4.p4.15.m15.1a"><mrow id="S4.p4.15.m15.1.1" xref="S4.p4.15.m15.1.1.cmml"><msub id="S4.p4.15.m15.1.1.2" xref="S4.p4.15.m15.1.1.2.cmml"><mi id="S4.p4.15.m15.1.1.2.2" xref="S4.p4.15.m15.1.1.2.2.cmml">N</mi><mrow id="S4.p4.15.m15.1.1.2.3" xref="S4.p4.15.m15.1.1.2.3.cmml"><mi id="S4.p4.15.m15.1.1.2.3.2" xref="S4.p4.15.m15.1.1.2.3.2.cmml">g</mi><mo id="S4.p4.15.m15.1.1.2.3.1" xref="S4.p4.15.m15.1.1.2.3.1.cmml">â¢</mo><mi id="S4.p4.15.m15.1.1.2.3.3" xref="S4.p4.15.m15.1.1.2.3.3.cmml">e</mi><mo id="S4.p4.15.m15.1.1.2.3.1a" xref="S4.p4.15.m15.1.1.2.3.1.cmml">â¢</mo><mi id="S4.p4.15.m15.1.1.2.3.4" xref="S4.p4.15.m15.1.1.2.3.4.cmml">n</mi></mrow></msub><mo id="S4.p4.15.m15.1.1.1" xref="S4.p4.15.m15.1.1.1.cmml">=</mo><mn id="S4.p4.15.m15.1.1.3" xref="S4.p4.15.m15.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.15.m15.1b"><apply id="S4.p4.15.m15.1.1.cmml" xref="S4.p4.15.m15.1.1"><eq id="S4.p4.15.m15.1.1.1.cmml" xref="S4.p4.15.m15.1.1.1"></eq><apply id="S4.p4.15.m15.1.1.2.cmml" xref="S4.p4.15.m15.1.1.2"><csymbol cd="ambiguous" id="S4.p4.15.m15.1.1.2.1.cmml" xref="S4.p4.15.m15.1.1.2">subscript</csymbol><ci id="S4.p4.15.m15.1.1.2.2.cmml" xref="S4.p4.15.m15.1.1.2.2">ğ‘</ci><apply id="S4.p4.15.m15.1.1.2.3.cmml" xref="S4.p4.15.m15.1.1.2.3"><times id="S4.p4.15.m15.1.1.2.3.1.cmml" xref="S4.p4.15.m15.1.1.2.3.1"></times><ci id="S4.p4.15.m15.1.1.2.3.2.cmml" xref="S4.p4.15.m15.1.1.2.3.2">ğ‘”</ci><ci id="S4.p4.15.m15.1.1.2.3.3.cmml" xref="S4.p4.15.m15.1.1.2.3.3">ğ‘’</ci><ci id="S4.p4.15.m15.1.1.2.3.4.cmml" xref="S4.p4.15.m15.1.1.2.3.4">ğ‘›</ci></apply></apply><cn id="S4.p4.15.m15.1.1.3.cmml" type="integer" xref="S4.p4.15.m15.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.15.m15.1c">N_{gen}=32</annotation><annotation encoding="application/x-llamapun" id="S4.p4.15.m15.1d">italic_N start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT = 32</annotation></semantics></math>, <math alttext="N_{pred}=10" class="ltx_Math" display="inline" id="S4.p4.16.m16.1"><semantics id="S4.p4.16.m16.1a"><mrow id="S4.p4.16.m16.1.1" xref="S4.p4.16.m16.1.1.cmml"><msub id="S4.p4.16.m16.1.1.2" xref="S4.p4.16.m16.1.1.2.cmml"><mi id="S4.p4.16.m16.1.1.2.2" xref="S4.p4.16.m16.1.1.2.2.cmml">N</mi><mrow id="S4.p4.16.m16.1.1.2.3" xref="S4.p4.16.m16.1.1.2.3.cmml"><mi id="S4.p4.16.m16.1.1.2.3.2" xref="S4.p4.16.m16.1.1.2.3.2.cmml">p</mi><mo id="S4.p4.16.m16.1.1.2.3.1" xref="S4.p4.16.m16.1.1.2.3.1.cmml">â¢</mo><mi id="S4.p4.16.m16.1.1.2.3.3" xref="S4.p4.16.m16.1.1.2.3.3.cmml">r</mi><mo id="S4.p4.16.m16.1.1.2.3.1a" xref="S4.p4.16.m16.1.1.2.3.1.cmml">â¢</mo><mi id="S4.p4.16.m16.1.1.2.3.4" xref="S4.p4.16.m16.1.1.2.3.4.cmml">e</mi><mo id="S4.p4.16.m16.1.1.2.3.1b" xref="S4.p4.16.m16.1.1.2.3.1.cmml">â¢</mo><mi id="S4.p4.16.m16.1.1.2.3.5" xref="S4.p4.16.m16.1.1.2.3.5.cmml">d</mi></mrow></msub><mo id="S4.p4.16.m16.1.1.1" xref="S4.p4.16.m16.1.1.1.cmml">=</mo><mn id="S4.p4.16.m16.1.1.3" xref="S4.p4.16.m16.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.16.m16.1b"><apply id="S4.p4.16.m16.1.1.cmml" xref="S4.p4.16.m16.1.1"><eq id="S4.p4.16.m16.1.1.1.cmml" xref="S4.p4.16.m16.1.1.1"></eq><apply id="S4.p4.16.m16.1.1.2.cmml" xref="S4.p4.16.m16.1.1.2"><csymbol cd="ambiguous" id="S4.p4.16.m16.1.1.2.1.cmml" xref="S4.p4.16.m16.1.1.2">subscript</csymbol><ci id="S4.p4.16.m16.1.1.2.2.cmml" xref="S4.p4.16.m16.1.1.2.2">ğ‘</ci><apply id="S4.p4.16.m16.1.1.2.3.cmml" xref="S4.p4.16.m16.1.1.2.3"><times id="S4.p4.16.m16.1.1.2.3.1.cmml" xref="S4.p4.16.m16.1.1.2.3.1"></times><ci id="S4.p4.16.m16.1.1.2.3.2.cmml" xref="S4.p4.16.m16.1.1.2.3.2">ğ‘</ci><ci id="S4.p4.16.m16.1.1.2.3.3.cmml" xref="S4.p4.16.m16.1.1.2.3.3">ğ‘Ÿ</ci><ci id="S4.p4.16.m16.1.1.2.3.4.cmml" xref="S4.p4.16.m16.1.1.2.3.4">ğ‘’</ci><ci id="S4.p4.16.m16.1.1.2.3.5.cmml" xref="S4.p4.16.m16.1.1.2.3.5">ğ‘‘</ci></apply></apply><cn id="S4.p4.16.m16.1.1.3.cmml" type="integer" xref="S4.p4.16.m16.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.16.m16.1c">N_{pred}=10</annotation><annotation encoding="application/x-llamapun" id="S4.p4.16.m16.1d">italic_N start_POSTSUBSCRIPT italic_p italic_r italic_e italic_d end_POSTSUBSCRIPT = 10</annotation></semantics></math> and <math alttext="\epsilon=1/5000" class="ltx_Math" display="inline" id="S4.p4.17.m17.1"><semantics id="S4.p4.17.m17.1a"><mrow id="S4.p4.17.m17.1.1" xref="S4.p4.17.m17.1.1.cmml"><mi id="S4.p4.17.m17.1.1.2" xref="S4.p4.17.m17.1.1.2.cmml">Ïµ</mi><mo id="S4.p4.17.m17.1.1.1" xref="S4.p4.17.m17.1.1.1.cmml">=</mo><mrow id="S4.p4.17.m17.1.1.3" xref="S4.p4.17.m17.1.1.3.cmml"><mn id="S4.p4.17.m17.1.1.3.2" xref="S4.p4.17.m17.1.1.3.2.cmml">1</mn><mo id="S4.p4.17.m17.1.1.3.1" xref="S4.p4.17.m17.1.1.3.1.cmml">/</mo><mn id="S4.p4.17.m17.1.1.3.3" xref="S4.p4.17.m17.1.1.3.3.cmml">5000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.17.m17.1b"><apply id="S4.p4.17.m17.1.1.cmml" xref="S4.p4.17.m17.1.1"><eq id="S4.p4.17.m17.1.1.1.cmml" xref="S4.p4.17.m17.1.1.1"></eq><ci id="S4.p4.17.m17.1.1.2.cmml" xref="S4.p4.17.m17.1.1.2">italic-Ïµ</ci><apply id="S4.p4.17.m17.1.1.3.cmml" xref="S4.p4.17.m17.1.1.3"><divide id="S4.p4.17.m17.1.1.3.1.cmml" xref="S4.p4.17.m17.1.1.3.1"></divide><cn id="S4.p4.17.m17.1.1.3.2.cmml" type="integer" xref="S4.p4.17.m17.1.1.3.2">1</cn><cn id="S4.p4.17.m17.1.1.3.3.cmml" type="integer" xref="S4.p4.17.m17.1.1.3.3">5000</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.17.m17.1c">\epsilon=1/5000</annotation><annotation encoding="application/x-llamapun" id="S4.p4.17.m17.1d">italic_Ïµ = 1 / 5000</annotation></semantics></math>. There are two hyper-parameters inherent to BM25: we adopt the default values from the original BM25 API, <math alttext="k_{1}=1.5" class="ltx_Math" display="inline" id="S4.p4.18.m18.1"><semantics id="S4.p4.18.m18.1a"><mrow id="S4.p4.18.m18.1.1" xref="S4.p4.18.m18.1.1.cmml"><msub id="S4.p4.18.m18.1.1.2" xref="S4.p4.18.m18.1.1.2.cmml"><mi id="S4.p4.18.m18.1.1.2.2" xref="S4.p4.18.m18.1.1.2.2.cmml">k</mi><mn id="S4.p4.18.m18.1.1.2.3" xref="S4.p4.18.m18.1.1.2.3.cmml">1</mn></msub><mo id="S4.p4.18.m18.1.1.1" xref="S4.p4.18.m18.1.1.1.cmml">=</mo><mn id="S4.p4.18.m18.1.1.3" xref="S4.p4.18.m18.1.1.3.cmml">1.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.18.m18.1b"><apply id="S4.p4.18.m18.1.1.cmml" xref="S4.p4.18.m18.1.1"><eq id="S4.p4.18.m18.1.1.1.cmml" xref="S4.p4.18.m18.1.1.1"></eq><apply id="S4.p4.18.m18.1.1.2.cmml" xref="S4.p4.18.m18.1.1.2"><csymbol cd="ambiguous" id="S4.p4.18.m18.1.1.2.1.cmml" xref="S4.p4.18.m18.1.1.2">subscript</csymbol><ci id="S4.p4.18.m18.1.1.2.2.cmml" xref="S4.p4.18.m18.1.1.2.2">ğ‘˜</ci><cn id="S4.p4.18.m18.1.1.2.3.cmml" type="integer" xref="S4.p4.18.m18.1.1.2.3">1</cn></apply><cn id="S4.p4.18.m18.1.1.3.cmml" type="float" xref="S4.p4.18.m18.1.1.3">1.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.18.m18.1c">k_{1}=1.5</annotation><annotation encoding="application/x-llamapun" id="S4.p4.18.m18.1d">italic_k start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1.5</annotation></semantics></math> and <math alttext="b=0.75" class="ltx_Math" display="inline" id="S4.p4.19.m19.1"><semantics id="S4.p4.19.m19.1a"><mrow id="S4.p4.19.m19.1.1" xref="S4.p4.19.m19.1.1.cmml"><mi id="S4.p4.19.m19.1.1.2" xref="S4.p4.19.m19.1.1.2.cmml">b</mi><mo id="S4.p4.19.m19.1.1.1" xref="S4.p4.19.m19.1.1.1.cmml">=</mo><mn id="S4.p4.19.m19.1.1.3" xref="S4.p4.19.m19.1.1.3.cmml">0.75</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.19.m19.1b"><apply id="S4.p4.19.m19.1.1.cmml" xref="S4.p4.19.m19.1.1"><eq id="S4.p4.19.m19.1.1.1.cmml" xref="S4.p4.19.m19.1.1.1"></eq><ci id="S4.p4.19.m19.1.1.2.cmml" xref="S4.p4.19.m19.1.1.2">ğ‘</ci><cn id="S4.p4.19.m19.1.1.3.cmml" type="float" xref="S4.p4.19.m19.1.1.3">0.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.19.m19.1c">b=0.75</annotation><annotation encoding="application/x-llamapun" id="S4.p4.19.m19.1d">italic_b = 0.75</annotation></semantics></math>, throughout all our experiments and did not further tune them since we found that the model performance is not sensitive to them.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p5">
<p class="ltx_p" id="S4.p5.1"><span class="ltx_text ltx_font_bold" id="S4.p5.1.1">Baselines.</span> In this work, we consider a comprehensive set of baseline approaches. SASRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>)</cite> and BERT4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite> are pure ID-Based approaches, RecformerÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> and the â€˜Last Item Repeaterâ€™ (LIR) are purely text-based, and FDSAÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>)</cite> and S<sup class="ltx_sup" id="S4.p5.1.2"><span class="ltx_text ltx_font_italic" id="S4.p5.1.2.1">3</span></sup>-RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>)</cite> leverage both ID and text. UniSRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>)</cite> has two variants and we report its performance in both text-only mode and ID+text mode. More details about each baseline are provided in what follows.<span class="ltx_note ltx_role_footnote" id="footnote11"><sup class="ltx_note_mark">11</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">11</sup><span class="ltx_tag ltx_tag_note">11</span>In our experiments, LIR is implemented on our own, Recformer follows its official implementation. The rest baselines are all provided by the official code repo of UniSRec which is based on RecBoleÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib59" title="">2021</a>)</cite>:
the attribute embeddings of FDSA and S<sup class="ltx_sup" id="footnote11.1"><span class="ltx_text ltx_font_italic" id="footnote11.1.1">3</span></sup>-Rec are text features from our strongest baseline UniSRec.</span></span></span></p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">SASRec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib23" title="">2018</a>)</cite> is a causal sequential recommendation approach implemented with an encoder-only unidirectional transformer. It takes in a sequence of item IDs and predicts the ID embedding of the next item in the last position.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">BERT4Rec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Sun etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib46" title="">2019</a>)</cite> adopts a bidirectional transformer architecture for sequential recommendation. Its input consists of a sequence of item IDs and it is trained with the masked language modeling objective. At inference, a â€˜maskâ€™ token is appended to the end of the sequence to predict the next item.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">FDSA</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib58" title="">2019</a>)</cite> applies two self-attentional blocks to address ID sequence and attribute feature sequence, respectively, and fuses their final representations for next-item prediction.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">S<sup class="ltx_sup" id="S4.I1.i4.p1.1.1.1"><span class="ltx_text ltx_font_medium" id="S4.I1.i4.p1.1.1.1.1">3</span></sup>-Rec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Zhou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib60" title="">2020</a>)</cite> maximizes the mutual information between ID and attribute embeddings via contrastive objectives and it is implemented with an encoder-only transformer network. It consists of a pretraining stage and a fine-tuning stage, both conducted on domain-specific data.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i5.p1">
<p class="ltx_p" id="S4.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i5.p1.1.1">UniSRec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>)</cite> separately encodes each itemâ€™s text via a pretrained and fixed BERT cascaded by a trainable adapter. Given a sequence of item embeddings, a sequence representation is then modeled with another small transformer network. We adopt the officially released UniSRec model pretrained on multiple domains and fine-tune it on specific Amazon categories, respectively. We report two fine-tuning setups of UniSRec: (1) text-only setup, (2) ID+text setup where an item embedding is the sum of its ID and text representations.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i6.p1">
<p class="ltx_p" id="S4.I1.i6.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i6.p1.1.1">Recformer</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> relies on the encoder-only Longformer architectureÂ <cite class="ltx_cite ltx_citemacro_citep">(Beltagy etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib6" title="">2020</a>)</cite> where token type and item position embeddings are proposed to facilitate learning item and user representations. It also features a pretraining stage on multiple categories with a combination of standard Masked Language Modeling (MLM) loss and a contrastive objective aligning user history and target item representations. We adopt Recformerâ€™s officially released pretrained checkpoint and fine-tune it on specific categories, respectively.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i7.p1">
<p class="ltx_p" id="S4.I1.i7.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i7.p1.1.1">Last Item Repeater</span>, or <span class="ltx_text ltx_font_bold" id="S4.I1.i7.p1.1.2">LIR</span> hereafter, denotes a simple yet effective baseline strategy which always recommends the last item in the input sequence as our training-free, text-statistic baseline. Based on the text of the last item, we rely on BM25 to rank the items in the full item corpus.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="S4.p6">
<p class="ltx_p" id="S4.p6.5"><span class="ltx_text ltx_font_bold" id="S4.p6.5.1">Evaluation Metrics.</span> Following standard practices from prior work, we report NDCG@10, Recall@K (K<math alttext="\in\{1,10\}" class="ltx_Math" display="inline" id="S4.p6.1.m1.2"><semantics id="S4.p6.1.m1.2a"><mrow id="S4.p6.1.m1.2.3" xref="S4.p6.1.m1.2.3.cmml"><mi id="S4.p6.1.m1.2.3.2" xref="S4.p6.1.m1.2.3.2.cmml"></mi><mo id="S4.p6.1.m1.2.3.1" xref="S4.p6.1.m1.2.3.1.cmml">âˆˆ</mo><mrow id="S4.p6.1.m1.2.3.3.2" xref="S4.p6.1.m1.2.3.3.1.cmml"><mo id="S4.p6.1.m1.2.3.3.2.1" stretchy="false" xref="S4.p6.1.m1.2.3.3.1.cmml">{</mo><mn id="S4.p6.1.m1.1.1" xref="S4.p6.1.m1.1.1.cmml">1</mn><mo id="S4.p6.1.m1.2.3.3.2.2" xref="S4.p6.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.p6.1.m1.2.2" xref="S4.p6.1.m1.2.2.cmml">10</mn><mo id="S4.p6.1.m1.2.3.3.2.3" stretchy="false" xref="S4.p6.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.1.m1.2b"><apply id="S4.p6.1.m1.2.3.cmml" xref="S4.p6.1.m1.2.3"><in id="S4.p6.1.m1.2.3.1.cmml" xref="S4.p6.1.m1.2.3.1"></in><csymbol cd="latexml" id="S4.p6.1.m1.2.3.2.cmml" xref="S4.p6.1.m1.2.3.2">absent</csymbol><set id="S4.p6.1.m1.2.3.3.1.cmml" xref="S4.p6.1.m1.2.3.3.2"><cn id="S4.p6.1.m1.1.1.cmml" type="integer" xref="S4.p6.1.m1.1.1">1</cn><cn id="S4.p6.1.m1.2.2.cmml" type="integer" xref="S4.p6.1.m1.2.2">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.1.m1.2c">\in\{1,10\}</annotation><annotation encoding="application/x-llamapun" id="S4.p6.1.m1.2d">âˆˆ { 1 , 10 }</annotation></semantics></math>) and MRR@<math alttext="\infty" class="ltx_Math" display="inline" id="S4.p6.2.m2.1"><semantics id="S4.p6.2.m2.1a"><mi id="S4.p6.2.m2.1.1" mathvariant="normal" xref="S4.p6.2.m2.1.1.cmml">âˆ</mi><annotation-xml encoding="MathML-Content" id="S4.p6.2.m2.1b"><infinity id="S4.p6.2.m2.1.1.cmml" xref="S4.p6.2.m2.1.1"></infinity></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.2.m2.1c">\infty</annotation><annotation encoding="application/x-llamapun" id="S4.p6.2.m2.1d">âˆ</annotation></semantics></math> scores. Different from previous work, we report both â€˜optimisticâ€™ (<span class="ltx_text ltx_font_italic" id="S4.p6.5.2">opt</span>) and â€˜pessimisticâ€™ (<span class="ltx_text ltx_font_italic" id="S4.p6.5.3">pes</span>) calculations of the metrics: when there is a tie such that the ground-truth target item and other candidate items have the same matching score, the ground-truth item ranks first in (<span class="ltx_text ltx_font_italic" id="S4.p6.5.4">opt</span>) and ranks last in (<span class="ltx_text ltx_font_italic" id="S4.p6.5.5">pes</span>) calculation, respectively. It is because <span class="ltx_text ltx_font_bold" id="S4.p6.5.6">1)</span> there are distinct items (with different item IDs) with the same text description and <span class="ltx_text ltx_font_bold" id="S4.p6.5.7">2)</span> in rare cases, we found that BM25 may yield identical scores for very similar text pieces. We still treat items in case <span class="ltx_text ltx_font_bold" id="S4.p6.5.8">1)</span> as distinct items because in real production environments vendors/content creators may intentionally or unintentionally duplicate items. Of course, this will not cause any issue for ID-based approaches due to distinct item IDs, where (<span class="ltx_text ltx_font_italic" id="S4.p6.5.9">opt</span>) and (<span class="ltx_text ltx_font_italic" id="S4.p6.5.10">pes</span>) scores are the same. In the official implementations of our text-based baselines,Â <cite class="ltx_cite ltx_citemacro_citet">Li etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> only calculates (<span class="ltx_text ltx_font_italic" id="S4.p6.5.11">opt</span>) metric scores which may result in unfair comparisons with ID-based baselines. Â <cite class="ltx_cite ltx_citemacro_citet">Hou etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib19" title="">2022</a>)</cite> applies â€œ<a class="ltx_ref ltx_href ltx_font_typewriter" href="https://pytorch.org/docs/stable/generated/torch.topk.html" title="">torch.topk()</a>â€ to derive exactly top <math alttext="K" class="ltx_Math" display="inline" id="S4.p6.3.m3.1"><semantics id="S4.p6.3.m3.1a"><mi id="S4.p6.3.m3.1.1" xref="S4.p6.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.p6.3.m3.1b"><ci id="S4.p6.3.m3.1.1.cmml" xref="S4.p6.3.m3.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.p6.3.m3.1d">italic_K</annotation></semantics></math> item ids for calculating Recall/NDCG@K: if the <math alttext="K" class="ltx_Math" display="inline" id="S4.p6.4.m4.1"><semantics id="S4.p6.4.m4.1a"><mi id="S4.p6.4.m4.1.1" xref="S4.p6.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.p6.4.m4.1b"><ci id="S4.p6.4.m4.1.1.cmml" xref="S4.p6.4.m4.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.4.m4.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.p6.4.m4.1d">italic_K</annotation></semantics></math>-th and the <math alttext="K+1" class="ltx_Math" display="inline" id="S4.p6.5.m5.1"><semantics id="S4.p6.5.m5.1a"><mrow id="S4.p6.5.m5.1.1" xref="S4.p6.5.m5.1.1.cmml"><mi id="S4.p6.5.m5.1.1.2" xref="S4.p6.5.m5.1.1.2.cmml">K</mi><mo id="S4.p6.5.m5.1.1.1" xref="S4.p6.5.m5.1.1.1.cmml">+</mo><mn id="S4.p6.5.m5.1.1.3" xref="S4.p6.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.5.m5.1b"><apply id="S4.p6.5.m5.1.1.cmml" xref="S4.p6.5.m5.1.1"><plus id="S4.p6.5.m5.1.1.1.cmml" xref="S4.p6.5.m5.1.1.1"></plus><ci id="S4.p6.5.m5.1.1.2.cmml" xref="S4.p6.5.m5.1.1.2">ğ¾</ci><cn id="S4.p6.5.m5.1.1.3.cmml" type="integer" xref="S4.p6.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.5.m5.1c">K+1</annotation><annotation encoding="application/x-llamapun" id="S4.p6.5.m5.1d">italic_K + 1</annotation></semantics></math>-th items are having the same score, only one of them will be included in the output list. So its metric score is a number between our
(<span class="ltx_text ltx_font_italic" id="S4.p6.5.12">opt</span>) and (<span class="ltx_text ltx_font_italic" id="S4.p6.5.13">pes</span>) estimates.<span class="ltx_note ltx_role_footnote" id="footnote12"><sup class="ltx_note_mark">12</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">12</sup><span class="ltx_tag ltx_tag_note">12</span>To provide more insights on our (<span class="ltx_text ltx_font_italic" id="footnote12.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="footnote12.2">pes</span>) metrics, readers could consider an extreme scenario where the model output is empty and thus when using BM25 retrieval the matching score is <math alttext="0" class="ltx_Math" display="inline" id="footnote12.m1.1"><semantics id="footnote12.m1.1b"><mn id="footnote12.m1.1.1" xref="footnote12.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="footnote12.m1.1c"><cn id="footnote12.m1.1.1.cmml" type="integer" xref="footnote12.m1.1.1">0</cn></annotation-xml></semantics></math> for all candidate items. In this case, the optimistic Recall@K scores will always be <math alttext="1.0" class="ltx_Math" display="inline" id="footnote12.m2.1"><semantics id="footnote12.m2.1b"><mn id="footnote12.m2.1.1" xref="footnote12.m2.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="footnote12.m2.1c"><cn id="footnote12.m2.1.1.cmml" type="float" xref="footnote12.m2.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote12.m2.1d">1.0</annotation><annotation encoding="application/x-llamapun" id="footnote12.m2.1e">1.0</annotation></semantics></math>, while the pessimistic scores will always be <math alttext="0.0" class="ltx_Math" display="inline" id="footnote12.m3.1"><semantics id="footnote12.m3.1b"><mn id="footnote12.m3.1.1" xref="footnote12.m3.1.1.cmml">0.0</mn><annotation-xml encoding="MathML-Content" id="footnote12.m3.1c"><cn id="footnote12.m3.1.1.cmml" type="float" xref="footnote12.m3.1.1">0.0</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote12.m3.1d">0.0</annotation><annotation encoding="application/x-llamapun" id="footnote12.m3.1e">0.0</annotation></semantics></math>. To provide a fair assessment of the modelâ€™s ability to uniquely identify candidate items, we have thus decided to report both (<span class="ltx_text ltx_font_italic" id="footnote12.3">opt</span>) and (<span class="ltx_text ltx_font_italic" id="footnote12.4">pes</span>) scores.</span></span></span> All our evaluations are performed on user-sequence-deduplicated data.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experimental Results</h2>
<figure class="ltx_table" id="S5.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T2.2.2" style="width:385.9pt;height:274.6pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-203.6pt,144.6pt) scale(0.486560566493464,0.486560566493464) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.2.2.2">
<tr class="ltx_tr" id="S5.T2.2.2.2.3">
<td class="ltx_td ltx_border_tt" id="S5.T2.2.2.2.3.1"></td>
<td class="ltx_td ltx_border_tt" id="S5.T2.2.2.2.3.2"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T2.2.2.2.3.3"><span class="ltx_text ltx_font_smallcaps" id="S5.T2.2.2.2.3.3.1" style="background-color:#EBEBEB;">ID-Only Methods</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S5.T2.2.2.2.3.4"><span class="ltx_text ltx_font_smallcaps" id="S5.T2.2.2.2.3.4.1" style="background-color:#EBEBEB;">ID+Text Methods</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S5.T2.2.2.2.3.5"><span class="ltx_text ltx_font_smallcaps" id="S5.T2.2.2.2.3.5.1" style="background-color:#EBEBEB;">Text-Only Methods</span></td>
<td class="ltx_td ltx_border_tt" id="S5.T2.2.2.2.3.6"></td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.1.1" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.2"><span class="ltx_text" id="S5.T2.1.1.1.1.2.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.3">
<span class="ltx_text" id="S5.T2.1.1.1.1.3.1"></span><span class="ltx_text" id="S5.T2.1.1.1.1.3.2" style="background-color:#EBEBEB;"> <span class="ltx_text" id="S5.T2.1.1.1.1.3.2.1">
<span class="ltx_tabular ltx_align_middle" id="S5.T2.1.1.1.1.3.2.1.1">
<span class="ltx_tr" id="S5.T2.1.1.1.1.3.2.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.1.1.1.1.3.2.1.1.1.1">Metric</span></span>
<span class="ltx_tr" id="S5.T2.1.1.1.1.3.2.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.1.1.1.1.3.2.1.1.2.1">Â Â (<span class="ltx_text ltx_font_italic" id="S5.T2.1.1.1.1.3.2.1.1.2.1.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T2.1.1.1.1.3.2.1.1.2.1.2">pes</span>)</span></span>
</span></span><span class="ltx_text" id="S5.T2.1.1.1.1.3.2.2"></span></span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.4"><span class="ltx_text" id="S5.T2.1.1.1.1.4.1" style="background-color:#EBEBEB;">BERT4Rec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.5"><span class="ltx_text" id="S5.T2.1.1.1.1.5.1" style="background-color:#EBEBEB;">SASRec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.6"><span class="ltx_text" id="S5.T2.1.1.1.1.6.1" style="background-color:#EBEBEB;">FDSA</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.1"><span class="ltx_text" id="S5.T2.1.1.1.1.1.1" style="background-color:#EBEBEB;">S<sup class="ltx_sup" id="S5.T2.1.1.1.1.1.1.1">3</sup>-Rec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.7"><span class="ltx_text" id="S5.T2.1.1.1.1.7.1" style="background-color:#EBEBEB;">UniSRec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.8"><span class="ltx_text" id="S5.T2.1.1.1.1.8.1" style="background-color:#EBEBEB;">UniSRec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.9"><span class="ltx_text" id="S5.T2.1.1.1.1.9.1" style="background-color:#EBEBEB;">RecFormer</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.10"><span class="ltx_text" id="S5.T2.1.1.1.1.10.1" style="background-color:#EBEBEB;">LIR</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.11"><span class="ltx_text" id="S5.T2.1.1.1.1.11.1" style="background-color:#EBEBEB;">CALRec</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.1.1.12">
<span class="ltx_text" id="S5.T2.1.1.1.1.12.1"></span><span class="ltx_text" id="S5.T2.1.1.1.1.12.2" style="background-color:#EBEBEB;"> <span class="ltx_text" id="S5.T2.1.1.1.1.12.2.1">
<span class="ltx_tabular ltx_align_middle" id="S5.T2.1.1.1.1.12.2.1.1">
<span class="ltx_tr" id="S5.T2.1.1.1.1.12.2.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.1.1.1.1.12.2.1.1.1.1">Improv.</span></span>
<span class="ltx_tr" id="S5.T2.1.1.1.1.12.2.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.1.1.1.1.12.2.1.1.2.1">(<span class="ltx_text ltx_font_italic" id="S5.T2.1.1.1.1.12.2.1.1.2.1.1">opt</span>)</span></span>
</span></span><span class="ltx_text" id="S5.T2.1.1.1.1.12.2.2"></span></span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.4">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.4.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.4.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.4.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.3">0.0411</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.4">0.0555</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.5">0.0594</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.6">0.0414</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.7" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.4.7.1" style="background-color:#EDEDFF;">0.0644</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.8">0.0620/0.0580</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.9">0.0639/0.0588</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.10">0.0565/0.0486</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.4.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.4.11.1">0.0788</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.4.11.2">0.0740</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.4.12">22.4%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.5">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.2">0.0239</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.3">0.0079</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.5.4.1" style="background-color:#EDEDFF;">0.0357</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.5">0.0172</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.6">0.0199</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.7">0.0242/0.0140</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.8">0.0298/0.0168</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.9">0.0142/0.0052</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.5.10.1">0.0511</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.5.10.2">0.0389</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.5.11">43.1%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.6">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.2">0.0636</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.3">0.1065</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.4">0.0887</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.5">0.0727</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.6.6.1" style="background-color:#EDEDFF;">0.1181</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.7">0.1101/0.1100</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.8">0.1058/0.1057</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.9">0.1005/0.0933</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.10">0.1124/0.1117</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.6.11">-4.8%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.7">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.2">0.0389</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.3">0.0456</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.4">0.0555</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.5">0.0380</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.6">0.0555</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.7">0.0546/0.0492</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.8" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.7.8.1" style="background-color:#EDEDFF;">0.0570/0.0502</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.9">0.0461/0.0385</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.7.10.1">0.0730</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.7.10.2">0.0667</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.7.11">28.1%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.8">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.8.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.8.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.8.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.3">0.0680</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.4">0.0623</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.5" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.8.5.1" style="background-color:#EDEDFF;">0.0796</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.6">0.0606</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.7">0.0709</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.8">0.0661/0.0655</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.9">0.0596/0.0585</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.10">0.0344/0.0338</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.8.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.8.11.1">0.0909</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.8.11.2">0.0905</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.8.12">14.2%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.9">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.2">0.0494</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.3">0.0158</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.9.4.1" style="background-color:#EDEDFF;">0.0574</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.5">0.0202</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.6">0.0237</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.7">0.0251/0.0236</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.8">0.0266/0.0239</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.9">0.0040/0.0031</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.9.10.1">0.0718</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.9.10.2">0.0706</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.9.11">25.1%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.10">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.2">0.0915</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.3">0.1130</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.4">0.1092</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.5">0.1048</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.10.6.1" style="background-color:#EDEDFF;">0.1255</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.7">0.1141/0.1141</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.8">0.0940/0.0940</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.9">0.0696/0.0692</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.10">0.1158/0.1158</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.10.11">-7.7%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.11">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.2">0.0658</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.3">0.0528</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.11.4.1" style="background-color:#EDEDFF;">0.0765</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.5">0.0526</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.6">0.0613</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.7">0.0576/0.0569</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.8">0.0535/0.0521</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.9">0.0263/0.0257</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.11.10.1">0.0864</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.11.10.2">0.0857</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.11.11">12.9%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.12">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.12.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.12.1.1">Arts</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.12.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.3">0.0547</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.4">0.0619</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.5">0.0726</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.6">0.0602</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.7" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.12.7.1" style="background-color:#EDEDFF;">0.0729</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.8">0.0630/0.0624</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.9">0.0662/0.0653</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.10">0.0443/0.0431</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.12.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.12.11.1">0.0864</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.12.11.2">0.0853</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.12.12">18.5%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.13">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.2">0.0347</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.3">0.0147</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.13.4.1" style="background-color:#EDEDFF;">0.0460</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.5">0.0216</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.6">0.0213</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.7">0.0220/0.0208</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.8">0.0279/0.0254</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.9">0.0067/0.0051</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.13.10.1">0.0636</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.13.10.2">0.0610</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.13.11">38.3%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.14">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.2">0.0799</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.3">0.1118</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.4">0.1061</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.5">0.1052</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.14.6.1" style="background-color:#EDEDFF;">0.1320</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.7">0.1103/0.1102</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.8">0.1095/0.1095</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.9">0.0859/0.0850</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.10">0.1140/0.1139</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.14.11">-13.6%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.15">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.2">0.0513</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.3">0.0519</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.15.4.1" style="background-color:#EDEDFF;">0.0680</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.5">0.0520</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.6">0.0615</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.7">0.0546/0.0540</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.8">0.0582/0.0569</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.9">0.0344/0.0331</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.15.10.1">0.0815</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.15.10.2">0.0801</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.15.11">19.9%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.16">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.16.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.16.1.1">Office</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.16.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.3">0.0545</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.4">0.0602</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.5" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.16.5.1" style="background-color:#EDEDFF;">0.0749</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.6">0.0607</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.7">0.0713</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.8">0.0625/0.0616</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.9">0.0687/0.0676</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.10">0.0391/0.0379</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.16.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.16.11.1">0.0976</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.16.11.2">0.0966</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.16.12">30.3%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.17">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.2">0.0403</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.3">0.0134</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.17.4.1" style="background-color:#EDEDFF;">0.0547</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.5">0.0291</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.6">0.0213</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.7">0.0250/0.0228</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.8">0.0328/0.0302</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.9">0.0056/0.0040</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.17.10.1">0.0761</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.17.10.2">0.0734</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.17.11">39.1%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.18">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.2">0.0709</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.3">0.1033</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.4">0.0982</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.5">0.0941</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.18.6.1" style="background-color:#EDEDFF;">0.1220</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.7">0.1023/0.1022</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.8">0.1063/0.1063</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.9">0.0735/0.0728</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.10">0.1213/0.1213</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.18.11">-0.6%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.19">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.2">0.0520</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.3">0.0499</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.19.4.1" style="background-color:#EDEDFF;">0.0710</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.5">0.0535</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.6">0.0597</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.7">0.0545/0.0533</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.8">0.0603/0.0588</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.9">0.0309/0.0296</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.19.10.1">0.0925</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.19.10.2">0.0911</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.19.11">30.3%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.20">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.20.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.20.1.1">Games</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.20.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.3">0.0334</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.4">0.0451</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.5" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.20.5.1" style="background-color:#EDEDFF;">0.0526</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.6">0.0419</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.7">0.0501</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.8">0.0408/0.0407</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.9">0.0377/0.0360</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.10">0.0211/0.0197</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.20.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.20.11.1">0.0595</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.20.11.2">0.0585</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.20.12">13.1%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.21">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.2">0.0112</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.3">0.0039</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.21.4.1" style="background-color:#EDEDFF;">0.0210</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.5">0.0080</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.6">0.0075</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.7">0.0111/0.0107</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.8">0.0126/0.0091</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.9">0.0015/0.0009</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.21.10.1">0.0295</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.21.10.2">0.0277</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.21.11">40.5%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.22">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.2">0.0646</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.3">0.0989</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.4">0.0957</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.5">0.0884</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.22.6.1" style="background-color:#EDEDFF;">0.1074</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.7">0.0820/0.0820</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.8">0.0724/0.0723</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.9">0.0442/0.0427</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.10">0.0986/0.0984</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.22.11">-8.2%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.23">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.2">0.0313</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.3">0.0380</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.23.4.1" style="background-color:#EDEDFF;">0.0483</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.5">0.0367</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.6">0.0427</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.7">0.0372/0.0370</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.8">0.0349/0.0326</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.9">0.0171/0.0159</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.23.10.1">0.0510</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.23.10.2">0.0498</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.23.11">5.6%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.24">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.24.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.24.1.1">Pet</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.24.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.3">0.0376</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.4">0.0448</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.5">0.0537</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.6">0.0392</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.7">0.0574</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.8">0.0539/0.0464</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.9" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.24.9.1" style="background-color:#EDEDFF;">0.0590/0.0471</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.10">0.0391/0.0354</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.24.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.24.11.1">0.0736</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.24.11.2">0.0693</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.24.12">24.8%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.25">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.2">0.0276</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.3">0.0093</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.25.4.1" style="background-color:#EDEDFF;">0.0394</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.5">0.0162</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.6">0.0202</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.7">0.0295/0.0129</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.8">0.0377/0.0130</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.9">0.0094/0.0030</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.25.10.1">0.0570</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.25.10.2">0.0465</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.25.11">44.7%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.26">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.2">0.0499</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.3">0.0773</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.4">0.0710</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.5">0.0647</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.26.6.1" style="background-color:#EDEDFF;">0.0970</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.7">0.0829/0.0826</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.8">0.0826/0.0818</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.9">0.0680/0.0673</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.10">0.0937/0.0934</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.26.11">-3.4%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.27">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.2">0.0365</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.3">0.0382</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.4">0.0522</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.5">0.0349</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.6">0.0503</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.7">0.0498/0.0399</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.8" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.27.8.1" style="background-color:#EDEDFF;">0.0549/0.0393</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.9">0.0317/0.0272</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.27.10.1">0.0696</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.27.10.2">0.0639</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.27.11">26.8%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.2">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.2.1" rowspan="4"><span class="ltx_text" id="S5.T2.2.2.2.2.1.1"><span class="ltx_text" id="S5.T2.2.2.2.2.1.1.2"></span> <span class="ltx_text" id="S5.T2.2.2.2.2.1.1.1">
<span class="ltx_tabular ltx_align_middle" id="S5.T2.2.2.2.2.1.1.1.1">
<span class="ltx_tr" id="S5.T2.2.2.2.2.1.1.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.2.2.2.2.1.1.1.1.2.1"><span class="ltx_text ltx_font_italic" id="S5.T2.2.2.2.2.1.1.1.1.2.1.1">Average</span></span></span>
<span class="ltx_tr" id="S5.T2.2.2.2.2.1.1.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.2.2.2.2.1.1.1.1.1.1">(<math alttext="6" class="ltx_Math" display="inline" id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1"><semantics id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1a"><mn id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1.1" xref="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1b"><cn id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S5.T2.2.2.2.2.1.1.1.1.1.1.m1.1d">6</annotation></semantics></math> Categories)</span></span>
</span></span> <span class="ltx_text" id="S5.T2.2.2.2.2.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.2.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.3">0.0482</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.4">0.0550</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.5" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.2.5.1" style="background-color:#EDEDFF;">0.0655</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.6">0.0507</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.7">0.0645</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.8">0.0581/0.0558</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.9">0.0592/0.0556</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.10">0.0391/0.0364</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.2.2.2.11">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.2.11.1">0.0811</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.2.11.2">0.0790</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.2.12">23.8%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.28">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.2">0.0312</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.3">0.0108</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.28.4.1" style="background-color:#EDEDFF;">0.0424</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.5">0.0187</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.6">0.0190</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.7">0.0228/0.0175</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.8">0.0279/0.0197</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.9">0.0069/0.0036</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.28.10.1">0.0582</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.28.10.2">0.0530</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.28.11">37.3%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.29">
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.2">0.0701</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.3">0.1018</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.4">0.0948</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.5">0.0883</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.6" style="background-color:#EDEDFF;"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.29.6.1" style="background-color:#EDEDFF;">0.1170</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.7">0.1003/0.1002</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.8">0.0951/0.0949</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.9">0.0736/0.0717</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.10">0.1093/0.1091</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.2.2.29.11">-6.6%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2.2.30">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.1">MRR</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.2">0.0460</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.3">0.0461</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.4" style="background-color:#EDEDFF;"><span class="ltx_text" id="S5.T2.2.2.2.30.4.1" style="background-color:#EDEDFF;">0.0619</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.5">0.0446</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.6">0.0552</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.7">0.0514/0.0484</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.8">0.0531/0.0483</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.9">0.0311/0.0283</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.10">
<span class="ltx_text ltx_font_bold" id="S5.T2.2.2.2.30.10.1">0.0757</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.2.2.2.30.10.2">0.0729</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.2.2.30.11">22.3%</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Evaluation results of CALRec in comparison with different ID/Text-based sequential recommendation baselines (cf. Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>). For text-only methods, we report both optimisitc (<span class="ltx_text ltx_font_italic" id="S5.T2.16.1">opt</span>) and pessimistic (<span class="ltx_text ltx_font_italic" id="S5.T2.17.2">pes</span>) as â€˜(<span class="ltx_text ltx_font_italic" id="S5.T2.18.3">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T2.19.4">pes</span>)â€™. For ID-based methods, (<span class="ltx_text ltx_font_italic" id="S5.T2.20.5">opt</span>) and (<span class="ltx_text ltx_font_italic" id="S5.T2.21.6">pes</span>) scores are the same. <span class="ltx_text ltx_font_bold" id="S5.T2.22.7" style="font-size:120%;">Bold</span>: the highest (<span class="ltx_text ltx_font_italic" id="S5.T2.23.8">opt</span>) scores. <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T2.24.9">Underline</span>: the strongest (<span class="ltx_text ltx_font_italic" id="S5.T2.25.10">pes</span>) scores. We also report the relative improvement (<span class="ltx_text ltx_font_italic" id="S5.T2.26.11">opt</span>) comparing CALRec against (<span class="ltx_text ltx_font_italic" id="S5.T2.27.12">opt</span>) baseline SotA marked with <span class="ltx_text ltx_lstlisting" id="S5.T2.28.13" style="font-size:80%;"><span class="ltx_text ltx_lst_identifier" id="S5.T2.28.13.1">Blue</span><span class="ltx_text ltx_lst_space" id="S5.T2.28.13.2"> </span><span class="ltx_text ltx_lst_identifier" id="S5.T2.28.13.3">Background</span></span> per data category per metric. Evaluation metrics are computed using the Amazon Review dataset after user sequence deduplication (see also Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>).</figcaption>
</figure>
<figure class="ltx_table" id="S5.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.1" style="width:398.9pt;height:99.8pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-288.0pt,71.8pt) scale(0.409169650845028,0.409169650845028) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T3.1.1">
<tr class="ltx_tr" id="S5.T3.1.1.1">
<td class="ltx_td ltx_border_tt" id="S5.T3.1.1.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S5.T3.1.1.1.2"><span class="ltx_text ltx_font_smallcaps" id="S5.T3.1.1.1.2.1" style="background-color:#EBEBEB;">Scientific</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S5.T3.1.1.1.3"><span class="ltx_text ltx_font_smallcaps" id="S5.T3.1.1.1.3.1" style="background-color:#EBEBEB;">Instruments</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S5.T3.1.1.1.4"><span class="ltx_text ltx_font_smallcaps" id="S5.T3.1.1.1.4.1" style="background-color:#EBEBEB;">Games</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.2" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.1"><span class="ltx_text" id="S5.T3.1.1.2.1.1" style="background-color:#EBEBEB;">Model Variant</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.2"><span class="ltx_text" id="S5.T3.1.1.2.2.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.3"><span class="ltx_text" id="S5.T3.1.1.2.3.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.4"><span class="ltx_text" id="S5.T3.1.1.2.4.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.5"><span class="ltx_text" id="S5.T3.1.1.2.5.1" style="background-color:#EBEBEB;">MRR</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.6"><span class="ltx_text" id="S5.T3.1.1.2.6.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.7"><span class="ltx_text" id="S5.T3.1.1.2.7.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.8"><span class="ltx_text" id="S5.T3.1.1.2.8.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.9"><span class="ltx_text" id="S5.T3.1.1.2.9.1" style="background-color:#EBEBEB;">MRR</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.10"><span class="ltx_text" id="S5.T3.1.1.2.10.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.11"><span class="ltx_text" id="S5.T3.1.1.2.11.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.12"><span class="ltx_text" id="S5.T3.1.1.2.12.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.2.13"><span class="ltx_text" id="S5.T3.1.1.2.13.1" style="background-color:#EBEBEB;">MRR</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.3">
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.3.1"><span class="ltx_text" id="S5.T3.1.1.3.1.1">CALRec</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.2">
<span class="ltx_text" id="S5.T3.1.1.3.2.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.2.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.2.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.2.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.2.2.1.1.1.1">0.0788</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.2.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.2.2.1.2.1.1">0.0740</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.3">
<span class="ltx_text" id="S5.T3.1.1.3.3.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.3.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.3.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.3.2.1.1.1.1">0.0511</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.3.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.3.2.1.2.1.1">0.0389</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.4">
<span class="ltx_text" id="S5.T3.1.1.3.4.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.4.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.4.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.4.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.4.2.1.1.1.1">0.1124</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.4.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.4.2.1.2.1.1">0.1117</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.5">
<span class="ltx_text" id="S5.T3.1.1.3.5.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.5.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.5.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.5.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.5.2.1.1.1.1">0.0730</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.5.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.5.2.1.2.1.1">0.0667</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.5.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.6">
<span class="ltx_text" id="S5.T3.1.1.3.6.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.6.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.6.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.6.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.6.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.6.2.1.1.1.1">0.0909</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.6.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.6.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.6.2.1.2.1.1">0.0905</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.6.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.7">
<span class="ltx_text" id="S5.T3.1.1.3.7.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.7.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.7.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.7.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.7.2.1.1.1.1">0.0718</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.7.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.7.2.1.2.1.1">0.0706</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.7.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.8">
<span class="ltx_text" id="S5.T3.1.1.3.8.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.8.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.8.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.8.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.8.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.8.2.1.1.1.1">0.1158</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.8.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.8.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.8.2.1.2.1.1">0.1158</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.8.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.9">
<span class="ltx_text" id="S5.T3.1.1.3.9.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.9.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.9.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.9.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.9.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.9.2.1.1.1.1">0.0864</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.9.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.9.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.9.2.1.2.1.1">0.0857</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.9.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.10">
<span class="ltx_text" id="S5.T3.1.1.3.10.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.10.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.10.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.10.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.10.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.10.2.1.1.1.1">0.0595</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.10.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.10.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.10.2.1.2.1.1">0.0585</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.10.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.11">
<span class="ltx_text" id="S5.T3.1.1.3.11.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.11.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.11.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.11.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.11.2.1.1.1.1">0.0295</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.11.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.11.2.1.2.1.1">0.0277</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.11.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.12">
<span class="ltx_text" id="S5.T3.1.1.3.12.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.12.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.12.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.12.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.12.2.1.1.1">0.0986 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.12.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.12.2.1.2.1">0.0984</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.12.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.13">
<span class="ltx_text" id="S5.T3.1.1.3.13.1"></span> <span class="ltx_text" id="S5.T3.1.1.3.13.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.3.13.2.1">
<span class="ltx_tr" id="S5.T3.1.1.3.13.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.13.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.13.2.1.1.1.1">0.0510</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.3.13.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.3.13.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.3.13.2.1.2.1.1">0.0498</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.3.13.3"></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.4">
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.1"><span class="ltx_text" id="S5.T3.1.1.4.1.1">w/o Multi-Category Joint Fine-Tuning (A)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.2">
<span class="ltx_text" id="S5.T3.1.1.4.2.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.2.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.2.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.2.2.1.1.1">0.0727 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.2.2.1.2.1">0.0675</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.3">
<span class="ltx_text" id="S5.T3.1.1.4.3.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.3.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.3.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.3.2.1.1.1">0.04408 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.3.2.1.2.1">0.0314</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.4">
<span class="ltx_text" id="S5.T3.1.1.4.4.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.4.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.4.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.4.2.1.1.1">0.1070 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.4.2.1.2.1">0.1061</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.5">
<span class="ltx_text" id="S5.T3.1.1.4.5.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.5.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.5.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.5.2.1.1.1">0.0670 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.5.2.1.2.1">0.0602</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.5.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.6">
<span class="ltx_text" id="S5.T3.1.1.4.6.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.6.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.6.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.6.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.6.2.1.1.1">0.0870 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.6.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.6.2.1.2.1">0.0862</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.6.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.7">
<span class="ltx_text" id="S5.T3.1.1.4.7.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.7.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.7.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.7.2.1.1.1">0.0673 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.7.2.1.2.1">0.0658</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.7.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.8">
<span class="ltx_text" id="S5.T3.1.1.4.8.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.8.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.8.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.8.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.8.2.1.1.1">0.1119 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.8.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.8.2.1.2.1">0.1115</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.8.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.9">
<span class="ltx_text" id="S5.T3.1.1.4.9.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.9.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.9.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.9.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.9.2.1.1.1">0.0822 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.9.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.9.2.1.2.1">0.0812</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.9.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.10">
<span class="ltx_text" id="S5.T3.1.1.4.10.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.10.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.10.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.10.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.10.2.1.1.1">0.0583 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.10.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.10.2.1.2.1">0.0570</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.10.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.11">
<span class="ltx_text" id="S5.T3.1.1.4.11.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.11.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.11.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.11.2.1.1.1">0.0286 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.11.2.1.2.1">0.0265</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.11.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.12">
<span class="ltx_text" id="S5.T3.1.1.4.12.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.12.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.12.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.12.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.12.2.1.1.1">0.0966 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.12.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.12.2.1.2.1">0.0959</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.12.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.4.13">
<span class="ltx_text" id="S5.T3.1.1.4.13.1"></span> <span class="ltx_text" id="S5.T3.1.1.4.13.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.4.13.2.1">
<span class="ltx_tr" id="S5.T3.1.1.4.13.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.13.2.1.1.1">0.0501 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.4.13.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.4.13.2.1.2.1">0.0486</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.4.13.3"></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.5">
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.1"><span class="ltx_text" id="S5.T3.1.1.5.1.1">w/o Category-Specific Fine-Tuning (B)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.2">
<span class="ltx_text" id="S5.T3.1.1.5.2.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.2.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.2.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.2.2.1.1.1">0.0717 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.2.2.1.2.1">0.0670</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.3">
<span class="ltx_text" id="S5.T3.1.1.5.3.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.3.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.3.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.3.2.1.1.1">0.0424 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.3.2.1.2.1">0.0300</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.4">
<span class="ltx_text" id="S5.T3.1.1.5.4.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.4.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.4.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.4.2.1.1.1">0.1077 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.4.2.1.2.1">0.1073</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.5">
<span class="ltx_text" id="S5.T3.1.1.5.5.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.5.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.5.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.5.2.1.1.1">0.0653 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.5.2.1.2.1">0.0588</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.5.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.6">
<span class="ltx_text" id="S5.T3.1.1.5.6.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.6.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.6.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.6.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.6.2.1.1.1">0.0867 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.6.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.6.2.1.2.1">0.0862</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.6.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.7">
<span class="ltx_text" id="S5.T3.1.1.5.7.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.7.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.7.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.7.2.1.1.1">0.0715 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.7.2.1.2.1">0.0702</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.7.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.8">
<span class="ltx_text" id="S5.T3.1.1.5.8.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.8.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.8.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.8.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.8.2.1.1.1">0.1048 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.8.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.8.2.1.2.1">0.1048</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.8.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.9">
<span class="ltx_text" id="S5.T3.1.1.5.9.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.9.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.9.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.9.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.9.2.1.1.1">0.0840 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.9.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.9.2.1.2.1">0.0834</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.9.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.10">
<span class="ltx_text" id="S5.T3.1.1.5.10.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.10.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.10.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.10.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.10.2.1.1.1">0.0539 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.10.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.10.2.1.2.1">0.0530</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.10.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.11">
<span class="ltx_text" id="S5.T3.1.1.5.11.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.11.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.11.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.11.2.1.1.1">0.0257 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.11.2.1.2.1">0.0238</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.11.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.12">
<span class="ltx_text" id="S5.T3.1.1.5.12.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.12.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.12.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.12.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.12.2.1.1.1">0.0904 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.12.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.12.2.1.2.1">0.0902</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.12.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.5.13">
<span class="ltx_text" id="S5.T3.1.1.5.13.1"></span> <span class="ltx_text" id="S5.T3.1.1.5.13.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.5.13.2.1">
<span class="ltx_tr" id="S5.T3.1.1.5.13.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.13.2.1.1.1">0.0463 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.5.13.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.5.13.2.1.2.1">0.0451</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.5.13.3"></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.6">
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.1"><span class="ltx_text" id="S5.T3.1.1.6.1.1">w/o Contrastive Alignment</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.2">
<span class="ltx_text" id="S5.T3.1.1.6.2.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.2.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.2.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.2.2.1.1.1">0.0771 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.2.2.1.2.1">0.0724</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.3">
<span class="ltx_text" id="S5.T3.1.1.6.3.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.3.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.3.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.3.2.1.1.1">0.0495 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.3.2.1.2.1">0.0376</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.4">
<span class="ltx_text" id="S5.T3.1.1.6.4.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.4.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.4.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.4.2.1.1.1">0.1109 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.4.2.1.2.1">0.1105</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.5">
<span class="ltx_text" id="S5.T3.1.1.6.5.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.5.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.5.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.5.2.1.1.1">0.0712 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.5.2.1.2.1">0.0649</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.5.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.6">
<span class="ltx_text" id="S5.T3.1.1.6.6.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.6.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.6.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.6.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.6.2.1.1.1">0.0905 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.6.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.6.2.1.2.1">0.0899</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.6.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.7">
<span class="ltx_text" id="S5.T3.1.1.6.7.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.7.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.7.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.7.2.1.1.1">0.0711 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.7.2.1.2.1">0.0696</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.7.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.8">
<span class="ltx_text" id="S5.T3.1.1.6.8.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.8.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.8.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.8.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.8.2.1.1.1">0.1154 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.8.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.8.2.1.2.1">0.1153</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.8.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.9">
<span class="ltx_text" id="S5.T3.1.1.6.9.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.9.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.9.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.9.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.9.2.1.1.1">0.0858 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.9.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.9.2.1.2.1">0.0850</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.9.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.10">
<span class="ltx_text" id="S5.T3.1.1.6.10.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.10.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.10.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.10.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.10.2.1.1.1">0.0593 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.10.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.10.2.1.2.1">0.0584</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.10.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.11">
<span class="ltx_text" id="S5.T3.1.1.6.11.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.11.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.11.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.11.2.1.1.1">0.0289 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.11.2.1.2.1">0.0272</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.11.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.12">
<span class="ltx_text" id="S5.T3.1.1.6.12.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.12.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.12.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.12.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.12.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.6.12.2.1.1.1.1">0.0987</span> /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.12.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.12.2.1.2.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.6.12.2.1.2.1.1">0.0985</span></span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.12.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.13">
<span class="ltx_text" id="S5.T3.1.1.6.13.1"></span> <span class="ltx_text" id="S5.T3.1.1.6.13.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.6.13.2.1">
<span class="ltx_tr" id="S5.T3.1.1.6.13.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.13.2.1.1.1">0.0507 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.6.13.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.6.13.2.1.2.1">0.0495</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.6.13.3"></span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.7.1"><span class="ltx_text" id="S5.T3.1.1.7.1.1">Pretrained PaLM-2 (w/o Fine-Tuning)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.2">
<span class="ltx_text" id="S5.T3.1.1.7.2.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.2.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.2.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.2.2.1.1.1">0.0326 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.2.2.1.2.1">0.0291</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.3">
<span class="ltx_text" id="S5.T3.1.1.7.3.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.3.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.3.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.3.2.1.1.1">0.0090 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.3.2.1.2.1">0.0055</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.4">
<span class="ltx_text" id="S5.T3.1.1.7.4.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.4.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.4.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.4.2.1.1.1">0.0661 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.4.2.1.2.1">0.0623</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.5">
<span class="ltx_text" id="S5.T3.1.1.7.5.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.5.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.5.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.5.2.1.1.1">0.0267 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.5.2.1.2.1">0.0234</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.5.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.6">
<span class="ltx_text" id="S5.T3.1.1.7.6.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.6.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.6.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.6.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.6.2.1.1.1">0.0257 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.6.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.6.2.1.2.1">0.0254</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.6.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.7">
<span class="ltx_text" id="S5.T3.1.1.7.7.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.7.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.7.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.7.2.1.1.1">0.0041 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.7.2.1.2.1">0.0037</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.7.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.8">
<span class="ltx_text" id="S5.T3.1.1.7.8.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.8.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.8.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.8.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.8.2.1.1.1">0.0585 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.8.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.8.2.1.2.1">0.0584</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.8.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.9">
<span class="ltx_text" id="S5.T3.1.1.7.9.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.9.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.9.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.9.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.9.2.1.1.1">0.0197 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.9.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.9.2.1.2.1">0.0193</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.9.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.10">
<span class="ltx_text" id="S5.T3.1.1.7.10.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.10.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.10.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.10.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.10.2.1.1.1">0.0150 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.10.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.10.2.1.2.1">0.0141</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.10.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.11">
<span class="ltx_text" id="S5.T3.1.1.7.11.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.11.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.11.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.11.2.1.1.1">0.0031 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.11.2.1.2.1">0.0024</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.11.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.12">
<span class="ltx_text" id="S5.T3.1.1.7.12.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.12.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.12.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.12.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.12.2.1.1.1">0.0325 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.12.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.12.2.1.2.1">0.0314</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.12.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S5.T3.1.1.7.13">
<span class="ltx_text" id="S5.T3.1.1.7.13.1"></span> <span class="ltx_text" id="S5.T3.1.1.7.13.2">
<span class="ltx_tabular ltx_align_middle" id="S5.T3.1.1.7.13.2.1">
<span class="ltx_tr" id="S5.T3.1.1.7.13.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.13.2.1.1.1">0.0134 /</span></span>
<span class="ltx_tr" id="S5.T3.1.1.7.13.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T3.1.1.7.13.2.1.2.1">0.0127</span></span>
</span></span><span class="ltx_text" id="S5.T3.1.1.7.13.3"></span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span>Ablation result showing the benefits of multi-stage fine-tuning and constrastive alignment to improve the performance of CALRec. <span class="ltx_text ltx_font_bold" id="S5.T3.6.1" style="font-size:120%;">Bold</span>: the highest optimistic (<span class="ltx_text ltx_font_italic" id="S5.T3.7.2">opt</span>) scores. <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.3">Underline</span>: the strongest pessimistic (<span class="ltx_text ltx_font_italic" id="S5.T3.9.4">pes</span>) scores.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T4.1.1" style="width:433.2pt;height:97.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(16.8pt,-3.8pt) scale(1.08423587975791,1.08423587975791) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T4.1.1.1">
<tr class="ltx_tr" id="S5.T4.1.1.1.1" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1.1.2"><span class="ltx_text" id="S5.T4.1.1.1.1.2.1" style="background-color:#EBEBEB;">Metric: (<span class="ltx_text ltx_font_italic" id="S5.T4.1.1.1.1.2.1.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T4.1.1.1.1.2.1.2">pes</span>)</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1.1.3"><span class="ltx_text" id="S5.T4.1.1.1.1.3.1" style="background-color:#EBEBEB;">w/ Contr.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1.1.4"><span class="ltx_text" id="S5.T4.1.1.1.1.4.1" style="background-color:#EBEBEB;">w/o Contr.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1.1.5"><span class="ltx_text" id="S5.T4.1.1.1.1.5.1" style="background-color:#EBEBEB;">Improv.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1.1.1">
<math alttext="p" class="ltx_Math" display="inline" id="S5.T4.1.1.1.1.1.m1.1" style="background-color:#EBEBEB;"><semantics id="S5.T4.1.1.1.1.1.m1.1a"><mi id="S5.T4.1.1.1.1.1.m1.1.1" mathbackground="#EBEBEB" xref="S5.T4.1.1.1.1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.1.1.m1.1b"><ci id="S5.T4.1.1.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.1.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S5.T4.1.1.1.1.1.m1.1d">italic_p</annotation></semantics></math><span class="ltx_text" id="S5.T4.1.1.1.1.1.1" style="background-color:#EBEBEB;">-value</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.1.2">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.2.1"><span class="ltx_text" id="S5.T4.1.1.1.2.1.1">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.2.2">0.0811/0.0790</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.2.3">0.0803/0.0782</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.2.4">1.00%/1.02%</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.2.5">0.0076/0.0064</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.1.3">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.3.1"><span class="ltx_text" id="S5.T4.1.1.1.3.1.1">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.3.2">0.0582/0.0530</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.3.3">0.0574/0.0521</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.3.4">1.39%/1.73%</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.3.5">0.0027/0.0004</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.1.4">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.4.1"><span class="ltx_text" id="S5.T4.1.1.1.4.1.1">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.4.2">0.1093/0.1091</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.4.3">0.1084/0.1082</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.4.4">0.83%/0.83%</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.1.4.5">0.0178/0.019</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.1.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.1.5.1"><span class="ltx_text" id="S5.T4.1.1.1.5.1.1">MRR</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.1.5.2">0.0757/0.0729</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.1.5.3">0.0748/0.0720</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.1.5.4">1.20%/1.25%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.1.5.5">0.0066/0.0037</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span>Average scores (<span class="ltx_text ltx_font_italic" id="S5.T4.6.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T4.7.2">pes</span>) on all <math alttext="6" class="ltx_Math" display="inline" id="S5.T4.3.3.m1.1"><semantics id="S5.T4.3.3.m1.1b"><mn id="S5.T4.3.3.m1.1.1" xref="S5.T4.3.3.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.m1.1c"><cn id="S5.T4.3.3.m1.1.1.cmml" type="integer" xref="S5.T4.3.3.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.m1.1d">6</annotation><annotation encoding="application/x-llamapun" id="S5.T4.3.3.m1.1e">6</annotation></semantics></math> data categories: w/ contrastive alignment vs. w/o contrastive alignment.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T5.1" style="width:416.3pt;height:221.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(16.8pt,-9.0pt) scale(1.0880695711687,1.0880695711687) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T5.1.1">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<td class="ltx_td ltx_border_tt" id="S5.T5.1.1.1.1"></td>
<td class="ltx_td ltx_border_tt" id="S5.T5.1.1.1.2"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S5.T5.1.1.1.3"><span class="ltx_text ltx_font_smallcaps" id="S5.T5.1.1.1.3.1" style="background-color:#EBEBEB;">Model Size</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.2" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.2.1"><span class="ltx_text" id="S5.T5.1.1.2.1.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.2.2">
<span class="ltx_text" id="S5.T5.1.1.2.2.1"></span><span class="ltx_text" id="S5.T5.1.1.2.2.2" style="background-color:#EBEBEB;"> <span class="ltx_text" id="S5.T5.1.1.2.2.2.1">
<span class="ltx_tabular ltx_align_middle" id="S5.T5.1.1.2.2.2.1.1">
<span class="ltx_tr" id="S5.T5.1.1.2.2.2.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.2.2.2.1.1.1.1">Metric</span></span>
<span class="ltx_tr" id="S5.T5.1.1.2.2.2.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.2.2.2.1.1.2.1">Â Â (<span class="ltx_text ltx_font_italic" id="S5.T5.1.1.2.2.2.1.1.2.1.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T5.1.1.2.2.2.1.1.2.1.2">pes</span>)</span></span>
</span></span><span class="ltx_text" id="S5.T5.1.1.2.2.2.2"></span></span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.2.3"><span class="ltx_text" id="S5.T5.1.1.2.3.1" style="background-color:#EBEBEB;">XXXS</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.2.4"><span class="ltx_text" id="S5.T5.1.1.2.4.1" style="background-color:#EBEBEB;">XXS</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.2.5"><span class="ltx_text" id="S5.T5.1.1.2.5.1" style="background-color:#EBEBEB;">S</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.3">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.1" rowspan="4"><span class="ltx_text" id="S5.T5.1.1.3.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.3.3">0.0299/0.0252</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.3.4">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.3.4.1">0.0326</span>/0.0291</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.3.5">0.0321/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.3.5.1">0.0306</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.4">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.2">0.0089/0.0034</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.3">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.3.1">0.0090</span>/0.0055</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.4">0.0082/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.4.1">0.0058</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.5">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.2">0.0592/0.0534</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.3">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.5.3.1">0.0661</span>/0.0623</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.4">0.0660/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.5.4.1">0.0647</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.6">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.2">0.0246/0.0204</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.3">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.6.3.1">0.0267</span>/0.0234</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.4">0.0262/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.6.4.1">0.0247</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.7.1" rowspan="4"><span class="ltx_text" id="S5.T5.1.1.7.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.7.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.3">0.0215/0.0210</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.4">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.4.1">0.0257</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.7.4.2">0.0254</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.5">0.0234/0.0231</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.8">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.8.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.8.2">0.0029/0.0022</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.8.3">0.0041/0.0037</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.8.4">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.8.4.1">0.0043</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.8.4.2">0.0039</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.9">
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.9.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.9.2">0.0480/0.0476</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.9.3">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.9.3.1">0.0585</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.9.3.2">0.0584</span>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.9.4">0.0512/0.0511</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.10">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.10.1">MRR</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.10.2">0.0162/0.0156</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.10.3">
<span class="ltx_text ltx_font_bold" id="S5.T5.1.1.10.3.1">0.0197</span>/<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.10.3.2">0.0193</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.10.4">0.0188/0.0185</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Performance results of pretrained PaLM-2 models of three distinct sizes without any fine-tuning for Sequential Recommendation. <span class="ltx_text ltx_font_bold" id="S5.T5.6.1" style="font-size:120%;">Bold</span>: the highest optimistic (<span class="ltx_text ltx_font_italic" id="S5.T5.7.2">opt</span>) scores. <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.8.3">Underline</span>: the strongest pessimistic (<span class="ltx_text ltx_font_italic" id="S5.T5.9.4">pes</span>) scores.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T6">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T6.1" style="width:268.8pt;height:207.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(29.3pt,-22.6pt) scale(1.27876136671521,1.27876136671521) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T6.1.1">
<tr class="ltx_tr" id="S5.T6.1.1.1" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.1"><span class="ltx_text" id="S5.T6.1.1.1.1.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.2"><span class="ltx_text" id="S5.T6.1.1.1.2.1" style="background-color:#EBEBEB;">Metric</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.1.3"><span class="ltx_text" id="S5.T6.1.1.1.3.1" style="background-color:#EBEBEB;">(<span class="ltx_text ltx_font_italic" id="S5.T6.1.1.1.3.1.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S5.T6.1.1.1.3.1.2">pes</span>)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.2">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.2.1" rowspan="4"><span class="ltx_text" id="S5.T6.1.1.2.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.2.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.1.2.3">0.0265/0.0232</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.3">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.3.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.3.2">0.0051/0.0030</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.4">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.4.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.4.2">0.0582/0.0537</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.5">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.5.1">MRR</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.5.2">0.0217/0.0189</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.6">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.1.6.1" rowspan="4"><span class="ltx_text" id="S5.T6.1.1.6.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.6.2">NDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.1.6.3">0.0240/0.0237</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.7">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.7.1">Recall@1</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.7.2">0.0028/0.0025</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.8">
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.8.1">Recall@10</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.1.8.2">0.0584/ 0.0583</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.9">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.1.9.1">MRR</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.1.9.2">0.0179/0.0175</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6. </span>Performance results of GPT4Recâ€™s template using pretrained PaLM-2 XXS without any fine-tuning for Sequential Recommendation.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.8"><span class="ltx_text ltx_font_bold" id="S5.p1.8.1">Main Results.</span> TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T2" title="Table 2 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> demonstrates that the sequential recommendation capabilities of the proposed CALRec framework are stronger than our baselines. On the <math alttext="6" class="ltx_Math" display="inline" id="S5.p1.1.m1.1"><semantics id="S5.p1.1.m1.1a"><mn id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><cn id="S5.p1.1.m1.1.1.cmml" type="integer" xref="S5.p1.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.1d">6</annotation></semantics></math> Amazon Review test categories, our model outperforms all <math alttext="8" class="ltx_Math" display="inline" id="S5.p1.2.m2.1"><semantics id="S5.p1.2.m2.1a"><mn id="S5.p1.2.m2.1.1" xref="S5.p1.2.m2.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b"><cn id="S5.p1.2.m2.1.1.cmml" type="integer" xref="S5.p1.2.m2.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">8</annotation><annotation encoding="application/x-llamapun" id="S5.p1.2.m2.1d">8</annotation></semantics></math> baselines significantly in terms of NDCG@10, Recall@1 and MRR. In terms of Recall@10, our approach outperforms all <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.2">Text-Only</span> and <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.3">ID-Only</span> models across the board by a large margin (including the <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.4">Text-Only</span> variant of UniSRec), but slightly underperforms our strongest baseline, the <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.5">ID+Text</span> variant of UniSRec. For our method and <math alttext="3" class="ltx_Math" display="inline" id="S5.p1.3.m3.1"><semantics id="S5.p1.3.m3.1a"><mn id="S5.p1.3.m3.1.1" xref="S5.p1.3.m3.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.p1.3.m3.1b"><cn id="S5.p1.3.m3.1.1.cmml" type="integer" xref="S5.p1.3.m3.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.3.m3.1c">3</annotation><annotation encoding="application/x-llamapun" id="S5.p1.3.m3.1d">3</annotation></semantics></math> <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.6">Text-Only</span> baselines, the results in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T2" title="Table 2 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> verified that there is a gap between optimistic and pessimistic metric scores, demonstrating the necessity of reporting both. Meanwhile, it is worth noticing that even our pessimistic scores clearly surpass the optimistic scores of the <math alttext="3" class="ltx_Math" display="inline" id="S5.p1.4.m4.1"><semantics id="S5.p1.4.m4.1a"><mn id="S5.p1.4.m4.1.1" xref="S5.p1.4.m4.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.p1.4.m4.1b"><cn id="S5.p1.4.m4.1.1.cmml" type="integer" xref="S5.p1.4.m4.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.4.m4.1c">3</annotation><annotation encoding="application/x-llamapun" id="S5.p1.4.m4.1d">3</annotation></semantics></math> <span class="ltx_text ltx_font_smallcaps" id="S5.p1.8.7">Text-Only</span> baseline models on all the <math alttext="6" class="ltx_Math" display="inline" id="S5.p1.5.m5.1"><semantics id="S5.p1.5.m5.1a"><mn id="S5.p1.5.m5.1.1" xref="S5.p1.5.m5.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.p1.5.m5.1b"><cn id="S5.p1.5.m5.1.1.cmml" type="integer" xref="S5.p1.5.m5.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.5.m5.1c">6</annotation><annotation encoding="application/x-llamapun" id="S5.p1.5.m5.1d">6</annotation></semantics></math> data categories. In addition to the absolute scores, we also calculate the percentage gains comparing CALRecâ€™s optimistic scores against the baseline SotA for each data category and each evaluation metric (different method for different data category and metric). The results are presented in the last column of TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T2" title="Table 2 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>. We found that, CALRec is especially strong in Recall@1, outperforming baseline SotA by <math alttext="37.3\%" class="ltx_Math" display="inline" id="S5.p1.6.m6.1"><semantics id="S5.p1.6.m6.1a"><mrow id="S5.p1.6.m6.1.1" xref="S5.p1.6.m6.1.1.cmml"><mn id="S5.p1.6.m6.1.1.2" xref="S5.p1.6.m6.1.1.2.cmml">37.3</mn><mo id="S5.p1.6.m6.1.1.1" xref="S5.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.6.m6.1b"><apply id="S5.p1.6.m6.1.1.cmml" xref="S5.p1.6.m6.1.1"><csymbol cd="latexml" id="S5.p1.6.m6.1.1.1.cmml" xref="S5.p1.6.m6.1.1.1">percent</csymbol><cn id="S5.p1.6.m6.1.1.2.cmml" type="float" xref="S5.p1.6.m6.1.1.2">37.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.6.m6.1c">37.3\%</annotation><annotation encoding="application/x-llamapun" id="S5.p1.6.m6.1d">37.3 %</annotation></semantics></math> on average; CALRec outperforms baseline SotA by <math alttext="23.8\%" class="ltx_Math" display="inline" id="S5.p1.7.m7.1"><semantics id="S5.p1.7.m7.1a"><mrow id="S5.p1.7.m7.1.1" xref="S5.p1.7.m7.1.1.cmml"><mn id="S5.p1.7.m7.1.1.2" xref="S5.p1.7.m7.1.1.2.cmml">23.8</mn><mo id="S5.p1.7.m7.1.1.1" xref="S5.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.7.m7.1b"><apply id="S5.p1.7.m7.1.1.cmml" xref="S5.p1.7.m7.1.1"><csymbol cd="latexml" id="S5.p1.7.m7.1.1.1.cmml" xref="S5.p1.7.m7.1.1.1">percent</csymbol><cn id="S5.p1.7.m7.1.1.2.cmml" type="float" xref="S5.p1.7.m7.1.1.2">23.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.7.m7.1c">23.8\%</annotation><annotation encoding="application/x-llamapun" id="S5.p1.7.m7.1d">23.8 %</annotation></semantics></math> and <math alttext="22.3\%" class="ltx_Math" display="inline" id="S5.p1.8.m8.1"><semantics id="S5.p1.8.m8.1a"><mrow id="S5.p1.8.m8.1.1" xref="S5.p1.8.m8.1.1.cmml"><mn id="S5.p1.8.m8.1.1.2" xref="S5.p1.8.m8.1.1.2.cmml">22.3</mn><mo id="S5.p1.8.m8.1.1.1" xref="S5.p1.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.8.m8.1b"><apply id="S5.p1.8.m8.1.1.cmml" xref="S5.p1.8.m8.1.1"><csymbol cd="latexml" id="S5.p1.8.m8.1.1.1.cmml" xref="S5.p1.8.m8.1.1.1">percent</csymbol><cn id="S5.p1.8.m8.1.1.2.cmml" type="float" xref="S5.p1.8.m8.1.1.2">22.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.8.m8.1c">22.3\%</annotation><annotation encoding="application/x-llamapun" id="S5.p1.8.m8.1d">22.3 %</annotation></semantics></math> on average in terms of NDCG@10 and MRR, respectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p2">
<p class="ltx_p" id="S5.p2.2"><span class="ltx_text ltx_font_bold" id="S5.p2.2.1">Ablation Study.</span> In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T3" title="Table 3 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>, we demonstrate the effectiveness of CALRecâ€™s key components via extensive ablation study on <math alttext="3" class="ltx_Math" display="inline" id="S5.p2.1.m1.1"><semantics id="S5.p2.1.m1.1a"><mn id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><cn id="S5.p2.1.m1.1.1.cmml" type="integer" xref="S5.p2.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">3</annotation><annotation encoding="application/x-llamapun" id="S5.p2.1.m1.1d">3</annotation></semantics></math> data categories (the results on the other <math alttext="3" class="ltx_Math" display="inline" id="S5.p2.2.m2.1"><semantics id="S5.p2.2.m2.1a"><mn id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><cn id="S5.p2.2.m2.1.1.cmml" type="integer" xref="S5.p2.2.m2.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">3</annotation><annotation encoding="application/x-llamapun" id="S5.p2.2.m2.1d">3</annotation></semantics></math> categories show the same trends so we skip them due to space constraints).</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1"><em class="ltx_emph ltx_font_italic" id="S5.p3.1.1">Two-Stage Fine-Tuning:</em> First, it is obvious that our Stage I multi-category joint fine-tuning and Stage II category-specific fine-tuning are both effective, without which there will be an obvious drop in performance. Furthermore, it is worth mentioning that our model derived only with Stage I is able to recommend items in all <math alttext="6" class="ltx_Math" display="inline" id="S5.p3.1.m1.1"><semantics id="S5.p3.1.m1.1a"><mn id="S5.p3.1.m1.1.1" xref="S5.p3.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.1b"><cn id="S5.p3.1.m1.1.1.cmml" type="integer" xref="S5.p3.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S5.p3.1.m1.1d">6</annotation></semantics></math> categories: this is especially valuable and easy to deploy in real-world applications, due to its multi-tenancy nature. Although the multi-category trained model (variant B in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T3" title="Table 3 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>) lags behind the full CALRec derived with both stages, it is already on par with variant A models (cf. TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T3" title="Table 3 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>). We also compare CALRec and pretrained â€˜off-the-shelfâ€™ PaLM-2 XXS in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T3" title="Table 3 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>; the results show that without any fine-tuning, PaLM-2 demonstrates poor performance on our sequential recommendation benchmarks.</p>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.4"><em class="ltx_emph ltx_font_italic" id="S5.p4.4.1">Contrastive Objectives:</em> In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T4" title="Table 4 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a> we calculate the average scores on all <math alttext="6" class="ltx_Math" display="inline" id="S5.p4.1.m1.1"><semantics id="S5.p4.1.m1.1a"><mn id="S5.p4.1.m1.1.1" xref="S5.p4.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S5.p4.1.m1.1b"><cn id="S5.p4.1.m1.1.1.cmml" type="integer" xref="S5.p4.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p4.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S5.p4.1.m1.1d">6</annotation></semantics></math> categories for the setups with and without the auxiliary contrastive losses. Basically, the auxiliary contrastive objective can result in circa <math alttext="0.8\%-1.7\%" class="ltx_Math" display="inline" id="S5.p4.2.m2.1"><semantics id="S5.p4.2.m2.1a"><mrow id="S5.p4.2.m2.1.1" xref="S5.p4.2.m2.1.1.cmml"><mrow id="S5.p4.2.m2.1.1.2" xref="S5.p4.2.m2.1.1.2.cmml"><mn id="S5.p4.2.m2.1.1.2.2" xref="S5.p4.2.m2.1.1.2.2.cmml">0.8</mn><mo id="S5.p4.2.m2.1.1.2.1" xref="S5.p4.2.m2.1.1.2.1.cmml">%</mo></mrow><mo id="S5.p4.2.m2.1.1.1" xref="S5.p4.2.m2.1.1.1.cmml">âˆ’</mo><mrow id="S5.p4.2.m2.1.1.3" xref="S5.p4.2.m2.1.1.3.cmml"><mn id="S5.p4.2.m2.1.1.3.2" xref="S5.p4.2.m2.1.1.3.2.cmml">1.7</mn><mo id="S5.p4.2.m2.1.1.3.1" xref="S5.p4.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p4.2.m2.1b"><apply id="S5.p4.2.m2.1.1.cmml" xref="S5.p4.2.m2.1.1"><minus id="S5.p4.2.m2.1.1.1.cmml" xref="S5.p4.2.m2.1.1.1"></minus><apply id="S5.p4.2.m2.1.1.2.cmml" xref="S5.p4.2.m2.1.1.2"><csymbol cd="latexml" id="S5.p4.2.m2.1.1.2.1.cmml" xref="S5.p4.2.m2.1.1.2.1">percent</csymbol><cn id="S5.p4.2.m2.1.1.2.2.cmml" type="float" xref="S5.p4.2.m2.1.1.2.2">0.8</cn></apply><apply id="S5.p4.2.m2.1.1.3.cmml" xref="S5.p4.2.m2.1.1.3"><csymbol cd="latexml" id="S5.p4.2.m2.1.1.3.1.cmml" xref="S5.p4.2.m2.1.1.3.1">percent</csymbol><cn id="S5.p4.2.m2.1.1.3.2.cmml" type="float" xref="S5.p4.2.m2.1.1.3.2">1.7</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p4.2.m2.1c">0.8\%-1.7\%</annotation><annotation encoding="application/x-llamapun" id="S5.p4.2.m2.1d">0.8 % - 1.7 %</annotation></semantics></math> gains. We also conduct <a class="ltx_ref ltx_href" href="https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples" title="">dependent paired sample t-test</a>Â <cite class="ltx_cite ltx_citemacro_citep">(Ross and Willson, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib42" title="">2017</a>)</cite> and report the <math alttext="p" class="ltx_Math" display="inline" id="S5.p4.3.m3.1"><semantics id="S5.p4.3.m3.1a"><mi id="S5.p4.3.m3.1.1" xref="S5.p4.3.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S5.p4.3.m3.1b"><ci id="S5.p4.3.m3.1.1.cmml" xref="S5.p4.3.m3.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p4.3.m3.1c">p</annotation><annotation encoding="application/x-llamapun" id="S5.p4.3.m3.1d">italic_p</annotation></semantics></math>-values in the last column of TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T4" title="Table 4 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>: the gains are all statistically significant at <math alttext="0.05" class="ltx_Math" display="inline" id="S5.p4.4.m4.1"><semantics id="S5.p4.4.m4.1a"><mn id="S5.p4.4.m4.1.1" xref="S5.p4.4.m4.1.1.cmml">0.05</mn><annotation-xml encoding="MathML-Content" id="S5.p4.4.m4.1b"><cn id="S5.p4.4.m4.1.1.cmml" type="float" xref="S5.p4.4.m4.1.1">0.05</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.p4.4.m4.1c">0.05</annotation><annotation encoding="application/x-llamapun" id="S5.p4.4.m4.1d">0.05</annotation></semantics></math> level.</p>
</div>
<div class="ltx_para" id="S5.p5">
<p class="ltx_p" id="S5.p5.1"><em class="ltx_emph ltx_font_italic" id="S5.p5.1.1">Model Size:</em> We are also interested in how pretrained PaLM-2 <span class="ltx_text ltx_font_italic" id="S5.p5.1.2">without</span> any fine-tuning on our sequential recommendation data performs in our tasks and we present results with three PaLM-2 models of different model sizes (i.e., XXXS, XXS, and S) on â€˜Scientificâ€™ and â€˜Instrumentsâ€™ categories in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T5" title="Table 5 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a>. The input/output format is still the same: input data is from a single user. The results show that XXS and S models actually achieve similar performance and they both outperform the XXXS model.</p>
</div>
<div class="ltx_para" id="S5.p6">
<p class="ltx_p" id="S5.p6.1"><em class="ltx_emph ltx_font_italic" id="S5.p6.1.1">Template Design:</em> We conducted additional experiments on prompting the raw PaLM2 XXS model for recommendation adopting another prompt from GPT4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite>, with results reported in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T6" title="Table 6 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>. Unlike our prompt template, their template doesnâ€™t include a shared per-item prefix and user suffix but leverages a one-off user suffix. Compared with our results reported in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T5" title="Table 5 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a> with the same raw PaLM-2 XXS, the new results are universally lower than ours (especially recall@1, relatively <math alttext="30\%\sim 45\%" class="ltx_Math" display="inline" id="S5.p6.1.m1.1"><semantics id="S5.p6.1.m1.1a"><mrow id="S5.p6.1.m1.1.1" xref="S5.p6.1.m1.1.1.cmml"><mrow id="S5.p6.1.m1.1.1.2" xref="S5.p6.1.m1.1.1.2.cmml"><mn id="S5.p6.1.m1.1.1.2.2" xref="S5.p6.1.m1.1.1.2.2.cmml">30</mn><mo id="S5.p6.1.m1.1.1.2.1" xref="S5.p6.1.m1.1.1.2.1.cmml">%</mo></mrow><mo id="S5.p6.1.m1.1.1.1" xref="S5.p6.1.m1.1.1.1.cmml">âˆ¼</mo><mrow id="S5.p6.1.m1.1.1.3" xref="S5.p6.1.m1.1.1.3.cmml"><mn id="S5.p6.1.m1.1.1.3.2" xref="S5.p6.1.m1.1.1.3.2.cmml">45</mn><mo id="S5.p6.1.m1.1.1.3.1" xref="S5.p6.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p6.1.m1.1b"><apply id="S5.p6.1.m1.1.1.cmml" xref="S5.p6.1.m1.1.1"><csymbol cd="latexml" id="S5.p6.1.m1.1.1.1.cmml" xref="S5.p6.1.m1.1.1.1">similar-to</csymbol><apply id="S5.p6.1.m1.1.1.2.cmml" xref="S5.p6.1.m1.1.1.2"><csymbol cd="latexml" id="S5.p6.1.m1.1.1.2.1.cmml" xref="S5.p6.1.m1.1.1.2.1">percent</csymbol><cn id="S5.p6.1.m1.1.1.2.2.cmml" type="integer" xref="S5.p6.1.m1.1.1.2.2">30</cn></apply><apply id="S5.p6.1.m1.1.1.3.cmml" xref="S5.p6.1.m1.1.1.3"><csymbol cd="latexml" id="S5.p6.1.m1.1.1.3.1.cmml" xref="S5.p6.1.m1.1.1.3.1">percent</csymbol><cn id="S5.p6.1.m1.1.1.3.2.cmml" type="integer" xref="S5.p6.1.m1.1.1.3.2">45</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p6.1.m1.1c">30\%\sim 45\%</annotation><annotation encoding="application/x-llamapun" id="S5.p6.1.m1.1d">30 % âˆ¼ 45 %</annotation></semantics></math> drop in scores), showing the effectiveness of our template design.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Further Analyses and Discussion</h2>
<figure class="ltx_table" id="S6.T7">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T7.1" style="width:325.2pt;height:79.5pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-133.6pt,32.5pt) scale(0.548872273780038,0.548872273780038) ;">
<table class="ltx_tabular ltx_align_middle" id="S6.T7.1.1">
<tr class="ltx_tr" id="S6.T7.1.1.1">
<td class="ltx_td ltx_border_tt" id="S6.T7.1.1.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S6.T7.1.1.1.2"><span class="ltx_text ltx_font_smallcaps" id="S6.T7.1.1.1.2.1" style="background-color:#EBEBEB;">w/o Dedup<span class="ltx_text ltx_font_upright" id="S6.T7.1.1.1.2.1.1"> - </span>Metric<span class="ltx_text ltx_font_upright" id="S6.T7.1.1.1.2.1.2">: (<span class="ltx_text ltx_font_italic" id="S6.T7.1.1.1.2.1.2.1">opt</span>)</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S6.T7.1.1.1.3"><span class="ltx_text ltx_font_smallcaps" id="S6.T7.1.1.1.3.1" style="background-color:#EBEBEB;">w/ Dedup<span class="ltx_text ltx_font_upright" id="S6.T7.1.1.1.3.1.1"> - </span>Metric<span class="ltx_text ltx_font_upright" id="S6.T7.1.1.1.3.1.2">: (<span class="ltx_text ltx_font_italic" id="S6.T7.1.1.1.3.1.2.1">opt</span>)</span></span></td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.2" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.1"><span class="ltx_text" id="S6.T7.1.1.2.1.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.2"><span class="ltx_text" id="S6.T7.1.1.2.2.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.3"><span class="ltx_text" id="S6.T7.1.1.2.3.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.4"><span class="ltx_text" id="S6.T7.1.1.2.4.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.5"><span class="ltx_text" id="S6.T7.1.1.2.5.1" style="background-color:#EBEBEB;">MRR</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.6"><span class="ltx_text" id="S6.T7.1.1.2.6.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.7"><span class="ltx_text" id="S6.T7.1.1.2.7.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.8"><span class="ltx_text" id="S6.T7.1.1.2.8.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.2.9"><span class="ltx_text" id="S6.T7.1.1.2.9.1" style="background-color:#EBEBEB;">MRR</span></td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.3">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.3.1"><span class="ltx_text" id="S6.T7.1.1.3.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.2">0.088</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.3">0.0355</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.4">0.1381</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.5">0.0745</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.6">0.0565 (-36%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.7">0.0142 (-60%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.8">0.1005 (-27%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.3.9">0.0461 (-38%)</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.4">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.1"><span class="ltx_text" id="S6.T7.1.1.4.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.2">0.0545</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.3">0.0301</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.4">0.081</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.5">0.0485</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.6">0.0344 (-37%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.7">0.0040 (-87%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.8">0.0696 (-14%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.4.9">0.0263 (-46%)</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.5">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.1"><span class="ltx_text" id="S6.T7.1.1.5.1.1">Arts</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.2">0.0946</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.3">0.0511</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.4">0.1464</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.5">0.0811</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.6">0.0443 (-53%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.7">0.0067 (-87%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.8">0.0859 (-41%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.5.9">0.0344 (-58%)</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.6">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.1"><span class="ltx_text" id="S6.T7.1.1.6.1.1">Office</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.2">0.0757</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.3">0.0424</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.4">0.1095</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.5">0.0669</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.6">0.0391 (-48%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.7">0.0056 (-87%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.8">0.0735 (-33%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.6.9">0.0309 (-54%)</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.7">
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.1"><span class="ltx_text" id="S6.T7.1.1.7.1.1">Games</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.2">0.05</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.3">0.0275</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.4">0.0755</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.5">0.0444</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.6">0.0211 (-58%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.7">0.0015 (-95%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.8">0.0442 (-41%)</td>
<td class="ltx_td ltx_align_center" id="S6.T7.1.1.7.9">0.0171 (-61%)</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.1.8">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.1"><span class="ltx_text" id="S6.T7.1.1.8.1.1">Pet</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.2">0.069</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.3">0.0318</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.4">0.1085</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.5">0.0578</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.6">0.0391 (-43%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.7">0.0094 (-70%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.8">0.0680 (-37%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.1.8.9">0.0317 (-45%)</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7. </span>Data deduplication. Optimistic evaluations of LIR Baseline (always recommend last-item in the input sequence) on data fromÂ <cite class="ltx_cite ltx_citemacro_citep">(Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> (w/o dedup) and our data w/ dedup respectively.</figcaption>
</figure>
<figure class="ltx_table" id="S6.T8">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T8.3" style="width:424.9pt;height:77.4pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-185.6pt,33.6pt) scale(0.533701408856656,0.533701408856656) ;">
<table class="ltx_tabular ltx_align_middle" id="S6.T8.3.1">
<tr class="ltx_tr" id="S6.T8.3.1.1">
<td class="ltx_td ltx_border_tt" id="S6.T8.3.1.1.1"></td>
<td class="ltx_td ltx_border_tt" id="S6.T8.3.1.1.2"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S6.T8.3.1.1.3"><span class="ltx_text ltx_font_smallcaps" id="S6.T8.3.1.1.3.1" style="background-color:#EBEBEB;">Output Matches an Item<span class="ltx_text ltx_font_upright" id="S6.T8.3.1.1.3.1.1"> (%)</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S6.T8.3.1.1.4"><span class="ltx_text ltx_font_smallcaps" id="S6.T8.3.1.1.4.1" style="background-color:#EBEBEB;">Hierarchical Match<span class="ltx_text ltx_font_upright" id="S6.T8.3.1.1.4.1.1"> - </span>Metric<span class="ltx_text ltx_font_upright" id="S6.T8.3.1.1.4.1.2">: (<span class="ltx_text ltx_font_italic" id="S6.T8.3.1.1.4.1.2.1">opt</span>)/(<span class="ltx_text ltx_font_italic" id="S6.T8.3.1.1.4.1.2.2">pes</span>) &amp; Improv. vs BM25 (%)</span></span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.2" style="background-color:#EBEBEB;">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.1"><span class="ltx_text" id="S6.T8.3.1.2.1.1" style="background-color:#EBEBEB;">Dataset</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.2"><span class="ltx_text" id="S6.T8.3.1.2.2.1" style="background-color:#EBEBEB;">Format Error (%)</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.3"><span class="ltx_text" id="S6.T8.3.1.2.3.1" style="background-color:#EBEBEB;">All Four Attributes</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.4"><span class="ltx_text" id="S6.T8.3.1.2.4.1" style="background-color:#EBEBEB;">Title Only</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.5"><span class="ltx_text" id="S6.T8.3.1.2.5.1" style="background-color:#EBEBEB;">NDCG@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.6"><span class="ltx_text" id="S6.T8.3.1.2.6.1" style="background-color:#EBEBEB;">Recall@1</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.7"><span class="ltx_text" id="S6.T8.3.1.2.7.1" style="background-color:#EBEBEB;">Recall@10</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.2.8"><span class="ltx_text" id="S6.T8.3.1.2.8.1" style="background-color:#EBEBEB;">MRR</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.3">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.3.1"><span class="ltx_text" id="S6.T8.3.1.3.1.1">Scientific</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.2">0.0%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.3"><span class="ltx_text" id="S6.T8.3.1.3.3.1">82.3%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.4"><span class="ltx_text" id="S6.T8.3.1.3.4.1">96.7%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.5">0.0771 / 0.0725 (-2.1%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.6">0.0525 / 0.0404 (+3.2%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.7">0.1054 / 0.1054 (-5.9%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.3.1.3.8">0.0693 / 0.0632 (-5.2%)</td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.4">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.1"><span class="ltx_text" id="S6.T8.3.1.4.1.1">Instruments</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.2"><span class="ltx_text" id="S6.T8.3.1.4.2.1">0.001%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.3"><span class="ltx_text" id="S6.T8.3.1.4.3.1">97.6%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.4"><span class="ltx_text" id="S6.T8.3.1.4.4.1">99.8%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.5">0.0905 / 0.0901 (-0.4%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.6">0.0717 / 0.0705 (-0.1%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.7">0.1151 / 0.1151 (-0.6%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.4.8">0.0836 / 0.0830 (-3.2%)</td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.5">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.1"><span class="ltx_text" id="S6.T8.3.1.5.1.1">Arts</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.2"><span class="ltx_text" id="S6.T8.3.1.5.2.1">0.01%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.3"><span class="ltx_text" id="S6.T8.3.1.5.3.1">92.5%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.4"><span class="ltx_text" id="S6.T8.3.1.5.4.1">98.9%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.5">0.0854 / 0.0844 (-1.1%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.6">0.0636 / 0.0611 (+0.1%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.7">0.1113 / 0.1113 (-2.3%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.5.8">0.0777 / 0.0764 (-4.6%)</td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.6">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.1"><span class="ltx_text" id="S6.T8.3.1.6.1.1">Office</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.2">0.0%</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.3"><span class="ltx_text" id="S6.T8.3.1.6.3.1">84.5%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.4"><span class="ltx_text" id="S6.T8.3.1.6.4.1">94.7%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.5">0.0926 / 0.0916 (-5.2%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.6">0.0736 / 0.0710 (-3.3%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.7">0.1127 / 0.1127 (-7.1%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.6.8">0.0864 / 0.0851 (-6.6%)</td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.7">
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.1"><span class="ltx_text" id="S6.T8.3.1.7.1.1">Games</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.2"><span class="ltx_text" id="S6.T8.3.1.7.2.1">0.05%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.3"><span class="ltx_text" id="S6.T8.3.1.7.3.1">98.0%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.4"><span class="ltx_text" id="S6.T8.3.1.7.4.1">99.0%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.5">0.0582 / 0.0573 (-2.1%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.6">0.0276 / 0.0257 (-6.8%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.7">0.0973 / 0.0972 (-1.3%)</td>
<td class="ltx_td ltx_align_center" id="S6.T8.3.1.7.8">0.0467 / 0.0456 (-8.4%)</td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.1.8">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.1"><span class="ltx_text" id="S6.T8.3.1.8.1.1">Pet</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.2"><span class="ltx_text" id="S6.T8.3.1.8.2.1">0.03%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.3"><span class="ltx_text" id="S6.T8.3.1.8.3.1">97.3%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.4"><span class="ltx_text" id="S6.T8.3.1.8.4.1">99.0%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.5">0.0733 / 0.0690 (-0.4%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.6">0.0573 / 0.0468 (+0.6%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.7">0.0924 / 0.0922 (-1.3%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.3.1.8.8">0.0677 / 0.0620 (-2.8%)</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8. </span>Hierarchical match results. The relative gains/drops in <math alttext="\frac{\text{({opt})}+\text{({pes})}}{2}" class="ltx_Math" display="inline" id="S6.T8.2.2.m1.1"><semantics id="S6.T8.2.2.m1.1b"><mfrac id="S6.T8.2.2.m1.1.1" xref="S6.T8.2.2.m1.1.1.cmml"><mrow id="S6.T8.2.2.m1.1.1.2" xref="S6.T8.2.2.m1.1.1.2.cmml"><mrow id="S6.T8.2.2.m1.1.1.2.2" xref="S6.T8.2.2.m1.1.1.2.2d.cmml"><mtext id="S6.T8.2.2.m1.1.1.2.2b" xref="S6.T8.2.2.m1.1.1.2.2d.cmml">(</mtext><mtext class="ltx_mathvariant_italic" id="S6.T8.2.2.m1.1.1.2.2c" xref="S6.T8.2.2.m1.1.1.2.2d.cmml">opt</mtext><mtext id="S6.T8.2.2.m1.1.1.2.2d" xref="S6.T8.2.2.m1.1.1.2.2d.cmml">)</mtext></mrow><mo id="S6.T8.2.2.m1.1.1.2.1" xref="S6.T8.2.2.m1.1.1.2.1.cmml">+</mo><mrow id="S6.T8.2.2.m1.1.1.2.3" xref="S6.T8.2.2.m1.1.1.2.3d.cmml"><mtext id="S6.T8.2.2.m1.1.1.2.3b" xref="S6.T8.2.2.m1.1.1.2.3d.cmml">(</mtext><mtext class="ltx_mathvariant_italic" id="S6.T8.2.2.m1.1.1.2.3c" xref="S6.T8.2.2.m1.1.1.2.3d.cmml">pes</mtext><mtext id="S6.T8.2.2.m1.1.1.2.3d" xref="S6.T8.2.2.m1.1.1.2.3d.cmml">)</mtext></mrow></mrow><mn id="S6.T8.2.2.m1.1.1.3" xref="S6.T8.2.2.m1.1.1.3.cmml">2</mn></mfrac><annotation-xml encoding="MathML-Content" id="S6.T8.2.2.m1.1c"><apply id="S6.T8.2.2.m1.1.1.cmml" xref="S6.T8.2.2.m1.1.1"><divide id="S6.T8.2.2.m1.1.1.1.cmml" xref="S6.T8.2.2.m1.1.1"></divide><apply id="S6.T8.2.2.m1.1.1.2.cmml" xref="S6.T8.2.2.m1.1.1.2"><plus id="S6.T8.2.2.m1.1.1.2.1.cmml" xref="S6.T8.2.2.m1.1.1.2.1"></plus><ci id="S6.T8.2.2.m1.1.1.2.2d.cmml" xref="S6.T8.2.2.m1.1.1.2.2"><mrow id="S6.T8.2.2.m1.1.1.2.2.cmml" xref="S6.T8.2.2.m1.1.1.2.2"><mtext id="S6.T8.2.2.m1.1.1.2.2a.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.2">(</mtext><mtext class="ltx_mathvariant_italic" id="S6.T8.2.2.m1.1.1.2.2b.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.2">opt</mtext><mtext id="S6.T8.2.2.m1.1.1.2.2c.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.2">)</mtext></mrow></ci><ci id="S6.T8.2.2.m1.1.1.2.3d.cmml" xref="S6.T8.2.2.m1.1.1.2.3"><mrow id="S6.T8.2.2.m1.1.1.2.3.cmml" xref="S6.T8.2.2.m1.1.1.2.3"><mtext id="S6.T8.2.2.m1.1.1.2.3a.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.3">(</mtext><mtext class="ltx_mathvariant_italic" id="S6.T8.2.2.m1.1.1.2.3b.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.3">pes</mtext><mtext id="S6.T8.2.2.m1.1.1.2.3c.cmml" mathsize="70%" xref="S6.T8.2.2.m1.1.1.2.3">)</mtext></mrow></ci></apply><cn id="S6.T8.2.2.m1.1.1.3.cmml" type="integer" xref="S6.T8.2.2.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T8.2.2.m1.1d">\frac{\text{({opt})}+\text{({pes})}}{2}</annotation><annotation encoding="application/x-llamapun" id="S6.T8.2.2.m1.1e">divide start_ARG ( italic_opt ) + ( italic_pes ) end_ARG start_ARG 2 end_ARG</annotation></semantics></math> are also reported against BM25 retrieval.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.2"><span class="ltx_text ltx_font_bold" id="S6.p1.2.1">Further Discussion on User Sequence Dedup.</span> Now, we further delve deeper into the issue of duplicate interactions in user sequences.
Although in real world users can make repeated activities, we still posit that the high ratio of consecutive identical interactions in the raw Amazon Review data are not likely to reflect normal/real user behavior (further details in Appendix/Auxiliary Materials). While we <span class="ltx_text ltx_font_italic" id="S6.p1.2.2">cannot conclude</span> that data deduplication is â€˜correctâ€™ or â€˜wrongâ€™, we reckon that the â€˜LIRâ€™ baseline results are meaningful and should be reported for model comparison purposes. We further run the LIR Baseline on <span class="ltx_text ltx_font_bold" id="S6.p1.2.3">1)</span> data fromÂ <cite class="ltx_cite ltx_citemacro_citet">Li etÂ al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib27" title="">2023c</a>)</cite> without dedup and compare with its results on <span class="ltx_text ltx_font_bold" id="S6.p1.2.4">2)</span> our data with dedup. Although the data statistics are slightly different,
the comparisons are still meaningful, since their data sizes are comparable and they are both representative of the full distribution. TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6.T7" title="Table 7 â€£ 6. Further Analyses and Discussion â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">7</span></a> shows the optimistic metrics of LIR Baseline that always recommends last item in the input sequence on data w/o dedup (left four columns) and data w/ dedup (right four columns). All metrics suffer sharp declines due to the dedup process. Specifically, Recall@1 drops <math alttext="60\%" class="ltx_Math" display="inline" id="S6.p1.1.m1.1"><semantics id="S6.p1.1.m1.1a"><mrow id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml"><mn id="S6.p1.1.m1.1.1.2" xref="S6.p1.1.m1.1.1.2.cmml">60</mn><mo id="S6.p1.1.m1.1.1.1" xref="S6.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b"><apply id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1"><csymbol cd="latexml" id="S6.p1.1.m1.1.1.1.cmml" xref="S6.p1.1.m1.1.1.1">percent</csymbol><cn id="S6.p1.1.m1.1.1.2.cmml" type="integer" xref="S6.p1.1.m1.1.1.2">60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">60\%</annotation><annotation encoding="application/x-llamapun" id="S6.p1.1.m1.1d">60 %</annotation></semantics></math>-<math alttext="95\%" class="ltx_Math" display="inline" id="S6.p1.2.m2.1"><semantics id="S6.p1.2.m2.1a"><mrow id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml"><mn id="S6.p1.2.m2.1.1.2" xref="S6.p1.2.m2.1.1.2.cmml">95</mn><mo id="S6.p1.2.m2.1.1.1" xref="S6.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.2.m2.1b"><apply id="S6.p1.2.m2.1.1.cmml" xref="S6.p1.2.m2.1.1"><csymbol cd="latexml" id="S6.p1.2.m2.1.1.1.cmml" xref="S6.p1.2.m2.1.1.1">percent</csymbol><cn id="S6.p1.2.m2.1.1.2.cmml" type="integer" xref="S6.p1.2.m2.1.1.2">95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.2.m2.1c">95\%</annotation><annotation encoding="application/x-llamapun" id="S6.p1.2.m2.1d">95 %</annotation></semantics></math> after removing consecutive identical events. This highlights the importance of user sequence interaction deduplication as a critical step for reliably measuring model quality.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p2">
<p class="ltx_p" id="S6.p2.1"><span class="ltx_text ltx_font_bold" id="S6.p2.1.1">Does CALRec Rely on BM25?</span>
One challenge of using generative LLMs, especially for general-purpose LLMs not tuned with task-specific data, for recommendation is that there is no guarantee that the predicted item exists in the item corpus. Therefore we use BM25, a fuzzy lexical matching algorithm, to rank the items in the item corpus. However, the fine-tuned CALRec models can quickly master the item template format and remember items seen during training, making direct text-entity based retrieval possible without relying on fuzzy text matching methods. This motivates a simple and faster alternative to BM25.
</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.3">First, we found that nearly all (<math alttext="&gt;99.9\%" class="ltx_Math" display="inline" id="S6.p3.1.m1.1"><semantics id="S6.p3.1.m1.1a"><mrow id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml"><mi id="S6.p3.1.m1.1.1.2" xref="S6.p3.1.m1.1.1.2.cmml"></mi><mo id="S6.p3.1.m1.1.1.1" xref="S6.p3.1.m1.1.1.1.cmml">&gt;</mo><mrow id="S6.p3.1.m1.1.1.3" xref="S6.p3.1.m1.1.1.3.cmml"><mn id="S6.p3.1.m1.1.1.3.2" xref="S6.p3.1.m1.1.1.3.2.cmml">99.9</mn><mo id="S6.p3.1.m1.1.1.3.1" xref="S6.p3.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.1.m1.1b"><apply id="S6.p3.1.m1.1.1.cmml" xref="S6.p3.1.m1.1.1"><gt id="S6.p3.1.m1.1.1.1.cmml" xref="S6.p3.1.m1.1.1.1"></gt><csymbol cd="latexml" id="S6.p3.1.m1.1.1.2.cmml" xref="S6.p3.1.m1.1.1.2">absent</csymbol><apply id="S6.p3.1.m1.1.1.3.cmml" xref="S6.p3.1.m1.1.1.3"><csymbol cd="latexml" id="S6.p3.1.m1.1.1.3.1.cmml" xref="S6.p3.1.m1.1.1.3.1">percent</csymbol><cn id="S6.p3.1.m1.1.1.3.2.cmml" type="float" xref="S6.p3.1.m1.1.1.3.2">99.9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.1.m1.1c">&gt;99.9\%</annotation><annotation encoding="application/x-llamapun" id="S6.p3.1.m1.1d">&gt; 99.9 %</annotation></semantics></math>) fine-tuned model outputs adhere to the desired item text format: â€œTitle: **. Category: **. Brand: **. Price: **.â€. We then extract the four attribute entities: title, category, brand, and price, and find that <math alttext="82\%-98\%" class="ltx_Math" display="inline" id="S6.p3.2.m2.1"><semantics id="S6.p3.2.m2.1a"><mrow id="S6.p3.2.m2.1.1" xref="S6.p3.2.m2.1.1.cmml"><mrow id="S6.p3.2.m2.1.1.2" xref="S6.p3.2.m2.1.1.2.cmml"><mn id="S6.p3.2.m2.1.1.2.2" xref="S6.p3.2.m2.1.1.2.2.cmml">82</mn><mo id="S6.p3.2.m2.1.1.2.1" xref="S6.p3.2.m2.1.1.2.1.cmml">%</mo></mrow><mo id="S6.p3.2.m2.1.1.1" xref="S6.p3.2.m2.1.1.1.cmml">âˆ’</mo><mrow id="S6.p3.2.m2.1.1.3" xref="S6.p3.2.m2.1.1.3.cmml"><mn id="S6.p3.2.m2.1.1.3.2" xref="S6.p3.2.m2.1.1.3.2.cmml">98</mn><mo id="S6.p3.2.m2.1.1.3.1" xref="S6.p3.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.2.m2.1b"><apply id="S6.p3.2.m2.1.1.cmml" xref="S6.p3.2.m2.1.1"><minus id="S6.p3.2.m2.1.1.1.cmml" xref="S6.p3.2.m2.1.1.1"></minus><apply id="S6.p3.2.m2.1.1.2.cmml" xref="S6.p3.2.m2.1.1.2"><csymbol cd="latexml" id="S6.p3.2.m2.1.1.2.1.cmml" xref="S6.p3.2.m2.1.1.2.1">percent</csymbol><cn id="S6.p3.2.m2.1.1.2.2.cmml" type="integer" xref="S6.p3.2.m2.1.1.2.2">82</cn></apply><apply id="S6.p3.2.m2.1.1.3.cmml" xref="S6.p3.2.m2.1.1.3"><csymbol cd="latexml" id="S6.p3.2.m2.1.1.3.1.cmml" xref="S6.p3.2.m2.1.1.3.1">percent</csymbol><cn id="S6.p3.2.m2.1.1.3.2.cmml" type="integer" xref="S6.p3.2.m2.1.1.3.2">98</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.2.m2.1c">82\%-98\%</annotation><annotation encoding="application/x-llamapun" id="S6.p3.2.m2.1d">82 % - 98 %</annotation></semantics></math> of model outputs correspond to an item in the item corpus that exactly matches all four attributes, and <math alttext="95\%-99.8\%" class="ltx_Math" display="inline" id="S6.p3.3.m3.1"><semantics id="S6.p3.3.m3.1a"><mrow id="S6.p3.3.m3.1.1" xref="S6.p3.3.m3.1.1.cmml"><mrow id="S6.p3.3.m3.1.1.2" xref="S6.p3.3.m3.1.1.2.cmml"><mn id="S6.p3.3.m3.1.1.2.2" xref="S6.p3.3.m3.1.1.2.2.cmml">95</mn><mo id="S6.p3.3.m3.1.1.2.1" xref="S6.p3.3.m3.1.1.2.1.cmml">%</mo></mrow><mo id="S6.p3.3.m3.1.1.1" xref="S6.p3.3.m3.1.1.1.cmml">âˆ’</mo><mrow id="S6.p3.3.m3.1.1.3" xref="S6.p3.3.m3.1.1.3.cmml"><mn id="S6.p3.3.m3.1.1.3.2" xref="S6.p3.3.m3.1.1.3.2.cmml">99.8</mn><mo id="S6.p3.3.m3.1.1.3.1" xref="S6.p3.3.m3.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.3.m3.1b"><apply id="S6.p3.3.m3.1.1.cmml" xref="S6.p3.3.m3.1.1"><minus id="S6.p3.3.m3.1.1.1.cmml" xref="S6.p3.3.m3.1.1.1"></minus><apply id="S6.p3.3.m3.1.1.2.cmml" xref="S6.p3.3.m3.1.1.2"><csymbol cd="latexml" id="S6.p3.3.m3.1.1.2.1.cmml" xref="S6.p3.3.m3.1.1.2.1">percent</csymbol><cn id="S6.p3.3.m3.1.1.2.2.cmml" type="integer" xref="S6.p3.3.m3.1.1.2.2">95</cn></apply><apply id="S6.p3.3.m3.1.1.3.cmml" xref="S6.p3.3.m3.1.1.3"><csymbol cd="latexml" id="S6.p3.3.m3.1.1.3.1.cmml" xref="S6.p3.3.m3.1.1.3.1">percent</csymbol><cn id="S6.p3.3.m3.1.1.3.2.cmml" type="float" xref="S6.p3.3.m3.1.1.3.2">99.8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.3.m3.1c">95\%-99.8\%</annotation><annotation encoding="application/x-llamapun" id="S6.p3.3.m3.1d">95 % - 99.8 %</annotation></semantics></math> of title entities extracted from the model outputs exist in the item corpus. These statistics are summarized in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6.T8" title="Table 8 â€£ 6. Further Analyses and Discussion â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">8</span></a>. Based on these findings, we propose a heuristic hierarchical matching method. We first search exact matches in the item corpus for all four attributes extracted from model outputs; If no match is found, we search for the exact match of the first three attributes, then the first two, and finally only the title description. Similar to our main experiments, both optimistic and pessimistic metrics are calculated, with results also presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6.T8" title="Table 8 â€£ 6. Further Analyses and Discussion â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">8</span></a>: we find that our hierarchical matching method has marginally worse performance compared to our BM25-based retrieval, yet it still outperforms other baselines models presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T2" title="Table 2 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p4">
<p class="ltx_p" id="S6.p4.1"><span class="ltx_text ltx_font_bold" id="S6.p4.1.1">Limitations and Future Work.</span>
Due to the fact that fine-tuned CALRec usually outputs exact item descriptions seen during training, a direct limitation ensues: CALRec barely cannot address the <span class="ltx_text ltx_font_italic" id="S6.p4.1.2">item cold-start</span> scenario where the ground-truth item is neither covered in the training set nor in the validation set. We leave addressing this limitation to future work. While previous approaches that also rely on matching LLM-generated item descriptions (e.g., titles) did not provide experimental results on item cold-start casesÂ <cite class="ltx_cite ltx_citemacro_citep">(Ji etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib21" title="">2024</a>; Li etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#bib.bib28" title="">2023d</a>)</cite>, we emphasize that our work is the first to identify this issue, which may also be present in these and similar approaches (yet to be verified). We regard this finding a minor contribution of our study.</p>
</div>
<div class="ltx_para" id="S6.p5">
<p class="ltx_p" id="S6.p5.1">Second, although CALRec outperforms other baselines in Recall@1, NDCG@10, and MRR@<math alttext="\infty" class="ltx_Math" display="inline" id="S6.p5.1.m1.1"><semantics id="S6.p5.1.m1.1a"><mi id="S6.p5.1.m1.1.1" mathvariant="normal" xref="S6.p5.1.m1.1.1.cmml">âˆ</mi><annotation-xml encoding="MathML-Content" id="S6.p5.1.m1.1b"><infinity id="S6.p5.1.m1.1.1.cmml" xref="S6.p5.1.m1.1.1"></infinity></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.1.m1.1c">\infty</annotation><annotation encoding="application/x-llamapun" id="S6.p5.1.m1.1d">âˆ</annotation></semantics></math> by large margin, its Recall@10 underperforms one of our ID+text baselines. We attribute this to the quasi-greedy nature of temperature sampling (especially when adopting a relatively small temperature value). Unlike embedding-based nearest neighbor search, our approach may not consistently produce the most optimal top-10 item predictions from the entire item corpus. Consequently, although CALRec excels in metrics that emphasize the relevance of the very top item prediction (like Recall@1 and MRR), there is a need for greater diversity in its top-10 item predictions.</p>
</div>
<div class="ltx_para" id="S6.p6">
<p class="ltx_p" id="S6.p6.1">Third, in real-world scenarios, when the size of item corpus is extremely large (e.g., billions of items), BM25 retrieval becomes prohibitively slow and often infeasible. In addition to the hierachical entity matching method discussed earlier in this section, we may leverage CALRec as a reranker within a retrieve-and-rerank framework where any baseline sequential recommendation approach can be used to first derive, for example, top 10K recommendations focused on high recall. Then CALRecâ€™s output texts are used to rerank these items. This retrieve-and-rerank paradigm can not only leverage the strengths of CALRec but also circumvents the need for BM25 retrieval on a massive corpus.</p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">We proposed CALRec, a contrastive-learning-assisted two-stage training framework for sequential recommendation based on LLMs, with experiments conducted using the PaLM-2 LLM as the backbone. Our approach also features careful template design inspired from few-shot learning and a novel quasi-round-robin BM25 retrieval approach. Comprehensive experiments on the Amazon Review dataset demonstrate the effectiveness of CALRec, supported by PaLM-2, where it significantly outperforms existing SotA models for sequential recommendation by a considerable margin in most evaluation metrics. We also presented a series of further analyses and revisited the issue of duplicate interactions in user sequences and existing evaluation metrics; we accordingly propose to adopt a training-free text-statistic based â€˜Last Item Repeaterâ€™ reference baseline for model comparison purposes, and we strongly suggest reporting both optimistic and pessimistic metric scores for all text-based approaches.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
We thank the following Google colleagues (in alphabetical order) for their technical advice and helpful discussions on this work: Aahil Mehta, Ao Liu, Boaz Cogan, Jianmo Ni, Minh Pham, Nicolas Aagnes, Wang-Cheng Kang, Xin Zhang, Yan Zhu. We also extend our gratitude to anonymous reviewers for their constructive feedback.

</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam etÂ al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven
Adler, Sandhini Agarwal, Lama Ahmad,
Ilge Akkaya, FlorenciaÂ Leoni Aleman,
Diogo Almeida, Janko Altenschmidt,
Sam Altman, Shyamal Anadkat,
etÂ al<span class="ltx_text" id="bib.bib2.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.4.1">arXiv preprint arXiv:2303.08774</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2303.08774" title="">https://doi.org/10.48550/arXiv.2303.08774</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil etÂ al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Rohan Anil, AndrewÂ M Dai,
Orhan Firat, Melvin Johnson,
Dmitry Lepikhin, Alexandre Passos,
Siamak Shakeri, Emanuel Taropa,
Paige Bailey, Zhifeng Chen,
etÂ al<span class="ltx_text" id="bib.bib3.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Palm 2 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.4.1">arXiv preprint arXiv:2305.10403</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2305.10403" title="">https://doi.org/10.48550/arXiv.2305.10403</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arnab etÂ al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Anurag Arnab, Mostafa
Dehghani, Georg Heigold, Chen Sun,
Mario LuÄiÄ‡, and Cordelia Schmid.
2021.

</span>
<span class="ltx_bibblock">ViViT: A Video Vision Transformer. In
<em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">2021 IEEE/CVF International Conference on Computer
Vision (ICCV)</em>. 6816â€“6826.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1109/ICCV48922.2021.00676" title="">https://doi.org/10.1109/ICCV48922.2021.00676</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao etÂ al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang,
Yang Zhang, Wenjie Wang,
Fuli Feng, and Xiangnan He.
2023.

</span>
<span class="ltx_bibblock">TALLRec: An Effective and Efficient Tuning
Framework to Align Large Language Model with Recommendation. In
<em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the 17th ACM Conference on
Recommender Systems</em> (Singapore, Singapore) <em class="ltx_emph ltx_font_italic" id="bib.bib5.4.2">(RecSys
â€™23)</em>. Association for Computing Machinery,
New York, NY, USA, 1007â€“1014.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3604915.3608857" title="">https://doi.org/10.1145/3604915.3608857</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beltagy etÂ al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Iz Beltagy, MatthewÂ E
Peters, and Arman Cohan.
2020.

</span>
<span class="ltx_bibblock">Longformer: The long-document transformer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:2004.05150</em>
(2020).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2004.05150" title="">https://doi.org/10.48550/arXiv.2004.05150</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bradbury etÂ al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
James Bradbury, Roy
Frostig, Peter Hawkins, MatthewÂ James
Johnson, Chris Leary, Dougal Maclaurin,
George Necula, Adam Paszke,
Jake VanderPlas, Skye
Wanderman-Milne, and Qiao Zhang.
2018.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">JAX: composable transformations of
Python+NumPy programs</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="http://github.com/google/jax" title="">http://github.com/google/jax</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown etÂ al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann,
Nick Ryder, Melanie Subbiah,
JaredÂ D Kaplan, Prafulla Dhariwal,
Arvind Neelakantan, Pranav Shyam,
Girish Sastry, Amanda Askell,
etÂ al<span class="ltx_text" id="bib.bib8.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">Advances in neural information processing
systems</em> 33 (2020),
1877â€“1901.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf" title="">https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Ting Chen, Simon
Kornblith, Mohammad Norouzi, and
Geoffrey Hinton. 2020.

</span>
<span class="ltx_bibblock">A Simple Framework for Contrastive Learning of
Visual Representations. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Proceedings of the 37th
International Conference on Machine Learning</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib9.4.2">(Proceedings of Machine Learning Research,
Vol.Â 119)</em>, HalÂ DaumÃ©
III and Aarti Singh (Eds.). PMLR,
1597â€“1607.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.mlr.press/v119/chen20j.html" title="">https://proceedings.mlr.press/v119/chen20j.html</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhery etÂ al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Aakanksha Chowdhery,
Sharan Narang, Jacob Devlin,
Maarten Bosma, Gaurav Mishra,
Adam Roberts, Paul Barham,
HyungÂ Won Chung, Charles Sutton,
Sebastian Gehrmann, etÂ al<span class="ltx_text" id="bib.bib10.3.1">.</span>
2023.

</span>
<span class="ltx_bibblock">Palm: Scaling language modeling with pathways.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.4.1">Journal of Machine Learning Research</em>
24, 240 (2023),
1â€“113.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="http://jmlr.org/papers/v24/22-1144.html" title="">http://jmlr.org/papers/v24/22-1144.html</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin etÂ al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei
Chang, Kenton Lee, and Kristina
Toutanova. 2019.

</span>
<span class="ltx_bibblock">BERT: Pre-training of Deep Bidirectional
Transformers for Language Understanding. In
<em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the 2019 Conference of the North
American Chapter of the Association for Computational Linguistics: Human
Language Technologies, Volume 1 (Long and Short Papers)</em>,
Jill Burstein, Christy
Doran, and Thamar Solorio (Eds.).
Association for Computational Linguistics,
Minneapolis, Minnesota, 4171â€“4186.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/N19-1423" title="">https://doi.org/10.18653/v1/N19-1423</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dosovitskiy etÂ al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Alexey Dosovitskiy, Lucas
Beyer, Alexander Kolesnikov, Dirk
Weissenborn, Xiaohua Zhai, Thomas
Unterthiner, Mostafa Dehghani, Matthias
Minderer, Georg Heigold, Sylvain Gelly,
Jakob Uszkoreit, and Neil Houlsby.
2021.

</span>
<span class="ltx_bibblock">An Image is Worth 16x16 Words: Transformers for
Image Recognition at Scale. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">9th International
Conference on Learning Representations, ICLR 2021, Virtual Event, Austria,
May 3-7, 2021</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=YicbFdNTTy" title="">https://openreview.net/forum?id=YicbFdNTTy</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan etÂ al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Angela Fan, Mike Lewis,
and Yann Dauphin. 2018.

</span>
<span class="ltx_bibblock">Hierarchical Neural Story Generation. In
<em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the 56th Annual Meeting of the
Association for Computational Linguistics (Volume 1: Long Papers)</em>,
Iryna Gurevych and
Yusuke Miyao (Eds.). Association for
Computational Linguistics, Melbourne, Australia,
889â€“898.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/P18-1082" title="">https://doi.org/10.18653/v1/P18-1082</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Tianyu Gao, Xingcheng
Yao, and Danqi Chen. 2021.

</span>
<span class="ltx_bibblock">SimCSE: Simple Contrastive Learning of Sentence
Embeddings. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">Proceedings of the 2021 Conference
on Empirical Methods in Natural Language Processing</em>,
Marie-Francine Moens,
Xuanjing Huang, Lucia Specia, and
Scott Wen-tau Yih (Eds.). Association
for Computational Linguistics, Online and Punta Cana,
Dominican Republic, 6894â€“6910.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2021.emnlp-main.552" title="">https://doi.org/10.18653/v1/2021.emnlp-main.552</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng etÂ al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang
Liu, Zuohui Fu, Yingqiang Ge, and
Yongfeng Zhang. 2022.

</span>
<span class="ltx_bibblock">Recommendation as Language Processing (RLP): A
Unified Pretrain, Personalized Prompt &amp; Predict Paradigm (P5). In
<em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of the 16th ACM Conference on
Recommender Systems</em> <em class="ltx_emph ltx_font_italic" id="bib.bib15.4.2">(RecSys â€™22)</em>.
Association for Computing Machinery,
New York, NY, USA, 299â€“315.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3523227.3546767" title="">https://doi.org/10.1145/3523227.3546767</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goldberg etÂ al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (1992)</span>
<span class="ltx_bibblock">
David Goldberg, David
Nichols, BrianÂ M. Oki, and Douglas
Terry. 1992.

</span>
<span class="ltx_bibblock">Using collaborative filtering to weave an
information tapestry.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Commun. ACM</em> 35,
12 (dec 1992),
61â€“70.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/138859.138867" title="">https://doi.org/10.1145/138859.138867</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi etÂ al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
BalÃ¡zs Hidasi,
Alexandros Karatzoglou, Linas Baltrunas,
and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based Recommendations with Recurrent Neural
Networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">4th International Conference on
Learning Representations, ICLR 2016, San Juan, Puerto Rico, May 2-4, 2016,
Conference Track Proceedings</em>, Yoshua
Bengio and Yann LeCun (Eds.).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="http://arxiv.org/abs/1511.06939" title="">http://arxiv.org/abs/1511.06939</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yupeng Hou, Zhankui He,
Julian McAuley, and WayneÂ Xin Zhao.
2023.

</span>
<span class="ltx_bibblock">Learning Vector-Quantized Item Representation for
Transferable Sequential Recommenders. In
<em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the ACM Web Conference 2023</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib18.4.2">(WWW â€™23)</em>. Association for
Computing Machinery, New York, NY, USA,
1162â€“1171.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3543507.3583434" title="">https://doi.org/10.1145/3543507.3583434</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yupeng Hou, Shanlei Mu,
WayneÂ Xin Zhao, Yaliang Li,
Bolin Ding, and Ji-Rong Wen.
2022.

</span>
<span class="ltx_bibblock">Towards Universal Sequence Representation Learning
for Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">Proceedings of the
28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>
(Washington DC, USA) <em class="ltx_emph ltx_font_italic" id="bib.bib19.4.2">(KDD â€™22)</em>.
Association for Computing Machinery,
New York, NY, USA, 585â€“593.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3534678.3539381" title="">https://doi.org/10.1145/3534678.3539381</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yupeng Hou, Junjie Zhang,
Zihan Lin, Hongyu Lu,
Ruobing Xie, Julian McAuley, and
WayneÂ Xin Zhao. 2024.

</span>
<span class="ltx_bibblock">Large Language Models are Zero-Shot Rankers for
Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">Advances in Information
Retrieval: 46th European Conference on Information Retrieval, ECIR 2024,
Glasgow, UK, March 24â€“28, 2024, Proceedings, Part II</em> (Glasgow, United
Kingdom). Springer-Verlag, Berlin,
Heidelberg, 364â€“381.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1007/978-3-031-56060-6_24" title="">https://doi.org/10.1007/978-3-031-56060-6_24</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji etÂ al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jianchao Ji, Zelong Li,
Shuyuan Xu, Wenyue Hua,
Yingqiang Ge, Juntao Tan, and
Yongfeng Zhang. 2024.

</span>
<span class="ltx_bibblock">GenRec: Large Language Model for Generative
Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">Advances in Information
Retrieval: 46th European Conference on Information Retrieval, ECIR 2024,
Glasgow, UK, March 24â€“28, 2024, Proceedings, Part III</em> (Glasgow, United
Kingdom). Springer-Verlag, Berlin,
Heidelberg, 494â€“502.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1007/978-3-031-56063-7_42" title="">https://doi.org/10.1007/978-3-031-56063-7_42</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jouppi etÂ al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Norm Jouppi, George
Kurian, Sheng Li, Peter Ma,
Rahul Nagarajan, Lifeng Nai,
Nishant Patil, Suvinay Subramanian,
Andy Swing, Brian Towles,
etÂ al<span class="ltx_text" id="bib.bib22.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Tpu v4: An optically reconfigurable supercomputer
for machine learning with hardware support for embeddings. In
<em class="ltx_emph ltx_font_italic" id="bib.bib22.4.1">Proceedings of the 50th Annual International
Symposium on Computer Architecture</em>. 1â€“14.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3579371.3589350" title="">https://doi.org/10.1145/3579371.3589350</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and
Julian McAuley. 2018.

</span>
<span class="ltx_bibblock">Self-Attentive Sequential Recommendation. In
<em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">2018 IEEE International Conference on Data Mining
(ICDM)</em>. 197â€“206.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1109/ICDM.2018.00035" title="">https://doi.org/10.1109/ICDM.2018.00035</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang etÂ al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang, Jianmo
Ni, Nikhil Mehta, Maheswaran
Sathiamoorthy, Lichan Hong, Ed Chi,
and DerekÂ Zhiyuan Cheng.
2023.

</span>
<span class="ltx_bibblock">Do llms understand user preferences? evaluating
llms on user rating prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">arXiv preprint arXiv:2305.06474</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2305.06474" title="">https://doi.org/10.48550/arXiv.2305.06474</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirkpatrick etÂ al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
James Kirkpatrick, Razvan
Pascanu, Neil Rabinowitz, Joel Veness,
Guillaume Desjardins, AndreiÂ A Rusu,
Kieran Milan, John Quan,
Tiago Ramalho, Agnieszka
Grabska-Barwinska, etÂ al<span class="ltx_text" id="bib.bib25.3.1">.</span> 2017.

</span>
<span class="ltx_bibblock">Overcoming catastrophic forgetting in neural
networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.4.1">Proceedings of the national academy of
sciences</em> 114, 13
(2017), 3521â€“3526.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1073/pnas.1611835114" title="">https://doi.org/10.1073/pnas.1611835114</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koren etÂ al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Yehuda Koren, Robert
Bell, and Chris Volinsky.
2009.

</span>
<span class="ltx_bibblock">Matrix Factorization Techniques for Recommender
Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Computer</em> 42,
8 (2009), 30â€“37.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1109/MC.2009.263" title="">https://doi.org/10.1109/MC.2009.263</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Jiacheng Li, Ming Wang,
Jin Li, Jinmiao Fu, Xin
Shen, Jingbo Shang, and Julian
McAuley. 2023c.

</span>
<span class="ltx_bibblock">Text Is All You Need: Learning Language
Representations for Sequential Recommendation. In
<em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Proceedings of the 29th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining</em>. Association for
Computing Machinery, New York, NY, USA,
1258â€“1267.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3580305.3599519" title="">https://doi.org/10.1145/3580305.3599519</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023d)</span>
<span class="ltx_bibblock">
Jinming Li, Wentao Zhang,
Tian Wang, Guanglei Xiong,
Alan Lu, and Gerard Medioni.
2023d.

</span>
<span class="ltx_bibblock">GPT4Rec: A generative framework for personalized
recommendation and user interests interpretation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2304.03879</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2304.03879" title="">https://doi.org/10.48550/arXiv.2304.03879</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Yaoyiran Li, Ching-Yun
Chang, Stephen Rawls, Ivan VuliÄ‡,
and Anna Korhonen. 2023a.

</span>
<span class="ltx_bibblock">Translation-Enhanced Multilingual Text-to-Image
Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of the 61st Annual
Meeting of the Association for Computational Linguistics (Volume 1: Long
Papers)</em>, Anna Rogers,
Jordan Boyd-Graber, and Naoaki Okazaki
(Eds.). Association for Computational Linguistics,
Toronto, Canada, 9174â€“9193.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2023.acl-long.510" title="">https://doi.org/10.18653/v1/2023.acl-long.510</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Yaoyiran Li, Anna
Korhonen, and Ivan VuliÄ‡.
2023b.

</span>
<span class="ltx_bibblock">On Bilingual Lexicon Induction with Large Language
Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">Proceedings of the 2023 Conference on
Empirical Methods in Natural Language Processing</em>,
Houda Bouamor, Juan
Pino, and Kalika Bali (Eds.).
Association for Computational Linguistics,
Singapore, 9577â€“9599.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2023.emnlp-main.595" title="">https://doi.org/10.18653/v1/2023.emnlp-main.595</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yaoyiran Li, Anna
Korhonen, and Ivan VuliÄ‡.
2024.

</span>
<span class="ltx_bibblock">Self-Augmented In-Context Learning for Unsupervised
Word Translation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">arXiv preprint arXiv:2402.10024</em>
(2024).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2402.10024" title="">https://doi.org/10.48550/arXiv.2402.10024</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yaoyiran Li, Fangyu Liu,
Nigel Collier, Anna Korhonen, and
Ivan VuliÄ‡. 2022.

</span>
<span class="ltx_bibblock">Improving Word Translation via Two-Stage
Contrastive Learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Proceedings of the 60th
Annual Meeting of the Association for Computational Linguistics (Volume 1:
Long Papers)</em>, Smaranda Muresan,
Preslav Nakov, and Aline Villavicencio
(Eds.). Association for Computational Linguistics,
Dublin, Ireland, 4353â€“4374.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2022.acl-long.299" title="">https://doi.org/10.18653/v1/2022.acl-long.299</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin etÂ al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jianghao Lin, Xinyi Dai,
Yunjia Xi, Weiwen Liu,
Bo Chen, Xiangyang Li,
Chenxu Zhu, Huifeng Guo,
Yong Yu, Ruiming Tang, etÂ al<span class="ltx_text" id="bib.bib33.3.1">.</span>
2023.

</span>
<span class="ltx_bibblock">How can recommender systems benefit from large
language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.4.1">arXiv preprint arXiv:2306.05817</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2306.05817" title="">https://doi.org/10.48550/arXiv.2306.05817</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu etÂ al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Junling Liu, Chao
Liu, Peilin Zhou, Renjie Lv,
Kang Zhou, and Yan Zhang.
2023.

</span>
<span class="ltx_bibblock">Is ChatGPT a Good Recommender? A Preliminary
Study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">arXiv preprint arXiv:2304.10149</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2304.10149" title="">https://doi.org/10.48550/arXiv.2304.10149</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mitchell etÂ al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Eric Mitchell, Charles
Lin, Antoine Bosselut, Chelsea Finn,
and ChristopherÂ D Manning.
2022.

</span>
<span class="ltx_bibblock">Fast Model Editing at Scale. In
<em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">International Conference on Learning
Representations</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/pdf?id=0DcZxeWfOPt" title="">https://openreview.net/pdf?id=0DcZxeWfOPt</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni etÂ al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jianmo Ni, Jiacheng Li,
and Julian McAuley. 2019.

</span>
<span class="ltx_bibblock">Justifying Recommendations using Distantly-Labeled
Reviews and Fine-Grained Aspects. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">Proceedings
of the 2019 Conference on Empirical Methods in Natural Language Processing
and the 9th International Joint Conference on Natural Language Processing
(EMNLP-IJCNLP)</em>, Kentaro Inui,
Jing Jiang, Vincent Ng, and
Xiaojun Wan (Eds.). Association for
Computational Linguistics, Hong Kong, China,
188â€“197.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/D19-1018" title="">https://doi.org/10.18653/v1/D19-1018</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oord etÂ al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Aaron vanÂ den Oord, Yazhe
Li, and Oriol Vinyals. 2018.

</span>
<span class="ltx_bibblock">Representation learning with contrastive predictive
coding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">arXiv preprint arXiv:1807.03748</em>
(2018).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.1807.03748" title="">https://doi.org/10.48550/arXiv.1807.03748</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel etÂ al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam
Shazeer, Adam Roberts, Katherine Lee,
Sharan Narang, Michael Matena,
Yanqi Zhou, Wei Li, and
PeterÂ J. Liu. 2020.

</span>
<span class="ltx_bibblock">Exploring the limits of transfer learning with a
unified text-to-text transformer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">J. Mach. Learn. Res.</em> 21,
1, Article 140 (jan
2020), 67Â pages.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="http://jmlr.org/papers/v21/20-074.html" title="">http://jmlr.org/papers/v21/20-074.html</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajput etÂ al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shashank Rajput, Nikhil
Mehta, Anima Singh, RaghunandanÂ Hulikal
Keshavan, Trung Vu, Lukasz Heldt,
Lichan Hong, Yi Tay,
VinhÂ Q. Tran, Jonah Samost,
Maciej Kula, EdÂ H. Chi, and
Maheswaran Sathiamoorthy. 2023.

</span>
<span class="ltx_bibblock">Recommender Systems with Generative Retrieval. In
<em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">Thirty-seventh Conference on Neural Information
Processing Systems</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=BJ0fQUU32w" title="">https://openreview.net/forum?id=BJ0fQUU32w</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramesh etÂ al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Aditya Ramesh, Prafulla
Dhariwal, Alex Nichol, Casey Chu, and
Mark Chen. 2022.

</span>
<span class="ltx_bibblock">Hierarchical text-conditional image generation with
clip latents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">arXiv preprint arXiv:2204.06125</em>
(2022).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2204.06125" title="">https://doi.org/10.48550/arXiv.2204.06125</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson etÂ al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Stephen Robertson, Hugo
Zaragoza, etÂ al<span class="ltx_text" id="bib.bib41.3.1">.</span> 2009.

</span>
<span class="ltx_bibblock">The probabilistic relevance framework: BM25 and
beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.4.1">Foundations and TrendsÂ® in
Information Retrieval</em> 3, 4
(2009), 333â€“389.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1561/1500000019" title="">https://doi.org/10.1561/1500000019</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ross and Willson (2017)</span>
<span class="ltx_bibblock">
Amanda Ross and
VictorÂ L. Willson. 2017.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Paired Samples T-Test</em>.

</span>
<span class="ltx_bibblock">SensePublishers, Rotterdam,
17â€“19.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1007/978-94-6351-086-8_4" title="">https://doi.org/10.1007/978-94-6351-086-8_4</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sarwar etÂ al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2001)</span>
<span class="ltx_bibblock">
Badrul Sarwar, George
Karypis, Joseph Konstan, and John
Riedl. 2001.

</span>
<span class="ltx_bibblock">Item-based collaborative filtering recommendation
algorithms. In <em class="ltx_emph ltx_font_italic" id="bib.bib43.3.1">Proceedings of the 10th
International Conference on World Wide Web</em> (Hong Kong, Hong Kong)
<em class="ltx_emph ltx_font_italic" id="bib.bib43.4.2">(WWW â€™01)</em>. Association for
Computing Machinery, New York, NY, USA,
285â€“295.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/371920.372071" title="">https://doi.org/10.1145/371920.372071</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi etÂ al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
Yue Shi, Martha Larson,
and Alan Hanjalic. 2014.

</span>
<span class="ltx_bibblock">Collaborative Filtering beyond the User-Item
Matrix: A Survey of the State of the Art and Future Challenges.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">ACM Comput. Surv.</em> 47,
1, Article 3 (may
2014), 45Â pages.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/2556270" title="">https://doi.org/10.1145/2556270</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh etÂ al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Anima Singh, Trung
Vu, Raghunandan Keshavan, Nikhil
Mehta, Xinyang Yi, Lichan Hong,
Lukasz Heldt, Li Wei,
Ed Chi, and Maheswaran
Sathiamoorthy. 2023.

</span>
<span class="ltx_bibblock">Better Generalization with Semantic IDs: A case
study in Ranking for Recommendations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.3.1">arXiv preprint arXiv:2306.08121</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2306.08121" title="">https://doi.org/10.48550/arXiv.2306.08121</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun etÂ al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Fei Sun, Jun Liu,
Jian Wu, Changhua Pei,
Xiao Lin, Wenwu Ou, and
Peng Jiang. 2019.

</span>
<span class="ltx_bibblock">BERT4Rec: Sequential Recommendation with
Bidirectional Encoder Representations from Transformer. In
<em class="ltx_emph ltx_font_italic" id="bib.bib46.3.1">Proceedings of the 28th ACM International
Conference on Information and Knowledge Management</em> (Beijing, China)
<em class="ltx_emph ltx_font_italic" id="bib.bib46.4.2">(CIKM â€™19)</em>. Association for
Computing Machinery, New York, NY, USA,
1441â€“1450.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3357384.3357895" title="">https://doi.org/10.1145/3357384.3357895</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tay etÂ al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yi Tay, Mostafa Dehghani,
VinhÂ Q. Tran, Xavier Garcia,
Jason Wei, Xuezhi Wang,
HyungÂ Won Chung, Dara Bahri,
Tal Schuster, Steven Zheng,
Denny Zhou, Neil Houlsby, and
Donald Metzler. 2023.

</span>
<span class="ltx_bibblock">UL2: Unifying Language Learning Paradigms. In
<em class="ltx_emph ltx_font_italic" id="bib.bib47.3.1">The Eleventh International Conference on Learning
Representations</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=6ruVLB727MC" title="">https://openreview.net/forum?id=6ruVLB727MC</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team etÂ al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Gemini Team, Rohan Anil,
Sebastian Borgeaud, Yonghui Wu,
Jean-Baptiste Alayrac, Jiahui Yu,
Radu Soricut, Johan Schalkwyk,
AndrewÂ M Dai, Anja Hauth,
etÂ al<span class="ltx_text" id="bib.bib48.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Gemini: a family of highly capable multimodal
models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.4.1">arXiv preprint arXiv:2312.11805</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2312.11805" title="">https://doi.org/10.48550/arXiv.2312.11805</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron etÂ al<span class="ltx_text" id="bib.bib49.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut
Lavril, Gautier Izacard, Xavier
Martinet, Marie-Anne Lachaux,
TimothÃ©e Lacroix, Baptiste
RoziÃ¨re, Naman Goyal, Eric
Hambro, Faisal Azhar, Aurelien
Rodriguez, Armand Joulin, Edouard
Grave, and Guillaume Lample.
2023.

</span>
<span class="ltx_bibblock">LLaMA: Open and Efficient Foundation Language
Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.3.1">arXiv preprint arXiv:2302.13971</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2302.13971" title="">https://doi.org/10.48550/arXiv.2302.13971</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani etÂ al<span class="ltx_text" id="bib.bib50.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam
Shazeer, Niki Parmar, Jakob Uszkoreit,
Llion Jones, AidanÂ N Gomez,
ÅÂ ukasz Kaiser, and Illia Polosukhin.
2017.

</span>
<span class="ltx_bibblock">Attention is All you Need. In
<em class="ltx_emph ltx_font_italic" id="bib.bib50.3.1">Advances in Neural Information Processing
Systems</em>, I.Â Guyon,
U.Â Von Luxburg, S.Â Bengio,
H.Â Wallach, R.Â Fergus,
S.Â Vishwanathan, and R.Â Garnett
(Eds.), Vol.Â 30. Curran Associates,
Inc.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf" title="">https://proceedings.neurips.cc/paper_files/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang and Lim (2023)</span>
<span class="ltx_bibblock">
Lei Wang and Ee-Peng
Lim. 2023.

</span>
<span class="ltx_bibblock">Zero-Shot Next-Item Recommendation using Large
Pretrained Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">arXiv preprint arXiv:2304.03153</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2304.03153" title="">https://doi.org/10.48550/arXiv.2304.03153</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Whitehouse etÂ al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Chenxi Whitehouse,
Fantine Huot, Jasmijn Bastings,
Mostafa Dehghani, Chu-Cheng Lin,
and Mirella Lapata. 2023.

</span>
<span class="ltx_bibblock">Low-Rank Adaptation for Multilingual
Summarization: An Empirical Study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">arXiv preprint arXiv:2311.08572</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2311.08572" title="">https://doi.org/10.48550/arXiv.2311.08572</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu etÂ al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Likang Wu, Zhi Zheng,
Zhaopeng Qiu, Hao Wang,
Hongchao Gu, Tingjia Shen,
Chuan Qin, Chen Zhu,
Hengshu Zhu, Qi Liu, etÂ al<span class="ltx_text" id="bib.bib53.3.1">.</span>
2023.

</span>
<span class="ltx_bibblock">A survey on large language models for
recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.4.1">arXiv preprint arXiv:2305.19860</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2305.19860" title="">https://doi.org/10.48550/arXiv.2305.19860</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xue etÂ al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Linting Xue, Noah
Constant, Adam Roberts, Mihir Kale,
Rami Al-Rfou, Aditya Siddhant,
Aditya Barua, and Colin Raffel.
2021.

</span>
<span class="ltx_bibblock">mT5: A Massively Multilingual Pre-trained
Text-to-Text Transformer. In <em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">Proceedings of the
2021 Conference of the North American Chapter of the Association for
Computational Linguistics: Human Language Technologies</em>,
Kristina Toutanova, Anna
Rumshisky, Luke Zettlemoyer, Dilek
Hakkani-Tur, IzÂ Beltagy, Steven Bethard,
Ryan Cotterell, Tanmoy Chakraborty, and
Yichao Zhou (Eds.). Association for
Computational Linguistics, Online,
483â€“498.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2021.naacl-main.41" title="">https://doi.org/10.18653/v1/2021.naacl-main.41</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yan etÂ al<span class="ltx_text" id="bib.bib55.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
An Yan, Shuo Cheng,
Wang-Cheng Kang, Mengting Wan, and
Julian McAuley. 2019.

</span>
<span class="ltx_bibblock">CosRec: 2D Convolutional Neural Networks for
Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib55.3.1">Proceedings of the
28th ACM International Conference on Information and Knowledge Management</em>.
ACM, 2173â€“2176.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3357384.3358113" title="">https://doi.org/10.1145/3357384.3358113</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu etÂ al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jiahui Yu, Xin Li,
JingÂ Yu Koh, Han Zhang,
Ruoming Pang, James Qin,
Alexander Ku, Yuanzhong Xu,
Jason Baldridge, and Yonghui Wu.
2021.

</span>
<span class="ltx_bibblock">Vector-quantized image modeling with improved
vqgan.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">arXiv preprint arXiv:2110.04627</em>
(2021).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2110.04627" title="">https://doi.org/10.48550/arXiv.2110.04627</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib57.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Junjie Zhang, Ruobing
Xie, Yupeng Hou, WayneÂ Xin Zhao,
Leyu Lin, and Ji-Rong Wen.
2023.

</span>
<span class="ltx_bibblock">Recommendation as instruction following: A large
language model empowered recommendation approach.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.3.1">arXiv preprint arXiv:2305.07001</em>
(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/arXiv.2305.07001" title="">https://doi.org/10.48550/arXiv.2305.07001</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Tingting Zhang, Pengpeng
Zhao, Yanchi Liu, VictorÂ S. Sheng,
Jiajie Xu, Deqing Wang,
Guanfeng Liu, and Xiaofang Zhou.
2019.

</span>
<span class="ltx_bibblock">Feature-level Deeper Self-Attention Network for
Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">Proceedings of the
Twenty-Eighth International Joint Conference on Artificial Intelligence,
IJCAI-19</em>. International Joint Conferences on
Artificial Intelligence Organization, 4320â€“4326.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.24963/ijcai.2019/600" title="">https://doi.org/10.24963/ijcai.2019/600</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao etÂ al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
WayneÂ Xin Zhao, Shanlei
Mu, Yupeng Hou, Zihan Lin,
Yushuo Chen, Xingyu Pan,
Kaiyuan Li, Yujie Lu,
Hui Wang, Changxin Tian, etÂ al<span class="ltx_text" id="bib.bib59.3.1">.</span>
2021.

</span>
<span class="ltx_bibblock">Recbole: Towards a unified, comprehensive and
efficient framework for recommendation algorithms. In
<em class="ltx_emph ltx_font_italic" id="bib.bib59.4.1">proceedings of the 30th acm international
conference on information &amp; knowledge management</em>.
4653â€“4664.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3459637.3482016" title="">https://doi.org/10.1145/3459637.3482016</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou etÂ al<span class="ltx_text" id="bib.bib60.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Kun Zhou, Hui Wang,
WayneÂ Xin Zhao, Yutao Zhu,
Sirui Wang, Fuzheng Zhang,
Zhongyuan Wang, and Ji-Rong Wen.
2020.

</span>
<span class="ltx_bibblock">S3-Rec: Self-Supervised Learning for Sequential
Recommendation with Mutual Information Maximization. In
<em class="ltx_emph ltx_font_italic" id="bib.bib60.3.1">Proceedings of the 29th ACM International
Conference on Information &amp; Knowledge Management</em> (Virtual Event, Ireland)
<em class="ltx_emph ltx_font_italic" id="bib.bib60.4.2">(CIKM â€™20)</em>. Association for
Computing Machinery, New York, NY, USA,
1893â€“1902.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3340531.3411954" title="">https://doi.org/10.1145/3340531.3411954</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu etÂ al<span class="ltx_text" id="bib.bib61.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yaochen Zhu, Liang Wu,
Qi Guo, Liangjie Hong, and
Jundong Li. 2024.

</span>
<span class="ltx_bibblock">Collaborative Large Language Model for Recommender
Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib61.3.1">Proceedings of the ACM on Web
Conference 2024</em> (Singapore, Singapore) <em class="ltx_emph ltx_font_italic" id="bib.bib61.4.2">(WWW â€™24)</em>.
Association for Computing Machinery,
New York, NY, USA, 3162â€“3172.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3589334.3645347" title="">https://doi.org/10.1145/3589334.3645347</a>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Examples of Data Duplication</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.2">As discussed in Â§<a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4" title="4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>, the raw Amazon Review data contain repeated, non-distinguishable user-item interactions that share identical entity values across all attributes, including item id, user id, timestamp, item metadata, user rating, user review text, etc. An example in the â€˜Scientificâ€™ category is as follows:</p>
<div class="ltx_listing ltx_lst_language_json ltx_lstlisting ltx_listing" id="A1.p1.3">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ewogICJ1aWQiOiAiQTNTRlNGSlpGSTBPUU4iLAogICJhc2luIjogWyJCMDAwMDJOQzNLIiwgIkIwMDAxTVNDODQiLCAiQjAwMDFNU0M4NCIsICJCMDAwMU1TQzg0IiwgIkIwMDAxTVNDODQiXSwKICAib3ZlcmFsbCI6IFszLCAzLCAzLCAzLCAzXSwKICAicmV2aWV3VGV4dCI6IFsKICAgICJXYXJwZWQgd2hlbiBleHBvc2VkIHRvIHRoZSBzdW4uIiwKICAgICJXYXJwZWQgd2hlbiBleHBvc2VkIHRvIHRoZSBzdW4uIiwKICAgICJXYXJwZWQgd2hlbiBleHBvc2VkIHRvIHRoZSBzdW4uIiwKICAgICJXYXJwZWQgd2hlbiBleHBvc2VkIHRvIHRoZSBzdW4uIiwKICAgICJXYXJwZWQgd2hlbiBleHBvc2VkIHRvIHRoZSBzdW4uIiwKICBdLAogICJ1bml4UmV2aWV3VGltZSI6IFsxNTA4NTQ0MDAwLCAxNTA4NTQ0MDAwLCAgMTUwODU0NDAwMCwgIDE1MDg1NDQwMDAsIDE1MDg1NDQwMDBdLAogICJ0aXRsZSI6IFsKICAgICJSdWJiZXJtYWlkIENvbW1lcmNpYWwgUHJvZHVjdHMgRkcyNjMxMDBHUkFZIFJ1YmJlcm1haWQgQ29tbWVyY2lhbCBSb3VuZCBCcnV0ZSBDb250YWluZXIgTGlkLCBHcmF5LCAzMkciLAogICAgIlJ1YmJlcm1haWQgQ29tbWVyY2lhbCBCUlVURSBIZWF2eS1EdXR5IFJvdW5kIFdhc3RlL1V0aWxpdHkgQ29udGFpbmVyIHdpdGggVmVudGluZyBDaGFubmVscywgMjAtZ2FsbG9uLCBHcmF5IChGRzI2MjAwMEdSQVkpIiwKICAgICJSdWJiZXJtYWlkIENvbW1lcmNpYWwgQlJVVEUgSGVhdnktRHV0eSBSb3VuZCBXYXN0ZS9VdGlsaXR5IENvbnRhaW5lciB3aXRoIFZlbnRpbmcgQ2hhbm5lbHMsIDIwLWdhbGxvbiwgR3JheSAoRkcyNjIwMDBHUkFZKSIsCiAgICAiUnViYmVybWFpZCBDb21tZXJjaWFsIEJSVVRFIEhlYXZ5LUR1dHkgUm91bmQgV2FzdGUvVXRpbGl0eSBDb250YWluZXIgd2l0aCBWZW50aW5nIENoYW5uZWxzLCAyMC1nYWxsb24sIEdyYXkgKEZHMjYyMDAwR1JBWSkiLAogICAgIlJ1YmJlcm1haWQgQ29tbWVyY2lhbCBCUlVURSBIZWF2eS1EdXR5IFJvdW5kIFdhc3RlL1V0aWxpdHkgQ29udGFpbmVyIHdpdGggVmVudGluZyBDaGFubmVscywgMjAtZ2FsbG9uLCBHcmF5IChGRzI2MjAwMEdSQVkpIiwKICBdLAp9">â¬‡</a></div>
<div class="ltx_listingline" id="lstnumberx1">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx1.1" style="font-size:70%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.3" style="font-size:70%;">uid</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.6" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.7" style="font-size:70%;">A3SFSFJZFI0OQN</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.8" style="font-size:70%;">",</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.3" style="font-size:70%;">asin</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.6" style="font-size:70%;">["</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.7" style="font-size:70%;">B00002NC3K</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.8" style="font-size:70%;">",</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.9" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.10" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.11" style="font-size:70%;">B0001MSC84</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.12" style="font-size:70%;">",</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.13" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.14" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.15" style="font-size:70%;">B0001MSC84</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.16" style="font-size:70%;">",</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.17" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.18" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.19" style="font-size:70%;">B0001MSC84</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.20" style="font-size:70%;">",</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.21" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.22" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.23" style="font-size:70%;">B0001MSC84</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.24" style="font-size:70%;">"],</span>
</div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.3" style="font-size:70%;">overall</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.6" style="font-size:70%;">[3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.7" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.8" style="font-size:70%;">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.9" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.10" style="font-size:70%;">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.11" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.12" style="font-size:70%;">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.13" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.14" style="font-size:70%;">3],</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.3" style="font-size:70%;">reviewText</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.6" style="font-size:70%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.3" style="font-size:70%;">Warped</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.5" style="font-size:70%;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.7" style="font-size:70%;">exposed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.9" style="font-size:70%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.11" style="font-size:70%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.13" style="font-size:70%;">sun</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.14" style="font-size:70%;">.",</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.3" style="font-size:70%;">Warped</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.5" style="font-size:70%;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.7" style="font-size:70%;">exposed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.9" style="font-size:70%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.11" style="font-size:70%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.13" style="font-size:70%;">sun</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.14" style="font-size:70%;">.",</span>
</div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.3" style="font-size:70%;">Warped</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.5" style="font-size:70%;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.7" style="font-size:70%;">exposed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.9" style="font-size:70%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.11" style="font-size:70%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.13" style="font-size:70%;">sun</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.14" style="font-size:70%;">.",</span>
</div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.3" style="font-size:70%;">Warped</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.5" style="font-size:70%;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.7" style="font-size:70%;">exposed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.9" style="font-size:70%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.11" style="font-size:70%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.13" style="font-size:70%;">sun</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.14" style="font-size:70%;">.",</span>
</div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.3" style="font-size:70%;">Warped</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.5" style="font-size:70%;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.7" style="font-size:70%;">exposed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.9" style="font-size:70%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.11" style="font-size:70%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.13" style="font-size:70%;">sun</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.14" style="font-size:70%;">.",</span>
</div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.2" style="font-size:70%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.3" style="font-size:70%;">unixReviewTime</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.6" style="font-size:70%;">[1508544000,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.7" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.8" style="font-size:70%;">1508544000,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.9" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.10" style="font-size:70%;">1508544000,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.11" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.12" style="font-size:70%;">1508544000,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.13" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.14" style="font-size:70%;">1508544000],</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.3" style="font-size:70%;">title</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.4" style="font-size:70%;">":</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.6" style="font-size:70%;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.3" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.5" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.7" style="font-size:70%;">Products</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.9" style="font-size:70%;">FG263100GRAY</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.11" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.13" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.14" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.15" style="font-size:70%;">Round</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.16" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.17" style="font-size:70%;">Brute</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.19" style="font-size:70%;">Container</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.21" style="font-size:70%;">Lid</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.22" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.23" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.24" style="font-size:70%;">Gray</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.25" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.26" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.27" style="font-size:70%;">32</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.28" style="font-size:70%;">G</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.29" style="font-size:70%;">",</span>
</div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.3" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.5" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.7" style="font-size:70%;">BRUTE</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.9" style="font-size:70%;">Heavy</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.10" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.11" style="font-size:70%;">Duty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.13" style="font-size:70%;">Round</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.14" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.15" style="font-size:70%;">Waste</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.16" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.17" style="font-size:70%;">Utility</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.19" style="font-size:70%;">Container</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.21" style="font-size:70%;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.22" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.23" style="font-size:70%;">Venting</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.24" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.25" style="font-size:70%;">Channels</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.26" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.27" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.28" style="font-size:70%;">20-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.29" style="font-size:70%;">gallon</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.30" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.31" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.32" style="font-size:70%;">Gray</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.33" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.34" style="font-size:70%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.35" style="font-size:70%;">FG262000GRAY</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.36" style="font-size:70%;">)",</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.3" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.5" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.7" style="font-size:70%;">BRUTE</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.9" style="font-size:70%;">Heavy</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.10" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.11" style="font-size:70%;">Duty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.13" style="font-size:70%;">Round</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.14" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.15" style="font-size:70%;">Waste</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.16" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.17" style="font-size:70%;">Utility</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.19" style="font-size:70%;">Container</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.21" style="font-size:70%;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.22" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.23" style="font-size:70%;">Venting</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.24" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.25" style="font-size:70%;">Channels</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.26" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.27" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.28" style="font-size:70%;">20-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.29" style="font-size:70%;">gallon</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.30" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.31" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.32" style="font-size:70%;">Gray</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.33" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.34" style="font-size:70%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.35" style="font-size:70%;">FG262000GRAY</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.36" style="font-size:70%;">)",</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.3" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.5" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.7" style="font-size:70%;">BRUTE</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.9" style="font-size:70%;">Heavy</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.10" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.11" style="font-size:70%;">Duty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.13" style="font-size:70%;">Round</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.14" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.15" style="font-size:70%;">Waste</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.16" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.17" style="font-size:70%;">Utility</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.19" style="font-size:70%;">Container</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.21" style="font-size:70%;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.22" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.23" style="font-size:70%;">Venting</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.24" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.25" style="font-size:70%;">Channels</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.26" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.27" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.28" style="font-size:70%;">20-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.29" style="font-size:70%;">gallon</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.30" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.31" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.32" style="font-size:70%;">Gray</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.33" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.34" style="font-size:70%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.35" style="font-size:70%;">FG262000GRAY</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.36" style="font-size:70%;">)",</span>
</div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.2" style="font-size:70%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.3" style="font-size:70%;">Rubbermaid</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.5" style="font-size:70%;">Commercial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.7" style="font-size:70%;">BRUTE</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.9" style="font-size:70%;">Heavy</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.10" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.11" style="font-size:70%;">Duty</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.13" style="font-size:70%;">Round</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.14" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.15" style="font-size:70%;">Waste</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.16" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.17" style="font-size:70%;">Utility</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.19" style="font-size:70%;">Container</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.21" style="font-size:70%;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.22" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.23" style="font-size:70%;">Venting</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.24" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.25" style="font-size:70%;">Channels</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.26" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.27" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.28" style="font-size:70%;">20-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.29" style="font-size:70%;">gallon</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.30" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.31" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.32" style="font-size:70%;">Gray</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.33" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.34" style="font-size:70%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.35" style="font-size:70%;">FG262000GRAY</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.36" style="font-size:70%;">)",</span>
</div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.2" style="font-size:70%;">],</span>
</div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx20.1" style="font-size:70%;">}</span>
</div>
</div>
<p class="ltx_p" id="A1.p1.1">In the example provided, all <math alttext="5" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><mn id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><cn id="A1.p1.1.m1.1.1.cmml" type="integer" xref="A1.p1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">5</annotation></semantics></math> user-item interactions, except the initial one, are identical. This behavior generally deviates from normal user activities and may potentially confuse or mislead models into recommending repetitive items. Although duplicate events make up only a small percentage of the dataset (TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S4.T1" title="Table 1 â€£ 4. Experimental Setup â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>), our analysis via the LIR baseline on raw and deduplicated data (TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S6.T7" title="Table 7 â€£ 6. Further Analyses and Discussion â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">7</span></a>) shows that those duplicates can significantly affect model behavior by offering an overly simplistic pattern to learn from.</p>
</div>
<figure class="ltx_figure" id="A1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="303" id="A1.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Text generation cross-entropy loss (<math alttext="\mathcal{L}_{NIG}" class="ltx_Math" display="inline" id="A1.F2.3.m1.1"><semantics id="A1.F2.3.m1.1b"><msub id="A1.F2.3.m1.1.1" xref="A1.F2.3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.F2.3.m1.1.1.2" xref="A1.F2.3.m1.1.1.2.cmml">â„’</mi><mrow id="A1.F2.3.m1.1.1.3" xref="A1.F2.3.m1.1.1.3.cmml"><mi id="A1.F2.3.m1.1.1.3.2" xref="A1.F2.3.m1.1.1.3.2.cmml">N</mi><mo id="A1.F2.3.m1.1.1.3.1" xref="A1.F2.3.m1.1.1.3.1.cmml">â¢</mo><mi id="A1.F2.3.m1.1.1.3.3" xref="A1.F2.3.m1.1.1.3.3.cmml">I</mi><mo id="A1.F2.3.m1.1.1.3.1b" xref="A1.F2.3.m1.1.1.3.1.cmml">â¢</mo><mi id="A1.F2.3.m1.1.1.3.4" xref="A1.F2.3.m1.1.1.3.4.cmml">G</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.F2.3.m1.1c"><apply id="A1.F2.3.m1.1.1.cmml" xref="A1.F2.3.m1.1.1"><csymbol cd="ambiguous" id="A1.F2.3.m1.1.1.1.cmml" xref="A1.F2.3.m1.1.1">subscript</csymbol><ci id="A1.F2.3.m1.1.1.2.cmml" xref="A1.F2.3.m1.1.1.2">â„’</ci><apply id="A1.F2.3.m1.1.1.3.cmml" xref="A1.F2.3.m1.1.1.3"><times id="A1.F2.3.m1.1.1.3.1.cmml" xref="A1.F2.3.m1.1.1.3.1"></times><ci id="A1.F2.3.m1.1.1.3.2.cmml" xref="A1.F2.3.m1.1.1.3.2">ğ‘</ci><ci id="A1.F2.3.m1.1.1.3.3.cmml" xref="A1.F2.3.m1.1.1.3.3">ğ¼</ci><ci id="A1.F2.3.m1.1.1.3.4.cmml" xref="A1.F2.3.m1.1.1.3.4">ğº</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.F2.3.m1.1d">\mathcal{L}_{NIG}</annotation><annotation encoding="application/x-llamapun" id="A1.F2.3.m1.1e">caligraphic_L start_POSTSUBSCRIPT italic_N italic_I italic_G end_POSTSUBSCRIPT</annotation></semantics></math>, left panel) and prediction-target contrastive loss (<math alttext="\mathcal{L}_{TT}" class="ltx_Math" display="inline" id="A1.F2.4.m2.1"><semantics id="A1.F2.4.m2.1b"><msub id="A1.F2.4.m2.1.1" xref="A1.F2.4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.F2.4.m2.1.1.2" xref="A1.F2.4.m2.1.1.2.cmml">â„’</mi><mrow id="A1.F2.4.m2.1.1.3" xref="A1.F2.4.m2.1.1.3.cmml"><mi id="A1.F2.4.m2.1.1.3.2" xref="A1.F2.4.m2.1.1.3.2.cmml">T</mi><mo id="A1.F2.4.m2.1.1.3.1" xref="A1.F2.4.m2.1.1.3.1.cmml">â¢</mo><mi id="A1.F2.4.m2.1.1.3.3" xref="A1.F2.4.m2.1.1.3.3.cmml">T</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.F2.4.m2.1c"><apply id="A1.F2.4.m2.1.1.cmml" xref="A1.F2.4.m2.1.1"><csymbol cd="ambiguous" id="A1.F2.4.m2.1.1.1.cmml" xref="A1.F2.4.m2.1.1">subscript</csymbol><ci id="A1.F2.4.m2.1.1.2.cmml" xref="A1.F2.4.m2.1.1.2">â„’</ci><apply id="A1.F2.4.m2.1.1.3.cmml" xref="A1.F2.4.m2.1.1.3"><times id="A1.F2.4.m2.1.1.3.1.cmml" xref="A1.F2.4.m2.1.1.3.1"></times><ci id="A1.F2.4.m2.1.1.3.2.cmml" xref="A1.F2.4.m2.1.1.3.2">ğ‘‡</ci><ci id="A1.F2.4.m2.1.1.3.3.cmml" xref="A1.F2.4.m2.1.1.3.3">ğ‘‡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.F2.4.m2.1d">\mathcal{L}_{TT}</annotation><annotation encoding="application/x-llamapun" id="A1.F2.4.m2.1e">caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT</annotation></semantics></math>, right panel) during Scientific-category-specific fine-tuning without multi-category joint fine-tuning. In both
panels, the training curves (red-dotted) without contrastive alignment are also plotted for
comparison.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Discussion on Contrastive Alignment</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.16">Fig.Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#A1.F2" title="Figure 2 â€£ Appendix A Examples of Data Duplication â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> shows the loss profiles during category-specific fine-tuning on the Scientific category without Stage I multi-category joint fine-tuning. The left panel shows that overfitting happens in text generation task after circa <math alttext="100" class="ltx_Math" display="inline" id="A2.p1.1.m1.1"><semantics id="A2.p1.1.m1.1a"><mn id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><cn id="A2.p1.1.m1.1.1.cmml" type="integer" xref="A2.p1.1.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">100</annotation><annotation encoding="application/x-llamapun" id="A2.p1.1.m1.1d">100</annotation></semantics></math> epochs. The right panel shows that train, evaluation and test contrastive loss between prediction and target drops quickly from <math alttext="6.2" class="ltx_Math" display="inline" id="A2.p1.2.m2.1"><semantics id="A2.p1.2.m2.1a"><mn id="A2.p1.2.m2.1.1" xref="A2.p1.2.m2.1.1.cmml">6.2</mn><annotation-xml encoding="MathML-Content" id="A2.p1.2.m2.1b"><cn id="A2.p1.2.m2.1.1.cmml" type="float" xref="A2.p1.2.m2.1.1">6.2</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.2.m2.1c">6.2</annotation><annotation encoding="application/x-llamapun" id="A2.p1.2.m2.1d">6.2</annotation></semantics></math> to <math alttext="4.4" class="ltx_Math" display="inline" id="A2.p1.3.m3.1"><semantics id="A2.p1.3.m3.1a"><mn id="A2.p1.3.m3.1.1" xref="A2.p1.3.m3.1.1.cmml">4.4</mn><annotation-xml encoding="MathML-Content" id="A2.p1.3.m3.1b"><cn id="A2.p1.3.m3.1.1.cmml" type="float" xref="A2.p1.3.m3.1.1">4.4</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.3.m3.1c">4.4</annotation><annotation encoding="application/x-llamapun" id="A2.p1.3.m3.1d">4.4</annotation></semantics></math> and remains relatively stable. At batch size <math alttext="512" class="ltx_Math" display="inline" id="A2.p1.4.m4.1"><semantics id="A2.p1.4.m4.1a"><mn id="A2.p1.4.m4.1.1" xref="A2.p1.4.m4.1.1.cmml">512</mn><annotation-xml encoding="MathML-Content" id="A2.p1.4.m4.1b"><cn id="A2.p1.4.m4.1.1.cmml" type="integer" xref="A2.p1.4.m4.1.1">512</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.4.m4.1c">512</annotation><annotation encoding="application/x-llamapun" id="A2.p1.4.m4.1d">512</annotation></semantics></math>, the initial <math alttext="\mathcal{L}_{TT}\approx 6.2" class="ltx_Math" display="inline" id="A2.p1.5.m5.1"><semantics id="A2.p1.5.m5.1a"><mrow id="A2.p1.5.m5.1.1" xref="A2.p1.5.m5.1.1.cmml"><msub id="A2.p1.5.m5.1.1.2" xref="A2.p1.5.m5.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.p1.5.m5.1.1.2.2" xref="A2.p1.5.m5.1.1.2.2.cmml">â„’</mi><mrow id="A2.p1.5.m5.1.1.2.3" xref="A2.p1.5.m5.1.1.2.3.cmml"><mi id="A2.p1.5.m5.1.1.2.3.2" xref="A2.p1.5.m5.1.1.2.3.2.cmml">T</mi><mo id="A2.p1.5.m5.1.1.2.3.1" xref="A2.p1.5.m5.1.1.2.3.1.cmml">â¢</mo><mi id="A2.p1.5.m5.1.1.2.3.3" xref="A2.p1.5.m5.1.1.2.3.3.cmml">T</mi></mrow></msub><mo id="A2.p1.5.m5.1.1.1" xref="A2.p1.5.m5.1.1.1.cmml">â‰ˆ</mo><mn id="A2.p1.5.m5.1.1.3" xref="A2.p1.5.m5.1.1.3.cmml">6.2</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.5.m5.1b"><apply id="A2.p1.5.m5.1.1.cmml" xref="A2.p1.5.m5.1.1"><approx id="A2.p1.5.m5.1.1.1.cmml" xref="A2.p1.5.m5.1.1.1"></approx><apply id="A2.p1.5.m5.1.1.2.cmml" xref="A2.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="A2.p1.5.m5.1.1.2.1.cmml" xref="A2.p1.5.m5.1.1.2">subscript</csymbol><ci id="A2.p1.5.m5.1.1.2.2.cmml" xref="A2.p1.5.m5.1.1.2.2">â„’</ci><apply id="A2.p1.5.m5.1.1.2.3.cmml" xref="A2.p1.5.m5.1.1.2.3"><times id="A2.p1.5.m5.1.1.2.3.1.cmml" xref="A2.p1.5.m5.1.1.2.3.1"></times><ci id="A2.p1.5.m5.1.1.2.3.2.cmml" xref="A2.p1.5.m5.1.1.2.3.2">ğ‘‡</ci><ci id="A2.p1.5.m5.1.1.2.3.3.cmml" xref="A2.p1.5.m5.1.1.2.3.3">ğ‘‡</ci></apply></apply><cn id="A2.p1.5.m5.1.1.3.cmml" type="float" xref="A2.p1.5.m5.1.1.3">6.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.5.m5.1c">\mathcal{L}_{TT}\approx 6.2</annotation><annotation encoding="application/x-llamapun" id="A2.p1.5.m5.1d">caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT â‰ˆ 6.2</annotation></semantics></math> means the average ratio between <math alttext="\exp(\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})/\tau_{c})" class="ltx_Math" display="inline" id="A2.p1.6.m6.3"><semantics id="A2.p1.6.m6.3a"><mrow id="A2.p1.6.m6.3.3.1" xref="A2.p1.6.m6.3.3.2.cmml"><mi id="A2.p1.6.m6.2.2" xref="A2.p1.6.m6.2.2.cmml">exp</mi><mo id="A2.p1.6.m6.3.3.1a" xref="A2.p1.6.m6.3.3.2.cmml">â¡</mo><mrow id="A2.p1.6.m6.3.3.1.1" xref="A2.p1.6.m6.3.3.2.cmml"><mo id="A2.p1.6.m6.3.3.1.1.2" stretchy="false" xref="A2.p1.6.m6.3.3.2.cmml">(</mo><mrow id="A2.p1.6.m6.3.3.1.1.1" xref="A2.p1.6.m6.3.3.1.1.1.cmml"><mrow id="A2.p1.6.m6.3.3.1.1.1.2.2" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml"><mi id="A2.p1.6.m6.1.1" xref="A2.p1.6.m6.1.1.cmml">cos</mi><mo id="A2.p1.6.m6.3.3.1.1.1.2.2a" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml">â¡</mo><mrow id="A2.p1.6.m6.3.3.1.1.1.2.2.2" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml"><mo id="A2.p1.6.m6.3.3.1.1.1.2.2.2.3" stretchy="false" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml">(</mo><msubsup id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.cmml"><mi id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.2" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.3" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.2" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.1" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.3" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.6.m6.3.3.1.1.1.2.2.2.4" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml">,</mo><msubsup id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.cmml"><mi id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.2" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.3" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.3" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.6.m6.3.3.1.1.1.2.2.2.5" stretchy="false" xref="A2.p1.6.m6.3.3.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A2.p1.6.m6.3.3.1.1.1.3" xref="A2.p1.6.m6.3.3.1.1.1.3.cmml">/</mo><msub id="A2.p1.6.m6.3.3.1.1.1.4" xref="A2.p1.6.m6.3.3.1.1.1.4.cmml"><mi id="A2.p1.6.m6.3.3.1.1.1.4.2" xref="A2.p1.6.m6.3.3.1.1.1.4.2.cmml">Ï„</mi><mi id="A2.p1.6.m6.3.3.1.1.1.4.3" xref="A2.p1.6.m6.3.3.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="A2.p1.6.m6.3.3.1.1.3" stretchy="false" xref="A2.p1.6.m6.3.3.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.6.m6.3b"><apply id="A2.p1.6.m6.3.3.2.cmml" xref="A2.p1.6.m6.3.3.1"><exp id="A2.p1.6.m6.2.2.cmml" xref="A2.p1.6.m6.2.2"></exp><apply id="A2.p1.6.m6.3.3.1.1.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1"><divide id="A2.p1.6.m6.3.3.1.1.1.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.3"></divide><apply id="A2.p1.6.m6.3.3.1.1.1.2.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2"><cos id="A2.p1.6.m6.1.1.cmml" xref="A2.p1.6.m6.1.1"></cos><apply id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1">superscript</csymbol><apply id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.3">ğ‘–</ci></apply><apply id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2">superscript</csymbol><apply id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2">subscript</csymbol><ci id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.2.2.2.2.3">ğ‘‡</ci></apply></apply><apply id="A2.p1.6.m6.3.3.1.1.1.4.cmml" xref="A2.p1.6.m6.3.3.1.1.1.4"><csymbol cd="ambiguous" id="A2.p1.6.m6.3.3.1.1.1.4.1.cmml" xref="A2.p1.6.m6.3.3.1.1.1.4">subscript</csymbol><ci id="A2.p1.6.m6.3.3.1.1.1.4.2.cmml" xref="A2.p1.6.m6.3.3.1.1.1.4.2">ğœ</ci><ci id="A2.p1.6.m6.3.3.1.1.1.4.3.cmml" xref="A2.p1.6.m6.3.3.1.1.1.4.3">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.6.m6.3c">\exp(\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})/\tau_{c})</annotation><annotation encoding="application/x-llamapun" id="A2.p1.6.m6.3d">roman_exp ( roman_cos ( bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="\exp(\cos(\mathbf{v}_{j}^{T|U},\mathbf{v}_{i}^{T})/\tau_{c}),i\neq j" class="ltx_Math" display="inline" id="A2.p1.7.m7.4"><semantics id="A2.p1.7.m7.4a"><mrow id="A2.p1.7.m7.4.4" xref="A2.p1.7.m7.4.4.cmml"><mrow id="A2.p1.7.m7.4.4.1.1" xref="A2.p1.7.m7.4.4.1.2.cmml"><mrow id="A2.p1.7.m7.4.4.1.1.1.1" xref="A2.p1.7.m7.4.4.1.1.1.2.cmml"><mi id="A2.p1.7.m7.2.2" xref="A2.p1.7.m7.2.2.cmml">exp</mi><mo id="A2.p1.7.m7.4.4.1.1.1.1a" xref="A2.p1.7.m7.4.4.1.1.1.2.cmml">â¡</mo><mrow id="A2.p1.7.m7.4.4.1.1.1.1.1" xref="A2.p1.7.m7.4.4.1.1.1.2.cmml"><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.2" stretchy="false" xref="A2.p1.7.m7.4.4.1.1.1.2.cmml">(</mo><mrow id="A2.p1.7.m7.4.4.1.1.1.1.1.1" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.cmml"><mrow id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml"><mi id="A2.p1.7.m7.1.1" xref="A2.p1.7.m7.1.1.cmml">cos</mi><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2a" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml">â¡</mo><mrow id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml"><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.3" stretchy="false" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml">(</mo><msubsup id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.3.cmml">j</mi><mrow id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.1" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.4" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml">,</mo><msubsup id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.cmml"><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.5" stretchy="false" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.1.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.3.cmml">/</mo><msub id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.cmml"><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.2" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.2.cmml">Ï„</mi><mi id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.3" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.3.cmml">c</mi></msub></mrow><mo id="A2.p1.7.m7.4.4.1.1.1.1.1.3" stretchy="false" xref="A2.p1.7.m7.4.4.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A2.p1.7.m7.4.4.1.1.2" xref="A2.p1.7.m7.4.4.1.2.cmml">,</mo><mi id="A2.p1.7.m7.3.3" xref="A2.p1.7.m7.3.3.cmml">i</mi></mrow><mo id="A2.p1.7.m7.4.4.2" xref="A2.p1.7.m7.4.4.2.cmml">â‰ </mo><mi id="A2.p1.7.m7.4.4.3" xref="A2.p1.7.m7.4.4.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.7.m7.4b"><apply id="A2.p1.7.m7.4.4.cmml" xref="A2.p1.7.m7.4.4"><neq id="A2.p1.7.m7.4.4.2.cmml" xref="A2.p1.7.m7.4.4.2"></neq><list id="A2.p1.7.m7.4.4.1.2.cmml" xref="A2.p1.7.m7.4.4.1.1"><apply id="A2.p1.7.m7.4.4.1.1.1.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1"><exp id="A2.p1.7.m7.2.2.cmml" xref="A2.p1.7.m7.2.2"></exp><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1"><divide id="A2.p1.7.m7.4.4.1.1.1.1.1.1.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.3"></divide><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2"><cos id="A2.p1.7.m7.1.1.cmml" xref="A2.p1.7.m7.1.1"></cos><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘—</ci></apply><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2">superscript</csymbol><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.2.2.2.2.3">ğ‘‡</ci></apply></apply><apply id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.1.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4">subscript</csymbol><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.2.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.2">ğœ</ci><ci id="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.3.cmml" xref="A2.p1.7.m7.4.4.1.1.1.1.1.1.4.3">ğ‘</ci></apply></apply></apply><ci id="A2.p1.7.m7.3.3.cmml" xref="A2.p1.7.m7.3.3">ğ‘–</ci></list><ci id="A2.p1.7.m7.4.4.3.cmml" xref="A2.p1.7.m7.4.4.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.7.m7.4c">\exp(\cos(\mathbf{v}_{j}^{T|U},\mathbf{v}_{i}^{T})/\tau_{c}),i\neq j</annotation><annotation encoding="application/x-llamapun" id="A2.p1.7.m7.4d">roman_exp ( roman_cos ( bold_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) / italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) , italic_i â‰  italic_j</annotation></semantics></math> is about <math alttext="512\times\exp(-6.2)=1.04" class="ltx_Math" display="inline" id="A2.p1.8.m8.2"><semantics id="A2.p1.8.m8.2a"><mrow id="A2.p1.8.m8.2.2" xref="A2.p1.8.m8.2.2.cmml"><mrow id="A2.p1.8.m8.2.2.1" xref="A2.p1.8.m8.2.2.1.cmml"><mn id="A2.p1.8.m8.2.2.1.3" xref="A2.p1.8.m8.2.2.1.3.cmml">512</mn><mo id="A2.p1.8.m8.2.2.1.2" lspace="0.222em" rspace="0.222em" xref="A2.p1.8.m8.2.2.1.2.cmml">Ã—</mo><mrow id="A2.p1.8.m8.2.2.1.1.1" xref="A2.p1.8.m8.2.2.1.1.2.cmml"><mi id="A2.p1.8.m8.1.1" xref="A2.p1.8.m8.1.1.cmml">exp</mi><mo id="A2.p1.8.m8.2.2.1.1.1a" xref="A2.p1.8.m8.2.2.1.1.2.cmml">â¡</mo><mrow id="A2.p1.8.m8.2.2.1.1.1.1" xref="A2.p1.8.m8.2.2.1.1.2.cmml"><mo id="A2.p1.8.m8.2.2.1.1.1.1.2" stretchy="false" xref="A2.p1.8.m8.2.2.1.1.2.cmml">(</mo><mrow id="A2.p1.8.m8.2.2.1.1.1.1.1" xref="A2.p1.8.m8.2.2.1.1.1.1.1.cmml"><mo id="A2.p1.8.m8.2.2.1.1.1.1.1a" xref="A2.p1.8.m8.2.2.1.1.1.1.1.cmml">âˆ’</mo><mn id="A2.p1.8.m8.2.2.1.1.1.1.1.2" xref="A2.p1.8.m8.2.2.1.1.1.1.1.2.cmml">6.2</mn></mrow><mo id="A2.p1.8.m8.2.2.1.1.1.1.3" stretchy="false" xref="A2.p1.8.m8.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="A2.p1.8.m8.2.2.2" xref="A2.p1.8.m8.2.2.2.cmml">=</mo><mn id="A2.p1.8.m8.2.2.3" xref="A2.p1.8.m8.2.2.3.cmml">1.04</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.8.m8.2b"><apply id="A2.p1.8.m8.2.2.cmml" xref="A2.p1.8.m8.2.2"><eq id="A2.p1.8.m8.2.2.2.cmml" xref="A2.p1.8.m8.2.2.2"></eq><apply id="A2.p1.8.m8.2.2.1.cmml" xref="A2.p1.8.m8.2.2.1"><times id="A2.p1.8.m8.2.2.1.2.cmml" xref="A2.p1.8.m8.2.2.1.2"></times><cn id="A2.p1.8.m8.2.2.1.3.cmml" type="integer" xref="A2.p1.8.m8.2.2.1.3">512</cn><apply id="A2.p1.8.m8.2.2.1.1.2.cmml" xref="A2.p1.8.m8.2.2.1.1.1"><exp id="A2.p1.8.m8.1.1.cmml" xref="A2.p1.8.m8.1.1"></exp><apply id="A2.p1.8.m8.2.2.1.1.1.1.1.cmml" xref="A2.p1.8.m8.2.2.1.1.1.1.1"><minus id="A2.p1.8.m8.2.2.1.1.1.1.1.1.cmml" xref="A2.p1.8.m8.2.2.1.1.1.1.1"></minus><cn id="A2.p1.8.m8.2.2.1.1.1.1.1.2.cmml" type="float" xref="A2.p1.8.m8.2.2.1.1.1.1.1.2">6.2</cn></apply></apply></apply><cn id="A2.p1.8.m8.2.2.3.cmml" type="float" xref="A2.p1.8.m8.2.2.3">1.04</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.8.m8.2c">512\times\exp(-6.2)=1.04</annotation><annotation encoding="application/x-llamapun" id="A2.p1.8.m8.2d">512 Ã— roman_exp ( - 6.2 ) = 1.04</annotation></semantics></math> at the beginning of the training process. Thus <math alttext="\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})-\cos(\mathbf{v}_{j}^{T|U},%
\mathbf{v}_{i}^{T})=\ln(1.04)\tau_{c}\approx 0.02\ll 1" class="ltx_Math" display="inline" id="A2.p1.9.m9.8"><semantics id="A2.p1.9.m9.8a"><mrow id="A2.p1.9.m9.8.8" xref="A2.p1.9.m9.8.8.cmml"><mrow id="A2.p1.9.m9.8.8.4" xref="A2.p1.9.m9.8.8.4.cmml"><mrow id="A2.p1.9.m9.6.6.2.2.2" xref="A2.p1.9.m9.6.6.2.2.3.cmml"><mi id="A2.p1.9.m9.1.1" xref="A2.p1.9.m9.1.1.cmml">cos</mi><mo id="A2.p1.9.m9.6.6.2.2.2a" xref="A2.p1.9.m9.6.6.2.2.3.cmml">â¡</mo><mrow id="A2.p1.9.m9.6.6.2.2.2.2" xref="A2.p1.9.m9.6.6.2.2.3.cmml"><mo id="A2.p1.9.m9.6.6.2.2.2.2.3" stretchy="false" xref="A2.p1.9.m9.6.6.2.2.3.cmml">(</mo><msubsup id="A2.p1.9.m9.5.5.1.1.1.1.1" xref="A2.p1.9.m9.5.5.1.1.1.1.1.cmml"><mi id="A2.p1.9.m9.5.5.1.1.1.1.1.2.2" xref="A2.p1.9.m9.5.5.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.9.m9.5.5.1.1.1.1.1.2.3" xref="A2.p1.9.m9.5.5.1.1.1.1.1.2.3.cmml">i</mi><mrow id="A2.p1.9.m9.5.5.1.1.1.1.1.3" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.cmml"><mi id="A2.p1.9.m9.5.5.1.1.1.1.1.3.2" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.9.m9.5.5.1.1.1.1.1.3.1" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.9.m9.5.5.1.1.1.1.1.3.3" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.9.m9.6.6.2.2.2.2.4" xref="A2.p1.9.m9.6.6.2.2.3.cmml">,</mo><msubsup id="A2.p1.9.m9.6.6.2.2.2.2.2" xref="A2.p1.9.m9.6.6.2.2.2.2.2.cmml"><mi id="A2.p1.9.m9.6.6.2.2.2.2.2.2.2" xref="A2.p1.9.m9.6.6.2.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.9.m9.6.6.2.2.2.2.2.2.3" xref="A2.p1.9.m9.6.6.2.2.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.9.m9.6.6.2.2.2.2.2.3" xref="A2.p1.9.m9.6.6.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.9.m9.6.6.2.2.2.2.5" stretchy="false" xref="A2.p1.9.m9.6.6.2.2.3.cmml">)</mo></mrow></mrow><mo id="A2.p1.9.m9.8.8.4.5" xref="A2.p1.9.m9.8.8.4.5.cmml">âˆ’</mo><mrow id="A2.p1.9.m9.8.8.4.4.2" xref="A2.p1.9.m9.8.8.4.4.3.cmml"><mi id="A2.p1.9.m9.2.2" xref="A2.p1.9.m9.2.2.cmml">cos</mi><mo id="A2.p1.9.m9.8.8.4.4.2a" xref="A2.p1.9.m9.8.8.4.4.3.cmml">â¡</mo><mrow id="A2.p1.9.m9.8.8.4.4.2.2" xref="A2.p1.9.m9.8.8.4.4.3.cmml"><mo id="A2.p1.9.m9.8.8.4.4.2.2.3" stretchy="false" xref="A2.p1.9.m9.8.8.4.4.3.cmml">(</mo><msubsup id="A2.p1.9.m9.7.7.3.3.1.1.1" xref="A2.p1.9.m9.7.7.3.3.1.1.1.cmml"><mi id="A2.p1.9.m9.7.7.3.3.1.1.1.2.2" xref="A2.p1.9.m9.7.7.3.3.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.9.m9.7.7.3.3.1.1.1.2.3" xref="A2.p1.9.m9.7.7.3.3.1.1.1.2.3.cmml">j</mi><mrow id="A2.p1.9.m9.7.7.3.3.1.1.1.3" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.cmml"><mi id="A2.p1.9.m9.7.7.3.3.1.1.1.3.2" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.9.m9.7.7.3.3.1.1.1.3.1" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.9.m9.7.7.3.3.1.1.1.3.3" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.9.m9.8.8.4.4.2.2.4" xref="A2.p1.9.m9.8.8.4.4.3.cmml">,</mo><msubsup id="A2.p1.9.m9.8.8.4.4.2.2.2" xref="A2.p1.9.m9.8.8.4.4.2.2.2.cmml"><mi id="A2.p1.9.m9.8.8.4.4.2.2.2.2.2" xref="A2.p1.9.m9.8.8.4.4.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.9.m9.8.8.4.4.2.2.2.2.3" xref="A2.p1.9.m9.8.8.4.4.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.9.m9.8.8.4.4.2.2.2.3" xref="A2.p1.9.m9.8.8.4.4.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.9.m9.8.8.4.4.2.2.5" stretchy="false" xref="A2.p1.9.m9.8.8.4.4.3.cmml">)</mo></mrow></mrow></mrow><mo id="A2.p1.9.m9.8.8.6" xref="A2.p1.9.m9.8.8.6.cmml">=</mo><mrow id="A2.p1.9.m9.8.8.7" xref="A2.p1.9.m9.8.8.7.cmml"><mrow id="A2.p1.9.m9.8.8.7.2.2" xref="A2.p1.9.m9.8.8.7.2.1.cmml"><mi id="A2.p1.9.m9.3.3" xref="A2.p1.9.m9.3.3.cmml">ln</mi><mo id="A2.p1.9.m9.8.8.7.2.2a" xref="A2.p1.9.m9.8.8.7.2.1.cmml">â¡</mo><mrow id="A2.p1.9.m9.8.8.7.2.2.1" xref="A2.p1.9.m9.8.8.7.2.1.cmml"><mo id="A2.p1.9.m9.8.8.7.2.2.1.1" stretchy="false" xref="A2.p1.9.m9.8.8.7.2.1.cmml">(</mo><mn id="A2.p1.9.m9.4.4" xref="A2.p1.9.m9.4.4.cmml">1.04</mn><mo id="A2.p1.9.m9.8.8.7.2.2.1.2" stretchy="false" xref="A2.p1.9.m9.8.8.7.2.1.cmml">)</mo></mrow></mrow><mo id="A2.p1.9.m9.8.8.7.1" xref="A2.p1.9.m9.8.8.7.1.cmml">â¢</mo><msub id="A2.p1.9.m9.8.8.7.3" xref="A2.p1.9.m9.8.8.7.3.cmml"><mi id="A2.p1.9.m9.8.8.7.3.2" xref="A2.p1.9.m9.8.8.7.3.2.cmml">Ï„</mi><mi id="A2.p1.9.m9.8.8.7.3.3" xref="A2.p1.9.m9.8.8.7.3.3.cmml">c</mi></msub></mrow><mo id="A2.p1.9.m9.8.8.8" xref="A2.p1.9.m9.8.8.8.cmml">â‰ˆ</mo><mn id="A2.p1.9.m9.8.8.9" xref="A2.p1.9.m9.8.8.9.cmml">0.02</mn><mo id="A2.p1.9.m9.8.8.10" xref="A2.p1.9.m9.8.8.10.cmml">â‰ª</mo><mn id="A2.p1.9.m9.8.8.11" xref="A2.p1.9.m9.8.8.11.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.9.m9.8b"><apply id="A2.p1.9.m9.8.8.cmml" xref="A2.p1.9.m9.8.8"><and id="A2.p1.9.m9.8.8a.cmml" xref="A2.p1.9.m9.8.8"></and><apply id="A2.p1.9.m9.8.8b.cmml" xref="A2.p1.9.m9.8.8"><eq id="A2.p1.9.m9.8.8.6.cmml" xref="A2.p1.9.m9.8.8.6"></eq><apply id="A2.p1.9.m9.8.8.4.cmml" xref="A2.p1.9.m9.8.8.4"><minus id="A2.p1.9.m9.8.8.4.5.cmml" xref="A2.p1.9.m9.8.8.4.5"></minus><apply id="A2.p1.9.m9.6.6.2.2.3.cmml" xref="A2.p1.9.m9.6.6.2.2.2"><cos id="A2.p1.9.m9.1.1.cmml" xref="A2.p1.9.m9.1.1"></cos><apply id="A2.p1.9.m9.5.5.1.1.1.1.1.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.9.m9.5.5.1.1.1.1.1.1.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1">superscript</csymbol><apply id="A2.p1.9.m9.5.5.1.1.1.1.1.2.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.9.m9.5.5.1.1.1.1.1.2.1.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1">subscript</csymbol><ci id="A2.p1.9.m9.5.5.1.1.1.1.1.2.2.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.9.m9.5.5.1.1.1.1.1.2.3.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.2.3">ğ‘–</ci></apply><apply id="A2.p1.9.m9.5.5.1.1.1.1.1.3.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3"><csymbol cd="latexml" id="A2.p1.9.m9.5.5.1.1.1.1.1.3.1.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.9.m9.5.5.1.1.1.1.1.3.2.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.9.m9.5.5.1.1.1.1.1.3.3.cmml" xref="A2.p1.9.m9.5.5.1.1.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.9.m9.6.6.2.2.2.2.2.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.9.m9.6.6.2.2.2.2.2.1.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2">superscript</csymbol><apply id="A2.p1.9.m9.6.6.2.2.2.2.2.2.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.9.m9.6.6.2.2.2.2.2.2.1.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2">subscript</csymbol><ci id="A2.p1.9.m9.6.6.2.2.2.2.2.2.2.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.9.m9.6.6.2.2.2.2.2.2.3.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.9.m9.6.6.2.2.2.2.2.3.cmml" xref="A2.p1.9.m9.6.6.2.2.2.2.2.3">ğ‘‡</ci></apply></apply><apply id="A2.p1.9.m9.8.8.4.4.3.cmml" xref="A2.p1.9.m9.8.8.4.4.2"><cos id="A2.p1.9.m9.2.2.cmml" xref="A2.p1.9.m9.2.2"></cos><apply id="A2.p1.9.m9.7.7.3.3.1.1.1.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1"><csymbol cd="ambiguous" id="A2.p1.9.m9.7.7.3.3.1.1.1.1.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1">superscript</csymbol><apply id="A2.p1.9.m9.7.7.3.3.1.1.1.2.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1"><csymbol cd="ambiguous" id="A2.p1.9.m9.7.7.3.3.1.1.1.2.1.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1">subscript</csymbol><ci id="A2.p1.9.m9.7.7.3.3.1.1.1.2.2.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.9.m9.7.7.3.3.1.1.1.2.3.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.2.3">ğ‘—</ci></apply><apply id="A2.p1.9.m9.7.7.3.3.1.1.1.3.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3"><csymbol cd="latexml" id="A2.p1.9.m9.7.7.3.3.1.1.1.3.1.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.9.m9.7.7.3.3.1.1.1.3.2.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.9.m9.7.7.3.3.1.1.1.3.3.cmml" xref="A2.p1.9.m9.7.7.3.3.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.9.m9.8.8.4.4.2.2.2.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2"><csymbol cd="ambiguous" id="A2.p1.9.m9.8.8.4.4.2.2.2.1.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2">superscript</csymbol><apply id="A2.p1.9.m9.8.8.4.4.2.2.2.2.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2"><csymbol cd="ambiguous" id="A2.p1.9.m9.8.8.4.4.2.2.2.2.1.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2">subscript</csymbol><ci id="A2.p1.9.m9.8.8.4.4.2.2.2.2.2.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.9.m9.8.8.4.4.2.2.2.2.3.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.9.m9.8.8.4.4.2.2.2.3.cmml" xref="A2.p1.9.m9.8.8.4.4.2.2.2.3">ğ‘‡</ci></apply></apply></apply><apply id="A2.p1.9.m9.8.8.7.cmml" xref="A2.p1.9.m9.8.8.7"><times id="A2.p1.9.m9.8.8.7.1.cmml" xref="A2.p1.9.m9.8.8.7.1"></times><apply id="A2.p1.9.m9.8.8.7.2.1.cmml" xref="A2.p1.9.m9.8.8.7.2.2"><ln id="A2.p1.9.m9.3.3.cmml" xref="A2.p1.9.m9.3.3"></ln><cn id="A2.p1.9.m9.4.4.cmml" type="float" xref="A2.p1.9.m9.4.4">1.04</cn></apply><apply id="A2.p1.9.m9.8.8.7.3.cmml" xref="A2.p1.9.m9.8.8.7.3"><csymbol cd="ambiguous" id="A2.p1.9.m9.8.8.7.3.1.cmml" xref="A2.p1.9.m9.8.8.7.3">subscript</csymbol><ci id="A2.p1.9.m9.8.8.7.3.2.cmml" xref="A2.p1.9.m9.8.8.7.3.2">ğœ</ci><ci id="A2.p1.9.m9.8.8.7.3.3.cmml" xref="A2.p1.9.m9.8.8.7.3.3">ğ‘</ci></apply></apply></apply><apply id="A2.p1.9.m9.8.8c.cmml" xref="A2.p1.9.m9.8.8"><approx id="A2.p1.9.m9.8.8.8.cmml" xref="A2.p1.9.m9.8.8.8"></approx><share href="https://arxiv.org/html/2405.02429v2#A2.p1.9.m9.8.8.7.cmml" id="A2.p1.9.m9.8.8d.cmml" xref="A2.p1.9.m9.8.8"></share><cn id="A2.p1.9.m9.8.8.9.cmml" type="float" xref="A2.p1.9.m9.8.8.9">0.02</cn></apply><apply id="A2.p1.9.m9.8.8e.cmml" xref="A2.p1.9.m9.8.8"><csymbol cd="latexml" id="A2.p1.9.m9.8.8.10.cmml" xref="A2.p1.9.m9.8.8.10">much-less-than</csymbol><share href="https://arxiv.org/html/2405.02429v2#A2.p1.9.m9.8.8.9.cmml" id="A2.p1.9.m9.8.8f.cmml" xref="A2.p1.9.m9.8.8"></share><cn id="A2.p1.9.m9.8.8.11.cmml" type="integer" xref="A2.p1.9.m9.8.8.11">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.9.m9.8c">\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})-\cos(\mathbf{v}_{j}^{T|U},%
\mathbf{v}_{i}^{T})=\ln(1.04)\tau_{c}\approx 0.02\ll 1</annotation><annotation encoding="application/x-llamapun" id="A2.p1.9.m9.8d">roman_cos ( bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) - roman_cos ( bold_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) = roman_ln ( 1.04 ) italic_Ï„ start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT â‰ˆ 0.02 â‰ª 1</annotation></semantics></math>, suggesting that without fine-tuning, the raw pretrained LLMs, although able to make some prediction (TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#S5.T5" title="Table 5 â€£ 5. Experimental Results â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a>), does not yield embeddings for predicted items (in the user tower) that are more aligned with embeddings of the ground truth items (in the item tower) than the embeddings from random users do. After fine-tuning, <math alttext="\mathcal{L}_{TT}\approx 4.4" class="ltx_Math" display="inline" id="A2.p1.10.m10.1"><semantics id="A2.p1.10.m10.1a"><mrow id="A2.p1.10.m10.1.1" xref="A2.p1.10.m10.1.1.cmml"><msub id="A2.p1.10.m10.1.1.2" xref="A2.p1.10.m10.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.p1.10.m10.1.1.2.2" xref="A2.p1.10.m10.1.1.2.2.cmml">â„’</mi><mrow id="A2.p1.10.m10.1.1.2.3" xref="A2.p1.10.m10.1.1.2.3.cmml"><mi id="A2.p1.10.m10.1.1.2.3.2" xref="A2.p1.10.m10.1.1.2.3.2.cmml">T</mi><mo id="A2.p1.10.m10.1.1.2.3.1" xref="A2.p1.10.m10.1.1.2.3.1.cmml">â¢</mo><mi id="A2.p1.10.m10.1.1.2.3.3" xref="A2.p1.10.m10.1.1.2.3.3.cmml">T</mi></mrow></msub><mo id="A2.p1.10.m10.1.1.1" xref="A2.p1.10.m10.1.1.1.cmml">â‰ˆ</mo><mn id="A2.p1.10.m10.1.1.3" xref="A2.p1.10.m10.1.1.3.cmml">4.4</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.10.m10.1b"><apply id="A2.p1.10.m10.1.1.cmml" xref="A2.p1.10.m10.1.1"><approx id="A2.p1.10.m10.1.1.1.cmml" xref="A2.p1.10.m10.1.1.1"></approx><apply id="A2.p1.10.m10.1.1.2.cmml" xref="A2.p1.10.m10.1.1.2"><csymbol cd="ambiguous" id="A2.p1.10.m10.1.1.2.1.cmml" xref="A2.p1.10.m10.1.1.2">subscript</csymbol><ci id="A2.p1.10.m10.1.1.2.2.cmml" xref="A2.p1.10.m10.1.1.2.2">â„’</ci><apply id="A2.p1.10.m10.1.1.2.3.cmml" xref="A2.p1.10.m10.1.1.2.3"><times id="A2.p1.10.m10.1.1.2.3.1.cmml" xref="A2.p1.10.m10.1.1.2.3.1"></times><ci id="A2.p1.10.m10.1.1.2.3.2.cmml" xref="A2.p1.10.m10.1.1.2.3.2">ğ‘‡</ci><ci id="A2.p1.10.m10.1.1.2.3.3.cmml" xref="A2.p1.10.m10.1.1.2.3.3">ğ‘‡</ci></apply></apply><cn id="A2.p1.10.m10.1.1.3.cmml" type="float" xref="A2.p1.10.m10.1.1.3">4.4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.10.m10.1c">\mathcal{L}_{TT}\approx 4.4</annotation><annotation encoding="application/x-llamapun" id="A2.p1.10.m10.1d">caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT â‰ˆ 4.4</annotation></semantics></math> and the same ratio increases to <math alttext="512\times\exp(-4.4)=6.3" class="ltx_Math" display="inline" id="A2.p1.11.m11.2"><semantics id="A2.p1.11.m11.2a"><mrow id="A2.p1.11.m11.2.2" xref="A2.p1.11.m11.2.2.cmml"><mrow id="A2.p1.11.m11.2.2.1" xref="A2.p1.11.m11.2.2.1.cmml"><mn id="A2.p1.11.m11.2.2.1.3" xref="A2.p1.11.m11.2.2.1.3.cmml">512</mn><mo id="A2.p1.11.m11.2.2.1.2" lspace="0.222em" rspace="0.222em" xref="A2.p1.11.m11.2.2.1.2.cmml">Ã—</mo><mrow id="A2.p1.11.m11.2.2.1.1.1" xref="A2.p1.11.m11.2.2.1.1.2.cmml"><mi id="A2.p1.11.m11.1.1" xref="A2.p1.11.m11.1.1.cmml">exp</mi><mo id="A2.p1.11.m11.2.2.1.1.1a" xref="A2.p1.11.m11.2.2.1.1.2.cmml">â¡</mo><mrow id="A2.p1.11.m11.2.2.1.1.1.1" xref="A2.p1.11.m11.2.2.1.1.2.cmml"><mo id="A2.p1.11.m11.2.2.1.1.1.1.2" stretchy="false" xref="A2.p1.11.m11.2.2.1.1.2.cmml">(</mo><mrow id="A2.p1.11.m11.2.2.1.1.1.1.1" xref="A2.p1.11.m11.2.2.1.1.1.1.1.cmml"><mo id="A2.p1.11.m11.2.2.1.1.1.1.1a" xref="A2.p1.11.m11.2.2.1.1.1.1.1.cmml">âˆ’</mo><mn id="A2.p1.11.m11.2.2.1.1.1.1.1.2" xref="A2.p1.11.m11.2.2.1.1.1.1.1.2.cmml">4.4</mn></mrow><mo id="A2.p1.11.m11.2.2.1.1.1.1.3" stretchy="false" xref="A2.p1.11.m11.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="A2.p1.11.m11.2.2.2" xref="A2.p1.11.m11.2.2.2.cmml">=</mo><mn id="A2.p1.11.m11.2.2.3" xref="A2.p1.11.m11.2.2.3.cmml">6.3</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.11.m11.2b"><apply id="A2.p1.11.m11.2.2.cmml" xref="A2.p1.11.m11.2.2"><eq id="A2.p1.11.m11.2.2.2.cmml" xref="A2.p1.11.m11.2.2.2"></eq><apply id="A2.p1.11.m11.2.2.1.cmml" xref="A2.p1.11.m11.2.2.1"><times id="A2.p1.11.m11.2.2.1.2.cmml" xref="A2.p1.11.m11.2.2.1.2"></times><cn id="A2.p1.11.m11.2.2.1.3.cmml" type="integer" xref="A2.p1.11.m11.2.2.1.3">512</cn><apply id="A2.p1.11.m11.2.2.1.1.2.cmml" xref="A2.p1.11.m11.2.2.1.1.1"><exp id="A2.p1.11.m11.1.1.cmml" xref="A2.p1.11.m11.1.1"></exp><apply id="A2.p1.11.m11.2.2.1.1.1.1.1.cmml" xref="A2.p1.11.m11.2.2.1.1.1.1.1"><minus id="A2.p1.11.m11.2.2.1.1.1.1.1.1.cmml" xref="A2.p1.11.m11.2.2.1.1.1.1.1"></minus><cn id="A2.p1.11.m11.2.2.1.1.1.1.1.2.cmml" type="float" xref="A2.p1.11.m11.2.2.1.1.1.1.1.2">4.4</cn></apply></apply></apply><cn id="A2.p1.11.m11.2.2.3.cmml" type="float" xref="A2.p1.11.m11.2.2.3">6.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.11.m11.2c">512\times\exp(-4.4)=6.3</annotation><annotation encoding="application/x-llamapun" id="A2.p1.11.m11.2d">512 Ã— roman_exp ( - 4.4 ) = 6.3</annotation></semantics></math>, corresponding to <math alttext="\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})-\cos(\mathbf{v}_{j}^{T|U},%
\mathbf{v}_{i}^{T})\approx 0.92" class="ltx_Math" display="inline" id="A2.p1.12.m12.6"><semantics id="A2.p1.12.m12.6a"><mrow id="A2.p1.12.m12.6.6" xref="A2.p1.12.m12.6.6.cmml"><mrow id="A2.p1.12.m12.6.6.4" xref="A2.p1.12.m12.6.6.4.cmml"><mrow id="A2.p1.12.m12.4.4.2.2.2" xref="A2.p1.12.m12.4.4.2.2.3.cmml"><mi id="A2.p1.12.m12.1.1" xref="A2.p1.12.m12.1.1.cmml">cos</mi><mo id="A2.p1.12.m12.4.4.2.2.2a" xref="A2.p1.12.m12.4.4.2.2.3.cmml">â¡</mo><mrow id="A2.p1.12.m12.4.4.2.2.2.2" xref="A2.p1.12.m12.4.4.2.2.3.cmml"><mo id="A2.p1.12.m12.4.4.2.2.2.2.3" stretchy="false" xref="A2.p1.12.m12.4.4.2.2.3.cmml">(</mo><msubsup id="A2.p1.12.m12.3.3.1.1.1.1.1" xref="A2.p1.12.m12.3.3.1.1.1.1.1.cmml"><mi id="A2.p1.12.m12.3.3.1.1.1.1.1.2.2" xref="A2.p1.12.m12.3.3.1.1.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.12.m12.3.3.1.1.1.1.1.2.3" xref="A2.p1.12.m12.3.3.1.1.1.1.1.2.3.cmml">i</mi><mrow id="A2.p1.12.m12.3.3.1.1.1.1.1.3" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.cmml"><mi id="A2.p1.12.m12.3.3.1.1.1.1.1.3.2" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.12.m12.3.3.1.1.1.1.1.3.1" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.12.m12.3.3.1.1.1.1.1.3.3" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.12.m12.4.4.2.2.2.2.4" xref="A2.p1.12.m12.4.4.2.2.3.cmml">,</mo><msubsup id="A2.p1.12.m12.4.4.2.2.2.2.2" xref="A2.p1.12.m12.4.4.2.2.2.2.2.cmml"><mi id="A2.p1.12.m12.4.4.2.2.2.2.2.2.2" xref="A2.p1.12.m12.4.4.2.2.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.12.m12.4.4.2.2.2.2.2.2.3" xref="A2.p1.12.m12.4.4.2.2.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.12.m12.4.4.2.2.2.2.2.3" xref="A2.p1.12.m12.4.4.2.2.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.12.m12.4.4.2.2.2.2.5" stretchy="false" xref="A2.p1.12.m12.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo id="A2.p1.12.m12.6.6.4.5" xref="A2.p1.12.m12.6.6.4.5.cmml">âˆ’</mo><mrow id="A2.p1.12.m12.6.6.4.4.2" xref="A2.p1.12.m12.6.6.4.4.3.cmml"><mi id="A2.p1.12.m12.2.2" xref="A2.p1.12.m12.2.2.cmml">cos</mi><mo id="A2.p1.12.m12.6.6.4.4.2a" xref="A2.p1.12.m12.6.6.4.4.3.cmml">â¡</mo><mrow id="A2.p1.12.m12.6.6.4.4.2.2" xref="A2.p1.12.m12.6.6.4.4.3.cmml"><mo id="A2.p1.12.m12.6.6.4.4.2.2.3" stretchy="false" xref="A2.p1.12.m12.6.6.4.4.3.cmml">(</mo><msubsup id="A2.p1.12.m12.5.5.3.3.1.1.1" xref="A2.p1.12.m12.5.5.3.3.1.1.1.cmml"><mi id="A2.p1.12.m12.5.5.3.3.1.1.1.2.2" xref="A2.p1.12.m12.5.5.3.3.1.1.1.2.2.cmml">ğ¯</mi><mi id="A2.p1.12.m12.5.5.3.3.1.1.1.2.3" xref="A2.p1.12.m12.5.5.3.3.1.1.1.2.3.cmml">j</mi><mrow id="A2.p1.12.m12.5.5.3.3.1.1.1.3" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.cmml"><mi id="A2.p1.12.m12.5.5.3.3.1.1.1.3.2" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.2.cmml">T</mi><mo fence="false" id="A2.p1.12.m12.5.5.3.3.1.1.1.3.1" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.1.cmml">|</mo><mi id="A2.p1.12.m12.5.5.3.3.1.1.1.3.3" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.3.cmml">U</mi></mrow></msubsup><mo id="A2.p1.12.m12.6.6.4.4.2.2.4" xref="A2.p1.12.m12.6.6.4.4.3.cmml">,</mo><msubsup id="A2.p1.12.m12.6.6.4.4.2.2.2" xref="A2.p1.12.m12.6.6.4.4.2.2.2.cmml"><mi id="A2.p1.12.m12.6.6.4.4.2.2.2.2.2" xref="A2.p1.12.m12.6.6.4.4.2.2.2.2.2.cmml">ğ¯</mi><mi id="A2.p1.12.m12.6.6.4.4.2.2.2.2.3" xref="A2.p1.12.m12.6.6.4.4.2.2.2.2.3.cmml">i</mi><mi id="A2.p1.12.m12.6.6.4.4.2.2.2.3" xref="A2.p1.12.m12.6.6.4.4.2.2.2.3.cmml">T</mi></msubsup><mo id="A2.p1.12.m12.6.6.4.4.2.2.5" stretchy="false" xref="A2.p1.12.m12.6.6.4.4.3.cmml">)</mo></mrow></mrow></mrow><mo id="A2.p1.12.m12.6.6.5" xref="A2.p1.12.m12.6.6.5.cmml">â‰ˆ</mo><mn id="A2.p1.12.m12.6.6.6" xref="A2.p1.12.m12.6.6.6.cmml">0.92</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.12.m12.6b"><apply id="A2.p1.12.m12.6.6.cmml" xref="A2.p1.12.m12.6.6"><approx id="A2.p1.12.m12.6.6.5.cmml" xref="A2.p1.12.m12.6.6.5"></approx><apply id="A2.p1.12.m12.6.6.4.cmml" xref="A2.p1.12.m12.6.6.4"><minus id="A2.p1.12.m12.6.6.4.5.cmml" xref="A2.p1.12.m12.6.6.4.5"></minus><apply id="A2.p1.12.m12.4.4.2.2.3.cmml" xref="A2.p1.12.m12.4.4.2.2.2"><cos id="A2.p1.12.m12.1.1.cmml" xref="A2.p1.12.m12.1.1"></cos><apply id="A2.p1.12.m12.3.3.1.1.1.1.1.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.12.m12.3.3.1.1.1.1.1.1.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1">superscript</csymbol><apply id="A2.p1.12.m12.3.3.1.1.1.1.1.2.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.p1.12.m12.3.3.1.1.1.1.1.2.1.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1">subscript</csymbol><ci id="A2.p1.12.m12.3.3.1.1.1.1.1.2.2.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.12.m12.3.3.1.1.1.1.1.2.3.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.2.3">ğ‘–</ci></apply><apply id="A2.p1.12.m12.3.3.1.1.1.1.1.3.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3"><csymbol cd="latexml" id="A2.p1.12.m12.3.3.1.1.1.1.1.3.1.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.12.m12.3.3.1.1.1.1.1.3.2.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.12.m12.3.3.1.1.1.1.1.3.3.cmml" xref="A2.p1.12.m12.3.3.1.1.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.12.m12.4.4.2.2.2.2.2.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.12.m12.4.4.2.2.2.2.2.1.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2">superscript</csymbol><apply id="A2.p1.12.m12.4.4.2.2.2.2.2.2.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.p1.12.m12.4.4.2.2.2.2.2.2.1.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2">subscript</csymbol><ci id="A2.p1.12.m12.4.4.2.2.2.2.2.2.2.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.12.m12.4.4.2.2.2.2.2.2.3.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.12.m12.4.4.2.2.2.2.2.3.cmml" xref="A2.p1.12.m12.4.4.2.2.2.2.2.3">ğ‘‡</ci></apply></apply><apply id="A2.p1.12.m12.6.6.4.4.3.cmml" xref="A2.p1.12.m12.6.6.4.4.2"><cos id="A2.p1.12.m12.2.2.cmml" xref="A2.p1.12.m12.2.2"></cos><apply id="A2.p1.12.m12.5.5.3.3.1.1.1.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1"><csymbol cd="ambiguous" id="A2.p1.12.m12.5.5.3.3.1.1.1.1.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1">superscript</csymbol><apply id="A2.p1.12.m12.5.5.3.3.1.1.1.2.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1"><csymbol cd="ambiguous" id="A2.p1.12.m12.5.5.3.3.1.1.1.2.1.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1">subscript</csymbol><ci id="A2.p1.12.m12.5.5.3.3.1.1.1.2.2.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.2.2">ğ¯</ci><ci id="A2.p1.12.m12.5.5.3.3.1.1.1.2.3.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.2.3">ğ‘—</ci></apply><apply id="A2.p1.12.m12.5.5.3.3.1.1.1.3.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3"><csymbol cd="latexml" id="A2.p1.12.m12.5.5.3.3.1.1.1.3.1.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.1">conditional</csymbol><ci id="A2.p1.12.m12.5.5.3.3.1.1.1.3.2.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.12.m12.5.5.3.3.1.1.1.3.3.cmml" xref="A2.p1.12.m12.5.5.3.3.1.1.1.3.3">ğ‘ˆ</ci></apply></apply><apply id="A2.p1.12.m12.6.6.4.4.2.2.2.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2"><csymbol cd="ambiguous" id="A2.p1.12.m12.6.6.4.4.2.2.2.1.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2">superscript</csymbol><apply id="A2.p1.12.m12.6.6.4.4.2.2.2.2.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2"><csymbol cd="ambiguous" id="A2.p1.12.m12.6.6.4.4.2.2.2.2.1.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2">subscript</csymbol><ci id="A2.p1.12.m12.6.6.4.4.2.2.2.2.2.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2.2.2">ğ¯</ci><ci id="A2.p1.12.m12.6.6.4.4.2.2.2.2.3.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2.2.3">ğ‘–</ci></apply><ci id="A2.p1.12.m12.6.6.4.4.2.2.2.3.cmml" xref="A2.p1.12.m12.6.6.4.4.2.2.2.3">ğ‘‡</ci></apply></apply></apply><cn id="A2.p1.12.m12.6.6.6.cmml" type="float" xref="A2.p1.12.m12.6.6.6">0.92</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.12.m12.6c">\cos(\mathbf{v}_{i}^{T|U},\mathbf{v}_{i}^{T})-\cos(\mathbf{v}_{j}^{T|U},%
\mathbf{v}_{i}^{T})\approx 0.92</annotation><annotation encoding="application/x-llamapun" id="A2.p1.12.m12.6d">roman_cos ( bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) - roman_cos ( bold_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T | italic_U end_POSTSUPERSCRIPT , bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) â‰ˆ 0.92</annotation></semantics></math> which is close to <math alttext="1" class="ltx_Math" display="inline" id="A2.p1.13.m13.1"><semantics id="A2.p1.13.m13.1a"><mn id="A2.p1.13.m13.1.1" xref="A2.p1.13.m13.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A2.p1.13.m13.1b"><cn id="A2.p1.13.m13.1.1.cmml" type="integer" xref="A2.p1.13.m13.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.13.m13.1c">1</annotation><annotation encoding="application/x-llamapun" id="A2.p1.13.m13.1d">1</annotation></semantics></math>, indicating that the embeddingsare aligned very well geometrically.
On the contrary, without contrastive alignment, the prediction-target contrastive loss <math alttext="\mathcal{L}_{TT}" class="ltx_Math" display="inline" id="A2.p1.14.m14.1"><semantics id="A2.p1.14.m14.1a"><msub id="A2.p1.14.m14.1.1" xref="A2.p1.14.m14.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A2.p1.14.m14.1.1.2" xref="A2.p1.14.m14.1.1.2.cmml">â„’</mi><mrow id="A2.p1.14.m14.1.1.3" xref="A2.p1.14.m14.1.1.3.cmml"><mi id="A2.p1.14.m14.1.1.3.2" xref="A2.p1.14.m14.1.1.3.2.cmml">T</mi><mo id="A2.p1.14.m14.1.1.3.1" xref="A2.p1.14.m14.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.14.m14.1.1.3.3" xref="A2.p1.14.m14.1.1.3.3.cmml">T</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.p1.14.m14.1b"><apply id="A2.p1.14.m14.1.1.cmml" xref="A2.p1.14.m14.1.1"><csymbol cd="ambiguous" id="A2.p1.14.m14.1.1.1.cmml" xref="A2.p1.14.m14.1.1">subscript</csymbol><ci id="A2.p1.14.m14.1.1.2.cmml" xref="A2.p1.14.m14.1.1.2">â„’</ci><apply id="A2.p1.14.m14.1.1.3.cmml" xref="A2.p1.14.m14.1.1.3"><times id="A2.p1.14.m14.1.1.3.1.cmml" xref="A2.p1.14.m14.1.1.3.1"></times><ci id="A2.p1.14.m14.1.1.3.2.cmml" xref="A2.p1.14.m14.1.1.3.2">ğ‘‡</ci><ci id="A2.p1.14.m14.1.1.3.3.cmml" xref="A2.p1.14.m14.1.1.3.3">ğ‘‡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.14.m14.1c">\mathcal{L}_{TT}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.14.m14.1d">caligraphic_L start_POSTSUBSCRIPT italic_T italic_T end_POSTSUBSCRIPT</annotation></semantics></math> only drops roughly from <math alttext="6.4" class="ltx_Math" display="inline" id="A2.p1.15.m15.1"><semantics id="A2.p1.15.m15.1a"><mn id="A2.p1.15.m15.1.1" xref="A2.p1.15.m15.1.1.cmml">6.4</mn><annotation-xml encoding="MathML-Content" id="A2.p1.15.m15.1b"><cn id="A2.p1.15.m15.1.1.cmml" type="float" xref="A2.p1.15.m15.1.1">6.4</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.15.m15.1c">6.4</annotation><annotation encoding="application/x-llamapun" id="A2.p1.15.m15.1d">6.4</annotation></semantics></math> to <math alttext="6.0" class="ltx_Math" display="inline" id="A2.p1.16.m16.1"><semantics id="A2.p1.16.m16.1a"><mn id="A2.p1.16.m16.1.1" xref="A2.p1.16.m16.1.1.cmml">6.0</mn><annotation-xml encoding="MathML-Content" id="A2.p1.16.m16.1b"><cn id="A2.p1.16.m16.1.1.cmml" type="float" xref="A2.p1.16.m16.1.1">6.0</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.16.m16.1c">6.0</annotation><annotation encoding="application/x-llamapun" id="A2.p1.16.m16.1d">6.0</annotation></semantics></math> as the model learns to generate the correct next-item prediction as a pure text generation task. Fig.Â <a class="ltx_ref" href="https://arxiv.org/html/2405.02429v2#A1.F2" title="Figure 2 â€£ Appendix A Examples of Data Duplication â€£ CALRec: Contrastive Alignment of Generative LLMs for Sequential Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> demonstrates that the contrastive loss can efficiently align the embeddings from our two towers.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug 23 20:41:06 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
