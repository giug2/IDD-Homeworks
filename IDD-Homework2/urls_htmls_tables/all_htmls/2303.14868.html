<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.14868] The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning</title><meta property="og:description" content="Secure aggregation promises a heightened level of privacy in federated learning, maintaining that a server only has access to a decrypted aggregate update. Within this setting, linear layer leakage methods are the only…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.14868">

<!--Generated on Thu Feb 29 18:19:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Joshua C. Zhao<sup id="id12.9.id1" class="ltx_sup">1</sup>, Ahmed Roushdy Elkordy<sup id="id13.10.id2" class="ltx_sup">2</sup>, Atul Sharma<sup id="id14.11.id3" class="ltx_sup">1</sup>, Yahya H. Ezzeldin<sup id="id15.12.id4" class="ltx_sup">2</sup> 
<br class="ltx_break">Salman Avestimehr<sup id="id16.13.id5" class="ltx_sup">2</sup>, Saurabh Bagchi<sup id="id17.14.id6" class="ltx_sup">1</sup>
<br class="ltx_break"><sup id="id18.15.id7" class="ltx_sup">1</sup>Purdue University 
<br class="ltx_break"><sup id="id19.16.id8" class="ltx_sup">2</sup>University of Southern California
<br class="ltx_break"><span id="id20.17.id9" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{zhao1207,sharm438,sbagchi}@purdue.edu</span>,
<span id="id21.18.id10" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{aelkordy,yessa,avestime}@usc.edu</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id11.3" class="ltx_p">Secure aggregation promises a heightened level of privacy in federated learning, maintaining that a server only has access to a decrypted <span id="id11.3.1" class="ltx_text ltx_font_italic">aggregate</span> update. Within this setting, linear layer leakage methods are the only data reconstruction attacks able to scale and achieve a high leakage rate regardless of the number of clients or batch size. This is done through increasing the size of an injected fully-connected (FC) layer. However, this results in a resource overhead which grows larger with an increasing number of clients. We show that this resource overhead is caused by an incorrect perspective in all prior work that treats an attack on an aggregate update in the same way as an individual update with a larger batch size. Instead, by attacking the update from the perspective that aggregation is combining multiple individual updates, this allows the application of sparsity to alleviate resource overhead. We show that the use of sparsity can decrease the model size overhead by over 327<math id="id9.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="id9.1.m1.1a"><mo id="id9.1.m1.1.1" xref="id9.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="id9.1.m1.1b"><times id="id9.1.m1.1.1.cmml" xref="id9.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id9.1.m1.1c">\times</annotation></semantics></math> and the computation time by 3.34<math id="id10.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="id10.2.m2.1a"><mo id="id10.2.m2.1.1" xref="id10.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="id10.2.m2.1b"><times id="id10.2.m2.1.1.cmml" xref="id10.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id10.2.m2.1c">\times</annotation></semantics></math> compared to SOTA while maintaining equivalent total leakage rate, 77% even with <math id="id11.3.m3.1" class="ltx_Math" alttext="1000" display="inline"><semantics id="id11.3.m3.1a"><mn id="id11.3.m3.1.1" xref="id11.3.m3.1.1.cmml">1000</mn><annotation-xml encoding="MathML-Content" id="id11.3.m3.1b"><cn type="integer" id="id11.3.m3.1.1.cmml" xref="id11.3.m3.1.1">1000</cn></annotation-xml><annotation encoding="application/x-tex" id="id11.3.m3.1c">1000</annotation></semantics></math> clients in aggregation.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> has been hailed as a privacy-preserving method of training.
FL involves multiple clients which train their model on their private data before sending the update back to a server. The promise is that FL will keep the client data private from all (server as well as other clients) as the update cannot be used to infer information about client training data.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">However, many recent works have shown that client gradients are not truly privacy preserving. Specifically, data reconstruction attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> use a model update to directly recover the private training data. These methods typically consist of gradient inversion <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> and analytic attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. Gradient inversion attacks observe an honest client gradient and iteratively optimizes randomly initialized dummy data such that the resulting gradient becomes closer to the honest gradient. The goal is that dummy data that creates a similar gradient will be close to the ground truth data. These methods have shown success on smaller batch sizes, but fail when batch sizes become too large. Prior work has shown that reconstruction on ImageNet is possible up to a batch size of 48, although the reconstruction quality is low <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. Analytic attacks cover a wide range of methods. Primarily, they use a malicious modification of model architecture and parameters <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, linear layer leakage methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, observe updates over multiple training rounds <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, or treat images as a blind-source separation problem <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>. However, most of these approaches fail when secure aggregation is applied <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. Particularly, when a server can only access the updates aggregated across hundreds or thousands of training images, the reconstruction process becomes very challenging. Gradient inversion attacks are impossible without additional model modifications or training rounds. This is where linear layer leakage attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> have shown their superiority.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.2" class="ltx_p">This sub-class of analytic data reconstruction attacks is based on the server crafting maliciously modified models that it sends to the clients. In particular, the server uses a fully-connected (FC) layer to leak the input images. Compared to any other attack, linear layer leakage attacks are the only methods able to scale to an increasing number of clients or batch size, maintaining a high total leakage rate. This is done by continually increasing the size of an FC layer used to leak the images. For example, with 100 clients and a batch size of 64 on CIFAR-100, an attacker can leak <math id="S1.p3.1.m1.1" class="ltx_Math" alttext="77.2\%" display="inline"><semantics id="S1.p3.1.m1.1a"><mrow id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml"><mn id="S1.p3.1.m1.1.1.2" xref="S1.p3.1.m1.1.1.2.cmml">77.2</mn><mo id="S1.p3.1.m1.1.1.1" xref="S1.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b"><apply id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1"><csymbol cd="latexml" id="S1.p3.1.m1.1.1.1.cmml" xref="S1.p3.1.m1.1.1.1">percent</csymbol><cn type="float" id="S1.p3.1.m1.1.1.2.cmml" xref="S1.p3.1.m1.1.1.2">77.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">77.2\%</annotation></semantics></math> of all images in a single training round using an inserted FC layer of size 25,600. In this case, the number of units in the layer is <math id="S1.p3.2.m2.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S1.p3.2.m2.1a"><mrow id="S1.p3.2.m2.1b"><mn id="S1.p3.2.m2.1.1">4</mn><mo lspace="0.222em" id="S1.p3.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S1.p3.2.m2.1c">4\times</annotation></semantics></math> the number of total images, and maintaining this ratio when the number of clients or batch size increases allows the attack to still achieve roughly the same leakage rate. Despite the potential of linear layer leakage, however, an analysis of the limits of its scalability in FL has been missing till date.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this work, we dive into this question and explore the potential of scaling linear layer leakage attacks to secure aggregation. We particularly highlight the challenges in resource overhead corresponding to memory, communication, and computation, which are the primary restrictions of cross-device FL. We discover that while SOTA attacks can maintain a high leakage rate regardless of aggregation size, the overhead is massive. With 1,000 clients and a batch size of 64, maintaining the same leakage rate as before would result in the added layers increasing the model size by 6GB. There would also be an added computation time of 21.85s for computing the update for a single batch (size 64), a <math id="S1.p4.1.m1.1" class="ltx_math_unparsed" alttext="10\times" display="inline"><semantics id="S1.p4.1.m1.1a"><mrow id="S1.p4.1.m1.1b"><mn id="S1.p4.1.m1.1.1">10</mn><mo lspace="0.222em" id="S1.p4.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">10\times</annotation></semantics></math> overhead compared to a baseline ResNet-50. This is a massive problem for resource-constrained FL where clients have limited communication or computation budgets.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">However, this problem arises from an incorrect perspective from prior work where they treat the attack on an aggregate update the same as an individual client update. Specifically, we argue that it is critical to treat an aggregation attack not as an attack on a single large update, but as individual client updates combined together. In the context of linear layer leakage, this is the difference between separating the scaling of the attack between batch size and the number of clients or scaling to all images together.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.3" class="ltx_p">Following this, we use the attack <span id="S1.p6.3.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> with sparsity in the added parameters between the convolutional output and the FC layer to highlight the difference in model size compared to prior SOTA. The addition can decrease the added model size by over 327<math id="S1.p6.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.p6.1.m1.1a"><mo id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b"><times id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">\times</annotation></semantics></math> and decrease computation time by 3.34<math id="S1.p6.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.p6.2.m2.1a"><mo id="S1.p6.2.m2.1.1" xref="S1.p6.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.p6.2.m2.1b"><times id="S1.p6.2.m2.1.1.cmml" xref="S1.p6.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.2.m2.1c">\times</annotation></semantics></math> compared to SOTA attacks while achieving the same total leakage rate. For a batch size of 64 and 1000 clients participating in training, the sparse <span id="S1.p6.3.2" class="ltx_text ltx_font_smallcaps">Mandrake</span> module adds only a little over 18MB to the model while leaking <math id="S1.p6.3.m3.1" class="ltx_Math" alttext="77.8\%" display="inline"><semantics id="S1.p6.3.m3.1a"><mrow id="S1.p6.3.m3.1.1" xref="S1.p6.3.m3.1.1.cmml"><mn id="S1.p6.3.m3.1.1.2" xref="S1.p6.3.m3.1.1.2.cmml">77.8</mn><mo id="S1.p6.3.m3.1.1.1" xref="S1.p6.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p6.3.m3.1b"><apply id="S1.p6.3.m3.1.1.cmml" xref="S1.p6.3.m3.1.1"><csymbol cd="latexml" id="S1.p6.3.m3.1.1.1.cmml" xref="S1.p6.3.m3.1.1.1">percent</csymbol><cn type="float" id="S1.p6.3.m3.1.1.2.cmml" xref="S1.p6.3.m3.1.1.2">77.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.3.m3.1c">77.8\%</annotation></semantics></math> of the total data in a single training round (comparable to other SOTA attacks).</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">We discuss other fundamental challenges for linear layer leakage including the resource overhead of leaking larger input data sizes. We also discuss that sparsity in the client update fundamentally cannot be maintained through secure aggregation and the client still accrues a communication overhead when sending the update back to the server. All other aspects of resource overhead such as communication cost when the server sends the model to the client, computation time, and memory size, are decreased through sparsity.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">Our contributions are as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.2" class="ltx_p">We show the importance of sparsity in maintaining a small model size overhead when scaling to a large number of clients and the incorrect perspective prior work has had when treating the aggregate update as a single large update. By using sparsity with <span id="S1.I1.i1.p1.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> and attacking 1000 clients with a batch size of 64, the added model size is only 18.33 MB. Compared to SOTA attacks, this is a decrease in over <math id="S1.I1.i1.p1.1.m1.1" class="ltx_math_unparsed" alttext="327\times" display="inline"><semantics id="S1.I1.i1.p1.1.m1.1a"><mrow id="S1.I1.i1.p1.1.m1.1b"><mn id="S1.I1.i1.p1.1.m1.1.1">327</mn><mo lspace="0.222em" id="S1.I1.i1.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S1.I1.i1.p1.1.m1.1c">327\times</annotation></semantics></math> in size and also results in a decreased computation time by <math id="S1.I1.i1.p1.2.m2.1" class="ltx_math_unparsed" alttext="3.3\times" display="inline"><semantics id="S1.I1.i1.p1.2.m2.1a"><mrow id="S1.I1.i1.p1.2.m2.1b"><mn id="S1.I1.i1.p1.2.m2.1.1">3.3</mn><mo lspace="0.222em" id="S1.I1.i1.p1.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S1.I1.i1.p1.2.m2.1c">3.3\times</annotation></semantics></math> while maintaining the same leakage rate.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We show the fundamental challenge of linear layer leakage attacks for scaling attacks towards leaking larger input image sizes and the resulting resource overhead added.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We show the problem of maintaining sparsity in secure aggregation when the encryption mask is applied, which adds to the communication overhead when clients send updates back to the server.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">We are interested in data reconstruction attacks in the setting of FL under secure aggregation (SA) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. Under SA, a server cannot gain access to any individual client’s updates. Participating clients encrypt their updates such that only after a server aggregates them will it have access to an unencrypted aggregate update. This section discusses prior work in data reconstruction attacks and their applicability toward this challenging scenario.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.4" class="ltx_p"><span id="S2.p2.4.1" class="ltx_text ltx_font_bold">Gradient inversion.</span> An attacker with access to the model parameters and an honest individual gradient performs a gradient inversion attack by initializing random dummy data and minimizing the difference between the gradient computed by the dummy data and the ground truth gradient. Many works have looked to improve reconstruction through zero-shot label restorations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, regularizers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, or the use of multiple initialization seeds <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. However, they cannot scale to aggregation because the computational complexity scales with an increasing number of images as <math id="S2.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(n\times dim_{input})" display="inline"><semantics id="S2.p2.1.m1.1a"><mrow id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p2.1.m1.1.1.3" xref="S2.p2.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.2" xref="S2.p2.1.m1.1.1.2.cmml">​</mo><mrow id="S2.p2.1.m1.1.1.1.1" xref="S2.p2.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.p2.1.m1.1.1.1.1.2" xref="S2.p2.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S2.p2.1.m1.1.1.1.1.1" xref="S2.p2.1.m1.1.1.1.1.1.cmml"><mrow id="S2.p2.1.m1.1.1.1.1.1.2" xref="S2.p2.1.m1.1.1.1.1.1.2.cmml"><mi id="S2.p2.1.m1.1.1.1.1.1.2.2" xref="S2.p2.1.m1.1.1.1.1.1.2.2.cmml">n</mi><mo lspace="0.222em" rspace="0.222em" id="S2.p2.1.m1.1.1.1.1.1.2.1" xref="S2.p2.1.m1.1.1.1.1.1.2.1.cmml">×</mo><mi id="S2.p2.1.m1.1.1.1.1.1.2.3" xref="S2.p2.1.m1.1.1.1.1.1.2.3.cmml">d</mi></mrow><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.1" xref="S2.p2.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S2.p2.1.m1.1.1.1.1.1.3" xref="S2.p2.1.m1.1.1.1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.1a" xref="S2.p2.1.m1.1.1.1.1.1.1.cmml">​</mo><msub id="S2.p2.1.m1.1.1.1.1.1.4" xref="S2.p2.1.m1.1.1.1.1.1.4.cmml"><mi id="S2.p2.1.m1.1.1.1.1.1.4.2" xref="S2.p2.1.m1.1.1.1.1.1.4.2.cmml">m</mi><mrow id="S2.p2.1.m1.1.1.1.1.1.4.3" xref="S2.p2.1.m1.1.1.1.1.1.4.3.cmml"><mi id="S2.p2.1.m1.1.1.1.1.1.4.3.2" xref="S2.p2.1.m1.1.1.1.1.1.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.4.3.1" xref="S2.p2.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S2.p2.1.m1.1.1.1.1.1.4.3.3" xref="S2.p2.1.m1.1.1.1.1.1.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.4.3.1a" xref="S2.p2.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S2.p2.1.m1.1.1.1.1.1.4.3.4" xref="S2.p2.1.m1.1.1.1.1.1.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.4.3.1b" xref="S2.p2.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S2.p2.1.m1.1.1.1.1.1.4.3.5" xref="S2.p2.1.m1.1.1.1.1.1.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S2.p2.1.m1.1.1.1.1.1.4.3.1c" xref="S2.p2.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S2.p2.1.m1.1.1.1.1.1.4.3.6" xref="S2.p2.1.m1.1.1.1.1.1.4.3.6.cmml">t</mi></mrow></msub></mrow><mo stretchy="false" id="S2.p2.1.m1.1.1.1.1.3" xref="S2.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><apply id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1"><times id="S2.p2.1.m1.1.1.2.cmml" xref="S2.p2.1.m1.1.1.2"></times><ci id="S2.p2.1.m1.1.1.3.cmml" xref="S2.p2.1.m1.1.1.3">𝒪</ci><apply id="S2.p2.1.m1.1.1.1.1.1.cmml" xref="S2.p2.1.m1.1.1.1.1"><times id="S2.p2.1.m1.1.1.1.1.1.1.cmml" xref="S2.p2.1.m1.1.1.1.1.1.1"></times><apply id="S2.p2.1.m1.1.1.1.1.1.2.cmml" xref="S2.p2.1.m1.1.1.1.1.1.2"><times id="S2.p2.1.m1.1.1.1.1.1.2.1.cmml" xref="S2.p2.1.m1.1.1.1.1.1.2.1"></times><ci id="S2.p2.1.m1.1.1.1.1.1.2.2.cmml" xref="S2.p2.1.m1.1.1.1.1.1.2.2">𝑛</ci><ci id="S2.p2.1.m1.1.1.1.1.1.2.3.cmml" xref="S2.p2.1.m1.1.1.1.1.1.2.3">𝑑</ci></apply><ci id="S2.p2.1.m1.1.1.1.1.1.3.cmml" xref="S2.p2.1.m1.1.1.1.1.1.3">𝑖</ci><apply id="S2.p2.1.m1.1.1.1.1.1.4.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.p2.1.m1.1.1.1.1.1.4.1.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S2.p2.1.m1.1.1.1.1.1.4.2.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.2">𝑚</ci><apply id="S2.p2.1.m1.1.1.1.1.1.4.3.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3"><times id="S2.p2.1.m1.1.1.1.1.1.4.3.1.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.1"></times><ci id="S2.p2.1.m1.1.1.1.1.1.4.3.2.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S2.p2.1.m1.1.1.1.1.1.4.3.3.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.3">𝑛</ci><ci id="S2.p2.1.m1.1.1.1.1.1.4.3.4.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.4">𝑝</ci><ci id="S2.p2.1.m1.1.1.1.1.1.4.3.5.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.5">𝑢</ci><ci id="S2.p2.1.m1.1.1.1.1.1.4.3.6.cmml" xref="S2.p2.1.m1.1.1.1.1.1.4.3.6">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">\mathcal{O}(n\times dim_{input})</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, where <math id="S2.p2.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.p2.2.m2.1a"><mi id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">n</annotation></semantics></math> is the total number of images. For FL, <math id="S2.p2.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.p2.3.m3.1a"><mi id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">n</annotation></semantics></math> is the batch size <math id="S2.p2.4.m4.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p2.4.m4.1a"><mo id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b"><times id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.4.m4.1c">\times</annotation></semantics></math> number of clients.</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">Analytic attacks.</span> Analytic attacks involve parameter manipulation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> or attempting to dis-aggregate the gradient by observing multiple training rounds <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. While these methods work in the aggregate setting, they are not scalable towards an increasing number of clients. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> can only attack a single training image within a single round and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> can only attack a single client.  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> can support an increasing number of clients, but requires additional side-channel information not required for FL and additionally can require hundreds or thousands of training rounds to succeed. It also relies on optimization, so if the client batch size is larger, reconstruction quality will diminish.</p>
</div>
<div id="S2.p4" class="ltx_para ltx_noindent">
<p id="S2.p4.3" class="ltx_p"><span id="S2.p4.3.1" class="ltx_text ltx_font_bold">Linear layer leakage.</span> A sub-class of analytic methods is linear layer leakage attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. These attacks function with an inserted module that is typically two FC layers (linear layers) at the start of the model architecture. The attacks are then able to use the gradients of the first FC layer to directly recover the inputs to the layer. Since the FC layer is placed at the start of the architecture, the inputs are the training images themselves. Specifically, if an image activates a neuron in an FC layer, the image can be reconstructed as</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.1" class="ltx_Math" alttext="x=\frac{\delta L}{\delta W^{i}}/\frac{\delta L}{\delta B^{i}}\vspace{-1 pt}" display="block"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml"><mi id="S2.E1.m1.1.1.2" xref="S2.E1.m1.1.1.2.cmml">x</mi><mo id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.cmml">=</mo><mrow id="S2.E1.m1.1.1.3" xref="S2.E1.m1.1.1.3.cmml"><mfrac id="S2.E1.m1.1.1.3.2" xref="S2.E1.m1.1.1.3.2.cmml"><mrow id="S2.E1.m1.1.1.3.2.2" xref="S2.E1.m1.1.1.3.2.2.cmml"><mi id="S2.E1.m1.1.1.3.2.2.2" xref="S2.E1.m1.1.1.3.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.3.2.2.1" xref="S2.E1.m1.1.1.3.2.2.1.cmml">​</mo><mi id="S2.E1.m1.1.1.3.2.2.3" xref="S2.E1.m1.1.1.3.2.2.3.cmml">L</mi></mrow><mrow id="S2.E1.m1.1.1.3.2.3" xref="S2.E1.m1.1.1.3.2.3.cmml"><mi id="S2.E1.m1.1.1.3.2.3.2" xref="S2.E1.m1.1.1.3.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.3.2.3.1" xref="S2.E1.m1.1.1.3.2.3.1.cmml">​</mo><msup id="S2.E1.m1.1.1.3.2.3.3" xref="S2.E1.m1.1.1.3.2.3.3.cmml"><mi id="S2.E1.m1.1.1.3.2.3.3.2" xref="S2.E1.m1.1.1.3.2.3.3.2.cmml">W</mi><mi id="S2.E1.m1.1.1.3.2.3.3.3" xref="S2.E1.m1.1.1.3.2.3.3.3.cmml">i</mi></msup></mrow></mfrac><mo id="S2.E1.m1.1.1.3.1" xref="S2.E1.m1.1.1.3.1.cmml">/</mo><mfrac id="S2.E1.m1.1.1.3.3" xref="S2.E1.m1.1.1.3.3.cmml"><mrow id="S2.E1.m1.1.1.3.3.2" xref="S2.E1.m1.1.1.3.3.2.cmml"><mi id="S2.E1.m1.1.1.3.3.2.2" xref="S2.E1.m1.1.1.3.3.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.3.3.2.1" xref="S2.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S2.E1.m1.1.1.3.3.2.3" xref="S2.E1.m1.1.1.3.3.2.3.cmml">L</mi></mrow><mrow id="S2.E1.m1.1.1.3.3.3" xref="S2.E1.m1.1.1.3.3.3.cmml"><mi id="S2.E1.m1.1.1.3.3.3.2" xref="S2.E1.m1.1.1.3.3.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.3.3.3.1" xref="S2.E1.m1.1.1.3.3.3.1.cmml">​</mo><msup id="S2.E1.m1.1.1.3.3.3.3" xref="S2.E1.m1.1.1.3.3.3.3.cmml"><mi id="S2.E1.m1.1.1.3.3.3.3.2" xref="S2.E1.m1.1.1.3.3.3.3.2.cmml">B</mi><mi id="S2.E1.m1.1.1.3.3.3.3.3" xref="S2.E1.m1.1.1.3.3.3.3.3.cmml">i</mi></msup></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1"><eq id="S2.E1.m1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"></eq><ci id="S2.E1.m1.1.1.2.cmml" xref="S2.E1.m1.1.1.2">𝑥</ci><apply id="S2.E1.m1.1.1.3.cmml" xref="S2.E1.m1.1.1.3"><divide id="S2.E1.m1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.3.1"></divide><apply id="S2.E1.m1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.3.2"><divide id="S2.E1.m1.1.1.3.2.1.cmml" xref="S2.E1.m1.1.1.3.2"></divide><apply id="S2.E1.m1.1.1.3.2.2.cmml" xref="S2.E1.m1.1.1.3.2.2"><times id="S2.E1.m1.1.1.3.2.2.1.cmml" xref="S2.E1.m1.1.1.3.2.2.1"></times><ci id="S2.E1.m1.1.1.3.2.2.2.cmml" xref="S2.E1.m1.1.1.3.2.2.2">𝛿</ci><ci id="S2.E1.m1.1.1.3.2.2.3.cmml" xref="S2.E1.m1.1.1.3.2.2.3">𝐿</ci></apply><apply id="S2.E1.m1.1.1.3.2.3.cmml" xref="S2.E1.m1.1.1.3.2.3"><times id="S2.E1.m1.1.1.3.2.3.1.cmml" xref="S2.E1.m1.1.1.3.2.3.1"></times><ci id="S2.E1.m1.1.1.3.2.3.2.cmml" xref="S2.E1.m1.1.1.3.2.3.2">𝛿</ci><apply id="S2.E1.m1.1.1.3.2.3.3.cmml" xref="S2.E1.m1.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.3.2.3.3.1.cmml" xref="S2.E1.m1.1.1.3.2.3.3">superscript</csymbol><ci id="S2.E1.m1.1.1.3.2.3.3.2.cmml" xref="S2.E1.m1.1.1.3.2.3.3.2">𝑊</ci><ci id="S2.E1.m1.1.1.3.2.3.3.3.cmml" xref="S2.E1.m1.1.1.3.2.3.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.1.1.3.3.cmml" xref="S2.E1.m1.1.1.3.3"><divide id="S2.E1.m1.1.1.3.3.1.cmml" xref="S2.E1.m1.1.1.3.3"></divide><apply id="S2.E1.m1.1.1.3.3.2.cmml" xref="S2.E1.m1.1.1.3.3.2"><times id="S2.E1.m1.1.1.3.3.2.1.cmml" xref="S2.E1.m1.1.1.3.3.2.1"></times><ci id="S2.E1.m1.1.1.3.3.2.2.cmml" xref="S2.E1.m1.1.1.3.3.2.2">𝛿</ci><ci id="S2.E1.m1.1.1.3.3.2.3.cmml" xref="S2.E1.m1.1.1.3.3.2.3">𝐿</ci></apply><apply id="S2.E1.m1.1.1.3.3.3.cmml" xref="S2.E1.m1.1.1.3.3.3"><times id="S2.E1.m1.1.1.3.3.3.1.cmml" xref="S2.E1.m1.1.1.3.3.3.1"></times><ci id="S2.E1.m1.1.1.3.3.3.2.cmml" xref="S2.E1.m1.1.1.3.3.3.2">𝛿</ci><apply id="S2.E1.m1.1.1.3.3.3.3.cmml" xref="S2.E1.m1.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.3.3.3.3.1.cmml" xref="S2.E1.m1.1.1.3.3.3.3">superscript</csymbol><ci id="S2.E1.m1.1.1.3.3.3.3.2.cmml" xref="S2.E1.m1.1.1.3.3.3.3.2">𝐵</ci><ci id="S2.E1.m1.1.1.3.3.3.3.3.cmml" xref="S2.E1.m1.1.1.3.3.3.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">x=\frac{\delta L}{\delta W^{i}}/\frac{\delta L}{\delta B^{i}}\vspace{-1 pt}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.p4.2" class="ltx_p">where <math id="S2.p4.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.p4.1.m1.1a"><mi id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">x</annotation></semantics></math> is the recovered image and <math id="S2.p4.2.m2.2" class="ltx_Math" alttext="\frac{\delta L}{\delta W^{i}},\frac{\delta L}{\delta B^{i}}" display="inline"><semantics id="S2.p4.2.m2.2a"><mrow id="S2.p4.2.m2.2.3.2" xref="S2.p4.2.m2.2.3.1.cmml"><mfrac id="S2.p4.2.m2.1.1" xref="S2.p4.2.m2.1.1.cmml"><mrow id="S2.p4.2.m2.1.1.2" xref="S2.p4.2.m2.1.1.2.cmml"><mi id="S2.p4.2.m2.1.1.2.2" xref="S2.p4.2.m2.1.1.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.p4.2.m2.1.1.2.1" xref="S2.p4.2.m2.1.1.2.1.cmml">​</mo><mi id="S2.p4.2.m2.1.1.2.3" xref="S2.p4.2.m2.1.1.2.3.cmml">L</mi></mrow><mrow id="S2.p4.2.m2.1.1.3" xref="S2.p4.2.m2.1.1.3.cmml"><mi id="S2.p4.2.m2.1.1.3.2" xref="S2.p4.2.m2.1.1.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.p4.2.m2.1.1.3.1" xref="S2.p4.2.m2.1.1.3.1.cmml">​</mo><msup id="S2.p4.2.m2.1.1.3.3" xref="S2.p4.2.m2.1.1.3.3.cmml"><mi id="S2.p4.2.m2.1.1.3.3.2" xref="S2.p4.2.m2.1.1.3.3.2.cmml">W</mi><mi id="S2.p4.2.m2.1.1.3.3.3" xref="S2.p4.2.m2.1.1.3.3.3.cmml">i</mi></msup></mrow></mfrac><mo id="S2.p4.2.m2.2.3.2.1" xref="S2.p4.2.m2.2.3.1.cmml">,</mo><mfrac id="S2.p4.2.m2.2.2" xref="S2.p4.2.m2.2.2.cmml"><mrow id="S2.p4.2.m2.2.2.2" xref="S2.p4.2.m2.2.2.2.cmml"><mi id="S2.p4.2.m2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.p4.2.m2.2.2.2.1" xref="S2.p4.2.m2.2.2.2.1.cmml">​</mo><mi id="S2.p4.2.m2.2.2.2.3" xref="S2.p4.2.m2.2.2.2.3.cmml">L</mi></mrow><mrow id="S2.p4.2.m2.2.2.3" xref="S2.p4.2.m2.2.2.3.cmml"><mi id="S2.p4.2.m2.2.2.3.2" xref="S2.p4.2.m2.2.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.p4.2.m2.2.2.3.1" xref="S2.p4.2.m2.2.2.3.1.cmml">​</mo><msup id="S2.p4.2.m2.2.2.3.3" xref="S2.p4.2.m2.2.2.3.3.cmml"><mi id="S2.p4.2.m2.2.2.3.3.2" xref="S2.p4.2.m2.2.2.3.3.2.cmml">B</mi><mi id="S2.p4.2.m2.2.2.3.3.3" xref="S2.p4.2.m2.2.2.3.3.3.cmml">i</mi></msup></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.2b"><list id="S2.p4.2.m2.2.3.1.cmml" xref="S2.p4.2.m2.2.3.2"><apply id="S2.p4.2.m2.1.1.cmml" xref="S2.p4.2.m2.1.1"><divide id="S2.p4.2.m2.1.1.1.cmml" xref="S2.p4.2.m2.1.1"></divide><apply id="S2.p4.2.m2.1.1.2.cmml" xref="S2.p4.2.m2.1.1.2"><times id="S2.p4.2.m2.1.1.2.1.cmml" xref="S2.p4.2.m2.1.1.2.1"></times><ci id="S2.p4.2.m2.1.1.2.2.cmml" xref="S2.p4.2.m2.1.1.2.2">𝛿</ci><ci id="S2.p4.2.m2.1.1.2.3.cmml" xref="S2.p4.2.m2.1.1.2.3">𝐿</ci></apply><apply id="S2.p4.2.m2.1.1.3.cmml" xref="S2.p4.2.m2.1.1.3"><times id="S2.p4.2.m2.1.1.3.1.cmml" xref="S2.p4.2.m2.1.1.3.1"></times><ci id="S2.p4.2.m2.1.1.3.2.cmml" xref="S2.p4.2.m2.1.1.3.2">𝛿</ci><apply id="S2.p4.2.m2.1.1.3.3.cmml" xref="S2.p4.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S2.p4.2.m2.1.1.3.3.1.cmml" xref="S2.p4.2.m2.1.1.3.3">superscript</csymbol><ci id="S2.p4.2.m2.1.1.3.3.2.cmml" xref="S2.p4.2.m2.1.1.3.3.2">𝑊</ci><ci id="S2.p4.2.m2.1.1.3.3.3.cmml" xref="S2.p4.2.m2.1.1.3.3.3">𝑖</ci></apply></apply></apply><apply id="S2.p4.2.m2.2.2.cmml" xref="S2.p4.2.m2.2.2"><divide id="S2.p4.2.m2.2.2.1.cmml" xref="S2.p4.2.m2.2.2"></divide><apply id="S2.p4.2.m2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2"><times id="S2.p4.2.m2.2.2.2.1.cmml" xref="S2.p4.2.m2.2.2.2.1"></times><ci id="S2.p4.2.m2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2">𝛿</ci><ci id="S2.p4.2.m2.2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.2.3">𝐿</ci></apply><apply id="S2.p4.2.m2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.3"><times id="S2.p4.2.m2.2.2.3.1.cmml" xref="S2.p4.2.m2.2.2.3.1"></times><ci id="S2.p4.2.m2.2.2.3.2.cmml" xref="S2.p4.2.m2.2.2.3.2">𝛿</ci><apply id="S2.p4.2.m2.2.2.3.3.cmml" xref="S2.p4.2.m2.2.2.3.3"><csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.3.3.1.cmml" xref="S2.p4.2.m2.2.2.3.3">superscript</csymbol><ci id="S2.p4.2.m2.2.2.3.3.2.cmml" xref="S2.p4.2.m2.2.2.3.3.2">𝐵</ci><ci id="S2.p4.2.m2.2.2.3.3.3.cmml" xref="S2.p4.2.m2.2.2.3.3.3">𝑖</ci></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.2c">\frac{\delta L}{\delta W^{i}},\frac{\delta L}{\delta B^{i}}</annotation></semantics></math> are the weight and bias gradient of the activated neuron <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.4" class="ltx_p">These recovered images are near-exact reconstructions. However, if multiple images activate the same neuron, the reconstructed image becomes a combination of these images. Prior work has proposed binning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> and trap weights <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> to prevent collision of activated neurons between different images. Trap weights aim to create a sparse activation by initializing the FC layer weights as half negative and positive, with a slightly larger negative magnitude. Under binning, the weights of the FC layer are set such that they measure an aspect of the image, such as the image brightness or pixel intensity. A ReLU activation is used and the neuron biases increase (negatively) so that subsequent neurons allow fewer images to activate them. For any neuron, if only one image has it as the activated neuron with the largest cut-off bias, we can reconstruct the image as</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.2" class="ltx_Math" alttext="x^{i}=(\frac{\delta L}{\delta W^{i}}-\frac{\delta L}{\delta W^{i+1}})/(\frac{\delta L}{\delta B^{i}}-\frac{\delta L}{\delta B^{i+1}})\vspace{-1 pt}" display="block"><semantics id="S2.E2.m1.2a"><mrow id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml"><msup id="S2.E2.m1.2.2.4" xref="S2.E2.m1.2.2.4.cmml"><mi id="S2.E2.m1.2.2.4.2" xref="S2.E2.m1.2.2.4.2.cmml">x</mi><mi id="S2.E2.m1.2.2.4.3" xref="S2.E2.m1.2.2.4.3.cmml">i</mi></msup><mo id="S2.E2.m1.2.2.3" xref="S2.E2.m1.2.2.3.cmml">=</mo><mrow id="S2.E2.m1.2.2.2" xref="S2.E2.m1.2.2.2.cmml"><mrow id="S2.E2.m1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.cmml"><mfrac id="S2.E2.m1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.2.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2.2.2" xref="S2.E2.m1.1.1.1.1.1.1.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.2.2.1" xref="S2.E2.m1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mi id="S2.E2.m1.1.1.1.1.1.1.2.2.3" xref="S2.E2.m1.1.1.1.1.1.1.2.2.3.cmml">L</mi></mrow><mrow id="S2.E2.m1.1.1.1.1.1.1.2.3" xref="S2.E2.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2.3.2" xref="S2.E2.m1.1.1.1.1.1.1.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.2.3.1" xref="S2.E2.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><msup id="S2.E2.m1.1.1.1.1.1.1.2.3.3" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2.3.3.2" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3.2.cmml">W</mi><mi id="S2.E2.m1.1.1.1.1.1.1.2.3.3.3" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3.3.cmml">i</mi></msup></mrow></mfrac><mo id="S2.E2.m1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.cmml">−</mo><mfrac id="S2.E2.m1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.3.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.3.2.2" xref="S2.E2.m1.1.1.1.1.1.1.3.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.3.2.1" xref="S2.E2.m1.1.1.1.1.1.1.3.2.1.cmml">​</mo><mi id="S2.E2.m1.1.1.1.1.1.1.3.2.3" xref="S2.E2.m1.1.1.1.1.1.1.3.2.3.cmml">L</mi></mrow><mrow id="S2.E2.m1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.3.3.2" xref="S2.E2.m1.1.1.1.1.1.1.3.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.3.3.1" xref="S2.E2.m1.1.1.1.1.1.1.3.3.1.cmml">​</mo><msup id="S2.E2.m1.1.1.1.1.1.1.3.3.3" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.3.3.3.2" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.2.cmml">W</mi><mrow id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.2" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.2.cmml">i</mi><mo id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.1" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.1.cmml">+</mo><mn id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.3" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mfrac></mrow><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E2.m1.2.2.2.3" xref="S2.E2.m1.2.2.2.3.cmml">/</mo><mrow id="S2.E2.m1.2.2.2.2.1" xref="S2.E2.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.2" xref="S2.E2.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S2.E2.m1.2.2.2.2.1.1" xref="S2.E2.m1.2.2.2.2.1.1.cmml"><mfrac id="S2.E2.m1.2.2.2.2.1.1.2" xref="S2.E2.m1.2.2.2.2.1.1.2.cmml"><mrow id="S2.E2.m1.2.2.2.2.1.1.2.2" xref="S2.E2.m1.2.2.2.2.1.1.2.2.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.2.2.2" xref="S2.E2.m1.2.2.2.2.1.1.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.2.2.2.2.1.1.2.2.1" xref="S2.E2.m1.2.2.2.2.1.1.2.2.1.cmml">​</mo><mi id="S2.E2.m1.2.2.2.2.1.1.2.2.3" xref="S2.E2.m1.2.2.2.2.1.1.2.2.3.cmml">L</mi></mrow><mrow id="S2.E2.m1.2.2.2.2.1.1.2.3" xref="S2.E2.m1.2.2.2.2.1.1.2.3.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.2.3.2" xref="S2.E2.m1.2.2.2.2.1.1.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.2.2.2.2.1.1.2.3.1" xref="S2.E2.m1.2.2.2.2.1.1.2.3.1.cmml">​</mo><msup id="S2.E2.m1.2.2.2.2.1.1.2.3.3" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.2.3.3.2" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3.2.cmml">B</mi><mi id="S2.E2.m1.2.2.2.2.1.1.2.3.3.3" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3.3.cmml">i</mi></msup></mrow></mfrac><mo id="S2.E2.m1.2.2.2.2.1.1.1" xref="S2.E2.m1.2.2.2.2.1.1.1.cmml">−</mo><mfrac id="S2.E2.m1.2.2.2.2.1.1.3" xref="S2.E2.m1.2.2.2.2.1.1.3.cmml"><mrow id="S2.E2.m1.2.2.2.2.1.1.3.2" xref="S2.E2.m1.2.2.2.2.1.1.3.2.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.3.2.2" xref="S2.E2.m1.2.2.2.2.1.1.3.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.2.2.2.2.1.1.3.2.1" xref="S2.E2.m1.2.2.2.2.1.1.3.2.1.cmml">​</mo><mi id="S2.E2.m1.2.2.2.2.1.1.3.2.3" xref="S2.E2.m1.2.2.2.2.1.1.3.2.3.cmml">L</mi></mrow><mrow id="S2.E2.m1.2.2.2.2.1.1.3.3" xref="S2.E2.m1.2.2.2.2.1.1.3.3.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.3.3.2" xref="S2.E2.m1.2.2.2.2.1.1.3.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.2.2.2.2.1.1.3.3.1" xref="S2.E2.m1.2.2.2.2.1.1.3.3.1.cmml">​</mo><msup id="S2.E2.m1.2.2.2.2.1.1.3.3.3" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.3.3.3.2" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.2.cmml">B</mi><mrow id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.cmml"><mi id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.2" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.2.cmml">i</mi><mo id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.1" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.1.cmml">+</mo><mn id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.3" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mfrac></mrow><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.3" xref="S2.E2.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.2b"><apply id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2"><eq id="S2.E2.m1.2.2.3.cmml" xref="S2.E2.m1.2.2.3"></eq><apply id="S2.E2.m1.2.2.4.cmml" xref="S2.E2.m1.2.2.4"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.4.1.cmml" xref="S2.E2.m1.2.2.4">superscript</csymbol><ci id="S2.E2.m1.2.2.4.2.cmml" xref="S2.E2.m1.2.2.4.2">𝑥</ci><ci id="S2.E2.m1.2.2.4.3.cmml" xref="S2.E2.m1.2.2.4.3">𝑖</ci></apply><apply id="S2.E2.m1.2.2.2.cmml" xref="S2.E2.m1.2.2.2"><divide id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.3"></divide><apply id="S2.E2.m1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1"><minus id="S2.E2.m1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1"></minus><apply id="S2.E2.m1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2"><divide id="S2.E2.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2"></divide><apply id="S2.E2.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.2"><times id="S2.E2.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.2.1"></times><ci id="S2.E2.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.2.2">𝛿</ci><ci id="S2.E2.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.2.3">𝐿</ci></apply><apply id="S2.E2.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3"><times id="S2.E2.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.1"></times><ci id="S2.E2.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.2">𝛿</ci><apply id="S2.E2.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3">superscript</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3.2">𝑊</ci><ci id="S2.E2.m1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.3.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3"><divide id="S2.E2.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3"></divide><apply id="S2.E2.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.2"><times id="S2.E2.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.2.1"></times><ci id="S2.E2.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.2.2">𝛿</ci><ci id="S2.E2.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.2.3">𝐿</ci></apply><apply id="S2.E2.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3"><times id="S2.E2.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.1"></times><ci id="S2.E2.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.2">𝛿</ci><apply id="S2.E2.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3">superscript</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.2">𝑊</ci><apply id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3"><plus id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.1"></plus><ci id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.2">𝑖</ci><cn type="integer" id="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3.3.3.3">1</cn></apply></apply></apply></apply></apply><apply id="S2.E2.m1.2.2.2.2.1.1.cmml" xref="S2.E2.m1.2.2.2.2.1"><minus id="S2.E2.m1.2.2.2.2.1.1.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.1"></minus><apply id="S2.E2.m1.2.2.2.2.1.1.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2"><divide id="S2.E2.m1.2.2.2.2.1.1.2.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2"></divide><apply id="S2.E2.m1.2.2.2.2.1.1.2.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.2"><times id="S2.E2.m1.2.2.2.2.1.1.2.2.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.2.1"></times><ci id="S2.E2.m1.2.2.2.2.1.1.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.2.2">𝛿</ci><ci id="S2.E2.m1.2.2.2.2.1.1.2.2.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.2.3">𝐿</ci></apply><apply id="S2.E2.m1.2.2.2.2.1.1.2.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3"><times id="S2.E2.m1.2.2.2.2.1.1.2.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.1"></times><ci id="S2.E2.m1.2.2.2.2.1.1.2.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.2">𝛿</ci><apply id="S2.E2.m1.2.2.2.2.1.1.2.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.2.2.1.1.2.3.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3">superscript</csymbol><ci id="S2.E2.m1.2.2.2.2.1.1.2.3.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3.2">𝐵</ci><ci id="S2.E2.m1.2.2.2.2.1.1.2.3.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2.3.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.2.2.2.2.1.1.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3"><divide id="S2.E2.m1.2.2.2.2.1.1.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3"></divide><apply id="S2.E2.m1.2.2.2.2.1.1.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.2"><times id="S2.E2.m1.2.2.2.2.1.1.3.2.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.2.1"></times><ci id="S2.E2.m1.2.2.2.2.1.1.3.2.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.2.2">𝛿</ci><ci id="S2.E2.m1.2.2.2.2.1.1.3.2.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.2.3">𝐿</ci></apply><apply id="S2.E2.m1.2.2.2.2.1.1.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3"><times id="S2.E2.m1.2.2.2.2.1.1.3.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.1"></times><ci id="S2.E2.m1.2.2.2.2.1.1.3.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.2">𝛿</ci><apply id="S2.E2.m1.2.2.2.2.1.1.3.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.2.2.1.1.3.3.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3">superscript</csymbol><ci id="S2.E2.m1.2.2.2.2.1.1.3.3.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.2">𝐵</ci><apply id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3"><plus id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.1"></plus><ci id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.2">𝑖</ci><cn type="integer" id="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.3.3.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.2c">x^{i}=(\frac{\delta L}{\delta W^{i}}-\frac{\delta L}{\delta W^{i+1}})/(\frac{\delta L}{\delta B^{i}}-\frac{\delta L}{\delta B^{i+1}})\vspace{-1 pt}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.p5.3" class="ltx_p">where <math id="S2.p5.1.m1.1" class="ltx_Math" alttext="x^{i}" display="inline"><semantics id="S2.p5.1.m1.1a"><msup id="S2.p5.1.m1.1.1" xref="S2.p5.1.m1.1.1.cmml"><mi id="S2.p5.1.m1.1.1.2" xref="S2.p5.1.m1.1.1.2.cmml">x</mi><mi id="S2.p5.1.m1.1.1.3" xref="S2.p5.1.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S2.p5.1.m1.1b"><apply id="S2.p5.1.m1.1.1.cmml" xref="S2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p5.1.m1.1.1.1.cmml" xref="S2.p5.1.m1.1.1">superscript</csymbol><ci id="S2.p5.1.m1.1.1.2.cmml" xref="S2.p5.1.m1.1.1.2">𝑥</ci><ci id="S2.p5.1.m1.1.1.3.cmml" xref="S2.p5.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.1.m1.1c">x^{i}</annotation></semantics></math> is the reconstructed image, <math id="S2.p5.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p5.2.m2.1a"><mi id="S2.p5.2.m2.1.1" xref="S2.p5.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p5.2.m2.1b"><ci id="S2.p5.2.m2.1.1.cmml" xref="S2.p5.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.2.m2.1c">i</annotation></semantics></math> is the activated neuron, and <math id="S2.p5.3.m3.1" class="ltx_Math" alttext="i+1" display="inline"><semantics id="S2.p5.3.m3.1a"><mrow id="S2.p5.3.m3.1.1" xref="S2.p5.3.m3.1.1.cmml"><mi id="S2.p5.3.m3.1.1.2" xref="S2.p5.3.m3.1.1.2.cmml">i</mi><mo id="S2.p5.3.m3.1.1.1" xref="S2.p5.3.m3.1.1.1.cmml">+</mo><mn id="S2.p5.3.m3.1.1.3" xref="S2.p5.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p5.3.m3.1b"><apply id="S2.p5.3.m3.1.1.cmml" xref="S2.p5.3.m3.1.1"><plus id="S2.p5.3.m3.1.1.1.cmml" xref="S2.p5.3.m3.1.1.1"></plus><ci id="S2.p5.3.m3.1.1.2.cmml" xref="S2.p5.3.m3.1.1.2">𝑖</ci><cn type="integer" id="S2.p5.3.m3.1.1.3.cmml" xref="S2.p5.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.3.m3.1c">i+1</annotation></semantics></math> is the neuron with the next largest cut-off that was not activated. This method can scale to larger number of clients or batch size while maintaining a high leakage rate by increasing the number of units in the FC layer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. However, this scalability comes at the cost of an increasing model size and becomes much worse under aggregation, as the number of images increases multiplicatively with the batch size and number of clients.</p>
</div>
<div id="S2.p6" class="ltx_para">
<p id="S2.p6.1" class="ltx_p">Another similar method uses blind-source separation of an FC layer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> to reconstruct images. This method can support only reconstructions up to 1024 images and, in the context of FL, is a small scale attack and is not particularly applicable to scaling in FL. The size overhead added by the method is not insignificant, as an FC layer added to the start of the model for attacking a batch size of 1024 will be a minimum of a 768MB model size overhead.</p>
</div>
<div id="S2.p7" class="ltx_para">
<p id="S2.p7.1" class="ltx_p">The size overhead added by scaling these methods is a fundamental problem. With <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, these methods treat aggregation attacks the same as individual client attacks, evident through the statement that <span id="S2.p7.1.1" class="ltx_text ltx_font_italic">”given an aggregated gradient update, we always reconstruct as discussed in [the methodology section]”</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> falls under similar thinking, applying their attack on aggregate updates as simply the same attack on a larger batch size. Another work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> discusses how a full batch can be recovered as long as the number of units is larger than the total number of images. While many attacks have not been applied to aggregation yet, it is clear that there is no key difference in the perspective of applying attacks to aggregation compared to individual updates.</p>
</div>
<div id="S2.p8" class="ltx_para">
<p id="S2.p8.1" class="ltx_p">Our work is mainly focused on linear layer leakage attacks, but the applicability will be relevant to other methods as they explore large-scale attacks on aggregation. For example, while optimization attacks still do not have a good method of scaling to aggregation due to an increasing computational complexity, a dual problem has been shown where multiple solutions exist for a single update <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. If future work discusses model modifications in an increased width or depth of the model to reconstruct larger numbers of images, our work will be relevant. This is also likely since prior work has already begun discussing the relationship between model size/depth and reconstruction ability <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>. If computational complexity is not a problem, these same ideas will be used for attack scalability.</p>
</div>
<div id="S2.p9" class="ltx_para">
<p id="S2.p9.1" class="ltx_p">In the next section, we will discuss why the prior work perspective on attacking aggregate gradients as a single large batch is a problem and how it leads to large resource overheads in linear layer leakage. We will show how the design of <span id="S2.p9.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> with separate scaling between the number of clients and batch size uses the correct perspective and allows us to use sparsity to decrease overhead.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Decreasing the resource cost</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Requirement for linear layer leakage</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.5" class="ltx_p">Linear layer leakage relies on a fundamental requirement. Since the images are leaked from the gradients, the images must be able to be stored in the model gradients. For example, consider a CIFAR-100 image (<math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="32\times 32\times 3" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mrow id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mn id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.1.m1.1.1.1a" xref="S3.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.p1.1.m1.1.1.4" xref="S3.SS1.p1.1.m1.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><times id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"></times><cn type="integer" id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">32</cn><cn type="integer" id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">32</cn><cn type="integer" id="S3.SS1.p1.1.m1.1.1.4.cmml" xref="S3.SS1.p1.1.m1.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">32\times 32\times 3</annotation></semantics></math>). In order to store the image in the update, the total number of gradients must be at least <math id="S3.SS1.p1.2.m2.2" class="ltx_Math" alttext="32\cdot 32\cdot 3=3,072" display="inline"><semantics id="S3.SS1.p1.2.m2.2a"><mrow id="S3.SS1.p1.2.m2.2.3" xref="S3.SS1.p1.2.m2.2.3.cmml"><mrow id="S3.SS1.p1.2.m2.2.3.2" xref="S3.SS1.p1.2.m2.2.3.2.cmml"><mn id="S3.SS1.p1.2.m2.2.3.2.2" xref="S3.SS1.p1.2.m2.2.3.2.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.2.m2.2.3.2.1" xref="S3.SS1.p1.2.m2.2.3.2.1.cmml">⋅</mo><mn id="S3.SS1.p1.2.m2.2.3.2.3" xref="S3.SS1.p1.2.m2.2.3.2.3.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.2.m2.2.3.2.1a" xref="S3.SS1.p1.2.m2.2.3.2.1.cmml">⋅</mo><mn id="S3.SS1.p1.2.m2.2.3.2.4" xref="S3.SS1.p1.2.m2.2.3.2.4.cmml">3</mn></mrow><mo id="S3.SS1.p1.2.m2.2.3.1" xref="S3.SS1.p1.2.m2.2.3.1.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.2.3.3.2" xref="S3.SS1.p1.2.m2.2.3.3.1.cmml"><mn id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">3</mn><mo id="S3.SS1.p1.2.m2.2.3.3.2.1" xref="S3.SS1.p1.2.m2.2.3.3.1.cmml">,</mo><mn id="S3.SS1.p1.2.m2.2.2" xref="S3.SS1.p1.2.m2.2.2.cmml">072</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.2b"><apply id="S3.SS1.p1.2.m2.2.3.cmml" xref="S3.SS1.p1.2.m2.2.3"><eq id="S3.SS1.p1.2.m2.2.3.1.cmml" xref="S3.SS1.p1.2.m2.2.3.1"></eq><apply id="S3.SS1.p1.2.m2.2.3.2.cmml" xref="S3.SS1.p1.2.m2.2.3.2"><ci id="S3.SS1.p1.2.m2.2.3.2.1.cmml" xref="S3.SS1.p1.2.m2.2.3.2.1">⋅</ci><cn type="integer" id="S3.SS1.p1.2.m2.2.3.2.2.cmml" xref="S3.SS1.p1.2.m2.2.3.2.2">32</cn><cn type="integer" id="S3.SS1.p1.2.m2.2.3.2.3.cmml" xref="S3.SS1.p1.2.m2.2.3.2.3">32</cn><cn type="integer" id="S3.SS1.p1.2.m2.2.3.2.4.cmml" xref="S3.SS1.p1.2.m2.2.3.2.4">3</cn></apply><list id="S3.SS1.p1.2.m2.2.3.3.1.cmml" xref="S3.SS1.p1.2.m2.2.3.3.2"><cn type="integer" id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">3</cn><cn type="integer" id="S3.SS1.p1.2.m2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2">072</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.2c">32\cdot 32\cdot 3=3,072</annotation></semantics></math>. For a batch of 64 images, this number would then become <math id="S3.SS1.p1.3.m3.3" class="ltx_Math" alttext="3,072\cdot 64=196,608" display="inline"><semantics id="S3.SS1.p1.3.m3.3a"><mrow id="S3.SS1.p1.3.m3.3.3.1" xref="S3.SS1.p1.3.m3.3.3.2.cmml"><mrow id="S3.SS1.p1.3.m3.3.3.1.1" xref="S3.SS1.p1.3.m3.3.3.1.1.cmml"><mrow id="S3.SS1.p1.3.m3.3.3.1.1.1.1" xref="S3.SS1.p1.3.m3.3.3.1.1.1.2.cmml"><mn id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">3</mn><mo id="S3.SS1.p1.3.m3.3.3.1.1.1.1.2" xref="S3.SS1.p1.3.m3.3.3.1.1.1.2.cmml">,</mo><mrow id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.cmml"><mn id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.2" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.2.cmml">072</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.1" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.1.cmml">⋅</mo><mn id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.3" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.3.cmml">64</mn></mrow></mrow><mo id="S3.SS1.p1.3.m3.3.3.1.1.2" xref="S3.SS1.p1.3.m3.3.3.1.1.2.cmml">=</mo><mn id="S3.SS1.p1.3.m3.3.3.1.1.3" xref="S3.SS1.p1.3.m3.3.3.1.1.3.cmml">196</mn></mrow><mo id="S3.SS1.p1.3.m3.3.3.1.2" xref="S3.SS1.p1.3.m3.3.3.2a.cmml">,</mo><mn id="S3.SS1.p1.3.m3.2.2" xref="S3.SS1.p1.3.m3.2.2.cmml">608</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.3b"><apply id="S3.SS1.p1.3.m3.3.3.2.cmml" xref="S3.SS1.p1.3.m3.3.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.3.3.2a.cmml" xref="S3.SS1.p1.3.m3.3.3.1.2">formulae-sequence</csymbol><apply id="S3.SS1.p1.3.m3.3.3.1.1.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1"><eq id="S3.SS1.p1.3.m3.3.3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.2"></eq><list id="S3.SS1.p1.3.m3.3.3.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1"><cn type="integer" id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">3</cn><apply id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1"><ci id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.1">⋅</ci><cn type="integer" id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.2">072</cn><cn type="integer" id="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.1.1.1.3">64</cn></apply></list><cn type="integer" id="S3.SS1.p1.3.m3.3.3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.3.3.1.1.3">196</cn></apply><cn type="integer" id="S3.SS1.p1.3.m3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2">608</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.3c">3,072\cdot 64=196,608</annotation></semantics></math>. If aggregation across 100 clients is added, this would then be <math id="S3.SS1.p1.4.m4.5" class="ltx_Math" alttext="3,072\cdot 64\cdot 100=19,660,800" display="inline"><semantics id="S3.SS1.p1.4.m4.5a"><mrow id="S3.SS1.p1.4.m4.5.5.2" xref="S3.SS1.p1.4.m4.5.5.3.cmml"><mrow id="S3.SS1.p1.4.m4.4.4.1.1" xref="S3.SS1.p1.4.m4.4.4.1.1.cmml"><mrow id="S3.SS1.p1.4.m4.4.4.1.1.1.1" xref="S3.SS1.p1.4.m4.4.4.1.1.1.2.cmml"><mn id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">3</mn><mo id="S3.SS1.p1.4.m4.4.4.1.1.1.1.2" xref="S3.SS1.p1.4.m4.4.4.1.1.1.2.cmml">,</mo><mrow id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.cmml"><mn id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.2.cmml">072</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1.cmml">⋅</mo><mn id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.3.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1a" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1.cmml">⋅</mo><mn id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.4" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.4.cmml">100</mn></mrow></mrow><mo id="S3.SS1.p1.4.m4.4.4.1.1.2" xref="S3.SS1.p1.4.m4.4.4.1.1.2.cmml">=</mo><mn id="S3.SS1.p1.4.m4.4.4.1.1.3" xref="S3.SS1.p1.4.m4.4.4.1.1.3.cmml">19</mn></mrow><mo id="S3.SS1.p1.4.m4.5.5.2.3" xref="S3.SS1.p1.4.m4.5.5.3a.cmml">,</mo><mrow id="S3.SS1.p1.4.m4.5.5.2.2.2" xref="S3.SS1.p1.4.m4.5.5.2.2.1.cmml"><mn id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml">660</mn><mo id="S3.SS1.p1.4.m4.5.5.2.2.2.1" xref="S3.SS1.p1.4.m4.5.5.2.2.1.cmml">,</mo><mn id="S3.SS1.p1.4.m4.3.3" xref="S3.SS1.p1.4.m4.3.3.cmml">800</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.5b"><apply id="S3.SS1.p1.4.m4.5.5.3.cmml" xref="S3.SS1.p1.4.m4.5.5.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.5.5.3a.cmml" xref="S3.SS1.p1.4.m4.5.5.2.3">formulae-sequence</csymbol><apply id="S3.SS1.p1.4.m4.4.4.1.1.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1"><eq id="S3.SS1.p1.4.m4.4.4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.2"></eq><list id="S3.SS1.p1.4.m4.4.4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1"><cn type="integer" id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">3</cn><apply id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1"><ci id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.1">⋅</ci><cn type="integer" id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.2">072</cn><cn type="integer" id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.3">64</cn><cn type="integer" id="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.4.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.1.1.1.4">100</cn></apply></list><cn type="integer" id="S3.SS1.p1.4.m4.4.4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.4.4.1.1.3">19</cn></apply><list id="S3.SS1.p1.4.m4.5.5.2.2.1.cmml" xref="S3.SS1.p1.4.m4.5.5.2.2.2"><cn type="integer" id="S3.SS1.p1.4.m4.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2">660</cn><cn type="integer" id="S3.SS1.p1.4.m4.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3">800</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.5c">3,072\cdot 64\cdot 100=19,660,800</annotation></semantics></math> total gradients. These gradients come from the weights connecting the input image to the first FC layer, and the minimum size of the first FC layer would need to be <math id="S3.SS1.p1.5.m5.2" class="ltx_Math" alttext="6,400" display="inline"><semantics id="S3.SS1.p1.5.m5.2a"><mrow id="S3.SS1.p1.5.m5.2.3.2" xref="S3.SS1.p1.5.m5.2.3.1.cmml"><mn id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">6</mn><mo id="S3.SS1.p1.5.m5.2.3.2.1" xref="S3.SS1.p1.5.m5.2.3.1.cmml">,</mo><mn id="S3.SS1.p1.5.m5.2.2" xref="S3.SS1.p1.5.m5.2.2.cmml">400</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.2b"><list id="S3.SS1.p1.5.m5.2.3.1.cmml" xref="S3.SS1.p1.5.m5.2.3.2"><cn type="integer" id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">6</cn><cn type="integer" id="S3.SS1.p1.5.m5.2.2.cmml" xref="S3.SS1.p1.5.m5.2.2">400</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.2c">6,400</annotation></semantics></math> units just to be able to store all image information.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.6" class="ltx_p">However, this only considers the case where images are stored in the gradients perfectly. In reality, multiple images can activate the same neuron causing overlap as discussed in Section <a href="#S2" title="2 Related work ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, and in order to maintain a high leakage, the number of neurons must be greater than the total number of images. We find experimentally using the binning approach from Robbing the Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, that if the number of neurons is <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mn id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><cn type="integer" id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">4</annotation></semantics></math> times the number of images, we can achieve an overall leakage rate of <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="70-80\%" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mn id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">70</mn><mo id="S3.SS1.p2.2.m2.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.cmml">−</mo><mrow id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mn id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml">80</mn><mo id="S3.SS1.p2.2.m2.1.1.3.1" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><minus id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1"></minus><cn type="integer" id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">70</cn><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><csymbol cd="latexml" id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3.1">percent</csymbol><cn type="integer" id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">80</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">70-80\%</annotation></semantics></math> on Tiny ImageNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, and CIFAR-100 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. However, with the previous example, this would be over <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="78.6" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mn id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">78.6</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><cn type="float" id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">78.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">78.6</annotation></semantics></math> million gradients, where these gradients would come from the weight parameters of an inserted FC layer at the start of the network. Furthermore, another FC layer would be needed to resize the previous FC layer to the input image size prior to input to the rest of the model. This process then adds another <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="78.6" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mn id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">78.6</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><cn type="float" id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">78.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">78.6</annotation></semantics></math> million weight parameters, making the total size about <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="157.3" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mn id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">157.3</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><cn type="float" id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">157.3</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">157.3</annotation></semantics></math> million weights, roughly <math id="S3.SS1.p2.6.m6.1" class="ltx_math_unparsed" alttext="13.46\times" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><mrow id="S3.SS1.p2.6.m6.1b"><mn id="S3.SS1.p2.6.m6.1.1">13.46</mn><mo lspace="0.222em" id="S3.SS1.p2.6.m6.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">13.46\times</annotation></semantics></math> the size of a ResNet-18.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">From the previous example, we can see the difficulty in scaling linear layer leakage attacks to the FL setting in terms of model size. An increased model size will exacerbate the fundamental problem of FL: the clients have resource restrictions. This additional overhead will affect all aspects of resource constraints, increasing the memory required for storage and training the model along with the communication and computational costs associated. With a larger model size, receiving the model and sending the update back to the server will be more costly for the client. Similarly, a larger model will result in a longer time to compute the update. Our goal then is to minimize these costs.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Single client overhead and sparsity</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">A batch gradient is the average across all gradients of the individual training samples in the batch. Aggregation is done on top of the batch gradients across multiple clients. Following this, the aggregation of client updates can be interpreted as a single large batch aggregation. This leads to the natural perspective of prior work where an attack on an aggregate update is simply an attack on a single large batch. However, there is a key difference between a large batch update and multiple smaller batch updates being aggregated together to make up a single update when approaching from an attack perspective. Specifically, the storage requirement of linear layer leakage for each individual client is not the same as for all clients combined.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">For an individual client with a batch size of 64 on CIFAR-100, an FC layer needs to have <math id="S3.SS2.p2.1.m1.2" class="ltx_Math" alttext="786,432" display="inline"><semantics id="S3.SS2.p2.1.m1.2a"><mrow id="S3.SS2.p2.1.m1.2.3.2" xref="S3.SS2.p2.1.m1.2.3.1.cmml"><mn id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">786</mn><mo id="S3.SS2.p2.1.m1.2.3.2.1" xref="S3.SS2.p2.1.m1.2.3.1.cmml">,</mo><mn id="S3.SS2.p2.1.m1.2.2" xref="S3.SS2.p2.1.m1.2.2.cmml">432</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.2b"><list id="S3.SS2.p2.1.m1.2.3.1.cmml" xref="S3.SS2.p2.1.m1.2.3.2"><cn type="integer" id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">786</cn><cn type="integer" id="S3.SS2.p2.1.m1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2">432</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.2c">786,432</annotation></semantics></math> weight gradients to maintain a 4:1 ratio of neurons to images. This does not change regardless of how many other clients are present. While this is clear for individual client attacks, the application towards SA is much less obvious. Since an attacking server only has access to the aggregate update, the total number of weight gradients must still be large enough to store all images across all clients. However, our concern is with the resource overhead of individual clients. The prior work perspective of treating the aggregate update as a single large batch means each client must take on the full overhead of the total number of images. Despite this, individual clients only actually need enough for their own.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">Hence, we propose the use of sparsity as the primary method for decreasing the resource overhead of linear layer leakage. Given SA, a server can access only the aggregate update, and as a result, the model must still be large enough to contain all images across participating clients. However, each individual client update only needs to be large enough to support their own images. If all added parameters and gradients are zero outside of this small set used for each individual client’s images, the properties still hold. Thus, the added parameters for the entire model are large enough to store all images across clients, but individual clients will only have a small set of non-zero parameters. The size of this small set is also irrespective of the number of clients in the aggregation, only needing to scale to the batch size for each individual client. With a high level of sparsity in the model parameters and updates, sparse tensors can be utilized to decrease the resource overhead. Sparse tensors are representations aimed at the efficient storage of data that is mostly comprised of zeroes. We use the COO (coordinate) format, a common sparse representation in PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> that stores the indices and values of all the non-zero elements. When non-zero elements make up a small part of the total size, this leads to more efficient memory usage and quicker computation, both desirable traits for FL. Additional compression can also be used on top of sparsity to further decrease communication costs.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2303.14868/assets/x1.png" id="S3.F1.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="207" height="82" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F1.8.3.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S3.F1.5.2" class="ltx_text" style="font-size:90%;"> <span id="S3.F1.5.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> attack allows for sparsity by design. The red color indicates non-zero parameters and the white is zeros. The majority of added parameters come from the weights connecting the convolutional layer output and the first FC layer and only <math id="S3.F1.4.1.m1.1" class="ltx_Math" alttext="\frac{1}{N}" display="inline"><semantics id="S3.F1.4.1.m1.1b"><mfrac id="S3.F1.4.1.m1.1.1" xref="S3.F1.4.1.m1.1.1.cmml"><mn id="S3.F1.4.1.m1.1.1.2" xref="S3.F1.4.1.m1.1.1.2.cmml">1</mn><mi id="S3.F1.4.1.m1.1.1.3" xref="S3.F1.4.1.m1.1.1.3.cmml">N</mi></mfrac><annotation-xml encoding="MathML-Content" id="S3.F1.4.1.m1.1c"><apply id="S3.F1.4.1.m1.1.1.cmml" xref="S3.F1.4.1.m1.1.1"><divide id="S3.F1.4.1.m1.1.1.1.cmml" xref="S3.F1.4.1.m1.1.1"></divide><cn type="integer" id="S3.F1.4.1.m1.1.1.2.cmml" xref="S3.F1.4.1.m1.1.1.2">1</cn><ci id="S3.F1.4.1.m1.1.1.3.cmml" xref="S3.F1.4.1.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.4.1.m1.1d">\frac{1}{N}</annotation></semantics></math> of this is non-zero, where <math id="S3.F1.5.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.F1.5.2.m2.1b"><mi id="S3.F1.5.2.m2.1.1" xref="S3.F1.5.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.F1.5.2.m2.1c"><ci id="S3.F1.5.2.m2.1.1.cmml" xref="S3.F1.5.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.5.2.m2.1d">N</annotation></semantics></math> is the number of clients.</span></figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Convolutional layer for sparsity</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p"><span id="S3.SS3.p1.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> encapsulates the idea of producing sparsity within the attack design through the additional placement of a convolutional layer in front of the 2 FC layers used by standard linear layer leakage methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. Figure <a href="#S3.F1" title="Figure 1 ‣ 3.2 Single client overhead and sparsity ‣ 3 Decreasing the resource cost ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an attack overview. An input image to the convolutional layer can be directly passed through using a number of kernels equal to the image channels. Each convolutional kernel will push a different input channel forward using weight parameters of all zeros and a single one in the center of a different kernel channel. For a 3-channel image, only 3 convolutional kernels will be required to push the image through.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para ltx_noindent">
<p id="S3.SS3.p2.1" class="ltx_p">The addition of a convolutional layer allows another level of attack scalability in the number of convolutional kernels in the model. Particularly, the number of convolutional kernels is chosen based on the number of color channels in the input images, and this scales with the number of clients attacked. If we have 3-channel input images and 100 clients, <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="3\cdot 100=300" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mrow id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml"><mn id="S3.SS3.p2.1.m1.1.1.2.2" xref="S3.SS3.p2.1.m1.1.1.2.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p2.1.m1.1.1.2.1" xref="S3.SS3.p2.1.m1.1.1.2.1.cmml">⋅</mo><mn id="S3.SS3.p2.1.m1.1.1.2.3" xref="S3.SS3.p2.1.m1.1.1.2.3.cmml">100</mn></mrow><mo id="S3.SS3.p2.1.m1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">300</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><eq id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1"></eq><apply id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2"><ci id="S3.SS3.p2.1.m1.1.1.2.1.cmml" xref="S3.SS3.p2.1.m1.1.1.2.1">⋅</ci><cn type="integer" id="S3.SS3.p2.1.m1.1.1.2.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2.2">3</cn><cn type="integer" id="S3.SS3.p2.1.m1.1.1.2.3.cmml" xref="S3.SS3.p2.1.m1.1.1.2.3">100</cn></apply><cn type="integer" id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">300</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">3\cdot 100=300</annotation></semantics></math> kernels are used. Each client would use a different set of 3 kernels in the convolutional layer to push their images forward. All other kernel parameters can be set to zero. Similarly, only the weight parameters connecting the output of those 3 non-zero kernels to the FC layer will be non-zero. For this connection between convolutional output and the FC layer, the number of non-zero weight parameters would be</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.2" class="ltx_Math" alttext="|\{w_{N}\text{ s.t. }w_{N}\neq 0\}|=\frac{1}{N}\cdot|w_{N}|\vspace{-3 pt}" display="block"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E3.m1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml">N</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.2.1" xref="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml">​</mo><mtext id="S3.E3.m1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.3a.cmml"> s.t. </mtext><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.2.1a" xref="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.2.4" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.2.4.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4.2.cmml">w</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.2.4.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4.3.cmml">N</mi></msub></mrow><mo id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml">≠</mo><mn id="S3.E3.m1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.E3.m1.2.2.3" xref="S3.E3.m1.2.2.3.cmml">=</mo><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><mfrac id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.3.cmml"><mn id="S3.E3.m1.2.2.2.3.2" xref="S3.E3.m1.2.2.2.3.2.cmml">1</mn><mi id="S3.E3.m1.2.2.2.3.3" xref="S3.E3.m1.2.2.2.3.3.cmml">N</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">⋅</mo><mrow id="S3.E3.m1.2.2.2.1.1" xref="S3.E3.m1.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.2.1.1.2" xref="S3.E3.m1.2.2.2.1.2.1.cmml">|</mo><msub id="S3.E3.m1.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.cmml"><mi id="S3.E3.m1.2.2.2.1.1.1.2" xref="S3.E3.m1.2.2.2.1.1.1.2.cmml">w</mi><mi id="S3.E3.m1.2.2.2.1.1.1.3" xref="S3.E3.m1.2.2.2.1.1.1.3.cmml">N</mi></msub><mo stretchy="false" id="S3.E3.m1.2.2.2.1.1.3" xref="S3.E3.m1.2.2.2.1.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><eq id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2.3"></eq><apply id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1"><abs id="S3.E3.m1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2"></abs><set id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><apply id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1"><neq id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"></neq><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2"><times id="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.1"></times><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.2">𝑤</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3">𝑁</ci></apply><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.3"><mtext id="S3.E3.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.3"> s.t. </mtext></ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.4.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4.2">𝑤</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.4.3">𝑁</ci></apply></apply><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3">0</cn></apply></set></apply><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><ci id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2">⋅</ci><apply id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.3"><divide id="S3.E3.m1.2.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.3"></divide><cn type="integer" id="S3.E3.m1.2.2.2.3.2.cmml" xref="S3.E3.m1.2.2.2.3.2">1</cn><ci id="S3.E3.m1.2.2.2.3.3.cmml" xref="S3.E3.m1.2.2.2.3.3">𝑁</ci></apply><apply id="S3.E3.m1.2.2.2.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1"><abs id="S3.E3.m1.2.2.2.1.2.1.cmml" xref="S3.E3.m1.2.2.2.1.1.2"></abs><apply id="S3.E3.m1.2.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.2">𝑤</ci><ci id="S3.E3.m1.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3">𝑁</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">|\{w_{N}\text{ s.t. }w_{N}\neq 0\}|=\frac{1}{N}\cdot|w_{N}|\vspace{-3 pt}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.3" class="ltx_p">where <math id="S3.SS3.p2.2.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS3.p2.2.m1.1a"><mi id="S3.SS3.p2.2.m1.1.1" xref="S3.SS3.p2.2.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m1.1b"><ci id="S3.SS3.p2.2.m1.1.1.cmml" xref="S3.SS3.p2.2.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m1.1c">N</annotation></semantics></math> is the number of clients in aggregation and <math id="S3.SS3.p2.3.m2.1" class="ltx_Math" alttext="|w_{N}|" display="inline"><semantics id="S3.SS3.p2.3.m2.1a"><mrow id="S3.SS3.p2.3.m2.1.1.1" xref="S3.SS3.p2.3.m2.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p2.3.m2.1.1.1.2" xref="S3.SS3.p2.3.m2.1.1.2.1.cmml">|</mo><msub id="S3.SS3.p2.3.m2.1.1.1.1" xref="S3.SS3.p2.3.m2.1.1.1.1.cmml"><mi id="S3.SS3.p2.3.m2.1.1.1.1.2" xref="S3.SS3.p2.3.m2.1.1.1.1.2.cmml">w</mi><mi id="S3.SS3.p2.3.m2.1.1.1.1.3" xref="S3.SS3.p2.3.m2.1.1.1.1.3.cmml">N</mi></msub><mo stretchy="false" id="S3.SS3.p2.3.m2.1.1.1.3" xref="S3.SS3.p2.3.m2.1.1.2.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m2.1b"><apply id="S3.SS3.p2.3.m2.1.1.2.cmml" xref="S3.SS3.p2.3.m2.1.1.1"><abs id="S3.SS3.p2.3.m2.1.1.2.1.cmml" xref="S3.SS3.p2.3.m2.1.1.1.2"></abs><apply id="S3.SS3.p2.3.m2.1.1.1.1.cmml" xref="S3.SS3.p2.3.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m2.1.1.1.1.1.cmml" xref="S3.SS3.p2.3.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m2.1.1.1.1.2.cmml" xref="S3.SS3.p2.3.m2.1.1.1.1.2">𝑤</ci><ci id="S3.SS3.p2.3.m2.1.1.1.1.3.cmml" xref="S3.SS3.p2.3.m2.1.1.1.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m2.1c">|w_{N}|</annotation></semantics></math> is the total number of weight parameters connecting the convolutional output and FC layer. The number of non-zero weights is also constant regardless of the number of clients</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.2" class="ltx_Math" alttext="|\{w_{N}\text{ s.t. }w_{N}\neq 0\}|=|\{w_{N+1}\text{ s.t. }w_{N+1}\neq 0\}|" display="block"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml"><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E4.m1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.3.cmml">N</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.1.2.1" xref="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml">​</mo><mtext id="S3.E4.m1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.2.3a.cmml"> s.t. </mtext><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.1.2.1a" xref="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E4.m1.1.1.1.1.1.1.1.2.4" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.4.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4.2.cmml">w</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.4.3" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4.3.cmml">N</mi></msub></mrow><mo id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">≠</mo><mn id="S3.E4.m1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.E4.m1.2.2.3" xref="S3.E4.m1.2.2.3.cmml">=</mo><mrow id="S3.E4.m1.2.2.2.1" xref="S3.E4.m1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.1.cmml">|</mo><mrow id="S3.E4.m1.2.2.2.1.1.1" xref="S3.E4.m1.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.1.1.1.2" xref="S3.E4.m1.2.2.2.1.1.2.cmml">{</mo><mrow id="S3.E4.m1.2.2.2.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E4.m1.2.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.cmml"><msub id="S3.E4.m1.2.2.2.1.1.1.1.2.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.2.cmml">N</mi><mo id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.1" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.1.cmml">+</mo><mn id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.3" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.2.1.1.1.1.2.1" xref="S3.E4.m1.2.2.2.1.1.1.1.2.1.cmml">​</mo><mtext id="S3.E4.m1.2.2.2.1.1.1.1.2.3" xref="S3.E4.m1.2.2.2.1.1.1.1.2.3a.cmml"> s.t. </mtext><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.2.1.1.1.1.2.1a" xref="S3.E4.m1.2.2.2.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E4.m1.2.2.2.1.1.1.1.2.4" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.1.2.4.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.2.cmml">w</mi><mrow id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.2.cmml">N</mi><mo id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.1" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.1.cmml">+</mo><mn id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.3" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.3.cmml">1</mn></mrow></msub></mrow><mo id="S3.E4.m1.2.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.1.cmml">≠</mo><mn id="S3.E4.m1.2.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S3.E4.m1.2.2.2.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.2.cmml">}</mo></mrow><mo stretchy="false" id="S3.E4.m1.2.2.2.1.3" xref="S3.E4.m1.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2"><eq id="S3.E4.m1.2.2.3.cmml" xref="S3.E4.m1.2.2.3"></eq><apply id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1"><abs id="S3.E4.m1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2"></abs><set id="S3.E4.m1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><apply id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1"><neq id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1"></neq><apply id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2"><times id="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.1"></times><apply id="S3.E4.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.2">𝑤</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.3">𝑁</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.3"><mtext id="S3.E4.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.3"> s.t. </mtext></ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.2.4.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4.2">𝑤</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.4.3">𝑁</ci></apply></apply><cn type="integer" id="S3.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3">0</cn></apply></set></apply><apply id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.1"><abs id="S3.E4.m1.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.1.2"></abs><set id="S3.E4.m1.2.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1"><apply id="S3.E4.m1.2.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1"><neq id="S3.E4.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1"></neq><apply id="S3.E4.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2"><times id="S3.E4.m1.2.2.2.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.1"></times><apply id="S3.E4.m1.2.2.2.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.2.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.2">𝑤</ci><apply id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3"><plus id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.1"></plus><ci id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.2">𝑁</ci><cn type="integer" id="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.2.2.2.1.1.1.1.2.3a.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.3"><mtext id="S3.E4.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.3"> s.t. </mtext></ci><apply id="S3.E4.m1.2.2.2.1.1.1.1.2.4.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.1.1.1.2.4.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E4.m1.2.2.2.1.1.1.1.2.4.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.2">𝑤</ci><apply id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3"><plus id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.1"></plus><ci id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.2">𝑁</ci><cn type="integer" id="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.2.4.3.3">1</cn></apply></apply></apply><cn type="integer" id="S3.E4.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.3">0</cn></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">|\{w_{N}\text{ s.t. }w_{N}\neq 0\}|=|\{w_{N+1}\text{ s.t. }w_{N+1}\neq 0\}|</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.6" class="ltx_p">For a client batch size of 64 on CIFAR-100, using an FC layer of 256 units results in a leakage rate of <math id="S3.SS3.p2.4.m1.1" class="ltx_Math" alttext="77\%" display="inline"><semantics id="S3.SS3.p2.4.m1.1a"><mrow id="S3.SS3.p2.4.m1.1.1" xref="S3.SS3.p2.4.m1.1.1.cmml"><mn id="S3.SS3.p2.4.m1.1.1.2" xref="S3.SS3.p2.4.m1.1.1.2.cmml">77</mn><mo id="S3.SS3.p2.4.m1.1.1.1" xref="S3.SS3.p2.4.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m1.1b"><apply id="S3.SS3.p2.4.m1.1.1.cmml" xref="S3.SS3.p2.4.m1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.4.m1.1.1.1.cmml" xref="S3.SS3.p2.4.m1.1.1.1">percent</csymbol><cn type="integer" id="S3.SS3.p2.4.m1.1.1.2.cmml" xref="S3.SS3.p2.4.m1.1.1.2">77</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m1.1c">77\%</annotation></semantics></math> using the same binning strategy of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. The number of non-zero weight parameters between the convolutional output and FC layer would be <math id="S3.SS3.p2.5.m2.3" class="ltx_Math" alttext="(32\cdot 32\cdot 3)\cdot 256=786,432" display="inline"><semantics id="S3.SS3.p2.5.m2.3a"><mrow id="S3.SS3.p2.5.m2.3.3" xref="S3.SS3.p2.5.m2.3.3.cmml"><mrow id="S3.SS3.p2.5.m2.3.3.1" xref="S3.SS3.p2.5.m2.3.3.1.cmml"><mrow id="S3.SS3.p2.5.m2.3.3.1.1.1" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.5.m2.3.3.1.1.1.2" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.5.m2.3.3.1.1.1.1" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.cmml"><mn id="S3.SS3.p2.5.m2.3.3.1.1.1.1.2" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p2.5.m2.3.3.1.1.1.1.1" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.1.cmml">⋅</mo><mn id="S3.SS3.p2.5.m2.3.3.1.1.1.1.3" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.3.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p2.5.m2.3.3.1.1.1.1.1a" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.1.cmml">⋅</mo><mn id="S3.SS3.p2.5.m2.3.3.1.1.1.1.4" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.4.cmml">3</mn></mrow><mo rspace="0.055em" stretchy="false" id="S3.SS3.p2.5.m2.3.3.1.1.1.3" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="S3.SS3.p2.5.m2.3.3.1.2" xref="S3.SS3.p2.5.m2.3.3.1.2.cmml">⋅</mo><mn id="S3.SS3.p2.5.m2.3.3.1.3" xref="S3.SS3.p2.5.m2.3.3.1.3.cmml">256</mn></mrow><mo id="S3.SS3.p2.5.m2.3.3.2" xref="S3.SS3.p2.5.m2.3.3.2.cmml">=</mo><mrow id="S3.SS3.p2.5.m2.3.3.3.2" xref="S3.SS3.p2.5.m2.3.3.3.1.cmml"><mn id="S3.SS3.p2.5.m2.1.1" xref="S3.SS3.p2.5.m2.1.1.cmml">786</mn><mo id="S3.SS3.p2.5.m2.3.3.3.2.1" xref="S3.SS3.p2.5.m2.3.3.3.1.cmml">,</mo><mn id="S3.SS3.p2.5.m2.2.2" xref="S3.SS3.p2.5.m2.2.2.cmml">432</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m2.3b"><apply id="S3.SS3.p2.5.m2.3.3.cmml" xref="S3.SS3.p2.5.m2.3.3"><eq id="S3.SS3.p2.5.m2.3.3.2.cmml" xref="S3.SS3.p2.5.m2.3.3.2"></eq><apply id="S3.SS3.p2.5.m2.3.3.1.cmml" xref="S3.SS3.p2.5.m2.3.3.1"><ci id="S3.SS3.p2.5.m2.3.3.1.2.cmml" xref="S3.SS3.p2.5.m2.3.3.1.2">⋅</ci><apply id="S3.SS3.p2.5.m2.3.3.1.1.1.1.cmml" xref="S3.SS3.p2.5.m2.3.3.1.1.1"><ci id="S3.SS3.p2.5.m2.3.3.1.1.1.1.1.cmml" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.1">⋅</ci><cn type="integer" id="S3.SS3.p2.5.m2.3.3.1.1.1.1.2.cmml" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.2">32</cn><cn type="integer" id="S3.SS3.p2.5.m2.3.3.1.1.1.1.3.cmml" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.3">32</cn><cn type="integer" id="S3.SS3.p2.5.m2.3.3.1.1.1.1.4.cmml" xref="S3.SS3.p2.5.m2.3.3.1.1.1.1.4">3</cn></apply><cn type="integer" id="S3.SS3.p2.5.m2.3.3.1.3.cmml" xref="S3.SS3.p2.5.m2.3.3.1.3">256</cn></apply><list id="S3.SS3.p2.5.m2.3.3.3.1.cmml" xref="S3.SS3.p2.5.m2.3.3.3.2"><cn type="integer" id="S3.SS3.p2.5.m2.1.1.cmml" xref="S3.SS3.p2.5.m2.1.1">786</cn><cn type="integer" id="S3.SS3.p2.5.m2.2.2.cmml" xref="S3.SS3.p2.5.m2.2.2">432</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m2.3c">(32\cdot 32\cdot 3)\cdot 256=786,432</annotation></semantics></math>, only <math id="S3.SS3.p2.6.m3.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S3.SS3.p2.6.m3.1a"><mrow id="S3.SS3.p2.6.m3.1.1" xref="S3.SS3.p2.6.m3.1.1.cmml"><mn id="S3.SS3.p2.6.m3.1.1.2" xref="S3.SS3.p2.6.m3.1.1.2.cmml">1</mn><mo id="S3.SS3.p2.6.m3.1.1.1" xref="S3.SS3.p2.6.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m3.1b"><apply id="S3.SS3.p2.6.m3.1.1.cmml" xref="S3.SS3.p2.6.m3.1.1"><csymbol cd="latexml" id="S3.SS3.p2.6.m3.1.1.1.cmml" xref="S3.SS3.p2.6.m3.1.1.1">percent</csymbol><cn type="integer" id="S3.SS3.p2.6.m3.1.1.2.cmml" xref="S3.SS3.p2.6.m3.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m3.1c">1\%</annotation></semantics></math> of the number of non-zero parameters compared to prior work.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para ltx_noindent">
<p id="S3.SS3.p3.2" class="ltx_p">Additionally, scaling the convolutional layer means that the FC layer will stay at a fixed size and only scale to the client batch size. This is particularly useful for preventing a size increase in the weights of the second FC layer. Since the second FC layer resizes the output of the previous FC layer (used for leakage) to the size of the input image, naively increasing the size of the first FC layer results in an increase in the same increase in the size of the second. The final design then has these layer sizes. The convolutional layer has <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="N\times input_{ch}" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><mrow id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mrow id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2.2" xref="S3.SS3.p3.1.m1.1.1.2.2.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p3.1.m1.1.1.2.1" xref="S3.SS3.p3.1.m1.1.1.2.1.cmml">×</mo><mi id="S3.SS3.p3.1.m1.1.1.2.3" xref="S3.SS3.p3.1.m1.1.1.2.3.cmml">i</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p3.1.m1.1.1.1" xref="S3.SS3.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.1.m1.1.1.1a" xref="S3.SS3.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p3.1.m1.1.1.4" xref="S3.SS3.p3.1.m1.1.1.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.1.m1.1.1.1b" xref="S3.SS3.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p3.1.m1.1.1.5" xref="S3.SS3.p3.1.m1.1.1.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.1.m1.1.1.1c" xref="S3.SS3.p3.1.m1.1.1.1.cmml">​</mo><msub id="S3.SS3.p3.1.m1.1.1.6" xref="S3.SS3.p3.1.m1.1.1.6.cmml"><mi id="S3.SS3.p3.1.m1.1.1.6.2" xref="S3.SS3.p3.1.m1.1.1.6.2.cmml">t</mi><mrow id="S3.SS3.p3.1.m1.1.1.6.3" xref="S3.SS3.p3.1.m1.1.1.6.3.cmml"><mi id="S3.SS3.p3.1.m1.1.1.6.3.2" xref="S3.SS3.p3.1.m1.1.1.6.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.1.m1.1.1.6.3.1" xref="S3.SS3.p3.1.m1.1.1.6.3.1.cmml">​</mo><mi id="S3.SS3.p3.1.m1.1.1.6.3.3" xref="S3.SS3.p3.1.m1.1.1.6.3.3.cmml">h</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><times id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1.1"></times><apply id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2"><times id="S3.SS3.p3.1.m1.1.1.2.1.cmml" xref="S3.SS3.p3.1.m1.1.1.2.1"></times><ci id="S3.SS3.p3.1.m1.1.1.2.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2.2">𝑁</ci><ci id="S3.SS3.p3.1.m1.1.1.2.3.cmml" xref="S3.SS3.p3.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3">𝑛</ci><ci id="S3.SS3.p3.1.m1.1.1.4.cmml" xref="S3.SS3.p3.1.m1.1.1.4">𝑝</ci><ci id="S3.SS3.p3.1.m1.1.1.5.cmml" xref="S3.SS3.p3.1.m1.1.1.5">𝑢</ci><apply id="S3.SS3.p3.1.m1.1.1.6.cmml" xref="S3.SS3.p3.1.m1.1.1.6"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.6.1.cmml" xref="S3.SS3.p3.1.m1.1.1.6">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.6.2.cmml" xref="S3.SS3.p3.1.m1.1.1.6.2">𝑡</ci><apply id="S3.SS3.p3.1.m1.1.1.6.3.cmml" xref="S3.SS3.p3.1.m1.1.1.6.3"><times id="S3.SS3.p3.1.m1.1.1.6.3.1.cmml" xref="S3.SS3.p3.1.m1.1.1.6.3.1"></times><ci id="S3.SS3.p3.1.m1.1.1.6.3.2.cmml" xref="S3.SS3.p3.1.m1.1.1.6.3.2">𝑐</ci><ci id="S3.SS3.p3.1.m1.1.1.6.3.3.cmml" xref="S3.SS3.p3.1.m1.1.1.6.3.3">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">N\times input_{ch}</annotation></semantics></math> kernels, the first FC layer has a number of units equal to batch size <math id="S3.SS3.p3.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S3.SS3.p3.2.m2.1a"><mo id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><times id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">\times</annotation></semantics></math> 4 (the ratio of neurons to images), and the second FC layer has a number of units equal to the input image size. What we then see is that <span id="S3.SS3.p3.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> has roughly half the total parameters of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> while maintaining the same leakage rate. The number of weight parameters (non-zero and zero) is</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.3" class="ltx_Math" alttext="|w_{N}|=dim_{input}\cdot N\cdot|\text{FC layer}|+|\text{FC layer}|\cdot dim_{input}" display="block"><semantics id="S3.E5.m1.3a"><mrow id="S3.E5.m1.3.3" xref="S3.E5.m1.3.3.cmml"><mrow id="S3.E5.m1.3.3.1.1" xref="S3.E5.m1.3.3.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.1.1.2" xref="S3.E5.m1.3.3.1.2.1.cmml">|</mo><msub id="S3.E5.m1.3.3.1.1.1" xref="S3.E5.m1.3.3.1.1.1.cmml"><mi id="S3.E5.m1.3.3.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.2.cmml">w</mi><mi id="S3.E5.m1.3.3.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.3.cmml">N</mi></msub><mo stretchy="false" id="S3.E5.m1.3.3.1.1.3" xref="S3.E5.m1.3.3.1.2.1.cmml">|</mo></mrow><mo id="S3.E5.m1.3.3.2" xref="S3.E5.m1.3.3.2.cmml">=</mo><mrow id="S3.E5.m1.3.3.3" xref="S3.E5.m1.3.3.3.cmml"><mrow id="S3.E5.m1.3.3.3.2" xref="S3.E5.m1.3.3.3.2.cmml"><mrow id="S3.E5.m1.3.3.3.2.2" xref="S3.E5.m1.3.3.3.2.2.cmml"><mi id="S3.E5.m1.3.3.3.2.2.2" xref="S3.E5.m1.3.3.3.2.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.1" xref="S3.E5.m1.3.3.3.2.2.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.2.2.3" xref="S3.E5.m1.3.3.3.2.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.1a" xref="S3.E5.m1.3.3.3.2.2.1.cmml">​</mo><msub id="S3.E5.m1.3.3.3.2.2.4" xref="S3.E5.m1.3.3.3.2.2.4.cmml"><mi id="S3.E5.m1.3.3.3.2.2.4.2" xref="S3.E5.m1.3.3.3.2.2.4.2.cmml">m</mi><mrow id="S3.E5.m1.3.3.3.2.2.4.3" xref="S3.E5.m1.3.3.3.2.2.4.3.cmml"><mi id="S3.E5.m1.3.3.3.2.2.4.3.2" xref="S3.E5.m1.3.3.3.2.2.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.4.3.1" xref="S3.E5.m1.3.3.3.2.2.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.2.2.4.3.3" xref="S3.E5.m1.3.3.3.2.2.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.4.3.1a" xref="S3.E5.m1.3.3.3.2.2.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.2.2.4.3.4" xref="S3.E5.m1.3.3.3.2.2.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.4.3.1b" xref="S3.E5.m1.3.3.3.2.2.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.2.2.4.3.5" xref="S3.E5.m1.3.3.3.2.2.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.2.2.4.3.1c" xref="S3.E5.m1.3.3.3.2.2.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.2.2.4.3.6" xref="S3.E5.m1.3.3.3.2.2.4.3.6.cmml">t</mi></mrow></msub></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.3.3.3.2.1" xref="S3.E5.m1.3.3.3.2.1.cmml">⋅</mo><mi id="S3.E5.m1.3.3.3.2.3" xref="S3.E5.m1.3.3.3.2.3.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.3.3.3.2.1a" xref="S3.E5.m1.3.3.3.2.1.cmml">⋅</mo><mrow id="S3.E5.m1.3.3.3.2.4.2" xref="S3.E5.m1.3.3.3.2.4.1.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.3.2.4.2.1" xref="S3.E5.m1.3.3.3.2.4.1.1.cmml">|</mo><mtext id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1a.cmml">FC layer</mtext><mo stretchy="false" id="S3.E5.m1.3.3.3.2.4.2.2" xref="S3.E5.m1.3.3.3.2.4.1.1.cmml">|</mo></mrow></mrow><mo id="S3.E5.m1.3.3.3.1" xref="S3.E5.m1.3.3.3.1.cmml">+</mo><mrow id="S3.E5.m1.3.3.3.3" xref="S3.E5.m1.3.3.3.3.cmml"><mrow id="S3.E5.m1.3.3.3.3.2" xref="S3.E5.m1.3.3.3.3.2.cmml"><mrow id="S3.E5.m1.3.3.3.3.2.2.2" xref="S3.E5.m1.3.3.3.3.2.2.1.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.3.3.2.2.2.1" xref="S3.E5.m1.3.3.3.3.2.2.1.1.cmml">|</mo><mtext id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2a.cmml">FC layer</mtext><mo rspace="0.055em" stretchy="false" id="S3.E5.m1.3.3.3.3.2.2.2.2" xref="S3.E5.m1.3.3.3.3.2.2.1.1.cmml">|</mo></mrow><mo rspace="0.222em" id="S3.E5.m1.3.3.3.3.2.1" xref="S3.E5.m1.3.3.3.3.2.1.cmml">⋅</mo><mi id="S3.E5.m1.3.3.3.3.2.3" xref="S3.E5.m1.3.3.3.3.2.3.cmml">d</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.1" xref="S3.E5.m1.3.3.3.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.3.3" xref="S3.E5.m1.3.3.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.1a" xref="S3.E5.m1.3.3.3.3.1.cmml">​</mo><msub id="S3.E5.m1.3.3.3.3.4" xref="S3.E5.m1.3.3.3.3.4.cmml"><mi id="S3.E5.m1.3.3.3.3.4.2" xref="S3.E5.m1.3.3.3.3.4.2.cmml">m</mi><mrow id="S3.E5.m1.3.3.3.3.4.3" xref="S3.E5.m1.3.3.3.3.4.3.cmml"><mi id="S3.E5.m1.3.3.3.3.4.3.2" xref="S3.E5.m1.3.3.3.3.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.4.3.1" xref="S3.E5.m1.3.3.3.3.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.3.4.3.3" xref="S3.E5.m1.3.3.3.3.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.4.3.1a" xref="S3.E5.m1.3.3.3.3.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.3.4.3.4" xref="S3.E5.m1.3.3.3.3.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.4.3.1b" xref="S3.E5.m1.3.3.3.3.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.3.4.3.5" xref="S3.E5.m1.3.3.3.3.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.3.3.4.3.1c" xref="S3.E5.m1.3.3.3.3.4.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.3.3.4.3.6" xref="S3.E5.m1.3.3.3.3.4.3.6.cmml">t</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.3b"><apply id="S3.E5.m1.3.3.cmml" xref="S3.E5.m1.3.3"><eq id="S3.E5.m1.3.3.2.cmml" xref="S3.E5.m1.3.3.2"></eq><apply id="S3.E5.m1.3.3.1.2.cmml" xref="S3.E5.m1.3.3.1.1"><abs id="S3.E5.m1.3.3.1.2.1.cmml" xref="S3.E5.m1.3.3.1.1.2"></abs><apply id="S3.E5.m1.3.3.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.2">𝑤</ci><ci id="S3.E5.m1.3.3.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.3">𝑁</ci></apply></apply><apply id="S3.E5.m1.3.3.3.cmml" xref="S3.E5.m1.3.3.3"><plus id="S3.E5.m1.3.3.3.1.cmml" xref="S3.E5.m1.3.3.3.1"></plus><apply id="S3.E5.m1.3.3.3.2.cmml" xref="S3.E5.m1.3.3.3.2"><ci id="S3.E5.m1.3.3.3.2.1.cmml" xref="S3.E5.m1.3.3.3.2.1">⋅</ci><apply id="S3.E5.m1.3.3.3.2.2.cmml" xref="S3.E5.m1.3.3.3.2.2"><times id="S3.E5.m1.3.3.3.2.2.1.cmml" xref="S3.E5.m1.3.3.3.2.2.1"></times><ci id="S3.E5.m1.3.3.3.2.2.2.cmml" xref="S3.E5.m1.3.3.3.2.2.2">𝑑</ci><ci id="S3.E5.m1.3.3.3.2.2.3.cmml" xref="S3.E5.m1.3.3.3.2.2.3">𝑖</ci><apply id="S3.E5.m1.3.3.3.2.2.4.cmml" xref="S3.E5.m1.3.3.3.2.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.2.2.4.1.cmml" xref="S3.E5.m1.3.3.3.2.2.4">subscript</csymbol><ci id="S3.E5.m1.3.3.3.2.2.4.2.cmml" xref="S3.E5.m1.3.3.3.2.2.4.2">𝑚</ci><apply id="S3.E5.m1.3.3.3.2.2.4.3.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3"><times id="S3.E5.m1.3.3.3.2.2.4.3.1.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.1"></times><ci id="S3.E5.m1.3.3.3.2.2.4.3.2.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.2">𝑖</ci><ci id="S3.E5.m1.3.3.3.2.2.4.3.3.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.3">𝑛</ci><ci id="S3.E5.m1.3.3.3.2.2.4.3.4.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.4">𝑝</ci><ci id="S3.E5.m1.3.3.3.2.2.4.3.5.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.5">𝑢</ci><ci id="S3.E5.m1.3.3.3.2.2.4.3.6.cmml" xref="S3.E5.m1.3.3.3.2.2.4.3.6">𝑡</ci></apply></apply></apply><ci id="S3.E5.m1.3.3.3.2.3.cmml" xref="S3.E5.m1.3.3.3.2.3">𝑁</ci><apply id="S3.E5.m1.3.3.3.2.4.1.cmml" xref="S3.E5.m1.3.3.3.2.4.2"><abs id="S3.E5.m1.3.3.3.2.4.1.1.cmml" xref="S3.E5.m1.3.3.3.2.4.2.1"></abs><ci id="S3.E5.m1.1.1a.cmml" xref="S3.E5.m1.1.1"><mtext id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">FC layer</mtext></ci></apply></apply><apply id="S3.E5.m1.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3"><times id="S3.E5.m1.3.3.3.3.1.cmml" xref="S3.E5.m1.3.3.3.3.1"></times><apply id="S3.E5.m1.3.3.3.3.2.cmml" xref="S3.E5.m1.3.3.3.3.2"><ci id="S3.E5.m1.3.3.3.3.2.1.cmml" xref="S3.E5.m1.3.3.3.3.2.1">⋅</ci><apply id="S3.E5.m1.3.3.3.3.2.2.1.cmml" xref="S3.E5.m1.3.3.3.3.2.2.2"><abs id="S3.E5.m1.3.3.3.3.2.2.1.1.cmml" xref="S3.E5.m1.3.3.3.3.2.2.2.1"></abs><ci id="S3.E5.m1.2.2a.cmml" xref="S3.E5.m1.2.2"><mtext id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2">FC layer</mtext></ci></apply><ci id="S3.E5.m1.3.3.3.3.2.3.cmml" xref="S3.E5.m1.3.3.3.3.2.3">𝑑</ci></apply><ci id="S3.E5.m1.3.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3.3">𝑖</ci><apply id="S3.E5.m1.3.3.3.3.4.cmml" xref="S3.E5.m1.3.3.3.3.4"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.4.1.cmml" xref="S3.E5.m1.3.3.3.3.4">subscript</csymbol><ci id="S3.E5.m1.3.3.3.3.4.2.cmml" xref="S3.E5.m1.3.3.3.3.4.2">𝑚</ci><apply id="S3.E5.m1.3.3.3.3.4.3.cmml" xref="S3.E5.m1.3.3.3.3.4.3"><times id="S3.E5.m1.3.3.3.3.4.3.1.cmml" xref="S3.E5.m1.3.3.3.3.4.3.1"></times><ci id="S3.E5.m1.3.3.3.3.4.3.2.cmml" xref="S3.E5.m1.3.3.3.3.4.3.2">𝑖</ci><ci id="S3.E5.m1.3.3.3.3.4.3.3.cmml" xref="S3.E5.m1.3.3.3.3.4.3.3">𝑛</ci><ci id="S3.E5.m1.3.3.3.3.4.3.4.cmml" xref="S3.E5.m1.3.3.3.3.4.3.4">𝑝</ci><ci id="S3.E5.m1.3.3.3.3.4.3.5.cmml" xref="S3.E5.m1.3.3.3.3.4.3.5">𝑢</ci><ci id="S3.E5.m1.3.3.3.3.4.3.6.cmml" xref="S3.E5.m1.3.3.3.3.4.3.6">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.3c">|w_{N}|=dim_{input}\cdot N\cdot|\text{FC layer}|+|\text{FC layer}|\cdot dim_{input}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p3.5" class="ltx_p">where <math id="S3.SS3.p3.3.m1.1" class="ltx_Math" alttext="dim_{input}" display="inline"><semantics id="S3.SS3.p3.3.m1.1a"><mrow id="S3.SS3.p3.3.m1.1.1" xref="S3.SS3.p3.3.m1.1.1.cmml"><mi id="S3.SS3.p3.3.m1.1.1.2" xref="S3.SS3.p3.3.m1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.1" xref="S3.SS3.p3.3.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p3.3.m1.1.1.3" xref="S3.SS3.p3.3.m1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.1a" xref="S3.SS3.p3.3.m1.1.1.1.cmml">​</mo><msub id="S3.SS3.p3.3.m1.1.1.4" xref="S3.SS3.p3.3.m1.1.1.4.cmml"><mi id="S3.SS3.p3.3.m1.1.1.4.2" xref="S3.SS3.p3.3.m1.1.1.4.2.cmml">m</mi><mrow id="S3.SS3.p3.3.m1.1.1.4.3" xref="S3.SS3.p3.3.m1.1.1.4.3.cmml"><mi id="S3.SS3.p3.3.m1.1.1.4.3.2" xref="S3.SS3.p3.3.m1.1.1.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.4.3.1" xref="S3.SS3.p3.3.m1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS3.p3.3.m1.1.1.4.3.3" xref="S3.SS3.p3.3.m1.1.1.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.4.3.1a" xref="S3.SS3.p3.3.m1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS3.p3.3.m1.1.1.4.3.4" xref="S3.SS3.p3.3.m1.1.1.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.4.3.1b" xref="S3.SS3.p3.3.m1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS3.p3.3.m1.1.1.4.3.5" xref="S3.SS3.p3.3.m1.1.1.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p3.3.m1.1.1.4.3.1c" xref="S3.SS3.p3.3.m1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS3.p3.3.m1.1.1.4.3.6" xref="S3.SS3.p3.3.m1.1.1.4.3.6.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m1.1b"><apply id="S3.SS3.p3.3.m1.1.1.cmml" xref="S3.SS3.p3.3.m1.1.1"><times id="S3.SS3.p3.3.m1.1.1.1.cmml" xref="S3.SS3.p3.3.m1.1.1.1"></times><ci id="S3.SS3.p3.3.m1.1.1.2.cmml" xref="S3.SS3.p3.3.m1.1.1.2">𝑑</ci><ci id="S3.SS3.p3.3.m1.1.1.3.cmml" xref="S3.SS3.p3.3.m1.1.1.3">𝑖</ci><apply id="S3.SS3.p3.3.m1.1.1.4.cmml" xref="S3.SS3.p3.3.m1.1.1.4"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m1.1.1.4.1.cmml" xref="S3.SS3.p3.3.m1.1.1.4">subscript</csymbol><ci id="S3.SS3.p3.3.m1.1.1.4.2.cmml" xref="S3.SS3.p3.3.m1.1.1.4.2">𝑚</ci><apply id="S3.SS3.p3.3.m1.1.1.4.3.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3"><times id="S3.SS3.p3.3.m1.1.1.4.3.1.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.1"></times><ci id="S3.SS3.p3.3.m1.1.1.4.3.2.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.2">𝑖</ci><ci id="S3.SS3.p3.3.m1.1.1.4.3.3.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.3">𝑛</ci><ci id="S3.SS3.p3.3.m1.1.1.4.3.4.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.4">𝑝</ci><ci id="S3.SS3.p3.3.m1.1.1.4.3.5.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.5">𝑢</ci><ci id="S3.SS3.p3.3.m1.1.1.4.3.6.cmml" xref="S3.SS3.p3.3.m1.1.1.4.3.6">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m1.1c">dim_{input}</annotation></semantics></math> is the input image size. The <math id="S3.SS3.p3.4.m2.1" class="ltx_Math" alttext="|\text{FC layer}|" display="inline"><semantics id="S3.SS3.p3.4.m2.1a"><mrow id="S3.SS3.p3.4.m2.1.2.2" xref="S3.SS3.p3.4.m2.1.2.1.cmml"><mo stretchy="false" id="S3.SS3.p3.4.m2.1.2.2.1" xref="S3.SS3.p3.4.m2.1.2.1.1.cmml">|</mo><mtext id="S3.SS3.p3.4.m2.1.1" xref="S3.SS3.p3.4.m2.1.1a.cmml">FC layer</mtext><mo stretchy="false" id="S3.SS3.p3.4.m2.1.2.2.2" xref="S3.SS3.p3.4.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m2.1b"><apply id="S3.SS3.p3.4.m2.1.2.1.cmml" xref="S3.SS3.p3.4.m2.1.2.2"><abs id="S3.SS3.p3.4.m2.1.2.1.1.cmml" xref="S3.SS3.p3.4.m2.1.2.2.1"></abs><ci id="S3.SS3.p3.4.m2.1.1a.cmml" xref="S3.SS3.p3.4.m2.1.1"><mtext id="S3.SS3.p3.4.m2.1.1.cmml" xref="S3.SS3.p3.4.m2.1.1">FC layer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m2.1c">|\text{FC layer}|</annotation></semantics></math> depends on the batch size and does not change regardless of the number of clients. For a batch size of 64, we fix it to be 256 units and achieve a <math id="S3.SS3.p3.5.m3.1" class="ltx_Math" alttext="77\%" display="inline"><semantics id="S3.SS3.p3.5.m3.1a"><mrow id="S3.SS3.p3.5.m3.1.1" xref="S3.SS3.p3.5.m3.1.1.cmml"><mn id="S3.SS3.p3.5.m3.1.1.2" xref="S3.SS3.p3.5.m3.1.1.2.cmml">77</mn><mo id="S3.SS3.p3.5.m3.1.1.1" xref="S3.SS3.p3.5.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m3.1b"><apply id="S3.SS3.p3.5.m3.1.1.cmml" xref="S3.SS3.p3.5.m3.1.1"><csymbol cd="latexml" id="S3.SS3.p3.5.m3.1.1.1.cmml" xref="S3.SS3.p3.5.m3.1.1.1">percent</csymbol><cn type="integer" id="S3.SS3.p3.5.m3.1.1.2.cmml" xref="S3.SS3.p3.5.m3.1.1.2">77</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m3.1c">77\%</annotation></semantics></math> total leakage rate. Increasing or decreasing this layer size further can result in a higher or lower leakage rate and model size respectively.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<p id="S3.SS3.p4.4" class="ltx_p">On the other hand, Robbing the Fed, which achieves prior SOTA in leakage rate and number of additional parameters, adds a total number of <math id="S3.SS3.p4.1.m1.4" class="ltx_Math" alttext="|w_{N,RtF}|=2\cdot dim_{input}\cdot N\cdot|\text{FC layer}|" display="inline"><semantics id="S3.SS3.p4.1.m1.4a"><mrow id="S3.SS3.p4.1.m1.4.4" xref="S3.SS3.p4.1.m1.4.4.cmml"><mrow id="S3.SS3.p4.1.m1.4.4.1.1" xref="S3.SS3.p4.1.m1.4.4.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.1.m1.4.4.1.1.2" xref="S3.SS3.p4.1.m1.4.4.1.2.1.cmml">|</mo><msub id="S3.SS3.p4.1.m1.4.4.1.1.1" xref="S3.SS3.p4.1.m1.4.4.1.1.1.cmml"><mi id="S3.SS3.p4.1.m1.4.4.1.1.1.2" xref="S3.SS3.p4.1.m1.4.4.1.1.1.2.cmml">w</mi><mrow id="S3.SS3.p4.1.m1.2.2.2.2" xref="S3.SS3.p4.1.m1.2.2.2.3.cmml"><mi id="S3.SS3.p4.1.m1.1.1.1.1" xref="S3.SS3.p4.1.m1.1.1.1.1.cmml">N</mi><mo id="S3.SS3.p4.1.m1.2.2.2.2.2" xref="S3.SS3.p4.1.m1.2.2.2.3.cmml">,</mo><mrow id="S3.SS3.p4.1.m1.2.2.2.2.1" xref="S3.SS3.p4.1.m1.2.2.2.2.1.cmml"><mi id="S3.SS3.p4.1.m1.2.2.2.2.1.2" xref="S3.SS3.p4.1.m1.2.2.2.2.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.2.2.2.2.1.1" xref="S3.SS3.p4.1.m1.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.2.2.2.2.1.3" xref="S3.SS3.p4.1.m1.2.2.2.2.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.2.2.2.2.1.1a" xref="S3.SS3.p4.1.m1.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.2.2.2.2.1.4" xref="S3.SS3.p4.1.m1.2.2.2.2.1.4.cmml">F</mi></mrow></mrow></msub><mo stretchy="false" id="S3.SS3.p4.1.m1.4.4.1.1.3" xref="S3.SS3.p4.1.m1.4.4.1.2.1.cmml">|</mo></mrow><mo id="S3.SS3.p4.1.m1.4.4.2" xref="S3.SS3.p4.1.m1.4.4.2.cmml">=</mo><mrow id="S3.SS3.p4.1.m1.4.4.3" xref="S3.SS3.p4.1.m1.4.4.3.cmml"><mrow id="S3.SS3.p4.1.m1.4.4.3.2" xref="S3.SS3.p4.1.m1.4.4.3.2.cmml"><mrow id="S3.SS3.p4.1.m1.4.4.3.2.2" xref="S3.SS3.p4.1.m1.4.4.3.2.2.cmml"><mn id="S3.SS3.p4.1.m1.4.4.3.2.2.2" xref="S3.SS3.p4.1.m1.4.4.3.2.2.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p4.1.m1.4.4.3.2.2.1" xref="S3.SS3.p4.1.m1.4.4.3.2.2.1.cmml">⋅</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.2.3" xref="S3.SS3.p4.1.m1.4.4.3.2.2.3.cmml">d</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.1" xref="S3.SS3.p4.1.m1.4.4.3.2.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.3" xref="S3.SS3.p4.1.m1.4.4.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.1a" xref="S3.SS3.p4.1.m1.4.4.3.2.1.cmml">​</mo><msub id="S3.SS3.p4.1.m1.4.4.3.2.4" xref="S3.SS3.p4.1.m1.4.4.3.2.4.cmml"><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.2" xref="S3.SS3.p4.1.m1.4.4.3.2.4.2.cmml">m</mi><mrow id="S3.SS3.p4.1.m1.4.4.3.2.4.3" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.cmml"><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.3.2" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.4.3.1" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.3.3" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.4.3.1a" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.3.4" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.4.3.1b" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.3.5" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.1.m1.4.4.3.2.4.3.1c" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.1.cmml">​</mo><mi id="S3.SS3.p4.1.m1.4.4.3.2.4.3.6" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.6.cmml">t</mi></mrow></msub></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p4.1.m1.4.4.3.1" xref="S3.SS3.p4.1.m1.4.4.3.1.cmml">⋅</mo><mi id="S3.SS3.p4.1.m1.4.4.3.3" xref="S3.SS3.p4.1.m1.4.4.3.3.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p4.1.m1.4.4.3.1a" xref="S3.SS3.p4.1.m1.4.4.3.1.cmml">⋅</mo><mrow id="S3.SS3.p4.1.m1.4.4.3.4.2" xref="S3.SS3.p4.1.m1.4.4.3.4.1.cmml"><mo stretchy="false" id="S3.SS3.p4.1.m1.4.4.3.4.2.1" xref="S3.SS3.p4.1.m1.4.4.3.4.1.1.cmml">|</mo><mtext id="S3.SS3.p4.1.m1.3.3" xref="S3.SS3.p4.1.m1.3.3a.cmml">FC layer</mtext><mo stretchy="false" id="S3.SS3.p4.1.m1.4.4.3.4.2.2" xref="S3.SS3.p4.1.m1.4.4.3.4.1.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.4b"><apply id="S3.SS3.p4.1.m1.4.4.cmml" xref="S3.SS3.p4.1.m1.4.4"><eq id="S3.SS3.p4.1.m1.4.4.2.cmml" xref="S3.SS3.p4.1.m1.4.4.2"></eq><apply id="S3.SS3.p4.1.m1.4.4.1.2.cmml" xref="S3.SS3.p4.1.m1.4.4.1.1"><abs id="S3.SS3.p4.1.m1.4.4.1.2.1.cmml" xref="S3.SS3.p4.1.m1.4.4.1.1.2"></abs><apply id="S3.SS3.p4.1.m1.4.4.1.1.1.cmml" xref="S3.SS3.p4.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.4.4.1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.4.4.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.1.m1.4.4.1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.4.4.1.1.1.2">𝑤</ci><list id="S3.SS3.p4.1.m1.2.2.2.3.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2"><ci id="S3.SS3.p4.1.m1.1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1">𝑁</ci><apply id="S3.SS3.p4.1.m1.2.2.2.2.1.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2.1"><times id="S3.SS3.p4.1.m1.2.2.2.2.1.1.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2.1.1"></times><ci id="S3.SS3.p4.1.m1.2.2.2.2.1.2.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2.1.2">𝑅</ci><ci id="S3.SS3.p4.1.m1.2.2.2.2.1.3.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2.1.3">𝑡</ci><ci id="S3.SS3.p4.1.m1.2.2.2.2.1.4.cmml" xref="S3.SS3.p4.1.m1.2.2.2.2.1.4">𝐹</ci></apply></list></apply></apply><apply id="S3.SS3.p4.1.m1.4.4.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3"><ci id="S3.SS3.p4.1.m1.4.4.3.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.1">⋅</ci><apply id="S3.SS3.p4.1.m1.4.4.3.2.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2"><times id="S3.SS3.p4.1.m1.4.4.3.2.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.1"></times><apply id="S3.SS3.p4.1.m1.4.4.3.2.2.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.2"><ci id="S3.SS3.p4.1.m1.4.4.3.2.2.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.2.1">⋅</ci><cn type="integer" id="S3.SS3.p4.1.m1.4.4.3.2.2.2.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.2.2">2</cn><ci id="S3.SS3.p4.1.m1.4.4.3.2.2.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.2.3">𝑑</ci></apply><ci id="S3.SS3.p4.1.m1.4.4.3.2.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.3">𝑖</ci><apply id="S3.SS3.p4.1.m1.4.4.3.2.4.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.4.4.3.2.4.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4">subscript</csymbol><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.2.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.2">𝑚</ci><apply id="S3.SS3.p4.1.m1.4.4.3.2.4.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3"><times id="S3.SS3.p4.1.m1.4.4.3.2.4.3.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.1"></times><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.3.2.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.2">𝑖</ci><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.3.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.3">𝑛</ci><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.3.4.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.4">𝑝</ci><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.3.5.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.5">𝑢</ci><ci id="S3.SS3.p4.1.m1.4.4.3.2.4.3.6.cmml" xref="S3.SS3.p4.1.m1.4.4.3.2.4.3.6">𝑡</ci></apply></apply></apply><ci id="S3.SS3.p4.1.m1.4.4.3.3.cmml" xref="S3.SS3.p4.1.m1.4.4.3.3">𝑁</ci><apply id="S3.SS3.p4.1.m1.4.4.3.4.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.4.2"><abs id="S3.SS3.p4.1.m1.4.4.3.4.1.1.cmml" xref="S3.SS3.p4.1.m1.4.4.3.4.2.1"></abs><ci id="S3.SS3.p4.1.m1.3.3a.cmml" xref="S3.SS3.p4.1.m1.3.3"><mtext id="S3.SS3.p4.1.m1.3.3.cmml" xref="S3.SS3.p4.1.m1.3.3">FC layer</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.4c">|w_{N,RtF}|=2\cdot dim_{input}\cdot N\cdot|\text{FC layer}|</annotation></semantics></math> parameters from their method. The value of the size of the FC layer is fixed to be the same as our method in order for comparison. In aggregation, when <math id="S3.SS3.p4.2.m2.1" class="ltx_Math" alttext="N&gt;&gt;1" display="inline"><semantics id="S3.SS3.p4.2.m2.1a"><mrow id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml">N</mi><mo lspace="0.278em" rspace="0.278em" id="S3.SS3.p4.2.m2.1.1.1" xref="S3.SS3.p4.2.m2.1.1.1.cmml">&gt;&gt;</mo><mn id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><csymbol cd="latexml" id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1.1">much-greater-than</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">N&gt;&gt;1</annotation></semantics></math> we have that <math id="S3.SS3.p4.3.m3.6" class="ltx_Math" alttext="|w_{N,ours}|\approx\frac{1}{2}\cdot|w_{N,RtF}|" display="inline"><semantics id="S3.SS3.p4.3.m3.6a"><mrow id="S3.SS3.p4.3.m3.6.6" xref="S3.SS3.p4.3.m3.6.6.cmml"><mrow id="S3.SS3.p4.3.m3.5.5.1.1" xref="S3.SS3.p4.3.m3.5.5.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.3.m3.5.5.1.1.2" xref="S3.SS3.p4.3.m3.5.5.1.2.1.cmml">|</mo><msub id="S3.SS3.p4.3.m3.5.5.1.1.1" xref="S3.SS3.p4.3.m3.5.5.1.1.1.cmml"><mi id="S3.SS3.p4.3.m3.5.5.1.1.1.2" xref="S3.SS3.p4.3.m3.5.5.1.1.1.2.cmml">w</mi><mrow id="S3.SS3.p4.3.m3.2.2.2.2" xref="S3.SS3.p4.3.m3.2.2.2.3.cmml"><mi id="S3.SS3.p4.3.m3.1.1.1.1" xref="S3.SS3.p4.3.m3.1.1.1.1.cmml">N</mi><mo id="S3.SS3.p4.3.m3.2.2.2.2.2" xref="S3.SS3.p4.3.m3.2.2.2.3.cmml">,</mo><mrow id="S3.SS3.p4.3.m3.2.2.2.2.1" xref="S3.SS3.p4.3.m3.2.2.2.2.1.cmml"><mi id="S3.SS3.p4.3.m3.2.2.2.2.1.2" xref="S3.SS3.p4.3.m3.2.2.2.2.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.3.m3.2.2.2.2.1.1" xref="S3.SS3.p4.3.m3.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.3.m3.2.2.2.2.1.3" xref="S3.SS3.p4.3.m3.2.2.2.2.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.3.m3.2.2.2.2.1.1a" xref="S3.SS3.p4.3.m3.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.3.m3.2.2.2.2.1.4" xref="S3.SS3.p4.3.m3.2.2.2.2.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.3.m3.2.2.2.2.1.1b" xref="S3.SS3.p4.3.m3.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.3.m3.2.2.2.2.1.5" xref="S3.SS3.p4.3.m3.2.2.2.2.1.5.cmml">s</mi></mrow></mrow></msub><mo stretchy="false" id="S3.SS3.p4.3.m3.5.5.1.1.3" xref="S3.SS3.p4.3.m3.5.5.1.2.1.cmml">|</mo></mrow><mo id="S3.SS3.p4.3.m3.6.6.3" xref="S3.SS3.p4.3.m3.6.6.3.cmml">≈</mo><mrow id="S3.SS3.p4.3.m3.6.6.2" xref="S3.SS3.p4.3.m3.6.6.2.cmml"><mfrac id="S3.SS3.p4.3.m3.6.6.2.3" xref="S3.SS3.p4.3.m3.6.6.2.3.cmml"><mn id="S3.SS3.p4.3.m3.6.6.2.3.2" xref="S3.SS3.p4.3.m3.6.6.2.3.2.cmml">1</mn><mn id="S3.SS3.p4.3.m3.6.6.2.3.3" xref="S3.SS3.p4.3.m3.6.6.2.3.3.cmml">2</mn></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p4.3.m3.6.6.2.2" xref="S3.SS3.p4.3.m3.6.6.2.2.cmml">⋅</mo><mrow id="S3.SS3.p4.3.m3.6.6.2.1.1" xref="S3.SS3.p4.3.m3.6.6.2.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.3.m3.6.6.2.1.1.2" xref="S3.SS3.p4.3.m3.6.6.2.1.2.1.cmml">|</mo><msub id="S3.SS3.p4.3.m3.6.6.2.1.1.1" xref="S3.SS3.p4.3.m3.6.6.2.1.1.1.cmml"><mi id="S3.SS3.p4.3.m3.6.6.2.1.1.1.2" xref="S3.SS3.p4.3.m3.6.6.2.1.1.1.2.cmml">w</mi><mrow id="S3.SS3.p4.3.m3.4.4.2.2" xref="S3.SS3.p4.3.m3.4.4.2.3.cmml"><mi id="S3.SS3.p4.3.m3.3.3.1.1" xref="S3.SS3.p4.3.m3.3.3.1.1.cmml">N</mi><mo id="S3.SS3.p4.3.m3.4.4.2.2.2" xref="S3.SS3.p4.3.m3.4.4.2.3.cmml">,</mo><mrow id="S3.SS3.p4.3.m3.4.4.2.2.1" xref="S3.SS3.p4.3.m3.4.4.2.2.1.cmml"><mi id="S3.SS3.p4.3.m3.4.4.2.2.1.2" xref="S3.SS3.p4.3.m3.4.4.2.2.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.3.m3.4.4.2.2.1.1" xref="S3.SS3.p4.3.m3.4.4.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.3.m3.4.4.2.2.1.3" xref="S3.SS3.p4.3.m3.4.4.2.2.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.3.m3.4.4.2.2.1.1a" xref="S3.SS3.p4.3.m3.4.4.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.3.m3.4.4.2.2.1.4" xref="S3.SS3.p4.3.m3.4.4.2.2.1.4.cmml">F</mi></mrow></mrow></msub><mo stretchy="false" id="S3.SS3.p4.3.m3.6.6.2.1.1.3" xref="S3.SS3.p4.3.m3.6.6.2.1.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m3.6b"><apply id="S3.SS3.p4.3.m3.6.6.cmml" xref="S3.SS3.p4.3.m3.6.6"><approx id="S3.SS3.p4.3.m3.6.6.3.cmml" xref="S3.SS3.p4.3.m3.6.6.3"></approx><apply id="S3.SS3.p4.3.m3.5.5.1.2.cmml" xref="S3.SS3.p4.3.m3.5.5.1.1"><abs id="S3.SS3.p4.3.m3.5.5.1.2.1.cmml" xref="S3.SS3.p4.3.m3.5.5.1.1.2"></abs><apply id="S3.SS3.p4.3.m3.5.5.1.1.1.cmml" xref="S3.SS3.p4.3.m3.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m3.5.5.1.1.1.1.cmml" xref="S3.SS3.p4.3.m3.5.5.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.3.m3.5.5.1.1.1.2.cmml" xref="S3.SS3.p4.3.m3.5.5.1.1.1.2">𝑤</ci><list id="S3.SS3.p4.3.m3.2.2.2.3.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2"><ci id="S3.SS3.p4.3.m3.1.1.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1.1.1">𝑁</ci><apply id="S3.SS3.p4.3.m3.2.2.2.2.1.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1"><times id="S3.SS3.p4.3.m3.2.2.2.2.1.1.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1.1"></times><ci id="S3.SS3.p4.3.m3.2.2.2.2.1.2.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1.2">𝑜</ci><ci id="S3.SS3.p4.3.m3.2.2.2.2.1.3.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1.3">𝑢</ci><ci id="S3.SS3.p4.3.m3.2.2.2.2.1.4.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1.4">𝑟</ci><ci id="S3.SS3.p4.3.m3.2.2.2.2.1.5.cmml" xref="S3.SS3.p4.3.m3.2.2.2.2.1.5">𝑠</ci></apply></list></apply></apply><apply id="S3.SS3.p4.3.m3.6.6.2.cmml" xref="S3.SS3.p4.3.m3.6.6.2"><ci id="S3.SS3.p4.3.m3.6.6.2.2.cmml" xref="S3.SS3.p4.3.m3.6.6.2.2">⋅</ci><apply id="S3.SS3.p4.3.m3.6.6.2.3.cmml" xref="S3.SS3.p4.3.m3.6.6.2.3"><divide id="S3.SS3.p4.3.m3.6.6.2.3.1.cmml" xref="S3.SS3.p4.3.m3.6.6.2.3"></divide><cn type="integer" id="S3.SS3.p4.3.m3.6.6.2.3.2.cmml" xref="S3.SS3.p4.3.m3.6.6.2.3.2">1</cn><cn type="integer" id="S3.SS3.p4.3.m3.6.6.2.3.3.cmml" xref="S3.SS3.p4.3.m3.6.6.2.3.3">2</cn></apply><apply id="S3.SS3.p4.3.m3.6.6.2.1.2.cmml" xref="S3.SS3.p4.3.m3.6.6.2.1.1"><abs id="S3.SS3.p4.3.m3.6.6.2.1.2.1.cmml" xref="S3.SS3.p4.3.m3.6.6.2.1.1.2"></abs><apply id="S3.SS3.p4.3.m3.6.6.2.1.1.1.cmml" xref="S3.SS3.p4.3.m3.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m3.6.6.2.1.1.1.1.cmml" xref="S3.SS3.p4.3.m3.6.6.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.3.m3.6.6.2.1.1.1.2.cmml" xref="S3.SS3.p4.3.m3.6.6.2.1.1.1.2">𝑤</ci><list id="S3.SS3.p4.3.m3.4.4.2.3.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2"><ci id="S3.SS3.p4.3.m3.3.3.1.1.cmml" xref="S3.SS3.p4.3.m3.3.3.1.1">𝑁</ci><apply id="S3.SS3.p4.3.m3.4.4.2.2.1.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2.1"><times id="S3.SS3.p4.3.m3.4.4.2.2.1.1.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2.1.1"></times><ci id="S3.SS3.p4.3.m3.4.4.2.2.1.2.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2.1.2">𝑅</ci><ci id="S3.SS3.p4.3.m3.4.4.2.2.1.3.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2.1.3">𝑡</ci><ci id="S3.SS3.p4.3.m3.4.4.2.2.1.4.cmml" xref="S3.SS3.p4.3.m3.4.4.2.2.1.4">𝐹</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.6c">|w_{N,ours}|\approx\frac{1}{2}\cdot|w_{N,RtF}|</annotation></semantics></math>. This is considering all zero and non-zero parameters equally for our method. Robbing the Fed does not have non-zero weight parameters, so we also have that <math id="S3.SS3.p4.4.m4.10" class="ltx_Math" alttext="|\{w_{N,ours}\text{ s.t. }w_{N,ours}\neq 0\}|\approx\frac{1}{N}\cdot|\{w_{N,RtF}\text{ s.t. }w_{N,RtF}\neq 0\}|" display="inline"><semantics id="S3.SS3.p4.4.m4.10a"><mrow id="S3.SS3.p4.4.m4.10.10" xref="S3.SS3.p4.4.m4.10.10.cmml"><mrow id="S3.SS3.p4.4.m4.9.9.1.1" xref="S3.SS3.p4.4.m4.9.9.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.4.m4.9.9.1.1.2" xref="S3.SS3.p4.4.m4.9.9.1.2.1.cmml">|</mo><mrow id="S3.SS3.p4.4.m4.9.9.1.1.1.1" xref="S3.SS3.p4.4.m4.9.9.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.2" xref="S3.SS3.p4.4.m4.9.9.1.1.1.2.cmml">{</mo><mrow id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.cmml"><mrow id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.cmml"><msub id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.cmml"><mi id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.2" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S3.SS3.p4.4.m4.2.2.2.2" xref="S3.SS3.p4.4.m4.2.2.2.3.cmml"><mi id="S3.SS3.p4.4.m4.1.1.1.1" xref="S3.SS3.p4.4.m4.1.1.1.1.cmml">N</mi><mo id="S3.SS3.p4.4.m4.2.2.2.2.2" xref="S3.SS3.p4.4.m4.2.2.2.3.cmml">,</mo><mrow id="S3.SS3.p4.4.m4.2.2.2.2.1" xref="S3.SS3.p4.4.m4.2.2.2.2.1.cmml"><mi id="S3.SS3.p4.4.m4.2.2.2.2.1.2" xref="S3.SS3.p4.4.m4.2.2.2.2.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.2.2.2.2.1.1" xref="S3.SS3.p4.4.m4.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.2.2.2.2.1.3" xref="S3.SS3.p4.4.m4.2.2.2.2.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.2.2.2.2.1.1a" xref="S3.SS3.p4.4.m4.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.2.2.2.2.1.4" xref="S3.SS3.p4.4.m4.2.2.2.2.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.2.2.2.2.1.1b" xref="S3.SS3.p4.4.m4.2.2.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.2.2.2.2.1.5" xref="S3.SS3.p4.4.m4.2.2.2.2.1.5.cmml">s</mi></mrow></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1.cmml">​</mo><mtext id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3a.cmml"> s.t. </mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1a" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.cmml"><mi id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.2" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.2.cmml">w</mi><mrow id="S3.SS3.p4.4.m4.4.4.2.2" xref="S3.SS3.p4.4.m4.4.4.2.3.cmml"><mi id="S3.SS3.p4.4.m4.3.3.1.1" xref="S3.SS3.p4.4.m4.3.3.1.1.cmml">N</mi><mo id="S3.SS3.p4.4.m4.4.4.2.2.2" xref="S3.SS3.p4.4.m4.4.4.2.3.cmml">,</mo><mrow id="S3.SS3.p4.4.m4.4.4.2.2.1" xref="S3.SS3.p4.4.m4.4.4.2.2.1.cmml"><mi id="S3.SS3.p4.4.m4.4.4.2.2.1.2" xref="S3.SS3.p4.4.m4.4.4.2.2.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.4.4.2.2.1.1" xref="S3.SS3.p4.4.m4.4.4.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.4.4.2.2.1.3" xref="S3.SS3.p4.4.m4.4.4.2.2.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.4.4.2.2.1.1a" xref="S3.SS3.p4.4.m4.4.4.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.4.4.2.2.1.4" xref="S3.SS3.p4.4.m4.4.4.2.2.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.4.4.2.2.1.1b" xref="S3.SS3.p4.4.m4.4.4.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.4.4.2.2.1.5" xref="S3.SS3.p4.4.m4.4.4.2.2.1.5.cmml">s</mi></mrow></mrow></msub></mrow><mo id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.1" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.1.cmml">≠</mo><mn id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.3" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.3" xref="S3.SS3.p4.4.m4.9.9.1.1.1.2.cmml">}</mo></mrow><mo stretchy="false" id="S3.SS3.p4.4.m4.9.9.1.1.3" xref="S3.SS3.p4.4.m4.9.9.1.2.1.cmml">|</mo></mrow><mo id="S3.SS3.p4.4.m4.10.10.3" xref="S3.SS3.p4.4.m4.10.10.3.cmml">≈</mo><mrow id="S3.SS3.p4.4.m4.10.10.2" xref="S3.SS3.p4.4.m4.10.10.2.cmml"><mfrac id="S3.SS3.p4.4.m4.10.10.2.3" xref="S3.SS3.p4.4.m4.10.10.2.3.cmml"><mn id="S3.SS3.p4.4.m4.10.10.2.3.2" xref="S3.SS3.p4.4.m4.10.10.2.3.2.cmml">1</mn><mi id="S3.SS3.p4.4.m4.10.10.2.3.3" xref="S3.SS3.p4.4.m4.10.10.2.3.3.cmml">N</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p4.4.m4.10.10.2.2" xref="S3.SS3.p4.4.m4.10.10.2.2.cmml">⋅</mo><mrow id="S3.SS3.p4.4.m4.10.10.2.1.1" xref="S3.SS3.p4.4.m4.10.10.2.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.4.m4.10.10.2.1.1.2" xref="S3.SS3.p4.4.m4.10.10.2.1.2.1.cmml">|</mo><mrow id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.2" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.2.cmml">{</mo><mrow id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.cmml"><mrow id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.cmml"><msub id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.cmml"><mi id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.2" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S3.SS3.p4.4.m4.6.6.2.2" xref="S3.SS3.p4.4.m4.6.6.2.3.cmml"><mi id="S3.SS3.p4.4.m4.5.5.1.1" xref="S3.SS3.p4.4.m4.5.5.1.1.cmml">N</mi><mo id="S3.SS3.p4.4.m4.6.6.2.2.2" xref="S3.SS3.p4.4.m4.6.6.2.3.cmml">,</mo><mrow id="S3.SS3.p4.4.m4.6.6.2.2.1" xref="S3.SS3.p4.4.m4.6.6.2.2.1.cmml"><mi id="S3.SS3.p4.4.m4.6.6.2.2.1.2" xref="S3.SS3.p4.4.m4.6.6.2.2.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.6.6.2.2.1.1" xref="S3.SS3.p4.4.m4.6.6.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.6.6.2.2.1.3" xref="S3.SS3.p4.4.m4.6.6.2.2.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.6.6.2.2.1.1a" xref="S3.SS3.p4.4.m4.6.6.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.6.6.2.2.1.4" xref="S3.SS3.p4.4.m4.6.6.2.2.1.4.cmml">F</mi></mrow></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1.cmml">​</mo><mtext id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3a.cmml"> s.t. </mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1a" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.cmml"><mi id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.2" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.2.cmml">w</mi><mrow id="S3.SS3.p4.4.m4.8.8.2.2" xref="S3.SS3.p4.4.m4.8.8.2.3.cmml"><mi id="S3.SS3.p4.4.m4.7.7.1.1" xref="S3.SS3.p4.4.m4.7.7.1.1.cmml">N</mi><mo id="S3.SS3.p4.4.m4.8.8.2.2.2" xref="S3.SS3.p4.4.m4.8.8.2.3.cmml">,</mo><mrow id="S3.SS3.p4.4.m4.8.8.2.2.1" xref="S3.SS3.p4.4.m4.8.8.2.2.1.cmml"><mi id="S3.SS3.p4.4.m4.8.8.2.2.1.2" xref="S3.SS3.p4.4.m4.8.8.2.2.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.8.8.2.2.1.1" xref="S3.SS3.p4.4.m4.8.8.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.8.8.2.2.1.3" xref="S3.SS3.p4.4.m4.8.8.2.2.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.8.8.2.2.1.1a" xref="S3.SS3.p4.4.m4.8.8.2.2.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.8.8.2.2.1.4" xref="S3.SS3.p4.4.m4.8.8.2.2.1.4.cmml">F</mi></mrow></mrow></msub></mrow><mo id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.1" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.1.cmml">≠</mo><mn id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.3" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.3" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.2.cmml">}</mo></mrow><mo stretchy="false" id="S3.SS3.p4.4.m4.10.10.2.1.1.3" xref="S3.SS3.p4.4.m4.10.10.2.1.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m4.10b"><apply id="S3.SS3.p4.4.m4.10.10.cmml" xref="S3.SS3.p4.4.m4.10.10"><approx id="S3.SS3.p4.4.m4.10.10.3.cmml" xref="S3.SS3.p4.4.m4.10.10.3"></approx><apply id="S3.SS3.p4.4.m4.9.9.1.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1"><abs id="S3.SS3.p4.4.m4.9.9.1.2.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.2"></abs><set id="S3.SS3.p4.4.m4.9.9.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1"><apply id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1"><neq id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.1"></neq><apply id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2"><times id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.1"></times><apply id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.2.2">𝑤</ci><list id="S3.SS3.p4.4.m4.2.2.2.3.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2"><ci id="S3.SS3.p4.4.m4.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1">𝑁</ci><apply id="S3.SS3.p4.4.m4.2.2.2.2.1.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1"><times id="S3.SS3.p4.4.m4.2.2.2.2.1.1.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1.1"></times><ci id="S3.SS3.p4.4.m4.2.2.2.2.1.2.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1.2">𝑜</ci><ci id="S3.SS3.p4.4.m4.2.2.2.2.1.3.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1.3">𝑢</ci><ci id="S3.SS3.p4.4.m4.2.2.2.2.1.4.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1.4">𝑟</ci><ci id="S3.SS3.p4.4.m4.2.2.2.2.1.5.cmml" xref="S3.SS3.p4.4.m4.2.2.2.2.1.5">𝑠</ci></apply></list></apply><ci id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3a.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3"><mtext id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.3"> s.t. </mtext></ci><apply id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.1.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.2.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.2.4.2">𝑤</ci><list id="S3.SS3.p4.4.m4.4.4.2.3.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2"><ci id="S3.SS3.p4.4.m4.3.3.1.1.cmml" xref="S3.SS3.p4.4.m4.3.3.1.1">𝑁</ci><apply id="S3.SS3.p4.4.m4.4.4.2.2.1.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1"><times id="S3.SS3.p4.4.m4.4.4.2.2.1.1.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1.1"></times><ci id="S3.SS3.p4.4.m4.4.4.2.2.1.2.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1.2">𝑜</ci><ci id="S3.SS3.p4.4.m4.4.4.2.2.1.3.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1.3">𝑢</ci><ci id="S3.SS3.p4.4.m4.4.4.2.2.1.4.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1.4">𝑟</ci><ci id="S3.SS3.p4.4.m4.4.4.2.2.1.5.cmml" xref="S3.SS3.p4.4.m4.4.4.2.2.1.5">𝑠</ci></apply></list></apply></apply><cn type="integer" id="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.4.m4.9.9.1.1.1.1.1.3">0</cn></apply></set></apply><apply id="S3.SS3.p4.4.m4.10.10.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2"><ci id="S3.SS3.p4.4.m4.10.10.2.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.2">⋅</ci><apply id="S3.SS3.p4.4.m4.10.10.2.3.cmml" xref="S3.SS3.p4.4.m4.10.10.2.3"><divide id="S3.SS3.p4.4.m4.10.10.2.3.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.3"></divide><cn type="integer" id="S3.SS3.p4.4.m4.10.10.2.3.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.3.2">1</cn><ci id="S3.SS3.p4.4.m4.10.10.2.3.3.cmml" xref="S3.SS3.p4.4.m4.10.10.2.3.3">𝑁</ci></apply><apply id="S3.SS3.p4.4.m4.10.10.2.1.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1"><abs id="S3.SS3.p4.4.m4.10.10.2.1.2.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.2"></abs><set id="S3.SS3.p4.4.m4.10.10.2.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1"><apply id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1"><neq id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.1"></neq><apply id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2"><times id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.1"></times><apply id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.2.2">𝑤</ci><list id="S3.SS3.p4.4.m4.6.6.2.3.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2"><ci id="S3.SS3.p4.4.m4.5.5.1.1.cmml" xref="S3.SS3.p4.4.m4.5.5.1.1">𝑁</ci><apply id="S3.SS3.p4.4.m4.6.6.2.2.1.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2.1"><times id="S3.SS3.p4.4.m4.6.6.2.2.1.1.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2.1.1"></times><ci id="S3.SS3.p4.4.m4.6.6.2.2.1.2.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2.1.2">𝑅</ci><ci id="S3.SS3.p4.4.m4.6.6.2.2.1.3.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2.1.3">𝑡</ci><ci id="S3.SS3.p4.4.m4.6.6.2.2.1.4.cmml" xref="S3.SS3.p4.4.m4.6.6.2.2.1.4">𝐹</ci></apply></list></apply><ci id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3a.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3"><mtext id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.3"> s.t. </mtext></ci><apply id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.1.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.2.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.2.4.2">𝑤</ci><list id="S3.SS3.p4.4.m4.8.8.2.3.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2"><ci id="S3.SS3.p4.4.m4.7.7.1.1.cmml" xref="S3.SS3.p4.4.m4.7.7.1.1">𝑁</ci><apply id="S3.SS3.p4.4.m4.8.8.2.2.1.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2.1"><times id="S3.SS3.p4.4.m4.8.8.2.2.1.1.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2.1.1"></times><ci id="S3.SS3.p4.4.m4.8.8.2.2.1.2.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2.1.2">𝑅</ci><ci id="S3.SS3.p4.4.m4.8.8.2.2.1.3.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2.1.3">𝑡</ci><ci id="S3.SS3.p4.4.m4.8.8.2.2.1.4.cmml" xref="S3.SS3.p4.4.m4.8.8.2.2.1.4">𝐹</ci></apply></list></apply></apply><cn type="integer" id="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.4.m4.10.10.2.1.1.1.1.1.3">0</cn></apply></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m4.10c">|\{w_{N,ours}\text{ s.t. }w_{N,ours}\neq 0\}|\approx\frac{1}{N}\cdot|\{w_{N,RtF}\text{ s.t. }w_{N,RtF}\neq 0\}|</annotation></semantics></math>.</p>
</div>
<div id="S3.SS3.p5" class="ltx_para">
<p id="S3.SS3.p5.1" class="ltx_p">We did not use the convolutional kernel weights or the biases added during the comparison in the number of parameters, but they are significantly fewer than the weight parameters of the FC layers. For 100 clients, the number of parameters added by the convolutional kernel weights and the layer biases are only <math id="S3.SS3.p5.1.m1.1" class="ltx_Math" alttext="0.01\%" display="inline"><semantics id="S3.SS3.p5.1.m1.1a"><mrow id="S3.SS3.p5.1.m1.1.1" xref="S3.SS3.p5.1.m1.1.1.cmml"><mn id="S3.SS3.p5.1.m1.1.1.2" xref="S3.SS3.p5.1.m1.1.1.2.cmml">0.01</mn><mo id="S3.SS3.p5.1.m1.1.1.1" xref="S3.SS3.p5.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.1.m1.1b"><apply id="S3.SS3.p5.1.m1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1"><csymbol cd="latexml" id="S3.SS3.p5.1.m1.1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1.1">percent</csymbol><cn type="float" id="S3.SS3.p5.1.m1.1.1.2.cmml" xref="S3.SS3.p5.1.m1.1.1.2">0.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.1.m1.1c">0.01\%</annotation></semantics></math> of the FC layer weights.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Linear layer leakage method</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">While the convolutional layer allows for sparsity and separate leakage between each client, the underlying methodology of the linear layer leakage is still important. We use the binning methodology of Robbing the Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> instead of the trap weights in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> since the leakage rate achieved with the same FC layer size is higher for binning.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">The approach of using a convolution layer to separate the weight gradients between clients prevents the FC layer from increasing, but also means we cannot retrieve the individual bias gradients <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="\frac{\delta L}{\delta B^{i}}" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><mfrac id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml"><mrow id="S3.SS4.p2.1.m1.1.1.2" xref="S3.SS4.p2.1.m1.1.1.2.cmml"><mi id="S3.SS4.p2.1.m1.1.1.2.2" xref="S3.SS4.p2.1.m1.1.1.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.1.m1.1.1.2.1" xref="S3.SS4.p2.1.m1.1.1.2.1.cmml">​</mo><mi id="S3.SS4.p2.1.m1.1.1.2.3" xref="S3.SS4.p2.1.m1.1.1.2.3.cmml">L</mi></mrow><mrow id="S3.SS4.p2.1.m1.1.1.3" xref="S3.SS4.p2.1.m1.1.1.3.cmml"><mi id="S3.SS4.p2.1.m1.1.1.3.2" xref="S3.SS4.p2.1.m1.1.1.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.1.m1.1.1.3.1" xref="S3.SS4.p2.1.m1.1.1.3.1.cmml">​</mo><msup id="S3.SS4.p2.1.m1.1.1.3.3" xref="S3.SS4.p2.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.p2.1.m1.1.1.3.3.2" xref="S3.SS4.p2.1.m1.1.1.3.3.2.cmml">B</mi><mi id="S3.SS4.p2.1.m1.1.1.3.3.3" xref="S3.SS4.p2.1.m1.1.1.3.3.3.cmml">i</mi></msup></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><apply id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"><divide id="S3.SS4.p2.1.m1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"></divide><apply id="S3.SS4.p2.1.m1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2"><times id="S3.SS4.p2.1.m1.1.1.2.1.cmml" xref="S3.SS4.p2.1.m1.1.1.2.1"></times><ci id="S3.SS4.p2.1.m1.1.1.2.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2.2">𝛿</ci><ci id="S3.SS4.p2.1.m1.1.1.2.3.cmml" xref="S3.SS4.p2.1.m1.1.1.2.3">𝐿</ci></apply><apply id="S3.SS4.p2.1.m1.1.1.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3"><times id="S3.SS4.p2.1.m1.1.1.3.1.cmml" xref="S3.SS4.p2.1.m1.1.1.3.1"></times><ci id="S3.SS4.p2.1.m1.1.1.3.2.cmml" xref="S3.SS4.p2.1.m1.1.1.3.2">𝛿</ci><apply id="S3.SS4.p2.1.m1.1.1.3.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.p2.1.m1.1.1.3.3">superscript</csymbol><ci id="S3.SS4.p2.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.p2.1.m1.1.1.3.3.2">𝐵</ci><ci id="S3.SS4.p2.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">\frac{\delta L}{\delta B^{i}}</annotation></semantics></math>, as they will be aggregated between clients. However, knowing the bias gradient values are not important for reconstruction. If we know the range of values, we can directly scale the weight gradients. If the images are between [0,1], we can recover the images using only the weight gradients through</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.2" class="ltx_Math" alttext="x^{i}_{k}=\frac{abs({\frac{\delta L}{\delta W^{i}}_{k}}-\frac{\delta L}{\delta W^{i+1}}_{k})}{max(abs({\frac{\delta L}{\delta W^{i}}_{k}}-\frac{\delta L}{\delta W^{i+1}}_{k}))}" display="block"><semantics id="S3.E6.m1.2a"><mrow id="S3.E6.m1.2.3" xref="S3.E6.m1.2.3.cmml"><msubsup id="S3.E6.m1.2.3.2" xref="S3.E6.m1.2.3.2.cmml"><mi id="S3.E6.m1.2.3.2.2.2" xref="S3.E6.m1.2.3.2.2.2.cmml">x</mi><mi id="S3.E6.m1.2.3.2.3" xref="S3.E6.m1.2.3.2.3.cmml">k</mi><mi id="S3.E6.m1.2.3.2.2.3" xref="S3.E6.m1.2.3.2.2.3.cmml">i</mi></msubsup><mo id="S3.E6.m1.2.3.1" xref="S3.E6.m1.2.3.1.cmml">=</mo><mfrac id="S3.E6.m1.2.2" xref="S3.E6.m1.2.2.cmml"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.3" xref="S3.E6.m1.1.1.1.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.2.cmml">​</mo><mi id="S3.E6.m1.1.1.1.4" xref="S3.E6.m1.1.1.1.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.2a" xref="S3.E6.m1.1.1.1.2.cmml">​</mo><mi id="S3.E6.m1.1.1.1.5" xref="S3.E6.m1.1.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.2b" xref="S3.E6.m1.1.1.1.2.cmml">​</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.2.cmml"><mfrac id="S3.E6.m1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.2.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.2.2.2.1" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.3.cmml">L</mi></mrow><mrow id="S3.E6.m1.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.3.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.2.2.3.1" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><msup id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.2.cmml">W</mi><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.3.cmml">i</mi></msup></mrow></mfrac><mi id="S3.E6.m1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E6.m1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.3.2.2.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.3.2.2.1" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.3.2.2.3" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.3.cmml">L</mi></mrow><mrow id="S3.E6.m1.1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.3.2.3.1" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><msup id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.2.cmml">W</mi><mrow id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.2.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.1" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.1.cmml">+</mo><mn id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mfrac><mi id="S3.E6.m1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.3.3.cmml">k</mi></msub></mrow><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.2.2.2" xref="S3.E6.m1.2.2.2.cmml"><mi id="S3.E6.m1.2.2.2.3" xref="S3.E6.m1.2.2.2.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml">​</mo><mi id="S3.E6.m1.2.2.2.4" xref="S3.E6.m1.2.2.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.2a" xref="S3.E6.m1.2.2.2.2.cmml">​</mo><mi id="S3.E6.m1.2.2.2.5" xref="S3.E6.m1.2.2.2.5.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.2b" xref="S3.E6.m1.2.2.2.2.cmml">​</mo><mrow id="S3.E6.m1.2.2.2.1.1" xref="S3.E6.m1.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.2.1.1.2" xref="S3.E6.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.2.2.2.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.3" xref="S3.E6.m1.2.2.2.1.1.1.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.2" xref="S3.E6.m1.2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.E6.m1.2.2.2.1.1.1.4" xref="S3.E6.m1.2.2.2.1.1.1.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.2a" xref="S3.E6.m1.2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.E6.m1.2.2.2.1.1.1.5" xref="S3.E6.m1.2.2.2.1.1.1.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.2b" xref="S3.E6.m1.2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.2.1.1.1.1.1.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.cmml"><msub id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.cmml"><mfrac id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.cmml"><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.3.cmml">L</mi></mrow><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><msup id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.2.cmml">W</mi><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.3.cmml">i</mi></msup></mrow></mfrac><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S3.E6.m1.2.2.2.1.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.cmml"><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.1.cmml">​</mo><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.3.cmml">L</mi></mrow><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.2.cmml">δ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><msup id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.2.cmml">W</mi><mrow id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.2" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.2.cmml">i</mi><mo id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.1.cmml">+</mo><mn id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mfrac><mi id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.3.cmml">k</mi></msub></mrow><mo stretchy="false" id="S3.E6.m1.2.2.2.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E6.m1.2.2.2.1.1.3" xref="S3.E6.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.2b"><apply id="S3.E6.m1.2.3.cmml" xref="S3.E6.m1.2.3"><eq id="S3.E6.m1.2.3.1.cmml" xref="S3.E6.m1.2.3.1"></eq><apply id="S3.E6.m1.2.3.2.cmml" xref="S3.E6.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.2.1.cmml" xref="S3.E6.m1.2.3.2">subscript</csymbol><apply id="S3.E6.m1.2.3.2.2.cmml" xref="S3.E6.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.3.2.2.1.cmml" xref="S3.E6.m1.2.3.2">superscript</csymbol><ci id="S3.E6.m1.2.3.2.2.2.cmml" xref="S3.E6.m1.2.3.2.2.2">𝑥</ci><ci id="S3.E6.m1.2.3.2.2.3.cmml" xref="S3.E6.m1.2.3.2.2.3">𝑖</ci></apply><ci id="S3.E6.m1.2.3.2.3.cmml" xref="S3.E6.m1.2.3.2.3">𝑘</ci></apply><apply id="S3.E6.m1.2.2.cmml" xref="S3.E6.m1.2.2"><divide id="S3.E6.m1.2.2.3.cmml" xref="S3.E6.m1.2.2"></divide><apply id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><times id="S3.E6.m1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.2"></times><ci id="S3.E6.m1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.3">𝑎</ci><ci id="S3.E6.m1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.4">𝑏</ci><ci id="S3.E6.m1.1.1.1.5.cmml" xref="S3.E6.m1.1.1.1.5">𝑠</ci><apply id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><minus id="S3.E6.m1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2"><divide id="S3.E6.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2"></divide><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2"><times id="S3.E6.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.2">𝛿</ci><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.3">𝐿</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3"><times id="S3.E6.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.2">𝛿</ci><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.2">𝑊</ci><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.3.3">𝑖</ci></apply></apply></apply><ci id="S3.E6.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2"><divide id="S3.E6.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2"></divide><apply id="S3.E6.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2"><times id="S3.E6.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.2">𝛿</ci><ci id="S3.E6.m1.1.1.1.1.1.1.3.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.2.3">𝐿</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3"><times id="S3.E6.m1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.2">𝛿</ci><apply id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.2">𝑊</ci><apply id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3"><plus id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.1"></plus><ci id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.2">𝑖</ci><cn type="integer" id="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2.3.3.3.3">1</cn></apply></apply></apply></apply><ci id="S3.E6.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply><apply id="S3.E6.m1.2.2.2.cmml" xref="S3.E6.m1.2.2.2"><times id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2"></times><ci id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.3">𝑚</ci><ci id="S3.E6.m1.2.2.2.4.cmml" xref="S3.E6.m1.2.2.2.4">𝑎</ci><ci id="S3.E6.m1.2.2.2.5.cmml" xref="S3.E6.m1.2.2.2.5">𝑥</ci><apply id="S3.E6.m1.2.2.2.1.1.1.cmml" xref="S3.E6.m1.2.2.2.1.1"><times id="S3.E6.m1.2.2.2.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.2"></times><ci id="S3.E6.m1.2.2.2.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.3">𝑎</ci><ci id="S3.E6.m1.2.2.2.1.1.1.4.cmml" xref="S3.E6.m1.2.2.2.1.1.1.4">𝑏</ci><ci id="S3.E6.m1.2.2.2.1.1.1.5.cmml" xref="S3.E6.m1.2.2.2.1.1.1.5">𝑠</ci><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1"><minus id="S3.E6.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2"><divide id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2"></divide><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2"><times id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.1"></times><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.2">𝛿</ci><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.2.3">𝐿</ci></apply><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3"><times id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.1"></times><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.2">𝛿</ci><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3">superscript</csymbol><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.2">𝑊</ci><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.2.3.3.3">𝑖</ci></apply></apply></apply><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2"><divide id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2"></divide><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2"><times id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.1"></times><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.2">𝛿</ci><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.2.3">𝐿</ci></apply><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3"><times id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.1"></times><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.2">𝛿</ci><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3">superscript</csymbol><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.2">𝑊</ci><apply id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3"><plus id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.1"></plus><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.2">𝑖</ci><cn type="integer" id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.2.3.3.3.3">1</cn></apply></apply></apply></apply><ci id="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.2c">x^{i}_{k}=\frac{abs({\frac{\delta L}{\delta W^{i}}_{k}}-\frac{\delta L}{\delta W^{i+1}}_{k})}{max(abs({\frac{\delta L}{\delta W^{i}}_{k}}-\frac{\delta L}{\delta W^{i+1}}_{k}))}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p2.2" class="ltx_p">where we scale the weight gradient such that it has a maximum value of 1. If the ground truth image has a max value of 1, the reconstructed image will be exact. If this is not the case and the maximum is lower, the reconstruction will have a shifted brightness. This approach is described further in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> and the images are easily identifiable after the range shift. This process does not cause issues with reconstructions either, with the method still achieving a high SSIM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> and L-PIPS score <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>.</p>
</div>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Secure aggregation masking</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.1" class="ltx_p">While sparsity allows us to take advantage of the large number of zero parameters in the model, the property becomes difficult to maintain through SA, as a non-sparse mask will be used regardless of whether the individual client update is sparse or not.
Thus, even though the client updates are sparse, SA applies a non-sparse mask on top of the update such that it is encrypted. Since masking removes the property of sparsity from the update, the client incurs a communication overhead when sending the update back to the server which will not be mitigated. For 100 clients with a batch size of 64 on CIFAR-100, the model size that is transmitted from the server to the client by <span id="S3.SS5.p1.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> is 18.04MB and the update sent back to the server is 303.33MB. Robbing the Fed is larger than both, adding a size overhead of 600.11MB to both ends of communication.</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<p id="S3.SS5.p2.1" class="ltx_p">However, while sparsity does not benefit the communication cost when the client sends the update back to the server, it benefits all other aspects of client resource overhead, including when the server sends the model to the client, the storage on the client, and the time for computing the update. The total number of added parameters of <span id="S3.SS5.p2.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> is also half the size of Robbing the Fed.</p>
</div>
</section>
<section id="S3.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6 </span>Broad applicability of sparsity</h3>

<div id="S3.SS6.p1" class="ltx_para">
<p id="S3.SS6.p1.1" class="ltx_p">Sparsity can help with many forms of attacks with FL. While we use the binning method of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, sparsity also helps the trap weight methodology <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> differently. We find that the baseline attack of trap weights is unable to scale to an increasing number of clients in aggregation. As the total number of images increases, even if the ratio of neurons to images remains the same, the leakage rate will decrease (we refer to the supplement for experiments). However, using the convolutional layer method of <span id="S3.SS6.p1.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span>, the leakage process is separate between clients. This will prevent the leakage rate decrease with an increasing number of clients.</p>
</div>
<div id="S3.SS6.p2" class="ltx_para">
<p id="S3.SS6.p2.3" class="ltx_p">While we previously explored the application of sparsity in linear layer leakage attacks, the idea can be applied to other attacks when scaling to aggregation. For example, sparsity can be used in the same way for the blind-source separation method of Cocktail Party attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> when scaling to aggregation. This would result in both model size and computation complexity decrease. Using the original method of Cocktail Party, the complexity would be <math id="S3.SS6.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(n\times n)" display="inline"><semantics id="S3.SS6.p2.1.m1.1a"><mrow id="S3.SS6.p2.1.m1.1.1" xref="S3.SS6.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS6.p2.1.m1.1.1.3" xref="S3.SS6.p2.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p2.1.m1.1.1.2" xref="S3.SS6.p2.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS6.p2.1.m1.1.1.1.1" xref="S3.SS6.p2.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS6.p2.1.m1.1.1.1.1.2" xref="S3.SS6.p2.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS6.p2.1.m1.1.1.1.1.1" xref="S3.SS6.p2.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS6.p2.1.m1.1.1.1.1.1.2" xref="S3.SS6.p2.1.m1.1.1.1.1.1.2.cmml">n</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS6.p2.1.m1.1.1.1.1.1.1" xref="S3.SS6.p2.1.m1.1.1.1.1.1.1.cmml">×</mo><mi id="S3.SS6.p2.1.m1.1.1.1.1.1.3" xref="S3.SS6.p2.1.m1.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S3.SS6.p2.1.m1.1.1.1.1.3" xref="S3.SS6.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS6.p2.1.m1.1b"><apply id="S3.SS6.p2.1.m1.1.1.cmml" xref="S3.SS6.p2.1.m1.1.1"><times id="S3.SS6.p2.1.m1.1.1.2.cmml" xref="S3.SS6.p2.1.m1.1.1.2"></times><ci id="S3.SS6.p2.1.m1.1.1.3.cmml" xref="S3.SS6.p2.1.m1.1.1.3">𝒪</ci><apply id="S3.SS6.p2.1.m1.1.1.1.1.1.cmml" xref="S3.SS6.p2.1.m1.1.1.1.1"><times id="S3.SS6.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS6.p2.1.m1.1.1.1.1.1.1"></times><ci id="S3.SS6.p2.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS6.p2.1.m1.1.1.1.1.1.2">𝑛</ci><ci id="S3.SS6.p2.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS6.p2.1.m1.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p2.1.m1.1c">\mathcal{O}(n\times n)</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, where <math id="S3.SS6.p2.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS6.p2.2.m2.1a"><mi id="S3.SS6.p2.2.m2.1.1" xref="S3.SS6.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS6.p2.2.m2.1b"><ci id="S3.SS6.p2.2.m2.1.1.cmml" xref="S3.SS6.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p2.2.m2.1c">n</annotation></semantics></math> is the total number of images. However, using sparsity would decrease the computational complexity by lowering <math id="S3.SS6.p2.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS6.p2.3.m3.1a"><mi id="S3.SS6.p2.3.m3.1.1" xref="S3.SS6.p2.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS6.p2.3.m3.1b"><ci id="S3.SS6.p2.3.m3.1.1.cmml" xref="S3.SS6.p2.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p2.3.m3.1c">n</annotation></semantics></math> from the total number of images to just the batch size of the individual client instead.</p>
</div>
<div id="S3.SS6.p3" class="ltx_para">
<p id="S3.SS6.p3.2" class="ltx_p">Along the same line, sparsity could be brought to gradient inversion to decrease the computational complexity. The original challenge in scaling to aggregation for gradient inversion is that the number of total images is significantly larger. However, sparsity once again can be used to decrease the computational complexity <math id="S3.SS6.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(n\times dim_{input})" display="inline"><semantics id="S3.SS6.p3.1.m1.1a"><mrow id="S3.SS6.p3.1.m1.1.1" xref="S3.SS6.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS6.p3.1.m1.1.1.3" xref="S3.SS6.p3.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.2" xref="S3.SS6.p3.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS6.p3.1.m1.1.1.1.1" xref="S3.SS6.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS6.p3.1.m1.1.1.1.1.2" xref="S3.SS6.p3.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS6.p3.1.m1.1.1.1.1.1" xref="S3.SS6.p3.1.m1.1.1.1.1.1.cmml"><mrow id="S3.SS6.p3.1.m1.1.1.1.1.1.2" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.2.2" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.2.cmml">n</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS6.p3.1.m1.1.1.1.1.1.2.1" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.1.cmml">×</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.2.3" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.3.cmml">d</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.1" xref="S3.SS6.p3.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.3" xref="S3.SS6.p3.1.m1.1.1.1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.1a" xref="S3.SS6.p3.1.m1.1.1.1.1.1.1.cmml">​</mo><msub id="S3.SS6.p3.1.m1.1.1.1.1.1.4" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.cmml"><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.2" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.2.cmml">m</mi><mrow id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.cmml"><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.2" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.3" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1a" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.4" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1b" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.5" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1c" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.6" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.6.cmml">t</mi></mrow></msub></mrow><mo stretchy="false" id="S3.SS6.p3.1.m1.1.1.1.1.3" xref="S3.SS6.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS6.p3.1.m1.1b"><apply id="S3.SS6.p3.1.m1.1.1.cmml" xref="S3.SS6.p3.1.m1.1.1"><times id="S3.SS6.p3.1.m1.1.1.2.cmml" xref="S3.SS6.p3.1.m1.1.1.2"></times><ci id="S3.SS6.p3.1.m1.1.1.3.cmml" xref="S3.SS6.p3.1.m1.1.1.3">𝒪</ci><apply id="S3.SS6.p3.1.m1.1.1.1.1.1.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1"><times id="S3.SS6.p3.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.1"></times><apply id="S3.SS6.p3.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2"><times id="S3.SS6.p3.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.1"></times><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.2">𝑛</ci><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.2.3">𝑑</ci></apply><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.3">𝑖</ci><apply id="S3.SS6.p3.1.m1.1.1.1.1.1.4.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS6.p3.1.m1.1.1.1.1.1.4.1.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.2.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.2">𝑚</ci><apply id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3"><times id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.1"></times><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.2.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.2">𝑖</ci><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.3.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.3">𝑛</ci><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.4.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.4">𝑝</ci><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.5.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.5">𝑢</ci><ci id="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.6.cmml" xref="S3.SS6.p3.1.m1.1.1.1.1.1.4.3.6">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p3.1.m1.1c">\mathcal{O}(n\times dim_{input})</annotation></semantics></math>, so that <math id="S3.SS6.p3.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS6.p3.2.m2.1a"><mi id="S3.SS6.p3.2.m2.1.1" xref="S3.SS6.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS6.p3.2.m2.1b"><ci id="S3.SS6.p3.2.m2.1.1.cmml" xref="S3.SS6.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS6.p3.2.m2.1c">n</annotation></semantics></math> is the client batch size instead of the total number of images. This approach would require model modification to introduce sparsity similar to <span id="S3.SS6.p3.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span>, resulting in a model size increase. However, the storage size benefits of sparsity can also help decrease the overhead.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<figure id="S4.F2" class="ltx_figure"><img src="/html/2303.14868/assets/x2.png" id="S4.F2.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="166" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.7.3.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S4.F2.5.2" class="ltx_text" style="font-size:90%;"> Comparing the model size of the dense and sparse tensor attack with Robbing the Fed on the downsampled Tiny ImageNet dataset with a client batch size of 64. The model sizes are given when achieving a total leakage rate of <math id="S4.F2.4.1.m1.1" class="ltx_Math" alttext="77\%" display="inline"><semantics id="S4.F2.4.1.m1.1b"><mrow id="S4.F2.4.1.m1.1.1" xref="S4.F2.4.1.m1.1.1.cmml"><mn id="S4.F2.4.1.m1.1.1.2" xref="S4.F2.4.1.m1.1.1.2.cmml">77</mn><mo id="S4.F2.4.1.m1.1.1.1" xref="S4.F2.4.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.4.1.m1.1c"><apply id="S4.F2.4.1.m1.1.1.cmml" xref="S4.F2.4.1.m1.1.1"><csymbol cd="latexml" id="S4.F2.4.1.m1.1.1.1.cmml" xref="S4.F2.4.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S4.F2.4.1.m1.1.1.2.cmml" xref="S4.F2.4.1.m1.1.1.2">77</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.4.1.m1.1d">77\%</annotation></semantics></math>. At 1000 clients, the sparse representation is <math id="S4.F2.5.2.m2.1" class="ltx_math_unparsed" alttext="327.33\times" display="inline"><semantics id="S4.F2.5.2.m2.1b"><mrow id="S4.F2.5.2.m2.1c"><mn id="S4.F2.5.2.m2.1.1">327.33</mn><mo lspace="0.222em" id="S4.F2.5.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.F2.5.2.m2.1d">327.33\times</annotation></semantics></math> smaller than Robbing the Fed.</span></figcaption>
</figure>
<div id="S4.p1" class="ltx_para">
<p id="S4.p1.4" class="ltx_p">We evaluate our attack in the secure aggregation FL setting. We are particularly focused on the resource costs in terms of model size and computation overhead added by linear layer leakage attacks when scaling to larger numbers of clients. We primarily compare three attacks: our attack using dense tensors, our attack using the sparse tensor representation, and Robbing the Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> the prior SOTA linear layer attack. For all experiments, we use a client batch size of 64 with a varied number of clients in aggregation. We use a <math id="S4.p1.1.m1.1" class="ltx_Math" alttext="|\text{FC layer}|" display="inline"><semantics id="S4.p1.1.m1.1a"><mrow id="S4.p1.1.m1.1.2.2" xref="S4.p1.1.m1.1.2.1.cmml"><mo stretchy="false" id="S4.p1.1.m1.1.2.2.1" xref="S4.p1.1.m1.1.2.1.1.cmml">|</mo><mtext id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1a.cmml">FC layer</mtext><mo stretchy="false" id="S4.p1.1.m1.1.2.2.2" xref="S4.p1.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.2.1.cmml" xref="S4.p1.1.m1.1.2.2"><abs id="S4.p1.1.m1.1.2.1.1.cmml" xref="S4.p1.1.m1.1.2.2.1"></abs><ci id="S4.p1.1.m1.1.1a.cmml" xref="S4.p1.1.m1.1.1"><mtext id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">FC layer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">|\text{FC layer}|</annotation></semantics></math> <math id="S4.p1.2.m2.1" class="ltx_math_unparsed" alttext="4\times" display="inline"><semantics id="S4.p1.2.m2.1a"><mrow id="S4.p1.2.m2.1b"><mn id="S4.p1.2.m2.1.1">4</mn><mo lspace="0.222em" id="S4.p1.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">4\times</annotation></semantics></math> the number of images. Using the binning method of  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, both our method and Robbing the Fed achieve the same total leakage rate on the Tiny ImageNet dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Using a single training round with 1000 clients, <span id="S4.p1.4.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> leaks <math id="S4.p1.3.m3.1" class="ltx_Math" alttext="76.9\%" display="inline"><semantics id="S4.p1.3.m3.1a"><mrow id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml"><mn id="S4.p1.3.m3.1.1.2" xref="S4.p1.3.m3.1.1.2.cmml">76.9</mn><mo id="S4.p1.3.m3.1.1.1" xref="S4.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><apply id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1"><csymbol cd="latexml" id="S4.p1.3.m3.1.1.1.cmml" xref="S4.p1.3.m3.1.1.1">percent</csymbol><cn type="float" id="S4.p1.3.m3.1.1.2.cmml" xref="S4.p1.3.m3.1.1.2">76.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">76.9\%</annotation></semantics></math> (49,209) images, and Robbing the Fed leaks <math id="S4.p1.4.m4.1" class="ltx_Math" alttext="76.5\%" display="inline"><semantics id="S4.p1.4.m4.1a"><mrow id="S4.p1.4.m4.1.1" xref="S4.p1.4.m4.1.1.cmml"><mn id="S4.p1.4.m4.1.1.2" xref="S4.p1.4.m4.1.1.2.cmml">76.5</mn><mo id="S4.p1.4.m4.1.1.1" xref="S4.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.4.m4.1b"><apply id="S4.p1.4.m4.1.1.cmml" xref="S4.p1.4.m4.1.1"><csymbol cd="latexml" id="S4.p1.4.m4.1.1.1.cmml" xref="S4.p1.4.m4.1.1.1">percent</csymbol><cn type="float" id="S4.p1.4.m4.1.1.2.cmml" xref="S4.p1.4.m4.1.1.2">76.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.4.m4.1c">76.5\%</annotation></semantics></math> (48,992) of the total 64,000 images. For additional examples of reconstructed images and the leakage rate for other datasets, we refer to the supplementary material.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.5" class="ltx_p">We first show the model size comparison for each of the methods on a downsampled Tiny ImageNet dataset (<math id="S4.p2.1.m1.1" class="ltx_Math" alttext="32\times 32\times 3" display="inline"><semantics id="S4.p2.1.m1.1a"><mrow id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml"><mn id="S4.p2.1.m1.1.1.2" xref="S4.p2.1.m1.1.1.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.1.m1.1.1.1" xref="S4.p2.1.m1.1.1.1.cmml">×</mo><mn id="S4.p2.1.m1.1.1.3" xref="S4.p2.1.m1.1.1.3.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.1.m1.1.1.1a" xref="S4.p2.1.m1.1.1.1.cmml">×</mo><mn id="S4.p2.1.m1.1.1.4" xref="S4.p2.1.m1.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><apply id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1"><times id="S4.p2.1.m1.1.1.1.cmml" xref="S4.p2.1.m1.1.1.1"></times><cn type="integer" id="S4.p2.1.m1.1.1.2.cmml" xref="S4.p2.1.m1.1.1.2">32</cn><cn type="integer" id="S4.p2.1.m1.1.1.3.cmml" xref="S4.p2.1.m1.1.1.3">32</cn><cn type="integer" id="S4.p2.1.m1.1.1.4.cmml" xref="S4.p2.1.m1.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">32\times 32\times 3</annotation></semantics></math>), comparing the model size trend with increasing clients. We show the overhead added to standard vision models from each method. In Section <a href="#S4.SS3" title="4.3 Larger image sizes ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a> we also look at the size overhead of the inserted modules on the MNIST (<math id="S4.p2.2.m2.1" class="ltx_Math" alttext="28\times 28\times 1" display="inline"><semantics id="S4.p2.2.m2.1a"><mrow id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml"><mn id="S4.p2.2.m2.1.1.2" xref="S4.p2.2.m2.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.2.m2.1.1.1" xref="S4.p2.2.m2.1.1.1.cmml">×</mo><mn id="S4.p2.2.m2.1.1.3" xref="S4.p2.2.m2.1.1.3.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.2.m2.1.1.1a" xref="S4.p2.2.m2.1.1.1.cmml">×</mo><mn id="S4.p2.2.m2.1.1.4" xref="S4.p2.2.m2.1.1.4.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><apply id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1"><times id="S4.p2.2.m2.1.1.1.cmml" xref="S4.p2.2.m2.1.1.1"></times><cn type="integer" id="S4.p2.2.m2.1.1.2.cmml" xref="S4.p2.2.m2.1.1.2">28</cn><cn type="integer" id="S4.p2.2.m2.1.1.3.cmml" xref="S4.p2.2.m2.1.1.3">28</cn><cn type="integer" id="S4.p2.2.m2.1.1.4.cmml" xref="S4.p2.2.m2.1.1.4">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">28\times 28\times 1</annotation></semantics></math>) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, CIFAR-100 (<math id="S4.p2.3.m3.1" class="ltx_Math" alttext="32\times 32\times 3" display="inline"><semantics id="S4.p2.3.m3.1a"><mrow id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml"><mn id="S4.p2.3.m3.1.1.2" xref="S4.p2.3.m3.1.1.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.3.m3.1.1.1" xref="S4.p2.3.m3.1.1.1.cmml">×</mo><mn id="S4.p2.3.m3.1.1.3" xref="S4.p2.3.m3.1.1.3.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.3.m3.1.1.1a" xref="S4.p2.3.m3.1.1.1.cmml">×</mo><mn id="S4.p2.3.m3.1.1.4" xref="S4.p2.3.m3.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.1b"><apply id="S4.p2.3.m3.1.1.cmml" xref="S4.p2.3.m3.1.1"><times id="S4.p2.3.m3.1.1.1.cmml" xref="S4.p2.3.m3.1.1.1"></times><cn type="integer" id="S4.p2.3.m3.1.1.2.cmml" xref="S4.p2.3.m3.1.1.2">32</cn><cn type="integer" id="S4.p2.3.m3.1.1.3.cmml" xref="S4.p2.3.m3.1.1.3">32</cn><cn type="integer" id="S4.p2.3.m3.1.1.4.cmml" xref="S4.p2.3.m3.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.1c">32\times 32\times 3</annotation></semantics></math>) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, Tiny ImageNet (<math id="S4.p2.4.m4.1" class="ltx_Math" alttext="64\times 64\times 3" display="inline"><semantics id="S4.p2.4.m4.1a"><mrow id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml"><mn id="S4.p2.4.m4.1.1.2" xref="S4.p2.4.m4.1.1.2.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.4.m4.1.1.1" xref="S4.p2.4.m4.1.1.1.cmml">×</mo><mn id="S4.p2.4.m4.1.1.3" xref="S4.p2.4.m4.1.1.3.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.4.m4.1.1.1a" xref="S4.p2.4.m4.1.1.1.cmml">×</mo><mn id="S4.p2.4.m4.1.1.4" xref="S4.p2.4.m4.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><apply id="S4.p2.4.m4.1.1.cmml" xref="S4.p2.4.m4.1.1"><times id="S4.p2.4.m4.1.1.1.cmml" xref="S4.p2.4.m4.1.1.1"></times><cn type="integer" id="S4.p2.4.m4.1.1.2.cmml" xref="S4.p2.4.m4.1.1.2">64</cn><cn type="integer" id="S4.p2.4.m4.1.1.3.cmml" xref="S4.p2.4.m4.1.1.3">64</cn><cn type="integer" id="S4.p2.4.m4.1.1.4.cmml" xref="S4.p2.4.m4.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">64\times 64\times 3</annotation></semantics></math>), and ImageNet (<math id="S4.p2.5.m5.1" class="ltx_Math" alttext="256\times 256\times 3" display="inline"><semantics id="S4.p2.5.m5.1a"><mrow id="S4.p2.5.m5.1.1" xref="S4.p2.5.m5.1.1.cmml"><mn id="S4.p2.5.m5.1.1.2" xref="S4.p2.5.m5.1.1.2.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.5.m5.1.1.1" xref="S4.p2.5.m5.1.1.1.cmml">×</mo><mn id="S4.p2.5.m5.1.1.3" xref="S4.p2.5.m5.1.1.3.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="S4.p2.5.m5.1.1.1a" xref="S4.p2.5.m5.1.1.1.cmml">×</mo><mn id="S4.p2.5.m5.1.1.4" xref="S4.p2.5.m5.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.5.m5.1b"><apply id="S4.p2.5.m5.1.1.cmml" xref="S4.p2.5.m5.1.1"><times id="S4.p2.5.m5.1.1.1.cmml" xref="S4.p2.5.m5.1.1.1"></times><cn type="integer" id="S4.p2.5.m5.1.1.2.cmml" xref="S4.p2.5.m5.1.1.2">256</cn><cn type="integer" id="S4.p2.5.m5.1.1.3.cmml" xref="S4.p2.5.m5.1.1.3">256</cn><cn type="integer" id="S4.p2.5.m5.1.1.4.cmml" xref="S4.p2.5.m5.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.5.m5.1c">256\times 256\times 3</annotation></semantics></math>) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> datasets. We use this section to highlight the difficulties in scaling with larger input image sizes.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">When using larger input image sizes with a large number of clients, the FC layer size of Robbing the Fed grows too large for memory. As a result, we use the downsampled Tiny ImageNet dataset for these comparisons. We run the attacks on a CPU compared to a GPU, focusing on the resource restrictions of cross-device FL. For the computation overhead, we compare the additional time required to compute the model gradients when compared to a baseline ResNet-50 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> from PyTorch. We place the extra layers at the start of the architecture.</p>
</div>
<div id="S4.p4" class="ltx_para">
<p id="S4.p4.1" class="ltx_p">Finally, we experimentally show the binning methodology of Robbing the Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> is more effective than trap-weights <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> in terms of mutual information.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.6.1.1" class="ltx_tr">
<th id="S4.T1.6.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<th id="S4.T1.6.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">
<table id="S4.T1.6.1.1.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.6.1.1.2.1.1" class="ltx_tr">
<td id="S4.T1.6.1.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.2.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Model size</span></td>
</tr>
<tr id="S4.T1.6.1.1.2.1.2" class="ltx_tr">
<td id="S4.T1.6.1.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.2.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">(MB)</span></td>
</tr>
</table>
</th>
<th id="S4.T1.6.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="S4.T1.6.1.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.6.1.1.3.1.1" class="ltx_tr">
<td id="S4.T1.6.1.1.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.3.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Sparse</span></td>
</tr>
<tr id="S4.T1.6.1.1.3.1.2" class="ltx_tr">
<td id="S4.T1.6.1.1.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.3.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">attack</span></td>
</tr>
</table>
</th>
<th id="S4.T1.6.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">
<table id="S4.T1.6.1.1.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.6.1.1.4.1.1" class="ltx_tr">
<td id="S4.T1.6.1.1.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.4.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Robbing</span></td>
</tr>
<tr id="S4.T1.6.1.1.4.1.2" class="ltx_tr">
<td id="S4.T1.6.1.1.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.1.1.4.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">the Fed</span></td>
</tr>
</table>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.6.2.1" class="ltx_tr">
<th id="S4.T1.6.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="S4.T1.6.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">MobileNet v3 (L)</span></th>
<th id="S4.T1.6.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T1.6.2.1.2.1" class="ltx_text" style="font-size:90%;">20.9161</span></th>
<td id="S4.T1.6.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.6.2.1.3.1" class="ltx_text" style="font-size:90%;">87.65%</span></td>
<td id="S4.T1.6.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.6.2.1.4.1" class="ltx_text" style="font-size:90%;">28690.76%</span></td>
</tr>
<tr id="S4.T1.6.3.2" class="ltx_tr">
<th id="S4.T1.6.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r"><span id="S4.T1.6.3.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">ResNet-18</span></th>
<th id="S4.T1.6.3.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T1.6.3.2.2.1" class="ltx_text" style="font-size:90%;">44.5919</span></th>
<td id="S4.T1.6.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T1.6.3.2.3.1" class="ltx_text" style="font-size:90%;">41.11%</span></td>
<td id="S4.T1.6.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.3.2.4.1" class="ltx_text" style="font-size:90%;">13457.57%</span></td>
</tr>
<tr id="S4.T1.6.4.3" class="ltx_tr">
<th id="S4.T1.6.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r"><span id="S4.T1.6.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">ResNet-50</span></th>
<th id="S4.T1.6.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T1.6.4.3.2.1" class="ltx_text" style="font-size:90%;">97.4923</span></th>
<td id="S4.T1.6.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.3.3.1" class="ltx_text" style="font-size:90%;">18.80%</span></td>
<td id="S4.T1.6.4.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.4.3.4.1" class="ltx_text" style="font-size:90%;">6155.35%</span></td>
</tr>
<tr id="S4.T1.6.5.4" class="ltx_tr">
<th id="S4.T1.6.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r"><span id="S4.T1.6.5.4.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Inception v3</span></th>
<th id="S4.T1.6.5.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T1.6.5.4.2.1" class="ltx_text" style="font-size:90%;">103.6120</span></th>
<td id="S4.T1.6.5.4.3" class="ltx_td ltx_align_center"><span id="S4.T1.6.5.4.3.1" class="ltx_text" style="font-size:90%;">17.69%</span></td>
<td id="S4.T1.6.5.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.5.4.4.1" class="ltx_text" style="font-size:90%;">5791.79%</span></td>
</tr>
<tr id="S4.T1.6.6.5" class="ltx_tr">
<th id="S4.T1.6.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r"><span id="S4.T1.6.6.5.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">VGG-11</span></th>
<th id="S4.T1.6.6.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r"><span id="S4.T1.6.6.5.2.1" class="ltx_text" style="font-size:90%;">506.8334</span></th>
<td id="S4.T1.6.6.5.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T1.6.6.5.3.1" class="ltx_text" style="font-size:90%;">3.62%</span></td>
<td id="S4.T1.6.6.5.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T1.6.6.5.4.1" class="ltx_text" style="font-size:90%;">1184.02%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.7.3.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S4.T1.4.2" class="ltx_text" style="font-size:90%;"> Model size overhead added from the attacks with 1000 clients and a batch size of 64 on Tiny ImageNet compared to vision models. The overhead added by the sparse representation attack (<math id="S4.T1.3.1.m1.1" class="ltx_Math" alttext="18.33" display="inline"><semantics id="S4.T1.3.1.m1.1b"><mn id="S4.T1.3.1.m1.1.1" xref="S4.T1.3.1.m1.1.1.cmml">18.33</mn><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.m1.1c"><cn type="float" id="S4.T1.3.1.m1.1.1.cmml" xref="S4.T1.3.1.m1.1.1">18.33</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.m1.1d">18.33</annotation></semantics></math>MB) is significantly smaller than Robbing the Fed (<math id="S4.T1.4.2.m2.1" class="ltx_Math" alttext="6000.99" display="inline"><semantics id="S4.T1.4.2.m2.1b"><mn id="S4.T1.4.2.m2.1.1" xref="S4.T1.4.2.m2.1.1.cmml">6000.99</mn><annotation-xml encoding="MathML-Content" id="S4.T1.4.2.m2.1c"><cn type="float" id="S4.T1.4.2.m2.1.1.cmml" xref="S4.T1.4.2.m2.1.1">6000.99</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.2.m2.1d">6000.99</annotation></semantics></math>MB) and achieves the same leakage rate.</span></figcaption>
</figure>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Model size</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.3" class="ltx_p">We start with a discussion on the model size. For these experiments, we use PyTorch’s sparse COO (Coordinate format) tensor representation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. This format stores the non-zero values in indices and values tensor. The size of the sparse tensor in bytes is</p>
<table id="S4.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E7.m1.2" class="ltx_Math" alttext="size=(dim\cdot 8+datasize)\cdot|\{w_{N}\mid w_{N}\neq 0\}|\vspace{-4 pt}" display="block"><semantics id="S4.E7.m1.2a"><mrow id="S4.E7.m1.2.2" xref="S4.E7.m1.2.2.cmml"><mrow id="S4.E7.m1.2.2.4" xref="S4.E7.m1.2.2.4.cmml"><mi id="S4.E7.m1.2.2.4.2" xref="S4.E7.m1.2.2.4.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.2.2.4.1" xref="S4.E7.m1.2.2.4.1.cmml">​</mo><mi id="S4.E7.m1.2.2.4.3" xref="S4.E7.m1.2.2.4.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.2.2.4.1a" xref="S4.E7.m1.2.2.4.1.cmml">​</mo><mi id="S4.E7.m1.2.2.4.4" xref="S4.E7.m1.2.2.4.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.2.2.4.1b" xref="S4.E7.m1.2.2.4.1.cmml">​</mo><mi id="S4.E7.m1.2.2.4.5" xref="S4.E7.m1.2.2.4.5.cmml">e</mi></mrow><mo id="S4.E7.m1.2.2.3" xref="S4.E7.m1.2.2.3.cmml">=</mo><mrow id="S4.E7.m1.2.2.2" xref="S4.E7.m1.2.2.2.cmml"><mrow id="S4.E7.m1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.2.cmml"><mrow id="S4.E7.m1.1.1.1.1.1.1.2.2" xref="S4.E7.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.2.2.2" xref="S4.E7.m1.1.1.1.1.1.1.2.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.2.2.1" xref="S4.E7.m1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.2.2.3" xref="S4.E7.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.2.2.1a" xref="S4.E7.m1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.2.2.4" xref="S4.E7.m1.1.1.1.1.1.1.2.2.4.cmml">m</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S4.E7.m1.1.1.1.1.1.1.2.1" xref="S4.E7.m1.1.1.1.1.1.1.2.1.cmml">⋅</mo><mn id="S4.E7.m1.1.1.1.1.1.1.2.3" xref="S4.E7.m1.1.1.1.1.1.1.2.3.cmml">8</mn></mrow><mo id="S4.E7.m1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.1.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1a" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.4" xref="S4.E7.m1.1.1.1.1.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1b" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.5" xref="S4.E7.m1.1.1.1.1.1.1.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1c" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.6" xref="S4.E7.m1.1.1.1.1.1.1.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1d" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.7" xref="S4.E7.m1.1.1.1.1.1.1.3.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1e" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.8" xref="S4.E7.m1.1.1.1.1.1.1.3.8.cmml">z</mi><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.3.1f" xref="S4.E7.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E7.m1.1.1.1.1.1.1.3.9" xref="S4.E7.m1.1.1.1.1.1.1.3.9.cmml">e</mi></mrow></mrow><mo rspace="0.055em" stretchy="false" id="S4.E7.m1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="S4.E7.m1.2.2.2.3" xref="S4.E7.m1.2.2.2.3.cmml">⋅</mo><mrow id="S4.E7.m1.2.2.2.2.1" xref="S4.E7.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="S4.E7.m1.2.2.2.2.1.2" xref="S4.E7.m1.2.2.2.2.2.1.cmml">|</mo><mrow id="S4.E7.m1.2.2.2.2.1.1.2" xref="S4.E7.m1.2.2.2.2.1.1.3.cmml"><mo stretchy="false" id="S4.E7.m1.2.2.2.2.1.1.2.3" xref="S4.E7.m1.2.2.2.2.1.1.3.1.cmml">{</mo><msub id="S4.E7.m1.2.2.2.2.1.1.1.1" xref="S4.E7.m1.2.2.2.2.1.1.1.1.cmml"><mi id="S4.E7.m1.2.2.2.2.1.1.1.1.2" xref="S4.E7.m1.2.2.2.2.1.1.1.1.2.cmml">w</mi><mi id="S4.E7.m1.2.2.2.2.1.1.1.1.3" xref="S4.E7.m1.2.2.2.2.1.1.1.1.3.cmml">N</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="S4.E7.m1.2.2.2.2.1.1.2.4" xref="S4.E7.m1.2.2.2.2.1.1.3.1.cmml">∣</mo><mrow id="S4.E7.m1.2.2.2.2.1.1.2.2" xref="S4.E7.m1.2.2.2.2.1.1.2.2.cmml"><msub id="S4.E7.m1.2.2.2.2.1.1.2.2.2" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2.cmml"><mi id="S4.E7.m1.2.2.2.2.1.1.2.2.2.2" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2.2.cmml">w</mi><mi id="S4.E7.m1.2.2.2.2.1.1.2.2.2.3" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2.3.cmml">N</mi></msub><mo id="S4.E7.m1.2.2.2.2.1.1.2.2.1" xref="S4.E7.m1.2.2.2.2.1.1.2.2.1.cmml">≠</mo><mn id="S4.E7.m1.2.2.2.2.1.1.2.2.3" xref="S4.E7.m1.2.2.2.2.1.1.2.2.3.cmml">0</mn></mrow><mo stretchy="false" id="S4.E7.m1.2.2.2.2.1.1.2.5" xref="S4.E7.m1.2.2.2.2.1.1.3.1.cmml">}</mo></mrow><mo stretchy="false" id="S4.E7.m1.2.2.2.2.1.3" xref="S4.E7.m1.2.2.2.2.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.2b"><apply id="S4.E7.m1.2.2.cmml" xref="S4.E7.m1.2.2"><eq id="S4.E7.m1.2.2.3.cmml" xref="S4.E7.m1.2.2.3"></eq><apply id="S4.E7.m1.2.2.4.cmml" xref="S4.E7.m1.2.2.4"><times id="S4.E7.m1.2.2.4.1.cmml" xref="S4.E7.m1.2.2.4.1"></times><ci id="S4.E7.m1.2.2.4.2.cmml" xref="S4.E7.m1.2.2.4.2">𝑠</ci><ci id="S4.E7.m1.2.2.4.3.cmml" xref="S4.E7.m1.2.2.4.3">𝑖</ci><ci id="S4.E7.m1.2.2.4.4.cmml" xref="S4.E7.m1.2.2.4.4">𝑧</ci><ci id="S4.E7.m1.2.2.4.5.cmml" xref="S4.E7.m1.2.2.4.5">𝑒</ci></apply><apply id="S4.E7.m1.2.2.2.cmml" xref="S4.E7.m1.2.2.2"><ci id="S4.E7.m1.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.3">⋅</ci><apply id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><plus id="S4.E7.m1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1"></plus><apply id="S4.E7.m1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2"><ci id="S4.E7.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.1">⋅</ci><apply id="S4.E7.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.2"><times id="S4.E7.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.2.1"></times><ci id="S4.E7.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.2.2">𝑑</ci><ci id="S4.E7.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.2.3">𝑖</ci><ci id="S4.E7.m1.1.1.1.1.1.1.2.2.4.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.2.4">𝑚</ci></apply><cn type="integer" id="S4.E7.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2.3">8</cn></apply><apply id="S4.E7.m1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3"><times id="S4.E7.m1.1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.1"></times><ci id="S4.E7.m1.1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2">𝑑</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.3">𝑎</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.4.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.4">𝑡</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.5.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.5">𝑎</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.6.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.6">𝑠</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.7.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.7">𝑖</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.8.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.8">𝑧</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.9.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.9">𝑒</ci></apply></apply><apply id="S4.E7.m1.2.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.1"><abs id="S4.E7.m1.2.2.2.2.2.1.cmml" xref="S4.E7.m1.2.2.2.2.1.2"></abs><apply id="S4.E7.m1.2.2.2.2.1.1.3.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2"><csymbol cd="latexml" id="S4.E7.m1.2.2.2.2.1.1.3.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.3">conditional-set</csymbol><apply id="S4.E7.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E7.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S4.E7.m1.2.2.2.2.1.1.1.1.2">𝑤</ci><ci id="S4.E7.m1.2.2.2.2.1.1.1.1.3.cmml" xref="S4.E7.m1.2.2.2.2.1.1.1.1.3">𝑁</ci></apply><apply id="S4.E7.m1.2.2.2.2.1.1.2.2.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2"><neq id="S4.E7.m1.2.2.2.2.1.1.2.2.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.1"></neq><apply id="S4.E7.m1.2.2.2.2.1.1.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.2.2.2.2.1.1.2.2.2.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2">subscript</csymbol><ci id="S4.E7.m1.2.2.2.2.1.1.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2.2">𝑤</ci><ci id="S4.E7.m1.2.2.2.2.1.1.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.2.3">𝑁</ci></apply><cn type="integer" id="S4.E7.m1.2.2.2.2.1.1.2.2.3.cmml" xref="S4.E7.m1.2.2.2.2.1.1.2.2.3">0</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.2c">size=(dim\cdot 8+datasize)\cdot|\{w_{N}\mid w_{N}\neq 0\}|\vspace{-4 pt}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p1.2" class="ltx_p">following PyTorch’s sparse tensor memory consumption. The tensor dimensions are <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="dim=2" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mrow id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2.2" xref="S4.SS1.p1.1.m1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p1.1.m1.1.1.2.1" xref="S4.SS1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS1.p1.1.m1.1.1.2.3" xref="S4.SS1.p1.1.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p1.1.m1.1.1.2.1a" xref="S4.SS1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS1.p1.1.m1.1.1.2.4" xref="S4.SS1.p1.1.m1.1.1.2.4.cmml">m</mi></mrow><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><eq id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></eq><apply id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2"><times id="S4.SS1.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1.2.1"></times><ci id="S4.SS1.p1.1.m1.1.1.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2.2">𝑑</ci><ci id="S4.SS1.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.p1.1.m1.1.1.2.3">𝑖</ci><ci id="S4.SS1.p1.1.m1.1.1.2.4.cmml" xref="S4.SS1.p1.1.m1.1.1.2.4">𝑚</ci></apply><cn type="integer" id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">dim=2</annotation></semantics></math> and the data size is <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><mn id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><cn type="integer" id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">4</annotation></semantics></math> bytes for our model.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.4" class="ltx_p">When the ratio of the number of neurons to images is <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="4:1" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mn id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">4</mn><mo lspace="0.278em" rspace="0.278em" id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">:</mo><mn id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><ci id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1">:</ci><cn type="integer" id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">4</cn><cn type="integer" id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">4:1</annotation></semantics></math>, the attack methods achieve <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="~{}77\%" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mrow id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><mn id="S4.SS1.p2.2.m2.1.1.2" xref="S4.SS1.p2.2.m2.1.1.2.cmml">77</mn><mo id="S4.SS1.p2.2.m2.1.1.1" xref="S4.SS1.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><csymbol cd="latexml" id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S4.SS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2">77</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">~{}77\%</annotation></semantics></math> total leakage rate on the Tiny ImageNet dataset (small randomness coming from batch images selection). In the case of Robbing the Fed, this is achieved when the <math id="S4.SS1.p2.3.m3.3" class="ltx_Math" alttext="|\text{FC layer}|=(\text{num clients})\cdot(\text{batch size})\cdot 4" display="inline"><semantics id="S4.SS1.p2.3.m3.3a"><mrow id="S4.SS1.p2.3.m3.3.4" xref="S4.SS1.p2.3.m3.3.4.cmml"><mrow id="S4.SS1.p2.3.m3.3.4.2.2" xref="S4.SS1.p2.3.m3.3.4.2.1.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.3.4.2.2.1" xref="S4.SS1.p2.3.m3.3.4.2.1.1.cmml">|</mo><mtext id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1a.cmml">FC layer</mtext><mo stretchy="false" id="S4.SS1.p2.3.m3.3.4.2.2.2" xref="S4.SS1.p2.3.m3.3.4.2.1.1.cmml">|</mo></mrow><mo id="S4.SS1.p2.3.m3.3.4.1" xref="S4.SS1.p2.3.m3.3.4.1.cmml">=</mo><mrow id="S4.SS1.p2.3.m3.3.4.3" xref="S4.SS1.p2.3.m3.3.4.3.cmml"><mrow id="S4.SS1.p2.3.m3.3.4.3.2.2" xref="S4.SS1.p2.3.m3.2.2a.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.3.4.3.2.2.1" xref="S4.SS1.p2.3.m3.2.2a.cmml">(</mo><mtext id="S4.SS1.p2.3.m3.2.2" xref="S4.SS1.p2.3.m3.2.2.cmml">num clients</mtext><mo rspace="0.055em" stretchy="false" id="S4.SS1.p2.3.m3.3.4.3.2.2.2" xref="S4.SS1.p2.3.m3.2.2a.cmml">)</mo></mrow><mo rspace="0.222em" id="S4.SS1.p2.3.m3.3.4.3.1" xref="S4.SS1.p2.3.m3.3.4.3.1.cmml">⋅</mo><mrow id="S4.SS1.p2.3.m3.3.4.3.3.2" xref="S4.SS1.p2.3.m3.3.3a.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.3.4.3.3.2.1" xref="S4.SS1.p2.3.m3.3.3a.cmml">(</mo><mtext id="S4.SS1.p2.3.m3.3.3" xref="S4.SS1.p2.3.m3.3.3.cmml">batch size</mtext><mo rspace="0.055em" stretchy="false" id="S4.SS1.p2.3.m3.3.4.3.3.2.2" xref="S4.SS1.p2.3.m3.3.3a.cmml">)</mo></mrow><mo rspace="0.222em" id="S4.SS1.p2.3.m3.3.4.3.1a" xref="S4.SS1.p2.3.m3.3.4.3.1.cmml">⋅</mo><mn id="S4.SS1.p2.3.m3.3.4.3.4" xref="S4.SS1.p2.3.m3.3.4.3.4.cmml">4</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.3b"><apply id="S4.SS1.p2.3.m3.3.4.cmml" xref="S4.SS1.p2.3.m3.3.4"><eq id="S4.SS1.p2.3.m3.3.4.1.cmml" xref="S4.SS1.p2.3.m3.3.4.1"></eq><apply id="S4.SS1.p2.3.m3.3.4.2.1.cmml" xref="S4.SS1.p2.3.m3.3.4.2.2"><abs id="S4.SS1.p2.3.m3.3.4.2.1.1.cmml" xref="S4.SS1.p2.3.m3.3.4.2.2.1"></abs><ci id="S4.SS1.p2.3.m3.1.1a.cmml" xref="S4.SS1.p2.3.m3.1.1"><mtext id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">FC layer</mtext></ci></apply><apply id="S4.SS1.p2.3.m3.3.4.3.cmml" xref="S4.SS1.p2.3.m3.3.4.3"><ci id="S4.SS1.p2.3.m3.3.4.3.1.cmml" xref="S4.SS1.p2.3.m3.3.4.3.1">⋅</ci><ci id="S4.SS1.p2.3.m3.2.2a.cmml" xref="S4.SS1.p2.3.m3.3.4.3.2.2"><mtext id="S4.SS1.p2.3.m3.2.2.cmml" xref="S4.SS1.p2.3.m3.2.2">num clients</mtext></ci><ci id="S4.SS1.p2.3.m3.3.3a.cmml" xref="S4.SS1.p2.3.m3.3.4.3.3.2"><mtext id="S4.SS1.p2.3.m3.3.3.cmml" xref="S4.SS1.p2.3.m3.3.3">batch size</mtext></ci><cn type="integer" id="S4.SS1.p2.3.m3.3.4.3.4.cmml" xref="S4.SS1.p2.3.m3.3.4.3.4">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.3c">|\text{FC layer}|=(\text{num clients})\cdot(\text{batch size})\cdot 4</annotation></semantics></math>. Our method achieves this with a fixed <math id="S4.SS1.p2.4.m4.1" class="ltx_Math" alttext="|\text{FC layer}|=256" display="inline"><semantics id="S4.SS1.p2.4.m4.1a"><mrow id="S4.SS1.p2.4.m4.1.2" xref="S4.SS1.p2.4.m4.1.2.cmml"><mrow id="S4.SS1.p2.4.m4.1.2.2.2" xref="S4.SS1.p2.4.m4.1.2.2.1.cmml"><mo stretchy="false" id="S4.SS1.p2.4.m4.1.2.2.2.1" xref="S4.SS1.p2.4.m4.1.2.2.1.1.cmml">|</mo><mtext id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1a.cmml">FC layer</mtext><mo stretchy="false" id="S4.SS1.p2.4.m4.1.2.2.2.2" xref="S4.SS1.p2.4.m4.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.SS1.p2.4.m4.1.2.1" xref="S4.SS1.p2.4.m4.1.2.1.cmml">=</mo><mn id="S4.SS1.p2.4.m4.1.2.3" xref="S4.SS1.p2.4.m4.1.2.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.1b"><apply id="S4.SS1.p2.4.m4.1.2.cmml" xref="S4.SS1.p2.4.m4.1.2"><eq id="S4.SS1.p2.4.m4.1.2.1.cmml" xref="S4.SS1.p2.4.m4.1.2.1"></eq><apply id="S4.SS1.p2.4.m4.1.2.2.1.cmml" xref="S4.SS1.p2.4.m4.1.2.2.2"><abs id="S4.SS1.p2.4.m4.1.2.2.1.1.cmml" xref="S4.SS1.p2.4.m4.1.2.2.2.1"></abs><ci id="S4.SS1.p2.4.m4.1.1a.cmml" xref="S4.SS1.p2.4.m4.1.1"><mtext id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">FC layer</mtext></ci></apply><cn type="integer" id="S4.SS1.p2.4.m4.1.2.3.cmml" xref="S4.SS1.p2.4.m4.1.2.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.1c">|\text{FC layer}|=256</annotation></semantics></math> by increasing the number of convolutional kernels by 3 for each client.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.3" class="ltx_p">Figure <a href="#S4.F2" title="Figure 2 ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the model size overhead (MB) added by the 3 methods with a fixed leakage rate and a varying number of clients. At 3 clients, the sparse representation is nearly the same size as Robbing the Fed (<math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="99.994\%" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mrow id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mn id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">99.994</mn><mo id="S4.SS1.p3.1.m1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="latexml" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1.1">percent</csymbol><cn type="float" id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">99.994</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">99.994\%</annotation></semantics></math>). At 5 clients, the sparse and dense (update size with SA sent back to server) representations are the same size. As the number of clients grows, both dense weights and Robbing the Fed quickly grow in size, while the sparse representation remains virtually the same. While the method of Robbing the Fed is able to achieve the same total leakage rate, the number of parameters is roughly double the dense weights attack. With 1000 clients, Robbing the Fed is <math id="S4.SS1.p3.2.m2.1" class="ltx_math_unparsed" alttext="327.33\times" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1b"><mn id="S4.SS1.p3.2.m2.1.1">327.33</mn><mo lspace="0.222em" id="S4.SS1.p3.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">327.33\times</annotation></semantics></math> larger than the sparse tensor attack. Between <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="1-1000" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mrow id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mn id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2.cmml">1</mn><mo id="S4.SS1.p3.3.m3.1.1.1" xref="S4.SS1.p3.3.m3.1.1.1.cmml">−</mo><mn id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><minus id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1.1"></minus><cn type="integer" id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">1</cn><cn type="integer" id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">1-1000</annotation></semantics></math> clients, the size overhead of the sparse representation increases from 18.04MB to 18.33MB. The small size increase comes from the convolutional kernel parameters and biases.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.4" class="ltx_p">Table <a href="#S4.T1" title="Table 1 ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the percentage overhead added by the sparse tensor attack and Robbing the Fed on several standard vision models. There are 1000 clients in aggregation with a batch size of 64. The sparse tensor representation adds a significantly smaller overhead (<math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="18.33" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mn id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">18.33</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><cn type="float" id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">18.33</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">18.33</annotation></semantics></math>MB) compared to Robbing the Fed (<math id="S4.SS1.p4.2.m2.1" class="ltx_Math" alttext="6000.99" display="inline"><semantics id="S4.SS1.p4.2.m2.1a"><mn id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml">6000.99</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><cn type="float" id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1">6000.99</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">6000.99</annotation></semantics></math>MB) while achieving the same leakage rate. Even with a large model like VGG-11, Robbing the Fed adds a massive model size overhead increase of <math id="S4.SS1.p4.3.m3.1" class="ltx_Math" alttext="1184.0\%" display="inline"><semantics id="S4.SS1.p4.3.m3.1a"><mrow id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mn id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">1184.0</mn><mo id="S4.SS1.p4.3.m3.1.1.1" xref="S4.SS1.p4.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><csymbol cd="latexml" id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1.1">percent</csymbol><cn type="float" id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">1184.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">1184.0\%</annotation></semantics></math>, while the sparse attack only adds <math id="S4.SS1.p4.4.m4.1" class="ltx_Math" alttext="3.6\%" display="inline"><semantics id="S4.SS1.p4.4.m4.1a"><mrow id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml"><mn id="S4.SS1.p4.4.m4.1.1.2" xref="S4.SS1.p4.4.m4.1.1.2.cmml">3.6</mn><mo id="S4.SS1.p4.4.m4.1.1.1" xref="S4.SS1.p4.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><apply id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1"><csymbol cd="latexml" id="S4.SS1.p4.4.m4.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1.1">percent</csymbol><cn type="float" id="S4.SS1.p4.4.m4.1.1.2.cmml" xref="S4.SS1.p4.4.m4.1.1.2">3.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">3.6\%</annotation></semantics></math>.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.2" class="ltx_p">We note that using a compressed sparse row (CSR) tensor representation results in a model size overhead of only roughly <math id="S4.SS1.p5.1.m1.1" class="ltx_Math" alttext="\frac{2}{3}" display="inline"><semantics id="S4.SS1.p5.1.m1.1a"><mfrac id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml"><mn id="S4.SS1.p5.1.m1.1.1.2" xref="S4.SS1.p5.1.m1.1.1.2.cmml">2</mn><mn id="S4.SS1.p5.1.m1.1.1.3" xref="S4.SS1.p5.1.m1.1.1.3.cmml">3</mn></mfrac><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b"><apply id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1"><divide id="S4.SS1.p5.1.m1.1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1"></divide><cn type="integer" id="S4.SS1.p5.1.m1.1.1.2.cmml" xref="S4.SS1.p5.1.m1.1.1.2">2</cn><cn type="integer" id="S4.SS1.p5.1.m1.1.1.3.cmml" xref="S4.SS1.p5.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">\frac{2}{3}</annotation></semantics></math> compared to the COO representation. At 1000 clients, the size added using sparse CSR is only <math id="S4.SS1.p5.2.m2.1" class="ltx_Math" alttext="12.33" display="inline"><semantics id="S4.SS1.p5.2.m2.1a"><mn id="S4.SS1.p5.2.m2.1.1" xref="S4.SS1.p5.2.m2.1.1.cmml">12.33</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.2.m2.1b"><cn type="float" id="S4.SS1.p5.2.m2.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1">12.33</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.2.m2.1c">12.33</annotation></semantics></math>MB. However, this sparse tensor representation is currently in the beta phase of PyTorch, so we only use sparse COO tensors for the experimental comparisons.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2303.14868/assets/x3.png" id="S4.F3.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="166" height="102" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.4.2" class="ltx_text" style="font-size:90%;"> Computational overhead in training time added to a ResNet-50 on a CPU from attacks. At 1000 clients, the sparse tensor method adds a 6.5s overhead while Robbing the Fed adds a 21.8s overhead.</span></figcaption>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Computation overhead</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">We compare the computational overhead added by the linear layer leakage attacks through a comparison of the time to compute an update for an individual client. This includes the time for a forward pass, loss computation, and gradient computation on a client batch. The baseline model we use is a ResNet-50. The vanilla model uses 2.14 seconds for the update computation on a batch of 64 images.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.7" class="ltx_p">Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 Model size ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the time required for the update computation for all three attacks with a varying number of clients and a batch size of 64. With 100 clients, using sparse weights adds a <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="34\%" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mn id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">34</mn><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">34</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">34\%</annotation></semantics></math> (0.73s) time overhead, dense weights adds a <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="55\%" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mrow id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mn id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">55</mn><mo id="S4.SS2.p2.2.m2.1.1.1" xref="S4.SS2.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">55</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">55\%</annotation></semantics></math> (1.17s) overhead, and Robbing the Fed adds a <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="67\%" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mrow id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mn id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">67</mn><mo id="S4.SS2.p2.3.m3.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.3.m3.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1.2">67</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">67\%</annotation></semantics></math> (1.43s) overhead. At 1000 clients, the overhead is <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="305\%" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><mrow id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mn id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">305</mn><mo id="S4.SS2.p2.4.m4.1.1.1" xref="S4.SS2.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><csymbol cd="latexml" id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">305</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">305\%</annotation></semantics></math> (6.54s), <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="714\%" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><mrow id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mn id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">714</mn><mo id="S4.SS2.p2.5.m5.1.1.1" xref="S4.SS2.p2.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="latexml" id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2">714</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">714\%</annotation></semantics></math> (15.30s), and <math id="S4.SS2.p2.6.m6.1" class="ltx_Math" alttext="1019\%" display="inline"><semantics id="S4.SS2.p2.6.m6.1a"><mrow id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml"><mn id="S4.SS2.p2.6.m6.1.1.2" xref="S4.SS2.p2.6.m6.1.1.2.cmml">1019</mn><mo id="S4.SS2.p2.6.m6.1.1.1" xref="S4.SS2.p2.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><apply id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1"><csymbol cd="latexml" id="S4.SS2.p2.6.m6.1.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S4.SS2.p2.6.m6.1.1.2.cmml" xref="S4.SS2.p2.6.m6.1.1.2">1019</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">1019\%</annotation></semantics></math> (21.85s) respectively. With 1000 clients, the sparse attack adds <math id="S4.SS2.p2.7.m7.1" class="ltx_math_unparsed" alttext="3.34\times" display="inline"><semantics id="S4.SS2.p2.7.m7.1a"><mrow id="S4.SS2.p2.7.m7.1b"><mn id="S4.SS2.p2.7.m7.1.1">3.34</mn><mo lspace="0.222em" id="S4.SS2.p2.7.m7.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m7.1c">3.34\times</annotation></semantics></math> less computational overhead compared to Robbing the Fed.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">Much work is going into sparse matrix/tensor optimization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>. While these experiments give a brief snapshot of the potential computational differences between methods, we note that as sparse tensor implementations improve, the computation overhead of the sparse weights will continue to decrease.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.2.1.1" class="ltx_tr">
<th id="S4.T2.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<th id="S4.T2.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.2.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;">Clients</span></th>
<th id="S4.T2.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="S4.T2.2.1.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.2.1.1.3.1.1" class="ltx_tr">
<td id="S4.T2.2.1.1.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.3.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">Robbing</span></td>
</tr>
<tr id="S4.T2.2.1.1.3.1.2" class="ltx_tr">
<td id="S4.T2.2.1.1.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.3.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">the Fed</span></td>
</tr>
</table>
</th>
<th id="S4.T2.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="S4.T2.2.1.1.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.2.1.1.4.1.1" class="ltx_tr">
<td id="S4.T2.2.1.1.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.4.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">Dense</span></td>
</tr>
<tr id="S4.T2.2.1.1.4.1.2" class="ltx_tr">
<td id="S4.T2.2.1.1.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.4.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">weights</span></td>
</tr>
</table>
</th>
<th id="S4.T2.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">
<table id="S4.T2.2.1.1.5.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.2.1.1.5.1.1" class="ltx_tr">
<td id="S4.T2.2.1.1.5.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.5.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">Sparse</span></td>
</tr>
<tr id="S4.T2.2.1.1.5.1.2" class="ltx_tr">
<td id="S4.T2.2.1.1.5.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.2.1.1.5.1.2.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">weights</span></td>
</tr>
</table>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.2.2.1" class="ltx_tr">
<th id="S4.T2.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T2.2.2.1.1.1" class="ltx_text" style="font-size:80%;">
<span id="S4.T2.2.2.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.2.2.1.1.1.1.1" class="ltx_tr">
<span id="S4.T2.2.2.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.2.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">MNIST</span></span></span>
<span id="S4.T2.2.2.1.1.1.1.2" class="ltx_tr">
<span id="S4.T2.2.2.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.2.1.1.1.1.2.1.1" class="ltx_text ltx_font_bold">(28x28x1)</span></span></span>
</span></span></th>
<th id="S4.T2.2.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.2.2.1.2.1" class="ltx_text" style="font-size:80%;">100</span></th>
<td id="S4.T2.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.2.1.3.1" class="ltx_text" style="font-size:80%;">153.2</span></td>
<td id="S4.T2.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.2.1.4.1" class="ltx_text" style="font-size:80%;">77.3</span></td>
<td id="S4.T2.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.2.2.1.5.1" class="ltx_text" style="font-size:80%;">4.6</span></td>
</tr>
<tr id="S4.T2.2.3.2" class="ltx_tr">
<th id="S4.T2.2.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T2.2.3.2.1.1" class="ltx_text" style="font-size:80%;">1000</span></th>
<td id="S4.T2.2.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T2.2.3.2.2.1" class="ltx_text" style="font-size:80%;">1532.2</span></td>
<td id="S4.T2.2.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T2.2.3.2.3.1" class="ltx_text" style="font-size:80%;">766.4</span></td>
<td id="S4.T2.2.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.2.3.2.4.1" class="ltx_text" style="font-size:80%;">4.6</span></td>
</tr>
<tr id="S4.T2.2.4.3" class="ltx_tr">
<th id="S4.T2.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T2.2.4.3.1.1" class="ltx_text" style="font-size:80%;">
<span id="S4.T2.2.4.3.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.2.4.3.1.1.1.1" class="ltx_tr">
<span id="S4.T2.2.4.3.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.4.3.1.1.1.1.1.1" class="ltx_text ltx_font_bold">CIFAR-100</span></span></span>
<span id="S4.T2.2.4.3.1.1.1.2" class="ltx_tr">
<span id="S4.T2.2.4.3.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.4.3.1.1.1.2.1.1" class="ltx_text ltx_font_bold">(32x32x3)</span></span></span>
</span></span></th>
<th id="S4.T2.2.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.2.4.3.2.1" class="ltx_text" style="font-size:80%;">100</span></th>
<td id="S4.T2.2.4.3.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.4.3.3.1" class="ltx_text" style="font-size:80%;">600.1</span></td>
<td id="S4.T2.2.4.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.4.3.4.1" class="ltx_text" style="font-size:80%;">303.0</span></td>
<td id="S4.T2.2.4.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.2.4.3.5.1" class="ltx_text" style="font-size:80%;">18.0</span></td>
</tr>
<tr id="S4.T2.2.5.4" class="ltx_tr">
<th id="S4.T2.2.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T2.2.5.4.1.1" class="ltx_text" style="font-size:80%;">1000</span></th>
<td id="S4.T2.2.5.4.2" class="ltx_td ltx_align_center"><span id="S4.T2.2.5.4.2.1" class="ltx_text" style="font-size:80%;">6001.0</span></td>
<td id="S4.T2.2.5.4.3" class="ltx_td ltx_align_center"><span id="S4.T2.2.5.4.3.1" class="ltx_text" style="font-size:80%;">3003.3</span></td>
<td id="S4.T2.2.5.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.2.5.4.4.1" class="ltx_text" style="font-size:80%;">18.3</span></td>
</tr>
<tr id="S4.T2.2.6.5" class="ltx_tr">
<th id="S4.T2.2.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T2.2.6.5.1.1" class="ltx_text" style="font-size:80%;">
<span id="S4.T2.2.6.5.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.2.6.5.1.1.1.1" class="ltx_tr">
<span id="S4.T2.2.6.5.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.6.5.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Tiny ImageNet</span></span></span>
<span id="S4.T2.2.6.5.1.1.1.2" class="ltx_tr">
<span id="S4.T2.2.6.5.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.6.5.1.1.1.2.1.1" class="ltx_text ltx_font_bold">(64x64x3)</span></span></span>
</span></span></th>
<th id="S4.T2.2.6.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.2.6.5.2.1" class="ltx_text" style="font-size:80%;">100</span></th>
<td id="S4.T2.2.6.5.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.6.5.3.1" class="ltx_text" style="font-size:80%;">2400.1</span></td>
<td id="S4.T2.2.6.5.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.6.5.4.1" class="ltx_text" style="font-size:80%;">1212.1</span></td>
<td id="S4.T2.2.6.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.2.6.5.5.1" class="ltx_text" style="font-size:80%;">72.1</span></td>
</tr>
<tr id="S4.T2.2.7.6" class="ltx_tr">
<th id="S4.T2.2.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T2.2.7.6.1.1" class="ltx_text" style="font-size:80%;">1000</span></th>
<td id="S4.T2.2.7.6.2" class="ltx_td ltx_align_center"><span id="S4.T2.2.7.6.2.1" class="ltx_text" style="font-size:80%;">24001.0</span></td>
<td id="S4.T2.2.7.6.3" class="ltx_td ltx_align_center"><span id="S4.T2.2.7.6.3.1" class="ltx_text" style="font-size:80%;">12012.4</span></td>
<td id="S4.T2.2.7.6.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.2.7.6.4.1" class="ltx_text" style="font-size:80%;">72.4</span></td>
</tr>
<tr id="S4.T2.2.8.7" class="ltx_tr">
<th id="S4.T2.2.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T2.2.8.7.1.1" class="ltx_text" style="font-size:80%;">
<span id="S4.T2.2.8.7.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.2.8.7.1.1.1.1" class="ltx_tr">
<span id="S4.T2.2.8.7.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.8.7.1.1.1.1.1.1" class="ltx_text ltx_font_bold">ImageNet</span></span></span>
<span id="S4.T2.2.8.7.1.1.1.2" class="ltx_tr">
<span id="S4.T2.2.8.7.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S4.T2.2.8.7.1.1.1.2.1.1" class="ltx_text ltx_font_bold">(256x256x3)</span></span></span>
</span></span></th>
<th id="S4.T2.2.8.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.2.8.7.2.1" class="ltx_text" style="font-size:80%;">100</span></th>
<td id="S4.T2.2.8.7.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.8.7.3.1" class="ltx_text" style="font-size:80%;">38400.9</span></td>
<td id="S4.T2.2.8.7.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.2.8.7.4.1" class="ltx_text" style="font-size:80%;">19392.8</span></td>
<td id="S4.T2.2.8.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.2.8.7.5.1" class="ltx_text" style="font-size:80%;">1152.8</span></td>
</tr>
<tr id="S4.T2.2.9.8" class="ltx_tr">
<th id="S4.T2.2.9.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r"><span id="S4.T2.2.9.8.1.1" class="ltx_text" style="font-size:80%;">1000</span></th>
<td id="S4.T2.2.9.8.2" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T2.2.9.8.2.1" class="ltx_text" style="font-size:80%;">384001.7</span></td>
<td id="S4.T2.2.9.8.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T2.2.9.8.3.1" class="ltx_text" style="font-size:80%;">192193.1</span></td>
<td id="S4.T2.2.9.8.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T2.2.9.8.4.1" class="ltx_text" style="font-size:80%;">1153.1</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.5.1.1" class="ltx_text" style="font-size:113%;">Table 2</span>: </span><span id="S4.T2.6.2" class="ltx_text" style="font-size:113%;"> Comparison of model size overhead (MB) using different datasets with batch size 64 and 100 and 1000 clients. At 1000 clients on ImageNet, the sparse representation adds a 1.1GB overhead while Robbing the Fed adds 375GB.</span></figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Larger image sizes</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We revisit the model size to show the overhead added for different image sizes. As discussed in Section <a href="#S3" title="3 Decreasing the resource cost ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the fundamental requirement of linear layer leakage is to be able to store all image pixels in the gradients. As a result, the input image size directly ties to the model overhead added by the attack. Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Computation overhead ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the overhead added from the dense and sparse tensor representation attacks along with Robbing the Fed on several different input image sizes. Results are shown for 100 and 1000 clients with a batch size of 64.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.2" class="ltx_p">As the input image size increases, so does the size overhead from the inserted module. This size increase trend is (near) directly proportional to the change in input image size. For example, the difference in image size between Tiny ImageNet and ImageNet is <math id="S4.SS3.p2.1.m1.2" class="ltx_Math" alttext="(256\cdot 256\cdot 3)/(64\cdot 64\cdot 3)=16" display="inline"><semantics id="S4.SS3.p2.1.m1.2a"><mrow id="S4.SS3.p2.1.m1.2.2" xref="S4.SS3.p2.1.m1.2.2.cmml"><mrow id="S4.SS3.p2.1.m1.2.2.2" xref="S4.SS3.p2.1.m1.2.2.2.cmml"><mrow id="S4.SS3.p2.1.m1.1.1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p2.1.m1.1.1.1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.p2.1.m1.1.1.1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.cmml"><mn id="S4.SS3.p2.1.m1.1.1.1.1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.2.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p2.1.m1.1.1.1.1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.1.cmml">⋅</mo><mn id="S4.SS3.p2.1.m1.1.1.1.1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.3.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p2.1.m1.1.1.1.1.1.1.1a" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.1.cmml">⋅</mo><mn id="S4.SS3.p2.1.m1.1.1.1.1.1.1.4" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.4.cmml">3</mn></mrow><mo stretchy="false" id="S4.SS3.p2.1.m1.1.1.1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.SS3.p2.1.m1.2.2.2.3" xref="S4.SS3.p2.1.m1.2.2.2.3.cmml">/</mo><mrow id="S4.SS3.p2.1.m1.2.2.2.2.1" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S4.SS3.p2.1.m1.2.2.2.2.1.2" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S4.SS3.p2.1.m1.2.2.2.2.1.1" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.cmml"><mn id="S4.SS3.p2.1.m1.2.2.2.2.1.1.2" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.2.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p2.1.m1.2.2.2.2.1.1.1" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.1.cmml">⋅</mo><mn id="S4.SS3.p2.1.m1.2.2.2.2.1.1.3" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.3.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p2.1.m1.2.2.2.2.1.1.1a" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.1.cmml">⋅</mo><mn id="S4.SS3.p2.1.m1.2.2.2.2.1.1.4" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.4.cmml">3</mn></mrow><mo stretchy="false" id="S4.SS3.p2.1.m1.2.2.2.2.1.3" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS3.p2.1.m1.2.2.3" xref="S4.SS3.p2.1.m1.2.2.3.cmml">=</mo><mn id="S4.SS3.p2.1.m1.2.2.4" xref="S4.SS3.p2.1.m1.2.2.4.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.2b"><apply id="S4.SS3.p2.1.m1.2.2.cmml" xref="S4.SS3.p2.1.m1.2.2"><eq id="S4.SS3.p2.1.m1.2.2.3.cmml" xref="S4.SS3.p2.1.m1.2.2.3"></eq><apply id="S4.SS3.p2.1.m1.2.2.2.cmml" xref="S4.SS3.p2.1.m1.2.2.2"><divide id="S4.SS3.p2.1.m1.2.2.2.3.cmml" xref="S4.SS3.p2.1.m1.2.2.2.3"></divide><apply id="S4.SS3.p2.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.1"><ci id="S4.SS3.p2.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.1">⋅</ci><cn type="integer" id="S4.SS3.p2.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.2">256</cn><cn type="integer" id="S4.SS3.p2.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.3">256</cn><cn type="integer" id="S4.SS3.p2.1.m1.1.1.1.1.1.1.4.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.1.1.4">3</cn></apply><apply id="S4.SS3.p2.1.m1.2.2.2.2.1.1.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.1"><ci id="S4.SS3.p2.1.m1.2.2.2.2.1.1.1.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.1">⋅</ci><cn type="integer" id="S4.SS3.p2.1.m1.2.2.2.2.1.1.2.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.2">64</cn><cn type="integer" id="S4.SS3.p2.1.m1.2.2.2.2.1.1.3.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.3">64</cn><cn type="integer" id="S4.SS3.p2.1.m1.2.2.2.2.1.1.4.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.1.1.4">3</cn></apply></apply><cn type="integer" id="S4.SS3.p2.1.m1.2.2.4.cmml" xref="S4.SS3.p2.1.m1.2.2.4">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.2c">(256\cdot 256\cdot 3)/(64\cdot 64\cdot 3)=16</annotation></semantics></math>. We see that the size overhead difference for Robbing the Fed is also <math id="S4.SS3.p2.2.m2.2" class="ltx_Math" alttext="38,400.9/2400.1\approx 16" display="inline"><semantics id="S4.SS3.p2.2.m2.2a"><mrow id="S4.SS3.p2.2.m2.2.2" xref="S4.SS3.p2.2.m2.2.2.cmml"><mrow id="S4.SS3.p2.2.m2.2.2.1.1" xref="S4.SS3.p2.2.m2.2.2.1.2.cmml"><mn id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml">38</mn><mo id="S4.SS3.p2.2.m2.2.2.1.1.2" xref="S4.SS3.p2.2.m2.2.2.1.2.cmml">,</mo><mrow id="S4.SS3.p2.2.m2.2.2.1.1.1" xref="S4.SS3.p2.2.m2.2.2.1.1.1.cmml"><mn id="S4.SS3.p2.2.m2.2.2.1.1.1.2" xref="S4.SS3.p2.2.m2.2.2.1.1.1.2.cmml">400.9</mn><mo id="S4.SS3.p2.2.m2.2.2.1.1.1.1" xref="S4.SS3.p2.2.m2.2.2.1.1.1.1.cmml">/</mo><mn id="S4.SS3.p2.2.m2.2.2.1.1.1.3" xref="S4.SS3.p2.2.m2.2.2.1.1.1.3.cmml">2400.1</mn></mrow></mrow><mo id="S4.SS3.p2.2.m2.2.2.2" xref="S4.SS3.p2.2.m2.2.2.2.cmml">≈</mo><mn id="S4.SS3.p2.2.m2.2.2.3" xref="S4.SS3.p2.2.m2.2.2.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.2b"><apply id="S4.SS3.p2.2.m2.2.2.cmml" xref="S4.SS3.p2.2.m2.2.2"><approx id="S4.SS3.p2.2.m2.2.2.2.cmml" xref="S4.SS3.p2.2.m2.2.2.2"></approx><list id="S4.SS3.p2.2.m2.2.2.1.2.cmml" xref="S4.SS3.p2.2.m2.2.2.1.1"><cn type="integer" id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">38</cn><apply id="S4.SS3.p2.2.m2.2.2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.2.2.1.1.1"><divide id="S4.SS3.p2.2.m2.2.2.1.1.1.1.cmml" xref="S4.SS3.p2.2.m2.2.2.1.1.1.1"></divide><cn type="float" id="S4.SS3.p2.2.m2.2.2.1.1.1.2.cmml" xref="S4.SS3.p2.2.m2.2.2.1.1.1.2">400.9</cn><cn type="float" id="S4.SS3.p2.2.m2.2.2.1.1.1.3.cmml" xref="S4.SS3.p2.2.m2.2.2.1.1.1.3">2400.1</cn></apply></list><cn type="integer" id="S4.SS3.p2.2.m2.2.2.3.cmml" xref="S4.SS3.p2.2.m2.2.2.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.2c">38,400.9/2400.1\approx 16</annotation></semantics></math>. This scaling property also exists with dense and sparse tensor representations.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p">The model size overhead added, particularly for the larger image sizes, is extremely large. For Robbing the Fed and the dense weight representation, for 1000 clients on ImageNet, the size overhead reaches 375GB and 188GB respectively. By comparison, the sparse tensor setting is much better for attack scalability, creating a little over 1GB in size overhead for 1000 clients.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">These experiments highlight a problem with the model size overhead for current linear layer leakage methods when working with larger input sizes. The need to store image pixels in the gradients means that larger images inherently create larger size overheads. This in turn results in overheads in all aspects of memory, communication, and computation for the clients, and practically, these overheads are too large for FL. For the malicious server, one solution would be to use pooling operations prior to leaking the images. While this method will result in reconstructing downsampled images, leaking full-resolution large-sized images, especially with aggregation, is unrealistic. This fundamental limitation applies to all current linear layer leakage methods. Sparsity can significantly decrease the size overhead, but once the input images become large enough the attacks become infeasible on reasonable-sized devices.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Leakage in terms of mutual information</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">We focus on the differences between binning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> and trap-weights <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> in terms of mutual information using the neural estimator proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Compared to leakage rate which only considers the number of reconstructed images, the mutual information ratio is a finer-grained metric — it also captures the information leakage that cannot be reconstructed directly into individual images due to images activating the same neurons and thus ignored by leakage rate.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2303.14868/assets/x4.png" id="S4.F4.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="166" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.7.3.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.5.2" class="ltx_text" style="font-size:90%;"> Comparison of the percentage of the information leaked into the gradient <math id="S4.F4.4.1.m1.2" class="ltx_Math" alttext="I(x^{input}_{k};g)" display="inline"><semantics id="S4.F4.4.1.m1.2b"><mrow id="S4.F4.4.1.m1.2.2" xref="S4.F4.4.1.m1.2.2.cmml"><mi id="S4.F4.4.1.m1.2.2.3" xref="S4.F4.4.1.m1.2.2.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S4.F4.4.1.m1.2.2.2" xref="S4.F4.4.1.m1.2.2.2.cmml">​</mo><mrow id="S4.F4.4.1.m1.2.2.1.1" xref="S4.F4.4.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S4.F4.4.1.m1.2.2.1.1.2" xref="S4.F4.4.1.m1.2.2.1.2.cmml">(</mo><msubsup id="S4.F4.4.1.m1.2.2.1.1.1" xref="S4.F4.4.1.m1.2.2.1.1.1.cmml"><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.2" xref="S4.F4.4.1.m1.2.2.1.1.1.2.2.cmml">x</mi><mi id="S4.F4.4.1.m1.2.2.1.1.1.3" xref="S4.F4.4.1.m1.2.2.1.1.1.3.cmml">k</mi><mrow id="S4.F4.4.1.m1.2.2.1.1.1.2.3" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.cmml"><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.3.2" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.F4.4.1.m1.2.2.1.1.1.2.3.1" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.3.3" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.F4.4.1.m1.2.2.1.1.1.2.3.1b" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.3.4" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.F4.4.1.m1.2.2.1.1.1.2.3.1c" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.3.5" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S4.F4.4.1.m1.2.2.1.1.1.2.3.1d" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.4.1.m1.2.2.1.1.1.2.3.6" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.6.cmml">t</mi></mrow></msubsup><mo id="S4.F4.4.1.m1.2.2.1.1.3" xref="S4.F4.4.1.m1.2.2.1.2.cmml">;</mo><mi id="S4.F4.4.1.m1.1.1" xref="S4.F4.4.1.m1.1.1.cmml">g</mi><mo stretchy="false" id="S4.F4.4.1.m1.2.2.1.1.4" xref="S4.F4.4.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.4.1.m1.2c"><apply id="S4.F4.4.1.m1.2.2.cmml" xref="S4.F4.4.1.m1.2.2"><times id="S4.F4.4.1.m1.2.2.2.cmml" xref="S4.F4.4.1.m1.2.2.2"></times><ci id="S4.F4.4.1.m1.2.2.3.cmml" xref="S4.F4.4.1.m1.2.2.3">𝐼</ci><list id="S4.F4.4.1.m1.2.2.1.2.cmml" xref="S4.F4.4.1.m1.2.2.1.1"><apply id="S4.F4.4.1.m1.2.2.1.1.1.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.F4.4.1.m1.2.2.1.1.1.1.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1">subscript</csymbol><apply id="S4.F4.4.1.m1.2.2.1.1.1.2.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.F4.4.1.m1.2.2.1.1.1.2.1.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1">superscript</csymbol><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.2.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.2">𝑥</ci><apply id="S4.F4.4.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3"><times id="S4.F4.4.1.m1.2.2.1.1.1.2.3.1.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.1"></times><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.3.2.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.2">𝑖</ci><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.3.3.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.3">𝑛</ci><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.3.4.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.4">𝑝</ci><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.3.5.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.5">𝑢</ci><ci id="S4.F4.4.1.m1.2.2.1.1.1.2.3.6.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.2.3.6">𝑡</ci></apply></apply><ci id="S4.F4.4.1.m1.2.2.1.1.1.3.cmml" xref="S4.F4.4.1.m1.2.2.1.1.1.3">𝑘</ci></apply><ci id="S4.F4.4.1.m1.1.1.cmml" xref="S4.F4.4.1.m1.1.1">𝑔</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.4.1.m1.2d">I(x^{input}_{k};g)</annotation></semantics></math> that is recovered through reconstruction <math id="S4.F4.5.2.m2.2" class="ltx_Math" alttext="I(x^{input}_{k};x_{k})" display="inline"><semantics id="S4.F4.5.2.m2.2b"><mrow id="S4.F4.5.2.m2.2.2" xref="S4.F4.5.2.m2.2.2.cmml"><mi id="S4.F4.5.2.m2.2.2.4" xref="S4.F4.5.2.m2.2.2.4.cmml">I</mi><mo lspace="0em" rspace="0em" id="S4.F4.5.2.m2.2.2.3" xref="S4.F4.5.2.m2.2.2.3.cmml">​</mo><mrow id="S4.F4.5.2.m2.2.2.2.2" xref="S4.F4.5.2.m2.2.2.2.3.cmml"><mo stretchy="false" id="S4.F4.5.2.m2.2.2.2.2.3" xref="S4.F4.5.2.m2.2.2.2.3.cmml">(</mo><msubsup id="S4.F4.5.2.m2.1.1.1.1.1" xref="S4.F4.5.2.m2.1.1.1.1.1.cmml"><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.2" xref="S4.F4.5.2.m2.1.1.1.1.1.2.2.cmml">x</mi><mi id="S4.F4.5.2.m2.1.1.1.1.1.3" xref="S4.F4.5.2.m2.1.1.1.1.1.3.cmml">k</mi><mrow id="S4.F4.5.2.m2.1.1.1.1.1.2.3" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.cmml"><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.3.2" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.F4.5.2.m2.1.1.1.1.1.2.3.1" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.3.3" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.F4.5.2.m2.1.1.1.1.1.2.3.1b" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.3.4" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.F4.5.2.m2.1.1.1.1.1.2.3.1c" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.3.5" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="S4.F4.5.2.m2.1.1.1.1.1.2.3.1d" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F4.5.2.m2.1.1.1.1.1.2.3.6" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.6.cmml">t</mi></mrow></msubsup><mo id="S4.F4.5.2.m2.2.2.2.2.4" xref="S4.F4.5.2.m2.2.2.2.3.cmml">;</mo><msub id="S4.F4.5.2.m2.2.2.2.2.2" xref="S4.F4.5.2.m2.2.2.2.2.2.cmml"><mi id="S4.F4.5.2.m2.2.2.2.2.2.2" xref="S4.F4.5.2.m2.2.2.2.2.2.2.cmml">x</mi><mi id="S4.F4.5.2.m2.2.2.2.2.2.3" xref="S4.F4.5.2.m2.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="S4.F4.5.2.m2.2.2.2.2.5" xref="S4.F4.5.2.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.5.2.m2.2c"><apply id="S4.F4.5.2.m2.2.2.cmml" xref="S4.F4.5.2.m2.2.2"><times id="S4.F4.5.2.m2.2.2.3.cmml" xref="S4.F4.5.2.m2.2.2.3"></times><ci id="S4.F4.5.2.m2.2.2.4.cmml" xref="S4.F4.5.2.m2.2.2.4">𝐼</ci><list id="S4.F4.5.2.m2.2.2.2.3.cmml" xref="S4.F4.5.2.m2.2.2.2.2"><apply id="S4.F4.5.2.m2.1.1.1.1.1.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F4.5.2.m2.1.1.1.1.1.1.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1">subscript</csymbol><apply id="S4.F4.5.2.m2.1.1.1.1.1.2.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F4.5.2.m2.1.1.1.1.1.2.1.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1">superscript</csymbol><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.2.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.2">𝑥</ci><apply id="S4.F4.5.2.m2.1.1.1.1.1.2.3.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3"><times id="S4.F4.5.2.m2.1.1.1.1.1.2.3.1.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.1"></times><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.3.2.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.2">𝑖</ci><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.3.3.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.3">𝑛</ci><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.3.4.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.4">𝑝</ci><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.3.5.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.5">𝑢</ci><ci id="S4.F4.5.2.m2.1.1.1.1.1.2.3.6.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.2.3.6">𝑡</ci></apply></apply><ci id="S4.F4.5.2.m2.1.1.1.1.1.3.cmml" xref="S4.F4.5.2.m2.1.1.1.1.1.3">𝑘</ci></apply><apply id="S4.F4.5.2.m2.2.2.2.2.2.cmml" xref="S4.F4.5.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.F4.5.2.m2.2.2.2.2.2.1.cmml" xref="S4.F4.5.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S4.F4.5.2.m2.2.2.2.2.2.2.cmml" xref="S4.F4.5.2.m2.2.2.2.2.2.2">𝑥</ci><ci id="S4.F4.5.2.m2.2.2.2.2.2.3.cmml" xref="S4.F4.5.2.m2.2.2.2.2.2.3">𝑘</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.5.2.m2.2d">I(x^{input}_{k};x_{k})</annotation></semantics></math> based on the FC layer size when using binning and trap weights. MNIST dataset with a batch size = 10 is used.</span></figcaption>
</figure>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p">Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Leakage in terms of mutual information ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows that the power of the image reconstruction increases for both the binning and trap weights in terms of the percentage of leaked information as the FC layer size increases. Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Leakage in terms of mutual information ‣ 4 Experiments ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> also shows that for all FC layer sizes, the leakage from trap weights <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> is lower than binning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusions</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.2" class="ltx_p">We discuss the fundamental perspective problem of prior work in developing privacy attacks against FL when secure aggregation is used. Attacking the aggregate update as a single large-batch leads to unnecessary resource overheads incurred by clients. By treating the aggregate update as an aggregation of individual client updates we can use parameter sparsity, decreasing the model size by <math id="S5.p1.1.m1.1" class="ltx_math_unparsed" alttext="327\times" display="inline"><semantics id="S5.p1.1.m1.1a"><mrow id="S5.p1.1.m1.1b"><mn id="S5.p1.1.m1.1.1">327</mn><mo lspace="0.222em" id="S5.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">327\times</annotation></semantics></math> and the computation time by <math id="S5.p1.2.m2.1" class="ltx_math_unparsed" alttext="3.3\times" display="inline"><semantics id="S5.p1.2.m2.1a"><mrow id="S5.p1.2.m2.1b"><mn id="S5.p1.2.m2.1.1">3.3</mn><mo lspace="0.222em" id="S5.p1.2.m2.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">3.3\times</annotation></semantics></math> compared to SOTA while maintaining the same leakage rate even through SA. We also show the challenge of maintaining sparsity through SA when the client sends the update back to the server and of scaling and leaking large input image sizes.</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_bold">Acknowledgements.</span> This work was supported by Army Research Lab under Contract No. W911NF-2020-221, National Science Foundation CNS-2038986, Defense Advanced Research Projects Agency (DARPA) under Contract No. HR001120C0156, ARO award W911NF1810400, and ONR Award No. N00014-16-1-2189. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the authors and do not necessarily reflect the views of the sponsors.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
Mohamed Ishmael Belghazi, Aristide Baratin, Sai Rajeshwar, Sherjil Ozair,
Yoshua Bengio, Aaron Courville, and Devon Hjelm.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">Mutual information neural estimation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.3.1" class="ltx_text" style="font-size:90%;">In Jennifer Dy and Andreas Krause, editors, </span><span id="bib.bib1.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the
35th International Conference on Machine Learning</span><span id="bib.bib1.5.3" class="ltx_text" style="font-size:90%;">, volume 80 of </span><span id="bib.bib1.6.4" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of Machine Learning Research</span><span id="bib.bib1.7.5" class="ltx_text" style="font-size:90%;">, pages 531–540. PMLR, 10–15 Jul
2018.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
Nathan Bell and Michael Garland.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">Efficient sparse matrix-vector multiplication on cuda.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text" style="font-size:90%;">Technical report, Nvidia Technical Report NVR-2008-004, Nvidia
Corporation, 2008.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Franziska Boenisch, Adam Dziedzic, Roei Schuster, Ali Shahin Shamsabadi, Ilia
Shumailov, and Nicolas Papernot.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">When the curious abandon honesty: Federated learning is not private.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2112.02918</span><span id="bib.bib3.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H Brendan
McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Practical secure aggregation for privacy-preserving machine learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib4.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">proceedings of the 2017 ACM SIGSAC Conference on Computer and
Communications Security</span><span id="bib.bib4.5.3" class="ltx_text" style="font-size:90%;">, pages 1175–1191, 2017.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
Steven Dalton, Luke Olson, and Nathan Bell.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">Optimizing sparse matrix—matrix multiplication for the gpu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">ACM Transactions on Mathematical Software (TOMS)</span><span id="bib.bib5.4.2" class="ltx_text" style="font-size:90%;">, 41(4):1–20,
2015.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
Ahmed Roushdy Elkordy and A. Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">Heterosag: Secure aggregation with heterogeneous quantization in
federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE Transactions on Communications</span><span id="bib.bib6.4.2" class="ltx_text" style="font-size:90%;">, 70(4):2372–2386, April
2022.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
Ahmed Roushdy Elkordy, Jiang Zhang, Yahya H. Ezzeldin, Konstantinos Psounis,
and Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">How much privacy does federated learning with secure aggregation
guarantee?
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings on Privacy Enhancing Technologies</span><span id="bib.bib7.4.2" class="ltx_text" style="font-size:90%;">, 2023.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
Liam H Fowl, Jonas Geiping, Wojciech Czaja, Micah Goldblum, and Tom Goldstein.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">Robbing the fed: Directly obtaining private data in federated
learning with modified models.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib8.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</span><span id="bib.bib8.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
Jonas Geiping, Hartmut Bauermeister, Hannah Dröge, and Michael Moeller.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Inverting gradients-how easy is it to break privacy in federated
learning?
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</span><span id="bib.bib9.4.2" class="ltx_text" style="font-size:90%;">,
33:16937–16947, 2020.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
Jiahui Geng, Yongli Mou, Feifei Li, Qing Li, Oya Beyan, Stefan Decker, and
Chunming Rong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Towards general deep leakage in federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2110.09074</span><span id="bib.bib10.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Deep residual learning for image recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib11.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib11.5.3" class="ltx_text" style="font-size:90%;">, pages 770–778, 2016.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Sanjay Kariyappa, Chuan Guo, Kiwan Maeng, Wenjie Xiong, G Edward Suh,
Moinuddin K Qureshi, and Hsien-Hsin S Lee.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Cocktail party attack: Breaking aggregation-based privacy in
federated learning using independent component analysis.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2209.05578</span><span id="bib.bib12.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
Alex Krizhevsky, Geoffrey Hinton, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Learning multiple layers of features from tiny images.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text" style="font-size:90%;">Master’s thesis, University of Toronto, 2009.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Maximilian Lam, Gu-Yeon Wei, David Brooks, Vijay Janapa Reddi, and Michael
Mitzenmacher.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Gradient disaggregation: Breaking privacy in federated learning by
reconstructing the user participant matrix.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib14.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</span><span id="bib.bib14.5.3" class="ltx_text" style="font-size:90%;">, pages
5959–5968. PMLR, 2021.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
Ya Le and Xuan Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">Tiny imagenet visual recognition challenge.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">CS 231N</span><span id="bib.bib15.4.2" class="ltx_text" style="font-size:90%;">, 7(7):3, 2015.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
Yann LeCun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">The mnist database of handwritten digits.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">http://yann. lecun. com/exdb/mnist/</span><span id="bib.bib16.4.2" class="ltx_text" style="font-size:90%;">, 1998.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y
Arcas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Communication-efficient learning of deep networks from decentralized
data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib17.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Artificial intelligence and statistics</span><span id="bib.bib17.5.3" class="ltx_text" style="font-size:90%;">, pages 1273–1282.
PMLR, 2017.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
Dario Pasquini, Danilo Francati, and Giuseppe Ateniese.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Eluding secure aggregation in federated learning via model
inconsistency.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib18.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the 2022 ACM SIGSAC Conference on Computer and
Communications Security</span><span id="bib.bib18.5.3" class="ltx_text" style="font-size:90%;">, pages 2429–2443, 2022.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
Adam Paszke, Sam Gross, Francisco Massa, Adam Lerer, James Bradbury, Gregory
Chanan, Trevor Killeen, Zeming Lin, Natalia Gimelshein, Luca Antiga, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Pytorch: An imperative style, high-performance deep learning library.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib19.4.2" class="ltx_text" style="font-size:90%;">, 32, 2019.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Le Trieu Phong, Yoshinori Aono, Takuya Hayashi, Lihua Wang, and Shiho Moriai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Privacy-preserving deep learning: Revisited and enhanced.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib20.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Applications and Techniques in
Information Security</span><span id="bib.bib20.5.3" class="ltx_text" style="font-size:90%;">, pages 100–110. Springer, 2017.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
Jia Qian, Hiba Nassar, and Lars Kai Hansen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.2.1" class="ltx_text" style="font-size:90%;">Minimal model structure analysis for input reconstruction in
federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS Workshop on New Frontiers in Federated Learning</span><span id="bib.bib21.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
Olga Russakovsky, Jia Deng, Hao Su, Jonathan Krause, Sanjeev Satheesh, Sean Ma,
Zhiheng Huang, Andrej Karpathy, Aditya Khosla, Michael Bernstein, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.2.1" class="ltx_text" style="font-size:90%;">Imagenet large scale visual recognition challenge.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">International journal of computer vision</span><span id="bib.bib22.4.2" class="ltx_text" style="font-size:90%;">, 115(3):211–252,
2015.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
Jinhyun So, Ramy E. Ali, Basak Guler, Jiantao Jiao, and Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.2.1" class="ltx_text" style="font-size:90%;">Securing secure aggregation: Mitigating multi-round privacy leakage
in federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the AAAI Conference on Artificial Intelligence
37</span><span id="bib.bib23.4.2" class="ltx_text" style="font-size:90%;">, 2023.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
Jinhyun So, Corey J Nolet, Chien-Sheng Yang, Songze Li, Qian Yu, Ramy E Ali,
Basak Guler, and Salman Avestimehr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.2.1" class="ltx_text" style="font-size:90%;">Lightsecagg: a lightweight and versatile design for secure
aggregation in federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of Machine Learning and Systems</span><span id="bib.bib24.4.2" class="ltx_text" style="font-size:90%;">, 4:694–720, 2022.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Zhou Wang, Alan C Bovik, Hamid R Sheikh, and Eero P Simoncelli.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.2.1" class="ltx_text" style="font-size:90%;">Image quality assessment: from error visibility to structural
similarity.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE transactions on image processing</span><span id="bib.bib25.4.2" class="ltx_text" style="font-size:90%;">, 13(4):600–612, 2004.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:90%;">
Yuxin Wen, Jonas Geiping, Liam Fowl, Micah Goldblum, and Tom Goldstein.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.2.1" class="ltx_text" style="font-size:90%;">Fishing for user data in large-batch federated learning via gradient
magnification.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</span><span id="bib.bib26.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:90%;">
Samuel Williams, Leonid Oliker, Richard Vuduc, John Shalf, Katherine Yelick,
and James Demmel.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.2.1" class="ltx_text" style="font-size:90%;">Optimization of sparse matrix-vector multiplication on emerging
multicore platforms.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib27.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">SC’07: Proceedings of the 2007 ACM/IEEE Conference on
Supercomputing</span><span id="bib.bib27.5.3" class="ltx_text" style="font-size:90%;">, pages 1–12. IEEE, 2007.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:90%;">
Hongxu Yin, Arun Mallya, Arash Vahdat, Jose M Alvarez, Jan Kautz, and Pavlo
Molchanov.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.2.1" class="ltx_text" style="font-size:90%;">See through gradients: Image batch recovery via gradinversion.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib28.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib28.5.3" class="ltx_text" style="font-size:90%;">, pages 16337–16346, 2021.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:90%;">
Rui Zhang, Song Guo, Junxiao Wang, Xin Xie, and Dacheng Tao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.2.1" class="ltx_text" style="font-size:90%;">A survey on gradient inversion: Attacks, defenses and future
directions.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text" style="font-size:90%;">In Lud De Raedt, editor, </span><span id="bib.bib29.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the Thirty-First
International Joint Conference on Artificial Intelligence, IJCAI-22</span><span id="bib.bib29.5.3" class="ltx_text" style="font-size:90%;">, pages
5678–5685. International Joint Conferences on Artificial Intelligence
Organization, 7 2022.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.6.1" class="ltx_text" style="font-size:90%;">Survey Track.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:90%;">
Richard Zhang, Phillip Isola, Alexei A Efros, Eli Shechtman, and Oliver Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.2.1" class="ltx_text" style="font-size:90%;">The unreasonable effectiveness of deep features as a perceptual
metric.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib30.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib30.5.3" class="ltx_text" style="font-size:90%;">, pages 586–595, 2018.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:90%;">
Bo Zhao, Konda Reddy Mopuri, and Hakan Bilen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.2.1" class="ltx_text" style="font-size:90%;">idlg: Improved deep leakage from gradients.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2001.02610</span><span id="bib.bib31.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:90%;">
Joshua C. Zhao, Atul Sharma, Ahmed Roushdy Elkordy, Yahya H. Ezzeldin, Salman
Avestimehr, and Saurabh Bagchi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.2.1" class="ltx_text" style="font-size:90%;">Secure aggregation in federated learning is not private: Leaking user
data at large scale through model modification.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2303.12233</span><span id="bib.bib32.4.2" class="ltx_text" style="font-size:90%;">, 2023.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text" style="font-size:90%;">
Yue Zhao, Jiajia Li, Chunhua Liao, and Xipeng Shen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.2.1" class="ltx_text" style="font-size:90%;">Bridging the gap between deep learning and sparse matrix format
selection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib33.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the 23rd ACM SIGPLAN symposium on principles
and practice of parallel programming</span><span id="bib.bib33.5.3" class="ltx_text" style="font-size:90%;">, pages 94–108, 2018.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text" style="font-size:90%;">
Ligeng Zhu, Zhijian Liu, and Song Han.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.2.1" class="ltx_text" style="font-size:90%;">Deep leakage from gradients.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib34.4.2" class="ltx_text" style="font-size:90%;">, 32, 2019.
</span>
</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Leakage rate and reconstructions</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">Table <a href="#A1.T3" title="Table 3 ‣ Appendix A Leakage rate and reconstructions ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> gives the leakage rate on the MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, CIFAR-100 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, and Tiny ImageNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> datasets using sparse <span id="A1.p1.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> and Robbing the Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> as discussed in the main paper. We use a batch size of 64 with 100 clients, and the ratio of FC size to batch size is 4:1 (256 unit FC layer). The leakage rate on CIFAR-100 and Tiny ImageNet are roughly the same for both methods. Sparse <span id="A1.p1.1.2" class="ltx_text ltx_font_smallcaps">Mandrake</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> has a slightly lower leakage rate than Robbing the Fed on MNIST.</p>
</div>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.1" class="ltx_p">Figure <a href="#A1.F5" title="Figure 5 ‣ Appendix A Leakage rate and reconstructions ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the ground truth and reconstructions for a single, random client with a batch of 64 on Tiny ImageNet using the sparse <span id="A1.p2.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> attack. 50 images were leaked from the client.</p>
</div>
<figure id="A1.T3" class="ltx_table">
<table id="A1.T3.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A1.T3.2.1.1" class="ltx_tr">
<th id="A1.T3.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<th id="A1.T3.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="A1.T3.2.1.1.2.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T3.2.1.1.2.1.1" class="ltx_tr">
<td id="A1.T3.2.1.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="A1.T3.2.1.1.2.1.1.1.1" class="ltx_text ltx_font_bold">Sparse</span></td>
</tr>
<tr id="A1.T3.2.1.1.2.1.2" class="ltx_tr">
<td id="A1.T3.2.1.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="A1.T3.2.1.1.2.1.2.1.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">Mandrake</span></td>
</tr>
</table>
</th>
<th id="A1.T3.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">
<table id="A1.T3.2.1.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T3.2.1.1.3.1.1" class="ltx_tr">
<td id="A1.T3.2.1.1.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="A1.T3.2.1.1.3.1.1.1.1" class="ltx_text ltx_font_bold">Robbing</span></td>
</tr>
<tr id="A1.T3.2.1.1.3.1.2" class="ltx_tr">
<td id="A1.T3.2.1.1.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="A1.T3.2.1.1.3.1.2.1.1" class="ltx_text ltx_font_bold">the Fed</span></td>
</tr>
</table>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A1.T3.2.2.1" class="ltx_tr">
<th id="A1.T3.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T3.2.2.1.1.1" class="ltx_text ltx_font_bold">CIFAR-100</span></th>
<td id="A1.T3.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t">77.5% (4957)</td>
<td id="A1.T3.2.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.1% (4931)</td>
</tr>
<tr id="A1.T3.2.3.2" class="ltx_tr">
<th id="A1.T3.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r"><span id="A1.T3.2.3.2.1.1" class="ltx_text ltx_font_bold">MNIST</span></th>
<td id="A1.T3.2.3.2.2" class="ltx_td ltx_align_center">71.0% (4546)</td>
<td id="A1.T3.2.3.2.3" class="ltx_td ltx_align_center ltx_border_r">75.1% (4803)</td>
</tr>
<tr id="A1.T3.2.4.3" class="ltx_tr">
<th id="A1.T3.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r"><span id="A1.T3.2.4.3.1.1" class="ltx_text ltx_font_bold">Tiny ImageNet</span></th>
<td id="A1.T3.2.4.3.2" class="ltx_td ltx_align_center ltx_border_b">77.8% (4978)</td>
<td id="A1.T3.2.4.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">77.7% (4970)</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="A1.T3.4.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="A1.T3.5.2" class="ltx_text" style="font-size:90%;"> Total leakage rate of sparse <span id="A1.T3.5.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> and Robbing the Fed on various datasets. For all three datasets, 100 aggregated clients and batch size of 64 were used (6400 total images).</span></figcaption>
</figure>
<figure id="A1.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A1.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.14868/assets/images/tiny-imagenet-ground-truth.png" id="A1.F5.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="665" height="665" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F5.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="A1.F5.sf1.3.2" class="ltx_text" style="font-size:90%;">Ground truth</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A1.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.14868/assets/images/tiny-imagenet-reconstructed.png" id="A1.F5.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="665" height="665" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F5.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="A1.F5.sf2.3.2" class="ltx_text" style="font-size:90%;">Reconstruction</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="A1.F5.4.2" class="ltx_text" style="font-size:90%;"> Reconstructed images from Tiny ImageNet from a random client with a batch size of 64 using <span id="A1.F5.4.2.1" class="ltx_text ltx_font_smallcaps">Mandrake</span>. The ground truth images (a) are shown on the left and the reconstructed images (b) are shown on the right. Any empty boxes within the reconstructed images indicate that reconstruction failed due to an overlap of image activations.</span></figcaption>
</figure>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Trap weights under FL</h2>

<figure id="A2.F6" class="ltx_figure"><img src="/html/2303.14868/assets/x5.png" id="A2.F6.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="166" height="104" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.3.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="A2.F6.4.2" class="ltx_text" style="font-size:90%;"> Leakage rate using trap weights (TW) for a batch size of 64 on Tiny ImageNet and varying the FC layer size ratio and number of clients. The leakage rate decreases with an increasing number of clients even if the ratio of FC size to total number of images remains the same. Binning (Robbing the Fed) has a higher leakage rate at all scales of FC size.</span></figcaption>
</figure>
<div id="A2.p1" class="ltx_para">
<p id="A2.p1.2" class="ltx_p">We show the leakage rate using the trap weights attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> for different FC layer sizes on the downsampled Tiny ImageNet (32x32x3) dataset. We tune the scaling factor between 0.90 and 0.99 (step size of 0.01) to find the highest leakage rate, vary the FC layer ratio (FC layer size = batch size <math id="A2.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A2.p1.1.m1.1a"><mo id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><times id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">\times</annotation></semantics></math> num. clients <math id="A2.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A2.p1.2.m2.1a"><mo id="A2.p1.2.m2.1.1" xref="A2.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.p1.2.m2.1b"><times id="A2.p1.2.m2.1.1.cmml" xref="A2.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.2.m2.1c">\times</annotation></semantics></math> FC size ratio), and report the average over 10 runs. We apply this on several numbers of clients and Figure <a href="#A2.F6" title="Figure 6 ‣ Appendix B Trap weights under FL ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows the results compared to binning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, which has roughly the same leakage rate regardless of the number of clients. Even while maintaining the same ratio between the FC layer size and total number of images, the leakage rate when using trap weights decreases as the number of clients increases.</p>
</div>
<div id="A2.p2" class="ltx_para">
<p id="A2.p2.1" class="ltx_p">We note that by using sparsity, trap weights are able to overcome this scalability problem. However, since the binning method of Robbing the Fed achieves a higher leakage rate for all FC layer size ratios, it is still a better choice.</p>
</div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Sparse variant of Robbing the Fed</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">The sparse variant of Robbing the Fed (RtF) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> is a method introduced in addition to their baseline in order to apply the attack in the FedAVG setting. The ”sparsity” mentioned in Section 4.3 of the RtF paper is discussing how to create activations in the fully-connected (FC) layer such that images should only activate a single neuron instead of a set of neurons. However, this does <span id="A3.p1.1.1" class="ltx_text ltx_font_italic">not</span> reduce the resource usage added from the attack, which is what we address. With the main change being in the activation function, the same fundamental method as the baseline is used with aggregated updates and the FC layer size still needs to scale to compensate for the total number of images. These layers added to the model will still be fully dense with non-zero parameters.</p>
</div>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Evaluating information leakage using mutual information</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">In practice, the amount of leaked information is typically quantified as the number of images a malicious server reconstructs (leaked). However, the reconstructions from the attack module can also leak some additional information that is not counted in the leakage rate. For example, while reconstructions of images can overlap, an observer can still obtain information about the training data (e.g., a malicious server who sees an overlap of digits 2, 3, and 8 might be able to identify that an 8 is in the reconstruction). In Section 4, we compared how much information was leaked to the server under a varying FC layer size using either the binning and trap weights method of linear layer leakage attacks, since <span id="A4.p1.1.1" class="ltx_text ltx_font_smallcaps">Mandrake</span> is able to use both.</p>
</div>
<div id="A4.p2" class="ltx_para">
<p id="A4.p2.6" class="ltx_p">We used the MNIST dataset for these experiments, and in order to measure the amount of information leaked into the gradient and the amount of information the server was able to reconstruct out of it, we compare the mutual information between: (1) the data batch <math id="A4.p2.1.m1.1" class="ltx_Math" alttext="x^{input}_{k}" display="inline"><semantics id="A4.p2.1.m1.1a"><msubsup id="A4.p2.1.m1.1.1" xref="A4.p2.1.m1.1.1.cmml"><mi id="A4.p2.1.m1.1.1.2.2" xref="A4.p2.1.m1.1.1.2.2.cmml">x</mi><mi id="A4.p2.1.m1.1.1.3" xref="A4.p2.1.m1.1.1.3.cmml">k</mi><mrow id="A4.p2.1.m1.1.1.2.3" xref="A4.p2.1.m1.1.1.2.3.cmml"><mi id="A4.p2.1.m1.1.1.2.3.2" xref="A4.p2.1.m1.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A4.p2.1.m1.1.1.2.3.1" xref="A4.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.1.m1.1.1.2.3.3" xref="A4.p2.1.m1.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="A4.p2.1.m1.1.1.2.3.1a" xref="A4.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.1.m1.1.1.2.3.4" xref="A4.p2.1.m1.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="A4.p2.1.m1.1.1.2.3.1b" xref="A4.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.1.m1.1.1.2.3.5" xref="A4.p2.1.m1.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="A4.p2.1.m1.1.1.2.3.1c" xref="A4.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.1.m1.1.1.2.3.6" xref="A4.p2.1.m1.1.1.2.3.6.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="A4.p2.1.m1.1b"><apply id="A4.p2.1.m1.1.1.cmml" xref="A4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A4.p2.1.m1.1.1.1.cmml" xref="A4.p2.1.m1.1.1">subscript</csymbol><apply id="A4.p2.1.m1.1.1.2.cmml" xref="A4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A4.p2.1.m1.1.1.2.1.cmml" xref="A4.p2.1.m1.1.1">superscript</csymbol><ci id="A4.p2.1.m1.1.1.2.2.cmml" xref="A4.p2.1.m1.1.1.2.2">𝑥</ci><apply id="A4.p2.1.m1.1.1.2.3.cmml" xref="A4.p2.1.m1.1.1.2.3"><times id="A4.p2.1.m1.1.1.2.3.1.cmml" xref="A4.p2.1.m1.1.1.2.3.1"></times><ci id="A4.p2.1.m1.1.1.2.3.2.cmml" xref="A4.p2.1.m1.1.1.2.3.2">𝑖</ci><ci id="A4.p2.1.m1.1.1.2.3.3.cmml" xref="A4.p2.1.m1.1.1.2.3.3">𝑛</ci><ci id="A4.p2.1.m1.1.1.2.3.4.cmml" xref="A4.p2.1.m1.1.1.2.3.4">𝑝</ci><ci id="A4.p2.1.m1.1.1.2.3.5.cmml" xref="A4.p2.1.m1.1.1.2.3.5">𝑢</ci><ci id="A4.p2.1.m1.1.1.2.3.6.cmml" xref="A4.p2.1.m1.1.1.2.3.6">𝑡</ci></apply></apply><ci id="A4.p2.1.m1.1.1.3.cmml" xref="A4.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.1.m1.1c">x^{input}_{k}</annotation></semantics></math> at user <math id="A4.p2.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A4.p2.2.m2.1a"><mi id="A4.p2.2.m2.1.1" xref="A4.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A4.p2.2.m2.1b"><ci id="A4.p2.2.m2.1.1.cmml" xref="A4.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.2.m2.1c">i</annotation></semantics></math> and the aggregate gradient <math id="A4.p2.3.m3.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A4.p2.3.m3.1a"><mi id="A4.p2.3.m3.1.1" xref="A4.p2.3.m3.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A4.p2.3.m3.1b"><ci id="A4.p2.3.m3.1.1.cmml" xref="A4.p2.3.m3.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.3.m3.1c">g</annotation></semantics></math> of the attack at the server; (2) the data batch <math id="A4.p2.4.m4.1" class="ltx_Math" alttext="x^{input}_{k}" display="inline"><semantics id="A4.p2.4.m4.1a"><msubsup id="A4.p2.4.m4.1.1" xref="A4.p2.4.m4.1.1.cmml"><mi id="A4.p2.4.m4.1.1.2.2" xref="A4.p2.4.m4.1.1.2.2.cmml">x</mi><mi id="A4.p2.4.m4.1.1.3" xref="A4.p2.4.m4.1.1.3.cmml">k</mi><mrow id="A4.p2.4.m4.1.1.2.3" xref="A4.p2.4.m4.1.1.2.3.cmml"><mi id="A4.p2.4.m4.1.1.2.3.2" xref="A4.p2.4.m4.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A4.p2.4.m4.1.1.2.3.1" xref="A4.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.4.m4.1.1.2.3.3" xref="A4.p2.4.m4.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="A4.p2.4.m4.1.1.2.3.1a" xref="A4.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.4.m4.1.1.2.3.4" xref="A4.p2.4.m4.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="A4.p2.4.m4.1.1.2.3.1b" xref="A4.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.4.m4.1.1.2.3.5" xref="A4.p2.4.m4.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="A4.p2.4.m4.1.1.2.3.1c" xref="A4.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A4.p2.4.m4.1.1.2.3.6" xref="A4.p2.4.m4.1.1.2.3.6.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="A4.p2.4.m4.1b"><apply id="A4.p2.4.m4.1.1.cmml" xref="A4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A4.p2.4.m4.1.1.1.cmml" xref="A4.p2.4.m4.1.1">subscript</csymbol><apply id="A4.p2.4.m4.1.1.2.cmml" xref="A4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A4.p2.4.m4.1.1.2.1.cmml" xref="A4.p2.4.m4.1.1">superscript</csymbol><ci id="A4.p2.4.m4.1.1.2.2.cmml" xref="A4.p2.4.m4.1.1.2.2">𝑥</ci><apply id="A4.p2.4.m4.1.1.2.3.cmml" xref="A4.p2.4.m4.1.1.2.3"><times id="A4.p2.4.m4.1.1.2.3.1.cmml" xref="A4.p2.4.m4.1.1.2.3.1"></times><ci id="A4.p2.4.m4.1.1.2.3.2.cmml" xref="A4.p2.4.m4.1.1.2.3.2">𝑖</ci><ci id="A4.p2.4.m4.1.1.2.3.3.cmml" xref="A4.p2.4.m4.1.1.2.3.3">𝑛</ci><ci id="A4.p2.4.m4.1.1.2.3.4.cmml" xref="A4.p2.4.m4.1.1.2.3.4">𝑝</ci><ci id="A4.p2.4.m4.1.1.2.3.5.cmml" xref="A4.p2.4.m4.1.1.2.3.5">𝑢</ci><ci id="A4.p2.4.m4.1.1.2.3.6.cmml" xref="A4.p2.4.m4.1.1.2.3.6">𝑡</ci></apply></apply><ci id="A4.p2.4.m4.1.1.3.cmml" xref="A4.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.4.m4.1c">x^{input}_{k}</annotation></semantics></math> and the reconstructions <math id="A4.p2.5.m5.1" class="ltx_Math" alttext="x_{k}" display="inline"><semantics id="A4.p2.5.m5.1a"><msub id="A4.p2.5.m5.1.1" xref="A4.p2.5.m5.1.1.cmml"><mi id="A4.p2.5.m5.1.1.2" xref="A4.p2.5.m5.1.1.2.cmml">x</mi><mi id="A4.p2.5.m5.1.1.3" xref="A4.p2.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A4.p2.5.m5.1b"><apply id="A4.p2.5.m5.1.1.cmml" xref="A4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="A4.p2.5.m5.1.1.1.cmml" xref="A4.p2.5.m5.1.1">subscript</csymbol><ci id="A4.p2.5.m5.1.1.2.cmml" xref="A4.p2.5.m5.1.1.2">𝑥</ci><ci id="A4.p2.5.m5.1.1.3.cmml" xref="A4.p2.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.5.m5.1c">x_{k}</annotation></semantics></math> at the server for user <math id="A4.p2.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.p2.6.m6.1a"><mi id="A4.p2.6.m6.1.1" xref="A4.p2.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.p2.6.m6.1b"><ci id="A4.p2.6.m6.1.1.cmml" xref="A4.p2.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.6.m6.1c">k</annotation></semantics></math>. Note that by the data processing inequality, we have that:</p>
<table id="A4.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A4.E8.m1.5" class="ltx_Math" alttext="\frac{I(x^{input}_{k};x_{k})}{I(x^{input}_{k};g)}\leq 1." display="block"><semantics id="A4.E8.m1.5a"><mrow id="A4.E8.m1.5.5.1" xref="A4.E8.m1.5.5.1.1.cmml"><mrow id="A4.E8.m1.5.5.1.1" xref="A4.E8.m1.5.5.1.1.cmml"><mfrac id="A4.E8.m1.4.4" xref="A4.E8.m1.4.4.cmml"><mrow id="A4.E8.m1.2.2.2" xref="A4.E8.m1.2.2.2.cmml"><mi id="A4.E8.m1.2.2.2.4" xref="A4.E8.m1.2.2.2.4.cmml">I</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.2.2.2.3" xref="A4.E8.m1.2.2.2.3.cmml">​</mo><mrow id="A4.E8.m1.2.2.2.2.2" xref="A4.E8.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="A4.E8.m1.2.2.2.2.2.3" xref="A4.E8.m1.2.2.2.2.3.cmml">(</mo><msubsup id="A4.E8.m1.1.1.1.1.1.1" xref="A4.E8.m1.1.1.1.1.1.1.cmml"><mi id="A4.E8.m1.1.1.1.1.1.1.2.2" xref="A4.E8.m1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="A4.E8.m1.1.1.1.1.1.1.3" xref="A4.E8.m1.1.1.1.1.1.1.3.cmml">k</mi><mrow id="A4.E8.m1.1.1.1.1.1.1.2.3" xref="A4.E8.m1.1.1.1.1.1.1.2.3.cmml"><mi id="A4.E8.m1.1.1.1.1.1.1.2.3.2" xref="A4.E8.m1.1.1.1.1.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.1.1.1.1.1.1.2.3.1" xref="A4.E8.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.1.1.1.1.1.1.2.3.3" xref="A4.E8.m1.1.1.1.1.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.1.1.1.1.1.1.2.3.1a" xref="A4.E8.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.1.1.1.1.1.1.2.3.4" xref="A4.E8.m1.1.1.1.1.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.1.1.1.1.1.1.2.3.1b" xref="A4.E8.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.1.1.1.1.1.1.2.3.5" xref="A4.E8.m1.1.1.1.1.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.1.1.1.1.1.1.2.3.1c" xref="A4.E8.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.1.1.1.1.1.1.2.3.6" xref="A4.E8.m1.1.1.1.1.1.1.2.3.6.cmml">t</mi></mrow></msubsup><mo id="A4.E8.m1.2.2.2.2.2.4" xref="A4.E8.m1.2.2.2.2.3.cmml">;</mo><msub id="A4.E8.m1.2.2.2.2.2.2" xref="A4.E8.m1.2.2.2.2.2.2.cmml"><mi id="A4.E8.m1.2.2.2.2.2.2.2" xref="A4.E8.m1.2.2.2.2.2.2.2.cmml">x</mi><mi id="A4.E8.m1.2.2.2.2.2.2.3" xref="A4.E8.m1.2.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="A4.E8.m1.2.2.2.2.2.5" xref="A4.E8.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="A4.E8.m1.4.4.4" xref="A4.E8.m1.4.4.4.cmml"><mi id="A4.E8.m1.4.4.4.4" xref="A4.E8.m1.4.4.4.4.cmml">I</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.4.4.4.3" xref="A4.E8.m1.4.4.4.3.cmml">​</mo><mrow id="A4.E8.m1.4.4.4.2.1" xref="A4.E8.m1.4.4.4.2.2.cmml"><mo stretchy="false" id="A4.E8.m1.4.4.4.2.1.2" xref="A4.E8.m1.4.4.4.2.2.cmml">(</mo><msubsup id="A4.E8.m1.4.4.4.2.1.1" xref="A4.E8.m1.4.4.4.2.1.1.cmml"><mi id="A4.E8.m1.4.4.4.2.1.1.2.2" xref="A4.E8.m1.4.4.4.2.1.1.2.2.cmml">x</mi><mi id="A4.E8.m1.4.4.4.2.1.1.3" xref="A4.E8.m1.4.4.4.2.1.1.3.cmml">k</mi><mrow id="A4.E8.m1.4.4.4.2.1.1.2.3" xref="A4.E8.m1.4.4.4.2.1.1.2.3.cmml"><mi id="A4.E8.m1.4.4.4.2.1.1.2.3.2" xref="A4.E8.m1.4.4.4.2.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.4.4.4.2.1.1.2.3.1" xref="A4.E8.m1.4.4.4.2.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.4.4.4.2.1.1.2.3.3" xref="A4.E8.m1.4.4.4.2.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.4.4.4.2.1.1.2.3.1a" xref="A4.E8.m1.4.4.4.2.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.4.4.4.2.1.1.2.3.4" xref="A4.E8.m1.4.4.4.2.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.4.4.4.2.1.1.2.3.1b" xref="A4.E8.m1.4.4.4.2.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.4.4.4.2.1.1.2.3.5" xref="A4.E8.m1.4.4.4.2.1.1.2.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="A4.E8.m1.4.4.4.2.1.1.2.3.1c" xref="A4.E8.m1.4.4.4.2.1.1.2.3.1.cmml">​</mo><mi id="A4.E8.m1.4.4.4.2.1.1.2.3.6" xref="A4.E8.m1.4.4.4.2.1.1.2.3.6.cmml">t</mi></mrow></msubsup><mo id="A4.E8.m1.4.4.4.2.1.3" xref="A4.E8.m1.4.4.4.2.2.cmml">;</mo><mi id="A4.E8.m1.3.3.3.1" xref="A4.E8.m1.3.3.3.1.cmml">g</mi><mo stretchy="false" id="A4.E8.m1.4.4.4.2.1.4" xref="A4.E8.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="A4.E8.m1.5.5.1.1.1" xref="A4.E8.m1.5.5.1.1.1.cmml">≤</mo><mn id="A4.E8.m1.5.5.1.1.2" xref="A4.E8.m1.5.5.1.1.2.cmml">1</mn></mrow><mo lspace="0em" id="A4.E8.m1.5.5.1.2" xref="A4.E8.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.E8.m1.5b"><apply id="A4.E8.m1.5.5.1.1.cmml" xref="A4.E8.m1.5.5.1"><leq id="A4.E8.m1.5.5.1.1.1.cmml" xref="A4.E8.m1.5.5.1.1.1"></leq><apply id="A4.E8.m1.4.4.cmml" xref="A4.E8.m1.4.4"><divide id="A4.E8.m1.4.4.5.cmml" xref="A4.E8.m1.4.4"></divide><apply id="A4.E8.m1.2.2.2.cmml" xref="A4.E8.m1.2.2.2"><times id="A4.E8.m1.2.2.2.3.cmml" xref="A4.E8.m1.2.2.2.3"></times><ci id="A4.E8.m1.2.2.2.4.cmml" xref="A4.E8.m1.2.2.2.4">𝐼</ci><list id="A4.E8.m1.2.2.2.2.3.cmml" xref="A4.E8.m1.2.2.2.2.2"><apply id="A4.E8.m1.1.1.1.1.1.1.cmml" xref="A4.E8.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.E8.m1.1.1.1.1.1.1.1.cmml" xref="A4.E8.m1.1.1.1.1.1.1">subscript</csymbol><apply id="A4.E8.m1.1.1.1.1.1.1.2.cmml" xref="A4.E8.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.E8.m1.1.1.1.1.1.1.2.1.cmml" xref="A4.E8.m1.1.1.1.1.1.1">superscript</csymbol><ci id="A4.E8.m1.1.1.1.1.1.1.2.2.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.2">𝑥</ci><apply id="A4.E8.m1.1.1.1.1.1.1.2.3.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3"><times id="A4.E8.m1.1.1.1.1.1.1.2.3.1.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.1"></times><ci id="A4.E8.m1.1.1.1.1.1.1.2.3.2.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.2">𝑖</ci><ci id="A4.E8.m1.1.1.1.1.1.1.2.3.3.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.3">𝑛</ci><ci id="A4.E8.m1.1.1.1.1.1.1.2.3.4.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.4">𝑝</ci><ci id="A4.E8.m1.1.1.1.1.1.1.2.3.5.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.5">𝑢</ci><ci id="A4.E8.m1.1.1.1.1.1.1.2.3.6.cmml" xref="A4.E8.m1.1.1.1.1.1.1.2.3.6">𝑡</ci></apply></apply><ci id="A4.E8.m1.1.1.1.1.1.1.3.cmml" xref="A4.E8.m1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="A4.E8.m1.2.2.2.2.2.2.cmml" xref="A4.E8.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A4.E8.m1.2.2.2.2.2.2.1.cmml" xref="A4.E8.m1.2.2.2.2.2.2">subscript</csymbol><ci id="A4.E8.m1.2.2.2.2.2.2.2.cmml" xref="A4.E8.m1.2.2.2.2.2.2.2">𝑥</ci><ci id="A4.E8.m1.2.2.2.2.2.2.3.cmml" xref="A4.E8.m1.2.2.2.2.2.2.3">𝑘</ci></apply></list></apply><apply id="A4.E8.m1.4.4.4.cmml" xref="A4.E8.m1.4.4.4"><times id="A4.E8.m1.4.4.4.3.cmml" xref="A4.E8.m1.4.4.4.3"></times><ci id="A4.E8.m1.4.4.4.4.cmml" xref="A4.E8.m1.4.4.4.4">𝐼</ci><list id="A4.E8.m1.4.4.4.2.2.cmml" xref="A4.E8.m1.4.4.4.2.1"><apply id="A4.E8.m1.4.4.4.2.1.1.cmml" xref="A4.E8.m1.4.4.4.2.1.1"><csymbol cd="ambiguous" id="A4.E8.m1.4.4.4.2.1.1.1.cmml" xref="A4.E8.m1.4.4.4.2.1.1">subscript</csymbol><apply id="A4.E8.m1.4.4.4.2.1.1.2.cmml" xref="A4.E8.m1.4.4.4.2.1.1"><csymbol cd="ambiguous" id="A4.E8.m1.4.4.4.2.1.1.2.1.cmml" xref="A4.E8.m1.4.4.4.2.1.1">superscript</csymbol><ci id="A4.E8.m1.4.4.4.2.1.1.2.2.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.2">𝑥</ci><apply id="A4.E8.m1.4.4.4.2.1.1.2.3.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3"><times id="A4.E8.m1.4.4.4.2.1.1.2.3.1.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.1"></times><ci id="A4.E8.m1.4.4.4.2.1.1.2.3.2.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.2">𝑖</ci><ci id="A4.E8.m1.4.4.4.2.1.1.2.3.3.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.3">𝑛</ci><ci id="A4.E8.m1.4.4.4.2.1.1.2.3.4.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.4">𝑝</ci><ci id="A4.E8.m1.4.4.4.2.1.1.2.3.5.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.5">𝑢</ci><ci id="A4.E8.m1.4.4.4.2.1.1.2.3.6.cmml" xref="A4.E8.m1.4.4.4.2.1.1.2.3.6">𝑡</ci></apply></apply><ci id="A4.E8.m1.4.4.4.2.1.1.3.cmml" xref="A4.E8.m1.4.4.4.2.1.1.3">𝑘</ci></apply><ci id="A4.E8.m1.3.3.3.1.cmml" xref="A4.E8.m1.3.3.3.1">𝑔</ci></list></apply></apply><cn type="integer" id="A4.E8.m1.5.5.1.1.2.cmml" xref="A4.E8.m1.5.5.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.E8.m1.5c">\frac{I(x^{input}_{k};x_{k})}{I(x^{input}_{k};g)}\leq 1.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="A4.p2.8" class="ltx_p">since the leaked images were reconstructed only using the gradient. In order to compute the mutual information terms in (<a href="#A4.E8" title="Equation 8 ‣ Appendix D Evaluating information leakage using mutual information ‣ The Resource Problem of Using Linear Layer Leakage Attack in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>), we use the Mutual Information Neural Estimator (MINE) which is the SOTA method <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> to estimate the mutual information between two random vectors. For each FC layer size, we sampled 20,000 random batches of the users’ data and used each to compute the aggregate gradient <math id="A4.p2.7.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A4.p2.7.m1.1a"><mi id="A4.p2.7.m1.1.1" xref="A4.p2.7.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A4.p2.7.m1.1b"><ci id="A4.p2.7.m1.1.1.cmml" xref="A4.p2.7.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.7.m1.1c">g</annotation></semantics></math> and reconstructed images for a single user <math id="A4.p2.8.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A4.p2.8.m2.1a"><mi id="A4.p2.8.m2.1.1" xref="A4.p2.8.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A4.p2.8.m2.1b"><ci id="A4.p2.8.m2.1.1.cmml" xref="A4.p2.8.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.p2.8.m2.1c">i</annotation></semantics></math>. These 20,000 samples were used by MINE to estimate mutual information.</p>
</div>
<div id="A4.p3" class="ltx_para">
<p id="A4.p3.1" class="ltx_p">This same procedure was repeated multiple times in order to get multiple mutual information estimates and the average ratio was reported.</p>
</div>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>FedAVG</h2>

<div id="A5.p1" class="ltx_para">
<p id="A5.p1.1" class="ltx_p">Unlike the gradients of the FC layers, the gradients of the convolutional layer are not necessary for the data reconstruction attack. A malicious server can then send a maliciously crafted model which would freeze the parameters of the convolutional layer to prevent changes from occurring over the local iterations of FedAVG.</p>
</div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.14867" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.14868" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.14868">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.14868" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.14869" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 18:19:34 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
