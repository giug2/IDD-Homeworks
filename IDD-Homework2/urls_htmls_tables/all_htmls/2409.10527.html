<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Towards Empathetic Conversational Recommender Systems</title>
<!--Generated on Fri Aug 30 15:44:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Conversational recommender system,  Empathetic response generation,  User preference modeling,  Prompt engineering" lang="en" name="keywords"/>
<base href="/html/2409.10527v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S1" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S2" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S3" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Preliminaries</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S3.SS1" title="In 3. Preliminaries ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Problem Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S3.SS2" title="In 3. Preliminaries ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Backbone Framework</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS1" title="In 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Empathetic Data Enlargement</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS1.SSS1" title="In 4.1. Empathetic Data Enlargement ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>User Emotion Extraction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS1.SSS2" title="In 4.1. Empathetic Data Enlargement ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Emotional Response Construction.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS2" title="In 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Emotion-aware Item Recommendation</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS2.SSS1" title="In 4.2. Emotion-aware Item Recommendation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Emotion-aware Entity Representation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS2.SSS2" title="In 4.2. Emotion-aware Item Recommendation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>Feedback-aware Item Reweighting</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS3" title="In 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Emotion-aligned Response Generation</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS3.SSS1" title="In 4.3. Emotion-aligned Response Generation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.1 </span>Emotion-aligned Generation Prompt</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS3.SSS2" title="In 4.3. Emotion-aligned Response Generation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.2 </span>Emotion-aligned Generator</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS1" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS2" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS3" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Emotion-enhanced Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS4" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Experimental Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS5" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.5 </span>Evaluation on Item Recommendation (RQ1)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS6" title="In 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.6 </span>Evaluation on Response Generation (RQ2)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Model Analysis (RQ3)</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.SS1" title="In 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Ablation Studies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.SS2" title="In 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Case Studies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.SS3" title="In 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Generalization of Response Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S7" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion and Future Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Empathetic data enlargement</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.SS1" title="In Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>User emotion extraction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.SS2" title="In Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Emotional response construction</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A2" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Hyperparameters analysis</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A2.SS1" title="In Appendix B Hyperparameters analysis ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Influence of user feedback</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A2.SS2" title="In Appendix B Hyperparameters analysis ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Knowledge in the generation prompt</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A3" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Case study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Discussion of evaluation metrics</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.SS1" title="In Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Evaluation metrics for recommendation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.SS2" title="In Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Evaluation metrics for generation</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.SS2.SSS1" title="In D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2.1 </span>Design of evaluation metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.SS2.SSS2" title="In D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2.2 </span>Effectiveness of evaluation metrics</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A5" title="In Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Prompts</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A5.SS1" title="In Appendix E Prompts ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E.1 </span>Prompts for Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A5.SS2" title="In Appendix E Prompts ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E.2 </span>Prompts for the LLM-based scorer</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Towards Empathetic Conversational Recommender Systems</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoyu Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-5667-1036" title="ORCID identifier">0000-0002-5667-1036</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Shandong University</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:tinyoctopus1999@gmail.com">tinyoctopus1999@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ruobing Xie
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-3170-5647" title="ORCID identifier">0000-0003-3170-5647</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Tencent</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xrbsnowing@163.com">xrbsnowing@163.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yougang Lyu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0000-1082-9267" title="ORCID identifier">0009-0000-1082-9267</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Shandong University
<br class="ltx_break"/>University of Amsterdam</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:youganglyu@gmail.com">youganglyu@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xin Xin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0001-6116-9115" title="ORCID identifier">0000-0001-6116-9115</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Shandong University</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xinxin@sdu.edu.cn">xinxin@sdu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Pengjie Ren
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2964-6422" title="ORCID identifier">0000-0003-2964-6422</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Shandong University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jay.ren@outlook.com">jay.ren@outlook.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mingfei Liang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-0599-1806" title="ORCID identifier">0000-0002-0599-1806</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Tencent</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:aesopliang@tencent.com">aesopliang@tencent.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Bo Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2942-1311" title="ORCID identifier">0000-0003-2942-1311</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">Tencent</span><span class="ltx_text ltx_affiliation_city" id="id20.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id21.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:nevinzhang@tencent.com">nevinzhang@tencent.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhanhui Kang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0006-5151-4222" title="ORCID identifier">0009-0006-5151-4222</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id22.1.id1">Tencent</span><span class="ltx_text ltx_affiliation_city" id="id23.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id24.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:kegokang@tencent.com%20">kegokang@tencent.com </a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Maarten de Rijke
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-1086-0202" title="ORCID identifier">0000-0002-1086-0202</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id25.1.id1">University of Amsterdam</span><span class="ltx_text ltx_affiliation_city" id="id26.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id27.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:m.derijke@uva.nl">m.derijke@uva.nl</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhaochun Ren
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-9076-6565" title="ORCID identifier">0000-0002-9076-6565</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id28.1.id1">Leiden University</span><span class="ltx_text ltx_affiliation_city" id="id29.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id30.3.id3"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:z.ren@liacs.leidenuniv.nl">z.ren@liacs.leidenuniv.nl</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<span class="ltx_ERROR undefined" id="id31.id1">\Acfp</span>
<p class="ltx_p" id="id32.id2">CRS are able to elicit user preferences through multi-turn dialogues. They typically incorporate external knowledge and pre-trained language models to capture the dialogue context.
Most CRS approaches, trained on benchmark datasets, assume that the standard items and responses in these benchmarks are optimal. However, they overlook that users may express negative emotions with the standard items and may not feel emotionally engaged by the standard responses. This issue leads to a tendency to replicate the logic of recommenders in the dataset instead of aligning with user needs.
To remedy this misalignment, we introduce <em class="ltx_emph ltx_font_italic" id="id32.id2.1">empathy</em> within a CRS. With empathy we refer to a system’s ability to capture and express emotions. We propose an <span class="ltx_text ltx_font_bold" id="id32.id2.2">e</span>mpathetic <span class="ltx_text ltx_font_bold" id="id32.id2.3">c</span>onversational <span class="ltx_text ltx_font_bold" id="id32.id2.4">r</span>ecommender (ECR) framework.</p>
<p class="ltx_p" id="id33.id3">ECR contains two main modules: emotion-aware item recommendation and emotion-aligned response generation. Specifically, we employ user emotions to refine user preference modeling for accurate recommendations. To generate human-like emotional responses, ECR applies retrieval-augmented prompts to fine-tune a pre-trained language model aligning with emotions and mitigating hallucination.
To address the challenge of insufficient supervision labels, we enlarge our empathetic data using emotion labels annotated by large language models and emotional reviews collected from external resources.
We propose novel evaluation metrics to capture user satisfaction in real-world CRS scenarios.
Our experiments on the ReDial dataset validate the efficacy of our framework in enhancing recommendation accuracy and improving user satisfaction.</p>
</div>
<div class="ltx_keywords">Conversational recommender system, Empathetic response generation, User preference modeling, Prompt engineering
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>18th ACM Conference on Recommender Systems; October 14–18, 2024; Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>18th ACM Conference on Recommender Systems (RecSys ’24), October 14–18, 2024, Bari, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3640457.3688133</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0505-2/24/10</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender system</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id8"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Users and interactive retrieval</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Advances in conversational systems have led to the integration of natural language conversations with recommender systems, culminating in the development of  <span class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_long-plural">conversational recommender systems</span></span> (<abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short-plural">CRSs</span></abbr>) <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>)</cite>.
A crucial aspect of CRSs is to elicit user preferences through multi-turn dialogues, with two main subtasks: <em class="ltx_emph ltx_font_italic" id="S1.p1.1.1">item recommendation</em> and <em class="ltx_emph ltx_font_italic" id="S1.p1.1.2">response generation</em> <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib13" title="">2021</a>)</cite>.
A prominent challenge is the lack of sufficient contextual information for accurately modeling user preferences.
Some research <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib5" title="">2019</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib58" title="">2020a</a>)</cite> integrates knowledge graphs (KGs) and models user preferences based on entities from KGs mentioned in the dialogues.
Recent work <cite class="ltx_cite ltx_citemacro_citep">(Deng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib11" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib51" title="">2022</a>)</cite> centers on using pre-trained language models (PLMs) to enhance the system’s understanding of dialogue context.
Despite these advances, existing  <span class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_long">conversational recommender system</span></span> (<abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short">CRS</span></abbr>) models still do not fully align with user needs.
These models are trained on conversational recommendation training datasets.
But the presumption that the standard items and responses in the dataset are optimal leads to a tendency of <abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short">CRS</span></abbr> to replicate the logic of recommenders in the dataset instead of addressing user needs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1"><span class="ltx_text ltx_font_bold" id="S1.p2.1.1">Using empathy to address misalignment.</span>
The above misalignment hinders the development of <abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short-plural">CRSs</span></abbr>. <cite class="ltx_cite ltx_citemacro_citet">Lerner et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib27" title="">2015</a>)</cite> have proposed that <em class="ltx_emph ltx_font_italic" id="S1.p2.1.2">emotions</em> are crucial in human decision-making processes. Their work suggests that capturing emotions expressed in user utterances within dialogues is prominent for achieving accurate user preference modeling for item recommendation.
People tend to favor agents simulating human beings by exhibiting <em class="ltx_emph ltx_font_italic" id="S1.p2.1.3">emotions</em> <cite class="ltx_cite ltx_citemacro_citep">(Cominelli et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib7" title="">2021</a>)</cite>.
Adopting emotion-rich expressions in response generation can enliven the user experience and contribute to user satisfaction. Serving users in a natural, human-like way by capturing and expressing emotions is a necessary development for CRSs in terms of aligning with user needs, thereby offering benefits for users and providers of recommender systems.
We introduce <em class="ltx_emph ltx_font_italic" id="S1.p2.1.4">empathy</em> within a <abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short">CRS</span></abbr>, defining it as the system’s capacity to capture and express emotions <cite class="ltx_cite ltx_citemacro_citep">(Lamm and Silani, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib23" title="">2014</a>)</cite>.
Through empathy, we aim to accurately distinguish and fulfill user needs, both during item recommendation and response generation.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="674" id="S1.F1.g1" src="x1.png" width="872"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>An example of a conversation on movie recommendation between a user and the system. Text conveying user emotions is highlighted in red font. System responses expressing emotions are marked in green font.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1"><span class="ltx_text ltx_font_bold" id="S1.p3.1.1">Integrating empathy into recommendation and generation.</span>
We analyze the need to integrate empathy into item recommendation and response generation subtasks, respectively. For item recommendation, existing approaches often assume that all entities mentioned in dialogues reflect user preferences and that all items suggested by recommenders meet user expectations.
This hypothesis disregards subtle cues of user emotions expressed in natural language for modeling user preferences.
As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">1</span></a>, a conventional CRS might infer that the user likes “Shakespeare” and “A Midsummer Night’s Dream” mentioned by the recommender, while overlooking that the user expresses negative emotions towards them during the dialogue. Thus such systems recommend the wrong item “Romeo and Juliet.”
For response generation, existing methods are trained on the standard responses from datasets, which tend to be short and lack narratives, often resulting in inconsistencies or a lack of emotional engagement.
As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">1</span></a> (bottom), the conventional CRSs’ response only contains the item name, which may diminish user satisfaction when interacting with the system. In contrast, based on capturing and expressing emotions, an empathetic CRS recommends a reasonable item with a persuasive response.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text ltx_font_bold" id="S1.p4.1.1">Challenges.</span> To construct empathetic CRSs, we face two major challenges: (i) how to accurately model user preferences using emotions; and
(ii) how to generate emotional responses contributing to user satisfaction.
To address these challenges, we propose an <span class="ltx_text ltx_font_bold" id="S1.p4.1.2">e</span>mpathetic <span class="ltx_text ltx_font_bold" id="S1.p4.1.3">c</span>onversational <span class="ltx_text ltx_font_bold" id="S1.p4.1.4">r</span>ecommender (ECR) framework comprising two key modules: <em class="ltx_emph ltx_font_italic" id="S1.p4.1.5">emotion-aware item recommendation</em> and <em class="ltx_emph ltx_font_italic" id="S1.p4.1.6">emotion-aligned response generation</em>.
For the emotion-aware item recommendation module, we integrate user emotions with entities in the utterance to augment user preference modeling. We also propose a training strategy to minimize the impact of incorrect labels in the dataset. For the emotion-aligned response generation module, we fine-tune a pre-trained language model (PLM) to express emotions.
To avoid hallucination, we retrieve relevant knowledge from KGs as a part of generation prompts.
Existing <abbr class="ltx_glossaryref" title="conversational recommender system"><span class="ltx_text ltx_glossary_short">CRS</span></abbr> datasets lack user emotion labels and emotional responses.
To enlarge the available empathetic training data, we use large language models (LLMs) to discern nuanced emotions in the dialogue history; then, we collect emotional reviews as an informative external resource for fine-tuning the PLM to generate emotional responses.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Since existing evaluation metrics ignore the impact of emotions, we introduce novel metrics for CRSs, aiming at better reflecting user satisfaction in real-world CRS scenarios.
For item recommendation, we adopt the Area Under the Curve (AUC) metric to assess the model’s accuracy in modeling user preferences.
AUC requires that items receiving positive feedback from users should have a higher possibility of being recommended than those with negative feedback.
For response generation, we move beyond traditional metrics like BLEU or ROUGE, opting instead to use five subjective metrics: emotional intensity, emotional persuasiveness, logic persuasiveness, informativeness, and lifelikeness.
Experiments on the ReDial benchmark dataset confirm the effectiveness of our proposed framework.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p6">
<p class="ltx_p" id="S1.p6.1"><span class="ltx_text ltx_font_bold" id="S1.p6.1.1">Contributions.</span> The contributions of this paper are as follows:

<span class="ltx_inline-enumerate" id="S1.I1">
<span class="ltx_inline-item" id="S1.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S1.I1.i1.1">To bridge the gap between system outputs and user needs, we define empathy within a CRS and propose a novel framework ECR.
</span></span>
<span class="ltx_inline-item" id="S1.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S1.I1.i2.1">We augment user preference modeling by integrating their emotions, with a new training strategy to minimize the impact of incorrect labels.
</span></span>
<span class="ltx_inline-item" id="S1.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S1.I1.i3.1">We fine-tune a PLM to express emotions and apply retrieval-augmented prompts to mitigate hallucination.
</span></span>
<span class="ltx_inline-item" id="S1.I1.i4"><span class="ltx_tag ltx_tag_inline-item">(iv)</span> <span class="ltx_text" id="S1.I1.i4.1">We use LLMs to annotate user emotions and collect emotional reviews from external resources as empathetic CRS training data, which facilitates future research in this area.
</span></span>
<span class="ltx_inline-item" id="S1.I1.i5"><span class="ltx_tag ltx_tag_inline-item">(v)</span> <span class="ltx_text" id="S1.I1.i5.1">We propose new evaluation metrics tailored to user satisfaction in real-world CRS scenarios, and our experimental results demonstrate that ECR significantly outperforms baselines on the ReDial dataset.
</span></span>
</span></p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Works</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The literature on CRSs <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib58" title="">2020a</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite> can be classified into <em class="ltx_emph ltx_font_italic" id="S2.p1.1.1">attribute-based</em> CRSs and <em class="ltx_emph ltx_font_italic" id="S2.p1.1.2">generation-based</em> CRS <cite class="ltx_cite ltx_citemacro_citep">(Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib53" title="">2023</a>)</cite>.
Attribute-based CRSs <cite class="ltx_cite ltx_citemacro_citep">(Christakopoulou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib6" title="">2016</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib59" title="">2020b</a>)</cite> predominantly employ fixed response templates and predefined actions for user interaction. The primary objective of most methodologies within this category is to minimize the number of turns required to complete the recommendation task <cite class="ltx_cite ltx_citemacro_citep">(Lei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib25" title="">2020a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib26" title="">b</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citet">Deng et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib10" title="">2021</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Lei et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib26" title="">2020b</a>)</cite> use KGs to improve the recommendation performance. However, they still overlook the importance of generating high-quality natural language, which can be detrimental to the overall user experience.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">Unlike attribute-based CRSs, generation-based CRSs <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib60" title="">2020c</a>)</cite> focus on making recommendations using free-form text, which creates considerable flexibility to influence how a dialogue continues. <cite class="ltx_cite ltx_citemacro_citet">Li et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>)</cite> use an auto-encoder for recommendation and a hierarchical RNN for response generation. However, a challenge these systems face is the lack of sufficient contextual information for accurately discerning user preferences <cite class="ltx_cite ltx_citemacro_citep">(He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib15" title="">2023</a>)</cite>.
Research indicates that CRSs can be enhanced by incorporating additional sources of knowledge.
<cite class="ltx_cite ltx_citemacro_citet">Chen et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib5" title="">2019</a>)</cite> integrates KGs to enhance the user representation and propose an end-to-end framework.
<cite class="ltx_cite ltx_citemacro_citet">Zhou et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib58" title="">2020a</a>)</cite> incorporate both word-oriented and entity-oriented KGs.
Through reasoning based on the entities from KGs mentioned in the dialogues <cite class="ltx_cite ltx_citemacro_citep">(Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib38" title="">2021</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib57" title="">2021</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib61" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib32" title="">2023</a>)</cite>, this integration further enhances the logical accuracy of recommendation and response interpretability.
Subsequent research also introduces reviews <cite class="ltx_cite ltx_citemacro_citep">(Lu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib37" title="">2021</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib61" title="">2022</a>)</cite> and in-text knowledge <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib31" title="">2022b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib54" title="">2023</a>; Ren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib43" title="">2022</a>)</cite> to assist user preference modeling.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Recent work on generation-based CRSs have centered on integrating LLMs into CRSs <cite class="ltx_cite ltx_citemacro_citep">(Deng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib11" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib51" title="">2022</a>)</cite>. UniCRS <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite> addresses the recommendation and generation subtasks in a unified approach with prompt tuning.
<cite class="ltx_cite ltx_citemacro_citet">He et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib15" title="">2023</a>)</cite> conduct an in-depth analysis of LLMs for zero-shot CRS. And <cite class="ltx_cite ltx_citemacro_citet">Wang et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib48" title="">2023</a>)</cite> develop an interactive evaluation method using LLM-based user simulators.
However, <cite class="ltx_cite ltx_citemacro_citet">Dai et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib8" title="">2023</a>)</cite> demonstrate that traditional collaborative filtering recommendation models, with adequate data, significantly outperform LLMs.
Moreover, while LLMs are proficient in conversational aspects, they face limitations in conversational recommendation tasks, particularly in capturing user emotional engagement.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">Our study aligns with the generation-based CRSs.
A major problem of recent generation-based CRSs is their misalignment with user preferences. We integrate empathy into CRS, prioritizing user needs as our goal. Similarly to our approach, methods for empathetic response generation <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib29" title="">2022a</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib52" title="">2023</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib28" title="">2020</a>)</cite> detect and respond to user emotions. These methods are tailored for chat and not easily adapted to CRSs. Some traditional recommender systems have enhanced collaborative filtering by incorporating sentiment analysis <cite class="ltx_cite ltx_citemacro_citep">(Karabila et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib19" title="">2023</a>; Kumar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib21" title="">2020</a>; Dang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib9" title="">2021</a>)</cite>. However, these works only focus on the analysis of item reviews rather than real-time multi-turn natural language dialogues.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Preliminaries</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Problem Formulation</h3>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.28"><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.28.1">Notation.</span> Given <math alttext="t-1" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mrow id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">t</mi><mo id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml">−</mo><mn id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><minus id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"></minus><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑡</ci><cn id="S3.SS1.p1.1.m1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">t-1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_t - 1</annotation></semantics></math> dialogue turns, the dialogue history <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">D</mi><mrow id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.2.m2.1.1.3.1" xref="S3.SS1.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.2.m2.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝐷</ci><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><minus id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.1"></minus><ci id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2">𝑡</ci><cn id="S3.SS1.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> consists of a sequence of utterances from both recommenders and users, i.e., <math alttext="D_{t-1}=\{u_{k}^{r},u_{k}^{u}\}^{t-1}_{k=1}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.2"><semantics id="S3.SS1.p1.3.m3.2a"><mrow id="S3.SS1.p1.3.m3.2.2" xref="S3.SS1.p1.3.m3.2.2.cmml"><msub id="S3.SS1.p1.3.m3.2.2.4" xref="S3.SS1.p1.3.m3.2.2.4.cmml"><mi id="S3.SS1.p1.3.m3.2.2.4.2" xref="S3.SS1.p1.3.m3.2.2.4.2.cmml">D</mi><mrow id="S3.SS1.p1.3.m3.2.2.4.3" xref="S3.SS1.p1.3.m3.2.2.4.3.cmml"><mi id="S3.SS1.p1.3.m3.2.2.4.3.2" xref="S3.SS1.p1.3.m3.2.2.4.3.2.cmml">t</mi><mo id="S3.SS1.p1.3.m3.2.2.4.3.1" xref="S3.SS1.p1.3.m3.2.2.4.3.1.cmml">−</mo><mn id="S3.SS1.p1.3.m3.2.2.4.3.3" xref="S3.SS1.p1.3.m3.2.2.4.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.p1.3.m3.2.2.3" xref="S3.SS1.p1.3.m3.2.2.3.cmml">=</mo><msubsup id="S3.SS1.p1.3.m3.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.cmml"><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml"><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3" stretchy="false" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml">{</mo><msubsup id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.2.cmml">u</mi><mi id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.3.cmml">k</mi><mi id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.3.cmml">r</mi></msubsup><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.2.cmml">u</mi><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.3.cmml">k</mi><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3.cmml">u</mi></msubsup><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.5" stretchy="false" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml">}</mo></mrow><mrow id="S3.SS1.p1.3.m3.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.4.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.4.2" xref="S3.SS1.p1.3.m3.2.2.2.4.2.cmml">k</mi><mo id="S3.SS1.p1.3.m3.2.2.2.4.1" xref="S3.SS1.p1.3.m3.2.2.2.4.1.cmml">=</mo><mn id="S3.SS1.p1.3.m3.2.2.2.4.3" xref="S3.SS1.p1.3.m3.2.2.2.4.3.cmml">1</mn></mrow><mrow id="S3.SS1.p1.3.m3.2.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.2.4.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.2.4.2" xref="S3.SS1.p1.3.m3.2.2.2.2.4.2.cmml">t</mi><mo id="S3.SS1.p1.3.m3.2.2.2.2.4.1" xref="S3.SS1.p1.3.m3.2.2.2.2.4.1.cmml">−</mo><mn id="S3.SS1.p1.3.m3.2.2.2.2.4.3" xref="S3.SS1.p1.3.m3.2.2.2.2.4.3.cmml">1</mn></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.2b"><apply id="S3.SS1.p1.3.m3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2"><eq id="S3.SS1.p1.3.m3.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.3"></eq><apply id="S3.SS1.p1.3.m3.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.4.1.cmml" xref="S3.SS1.p1.3.m3.2.2.4">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.4.2.cmml" xref="S3.SS1.p1.3.m3.2.2.4.2">𝐷</ci><apply id="S3.SS1.p1.3.m3.2.2.4.3.cmml" xref="S3.SS1.p1.3.m3.2.2.4.3"><minus id="S3.SS1.p1.3.m3.2.2.4.3.1.cmml" xref="S3.SS1.p1.3.m3.2.2.4.3.1"></minus><ci id="S3.SS1.p1.3.m3.2.2.4.3.2.cmml" xref="S3.SS1.p1.3.m3.2.2.4.3.2">𝑡</ci><cn id="S3.SS1.p1.3.m3.2.2.4.3.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.4.3.3">1</cn></apply></apply><apply id="S3.SS1.p1.3.m3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2">subscript</csymbol><apply id="S3.SS1.p1.3.m3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2">superscript</csymbol><set id="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2"><apply id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.2">𝑢</ci><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.3">𝑟</ci></apply><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.2">𝑢</ci><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.3">𝑘</ci></apply><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3">𝑢</ci></apply></set><apply id="S3.SS1.p1.3.m3.2.2.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.4"><minus id="S3.SS1.p1.3.m3.2.2.2.2.4.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.4.1"></minus><ci id="S3.SS1.p1.3.m3.2.2.2.2.4.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.4.2">𝑡</ci><cn id="S3.SS1.p1.3.m3.2.2.2.2.4.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.2.2.4.3">1</cn></apply></apply><apply id="S3.SS1.p1.3.m3.2.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4"><eq id="S3.SS1.p1.3.m3.2.2.2.4.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4.1"></eq><ci id="S3.SS1.p1.3.m3.2.2.2.4.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4.2">𝑘</ci><cn id="S3.SS1.p1.3.m3.2.2.2.4.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.2.4.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.2c">D_{t-1}=\{u_{k}^{r},u_{k}^{u}\}^{t-1}_{k=1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.2d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT = { italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT , italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT } start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT</annotation></semantics></math>, where each utterance <math alttext="u_{k}^{*}=\{w_{j}\}^{|u_{k}^{*}|}_{j=1}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.2"><semantics id="S3.SS1.p1.4.m4.2a"><mrow id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml"><msubsup id="S3.SS1.p1.4.m4.2.2.3" xref="S3.SS1.p1.4.m4.2.2.3.cmml"><mi id="S3.SS1.p1.4.m4.2.2.3.2.2" xref="S3.SS1.p1.4.m4.2.2.3.2.2.cmml">u</mi><mi id="S3.SS1.p1.4.m4.2.2.3.2.3" xref="S3.SS1.p1.4.m4.2.2.3.2.3.cmml">k</mi><mo id="S3.SS1.p1.4.m4.2.2.3.3" xref="S3.SS1.p1.4.m4.2.2.3.3.cmml">∗</mo></msubsup><mo id="S3.SS1.p1.4.m4.2.2.2" xref="S3.SS1.p1.4.m4.2.2.2.cmml">=</mo><msubsup id="S3.SS1.p1.4.m4.2.2.1" xref="S3.SS1.p1.4.m4.2.2.1.cmml"><mrow id="S3.SS1.p1.4.m4.2.2.1.1.1.1" xref="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml"><mo id="S3.SS1.p1.4.m4.2.2.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.2.cmml">w</mi><mi id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS1.p1.4.m4.2.2.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.4.m4.2.2.1.3" xref="S3.SS1.p1.4.m4.2.2.1.3.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.3.2" xref="S3.SS1.p1.4.m4.2.2.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.4.m4.2.2.1.3.1" xref="S3.SS1.p1.4.m4.2.2.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.4.m4.2.2.1.3.3" xref="S3.SS1.p1.4.m4.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S3.SS1.p1.4.m4.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.2.cmml"><mo id="S3.SS1.p1.4.m4.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.2.1.cmml">|</mo><msubsup id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.2.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.2.cmml">u</mi><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.2.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.3.cmml">k</mi><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml">∗</mo></msubsup><mo id="S3.SS1.p1.4.m4.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.2b"><apply id="S3.SS1.p1.4.m4.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2"><eq id="S3.SS1.p1.4.m4.2.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.2"></eq><apply id="S3.SS1.p1.4.m4.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.3.1.cmml" xref="S3.SS1.p1.4.m4.2.2.3">superscript</csymbol><apply id="S3.SS1.p1.4.m4.2.2.3.2.cmml" xref="S3.SS1.p1.4.m4.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.3.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.3">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.3.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.3.2.2">𝑢</ci><ci id="S3.SS1.p1.4.m4.2.2.3.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.3.2.3">𝑘</ci></apply><times id="S3.SS1.p1.4.m4.2.2.3.3.cmml" xref="S3.SS1.p1.4.m4.2.2.3.3"></times></apply><apply id="S3.SS1.p1.4.m4.2.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1">subscript</csymbol><apply id="S3.SS1.p1.4.m4.2.2.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1">superscript</csymbol><set id="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1"><apply id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.2">𝑤</ci><ci id="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS1.p1.4.m4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1"><abs id="S3.SS1.p1.4.m4.1.1.1.2.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.2"></abs><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.2">𝑢</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.3">𝑘</ci></apply><times id="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3"></times></apply></apply></apply><apply id="S3.SS1.p1.4.m4.2.2.1.3.cmml" xref="S3.SS1.p1.4.m4.2.2.1.3"><eq id="S3.SS1.p1.4.m4.2.2.1.3.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.3.1"></eq><ci id="S3.SS1.p1.4.m4.2.2.1.3.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.3.2">𝑗</ci><cn id="S3.SS1.p1.4.m4.2.2.1.3.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.2c">u_{k}^{*}=\{w_{j}\}^{|u_{k}^{*}|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.2d">italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = { italic_w start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> is composed of a sequence of words.
For simplicity, we concatenate all utterances from <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">D</mi><mrow id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml"><mi id="S3.SS1.p1.5.m5.1.1.3.2" xref="S3.SS1.p1.5.m5.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.5.m5.1.1.3.1" xref="S3.SS1.p1.5.m5.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.5.m5.1.1.3.3" xref="S3.SS1.p1.5.m5.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝐷</ci><apply id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3"><minus id="S3.SS1.p1.5.m5.1.1.3.1.cmml" xref="S3.SS1.p1.5.m5.1.1.3.1"></minus><ci id="S3.SS1.p1.5.m5.1.1.3.2.cmml" xref="S3.SS1.p1.5.m5.1.1.3.2">𝑡</ci><cn id="S3.SS1.p1.5.m5.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> into a single word sequence <math alttext="D=\{w_{q}\}^{n_{w}}_{q=1}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><mrow id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">D</mi><mo id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p1.6.m6.1.1.1" xref="S3.SS1.p1.6.m6.1.1.1.cmml"><mrow id="S3.SS1.p1.6.m6.1.1.1.1.1.1" xref="S3.SS1.p1.6.m6.1.1.1.1.1.2.cmml"><mo id="S3.SS1.p1.6.m6.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.6.m6.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml">w</mi><mi id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.SS1.p1.6.m6.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.6.m6.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.6.m6.1.1.1.3" xref="S3.SS1.p1.6.m6.1.1.1.3.cmml"><mi id="S3.SS1.p1.6.m6.1.1.1.3.2" xref="S3.SS1.p1.6.m6.1.1.1.3.2.cmml">q</mi><mo id="S3.SS1.p1.6.m6.1.1.1.3.1" xref="S3.SS1.p1.6.m6.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.6.m6.1.1.1.3.3" xref="S3.SS1.p1.6.m6.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.6.m6.1.1.1.1.3" xref="S3.SS1.p1.6.m6.1.1.1.1.3.cmml"><mi id="S3.SS1.p1.6.m6.1.1.1.1.3.2" xref="S3.SS1.p1.6.m6.1.1.1.1.3.2.cmml">n</mi><mi id="S3.SS1.p1.6.m6.1.1.1.1.3.3" xref="S3.SS1.p1.6.m6.1.1.1.1.3.3.cmml">w</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><eq id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2"></eq><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">𝐷</ci><apply id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1">subscript</csymbol><apply id="S3.SS1.p1.6.m6.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1">superscript</csymbol><set id="S3.SS1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1"><apply id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.2">𝑤</ci><ci id="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.1.1.1.3">𝑞</ci></apply></set><apply id="S3.SS1.p1.6.m6.1.1.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.3.2">𝑛</ci><ci id="S3.SS1.p1.6.m6.1.1.1.1.3.3.cmml" xref="S3.SS1.p1.6.m6.1.1.1.1.3.3">𝑤</ci></apply></apply><apply id="S3.SS1.p1.6.m6.1.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.1.3"><eq id="S3.SS1.p1.6.m6.1.1.1.3.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1.3.1"></eq><ci id="S3.SS1.p1.6.m6.1.1.1.3.2.cmml" xref="S3.SS1.p1.6.m6.1.1.1.3.2">𝑞</ci><cn id="S3.SS1.p1.6.m6.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.1.1.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">D=\{w_{q}\}^{n_{w}}_{q=1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_D = { italic_w start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT italic_n start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_q = 1 end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="n_{w}" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><msub id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.p1.7.m7.1.1.2" xref="S3.SS1.p1.7.m7.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.7.m7.1.1.3" xref="S3.SS1.p1.7.m7.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><apply id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.p1.7.m7.1.1.2">𝑛</ci><ci id="S3.SS1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.p1.7.m7.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">n_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_n start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> represents the total number of words in <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">D</mi><mrow id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml"><mi id="S3.SS1.p1.8.m8.1.1.3.2" xref="S3.SS1.p1.8.m8.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.8.m8.1.1.3.1" xref="S3.SS1.p1.8.m8.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.8.m8.1.1.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝐷</ci><apply id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3"><minus id="S3.SS1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.1"></minus><ci id="S3.SS1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.2">𝑡</ci><cn id="S3.SS1.p1.8.m8.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.8.m8.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
To incorporate knowledge about entities mentioned in the dialogue, we set an external knowledge graph (e.g., DBpedia <cite class="ltx_cite ltx_citemacro_citep">(Bizer et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib3" title="">2009</a>)</cite>) as <math alttext="\mathcal{G}=(\mathcal{E},\mathcal{L})" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.2"><semantics id="S3.SS1.p1.9.m9.2a"><mrow id="S3.SS1.p1.9.m9.2.3" xref="S3.SS1.p1.9.m9.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.2.3.2" xref="S3.SS1.p1.9.m9.2.3.2.cmml">𝒢</mi><mo id="S3.SS1.p1.9.m9.2.3.1" xref="S3.SS1.p1.9.m9.2.3.1.cmml">=</mo><mrow id="S3.SS1.p1.9.m9.2.3.3.2" xref="S3.SS1.p1.9.m9.2.3.3.1.cmml"><mo id="S3.SS1.p1.9.m9.2.3.3.2.1" stretchy="false" xref="S3.SS1.p1.9.m9.2.3.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml">ℰ</mi><mo id="S3.SS1.p1.9.m9.2.3.3.2.2" xref="S3.SS1.p1.9.m9.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.2.2" xref="S3.SS1.p1.9.m9.2.2.cmml">ℒ</mi><mo id="S3.SS1.p1.9.m9.2.3.3.2.3" stretchy="false" xref="S3.SS1.p1.9.m9.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.2b"><apply id="S3.SS1.p1.9.m9.2.3.cmml" xref="S3.SS1.p1.9.m9.2.3"><eq id="S3.SS1.p1.9.m9.2.3.1.cmml" xref="S3.SS1.p1.9.m9.2.3.1"></eq><ci id="S3.SS1.p1.9.m9.2.3.2.cmml" xref="S3.SS1.p1.9.m9.2.3.2">𝒢</ci><interval closure="open" id="S3.SS1.p1.9.m9.2.3.3.1.cmml" xref="S3.SS1.p1.9.m9.2.3.3.2"><ci id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">ℰ</ci><ci id="S3.SS1.p1.9.m9.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2">ℒ</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.2c">\mathcal{G}=(\mathcal{E},\mathcal{L})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.2d">caligraphic_G = ( caligraphic_E , caligraphic_L )</annotation></semantics></math>, consisting of triples <math alttext="\mathcal{T}=\left\langle e_{h},l,e_{t}\right\rangle" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m10.3"><semantics id="S3.SS1.p1.10.m10.3a"><mrow id="S3.SS1.p1.10.m10.3.3" xref="S3.SS1.p1.10.m10.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.10.m10.3.3.4" xref="S3.SS1.p1.10.m10.3.3.4.cmml">𝒯</mi><mo id="S3.SS1.p1.10.m10.3.3.3" xref="S3.SS1.p1.10.m10.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.10.m10.3.3.2.2" xref="S3.SS1.p1.10.m10.3.3.2.3.cmml"><mo id="S3.SS1.p1.10.m10.3.3.2.2.3" xref="S3.SS1.p1.10.m10.3.3.2.3.cmml">⟨</mo><msub id="S3.SS1.p1.10.m10.2.2.1.1.1" xref="S3.SS1.p1.10.m10.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.10.m10.2.2.1.1.1.2" xref="S3.SS1.p1.10.m10.2.2.1.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.10.m10.2.2.1.1.1.3" xref="S3.SS1.p1.10.m10.2.2.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS1.p1.10.m10.3.3.2.2.4" xref="S3.SS1.p1.10.m10.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">l</mi><mo id="S3.SS1.p1.10.m10.3.3.2.2.5" xref="S3.SS1.p1.10.m10.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.10.m10.3.3.2.2.2" xref="S3.SS1.p1.10.m10.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.10.m10.3.3.2.2.2.2" xref="S3.SS1.p1.10.m10.3.3.2.2.2.2.cmml">e</mi><mi id="S3.SS1.p1.10.m10.3.3.2.2.2.3" xref="S3.SS1.p1.10.m10.3.3.2.2.2.3.cmml">t</mi></msub><mo id="S3.SS1.p1.10.m10.3.3.2.2.6" xref="S3.SS1.p1.10.m10.3.3.2.3.cmml">⟩</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.3b"><apply id="S3.SS1.p1.10.m10.3.3.cmml" xref="S3.SS1.p1.10.m10.3.3"><eq id="S3.SS1.p1.10.m10.3.3.3.cmml" xref="S3.SS1.p1.10.m10.3.3.3"></eq><ci id="S3.SS1.p1.10.m10.3.3.4.cmml" xref="S3.SS1.p1.10.m10.3.3.4">𝒯</ci><list id="S3.SS1.p1.10.m10.3.3.2.3.cmml" xref="S3.SS1.p1.10.m10.3.3.2.2"><apply id="S3.SS1.p1.10.m10.2.2.1.1.1.cmml" xref="S3.SS1.p1.10.m10.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.10.m10.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.10.m10.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.10.m10.2.2.1.1.1.2">𝑒</ci><ci id="S3.SS1.p1.10.m10.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.10.m10.2.2.1.1.1.3">ℎ</ci></apply><ci id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">𝑙</ci><apply id="S3.SS1.p1.10.m10.3.3.2.2.2.cmml" xref="S3.SS1.p1.10.m10.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.10.m10.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.10.m10.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.10.m10.3.3.2.2.2.2">𝑒</ci><ci id="S3.SS1.p1.10.m10.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.10.m10.3.3.2.2.2.3">𝑡</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.3c">\mathcal{T}=\left\langle e_{h},l,e_{t}\right\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m10.3d">caligraphic_T = ⟨ italic_e start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT , italic_l , italic_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⟩</annotation></semantics></math>, where <math alttext="e_{h}\in\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m11.1"><semantics id="S3.SS1.p1.11.m11.1a"><mrow id="S3.SS1.p1.11.m11.1.1" xref="S3.SS1.p1.11.m11.1.1.cmml"><msub id="S3.SS1.p1.11.m11.1.1.2" xref="S3.SS1.p1.11.m11.1.1.2.cmml"><mi id="S3.SS1.p1.11.m11.1.1.2.2" xref="S3.SS1.p1.11.m11.1.1.2.2.cmml">e</mi><mi id="S3.SS1.p1.11.m11.1.1.2.3" xref="S3.SS1.p1.11.m11.1.1.2.3.cmml">h</mi></msub><mo id="S3.SS1.p1.11.m11.1.1.1" xref="S3.SS1.p1.11.m11.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.11.m11.1.1.3" xref="S3.SS1.p1.11.m11.1.1.3.cmml">ℰ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m11.1b"><apply id="S3.SS1.p1.11.m11.1.1.cmml" xref="S3.SS1.p1.11.m11.1.1"><in id="S3.SS1.p1.11.m11.1.1.1.cmml" xref="S3.SS1.p1.11.m11.1.1.1"></in><apply id="S3.SS1.p1.11.m11.1.1.2.cmml" xref="S3.SS1.p1.11.m11.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m11.1.1.2.1.cmml" xref="S3.SS1.p1.11.m11.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.11.m11.1.1.2.2.cmml" xref="S3.SS1.p1.11.m11.1.1.2.2">𝑒</ci><ci id="S3.SS1.p1.11.m11.1.1.2.3.cmml" xref="S3.SS1.p1.11.m11.1.1.2.3">ℎ</ci></apply><ci id="S3.SS1.p1.11.m11.1.1.3.cmml" xref="S3.SS1.p1.11.m11.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1c">e_{h}\in\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m11.1d">italic_e start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT ∈ caligraphic_E</annotation></semantics></math> and <math alttext="e_{t}\in\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m12.1"><semantics id="S3.SS1.p1.12.m12.1a"><mrow id="S3.SS1.p1.12.m12.1.1" xref="S3.SS1.p1.12.m12.1.1.cmml"><msub id="S3.SS1.p1.12.m12.1.1.2" xref="S3.SS1.p1.12.m12.1.1.2.cmml"><mi id="S3.SS1.p1.12.m12.1.1.2.2" xref="S3.SS1.p1.12.m12.1.1.2.2.cmml">e</mi><mi id="S3.SS1.p1.12.m12.1.1.2.3" xref="S3.SS1.p1.12.m12.1.1.2.3.cmml">t</mi></msub><mo id="S3.SS1.p1.12.m12.1.1.1" xref="S3.SS1.p1.12.m12.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.12.m12.1.1.3" xref="S3.SS1.p1.12.m12.1.1.3.cmml">ℰ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m12.1b"><apply id="S3.SS1.p1.12.m12.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1"><in id="S3.SS1.p1.12.m12.1.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1.1"></in><apply id="S3.SS1.p1.12.m12.1.1.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m12.1.1.2.1.cmml" xref="S3.SS1.p1.12.m12.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.12.m12.1.1.2.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2.2">𝑒</ci><ci id="S3.SS1.p1.12.m12.1.1.2.3.cmml" xref="S3.SS1.p1.12.m12.1.1.2.3">𝑡</ci></apply><ci id="S3.SS1.p1.12.m12.1.1.3.cmml" xref="S3.SS1.p1.12.m12.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m12.1c">e_{t}\in\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m12.1d">italic_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_E</annotation></semantics></math> are the head and tail entities, <math alttext="l\in\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m13.1"><semantics id="S3.SS1.p1.13.m13.1a"><mrow id="S3.SS1.p1.13.m13.1.1" xref="S3.SS1.p1.13.m13.1.1.cmml"><mi id="S3.SS1.p1.13.m13.1.1.2" xref="S3.SS1.p1.13.m13.1.1.2.cmml">l</mi><mo id="S3.SS1.p1.13.m13.1.1.1" xref="S3.SS1.p1.13.m13.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.13.m13.1.1.3" xref="S3.SS1.p1.13.m13.1.1.3.cmml">ℒ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m13.1b"><apply id="S3.SS1.p1.13.m13.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1"><in id="S3.SS1.p1.13.m13.1.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1.1"></in><ci id="S3.SS1.p1.13.m13.1.1.2.cmml" xref="S3.SS1.p1.13.m13.1.1.2">𝑙</ci><ci id="S3.SS1.p1.13.m13.1.1.3.cmml" xref="S3.SS1.p1.13.m13.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m13.1c">l\in\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m13.1d">italic_l ∈ caligraphic_L</annotation></semantics></math> reflects the relation between <math alttext="e_{h}" class="ltx_Math" display="inline" id="S3.SS1.p1.14.m14.1"><semantics id="S3.SS1.p1.14.m14.1a"><msub id="S3.SS1.p1.14.m14.1.1" xref="S3.SS1.p1.14.m14.1.1.cmml"><mi id="S3.SS1.p1.14.m14.1.1.2" xref="S3.SS1.p1.14.m14.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.14.m14.1.1.3" xref="S3.SS1.p1.14.m14.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m14.1b"><apply id="S3.SS1.p1.14.m14.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m14.1.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m14.1.1.2.cmml" xref="S3.SS1.p1.14.m14.1.1.2">𝑒</ci><ci id="S3.SS1.p1.14.m14.1.1.3.cmml" xref="S3.SS1.p1.14.m14.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m14.1c">e_{h}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.14.m14.1d">italic_e start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="e_{t}" class="ltx_Math" display="inline" id="S3.SS1.p1.15.m15.1"><semantics id="S3.SS1.p1.15.m15.1a"><msub id="S3.SS1.p1.15.m15.1.1" xref="S3.SS1.p1.15.m15.1.1.cmml"><mi id="S3.SS1.p1.15.m15.1.1.2" xref="S3.SS1.p1.15.m15.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.15.m15.1.1.3" xref="S3.SS1.p1.15.m15.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m15.1b"><apply id="S3.SS1.p1.15.m15.1.1.cmml" xref="S3.SS1.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.15.m15.1.1.1.cmml" xref="S3.SS1.p1.15.m15.1.1">subscript</csymbol><ci id="S3.SS1.p1.15.m15.1.1.2.cmml" xref="S3.SS1.p1.15.m15.1.1.2">𝑒</ci><ci id="S3.SS1.p1.15.m15.1.1.3.cmml" xref="S3.SS1.p1.15.m15.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m15.1c">e_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.15.m15.1d">italic_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p1.16.m16.1"><semantics id="S3.SS1.p1.16.m16.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.16.m16.1.1" xref="S3.SS1.p1.16.m16.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m16.1b"><ci id="S3.SS1.p1.16.m16.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m16.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.16.m16.1d">caligraphic_E</annotation></semantics></math> and <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS1.p1.17.m17.1"><semantics id="S3.SS1.p1.17.m17.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.17.m17.1.1" xref="S3.SS1.p1.17.m17.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m17.1b"><ci id="S3.SS1.p1.17.m17.1.1.cmml" xref="S3.SS1.p1.17.m17.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m17.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.17.m17.1d">caligraphic_L</annotation></semantics></math> denote the sets of entities and relations. We define <math alttext="I" class="ltx_Math" display="inline" id="S3.SS1.p1.18.m18.1"><semantics id="S3.SS1.p1.18.m18.1a"><mi id="S3.SS1.p1.18.m18.1.1" xref="S3.SS1.p1.18.m18.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.18.m18.1b"><ci id="S3.SS1.p1.18.m18.1.1.cmml" xref="S3.SS1.p1.18.m18.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.18.m18.1c">I</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.18.m18.1d">italic_I</annotation></semantics></math> as the entire set of items, all of which are included in the entities of <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS1.p1.19.m19.1"><semantics id="S3.SS1.p1.19.m19.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.19.m19.1.1" xref="S3.SS1.p1.19.m19.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.19.m19.1b"><ci id="S3.SS1.p1.19.m19.1.1.cmml" xref="S3.SS1.p1.19.m19.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.19.m19.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.19.m19.1d">caligraphic_G</annotation></semantics></math>, i.e., <math alttext="I\in\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p1.20.m20.1"><semantics id="S3.SS1.p1.20.m20.1a"><mrow id="S3.SS1.p1.20.m20.1.1" xref="S3.SS1.p1.20.m20.1.1.cmml"><mi id="S3.SS1.p1.20.m20.1.1.2" xref="S3.SS1.p1.20.m20.1.1.2.cmml">I</mi><mo id="S3.SS1.p1.20.m20.1.1.1" xref="S3.SS1.p1.20.m20.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.20.m20.1.1.3" xref="S3.SS1.p1.20.m20.1.1.3.cmml">ℰ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.20.m20.1b"><apply id="S3.SS1.p1.20.m20.1.1.cmml" xref="S3.SS1.p1.20.m20.1.1"><in id="S3.SS1.p1.20.m20.1.1.1.cmml" xref="S3.SS1.p1.20.m20.1.1.1"></in><ci id="S3.SS1.p1.20.m20.1.1.2.cmml" xref="S3.SS1.p1.20.m20.1.1.2">𝐼</ci><ci id="S3.SS1.p1.20.m20.1.1.3.cmml" xref="S3.SS1.p1.20.m20.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.20.m20.1c">I\in\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.20.m20.1d">italic_I ∈ caligraphic_E</annotation></semantics></math>. Entities in each utterance <math alttext="u_{k}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p1.21.m21.1"><semantics id="S3.SS1.p1.21.m21.1a"><msubsup id="S3.SS1.p1.21.m21.1.1" xref="S3.SS1.p1.21.m21.1.1.cmml"><mi id="S3.SS1.p1.21.m21.1.1.2.2" xref="S3.SS1.p1.21.m21.1.1.2.2.cmml">u</mi><mi id="S3.SS1.p1.21.m21.1.1.2.3" xref="S3.SS1.p1.21.m21.1.1.2.3.cmml">k</mi><mo id="S3.SS1.p1.21.m21.1.1.3" xref="S3.SS1.p1.21.m21.1.1.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.21.m21.1b"><apply id="S3.SS1.p1.21.m21.1.1.cmml" xref="S3.SS1.p1.21.m21.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.1.cmml" xref="S3.SS1.p1.21.m21.1.1">superscript</csymbol><apply id="S3.SS1.p1.21.m21.1.1.2.cmml" xref="S3.SS1.p1.21.m21.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.2.1.cmml" xref="S3.SS1.p1.21.m21.1.1">subscript</csymbol><ci id="S3.SS1.p1.21.m21.1.1.2.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2.2">𝑢</ci><ci id="S3.SS1.p1.21.m21.1.1.2.3.cmml" xref="S3.SS1.p1.21.m21.1.1.2.3">𝑘</ci></apply><times id="S3.SS1.p1.21.m21.1.1.3.cmml" xref="S3.SS1.p1.21.m21.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.21.m21.1c">u_{k}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.21.m21.1d">italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> are identified as <math alttext="E_{k}^{*}=\{e_{j}\}^{|E_{k}^{*}|}_{j=1}" class="ltx_Math" display="inline" id="S3.SS1.p1.22.m22.2"><semantics id="S3.SS1.p1.22.m22.2a"><mrow id="S3.SS1.p1.22.m22.2.2" xref="S3.SS1.p1.22.m22.2.2.cmml"><msubsup id="S3.SS1.p1.22.m22.2.2.3" xref="S3.SS1.p1.22.m22.2.2.3.cmml"><mi id="S3.SS1.p1.22.m22.2.2.3.2.2" xref="S3.SS1.p1.22.m22.2.2.3.2.2.cmml">E</mi><mi id="S3.SS1.p1.22.m22.2.2.3.2.3" xref="S3.SS1.p1.22.m22.2.2.3.2.3.cmml">k</mi><mo id="S3.SS1.p1.22.m22.2.2.3.3" xref="S3.SS1.p1.22.m22.2.2.3.3.cmml">∗</mo></msubsup><mo id="S3.SS1.p1.22.m22.2.2.2" xref="S3.SS1.p1.22.m22.2.2.2.cmml">=</mo><msubsup id="S3.SS1.p1.22.m22.2.2.1" xref="S3.SS1.p1.22.m22.2.2.1.cmml"><mrow id="S3.SS1.p1.22.m22.2.2.1.1.1.1" xref="S3.SS1.p1.22.m22.2.2.1.1.1.2.cmml"><mo id="S3.SS1.p1.22.m22.2.2.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.22.m22.2.2.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.2" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.3" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS1.p1.22.m22.2.2.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.22.m22.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.22.m22.2.2.1.3" xref="S3.SS1.p1.22.m22.2.2.1.3.cmml"><mi id="S3.SS1.p1.22.m22.2.2.1.3.2" xref="S3.SS1.p1.22.m22.2.2.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.22.m22.2.2.1.3.1" xref="S3.SS1.p1.22.m22.2.2.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.22.m22.2.2.1.3.3" xref="S3.SS1.p1.22.m22.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S3.SS1.p1.22.m22.1.1.1.1" xref="S3.SS1.p1.22.m22.1.1.1.2.cmml"><mo id="S3.SS1.p1.22.m22.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.22.m22.1.1.1.2.1.cmml">|</mo><msubsup id="S3.SS1.p1.22.m22.1.1.1.1.1" xref="S3.SS1.p1.22.m22.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.22.m22.1.1.1.1.1.2.2" xref="S3.SS1.p1.22.m22.1.1.1.1.1.2.2.cmml">E</mi><mi id="S3.SS1.p1.22.m22.1.1.1.1.1.2.3" xref="S3.SS1.p1.22.m22.1.1.1.1.1.2.3.cmml">k</mi><mo id="S3.SS1.p1.22.m22.1.1.1.1.1.3" xref="S3.SS1.p1.22.m22.1.1.1.1.1.3.cmml">∗</mo></msubsup><mo id="S3.SS1.p1.22.m22.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.22.m22.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.22.m22.2b"><apply id="S3.SS1.p1.22.m22.2.2.cmml" xref="S3.SS1.p1.22.m22.2.2"><eq id="S3.SS1.p1.22.m22.2.2.2.cmml" xref="S3.SS1.p1.22.m22.2.2.2"></eq><apply id="S3.SS1.p1.22.m22.2.2.3.cmml" xref="S3.SS1.p1.22.m22.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.2.2.3.1.cmml" xref="S3.SS1.p1.22.m22.2.2.3">superscript</csymbol><apply id="S3.SS1.p1.22.m22.2.2.3.2.cmml" xref="S3.SS1.p1.22.m22.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.2.2.3.2.1.cmml" xref="S3.SS1.p1.22.m22.2.2.3">subscript</csymbol><ci id="S3.SS1.p1.22.m22.2.2.3.2.2.cmml" xref="S3.SS1.p1.22.m22.2.2.3.2.2">𝐸</ci><ci id="S3.SS1.p1.22.m22.2.2.3.2.3.cmml" xref="S3.SS1.p1.22.m22.2.2.3.2.3">𝑘</ci></apply><times id="S3.SS1.p1.22.m22.2.2.3.3.cmml" xref="S3.SS1.p1.22.m22.2.2.3.3"></times></apply><apply id="S3.SS1.p1.22.m22.2.2.1.cmml" xref="S3.SS1.p1.22.m22.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.2.2.1.2.cmml" xref="S3.SS1.p1.22.m22.2.2.1">subscript</csymbol><apply id="S3.SS1.p1.22.m22.2.2.1.1.cmml" xref="S3.SS1.p1.22.m22.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.2.2.1.1.2.cmml" xref="S3.SS1.p1.22.m22.2.2.1">superscript</csymbol><set id="S3.SS1.p1.22.m22.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1"><apply id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.2">𝑒</ci><ci id="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.22.m22.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS1.p1.22.m22.1.1.1.2.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1"><abs id="S3.SS1.p1.22.m22.1.1.1.2.1.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.2"></abs><apply id="S3.SS1.p1.22.m22.1.1.1.1.1.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.22.m22.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.22.m22.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1.2.2">𝐸</ci><ci id="S3.SS1.p1.22.m22.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1.2.3">𝑘</ci></apply><times id="S3.SS1.p1.22.m22.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.22.m22.1.1.1.1.1.3"></times></apply></apply></apply><apply id="S3.SS1.p1.22.m22.2.2.1.3.cmml" xref="S3.SS1.p1.22.m22.2.2.1.3"><eq id="S3.SS1.p1.22.m22.2.2.1.3.1.cmml" xref="S3.SS1.p1.22.m22.2.2.1.3.1"></eq><ci id="S3.SS1.p1.22.m22.2.2.1.3.2.cmml" xref="S3.SS1.p1.22.m22.2.2.1.3.2">𝑗</ci><cn id="S3.SS1.p1.22.m22.2.2.1.3.3.cmml" type="integer" xref="S3.SS1.p1.22.m22.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.22.m22.2c">E_{k}^{*}=\{e_{j}\}^{|E_{k}^{*}|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.22.m22.2d">italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = { italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math>. Each item <math alttext="i_{j}" class="ltx_Math" display="inline" id="S3.SS1.p1.23.m23.1"><semantics id="S3.SS1.p1.23.m23.1a"><msub id="S3.SS1.p1.23.m23.1.1" xref="S3.SS1.p1.23.m23.1.1.cmml"><mi id="S3.SS1.p1.23.m23.1.1.2" xref="S3.SS1.p1.23.m23.1.1.2.cmml">i</mi><mi id="S3.SS1.p1.23.m23.1.1.3" xref="S3.SS1.p1.23.m23.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.23.m23.1b"><apply id="S3.SS1.p1.23.m23.1.1.cmml" xref="S3.SS1.p1.23.m23.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.23.m23.1.1.1.cmml" xref="S3.SS1.p1.23.m23.1.1">subscript</csymbol><ci id="S3.SS1.p1.23.m23.1.1.2.cmml" xref="S3.SS1.p1.23.m23.1.1.2">𝑖</ci><ci id="S3.SS1.p1.23.m23.1.1.3.cmml" xref="S3.SS1.p1.23.m23.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.23.m23.1c">i_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.23.m23.1d">italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> within <math alttext="E_{k}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p1.24.m24.1"><semantics id="S3.SS1.p1.24.m24.1a"><msubsup id="S3.SS1.p1.24.m24.1.1" xref="S3.SS1.p1.24.m24.1.1.cmml"><mi id="S3.SS1.p1.24.m24.1.1.2.2" xref="S3.SS1.p1.24.m24.1.1.2.2.cmml">E</mi><mi id="S3.SS1.p1.24.m24.1.1.2.3" xref="S3.SS1.p1.24.m24.1.1.2.3.cmml">k</mi><mo id="S3.SS1.p1.24.m24.1.1.3" xref="S3.SS1.p1.24.m24.1.1.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.24.m24.1b"><apply id="S3.SS1.p1.24.m24.1.1.cmml" xref="S3.SS1.p1.24.m24.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.24.m24.1.1.1.cmml" xref="S3.SS1.p1.24.m24.1.1">superscript</csymbol><apply id="S3.SS1.p1.24.m24.1.1.2.cmml" xref="S3.SS1.p1.24.m24.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.24.m24.1.1.2.1.cmml" xref="S3.SS1.p1.24.m24.1.1">subscript</csymbol><ci id="S3.SS1.p1.24.m24.1.1.2.2.cmml" xref="S3.SS1.p1.24.m24.1.1.2.2">𝐸</ci><ci id="S3.SS1.p1.24.m24.1.1.2.3.cmml" xref="S3.SS1.p1.24.m24.1.1.2.3">𝑘</ci></apply><times id="S3.SS1.p1.24.m24.1.1.3.cmml" xref="S3.SS1.p1.24.m24.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.24.m24.1c">E_{k}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.24.m24.1d">italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> is linked with user feedback <math alttext="f_{i_{j}}" class="ltx_Math" display="inline" id="S3.SS1.p1.25.m25.1"><semantics id="S3.SS1.p1.25.m25.1a"><msub id="S3.SS1.p1.25.m25.1.1" xref="S3.SS1.p1.25.m25.1.1.cmml"><mi id="S3.SS1.p1.25.m25.1.1.2" xref="S3.SS1.p1.25.m25.1.1.2.cmml">f</mi><msub id="S3.SS1.p1.25.m25.1.1.3" xref="S3.SS1.p1.25.m25.1.1.3.cmml"><mi id="S3.SS1.p1.25.m25.1.1.3.2" xref="S3.SS1.p1.25.m25.1.1.3.2.cmml">i</mi><mi id="S3.SS1.p1.25.m25.1.1.3.3" xref="S3.SS1.p1.25.m25.1.1.3.3.cmml">j</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.25.m25.1b"><apply id="S3.SS1.p1.25.m25.1.1.cmml" xref="S3.SS1.p1.25.m25.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.25.m25.1.1.1.cmml" xref="S3.SS1.p1.25.m25.1.1">subscript</csymbol><ci id="S3.SS1.p1.25.m25.1.1.2.cmml" xref="S3.SS1.p1.25.m25.1.1.2">𝑓</ci><apply id="S3.SS1.p1.25.m25.1.1.3.cmml" xref="S3.SS1.p1.25.m25.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.25.m25.1.1.3.1.cmml" xref="S3.SS1.p1.25.m25.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.25.m25.1.1.3.2.cmml" xref="S3.SS1.p1.25.m25.1.1.3.2">𝑖</ci><ci id="S3.SS1.p1.25.m25.1.1.3.3.cmml" xref="S3.SS1.p1.25.m25.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.25.m25.1c">f_{i_{j}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.25.m25.1d">italic_f start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, indicating whether the user likes it.
Similarly, we combined all entities mentioned in <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S3.SS1.p1.26.m26.1"><semantics id="S3.SS1.p1.26.m26.1a"><msub id="S3.SS1.p1.26.m26.1.1" xref="S3.SS1.p1.26.m26.1.1.cmml"><mi id="S3.SS1.p1.26.m26.1.1.2" xref="S3.SS1.p1.26.m26.1.1.2.cmml">D</mi><mrow id="S3.SS1.p1.26.m26.1.1.3" xref="S3.SS1.p1.26.m26.1.1.3.cmml"><mi id="S3.SS1.p1.26.m26.1.1.3.2" xref="S3.SS1.p1.26.m26.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.26.m26.1.1.3.1" xref="S3.SS1.p1.26.m26.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.26.m26.1.1.3.3" xref="S3.SS1.p1.26.m26.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.26.m26.1b"><apply id="S3.SS1.p1.26.m26.1.1.cmml" xref="S3.SS1.p1.26.m26.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.26.m26.1.1.1.cmml" xref="S3.SS1.p1.26.m26.1.1">subscript</csymbol><ci id="S3.SS1.p1.26.m26.1.1.2.cmml" xref="S3.SS1.p1.26.m26.1.1.2">𝐷</ci><apply id="S3.SS1.p1.26.m26.1.1.3.cmml" xref="S3.SS1.p1.26.m26.1.1.3"><minus id="S3.SS1.p1.26.m26.1.1.3.1.cmml" xref="S3.SS1.p1.26.m26.1.1.3.1"></minus><ci id="S3.SS1.p1.26.m26.1.1.3.2.cmml" xref="S3.SS1.p1.26.m26.1.1.3.2">𝑡</ci><cn id="S3.SS1.p1.26.m26.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.26.m26.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.26.m26.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.26.m26.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> into an entity list <math alttext="E_{l}=\{e_{q}\}^{n_{e}}_{q=1}" class="ltx_Math" display="inline" id="S3.SS1.p1.27.m27.1"><semantics id="S3.SS1.p1.27.m27.1a"><mrow id="S3.SS1.p1.27.m27.1.1" xref="S3.SS1.p1.27.m27.1.1.cmml"><msub id="S3.SS1.p1.27.m27.1.1.3" xref="S3.SS1.p1.27.m27.1.1.3.cmml"><mi id="S3.SS1.p1.27.m27.1.1.3.2" xref="S3.SS1.p1.27.m27.1.1.3.2.cmml">E</mi><mi id="S3.SS1.p1.27.m27.1.1.3.3" xref="S3.SS1.p1.27.m27.1.1.3.3.cmml">l</mi></msub><mo id="S3.SS1.p1.27.m27.1.1.2" xref="S3.SS1.p1.27.m27.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p1.27.m27.1.1.1" xref="S3.SS1.p1.27.m27.1.1.1.cmml"><mrow id="S3.SS1.p1.27.m27.1.1.1.1.1.1" xref="S3.SS1.p1.27.m27.1.1.1.1.1.2.cmml"><mo id="S3.SS1.p1.27.m27.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.27.m27.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.SS1.p1.27.m27.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.27.m27.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.27.m27.1.1.1.3" xref="S3.SS1.p1.27.m27.1.1.1.3.cmml"><mi id="S3.SS1.p1.27.m27.1.1.1.3.2" xref="S3.SS1.p1.27.m27.1.1.1.3.2.cmml">q</mi><mo id="S3.SS1.p1.27.m27.1.1.1.3.1" xref="S3.SS1.p1.27.m27.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.27.m27.1.1.1.3.3" xref="S3.SS1.p1.27.m27.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.27.m27.1.1.1.1.3" xref="S3.SS1.p1.27.m27.1.1.1.1.3.cmml"><mi id="S3.SS1.p1.27.m27.1.1.1.1.3.2" xref="S3.SS1.p1.27.m27.1.1.1.1.3.2.cmml">n</mi><mi id="S3.SS1.p1.27.m27.1.1.1.1.3.3" xref="S3.SS1.p1.27.m27.1.1.1.1.3.3.cmml">e</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.27.m27.1b"><apply id="S3.SS1.p1.27.m27.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1"><eq id="S3.SS1.p1.27.m27.1.1.2.cmml" xref="S3.SS1.p1.27.m27.1.1.2"></eq><apply id="S3.SS1.p1.27.m27.1.1.3.cmml" xref="S3.SS1.p1.27.m27.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.27.m27.1.1.3.1.cmml" xref="S3.SS1.p1.27.m27.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.27.m27.1.1.3.2.cmml" xref="S3.SS1.p1.27.m27.1.1.3.2">𝐸</ci><ci id="S3.SS1.p1.27.m27.1.1.3.3.cmml" xref="S3.SS1.p1.27.m27.1.1.3.3">𝑙</ci></apply><apply id="S3.SS1.p1.27.m27.1.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.27.m27.1.1.1.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1">subscript</csymbol><apply id="S3.SS1.p1.27.m27.1.1.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.27.m27.1.1.1.1.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1">superscript</csymbol><set id="S3.SS1.p1.27.m27.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1"><apply id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.2">𝑒</ci><ci id="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.1.1.1.3">𝑞</ci></apply></set><apply id="S3.SS1.p1.27.m27.1.1.1.1.3.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.27.m27.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.27.m27.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.3.2">𝑛</ci><ci id="S3.SS1.p1.27.m27.1.1.1.1.3.3.cmml" xref="S3.SS1.p1.27.m27.1.1.1.1.3.3">𝑒</ci></apply></apply><apply id="S3.SS1.p1.27.m27.1.1.1.3.cmml" xref="S3.SS1.p1.27.m27.1.1.1.3"><eq id="S3.SS1.p1.27.m27.1.1.1.3.1.cmml" xref="S3.SS1.p1.27.m27.1.1.1.3.1"></eq><ci id="S3.SS1.p1.27.m27.1.1.1.3.2.cmml" xref="S3.SS1.p1.27.m27.1.1.1.3.2">𝑞</ci><cn id="S3.SS1.p1.27.m27.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.27.m27.1.1.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.27.m27.1c">E_{l}=\{e_{q}\}^{n_{e}}_{q=1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.27.m27.1d">italic_E start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT = { italic_e start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_q = 1 end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="n_{e}" class="ltx_Math" display="inline" id="S3.SS1.p1.28.m28.1"><semantics id="S3.SS1.p1.28.m28.1a"><msub id="S3.SS1.p1.28.m28.1.1" xref="S3.SS1.p1.28.m28.1.1.cmml"><mi id="S3.SS1.p1.28.m28.1.1.2" xref="S3.SS1.p1.28.m28.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.28.m28.1.1.3" xref="S3.SS1.p1.28.m28.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.28.m28.1b"><apply id="S3.SS1.p1.28.m28.1.1.cmml" xref="S3.SS1.p1.28.m28.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.28.m28.1.1.1.cmml" xref="S3.SS1.p1.28.m28.1.1">subscript</csymbol><ci id="S3.SS1.p1.28.m28.1.1.2.cmml" xref="S3.SS1.p1.28.m28.1.1.2">𝑛</ci><ci id="S3.SS1.p1.28.m28.1.1.3.cmml" xref="S3.SS1.p1.28.m28.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.28.m28.1c">n_{e}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.28.m28.1d">italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> is the count of entities in the dialogue history. Here, we refer to the entities mentioned in the dialogue history as <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.28.2">local entities</em>. Correspondingly, we refer to entities co-occurring with the local entities in the training dataset as <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.28.3">global entities</em>, which will be detailed in Section <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS2.SSS1" title="4.2.1. Emotion-aware Entity Representation ‣ 4.2. Emotion-aware Item Recommendation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.1.1">Task outputs.</span> At the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_t</annotation></semantics></math>-th turn, a CRS

<span class="ltx_inline-enumerate" id="S3.I1">
<span class="ltx_inline-item" id="S3.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S3.I1.i1.2">selects a set of target items <math alttext="I_{t}=\{{i_{k}}\}^{|{I_{t}}|}_{k=1}" class="ltx_Math" display="inline" id="S3.I1.i1.1.m1.2"><semantics id="S3.I1.i1.1.m1.2a"><mrow id="S3.I1.i1.1.m1.2.2" xref="S3.I1.i1.1.m1.2.2.cmml"><msub id="S3.I1.i1.1.m1.2.2.3" xref="S3.I1.i1.1.m1.2.2.3.cmml"><mi id="S3.I1.i1.1.m1.2.2.3.2" xref="S3.I1.i1.1.m1.2.2.3.2.cmml">I</mi><mi id="S3.I1.i1.1.m1.2.2.3.3" xref="S3.I1.i1.1.m1.2.2.3.3.cmml">t</mi></msub><mo id="S3.I1.i1.1.m1.2.2.2" xref="S3.I1.i1.1.m1.2.2.2.cmml">=</mo><msubsup id="S3.I1.i1.1.m1.2.2.1" xref="S3.I1.i1.1.m1.2.2.1.cmml"><mrow id="S3.I1.i1.1.m1.2.2.1.1.1.1" xref="S3.I1.i1.1.m1.2.2.1.1.1.2.cmml"><mo id="S3.I1.i1.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.I1.i1.1.m1.2.2.1.1.1.2.cmml">{</mo><msub id="S3.I1.i1.1.m1.2.2.1.1.1.1.1" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.2" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1.2.cmml">i</mi><mi id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.3" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.I1.i1.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.I1.i1.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.I1.i1.1.m1.2.2.1.3" xref="S3.I1.i1.1.m1.2.2.1.3.cmml"><mi id="S3.I1.i1.1.m1.2.2.1.3.2" xref="S3.I1.i1.1.m1.2.2.1.3.2.cmml">k</mi><mo id="S3.I1.i1.1.m1.2.2.1.3.1" xref="S3.I1.i1.1.m1.2.2.1.3.1.cmml">=</mo><mn id="S3.I1.i1.1.m1.2.2.1.3.3" xref="S3.I1.i1.1.m1.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S3.I1.i1.1.m1.1.1.1.1" xref="S3.I1.i1.1.m1.1.1.1.2.cmml"><mo id="S3.I1.i1.1.m1.1.1.1.1.2" stretchy="false" xref="S3.I1.i1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.I1.i1.1.m1.1.1.1.1.1" xref="S3.I1.i1.1.m1.1.1.1.1.1.cmml"><mi id="S3.I1.i1.1.m1.1.1.1.1.1.2" xref="S3.I1.i1.1.m1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.I1.i1.1.m1.1.1.1.1.1.3" xref="S3.I1.i1.1.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.I1.i1.1.m1.1.1.1.1.3" stretchy="false" xref="S3.I1.i1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.1.m1.2b"><apply id="S3.I1.i1.1.m1.2.2.cmml" xref="S3.I1.i1.1.m1.2.2"><eq id="S3.I1.i1.1.m1.2.2.2.cmml" xref="S3.I1.i1.1.m1.2.2.2"></eq><apply id="S3.I1.i1.1.m1.2.2.3.cmml" xref="S3.I1.i1.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.I1.i1.1.m1.2.2.3.1.cmml" xref="S3.I1.i1.1.m1.2.2.3">subscript</csymbol><ci id="S3.I1.i1.1.m1.2.2.3.2.cmml" xref="S3.I1.i1.1.m1.2.2.3.2">𝐼</ci><ci id="S3.I1.i1.1.m1.2.2.3.3.cmml" xref="S3.I1.i1.1.m1.2.2.3.3">𝑡</ci></apply><apply id="S3.I1.i1.1.m1.2.2.1.cmml" xref="S3.I1.i1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i1.1.m1.2.2.1.2.cmml" xref="S3.I1.i1.1.m1.2.2.1">subscript</csymbol><apply id="S3.I1.i1.1.m1.2.2.1.1.cmml" xref="S3.I1.i1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i1.1.m1.2.2.1.1.2.cmml" xref="S3.I1.i1.1.m1.2.2.1">superscript</csymbol><set id="S3.I1.i1.1.m1.2.2.1.1.1.2.cmml" xref="S3.I1.i1.1.m1.2.2.1.1.1.1"><apply id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1.2">𝑖</ci><ci id="S3.I1.i1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.I1.i1.1.m1.2.2.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.I1.i1.1.m1.1.1.1.2.cmml" xref="S3.I1.i1.1.m1.1.1.1.1"><abs id="S3.I1.i1.1.m1.1.1.1.2.1.cmml" xref="S3.I1.i1.1.m1.1.1.1.1.2"></abs><apply id="S3.I1.i1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.1.m1.1.1.1.1.1.1.cmml" xref="S3.I1.i1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i1.1.m1.1.1.1.1.1.2">𝐼</ci><ci id="S3.I1.i1.1.m1.1.1.1.1.1.3.cmml" xref="S3.I1.i1.1.m1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="S3.I1.i1.1.m1.2.2.1.3.cmml" xref="S3.I1.i1.1.m1.2.2.1.3"><eq id="S3.I1.i1.1.m1.2.2.1.3.1.cmml" xref="S3.I1.i1.1.m1.2.2.1.3.1"></eq><ci id="S3.I1.i1.1.m1.2.2.1.3.2.cmml" xref="S3.I1.i1.1.m1.2.2.1.3.2">𝑘</ci><cn id="S3.I1.i1.1.m1.2.2.1.3.3.cmml" type="integer" xref="S3.I1.i1.1.m1.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.1.m1.2c">I_{t}=\{{i_{k}}\}^{|{I_{t}}|}_{k=1}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.1.m1.2d">italic_I start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_I start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT</annotation></semantics></math> from the entire item set <math alttext="I" class="ltx_Math" display="inline" id="S3.I1.i1.2.m2.1"><semantics id="S3.I1.i1.2.m2.1a"><mi id="S3.I1.i1.2.m2.1.1" xref="S3.I1.i1.2.m2.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.2.m2.1b"><ci id="S3.I1.i1.2.m2.1.1.cmml" xref="S3.I1.i1.2.m2.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.2.m2.1c">I</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.2.m2.1d">italic_I</annotation></semantics></math>, and
</span></span>
<span class="ltx_inline-item" id="S3.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S3.I1.i2.1">generates a response utterance <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S3.I1.i2.1.m1.1"><semantics id="S3.I1.i2.1.m1.1a"><msubsup id="S3.I1.i2.1.m1.1.1" xref="S3.I1.i2.1.m1.1.1.cmml"><mi id="S3.I1.i2.1.m1.1.1.2.2" xref="S3.I1.i2.1.m1.1.1.2.2.cmml">u</mi><mi id="S3.I1.i2.1.m1.1.1.2.3" xref="S3.I1.i2.1.m1.1.1.2.3.cmml">t</mi><mi id="S3.I1.i2.1.m1.1.1.3" xref="S3.I1.i2.1.m1.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I1.i2.1.m1.1b"><apply id="S3.I1.i2.1.m1.1.1.cmml" xref="S3.I1.i2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.1.m1.1.1.1.cmml" xref="S3.I1.i2.1.m1.1.1">superscript</csymbol><apply id="S3.I1.i2.1.m1.1.1.2.cmml" xref="S3.I1.i2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.1.m1.1.1.2.1.cmml" xref="S3.I1.i2.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i2.1.m1.1.1.2.2.cmml" xref="S3.I1.i2.1.m1.1.1.2.2">𝑢</ci><ci id="S3.I1.i2.1.m1.1.1.2.3.cmml" xref="S3.I1.i2.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S3.I1.i2.1.m1.1.1.3.cmml" xref="S3.I1.i2.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.1.m1.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.1.m1.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> for the user.
</span></span>
</span></p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Backbone Framework</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Since UniCRS <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite> unifies the recommendation and generation into a prompt learning paradigm by PLM, i.e., DialoGPT <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib55" title="">2020</a>)</cite>, which is the state-of-the-art method in using PLMs, we adopt it as our backbone framework. It encompasses three primary modules:</p>
<ol class="ltx_enumerate" id="S3.I2">
<li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S3.I2.i1.p1">
<p class="ltx_p" id="S3.I2.i1.p1.3"><span class="ltx_text ltx_font_bold" id="S3.I2.i1.p1.3.1">Semantic fusion module</span>: Initially, UniCRS fuses the semantic spaces of dialogues and KGs for knowledge alignment and enrichment. It obtains a word embedding matrix and a local entity embedding matrix. Then it associates two kinds of embedding matrices via a bilinear transformation, yielding the fused word representations <math alttext="\tilde{\bm{W}}=\left[\bm{\tilde{w}_{1}}\right." class="ltx_math_unparsed" display="inline" id="S3.I2.i1.p1.1.m1.1"><semantics id="S3.I2.i1.p1.1.m1.1a"><mrow id="S3.I2.i1.p1.1.m1.1b"><mover accent="true" id="S3.I2.i1.p1.1.m1.1.1"><mi id="S3.I2.i1.p1.1.m1.1.1.2">𝑾</mi><mo id="S3.I2.i1.p1.1.m1.1.1.1">~</mo></mover><mo id="S3.I2.i1.p1.1.m1.1.2">=</mo><mrow id="S3.I2.i1.p1.1.m1.1.3"><mo id="S3.I2.i1.p1.1.m1.1.3.1">[</mo><msub id="S3.I2.i1.p1.1.m1.1.3.2"><mover accent="true" id="S3.I2.i1.p1.1.m1.1.3.2.2"><mi id="S3.I2.i1.p1.1.m1.1.3.2.2.2">𝒘</mi><mo class="ltx_mathvariant_bold" id="S3.I2.i1.p1.1.m1.1.3.2.2.1" mathvariant="bold">~</mo></mover><mn id="S3.I2.i1.p1.1.m1.1.3.2.3">𝟏</mn></msub></mrow></mrow><annotation encoding="application/x-tex" id="S3.I2.i1.p1.1.m1.1c">\tilde{\bm{W}}=\left[\bm{\tilde{w}_{1}}\right.</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.1.m1.1d">over~ start_ARG bold_italic_W end_ARG = [ overbold_~ start_ARG bold_italic_w end_ARG start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT</annotation></semantics></math>; …; <math alttext="\left.\bm{\tilde{w}_{n_{w}}}\right]" class="ltx_math_unparsed" display="inline" id="S3.I2.i1.p1.2.m2.1"><semantics id="S3.I2.i1.p1.2.m2.1a"><mrow id="S3.I2.i1.p1.2.m2.1b"><msub id="S3.I2.i1.p1.2.m2.1.1"><mover accent="true" id="S3.I2.i1.p1.2.m2.1.1.2"><mi id="S3.I2.i1.p1.2.m2.1.1.2.2">𝒘</mi><mo class="ltx_mathvariant_bold" id="S3.I2.i1.p1.2.m2.1.1.2.1" mathvariant="bold">~</mo></mover><msub id="S3.I2.i1.p1.2.m2.1.1.3"><mi id="S3.I2.i1.p1.2.m2.1.1.3.2">𝒏</mi><mi id="S3.I2.i1.p1.2.m2.1.1.3.3">𝒘</mi></msub></msub><mo id="S3.I2.i1.p1.2.m2.1.2">]</mo></mrow><annotation encoding="application/x-tex" id="S3.I2.i1.p1.2.m2.1c">\left.\bm{\tilde{w}_{n_{w}}}\right]</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.2.m2.1d">overbold_~ start_ARG bold_italic_w end_ARG start_POSTSUBSCRIPT bold_italic_n start_POSTSUBSCRIPT bold_italic_w end_POSTSUBSCRIPT end_POSTSUBSCRIPT ]</annotation></semantics></math>, and the fused local entity representations <math alttext="\tilde{\bm{E_{l}}}=\left[\bm{\tilde{e}_{1}};\ldots;\bm{\tilde{e}_{n_{e}}}\right]" class="ltx_Math" display="inline" id="S3.I2.i1.p1.3.m3.3"><semantics id="S3.I2.i1.p1.3.m3.3a"><mrow id="S3.I2.i1.p1.3.m3.3.3" xref="S3.I2.i1.p1.3.m3.3.3.cmml"><mover accent="true" id="S3.I2.i1.p1.3.m3.3.3.4" xref="S3.I2.i1.p1.3.m3.3.3.4.cmml"><msub id="S3.I2.i1.p1.3.m3.3.3.4.2" xref="S3.I2.i1.p1.3.m3.3.3.4.2.cmml"><mi id="S3.I2.i1.p1.3.m3.3.3.4.2.2" xref="S3.I2.i1.p1.3.m3.3.3.4.2.2.cmml">𝑬</mi><mi id="S3.I2.i1.p1.3.m3.3.3.4.2.3" xref="S3.I2.i1.p1.3.m3.3.3.4.2.3.cmml">𝒍</mi></msub><mo id="S3.I2.i1.p1.3.m3.3.3.4.1" xref="S3.I2.i1.p1.3.m3.3.3.4.1.cmml">~</mo></mover><mo id="S3.I2.i1.p1.3.m3.3.3.3" xref="S3.I2.i1.p1.3.m3.3.3.3.cmml">=</mo><mrow id="S3.I2.i1.p1.3.m3.3.3.2.2" xref="S3.I2.i1.p1.3.m3.3.3.2.3.cmml"><mo id="S3.I2.i1.p1.3.m3.3.3.2.2.3" xref="S3.I2.i1.p1.3.m3.3.3.2.3.cmml">[</mo><msub id="S3.I2.i1.p1.3.m3.2.2.1.1.1" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.cmml"><mover accent="true" id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.cmml"><mi id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.2" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.1" mathvariant="bold" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.1.cmml">~</mo></mover><mn id="S3.I2.i1.p1.3.m3.2.2.1.1.1.3" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.3.cmml">𝟏</mn></msub><mo id="S3.I2.i1.p1.3.m3.3.3.2.2.4" xref="S3.I2.i1.p1.3.m3.3.3.2.3.cmml">;</mo><mi id="S3.I2.i1.p1.3.m3.1.1" mathvariant="normal" xref="S3.I2.i1.p1.3.m3.1.1.cmml">…</mi><mo id="S3.I2.i1.p1.3.m3.3.3.2.2.5" xref="S3.I2.i1.p1.3.m3.3.3.2.3.cmml">;</mo><msub id="S3.I2.i1.p1.3.m3.3.3.2.2.2" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.cmml"><mover accent="true" id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.cmml"><mi id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.2" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.1" mathvariant="bold" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.1.cmml">~</mo></mover><msub id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.cmml"><mi id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.2" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.2.cmml">𝒏</mi><mi id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.3" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.3.cmml">𝒆</mi></msub></msub><mo id="S3.I2.i1.p1.3.m3.3.3.2.2.6" xref="S3.I2.i1.p1.3.m3.3.3.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I2.i1.p1.3.m3.3b"><apply id="S3.I2.i1.p1.3.m3.3.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3"><eq id="S3.I2.i1.p1.3.m3.3.3.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3.3"></eq><apply id="S3.I2.i1.p1.3.m3.3.3.4.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4"><ci id="S3.I2.i1.p1.3.m3.3.3.4.1.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4.1">~</ci><apply id="S3.I2.i1.p1.3.m3.3.3.4.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4.2"><csymbol cd="ambiguous" id="S3.I2.i1.p1.3.m3.3.3.4.2.1.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4.2">subscript</csymbol><ci id="S3.I2.i1.p1.3.m3.3.3.4.2.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4.2.2">𝑬</ci><ci id="S3.I2.i1.p1.3.m3.3.3.4.2.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3.4.2.3">𝒍</ci></apply></apply><list id="S3.I2.i1.p1.3.m3.3.3.2.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2"><apply id="S3.I2.i1.p1.3.m3.2.2.1.1.1.cmml" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.I2.i1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1">subscript</csymbol><apply id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2"><ci id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.1.cmml" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.1">bold-~</ci><ci id="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.2.cmml" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.2.2">𝒆</ci></apply><cn id="S3.I2.i1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.I2.i1.p1.3.m3.2.2.1.1.1.3">1</cn></apply><ci id="S3.I2.i1.p1.3.m3.1.1.cmml" xref="S3.I2.i1.p1.3.m3.1.1">…</ci><apply id="S3.I2.i1.p1.3.m3.3.3.2.2.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.I2.i1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2">subscript</csymbol><apply id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2"><ci id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.1.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.1">bold-~</ci><ci id="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.2.2">𝒆</ci></apply><apply id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.1.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3">subscript</csymbol><ci id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.2.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.2">𝒏</ci><ci id="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.3.cmml" xref="S3.I2.i1.p1.3.m3.3.3.2.2.2.3.3">𝒆</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i1.p1.3.m3.3c">\tilde{\bm{E_{l}}}=\left[\bm{\tilde{e}_{1}};\ldots;\bm{\tilde{e}_{n_{e}}}\right]</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.3.m3.3d">over~ start_ARG bold_italic_E start_POSTSUBSCRIPT bold_italic_l end_POSTSUBSCRIPT end_ARG = [ overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT ; … ; overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_n start_POSTSUBSCRIPT bold_italic_e end_POSTSUBSCRIPT end_POSTSUBSCRIPT ]</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S3.I2.i2.p1">
<p class="ltx_p" id="S3.I2.i2.p1.4"><span class="ltx_text ltx_font_bold" id="S3.I2.i2.p1.4.1">Response generation module</span>: UniCRS prompts a PLM to generate the response <math alttext="u^{r}_{t}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.1.m1.1"><semantics id="S3.I2.i2.p1.1.m1.1a"><msubsup id="S3.I2.i2.p1.1.m1.1.1" xref="S3.I2.i2.p1.1.m1.1.1.cmml"><mi id="S3.I2.i2.p1.1.m1.1.1.2.2" xref="S3.I2.i2.p1.1.m1.1.1.2.2.cmml">u</mi><mi id="S3.I2.i2.p1.1.m1.1.1.3" xref="S3.I2.i2.p1.1.m1.1.1.3.cmml">t</mi><mi id="S3.I2.i2.p1.1.m1.1.1.2.3" xref="S3.I2.i2.p1.1.m1.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.1.m1.1b"><apply id="S3.I2.i2.p1.1.m1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.1.m1.1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">subscript</csymbol><apply id="S3.I2.i2.p1.1.m1.1.1.2.cmml" xref="S3.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.1.m1.1.1.2.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">superscript</csymbol><ci id="S3.I2.i2.p1.1.m1.1.1.2.2.cmml" xref="S3.I2.i2.p1.1.m1.1.1.2.2">𝑢</ci><ci id="S3.I2.i2.p1.1.m1.1.1.2.3.cmml" xref="S3.I2.i2.p1.1.m1.1.1.2.3">𝑟</ci></apply><ci id="S3.I2.i2.p1.1.m1.1.1.3.cmml" xref="S3.I2.i2.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.1.m1.1c">u^{r}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.1.m1.1d">italic_u start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, which is designated as “<em class="ltx_emph ltx_font_italic" id="S3.I2.i2.p1.4.2">recommendation response.</em>” The prompt for this module consists of the fused word representations <math alttext="\tilde{\bm{W}}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.2.m2.1"><semantics id="S3.I2.i2.p1.2.m2.1a"><mover accent="true" id="S3.I2.i2.p1.2.m2.1.1" xref="S3.I2.i2.p1.2.m2.1.1.cmml"><mi id="S3.I2.i2.p1.2.m2.1.1.2" xref="S3.I2.i2.p1.2.m2.1.1.2.cmml">𝑾</mi><mo id="S3.I2.i2.p1.2.m2.1.1.1" xref="S3.I2.i2.p1.2.m2.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.2.m2.1b"><apply id="S3.I2.i2.p1.2.m2.1.1.cmml" xref="S3.I2.i2.p1.2.m2.1.1"><ci id="S3.I2.i2.p1.2.m2.1.1.1.cmml" xref="S3.I2.i2.p1.2.m2.1.1.1">~</ci><ci id="S3.I2.i2.p1.2.m2.1.1.2.cmml" xref="S3.I2.i2.p1.2.m2.1.1.2">𝑾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.2.m2.1c">\tilde{\bm{W}}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.2.m2.1d">over~ start_ARG bold_italic_W end_ARG</annotation></semantics></math>, generation task-specific soft tokens <math alttext="\bm{S_{gen}}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.3.m3.1"><semantics id="S3.I2.i2.p1.3.m3.1a"><msub id="S3.I2.i2.p1.3.m3.1.1" xref="S3.I2.i2.p1.3.m3.1.1.cmml"><mi id="S3.I2.i2.p1.3.m3.1.1.2" xref="S3.I2.i2.p1.3.m3.1.1.2.cmml">𝑺</mi><mrow id="S3.I2.i2.p1.3.m3.1.1.3" xref="S3.I2.i2.p1.3.m3.1.1.3.cmml"><mi id="S3.I2.i2.p1.3.m3.1.1.3.2" xref="S3.I2.i2.p1.3.m3.1.1.3.2.cmml">𝒈</mi><mo id="S3.I2.i2.p1.3.m3.1.1.3.1" xref="S3.I2.i2.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.I2.i2.p1.3.m3.1.1.3.3" xref="S3.I2.i2.p1.3.m3.1.1.3.3.cmml">𝒆</mi><mo id="S3.I2.i2.p1.3.m3.1.1.3.1a" xref="S3.I2.i2.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.I2.i2.p1.3.m3.1.1.3.4" xref="S3.I2.i2.p1.3.m3.1.1.3.4.cmml">𝒏</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.3.m3.1b"><apply id="S3.I2.i2.p1.3.m3.1.1.cmml" xref="S3.I2.i2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.3.m3.1.1.1.cmml" xref="S3.I2.i2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.I2.i2.p1.3.m3.1.1.2.cmml" xref="S3.I2.i2.p1.3.m3.1.1.2">𝑺</ci><apply id="S3.I2.i2.p1.3.m3.1.1.3.cmml" xref="S3.I2.i2.p1.3.m3.1.1.3"><times id="S3.I2.i2.p1.3.m3.1.1.3.1.cmml" xref="S3.I2.i2.p1.3.m3.1.1.3.1"></times><ci id="S3.I2.i2.p1.3.m3.1.1.3.2.cmml" xref="S3.I2.i2.p1.3.m3.1.1.3.2">𝒈</ci><ci id="S3.I2.i2.p1.3.m3.1.1.3.3.cmml" xref="S3.I2.i2.p1.3.m3.1.1.3.3">𝒆</ci><ci id="S3.I2.i2.p1.3.m3.1.1.3.4.cmml" xref="S3.I2.i2.p1.3.m3.1.1.3.4">𝒏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.3.m3.1c">\bm{S_{gen}}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.3.m3.1d">bold_italic_S start_POSTSUBSCRIPT bold_italic_g bold_italic_e bold_italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, and the dialogue history <math alttext="D" class="ltx_Math" display="inline" id="S3.I2.i2.p1.4.m4.1"><semantics id="S3.I2.i2.p1.4.m4.1a"><mi id="S3.I2.i2.p1.4.m4.1.1" xref="S3.I2.i2.p1.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.4.m4.1b"><ci id="S3.I2.i2.p1.4.m4.1.1.cmml" xref="S3.I2.i2.p1.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.4.m4.1d">italic_D</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E1X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle C_{gen}^{r}=\left[\tilde{\bm{W}};\bm{S_{gen}};D\right]." class="ltx_Math" display="inline" id="S3.E1X.2.1.1.m1.3"><semantics id="S3.E1X.2.1.1.m1.3a"><mrow id="S3.E1X.2.1.1.m1.3.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.3.3.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml"><msubsup id="S3.E1X.2.1.1.m1.3.3.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.2.cmml">C</mi><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.2.cmml">g</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.3.cmml">e</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1a" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.4" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.4.cmml">n</mi></mrow><mi id="S3.E1X.2.1.1.m1.3.3.1.1.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.3.cmml">r</mi></msubsup><mo id="S3.E1X.2.1.1.m1.3.3.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml"><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml">[</mo><mover accent="true" id="S3.E1X.2.1.1.m1.1.1" xref="S3.E1X.2.1.1.m1.1.1.cmml"><mi id="S3.E1X.2.1.1.m1.1.1.2" xref="S3.E1X.2.1.1.m1.1.1.2.cmml">𝑾</mi><mo id="S3.E1X.2.1.1.m1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.cmml">~</mo></mover><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml">;</mo><msub id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml">𝑺</mi><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml">𝒈</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.3.cmml">𝒆</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1a" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.4" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.4.cmml">𝒏</mi></mrow></msub><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.4" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml">;</mo><mi id="S3.E1X.2.1.1.m1.2.2" xref="S3.E1X.2.1.1.m1.2.2.cmml">D</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.5" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml">]</mo></mrow></mrow><mo id="S3.E1X.2.1.1.m1.3.3.1.2" lspace="0em" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1X.2.1.1.m1.3b"><apply id="S3.E1X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1"><eq id="S3.E1X.2.1.1.m1.3.3.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.2"></eq><apply id="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3">superscript</csymbol><apply id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.2">𝐶</ci><apply id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3"><times id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.1"></times><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.2">𝑔</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.3">𝑒</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.4.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2.3.4">𝑛</ci></apply></apply><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.3">𝑟</ci></apply><list id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1"><apply id="S3.E1X.2.1.1.m1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1"><ci id="S3.E1X.2.1.1.m1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1">~</ci><ci id="S3.E1X.2.1.1.m1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.1.1.2">𝑾</ci></apply><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2">𝑺</ci><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3"><times id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.1"></times><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.2">𝒈</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.3">𝒆</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.4.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.3.4">𝒏</ci></apply></apply><ci id="S3.E1X.2.1.1.m1.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2">𝐷</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1X.2.1.1.m1.3c">\displaystyle C_{gen}^{r}=\left[\tilde{\bm{W}};\bm{S_{gen}};D\right].</annotation><annotation encoding="application/x-llamapun" id="S3.E1X.2.1.1.m1.3d">italic_C start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT = [ over~ start_ARG bold_italic_W end_ARG ; bold_italic_S start_POSTSUBSCRIPT bold_italic_g bold_italic_e bold_italic_n end_POSTSUBSCRIPT ; italic_D ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.I2.i2.p1.5">Note that UniCRS replaces all items appearing in the recommendation response with a special token [MASK], which is later filled following the item recommendation subtask.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S3.I2.i3.p1">
<p class="ltx_p" id="S3.I2.i3.p1.5"><span class="ltx_text ltx_font_bold" id="S3.I2.i3.p1.5.1">Item recommendation module</span>: Given <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.1.m1.1"><semantics id="S3.I2.i3.p1.1.m1.1a"><msubsup id="S3.I2.i3.p1.1.m1.1.1" xref="S3.I2.i3.p1.1.m1.1.1.cmml"><mi id="S3.I2.i3.p1.1.m1.1.1.2.2" xref="S3.I2.i3.p1.1.m1.1.1.2.2.cmml">u</mi><mi id="S3.I2.i3.p1.1.m1.1.1.2.3" xref="S3.I2.i3.p1.1.m1.1.1.2.3.cmml">t</mi><mi id="S3.I2.i3.p1.1.m1.1.1.3" xref="S3.I2.i3.p1.1.m1.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.1.m1.1b"><apply id="S3.I2.i3.p1.1.m1.1.1.cmml" xref="S3.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.1.m1.1.1.1.cmml" xref="S3.I2.i3.p1.1.m1.1.1">superscript</csymbol><apply id="S3.I2.i3.p1.1.m1.1.1.2.cmml" xref="S3.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.1.m1.1.1.2.1.cmml" xref="S3.I2.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.i3.p1.1.m1.1.1.2.2.cmml" xref="S3.I2.i3.p1.1.m1.1.1.2.2">𝑢</ci><ci id="S3.I2.i3.p1.1.m1.1.1.2.3.cmml" xref="S3.I2.i3.p1.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S3.I2.i3.p1.1.m1.1.1.3.cmml" xref="S3.I2.i3.p1.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.1.m1.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.1.m1.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> from the response generation subtask, the recommendation prompt consists of the fused local entity representations <math alttext="\tilde{\bm{E_{l}}}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.2.m2.1"><semantics id="S3.I2.i3.p1.2.m2.1a"><mover accent="true" id="S3.I2.i3.p1.2.m2.1.1" xref="S3.I2.i3.p1.2.m2.1.1.cmml"><msub id="S3.I2.i3.p1.2.m2.1.1.2" xref="S3.I2.i3.p1.2.m2.1.1.2.cmml"><mi id="S3.I2.i3.p1.2.m2.1.1.2.2" xref="S3.I2.i3.p1.2.m2.1.1.2.2.cmml">𝑬</mi><mi id="S3.I2.i3.p1.2.m2.1.1.2.3" xref="S3.I2.i3.p1.2.m2.1.1.2.3.cmml">𝒍</mi></msub><mo id="S3.I2.i3.p1.2.m2.1.1.1" xref="S3.I2.i3.p1.2.m2.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.2.m2.1b"><apply id="S3.I2.i3.p1.2.m2.1.1.cmml" xref="S3.I2.i3.p1.2.m2.1.1"><ci id="S3.I2.i3.p1.2.m2.1.1.1.cmml" xref="S3.I2.i3.p1.2.m2.1.1.1">~</ci><apply id="S3.I2.i3.p1.2.m2.1.1.2.cmml" xref="S3.I2.i3.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.I2.i3.p1.2.m2.1.1.2.1.cmml" xref="S3.I2.i3.p1.2.m2.1.1.2">subscript</csymbol><ci id="S3.I2.i3.p1.2.m2.1.1.2.2.cmml" xref="S3.I2.i3.p1.2.m2.1.1.2.2">𝑬</ci><ci id="S3.I2.i3.p1.2.m2.1.1.2.3.cmml" xref="S3.I2.i3.p1.2.m2.1.1.2.3">𝒍</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.2.m2.1c">\tilde{\bm{E_{l}}}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.2.m2.1d">over~ start_ARG bold_italic_E start_POSTSUBSCRIPT bold_italic_l end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>, recommendation task-specific soft tokens <math alttext="\bm{S_{rec}}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.3.m3.1"><semantics id="S3.I2.i3.p1.3.m3.1a"><msub id="S3.I2.i3.p1.3.m3.1.1" xref="S3.I2.i3.p1.3.m3.1.1.cmml"><mi id="S3.I2.i3.p1.3.m3.1.1.2" xref="S3.I2.i3.p1.3.m3.1.1.2.cmml">𝑺</mi><mrow id="S3.I2.i3.p1.3.m3.1.1.3" xref="S3.I2.i3.p1.3.m3.1.1.3.cmml"><mi id="S3.I2.i3.p1.3.m3.1.1.3.2" xref="S3.I2.i3.p1.3.m3.1.1.3.2.cmml">𝒓</mi><mo id="S3.I2.i3.p1.3.m3.1.1.3.1" xref="S3.I2.i3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.I2.i3.p1.3.m3.1.1.3.3" xref="S3.I2.i3.p1.3.m3.1.1.3.3.cmml">𝒆</mi><mo id="S3.I2.i3.p1.3.m3.1.1.3.1a" xref="S3.I2.i3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.I2.i3.p1.3.m3.1.1.3.4" xref="S3.I2.i3.p1.3.m3.1.1.3.4.cmml">𝒄</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.3.m3.1b"><apply id="S3.I2.i3.p1.3.m3.1.1.cmml" xref="S3.I2.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.3.m3.1.1.1.cmml" xref="S3.I2.i3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.I2.i3.p1.3.m3.1.1.2.cmml" xref="S3.I2.i3.p1.3.m3.1.1.2">𝑺</ci><apply id="S3.I2.i3.p1.3.m3.1.1.3.cmml" xref="S3.I2.i3.p1.3.m3.1.1.3"><times id="S3.I2.i3.p1.3.m3.1.1.3.1.cmml" xref="S3.I2.i3.p1.3.m3.1.1.3.1"></times><ci id="S3.I2.i3.p1.3.m3.1.1.3.2.cmml" xref="S3.I2.i3.p1.3.m3.1.1.3.2">𝒓</ci><ci id="S3.I2.i3.p1.3.m3.1.1.3.3.cmml" xref="S3.I2.i3.p1.3.m3.1.1.3.3">𝒆</ci><ci id="S3.I2.i3.p1.3.m3.1.1.3.4.cmml" xref="S3.I2.i3.p1.3.m3.1.1.3.4">𝒄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.3.m3.1c">\bm{S_{rec}}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.3.m3.1d">bold_italic_S start_POSTSUBSCRIPT bold_italic_r bold_italic_e bold_italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, the dialogue history <math alttext="D" class="ltx_Math" display="inline" id="S3.I2.i3.p1.4.m4.1"><semantics id="S3.I2.i3.p1.4.m4.1a"><mi id="S3.I2.i3.p1.4.m4.1.1" xref="S3.I2.i3.p1.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.4.m4.1b"><ci id="S3.I2.i3.p1.4.m4.1.1.cmml" xref="S3.I2.i3.p1.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.4.m4.1d">italic_D</annotation></semantics></math>, and <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.5.m5.1"><semantics id="S3.I2.i3.p1.5.m5.1a"><msubsup id="S3.I2.i3.p1.5.m5.1.1" xref="S3.I2.i3.p1.5.m5.1.1.cmml"><mi id="S3.I2.i3.p1.5.m5.1.1.2.2" xref="S3.I2.i3.p1.5.m5.1.1.2.2.cmml">u</mi><mi id="S3.I2.i3.p1.5.m5.1.1.2.3" xref="S3.I2.i3.p1.5.m5.1.1.2.3.cmml">t</mi><mi id="S3.I2.i3.p1.5.m5.1.1.3" xref="S3.I2.i3.p1.5.m5.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.5.m5.1b"><apply id="S3.I2.i3.p1.5.m5.1.1.cmml" xref="S3.I2.i3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.5.m5.1.1.1.cmml" xref="S3.I2.i3.p1.5.m5.1.1">superscript</csymbol><apply id="S3.I2.i3.p1.5.m5.1.1.2.cmml" xref="S3.I2.i3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.5.m5.1.1.2.1.cmml" xref="S3.I2.i3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.I2.i3.p1.5.m5.1.1.2.2.cmml" xref="S3.I2.i3.p1.5.m5.1.1.2.2">𝑢</ci><ci id="S3.I2.i3.p1.5.m5.1.1.2.3.cmml" xref="S3.I2.i3.p1.5.m5.1.1.2.3">𝑡</ci></apply><ci id="S3.I2.i3.p1.5.m5.1.1.3.cmml" xref="S3.I2.i3.p1.5.m5.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.5.m5.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.5.m5.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E2X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle C_{rec}=\left[\tilde{\bm{E}_{l}};\bm{S_{rec}};D;u_{t}^{r}\right]." class="ltx_Math" display="inline" id="S3.E2X.2.1.1.m1.3"><semantics id="S3.E2X.2.1.1.m1.3a"><mrow id="S3.E2X.2.1.1.m1.3.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.3.3.1.1.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.4.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.2.cmml">C</mi><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.4.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.2.cmml">r</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.3.cmml">e</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1a" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.4.cmml">c</mi></mrow></msub><mo id="S3.E2X.2.1.1.m1.3.3.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml"><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">[</mo><mover accent="true" id="S3.E2X.2.1.1.m1.1.1" xref="S3.E2X.2.1.1.m1.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.2.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.2.2" xref="S3.E2X.2.1.1.m1.1.1.2.2.cmml">𝑬</mi><mi id="S3.E2X.2.1.1.m1.1.1.2.3" xref="S3.E2X.2.1.1.m1.1.1.2.3.cmml">l</mi></msub><mo id="S3.E2X.2.1.1.m1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.cmml">~</mo></mover><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">;</mo><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml">𝑺</mi><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml">𝒓</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.3.cmml">𝒆</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1a" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.4.cmml">𝒄</mi></mrow></msub><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.5" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">;</mo><mi id="S3.E2X.2.1.1.m1.2.2" xref="S3.E2X.2.1.1.m1.2.2.cmml">D</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.6" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">;</mo><msubsup id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.2.cmml">u</mi><mi id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.3.cmml">t</mi><mi id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml">r</mi></msubsup><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.7" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">]</mo></mrow></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.2" lspace="0em" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.3b"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1"><eq id="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3"></eq><apply id="S3.E2X.2.1.1.m1.3.3.1.1.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.4.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.4.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.2">𝐶</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3"><times id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.1"></times><ci id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.2">𝑟</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.3">𝑒</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.4.3.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.4.3.4">𝑐</ci></apply></apply><list id="S3.E2X.2.1.1.m1.3.3.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2"><apply id="S3.E2X.2.1.1.m1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1"><ci id="S3.E2X.2.1.1.m1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1">~</ci><apply id="S3.E2X.2.1.1.m1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.2.2">𝑬</ci><ci id="S3.E2X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.2.3">𝑙</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2">𝑺</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3"><times id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1"></times><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2">𝒓</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.3">𝒆</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.4">𝒄</ci></apply></apply><ci id="S3.E2X.2.1.1.m1.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2">𝐷</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.2">𝑢</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.2.3">𝑡</ci></apply><ci id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.3">𝑟</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.3c">\displaystyle C_{rec}=\left[\tilde{\bm{E}_{l}};\bm{S_{rec}};D;u_{t}^{r}\right].</annotation><annotation encoding="application/x-llamapun" id="S3.E2X.2.1.1.m1.3d">italic_C start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT = [ over~ start_ARG bold_italic_E start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_ARG ; bold_italic_S start_POSTSUBSCRIPT bold_italic_r bold_italic_e bold_italic_c end_POSTSUBSCRIPT ; italic_D ; italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.I2.i3.p1.6">The response generation and item recommendation modules both use cross-entropy loss for prediction.</p>
</div>
</li>
</ol>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">Although UniCRS shows promise in using PLMs, its optimization still relies on standard answers provided by datasets and ignores user emotions, which limits its ability to track user needs.
It inspires our subsequent endeavors in instantiating ECR based on UniCRS.
Note that our proposed framework can extend beyond UniCRS and be seamlessly adapted to other CRSs with modifications.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Method</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we introduce our empathetic data enlargement process (Section <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS1" title="4.1. Empathetic Data Enlargement ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4.1</span></a>) and two key modules of ECR: emotion-aware item recommendation (Section <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS2" title="4.2. Emotion-aware Item Recommendation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4.2</span></a>) and emotion-aligned response generation (Section <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.SS3" title="4.3. Emotion-aligned Response Generation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4.3</span></a>). Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.F2" title="Figure 2 ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">2</span></a> shows an overview of ECR.</p>
</div>
<figure class="ltx_figure" id="S4.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="328" id="S4.F2.g1" src="x2.png" width="830"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Overview of ECR. ECR has two key modules: (i) emotion-aware item recommendation for better user preference understanding, and (ii) emotion-aligned response generation for engaging conversations.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F2.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F2.2">The framework of ECR.</p>
</div>
</div>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Empathetic Data Enlargement</h3>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1. </span>User Emotion Extraction</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.7">Existing datasets lack explicit supervisory signals for identifying user emotions.
To address the problem, we employ GPT-3.5-turbo <cite class="ltx_cite ltx_citemacro_citep">(Zoph et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib62" title="">2022</a>)</cite> to initially annotate user emotions in 5,082 utterances from the ReDial dataset.
We limit the number of annotated emotions per utterance to a maximum of two labels. In annotating with GPT-3.5-turbo <cite class="ltx_cite ltx_citemacro_citep">(Zoph et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib62" title="">2022</a>)</cite> for utterance-level user emotions, we adopted nine emotion labels: “like,” “curious,” “happy,” “grateful,” “negative,” “neutral,” “nostalgia,” “agreement,” and “surprise.”
The “negative” label, denoting adverse emotions, accounted for 8.0%. See Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.SS1" title="A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">A.1</span></a> for a more detailed annotation process.
Based on the annotations, we fine-tune a GPT-2 model, which achieves 87.75% in terms of Recall@2 in categorizing emotions.
We applied this model to annotate emotions for each user utterance <math alttext="u_{k}^{u}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.1.m1.1"><semantics id="S4.SS1.SSS1.p1.1.m1.1a"><msubsup id="S4.SS1.SSS1.p1.1.m1.1.1" xref="S4.SS1.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS1.p1.1.m1.1.1.2.2" xref="S4.SS1.SSS1.p1.1.m1.1.1.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.1.m1.1.1.2.3" xref="S4.SS1.SSS1.p1.1.m1.1.1.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.1.m1.1b"><apply id="S4.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1">superscript</csymbol><apply id="S4.SS1.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.1.m1.1.1.2.2.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.1.m1.1c">u_{k}^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.1.m1.1d">italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math> in the ReDial dataset and set a threshold <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.2.m2.1"><semantics id="S4.SS1.SSS1.p1.2.m2.1a"><mi id="S4.SS1.SSS1.p1.2.m2.1.1" xref="S4.SS1.SSS1.p1.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.2.m2.1b"><ci id="S4.SS1.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS1.p1.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.2.m2.1d">italic_β</annotation></semantics></math> to retain relevant emotion label <math alttext="f" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.3.m3.1"><semantics id="S4.SS1.SSS1.p1.3.m3.1a"><mi id="S4.SS1.SSS1.p1.3.m3.1.1" xref="S4.SS1.SSS1.p1.3.m3.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.3.m3.1b"><ci id="S4.SS1.SSS1.p1.3.m3.1.1.cmml" xref="S4.SS1.SSS1.p1.3.m3.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.3.m3.1c">f</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.3.m3.1d">italic_f</annotation></semantics></math>.
For each utterance <math alttext="u_{k}^{u}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.4.m4.1"><semantics id="S4.SS1.SSS1.p1.4.m4.1a"><msubsup id="S4.SS1.SSS1.p1.4.m4.1.1" xref="S4.SS1.SSS1.p1.4.m4.1.1.cmml"><mi id="S4.SS1.SSS1.p1.4.m4.1.1.2.2" xref="S4.SS1.SSS1.p1.4.m4.1.1.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.4.m4.1.1.2.3" xref="S4.SS1.SSS1.p1.4.m4.1.1.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.4.m4.1.1.3" xref="S4.SS1.SSS1.p1.4.m4.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.4.m4.1b"><apply id="S4.SS1.SSS1.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.4.m4.1.1.1.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1">superscript</csymbol><apply id="S4.SS1.SSS1.p1.4.m4.1.1.2.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.4.m4.1.1.2.1.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.4.m4.1.1.2.2.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.4.m4.1.1.2.3.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.4.m4.1.1.3.cmml" xref="S4.SS1.SSS1.p1.4.m4.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.4.m4.1c">u_{k}^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.4.m4.1d">italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math>, we obtain its utterance-level user emotions <math alttext="\mathcal{F}_{u_{k}^{u}}=\{f_{j}\}_{j=1}^{|\mathcal{F}_{u_{k}^{u}}|}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.5.m5.2"><semantics id="S4.SS1.SSS1.p1.5.m5.2a"><mrow id="S4.SS1.SSS1.p1.5.m5.2.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.cmml"><msub id="S4.SS1.SSS1.p1.5.m5.2.2.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.5.m5.2.2.3.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.2.cmml">ℱ</mi><msubsup id="S4.SS1.SSS1.p1.5.m5.2.2.3.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.cmml"><mi id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.5.m5.2.2.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.2.cmml">=</mo><msubsup id="S4.SS1.SSS1.p1.5.m5.2.2.1" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.cmml"><mrow id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.2.cmml"><mo id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.2.cmml">f</mi><mi id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.2" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.1" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.3" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS1.p1.5.m5.1.1.1.1" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.2.cmml"><mo id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.2" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.2.cmml">ℱ</mi><msubsup id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.2" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.3" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.3" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.5.m5.2b"><apply id="S4.SS1.SSS1.p1.5.m5.2.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2"><eq id="S4.SS1.SSS1.p1.5.m5.2.2.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.2"></eq><apply id="S4.SS1.SSS1.p1.5.m5.2.2.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.3.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.5.m5.2.2.3.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.2">ℱ</ci><apply id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.5.m5.2.2.3.3.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.3.3.3">𝑢</ci></apply></apply><apply id="S4.SS1.SSS1.p1.5.m5.2.2.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1">superscript</csymbol><apply id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1">subscript</csymbol><set id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1"><apply id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.2">𝑓</ci><ci id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3"><eq id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.1"></eq><ci id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.2">𝑗</ci><cn id="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS1.SSS1.p1.5.m5.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS1.SSS1.p1.5.m5.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1"><abs id="S4.SS1.SSS1.p1.5.m5.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.2"></abs><apply id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.2">ℱ</ci><apply id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.1.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.2.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.3.cmml" xref="S4.SS1.SSS1.p1.5.m5.1.1.1.1.1.3.3">𝑢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.5.m5.2c">\mathcal{F}_{u_{k}^{u}}=\{f_{j}\}_{j=1}^{|\mathcal{F}_{u_{k}^{u}}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.5.m5.2d">caligraphic_F start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT = { italic_f start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_F start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT</annotation></semantics></math>, along with the probabilities associated with each emotional label, denoted as <math alttext="\mathcal{P}_{u_{k}^{u}}=\{p_{j}\}_{j=1}^{|\mathcal{P}_{u_{k}^{u}}|}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.6.m6.2"><semantics id="S4.SS1.SSS1.p1.6.m6.2a"><mrow id="S4.SS1.SSS1.p1.6.m6.2.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.cmml"><msub id="S4.SS1.SSS1.p1.6.m6.2.2.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.6.m6.2.2.3.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.2.cmml">𝒫</mi><msubsup id="S4.SS1.SSS1.p1.6.m6.2.2.3.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.cmml"><mi id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.6.m6.2.2.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.2.cmml">=</mo><msubsup id="S4.SS1.SSS1.p1.6.m6.2.2.1" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.cmml"><mrow id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.2.cmml"><mo id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.2" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.1" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.3" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS1.p1.6.m6.1.1.1.1" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.2.cmml"><mo id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.2" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.2.cmml">𝒫</mi><msubsup id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.2" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.3" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.3" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.6.m6.2b"><apply id="S4.SS1.SSS1.p1.6.m6.2.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2"><eq id="S4.SS1.SSS1.p1.6.m6.2.2.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.2"></eq><apply id="S4.SS1.SSS1.p1.6.m6.2.2.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.3.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.6.m6.2.2.3.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.2">𝒫</ci><apply id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.6.m6.2.2.3.3.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.3.3.3">𝑢</ci></apply></apply><apply id="S4.SS1.SSS1.p1.6.m6.2.2.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1">superscript</csymbol><apply id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1">subscript</csymbol><set id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1"><apply id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3"><eq id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.1"></eq><ci id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.2">𝑗</ci><cn id="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS1.SSS1.p1.6.m6.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS1.SSS1.p1.6.m6.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1"><abs id="S4.SS1.SSS1.p1.6.m6.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.2"></abs><apply id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.2">𝒫</ci><apply id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.1.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.2.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.3.cmml" xref="S4.SS1.SSS1.p1.6.m6.1.1.1.1.1.3.3">𝑢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.6.m6.2c">\mathcal{P}_{u_{k}^{u}}=\{p_{j}\}_{j=1}^{|\mathcal{P}_{u_{k}^{u}}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.6.m6.2d">caligraphic_P start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT = { italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_P start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="|\mathcal{F}_{u_{k}^{u}}|=|\mathcal{P}_{u_{k}^{u}}|" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.7.m7.2"><semantics id="S4.SS1.SSS1.p1.7.m7.2a"><mrow id="S4.SS1.SSS1.p1.7.m7.2.2" xref="S4.SS1.SSS1.p1.7.m7.2.2.cmml"><mrow id="S4.SS1.SSS1.p1.7.m7.1.1.1.1" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.2.cmml"><mo id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.2" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.2.cmml">ℱ</mi><msubsup id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.2" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.3" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.3" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.2.1.cmml">|</mo></mrow><mo id="S4.SS1.SSS1.p1.7.m7.2.2.3" xref="S4.SS1.SSS1.p1.7.m7.2.2.3.cmml">=</mo><mrow id="S4.SS1.SSS1.p1.7.m7.2.2.2.1" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.2.cmml"><mo id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.2" stretchy="false" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.2.1.cmml">|</mo><msub id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.2" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.2.cmml">𝒫</mi><msubsup id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.2" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.2.cmml">u</mi><mi id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.3" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.3.cmml">k</mi><mi id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.3" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.3" stretchy="false" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.7.m7.2b"><apply id="S4.SS1.SSS1.p1.7.m7.2.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2"><eq id="S4.SS1.SSS1.p1.7.m7.2.2.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.3"></eq><apply id="S4.SS1.SSS1.p1.7.m7.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1"><abs id="S4.SS1.SSS1.p1.7.m7.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.2"></abs><apply id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.2">ℱ</ci><apply id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.1.1.1.1.1.3.3">𝑢</ci></apply></apply></apply><apply id="S4.SS1.SSS1.p1.7.m7.2.2.2.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1"><abs id="S4.SS1.SSS1.p1.7.m7.2.2.2.2.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.2"></abs><apply id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.2">𝒫</ci><apply id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3">superscript</csymbol><apply id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.1.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.2.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.2">𝑢</ci><ci id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.2.3">𝑘</ci></apply><ci id="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.3.cmml" xref="S4.SS1.SSS1.p1.7.m7.2.2.2.1.1.3.3">𝑢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.7.m7.2c">|\mathcal{F}_{u_{k}^{u}}|=|\mathcal{P}_{u_{k}^{u}}|</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.7.m7.2d">| caligraphic_F start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT | = | caligraphic_P start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT |</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2. </span>Emotional Response Construction.</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.10">There is an abundance of reviews about consumer experiences on the web.
These reviews are frequently imbued with the writers’ personal experiences and emotions, with comprehensive information about various facets of the items being reviewed. Hence, emotional reviews serve as optimal resources for emotional responses.
Considering the emphasis of our study is on recommendation task and positive emotions contribute more to effectively persuasive and engaging interactions <cite class="ltx_cite ltx_citemacro_citep">(Kwortnik and Ross, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib22" title="">2007</a>)</cite>, we only adopted top-rated (10/10) reviews rich in positive emotions, rather than expressing different types of emotions according to user emotions.
To construct a emotional review database <math alttext="R" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.1.m1.1"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><mi id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><ci id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.1.m1.1d">italic_R</annotation></semantics></math>, we collect movie reviews from IMDb.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.imdb.com/" title="">https://www.imdb.com/</a></span></span></span>
Each emotional review is retrieved according to the item <math alttext="i_{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.2.m2.1"><semantics id="S4.SS1.SSS2.p1.2.m2.1a"><msub id="S4.SS1.SSS2.p1.2.m2.1.1" xref="S4.SS1.SSS2.p1.2.m2.1.1.cmml"><mi id="S4.SS1.SSS2.p1.2.m2.1.1.2" xref="S4.SS1.SSS2.p1.2.m2.1.1.2.cmml">i</mi><mi id="S4.SS1.SSS2.p1.2.m2.1.1.3" xref="S4.SS1.SSS2.p1.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.2.m2.1b"><apply id="S4.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1.2">𝑖</ci><ci id="S4.SS1.SSS2.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.2.m2.1c">i_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.2.m2.1d">italic_i start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> in the training dataset. The constructed emotional review database <math alttext="R=\{r_{j}\}^{|R|}_{j=1}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.3.m3.2"><semantics id="S4.SS1.SSS2.p1.3.m3.2a"><mrow id="S4.SS1.SSS2.p1.3.m3.2.2" xref="S4.SS1.SSS2.p1.3.m3.2.2.cmml"><mi id="S4.SS1.SSS2.p1.3.m3.2.2.3" xref="S4.SS1.SSS2.p1.3.m3.2.2.3.cmml">R</mi><mo id="S4.SS1.SSS2.p1.3.m3.2.2.2" xref="S4.SS1.SSS2.p1.3.m3.2.2.2.cmml">=</mo><msubsup id="S4.SS1.SSS2.p1.3.m3.2.2.1" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.cmml"><mrow id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.2.cmml">r</mi><mi id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS2.p1.3.m3.2.2.1.3" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.cmml"><mi id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.2" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.1" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.3" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS2.p1.3.m3.1.1.1.3" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.3.m3.1.1.1.3.1" stretchy="false" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.2.1.cmml">|</mo><mi id="S4.SS1.SSS2.p1.3.m3.1.1.1.1" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.1.cmml">R</mi><mo id="S4.SS1.SSS2.p1.3.m3.1.1.1.3.2" stretchy="false" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.3.m3.2b"><apply id="S4.SS1.SSS2.p1.3.m3.2.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2"><eq id="S4.SS1.SSS2.p1.3.m3.2.2.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.2"></eq><ci id="S4.SS1.SSS2.p1.3.m3.2.2.3.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.3">𝑅</ci><apply id="S4.SS1.SSS2.p1.3.m3.2.2.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.3.m3.2.2.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1">subscript</csymbol><apply id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1">superscript</csymbol><set id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1"><apply id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.2">𝑟</ci><ci id="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS1.SSS2.p1.3.m3.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.3"><abs id="S4.SS1.SSS2.p1.3.m3.1.1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.3.1"></abs><ci id="S4.SS1.SSS2.p1.3.m3.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.1.1.1.1">𝑅</ci></apply></apply><apply id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3"><eq id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.1.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.1"></eq><ci id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.2.cmml" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.2">𝑗</ci><cn id="S4.SS1.SSS2.p1.3.m3.2.2.1.3.3.cmml" type="integer" xref="S4.SS1.SSS2.p1.3.m3.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.3.m3.2c">R=\{r_{j}\}^{|R|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.3.m3.2d">italic_R = { italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_R | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> comprises a sequence of emotional review sentences. Each emotional review sentence <math alttext="r=\{w_{j}\}^{|r|}_{j=1}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.4.m4.2"><semantics id="S4.SS1.SSS2.p1.4.m4.2a"><mrow id="S4.SS1.SSS2.p1.4.m4.2.2" xref="S4.SS1.SSS2.p1.4.m4.2.2.cmml"><mi id="S4.SS1.SSS2.p1.4.m4.2.2.3" xref="S4.SS1.SSS2.p1.4.m4.2.2.3.cmml">r</mi><mo id="S4.SS1.SSS2.p1.4.m4.2.2.2" xref="S4.SS1.SSS2.p1.4.m4.2.2.2.cmml">=</mo><msubsup id="S4.SS1.SSS2.p1.4.m4.2.2.1" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.cmml"><mrow id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.2.cmml">w</mi><mi id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS2.p1.4.m4.2.2.1.3" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.cmml"><mi id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.2" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.1" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.3" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS2.p1.4.m4.1.1.1.3" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.4.m4.1.1.1.3.1" stretchy="false" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.2.1.cmml">|</mo><mi id="S4.SS1.SSS2.p1.4.m4.1.1.1.1" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.1.cmml">r</mi><mo id="S4.SS1.SSS2.p1.4.m4.1.1.1.3.2" stretchy="false" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.4.m4.2b"><apply id="S4.SS1.SSS2.p1.4.m4.2.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2"><eq id="S4.SS1.SSS2.p1.4.m4.2.2.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.2"></eq><ci id="S4.SS1.SSS2.p1.4.m4.2.2.3.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.3">𝑟</ci><apply id="S4.SS1.SSS2.p1.4.m4.2.2.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.4.m4.2.2.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1">subscript</csymbol><apply id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1">superscript</csymbol><set id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1"><apply id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.2">𝑤</ci><ci id="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS1.SSS2.p1.4.m4.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.3"><abs id="S4.SS1.SSS2.p1.4.m4.1.1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.3.1"></abs><ci id="S4.SS1.SSS2.p1.4.m4.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.1.1.1.1">𝑟</ci></apply></apply><apply id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3"><eq id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.1.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.1"></eq><ci id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.2.cmml" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.2">𝑗</ci><cn id="S4.SS1.SSS2.p1.4.m4.2.2.1.3.3.cmml" type="integer" xref="S4.SS1.SSS2.p1.4.m4.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.4.m4.2c">r=\{w_{j}\}^{|r|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.4.m4.2d">italic_r = { italic_w start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_r | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> consists of a sequence of words. From each emotional review sentence <math alttext="r" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.5.m5.1"><semantics id="S4.SS1.SSS2.p1.5.m5.1a"><mi id="S4.SS1.SSS2.p1.5.m5.1.1" xref="S4.SS1.SSS2.p1.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.5.m5.1b"><ci id="S4.SS1.SSS2.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS2.p1.5.m5.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.5.m5.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.5.m5.1d">italic_r</annotation></semantics></math>, we extract a list of entities <math alttext="E_{r}=\{e_{j}\}^{|E_{r}|}_{j=1},e_{j}\in\mathcal{E}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.6.m6.3"><semantics id="S4.SS1.SSS2.p1.6.m6.3a"><mrow id="S4.SS1.SSS2.p1.6.m6.3.3.2" xref="S4.SS1.SSS2.p1.6.m6.3.3.3.cmml"><mrow id="S4.SS1.SSS2.p1.6.m6.2.2.1.1" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.cmml"><msub id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.cmml"><mi id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.2" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.2.cmml">E</mi><mi id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.3" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.3.cmml">r</mi></msub><mo id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.2" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.2.cmml">=</mo><msubsup id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.cmml"><mrow id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.2.cmml">{</mo><msub id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.cmml"><mi id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.2" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.1" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.3" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS2.p1.6.m6.1.1.1.1" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.2.cmml">E</mi><mi id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.3.cmml">r</mi></msub><mo id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><mo id="S4.SS1.SSS2.p1.6.m6.3.3.2.3" xref="S4.SS1.SSS2.p1.6.m6.3.3.3a.cmml">,</mo><mrow id="S4.SS1.SSS2.p1.6.m6.3.3.2.2" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.cmml"><msub id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.cmml"><mi id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.2" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.2.cmml">e</mi><mi id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.3" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.1" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.3" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.3.cmml">ℰ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.6.m6.3b"><apply id="S4.SS1.SSS2.p1.6.m6.3.3.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.3.3.3a.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.3">formulae-sequence</csymbol><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1"><eq id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.2"></eq><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.2">𝐸</ci><ci id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.3.3">𝑟</ci></apply><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1">subscript</csymbol><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1">superscript</csymbol><set id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1"><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.2">𝑒</ci><ci id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS1.SSS2.p1.6.m6.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1"><abs id="S4.SS1.SSS2.p1.6.m6.1.1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.2"></abs><apply id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.2">𝐸</ci><ci id="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.1.1.1.1.1.3">𝑟</ci></apply></apply></apply><apply id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3"><eq id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.1"></eq><ci id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.2">𝑗</ci><cn id="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.3.cmml" type="integer" xref="S4.SS1.SSS2.p1.6.m6.2.2.1.1.1.3.3">1</cn></apply></apply></apply><apply id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2"><in id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.1"></in><apply id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.1.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2">subscript</csymbol><ci id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.2.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.2">𝑒</ci><ci id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.2.3">𝑗</ci></apply><ci id="S4.SS1.SSS2.p1.6.m6.3.3.2.2.3.cmml" xref="S4.SS1.SSS2.p1.6.m6.3.3.2.2.3">ℰ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.6.m6.3c">E_{r}=\{e_{j}\}^{|E_{r}|}_{j=1},e_{j}\in\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.6.m6.3d">italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT = { italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_E</annotation></semantics></math>. We then retrieve a set of knowledge triples <math alttext="\mathcal{T}_{r}=\{\langle i_{r},l,e_{j}\rangle,e_{j}\in E_{r}\}^{|\mathcal{T}_%
{r}|}_{j=1}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.7.m7.3"><semantics id="S4.SS1.SSS2.p1.7.m7.3a"><mrow id="S4.SS1.SSS2.p1.7.m7.3.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.cmml"><msub id="S4.SS1.SSS2.p1.7.m7.3.3.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS2.p1.7.m7.3.3.3.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.3.2.cmml">𝒯</mi><mi id="S4.SS1.SSS2.p1.7.m7.3.3.3.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.3.3.cmml">r</mi></msub><mo id="S4.SS1.SSS2.p1.7.m7.3.3.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.2.cmml">=</mo><msubsup id="S4.SS1.SSS2.p1.7.m7.3.3.1" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.cmml"><mrow id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.2.cmml">{</mo><mrow id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.cmml"><mrow id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.3.cmml"><mrow id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml"><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml">⟨</mo><msub id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">r</mi></msub><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.4" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml">,</mo><mi id="S4.SS1.SSS2.p1.7.m7.2.2" xref="S4.SS1.SSS2.p1.7.m7.2.2.cmml">l</mi><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.5" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml">e</mi><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.6" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml">⟩</mo></mrow><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.3.cmml">j</mi></msub></mrow><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.3.cmml">∈</mo><msub id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.cmml"><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.2.cmml">E</mi><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.3.cmml">r</mi></msub></mrow><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.SSS2.p1.7.m7.3.3.1.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.cmml"><mi id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.2" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.2.cmml">j</mi><mo id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.1" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.1.cmml">=</mo><mn id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.3" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.SSS2.p1.7.m7.1.1.1.1" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.2.cmml"><mo id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.2" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.2" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.2.cmml">𝒯</mi><mi id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.3" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.3.cmml">r</mi></msub><mo id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.3" stretchy="false" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.7.m7.3b"><apply id="S4.SS1.SSS2.p1.7.m7.3.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3"><eq id="S4.SS1.SSS2.p1.7.m7.3.3.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.2"></eq><apply id="S4.SS1.SSS2.p1.7.m7.3.3.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.3"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.3.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.3">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.3.3.3.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.3.2">𝒯</ci><ci id="S4.SS1.SSS2.p1.7.m7.3.3.3.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.3.3">𝑟</ci></apply><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1">subscript</csymbol><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1">superscript</csymbol><set id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1"><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1"><in id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.3"></in><list id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2"><list id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2"><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑖</ci><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.1.1.3">𝑟</ci></apply><ci id="S4.SS1.SSS2.p1.7.m7.2.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.2.2">𝑙</ci><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.2">𝑒</ci><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.1.1.1.2.2.3">𝑗</ci></apply></list><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.2">𝑒</ci><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.2.2.2.3">𝑗</ci></apply></list><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.2">𝐸</ci><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.1.1.1.1.4.3">𝑟</ci></apply></apply></set><apply id="S4.SS1.SSS2.p1.7.m7.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1"><abs id="S4.SS1.SSS2.p1.7.m7.1.1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.2"></abs><apply id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.2">𝒯</ci><ci id="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.1.1.1.1.1.3">𝑟</ci></apply></apply></apply><apply id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3"><eq id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.1.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.1"></eq><ci id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.2.cmml" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.2">𝑗</ci><cn id="S4.SS1.SSS2.p1.7.m7.3.3.1.3.3.cmml" type="integer" xref="S4.SS1.SSS2.p1.7.m7.3.3.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.7.m7.3c">\mathcal{T}_{r}=\{\langle i_{r},l,e_{j}\rangle,e_{j}\in E_{r}\}^{|\mathcal{T}_%
{r}|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.7.m7.3d">caligraphic_T start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT = { ⟨ italic_i start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_l , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ⟩ , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | caligraphic_T start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> from the knowledge graph <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.8.m8.1"><semantics id="S4.SS1.SSS2.p1.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS2.p1.8.m8.1.1" xref="S4.SS1.SSS2.p1.8.m8.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.8.m8.1b"><ci id="S4.SS1.SSS2.p1.8.m8.1.1.cmml" xref="S4.SS1.SSS2.p1.8.m8.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.8.m8.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.8.m8.1d">caligraphic_G</annotation></semantics></math>, where the item <math alttext="i_{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.9.m9.1"><semantics id="S4.SS1.SSS2.p1.9.m9.1a"><msub id="S4.SS1.SSS2.p1.9.m9.1.1" xref="S4.SS1.SSS2.p1.9.m9.1.1.cmml"><mi id="S4.SS1.SSS2.p1.9.m9.1.1.2" xref="S4.SS1.SSS2.p1.9.m9.1.1.2.cmml">i</mi><mi id="S4.SS1.SSS2.p1.9.m9.1.1.3" xref="S4.SS1.SSS2.p1.9.m9.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.9.m9.1b"><apply id="S4.SS1.SSS2.p1.9.m9.1.1.cmml" xref="S4.SS1.SSS2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.9.m9.1.1.1.cmml" xref="S4.SS1.SSS2.p1.9.m9.1.1">subscript</csymbol><ci id="S4.SS1.SSS2.p1.9.m9.1.1.2.cmml" xref="S4.SS1.SSS2.p1.9.m9.1.1.2">𝑖</ci><ci id="S4.SS1.SSS2.p1.9.m9.1.1.3.cmml" xref="S4.SS1.SSS2.p1.9.m9.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.9.m9.1c">i_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.9.m9.1d">italic_i start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> is the head entity, the entity <math alttext="e_{j}\in E_{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.10.m10.1"><semantics id="S4.SS1.SSS2.p1.10.m10.1a"><mrow id="S4.SS1.SSS2.p1.10.m10.1.1" xref="S4.SS1.SSS2.p1.10.m10.1.1.cmml"><msub id="S4.SS1.SSS2.p1.10.m10.1.1.2" xref="S4.SS1.SSS2.p1.10.m10.1.1.2.cmml"><mi id="S4.SS1.SSS2.p1.10.m10.1.1.2.2" xref="S4.SS1.SSS2.p1.10.m10.1.1.2.2.cmml">e</mi><mi id="S4.SS1.SSS2.p1.10.m10.1.1.2.3" xref="S4.SS1.SSS2.p1.10.m10.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS1.SSS2.p1.10.m10.1.1.1" xref="S4.SS1.SSS2.p1.10.m10.1.1.1.cmml">∈</mo><msub id="S4.SS1.SSS2.p1.10.m10.1.1.3" xref="S4.SS1.SSS2.p1.10.m10.1.1.3.cmml"><mi id="S4.SS1.SSS2.p1.10.m10.1.1.3.2" xref="S4.SS1.SSS2.p1.10.m10.1.1.3.2.cmml">E</mi><mi id="S4.SS1.SSS2.p1.10.m10.1.1.3.3" xref="S4.SS1.SSS2.p1.10.m10.1.1.3.3.cmml">r</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.10.m10.1b"><apply id="S4.SS1.SSS2.p1.10.m10.1.1.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1"><in id="S4.SS1.SSS2.p1.10.m10.1.1.1.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.1"></in><apply id="S4.SS1.SSS2.p1.10.m10.1.1.2.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.10.m10.1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.2">subscript</csymbol><ci id="S4.SS1.SSS2.p1.10.m10.1.1.2.2.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.2.2">𝑒</ci><ci id="S4.SS1.SSS2.p1.10.m10.1.1.2.3.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.2.3">𝑗</ci></apply><apply id="S4.SS1.SSS2.p1.10.m10.1.1.3.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.10.m10.1.1.3.1.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.3">subscript</csymbol><ci id="S4.SS1.SSS2.p1.10.m10.1.1.3.2.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.3.2">𝐸</ci><ci id="S4.SS1.SSS2.p1.10.m10.1.1.3.3.cmml" xref="S4.SS1.SSS2.p1.10.m10.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.10.m10.1c">e_{j}\in E_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.10.m10.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> is the tail entity.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Emotion-aware Item Recommendation</h3>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1. </span>Emotion-aware Entity Representation</h4>
<div class="ltx_para" id="S4.SS2.SSS1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.p1.2">Entities are essential for reflecting user preferences.
Thus we aim to model the effect of user emotions on the entities.
Since local entities <math alttext="E_{l}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.1.m1.1"><semantics id="S4.SS2.SSS1.p1.1.m1.1a"><msub id="S4.SS2.SSS1.p1.1.m1.1.1" xref="S4.SS2.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS2.SSS1.p1.1.m1.1.1.2" xref="S4.SS2.SSS1.p1.1.m1.1.1.2.cmml">E</mi><mi id="S4.SS2.SSS1.p1.1.m1.1.1.3" xref="S4.SS2.SSS1.p1.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.1.m1.1b"><apply id="S4.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1.2">𝐸</ci><ci id="S4.SS2.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.1.m1.1c">E_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.1.m1.1d">italic_E start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> only reflect user interest exhibited in the ongoing dialogue <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.2.m2.1"><semantics id="S4.SS2.SSS1.p1.2.m2.1a"><msub id="S4.SS2.SSS1.p1.2.m2.1.1" xref="S4.SS2.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p1.2.m2.1.1.2" xref="S4.SS2.SSS1.p1.2.m2.1.1.2.cmml">D</mi><mrow id="S4.SS2.SSS1.p1.2.m2.1.1.3" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.cmml"><mi id="S4.SS2.SSS1.p1.2.m2.1.1.3.2" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S4.SS2.SSS1.p1.2.m2.1.1.3.1" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S4.SS2.SSS1.p1.2.m2.1.1.3.3" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.2.m2.1b"><apply id="S4.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1.2">𝐷</ci><apply id="S4.SS2.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1.3"><minus id="S4.SS2.SSS1.p1.2.m2.1.1.3.1.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.1"></minus><ci id="S4.SS2.SSS1.p1.2.m2.1.1.3.2.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.2">𝑡</ci><cn id="S4.SS2.SSS1.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.2.m2.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, which is insufficient for comprehensively exploring user preferences, we collect global entities from the training dataset filtered by user emotions, which encompass the collaborative knowledge shared by all users.
In general, we model the effect of user emotions on entities both in the dialogue history and in the training data, respectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.SSS1.p2">
<p class="ltx_p" id="S4.SS2.SSS1.p2.7"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS1.p2.7.1">Local emotion-aware entity representing.</span> To model the effect of user emotions on local entities, we characterize utterance-level user emotions <math alttext="\mathcal{F}_{u_{k}^{u}}=\{f_{j}\}_{j=1}^{|\mathcal{F}_{u_{k}^{u}}|}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.1.m1.2"><semantics id="S4.SS2.SSS1.p2.1.m1.2a"><mrow id="S4.SS2.SSS1.p2.1.m1.2.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.cmml"><msub id="S4.SS2.SSS1.p2.1.m1.2.2.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.1.m1.2.2.3.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.2.cmml">ℱ</mi><msubsup id="S4.SS2.SSS1.p2.1.m1.2.2.3.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.cmml"><mi id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.2.cmml">u</mi><mi id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.3.cmml">k</mi><mi id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS2.SSS1.p2.1.m1.2.2.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.2.cmml">=</mo><msubsup id="S4.SS2.SSS1.p2.1.m1.2.2.1" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.cmml"><mrow id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.2.cmml">f</mi><mi id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.2.cmml">j</mi><mo id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.1" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.3" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS2.SSS1.p2.1.m1.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.2.cmml">ℱ</mi><msubsup id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.2" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.2.cmml">u</mi><mi id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.3" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.3.cmml">k</mi><mi id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.3.cmml">u</mi></msubsup></msub><mo id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.1.m1.2b"><apply id="S4.SS2.SSS1.p2.1.m1.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2"><eq id="S4.SS2.SSS1.p2.1.m1.2.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.2"></eq><apply id="S4.SS2.SSS1.p2.1.m1.2.2.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.2.2.3.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.2">ℱ</ci><apply id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3">superscript</csymbol><apply id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.2">𝑢</ci><ci id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.2.3">𝑘</ci></apply><ci id="S4.SS2.SSS1.p2.1.m1.2.2.3.3.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.3.3.3">𝑢</ci></apply></apply><apply id="S4.SS2.SSS1.p2.1.m1.2.2.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1">subscript</csymbol><set id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1"><apply id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.2">𝑓</ci><ci id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3"><eq id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.1"></eq><ci id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.2">𝑗</ci><cn id="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p2.1.m1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS2.SSS1.p2.1.m1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1"><abs id="S4.SS2.SSS1.p2.1.m1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.2"></abs><apply id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.2">ℱ</ci><apply id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.2">𝑢</ci><ci id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1.1.1.1.3.3">𝑢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.1.m1.2c">\mathcal{F}_{u_{k}^{u}}=\{f_{j}\}_{j=1}^{|\mathcal{F}_{u_{k}^{u}}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.1.m1.2d">caligraphic_F start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT = { italic_f start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_F start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT</annotation></semantics></math> as reflecting emotions towards entities mentioned by the user in the current utterance <math alttext="E_{k}^{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.2.m2.1"><semantics id="S4.SS2.SSS1.p2.2.m2.1a"><msubsup id="S4.SS2.SSS1.p2.2.m2.1.1" xref="S4.SS2.SSS1.p2.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p2.2.m2.1.1.2.2" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.2.cmml">E</mi><mi id="S4.SS2.SSS1.p2.2.m2.1.1.2.3" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.3.cmml">k</mi><mi id="S4.SS2.SSS1.p2.2.m2.1.1.3" xref="S4.SS2.SSS1.p2.2.m2.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.2.m2.1b"><apply id="S4.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.2.m2.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.2.m2.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.2">𝐸</ci><ci id="S4.SS2.SSS1.p2.2.m2.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.3">𝑘</ci></apply><ci id="S4.SS2.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.2.m2.1c">E_{k}^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.2.m2.1d">italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math> and by the recommender in the preceding one <math alttext="E_{k}^{r}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.3.m3.1"><semantics id="S4.SS2.SSS1.p2.3.m3.1a"><msubsup id="S4.SS2.SSS1.p2.3.m3.1.1" xref="S4.SS2.SSS1.p2.3.m3.1.1.cmml"><mi id="S4.SS2.SSS1.p2.3.m3.1.1.2.2" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.2.cmml">E</mi><mi id="S4.SS2.SSS1.p2.3.m3.1.1.2.3" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.3.cmml">k</mi><mi id="S4.SS2.SSS1.p2.3.m3.1.1.3" xref="S4.SS2.SSS1.p2.3.m3.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.3.m3.1b"><apply id="S4.SS2.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.3.m3.1.1.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.3.m3.1.1.2.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.3.m3.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.3.m3.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.2">𝐸</ci><ci id="S4.SS2.SSS1.p2.3.m3.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.3">𝑘</ci></apply><ci id="S4.SS2.SSS1.p2.3.m3.1.1.3.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.3.m3.1c">E_{k}^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.3.m3.1d">italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>. Consequently, each local entity <math alttext="e_{j}\in E_{l}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.4.m4.1"><semantics id="S4.SS2.SSS1.p2.4.m4.1a"><mrow id="S4.SS2.SSS1.p2.4.m4.1.1" xref="S4.SS2.SSS1.p2.4.m4.1.1.cmml"><msub id="S4.SS2.SSS1.p2.4.m4.1.1.2" xref="S4.SS2.SSS1.p2.4.m4.1.1.2.cmml"><mi id="S4.SS2.SSS1.p2.4.m4.1.1.2.2" xref="S4.SS2.SSS1.p2.4.m4.1.1.2.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.4.m4.1.1.2.3" xref="S4.SS2.SSS1.p2.4.m4.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p2.4.m4.1.1.1" xref="S4.SS2.SSS1.p2.4.m4.1.1.1.cmml">∈</mo><msub id="S4.SS2.SSS1.p2.4.m4.1.1.3" xref="S4.SS2.SSS1.p2.4.m4.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.4.m4.1.1.3.2" xref="S4.SS2.SSS1.p2.4.m4.1.1.3.2.cmml">E</mi><mi id="S4.SS2.SSS1.p2.4.m4.1.1.3.3" xref="S4.SS2.SSS1.p2.4.m4.1.1.3.3.cmml">l</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.4.m4.1b"><apply id="S4.SS2.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1"><in id="S4.SS2.SSS1.p2.4.m4.1.1.1.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.1"></in><apply id="S4.SS2.SSS1.p2.4.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.4.m4.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p2.4.m4.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.2.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.4.m4.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.2.3">𝑗</ci></apply><apply id="S4.SS2.SSS1.p2.4.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.4.m4.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.4.m4.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.3.2">𝐸</ci><ci id="S4.SS2.SSS1.p2.4.m4.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.4.m4.1c">e_{j}\in E_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.4.m4.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ italic_E start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> is linked to an utterance-level user emotions, represented as <math alttext="\mathcal{F}_{e_{j}}=\{f_{i}\}_{i=1}^{|\mathcal{F}_{e_{j}}|}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.5.m5.2"><semantics id="S4.SS2.SSS1.p2.5.m5.2a"><mrow id="S4.SS2.SSS1.p2.5.m5.2.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.cmml"><msub id="S4.SS2.SSS1.p2.5.m5.2.2.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.5.m5.2.2.3.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.2.cmml">ℱ</mi><msub id="S4.SS2.SSS1.p2.5.m5.2.2.3.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3.cmml"><mi id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p2.5.m5.2.2.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.2.cmml">=</mo><msubsup id="S4.SS2.SSS1.p2.5.m5.2.2.1" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.cmml"><mrow id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.2.cmml">f</mi><mi id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.2" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.1" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.3" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS2.SSS1.p2.5.m5.1.1.1.1" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.2.1.cmml">|</mo><msub id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.2.cmml">ℱ</mi><msub id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.5.m5.2b"><apply id="S4.SS2.SSS1.p2.5.m5.2.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2"><eq id="S4.SS2.SSS1.p2.5.m5.2.2.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.2"></eq><apply id="S4.SS2.SSS1.p2.5.m5.2.2.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.2.2.3.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.5.m5.2.2.3.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.2">ℱ</ci><apply id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.5.m5.2.2.3.3.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.3.3.3">𝑗</ci></apply></apply><apply id="S4.SS2.SSS1.p2.5.m5.2.2.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.2.2.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1">subscript</csymbol><set id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1"><apply id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.2">𝑓</ci><ci id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3"><eq id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.1"></eq><ci id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p2.5.m5.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS2.SSS1.p2.5.m5.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1"><abs id="S4.SS2.SSS1.p2.5.m5.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.2"></abs><apply id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.2">ℱ</ci><apply id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.5.m5.2c">\mathcal{F}_{e_{j}}=\{f_{i}\}_{i=1}^{|\mathcal{F}_{e_{j}}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.5.m5.2d">caligraphic_F start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_F start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT</annotation></semantics></math> along with corresponding probabilities <math alttext="\mathcal{P}_{e_{j}}=\{p_{i}\}_{i=1}^{|\mathcal{P}_{e_{j}}|}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.6.m6.2"><semantics id="S4.SS2.SSS1.p2.6.m6.2a"><mrow id="S4.SS2.SSS1.p2.6.m6.2.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.cmml"><msub id="S4.SS2.SSS1.p2.6.m6.2.2.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.6.m6.2.2.3.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.2.cmml">𝒫</mi><msub id="S4.SS2.SSS1.p2.6.m6.2.2.3.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p2.6.m6.2.2.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.2.cmml">=</mo><msubsup id="S4.SS2.SSS1.p2.6.m6.2.2.1" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.cmml"><mrow id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.2" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.1" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.3" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS2.SSS1.p2.6.m6.1.1.1.1" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.2.1.cmml">|</mo><msub id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.2.cmml">𝒫</mi><msub id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.6.m6.2b"><apply id="S4.SS2.SSS1.p2.6.m6.2.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2"><eq id="S4.SS2.SSS1.p2.6.m6.2.2.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.2"></eq><apply id="S4.SS2.SSS1.p2.6.m6.2.2.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.2.2.3.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.2.2.3.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.2">𝒫</ci><apply id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.6.m6.2.2.3.3.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.3.3.3">𝑗</ci></apply></apply><apply id="S4.SS2.SSS1.p2.6.m6.2.2.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.2.2.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1">subscript</csymbol><set id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1"><apply id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3"><eq id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.1"></eq><ci id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p2.6.m6.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS2.SSS1.p2.6.m6.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1"><abs id="S4.SS2.SSS1.p2.6.m6.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.2"></abs><apply id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.2">𝒫</ci><apply id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.6.m6.2c">\mathcal{P}_{e_{j}}=\{p_{i}\}_{i=1}^{|\mathcal{P}_{e_{j}}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.6.m6.2d">caligraphic_P start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_P start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT</annotation></semantics></math>.
Hence, we calculate the user emotion representation of each local entity <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.7.m7.1"><semantics id="S4.SS2.SSS1.p2.7.m7.1a"><msub id="S4.SS2.SSS1.p2.7.m7.1.1" xref="S4.SS2.SSS1.p2.7.m7.1.1.cmml"><mi id="S4.SS2.SSS1.p2.7.m7.1.1.2" xref="S4.SS2.SSS1.p2.7.m7.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.7.m7.1.1.3" xref="S4.SS2.SSS1.p2.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.7.m7.1b"><apply id="S4.SS2.SSS1.p2.7.m7.1.1.cmml" xref="S4.SS2.SSS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.7.m7.1.1.1.cmml" xref="S4.SS2.SSS1.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.7.m7.1.1.2.cmml" xref="S4.SS2.SSS1.p2.7.m7.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.7.m7.1.1.3.cmml" xref="S4.SS2.SSS1.p2.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.7.m7.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.7.m7.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S4.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E3X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\bm{\mathcal{F}_{e_{j}}}=\sum^{|\mathcal{F}_{e_{j}}|}_{i=1}p_{i}*%
v(f_{i})," class="ltx_Math" display="inline" id="S4.E3X.2.1.1.m1.2"><semantics id="S4.E3X.2.1.1.m1.2a"><mrow id="S4.E3X.2.1.1.m1.2.2.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S4.E3X.2.1.1.m1.2.2.1.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.cmml"><msub id="S4.E3X.2.1.1.m1.2.2.1.1.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3X.2.1.1.m1.2.2.1.1.3.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.2.cmml">𝓕</mi><msub id="S4.E3X.2.1.1.m1.2.2.1.1.3.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3.cmml"><mi id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3.2.cmml">𝒆</mi><mi id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3.3.cmml">𝒋</mi></msub></msub><mo id="S4.E3X.2.1.1.m1.2.2.1.1.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S4.E3X.2.1.1.m1.2.2.1.1.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S4.E3X.2.1.1.m1.2.2.1.1.1.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.cmml"><munderover id="S4.E3X.2.1.1.m1.2.2.1.1.1.2a" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.cmml"><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.2" movablelimits="false" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.cmml"><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.2.cmml">i</mi><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.1.cmml">=</mo><mn id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.3.cmml">1</mn></mrow><mrow id="S4.E3X.2.1.1.m1.1.1.1.1" xref="S4.E3X.2.1.1.m1.1.1.1.2.cmml"><mo id="S4.E3X.2.1.1.m1.1.1.1.1.2" stretchy="false" xref="S4.E3X.2.1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.E3X.2.1.1.m1.1.1.1.1.1" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3X.2.1.1.m1.1.1.1.1.1.2" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.2.cmml">ℱ</mi><msub id="S4.E3X.2.1.1.m1.1.1.1.1.1.3" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.2" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.3" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S4.E3X.2.1.1.m1.1.1.1.1.3" stretchy="false" xref="S4.E3X.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover></mstyle><mrow id="S4.E3X.2.1.1.m1.2.2.1.1.1.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.cmml"><mrow id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.cmml"><msub id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.cmml"><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.2.cmml">p</mi><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.3.cmml">i</mi></msub><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml">∗</mo><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.3.cmml">v</mi></mrow><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml">f</mi><mi id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E3X.2.1.1.m1.2.2.1.2" xref="S4.E3X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E3X.2.1.1.m1.2b"><apply id="S4.E3X.2.1.1.m1.2.2.1.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1"><eq id="S4.E3X.2.1.1.m1.2.2.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.2"></eq><apply id="S4.E3X.2.1.1.m1.2.2.1.1.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.2">𝓕</ci><apply id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3.2">𝒆</ci><ci id="S4.E3X.2.1.1.m1.2.2.1.1.3.3.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.3.3.3">𝒋</ci></apply></apply><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1"><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2">subscript</csymbol><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2">superscript</csymbol><sum id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.2.2"></sum><apply id="S4.E3X.2.1.1.m1.1.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1"><abs id="S4.E3X.2.1.1.m1.1.1.1.2.1.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.2"></abs><apply id="S4.E3X.2.1.1.m1.1.1.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.2">ℱ</ci><apply id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.E3X.2.1.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.E3X.2.1.1.m1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3"><eq id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.1"></eq><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.2">𝑖</ci><cn id="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.3.cmml" type="integer" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1"><times id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.2"></times><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3"><times id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.1"></times><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.2">𝑝</ci><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.3.3">𝑣</ci></apply><apply id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2">𝑓</ci><ci id="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3X.2.1.1.m1.2c">\displaystyle\bm{\mathcal{F}_{e_{j}}}=\sum^{|\mathcal{F}_{e_{j}}|}_{i=1}p_{i}*%
v(f_{i}),</annotation><annotation encoding="application/x-llamapun" id="S4.E3X.2.1.1.m1.2d">bold_caligraphic_F start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = ∑ start_POSTSUPERSCRIPT | caligraphic_F start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∗ italic_v ( italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.p2.12">where <math alttext="v(f_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.8.m1.1"><semantics id="S4.SS2.SSS1.p2.8.m1.1a"><mrow id="S4.SS2.SSS1.p2.8.m1.1.1" xref="S4.SS2.SSS1.p2.8.m1.1.1.cmml"><mi id="S4.SS2.SSS1.p2.8.m1.1.1.3" xref="S4.SS2.SSS1.p2.8.m1.1.1.3.cmml">v</mi><mo id="S4.SS2.SSS1.p2.8.m1.1.1.2" xref="S4.SS2.SSS1.p2.8.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p2.8.m1.1.1.1.1" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.2.cmml">f</mi><mi id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.8.m1.1b"><apply id="S4.SS2.SSS1.p2.8.m1.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1"><times id="S4.SS2.SSS1.p2.8.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.2"></times><ci id="S4.SS2.SSS1.p2.8.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.3">𝑣</ci><apply id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.2">𝑓</ci><ci id="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.8.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.8.m1.1c">v(f_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.8.m1.1d">italic_v ( italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the learnable representation of the <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.9.m2.1"><semantics id="S4.SS2.SSS1.p2.9.m2.1a"><mi id="S4.SS2.SSS1.p2.9.m2.1.1" xref="S4.SS2.SSS1.p2.9.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.9.m2.1b"><ci id="S4.SS2.SSS1.p2.9.m2.1.1.cmml" xref="S4.SS2.SSS1.p2.9.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.9.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.9.m2.1d">italic_i</annotation></semantics></math>-th emotion label in the utterance-level user emotions.
Then, we fuse the user emotion representation <math alttext="\bm{\mathcal{F}_{e_{j}}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.10.m3.1"><semantics id="S4.SS2.SSS1.p2.10.m3.1a"><msub id="S4.SS2.SSS1.p2.10.m3.1.1" xref="S4.SS2.SSS1.p2.10.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.10.m3.1.1.2" xref="S4.SS2.SSS1.p2.10.m3.1.1.2.cmml">𝓕</mi><msub id="S4.SS2.SSS1.p2.10.m3.1.1.3" xref="S4.SS2.SSS1.p2.10.m3.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.10.m3.1.1.3.2" xref="S4.SS2.SSS1.p2.10.m3.1.1.3.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p2.10.m3.1.1.3.3" xref="S4.SS2.SSS1.p2.10.m3.1.1.3.3.cmml">𝒋</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.10.m3.1b"><apply id="S4.SS2.SSS1.p2.10.m3.1.1.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.10.m3.1.1.1.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.10.m3.1.1.2.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1.2">𝓕</ci><apply id="S4.SS2.SSS1.p2.10.m3.1.1.3.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.10.m3.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.10.m3.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1.3.2">𝒆</ci><ci id="S4.SS2.SSS1.p2.10.m3.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.10.m3.1.1.3.3">𝒋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.10.m3.1c">\bm{\mathcal{F}_{e_{j}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.10.m3.1d">bold_caligraphic_F start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> with the local entity representation of <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.11.m4.1"><semantics id="S4.SS2.SSS1.p2.11.m4.1a"><msub id="S4.SS2.SSS1.p2.11.m4.1.1" xref="S4.SS2.SSS1.p2.11.m4.1.1.cmml"><mi id="S4.SS2.SSS1.p2.11.m4.1.1.2" xref="S4.SS2.SSS1.p2.11.m4.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p2.11.m4.1.1.3" xref="S4.SS2.SSS1.p2.11.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.11.m4.1b"><apply id="S4.SS2.SSS1.p2.11.m4.1.1.cmml" xref="S4.SS2.SSS1.p2.11.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.11.m4.1.1.1.cmml" xref="S4.SS2.SSS1.p2.11.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.11.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p2.11.m4.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p2.11.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p2.11.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.11.m4.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.11.m4.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to get a local emotion-aware entity representation <math alttext="\bm{\tilde{e}_{j}^{\prime}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.12.m5.1"><semantics id="S4.SS2.SSS1.p2.12.m5.1a"><msubsup id="S4.SS2.SSS1.p2.12.m5.1.1" xref="S4.SS2.SSS1.p2.12.m5.1.1.cmml"><mover accent="true" id="S4.SS2.SSS1.p2.12.m5.1.1.2.2" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2.cmml"><mi id="S4.SS2.SSS1.p2.12.m5.1.1.2.2.2" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.12.m5.1.1.2.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2.1.cmml">~</mo></mover><mi id="S4.SS2.SSS1.p2.12.m5.1.1.2.3" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.3.cmml">𝒋</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.12.m5.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p2.12.m5.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.12.m5.1b"><apply id="S4.SS2.SSS1.p2.12.m5.1.1.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.12.m5.1.1.1.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.12.m5.1.1.2.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.12.m5.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1">subscript</csymbol><apply id="S4.SS2.SSS1.p2.12.m5.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2"><ci id="S4.SS2.SSS1.p2.12.m5.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2.1">bold-~</ci><ci id="S4.SS2.SSS1.p2.12.m5.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.2.2">𝒆</ci></apply><ci id="S4.SS2.SSS1.p2.12.m5.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1.2.3">𝒋</ci></apply><ci id="S4.SS2.SSS1.p2.12.m5.1.1.3.cmml" xref="S4.SS2.SSS1.p2.12.m5.1.1.3">bold-′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.12.m5.1c">\bm{\tilde{e}_{j}^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.12.m5.1d">overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT</annotation></semantics></math>, as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\bm{\tilde{e}_{j}^{\prime}}=\left[\bm{\tilde{e}_{j}};\bm{\mathcal{F}_{e_{j}}}%
\right]\mathbf{W}_{\bm{t}}^{\top}+\bm{b}," class="ltx_Math" display="block" id="S4.E4.m1.1"><semantics id="S4.E4.m1.1a"><mrow id="S4.E4.m1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml"><mrow id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml"><msubsup id="S4.E4.m1.1.1.1.1.4" xref="S4.E4.m1.1.1.1.1.4.cmml"><mover accent="true" id="S4.E4.m1.1.1.1.1.4.2.2" xref="S4.E4.m1.1.1.1.1.4.2.2.cmml"><mi id="S4.E4.m1.1.1.1.1.4.2.2.2" xref="S4.E4.m1.1.1.1.1.4.2.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.E4.m1.1.1.1.1.4.2.2.1" mathvariant="bold" xref="S4.E4.m1.1.1.1.1.4.2.2.1.cmml">~</mo></mover><mi id="S4.E4.m1.1.1.1.1.4.2.3" xref="S4.E4.m1.1.1.1.1.4.2.3.cmml">𝒋</mi><mo class="ltx_mathvariant_bold" id="S4.E4.m1.1.1.1.1.4.3" mathvariant="bold" xref="S4.E4.m1.1.1.1.1.4.3.cmml">′</mo></msubsup><mo id="S4.E4.m1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.3.cmml">=</mo><mrow id="S4.E4.m1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.2.cmml"><mrow id="S4.E4.m1.1.1.1.1.2.2" xref="S4.E4.m1.1.1.1.1.2.2.cmml"><mrow id="S4.E4.m1.1.1.1.1.2.2.2.2" xref="S4.E4.m1.1.1.1.1.2.2.2.3.cmml"><mo id="S4.E4.m1.1.1.1.1.2.2.2.2.3" xref="S4.E4.m1.1.1.1.1.2.2.2.3.cmml">[</mo><msub id="S4.E4.m1.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.1" mathvariant="bold" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml">𝒋</mi></msub><mo id="S4.E4.m1.1.1.1.1.2.2.2.2.4" xref="S4.E4.m1.1.1.1.1.2.2.2.3.cmml">;</mo><msub id="S4.E4.m1.1.1.1.1.2.2.2.2.2" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.1.1.1.1.2.2.2.2.2.2" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.2.cmml">𝓕</mi><msub id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.cmml"><mi id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.2" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.2.cmml">𝒆</mi><mi id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.3" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.3.cmml">𝒋</mi></msub></msub><mo id="S4.E4.m1.1.1.1.1.2.2.2.2.5" xref="S4.E4.m1.1.1.1.1.2.2.2.3.cmml">]</mo></mrow><mo id="S4.E4.m1.1.1.1.1.2.2.3" xref="S4.E4.m1.1.1.1.1.2.2.3.cmml">⁢</mo><msubsup id="S4.E4.m1.1.1.1.1.2.2.4" xref="S4.E4.m1.1.1.1.1.2.2.4.cmml"><mi id="S4.E4.m1.1.1.1.1.2.2.4.2.2" xref="S4.E4.m1.1.1.1.1.2.2.4.2.2.cmml">𝐖</mi><mi id="S4.E4.m1.1.1.1.1.2.2.4.2.3" xref="S4.E4.m1.1.1.1.1.2.2.4.2.3.cmml">𝒕</mi><mo id="S4.E4.m1.1.1.1.1.2.2.4.3" xref="S4.E4.m1.1.1.1.1.2.2.4.3.cmml">⊤</mo></msubsup></mrow><mo id="S4.E4.m1.1.1.1.1.2.3" xref="S4.E4.m1.1.1.1.1.2.3.cmml">+</mo><mi id="S4.E4.m1.1.1.1.1.2.4" xref="S4.E4.m1.1.1.1.1.2.4.cmml">𝒃</mi></mrow></mrow><mo id="S4.E4.m1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.1b"><apply id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1"><eq id="S4.E4.m1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.3"></eq><apply id="S4.E4.m1.1.1.1.1.4.cmml" xref="S4.E4.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.4.1.cmml" xref="S4.E4.m1.1.1.1.1.4">superscript</csymbol><apply id="S4.E4.m1.1.1.1.1.4.2.cmml" xref="S4.E4.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.4.2.1.cmml" xref="S4.E4.m1.1.1.1.1.4">subscript</csymbol><apply id="S4.E4.m1.1.1.1.1.4.2.2.cmml" xref="S4.E4.m1.1.1.1.1.4.2.2"><ci id="S4.E4.m1.1.1.1.1.4.2.2.1.cmml" xref="S4.E4.m1.1.1.1.1.4.2.2.1">bold-~</ci><ci id="S4.E4.m1.1.1.1.1.4.2.2.2.cmml" xref="S4.E4.m1.1.1.1.1.4.2.2.2">𝒆</ci></apply><ci id="S4.E4.m1.1.1.1.1.4.2.3.cmml" xref="S4.E4.m1.1.1.1.1.4.2.3">𝒋</ci></apply><ci id="S4.E4.m1.1.1.1.1.4.3.cmml" xref="S4.E4.m1.1.1.1.1.4.3">bold-′</ci></apply><apply id="S4.E4.m1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.2"><plus id="S4.E4.m1.1.1.1.1.2.3.cmml" xref="S4.E4.m1.1.1.1.1.2.3"></plus><apply id="S4.E4.m1.1.1.1.1.2.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2"><times id="S4.E4.m1.1.1.1.1.2.2.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.3"></times><list id="S4.E4.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2"><apply id="S4.E4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2"><ci id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.1">bold-~</ci><ci id="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.2.2">𝒆</ci></apply><ci id="S4.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1.1.3">𝒋</ci></apply><apply id="S4.E4.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.E4.m1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.2">𝓕</ci><apply id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.1.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.2">𝒆</ci><ci id="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.2.2.2.3.3">𝒋</ci></apply></apply></list><apply id="S4.E4.m1.1.1.1.1.2.2.4.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.2.2.4.1.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4">superscript</csymbol><apply id="S4.E4.m1.1.1.1.1.2.2.4.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.2.2.4.2.1.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S4.E4.m1.1.1.1.1.2.2.4.2.2.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4.2.2">𝐖</ci><ci id="S4.E4.m1.1.1.1.1.2.2.4.2.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4.2.3">𝒕</ci></apply><csymbol cd="latexml" id="S4.E4.m1.1.1.1.1.2.2.4.3.cmml" xref="S4.E4.m1.1.1.1.1.2.2.4.3">top</csymbol></apply></apply><ci id="S4.E4.m1.1.1.1.1.2.4.cmml" xref="S4.E4.m1.1.1.1.1.2.4">𝒃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.1c">\bm{\tilde{e}_{j}^{\prime}}=\left[\bm{\tilde{e}_{j}};\bm{\mathcal{F}_{e_{j}}}%
\right]\mathbf{W}_{\bm{t}}^{\top}+\bm{b},</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.1d">overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT = [ overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT ; bold_caligraphic_F start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT ] bold_W start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT + bold_italic_b ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.p2.17">where <math alttext="[\cdot;\cdot]" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.13.m1.2"><semantics id="S4.SS2.SSS1.p2.13.m1.2a"><mrow id="S4.SS2.SSS1.p2.13.m1.2.3.2" xref="S4.SS2.SSS1.p2.13.m1.2.3.1.cmml"><mo id="S4.SS2.SSS1.p2.13.m1.2.3.2.1" stretchy="false" xref="S4.SS2.SSS1.p2.13.m1.2.3.1.cmml">[</mo><mo id="S4.SS2.SSS1.p2.13.m1.1.1" lspace="0em" rspace="0em" xref="S4.SS2.SSS1.p2.13.m1.1.1.cmml">⋅</mo><mo id="S4.SS2.SSS1.p2.13.m1.2.3.2.2" rspace="0em" xref="S4.SS2.SSS1.p2.13.m1.2.3.1.cmml">;</mo><mo id="S4.SS2.SSS1.p2.13.m1.2.2" lspace="0em" rspace="0em" xref="S4.SS2.SSS1.p2.13.m1.2.2.cmml">⋅</mo><mo id="S4.SS2.SSS1.p2.13.m1.2.3.2.3" stretchy="false" xref="S4.SS2.SSS1.p2.13.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.13.m1.2b"><list id="S4.SS2.SSS1.p2.13.m1.2.3.1.cmml" xref="S4.SS2.SSS1.p2.13.m1.2.3.2"><ci id="S4.SS2.SSS1.p2.13.m1.1.1.cmml" xref="S4.SS2.SSS1.p2.13.m1.1.1">⋅</ci><ci id="S4.SS2.SSS1.p2.13.m1.2.2.cmml" xref="S4.SS2.SSS1.p2.13.m1.2.2">⋅</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.13.m1.2c">[\cdot;\cdot]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.13.m1.2d">[ ⋅ ; ⋅ ]</annotation></semantics></math> denotes vector concatenation; <math alttext="\mathbf{W}_{\bm{t}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.14.m2.1"><semantics id="S4.SS2.SSS1.p2.14.m2.1a"><msub id="S4.SS2.SSS1.p2.14.m2.1.1" xref="S4.SS2.SSS1.p2.14.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p2.14.m2.1.1.2" xref="S4.SS2.SSS1.p2.14.m2.1.1.2.cmml">𝐖</mi><mi id="S4.SS2.SSS1.p2.14.m2.1.1.3" xref="S4.SS2.SSS1.p2.14.m2.1.1.3.cmml">𝒕</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.14.m2.1b"><apply id="S4.SS2.SSS1.p2.14.m2.1.1.cmml" xref="S4.SS2.SSS1.p2.14.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.14.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p2.14.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.14.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.14.m2.1.1.2">𝐖</ci><ci id="S4.SS2.SSS1.p2.14.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.14.m2.1.1.3">𝒕</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.14.m2.1c">\mathbf{W}_{\bm{t}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.14.m2.1d">bold_W start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\bm{b}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.15.m3.1"><semantics id="S4.SS2.SSS1.p2.15.m3.1a"><mi id="S4.SS2.SSS1.p2.15.m3.1.1" xref="S4.SS2.SSS1.p2.15.m3.1.1.cmml">𝒃</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.15.m3.1b"><ci id="S4.SS2.SSS1.p2.15.m3.1.1.cmml" xref="S4.SS2.SSS1.p2.15.m3.1.1">𝒃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.15.m3.1c">\bm{b}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.15.m3.1d">bold_italic_b</annotation></semantics></math> are learnable parameters aimed at projecting the dimension of the concatenated representation back to the dimension of <math alttext="\bm{\tilde{e}_{j}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.16.m4.1"><semantics id="S4.SS2.SSS1.p2.16.m4.1a"><msub id="S4.SS2.SSS1.p2.16.m4.1.1" xref="S4.SS2.SSS1.p2.16.m4.1.1.cmml"><mover accent="true" id="S4.SS2.SSS1.p2.16.m4.1.1.2" xref="S4.SS2.SSS1.p2.16.m4.1.1.2.cmml"><mi id="S4.SS2.SSS1.p2.16.m4.1.1.2.2" xref="S4.SS2.SSS1.p2.16.m4.1.1.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.16.m4.1.1.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p2.16.m4.1.1.2.1.cmml">~</mo></mover><mi id="S4.SS2.SSS1.p2.16.m4.1.1.3" xref="S4.SS2.SSS1.p2.16.m4.1.1.3.cmml">𝒋</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.16.m4.1b"><apply id="S4.SS2.SSS1.p2.16.m4.1.1.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.16.m4.1.1.1.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1">subscript</csymbol><apply id="S4.SS2.SSS1.p2.16.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1.2"><ci id="S4.SS2.SSS1.p2.16.m4.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1.2.1">bold-~</ci><ci id="S4.SS2.SSS1.p2.16.m4.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1.2.2">𝒆</ci></apply><ci id="S4.SS2.SSS1.p2.16.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p2.16.m4.1.1.3">𝒋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.16.m4.1c">\bm{\tilde{e}_{j}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.16.m4.1d">overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
We stack all local emotion-aware entity representations into a matrix, denoted as <math alttext="\bm{\tilde{E_{l}}^{\prime}}=\left[\bm{\tilde{e}_{1}^{\prime}};\ldots;\bm{%
\tilde{e}_{n_{e}}^{\prime}}\right]" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.17.m5.3"><semantics id="S4.SS2.SSS1.p2.17.m5.3a"><mrow id="S4.SS2.SSS1.p2.17.m5.3.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.cmml"><msup id="S4.SS2.SSS1.p2.17.m5.3.3.4" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.cmml"><mover accent="true" id="S4.SS2.SSS1.p2.17.m5.3.3.4.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.cmml"><msub id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.cmml"><mi id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.2.cmml">𝑬</mi><mi id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.3.cmml">𝒍</mi></msub><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.1.cmml">~</mo></mover><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.3.3.4.3" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.3.cmml">′</mo></msup><mo id="S4.SS2.SSS1.p2.17.m5.3.3.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.3.cmml">=</mo><mrow id="S4.SS2.SSS1.p2.17.m5.3.3.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml"><mo id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml">[</mo><msubsup id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.cmml"><mover accent="true" id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.cmml"><mi id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.2" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.1.cmml">~</mo></mover><mn id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.3" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.3.cmml">𝟏</mn><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.3.cmml">′</mo></msubsup><mo id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.4" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml">;</mo><mi id="S4.SS2.SSS1.p2.17.m5.1.1" mathvariant="normal" xref="S4.SS2.SSS1.p2.17.m5.1.1.cmml">…</mi><mo id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.5" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml">;</mo><msubsup id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.cmml"><mover accent="true" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.cmml"><mi id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.2.cmml">𝒆</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.1.cmml">~</mo></mover><msub id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.cmml"><mi id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.2" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.2.cmml">𝒏</mi><mi id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.3" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.3.cmml">𝒆</mi></msub><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.3" mathvariant="bold" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.3.cmml">′</mo></msubsup><mo id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.6" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.17.m5.3b"><apply id="S4.SS2.SSS1.p2.17.m5.3.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3"><eq id="S4.SS2.SSS1.p2.17.m5.3.3.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.3"></eq><apply id="S4.SS2.SSS1.p2.17.m5.3.3.4.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.3.3.4.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4">superscript</csymbol><apply id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2"><ci id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.1">bold-~</ci><apply id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2">subscript</csymbol><ci id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.2">𝑬</ci><ci id="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.2.2.3">𝒍</ci></apply></apply><ci id="S4.SS2.SSS1.p2.17.m5.3.3.4.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.4.3">bold-′</ci></apply><list id="S4.SS2.SSS1.p2.17.m5.3.3.2.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2"><apply id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1">subscript</csymbol><apply id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2"><ci id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.1">bold-~</ci><ci id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.2.2">𝒆</ci></apply><cn id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.3.cmml" type="integer" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.2.3">1</cn></apply><ci id="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.2.2.1.1.1.3">bold-′</ci></apply><ci id="S4.SS2.SSS1.p2.17.m5.1.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.1.1">…</ci><apply id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2">superscript</csymbol><apply id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2">subscript</csymbol><apply id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2"><ci id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.1">bold-~</ci><ci id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.2.2">𝒆</ci></apply><apply id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.1.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.2.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.2">𝒏</ci><ci id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.2.3.3">𝒆</ci></apply></apply><ci id="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.3.cmml" xref="S4.SS2.SSS1.p2.17.m5.3.3.2.2.2.3">bold-′</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.17.m5.3c">\bm{\tilde{E_{l}}^{\prime}}=\left[\bm{\tilde{e}_{1}^{\prime}};\ldots;\bm{%
\tilde{e}_{n_{e}}^{\prime}}\right]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.17.m5.3d">overbold_~ start_ARG bold_italic_E start_POSTSUBSCRIPT bold_italic_l end_POSTSUBSCRIPT end_ARG start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT = [ overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ; … ; overbold_~ start_ARG bold_italic_e end_ARG start_POSTSUBSCRIPT bold_italic_n start_POSTSUBSCRIPT bold_italic_e end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ]</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.SSS1.p3">
<p class="ltx_p" id="S4.SS2.SSS1.p3.16"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS1.p3.16.1">Global emotion-aware entity representing.</span> We first use utterance-level user emotions to filter global entities and then aggregate their representations.
Concretely, we assume that if a user exhibits similar emotions towards both <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.1.m1.1"><semantics id="S4.SS2.SSS1.p3.1.m1.1a"><msub id="S4.SS2.SSS1.p3.1.m1.1.1" xref="S4.SS2.SSS1.p3.1.m1.1.1.cmml"><mi id="S4.SS2.SSS1.p3.1.m1.1.1.2" xref="S4.SS2.SSS1.p3.1.m1.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.1.m1.1.1.3" xref="S4.SS2.SSS1.p3.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.1.m1.1b"><apply id="S4.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.1.m1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.1.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.1.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.1.m1.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.1.m1.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="e_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.2.m2.1"><semantics id="S4.SS2.SSS1.p3.2.m2.1a"><msub id="S4.SS2.SSS1.p3.2.m2.1.1" xref="S4.SS2.SSS1.p3.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p3.2.m2.1.1.2" xref="S4.SS2.SSS1.p3.2.m2.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.2.m2.1.1.3" xref="S4.SS2.SSS1.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.2.m2.1b"><apply id="S4.SS2.SSS1.p3.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p3.2.m2.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.2.m2.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.2.m2.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in a conversation, then <math alttext="e_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.3.m3.1"><semantics id="S4.SS2.SSS1.p3.3.m3.1a"><msub id="S4.SS2.SSS1.p3.3.m3.1.1" xref="S4.SS2.SSS1.p3.3.m3.1.1.cmml"><mi id="S4.SS2.SSS1.p3.3.m3.1.1.2" xref="S4.SS2.SSS1.p3.3.m3.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.3.m3.1.1.3" xref="S4.SS2.SSS1.p3.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.3.m3.1b"><apply id="S4.SS2.SSS1.p3.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.3.m3.1.1.1.cmml" xref="S4.SS2.SSS1.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.3.m3.1.1.2.cmml" xref="S4.SS2.SSS1.p3.3.m3.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.3.m3.1.1.3.cmml" xref="S4.SS2.SSS1.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.3.m3.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.3.m3.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is globally <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p3.16.2">emotion-related</em> to <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.4.m4.1"><semantics id="S4.SS2.SSS1.p3.4.m4.1a"><msub id="S4.SS2.SSS1.p3.4.m4.1.1" xref="S4.SS2.SSS1.p3.4.m4.1.1.cmml"><mi id="S4.SS2.SSS1.p3.4.m4.1.1.2" xref="S4.SS2.SSS1.p3.4.m4.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.4.m4.1.1.3" xref="S4.SS2.SSS1.p3.4.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.4.m4.1b"><apply id="S4.SS2.SSS1.p3.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.4.m4.1.1.1.cmml" xref="S4.SS2.SSS1.p3.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.4.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p3.4.m4.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.4.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p3.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.4.m4.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.4.m4.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
Similarly, we define a local entity <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.5.m5.1"><semantics id="S4.SS2.SSS1.p3.5.m5.1a"><msub id="S4.SS2.SSS1.p3.5.m5.1.1" xref="S4.SS2.SSS1.p3.5.m5.1.1.cmml"><mi id="S4.SS2.SSS1.p3.5.m5.1.1.2" xref="S4.SS2.SSS1.p3.5.m5.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.5.m5.1.1.3" xref="S4.SS2.SSS1.p3.5.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.5.m5.1b"><apply id="S4.SS2.SSS1.p3.5.m5.1.1.cmml" xref="S4.SS2.SSS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.5.m5.1.1.1.cmml" xref="S4.SS2.SSS1.p3.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.5.m5.1.1.2.cmml" xref="S4.SS2.SSS1.p3.5.m5.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.5.m5.1.1.3.cmml" xref="S4.SS2.SSS1.p3.5.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.5.m5.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.5.m5.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to be emotion-related to a set of global entities <math alttext="\mathcal{E}_{e_{j}}=\{e_{i}\}^{|\mathcal{E}_{e_{j}}|}_{i=1}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.6.m6.2"><semantics id="S4.SS2.SSS1.p3.6.m6.2a"><mrow id="S4.SS2.SSS1.p3.6.m6.2.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.cmml"><msub id="S4.SS2.SSS1.p3.6.m6.2.2.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.6.m6.2.2.3.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.2.cmml">ℰ</mi><msub id="S4.SS2.SSS1.p3.6.m6.2.2.3.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3.cmml"><mi id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p3.6.m6.2.2.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.2.cmml">=</mo><msubsup id="S4.SS2.SSS1.p3.6.m6.2.2.1" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.cmml"><mrow id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.SSS1.p3.6.m6.2.2.1.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.cmml"><mi id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.2" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.2.cmml">i</mi><mo id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.1" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.1.cmml">=</mo><mn id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.3" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS2.SSS1.p3.6.m6.1.1.1.1" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.2.cmml"><mo id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.2.1.cmml">|</mo><msub id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.2" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.2.cmml">ℰ</mi><msub id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.6.m6.2b"><apply id="S4.SS2.SSS1.p3.6.m6.2.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2"><eq id="S4.SS2.SSS1.p3.6.m6.2.2.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.2"></eq><apply id="S4.SS2.SSS1.p3.6.m6.2.2.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.2.2.3.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.6.m6.2.2.3.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.2">ℰ</ci><apply id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.6.m6.2.2.3.3.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.3.3.3">𝑗</ci></apply></apply><apply id="S4.SS2.SSS1.p3.6.m6.2.2.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.2.2.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1">subscript</csymbol><apply id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1">superscript</csymbol><set id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1"><apply id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS2.SSS1.p3.6.m6.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1"><abs id="S4.SS2.SSS1.p3.6.m6.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.2"></abs><apply id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.2">ℰ</ci><apply id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3"><eq id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.1.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.1"></eq><ci id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.2.cmml" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.2">𝑖</ci><cn id="S4.SS2.SSS1.p3.6.m6.2.2.1.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p3.6.m6.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.6.m6.2c">\mathcal{E}_{e_{j}}=\{e_{i}\}^{|\mathcal{E}_{e_{j}}|}_{i=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.6.m6.2d">caligraphic_E start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | caligraphic_E start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.7.m7.1"><semantics id="S4.SS2.SSS1.p3.7.m7.1a"><msub id="S4.SS2.SSS1.p3.7.m7.1.1" xref="S4.SS2.SSS1.p3.7.m7.1.1.cmml"><mi id="S4.SS2.SSS1.p3.7.m7.1.1.2" xref="S4.SS2.SSS1.p3.7.m7.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.7.m7.1.1.3" xref="S4.SS2.SSS1.p3.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.7.m7.1b"><apply id="S4.SS2.SSS1.p3.7.m7.1.1.cmml" xref="S4.SS2.SSS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.7.m7.1.1.1.cmml" xref="S4.SS2.SSS1.p3.7.m7.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.7.m7.1.1.2.cmml" xref="S4.SS2.SSS1.p3.7.m7.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.7.m7.1.1.3.cmml" xref="S4.SS2.SSS1.p3.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.7.m7.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.7.m7.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="e_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.8.m8.1"><semantics id="S4.SS2.SSS1.p3.8.m8.1a"><msub id="S4.SS2.SSS1.p3.8.m8.1.1" xref="S4.SS2.SSS1.p3.8.m8.1.1.cmml"><mi id="S4.SS2.SSS1.p3.8.m8.1.1.2" xref="S4.SS2.SSS1.p3.8.m8.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.8.m8.1.1.3" xref="S4.SS2.SSS1.p3.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.8.m8.1b"><apply id="S4.SS2.SSS1.p3.8.m8.1.1.cmml" xref="S4.SS2.SSS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.8.m8.1.1.1.cmml" xref="S4.SS2.SSS1.p3.8.m8.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.8.m8.1.1.2.cmml" xref="S4.SS2.SSS1.p3.8.m8.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.8.m8.1.1.3.cmml" xref="S4.SS2.SSS1.p3.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.8.m8.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.8.m8.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> overlap in the most probable <math alttext="n_{f}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.9.m9.1"><semantics id="S4.SS2.SSS1.p3.9.m9.1a"><msub id="S4.SS2.SSS1.p3.9.m9.1.1" xref="S4.SS2.SSS1.p3.9.m9.1.1.cmml"><mi id="S4.SS2.SSS1.p3.9.m9.1.1.2" xref="S4.SS2.SSS1.p3.9.m9.1.1.2.cmml">n</mi><mi id="S4.SS2.SSS1.p3.9.m9.1.1.3" xref="S4.SS2.SSS1.p3.9.m9.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.9.m9.1b"><apply id="S4.SS2.SSS1.p3.9.m9.1.1.cmml" xref="S4.SS2.SSS1.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.9.m9.1.1.1.cmml" xref="S4.SS2.SSS1.p3.9.m9.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.9.m9.1.1.2.cmml" xref="S4.SS2.SSS1.p3.9.m9.1.1.2">𝑛</ci><ci id="S4.SS2.SSS1.p3.9.m9.1.1.3.cmml" xref="S4.SS2.SSS1.p3.9.m9.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.9.m9.1c">n_{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.9.m9.1d">italic_n start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT</annotation></semantics></math> emotion labels in <math alttext="\mathcal{F}_{e_{j}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.10.m10.1"><semantics id="S4.SS2.SSS1.p3.10.m10.1a"><msub id="S4.SS2.SSS1.p3.10.m10.1.1" xref="S4.SS2.SSS1.p3.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.10.m10.1.1.2" xref="S4.SS2.SSS1.p3.10.m10.1.1.2.cmml">ℱ</mi><msub id="S4.SS2.SSS1.p3.10.m10.1.1.3" xref="S4.SS2.SSS1.p3.10.m10.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.10.m10.1.1.3.2" xref="S4.SS2.SSS1.p3.10.m10.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.10.m10.1.1.3.3" xref="S4.SS2.SSS1.p3.10.m10.1.1.3.3.cmml">j</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.10.m10.1b"><apply id="S4.SS2.SSS1.p3.10.m10.1.1.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.10.m10.1.1.1.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.10.m10.1.1.2.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1.2">ℱ</ci><apply id="S4.SS2.SSS1.p3.10.m10.1.1.3.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.10.m10.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.10.m10.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.10.m10.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.10.m10.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.10.m10.1c">\mathcal{F}_{e_{j}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.10.m10.1d">caligraphic_F start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{F}_{e_{i}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.11.m11.1"><semantics id="S4.SS2.SSS1.p3.11.m11.1a"><msub id="S4.SS2.SSS1.p3.11.m11.1.1" xref="S4.SS2.SSS1.p3.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.11.m11.1.1.2" xref="S4.SS2.SSS1.p3.11.m11.1.1.2.cmml">ℱ</mi><msub id="S4.SS2.SSS1.p3.11.m11.1.1.3" xref="S4.SS2.SSS1.p3.11.m11.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.11.m11.1.1.3.2" xref="S4.SS2.SSS1.p3.11.m11.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.11.m11.1.1.3.3" xref="S4.SS2.SSS1.p3.11.m11.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.11.m11.1b"><apply id="S4.SS2.SSS1.p3.11.m11.1.1.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.11.m11.1.1.1.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.11.m11.1.1.2.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1.2">ℱ</ci><apply id="S4.SS2.SSS1.p3.11.m11.1.1.3.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.11.m11.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.11.m11.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.11.m11.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.11.m11.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.11.m11.1c">\mathcal{F}_{e_{i}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.11.m11.1d">caligraphic_F start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> during their co-occurrence in a conversation.
Additionally, we calculate the co-occurrence probability of each local entity <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.12.m12.1"><semantics id="S4.SS2.SSS1.p3.12.m12.1a"><msub id="S4.SS2.SSS1.p3.12.m12.1.1" xref="S4.SS2.SSS1.p3.12.m12.1.1.cmml"><mi id="S4.SS2.SSS1.p3.12.m12.1.1.2" xref="S4.SS2.SSS1.p3.12.m12.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.12.m12.1.1.3" xref="S4.SS2.SSS1.p3.12.m12.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.12.m12.1b"><apply id="S4.SS2.SSS1.p3.12.m12.1.1.cmml" xref="S4.SS2.SSS1.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.12.m12.1.1.1.cmml" xref="S4.SS2.SSS1.p3.12.m12.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.12.m12.1.1.2.cmml" xref="S4.SS2.SSS1.p3.12.m12.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.12.m12.1.1.3.cmml" xref="S4.SS2.SSS1.p3.12.m12.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.12.m12.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.12.m12.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> with its emotion-related global entity <math alttext="e_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.13.m13.1"><semantics id="S4.SS2.SSS1.p3.13.m13.1a"><msub id="S4.SS2.SSS1.p3.13.m13.1.1" xref="S4.SS2.SSS1.p3.13.m13.1.1.cmml"><mi id="S4.SS2.SSS1.p3.13.m13.1.1.2" xref="S4.SS2.SSS1.p3.13.m13.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.13.m13.1.1.3" xref="S4.SS2.SSS1.p3.13.m13.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.13.m13.1b"><apply id="S4.SS2.SSS1.p3.13.m13.1.1.cmml" xref="S4.SS2.SSS1.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.13.m13.1.1.1.cmml" xref="S4.SS2.SSS1.p3.13.m13.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.13.m13.1.1.2.cmml" xref="S4.SS2.SSS1.p3.13.m13.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.13.m13.1.1.3.cmml" xref="S4.SS2.SSS1.p3.13.m13.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.13.m13.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.13.m13.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> from the training dataset, denoted as <math alttext="P(e_{i}|e_{j})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.14.m14.1"><semantics id="S4.SS2.SSS1.p3.14.m14.1a"><mrow id="S4.SS2.SSS1.p3.14.m14.1.1" xref="S4.SS2.SSS1.p3.14.m14.1.1.cmml"><mi id="S4.SS2.SSS1.p3.14.m14.1.1.3" xref="S4.SS2.SSS1.p3.14.m14.1.1.3.cmml">P</mi><mo id="S4.SS2.SSS1.p3.14.m14.1.1.2" xref="S4.SS2.SSS1.p3.14.m14.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p3.14.m14.1.1.1.1" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.cmml"><msub id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.2" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.1" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.14.m14.1b"><apply id="S4.SS2.SSS1.p3.14.m14.1.1.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1"><times id="S4.SS2.SSS1.p3.14.m14.1.1.2.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.2"></times><ci id="S4.SS2.SSS1.p3.14.m14.1.1.3.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.3">𝑃</ci><apply id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.14.m14.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.14.m14.1c">P(e_{i}|e_{j})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.14.m14.1d">italic_P ( italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>.
Then, we aggregate the representation of all global entities emotion-related to the local entity <math alttext="e_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.15.m15.1"><semantics id="S4.SS2.SSS1.p3.15.m15.1a"><msub id="S4.SS2.SSS1.p3.15.m15.1.1" xref="S4.SS2.SSS1.p3.15.m15.1.1.cmml"><mi id="S4.SS2.SSS1.p3.15.m15.1.1.2" xref="S4.SS2.SSS1.p3.15.m15.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.15.m15.1.1.3" xref="S4.SS2.SSS1.p3.15.m15.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.15.m15.1b"><apply id="S4.SS2.SSS1.p3.15.m15.1.1.cmml" xref="S4.SS2.SSS1.p3.15.m15.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.15.m15.1.1.1.cmml" xref="S4.SS2.SSS1.p3.15.m15.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.15.m15.1.1.2.cmml" xref="S4.SS2.SSS1.p3.15.m15.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.15.m15.1.1.3.cmml" xref="S4.SS2.SSS1.p3.15.m15.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.15.m15.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.15.m15.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> as a global entity representation <math alttext="\bm{\mathcal{E}_{e_{j}}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.16.m16.1"><semantics id="S4.SS2.SSS1.p3.16.m16.1a"><msub id="S4.SS2.SSS1.p3.16.m16.1.1" xref="S4.SS2.SSS1.p3.16.m16.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.16.m16.1.1.2" xref="S4.SS2.SSS1.p3.16.m16.1.1.2.cmml">𝓔</mi><msub id="S4.SS2.SSS1.p3.16.m16.1.1.3" xref="S4.SS2.SSS1.p3.16.m16.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.16.m16.1.1.3.2" xref="S4.SS2.SSS1.p3.16.m16.1.1.3.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p3.16.m16.1.1.3.3" xref="S4.SS2.SSS1.p3.16.m16.1.1.3.3.cmml">𝒋</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.16.m16.1b"><apply id="S4.SS2.SSS1.p3.16.m16.1.1.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.16.m16.1.1.1.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.16.m16.1.1.2.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1.2">𝓔</ci><apply id="S4.SS2.SSS1.p3.16.m16.1.1.3.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.16.m16.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.16.m16.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1.3.2">𝒆</ci><ci id="S4.SS2.SSS1.p3.16.m16.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.16.m16.1.1.3.3">𝒋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.16.m16.1c">\bm{\mathcal{E}_{e_{j}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.16.m16.1d">bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S4.E5">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E5X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\bm{\mathcal{E}_{e_{j}}}=\sum^{|\mathcal{E}_{e_{j}}|}_{i=1}\bm{e_%
{i}}*P(e_{i}|e_{j})," class="ltx_Math" display="inline" id="S4.E5X.2.1.1.m1.2"><semantics id="S4.E5X.2.1.1.m1.2a"><mrow id="S4.E5X.2.1.1.m1.2.2.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S4.E5X.2.1.1.m1.2.2.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.cmml"><msub id="S4.E5X.2.1.1.m1.2.2.1.1.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5X.2.1.1.m1.2.2.1.1.3.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.2.cmml">𝓔</mi><msub id="S4.E5X.2.1.1.m1.2.2.1.1.3.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3.cmml"><mi id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3.2.cmml">𝒆</mi><mi id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3.3.cmml">𝒋</mi></msub></msub><mo id="S4.E5X.2.1.1.m1.2.2.1.1.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S4.E5X.2.1.1.m1.2.2.1.1.1.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.cmml"><munderover id="S4.E5X.2.1.1.m1.2.2.1.1.1.2a" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.cmml"><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.2" movablelimits="false" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.cmml"><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.2.cmml">i</mi><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.1.cmml">=</mo><mn id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.3.cmml">1</mn></mrow><mrow id="S4.E5X.2.1.1.m1.1.1.1.1" xref="S4.E5X.2.1.1.m1.1.1.1.2.cmml"><mo id="S4.E5X.2.1.1.m1.1.1.1.1.2" stretchy="false" xref="S4.E5X.2.1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.E5X.2.1.1.m1.1.1.1.1.1" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5X.2.1.1.m1.1.1.1.1.1.2" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.2.cmml">ℰ</mi><msub id="S4.E5X.2.1.1.m1.1.1.1.1.1.3" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.2" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.3" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S4.E5X.2.1.1.m1.1.1.1.1.3" stretchy="false" xref="S4.E5X.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover></mstyle><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.cmml"><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.cmml"><msub id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.cmml"><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.2.cmml">𝒆</mi><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.3.cmml">𝒊</mi></msub><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml">∗</mo><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.3.cmml">P</mi></mrow><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><msub id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E5X.2.1.1.m1.2.2.1.2" xref="S4.E5X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E5X.2.1.1.m1.2b"><apply id="S4.E5X.2.1.1.m1.2.2.1.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1"><eq id="S4.E5X.2.1.1.m1.2.2.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.2"></eq><apply id="S4.E5X.2.1.1.m1.2.2.1.1.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.2">𝓔</ci><apply id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3.2">𝒆</ci><ci id="S4.E5X.2.1.1.m1.2.2.1.1.3.3.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.3.3.3">𝒋</ci></apply></apply><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1"><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2">subscript</csymbol><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2">superscript</csymbol><sum id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.2.2"></sum><apply id="S4.E5X.2.1.1.m1.1.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1"><abs id="S4.E5X.2.1.1.m1.1.1.1.2.1.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.2"></abs><apply id="S4.E5X.2.1.1.m1.1.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.2">ℰ</ci><apply id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.E5X.2.1.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3"><eq id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.1"></eq><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.2">𝑖</ci><cn id="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.3.cmml" type="integer" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1"><times id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.2"></times><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3"><times id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.1"></times><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.2">𝒆</ci><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.2.3">𝒊</ci></apply><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.3.3">𝑃</ci></apply><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2">𝑒</ci><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2">𝑒</ci><ci id="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5X.2.1.1.m1.2c">\displaystyle\bm{\mathcal{E}_{e_{j}}}=\sum^{|\mathcal{E}_{e_{j}}|}_{i=1}\bm{e_%
{i}}*P(e_{i}|e_{j}),</annotation><annotation encoding="application/x-llamapun" id="S4.E5X.2.1.1.m1.2d">bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = ∑ start_POSTSUPERSCRIPT | caligraphic_E start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT ∗ italic_P ( italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.p3.23">where <math alttext="\bm{e_{i}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.17.m1.1"><semantics id="S4.SS2.SSS1.p3.17.m1.1a"><msub id="S4.SS2.SSS1.p3.17.m1.1.1" xref="S4.SS2.SSS1.p3.17.m1.1.1.cmml"><mi id="S4.SS2.SSS1.p3.17.m1.1.1.2" xref="S4.SS2.SSS1.p3.17.m1.1.1.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p3.17.m1.1.1.3" xref="S4.SS2.SSS1.p3.17.m1.1.1.3.cmml">𝒊</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.17.m1.1b"><apply id="S4.SS2.SSS1.p3.17.m1.1.1.cmml" xref="S4.SS2.SSS1.p3.17.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.17.m1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.17.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.17.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.17.m1.1.1.2">𝒆</ci><ci id="S4.SS2.SSS1.p3.17.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.17.m1.1.1.3">𝒊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.17.m1.1c">\bm{e_{i}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.17.m1.1d">bold_italic_e start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the representation of <math alttext="e_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.18.m2.1"><semantics id="S4.SS2.SSS1.p3.18.m2.1a"><msub id="S4.SS2.SSS1.p3.18.m2.1.1" xref="S4.SS2.SSS1.p3.18.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p3.18.m2.1.1.2" xref="S4.SS2.SSS1.p3.18.m2.1.1.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.18.m2.1.1.3" xref="S4.SS2.SSS1.p3.18.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.18.m2.1b"><apply id="S4.SS2.SSS1.p3.18.m2.1.1.cmml" xref="S4.SS2.SSS1.p3.18.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.18.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p3.18.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.18.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p3.18.m2.1.1.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.18.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p3.18.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.18.m2.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.18.m2.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> obtained from the RGCN <cite class="ltx_cite ltx_citemacro_citep">(Schlichtkrull et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib44" title="">2018</a>)</cite>. Following the Eq. <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.E4" title="In 4.2.1. Emotion-aware Entity Representation ‣ 4.2. Emotion-aware Item Recommendation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4</span></a>, we calculate the global emotion-aware entity representation <math alttext="\bm{\mathcal{E}_{e_{j}}^{\prime}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.19.m3.1"><semantics id="S4.SS2.SSS1.p3.19.m3.1a"><msubsup id="S4.SS2.SSS1.p3.19.m3.1.1" xref="S4.SS2.SSS1.p3.19.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.19.m3.1.1.2.2" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.2.cmml">𝓔</mi><msub id="S4.SS2.SSS1.p3.19.m3.1.1.2.3" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3.cmml"><mi id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.2" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.3" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3.3.cmml">𝒋</mi></msub><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p3.19.m3.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p3.19.m3.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.19.m3.1b"><apply id="S4.SS2.SSS1.p3.19.m3.1.1.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.19.m3.1.1.1.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p3.19.m3.1.1.2.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.19.m3.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.19.m3.1.1.2.2.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.2">𝓔</ci><apply id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.1.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.2.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3.2">𝒆</ci><ci id="S4.SS2.SSS1.p3.19.m3.1.1.2.3.3.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.2.3.3">𝒋</ci></apply></apply><ci id="S4.SS2.SSS1.p3.19.m3.1.1.3.cmml" xref="S4.SS2.SSS1.p3.19.m3.1.1.3">bold-′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.19.m3.1c">\bm{\mathcal{E}_{e_{j}}^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.19.m3.1d">bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT</annotation></semantics></math> by integrating <math alttext="\bm{\mathcal{E}_{e_{j}}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.20.m4.1"><semantics id="S4.SS2.SSS1.p3.20.m4.1a"><msub id="S4.SS2.SSS1.p3.20.m4.1.1" xref="S4.SS2.SSS1.p3.20.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.20.m4.1.1.2" xref="S4.SS2.SSS1.p3.20.m4.1.1.2.cmml">𝓔</mi><msub id="S4.SS2.SSS1.p3.20.m4.1.1.3" xref="S4.SS2.SSS1.p3.20.m4.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.20.m4.1.1.3.2" xref="S4.SS2.SSS1.p3.20.m4.1.1.3.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p3.20.m4.1.1.3.3" xref="S4.SS2.SSS1.p3.20.m4.1.1.3.3.cmml">𝒋</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.20.m4.1b"><apply id="S4.SS2.SSS1.p3.20.m4.1.1.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.20.m4.1.1.1.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.20.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1.2">𝓔</ci><apply id="S4.SS2.SSS1.p3.20.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.20.m4.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.20.m4.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1.3.2">𝒆</ci><ci id="S4.SS2.SSS1.p3.20.m4.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.20.m4.1.1.3.3">𝒋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.20.m4.1c">\bm{\mathcal{E}_{e_{j}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.20.m4.1d">bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\bm{\mathcal{F}_{e_{j}}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.21.m5.1"><semantics id="S4.SS2.SSS1.p3.21.m5.1a"><msub id="S4.SS2.SSS1.p3.21.m5.1.1" xref="S4.SS2.SSS1.p3.21.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.21.m5.1.1.2" xref="S4.SS2.SSS1.p3.21.m5.1.1.2.cmml">𝓕</mi><msub id="S4.SS2.SSS1.p3.21.m5.1.1.3" xref="S4.SS2.SSS1.p3.21.m5.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.21.m5.1.1.3.2" xref="S4.SS2.SSS1.p3.21.m5.1.1.3.2.cmml">𝒆</mi><mi id="S4.SS2.SSS1.p3.21.m5.1.1.3.3" xref="S4.SS2.SSS1.p3.21.m5.1.1.3.3.cmml">𝒋</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.21.m5.1b"><apply id="S4.SS2.SSS1.p3.21.m5.1.1.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.21.m5.1.1.1.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.21.m5.1.1.2.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1.2">𝓕</ci><apply id="S4.SS2.SSS1.p3.21.m5.1.1.3.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.21.m5.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.21.m5.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1.3.2">𝒆</ci><ci id="S4.SS2.SSS1.p3.21.m5.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.21.m5.1.1.3.3">𝒋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.21.m5.1c">\bm{\mathcal{F}_{e_{j}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.21.m5.1d">bold_caligraphic_F start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
Finally, we stack global emotion-aware entity representation for each local entity <math alttext="e_{j}\in E_{l}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.22.m6.1"><semantics id="S4.SS2.SSS1.p3.22.m6.1a"><mrow id="S4.SS2.SSS1.p3.22.m6.1.1" xref="S4.SS2.SSS1.p3.22.m6.1.1.cmml"><msub id="S4.SS2.SSS1.p3.22.m6.1.1.2" xref="S4.SS2.SSS1.p3.22.m6.1.1.2.cmml"><mi id="S4.SS2.SSS1.p3.22.m6.1.1.2.2" xref="S4.SS2.SSS1.p3.22.m6.1.1.2.2.cmml">e</mi><mi id="S4.SS2.SSS1.p3.22.m6.1.1.2.3" xref="S4.SS2.SSS1.p3.22.m6.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p3.22.m6.1.1.1" xref="S4.SS2.SSS1.p3.22.m6.1.1.1.cmml">∈</mo><msub id="S4.SS2.SSS1.p3.22.m6.1.1.3" xref="S4.SS2.SSS1.p3.22.m6.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.22.m6.1.1.3.2" xref="S4.SS2.SSS1.p3.22.m6.1.1.3.2.cmml">E</mi><mi id="S4.SS2.SSS1.p3.22.m6.1.1.3.3" xref="S4.SS2.SSS1.p3.22.m6.1.1.3.3.cmml">l</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.22.m6.1b"><apply id="S4.SS2.SSS1.p3.22.m6.1.1.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1"><in id="S4.SS2.SSS1.p3.22.m6.1.1.1.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.1"></in><apply id="S4.SS2.SSS1.p3.22.m6.1.1.2.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.22.m6.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p3.22.m6.1.1.2.2.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.2.2">𝑒</ci><ci id="S4.SS2.SSS1.p3.22.m6.1.1.2.3.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.2.3">𝑗</ci></apply><apply id="S4.SS2.SSS1.p3.22.m6.1.1.3.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.22.m6.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.22.m6.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.3.2">𝐸</ci><ci id="S4.SS2.SSS1.p3.22.m6.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.22.m6.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.22.m6.1c">e_{j}\in E_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.22.m6.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ italic_E start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>
into a matrix, denoted as <math alttext="\bm{E_{g}^{\prime}}=\left[\bm{\mathcal{E}_{e_{1}}^{\prime}};\ldots;\bm{%
\mathcal{E}_{e_{n_{e}}}^{\prime}}\right]" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.23.m7.3"><semantics id="S4.SS2.SSS1.p3.23.m7.3a"><mrow id="S4.SS2.SSS1.p3.23.m7.3.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.cmml"><msubsup id="S4.SS2.SSS1.p3.23.m7.3.3.4" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.cmml"><mi id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.2.2.cmml">𝑬</mi><mi id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.2.3.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p3.23.m7.3.3.4.3" mathvariant="bold" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.3.cmml">′</mo></msubsup><mo id="S4.SS2.SSS1.p3.23.m7.3.3.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.3.cmml">=</mo><mrow id="S4.SS2.SSS1.p3.23.m7.3.3.2.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml"><mo id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml">[</mo><msubsup id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.2" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.2.cmml">𝓔</mi><msub id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.cmml"><mi id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.2" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.2.cmml">𝒆</mi><mn id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.3" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.3.cmml">𝟏</mn></msub><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.3.cmml">′</mo></msubsup><mo id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.4" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml">;</mo><mi id="S4.SS2.SSS1.p3.23.m7.1.1" mathvariant="normal" xref="S4.SS2.SSS1.p3.23.m7.1.1.cmml">…</mi><mo id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.5" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml">;</mo><msubsup id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.2.cmml">𝓔</mi><msub id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.cmml"><mi id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.2.cmml">𝒆</mi><msub id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.cmml"><mi id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.2" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.2.cmml">𝒏</mi><mi id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.3" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.3.cmml">𝒆</mi></msub></msub><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.3" mathvariant="bold" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.3.cmml">′</mo></msubsup><mo id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.6" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.23.m7.3b"><apply id="S4.SS2.SSS1.p3.23.m7.3.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3"><eq id="S4.SS2.SSS1.p3.23.m7.3.3.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.3"></eq><apply id="S4.SS2.SSS1.p3.23.m7.3.3.4.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.4.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4">superscript</csymbol><apply id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.2.2">𝑬</ci><ci id="S4.SS2.SSS1.p3.23.m7.3.3.4.2.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.2.3">𝒈</ci></apply><ci id="S4.SS2.SSS1.p3.23.m7.3.3.4.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.4.3">bold-′</ci></apply><list id="S4.SS2.SSS1.p3.23.m7.3.3.2.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2"><apply id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.2">𝓔</ci><apply id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.2">𝒆</ci><cn id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.3.cmml" type="integer" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.2.2.1.1.1.3">bold-′</ci></apply><ci id="S4.SS2.SSS1.p3.23.m7.1.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.1.1">…</ci><apply id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2">superscript</csymbol><apply id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.2">𝓔</ci><apply id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.2">𝒆</ci><apply id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.1.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.2.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.2">𝒏</ci><ci id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.2.3.3.3">𝒆</ci></apply></apply></apply><ci id="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.3.cmml" xref="S4.SS2.SSS1.p3.23.m7.3.3.2.2.2.3">bold-′</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.23.m7.3c">\bm{E_{g}^{\prime}}=\left[\bm{\mathcal{E}_{e_{1}}^{\prime}};\ldots;\bm{%
\mathcal{E}_{e_{n_{e}}}^{\prime}}\right]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.23.m7.3d">bold_italic_E start_POSTSUBSCRIPT bold_italic_g end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT = [ bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ; … ; bold_caligraphic_E start_POSTSUBSCRIPT bold_italic_e start_POSTSUBSCRIPT bold_italic_n start_POSTSUBSCRIPT bold_italic_e end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ]</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.SSS1.p4">
<p class="ltx_p" id="S4.SS2.SSS1.p4.2"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS1.p4.2.1">Emotion-aware recommendation prompt.</span> To comprehensively model user preferences with their emotions, we use the local emotion-aware entity representation matrix <math alttext="\bm{\tilde{E}_{l}^{\prime}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p4.1.m1.1"><semantics id="S4.SS2.SSS1.p4.1.m1.1a"><msubsup id="S4.SS2.SSS1.p4.1.m1.1.1" xref="S4.SS2.SSS1.p4.1.m1.1.1.cmml"><mover accent="true" id="S4.SS2.SSS1.p4.1.m1.1.1.2.2" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2.cmml"><mi id="S4.SS2.SSS1.p4.1.m1.1.1.2.2.2" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2.2.cmml">𝑬</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p4.1.m1.1.1.2.2.1" mathvariant="bold" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2.1.cmml">~</mo></mover><mi id="S4.SS2.SSS1.p4.1.m1.1.1.2.3" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.3.cmml">𝒍</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p4.1.m1.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p4.1.m1.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p4.1.m1.1b"><apply id="S4.SS2.SSS1.p4.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p4.1.m1.1.1.1.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p4.1.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p4.1.m1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1">subscript</csymbol><apply id="S4.SS2.SSS1.p4.1.m1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2"><ci id="S4.SS2.SSS1.p4.1.m1.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2.1">bold-~</ci><ci id="S4.SS2.SSS1.p4.1.m1.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.2.2">𝑬</ci></apply><ci id="S4.SS2.SSS1.p4.1.m1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1.2.3">𝒍</ci></apply><ci id="S4.SS2.SSS1.p4.1.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p4.1.m1.1.1.3">bold-′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p4.1.m1.1c">\bm{\tilde{E}_{l}^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p4.1.m1.1d">overbold_~ start_ARG bold_italic_E end_ARG start_POSTSUBSCRIPT bold_italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT</annotation></semantics></math> and global emotion-aware entity representation matrix <math alttext="\bm{E_{g}^{\prime}}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p4.2.m2.1"><semantics id="S4.SS2.SSS1.p4.2.m2.1a"><msubsup id="S4.SS2.SSS1.p4.2.m2.1.1" xref="S4.SS2.SSS1.p4.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p4.2.m2.1.1.2.2" xref="S4.SS2.SSS1.p4.2.m2.1.1.2.2.cmml">𝑬</mi><mi id="S4.SS2.SSS1.p4.2.m2.1.1.2.3" xref="S4.SS2.SSS1.p4.2.m2.1.1.2.3.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" id="S4.SS2.SSS1.p4.2.m2.1.1.3" mathvariant="bold" xref="S4.SS2.SSS1.p4.2.m2.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p4.2.m2.1b"><apply id="S4.SS2.SSS1.p4.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p4.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p4.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p4.2.m2.1.1.2.1.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p4.2.m2.1.1.2.2.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1.2.2">𝑬</ci><ci id="S4.SS2.SSS1.p4.2.m2.1.1.2.3.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1.2.3">𝒈</ci></apply><ci id="S4.SS2.SSS1.p4.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p4.2.m2.1.1.3">bold-′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p4.2.m2.1c">\bm{E_{g}^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p4.2.m2.1d">bold_italic_E start_POSTSUBSCRIPT bold_italic_g end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT</annotation></semantics></math> to update the prompt in Eq. <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S3.E2" title="In item 3 ‣ 3.2. Backbone Framework ‣ 3. Preliminaries ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">2</span></a>. So we formulate an emotion-aware recommendation prompt as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="C_{rec}^{\prime}=\left[\bm{\tilde{E}_{l}^{\prime}};\bm{E_{g}^{\prime}};\bm{S_{%
rec}};D;u_{t}^{r}\right]." class="ltx_Math" display="block" id="S4.E6.m1.2"><semantics id="S4.E6.m1.2a"><mrow id="S4.E6.m1.2.2.1" xref="S4.E6.m1.2.2.1.1.cmml"><mrow id="S4.E6.m1.2.2.1.1" xref="S4.E6.m1.2.2.1.1.cmml"><msubsup id="S4.E6.m1.2.2.1.1.6" xref="S4.E6.m1.2.2.1.1.6.cmml"><mi id="S4.E6.m1.2.2.1.1.6.2.2" xref="S4.E6.m1.2.2.1.1.6.2.2.cmml">C</mi><mrow id="S4.E6.m1.2.2.1.1.6.2.3" xref="S4.E6.m1.2.2.1.1.6.2.3.cmml"><mi id="S4.E6.m1.2.2.1.1.6.2.3.2" xref="S4.E6.m1.2.2.1.1.6.2.3.2.cmml">r</mi><mo id="S4.E6.m1.2.2.1.1.6.2.3.1" xref="S4.E6.m1.2.2.1.1.6.2.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.6.2.3.3" xref="S4.E6.m1.2.2.1.1.6.2.3.3.cmml">e</mi><mo id="S4.E6.m1.2.2.1.1.6.2.3.1a" xref="S4.E6.m1.2.2.1.1.6.2.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.6.2.3.4" xref="S4.E6.m1.2.2.1.1.6.2.3.4.cmml">c</mi></mrow><mo id="S4.E6.m1.2.2.1.1.6.3" xref="S4.E6.m1.2.2.1.1.6.3.cmml">′</mo></msubsup><mo id="S4.E6.m1.2.2.1.1.5" xref="S4.E6.m1.2.2.1.1.5.cmml">=</mo><mrow id="S4.E6.m1.2.2.1.1.4.4" xref="S4.E6.m1.2.2.1.1.4.5.cmml"><mo id="S4.E6.m1.2.2.1.1.4.4.5" xref="S4.E6.m1.2.2.1.1.4.5.cmml">[</mo><msubsup id="S4.E6.m1.2.2.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S4.E6.m1.2.2.1.1.1.1.1.2.2" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.1.2.2.2" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2.2.cmml">𝑬</mi><mo class="ltx_mathvariant_bold" id="S4.E6.m1.2.2.1.1.1.1.1.2.2.1" mathvariant="bold" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S4.E6.m1.2.2.1.1.1.1.1.2.3" xref="S4.E6.m1.2.2.1.1.1.1.1.2.3.cmml">𝒍</mi><mo class="ltx_mathvariant_bold" id="S4.E6.m1.2.2.1.1.1.1.1.3" mathvariant="bold" xref="S4.E6.m1.2.2.1.1.1.1.1.3.cmml">′</mo></msubsup><mo id="S4.E6.m1.2.2.1.1.4.4.6" xref="S4.E6.m1.2.2.1.1.4.5.cmml">;</mo><msubsup id="S4.E6.m1.2.2.1.1.2.2.2" xref="S4.E6.m1.2.2.1.1.2.2.2.cmml"><mi id="S4.E6.m1.2.2.1.1.2.2.2.2.2" xref="S4.E6.m1.2.2.1.1.2.2.2.2.2.cmml">𝑬</mi><mi id="S4.E6.m1.2.2.1.1.2.2.2.2.3" xref="S4.E6.m1.2.2.1.1.2.2.2.2.3.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" id="S4.E6.m1.2.2.1.1.2.2.2.3" mathvariant="bold" xref="S4.E6.m1.2.2.1.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S4.E6.m1.2.2.1.1.4.4.7" xref="S4.E6.m1.2.2.1.1.4.5.cmml">;</mo><msub id="S4.E6.m1.2.2.1.1.3.3.3" xref="S4.E6.m1.2.2.1.1.3.3.3.cmml"><mi id="S4.E6.m1.2.2.1.1.3.3.3.2" xref="S4.E6.m1.2.2.1.1.3.3.3.2.cmml">𝑺</mi><mrow id="S4.E6.m1.2.2.1.1.3.3.3.3" xref="S4.E6.m1.2.2.1.1.3.3.3.3.cmml"><mi id="S4.E6.m1.2.2.1.1.3.3.3.3.2" xref="S4.E6.m1.2.2.1.1.3.3.3.3.2.cmml">𝒓</mi><mo id="S4.E6.m1.2.2.1.1.3.3.3.3.1" xref="S4.E6.m1.2.2.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.3.3.3.3.3" xref="S4.E6.m1.2.2.1.1.3.3.3.3.3.cmml">𝒆</mi><mo id="S4.E6.m1.2.2.1.1.3.3.3.3.1a" xref="S4.E6.m1.2.2.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.3.3.3.3.4" xref="S4.E6.m1.2.2.1.1.3.3.3.3.4.cmml">𝒄</mi></mrow></msub><mo id="S4.E6.m1.2.2.1.1.4.4.8" xref="S4.E6.m1.2.2.1.1.4.5.cmml">;</mo><mi id="S4.E6.m1.1.1" xref="S4.E6.m1.1.1.cmml">D</mi><mo id="S4.E6.m1.2.2.1.1.4.4.9" xref="S4.E6.m1.2.2.1.1.4.5.cmml">;</mo><msubsup id="S4.E6.m1.2.2.1.1.4.4.4" xref="S4.E6.m1.2.2.1.1.4.4.4.cmml"><mi id="S4.E6.m1.2.2.1.1.4.4.4.2.2" xref="S4.E6.m1.2.2.1.1.4.4.4.2.2.cmml">u</mi><mi id="S4.E6.m1.2.2.1.1.4.4.4.2.3" xref="S4.E6.m1.2.2.1.1.4.4.4.2.3.cmml">t</mi><mi id="S4.E6.m1.2.2.1.1.4.4.4.3" xref="S4.E6.m1.2.2.1.1.4.4.4.3.cmml">r</mi></msubsup><mo id="S4.E6.m1.2.2.1.1.4.4.10" xref="S4.E6.m1.2.2.1.1.4.5.cmml">]</mo></mrow></mrow><mo id="S4.E6.m1.2.2.1.2" lspace="0em" xref="S4.E6.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.2b"><apply id="S4.E6.m1.2.2.1.1.cmml" xref="S4.E6.m1.2.2.1"><eq id="S4.E6.m1.2.2.1.1.5.cmml" xref="S4.E6.m1.2.2.1.1.5"></eq><apply id="S4.E6.m1.2.2.1.1.6.cmml" xref="S4.E6.m1.2.2.1.1.6"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.6.1.cmml" xref="S4.E6.m1.2.2.1.1.6">superscript</csymbol><apply id="S4.E6.m1.2.2.1.1.6.2.cmml" xref="S4.E6.m1.2.2.1.1.6"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.6.2.1.cmml" xref="S4.E6.m1.2.2.1.1.6">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.6.2.2.cmml" xref="S4.E6.m1.2.2.1.1.6.2.2">𝐶</ci><apply id="S4.E6.m1.2.2.1.1.6.2.3.cmml" xref="S4.E6.m1.2.2.1.1.6.2.3"><times id="S4.E6.m1.2.2.1.1.6.2.3.1.cmml" xref="S4.E6.m1.2.2.1.1.6.2.3.1"></times><ci id="S4.E6.m1.2.2.1.1.6.2.3.2.cmml" xref="S4.E6.m1.2.2.1.1.6.2.3.2">𝑟</ci><ci id="S4.E6.m1.2.2.1.1.6.2.3.3.cmml" xref="S4.E6.m1.2.2.1.1.6.2.3.3">𝑒</ci><ci id="S4.E6.m1.2.2.1.1.6.2.3.4.cmml" xref="S4.E6.m1.2.2.1.1.6.2.3.4">𝑐</ci></apply></apply><ci id="S4.E6.m1.2.2.1.1.6.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3">′</ci></apply><list id="S4.E6.m1.2.2.1.1.4.5.cmml" xref="S4.E6.m1.2.2.1.1.4.4"><apply id="S4.E6.m1.2.2.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1">superscript</csymbol><apply id="S4.E6.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S4.E6.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2"><ci id="S4.E6.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2.1">bold-~</ci><ci id="S4.E6.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.2.2.2">𝑬</ci></apply><ci id="S4.E6.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.2.3">𝒍</ci></apply><ci id="S4.E6.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.3">bold-′</ci></apply><apply id="S4.E6.m1.2.2.1.1.2.2.2.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.2.2.2.1.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2">superscript</csymbol><apply id="S4.E6.m1.2.2.1.1.2.2.2.2.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2.2.2">𝑬</ci><ci id="S4.E6.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2.2.3">𝒈</ci></apply><ci id="S4.E6.m1.2.2.1.1.2.2.2.3.cmml" xref="S4.E6.m1.2.2.1.1.2.2.2.3">bold-′</ci></apply><apply id="S4.E6.m1.2.2.1.1.3.3.3.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.3.3.3.1.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.3.3.3.2.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.2">𝑺</ci><apply id="S4.E6.m1.2.2.1.1.3.3.3.3.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.3"><times id="S4.E6.m1.2.2.1.1.3.3.3.3.1.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.3.1"></times><ci id="S4.E6.m1.2.2.1.1.3.3.3.3.2.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.3.2">𝒓</ci><ci id="S4.E6.m1.2.2.1.1.3.3.3.3.3.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.3.3">𝒆</ci><ci id="S4.E6.m1.2.2.1.1.3.3.3.3.4.cmml" xref="S4.E6.m1.2.2.1.1.3.3.3.3.4">𝒄</ci></apply></apply><ci id="S4.E6.m1.1.1.cmml" xref="S4.E6.m1.1.1">𝐷</ci><apply id="S4.E6.m1.2.2.1.1.4.4.4.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.4.4.4.1.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4">superscript</csymbol><apply id="S4.E6.m1.2.2.1.1.4.4.4.2.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.4.4.4.2.1.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.4.4.4.2.2.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4.2.2">𝑢</ci><ci id="S4.E6.m1.2.2.1.1.4.4.4.2.3.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4.2.3">𝑡</ci></apply><ci id="S4.E6.m1.2.2.1.1.4.4.4.3.cmml" xref="S4.E6.m1.2.2.1.1.4.4.4.3">𝑟</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.2c">C_{rec}^{\prime}=\left[\bm{\tilde{E}_{l}^{\prime}};\bm{E_{g}^{\prime}};\bm{S_{%
rec}};D;u_{t}^{r}\right].</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.2d">italic_C start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = [ overbold_~ start_ARG bold_italic_E end_ARG start_POSTSUBSCRIPT bold_italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ; bold_italic_E start_POSTSUBSCRIPT bold_italic_g end_POSTSUBSCRIPT start_POSTSUPERSCRIPT bold_′ end_POSTSUPERSCRIPT ; bold_italic_S start_POSTSUBSCRIPT bold_italic_r bold_italic_e bold_italic_c end_POSTSUBSCRIPT ; italic_D ; italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2. </span>Feedback-aware Item Reweighting</h4>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.4">In the preceding section, we employ utterance-level user emotions to track user entity-based preferences.
In this section, we develop a reweighting strategy that is aware of user feedback <math alttext="{f}_{i_{k}}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.1.m1.1"><semantics id="S4.SS2.SSS2.p1.1.m1.1a"><msub id="S4.SS2.SSS2.p1.1.m1.1.1" xref="S4.SS2.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.1.m1.1.1.2" xref="S4.SS2.SSS2.p1.1.m1.1.1.2.cmml">f</mi><msub id="S4.SS2.SSS2.p1.1.m1.1.1.3" xref="S4.SS2.SSS2.p1.1.m1.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.1.m1.1.1.3.2" xref="S4.SS2.SSS2.p1.1.m1.1.1.3.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.1.m1.1.1.3.3" xref="S4.SS2.SSS2.p1.1.m1.1.1.3.3.cmml">k</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.1.m1.1b"><apply id="S4.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1.2">𝑓</ci><apply id="S4.SS2.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1.3.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.1.m1.1c">{f}_{i_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.1.m1.1d">italic_f start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> on each recommended item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.2.m2.1"><semantics id="S4.SS2.SSS2.p1.2.m2.1a"><msub id="S4.SS2.SSS2.p1.2.m2.1.1" xref="S4.SS2.SSS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS2.p1.2.m2.1.1.2" xref="S4.SS2.SSS2.p1.2.m2.1.1.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.2.m2.1.1.3" xref="S4.SS2.SSS2.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.2.m2.1b"><apply id="S4.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.2.m2.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.2.m2.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, aligning with the supervision labels provided in the dataset but ignored by most CRS methods.
Specifically, we introduce a mapping function <math alttext="m(f_{i_{k}})" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.3.m3.1"><semantics id="S4.SS2.SSS2.p1.3.m3.1a"><mrow id="S4.SS2.SSS2.p1.3.m3.1.1" xref="S4.SS2.SSS2.p1.3.m3.1.1.cmml"><mi id="S4.SS2.SSS2.p1.3.m3.1.1.3" xref="S4.SS2.SSS2.p1.3.m3.1.1.3.cmml">m</mi><mo id="S4.SS2.SSS2.p1.3.m3.1.1.2" xref="S4.SS2.SSS2.p1.3.m3.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS2.p1.3.m3.1.1.1.1" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.2" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.2.cmml">f</mi><msub id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.2" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.3" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.3.m3.1b"><apply id="S4.SS2.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1"><times id="S4.SS2.SSS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.2"></times><ci id="S4.SS2.SSS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.3">𝑚</ci><apply id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.2">𝑓</ci><apply id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.3.m3.1c">m(f_{i_{k}})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.3.m3.1d">italic_m ( italic_f start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> that converts each user feedback <math alttext="f_{i_{k}}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.4.m4.1"><semantics id="S4.SS2.SSS2.p1.4.m4.1a"><msub id="S4.SS2.SSS2.p1.4.m4.1.1" xref="S4.SS2.SSS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.SSS2.p1.4.m4.1.1.2" xref="S4.SS2.SSS2.p1.4.m4.1.1.2.cmml">f</mi><msub id="S4.SS2.SSS2.p1.4.m4.1.1.3" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.4.m4.1.1.3.2" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.4.m4.1.1.3.3" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.3.cmml">k</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.4.m4.1b"><apply id="S4.SS2.SSS2.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.2">𝑓</ci><apply id="S4.SS2.SSS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.4.m4.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS2.p1.4.m4.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.4.m4.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.4.m4.1c">f_{i_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.4.m4.1d">italic_f start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> as a weight scalar.
The mapping function converts negative or unclear feedback into a lower weight.
Based on the weight scalars, we rewrite the cross-entropy loss for item recommendation subtask as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{rec}=-\sum_{k=i}^{N}m(f_{i_{k}})\log Pr(i_{k}\mid C_{rec}^{\prime})," class="ltx_Math" display="block" id="S4.E7.m1.1"><semantics id="S4.E7.m1.1a"><mrow id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.4" xref="S4.E7.m1.1.1.1.1.4.cmml"><mi id="S4.E7.m1.1.1.1.1.4.2" xref="S4.E7.m1.1.1.1.1.4.2.cmml">L</mi><mrow id="S4.E7.m1.1.1.1.1.4.3" xref="S4.E7.m1.1.1.1.1.4.3.cmml"><mi id="S4.E7.m1.1.1.1.1.4.3.2" xref="S4.E7.m1.1.1.1.1.4.3.2.cmml">r</mi><mo id="S4.E7.m1.1.1.1.1.4.3.1" xref="S4.E7.m1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.4.3.3" xref="S4.E7.m1.1.1.1.1.4.3.3.cmml">e</mi><mo id="S4.E7.m1.1.1.1.1.4.3.1a" xref="S4.E7.m1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.4.3.4" xref="S4.E7.m1.1.1.1.1.4.3.4.cmml">c</mi></mrow></msub><mo id="S4.E7.m1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.3.cmml">=</mo><mrow id="S4.E7.m1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.2.cmml"><mo id="S4.E7.m1.1.1.1.1.2a" xref="S4.E7.m1.1.1.1.1.2.cmml">−</mo><mrow id="S4.E7.m1.1.1.1.1.2.2" xref="S4.E7.m1.1.1.1.1.2.2.cmml"><munderover id="S4.E7.m1.1.1.1.1.2.2.3" xref="S4.E7.m1.1.1.1.1.2.2.3.cmml"><mo id="S4.E7.m1.1.1.1.1.2.2.3.2.2" movablelimits="false" xref="S4.E7.m1.1.1.1.1.2.2.3.2.2.cmml">∑</mo><mrow id="S4.E7.m1.1.1.1.1.2.2.3.2.3" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.3.2.3.2" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.2.cmml">k</mi><mo id="S4.E7.m1.1.1.1.1.2.2.3.2.3.1" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.1.cmml">=</mo><mi id="S4.E7.m1.1.1.1.1.2.2.3.2.3.3" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.3.cmml">i</mi></mrow><mi id="S4.E7.m1.1.1.1.1.2.2.3.3" xref="S4.E7.m1.1.1.1.1.2.2.3.3.cmml">N</mi></munderover><mrow id="S4.E7.m1.1.1.1.1.2.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.4" xref="S4.E7.m1.1.1.1.1.2.2.2.4.cmml">m</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">f</mi><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">i</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.E7.m1.1.1.1.1.2.2.2.3a" lspace="0.167em" xref="S4.E7.m1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S4.E7.m1.1.1.1.1.2.2.2.5" xref="S4.E7.m1.1.1.1.1.2.2.2.5.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.5.1" xref="S4.E7.m1.1.1.1.1.2.2.2.5.1.cmml">log</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.5a" lspace="0.167em" xref="S4.E7.m1.1.1.1.1.2.2.2.5.cmml">⁡</mo><mrow id="S4.E7.m1.1.1.1.1.2.2.2.5.2" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.5.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.2.cmml">P</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.5.2.1" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.2.2.2.5.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.3.cmml">r</mi></mrow></mrow><mo id="S4.E7.m1.1.1.1.1.2.2.2.3b" xref="S4.E7.m1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.cmml"><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.2" stretchy="false" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.cmml">(</mo><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.2.cmml">i</mi><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.3.cmml">k</mi></msub><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.1.cmml">∣</mo><msubsup id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.2.cmml">C</mi><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.2.cmml">r</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.3.cmml">e</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1a" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.4" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.4.cmml">c</mi></mrow><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.3.cmml">′</mo></msubsup></mrow><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.1.3" stretchy="false" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.E7.m1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.1b"><apply id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1"><eq id="S4.E7.m1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.3"></eq><apply id="S4.E7.m1.1.1.1.1.4.cmml" xref="S4.E7.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.4.1.cmml" xref="S4.E7.m1.1.1.1.1.4">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.4.2.cmml" xref="S4.E7.m1.1.1.1.1.4.2">𝐿</ci><apply id="S4.E7.m1.1.1.1.1.4.3.cmml" xref="S4.E7.m1.1.1.1.1.4.3"><times id="S4.E7.m1.1.1.1.1.4.3.1.cmml" xref="S4.E7.m1.1.1.1.1.4.3.1"></times><ci id="S4.E7.m1.1.1.1.1.4.3.2.cmml" xref="S4.E7.m1.1.1.1.1.4.3.2">𝑟</ci><ci id="S4.E7.m1.1.1.1.1.4.3.3.cmml" xref="S4.E7.m1.1.1.1.1.4.3.3">𝑒</ci><ci id="S4.E7.m1.1.1.1.1.4.3.4.cmml" xref="S4.E7.m1.1.1.1.1.4.3.4">𝑐</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.2"><minus id="S4.E7.m1.1.1.1.1.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2"></minus><apply id="S4.E7.m1.1.1.1.1.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2"><apply id="S4.E7.m1.1.1.1.1.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3">superscript</csymbol><apply id="S4.E7.m1.1.1.1.1.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.3.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3">subscript</csymbol><sum id="S4.E7.m1.1.1.1.1.2.2.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.2.2"></sum><apply id="S4.E7.m1.1.1.1.1.2.2.3.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3"><eq id="S4.E7.m1.1.1.1.1.2.2.3.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.1"></eq><ci id="S4.E7.m1.1.1.1.1.2.2.3.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.2">𝑘</ci><ci id="S4.E7.m1.1.1.1.1.2.2.3.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.2.3.3">𝑖</ci></apply></apply><ci id="S4.E7.m1.1.1.1.1.2.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.3.3">𝑁</ci></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2"><times id="S4.E7.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.3"></times><ci id="S4.E7.m1.1.1.1.1.2.2.2.4.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.4">𝑚</ci><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2">𝑓</ci><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.5.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5"><log id="S4.E7.m1.1.1.1.1.2.2.2.5.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5.1"></log><apply id="S4.E7.m1.1.1.1.1.2.2.2.5.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2"><times id="S4.E7.m1.1.1.1.1.2.2.2.5.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.1"></times><ci id="S4.E7.m1.1.1.1.1.2.2.2.5.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.2">𝑃</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.5.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.5.2.3">𝑟</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1"><csymbol cd="latexml" id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.1">conditional</csymbol><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.2">𝑖</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.2.3">𝑘</ci></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3">superscript</csymbol><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.2">𝐶</ci><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3"><times id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.1"></times><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.2">𝑟</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.3">𝑒</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.4.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.2.3.4">𝑐</ci></apply></apply><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.1.1.3.3">′</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.1c">L_{rec}=-\sum_{k=i}^{N}m(f_{i_{k}})\log Pr(i_{k}\mid C_{rec}^{\prime}),</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.1d">italic_L start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT italic_k = italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT italic_m ( italic_f start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) roman_log italic_P italic_r ( italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∣ italic_C start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS2.p1.8">where <math alttext="N" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.5.m1.1"><semantics id="S4.SS2.SSS2.p1.5.m1.1a"><mi id="S4.SS2.SSS2.p1.5.m1.1.1" xref="S4.SS2.SSS2.p1.5.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.5.m1.1b"><ci id="S4.SS2.SSS2.p1.5.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.5.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.5.m1.1d">italic_N</annotation></semantics></math> represents the total number of training instances, and <math alttext="Pr(i_{k}\mid C_{rec}^{\prime})" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.6.m2.1"><semantics id="S4.SS2.SSS2.p1.6.m2.1a"><mrow id="S4.SS2.SSS2.p1.6.m2.1.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.cmml">P</mi><mo id="S4.SS2.SSS2.p1.6.m2.1.1.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.2.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.6.m2.1.1.4" xref="S4.SS2.SSS2.p1.6.m2.1.1.4.cmml">r</mi><mo id="S4.SS2.SSS2.p1.6.m2.1.1.2a" xref="S4.SS2.SSS2.p1.6.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS2.p1.6.m2.1.1.1.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.cmml"><msub id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.1.cmml">∣</mo><msubsup id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.2.cmml">C</mi><mrow id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.2.cmml">r</mi><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.3.cmml">e</mi><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1a" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.4" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.4.cmml">c</mi></mrow><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.3.cmml">′</mo></msubsup></mrow><mo id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.6.m2.1b"><apply id="S4.SS2.SSS2.p1.6.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1"><times id="S4.SS2.SSS2.p1.6.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.2"></times><ci id="S4.SS2.SSS2.p1.6.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.3">𝑃</ci><ci id="S4.SS2.SSS2.p1.6.m2.1.1.4.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.4">𝑟</ci><apply id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.2">𝐶</ci><apply id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3"><times id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.1"></times><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.2">𝑟</ci><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.3">𝑒</ci><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.4.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.2.3.4">𝑐</ci></apply></apply><ci id="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.1.1.1.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.6.m2.1c">Pr(i_{k}\mid C_{rec}^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.6.m2.1d">italic_P italic_r ( italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∣ italic_C start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math> refers to the predicted probability of the recommended item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.7.m3.1"><semantics id="S4.SS2.SSS2.p1.7.m3.1a"><msub id="S4.SS2.SSS2.p1.7.m3.1.1" xref="S4.SS2.SSS2.p1.7.m3.1.1.cmml"><mi id="S4.SS2.SSS2.p1.7.m3.1.1.2" xref="S4.SS2.SSS2.p1.7.m3.1.1.2.cmml">i</mi><mi id="S4.SS2.SSS2.p1.7.m3.1.1.3" xref="S4.SS2.SSS2.p1.7.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.7.m3.1b"><apply id="S4.SS2.SSS2.p1.7.m3.1.1.cmml" xref="S4.SS2.SSS2.p1.7.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.7.m3.1.1.1.cmml" xref="S4.SS2.SSS2.p1.7.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.7.m3.1.1.2.cmml" xref="S4.SS2.SSS2.p1.7.m3.1.1.2">𝑖</ci><ci id="S4.SS2.SSS2.p1.7.m3.1.1.3.cmml" xref="S4.SS2.SSS2.p1.7.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.7.m3.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.7.m3.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> given the emotion-aware recommendation prompt <math alttext="C_{rec}^{\prime}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.8.m4.1"><semantics id="S4.SS2.SSS2.p1.8.m4.1a"><msubsup id="S4.SS2.SSS2.p1.8.m4.1.1" xref="S4.SS2.SSS2.p1.8.m4.1.1.cmml"><mi id="S4.SS2.SSS2.p1.8.m4.1.1.2.2" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.2.cmml">C</mi><mrow id="S4.SS2.SSS2.p1.8.m4.1.1.2.3" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.cmml"><mi id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.2" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.2.cmml">r</mi><mo id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.3" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.3.cmml">e</mi><mo id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1a" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.4" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.4.cmml">c</mi></mrow><mo id="S4.SS2.SSS2.p1.8.m4.1.1.3" xref="S4.SS2.SSS2.p1.8.m4.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.8.m4.1b"><apply id="S4.SS2.SSS2.p1.8.m4.1.1.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.8.m4.1.1.1.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1">superscript</csymbol><apply id="S4.SS2.SSS2.p1.8.m4.1.1.2.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.8.m4.1.1.2.1.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.8.m4.1.1.2.2.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.2">𝐶</ci><apply id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3"><times id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.1"></times><ci id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.2.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.2">𝑟</ci><ci id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.3.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.3">𝑒</ci><ci id="S4.SS2.SSS2.p1.8.m4.1.1.2.3.4.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.2.3.4">𝑐</ci></apply></apply><ci id="S4.SS2.SSS2.p1.8.m4.1.1.3.cmml" xref="S4.SS2.SSS2.p1.8.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.8.m4.1c">C_{rec}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.8.m4.1d">italic_C start_POSTSUBSCRIPT italic_r italic_e italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Emotion-aligned Response Generation</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.2">To support an engaging user experience, we generate an <em class="ltx_emph ltx_font_italic" id="S4.SS3.p1.2.1">emotion-aligned response</em> <math alttext="u_{t}^{e}" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><msubsup id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml"><mi id="S4.SS3.p1.1.m1.1.1.2.2" xref="S4.SS3.p1.1.m1.1.1.2.2.cmml">u</mi><mi id="S4.SS3.p1.1.m1.1.1.2.3" xref="S4.SS3.p1.1.m1.1.1.2.3.cmml">t</mi><mi id="S4.SS3.p1.1.m1.1.1.3" xref="S4.SS3.p1.1.m1.1.1.3.cmml">e</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">superscript</csymbol><apply id="S4.SS3.p1.1.m1.1.1.2.cmml" xref="S4.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.1.m1.1.1.2.1.cmml" xref="S4.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p1.1.m1.1.1.2.2.cmml" xref="S4.SS3.p1.1.m1.1.1.2.2">𝑢</ci><ci id="S4.SS3.p1.1.m1.1.1.2.3.cmml" xref="S4.SS3.p1.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.p1.1.m1.1.1.3.cmml" xref="S4.SS3.p1.1.m1.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">u_{t}^{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT</annotation></semantics></math> to enrich the recommendation response <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><msubsup id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mi id="S4.SS3.p1.2.m2.1.1.2.2" xref="S4.SS3.p1.2.m2.1.1.2.2.cmml">u</mi><mi id="S4.SS3.p1.2.m2.1.1.2.3" xref="S4.SS3.p1.2.m2.1.1.2.3.cmml">t</mi><mi id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">superscript</csymbol><apply id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.2.m2.1.1.2.1.cmml" xref="S4.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p1.2.m2.1.1.2.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2.2">𝑢</ci><ci id="S4.SS3.p1.2.m2.1.1.2.3.cmml" xref="S4.SS3.p1.2.m2.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> generated by the UniCRS.
In this section, we construct an emotion-aligned generation prompt and train an emotion-aligned generator.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1. </span>Emotion-aligned Generation Prompt</h4>
<div class="ltx_para" id="S4.SS3.SSS1.p1">
<p class="ltx_p" id="S4.SS3.SSS1.p1.1">While PLMs can memorize information from their training corpus, <cite class="ltx_cite ltx_citemacro_citet">Ji et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib18" title="">2023</a>)</cite> have shown that PLMs often exhibit hallucinations, which may diminish users’ satisfaction with their usage.
Teaching PLMs to accurately retain knowledge is resource-intensive and challenging.
Thus, we construct an emotion-aligned generation prompt based on retrieved knowledge to enhance the informativeness in the responses while mitigating hallucination.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p2">
<p class="ltx_p" id="S4.SS3.SSS1.p2.9">Specifically, during the training stage, given the extracted knowledge entities <math alttext="E_{r}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.1.m1.1"><semantics id="S4.SS3.SSS1.p2.1.m1.1a"><msub id="S4.SS3.SSS1.p2.1.m1.1.1" xref="S4.SS3.SSS1.p2.1.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.1.m1.1.1.2" xref="S4.SS3.SSS1.p2.1.m1.1.1.2.cmml">E</mi><mi id="S4.SS3.SSS1.p2.1.m1.1.1.3" xref="S4.SS3.SSS1.p2.1.m1.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.1.m1.1b"><apply id="S4.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1.2">𝐸</ci><ci id="S4.SS3.SSS1.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.1.m1.1c">E_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.1.m1.1d">italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> and the retrieved knowledge triples <math alttext="\mathcal{T}_{r}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.2.m2.1"><semantics id="S4.SS3.SSS1.p2.2.m2.1a"><msub id="S4.SS3.SSS1.p2.2.m2.1.1" xref="S4.SS3.SSS1.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.2.m2.1.1.2" xref="S4.SS3.SSS1.p2.2.m2.1.1.2.cmml">𝒯</mi><mi id="S4.SS3.SSS1.p2.2.m2.1.1.3" xref="S4.SS3.SSS1.p2.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.2.m2.1b"><apply id="S4.SS3.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1.2">𝒯</ci><ci id="S4.SS3.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.2.m2.1c">\mathcal{T}_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.2.m2.1d">caligraphic_T start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math>, we transform the entities and triples into word sequences, represented as <math alttext="S_{\mathcal{T}_{r}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.3.m3.1"><semantics id="S4.SS3.SSS1.p2.3.m3.1a"><msub id="S4.SS3.SSS1.p2.3.m3.1.1" xref="S4.SS3.SSS1.p2.3.m3.1.1.cmml"><mi id="S4.SS3.SSS1.p2.3.m3.1.1.2" xref="S4.SS3.SSS1.p2.3.m3.1.1.2.cmml">S</mi><msub id="S4.SS3.SSS1.p2.3.m3.1.1.3" xref="S4.SS3.SSS1.p2.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.3.m3.1.1.3.2" xref="S4.SS3.SSS1.p2.3.m3.1.1.3.2.cmml">𝒯</mi><mi id="S4.SS3.SSS1.p2.3.m3.1.1.3.3" xref="S4.SS3.SSS1.p2.3.m3.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.3.m3.1b"><apply id="S4.SS3.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.3.m3.1.1.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.3.m3.1.1.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1.2">𝑆</ci><apply id="S4.SS3.SSS1.p2.3.m3.1.1.3.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.3.m3.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.3.m3.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1.3.2">𝒯</ci><ci id="S4.SS3.SSS1.p2.3.m3.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.3.m3.1c">S_{\mathcal{T}_{r}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.3.m3.1d">italic_S start_POSTSUBSCRIPT caligraphic_T start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="S_{E_{r}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.4.m4.1"><semantics id="S4.SS3.SSS1.p2.4.m4.1a"><msub id="S4.SS3.SSS1.p2.4.m4.1.1" xref="S4.SS3.SSS1.p2.4.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p2.4.m4.1.1.2" xref="S4.SS3.SSS1.p2.4.m4.1.1.2.cmml">S</mi><msub id="S4.SS3.SSS1.p2.4.m4.1.1.3" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.4.m4.1.1.3.2" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.2.cmml">E</mi><mi id="S4.SS3.SSS1.p2.4.m4.1.1.3.3" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.4.m4.1b"><apply id="S4.SS3.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.4.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.4.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.2">𝑆</ci><apply id="S4.SS3.SSS1.p2.4.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.4.m4.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.4.m4.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.2">𝐸</ci><ci id="S4.SS3.SSS1.p2.4.m4.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.4.m4.1c">S_{E_{r}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.4.m4.1d">italic_S start_POSTSUBSCRIPT italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
The prompt for generating emotional review <math alttext="r" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.5.m5.1"><semantics id="S4.SS3.SSS1.p2.5.m5.1a"><mi id="S4.SS3.SSS1.p2.5.m5.1.1" xref="S4.SS3.SSS1.p2.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.5.m5.1b"><ci id="S4.SS3.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p2.5.m5.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.5.m5.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.5.m5.1d">italic_r</annotation></semantics></math> consists of the word sequence of the knowledge entities <math alttext="S_{E_{r}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.6.m6.1"><semantics id="S4.SS3.SSS1.p2.6.m6.1a"><msub id="S4.SS3.SSS1.p2.6.m6.1.1" xref="S4.SS3.SSS1.p2.6.m6.1.1.cmml"><mi id="S4.SS3.SSS1.p2.6.m6.1.1.2" xref="S4.SS3.SSS1.p2.6.m6.1.1.2.cmml">S</mi><msub id="S4.SS3.SSS1.p2.6.m6.1.1.3" xref="S4.SS3.SSS1.p2.6.m6.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.6.m6.1.1.3.2" xref="S4.SS3.SSS1.p2.6.m6.1.1.3.2.cmml">E</mi><mi id="S4.SS3.SSS1.p2.6.m6.1.1.3.3" xref="S4.SS3.SSS1.p2.6.m6.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.6.m6.1b"><apply id="S4.SS3.SSS1.p2.6.m6.1.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.6.m6.1.1.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.6.m6.1.1.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1.2">𝑆</ci><apply id="S4.SS3.SSS1.p2.6.m6.1.1.3.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1.3.2">𝐸</ci><ci id="S4.SS3.SSS1.p2.6.m6.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.6.m6.1c">S_{E_{r}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.6.m6.1d">italic_S start_POSTSUBSCRIPT italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, knowledge triples <math alttext="S_{\mathcal{T}_{r}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.7.m7.1"><semantics id="S4.SS3.SSS1.p2.7.m7.1a"><msub id="S4.SS3.SSS1.p2.7.m7.1.1" xref="S4.SS3.SSS1.p2.7.m7.1.1.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.1.1.2" xref="S4.SS3.SSS1.p2.7.m7.1.1.2.cmml">S</mi><msub id="S4.SS3.SSS1.p2.7.m7.1.1.3" xref="S4.SS3.SSS1.p2.7.m7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.7.m7.1.1.3.2" xref="S4.SS3.SSS1.p2.7.m7.1.1.3.2.cmml">𝒯</mi><mi id="S4.SS3.SSS1.p2.7.m7.1.1.3.3" xref="S4.SS3.SSS1.p2.7.m7.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.7.m7.1b"><apply id="S4.SS3.SSS1.p2.7.m7.1.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.1.1.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.1.1.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.2">𝑆</ci><apply id="S4.SS3.SSS1.p2.7.m7.1.1.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.3.2">𝒯</ci><ci id="S4.SS3.SSS1.p2.7.m7.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.7.m7.1c">S_{\mathcal{T}_{r}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.7.m7.1d">italic_S start_POSTSUBSCRIPT caligraphic_T start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, and the item name <math alttext="S_{i_{r}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.8.m8.1"><semantics id="S4.SS3.SSS1.p2.8.m8.1a"><msub id="S4.SS3.SSS1.p2.8.m8.1.1" xref="S4.SS3.SSS1.p2.8.m8.1.1.cmml"><mi id="S4.SS3.SSS1.p2.8.m8.1.1.2" xref="S4.SS3.SSS1.p2.8.m8.1.1.2.cmml">S</mi><msub id="S4.SS3.SSS1.p2.8.m8.1.1.3" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.8.m8.1.1.3.2" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.8.m8.1.1.3.3" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.8.m8.1b"><apply id="S4.SS3.SSS1.p2.8.m8.1.1.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.8.m8.1.1.1.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.8.m8.1.1.2.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.2">𝑆</ci><apply id="S4.SS3.SSS1.p2.8.m8.1.1.3.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.8.m8.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.8.m8.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.8.m8.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.8.m8.1c">S_{i_{r}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.8.m8.1d">italic_S start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
Then, we incorporate the recommendation response <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.9.m9.1"><semantics id="S4.SS3.SSS1.p2.9.m9.1a"><msubsup id="S4.SS3.SSS1.p2.9.m9.1.1" xref="S4.SS3.SSS1.p2.9.m9.1.1.cmml"><mi id="S4.SS3.SSS1.p2.9.m9.1.1.2.2" xref="S4.SS3.SSS1.p2.9.m9.1.1.2.2.cmml">u</mi><mi id="S4.SS3.SSS1.p2.9.m9.1.1.2.3" xref="S4.SS3.SSS1.p2.9.m9.1.1.2.3.cmml">t</mi><mi id="S4.SS3.SSS1.p2.9.m9.1.1.3" xref="S4.SS3.SSS1.p2.9.m9.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.9.m9.1b"><apply id="S4.SS3.SSS1.p2.9.m9.1.1.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.9.m9.1.1.1.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1">superscript</csymbol><apply id="S4.SS3.SSS1.p2.9.m9.1.1.2.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.9.m9.1.1.2.1.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.9.m9.1.1.2.2.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1.2.2">𝑢</ci><ci id="S4.SS3.SSS1.p2.9.m9.1.1.2.3.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS1.p2.9.m9.1.1.3.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.9.m9.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.9.m9.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> into the prompt, guiding the model to generate contextually relevant responses.
The emotion-aligned generation prompt is formally denoted as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="C_{gen}^{e}=\left[S_{E_{r}};S_{\mathcal{T}};S_{i_{r}};u_{t}^{r}\right]." class="ltx_Math" display="block" id="S4.E8.m1.1"><semantics id="S4.E8.m1.1a"><mrow id="S4.E8.m1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml"><mrow id="S4.E8.m1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml"><msubsup id="S4.E8.m1.1.1.1.1.6" xref="S4.E8.m1.1.1.1.1.6.cmml"><mi id="S4.E8.m1.1.1.1.1.6.2.2" xref="S4.E8.m1.1.1.1.1.6.2.2.cmml">C</mi><mrow id="S4.E8.m1.1.1.1.1.6.2.3" xref="S4.E8.m1.1.1.1.1.6.2.3.cmml"><mi id="S4.E8.m1.1.1.1.1.6.2.3.2" xref="S4.E8.m1.1.1.1.1.6.2.3.2.cmml">g</mi><mo id="S4.E8.m1.1.1.1.1.6.2.3.1" xref="S4.E8.m1.1.1.1.1.6.2.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.6.2.3.3" xref="S4.E8.m1.1.1.1.1.6.2.3.3.cmml">e</mi><mo id="S4.E8.m1.1.1.1.1.6.2.3.1a" xref="S4.E8.m1.1.1.1.1.6.2.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.6.2.3.4" xref="S4.E8.m1.1.1.1.1.6.2.3.4.cmml">n</mi></mrow><mi id="S4.E8.m1.1.1.1.1.6.3" xref="S4.E8.m1.1.1.1.1.6.3.cmml">e</mi></msubsup><mo id="S4.E8.m1.1.1.1.1.5" xref="S4.E8.m1.1.1.1.1.5.cmml">=</mo><mrow id="S4.E8.m1.1.1.1.1.4.4" xref="S4.E8.m1.1.1.1.1.4.5.cmml"><mo id="S4.E8.m1.1.1.1.1.4.4.5" xref="S4.E8.m1.1.1.1.1.4.5.cmml">[</mo><msub id="S4.E8.m1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.1.1.2.cmml">S</mi><msub id="S4.E8.m1.1.1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.1.1.1.1.3.2.cmml">E</mi><mi id="S4.E8.m1.1.1.1.1.1.1.1.3.3" xref="S4.E8.m1.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub></msub><mo id="S4.E8.m1.1.1.1.1.4.4.6" xref="S4.E8.m1.1.1.1.1.4.5.cmml">;</mo><msub id="S4.E8.m1.1.1.1.1.2.2.2" xref="S4.E8.m1.1.1.1.1.2.2.2.cmml"><mi id="S4.E8.m1.1.1.1.1.2.2.2.2" xref="S4.E8.m1.1.1.1.1.2.2.2.2.cmml">S</mi><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.1.1.1.1.2.2.2.3" xref="S4.E8.m1.1.1.1.1.2.2.2.3.cmml">𝒯</mi></msub><mo id="S4.E8.m1.1.1.1.1.4.4.7" xref="S4.E8.m1.1.1.1.1.4.5.cmml">;</mo><msub id="S4.E8.m1.1.1.1.1.3.3.3" xref="S4.E8.m1.1.1.1.1.3.3.3.cmml"><mi id="S4.E8.m1.1.1.1.1.3.3.3.2" xref="S4.E8.m1.1.1.1.1.3.3.3.2.cmml">S</mi><msub id="S4.E8.m1.1.1.1.1.3.3.3.3" xref="S4.E8.m1.1.1.1.1.3.3.3.3.cmml"><mi id="S4.E8.m1.1.1.1.1.3.3.3.3.2" xref="S4.E8.m1.1.1.1.1.3.3.3.3.2.cmml">i</mi><mi id="S4.E8.m1.1.1.1.1.3.3.3.3.3" xref="S4.E8.m1.1.1.1.1.3.3.3.3.3.cmml">r</mi></msub></msub><mo id="S4.E8.m1.1.1.1.1.4.4.8" xref="S4.E8.m1.1.1.1.1.4.5.cmml">;</mo><msubsup id="S4.E8.m1.1.1.1.1.4.4.4" xref="S4.E8.m1.1.1.1.1.4.4.4.cmml"><mi id="S4.E8.m1.1.1.1.1.4.4.4.2.2" xref="S4.E8.m1.1.1.1.1.4.4.4.2.2.cmml">u</mi><mi id="S4.E8.m1.1.1.1.1.4.4.4.2.3" xref="S4.E8.m1.1.1.1.1.4.4.4.2.3.cmml">t</mi><mi id="S4.E8.m1.1.1.1.1.4.4.4.3" xref="S4.E8.m1.1.1.1.1.4.4.4.3.cmml">r</mi></msubsup><mo id="S4.E8.m1.1.1.1.1.4.4.9" xref="S4.E8.m1.1.1.1.1.4.5.cmml">]</mo></mrow></mrow><mo id="S4.E8.m1.1.1.1.2" lspace="0em" xref="S4.E8.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.1b"><apply id="S4.E8.m1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1"><eq id="S4.E8.m1.1.1.1.1.5.cmml" xref="S4.E8.m1.1.1.1.1.5"></eq><apply id="S4.E8.m1.1.1.1.1.6.cmml" xref="S4.E8.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.6.1.cmml" xref="S4.E8.m1.1.1.1.1.6">superscript</csymbol><apply id="S4.E8.m1.1.1.1.1.6.2.cmml" xref="S4.E8.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.6.2.1.cmml" xref="S4.E8.m1.1.1.1.1.6">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.6.2.2.cmml" xref="S4.E8.m1.1.1.1.1.6.2.2">𝐶</ci><apply id="S4.E8.m1.1.1.1.1.6.2.3.cmml" xref="S4.E8.m1.1.1.1.1.6.2.3"><times id="S4.E8.m1.1.1.1.1.6.2.3.1.cmml" xref="S4.E8.m1.1.1.1.1.6.2.3.1"></times><ci id="S4.E8.m1.1.1.1.1.6.2.3.2.cmml" xref="S4.E8.m1.1.1.1.1.6.2.3.2">𝑔</ci><ci id="S4.E8.m1.1.1.1.1.6.2.3.3.cmml" xref="S4.E8.m1.1.1.1.1.6.2.3.3">𝑒</ci><ci id="S4.E8.m1.1.1.1.1.6.2.3.4.cmml" xref="S4.E8.m1.1.1.1.1.6.2.3.4">𝑛</ci></apply></apply><ci id="S4.E8.m1.1.1.1.1.6.3.cmml" xref="S4.E8.m1.1.1.1.1.6.3">𝑒</ci></apply><list id="S4.E8.m1.1.1.1.1.4.5.cmml" xref="S4.E8.m1.1.1.1.1.4.4"><apply id="S4.E8.m1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="S4.E8.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.3.2">𝐸</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.3.3">𝑟</ci></apply></apply><apply id="S4.E8.m1.1.1.1.1.2.2.2.cmml" xref="S4.E8.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.2.2.2.1.cmml" xref="S4.E8.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.2.2.2.2.cmml" xref="S4.E8.m1.1.1.1.1.2.2.2.2">𝑆</ci><ci id="S4.E8.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E8.m1.1.1.1.1.2.2.2.3">𝒯</ci></apply><apply id="S4.E8.m1.1.1.1.1.3.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.3.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.3.3.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3.2">𝑆</ci><apply id="S4.E8.m1.1.1.1.1.3.3.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3.3.2">𝑖</ci><ci id="S4.E8.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.3.3.3.3">𝑟</ci></apply></apply><apply id="S4.E8.m1.1.1.1.1.4.4.4.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.4.4.4.1.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4">superscript</csymbol><apply id="S4.E8.m1.1.1.1.1.4.4.4.2.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.4.4.4.2.1.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.4.4.4.2.2.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4.2.2">𝑢</ci><ci id="S4.E8.m1.1.1.1.1.4.4.4.2.3.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4.2.3">𝑡</ci></apply><ci id="S4.E8.m1.1.1.1.1.4.4.4.3.cmml" xref="S4.E8.m1.1.1.1.1.4.4.4.3">𝑟</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.1c">C_{gen}^{e}=\left[S_{E_{r}};S_{\mathcal{T}};S_{i_{r}};u_{t}^{r}\right].</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.1d">italic_C start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT = [ italic_S start_POSTSUBSCRIPT italic_E start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT ; italic_S start_POSTSUBSCRIPT caligraphic_T end_POSTSUBSCRIPT ; italic_S start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUBSCRIPT ; italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.SSS1.p2.19">During the inference stage for generating emotion-aligned responses <math alttext="u_{t}^{e}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.10.m1.1"><semantics id="S4.SS3.SSS1.p2.10.m1.1a"><msubsup id="S4.SS3.SSS1.p2.10.m1.1.1" xref="S4.SS3.SSS1.p2.10.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.10.m1.1.1.2.2" xref="S4.SS3.SSS1.p2.10.m1.1.1.2.2.cmml">u</mi><mi id="S4.SS3.SSS1.p2.10.m1.1.1.2.3" xref="S4.SS3.SSS1.p2.10.m1.1.1.2.3.cmml">t</mi><mi id="S4.SS3.SSS1.p2.10.m1.1.1.3" xref="S4.SS3.SSS1.p2.10.m1.1.1.3.cmml">e</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.10.m1.1b"><apply id="S4.SS3.SSS1.p2.10.m1.1.1.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.10.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1">superscript</csymbol><apply id="S4.SS3.SSS1.p2.10.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.10.m1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.10.m1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1.2.2">𝑢</ci><ci id="S4.SS3.SSS1.p2.10.m1.1.1.2.3.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS1.p2.10.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.10.m1.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.10.m1.1c">u_{t}^{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.10.m1.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT</annotation></semantics></math>, we followed the same prompt design as in Eq. <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S4.E8" title="In 4.3.1. Emotion-aligned Generation Prompt ‣ 4.3. Emotion-aligned Response Generation ‣ 4. Method ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">8</span></a>.
We retrieve knowledge triples <math alttext="\mathcal{T}_{i_{k}}=\{\langle i_{k},l,e_{j}\rangle\}^{|\mathcal{T}_{i_{k}}|}_{%
j=1}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.11.m2.3"><semantics id="S4.SS3.SSS1.p2.11.m2.3a"><mrow id="S4.SS3.SSS1.p2.11.m2.3.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.cmml"><msub id="S4.SS3.SSS1.p2.11.m2.3.3.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.11.m2.3.3.3.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.2.cmml">𝒯</mi><msub id="S4.SS3.SSS1.p2.11.m2.3.3.3.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3.cmml"><mi id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3.3.cmml">k</mi></msub></msub><mo id="S4.SS3.SSS1.p2.11.m2.3.3.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.2.cmml">=</mo><msubsup id="S4.SS3.SSS1.p2.11.m2.3.3.1" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.cmml"><mrow id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.2.cmml"><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.2.cmml">{</mo><mrow id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml"><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.3" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml">⟨</mo><msub id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.4" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml">,</mo><mi id="S4.SS3.SSS1.p2.11.m2.2.2" xref="S4.SS3.SSS1.p2.11.m2.2.2.cmml">l</mi><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.5" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml">,</mo><msub id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.cmml"><mi id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.2.cmml">e</mi><mi id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.3.cmml">j</mi></msub><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.6" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml">⟩</mo></mrow><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.SSS1.p2.11.m2.3.3.1.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.cmml"><mi id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.2" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.2.cmml">j</mi><mo id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.1" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.1.cmml">=</mo><mn id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.3" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS3.SSS1.p2.11.m2.1.1.1.1" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.2.cmml"><mo id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.2.1.cmml">|</mo><msub id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.2.cmml">𝒯</mi><msub id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.2" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.3" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.11.m2.3b"><apply id="S4.SS3.SSS1.p2.11.m2.3.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3"><eq id="S4.SS3.SSS1.p2.11.m2.3.3.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.2"></eq><apply id="S4.SS3.SSS1.p2.11.m2.3.3.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.3.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.3.3.3.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.2">𝒯</ci><apply id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.11.m2.3.3.3.3.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.3.3.3">𝑘</ci></apply></apply><apply id="S4.SS3.SSS1.p2.11.m2.3.3.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1">subscript</csymbol><apply id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1">superscript</csymbol><set id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1"><list id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2"><apply id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="S4.SS3.SSS1.p2.11.m2.2.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.2.2">𝑙</ci><apply id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.2">𝑒</ci><ci id="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.1.1.1.1.2.2.3">𝑗</ci></apply></list></set><apply id="S4.SS3.SSS1.p2.11.m2.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1"><abs id="S4.SS3.SSS1.p2.11.m2.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.2"></abs><apply id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.2">𝒯</ci><apply id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply><apply id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3"><eq id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.1.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.1"></eq><ci id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.2.cmml" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.2">𝑗</ci><cn id="S4.SS3.SSS1.p2.11.m2.3.3.1.3.3.cmml" type="integer" xref="S4.SS3.SSS1.p2.11.m2.3.3.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.11.m2.3c">\mathcal{T}_{i_{k}}=\{\langle i_{k},l,e_{j}\rangle\}^{|\mathcal{T}_{i_{k}}|}_{%
j=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.11.m2.3d">caligraphic_T start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { ⟨ italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_l , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ⟩ } start_POSTSUPERSCRIPT | caligraphic_T start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> from the KG <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.12.m3.1"><semantics id="S4.SS3.SSS1.p2.12.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.12.m3.1.1" xref="S4.SS3.SSS1.p2.12.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.12.m3.1b"><ci id="S4.SS3.SSS1.p2.12.m3.1.1.cmml" xref="S4.SS3.SSS1.p2.12.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.12.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.12.m3.1d">caligraphic_G</annotation></semantics></math> using the predicted item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.13.m4.1"><semantics id="S4.SS3.SSS1.p2.13.m4.1a"><msub id="S4.SS3.SSS1.p2.13.m4.1.1" xref="S4.SS3.SSS1.p2.13.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p2.13.m4.1.1.2" xref="S4.SS3.SSS1.p2.13.m4.1.1.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.13.m4.1.1.3" xref="S4.SS3.SSS1.p2.13.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.13.m4.1b"><apply id="S4.SS3.SSS1.p2.13.m4.1.1.cmml" xref="S4.SS3.SSS1.p2.13.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.13.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p2.13.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.13.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p2.13.m4.1.1.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.13.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p2.13.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.13.m4.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.13.m4.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> as the head entity.
And we collect a list of knowledge entities <math alttext="E_{i_{k}}=\{e_{j}\}^{|E_{i_{k}}|}_{j=1}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.14.m5.2"><semantics id="S4.SS3.SSS1.p2.14.m5.2a"><mrow id="S4.SS3.SSS1.p2.14.m5.2.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.cmml"><msub id="S4.SS3.SSS1.p2.14.m5.2.2.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.2.2.3.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.2.cmml">E</mi><msub id="S4.SS3.SSS1.p2.14.m5.2.2.3.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3.3.cmml">k</mi></msub></msub><mo id="S4.SS3.SSS1.p2.14.m5.2.2.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.2.cmml">=</mo><msubsup id="S4.SS3.SSS1.p2.14.m5.2.2.1" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.cmml"><mrow id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.2.cmml"><mo id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.2.cmml">e</mi><mi id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.SSS1.p2.14.m5.2.2.1.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.2" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.2.cmml">j</mi><mo id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.1" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.1.cmml">=</mo><mn id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.3" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS3.SSS1.p2.14.m5.1.1.1.1" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.2.cmml"><mo id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.2.1.cmml">|</mo><msub id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.2.cmml">E</mi><msub id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.2" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.3" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.14.m5.2b"><apply id="S4.SS3.SSS1.p2.14.m5.2.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2"><eq id="S4.SS3.SSS1.p2.14.m5.2.2.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.2"></eq><apply id="S4.SS3.SSS1.p2.14.m5.2.2.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.2.2.3.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.14.m5.2.2.3.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.2">𝐸</ci><apply id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.14.m5.2.2.3.3.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.3.3.3">𝑘</ci></apply></apply><apply id="S4.SS3.SSS1.p2.14.m5.2.2.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.2.2.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1">subscript</csymbol><apply id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1">superscript</csymbol><set id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1"><apply id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.2">𝑒</ci><ci id="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S4.SS3.SSS1.p2.14.m5.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1"><abs id="S4.SS3.SSS1.p2.14.m5.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.2"></abs><apply id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.2">𝐸</ci><apply id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply><apply id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3"><eq id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.1.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.1"></eq><ci id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.2.cmml" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.2">𝑗</ci><cn id="S4.SS3.SSS1.p2.14.m5.2.2.1.3.3.cmml" type="integer" xref="S4.SS3.SSS1.p2.14.m5.2.2.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.14.m5.2c">E_{i_{k}}=\{e_{j}\}^{|E_{i_{k}}|}_{j=1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.14.m5.2d">italic_E start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUPERSCRIPT | italic_E start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT</annotation></semantics></math> that is mentioned at least twice in the reviews corresponding to <math alttext="i_{k}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.15.m6.1"><semantics id="S4.SS3.SSS1.p2.15.m6.1a"><msub id="S4.SS3.SSS1.p2.15.m6.1.1" xref="S4.SS3.SSS1.p2.15.m6.1.1.cmml"><mi id="S4.SS3.SSS1.p2.15.m6.1.1.2" xref="S4.SS3.SSS1.p2.15.m6.1.1.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.15.m6.1.1.3" xref="S4.SS3.SSS1.p2.15.m6.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.15.m6.1b"><apply id="S4.SS3.SSS1.p2.15.m6.1.1.cmml" xref="S4.SS3.SSS1.p2.15.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.15.m6.1.1.1.cmml" xref="S4.SS3.SSS1.p2.15.m6.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.15.m6.1.1.2.cmml" xref="S4.SS3.SSS1.p2.15.m6.1.1.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.15.m6.1.1.3.cmml" xref="S4.SS3.SSS1.p2.15.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.15.m6.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.15.m6.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>.
Then, we filter <math alttext="pn_{t}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.16.m7.1"><semantics id="S4.SS3.SSS1.p2.16.m7.1a"><mrow id="S4.SS3.SSS1.p2.16.m7.1.1" xref="S4.SS3.SSS1.p2.16.m7.1.1.cmml"><mi id="S4.SS3.SSS1.p2.16.m7.1.1.2" xref="S4.SS3.SSS1.p2.16.m7.1.1.2.cmml">p</mi><mo id="S4.SS3.SSS1.p2.16.m7.1.1.1" xref="S4.SS3.SSS1.p2.16.m7.1.1.1.cmml">⁢</mo><msub id="S4.SS3.SSS1.p2.16.m7.1.1.3" xref="S4.SS3.SSS1.p2.16.m7.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.16.m7.1.1.3.2" xref="S4.SS3.SSS1.p2.16.m7.1.1.3.2.cmml">n</mi><mi id="S4.SS3.SSS1.p2.16.m7.1.1.3.3" xref="S4.SS3.SSS1.p2.16.m7.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.16.m7.1b"><apply id="S4.SS3.SSS1.p2.16.m7.1.1.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1"><times id="S4.SS3.SSS1.p2.16.m7.1.1.1.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.1"></times><ci id="S4.SS3.SSS1.p2.16.m7.1.1.2.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.2">𝑝</ci><apply id="S4.SS3.SSS1.p2.16.m7.1.1.3.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.16.m7.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.16.m7.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.3.2">𝑛</ci><ci id="S4.SS3.SSS1.p2.16.m7.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.16.m7.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.16.m7.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.16.m7.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> triples from <math alttext="\mathcal{T}_{i_{k}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.17.m8.1"><semantics id="S4.SS3.SSS1.p2.17.m8.1a"><msub id="S4.SS3.SSS1.p2.17.m8.1.1" xref="S4.SS3.SSS1.p2.17.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.17.m8.1.1.2" xref="S4.SS3.SSS1.p2.17.m8.1.1.2.cmml">𝒯</mi><msub id="S4.SS3.SSS1.p2.17.m8.1.1.3" xref="S4.SS3.SSS1.p2.17.m8.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.17.m8.1.1.3.2" xref="S4.SS3.SSS1.p2.17.m8.1.1.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.17.m8.1.1.3.3" xref="S4.SS3.SSS1.p2.17.m8.1.1.3.3.cmml">k</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.17.m8.1b"><apply id="S4.SS3.SSS1.p2.17.m8.1.1.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.17.m8.1.1.1.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.17.m8.1.1.2.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1.2">𝒯</ci><apply id="S4.SS3.SSS1.p2.17.m8.1.1.3.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.17.m8.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.17.m8.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.17.m8.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.17.m8.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.17.m8.1c">\mathcal{T}_{i_{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.17.m8.1d">caligraphic_T start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="pn_{e}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.18.m9.1"><semantics id="S4.SS3.SSS1.p2.18.m9.1a"><mrow id="S4.SS3.SSS1.p2.18.m9.1.1" xref="S4.SS3.SSS1.p2.18.m9.1.1.cmml"><mi id="S4.SS3.SSS1.p2.18.m9.1.1.2" xref="S4.SS3.SSS1.p2.18.m9.1.1.2.cmml">p</mi><mo id="S4.SS3.SSS1.p2.18.m9.1.1.1" xref="S4.SS3.SSS1.p2.18.m9.1.1.1.cmml">⁢</mo><msub id="S4.SS3.SSS1.p2.18.m9.1.1.3" xref="S4.SS3.SSS1.p2.18.m9.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.18.m9.1.1.3.2" xref="S4.SS3.SSS1.p2.18.m9.1.1.3.2.cmml">n</mi><mi id="S4.SS3.SSS1.p2.18.m9.1.1.3.3" xref="S4.SS3.SSS1.p2.18.m9.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.18.m9.1b"><apply id="S4.SS3.SSS1.p2.18.m9.1.1.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1"><times id="S4.SS3.SSS1.p2.18.m9.1.1.1.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.1"></times><ci id="S4.SS3.SSS1.p2.18.m9.1.1.2.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.2">𝑝</ci><apply id="S4.SS3.SSS1.p2.18.m9.1.1.3.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.18.m9.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.18.m9.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.3.2">𝑛</ci><ci id="S4.SS3.SSS1.p2.18.m9.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.18.m9.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.18.m9.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.18.m9.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> entities from <math alttext="E_{i_{k}}^{r}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.19.m10.1"><semantics id="S4.SS3.SSS1.p2.19.m10.1a"><msubsup id="S4.SS3.SSS1.p2.19.m10.1.1" xref="S4.SS3.SSS1.p2.19.m10.1.1.cmml"><mi id="S4.SS3.SSS1.p2.19.m10.1.1.2.2" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.2.cmml">E</mi><msub id="S4.SS3.SSS1.p2.19.m10.1.1.2.3" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3.cmml"><mi id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.2" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3.2.cmml">i</mi><mi id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.3" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3.3.cmml">k</mi></msub><mi id="S4.SS3.SSS1.p2.19.m10.1.1.3" xref="S4.SS3.SSS1.p2.19.m10.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.19.m10.1b"><apply id="S4.SS3.SSS1.p2.19.m10.1.1.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.19.m10.1.1.1.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1">superscript</csymbol><apply id="S4.SS3.SSS1.p2.19.m10.1.1.2.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.19.m10.1.1.2.1.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.19.m10.1.1.2.2.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.2">𝐸</ci><apply id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.1.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.2.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3.2">𝑖</ci><ci id="S4.SS3.SSS1.p2.19.m10.1.1.2.3.3.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.2.3.3">𝑘</ci></apply></apply><ci id="S4.SS3.SSS1.p2.19.m10.1.1.3.cmml" xref="S4.SS3.SSS1.p2.19.m10.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.19.m10.1c">E_{i_{k}}^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.19.m10.1d">italic_E start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> as a part of the emotion-aligned generation prompt. We simplify the filtering process by random selection, leaving more complex approaches to be explored in the future.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2. </span>Emotion-aligned Generator</h4>
<div class="ltx_para" id="S4.SS3.SSS2.p1">
<p class="ltx_p" id="S4.SS3.SSS2.p1.3">To align the model with the persuasive dialogue style and emotions, we fine-tune a PLM as an emotion-aligned generator to generate the emotion-aligned responses <math alttext="u_{t}^{e}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.1.m1.1"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><msubsup id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.2.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.2.cmml">u</mi><mi id="S4.SS3.SSS2.p1.1.m1.1.1.2.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.3.cmml">t</mi><mi id="S4.SS3.SSS2.p1.1.m1.1.1.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml">e</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><apply id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">superscript</csymbol><apply id="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.2">𝑢</ci><ci id="S4.SS3.SSS2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">u_{t}^{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.1.m1.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT</annotation></semantics></math> using the constructed emotional review databases <math alttext="R" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.2.m2.1"><semantics id="S4.SS3.SSS2.p1.2.m2.1a"><mi id="S4.SS3.SSS2.p1.2.m2.1.1" xref="S4.SS3.SSS2.p1.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.2.m2.1b"><ci id="S4.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.2.m2.1d">italic_R</annotation></semantics></math>. Specifically, based on the emotional reviews <math alttext="r" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.3.m3.1"><semantics id="S4.SS3.SSS2.p1.3.m3.1a"><mi id="S4.SS3.SSS2.p1.3.m3.1.1" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.3.m3.1b"><ci id="S4.SS3.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.3.m3.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.3.m3.1d">italic_r</annotation></semantics></math>, we employ cross-entropy for training the emotion-aligned generator, as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{gen}^{e}(r)=-\sum_{j=1}^{|r|}\log\Pr(w_{j}\mid C_{gen}^{e};w_{&lt;j})," class="ltx_Math" display="block" id="S4.E9.m1.4"><semantics id="S4.E9.m1.4a"><mrow id="S4.E9.m1.4.4.1" xref="S4.E9.m1.4.4.1.1.cmml"><mrow id="S4.E9.m1.4.4.1.1" xref="S4.E9.m1.4.4.1.1.cmml"><mrow id="S4.E9.m1.4.4.1.1.3" xref="S4.E9.m1.4.4.1.1.3.cmml"><msubsup id="S4.E9.m1.4.4.1.1.3.2" xref="S4.E9.m1.4.4.1.1.3.2.cmml"><mi id="S4.E9.m1.4.4.1.1.3.2.2.2" xref="S4.E9.m1.4.4.1.1.3.2.2.2.cmml">L</mi><mrow id="S4.E9.m1.4.4.1.1.3.2.2.3" xref="S4.E9.m1.4.4.1.1.3.2.2.3.cmml"><mi id="S4.E9.m1.4.4.1.1.3.2.2.3.2" xref="S4.E9.m1.4.4.1.1.3.2.2.3.2.cmml">g</mi><mo id="S4.E9.m1.4.4.1.1.3.2.2.3.1" xref="S4.E9.m1.4.4.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.m1.4.4.1.1.3.2.2.3.3" xref="S4.E9.m1.4.4.1.1.3.2.2.3.3.cmml">e</mi><mo id="S4.E9.m1.4.4.1.1.3.2.2.3.1a" xref="S4.E9.m1.4.4.1.1.3.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.m1.4.4.1.1.3.2.2.3.4" xref="S4.E9.m1.4.4.1.1.3.2.2.3.4.cmml">n</mi></mrow><mi id="S4.E9.m1.4.4.1.1.3.2.3" xref="S4.E9.m1.4.4.1.1.3.2.3.cmml">e</mi></msubsup><mo id="S4.E9.m1.4.4.1.1.3.1" xref="S4.E9.m1.4.4.1.1.3.1.cmml">⁢</mo><mrow id="S4.E9.m1.4.4.1.1.3.3.2" xref="S4.E9.m1.4.4.1.1.3.cmml"><mo id="S4.E9.m1.4.4.1.1.3.3.2.1" stretchy="false" xref="S4.E9.m1.4.4.1.1.3.cmml">(</mo><mi id="S4.E9.m1.2.2" xref="S4.E9.m1.2.2.cmml">r</mi><mo id="S4.E9.m1.4.4.1.1.3.3.2.2" stretchy="false" xref="S4.E9.m1.4.4.1.1.3.cmml">)</mo></mrow></mrow><mo id="S4.E9.m1.4.4.1.1.2" xref="S4.E9.m1.4.4.1.1.2.cmml">=</mo><mrow id="S4.E9.m1.4.4.1.1.1" xref="S4.E9.m1.4.4.1.1.1.cmml"><mo id="S4.E9.m1.4.4.1.1.1a" xref="S4.E9.m1.4.4.1.1.1.cmml">−</mo><mrow id="S4.E9.m1.4.4.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.cmml"><munderover id="S4.E9.m1.4.4.1.1.1.1.2" xref="S4.E9.m1.4.4.1.1.1.1.2.cmml"><mo id="S4.E9.m1.4.4.1.1.1.1.2.2.2" movablelimits="false" xref="S4.E9.m1.4.4.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.E9.m1.4.4.1.1.1.1.2.2.3" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.2.2.3.2" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.2.cmml">j</mi><mo id="S4.E9.m1.4.4.1.1.1.1.2.2.3.1" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S4.E9.m1.4.4.1.1.1.1.2.2.3.3" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S4.E9.m1.1.1.1.3" xref="S4.E9.m1.1.1.1.2.cmml"><mo id="S4.E9.m1.1.1.1.3.1" stretchy="false" xref="S4.E9.m1.1.1.1.2.1.cmml">|</mo><mi id="S4.E9.m1.1.1.1.1" xref="S4.E9.m1.1.1.1.1.cmml">r</mi><mo id="S4.E9.m1.1.1.1.3.2" stretchy="false" xref="S4.E9.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S4.E9.m1.4.4.1.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.1.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.2" xref="S4.E9.m1.4.4.1.1.1.1.1.2.cmml">log</mi><mo id="S4.E9.m1.4.4.1.1.1.1.1a" lspace="0.167em" xref="S4.E9.m1.4.4.1.1.1.1.1.cmml">⁡</mo><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml"><mi id="S4.E9.m1.3.3" xref="S4.E9.m1.3.3.cmml">Pr</mi><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1a" xref="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.2.cmml">w</mi><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.3.cmml">j</mi></msub><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml">∣</mo><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml"><msubsup id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">C</mi><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">g</mi><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml">e</mi><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1a" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.4" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.4.cmml">n</mi></mrow><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">e</mi></msubsup><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml">;</mo><msub id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">w</mi><mrow id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml"></mi><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">&lt;</mo><mi id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">j</mi></mrow></msub></mrow></mrow><mo id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo id="S4.E9.m1.4.4.1.2" xref="S4.E9.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9.m1.4b"><apply id="S4.E9.m1.4.4.1.1.cmml" xref="S4.E9.m1.4.4.1"><eq id="S4.E9.m1.4.4.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.2"></eq><apply id="S4.E9.m1.4.4.1.1.3.cmml" xref="S4.E9.m1.4.4.1.1.3"><times id="S4.E9.m1.4.4.1.1.3.1.cmml" xref="S4.E9.m1.4.4.1.1.3.1"></times><apply id="S4.E9.m1.4.4.1.1.3.2.cmml" xref="S4.E9.m1.4.4.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.3.2.1.cmml" xref="S4.E9.m1.4.4.1.1.3.2">superscript</csymbol><apply id="S4.E9.m1.4.4.1.1.3.2.2.cmml" xref="S4.E9.m1.4.4.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.3.2.2.1.cmml" xref="S4.E9.m1.4.4.1.1.3.2">subscript</csymbol><ci id="S4.E9.m1.4.4.1.1.3.2.2.2.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.2">𝐿</ci><apply id="S4.E9.m1.4.4.1.1.3.2.2.3.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.3"><times id="S4.E9.m1.4.4.1.1.3.2.2.3.1.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.3.1"></times><ci id="S4.E9.m1.4.4.1.1.3.2.2.3.2.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.3.2">𝑔</ci><ci id="S4.E9.m1.4.4.1.1.3.2.2.3.3.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.3.3">𝑒</ci><ci id="S4.E9.m1.4.4.1.1.3.2.2.3.4.cmml" xref="S4.E9.m1.4.4.1.1.3.2.2.3.4">𝑛</ci></apply></apply><ci id="S4.E9.m1.4.4.1.1.3.2.3.cmml" xref="S4.E9.m1.4.4.1.1.3.2.3">𝑒</ci></apply><ci id="S4.E9.m1.2.2.cmml" xref="S4.E9.m1.2.2">𝑟</ci></apply><apply id="S4.E9.m1.4.4.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1"><minus id="S4.E9.m1.4.4.1.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.1"></minus><apply id="S4.E9.m1.4.4.1.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1"><apply id="S4.E9.m1.4.4.1.1.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.2.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2">superscript</csymbol><apply id="S4.E9.m1.4.4.1.1.1.1.2.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.2.2.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2">subscript</csymbol><sum id="S4.E9.m1.4.4.1.1.1.1.2.2.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2.2.2"></sum><apply id="S4.E9.m1.4.4.1.1.1.1.2.2.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3"><eq id="S4.E9.m1.4.4.1.1.1.1.2.2.3.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.1"></eq><ci id="S4.E9.m1.4.4.1.1.1.1.2.2.3.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.2">𝑗</ci><cn id="S4.E9.m1.4.4.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S4.E9.m1.4.4.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S4.E9.m1.1.1.1.2.cmml" xref="S4.E9.m1.1.1.1.3"><abs id="S4.E9.m1.1.1.1.2.1.cmml" xref="S4.E9.m1.1.1.1.3.1"></abs><ci id="S4.E9.m1.1.1.1.1.cmml" xref="S4.E9.m1.1.1.1.1">𝑟</ci></apply></apply><apply id="S4.E9.m1.4.4.1.1.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1"><log id="S4.E9.m1.4.4.1.1.1.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.2"></log><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1"><ci id="S4.E9.m1.3.3.cmml" xref="S4.E9.m1.3.3">Pr</ci><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.2">𝑤</ci><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.4.3">𝑗</ci></apply><list id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2"><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐶</ci><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3"><times id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1"></times><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2">𝑔</ci><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3">𝑒</ci><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.4.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.3.4">𝑛</ci></apply></apply><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑒</ci></apply><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑤</ci><apply id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3"><lt id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></lt><csymbol cd="latexml" id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.2">absent</csymbol><ci id="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S4.E9.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.3">𝑗</ci></apply></apply></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.4c">L_{gen}^{e}(r)=-\sum_{j=1}^{|r|}\log\Pr(w_{j}\mid C_{gen}^{e};w_{&lt;j}),</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.4d">italic_L start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT ( italic_r ) = - ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_r | end_POSTSUPERSCRIPT roman_log roman_Pr ( italic_w start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∣ italic_C start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT ; italic_w start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.SSS2.p1.9">where <math alttext="\Pr(w_{j}\mid C_{gen}^{e};w_{&lt;j})" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.4.m1.2"><semantics id="S4.SS3.SSS2.p1.4.m1.2a"><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.1.1" xref="S4.SS3.SSS2.p1.4.m1.1.1.cmml">Pr</mi><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1a" xref="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml">⁡</mo><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml"><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.2" stretchy="false" xref="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml">(</mo><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.cmml"><msub id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.2.cmml">w</mi><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.3.cmml">j</mi></msub><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.3.cmml">∣</mo><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.3.cmml"><msubsup id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.2.cmml">C</mi><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.2.cmml">g</mi><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.3.cmml">e</mi><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1a" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.4" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.4.cmml">n</mi></mrow><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.3.cmml">e</mi></msubsup><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.3.cmml">;</mo><msub id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.2.cmml">w</mi><mrow id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.cmml"><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.2" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.2.cmml"></mi><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.1" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.1.cmml">&lt;</mo><mi id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.3" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.3.cmml">j</mi></mrow></msub></mrow></mrow><mo id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.3" stretchy="false" xref="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.4.m1.2b"><apply id="S4.SS3.SSS2.p1.4.m1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1"><ci id="S4.SS3.SSS2.p1.4.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.1.1">Pr</ci><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.3">conditional</csymbol><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.2">𝑤</ci><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.4.3">𝑗</ci></apply><list id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2"><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1">superscript</csymbol><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.2">𝐶</ci><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3"><times id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.1"></times><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.2">𝑔</ci><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.3">𝑒</ci><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.4.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.2.3.4">𝑛</ci></apply></apply><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.1.1.1.3">𝑒</ci></apply><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.2">𝑤</ci><apply id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3"><lt id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.1.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.1"></lt><csymbol cd="latexml" id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.2.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.2">absent</csymbol><ci id="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.3.cmml" xref="S4.SS3.SSS2.p1.4.m1.2.2.1.1.1.2.2.2.3.3">𝑗</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.4.m1.2c">\Pr(w_{j}\mid C_{gen}^{e};w_{&lt;j})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.4.m1.2d">roman_Pr ( italic_w start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∣ italic_C start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT ; italic_w start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the predicted probability of the word <math alttext="w_{j}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.5.m2.1"><semantics id="S4.SS3.SSS2.p1.5.m2.1a"><msub id="S4.SS3.SSS2.p1.5.m2.1.1" xref="S4.SS3.SSS2.p1.5.m2.1.1.cmml"><mi id="S4.SS3.SSS2.p1.5.m2.1.1.2" xref="S4.SS3.SSS2.p1.5.m2.1.1.2.cmml">w</mi><mi id="S4.SS3.SSS2.p1.5.m2.1.1.3" xref="S4.SS3.SSS2.p1.5.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.5.m2.1b"><apply id="S4.SS3.SSS2.p1.5.m2.1.1.cmml" xref="S4.SS3.SSS2.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.5.m2.1.1.1.cmml" xref="S4.SS3.SSS2.p1.5.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.5.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p1.5.m2.1.1.2">𝑤</ci><ci id="S4.SS3.SSS2.p1.5.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p1.5.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.5.m2.1c">w_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.5.m2.1d">italic_w start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> given the prompt <math alttext="C_{gen}^{e}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.6.m3.1"><semantics id="S4.SS3.SSS2.p1.6.m3.1a"><msubsup id="S4.SS3.SSS2.p1.6.m3.1.1" xref="S4.SS3.SSS2.p1.6.m3.1.1.cmml"><mi id="S4.SS3.SSS2.p1.6.m3.1.1.2.2" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.2.cmml">C</mi><mrow id="S4.SS3.SSS2.p1.6.m3.1.1.2.3" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.cmml"><mi id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.2" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.2.cmml">g</mi><mo id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.3" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.3.cmml">e</mi><mo id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1a" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.4" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.4.cmml">n</mi></mrow><mi id="S4.SS3.SSS2.p1.6.m3.1.1.3" xref="S4.SS3.SSS2.p1.6.m3.1.1.3.cmml">e</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.6.m3.1b"><apply id="S4.SS3.SSS2.p1.6.m3.1.1.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.6.m3.1.1.1.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1">superscript</csymbol><apply id="S4.SS3.SSS2.p1.6.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.6.m3.1.1.2.1.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.6.m3.1.1.2.2.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.2">𝐶</ci><apply id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3"><times id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.1"></times><ci id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.2.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.2">𝑔</ci><ci id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.3.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.3">𝑒</ci><ci id="S4.SS3.SSS2.p1.6.m3.1.1.2.3.4.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.2.3.4">𝑛</ci></apply></apply><ci id="S4.SS3.SSS2.p1.6.m3.1.1.3.cmml" xref="S4.SS3.SSS2.p1.6.m3.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.6.m3.1c">C_{gen}^{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.6.m3.1d">italic_C start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT</annotation></semantics></math> and the words proceeding the <math alttext="j" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.7.m4.1"><semantics id="S4.SS3.SSS2.p1.7.m4.1a"><mi id="S4.SS3.SSS2.p1.7.m4.1.1" xref="S4.SS3.SSS2.p1.7.m4.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.7.m4.1b"><ci id="S4.SS3.SSS2.p1.7.m4.1.1.cmml" xref="S4.SS3.SSS2.p1.7.m4.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.7.m4.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.7.m4.1d">italic_j</annotation></semantics></math>-th position. Ultimately, we combine the emotion-aligned response <math alttext="u_{t}^{e}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.8.m5.1"><semantics id="S4.SS3.SSS2.p1.8.m5.1a"><msubsup id="S4.SS3.SSS2.p1.8.m5.1.1" xref="S4.SS3.SSS2.p1.8.m5.1.1.cmml"><mi id="S4.SS3.SSS2.p1.8.m5.1.1.2.2" xref="S4.SS3.SSS2.p1.8.m5.1.1.2.2.cmml">u</mi><mi id="S4.SS3.SSS2.p1.8.m5.1.1.2.3" xref="S4.SS3.SSS2.p1.8.m5.1.1.2.3.cmml">t</mi><mi id="S4.SS3.SSS2.p1.8.m5.1.1.3" xref="S4.SS3.SSS2.p1.8.m5.1.1.3.cmml">e</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.8.m5.1b"><apply id="S4.SS3.SSS2.p1.8.m5.1.1.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.8.m5.1.1.1.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1">superscript</csymbol><apply id="S4.SS3.SSS2.p1.8.m5.1.1.2.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.8.m5.1.1.2.1.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.8.m5.1.1.2.2.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1.2.2">𝑢</ci><ci id="S4.SS3.SSS2.p1.8.m5.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p1.8.m5.1.1.3.cmml" xref="S4.SS3.SSS2.p1.8.m5.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.8.m5.1c">u_{t}^{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.8.m5.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_e end_POSTSUPERSCRIPT</annotation></semantics></math> with the recommendation response <math alttext="u_{t}^{r}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.9.m6.1"><semantics id="S4.SS3.SSS2.p1.9.m6.1a"><msubsup id="S4.SS3.SSS2.p1.9.m6.1.1" xref="S4.SS3.SSS2.p1.9.m6.1.1.cmml"><mi id="S4.SS3.SSS2.p1.9.m6.1.1.2.2" xref="S4.SS3.SSS2.p1.9.m6.1.1.2.2.cmml">u</mi><mi id="S4.SS3.SSS2.p1.9.m6.1.1.2.3" xref="S4.SS3.SSS2.p1.9.m6.1.1.2.3.cmml">t</mi><mi id="S4.SS3.SSS2.p1.9.m6.1.1.3" xref="S4.SS3.SSS2.p1.9.m6.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.9.m6.1b"><apply id="S4.SS3.SSS2.p1.9.m6.1.1.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.9.m6.1.1.1.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1">superscript</csymbol><apply id="S4.SS3.SSS2.p1.9.m6.1.1.2.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.9.m6.1.1.2.1.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.9.m6.1.1.2.2.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1.2.2">𝑢</ci><ci id="S4.SS3.SSS2.p1.9.m6.1.1.2.3.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p1.9.m6.1.1.3.cmml" xref="S4.SS3.SSS2.p1.9.m6.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.9.m6.1c">u_{t}^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.9.m6.1d">italic_u start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> to formulate the final response delivered to the users.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS2.p2">
<p class="ltx_p" id="S4.SS3.SSS2.p2.1">Following <cite class="ltx_cite ltx_citemacro_citet">Wang et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite>, we choose DialoGPT <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib55" title="">2020</a>)</cite> as the PLM for emotion-aligned response generation (ECR[DialoGPT]). Given DialoGPT’s limited parameters, which inherently restrict its linguistic capabilities, we introduce an alternative version by using Llama 2-7B-Chat <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib46" title="">2023</a>)</cite> to which we refer as ECR[Llama 2-Chat].
This choice is motivated by that Llama 2-Chat is an open-source, powerful LLM instruction-tuned on chat tasks.
This variation allows us to evaluate our framework’s performance based on LLMs.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experiments</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">We address the following research questions:

<span class="ltx_inline-enumerate" id="S5.I1">
<span class="ltx_inline-item" id="S5.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(<span class="ltx_text ltx_font_bold" id="S5.I1.i1.1.1.1">RQ1</span>)</span> <span class="ltx_text" id="S5.I1.i1.5">Does ECR learn user preferences by capturing their emotions to improve the accuracy of recommendation?
</span></span>
<span class="ltx_inline-item" id="S5.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(<span class="ltx_text ltx_font_bold" id="S5.I1.i2.1.1.1">RQ2</span>)</span> <span class="ltx_text" id="S5.I1.i2.5">Is ECR capable of expressing emotions in response generation, thereby improving the user satisfaction?
</span></span>
<span class="ltx_inline-item" id="S5.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(<span class="ltx_text ltx_font_bold" id="S5.I1.i3.1.1.1">RQ3</span>)</span> <span class="ltx_text" id="S5.I1.i3.5">How does each component of ECR contribute to its overall performance?
</span></span>
</span></p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Dataset</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">The ReDial dataset <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>)</cite> is a large-scale CRS dataset, carefully curated by human workers <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib13" title="">2021</a>)</cite>. Consequently, it effectively reflects real-world CR scenarios and fully validates the effectiveness of our method. Considering the significant cost of emotion annotations and evaluations in the generation subtask, we use the ReDial dataset for experiments and plan to extend ECR to other datasets in future work. The ReDial dataset is composed of two-party dialogues between a user and a recommender in the movie domain.
It contains 10,006 conversations consisting of 182,150 utterances related to 51,699 movies.
The user feedback towards items recommended in the dataset includes three categories: “like,” “dislike,” and “not say.”
Previous works <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib61" title="">2022</a>; Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib38" title="">2021</a>)</cite> simply treat all the recommended items as positive labels. However, according to <cite class="ltx_cite ltx_citemacro_citet">Li et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib30" title="">2018</a>)</cite>, the “dislike” and “not say” labels are distributed separately at 4.9% and 14%, indicating the previous works introduce a large number of incorrect item labels. In contrast, we distinguish between those items with different user feedback. For emotional responses construction, we filter 34,953 reviews related to 4,092 movies for DialoGPT, and 2,459 reviews related to 1,553 movies for Llama 2-7B-Chat. The filtering process is detailed in Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.SS2" title="A.2. Emotional response construction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">A.2</span></a>.
Following <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib5" title="">2019</a>)</cite>, we extract entities mentioned in each utterance and review from DBpedia.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Baselines</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">For the item recommendation subtask, we compare our method with several CRS approaches: <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.1">KBRD</span> <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib5" title="">2019</a>)</cite>, <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.2">KGSF<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.2.1.1">(</span>Zhou et al<span class="ltx_text">.</span><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.2.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib58" title="">2020a</a><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.2.3.3">)</span></cite></span>, <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.3">RevCore<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.3.1.1">(</span>Ma et al<span class="ltx_text">.</span><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.3.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib38" title="">2021</a><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.3.3.3">)</span></cite></span>, <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.4">UCCR<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.4.1.1">(</span>Zhou et al<span class="ltx_text">.</span><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.4.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib61" title="">2022</a><span class="ltx_text ltx_font_medium" id="S5.SS2.p1.1.4.3.3">)</span></cite></span> and <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.5">UniCRS</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite> to evaluate the effectiveness of ECR. Specifically, KBRD first uses KGs to enhance the semantics fusion in recommendation and generation systems. It uses transformer <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib47" title="">2017</a>)</cite> for response generation with enhanced modeling of word weights. KGSF integrates both word-oriented and entity-oriented KGs to refine user representations and employs the transformer for response generation. RevCore introduces a review-enhanced framework, using item reviews for improving recommendations and response generation, with a focus on sentiment-aware review selection. UCCR focuses on comprehensive user modeling by considering multi-aspect information from current and historical dialogues, as well as data from look-alike users. UniCRS unifies the recommendation and generation into a prompt learning paradigm by PLM.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">For the response generation subtask, our comparison involves the state-of-the-art CRS model <span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.1">UniCRS</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib49" title="">2022</a>)</cite>, the powerful open-source dialogue LLM <span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.2">Llama 2-7B-Chat</span> <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib46" title="">2023</a>)</cite> and two advanced OpenAI models: <span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.3">GPT-3.5-turbo-instruct</span> and <span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.4">GPT-3.5-turbo</span> <cite class="ltx_cite ltx_citemacro_citep">(Zoph et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib62" title="">2022</a>)</cite>. To make the output deterministic, we set temperature<math alttext="{}=0" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><mrow id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml"></mi><mo id="S5.SS2.p2.1.m1.1.1.1" xref="S5.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><eq id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1.1"></eq><csymbol cd="latexml" id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">absent</csymbol><cn id="S5.SS2.p2.1.m1.1.1.3.cmml" type="integer" xref="S5.SS2.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">{}=0</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">= 0</annotation></semantics></math> when calling the API. These LLMs are prompted to chat with users, aiming to recommend the item predicted by the recommendation module of ECR. They are all provided with the dialogue history for consistency in evaluation.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Emotion-enhanced Evaluation Metrics</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">Our evaluation encompasses subjective and objective metrics to assess recommendation and generation performance respectively, which considers the user satisfaction in real-world CRS scenarios. We discuss more details in Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4" title="Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">D</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.8"><span class="ltx_text ltx_font_bold" id="S5.SS3.p2.8.1">Objective evaluation metrics.</span>
For recommendation evaluation, we employed Recall@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_n</annotation></semantics></math> (R@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.2.m2.1"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.2.m2.1d">italic_n</annotation></semantics></math>, where <math alttext="n=1,10,50" class="ltx_Math" display="inline" id="S5.SS3.p2.3.m3.3"><semantics id="S5.SS3.p2.3.m3.3a"><mrow id="S5.SS3.p2.3.m3.3.4" xref="S5.SS3.p2.3.m3.3.4.cmml"><mi id="S5.SS3.p2.3.m3.3.4.2" xref="S5.SS3.p2.3.m3.3.4.2.cmml">n</mi><mo id="S5.SS3.p2.3.m3.3.4.1" xref="S5.SS3.p2.3.m3.3.4.1.cmml">=</mo><mrow id="S5.SS3.p2.3.m3.3.4.3.2" xref="S5.SS3.p2.3.m3.3.4.3.1.cmml"><mn id="S5.SS3.p2.3.m3.1.1" xref="S5.SS3.p2.3.m3.1.1.cmml">1</mn><mo id="S5.SS3.p2.3.m3.3.4.3.2.1" xref="S5.SS3.p2.3.m3.3.4.3.1.cmml">,</mo><mn id="S5.SS3.p2.3.m3.2.2" xref="S5.SS3.p2.3.m3.2.2.cmml">10</mn><mo id="S5.SS3.p2.3.m3.3.4.3.2.2" xref="S5.SS3.p2.3.m3.3.4.3.1.cmml">,</mo><mn id="S5.SS3.p2.3.m3.3.3" xref="S5.SS3.p2.3.m3.3.3.cmml">50</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.3b"><apply id="S5.SS3.p2.3.m3.3.4.cmml" xref="S5.SS3.p2.3.m3.3.4"><eq id="S5.SS3.p2.3.m3.3.4.1.cmml" xref="S5.SS3.p2.3.m3.3.4.1"></eq><ci id="S5.SS3.p2.3.m3.3.4.2.cmml" xref="S5.SS3.p2.3.m3.3.4.2">𝑛</ci><list id="S5.SS3.p2.3.m3.3.4.3.1.cmml" xref="S5.SS3.p2.3.m3.3.4.3.2"><cn id="S5.SS3.p2.3.m3.1.1.cmml" type="integer" xref="S5.SS3.p2.3.m3.1.1">1</cn><cn id="S5.SS3.p2.3.m3.2.2.cmml" type="integer" xref="S5.SS3.p2.3.m3.2.2">10</cn><cn id="S5.SS3.p2.3.m3.3.3.cmml" type="integer" xref="S5.SS3.p2.3.m3.3.3">50</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.3c">n=1,10,50</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.3.m3.3d">italic_n = 1 , 10 , 50</annotation></semantics></math>) to verify if the top-<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.4.m4.1"><semantics id="S5.SS3.p2.4.m4.1a"><mi id="S5.SS3.p2.4.m4.1.1" xref="S5.SS3.p2.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m4.1b"><ci id="S5.SS3.p2.4.m4.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.4.m4.1d">italic_n</annotation></semantics></math> recommended items include the target item suggested by the dataset’s recommenders. To validate the model’s effectiveness in estimating user preferences while negating the logged errors in the dataset, we calculate Recall_True@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.5.m5.1"><semantics id="S5.SS3.p2.5.m5.1a"><mi id="S5.SS3.p2.5.m5.1.1" xref="S5.SS3.p2.5.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.5.m5.1b"><ci id="S5.SS3.p2.5.m5.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.5.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.5.m5.1d">italic_n</annotation></semantics></math> (RT@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.6.m6.1"><semantics id="S5.SS3.p2.6.m6.1a"><mi id="S5.SS3.p2.6.m6.1.1" xref="S5.SS3.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.6.m6.1b"><ci id="S5.SS3.p2.6.m6.1.1.cmml" xref="S5.SS3.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.6.m6.1d">italic_n</annotation></semantics></math>, where <math alttext="n=1,10,50" class="ltx_Math" display="inline" id="S5.SS3.p2.7.m7.3"><semantics id="S5.SS3.p2.7.m7.3a"><mrow id="S5.SS3.p2.7.m7.3.4" xref="S5.SS3.p2.7.m7.3.4.cmml"><mi id="S5.SS3.p2.7.m7.3.4.2" xref="S5.SS3.p2.7.m7.3.4.2.cmml">n</mi><mo id="S5.SS3.p2.7.m7.3.4.1" xref="S5.SS3.p2.7.m7.3.4.1.cmml">=</mo><mrow id="S5.SS3.p2.7.m7.3.4.3.2" xref="S5.SS3.p2.7.m7.3.4.3.1.cmml"><mn id="S5.SS3.p2.7.m7.1.1" xref="S5.SS3.p2.7.m7.1.1.cmml">1</mn><mo id="S5.SS3.p2.7.m7.3.4.3.2.1" xref="S5.SS3.p2.7.m7.3.4.3.1.cmml">,</mo><mn id="S5.SS3.p2.7.m7.2.2" xref="S5.SS3.p2.7.m7.2.2.cmml">10</mn><mo id="S5.SS3.p2.7.m7.3.4.3.2.2" xref="S5.SS3.p2.7.m7.3.4.3.1.cmml">,</mo><mn id="S5.SS3.p2.7.m7.3.3" xref="S5.SS3.p2.7.m7.3.3.cmml">50</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.7.m7.3b"><apply id="S5.SS3.p2.7.m7.3.4.cmml" xref="S5.SS3.p2.7.m7.3.4"><eq id="S5.SS3.p2.7.m7.3.4.1.cmml" xref="S5.SS3.p2.7.m7.3.4.1"></eq><ci id="S5.SS3.p2.7.m7.3.4.2.cmml" xref="S5.SS3.p2.7.m7.3.4.2">𝑛</ci><list id="S5.SS3.p2.7.m7.3.4.3.1.cmml" xref="S5.SS3.p2.7.m7.3.4.3.2"><cn id="S5.SS3.p2.7.m7.1.1.cmml" type="integer" xref="S5.SS3.p2.7.m7.1.1">1</cn><cn id="S5.SS3.p2.7.m7.2.2.cmml" type="integer" xref="S5.SS3.p2.7.m7.2.2">10</cn><cn id="S5.SS3.p2.7.m7.3.3.cmml" type="integer" xref="S5.SS3.p2.7.m7.3.3">50</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.7.m7.3c">n=1,10,50</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.7.m7.3d">italic_n = 1 , 10 , 50</annotation></semantics></math>). This metric refines Recall@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.8.m8.1"><semantics id="S5.SS3.p2.8.m8.1a"><mi id="S5.SS3.p2.8.m8.1.1" xref="S5.SS3.p2.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.8.m8.1b"><ci id="S5.SS3.p2.8.m8.1.1.cmml" xref="S5.SS3.p2.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.8.m8.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.8.m8.1d">italic_n</annotation></semantics></math> but only considers the items that get the user feedback of “like” as the standard answers. Additionally, we incorporate the Area Under the Curve (AUC) metric, which emphasizes the ranking order between recommended items linked to the users’ positive and negative feedback.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS3.p3.1.1">Subjective evaluation metrics.</span>
The generation quality is evaluated across five dimensions: emotional intensity (Emo Int), emotional persuasiveness (Emo Pers), logic persuasiveness (Log Pers), informativeness (Info), and lifelikeness (Life). (a) <em class="ltx_emph ltx_font_italic" id="S5.SS3.p3.1.2">Emotional intensity</em> measures the strength of emotions conveyed to users. (b) <em class="ltx_emph ltx_font_italic" id="S5.SS3.p3.1.3">Emotional persuasiveness</em> gauges the capacity to connect with the user emotionally to persuade users. (c) <em class="ltx_emph ltx_font_italic" id="S5.SS3.p3.1.4">Logic persuasiveness</em> evaluates the use of logical reasoning and coherent arguments to persuade users. (d) <em class="ltx_emph ltx_font_italic" id="S5.SS3.p3.1.5">Informativeness</em> determines the utility of useful information provided by the system. (e) <em class="ltx_emph ltx_font_italic" id="S5.SS3.p3.1.6">Lifelikeness</em> assesses how vivid and engaging the responses are, reflecting their resemblance to natural human communication.
The scoring range for these metrics is 0 to 9.</p>
</div>
<div class="ltx_para" id="S5.SS3.p4">
<p class="ltx_p" id="S5.SS3.p4.1">Following <cite class="ltx_cite ltx_citemacro_citet">Wang et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib48" title="">2023</a>)</cite>, we employ an LLM-based scorer capable of automatically assigning scores based on specific prompts to alleviate the evaluation reliance on human annotations and randomly sampling 1,000 examples for evaluation. In this context, GPT-4-turbo from the OpenAI serves as the scoring tool. Given the inherent instability in LLMs, we invite three human annotators to assess the reliability of our LLM-based scorer’s evaluation results. The annotators are enlisted to rate 200 examples. Additionally, to ensure the robustness of our evaluation, GPT-4 is also employed as an auxiliary scorer, with results detailed in Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4" title="Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">D</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Experimental Settings</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.6">We implement ECR with PyTorch. The embedding size of the emotion label is 48.
The threshold <math alttext="\beta" class="ltx_Math" display="inline" id="S5.SS4.p1.1.m1.1"><semantics id="S5.SS4.p1.1.m1.1a"><mi id="S5.SS4.p1.1.m1.1.1" xref="S5.SS4.p1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.1.m1.1b"><ci id="S5.SS4.p1.1.m1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.1.m1.1d">italic_β</annotation></semantics></math> and <math alttext="n_{f}" class="ltx_Math" display="inline" id="S5.SS4.p1.2.m2.1"><semantics id="S5.SS4.p1.2.m2.1a"><msub id="S5.SS4.p1.2.m2.1.1" xref="S5.SS4.p1.2.m2.1.1.cmml"><mi id="S5.SS4.p1.2.m2.1.1.2" xref="S5.SS4.p1.2.m2.1.1.2.cmml">n</mi><mi id="S5.SS4.p1.2.m2.1.1.3" xref="S5.SS4.p1.2.m2.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.2.m2.1b"><apply id="S5.SS4.p1.2.m2.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p1.2.m2.1.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.p1.2.m2.1.1.2.cmml" xref="S5.SS4.p1.2.m2.1.1.2">𝑛</ci><ci id="S5.SS4.p1.2.m2.1.1.3.cmml" xref="S5.SS4.p1.2.m2.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.2.m2.1c">n_{f}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.2.m2.1d">italic_n start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT</annotation></semantics></math> are set to 0.1 and 3.
The amount of knowledge triples <math alttext="pn_{t}" class="ltx_Math" display="inline" id="S5.SS4.p1.3.m3.1"><semantics id="S5.SS4.p1.3.m3.1a"><mrow id="S5.SS4.p1.3.m3.1.1" xref="S5.SS4.p1.3.m3.1.1.cmml"><mi id="S5.SS4.p1.3.m3.1.1.2" xref="S5.SS4.p1.3.m3.1.1.2.cmml">p</mi><mo id="S5.SS4.p1.3.m3.1.1.1" xref="S5.SS4.p1.3.m3.1.1.1.cmml">⁢</mo><msub id="S5.SS4.p1.3.m3.1.1.3" xref="S5.SS4.p1.3.m3.1.1.3.cmml"><mi id="S5.SS4.p1.3.m3.1.1.3.2" xref="S5.SS4.p1.3.m3.1.1.3.2.cmml">n</mi><mi id="S5.SS4.p1.3.m3.1.1.3.3" xref="S5.SS4.p1.3.m3.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.3.m3.1b"><apply id="S5.SS4.p1.3.m3.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1"><times id="S5.SS4.p1.3.m3.1.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1.1"></times><ci id="S5.SS4.p1.3.m3.1.1.2.cmml" xref="S5.SS4.p1.3.m3.1.1.2">𝑝</ci><apply id="S5.SS4.p1.3.m3.1.1.3.cmml" xref="S5.SS4.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p1.3.m3.1.1.3.1.cmml" xref="S5.SS4.p1.3.m3.1.1.3">subscript</csymbol><ci id="S5.SS4.p1.3.m3.1.1.3.2.cmml" xref="S5.SS4.p1.3.m3.1.1.3.2">𝑛</ci><ci id="S5.SS4.p1.3.m3.1.1.3.3.cmml" xref="S5.SS4.p1.3.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.3.m3.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.3.m3.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and entity <math alttext="pn_{e}" class="ltx_Math" display="inline" id="S5.SS4.p1.4.m4.1"><semantics id="S5.SS4.p1.4.m4.1a"><mrow id="S5.SS4.p1.4.m4.1.1" xref="S5.SS4.p1.4.m4.1.1.cmml"><mi id="S5.SS4.p1.4.m4.1.1.2" xref="S5.SS4.p1.4.m4.1.1.2.cmml">p</mi><mo id="S5.SS4.p1.4.m4.1.1.1" xref="S5.SS4.p1.4.m4.1.1.1.cmml">⁢</mo><msub id="S5.SS4.p1.4.m4.1.1.3" xref="S5.SS4.p1.4.m4.1.1.3.cmml"><mi id="S5.SS4.p1.4.m4.1.1.3.2" xref="S5.SS4.p1.4.m4.1.1.3.2.cmml">n</mi><mi id="S5.SS4.p1.4.m4.1.1.3.3" xref="S5.SS4.p1.4.m4.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.4.m4.1b"><apply id="S5.SS4.p1.4.m4.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1"><times id="S5.SS4.p1.4.m4.1.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1.1"></times><ci id="S5.SS4.p1.4.m4.1.1.2.cmml" xref="S5.SS4.p1.4.m4.1.1.2">𝑝</ci><apply id="S5.SS4.p1.4.m4.1.1.3.cmml" xref="S5.SS4.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p1.4.m4.1.1.3.1.cmml" xref="S5.SS4.p1.4.m4.1.1.3">subscript</csymbol><ci id="S5.SS4.p1.4.m4.1.1.3.2.cmml" xref="S5.SS4.p1.4.m4.1.1.3.2">𝑛</ci><ci id="S5.SS4.p1.4.m4.1.1.3.3.cmml" xref="S5.SS4.p1.4.m4.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.4.m4.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.4.m4.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> in the emotion-aligned generation prompt is set to 2 and 4. For the feedback-aware item reweighting strategy, we assign the weight scalar of user feedback “like,” “dislike,” and “not say” to 2.0, 1.0, and 0.5, respectively. The analysis for the hyperparameters, i.e., the weight scalar of user feedback and the amount of knowledge used in the emotion-aligned generation prompt, can be found in Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A2" title="Appendix B Hyperparameters analysis ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">B</span></a>.
In the emotion-aligned response generation process, we use AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov and Hutter, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib36" title="">2019</a>)</cite> to optimize the tunable parameters of DialoGPT and fine-tune Llama2-chat with LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib16" title="">2022</a>)</cite>.
We set the learning rate for DialoGPT and Llama2-chat to <math alttext="1e-4" class="ltx_Math" display="inline" id="S5.SS4.p1.5.m5.1"><semantics id="S5.SS4.p1.5.m5.1a"><mrow id="S5.SS4.p1.5.m5.1.1" xref="S5.SS4.p1.5.m5.1.1.cmml"><mrow id="S5.SS4.p1.5.m5.1.1.2" xref="S5.SS4.p1.5.m5.1.1.2.cmml"><mn id="S5.SS4.p1.5.m5.1.1.2.2" xref="S5.SS4.p1.5.m5.1.1.2.2.cmml">1</mn><mo id="S5.SS4.p1.5.m5.1.1.2.1" xref="S5.SS4.p1.5.m5.1.1.2.1.cmml">⁢</mo><mi id="S5.SS4.p1.5.m5.1.1.2.3" xref="S5.SS4.p1.5.m5.1.1.2.3.cmml">e</mi></mrow><mo id="S5.SS4.p1.5.m5.1.1.1" xref="S5.SS4.p1.5.m5.1.1.1.cmml">−</mo><mn id="S5.SS4.p1.5.m5.1.1.3" xref="S5.SS4.p1.5.m5.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.5.m5.1b"><apply id="S5.SS4.p1.5.m5.1.1.cmml" xref="S5.SS4.p1.5.m5.1.1"><minus id="S5.SS4.p1.5.m5.1.1.1.cmml" xref="S5.SS4.p1.5.m5.1.1.1"></minus><apply id="S5.SS4.p1.5.m5.1.1.2.cmml" xref="S5.SS4.p1.5.m5.1.1.2"><times id="S5.SS4.p1.5.m5.1.1.2.1.cmml" xref="S5.SS4.p1.5.m5.1.1.2.1"></times><cn id="S5.SS4.p1.5.m5.1.1.2.2.cmml" type="integer" xref="S5.SS4.p1.5.m5.1.1.2.2">1</cn><ci id="S5.SS4.p1.5.m5.1.1.2.3.cmml" xref="S5.SS4.p1.5.m5.1.1.2.3">𝑒</ci></apply><cn id="S5.SS4.p1.5.m5.1.1.3.cmml" type="integer" xref="S5.SS4.p1.5.m5.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.5.m5.1c">1e-4</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.5.m5.1d">1 italic_e - 4</annotation></semantics></math> and <math alttext="5e-5" class="ltx_Math" display="inline" id="S5.SS4.p1.6.m6.1"><semantics id="S5.SS4.p1.6.m6.1a"><mrow id="S5.SS4.p1.6.m6.1.1" xref="S5.SS4.p1.6.m6.1.1.cmml"><mrow id="S5.SS4.p1.6.m6.1.1.2" xref="S5.SS4.p1.6.m6.1.1.2.cmml"><mn id="S5.SS4.p1.6.m6.1.1.2.2" xref="S5.SS4.p1.6.m6.1.1.2.2.cmml">5</mn><mo id="S5.SS4.p1.6.m6.1.1.2.1" xref="S5.SS4.p1.6.m6.1.1.2.1.cmml">⁢</mo><mi id="S5.SS4.p1.6.m6.1.1.2.3" xref="S5.SS4.p1.6.m6.1.1.2.3.cmml">e</mi></mrow><mo id="S5.SS4.p1.6.m6.1.1.1" xref="S5.SS4.p1.6.m6.1.1.1.cmml">−</mo><mn id="S5.SS4.p1.6.m6.1.1.3" xref="S5.SS4.p1.6.m6.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.6.m6.1b"><apply id="S5.SS4.p1.6.m6.1.1.cmml" xref="S5.SS4.p1.6.m6.1.1"><minus id="S5.SS4.p1.6.m6.1.1.1.cmml" xref="S5.SS4.p1.6.m6.1.1.1"></minus><apply id="S5.SS4.p1.6.m6.1.1.2.cmml" xref="S5.SS4.p1.6.m6.1.1.2"><times id="S5.SS4.p1.6.m6.1.1.2.1.cmml" xref="S5.SS4.p1.6.m6.1.1.2.1"></times><cn id="S5.SS4.p1.6.m6.1.1.2.2.cmml" type="integer" xref="S5.SS4.p1.6.m6.1.1.2.2">5</cn><ci id="S5.SS4.p1.6.m6.1.1.2.3.cmml" xref="S5.SS4.p1.6.m6.1.1.2.3">𝑒</ci></apply><cn id="S5.SS4.p1.6.m6.1.1.3.cmml" type="integer" xref="S5.SS4.p1.6.m6.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.6.m6.1c">5e-5</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.6.m6.1d">5 italic_e - 5</annotation></semantics></math>, respectively. The batch size is set to 128 for the emotion-aware item recommendation and 16 for the emotion-aligned response generation. The prompts used for the LLM-based scorers and baselines are detailed in Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A5" title="Appendix E Prompts ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T1">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 1. </span>Objective evaluation of item recommendation. The boldface indicates the best result. Significant improvements over best baseline results are marked with * (t-test, <math alttext="p\textless 0.05)" class="ltx_math_unparsed" display="inline" id="S5.T1.2.m1.1"><semantics id="S5.T1.2.m1.1b"><mrow id="S5.T1.2.m1.1c"><mi id="S5.T1.2.m1.1.1">p</mi><mo id="S5.T1.2.m1.1.2">&lt;</mo><mn id="S5.T1.2.m1.1.3">0.05</mn><mo id="S5.T1.2.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S5.T1.2.m1.1d">p\textless 0.05)</annotation><annotation encoding="application/x-llamapun" id="S5.T1.2.m1.1e">italic_p &lt; 0.05 )</annotation></semantics></math>.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T1.7" style="width:433.6pt;height:182.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(66.9pt,-28.1pt) scale(1.44648274162336,1.44648274162336) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T1.7.5">
<tr class="ltx_tr" id="S5.T1.7.5.6">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T1.7.5.6.1"><span class="ltx_text" id="S5.T1.7.5.6.1.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.2"><span class="ltx_text" id="S5.T1.7.5.6.2.1" style="font-size:90%;">AUC</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.3"><span class="ltx_text" id="S5.T1.7.5.6.3.1" style="font-size:90%;">RT@1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.4"><span class="ltx_text" id="S5.T1.7.5.6.4.1" style="font-size:90%;">RT@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.5"><span class="ltx_text" id="S5.T1.7.5.6.5.1" style="font-size:90%;">RT@50</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.6"><span class="ltx_text" id="S5.T1.7.5.6.6.1" style="font-size:90%;">R@1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.7"><span class="ltx_text" id="S5.T1.7.5.6.7.1" style="font-size:90%;">R@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.7.5.6.8"><span class="ltx_text" id="S5.T1.7.5.6.8.1" style="font-size:90%;">R@50</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T1.7.5.7.1"><span class="ltx_text" id="S5.T1.7.5.7.1.1" style="font-size:90%;">KBRD</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.2"><span class="ltx_text" id="S5.T1.7.5.7.2.1" style="font-size:90%;">0.503</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.3"><span class="ltx_text" id="S5.T1.7.5.7.3.1" style="font-size:90%;">0.040</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.4"><span class="ltx_text" id="S5.T1.7.5.7.4.1" style="font-size:90%;">0.182</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.5"><span class="ltx_text" id="S5.T1.7.5.7.5.1" style="font-size:90%;">0.381</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.6"><span class="ltx_text" id="S5.T1.7.5.7.6.1" style="font-size:90%;">0.037</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.7"><span class="ltx_text" id="S5.T1.7.5.7.7.1" style="font-size:90%;">0.175</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.5.7.8"><span class="ltx_text" id="S5.T1.7.5.7.8.1" style="font-size:90%;">0.360</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.8">
<td class="ltx_td ltx_align_left" id="S5.T1.7.5.8.1"><span class="ltx_text" id="S5.T1.7.5.8.1.1" style="font-size:90%;">KGSF</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.2"><span class="ltx_text" id="S5.T1.7.5.8.2.1" style="font-size:90%;">0.513</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.3"><span class="ltx_text" id="S5.T1.7.5.8.3.1" style="font-size:90%;">0.043</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.4"><span class="ltx_text" id="S5.T1.7.5.8.4.1" style="font-size:90%;">0.195</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.5"><span class="ltx_text" id="S5.T1.7.5.8.5.1" style="font-size:90%;">0.383</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.6"><span class="ltx_text" id="S5.T1.7.5.8.6.1" style="font-size:90%;">0.040</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.7"><span class="ltx_text" id="S5.T1.7.5.8.7.1" style="font-size:90%;">0.182</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.8.8"><span class="ltx_text" id="S5.T1.7.5.8.8.1" style="font-size:90%;">0.361</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.9">
<td class="ltx_td ltx_align_left" id="S5.T1.7.5.9.1"><span class="ltx_text" id="S5.T1.7.5.9.1.1" style="font-size:90%;">RevCore</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.2"><span class="ltx_text" id="S5.T1.7.5.9.2.1" style="font-size:90%;">0.514</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.3"><span class="ltx_text" id="S5.T1.7.5.9.3.1" style="font-size:90%;">0.054</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.4"><span class="ltx_text" id="S5.T1.7.5.9.4.1" style="font-size:90%;">0.230</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.5"><span class="ltx_text" id="S5.T1.7.5.9.5.1" style="font-size:90%;">0.410</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.6"><span class="ltx_text" id="S5.T1.7.5.9.6.1" style="font-size:90%;">0.046</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.7"><span class="ltx_text" id="S5.T1.7.5.9.7.1" style="font-size:90%;">0.209</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.9.8"><span class="ltx_text" id="S5.T1.7.5.9.8.1" style="font-size:90%;">0.390</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.10">
<td class="ltx_td ltx_align_left" id="S5.T1.7.5.10.1"><span class="ltx_text" id="S5.T1.7.5.10.1.1" style="font-size:90%;">UCCR</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.2"><span class="ltx_text" id="S5.T1.7.5.10.2.1" style="font-size:90%;">0.499</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.3"><span class="ltx_text" id="S5.T1.7.5.10.3.1" style="font-size:90%;">0.038</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.4"><span class="ltx_text" id="S5.T1.7.5.10.4.1" style="font-size:90%;">0.208</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.5"><span class="ltx_text" id="S5.T1.7.5.10.5.1" style="font-size:90%;">0.423</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.6"><span class="ltx_text" id="S5.T1.7.5.10.6.1" style="font-size:90%;">0.039</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.7"><span class="ltx_text" id="S5.T1.7.5.10.7.1" style="font-size:90%;">0.198</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.10.8"><span class="ltx_text" id="S5.T1.7.5.10.8.1" style="font-size:90%;">0.407</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.11">
<td class="ltx_td ltx_align_left" id="S5.T1.7.5.11.1"><span class="ltx_text" id="S5.T1.7.5.11.1.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.2"><span class="ltx_text" id="S5.T1.7.5.11.2.1" style="font-size:90%;">0.506</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.3"><span class="ltx_text" id="S5.T1.7.5.11.3.1" style="font-size:90%;">0.052</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.4"><span class="ltx_text" id="S5.T1.7.5.11.4.1" style="font-size:90%;">0.229</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.5"><span class="ltx_text" id="S5.T1.7.5.11.5.1" style="font-size:90%;">0.439</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.6"><span class="ltx_text" id="S5.T1.7.5.11.6.1" style="font-size:90%;">0.047</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.7"><span class="ltx_text" id="S5.T1.7.5.11.7.1" style="font-size:90%;">0.212</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.5.11.8"><span class="ltx_text" id="S5.T1.7.5.11.8.1" style="font-size:90%;">0.414</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.5.5">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S5.T1.7.5.5.6"><span class="ltx_text" id="S5.T1.7.5.5.6.1" style="font-size:90%;">ECR</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.3.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T1.3.1.1.1.1" style="font-size:90%;">0.541<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T1.3.1.1.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T1.3.1.1.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.7.5.5.7"><span class="ltx_text ltx_font_bold" id="S5.T1.7.5.5.7.1" style="font-size:90%;">0.055</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.4.2.2.2"><span class="ltx_text ltx_font_bold" id="S5.T1.4.2.2.2.1" style="font-size:90%;">0.238<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T1.4.2.2.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T1.4.2.2.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.5.3.3.3"><span class="ltx_text ltx_font_bold" id="S5.T1.5.3.3.3.1" style="font-size:90%;">0.452<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T1.5.3.3.3.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T1.5.3.3.3.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.7.5.5.8"><span class="ltx_text ltx_font_bold" id="S5.T1.7.5.5.8.1" style="font-size:90%;">0.049</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.6.4.4.4"><span class="ltx_text ltx_font_bold" id="S5.T1.6.4.4.4.1" style="font-size:90%;">0.220<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T1.6.4.4.4.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T1.6.4.4.4.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.7.5.5.5"><span class="ltx_text ltx_font_bold" id="S5.T1.7.5.5.5.1" style="font-size:90%;">0.428<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T1.7.5.5.5.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T1.7.5.5.5.1.1.1">∗</sup></span></span></td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 2. </span>Subjective evaluation of LLM-based scorer (GPT-4-turbo) and human annotators for response generation.
The boldface indicates the best result. Significant improvements over best baseline results are marked with * (t-test, <math alttext="p\textless 0.05)" class="ltx_math_unparsed" display="inline" id="S5.T2.2.m1.1"><semantics id="S5.T2.2.m1.1b"><mrow id="S5.T2.2.m1.1c"><mi id="S5.T2.2.m1.1.1">p</mi><mo id="S5.T2.2.m1.1.2">&lt;</mo><mn id="S5.T2.2.m1.1.3">0.05</mn><mo id="S5.T2.2.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S5.T2.2.m1.1d">p\textless 0.05)</annotation><annotation encoding="application/x-llamapun" id="S5.T2.2.m1.1e">italic_p &lt; 0.05 )</annotation></semantics></math>.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T2.12" style="width:433.6pt;height:305.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(50.8pt,-35.8pt) scale(1.30583645443483,1.30583645443483) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.12.10">
<tr class="ltx_tr" id="S5.T2.12.10.11">
<td class="ltx_td ltx_border_tt" id="S5.T2.12.10.11.1"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T2.12.10.11.2"><span class="ltx_text" id="S5.T2.12.10.11.2.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.11.3"><span class="ltx_text" id="S5.T2.12.10.11.3.1" style="font-size:90%;">Emo Int</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.11.4"><span class="ltx_text" id="S5.T2.12.10.11.4.1" style="font-size:90%;">Emo Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.11.5"><span class="ltx_text" id="S5.T2.12.10.11.5.1" style="font-size:90%;">Log Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.11.6"><span class="ltx_text" id="S5.T2.12.10.11.6.1" style="font-size:90%;">Info</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.11.7"><span class="ltx_text" id="S5.T2.12.10.11.7.1" style="font-size:90%;">Life</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.12">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T2.12.10.12.1" rowspan="6"><span class="ltx_text" id="S5.T2.12.10.12.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S5.T2.12.10.12.1.1.1" style="width:6.3pt;height:70.7pt;vertical-align:-32.2pt;"><span class="ltx_transformed_inner" style="width:70.7pt;transform:translate(-32.2pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="S5.T2.12.10.12.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.12.10.12.1.1.1.1.1">LLM-based scorer</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T2.12.10.12.2"><span class="ltx_text" id="S5.T2.12.10.12.2.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.12.3"><span class="ltx_text" id="S5.T2.12.10.12.3.1" style="font-size:90%;">0.400</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.12.4"><span class="ltx_text" id="S5.T2.12.10.12.4.1" style="font-size:90%;">0.942</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.12.5"><span class="ltx_text" id="S5.T2.12.10.12.5.1" style="font-size:90%;">0.793</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.12.6"><span class="ltx_text" id="S5.T2.12.10.12.6.1" style="font-size:90%;">0.673</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.12.7"><span class="ltx_text" id="S5.T2.12.10.12.7.1" style="font-size:90%;">2.241</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.13">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.13.1"><span class="ltx_text" id="S5.T2.12.10.13.1.1" style="font-size:90%;">GPT-3.5-turbo-instruct</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.13.2"><span class="ltx_text" id="S5.T2.12.10.13.2.1" style="font-size:90%;">1.706</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.13.3"><span class="ltx_text" id="S5.T2.12.10.13.3.1" style="font-size:90%;">3.043</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.13.4"><span class="ltx_text" id="S5.T2.12.10.13.4.1" style="font-size:90%;">3.474</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.13.5"><span class="ltx_text" id="S5.T2.12.10.13.5.1" style="font-size:90%;">2.975</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.13.6"><span class="ltx_text" id="S5.T2.12.10.13.6.1" style="font-size:90%;">4.182</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.14">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.14.1"><span class="ltx_text" id="S5.T2.12.10.14.1.1" style="font-size:90%;">GPT-3.5-turbo</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.14.2"><span class="ltx_text" id="S5.T2.12.10.14.2.1" style="font-size:90%;">2.215</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.14.3"><span class="ltx_text" id="S5.T2.12.10.14.3.1" style="font-size:90%;">3.754</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.14.4"><span class="ltx_text" id="S5.T2.12.10.14.4.1" style="font-size:90%;">4.782</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.14.5"><span class="ltx_text" id="S5.T2.12.10.14.5.1" style="font-size:90%;">4.147</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.14.6"><span class="ltx_text" id="S5.T2.12.10.14.6.1" style="font-size:90%;">5.338</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.15">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.15.1"><span class="ltx_text" id="S5.T2.12.10.15.1.1" style="font-size:90%;">Llama 2-7B-Chat</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.15.2"><span class="ltx_text" id="S5.T2.12.10.15.2.1" style="font-size:90%;">3.934</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.15.3"><span class="ltx_text" id="S5.T2.12.10.15.3.1" style="font-size:90%;">6.030</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.15.4"><span class="ltx_text" id="S5.T2.12.10.15.4.1" style="font-size:90%;">5.886</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.15.5"><span class="ltx_text" id="S5.T2.12.10.15.5.1" style="font-size:90%;">5.904</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.15.6"><span class="ltx_text" id="S5.T2.12.10.15.6.1" style="font-size:90%;">7.129</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.16">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T2.12.10.16.1"><span class="ltx_text" id="S5.T2.12.10.16.1.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.16.2"><span class="ltx_text" id="S5.T2.12.10.16.2.1" style="font-size:90%;">4.011</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.16.3"><span class="ltx_text" id="S5.T2.12.10.16.3.1" style="font-size:90%;">4.878</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.16.4"><span class="ltx_text" id="S5.T2.12.10.16.4.1" style="font-size:90%;">4.736</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.16.5"><span class="ltx_text" id="S5.T2.12.10.16.5.1" style="font-size:90%;">5.094</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.16.6"><span class="ltx_text" id="S5.T2.12.10.16.6.1" style="font-size:90%;">5.906</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.7.5.5">
<td class="ltx_td ltx_align_left" id="S5.T2.7.5.5.6"><span class="ltx_text" id="S5.T2.7.5.5.6.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.3.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.3.1.1.1.1" style="font-size:90%;">6.826<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.3.1.1.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.3.1.1.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.4.2.2.2"><span class="ltx_text ltx_font_bold" id="S5.T2.4.2.2.2.1" style="font-size:90%;">7.724<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.4.2.2.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.4.2.2.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.5.3.3.3"><span class="ltx_text ltx_font_bold" id="S5.T2.5.3.3.3.1" style="font-size:90%;">6.702<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.5.3.3.3.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.5.3.3.3.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.6.4.4.4"><span class="ltx_text ltx_font_bold" id="S5.T2.6.4.4.4.1" style="font-size:90%;">7.653<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.6.4.4.4.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.6.4.4.4.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.7.5.5.5"><span class="ltx_text ltx_font_bold" id="S5.T2.7.5.5.5.1" style="font-size:90%;">8.063<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.7.5.5.5.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.7.5.5.5.1.1.1">∗</sup></span></span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.17">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_tt" id="S5.T2.12.10.17.1" rowspan="6"><span class="ltx_text" id="S5.T2.12.10.17.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S5.T2.12.10.17.1.1.1" style="width:6.1pt;height:70.3pt;vertical-align:-32.1pt;"><span class="ltx_transformed_inner" style="width:70.3pt;transform:translate(-32.06pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="S5.T2.12.10.17.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.12.10.17.1.1.1.1.1">Human annotator</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T2.12.10.17.2"><span class="ltx_text" id="S5.T2.12.10.17.2.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.17.3"><span class="ltx_text" id="S5.T2.12.10.17.3.1" style="font-size:90%;">0.947</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.17.4"><span class="ltx_text" id="S5.T2.12.10.17.4.1" style="font-size:90%;">0.775</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.17.5"><span class="ltx_text" id="S5.T2.12.10.17.5.1" style="font-size:90%;">1.158</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.17.6"><span class="ltx_text" id="S5.T2.12.10.17.6.1" style="font-size:90%;">0.380</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.12.10.17.7"><span class="ltx_text" id="S5.T2.12.10.17.7.1" style="font-size:90%;">1.805</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.18">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.18.1"><span class="ltx_text" id="S5.T2.12.10.18.1.1" style="font-size:90%;">GPT-3.5-turbo-instruct</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.18.2"><span class="ltx_text" id="S5.T2.12.10.18.2.1" style="font-size:90%;">2.048</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.18.3"><span class="ltx_text" id="S5.T2.12.10.18.3.1" style="font-size:90%;">2.555</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.18.4"><span class="ltx_text" id="S5.T2.12.10.18.4.1" style="font-size:90%;">3.265</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.18.5"><span class="ltx_text" id="S5.T2.12.10.18.5.1" style="font-size:90%;">1.822</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.18.6"><span class="ltx_text" id="S5.T2.12.10.18.6.1" style="font-size:90%;">3.648</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.19">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.19.1"><span class="ltx_text" id="S5.T2.12.10.19.1.1" style="font-size:90%;">GPT-3.5-turbo</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.19.2"><span class="ltx_text" id="S5.T2.12.10.19.2.1" style="font-size:90%;">2.890</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.19.3"><span class="ltx_text" id="S5.T2.12.10.19.3.1" style="font-size:90%;">3.678</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.19.4"><span class="ltx_text" id="S5.T2.12.10.19.4.1" style="font-size:90%;">5.323</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.19.5"><span class="ltx_text" id="S5.T2.12.10.19.5.1" style="font-size:90%;">3.233</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.19.6"><span class="ltx_text" id="S5.T2.12.10.19.6.1" style="font-size:90%;">5.125</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.20">
<td class="ltx_td ltx_align_left" id="S5.T2.12.10.20.1"><span class="ltx_text" id="S5.T2.12.10.20.1.1" style="font-size:90%;">Llama 2-7B-Chat</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.20.2"><span class="ltx_text" id="S5.T2.12.10.20.2.1" style="font-size:90%;">4.432</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.20.3"><span class="ltx_text" id="S5.T2.12.10.20.3.1" style="font-size:90%;">6.152</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.20.4"><span class="ltx_text" id="S5.T2.12.10.20.4.1" style="font-size:90%;">6.393</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.20.5"><span class="ltx_text" id="S5.T2.12.10.20.5.1" style="font-size:90%;">5.713</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.12.10.20.6"><span class="ltx_text" id="S5.T2.12.10.20.6.1" style="font-size:90%;">7.463</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.21">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T2.12.10.21.1"><span class="ltx_text" id="S5.T2.12.10.21.1.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.21.2"><span class="ltx_text" id="S5.T2.12.10.21.2.1" style="font-size:90%;">5.097</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.21.3"><span class="ltx_text" id="S5.T2.12.10.21.3.1" style="font-size:90%;">4.817</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.21.4"><span class="ltx_text" id="S5.T2.12.10.21.4.1" style="font-size:90%;">5.398</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.21.5"><span class="ltx_text" id="S5.T2.12.10.21.5.1" style="font-size:90%;">4.628</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.12.10.21.6"><span class="ltx_text" id="S5.T2.12.10.21.6.1" style="font-size:90%;">6.385</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.10.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T2.12.10.10.6"><span class="ltx_text" id="S5.T2.12.10.10.6.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.8.6.6.1"><span class="ltx_text ltx_font_bold" id="S5.T2.8.6.6.1.1" style="font-size:90%;">7.130<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.8.6.6.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.8.6.6.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.9.7.7.2"><span class="ltx_text ltx_font_bold" id="S5.T2.9.7.7.2.1" style="font-size:90%;">7.575<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.9.7.7.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.9.7.7.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.10.8.8.3"><span class="ltx_text ltx_font_bold" id="S5.T2.10.8.8.3.1" style="font-size:90%;">7.403<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.10.8.8.3.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.10.8.8.3.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.11.9.9.4"><span class="ltx_text ltx_font_bold" id="S5.T2.11.9.9.4.1" style="font-size:90%;">7.172<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.11.9.9.4.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.11.9.9.4.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.12.10.10.5"><span class="ltx_text ltx_font_bold" id="S5.T2.12.10.10.5.1" style="font-size:90%;">8.468<span class="ltx_text ltx_font_medium ltx_inline-block" id="S5.T2.12.10.10.5.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S5.T2.12.10.10.5.1.1.1">∗</sup></span></span></td>
</tr>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5. </span>Evaluation on Item Recommendation (RQ1)</h3>
<div class="ltx_para ltx_noindent" id="S5.SS5.p1">
<p class="ltx_p" id="S5.SS5.p1.3">We address RQ1 by evaluating the performance of item recommendation; see Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.T1" title="Table 1 ‣ 5.4. Experimental Settings ‣ 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">1</span></a>.
KGSF and RevCore, introducing external knowledge in CRSs, have demonstrated superior performance compared to KBRD, underscoring the significance of external knowledge in recommendations.
UCCR also performs well on RT@50 and R@50 by extracting user-centric data from cross-session interactions.
UniCRS, which integrates PLM into CRSs, exhibits the best performance among all baselines on RT@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS5.p1.1.m1.1"><semantics id="S5.SS5.p1.1.m1.1a"><mi id="S5.SS5.p1.1.m1.1.1" xref="S5.SS5.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.1.m1.1b"><ci id="S5.SS5.p1.1.m1.1.1.cmml" xref="S5.SS5.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.1.m1.1d">italic_n</annotation></semantics></math> and R@<math alttext="n" class="ltx_Math" display="inline" id="S5.SS5.p1.2.m2.1"><semantics id="S5.SS5.p1.2.m2.1a"><mi id="S5.SS5.p1.2.m2.1.1" xref="S5.SS5.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.2.m2.1b"><ci id="S5.SS5.p1.2.m2.1.1.cmml" xref="S5.SS5.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.2.m2.1d">italic_n</annotation></semantics></math>.
Regarding the AUC, a metric previously overlooked but essential for evaluating a model’s full alignment with users’ needs, we find that all baselines exhibit poor performance, with AUC values approaching <math alttext="0.5" class="ltx_Math" display="inline" id="S5.SS5.p1.3.m3.1"><semantics id="S5.SS5.p1.3.m3.1a"><mn id="S5.SS5.p1.3.m3.1.1" xref="S5.SS5.p1.3.m3.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.3.m3.1b"><cn id="S5.SS5.p1.3.m3.1.1.cmml" type="float" xref="S5.SS5.p1.3.m3.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.3.m3.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.3.m3.1d">0.5</annotation></semantics></math>. This finding highlights the considerable challenge faced by CRSs in distinguishing between items receiving positive and negative feedback.</p>
</div>
<div class="ltx_para" id="S5.SS5.p2">
<p class="ltx_p" id="S5.SS5.p2.1">We observe that ECR significantly outperforms all the baselines.
Specifically, it shows an improvement of 3.9% and 3.0% over UniCRS in RT@10 and RT@50, respectively.
Additionally, ECR demonstrates a significant lead in the AUC metric, as indicated by a 6.9% improvement over UniCRS. These findings confirm the importance of capturing user emotions in enhancing CRSs ability to accurately estimate user preferences and effectively mitigate the impact of incorrect item labels in the dataset.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.6. </span>Evaluation on Response Generation (RQ2)</h3>
<div class="ltx_para" id="S5.SS6.p1">
<p class="ltx_p" id="S5.SS6.p1.1">To analyze whether ECR is capable of expressing emotions for better user satisfaction, we conduct a comparison of response generation, evaluated by both LLM-based scorer (GPT-4-Turbo) and human annotators, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.T2" title="Table 2 ‣ 5.4. Experimental Settings ‣ 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">2</span></a>.
We observe that the evaluation results from the LLM-based scorer and human annotators are essentially consistent. In comparison to all baseline models, we discovered that LLMs in the zero-shot setting significantly outperform UniCRS, which is fine-tuned on the entire ReDial dataset. This indicates the subpar quality of the dataset’s standard responses.</p>
</div>
<div class="ltx_para" id="S5.SS6.p2">
<p class="ltx_p" id="S5.SS6.p2.1">We observe that ECR[Llama 2-Chat] surpasses all the baselines. Moreover, ECR[DialoGPT] achieves a comparable performance with GPT-3.5-turbo, despite having notably fewer parameters. In particular for the evaluation results of the LLM-based scorer, ECR shows a large improvement in emotional intensity, with ECR[Llama 2-Chat] and ECR[DialoGPT] increasing by 73.5% and 2.0% compared to Llama 2-7B-Chat.
Correspondingly, ECR[Llama 2-Chat] and ECR[DialoGPT] achieve increases of 28.1% and 29.9% over Llama 2-7B-Chat and GPT-3.5-turbo in emotional persuasiveness. It confirms ECR’s capability, enhanced by supervised fine-tuning on emotional reviews, to express emotions and improve the user experience on an emotional level. Furthermore, ECR incorporates relevant knowledge of recommended items as a part of the generation prompt, which has a beneficial effect on response generation. This is evidenced by the informativeness metric where ECR[Llama 2-Chat] and ECR[DialoGPT] outperform Llama 2-7B-Chat and GPT-3.5-turbo by 29.6% and 22.8%. Meanwhile, ECR[Llama 2-Chat] also increases by 13.9% over Llama 2-7B-Chat on logic persuasiveness. Lastly, in terms of lifelikeness, ECR[Llama 2-Chat] and ECR[DialoGPT] surpass Llama 2-7B-Chat and GPT-3.5-turbo by 13.1% and 10.6%. Overall, these findings illustrate that ECR is more human-like by expressing emotions, thereby enlivening user experience. This enhancement goes beyond aesthetic improvements, it significantly strengthens user identification and increases satisfaction with the system, which may lead to greater user attachment and increased frequency of use.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS6.p3">
<p class="ltx_p" id="S5.SS6.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS6.p3.1.1">Reliability of LLM-based scorer.</span>
Considering the wide scoring range and the variability in absolute value across evaluators for scoring on each metric, we use the model rankings within these metrics to calculate Cohen’s kappa <cite class="ltx_cite ltx_citemacro_citep">(Landis and Koch, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib24" title="">1977</a>)</cite>. The average Cohen’s kappa within annotators is 0.82 and between LLM-based scorer and annotators is 0.62, indicating substantial agreement. This result suggests the reliability of the LLM-based scorer.
Upon analyzing the human evaluation results, discrepancies are primarily observed in logic persuasiveness, whereas evaluations in the emotional dimension are highly consistent, proving the stability of ECR’s capabilities in expressing emotions and increasing user emotional satisfaction.
In contrast to the LLM-based scorer’s evaluations, human annotators identify that ECR[DialoGPT] exhibits superiority over GPT-3.5-turbo on logic persuasiveness by 1.4%, which is attributable to its more effective highlights on the advantages of recommended items.
This finding suggests that even GPT-4-turbo still has a slight gap with humans when performing subjective tasks, which reconfirms the significance of our proposed ECR to satisfy practical user needs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS6.p4">
<p class="ltx_p" id="S5.SS6.p4.1"><span class="ltx_text ltx_font_bold" id="S5.SS6.p4.1.1">User satisfaction.</span>
To confirm ECR’s capability in improving user satisfaction by expressing emotions, we direct the human annotators to rate user satisfaction. Our findings indicate that the proposed emotion-enhanced evaluation metrics effectively reflect user satisfaction, especially lifelikeness, which shows a high correlation with user satisfaction. This evidence confirms that by adopting emotion-rich and human-like expressions, ECR significantly improves user experience and satisfaction. See Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.SS2" title="D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">D.2</span></a> for more details.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Model Analysis (RQ3)</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>Ablation Studies</h3>
<figure class="ltx_table" id="S6.T3">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 3. </span>
Results of ablation studies for item recommendation. The boldface indicates the best result. Significant improvements are marked with * (t-test, <math alttext="p\textless 0.05)" class="ltx_math_unparsed" display="inline" id="S6.T3.2.m1.1"><semantics id="S6.T3.2.m1.1b"><mrow id="S6.T3.2.m1.1c"><mi id="S6.T3.2.m1.1.1">p</mi><mo id="S6.T3.2.m1.1.2">&lt;</mo><mn id="S6.T3.2.m1.1.3">0.05</mn><mo id="S6.T3.2.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S6.T3.2.m1.1d">p\textless 0.05)</annotation><annotation encoding="application/x-llamapun" id="S6.T3.2.m1.1e">italic_p &lt; 0.05 )</annotation></semantics></math>.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T3.7">
<tr class="ltx_tr" id="S6.T3.7.6">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T3.7.6.1" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.1.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.7.6.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.2.1" style="font-size:90%;">AUC</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.7.6.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.3.1" style="font-size:90%;">RT@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.7.6.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.4.1" style="font-size:90%;">RT@50</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.7.6.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.5.1" style="font-size:90%;">R@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.7.6.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.6.6.1" style="font-size:90%;">R@50</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.7.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T3.7.7.1" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.1.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.7.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.2.1" style="font-size:90%;">0.506</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.7.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.3.1" style="font-size:90%;">0.229</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.7.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.4.1" style="font-size:90%;">0.439</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.7.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.5.1" style="font-size:90%;">0.212</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.7.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.7.6.1" style="font-size:90%;">0.414</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.3.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T3.3.1.1" style="padding-left:7.0pt;padding-right:7.0pt;">
<span class="ltx_text" id="S6.T3.3.1.1.1" style="font-size:90%;">ECR</span><math alttext="\left[\text{L}\right]" class="ltx_Math" display="inline" id="S6.T3.3.1.1.m1.1"><semantics id="S6.T3.3.1.1.m1.1a"><mrow id="S6.T3.3.1.1.m1.1.2.2" xref="S6.T3.3.1.1.m1.1.2.1.cmml"><mo id="S6.T3.3.1.1.m1.1.2.2.1" xref="S6.T3.3.1.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.T3.3.1.1.m1.1.1" mathsize="90%" xref="S6.T3.3.1.1.m1.1.1a.cmml">L</mtext><mo id="S6.T3.3.1.1.m1.1.2.2.2" xref="S6.T3.3.1.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.3.1.1.m1.1b"><apply id="S6.T3.3.1.1.m1.1.2.1.cmml" xref="S6.T3.3.1.1.m1.1.2.2"><csymbol cd="latexml" id="S6.T3.3.1.1.m1.1.2.1.1.cmml" xref="S6.T3.3.1.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.T3.3.1.1.m1.1.1a.cmml" xref="S6.T3.3.1.1.m1.1.1"><mtext id="S6.T3.3.1.1.m1.1.1.cmml" mathsize="90%" xref="S6.T3.3.1.1.m1.1.1">L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.1.1.m1.1c">\left[\text{L}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.T3.3.1.1.m1.1d">[ L ]</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.3.1.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.3.1.2.1" style="font-size:90%;">0.535</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.3.1.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.3.1.3.1" style="font-size:90%;">0.229</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.3.1.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.3.1.4.1" style="font-size:90%;">0.444</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.3.1.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.3.1.5.1" style="font-size:90%;">0.213</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.3.1.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.3.1.6.1" style="font-size:90%;">0.420</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.4.2">
<td class="ltx_td ltx_align_left" id="S6.T3.4.2.1" style="padding-left:7.0pt;padding-right:7.0pt;">
<span class="ltx_text" id="S6.T3.4.2.1.1" style="font-size:90%;">ECR</span><math alttext="\left[\text{LS}\right]" class="ltx_Math" display="inline" id="S6.T3.4.2.1.m1.1"><semantics id="S6.T3.4.2.1.m1.1a"><mrow id="S6.T3.4.2.1.m1.1.2.2" xref="S6.T3.4.2.1.m1.1.2.1.cmml"><mo id="S6.T3.4.2.1.m1.1.2.2.1" xref="S6.T3.4.2.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.T3.4.2.1.m1.1.1" mathsize="90%" xref="S6.T3.4.2.1.m1.1.1a.cmml">LS</mtext><mo id="S6.T3.4.2.1.m1.1.2.2.2" xref="S6.T3.4.2.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.4.2.1.m1.1b"><apply id="S6.T3.4.2.1.m1.1.2.1.cmml" xref="S6.T3.4.2.1.m1.1.2.2"><csymbol cd="latexml" id="S6.T3.4.2.1.m1.1.2.1.1.cmml" xref="S6.T3.4.2.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.T3.4.2.1.m1.1.1a.cmml" xref="S6.T3.4.2.1.m1.1.1"><mtext id="S6.T3.4.2.1.m1.1.1.cmml" mathsize="90%" xref="S6.T3.4.2.1.m1.1.1">LS</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.2.1.m1.1c">\left[\text{LS}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.T3.4.2.1.m1.1d">[ LS ]</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.2.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.4.2.2.1" style="font-size:90%;">0.541</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.2.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.4.2.3.1" style="font-size:90%;">0.232</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.2.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.4.2.4.1" style="font-size:90%;">0.442</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.2.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.4.2.5.1" style="font-size:90%;">0.216</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.2.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.4.2.6.1" style="font-size:90%;">0.420</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.5.3">
<td class="ltx_td ltx_align_left" id="S6.T3.5.3.1" style="padding-left:7.0pt;padding-right:7.0pt;">
<span class="ltx_text" id="S6.T3.5.3.1.1" style="font-size:90%;">ECR</span><math alttext="\left[\text{LG}\right]" class="ltx_Math" display="inline" id="S6.T3.5.3.1.m1.1"><semantics id="S6.T3.5.3.1.m1.1a"><mrow id="S6.T3.5.3.1.m1.1.2.2" xref="S6.T3.5.3.1.m1.1.2.1.cmml"><mo id="S6.T3.5.3.1.m1.1.2.2.1" xref="S6.T3.5.3.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.T3.5.3.1.m1.1.1" mathsize="90%" xref="S6.T3.5.3.1.m1.1.1a.cmml">LG</mtext><mo id="S6.T3.5.3.1.m1.1.2.2.2" xref="S6.T3.5.3.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.5.3.1.m1.1b"><apply id="S6.T3.5.3.1.m1.1.2.1.cmml" xref="S6.T3.5.3.1.m1.1.2.2"><csymbol cd="latexml" id="S6.T3.5.3.1.m1.1.2.1.1.cmml" xref="S6.T3.5.3.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.T3.5.3.1.m1.1.1a.cmml" xref="S6.T3.5.3.1.m1.1.1"><mtext id="S6.T3.5.3.1.m1.1.1.cmml" mathsize="90%" xref="S6.T3.5.3.1.m1.1.1">LG</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.3.1.m1.1c">\left[\text{LG}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.T3.5.3.1.m1.1d">[ LG ]</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.5.3.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.5.3.2.1" style="font-size:90%;">0.535</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.5.3.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.5.3.3.1" style="font-size:90%;">0.232</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.5.3.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.5.3.4.1" style="font-size:90%;">0.453</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.5.3.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.5.3.5.1" style="font-size:90%;">0.216</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.5.3.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.5.3.6.1" style="font-size:90%;">0.428</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.7.5">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S6.T3.7.5.3" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.5.3.1" style="font-size:90%;">ECR</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T3.7.5.4" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.7.5.4.1" style="font-size:90%;">0.541</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T3.6.4.1" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.6.4.1.1" style="font-size:90%;">0.238<span class="ltx_text ltx_font_medium ltx_inline-block" id="S6.T3.6.4.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S6.T3.6.4.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T3.7.5.5" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text" id="S6.T3.7.5.5.1" style="font-size:90%;">0.452</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T3.7.5.2" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.7.5.2.1" style="font-size:90%;">0.220<span class="ltx_text ltx_font_medium ltx_inline-block" id="S6.T3.7.5.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="S6.T3.7.5.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T3.7.5.6" style="padding-left:7.0pt;padding-right:7.0pt;"><span class="ltx_text ltx_font_bold" id="S6.T3.7.5.6.1" style="font-size:90%;">0.428</span></td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">ECR has a set of components to improve the performance. To verify their effectiveness, we conduct an ablation study and report the results in Table  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.T3" title="Table 3 ‣ 6.1. Ablation Studies ‣ 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">3</span></a>.
We considered three variants:

<span class="ltx_inline-enumerate" id="S6.I1">
<span class="ltx_inline-item" id="S6.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S6.I1.i1.1">ECR<math alttext="\left[\text{L}\right]" class="ltx_Math" display="inline" id="S6.I1.i1.1.m1.1"><semantics id="S6.I1.i1.1.m1.1a"><mrow id="S6.I1.i1.1.m1.1.2.2" xref="S6.I1.i1.1.m1.1.2.1.cmml"><mo id="S6.I1.i1.1.m1.1.2.2.1" xref="S6.I1.i1.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.I1.i1.1.m1.1.1" xref="S6.I1.i1.1.m1.1.1a.cmml">L</mtext><mo id="S6.I1.i1.1.m1.1.2.2.2" xref="S6.I1.i1.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.1.m1.1b"><apply id="S6.I1.i1.1.m1.1.2.1.cmml" xref="S6.I1.i1.1.m1.1.2.2"><csymbol cd="latexml" id="S6.I1.i1.1.m1.1.2.1.1.cmml" xref="S6.I1.i1.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.I1.i1.1.m1.1.1a.cmml" xref="S6.I1.i1.1.m1.1.1"><mtext id="S6.I1.i1.1.m1.1.1.cmml" xref="S6.I1.i1.1.m1.1.1">L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.1.m1.1c">\left[\text{L}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.I1.i1.1.m1.1d">[ L ]</annotation></semantics></math> retains only the local emotion-aware entity representation;
</span></span>
<span class="ltx_inline-item" id="S6.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S6.I1.i2.1">ECR<math alttext="\left[\text{LS}\right]" class="ltx_Math" display="inline" id="S6.I1.i2.1.m1.1"><semantics id="S6.I1.i2.1.m1.1a"><mrow id="S6.I1.i2.1.m1.1.2.2" xref="S6.I1.i2.1.m1.1.2.1.cmml"><mo id="S6.I1.i2.1.m1.1.2.2.1" xref="S6.I1.i2.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.I1.i2.1.m1.1.1" xref="S6.I1.i2.1.m1.1.1a.cmml">LS</mtext><mo id="S6.I1.i2.1.m1.1.2.2.2" xref="S6.I1.i2.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i2.1.m1.1b"><apply id="S6.I1.i2.1.m1.1.2.1.cmml" xref="S6.I1.i2.1.m1.1.2.2"><csymbol cd="latexml" id="S6.I1.i2.1.m1.1.2.1.1.cmml" xref="S6.I1.i2.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.I1.i2.1.m1.1.1a.cmml" xref="S6.I1.i2.1.m1.1.1"><mtext id="S6.I1.i2.1.m1.1.1.cmml" xref="S6.I1.i2.1.m1.1.1">LS</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.1.m1.1c">\left[\text{LS}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.I1.i2.1.m1.1d">[ LS ]</annotation></semantics></math> includes the local emotion-aware entity representation and the feedback-aware item reweighting strategy; and
</span></span>
<span class="ltx_inline-item" id="S6.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S6.I1.i3.1">ECR<math alttext="\left[\text{LG}\right]" class="ltx_Math" display="inline" id="S6.I1.i3.1.m1.1"><semantics id="S6.I1.i3.1.m1.1a"><mrow id="S6.I1.i3.1.m1.1.2.2" xref="S6.I1.i3.1.m1.1.2.1.cmml"><mo id="S6.I1.i3.1.m1.1.2.2.1" xref="S6.I1.i3.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.I1.i3.1.m1.1.1" xref="S6.I1.i3.1.m1.1.1a.cmml">LG</mtext><mo id="S6.I1.i3.1.m1.1.2.2.2" xref="S6.I1.i3.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i3.1.m1.1b"><apply id="S6.I1.i3.1.m1.1.2.1.cmml" xref="S6.I1.i3.1.m1.1.2.2"><csymbol cd="latexml" id="S6.I1.i3.1.m1.1.2.1.1.cmml" xref="S6.I1.i3.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.I1.i3.1.m1.1.1a.cmml" xref="S6.I1.i3.1.m1.1.1"><mtext id="S6.I1.i3.1.m1.1.1.cmml" xref="S6.I1.i3.1.m1.1.1">LG</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.1.m1.1c">\left[\text{LG}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.I1.i3.1.m1.1d">[ LG ]</annotation></semantics></math> contains local and global emotion-aware entity representations.
</span></span>
</span></p>
</div>
<div class="ltx_para" id="S6.SS1.p2">
<p class="ltx_p" id="S6.SS1.p2.6">Our ablation study indicates that each component contributes positively to the recommendation process, as evidenced by performance drops in all three variants. Specifically, the comparison between ECR<math alttext="\left[\text{L}\right]" class="ltx_Math" display="inline" id="S6.SS1.p2.1.m1.1"><semantics id="S6.SS1.p2.1.m1.1a"><mrow id="S6.SS1.p2.1.m1.1.2.2" xref="S6.SS1.p2.1.m1.1.2.1.cmml"><mo id="S6.SS1.p2.1.m1.1.2.2.1" xref="S6.SS1.p2.1.m1.1.2.1.1.cmml">[</mo><mtext id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1a.cmml">L</mtext><mo id="S6.SS1.p2.1.m1.1.2.2.2" xref="S6.SS1.p2.1.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><apply id="S6.SS1.p2.1.m1.1.2.1.cmml" xref="S6.SS1.p2.1.m1.1.2.2"><csymbol cd="latexml" id="S6.SS1.p2.1.m1.1.2.1.1.cmml" xref="S6.SS1.p2.1.m1.1.2.2.1">delimited-[]</csymbol><ci id="S6.SS1.p2.1.m1.1.1a.cmml" xref="S6.SS1.p2.1.m1.1.1"><mtext id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1">L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">\left[\text{L}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.1.m1.1d">[ L ]</annotation></semantics></math> and UniCRS demonstrates that integrating user emotions into preference modeling significantly improves the accuracy in recommendation, resulting in marked improvements in AUC, RT@50, and R@50.
Additionally, ECR<math alttext="\left[\text{LS}\right]" class="ltx_Math" display="inline" id="S6.SS1.p2.2.m2.1"><semantics id="S6.SS1.p2.2.m2.1a"><mrow id="S6.SS1.p2.2.m2.1.2.2" xref="S6.SS1.p2.2.m2.1.2.1.cmml"><mo id="S6.SS1.p2.2.m2.1.2.2.1" xref="S6.SS1.p2.2.m2.1.2.1.1.cmml">[</mo><mtext id="S6.SS1.p2.2.m2.1.1" xref="S6.SS1.p2.2.m2.1.1a.cmml">LS</mtext><mo id="S6.SS1.p2.2.m2.1.2.2.2" xref="S6.SS1.p2.2.m2.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.2.m2.1b"><apply id="S6.SS1.p2.2.m2.1.2.1.cmml" xref="S6.SS1.p2.2.m2.1.2.2"><csymbol cd="latexml" id="S6.SS1.p2.2.m2.1.2.1.1.cmml" xref="S6.SS1.p2.2.m2.1.2.2.1">delimited-[]</csymbol><ci id="S6.SS1.p2.2.m2.1.1a.cmml" xref="S6.SS1.p2.2.m2.1.1"><mtext id="S6.SS1.p2.2.m2.1.1.cmml" xref="S6.SS1.p2.2.m2.1.1">LS</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.2.m2.1c">\left[\text{LS}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.2.m2.1d">[ LS ]</annotation></semantics></math> shows further enhancement in AUC. It shows that by being aware of the feedback of users in the training process, ECR reduces the impact of the incorrect item labels in the dataset.
Lastly, ECR<math alttext="\left[\text{LG}\right]" class="ltx_Math" display="inline" id="S6.SS1.p2.3.m3.1"><semantics id="S6.SS1.p2.3.m3.1a"><mrow id="S6.SS1.p2.3.m3.1.2.2" xref="S6.SS1.p2.3.m3.1.2.1.cmml"><mo id="S6.SS1.p2.3.m3.1.2.2.1" xref="S6.SS1.p2.3.m3.1.2.1.1.cmml">[</mo><mtext id="S6.SS1.p2.3.m3.1.1" xref="S6.SS1.p2.3.m3.1.1a.cmml">LG</mtext><mo id="S6.SS1.p2.3.m3.1.2.2.2" xref="S6.SS1.p2.3.m3.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.3.m3.1b"><apply id="S6.SS1.p2.3.m3.1.2.1.cmml" xref="S6.SS1.p2.3.m3.1.2.2"><csymbol cd="latexml" id="S6.SS1.p2.3.m3.1.2.1.1.cmml" xref="S6.SS1.p2.3.m3.1.2.2.1">delimited-[]</csymbol><ci id="S6.SS1.p2.3.m3.1.1a.cmml" xref="S6.SS1.p2.3.m3.1.1"><mtext id="S6.SS1.p2.3.m3.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1">LG</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.3.m3.1c">\left[\text{LG}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.3.m3.1d">[ LG ]</annotation></semantics></math> outperforms ECR<math alttext="\left[\text{L}\right]" class="ltx_Math" display="inline" id="S6.SS1.p2.4.m4.1"><semantics id="S6.SS1.p2.4.m4.1a"><mrow id="S6.SS1.p2.4.m4.1.2.2" xref="S6.SS1.p2.4.m4.1.2.1.cmml"><mo id="S6.SS1.p2.4.m4.1.2.2.1" xref="S6.SS1.p2.4.m4.1.2.1.1.cmml">[</mo><mtext id="S6.SS1.p2.4.m4.1.1" xref="S6.SS1.p2.4.m4.1.1a.cmml">L</mtext><mo id="S6.SS1.p2.4.m4.1.2.2.2" xref="S6.SS1.p2.4.m4.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.4.m4.1b"><apply id="S6.SS1.p2.4.m4.1.2.1.cmml" xref="S6.SS1.p2.4.m4.1.2.2"><csymbol cd="latexml" id="S6.SS1.p2.4.m4.1.2.1.1.cmml" xref="S6.SS1.p2.4.m4.1.2.2.1">delimited-[]</csymbol><ci id="S6.SS1.p2.4.m4.1.1a.cmml" xref="S6.SS1.p2.4.m4.1.1"><mtext id="S6.SS1.p2.4.m4.1.1.cmml" xref="S6.SS1.p2.4.m4.1.1">L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.4.m4.1c">\left[\text{L}\right]</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.4.m4.1d">[ L ]</annotation></semantics></math> in RT@<math alttext="n" class="ltx_Math" display="inline" id="S6.SS1.p2.5.m5.1"><semantics id="S6.SS1.p2.5.m5.1a"><mi id="S6.SS1.p2.5.m5.1.1" xref="S6.SS1.p2.5.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.5.m5.1b"><ci id="S6.SS1.p2.5.m5.1.1.cmml" xref="S6.SS1.p2.5.m5.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.5.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.5.m5.1d">italic_n</annotation></semantics></math> and R@<math alttext="n" class="ltx_Math" display="inline" id="S6.SS1.p2.6.m6.1"><semantics id="S6.SS1.p2.6.m6.1a"><mi id="S6.SS1.p2.6.m6.1.1" xref="S6.SS1.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.6.m6.1b"><ci id="S6.SS1.p2.6.m6.1.1.cmml" xref="S6.SS1.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p2.6.m6.1d">italic_n</annotation></semantics></math> by combining collaborative knowledge. The major reason is that the use of user emotions as a filter enables the distillation of useful knowledge from the noisy global entity information.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Case Studies</h3>
<figure class="ltx_table" id="S6.T4">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 4. </span>A sampled case extracted from the ReDial dataset. Text in a <span class="ltx_text" id="S6.T4.5.1" style="background-color:#BFFF00;">green box</span> represents expressing emotions.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T4.6">
<tr class="ltx_tr" id="S6.T4.6.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T4.6.1.1" rowspan="2"><span class="ltx_text" id="S6.T4.6.1.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S6.T4.6.1.1.1.1" style="width:6.1pt;height:18.8pt;vertical-align:-6.3pt;"><span class="ltx_transformed_inner" style="width:18.8pt;transform:translate(-6.33pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="S6.T4.6.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.1.1.1.1.1.1">Hist.</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="S6.T4.6.1.2">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.1.2.1">
<span class="ltx_p" id="S6.T4.6.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.1.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="S6.T4.6.1.2.1.1.2" style="font-size:90%;">: Hello there.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.2">
<td class="ltx_td ltx_align_justify" id="S6.T4.6.2.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.2.1.1">
<span class="ltx_p" id="S6.T4.6.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.2.1.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="S6.T4.6.2.1.1.1.2" style="font-size:90%;">: Musicals, </span><em class="ltx_emph ltx_font_italic" id="S6.T4.6.2.1.1.1.3" style="font-size:90%;">comedy</em><span class="ltx_text" id="S6.T4.6.2.1.1.1.4" style="font-size:90%;">, action.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.3">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S6.T4.6.3.1" rowspan="30"><span class="ltx_text" id="S6.T4.6.3.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S6.T4.6.3.1.1.1" style="width:7.9pt;height:36.4pt;vertical-align:-16.0pt;"><span class="ltx_transformed_inner" style="width:36.5pt;transform:translate(-14.29pt,2.63pt) rotate(-90deg) ;">
<span class="ltx_p" id="S6.T4.6.3.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.3.1.1.1.1.1">Response</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T4.6.3.2">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.3.2.1">
<span class="ltx_p" id="S6.T4.6.3.2.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.3.2.1.1.1" style="font-size:90%;">Standard response</span><span class="ltx_text" id="S6.T4.6.3.2.1.1.2" style="font-size:90%;">: Do you like the Marvel movies, like Avengers: Infinity War?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.4">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T4.6.4.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.4.1.1">
<span class="ltx_p" id="S6.T4.6.4.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.4.1.1.1.1" style="font-size:90%;">GPT-3.5-turbo</span><span class="ltx_text" id="S6.T4.6.4.1.1.1.2" style="font-size:90%;">: If you enjoy </span><em class="ltx_emph ltx_font_italic" id="S6.T4.6.4.1.1.1.3" style="font-size:90%;">comedy</em><span class="ltx_text" id="S6.T4.6.4.1.1.1.4" style="font-size:90%;">, I highly recommend watching ”The Hangover.” It’s a hilarious movie that follows a group of friends on a wild and unforgettable adventure in Las Vegas. </span><span class="ltx_text" id="S6.T4.6.4.1.1.1.5" style="font-size:90%;background-color:#BFFF00;">I think you’ll really enjoy it!</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.5">
<td class="ltx_td ltx_align_justify" id="S6.T4.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.5.1.1">
<span class="ltx_p" id="S6.T4.6.5.1.1.1"><em class="ltx_emph ltx_font_italic" id="S6.T4.6.5.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="S6.T4.6.5.1.1.1.1.1">Emo Int:</span> 2; <span class="ltx_text ltx_font_bold" id="S6.T4.6.5.1.1.1.1.2">Emo Pers:</span> 4; <span class="ltx_text ltx_font_bold" id="S6.T4.6.5.1.1.1.1.3">Log Pers:</span> 4; <span class="ltx_text ltx_font_bold" id="S6.T4.6.5.1.1.1.1.4">Info:</span> 5; <span class="ltx_text ltx_font_bold" id="S6.T4.6.5.1.1.1.1.5">Life:</span> 5</em><span class="ltx_text" id="S6.T4.6.5.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.6">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T4.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.6.1.1">
<span class="ltx_p" id="S6.T4.6.6.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.6.1.1.1.1" style="font-size:90%;">Llama 2-7B-Chat</span><span class="ltx_text" id="S6.T4.6.6.1.1.1.2" style="font-size:90%;">: Great! Based on your interests, I highly recommend ”The Hangover”! </span><span class="ltx_text" id="S6.T4.6.6.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">It’s a hilarious <em class="ltx_emph ltx_font_italic" id="S6.T4.6.6.1.1.1.3.1">comedy</em> movie that will have you laughing out loud.</span><span class="ltx_text" id="S6.T4.6.6.1.1.1.4" style="font-size:90%;"> The movie follows a group of friends who travel to Las Vegas for a bachelor party and wake up the next morning with no memory of what happened the night before. They then have to retrace their steps and figure out what happened. </span><span class="ltx_text" id="S6.T4.6.6.1.1.1.5" style="font-size:90%;background-color:#BFFF00;">It’s a really funny and entertaining movie that I think you’ll enjoy.</span><span class="ltx_text" id="S6.T4.6.6.1.1.1.6" style="font-size:90%;"> Let me know if you have any other questions!</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.7">
<td class="ltx_td ltx_align_justify" id="S6.T4.6.7.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.7.1.1">
<span class="ltx_p" id="S6.T4.6.7.1.1.1"><em class="ltx_emph ltx_font_italic" id="S6.T4.6.7.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="S6.T4.6.7.1.1.1.1.1">Emo Int:</span> 2; <span class="ltx_text ltx_font_bold" id="S6.T4.6.7.1.1.1.1.2">Emo Pers:</span> 5; <span class="ltx_text ltx_font_bold" id="S6.T4.6.7.1.1.1.1.3">Log Pers:</span> 5; <span class="ltx_text ltx_font_bold" id="S6.T4.6.7.1.1.1.1.4">Info:</span> 7; <span class="ltx_text ltx_font_bold" id="S6.T4.6.7.1.1.1.1.5">Life:</span> 6</em><span class="ltx_text" id="S6.T4.6.7.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.8">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T4.6.8.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.8.1.1">
<span class="ltx_p" id="S6.T4.6.8.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.8.1.1.1.1" style="font-size:90%;">ECR[DialoGPT]</span><span class="ltx_text" id="S6.T4.6.8.1.1.1.2" style="font-size:90%;">: Have you seen The Hangover? </span><span class="ltx_text" id="S6.T4.6.8.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I have to say that I was very surprised at how good this movie was. I thought it was going to be a typical ”chick flick” but it was much more than that. The story was great and the acting was great. I was laughing so hard I almost cried. I would recommend this movie to anyone who likes to laugh.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.9">
<td class="ltx_td ltx_align_justify" id="S6.T4.6.9.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.9.1.1">
<span class="ltx_p" id="S6.T4.6.9.1.1.1"><em class="ltx_emph ltx_font_italic" id="S6.T4.6.9.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="S6.T4.6.9.1.1.1.1.1">Emo Int:</span> 5; <span class="ltx_text ltx_font_bold" id="S6.T4.6.9.1.1.1.1.2">Emo Pers:</span> 6; <span class="ltx_text ltx_font_bold" id="S6.T4.6.9.1.1.1.1.3">Log Pers:</span> 6; <span class="ltx_text ltx_font_bold" id="S6.T4.6.9.1.1.1.1.4">Info:</span> 6; <span class="ltx_text ltx_font_bold" id="S6.T4.6.9.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="S6.T4.6.9.1.1.1.2" style="font-size:90%;"> 7;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.10">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T4.6.10.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.10.1.1">
<span class="ltx_p" id="S6.T4.6.10.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.6.10.1.1.1.1" style="font-size:90%;">ECR[Llama 2-Chat]</span><span class="ltx_text" id="S6.T4.6.10.1.1.1.2" style="font-size:90%;">: Have you seen The Hangover? </span><span class="ltx_text" id="S6.T4.6.10.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I don’t think I have ever laughed so hard at a movie. The acting by Ed Helms was excellent. I have seen every episode of The Office and I have always enjoyed him in it. The other actors did a great job too. I have been looking forward to this movie for months and I wasn’t disappointed. The movie was very entertaining and I was laughing throughout the whole movie. The jokes were not crude and the story was good. I would definitely recommend this movie to anyone who enjoys a good <em class="ltx_emph ltx_font_italic" id="S6.T4.6.10.1.1.1.3.1">comedy</em>.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.11">
<td class="ltx_td ltx_align_justify ltx_border_bb" id="S6.T4.6.11.1">
<span class="ltx_inline-block ltx_align_top" id="S6.T4.6.11.1.1">
<span class="ltx_p" id="S6.T4.6.11.1.1.1"><em class="ltx_emph ltx_font_italic" id="S6.T4.6.11.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="S6.T4.6.11.1.1.1.1.1">Emo Int:</span> 4; <span class="ltx_text ltx_font_bold" id="S6.T4.6.11.1.1.1.1.2">Emo Pers:</span> 7; <span class="ltx_text ltx_font_bold" id="S6.T4.6.11.1.1.1.1.3">Log Pers:</span> 7; <span class="ltx_text ltx_font_bold" id="S6.T4.6.11.1.1.1.1.4">Info:</span> 8; <span class="ltx_text ltx_font_bold" id="S6.T4.6.11.1.1.1.1.5">Life:</span> 8</em><span class="ltx_text" id="S6.T4.6.11.1.1.1.2" style="font-size:90%;"> ;</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">In this section, we present an example from the ReDial dataset to intuitively demonstrate how ECR works in generating human-like emotional responses. For more cases please refer to Appendix  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A3" title="Appendix C Case study ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">C</span></a>.
Given the dialogue history (Hist) between a recommender and a user, the responses (Response) from ECR, GPT-3.5-turbo and Llama 2-7B-Chat as well as the corresponding evaluation results of LLM-based scorer are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.T4" title="Table 4 ‣ 6.2. Case Studies ‣ 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">4</span></a>. We also provide the standard responses from the dataset for comparison.
We observe that the standard response rarely expresses emotions and is uninformative, which is hardly attractive and convincing to the users. LLMs, i.e., GPT-3.5-turbo and Llama 2-7B-Chat, prioritize factual and logical interpretability. In the provided example, they try to amplify the user interest in the recommended movie by echoing the mentioned keyword “comedy.” Additionally, they often deliver objective movie descriptions, such as the plot, genre, and cast. While this approach could make them informative and logic persuasiveness, it neglects the emotional needs of users, inadequately engaging the user. In contrast, our model simulates the vivid conversational style between human beings, incorporating experiences, subjective viewpoints, and emotions. This strategy constructs a deeper emotional connection with users, enlivens their experience, and leads to increased user satisfaction <cite class="ltx_cite ltx_citemacro_citep">(Cominelli et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib7" title="">2021</a>)</cite>. Furthermore, ECR maintains high-quality factual information to support its emotional rendering and highlight the strengths of the movie. Therefore, even in logic persuasiveness and informativeness – areas where LLMs traditionally excel – ECR remains highly competitive.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span>Generalization of Response Generation</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">In ECR, we use reviews to supervised fine-tune the emotion-aligned generator, endowing it with the ability to express emotions. This process has resulted in some recommended items being “seen” within the reviews used for training. To determine whether ECR acquires a general ability to generate high-quality emotion-aligned responses, especially for items not encountered in the reviews for the training process, we categorized the 1,000 examples used for the LLM-based scorer evaluation in Section <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S5.SS6" title="5.6. Evaluation on Response Generation (RQ2) ‣ 5. Experiments ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">5.6</span></a> into “seen” and “unseen.”
The results are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#S6.T5" title="Table 5 ‣ 6.3. Generalization of Response Generation ‣ 6. Model Analysis (RQ3) ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">5</span></a>. We observe a minimal difference in the generation performance between the “seen” and “unseen” categories. This indicates that ECR, when provided with knowledge relevant to the recommended item as a part of the emotion-aligned generation prompt, can generalize to generate persuasive and vivid responses for any item, whether or not it is within the training dataset. We observe ECR[Llama 2-Chat] shows better generalization ability than ECR[DialoGPT]. This is likely due to the superior understanding and representation capabilities of Llama 2-7B-Chat because of its large parameter size. Therefore, Llama 2-7B-Chat inherently provides a certain degree of generalization.</p>
</div>
<figure class="ltx_table" id="S6.T5">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 5. </span>Subjective evaluation of LLM-based scorer (GPT-4-turbo) for generalization of response generation. </figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S6.T5.3" style="width:433.6pt;height:134.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(71.8pt,-22.3pt) scale(1.4956172057987,1.4956172057987) ;">
<table class="ltx_tabular ltx_align_middle" id="S6.T5.3.1">
<tr class="ltx_tr" id="S6.T5.3.1.1">
<td class="ltx_td ltx_border_tt" id="S6.T5.3.1.1.1" style="padding:0.45pt 2.8pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T5.3.1.1.2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.2.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T5.3.1.1.3" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.3.1" style="font-size:90%;">Emo Int</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T5.3.1.1.4" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.4.1" style="font-size:90%;">Emo Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T5.3.1.1.5" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.5.1" style="font-size:90%;">Log Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T5.3.1.1.6" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.6.1" style="font-size:90%;">Info</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T5.3.1.1.7" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.1.7.1" style="font-size:90%;">Life</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.3.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T5.3.1.2.1" rowspan="2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S6.T5.3.1.2.1.1.1" style="width:15.7pt;height:18.1pt;vertical-align:-6.0pt;"><span class="ltx_transformed_inner" style="width:18.0pt;transform:translate(-1.13pt,0pt) rotate(-53deg) ;">
<span class="ltx_p" id="S6.T5.3.1.2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T5.3.1.2.1.1.1.1.1">Seen</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T5.3.1.2.2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.2.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.2.3" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.3.1" style="font-size:90%;">4.035</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.2.4" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.4.1" style="font-size:90%;">4.945</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.2.5" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.5.1" style="font-size:90%;">4.912</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.2.6" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.6.1" style="font-size:90%;">5.282</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.2.7" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.2.7.1" style="font-size:90%;">6.003</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.3.1.3">
<td class="ltx_td ltx_align_left" id="S6.T5.3.1.3.1" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.1.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.3.1.3.2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.2.1" style="font-size:90%;">6.759</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.3.1.3.3" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.3.1" style="font-size:90%;">7.704</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.3.1.3.4" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.4.1" style="font-size:90%;">6.532</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.3.1.3.5" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.5.1" style="font-size:90%;">7.616</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.3.1.3.6" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.3.6.1" style="font-size:90%;">8.046</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.3.1.4">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S6.T5.3.1.4.1" rowspan="2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="S6.T5.3.1.4.1.1.1" style="width:21.9pt;height:26.3pt;vertical-align:-10.1pt;"><span class="ltx_transformed_inner" style="width:28.3pt;transform:translate(-3.18pt,0pt) rotate(-53deg) ;">
<span class="ltx_p" id="S6.T5.3.1.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T5.3.1.4.1.1.1.1.1">Unseen</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T5.3.1.4.2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.2.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.4.3" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.3.1" style="font-size:90%;">3.995</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.4.4" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.4.1" style="font-size:90%;">4.834</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.4.5" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.5.1" style="font-size:90%;">4.620</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.4.6" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.6.1" style="font-size:90%;">4.970</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.3.1.4.7" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.4.7.1" style="font-size:90%;">5.842</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.3.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T5.3.1.5.1" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.1.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.3.1.5.2" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.2.1" style="font-size:90%;">6.844</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.3.1.5.3" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.3.1" style="font-size:90%;">7.730</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.3.1.5.4" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.4.1" style="font-size:90%;">6.749</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.3.1.5.5" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.5.1" style="font-size:90%;">7.663</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.3.1.5.6" style="padding:0.45pt 2.8pt;"><span class="ltx_text" id="S6.T5.3.1.5.6.1" style="font-size:90%;">8.067</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion and Future Work</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">To bridge the gap between system outputs and user needs, we proposed ECR framework to introduce empathy into CRSs.
It is composed of two key modules:
(i) emotion-aware item recommendation, which employs user emotions to augment their preference modeling, and (ii) emotion-aligned response generation, which fine-tunes a PLM to express emotions with retrieval-augmented prompts. For data enlargement, we use LLMs to annotate user emotions and collect emotional reviews from external resources.
We proposed new evaluation metrics tailored to user satisfaction in real-world CRS scenarios.
Extensive experiments verify the effectiveness of ECR in improving recommendation accuracy and user satisfaction.
During the experiments, the evaluation results revealed an insight that informativeness significantly increases when recommending multiple items simultaneously.
Moving forward, we plan to explore recommending multiple items concurrently while maintaining the logical coherence of response generation.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Reproducibility</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">This work uses publicly available data. To facilitate reproducibility of the results reported in this paper, the code used is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/zxd-octopus/ECR" title="">https://github.com/zxd-octopus/ECR</a>.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This work was supported by the Natural Science Foundation of China (62272274, 62072279,61902219, 61972234, 62102234, 62202271, 61672324), the Young Elite Scientists Sponsorship Program by CAST (2023QNRC001), the 2023 Tencent Rhino-Bird Research Elite Program, the National Key R&amp;D Program of China with grants No. 2020YFB1406704 and No. 2022YFC3303004, the Natural Science Foundation of Shandong Province (ZR2021QF129, ZR2022QF004), the Key Scientific and Technological Innovation Program of Shandong Province (2019JZZY010129), the Fundamental Research Funds of Shandong University, the Tencent WeChat Rhino-Bird Focused Research Program (WXG-FR-2023-07), Shandong University multidisciplinary research and innovation team of young scholars (No. 2020QNQT017),
the Dutch Research Council (NWO), under project numbers 024.004.022, NWA.1389.20.183, and KICH3.LTP.20.006, and the European Union’s Horizon Europe program under grant agreement No 101070212.
All content represents the opinion of the authors, which is not necessarily shared or endorsed by their respective employers and/or sponsors.

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">AlShikh et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Waseem AlShikh, Manhal Daaboul, Kirk Goddard, Brock Imel, Kiran Kamble, Parikshith Kulkarni, and Melisa Russak. 2023.

</span>
<span class="ltx_bibblock">Becoming Self-instruct: Introducing Early Stopping Criteria for Minimal Instruct Tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">CoRR</em> abs/2307.03692 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bizer et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Christian Bizer, Jens Lehmann, Georgi Kobilarov, Sören Auer, Christian Becker, Richard Cyganiak, and Sebastian Hellmann. 2009.

</span>
<span class="ltx_bibblock">DBpedia - A Crystallization Point for the Web of Data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">J. Web Semant.</em> 7, 3 (2009), 154–165.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chang et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yupeng Chang, Xu Wang, Jindong Wang, Yuan Wu, Linyi Yang, Kaijie Zhu, Hao Chen, Xiaoyuan Yi, Cunxiang Wang, Yidong Wang, Wei Ye, Yue Zhang, Yi Chang, Philip S. Yu, Qiang Yang, and Xing Xie. 2024.

</span>
<span class="ltx_bibblock">A Survey on Evaluation of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">ACM Trans. Intell. Syst. Technol.</em> 15, 3 (2024), 39:1–39:45.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Qibin Chen, Junyang Lin, Yichang Zhang, Ming Ding, Yukuo Cen, Hongxia Yang, and Jie Tang. 2019.

</span>
<span class="ltx_bibblock">Towards Knowledge-Based Recommender Dialog System. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of EMNLP-IJCNLP</em>. 1803–1813.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christakopoulou et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Konstantina Christakopoulou, Filip Radlinski, and Katja Hofmann. 2016.

</span>
<span class="ltx_bibblock">Towards Conversational Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">Proceedings of SIGKDD</em>. 815–824.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cominelli et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Lorenzo Cominelli, Francesco Feri, Roberto Garofalo, Caterina Giannetti, Miguel A. Meléndez-Jiménez, Alberto Greco, Mimma Nardelli, Enzo Pasquale Scilingo, and Oliver Kirchkamp. 2021.

</span>
<span class="ltx_bibblock">Promises and Trust in Human–robot Interaction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Scientific Reports</em> 11 (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sunhao Dai, Ninglu Shao, Haiyuan Zhao, Weijie Yu, Zihua Si, Chen Xu, Zhongxiang Sun, Xiao Zhang, and Jun Xu. 2023.

</span>
<span class="ltx_bibblock">Uncovering ChatGPT’s Capabilities in Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of RecSys</em>. 1126–1132.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dang et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Cach N. Dang, María N. Moreno García, and Fernando de la Prieta. 2021.

</span>
<span class="ltx_bibblock">An Approach to Integrating Sentiment Analysis into Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Sensors</em> 21, 16 (2021), 5666.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Yang Deng, Yaliang Li, Fei Sun, Bolin Ding, and Wai Lam. 2021.

</span>
<span class="ltx_bibblock">Unified Conversational Recommendation Policy Learning via Graph-based Reinforcement Learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of SIGIR</em>. 1431–1441.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yang Deng, Wenxuan Zhang, Weiwen Xu, Wenqiang Lei, Tat-Seng Chua, and Wai Lam. 2023.

</span>
<span class="ltx_bibblock">A Unified Multi-task Learning Framework for Multi-goal Conversational Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">ACM Trans. Inf. Syst.</em> 41, 3 (2023), 77:1–77:25.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Fengyi Fu, Lei Zhang, Quan Wang, and Zhendong Mao. 2023.

</span>
<span class="ltx_bibblock">E-CORE: Emotion Correlation Enhanced Empathetic Dialogue Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">In Proceedings of the EMNLP</em>. 10568–10586.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Chongming Gao, Wenqiang Lei, Xiangnan He, Maarten de Rijke, and Tat-Seng Chua. 2021.

</span>
<span class="ltx_bibblock">Advances and challenges in conversational recommender systems: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">AI Open</em> 2 (2021), 100–126.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gilardi et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Fabrizio Gilardi, Meysam Alizadeh, and Maël Kubli. 2023.

</span>
<span class="ltx_bibblock">ChatGPT Outperforms Crowd-Workers for Text-Annotation Tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">CoRR</em> abs/2303.15056 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhankui He, Zhouhang Xie, Rahul Jha, Harald Steck, Dawen Liang, Yesu Feng, Bodhisattwa Prasad Majumder, Nathan Kallus, and Julian J. McAuley. 2023.

</span>
<span class="ltx_bibblock">Large Language Models as Zero-Shot Conversational Recommenders. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of CIKM</em>. 720–730.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Edward J. Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2022.

</span>
<span class="ltx_bibblock">LoRA: Low-Rank Adaptation of Large Language Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of ICLR</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Fan Huang, Haewoon Kwak, and Jisun An. 2023.

</span>
<span class="ltx_bibblock">Is ChatGPT better than Human Annotators? Potential and Limitations of ChatGPT in Explaining Implicit Hate Speech. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Proceedings of WWW</em>. 294–297.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ziwei Ji, Nayeon Lee, Rita Frieske, Tiezheng Yu, Dan Su, Yan Xu, Etsuko Ishii, Yejin Bang, Andrea Madotto, and Pascale Fung. 2023.

</span>
<span class="ltx_bibblock">Survey of Hallucination in Natural Language Generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">ACM Comput. Surv.</em> 55, 12 (2023), 248:1–248:38.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karabila et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ikram Karabila, Nossayba Darraz, Anas El-Ansari, Nabil Alami, and Mostafa El Mallahi. 2023.

</span>
<span class="ltx_bibblock">Enhancing Collaborative Filtering-Based Recommender System Using Sentiment Analysis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">Future Internet</em> 15, 7 (2023), 235.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa. 2022.

</span>
<span class="ltx_bibblock">Large Language Models are Zero-Shot Reasoners. In <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">In Proceedings of the NIPS</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kumar et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Sudhanshu Kumar, Kanjar De, and Partha Pratim Roy. 2020.

</span>
<span class="ltx_bibblock">Movie Recommendation System Using Sentiment Analysis From Microblogging Data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">IEEE Trans. Comput. Soc. Syst.</em> 7, 4 (2020), 915–923.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwortnik and Ross (2007)</span>
<span class="ltx_bibblock">
Robert J. Kwortnik and William T. Ross. 2007.

</span>
<span class="ltx_bibblock">The Role of Positive Emotions in Experiential Decisions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">International Journal of Research in Marketing</em> 24, 4 (2007), 324–335.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lamm and Silani (2014)</span>
<span class="ltx_bibblock">
Claus Lamm and Giorgia Silani. 2014.

</span>
<span class="ltx_bibblock">Insights into Collective Emotions from the Social Neuroscience of Empathy.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Collective Emotions</em>. Oxford Academic, 63–77.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Landis and Koch (1977)</span>
<span class="ltx_bibblock">
J. Richard Landis and Gary G. Koch. 1977.

</span>
<span class="ltx_bibblock">The Measurement of Observer Agreement for Categorical Data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Biometrics</em> 33 1 (1977), 159–74.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lei et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2020a)</span>
<span class="ltx_bibblock">
Wenqiang Lei, Xiangnan He, Yisong Miao, Qingyun Wu, Richang Hong, Min-Yen Kan, and Tat-Seng Chua. 2020a.

</span>
<span class="ltx_bibblock">Estimation-Action-Reflection: Towards Deep Interaction Between Conversational and Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">Proceedings of WSDM</em>. 304–312.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lei et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2020b)</span>
<span class="ltx_bibblock">
Wenqiang Lei, Gangyi Zhang, Xiangnan He, Yisong Miao, Xiang Wang, Liang Chen, and Tat-Seng Chua. 2020b.

</span>
<span class="ltx_bibblock">Interactive Path Reasoning on Graph for Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Proceedings of KDD</em>. 2073–2083.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lerner et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2015)</span>
<span class="ltx_bibblock">
Jennifer S. Lerner, Ye Li, Piercarlo Valdesolo, and Karim S. Kassam. 2015.

</span>
<span class="ltx_bibblock">Emotion and Decision Making.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Annual Review of Psychology</em> 66 (2015), 799–823.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Qintong Li, Hongshen Chen, Zhaochun Ren, Pengjie Ren, Zhaopeng Tu, and Zhumin Chen. 2020.

</span>
<span class="ltx_bibblock">EmpDG: Multi-resolution Interactive Empathetic Dialogue Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Proceedings of COLING</em>. 4454–4466.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2022a)</span>
<span class="ltx_bibblock">
Qintong Li, Piji Li, Zhaochun Ren, Pengjie Ren, and Zhumin Chen. 2022a.

</span>
<span class="ltx_bibblock">Knowledge Bridging for Empathetic Dialogue Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of AAAI</em>. 10993–11001.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Raymond Li, Samira Ebrahimi Kahou, Hannes Schulz, Vincent Michalski, Laurent Charlin, and Chris Pal. 2018.

</span>
<span class="ltx_bibblock">Towards Deep Conversational Recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">Proceedings of NeurIPS</em>. 9748–9758.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2022b)</span>
<span class="ltx_bibblock">
Shuokai Li, Ruobing Xie, Yongchun Zhu, Xiang Ao, Fuzhen Zhuang, and Qing He. 2022b.

</span>
<span class="ltx_bibblock">User-Centric Conversational Recommendation with Multi-Aspect User Modeling. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Proceedings of SIGIR</em>. 223–233.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wendi Li, Wei Wei, Xiaoye Qu, Xian-Ling Mao, Ye Yuan, Wenfeng Xie, and Dangyang Chen. 2023.

</span>
<span class="ltx_bibblock">TREA: Tree-Structure Reasoning Schema for Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Proceedings of ACL</em>. 2970–2982.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin (2004)</span>
<span class="ltx_bibblock">
Chin-Yew Lin. 2004.

</span>
<span class="ltx_bibblock">Rouge: A package for automatic evaluation of summaries.. In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">In Text summarization branches out</em>. 74–81.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Tsung-Yi Lin, Priya Goyal, Ross B. Girshick, Kaiming He, and Piotr Dollár. 2017.

</span>
<span class="ltx_bibblock">Focal Loss for Dense Object Detection. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">Proceedings of ICCV</em>. 2999–3007.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lopez-Lira and Tang (2023)</span>
<span class="ltx_bibblock">
Alejandro Lopez-Lira and Yuehua Tang. 2023.

</span>
<span class="ltx_bibblock">Can ChatGPT Forecast Stock Price Movements? Return Predictability and Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">CoRR</em> abs/2304.07619 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter (2019)</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter. 2019.

</span>
<span class="ltx_bibblock">Decoupled Weight Decay Regularization. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Proceedings of ICLR</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Yu Lu, Junwei Bao, Yan Song, Zichen Ma, Shuguang Cui, Youzheng Wu, and Xiaodong He. 2021.

</span>
<span class="ltx_bibblock">RevCore: Review-Augmented Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of ACL/IJCNLP</em>. 1161–1173.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Wenchang Ma, Ryuichi Takanobu, and Minlie Huang. 2021.

</span>
<span class="ltx_bibblock">CR-Walker: Tree-Structured Graph Reasoning and Dialog Acts for Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">Proceedings of EMNLP</em>. 1839–1851.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mlodinow (2022)</span>
<span class="ltx_bibblock">
L. Mlodinow. 2022.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Emotional: How Feelings Shape Our Thinking</em>.

</span>
<span class="ltx_bibblock">Diversified Publishing.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://books.google.com.sg/books?id=UHeTEAAAQBAJ" title="">https://books.google.com.sg/books?id=UHeTEAAAQBAJ</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">P Ekman and Friesen (1969)</span>
<span class="ltx_bibblock">
E R Sorenson P Ekman and W V Friesen. 1969.

</span>
<span class="ltx_bibblock">Pan-cultural elements in facial displays of emotion.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Science</em> 164, 3875 (1969), 86–8.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Papineni et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2002)</span>
<span class="ltx_bibblock">
Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing Zhu. 2002.

</span>
<span class="ltx_bibblock">Bleu: a Method for Automatic Evaluation of Machine Translation. In <em class="ltx_emph ltx_font_italic" id="bib.bib41.3.1">Proceedings of ACL</em>. 311–318.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Chengwei Qin, Aston Zhang, Zhuosheng Zhang, Jiaao Chen, Michihiro Yasunaga, and Diyi Yang. 2023.

</span>
<span class="ltx_bibblock">Is ChatGPT a General-Purpose Natural Language Processing Task Solver?. In <em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">Proceedings of the EMNLP</em>. 1339–1384.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhaochun Ren, Zhi Tian, Dongdong Li, Pengjie Ren, Liu Yang, Xin Xin, Huasheng Liang, Maarten de Rijke, and Zhumin Chen. 2022.

</span>
<span class="ltx_bibblock">Variational Reasoning about User Preferences for Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib43.3.1">Proceedings of SIGIR</em>. 165–175.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schlichtkrull et al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Michael Sejr Schlichtkrull, Thomas N. Kipf, Peter Bloem, Rianne van den Berg, Ivan Titov, and Max Welling. 2018.

</span>
<span class="ltx_bibblock">Modeling Relational Data with Graph Convolutional Networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">Proceedings of ESWC</em>. 593–607.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Kian Long Tan, Chin Poo Lee, and Kian Ming Lim. 2023.

</span>
<span class="ltx_bibblock">A Survey of Sentiment Analysis: Approaches, Datasets, and Future Research.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.3.1">Applied Sciences</em> 13, 7 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian Canton-Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin Fu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar Hosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa,
Isabel Kloumann, Artem Korenev, Punit Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana Liskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor Molybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan Schelten, Ruan Silva, Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang, Ross Taylor, Adina Williams, Jian Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen
Zhang, Angela Fan, Melanie Kambadur, Sharan Narang, Aurélien Rodriguez, Robert Stojnic, Sergey Edunov, and Thomas Scialom. 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open Foundation and Fine-Tuned Chat Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.3.1">CoRR</em> abs/2307.09288 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N. Gomez, Lukasz Kaiser, and Illia Polosukhin. 2017.

</span>
<span class="ltx_bibblock">Attention is All You Need. In <em class="ltx_emph ltx_font_italic" id="bib.bib47.3.1">Proceedings of NeurIPS</em>. 5998–6008.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiaolei Wang, Xinyu Tang, Xin Zhao, Jingyuan Wang, and Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Rethinking the Evaluation for Conversational Recommendation in the Era of Large Language Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib48.3.1">Proceedings of EMNLP</em>. 10052–10065.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib49.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Xiaolei Wang, Kun Zhou, Ji-Rong Wen, and Wayne Xin Zhao. 2022.

</span>
<span class="ltx_bibblock">Towards Unified Conversational Recommender Systems via Knowledge-Enhanced Prompt Learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib49.3.1">Proceedings of KDD</em>. 1929–1937.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Welivita and Pu (2020)</span>
<span class="ltx_bibblock">
Anuradha Welivita and Pearl Pu. 2020.

</span>
<span class="ltx_bibblock">A Taxonomy of Empathetic Response Intents in Human Social Conversations. In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of COLING</em>. 4886–4899.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib51.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Bowen Yang, Cong Han, Yu Li, Lei Zuo, and Zhou Yu. 2022.

</span>
<span class="ltx_bibblock">Improving Conversational Recommendation Systems’ Quality with Context-Aware Item Meta-Information. In <em class="ltx_emph ltx_font_italic" id="bib.bib51.3.1">Proceedings of NAACL</em>. 38–48.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhou Yang, Zhaochun Ren, Wang Yufeng, Xiaofei Zhu, Zhihao Chen, Tiecheng Cai, Yunbing Wu, Yisong Su, Sibo Ju, and Xiangwen Liao. 2023.

</span>
<span class="ltx_bibblock">Exploiting Emotion-Semantic Correlations for Empathetic Response Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">Proceedings of EMNLP</em>. 4826–4837.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang (2023)</span>
<span class="ltx_bibblock">
Gangyi Zhang. 2023.

</span>
<span class="ltx_bibblock">User-Centric Conversational Recommendation: Adapting the Need of User with Large Language Models. In <em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">Proceedings of RecSys</em>. 1349–1354.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiaoyu Zhang, Xin Xin, Dongdong Li, Wenxuan Liu, Pengjie Ren, Zhumin Chen, Jun Ma, and Zhaochun Ren. 2023.

</span>
<span class="ltx_bibblock">Variational Reasoning over Incomplete Knowledge Graphs for Conversational Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">Proceedings of WSDM</em>. 231–239.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib55.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Yizhe Zhang, Siqi Sun, Michel Galley, Yen-Chun Chen, Chris Brockett, Xiang Gao, Jianfeng Gao, Jingjing Liu, and Bill Dolan. 2020.

</span>
<span class="ltx_bibblock">DIALOGPT : Large-Scale Generative Pre-training for Conversational Response Generation. In <em class="ltx_emph ltx_font_italic" id="bib.bib55.3.1">Proceedings of ACL</em>. 270–278.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, Siyuan Zhuang, Zhanghao Wu, Yonghao Zhuang, Zi Lin, Zhuohan Li, Dacheng Li, Eric P. Xing, Hao Zhang, Joseph E. Gonzalez, and Ion Stoica. 2023.

</span>
<span class="ltx_bibblock">Judging LLM-as-a-Judge with MT-Bench and Chatbot Arena. In <em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">Proceedings of NeurIPS</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib57.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jinfeng Zhou, Bo Wang, Ruifang He, and Yuexian Hou. 2021.

</span>
<span class="ltx_bibblock">CRFR: Improving Conversational Recommender Systems via Flexible Fragments Reasoning on Knowledge Graphs. In <em class="ltx_emph ltx_font_italic" id="bib.bib57.3.1">Proceedings of EMNLP</em>. 4324–4334.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2020a)</span>
<span class="ltx_bibblock">
Kun Zhou, Wayne Xin Zhao, Shuqing Bian, Yuanhang Zhou, Ji-Rong Wen, and Jingsong Yu. 2020a.

</span>
<span class="ltx_bibblock">Improving Conversational Recommender Systems via Knowledge Graph based Semantic Fusion. In <em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">Proceedings of KDD</em>. 1006–1014.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> (2020b)</span>
<span class="ltx_bibblock">
Kun Zhou, Wayne Xin Zhao, Hui Wang, Sirui Wang, Fuzheng Zhang, Zhongyuan Wang, and Ji-Rong Wen. 2020b.

</span>
<span class="ltx_bibblock">Leveraging Historical Interaction Data for Improving Conversational Recommender System. In <em class="ltx_emph ltx_font_italic" id="bib.bib59.3.1">Proceedings of CIKM</em>. 2349–2352.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib60.2.2.1">.</span> (2020c)</span>
<span class="ltx_bibblock">
Kun Zhou, Yuanhang Zhou, Wayne Xin Zhao, Xiaoke Wang, and Ji-Rong Wen. 2020c.

</span>
<span class="ltx_bibblock">Towards Topic-Guided Conversational Recommender System. In <em class="ltx_emph ltx_font_italic" id="bib.bib60.3.1">Proceedings of COLING</em>. 4128–4139.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib61.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yuanhang Zhou, Kun Zhou, Wayne Xin Zhao, Cheng Wang, Peng Jiang, and He Hu. 2022.

</span>
<span class="ltx_bibblock">C2-CRS: Coarse-to-Fine Contrastive Learning for Conversational Recommender System.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib61.3.1">CoRR</em> abs/2201.02732 (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zoph et al<span class="ltx_text" id="bib.bib62.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Barret Zoph, Christina Kim, Jacob Hilton, Jacob Menick, Jiayi Weng, Juan Felipe, Ceron Uribe, Liam Fedus, Luke Metz, Michael Pokorny, Rapha Gontijo Lopes, and Shengjia Zhao. 2022.

</span>
<span class="ltx_bibblock">ChatGPT: Optimizing Language Models for Dialogue.

</span>
<span class="ltx_bibblock">OpenAI (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Empathetic data enlargement</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1. </span>User emotion extraction</h3>
<figure class="ltx_table" id="A1.T6">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 6. </span>Annotation case A of user emotions extraction.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T6.3">
<tr class="ltx_tr" id="A1.T6.3.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T6.3.1.1" rowspan="3"><span class="ltx_text ltx_font_bold" id="A1.T6.3.1.1.1" style="font-size:90%;">History</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T6.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.1.2.1">
<span class="ltx_p" id="A1.T6.3.1.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.1.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T6.3.1.2.1.1.2" style="font-size:90%;">: What type of movie are you looking for?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.2">
<td class="ltx_td ltx_align_justify" id="A1.T6.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.2.1.1">
<span class="ltx_p" id="A1.T6.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.2.1.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A1.T6.3.2.1.1.1.2" style="font-size:90%;">: Comedies. I like Kristin Wigg.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.3">
<td class="ltx_td ltx_align_justify" id="A1.T6.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.3.1.1">
<span class="ltx_p" id="A1.T6.3.3.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.3.1.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T6.3.3.1.1.1.2" style="font-size:90%;">: Okay , have you seen Ghostbusters?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.4">
<td class="ltx_td" id="A1.T6.3.4.1"></td>
<td class="ltx_td ltx_align_justify" id="A1.T6.3.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.4.2.1">
<span class="ltx_p" id="A1.T6.3.4.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.4.2.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A1.T6.3.4.2.1.1.2" style="font-size:90%;">: Something like yes. Have watched Bridesmaids?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.5">
<td class="ltx_td" id="A1.T6.3.5.1"></td>
<td class="ltx_td ltx_align_justify" id="A1.T6.3.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.5.2.1">
<span class="ltx_p" id="A1.T6.3.5.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.5.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T6.3.5.2.1.1.2" style="font-size:90%;">: She also voiced a character in Despicable Me 3 and How to Train Your Dragon.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T6.3.6.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.6.1.1" style="font-size:90%;">User Utterance</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T6.3.6.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.6.2.1">
<span class="ltx_p" id="A1.T6.3.6.2.1.1"><span class="ltx_text" id="A1.T6.3.6.2.1.1.1" style="font-size:90%;">Oh yeah. She is pretty funny.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T6.3.7.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A1.T6.3.7.1.1" style="font-size:90%;">Annotation</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T6.3.7.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.7.2.1">
<span class="ltx_p" id="A1.T6.3.7.2.1.1"><span class="ltx_text" id="A1.T6.3.7.2.1.1.1" style="font-size:90%;">happy, admiration;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.8">
<td class="ltx_td ltx_align_justify" id="A1.T6.3.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.8.1.1">
<span class="ltx_p" id="A1.T6.3.8.1.1.1"><span class="ltx_text" id="A1.T6.3.8.1.1.1.1" style="font-size:90%;">The user expresses a positive emotion by saying “oh yeah she is pretty funny.” This indicates that the user is happy or amused by the recommender’s mention of Kristen Wiig’s comedic talent. Additionally, the user’s statement shows admiration for Kristen Wiig’s humor, suggesting a sense of admiration or appreciation.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T6.3.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T6.3.9.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.9.1.1" style="font-size:90%;">Responses</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A1.T6.3.9.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T6.3.9.2.1">
<span class="ltx_p" id="A1.T6.3.9.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T6.3.9.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T6.3.9.2.1.1.2" style="font-size:90%;">: Whip It is another one of hers.</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T7">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 7. </span>Annotation case B of user emotions extraction.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T7.3">
<tr class="ltx_tr" id="A1.T7.3.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T7.3.1.1" rowspan="3"><span class="ltx_text ltx_font_bold" id="A1.T7.3.1.1.1" style="font-size:90%;">History</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T7.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.1.2.1">
<span class="ltx_p" id="A1.T7.3.1.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.1.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T7.3.1.2.1.1.2" style="font-size:90%;">: Hi</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.2">
<td class="ltx_td ltx_align_justify" id="A1.T7.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.2.1.1">
<span class="ltx_p" id="A1.T7.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.2.1.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A1.T7.3.2.1.1.1.2" style="font-size:90%;">: I was hoping you could help me suggest a few good family movies. My daughter and I really enjoyed A Little Princess and The BFG.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.3">
<td class="ltx_td ltx_align_justify" id="A1.T7.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.3.1.1">
<span class="ltx_p" id="A1.T7.3.3.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.1.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T7.3.3.1.1.1.2" style="font-size:90%;">: Of course.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.4">
<td class="ltx_td" id="A1.T7.3.4.1"></td>
<td class="ltx_td ltx_align_justify" id="A1.T7.3.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.4.2.1">
<span class="ltx_p" id="A1.T7.3.4.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.4.2.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A1.T7.3.4.2.1.1.2" style="font-size:90%;">: Have you had a chance to check those movies out?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.5">
<td class="ltx_td" id="A1.T7.3.5.1"></td>
<td class="ltx_td ltx_align_justify" id="A1.T7.3.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.5.2.1">
<span class="ltx_p" id="A1.T7.3.5.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.5.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T7.3.5.2.1.1.2" style="font-size:90%;">: I have seen and liked. How about The Lion King?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T7.3.6.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.6.1.1" style="font-size:90%;">User Utterance</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T7.3.6.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.6.2.1">
<span class="ltx_p" id="A1.T7.3.6.2.1.1"><span class="ltx_text" id="A1.T7.3.6.2.1.1.1" style="font-size:90%;">My daughter doesn’t care much for animated films. Any other suggestions?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T7.3.7.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A1.T7.3.7.1.1" style="font-size:90%;">Annotation</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T7.3.7.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.7.2.1">
<span class="ltx_p" id="A1.T7.3.7.2.1.1"><span class="ltx_text" id="A1.T7.3.7.2.1.1.1" style="font-size:90%;">frustration, disappointment;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.8">
<td class="ltx_td ltx_align_justify" id="A1.T7.3.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.8.1.1">
<span class="ltx_p" id="A1.T7.3.8.1.1.1"><span class="ltx_text" id="A1.T7.3.8.1.1.1.1" style="font-size:90%;">The target dialogue segment expresses frustration and disappointment. The seeker mentions that their daughter doesn’t care much for animated films, indicating frustration with the limited options. The seeker’s tone suggests disappointment as they are seeking alternative suggestions.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T7.3.9.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.9.1.1" style="font-size:90%;">Responses</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A1.T7.3.9.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.3.9.2.1">
<span class="ltx_p" id="A1.T7.3.9.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.9.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A1.T7.3.9.2.1.1.2" style="font-size:90%;">: Yes, how about Cinderella.</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">As described in section 4.1.1 of the main paper, we employ GPT-3.5-turbo <cite class="ltx_cite ltx_citemacro_citep">(Zoph et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib62" title="">2022</a>)</cite> instead of specialized sentiment analysis tools to annotate user emotions. This decision was based on the fact that most sentiment analysis tools are typically designed to analyze texts in the form of reviews or social media posts <cite class="ltx_cite ltx_citemacro_citep">(Tan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib45" title="">2023</a>)</cite>. They do not align with the conversational text style of CR, specifically in interactions between a user and a movie recommender. Consequently, such tools cannot be effectively applied to CRS scenarios. LLMs like GPT-3.5, however, possess strong natural language understanding and generalization capabilities without requiring training on specific datasets<cite class="ltx_cite ltx_citemacro_citep">(Kojima et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib20" title="">2022</a>)</cite>. Several studies<cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib42" title="">2023</a>; Lopez-Lira and Tang, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib35" title="">2023</a>; Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib4" title="">2024</a>)</cite> have demonstrated that LLMs’ sentiment analysis performance surpasses that of traditional specialized tools. Therefore, GPT-3.5-turbo was employed for emotion extraction in our studies.

Initially, following <cite class="ltx_cite ltx_citemacro_citet">P Ekman and Friesen (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib40" title="">1969</a>); Welivita and Pu (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib50" title="">2020</a>)</cite>, we directed GPT-3.5-turbo to answer within specified emotion types. However, experiments result revealed that the model-assigned labels were limited to a narrow range of emotion types. This limitation likely stems from that the ReDial dataset is tailored to the CRS tasks, which incorporates a unique set of emotion types compared to the common emotions. Additionally, managing GPT-3.5-turbo’s output is challenging. It frequently generated labels beyond the specified types. So we adjusted the strategy, allowing GPT-3.5-turbo to annotate emotions liberally without constraints and then post-processed the annotation results manually.</p>
</div>
<div class="ltx_para" id="A1.SS1.p2">
<p class="ltx_p" id="A1.SS1.p2.4">Due to the complexity of emotions in utterances, we limit the number of emotion labels per utterance annotation to a maximum of two, thus treating annotation as a multi-label task. Furthermore, we instructed GPT-3.5-turbo to explain to ensure the annotation quality. The prompt used for extracting user emotions is shown below. Here, <math alttext="[" class="ltx_Math" display="inline" id="A1.SS1.p2.1.m1.1"><semantics id="A1.SS1.p2.1.m1.1a"><mo id="A1.SS1.p2.1.m1.1.1" stretchy="false" xref="A1.SS1.p2.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.1b"><ci id="A1.SS1.p2.1.m1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.1.m1.1d">[</annotation></semantics></math>History<math alttext="]" class="ltx_Math" display="inline" id="A1.SS1.p2.2.m2.1"><semantics id="A1.SS1.p2.2.m2.1a"><mo id="A1.SS1.p2.2.m2.1.1" stretchy="false" xref="A1.SS1.p2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.2.m2.1b"><ci id="A1.SS1.p2.2.m2.1.1.cmml" xref="A1.SS1.p2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.2.m2.1d">]</annotation></semantics></math> denotes the dialogue history and <math alttext="[" class="ltx_Math" display="inline" id="A1.SS1.p2.3.m3.1"><semantics id="A1.SS1.p2.3.m3.1a"><mo id="A1.SS1.p2.3.m3.1.1" stretchy="false" xref="A1.SS1.p2.3.m3.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.3.m3.1b"><ci id="A1.SS1.p2.3.m3.1.1.cmml" xref="A1.SS1.p2.3.m3.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.3.m3.1c">[</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.3.m3.1d">[</annotation></semantics></math>Utterance_User<math alttext="]" class="ltx_Math" display="inline" id="A1.SS1.p2.4.m4.1"><semantics id="A1.SS1.p2.4.m4.1a"><mo id="A1.SS1.p2.4.m4.1.1" stretchy="false" xref="A1.SS1.p2.4.m4.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.4.m4.1b"><ci id="A1.SS1.p2.4.m4.1.1.cmml" xref="A1.SS1.p2.4.m4.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.4.m4.1c">]</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.4.m4.1d">]</annotation></semantics></math> refers to the user utterance to be annotated.</p>
</div>
<div class="ltx_para ltx_noindent ltx_align_center" id="A1.SS1.1.p1">
<svg class="ltx_picture" height="256.08" id="A1.SS1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,256.08) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 250.76 C 0 253.7 2.38 256.08 5.32 256.08 L 289.95 256.08 C 292.89 256.08 295.28 253.7 295.28 250.76 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 250.76 C 1.38 252.94 3.15 254.7 5.32 254.7 L 289.95 254.7 C 292.13 254.7 293.89 252.94 293.89 250.76 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="229.69" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4" style="width:182.9pt;">
<span class="ltx_p" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.5">You are an expert in emotion analysis.
Give a target user dialogue utterance and the dialogue history of the target user dialogue utterance.
Identify no more than two emotions expressed in the target user dialogue utterance. Format your answers as a comma-separated list of lowercase words.
And explain the reasons for your analysis.
Note that you only need to analyze the emotions in the target user dialogue utterance, not the dialogue history.</span>
<span class="ltx_p" id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2">Dialogue history: <math alttext="[" class="ltx_Math" display="inline" id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>History<math alttext="]" class="ltx_Math" display="inline" id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
<span class="ltx_p" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4">Target user dialogue utterance: <math alttext="[" class="ltx_Math" display="inline" id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1"><semantics id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1a"><mo id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1.1" stretchy="false" xref="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1b"><ci id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1.1.cmml" xref="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.m1.1d">[</annotation></semantics></math>Utterance_User<math alttext="]" class="ltx_Math" display="inline" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1"><semantics id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1a"><mo id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1.1" stretchy="false" xref="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1b"><ci id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1.1.cmml" xref="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para" id="A1.SS1.p3">
<p class="ltx_p" id="A1.SS1.p3.1">Considering the potential bias in emotion annotations, we conducted a validation study. We randomly sampled 100 annotation cases and invited three human annotators to analyze the emotions. We find the average kappa score within human annotators is 0.83, and between LLM is 0.72. These results demonstrate that LLM annotations are highly consistent with humans and have huge potential for reuse in other domains. We present two annotation cases in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T6" title="Table 6 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">6</span></a> and  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T7" title="Table 7 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">7</span></a> to facilitate an intuitive understanding of the relevance between emotions and user preference modeling. Each table displays the user utterance along with its corresponding dialogue history. Additionally, we include the emotion labels and the reasons provided by GPT-3.5-turbo’s annotation, as well as the standard responses from the recommender in the dataset. In Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T6" title="Table 6 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">6</span></a>, GPT-3.5-turbo recognizes an expression of admiration and happy towards the entity “Kristen Wiig.” So the recommender suggests the movie “Whip It” in the standard response, in which Kristin Wigg appeared. In Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T7" title="Table 7 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">7</span></a>, the emotions of frustration and disappointment towards “animated films” are recognized, prompting the recommender to suggest the live-action family movie “Cinderella” in the standard response.</p>
</div>
<div class="ltx_para" id="A1.SS1.p4">
<p class="ltx_p" id="A1.SS1.p4.1">Finally, GPT-3.5-turbo <cite class="ltx_cite ltx_citemacro_citep">(Zoph et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib62" title="">2022</a>)</cite> recognized a total of 93 emotion types for utterance-level user emotions. However, we encountered issues of synonymous emotion types and label class imbalance. To ensure consistency in the emotion annotation and the subsequent model training, we manually mapped the emotion types recognized by GPT-3.5-turbo into nine main types. The mapping relationship between the recognized types and the main types, along with their percentages, are detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T8" title="Table 8 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
<div class="ltx_para" id="A1.SS1.p5">
<p class="ltx_p" id="A1.SS1.p5.1">Although post-processing was conducted, the issue of label class imbalance persisted. Therefore, we employed focal loss <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib34" title="">2017</a>)</cite> during the fine-tuning stage of the GPT-2 model, which served as an utterance-level user emotions classifier.
This approach addresses the imbalance issue by reducing the loss weights assigned to easy-to-categorize emotion types such as “like” and “curious”.</p>
</div>
<figure class="ltx_table" id="A1.T8">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 8. </span>Mapping relationships and the percentages of the nine main emotion types.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T8.3">
<tr class="ltx_tr" id="A1.T8.3.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.3.1.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.3.1.1.1" style="font-size:90%;">Main type</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.3.1.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.3.1.2.1" style="font-size:90%;">Percentage</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T8.3.1.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.1.3.1">
<span class="ltx_p" id="A1.T8.3.1.3.1.1"><span class="ltx_text ltx_font_bold" id="A1.T8.3.1.3.1.1.1" style="font-size:90%;">Recognized types</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.2">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.3.2.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.2.1.1" style="font-size:90%;">like</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.3.2.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.2.2.1" style="font-size:90%;">46%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T8.3.2.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.2.3.1">
<span class="ltx_p" id="A1.T8.3.2.3.1.1"><span class="ltx_text" id="A1.T8.3.2.3.1.1.1" style="font-size:90%;">like, satisfied, positive, preference, enjoyed, great, excitement, good, love, fondness, entertaining, enthusiasm, longing, admiration, approval, specific, content</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.3.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.3.1.1" style="font-size:90%;">negative</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.3.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.3.2.1" style="font-size:90%;">8%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.3.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.3.3.1">
<span class="ltx_p" id="A1.T8.3.3.3.1.1"><span class="ltx_text" id="A1.T8.3.3.3.1.1.1" style="font-size:90%;">frustration, disappointment, bored, negative, dislike, disagreement, sad, disinterested, dissatisfaction, annoyance, doubt, fear, scared, regretful</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.4.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.4.1.1" style="font-size:90%;">curious</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.4.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.4.2.1" style="font-size:90%;">41%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.4.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.4.3.1">
<span class="ltx_p" id="A1.T8.3.4.3.1.1"><span class="ltx_text" id="A1.T8.3.4.3.1.1.1" style="font-size:90%;">curious, interest, anticipation, hopeful, comparison, request, seeking, concern, confusion, open, intrigued skeptical, uncertainty, unsure, hesitation</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.5.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.5.1.1" style="font-size:90%;">grateful</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.5.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.5.2.1" style="font-size:90%;">20%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.5.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.5.3.1">
<span class="ltx_p" id="A1.T8.3.5.3.1.1"><span class="ltx_text" id="A1.T8.3.5.3.1.1.1" style="font-size:90%;">grateful, appreciative, farewell, friendly, resignation, thanks</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.6.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.6.1.1" style="font-size:90%;">neutral</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.6.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.6.2.1" style="font-size:90%;">6%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.6.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.6.3.1">
<span class="ltx_p" id="A1.T8.3.6.3.1.1"><span class="ltx_text" id="A1.T8.3.6.3.1.1.1" style="font-size:90%;">neutral, indifference, polite, casual, calm, cool</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.7.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.7.1.1" style="font-size:90%;">happy</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.7.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.7.2.1" style="font-size:90%;">22%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.7.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.7.3.1">
<span class="ltx_p" id="A1.T8.3.7.3.1.1"><span class="ltx_text" id="A1.T8.3.7.3.1.1.1" style="font-size:90%;">happy, funny, humor, joy, amusement</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.8">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.8.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.8.1.1" style="font-size:90%;">surprise</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.8.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.8.2.1" style="font-size:90%;">3%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.8.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.8.3.1">
<span class="ltx_p" id="A1.T8.3.8.3.1.1"><span class="ltx_text" id="A1.T8.3.8.3.1.1.1" style="font-size:90%;">surprise, impressed</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.9">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.9.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.9.1.1" style="font-size:90%;">nostalgia</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.3.9.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.9.2.1" style="font-size:90%;">3%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T8.3.9.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.9.3.1">
<span class="ltx_p" id="A1.T8.3.9.3.1.1"><span class="ltx_text" id="A1.T8.3.9.3.1.1.1" style="font-size:90%;">nostalgia</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.3.10">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T8.3.10.1" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.10.1.1" style="font-size:90%;">agreement</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T8.3.10.2" style="padding-left:5.0pt;padding-right:5.0pt;"><span class="ltx_text" id="A1.T8.3.10.2.1" style="font-size:90%;">3%</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A1.T8.3.10.3" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.3.10.3.1">
<span class="ltx_p" id="A1.T8.3.10.3.1.1"><span class="ltx_text" id="A1.T8.3.10.3.1.1.1" style="font-size:90%;">agreement, familiarity</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T9">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 9. </span>Performance comparison of emotion-aligned response generation w.r.t. different amount and format of knowledge in the emotion-aligned generation prompt. Text in a <span class="ltx_text" id="A1.T9.7.1" style="background-color:#FFFF00;">yellow box</span> represents hallucination; the <span class="ltx_text" id="A1.T9.8.2" style="background-color:#BFFF00;">green boxes</span> represent emotions.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T9.9">
<tr class="ltx_tr" id="A1.T9.9.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A1.T9.9.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.1.1.1">
<span class="ltx_p" id="A1.T9.9.1.1.1.1" style="width:204.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.1.1.1.1.1" style="font-size:90%;">Knowledge</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T9.9.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.1.2.1">
<span class="ltx_p" id="A1.T9.9.1.2.1.1"><span class="ltx_text ltx_font_bold" id="A1.T9.9.1.2.1.1.1" style="font-size:90%;">Emotion-aligned responses</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.9.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T9.9.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.2.1.1">
<span class="ltx_p" id="A1.T9.9.2.1.1.1" style="width:204.9pt;"><em class="ltx_emph ltx_font_italic" id="A1.T9.9.2.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.2.1.1.1.1.1">0 Triples:</span> None</em><span class="ltx_text" id="A1.T9.9.2.1.1.1.2" style="font-size:90%;">;
</span><em class="ltx_emph ltx_font_italic" id="A1.T9.9.2.1.1.1.3" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.2.1.1.1.3.1">0 Entities:</span> None</em></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T9.9.2.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.2.2.1">
<span class="ltx_p" id="A1.T9.9.2.2.1.1"><span class="ltx_text" id="A1.T9.9.2.2.1.1.1" style="font-size:90%;background-color:#BFFF00;">I love this movie. It’s so funny. I’m so glad I watched it!</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.9.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T9.9.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.3.1.1">
<span class="ltx_p" id="A1.T9.9.3.1.1.1" style="width:204.9pt;"><em class="ltx_emph ltx_font_italic" id="A1.T9.9.3.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.3.1.1.1.1.1">2 Triples:</span> It’s a Wonderful Life’s writer is Frank Capra;
<br class="ltx_break"/>It’s a Wonderful Life’s starring is James Stewart</em>
<br class="ltx_break"/><em class="ltx_emph ltx_font_italic" id="A1.T9.9.3.1.1.1.2" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.3.1.1.1.2.1">4 Entities:</span> December, Record producer, Christmas, Tradition</em></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T9.9.3.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.3.2.1">
<span class="ltx_p" id="A1.T9.9.3.2.1.1"><span class="ltx_text" id="A1.T9.9.3.2.1.1.1" style="font-size:90%;">I saw this movie on Christmas Eve and </span><span class="ltx_text" id="A1.T9.9.3.2.1.1.2" style="font-size:90%;background-color:#BFFF00;">I was blown away! It’s one of the best Christmas movies I’ve ever seen. It is a wonderful story of a family that is together. The writing is great and the characters are so well developed. James Stewart is a good actor. It’s an excellent movie that I recommend to everyone.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.9.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T9.9.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.4.1.1">
<span class="ltx_p" id="A1.T9.9.4.1.1.1" style="width:204.9pt;"><em class="ltx_emph ltx_font_italic" id="A1.T9.9.4.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.4.1.1.1.1.1">4 Triples:</span> It’s a Wonderful Life’s writer is Frank Capra;
<br class="ltx_break"/>It’s a Wonderful Life’s starring is James Stewart;
<br class="ltx_break"/>It’s a Wonderful Life’s starring is Ward Bond;
<br class="ltx_break"/>It’s a Wonderful Life’s musicComposer is Dimitri Tiomkin</em>
<br class="ltx_break"/><em class="ltx_emph ltx_font_italic" id="A1.T9.9.4.1.1.1.2" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.4.1.1.1.2.1">8 Entities:</span> December, Record producer, Christmas, Tradition, Academy Awards, American Film Institute, Life Changing, Emotion</em></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T9.9.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.4.2.1">
<span class="ltx_p" id="A1.T9.9.4.2.1.1"><span class="ltx_text" id="A1.T9.9.4.2.1.1.1" style="font-size:90%;">I’ve watched it many times. </span><span class="ltx_text" id="A1.T9.9.4.2.1.1.2" style="font-size:90%;background-color:#FFFF00;">It’s about a man who has to change his life after his wife dies.</span><span class="ltx_text" id="A1.T9.9.4.2.1.1.3" style="font-size:90%;"> He’s a very emotional person, and his life changes around him. </span><span class="ltx_text" id="A1.T9.9.4.2.1.1.4" style="font-size:90%;background-color:#BFFF00;">It is a classic film, with great performances from all the cast.</span><span class="ltx_text" id="A1.T9.9.4.2.1.1.5" style="font-size:90%;"> </span><span class="ltx_text" id="A1.T9.9.4.2.1.1.6" style="font-size:90%;background-color:#FFFF00;">It was nominated for six Academy Awards including Best Picture, Best Director, Best Actor, Best Actress, Best Adapted Screenplay, and Best Original Score.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.9.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="A1.T9.9.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.5.1.1">
<span class="ltx_p" id="A1.T9.9.5.1.1.1" style="width:204.9pt;"><em class="ltx_emph ltx_font_italic" id="A1.T9.9.5.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.5.1.1.1.1.1">0 Triples:</span> None</em>
<br class="ltx_break"/><em class="ltx_emph ltx_font_italic" id="A1.T9.9.5.1.1.1.2" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A1.T9.9.5.1.1.1.2.1">(2+4) Entities:</span> December, Record producer, Christmas, Tradition, Frank Capra, James Stewart</em></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A1.T9.9.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.9.5.2.1">
<span class="ltx_p" id="A1.T9.9.5.2.1.1"><span class="ltx_text" id="A1.T9.9.5.2.1.1.1" style="font-size:90%;">I’ve watched this movie many times and </span><span class="ltx_text" id="A1.T9.9.5.2.1.1.2" style="font-size:90%;background-color:#BFFF00;">it never fails to make me laugh!</span><span class="ltx_text" id="A1.T9.9.5.2.1.1.3" style="font-size:90%;"> It’s not only a Christmas movie, it’s a family movie. </span><span class="ltx_text" id="A1.T9.9.5.2.1.1.4" style="font-size:90%;background-color:#BFFF00;">The cast is perfect.</span><span class="ltx_text" id="A1.T9.9.5.2.1.1.5" style="font-size:90%;"> James Stewart is awesome as the “good guy” and </span><span class="ltx_text" id="A1.T9.9.5.2.1.1.6" style="font-size:90%;background-color:#FFFF00;">Frank Capra is perfect for the role of the “bad guy.”</span><span class="ltx_text" id="A1.T9.9.5.2.1.1.7" style="font-size:90%;"> </span><span class="ltx_text" id="A1.T9.9.5.2.1.1.8" style="font-size:90%;background-color:#BFFF00;">It’s just a wonderful movie.</span></span>
</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2. </span>Emotional response construction</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">To collect training resources for emotional responses, we retrieved top-rated (10/10) movie reviews from the IMDb website for the 4,989 movies included in the training dataset, as outlined in section 4.1.2 of the main paper.
Specifically, we limited the retrieval to a maximum of 25 reviews per movie, for a total of 81,013 reviews. Following <cite class="ltx_cite ltx_citemacro_citet">Chen et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib5" title="">2019</a>)</cite>, we utilized the tool DBpedia Spotlight to automatically annotate mentions of DBpedia resources in each review, identifying 7,719 entities in total.</p>
</div>
<div class="ltx_para" id="A1.SS2.p2">
<p class="ltx_p" id="A1.SS2.p2.1">During the filtering process, we calculate the repetition rate of words in each review, discarding any with a rate above 0.5 to ensure quality. Additionally, the helpfulness score of each review has been provided by IMDb. We found that reviews with higher helpfulness scores and longer lengths generally offer better quality and a more comprehensive view of the movie. Since the increase in training data could potentially lead to a semantic shift in LLMs <cite class="ltx_cite ltx_citemacro_citep">(AlShikh et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib2" title="">2023</a>)</cite>, we cautiously reduced the volume of reviews used for supervised fine-tuning Llama 2-7B-Chat in comparison with DialoGPT. Specifically, we apply the following criteria for review selection: a minimum helpfulness score of 1 for DialoGPT and 5 for Llama 2-7B-Chat, and a minimum word count of 20 for DialoGPT and 120 for Llama 2-7B-Chat. For Llama 2-7B-Chat, we set an additional filter that only selects reviews containing at least four instances of first-person pronouns to promote a more human-like characteristic.</p>
</div>
<div class="ltx_para" id="A1.SS2.p3">
<p class="ltx_p" id="A1.SS2.p3.1">In total, 34,953 reviews related to 4,092 movies were selected for fine-tuning DialoGPT, while 2,459 reviews related to 1,553 movies were selected for Llama 2-7B-Chat.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Hyperparameters analysis</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1. </span>Influence of user feedback</h3>
<figure class="ltx_figure" id="A2.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="930" id="A2.F3.g1" src="x3.png" width="581"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Performance comparison of item recommendation w.r.t. different weight scalars for user feedback.</figcaption>
</figure>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">Parameter optimization for emotion-aware item recommendation involves a feedback-aware item reweighting strategy (See section 4.2.2 of the main paper), which assigns a weight scalar to each type of user feedback in order to compute a weighted cross-entropy loss.
To verify the effectiveness of this strategy, we conduct experiments where different weight scalars are assigned to the feedback “like” as (1.0, 1.5, 2.0), while “dislike” and “not say” are assigned as (0.0, 0.5, 1.0). When adjusting the weight scalar for one feedback type, the weight scalars for the others are fixed at 1.0. We report the results for RT@10 and RT@50 in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A2.F3" title="Figure 3 ‣ B.1. Influence of user feedback ‣ Appendix B Hyperparameters analysis ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">3</span></a>.
As the weight scalar of “like” increases, the performance of ECR improves, peaking at the weight of 2.0. This peak suggests that items associated with positive user feedback more accurately reflect user preferences, necessitating an emphasis on these items during model training. Conversely, we observe that the weight scalars for “dislike” and “not say” should not be minimized indiscriminately. The optimal performance is found when “dislike” and “not say” are assigned with the weight scalars of 1.0 and 0.5, respectively. The main reason is that despite some items receiving negative or unclear feedback from users, they still possess a kind of intrinsic correlation with user preferences, offering valuable supervisory information for the item recommendation.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2. </span>Knowledge in the generation prompt</h3>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.4">To enhance the consistency between the recommended item and generated responses while maintaining the model’s natural language generation capabilities, we retrieve item-relevant knowledge from KGs as a part of the emotion-aligned generation prompt (See section 4.3.1 of the main paper).
It is preferred to provide more precise and explainable information in responses to increase its informativeness and persuasiveness. However, in our experiments, we found that models often face challenges in handling large amounts and complex knowledge as the prompt.
Thus, exploring the impact of the amount and format of item-relevant knowledge on emotion-aligned generation performance is essential. According to our method setup, we retrieve <math alttext="pn_{t}" class="ltx_Math" display="inline" id="A2.SS2.p1.1.m1.1"><semantics id="A2.SS2.p1.1.m1.1a"><mrow id="A2.SS2.p1.1.m1.1.1" xref="A2.SS2.p1.1.m1.1.1.cmml"><mi id="A2.SS2.p1.1.m1.1.1.2" xref="A2.SS2.p1.1.m1.1.1.2.cmml">p</mi><mo id="A2.SS2.p1.1.m1.1.1.1" xref="A2.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p1.1.m1.1.1.3" xref="A2.SS2.p1.1.m1.1.1.3.cmml"><mi id="A2.SS2.p1.1.m1.1.1.3.2" xref="A2.SS2.p1.1.m1.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p1.1.m1.1.1.3.3" xref="A2.SS2.p1.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.1.m1.1b"><apply id="A2.SS2.p1.1.m1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1"><times id="A2.SS2.p1.1.m1.1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1.1"></times><ci id="A2.SS2.p1.1.m1.1.1.2.cmml" xref="A2.SS2.p1.1.m1.1.1.2">𝑝</ci><apply id="A2.SS2.p1.1.m1.1.1.3.cmml" xref="A2.SS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p1.1.m1.1.1.3.1.cmml" xref="A2.SS2.p1.1.m1.1.1.3">subscript</csymbol><ci id="A2.SS2.p1.1.m1.1.1.3.2.cmml" xref="A2.SS2.p1.1.m1.1.1.3.2">𝑛</ci><ci id="A2.SS2.p1.1.m1.1.1.3.3.cmml" xref="A2.SS2.p1.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.1.m1.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.1.m1.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> triples and <math alttext="pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p1.2.m2.1"><semantics id="A2.SS2.p1.2.m2.1a"><mrow id="A2.SS2.p1.2.m2.1.1" xref="A2.SS2.p1.2.m2.1.1.cmml"><mi id="A2.SS2.p1.2.m2.1.1.2" xref="A2.SS2.p1.2.m2.1.1.2.cmml">p</mi><mo id="A2.SS2.p1.2.m2.1.1.1" xref="A2.SS2.p1.2.m2.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p1.2.m2.1.1.3" xref="A2.SS2.p1.2.m2.1.1.3.cmml"><mi id="A2.SS2.p1.2.m2.1.1.3.2" xref="A2.SS2.p1.2.m2.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p1.2.m2.1.1.3.3" xref="A2.SS2.p1.2.m2.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.2.m2.1b"><apply id="A2.SS2.p1.2.m2.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1"><times id="A2.SS2.p1.2.m2.1.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1.1"></times><ci id="A2.SS2.p1.2.m2.1.1.2.cmml" xref="A2.SS2.p1.2.m2.1.1.2">𝑝</ci><apply id="A2.SS2.p1.2.m2.1.1.3.cmml" xref="A2.SS2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p1.2.m2.1.1.3.1.cmml" xref="A2.SS2.p1.2.m2.1.1.3">subscript</csymbol><ci id="A2.SS2.p1.2.m2.1.1.3.2.cmml" xref="A2.SS2.p1.2.m2.1.1.3.2">𝑛</ci><ci id="A2.SS2.p1.2.m2.1.1.3.3.cmml" xref="A2.SS2.p1.2.m2.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.2.m2.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.2.m2.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> entities to formulate a part of the emotion-aligned generation prompt. We experimented by varying (<math alttext="pn_{t}" class="ltx_Math" display="inline" id="A2.SS2.p1.3.m3.1"><semantics id="A2.SS2.p1.3.m3.1a"><mrow id="A2.SS2.p1.3.m3.1.1" xref="A2.SS2.p1.3.m3.1.1.cmml"><mi id="A2.SS2.p1.3.m3.1.1.2" xref="A2.SS2.p1.3.m3.1.1.2.cmml">p</mi><mo id="A2.SS2.p1.3.m3.1.1.1" xref="A2.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p1.3.m3.1.1.3" xref="A2.SS2.p1.3.m3.1.1.3.cmml"><mi id="A2.SS2.p1.3.m3.1.1.3.2" xref="A2.SS2.p1.3.m3.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p1.3.m3.1.1.3.3" xref="A2.SS2.p1.3.m3.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.3.m3.1b"><apply id="A2.SS2.p1.3.m3.1.1.cmml" xref="A2.SS2.p1.3.m3.1.1"><times id="A2.SS2.p1.3.m3.1.1.1.cmml" xref="A2.SS2.p1.3.m3.1.1.1"></times><ci id="A2.SS2.p1.3.m3.1.1.2.cmml" xref="A2.SS2.p1.3.m3.1.1.2">𝑝</ci><apply id="A2.SS2.p1.3.m3.1.1.3.cmml" xref="A2.SS2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p1.3.m3.1.1.3.1.cmml" xref="A2.SS2.p1.3.m3.1.1.3">subscript</csymbol><ci id="A2.SS2.p1.3.m3.1.1.3.2.cmml" xref="A2.SS2.p1.3.m3.1.1.3.2">𝑛</ci><ci id="A2.SS2.p1.3.m3.1.1.3.3.cmml" xref="A2.SS2.p1.3.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.3.m3.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.3.m3.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>,<math alttext="pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p1.4.m4.1"><semantics id="A2.SS2.p1.4.m4.1a"><mrow id="A2.SS2.p1.4.m4.1.1" xref="A2.SS2.p1.4.m4.1.1.cmml"><mi id="A2.SS2.p1.4.m4.1.1.2" xref="A2.SS2.p1.4.m4.1.1.2.cmml">p</mi><mo id="A2.SS2.p1.4.m4.1.1.1" xref="A2.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p1.4.m4.1.1.3" xref="A2.SS2.p1.4.m4.1.1.3.cmml"><mi id="A2.SS2.p1.4.m4.1.1.3.2" xref="A2.SS2.p1.4.m4.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p1.4.m4.1.1.3.3" xref="A2.SS2.p1.4.m4.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.4.m4.1b"><apply id="A2.SS2.p1.4.m4.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1"><times id="A2.SS2.p1.4.m4.1.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1.1"></times><ci id="A2.SS2.p1.4.m4.1.1.2.cmml" xref="A2.SS2.p1.4.m4.1.1.2">𝑝</ci><apply id="A2.SS2.p1.4.m4.1.1.3.cmml" xref="A2.SS2.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p1.4.m4.1.1.3.1.cmml" xref="A2.SS2.p1.4.m4.1.1.3">subscript</csymbol><ci id="A2.SS2.p1.4.m4.1.1.3.2.cmml" xref="A2.SS2.p1.4.m4.1.1.3.2">𝑛</ci><ci id="A2.SS2.p1.4.m4.1.1.3.3.cmml" xref="A2.SS2.p1.4.m4.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.4.m4.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.4.m4.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>) to (0,0), (2,4), and (4,8) and removing triple-format knowledge. We employ an example to quantitatively analyze the performance changes of ECR[DialoGPT], as detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A1.T9" title="Table 9 ‣ A.1. User emotion extraction ‣ Appendix A Empathetic data enlargement ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<div class="ltx_para" id="A2.SS2.p2">
<p class="ltx_p" id="A2.SS2.p2.7">Concerning the amount of knowledge, when (<math alttext="pn_{t}" class="ltx_Math" display="inline" id="A2.SS2.p2.1.m1.1"><semantics id="A2.SS2.p2.1.m1.1a"><mrow id="A2.SS2.p2.1.m1.1.1" xref="A2.SS2.p2.1.m1.1.1.cmml"><mi id="A2.SS2.p2.1.m1.1.1.2" xref="A2.SS2.p2.1.m1.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.1.m1.1.1.1" xref="A2.SS2.p2.1.m1.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.1.m1.1.1.3" xref="A2.SS2.p2.1.m1.1.1.3.cmml"><mi id="A2.SS2.p2.1.m1.1.1.3.2" xref="A2.SS2.p2.1.m1.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.1.m1.1.1.3.3" xref="A2.SS2.p2.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.1.m1.1b"><apply id="A2.SS2.p2.1.m1.1.1.cmml" xref="A2.SS2.p2.1.m1.1.1"><times id="A2.SS2.p2.1.m1.1.1.1.cmml" xref="A2.SS2.p2.1.m1.1.1.1"></times><ci id="A2.SS2.p2.1.m1.1.1.2.cmml" xref="A2.SS2.p2.1.m1.1.1.2">𝑝</ci><apply id="A2.SS2.p2.1.m1.1.1.3.cmml" xref="A2.SS2.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.1.m1.1.1.3.1.cmml" xref="A2.SS2.p2.1.m1.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.1.m1.1.1.3.2.cmml" xref="A2.SS2.p2.1.m1.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.1.m1.1.1.3.3.cmml" xref="A2.SS2.p2.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.1.m1.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.1.m1.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p2.2.m2.1"><semantics id="A2.SS2.p2.2.m2.1a"><mrow id="A2.SS2.p2.2.m2.1.1" xref="A2.SS2.p2.2.m2.1.1.cmml"><mi id="A2.SS2.p2.2.m2.1.1.2" xref="A2.SS2.p2.2.m2.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.2.m2.1.1.1" xref="A2.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.2.m2.1.1.3" xref="A2.SS2.p2.2.m2.1.1.3.cmml"><mi id="A2.SS2.p2.2.m2.1.1.3.2" xref="A2.SS2.p2.2.m2.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.2.m2.1.1.3.3" xref="A2.SS2.p2.2.m2.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.2.m2.1b"><apply id="A2.SS2.p2.2.m2.1.1.cmml" xref="A2.SS2.p2.2.m2.1.1"><times id="A2.SS2.p2.2.m2.1.1.1.cmml" xref="A2.SS2.p2.2.m2.1.1.1"></times><ci id="A2.SS2.p2.2.m2.1.1.2.cmml" xref="A2.SS2.p2.2.m2.1.1.2">𝑝</ci><apply id="A2.SS2.p2.2.m2.1.1.3.cmml" xref="A2.SS2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.2.m2.1.1.3.1.cmml" xref="A2.SS2.p2.2.m2.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.2.m2.1.1.3.2.cmml" xref="A2.SS2.p2.2.m2.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.2.m2.1.1.3.3.cmml" xref="A2.SS2.p2.2.m2.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.2.m2.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.2.m2.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>) is set to (0,0), meaning no knowledge in the prompt, the response tends to express only emotions with limited information. Conversely, with (<math alttext="pn_{t}" class="ltx_Math" display="inline" id="A2.SS2.p2.3.m3.1"><semantics id="A2.SS2.p2.3.m3.1a"><mrow id="A2.SS2.p2.3.m3.1.1" xref="A2.SS2.p2.3.m3.1.1.cmml"><mi id="A2.SS2.p2.3.m3.1.1.2" xref="A2.SS2.p2.3.m3.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.3.m3.1.1.1" xref="A2.SS2.p2.3.m3.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.3.m3.1.1.3" xref="A2.SS2.p2.3.m3.1.1.3.cmml"><mi id="A2.SS2.p2.3.m3.1.1.3.2" xref="A2.SS2.p2.3.m3.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.3.m3.1.1.3.3" xref="A2.SS2.p2.3.m3.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.3.m3.1b"><apply id="A2.SS2.p2.3.m3.1.1.cmml" xref="A2.SS2.p2.3.m3.1.1"><times id="A2.SS2.p2.3.m3.1.1.1.cmml" xref="A2.SS2.p2.3.m3.1.1.1"></times><ci id="A2.SS2.p2.3.m3.1.1.2.cmml" xref="A2.SS2.p2.3.m3.1.1.2">𝑝</ci><apply id="A2.SS2.p2.3.m3.1.1.3.cmml" xref="A2.SS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.3.m3.1.1.3.1.cmml" xref="A2.SS2.p2.3.m3.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.3.m3.1.1.3.2.cmml" xref="A2.SS2.p2.3.m3.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.3.m3.1.1.3.3.cmml" xref="A2.SS2.p2.3.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.3.m3.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.3.m3.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p2.4.m4.1"><semantics id="A2.SS2.p2.4.m4.1a"><mrow id="A2.SS2.p2.4.m4.1.1" xref="A2.SS2.p2.4.m4.1.1.cmml"><mi id="A2.SS2.p2.4.m4.1.1.2" xref="A2.SS2.p2.4.m4.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.4.m4.1.1.1" xref="A2.SS2.p2.4.m4.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.4.m4.1.1.3" xref="A2.SS2.p2.4.m4.1.1.3.cmml"><mi id="A2.SS2.p2.4.m4.1.1.3.2" xref="A2.SS2.p2.4.m4.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.4.m4.1.1.3.3" xref="A2.SS2.p2.4.m4.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.4.m4.1b"><apply id="A2.SS2.p2.4.m4.1.1.cmml" xref="A2.SS2.p2.4.m4.1.1"><times id="A2.SS2.p2.4.m4.1.1.1.cmml" xref="A2.SS2.p2.4.m4.1.1.1"></times><ci id="A2.SS2.p2.4.m4.1.1.2.cmml" xref="A2.SS2.p2.4.m4.1.1.2">𝑝</ci><apply id="A2.SS2.p2.4.m4.1.1.3.cmml" xref="A2.SS2.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.4.m4.1.1.3.1.cmml" xref="A2.SS2.p2.4.m4.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.4.m4.1.1.3.2.cmml" xref="A2.SS2.p2.4.m4.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.4.m4.1.1.3.3.cmml" xref="A2.SS2.p2.4.m4.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.4.m4.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.4.m4.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>) as (4,8), the emotion-aligned generator begins to produce hallucination, characterized by fabricating incorrect plots and wrong background information that diminishes the reliability of systems.
As the amount of knowledge increases, the complexity of logically integrating them in an appropriate response also escalates, making ECR[DialoGPT] more difficult to understand and generate.
We observed that limiting (<math alttext="pn_{t}" class="ltx_Math" display="inline" id="A2.SS2.p2.5.m5.1"><semantics id="A2.SS2.p2.5.m5.1a"><mrow id="A2.SS2.p2.5.m5.1.1" xref="A2.SS2.p2.5.m5.1.1.cmml"><mi id="A2.SS2.p2.5.m5.1.1.2" xref="A2.SS2.p2.5.m5.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.5.m5.1.1.1" xref="A2.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.5.m5.1.1.3" xref="A2.SS2.p2.5.m5.1.1.3.cmml"><mi id="A2.SS2.p2.5.m5.1.1.3.2" xref="A2.SS2.p2.5.m5.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.5.m5.1.1.3.3" xref="A2.SS2.p2.5.m5.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.5.m5.1b"><apply id="A2.SS2.p2.5.m5.1.1.cmml" xref="A2.SS2.p2.5.m5.1.1"><times id="A2.SS2.p2.5.m5.1.1.1.cmml" xref="A2.SS2.p2.5.m5.1.1.1"></times><ci id="A2.SS2.p2.5.m5.1.1.2.cmml" xref="A2.SS2.p2.5.m5.1.1.2">𝑝</ci><apply id="A2.SS2.p2.5.m5.1.1.3.cmml" xref="A2.SS2.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.5.m5.1.1.3.1.cmml" xref="A2.SS2.p2.5.m5.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.5.m5.1.1.3.2.cmml" xref="A2.SS2.p2.5.m5.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.5.m5.1.1.3.3.cmml" xref="A2.SS2.p2.5.m5.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.5.m5.1c">pn_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.5.m5.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p2.6.m6.1"><semantics id="A2.SS2.p2.6.m6.1a"><mrow id="A2.SS2.p2.6.m6.1.1" xref="A2.SS2.p2.6.m6.1.1.cmml"><mi id="A2.SS2.p2.6.m6.1.1.2" xref="A2.SS2.p2.6.m6.1.1.2.cmml">p</mi><mo id="A2.SS2.p2.6.m6.1.1.1" xref="A2.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><msub id="A2.SS2.p2.6.m6.1.1.3" xref="A2.SS2.p2.6.m6.1.1.3.cmml"><mi id="A2.SS2.p2.6.m6.1.1.3.2" xref="A2.SS2.p2.6.m6.1.1.3.2.cmml">n</mi><mi id="A2.SS2.p2.6.m6.1.1.3.3" xref="A2.SS2.p2.6.m6.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.6.m6.1b"><apply id="A2.SS2.p2.6.m6.1.1.cmml" xref="A2.SS2.p2.6.m6.1.1"><times id="A2.SS2.p2.6.m6.1.1.1.cmml" xref="A2.SS2.p2.6.m6.1.1.1"></times><ci id="A2.SS2.p2.6.m6.1.1.2.cmml" xref="A2.SS2.p2.6.m6.1.1.2">𝑝</ci><apply id="A2.SS2.p2.6.m6.1.1.3.cmml" xref="A2.SS2.p2.6.m6.1.1.3"><csymbol cd="ambiguous" id="A2.SS2.p2.6.m6.1.1.3.1.cmml" xref="A2.SS2.p2.6.m6.1.1.3">subscript</csymbol><ci id="A2.SS2.p2.6.m6.1.1.3.2.cmml" xref="A2.SS2.p2.6.m6.1.1.3.2">𝑛</ci><ci id="A2.SS2.p2.6.m6.1.1.3.3.cmml" xref="A2.SS2.p2.6.m6.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.6.m6.1c">pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.6.m6.1d">italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>) to (2, 4) enables the model to effectively generate responses that convey emotions and contain accurate information while minimizing hallucination.
Regarding the impact of knowledge format, we remove triple-format knowledge and integrate its tail entities into the entity-format knowledge. Therefore, we set <math alttext="pn_{t}=pn_{t}+pn_{e}" class="ltx_Math" display="inline" id="A2.SS2.p2.7.m7.1"><semantics id="A2.SS2.p2.7.m7.1a"><mrow id="A2.SS2.p2.7.m7.1.1" xref="A2.SS2.p2.7.m7.1.1.cmml"><mrow id="A2.SS2.p2.7.m7.1.1.2" xref="A2.SS2.p2.7.m7.1.1.2.cmml"><mi id="A2.SS2.p2.7.m7.1.1.2.2" xref="A2.SS2.p2.7.m7.1.1.2.2.cmml">p</mi><mo id="A2.SS2.p2.7.m7.1.1.2.1" xref="A2.SS2.p2.7.m7.1.1.2.1.cmml">⁢</mo><msub id="A2.SS2.p2.7.m7.1.1.2.3" xref="A2.SS2.p2.7.m7.1.1.2.3.cmml"><mi id="A2.SS2.p2.7.m7.1.1.2.3.2" xref="A2.SS2.p2.7.m7.1.1.2.3.2.cmml">n</mi><mi id="A2.SS2.p2.7.m7.1.1.2.3.3" xref="A2.SS2.p2.7.m7.1.1.2.3.3.cmml">t</mi></msub></mrow><mo id="A2.SS2.p2.7.m7.1.1.1" xref="A2.SS2.p2.7.m7.1.1.1.cmml">=</mo><mrow id="A2.SS2.p2.7.m7.1.1.3" xref="A2.SS2.p2.7.m7.1.1.3.cmml"><mrow id="A2.SS2.p2.7.m7.1.1.3.2" xref="A2.SS2.p2.7.m7.1.1.3.2.cmml"><mi id="A2.SS2.p2.7.m7.1.1.3.2.2" xref="A2.SS2.p2.7.m7.1.1.3.2.2.cmml">p</mi><mo id="A2.SS2.p2.7.m7.1.1.3.2.1" xref="A2.SS2.p2.7.m7.1.1.3.2.1.cmml">⁢</mo><msub id="A2.SS2.p2.7.m7.1.1.3.2.3" xref="A2.SS2.p2.7.m7.1.1.3.2.3.cmml"><mi id="A2.SS2.p2.7.m7.1.1.3.2.3.2" xref="A2.SS2.p2.7.m7.1.1.3.2.3.2.cmml">n</mi><mi id="A2.SS2.p2.7.m7.1.1.3.2.3.3" xref="A2.SS2.p2.7.m7.1.1.3.2.3.3.cmml">t</mi></msub></mrow><mo id="A2.SS2.p2.7.m7.1.1.3.1" xref="A2.SS2.p2.7.m7.1.1.3.1.cmml">+</mo><mrow id="A2.SS2.p2.7.m7.1.1.3.3" xref="A2.SS2.p2.7.m7.1.1.3.3.cmml"><mi id="A2.SS2.p2.7.m7.1.1.3.3.2" xref="A2.SS2.p2.7.m7.1.1.3.3.2.cmml">p</mi><mo id="A2.SS2.p2.7.m7.1.1.3.3.1" xref="A2.SS2.p2.7.m7.1.1.3.3.1.cmml">⁢</mo><msub id="A2.SS2.p2.7.m7.1.1.3.3.3" xref="A2.SS2.p2.7.m7.1.1.3.3.3.cmml"><mi id="A2.SS2.p2.7.m7.1.1.3.3.3.2" xref="A2.SS2.p2.7.m7.1.1.3.3.3.2.cmml">n</mi><mi id="A2.SS2.p2.7.m7.1.1.3.3.3.3" xref="A2.SS2.p2.7.m7.1.1.3.3.3.3.cmml">e</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p2.7.m7.1b"><apply id="A2.SS2.p2.7.m7.1.1.cmml" xref="A2.SS2.p2.7.m7.1.1"><eq id="A2.SS2.p2.7.m7.1.1.1.cmml" xref="A2.SS2.p2.7.m7.1.1.1"></eq><apply id="A2.SS2.p2.7.m7.1.1.2.cmml" xref="A2.SS2.p2.7.m7.1.1.2"><times id="A2.SS2.p2.7.m7.1.1.2.1.cmml" xref="A2.SS2.p2.7.m7.1.1.2.1"></times><ci id="A2.SS2.p2.7.m7.1.1.2.2.cmml" xref="A2.SS2.p2.7.m7.1.1.2.2">𝑝</ci><apply id="A2.SS2.p2.7.m7.1.1.2.3.cmml" xref="A2.SS2.p2.7.m7.1.1.2.3"><csymbol cd="ambiguous" id="A2.SS2.p2.7.m7.1.1.2.3.1.cmml" xref="A2.SS2.p2.7.m7.1.1.2.3">subscript</csymbol><ci id="A2.SS2.p2.7.m7.1.1.2.3.2.cmml" xref="A2.SS2.p2.7.m7.1.1.2.3.2">𝑛</ci><ci id="A2.SS2.p2.7.m7.1.1.2.3.3.cmml" xref="A2.SS2.p2.7.m7.1.1.2.3.3">𝑡</ci></apply></apply><apply id="A2.SS2.p2.7.m7.1.1.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3"><plus id="A2.SS2.p2.7.m7.1.1.3.1.cmml" xref="A2.SS2.p2.7.m7.1.1.3.1"></plus><apply id="A2.SS2.p2.7.m7.1.1.3.2.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2"><times id="A2.SS2.p2.7.m7.1.1.3.2.1.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.1"></times><ci id="A2.SS2.p2.7.m7.1.1.3.2.2.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.2">𝑝</ci><apply id="A2.SS2.p2.7.m7.1.1.3.2.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.3"><csymbol cd="ambiguous" id="A2.SS2.p2.7.m7.1.1.3.2.3.1.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.3">subscript</csymbol><ci id="A2.SS2.p2.7.m7.1.1.3.2.3.2.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.3.2">𝑛</ci><ci id="A2.SS2.p2.7.m7.1.1.3.2.3.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3.2.3.3">𝑡</ci></apply></apply><apply id="A2.SS2.p2.7.m7.1.1.3.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3"><times id="A2.SS2.p2.7.m7.1.1.3.3.1.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.1"></times><ci id="A2.SS2.p2.7.m7.1.1.3.3.2.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.2">𝑝</ci><apply id="A2.SS2.p2.7.m7.1.1.3.3.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.SS2.p2.7.m7.1.1.3.3.3.1.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.3">subscript</csymbol><ci id="A2.SS2.p2.7.m7.1.1.3.3.3.2.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.3.2">𝑛</ci><ci id="A2.SS2.p2.7.m7.1.1.3.3.3.3.cmml" xref="A2.SS2.p2.7.m7.1.1.3.3.3.3">𝑒</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p2.7.m7.1c">pn_{t}=pn_{t}+pn_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p2.7.m7.1d">italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_p italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT + italic_p italic_n start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>. It results in the emotion-aligned generator’s inability to discern relationships between these entities and recommended items, leading to hallucinations.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Case study</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">In this section, we show two more cases extracted from the ReDial dataset. Tables <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.T11" title="Table 11 ‣ D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">11</span></a> and  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A3.T10" title="Table 10 ‣ Appendix C Case study ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">10</span></a> display the generation performance of all models. These tables revealed that a typical CRS, i.e., UniCRS, limited by the quality of the training data, generates a minimal number of emotional words, such as “good,” which results in weak emotional intensity and hardly creates an emotional connection with the users. Meanwhile, they struggle to generate movie-related information effectively, potentially degrading the user experience. Additionally, We find that GPT-3.5-turbo-instruct exhibits weaker performance in capturing and utilizing contextual keywords compared to GPT-3.5-turbo.</p>
</div>
<figure class="ltx_table" id="A3.T10">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 10. </span>Sampled case A extracted from ReDial dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A3.T10.3">
<tr class="ltx_tr" id="A3.T10.3.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A3.T10.3.1.1" rowspan="2"><span class="ltx_text" id="A3.T10.3.1.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A3.T10.3.1.1.1.1" style="width:6.1pt;height:16.3pt;vertical-align:-5.1pt;"><span class="ltx_transformed_inner" style="width:16.3pt;transform:translate(-5.08pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="A3.T10.3.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.1.1.1.1.1.1">Hist</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A3.T10.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.1.2.1">
<span class="ltx_p" id="A3.T10.3.1.2.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.1.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A3.T10.3.1.2.1.1.2" style="font-size:90%;">: What type of movies do you like to watch, please?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.2">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.2.1.1">
<span class="ltx_p" id="A3.T10.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.2.1.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A3.T10.3.2.1.1.1.2" style="font-size:90%;">: A little bit of everything, but I’d love suggestions for a good </span><em class="ltx_emph ltx_font_italic" id="A3.T10.3.2.1.1.1.3" style="font-size:90%;">romantic comedy</em><span class="ltx_text" id="A3.T10.3.2.1.1.1.4" style="font-size:90%;">. Maybe something like Love Stinks.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.3">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A3.T10.3.3.1" rowspan="30"><span class="ltx_text" id="A3.T10.3.3.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A3.T10.3.3.1.1.1" style="width:7.9pt;height:36.4pt;vertical-align:-16.0pt;"><span class="ltx_transformed_inner" style="width:36.5pt;transform:translate(-14.29pt,2.63pt) rotate(-90deg) ;">
<span class="ltx_p" id="A3.T10.3.3.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.3.1.1.1.1.1">Response</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.3.2.1">
<span class="ltx_p" id="A3.T10.3.3.2.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.3.2.1.1.1" style="font-size:90%;">Standard responses</span><span class="ltx_text" id="A3.T10.3.3.2.1.1.2" style="font-size:90%;">: Ok movies about love. </span><span class="ltx_text" id="A3.T10.3.3.2.1.1.3" style="font-size:90%;background-color:#BFFF00;">Fifty Shades Freed is very good</span><span class="ltx_text" id="A3.T10.3.3.2.1.1.4" style="font-size:90%;">, a hot movie. What do you think?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.4">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.4.1.1">
<span class="ltx_p" id="A3.T10.3.4.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.4.1.1.1.1" style="font-size:90%;">UniCRS</span><span class="ltx_text" id="A3.T10.3.4.1.1.1.2" style="font-size:90%;">: I haven’t seen that one. </span><span class="ltx_text" id="A3.T10.3.4.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I heard it was good.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.5">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.5.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.5.1.1">
<span class="ltx_p" id="A3.T10.3.5.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.5.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.5.1.1.1.1.1">Emo Int:</span>1; <span class="ltx_text ltx_font_bold" id="A3.T10.3.5.1.1.1.1.2">Emo Pers:</span>1; <span class="ltx_text ltx_font_bold" id="A3.T10.3.5.1.1.1.1.3">Log Pers:</span>1; <span class="ltx_text ltx_font_bold" id="A3.T10.3.5.1.1.1.1.4">Info:</span>1; <span class="ltx_text ltx_font_bold" id="A3.T10.3.5.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A3.T10.3.5.1.1.1.2" style="font-size:90%;">2;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.6">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.6.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.6.1.1">
<span class="ltx_p" id="A3.T10.3.6.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.6.1.1.1.1" style="font-size:90%;">GPT-3.5-turbo-instruct</span><span class="ltx_text" id="A3.T10.3.6.1.1.1.2" style="font-size:90%;">: </span><span class="ltx_text" id="A3.T10.3.6.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I would highly recommend The Proposal for a great <em class="ltx_emph ltx_font_italic" id="A3.T10.3.6.1.1.1.3.1">romantic comedy</em>. It has a great mix of humor and romance that I think you will really enjoy.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.7">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.7.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.7.1.1">
<span class="ltx_p" id="A3.T10.3.7.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.7.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.7.1.1.1.1.1">Emo Int:</span>2; <span class="ltx_text ltx_font_bold" id="A3.T10.3.7.1.1.1.1.2">Emo Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.7.1.1.1.1.3">Log Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.7.1.1.1.1.4">Info:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.7.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A3.T10.3.7.1.1.1.2" style="font-size:90%;">4;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.8">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.8.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.8.1.1">
<span class="ltx_p" id="A3.T10.3.8.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.8.1.1.1.1" style="font-size:90%;">GPT-3.5-turbo</span><span class="ltx_text" id="A3.T10.3.8.1.1.1.2" style="font-size:90%;">: I recommend checking out ”The Proposal” starring Sandra Bullock and Ryan Reynolds. </span><span class="ltx_text" id="A3.T10.3.8.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">It’s a delightful <em class="ltx_emph ltx_font_italic" id="A3.T10.3.8.1.1.1.3.1">romantic comedy</em> that you might enjoy!</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.9">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.9.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.9.1.1">
<span class="ltx_p" id="A3.T10.3.9.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.9.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.9.1.1.1.1.1">Emo Int:</span>2; <span class="ltx_text ltx_font_bold" id="A3.T10.3.9.1.1.1.1.2">Emo Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.9.1.1.1.1.3">Log Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.9.1.1.1.1.4">Info:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.9.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A3.T10.3.9.1.1.1.2" style="font-size:90%;">5;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.10">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.10.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.10.1.1">
<span class="ltx_p" id="A3.T10.3.10.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.10.1.1.1.1" style="font-size:90%;">Llama 2-7B-Chat</span><span class="ltx_text" id="A3.T10.3.10.1.1.1.2" style="font-size:90%;">: Of course, I’d be happy to help! </span><span class="ltx_text" id="A3.T10.3.10.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I think ”The Proposal” is a great choice for a <em class="ltx_emph ltx_font_italic" id="A3.T10.3.10.1.1.1.3.1">romantic comedy</em>.</span><span class="ltx_text" id="A3.T10.3.10.1.1.1.4" style="font-size:90%;"> It’s a funny and lighthearted movie that follows the story of a demanding boss (played by Sandra Bullock) and her assistant (played by Ryan Reynolds) who pretend to be in a relationship, but end up falling for each other. </span><span class="ltx_text" id="A3.T10.3.10.1.1.1.5" style="font-size:90%;background-color:#BFFF00;">I think you’ll find it to be a great watch!</span><span class="ltx_text" id="A3.T10.3.10.1.1.1.6" style="font-size:90%;"> Let me know if you have any other questions or if there’s anything else I can help you with.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.11">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.11.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.11.1.1">
<span class="ltx_p" id="A3.T10.3.11.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.11.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.11.1.1.1.1.1">Emo Int:</span>3; <span class="ltx_text ltx_font_bold" id="A3.T10.3.11.1.1.1.1.2">Emo Pers:</span>6; <span class="ltx_text ltx_font_bold" id="A3.T10.3.11.1.1.1.1.3">Log Pers:</span>6; <span class="ltx_text ltx_font_bold" id="A3.T10.3.11.1.1.1.1.4">Info:</span>7; <span class="ltx_text ltx_font_bold" id="A3.T10.3.11.1.1.1.1.5">Life:</span>7</em><span class="ltx_text" id="A3.T10.3.11.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.12">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.12.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.12.1.1">
<span class="ltx_p" id="A3.T10.3.12.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.12.1.1.1.1" style="font-size:90%;">ECR[DialoGPT]</span><span class="ltx_text" id="A3.T10.3.12.1.1.1.2" style="font-size:90%;">: How about The Proposal. </span><span class="ltx_text" id="A3.T10.3.12.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I saw this movie at the theater and I was blown away. Ryan Reynolds is a great actor. The movie is very <em class="ltx_emph ltx_font_italic" id="A3.T10.3.12.1.1.1.3.1">romantic</em> and I really enjoyed it. I think the movie is a good example of how Ryan Reynolds can make a movie that is funny and <em class="ltx_emph ltx_font_italic" id="A3.T10.3.12.1.1.1.3.2">romantic</em> without being sappy. I would recommend this movie to anyone.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.13">
<td class="ltx_td ltx_align_justify" id="A3.T10.3.13.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.13.1.1">
<span class="ltx_p" id="A3.T10.3.13.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.13.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.13.1.1.1.1.1">Emo Int:</span>4; <span class="ltx_text ltx_font_bold" id="A3.T10.3.13.1.1.1.1.2">Emo Pers:</span>5; <span class="ltx_text ltx_font_bold" id="A3.T10.3.13.1.1.1.1.3">Log Pers:</span>5; <span class="ltx_text ltx_font_bold" id="A3.T10.3.13.1.1.1.1.4">Info:</span>5; <span class="ltx_text ltx_font_bold" id="A3.T10.3.13.1.1.1.1.5">Life:</span>6</em><span class="ltx_text" id="A3.T10.3.13.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.14">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A3.T10.3.14.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.14.1.1">
<span class="ltx_p" id="A3.T10.3.14.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.3.14.1.1.1.1" style="font-size:90%;">ECR[Llama 2-Chat]</span><span class="ltx_text" id="A3.T10.3.14.1.1.1.2" style="font-size:90%;">: How about The Proposal. </span><span class="ltx_text" id="A3.T10.3.14.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I saw this movie on the weekend and it was absolutely hilarious! The cast was amazing and I loved the chemistry between Sandra Bullock and Ryan Reynolds. I loved how the movie didn’t follow the usual <em class="ltx_emph ltx_font_italic" id="A3.T10.3.14.1.1.1.3.1">romance</em> movie formula and was full of surprises. I was laughing out loud throughout the whole movie. I was a little disappointed with the ending, but it was still very good. The movie is full of great jokes and I would definitely recommend it to anyone looking for a good <em class="ltx_emph ltx_font_italic" id="A3.T10.3.14.1.1.1.3.2">comedy</em> movie.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.3.15">
<td class="ltx_td ltx_align_justify ltx_border_bb" id="A3.T10.3.15.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.3.15.1.1">
<span class="ltx_p" id="A3.T10.3.15.1.1.1"><em class="ltx_emph ltx_font_italic" id="A3.T10.3.15.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A3.T10.3.15.1.1.1.1.1">Emo Int:</span>7; <span class="ltx_text ltx_font_bold" id="A3.T10.3.15.1.1.1.1.2">Emo Pers:</span>8; <span class="ltx_text ltx_font_bold" id="A3.T10.3.15.1.1.1.1.3">Log Pers:</span>7; <span class="ltx_text ltx_font_bold" id="A3.T10.3.15.1.1.1.1.4">Info:</span>8; <span class="ltx_text ltx_font_bold" id="A3.T10.3.15.1.1.1.1.5">Life:</span>9</em><span class="ltx_text" id="A3.T10.3.15.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Discussion of evaluation metrics</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">In this work, we integrate empathy into CRS to accurately distinguish and fulfill user needs by capturing and expressing emotions.
To evaluate user satisfaction in the real-word CRS scenario, we propose novel emotion-enhanced evaluation metrics.</p>
</div>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1. </span>Evaluation metrics for recommendation</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">For the recommendation subtask, although there are incorrect item labels in the dataset, these errors can be corrected through user feedback. Therefore, we refine the traditional objective metrics by adopting Recall_True@<math alttext="n" class="ltx_Math" display="inline" id="A4.SS1.p1.1.m1.1"><semantics id="A4.SS1.p1.1.m1.1a"><mi id="A4.SS1.p1.1.m1.1.1" xref="A4.SS1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A4.SS1.p1.1.m1.1b"><ci id="A4.SS1.p1.1.m1.1.1.cmml" xref="A4.SS1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p1.1.m1.1d">italic_n</annotation></semantics></math> and AUC metrics to assess the model’s accuracy in modeling user preferences, as described in section 5.3 of the main paper. We view the advanced performance on the refined metrics as evidence of improving user satisfaction in recommendation.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2. </span>Evaluation metrics for generation</h3>
<div class="ltx_para" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.1">For the generation subtask, evaluating the emotional effect of responses on user satisfaction presents a significant challenge. Typically, previous CRS research relies on traditional objective metrics, which measure the similarity between outputs and standard answers from the dataset(e.g., ROUGE <cite class="ltx_cite ltx_citemacro_citep">(Lin, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib33" title="">2004</a>)</cite> and BLEU <cite class="ltx_cite ltx_citemacro_citep">(Papineni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib41" title="">2002</a>)</cite>). However, most CRS datasets, such as ReDial, contain limited utterances with emotions, resulting in standard answers inherently failing to meet the emotional needs of users and the previous evaluation metrics’ ineffectiveness in our scenario.
To assess user satisfaction in an open-ended task, the ideal evaluation involves naturalistic user studies, such as online A/B testing and deploying CRS in real-world settings to collect in-situ user feedback. Yet, the lack of well-established CRS applications and necessary computational resources makes such evaluation impractical.
To overcome these issues, we opt for two solutions: employing human annotations to simulate users in CRS environments and adopting LLM-based scorers to address the over-reliance on human annotations while taking advantage of the evolving capabilities of LLMs <cite class="ltx_cite ltx_citemacro_citep">(Gilardi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib14" title="">2023</a>; Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib17" title="">2023</a>; Zheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib56" title="">2023</a>)</cite>.</p>
</div>
<figure class="ltx_table" id="A4.T11">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 11. </span>Sampled case B extracted from ReDial dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T11.3">
<tr class="ltx_tr" id="A4.T11.3.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T11.3.1.1" rowspan="2"><span class="ltx_text" id="A4.T11.3.1.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A4.T11.3.1.1.1.1" style="width:6.1pt;height:16.3pt;vertical-align:-5.1pt;"><span class="ltx_transformed_inner" style="width:16.3pt;transform:translate(-5.08pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="A4.T11.3.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.1.1.1.1.1.1">Hist</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A4.T11.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.1.2.1">
<span class="ltx_p" id="A4.T11.3.1.2.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.1.2.1.1.1" style="font-size:90%;">Recommender</span><span class="ltx_text" id="A4.T11.3.1.2.1.1.2" style="font-size:90%;">: Hello, how is it going?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.2">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.2.1.1">
<span class="ltx_p" id="A4.T11.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.2.1.1.1.1" style="font-size:90%;">User</span><span class="ltx_text" id="A4.T11.3.2.1.1.1.2" style="font-size:90%;">: Hey I’m great. I love The </span><em class="ltx_emph ltx_font_italic" id="A4.T11.3.2.1.1.1.3" style="font-size:90%;">Silence of the Hams</em><span class="ltx_text" id="A4.T11.3.2.1.1.1.4" style="font-size:90%;">, what can you recommend?</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.3">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A4.T11.3.3.1" rowspan="24"><span class="ltx_text" id="A4.T11.3.3.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A4.T11.3.3.1.1.1" style="width:7.9pt;height:36.4pt;vertical-align:-16.0pt;"><span class="ltx_transformed_inner" style="width:36.5pt;transform:translate(-14.29pt,2.63pt) rotate(-90deg) ;">
<span class="ltx_p" id="A4.T11.3.3.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.3.1.1.1.1.1">Response</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.3.2.1">
<span class="ltx_p" id="A4.T11.3.3.2.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.3.2.1.1.1" style="font-size:90%;">Standard responses</span><span class="ltx_text" id="A4.T11.3.3.2.1.1.2" style="font-size:90%;">: Game Night.</span><span class="ltx_text" id="A4.T11.3.3.2.1.1.3" style="font-size:90%;background-color:#BFFF00;"> It’s super funny.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.4">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.4.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.4.1.1">
<span class="ltx_p" id="A4.T11.3.4.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.4.1.1.1.1" style="font-size:90%;">UniCRS</span><span class="ltx_text" id="A4.T11.3.4.1.1.1.2" style="font-size:90%;">: Black Panther (film) is </span><span class="ltx_text" id="A4.T11.3.4.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">another good one</span><span class="ltx_text" id="A4.T11.3.4.1.1.1.4" style="font-size:90%;">.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.5">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.5.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.5.1.1">
<span class="ltx_p" id="A4.T11.3.5.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.5.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.5.1.1.1.1.1">Emo Int:</span>0; <span class="ltx_text ltx_font_bold" id="A4.T11.3.5.1.1.1.1.2">Emo Pers:</span>0; <span class="ltx_text ltx_font_bold" id="A4.T11.3.5.1.1.1.1.3">Log Pers:</span>0; <span class="ltx_text ltx_font_bold" id="A4.T11.3.5.1.1.1.1.4">Info:</span>0; <span class="ltx_text ltx_font_bold" id="A4.T11.3.5.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A4.T11.3.5.1.1.1.2" style="font-size:90%;">1;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.6">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.6.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.6.1.1">
<span class="ltx_p" id="A4.T11.3.6.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.6.1.1.1.1" style="font-size:90%;">GPT-3.5-turbo-instruct</span><span class="ltx_text" id="A4.T11.3.6.1.1.1.2" style="font-size:90%;">: Sure, I would highly recommend Game Night. Its a hilarious movie that </span><span class="ltx_text" id="A4.T11.3.6.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">I think you would really enjoy</span><span class="ltx_text" id="A4.T11.3.6.1.1.1.4" style="font-size:90%;">.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.7">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.7.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.7.1.1">
<span class="ltx_p" id="A4.T11.3.7.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.7.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.7.1.1.1.1.1">Emo Int:</span>2; <span class="ltx_text ltx_font_bold" id="A4.T11.3.7.1.1.1.1.2">Emo Pers:</span>5; <span class="ltx_text ltx_font_bold" id="A4.T11.3.7.1.1.1.1.3">Log Pers:</span>3; <span class="ltx_text ltx_font_bold" id="A4.T11.3.7.1.1.1.1.4">Info:</span>4; <span class="ltx_text ltx_font_bold" id="A4.T11.3.7.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A4.T11.3.7.1.1.1.2" style="font-size:90%;">5;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.8">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.8.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.8.1.1">
<span class="ltx_p" id="A4.T11.3.8.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.8.1.1.1.1" style="font-size:90%;">GPT-3.5-turbo</span><span class="ltx_text" id="A4.T11.3.8.1.1.1.2" style="font-size:90%;">: If you enjoyed </span><em class="ltx_emph ltx_font_italic" id="A4.T11.3.8.1.1.1.3" style="font-size:90%;">”The Silence of the Hams,”</em><span class="ltx_text" id="A4.T11.3.8.1.1.1.4" style="font-size:90%;"> you might also like ”Game Night.” It’s a hilarious comedy with a mix of suspense and humor that you might find entertaining.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.9">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.9.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.9.1.1">
<span class="ltx_p" id="A4.T11.3.9.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.9.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.9.1.1.1.1.1">Emo Int:</span>2; <span class="ltx_text ltx_font_bold" id="A4.T11.3.9.1.1.1.1.2">Emo Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A4.T11.3.9.1.1.1.1.3">Log Pers:</span>4; <span class="ltx_text ltx_font_bold" id="A4.T11.3.9.1.1.1.1.4">Info:</span>5; <span class="ltx_text ltx_font_bold" id="A4.T11.3.9.1.1.1.1.5">Life:</span></em><span class="ltx_text" id="A4.T11.3.9.1.1.1.2" style="font-size:90%;">6;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.10">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.10.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.10.1.1">
<span class="ltx_p" id="A4.T11.3.10.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.10.1.1.1.1" style="font-size:90%;">Llama 2-7B-Chat</span><span class="ltx_text" id="A4.T11.3.10.1.1.1.2" style="font-size:90%;">: </span><span class="ltx_text" id="A4.T11.3.10.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">Of course! Game Night is a hilarious movie that you will definitely enjoy. It has a great cast,</span><span class="ltx_text" id="A4.T11.3.10.1.1.1.4" style="font-size:90%;"> including Jason Bateman and Rachel McAdams, and the plot is full of unexpected twists and turns. </span><span class="ltx_text" id="A4.T11.3.10.1.1.1.5" style="font-size:90%;background-color:#BFFF00;">I think you’ll find it to be a great choice for a fun night in.</span><span class="ltx_text" id="A4.T11.3.10.1.1.1.6" style="font-size:90%;"> Let me know if you have any other questions!</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.11">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.11.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.11.1.1">
<span class="ltx_p" id="A4.T11.3.11.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.11.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.11.1.1.1.1.1">Emo Int:</span>3; <span class="ltx_text ltx_font_bold" id="A4.T11.3.11.1.1.1.1.2">Emo Pers:</span>6; <span class="ltx_text ltx_font_bold" id="A4.T11.3.11.1.1.1.1.3">Log Pers:</span>6; <span class="ltx_text ltx_font_bold" id="A4.T11.3.11.1.1.1.1.4">Info:</span>7; <span class="ltx_text ltx_font_bold" id="A4.T11.3.11.1.1.1.1.5">Life:</span>8</em><span class="ltx_text" id="A4.T11.3.11.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.12">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.12.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.12.1.1">
<span class="ltx_p" id="A4.T11.3.12.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.12.1.1.1.1" style="font-size:90%;">ECR[DialoGPT]</span><span class="ltx_text" id="A4.T11.3.12.1.1.1.2" style="font-size:90%;">: </span><span class="ltx_text" id="A4.T11.3.12.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">Game Night is another good one. Absolutely loved this movie. I have watched it a few times and it never gets old. The cast is awesome. I love Rachel Mc Adams. I think she is the best actress in the movie. The movie is very funny. I would recommend this movie to anyone.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.13">
<td class="ltx_td ltx_align_justify" id="A4.T11.3.13.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.13.1.1">
<span class="ltx_p" id="A4.T11.3.13.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.13.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.13.1.1.1.1.1">Emo Int:</span>5; <span class="ltx_text ltx_font_bold" id="A4.T11.3.13.1.1.1.1.2">Emo Pers:</span>8; <span class="ltx_text ltx_font_bold" id="A4.T11.3.13.1.1.1.1.3">Log Pers:</span>5; <span class="ltx_text ltx_font_bold" id="A4.T11.3.13.1.1.1.1.4">Info:</span>7; <span class="ltx_text ltx_font_bold" id="A4.T11.3.13.1.1.1.1.5">Life:</span>7</em><span class="ltx_text" id="A4.T11.3.13.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.14">
<td class="ltx_td ltx_align_justify ltx_border_t" id="A4.T11.3.14.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.14.1.1">
<span class="ltx_p" id="A4.T11.3.14.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T11.3.14.1.1.1.1" style="font-size:90%;">ECR[Llama 2-Chat]</span><span class="ltx_text" id="A4.T11.3.14.1.1.1.2" style="font-size:90%;">: </span><span class="ltx_text" id="A4.T11.3.14.1.1.1.3" style="font-size:90%;background-color:#BFFF00;">Game Night is another good one. I really enjoyed this movie. I thought the acting was great. The chemistry between the two leads was really good. The jokes were well written and I laughed quite a bit. I thought the story was interesting and kept me engaged. I would recommend this movie to anyone looking for a funny movie to watch.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T11.3.15">
<td class="ltx_td ltx_align_justify ltx_border_bb" id="A4.T11.3.15.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T11.3.15.1.1">
<span class="ltx_p" id="A4.T11.3.15.1.1.1"><em class="ltx_emph ltx_font_italic" id="A4.T11.3.15.1.1.1.1" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="A4.T11.3.15.1.1.1.1.1">Emo Int:</span>4; <span class="ltx_text ltx_font_bold" id="A4.T11.3.15.1.1.1.1.2">Emo Pers:</span>7; <span class="ltx_text ltx_font_bold" id="A4.T11.3.15.1.1.1.1.3">Log Pers:</span>7; <span class="ltx_text ltx_font_bold" id="A4.T11.3.15.1.1.1.1.4">Info:</span>8; <span class="ltx_text ltx_font_bold" id="A4.T11.3.15.1.1.1.1.5">Life:</span>8</em><span class="ltx_text" id="A4.T11.3.15.1.1.1.2" style="font-size:90%;">;</span></span>
</span>
</td>
</tr>
</table>
</figure>
<section class="ltx_subsubsection" id="A4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.2.1. </span>Design of evaluation metrics</h4>
<div class="ltx_para" id="A4.SS2.SSS1.p1">
<p class="ltx_p" id="A4.SS2.SSS1.p1.1">In designing generation evaluation metrics, we focus on the practical experience of users, i.e., user satisfaction. However, user satisfaction is a complex and subjective concept encompassing various factors. Given the challenges associated with evaluating satisfaction directly, particularly for LLM-based scorers, we decompose user satisfaction into five subjective dimensions. This approach simplifies the scoring process and deepens our analysis of each dimension.
Specifically, we use “emotion intensity” to intuitively determine the models’ capability to express emotions <cite class="ltx_cite ltx_citemacro_citep">(Fu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib12" title="">2023</a>)</cite>. We also consider “persuasiveness” and “informativeness”—two pivotal subject evaluation metrics that are commonly used in many CRS works <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib48" title="">2023</a>; Ren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib43" title="">2022</a>)</cite>. According to <cite class="ltx_cite ltx_citemacro_citet">Mlodinow (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib39" title="">2022</a>)</cite>, logic and emotion are inextricably linked in our cognitive processes and are both crucial for human decision-making. We thus bifurcate “persuasiveness” into two dimensions, i.e., “emotional persuasiveness” and “logic persuasiveness”. Finally, recalling the insights of <cite class="ltx_cite ltx_citemacro_citet">Cominelli et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#bib.bib7" title="">2021</a>)</cite> that people tend to favor agents simulating human beings by exhibiting emotions, we introduce “lifelikeness,” i.e., the degree of responses resemblance to natural human communication, as a principal metric for evaluating the potential of responses in imporving user satisfaction.</p>
</div>
</section>
<section class="ltx_subsubsection" id="A4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.2.2. </span>Effectiveness of evaluation metrics</h4>
<div class="ltx_para" id="A4.SS2.SSS2.p1">
<p class="ltx_p" id="A4.SS2.SSS2.p1.1">To assess the effectiveness of our proposed metrics in measuring user satisfaction, we invited three human annotators to evaluate user satisfaction (Sat) with ten levels (0-9). These annotators played the role of users in the dialogue. We then asked them to label their satisfaction with responses from each model. The evaluation results are displayed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.T12" title="Table 12 ‣ D.2.2. Effectiveness of evaluation metrics ‣ D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">12</span></a>. We also kept other subjective evaluation metrics in the Tabel for comparison. It can be observed that ECR significantly outperforms all baselines in terms of user satisfaction. Meanwhile, the score distributions across different metrics are similar, which confirms the effectiveness of the evaluation system we designed in reflecting user satisfaction for response generation.</p>
</div>
<figure class="ltx_table" id="A4.T12">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 12. </span>Subjective evaluation of human annotators for response generation.
Boldface indicates the best result. Significant improvements over best baseline results are marked with * (t-test, <math alttext="p\textless 0.05)" class="ltx_math_unparsed" display="inline" id="A4.T12.2.m1.1"><semantics id="A4.T12.2.m1.1b"><mrow id="A4.T12.2.m1.1c"><mi id="A4.T12.2.m1.1.1">p</mi><mo id="A4.T12.2.m1.1.2">&lt;</mo><mn id="A4.T12.2.m1.1.3">0.05</mn><mo id="A4.T12.2.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="A4.T12.2.m1.1d">p\textless 0.05)</annotation><annotation encoding="application/x-llamapun" id="A4.T12.2.m1.1e">italic_p &lt; 0.05 )</annotation></semantics></math>.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="A4.T12.8" style="width:433.6pt;height:174pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(59.8pt,-24.0pt) scale(1.38101156959698,1.38101156959698) ;">
<table class="ltx_tabular ltx_align_middle" id="A4.T12.8.6">
<tr class="ltx_tr" id="A4.T12.8.6.7">
<td class="ltx_td ltx_border_tt" id="A4.T12.8.6.7.1" style="padding-left:2.8pt;padding-right:2.8pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T12.8.6.7.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.2.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.3.1" style="font-size:90%;">Emo Int</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.4.1" style="font-size:90%;">Emo Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.5.1" style="font-size:90%;">Log Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.6.1" style="font-size:90%;">Info</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.7.1" style="font-size:90%;">Life</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T12.8.6.7.8" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.7.8.1" style="font-size:90%;">Sat</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.8">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A4.T12.8.6.8.1" rowspan="6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A4.T12.8.6.8.1.1.1" style="width:6.1pt;height:70.3pt;vertical-align:-32.1pt;"><span class="ltx_transformed_inner" style="width:70.3pt;transform:translate(-32.06pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="A4.T12.8.6.8.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T12.8.6.8.1.1.1.1.1">Human annotator</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T12.8.6.8.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.2.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.3.1" style="font-size:90%;">0.947</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.4.1" style="font-size:90%;">0.775</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.5.1" style="font-size:90%;">1.158</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.6.1" style="font-size:90%;">0.380</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.7.1" style="font-size:90%;">1.805</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.8.8" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.8.8.1" style="font-size:90%;">0.833</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.9">
<td class="ltx_td ltx_align_left" id="A4.T12.8.6.9.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.1.1" style="font-size:90%;">GPT-3.5-turbo-instruct</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.2.1" style="font-size:90%;">2.048</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.3.1" style="font-size:90%;">2.555</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.4.1" style="font-size:90%;">3.265</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.5.1" style="font-size:90%;">1.822</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.6.1" style="font-size:90%;">3.648</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.9.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.9.7.1" style="font-size:90%;">3.417</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.10">
<td class="ltx_td ltx_align_left" id="A4.T12.8.6.10.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.1.1" style="font-size:90%;">GPT-3.5-turbo</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.2.1" style="font-size:90%;">2.890</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.3.1" style="font-size:90%;">3.678</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.4.1" style="font-size:90%;">5.323</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.5.1" style="font-size:90%;">3.233</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.6.1" style="font-size:90%;">5.125</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.10.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.10.7.1" style="font-size:90%;">4.640</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.11">
<td class="ltx_td ltx_align_left" id="A4.T12.8.6.11.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.1.1" style="font-size:90%;">Llama 2-7B-Chat</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.2.1" style="font-size:90%;">4.432</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.3.1" style="font-size:90%;">6.152</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.4.1" style="font-size:90%;">6.393</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.5.1" style="font-size:90%;">5.713</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.6.1" style="font-size:90%;">7.463</span></td>
<td class="ltx_td ltx_align_center" id="A4.T12.8.6.11.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.11.7.1" style="font-size:90%;">6.818</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.12">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T12.8.6.12.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.1.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.2.1" style="font-size:90%;">5.097</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.3.1" style="font-size:90%;">4.817</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.4.1" style="font-size:90%;">5.398</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.5.1" style="font-size:90%;">4.628</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.6.1" style="font-size:90%;">6.385</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T12.8.6.12.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.12.7.1" style="font-size:90%;">5.776</span></td>
</tr>
<tr class="ltx_tr" id="A4.T12.8.6.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T12.8.6.6.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T12.8.6.6.7.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.3.1.1.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.3.1.1.1.1" style="font-size:90%;">7.130<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.3.1.1.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.3.1.1.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.4.2.2.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.4.2.2.2.1" style="font-size:90%;">7.575<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.4.2.2.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.4.2.2.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.5.3.3.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.5.3.3.3.1" style="font-size:90%;">7.403<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.5.3.3.3.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.5.3.3.3.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.6.4.4.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.6.4.4.4.1" style="font-size:90%;">7.172<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.6.4.4.4.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.6.4.4.4.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.7.5.5.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.7.5.5.5.1" style="font-size:90%;">8.468<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.7.5.5.5.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.7.5.5.5.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T12.8.6.6.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T12.8.6.6.6.1" style="font-size:90%;">7.730<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T12.8.6.6.6.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T12.8.6.6.6.1.1.1">∗</sup></span></span></td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="A4.SS2.SSS2.p2">
<p class="ltx_p" id="A4.SS2.SSS2.p2.1">Similarly to section 5.6 of the main paper, we further calculate the Cohen kappa between user satisfaction and the five subjective metrics we designed, with results presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.T13" title="Table 13 ‣ D.2.2. Effectiveness of evaluation metrics ‣ D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">13</span></a>.
We find a low kappa score between emotion intensity and user satisfaction, suggesting that excessive emotional expression may offend users, whereas only appropriate emotional intensity contributes to user satisfaction. Additionally, logic persuasiveness shows a substantial consistency with user satisfaction, while emotional persuasiveness, informativeness, and lifelikeness achieve near-perfect consistency, particularly lifelikeness, which correlates highly with user satisfaction. These findings provide further evidence of the effectiveness of our evaluation system. Meanwhile, they reinforce our hypothesis that adopting emotion-rich and human-like expressions in response enhances user experience and satisfaction.</p>
</div>
<figure class="ltx_table" id="A4.T13">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 13. </span>Cohen kappa between user satisfaction and subjective metrics we designed for response generation. </figcaption>
<table class="ltx_tabular ltx_align_middle" id="A4.T13.1">
<tr class="ltx_tr" id="A4.T13.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T13.1.1.1" style="padding:1pt 3.5pt;">Emo Int</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T13.1.1.2" style="padding:1pt 3.5pt;">Emo Pers</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T13.1.1.3" style="padding:1pt 3.5pt;">Log Pers</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T13.1.1.4" style="padding:1pt 3.5pt;">Info</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T13.1.1.5" style="padding:1pt 3.5pt;">Life</td>
</tr>
<tr class="ltx_tr" id="A4.T13.1.2">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T13.1.2.1" style="padding:1pt 3.5pt;">0.573</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T13.1.2.2" style="padding:1pt 3.5pt;">0.836</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T13.1.2.3" style="padding:1pt 3.5pt;">0.654</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T13.1.2.4" style="padding:1pt 3.5pt;">0.840</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T13.1.2.5" style="padding:1pt 3.5pt;">0.861</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A4.T14">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 14. </span>Subjective evaluation of LLM-based scorer (GPT-4) for response generation.
Boldface indicates the best result. Significant improvements over best baseline results are marked with * (t-test, <math alttext="p\textless 0.05)" class="ltx_math_unparsed" display="inline" id="A4.T14.2.m1.1"><semantics id="A4.T14.2.m1.1b"><mrow id="A4.T14.2.m1.1c"><mi id="A4.T14.2.m1.1.1">p</mi><mo id="A4.T14.2.m1.1.2">&lt;</mo><mn id="A4.T14.2.m1.1.3">0.05</mn><mo id="A4.T14.2.m1.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="A4.T14.2.m1.1d">p\textless 0.05)</annotation><annotation encoding="application/x-llamapun" id="A4.T14.2.m1.1e">italic_p &lt; 0.05 )</annotation></semantics></math>.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="A4.T14.6" style="width:433.6pt;height:199.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(79.7pt,-36.6pt) scale(1.58120360058152,1.58120360058152) ;">
<table class="ltx_tabular ltx_align_middle" id="A4.T14.6.4">
<tr class="ltx_tr" id="A4.T14.6.4.5">
<td class="ltx_td ltx_border_tt" id="A4.T14.6.4.5.1" style="padding-left:2.8pt;padding-right:2.8pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T14.6.4.5.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.2.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T14.6.4.5.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.3.1" style="font-size:90%;">Emo Int</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T14.6.4.5.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.4.1" style="font-size:90%;">Emo Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T14.6.4.5.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.5.1" style="font-size:90%;">Log Pers</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T14.6.4.5.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.6.1" style="font-size:90%;">Info</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T14.6.4.5.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.5.7.1" style="font-size:90%;">Life</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.6">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A4.T14.6.4.6.1" rowspan="6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.1.1" style="font-size:90%;">
<span class="ltx_inline-block ltx_transformed_outer" id="A4.T14.6.4.6.1.1.1" style="width:6.3pt;height:65pt;vertical-align:-29.4pt;"><span class="ltx_transformed_inner" style="width:65.0pt;transform:translate(-29.39pt,0pt) rotate(-90deg) ;">
<span class="ltx_p" id="A4.T14.6.4.6.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T14.6.4.6.1.1.1.1.1">LM-based scorer</span></span>
</span></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T14.6.4.6.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.2.1" style="font-size:90%;">UniCRS</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.6.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.3.1" style="font-size:90%;">0.785</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.6.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.4.1" style="font-size:90%;">0.795</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.6.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.5.1" style="font-size:90%;">1.050</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.6.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.6.1" style="font-size:90%;">1.005</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.6.7" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.6.7.1" style="font-size:90%;">1.705</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.7">
<td class="ltx_td ltx_align_left" id="A4.T14.6.4.7.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.1.1" style="font-size:90%;">text-davinci-003</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.7.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.2.1" style="font-size:90%;">2.315</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.7.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.3.1" style="font-size:90%;">3.460</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.7.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.4.1" style="font-size:90%;">4.110</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.7.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.5.1" style="font-size:90%;">3.980</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.7.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.7.6.1" style="font-size:90%;">4.670</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.8">
<td class="ltx_td ltx_align_left" id="A4.T14.6.4.8.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.1.1" style="font-size:90%;">GPT-3.5-turbo</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.8.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.2.1" style="font-size:90%;">3.845</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.8.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.3.1" style="font-size:90%;">5.415</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.8.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.4.1" style="font-size:90%;">6.455</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.8.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.5.1" style="font-size:90%;">6.210</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.8.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.8.6.1" style="font-size:90%;">6.570</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.9">
<td class="ltx_td ltx_align_left" id="A4.T14.6.4.9.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.9.1.1" style="font-size:90%;">Llama 2-7B-Chat</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.9.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.9.2.1" style="font-size:90%;">4.265</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.9.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.9.3.1" style="font-size:90%;">6.840</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.9.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T14.6.4.9.4.1" style="font-size:90%;">7.530</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.9.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.9.5.1" style="font-size:90%;">7.630</span></td>
<td class="ltx_td ltx_align_center" id="A4.T14.6.4.9.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.9.6.1" style="font-size:90%;">7.735</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.10">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T14.6.4.10.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.1.1" style="font-size:90%;">ECR[DialoGPT]</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.10.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.2.1" style="font-size:90%;">4.695</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.10.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.3.1" style="font-size:90%;">5.570</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.10.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.4.1" style="font-size:90%;">5.750</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.10.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.5.1" style="font-size:90%;">6.315</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T14.6.4.10.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.10.6.1" style="font-size:90%;">6.230</span></td>
</tr>
<tr class="ltx_tr" id="A4.T14.6.4.4">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T14.6.4.4.5" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.4.5.1" style="font-size:90%;">ECR[Llama 2-Chat]</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T14.3.1.1.1" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T14.3.1.1.1.1" style="font-size:90%;">6.800<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T14.3.1.1.1.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T14.3.1.1.1.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T14.4.2.2.2" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T14.4.2.2.2.1" style="font-size:90%;">7.575<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T14.4.2.2.2.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T14.4.2.2.2.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T14.6.4.4.6" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text" id="A4.T14.6.4.4.6.1" style="font-size:90%;">7.405</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T14.5.3.3.3" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T14.5.3.3.3.1" style="font-size:90%;">8.330<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T14.5.3.3.3.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T14.5.3.3.3.1.1.1">∗</sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T14.6.4.4.4" style="padding-left:2.8pt;padding-right:2.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T14.6.4.4.4.1" style="font-size:90%;">8.090<span class="ltx_text ltx_font_medium ltx_inline-block" id="A4.T14.6.4.4.4.1.1" style="width:0.0pt;"><sup class="ltx_sup" id="A4.T14.6.4.4.4.1.1.1">∗</sup></span></span></td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="A4.SS2.SSS2.p3">
<p class="ltx_p" id="A4.SS2.SSS2.p3.1">We also evaluated with GPT-4 as an LLM-based scorer to enhance the robustness of employing LLM-based scorers. We sampled 200 examples for GPT-4 and used text-davinci-003 as the baseline rather than GPT-3.5-turbo-instruct. The subjective evaluation results of response generation, presented in Table  <a class="ltx_ref" href="https://arxiv.org/html/2409.10527v1#A4.T14" title="Table 14 ‣ D.2.2. Effectiveness of evaluation metrics ‣ D.2. Evaluation metrics for generation ‣ Appendix D Discussion of evaluation metrics ‣ Towards Empathetic Conversational Recommender Systems"><span class="ltx_text ltx_ref_tag">14</span></a>, demonstrate that GPT-4’s scoring results closely mirror that of GPT-4-turbo. ECR significantly outperforms the baselines.</p>
</div>
</section>
</section>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Prompts</h2>
<section class="ltx_subsection" id="A5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.1. </span>Prompts for Baselines</h3>
<div class="ltx_para" id="A5.SS1.p1">
<p class="ltx_p" id="A5.SS1.p1.1">We use the following prompts for baselines in
section 5.2 of the main paper. [HISTORY] refers to the dialogue history between the user and recommender. [ITEM] refers to the item predicted by the item recommendation module of ECR.</p>
</div>
<div class="ltx_para" id="A5.SS1.p2">
<ul class="ltx_itemize" id="A5.I1">
<li class="ltx_item" id="A5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I1.i1.p1">
<p class="ltx_p" id="A5.I1.i1.p1.2">GPT-3.5-turbo-instruct and GPT-3.5-turbo:</p>
<div class="ltx_logical-block" id="A5.I1.i1.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I1.i1.p1.1.p1">
<svg class="ltx_picture" height="119.02" id="A5.I1.i1.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,119.02) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 113.7 C 0 116.64 2.38 119.02 5.32 119.02 L 289.95 119.02 C 292.89 119.02 295.28 116.64 295.28 113.7 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 113.7 C 1.38 115.87 3.15 117.64 5.32 117.64 L 289.95 117.64 C 292.13 117.64 293.89 115.87 293.89 113.7 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="92.63" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I1.i1.p1.1.p1.pic1.1.1.1.1.1" style="width:182.9pt;">
<span class="ltx_p" id="A5.I1.i1.p1.1.p1.pic1.1.1.1.1.1.1">[HISTORY]</span>
<span class="ltx_p" id="A5.I1.i1.p1.1.p1.pic1.1.1.1.1.1.2">You are the recommender in the above conversation chatting with the user. Generate a response to provide recommendations. Please only recommend the movie [ITEM] and don’t mention other movies.</span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
<li class="ltx_item" id="A5.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I1.i2.p1">
<p class="ltx_p" id="A5.I1.i2.p1.2">Llama 2-7B-Chat</p>
<div class="ltx_logical-block" id="A5.I1.i2.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I1.i2.p1.1.p1">
<svg class="ltx_picture" height="102.42" id="A5.I1.i2.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,102.42) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 97.1 C 0 100.03 2.38 102.42 5.32 102.42 L 289.95 102.42 C 292.89 102.42 295.28 100.03 295.28 97.1 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 97.1 C 1.38 99.27 3.15 101.03 5.32 101.03 L 289.95 101.03 C 292.13 101.03 293.89 99.27 293.89 97.1 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="76.03" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I1.i2.p1.1.p1.pic1.1.1.1.1.1" style="width:182.9pt;">
<span class="ltx_p" id="A5.I1.i2.p1.1.p1.pic1.1.1.1.1.1.1">[HISTORY]</span>
<span class="ltx_p" id="A5.I1.i2.p1.1.p1.pic1.1.1.1.1.1.2">You are a recommender chatting with the user to provide recommendations. Please only recommend the movie [ITEM] and don’t mention other movies.</span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="A5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.2. </span>Prompts for the LLM-based scorer</h3>
<div class="ltx_para" id="A5.SS2.p1">
<p class="ltx_p" id="A5.SS2.p1.1">We use the following prompts for LLM-based scorers (GPT-4-turbo and GPT-4) to score on the five subjective metrics in section 5.3 of the main paper.
[MODELS: RESPS] represents the full set of model names and their response pairs. For fairness, actual model names have been replaced with pseudonyms.</p>
</div>
<div class="ltx_para" id="A5.SS2.p2">
<ul class="ltx_itemize" id="A5.I2">
<li class="ltx_item" id="A5.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I2.i1.p1">
<p class="ltx_p" id="A5.I2.i1.p1.2">Emotional Intensity</p>
<div class="ltx_logical-block" id="A5.I2.i1.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I2.i1.p1.1.p1">
<svg class="ltx_picture" height="222.87" id="A5.I2.i1.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,222.87) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 217.55 C 0 220.49 2.38 222.87 5.32 222.87 L 289.95 222.87 C 292.89 222.87 295.28 220.49 295.28 217.55 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 217.55 C 1.38 219.73 3.15 221.49 5.32 221.49 L 289.95 221.49 C 292.13 221.49 293.89 219.73 293.89 217.55 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="196.49" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2" style="width:182.9pt;">
<span class="ltx_p" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.3">We have six responses to a given scenario. Please evaluate and score each response based on its “Emotional Intensity”. Emotional Intensity refers to the strength and depth of emotions conveyed in a response, reflecting how powerfully it communicates feelings or emotional states. The score should be on a scale from 0 to 9, where 0 is the least emotional intensity and 9 is the most. Only answer the score in the form of “response name: score.”</span>
<span class="ltx_p" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"><math alttext="[" class="ltx_Math" display="inline" id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i1.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>MODELS: RESPS<math alttext="]" class="ltx_Math" display="inline" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i1.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
<li class="ltx_item" id="A5.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I2.i2.p1">
<p class="ltx_p" id="A5.I2.i2.p1.2">Emotional Persuasiveness</p>
<div class="ltx_logical-block" id="A5.I2.i2.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I2.i2.p1.1.p1">
<svg class="ltx_picture" height="222.87" id="A5.I2.i2.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,222.87) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 217.55 C 0 220.49 2.38 222.87 5.32 222.87 L 289.95 222.87 C 292.89 222.87 295.28 220.49 295.28 217.55 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 217.55 C 1.38 219.73 3.15 221.49 5.32 221.49 L 289.95 221.49 C 292.13 221.49 293.89 219.73 293.89 217.55 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="196.49" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2" style="width:182.9pt;">
<span class="ltx_p" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.3">We have six responses to a given scenario. Please evaluate and score each response based on its “Emotional Persuasiveness.” Emotional Persuasiveness refers to the ability of the response to connect with the user on an emotional level, influencing their feelings effectively. The score should be on a scale from 0 to 9, where 0 is the least emotional persuasiveness and 9 is the most. Only answer the score in the form of “response name: score.”</span>
<span class="ltx_p" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"><math alttext="[" class="ltx_Math" display="inline" id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i2.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>MODELS: RESPS<math alttext="]" class="ltx_Math" display="inline" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i2.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
<li class="ltx_item" id="A5.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I2.i3.p1">
<p class="ltx_p" id="A5.I2.i3.p1.2">Logic Persuasiveness</p>
<div class="ltx_logical-block" id="A5.I2.i3.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I2.i3.p1.1.p1">
<svg class="ltx_picture" height="222.87" id="A5.I2.i3.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,222.87) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 217.55 C 0 220.49 2.38 222.87 5.32 222.87 L 289.95 222.87 C 292.89 222.87 295.28 220.49 295.28 217.55 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 217.55 C 1.38 219.73 3.15 221.49 5.32 221.49 L 289.95 221.49 C 292.13 221.49 293.89 219.73 293.89 217.55 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="196.49" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2" style="width:182.9pt;">
<span class="ltx_p" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.3">We have six responses to a given scenario. Please evaluate and score each response based on its “Logic Persuasiveness.” Logic Persuasiveness refers to how well the response uses logical reasoning and coherent arguments to convincingly address the given scenario. The score should be on a scale from 0 to 9, where 0 is the least logic persuasiveness and 9 is the most. Only answer the score in the form of “response name: score.”</span>
<span class="ltx_p" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"><math alttext="[" class="ltx_Math" display="inline" id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i3.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>MODELS: RESPS<math alttext="]" class="ltx_Math" display="inline" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i3.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
<li class="ltx_item" id="A5.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I2.i4.p1">
<p class="ltx_p" id="A5.I2.i4.p1.2">Informativeness</p>
<div class="ltx_logical-block" id="A5.I2.i4.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I2.i4.p1.1.p1">
<svg class="ltx_picture" height="189.67" id="A5.I2.i4.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,189.67) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 184.35 C 0 187.28 2.38 189.67 5.32 189.67 L 289.95 189.67 C 292.89 189.67 295.28 187.28 295.28 184.35 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 184.35 C 1.38 186.52 3.15 188.28 5.32 188.28 L 289.95 188.28 C 292.13 188.28 293.89 186.52 293.89 184.35 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="163.28" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2" style="width:182.9pt;">
<span class="ltx_p" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.3">We have six responses to a given scenario. Please evaluate and score each response based on its “Informativeness.” Informativeness refers to how much relevant and useful information the response provides. The score should be on a scale from 0 to 9, where 0 is the least informativeness and 9 is the most. Only answer the score number in the form of “response name: score.”</span>
<span class="ltx_p" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"><math alttext="[" class="ltx_Math" display="inline" id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i4.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>MODELS: RESPS<math alttext="]" class="ltx_Math" display="inline" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i4.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
<li class="ltx_item" id="A5.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I2.i5.p1">
<p class="ltx_p" id="A5.I2.i5.p1.2">Lifelikeness</p>
<div class="ltx_logical-block" id="A5.I2.i5.p1.1">
<div class="ltx_para ltx_noindent ltx_align_center" id="A5.I2.i5.p1.1.p1">
<svg class="ltx_picture" height="206.27" id="A5.I2.i5.p1.1.p1.pic1" overflow="visible" version="1.1" width="295.28"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,206.27) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.32 L 0 200.95 C 0 203.89 2.38 206.27 5.32 206.27 L 289.95 206.27 C 292.89 206.27 295.28 203.89 295.28 200.95 L 295.28 5.32 C 295.28 2.38 292.89 0 289.95 0 L 5.32 0 C 2.38 0 0 2.38 0 5.32 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.38 5.32 L 1.38 200.95 C 1.38 203.12 3.15 204.89 5.32 204.89 L 289.95 204.89 C 292.13 204.89 293.89 203.12 293.89 200.95 L 293.89 5.32 C 293.89 3.15 292.13 1.38 289.95 1.38 L 5.32 1.38 C 3.15 1.38 1.38 3.15 1.38 5.32 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.07 13.19)"><foreignobject color="#000000" height="179.88" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="253.14">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2" style="width:182.9pt;">
<span class="ltx_p" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.3">We have six responses to a given scenario. Please evaluate and score each response based on its “Lifelikeness.” Lifelikeness refers to how vivid and engaging the responses are, indicating the extent to which they resemble natural human communication. The score should be on a scale from 0 to 9, where 0 is the least lifelikeness and 9 is the most. Only answer the score in the form of “response name: score.”</span>
<span class="ltx_p" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"><math alttext="[" class="ltx_Math" display="inline" id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mo id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" stretchy="false" xref="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">[</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">[</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">[</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i5.p1.1.p1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">[</annotation></semantics></math>MODELS: RESPS<math alttext="]" class="ltx_Math" display="inline" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1"><semantics id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1a"><mo id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1" stretchy="false" xref="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml">]</mo><annotation-xml encoding="MathML-Content" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1b"><ci id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1.1">]</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1c">]</annotation><annotation encoding="application/x-llamapun" id="A5.I2.i5.p1.1.p1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.m2.1d">]</annotation></semantics></math></span>
</span></foreignobject></g></g></svg>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug 30 15:44:10 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
